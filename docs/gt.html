<!DOCTYPE html><html><head><title>Help for package gt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gt}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gt-package'><p>gt: Easily Create Presentation-Ready Display Tables</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#adjust_luminance'><p>Adjust the luminance for a palette of colors</p></a></li>
<li><a href='#as_gtable'><p>Transform a <strong>gt</strong> table to a <code>gtable</code> object</p></a></li>
<li><a href='#as_latex'><p>Output a <strong>gt</strong> object as LaTeX</p></a></li>
<li><a href='#as_raw_html'><p>Get the HTML content of a <strong>gt</strong> table</p></a></li>
<li><a href='#as_rtf'><p>Output a <strong>gt</strong> object as RTF</p></a></li>
<li><a href='#as_word'><p>Output a <strong>gt</strong> object as Word</p></a></li>
<li><a href='#as.data.frame.gt_tbl'><p>Transform a <strong>gt</strong> object to a data frame</p></a></li>
<li><a href='#cell_borders'><p>Helper for defining custom borders for table cells</p></a></li>
<li><a href='#cell_fill'><p>Helper for defining custom fills for table cells</p></a></li>
<li><a href='#cell_text'><p>Helper for defining custom text styles for table cells</p></a></li>
<li><a href='#cells_body'><p>Location helper for targeting data cells in the table body</p></a></li>
<li><a href='#cells_column_labels'><p>Location helper for targeting the column labels</p></a></li>
<li><a href='#cells_column_spanners'><p>Location helper for targeting the column spanners</p></a></li>
<li><a href='#cells_footnotes'><p>Location helper for targeting the footnotes</p></a></li>
<li><a href='#cells_grand_summary'><p>Location helper for targeting cells in a grand summary</p></a></li>
<li><a href='#cells_group'><p>Location helper for targeting row groups (deprecated)</p></a></li>
<li><a href='#cells_row_groups'><p>Location helper for targeting row groups</p></a></li>
<li><a href='#cells_source_notes'><p>Location helper for targeting the source notes</p></a></li>
<li><a href='#cells_stub'><p>Location helper for targeting cells in the table stub</p></a></li>
<li><a href='#cells_stub_grand_summary'><p>Location helper for targeting the stub cells in a grand summary</p></a></li>
<li><a href='#cells_stub_summary'><p>Location helper for targeting the stub cells in a summary</p></a></li>
<li><a href='#cells_stubhead'><p>Location helper for targeting the table stubhead cell</p></a></li>
<li><a href='#cells_summary'><p>Location helper for targeting group summary cells</p></a></li>
<li><a href='#cells_title'><p>Location helper for targeting the table title and subtitle</p></a></li>
<li><a href='#cols_add'><p>Add one or more columns to a <strong>gt</strong> table</p></a></li>
<li><a href='#cols_align'><p>Set the alignment of columns</p></a></li>
<li><a href='#cols_align_decimal'><p>Align all numeric values in a column along the decimal mark</p></a></li>
<li><a href='#cols_hide'><p>Hide one or more columns</p></a></li>
<li><a href='#cols_label'><p>Relabel one or more columns</p></a></li>
<li><a href='#cols_label_with'><p>Relabel columns with a function</p></a></li>
<li><a href='#cols_merge'><p>Merge data from two or more columns to a single column</p></a></li>
<li><a href='#cols_merge_n_pct'><p>Merge two columns to combine counts and percentages</p></a></li>
<li><a href='#cols_merge_range'><p>Merge two columns to a value range column</p></a></li>
<li><a href='#cols_merge_uncert'><p>Merge columns to a value-with-uncertainty column</p></a></li>
<li><a href='#cols_move'><p>Move one or more columns</p></a></li>
<li><a href='#cols_move_to_end'><p>Move one or more columns to the end</p></a></li>
<li><a href='#cols_move_to_start'><p>Move one or more columns to the start</p></a></li>
<li><a href='#cols_nanoplot'><p>Add a new column of nanoplots, taking input data from selected columns</p></a></li>
<li><a href='#cols_unhide'><p>Unhide one or more columns</p></a></li>
<li><a href='#cols_units'><p>Define units for one or more columns</p></a></li>
<li><a href='#cols_width'><p>Set the widths of columns</p></a></li>
<li><a href='#constants'><p>The fundamental physical constants</p></a></li>
<li><a href='#countrypops'><p>Yearly populations of countries from 1960 to 2022</p></a></li>
<li><a href='#currency'><p>Supply a custom currency symbol to <code>fmt_currency()</code></p></a></li>
<li><a href='#data_color'><p>Perform data cell colorization</p></a></li>
<li><a href='#default_fonts'><p>Provide a vector of sensible system fonts for use with <strong>gt</strong> tables</p></a></li>
<li><a href='#escape_latex'><p>Perform LaTeX escaping</p></a></li>
<li><a href='#exibble'><p>A toy example tibble for testing with gt: exibble</p></a></li>
<li><a href='#extract_body'><p>Extract the table body from a <strong>gt</strong> object</p></a></li>
<li><a href='#extract_cells'><p>Extract a vector of formatted cells from a <strong>gt</strong> object</p></a></li>
<li><a href='#extract_summary'><p>Extract a summary list from a <strong>gt</strong> object</p></a></li>
<li><a href='#films'><p>Feature films in competition at the Cannes Film Festival</p></a></li>
<li><a href='#fmt'><p>Set a column format with a formatter function</p></a></li>
<li><a href='#fmt_auto'><p>Automatically format column data according to their values</p></a></li>
<li><a href='#fmt_bins'><p>Format column data containing bin/interval information</p></a></li>
<li><a href='#fmt_bytes'><p>Format values as bytes</p></a></li>
<li><a href='#fmt_chem'><p>Format chemical formulas</p></a></li>
<li><a href='#fmt_country'><p>Generate country names from their corresponding country codes</p></a></li>
<li><a href='#fmt_currency'><p>Format values as currencies</p></a></li>
<li><a href='#fmt_date'><p>Format values as dates</p></a></li>
<li><a href='#fmt_datetime'><p>Format values as datetimes</p></a></li>
<li><a href='#fmt_duration'><p>Format numeric or duration values as styled time duration strings</p></a></li>
<li><a href='#fmt_email'><p>Format email addresses to generate 'mailto:' links</p></a></li>
<li><a href='#fmt_engineering'><p>Format values to engineering notation</p></a></li>
<li><a href='#fmt_flag'><p>Generate flag icons for countries from their country codes</p></a></li>
<li><a href='#fmt_fraction'><p>Format values as mixed fractions</p></a></li>
<li><a href='#fmt_icon'><p>Use icons within a table's body cells</p></a></li>
<li><a href='#fmt_image'><p>Format image paths to generate images in cells</p></a></li>
<li><a href='#fmt_index'><p>Format values to indexed characters</p></a></li>
<li><a href='#fmt_integer'><p>Format values as integers</p></a></li>
<li><a href='#fmt_markdown'><p>Format Markdown text</p></a></li>
<li><a href='#fmt_missing'><p>Format missing values (deprecated)</p></a></li>
<li><a href='#fmt_number'><p>Format numeric values</p></a></li>
<li><a href='#fmt_partsper'><p>Format values as parts-per quantities</p></a></li>
<li><a href='#fmt_passthrough'><p>Format by simply passing data through</p></a></li>
<li><a href='#fmt_percent'><p>Format values as a percentage</p></a></li>
<li><a href='#fmt_roman'><p>Format values as Roman numerals</p></a></li>
<li><a href='#fmt_scientific'><p>Format values to scientific notation</p></a></li>
<li><a href='#fmt_spelled_num'><p>Format values to spelled-out numbers</p></a></li>
<li><a href='#fmt_tf'><p>Format <code>TRUE</code> and <code>FALSE</code> values</p></a></li>
<li><a href='#fmt_time'><p>Format values as times</p></a></li>
<li><a href='#fmt_units'><p>Format measurement units</p></a></li>
<li><a href='#fmt_url'><p>Format URLs to generate links</p></a></li>
<li><a href='#from_column'><p>Reference a column of values for certain parameters</p></a></li>
<li><a href='#ggplot_image'><p>Helper function for adding a ggplot</p></a></li>
<li><a href='#gibraltar'><p>Weather conditions in Gibraltar, May 2023</p></a></li>
<li><a href='#google_font'><p>Helper function for specifying a font from the <em>Google Fonts</em> service</p></a></li>
<li><a href='#grand_summary_rows'><p>Add grand summary rows using aggregation functions</p></a></li>
<li><a href='#grp_add'><p>Add one or more <strong>gt</strong> tables to a <code>gt_group</code> container object</p></a></li>
<li><a href='#grp_clone'><p>Clone one or more <strong>gt</strong> tables in a <code>gt_group</code> container object</p></a></li>
<li><a href='#grp_options'><p>Modify table options for all tables within a <code>gt_group</code> object</p></a></li>
<li><a href='#grp_pull'><p>Pull out a <strong>gt</strong> table from a <code>gt_group</code> container object</p></a></li>
<li><a href='#grp_replace'><p>Replace one or more <strong>gt</strong> tables in a <code>gt_group</code> container object</p></a></li>
<li><a href='#grp_rm'><p>Remove one or more <strong>gt</strong> tables from a <code>gt_group</code> container object</p></a></li>
<li><a href='#gt'><p>Create a <strong>gt</strong> table object</p></a></li>
<li><a href='#gt_group'><p>Create a <code>gt_group</code> container for holding multiple <strong>gt</strong> table objects</p></a></li>
<li><a href='#gt_latex_dependencies'><p>Get the LaTeX dependencies required for a <strong>gt</strong> table</p></a></li>
<li><a href='#gt_output'><p>Create a <strong>gt</strong> display table output element for Shiny</p></a></li>
<li><a href='#gt_preview'><p>Generate a special <strong>gt</strong> table for previewing a dataset</p></a></li>
<li><a href='#gt_split'><p>Split a table into a group of tables (a <code>gt_group</code>)</p></a></li>
<li><a href='#gt-options'><p><strong>gt</strong> package options</p></a></li>
<li><a href='#gtcars'><p>Deluxe automobiles from the 2014-2017 period</p></a></li>
<li><a href='#gtsave'><p>Save a <strong>gt</strong> table as a file</p></a></li>
<li><a href='#html'><p>Interpret input text as HTML-formatted text</p></a></li>
<li><a href='#illness'><p>Lab tests for one suffering from an illness</p></a></li>
<li><a href='#info_currencies'><p>View a table with info on supported currencies</p></a></li>
<li><a href='#info_date_style'><p>View a table with info on date styles</p></a></li>
<li><a href='#info_flags'><p>View a table with all available flags for <code>fmt_flag()</code></p></a></li>
<li><a href='#info_google_fonts'><p>View a table on recommended Google Fonts</p></a></li>
<li><a href='#info_icons'><p>View a table with all available Font Awesome icons for <code>fmt_icon()</code></p></a></li>
<li><a href='#info_locales'><p>View a table with info on supported locales</p></a></li>
<li><a href='#info_paletteer'><p>View a table with info on color palettes</p></a></li>
<li><a href='#info_time_style'><p>View a table with info on time styles</p></a></li>
<li><a href='#info_unit_conversions'><p>View a table with all units that can be converted by <code>unit_conversion()</code></p></a></li>
<li><a href='#local_image'><p>Helper function for adding a local image</p></a></li>
<li><a href='#location-helper'><p>Helper to target cells at <code>locations</code></p></a></li>
<li><a href='#md'><p>Interpret input text as Markdown-formatted text</p></a></li>
<li><a href='#metro'><p>The stations of the Paris Metro</p></a></li>
<li><a href='#nanoplot_options'><p>Supply nanoplot options to <code>cols_nanoplot()</code></p></a></li>
<li><a href='#nuclides'><p>Nuclide data</p></a></li>
<li><a href='#opt_align_table_header'><p>Option to align the table header</p></a></li>
<li><a href='#opt_all_caps'><p>Option to use all caps in select table locations</p></a></li>
<li><a href='#opt_css'><p>Option to add custom CSS for the table</p></a></li>
<li><a href='#opt_footnote_marks'><p>Option to modify the set of footnote marks</p></a></li>
<li><a href='#opt_footnote_spec'><p>Option to specify the formatting of footnote marks</p></a></li>
<li><a href='#opt_horizontal_padding'><p>Option to expand or contract horizontal padding</p></a></li>
<li><a href='#opt_interactive'><p>Option to put interactive elements in an HTML table</p></a></li>
<li><a href='#opt_row_striping'><p>Option to add or remove row striping</p></a></li>
<li><a href='#opt_stylize'><p>Stylize your table with a colorful look</p></a></li>
<li><a href='#opt_table_font'><p>Options to define font choices for the entire table</p></a></li>
<li><a href='#opt_table_lines'><p>Option to set table lines to different extents</p></a></li>
<li><a href='#opt_table_outline'><p>Option to wrap an outline around the entire table</p></a></li>
<li><a href='#opt_vertical_padding'><p>Option to expand or contract vertical padding</p></a></li>
<li><a href='#pct'><p>Helper for providing a numeric value as percentage</p></a></li>
<li><a href='#peeps'><p>A table of personal information for people all over the world</p></a></li>
<li><a href='#photolysis'><p>Data on photolysis rates for gas-phase organic compounds</p></a></li>
<li><a href='#pizzaplace'><p>A year of pizza sales from a pizza place</p></a></li>
<li><a href='#print.gt_tbl'><p>Print a <strong>gt</strong> table</p></a></li>
<li><a href='#px'><p>Helper for providing a numeric value as pixels value</p></a></li>
<li><a href='#random_id'><p>Helper for creating a random <code>id</code> for a <strong>gt</strong> table</p></a></li>
<li><a href='#reactions'><p>Reaction rates for gas-phase atmospheric reactions of organic compounds</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#render_gt'><p>A <strong>gt</strong> display table render function for use in Shiny</p></a></li>
<li><a href='#rm_caption'><p>Remove the table caption</p></a></li>
<li><a href='#rm_footnotes'><p>Remove table footnotes</p></a></li>
<li><a href='#rm_header'><p>Remove the table header</p></a></li>
<li><a href='#rm_source_notes'><p>Remove table source notes</p></a></li>
<li><a href='#rm_spanners'><p>Remove column spanner labels</p></a></li>
<li><a href='#rm_stubhead'><p>Remove the stubhead label</p></a></li>
<li><a href='#row_group'><p>Select helper for targeting the row group column</p></a></li>
<li><a href='#row_group_order'><p>Modify the ordering of any row groups</p></a></li>
<li><a href='#rows_add'><p>Add one or more rows to a <strong>gt</strong> table</p></a></li>
<li><a href='#rx_addv'><p>An ADDV-flavored clinical trial toy dataset</p></a></li>
<li><a href='#rx_adsl'><p>An ADSL-flavored clinical trial toy dataset</p></a></li>
<li><a href='#sp500'><p>Daily S&amp;P 500 Index data from 1950 to 2015</p></a></li>
<li><a href='#stub'><p>Select helper for targeting the stub column</p></a></li>
<li><a href='#sub_large_vals'><p>Substitute large values in the table body</p></a></li>
<li><a href='#sub_missing'><p>Substitute missing values in the table body</p></a></li>
<li><a href='#sub_small_vals'><p>Substitute small values in the table body</p></a></li>
<li><a href='#sub_values'><p>Substitute targeted values in the table body</p></a></li>
<li><a href='#sub_zero'><p>Substitute zero values in the table body</p></a></li>
<li><a href='#summary_rows'><p>Add group-wise summary rows using aggregation functions</p></a></li>
<li><a href='#system_fonts'><p>Get a themed font stack that works well across systems</p></a></li>
<li><a href='#sza'><p>Twice hourly solar zenith angles by month &amp; latitude</p></a></li>
<li><a href='#tab_caption'><p>Add a table caption</p></a></li>
<li><a href='#tab_footnote'><p>Add a table footnote</p></a></li>
<li><a href='#tab_header'><p>Add a table header</p></a></li>
<li><a href='#tab_info'><p>Understand what's been set inside of a <strong>gt</strong> table object</p></a></li>
<li><a href='#tab_options'><p>Modify the table output options</p></a></li>
<li><a href='#tab_row_group'><p>Add a row group to a <strong>gt</strong> table</p></a></li>
<li><a href='#tab_source_note'><p>Add a source note citation</p></a></li>
<li><a href='#tab_spanner'><p>Add a spanner label</p></a></li>
<li><a href='#tab_spanner_delim'><p>Create column labels and spanners via delimited column names</p></a></li>
<li><a href='#tab_stub_indent'><p>Control indentation of row labels in the stub</p></a></li>
<li><a href='#tab_stubhead'><p>Add label text to the stubhead</p></a></li>
<li><a href='#tab_style'><p>Add custom styles to one or more cells</p></a></li>
<li><a href='#tab_style_body'><p>Target cells in the table body and style accordingly</p></a></li>
<li><a href='#test_image'><p>Generate a path to a test image</p></a></li>
<li><a href='#text_case_match'><p>Perform whole or partial text replacements with a 'switch'-like approach</p></a></li>
<li><a href='#text_case_when'><p>Perform whole text replacements using a 'case-when'-expression approach</p></a></li>
<li><a href='#text_replace'><p>Perform highly targeted text replacement with a regex pattern</p></a></li>
<li><a href='#text_transform'><p>Perform text transformations with a custom function</p></a></li>
<li><a href='#towny'><p>Populations of all municipalities in Ontario from 1996 to 2021</p></a></li>
<li><a href='#unit_conversion'><p>Get a conversion factor across two measurement units of a given class</p></a></li>
<li><a href='#vec_fmt_bytes'><p>Format a vector as values in terms of bytes</p></a></li>
<li><a href='#vec_fmt_currency'><p>Format a vector as currency values</p></a></li>
<li><a href='#vec_fmt_date'><p>Format a vector as date values</p></a></li>
<li><a href='#vec_fmt_datetime'><p>Format a vector as datetime values</p></a></li>
<li><a href='#vec_fmt_duration'><p>Format a vector of numeric or duration values as styled time duration strings</p></a></li>
<li><a href='#vec_fmt_engineering'><p>Format a vector as values in engineering notation</p></a></li>
<li><a href='#vec_fmt_fraction'><p>Format a vector as mixed fractions</p></a></li>
<li><a href='#vec_fmt_index'><p>Format a vector as indexed characters</p></a></li>
<li><a href='#vec_fmt_integer'><p>Format a vector as integer values</p></a></li>
<li><a href='#vec_fmt_markdown'><p>Format a vector containing Markdown text</p></a></li>
<li><a href='#vec_fmt_number'><p>Format a vector as numeric values</p></a></li>
<li><a href='#vec_fmt_partsper'><p>Format a vector as parts-per quantities</p></a></li>
<li><a href='#vec_fmt_percent'><p>Format a vector as percentage values</p></a></li>
<li><a href='#vec_fmt_roman'><p>Format a vector as Roman numerals</p></a></li>
<li><a href='#vec_fmt_scientific'><p>Format a vector as values in scientific notation</p></a></li>
<li><a href='#vec_fmt_spelled_num'><p>Format a vector as spelled-out numbers</p></a></li>
<li><a href='#vec_fmt_time'><p>Format a vector as time values</p></a></li>
<li><a href='#web_image'><p>Helper function for adding an image from the web</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Easily Create Presentation-Ready Display Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>0.11.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Build display tables from tabular data with an easy-to-use
    set of functions. With its progressive approach, we can construct
    display tables with a cohesive set of table parts. Table values can be
    formatted using any of the included formatting functions. Footnotes
    and cell styles can be precisely added through a location targeting
    system. The way in which 'gt' handles things for you means that you
    don't often have to worry about the fine details.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gt.rstudio.com">https://gt.rstudio.com</a>, <a href="https://github.com/rstudio/gt">https://github.com/rstudio/gt</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/gt/issues">https://github.com/rstudio/gt/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>base64enc (&ge; 0.1-3), bigD (&ge; 0.2), bitops (&ge; 1.0-7), cli
(&ge; 3.6.0), commonmark (&ge; 1.8.1), dplyr (&ge; 1.1.0), fs (&ge;
1.6.1), glue (&ge; 1.6.2), htmltools (&ge; 0.5.4), htmlwidgets (&ge;
1.6.1), juicyjuice (&ge; 0.1.0), magrittr (&ge; 2.0.2), markdown
(&ge; 1.5), reactable (&ge; 0.4.3), rlang (&ge; 1.1.0), sass (&ge;
0.4.5), scales (&ge; 1.2.1), tidyselect (&ge; 1.2.0), vctrs, xml2
(&ge; 1.3.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>digest (&ge; 0.6.31), fontawesome (&ge; 0.5.2), ggplot2, grid,
gtable, katex (&ge; 1.4.1), knitr, lubridate, magick, paletteer,
RColorBrewer, rmarkdown (&ge; 2.20), rsvg, rvest, shiny (&ge;
1.7.4), testthat (&ge; 3.1.9), tidyr, webshot2 (&ge; 0.1.0), withr</td>
</tr>
<tr>
<td>Config/Needs/coverage:</td>
<td>officer</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-09 21:34:31 UTC; riannone</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Iannone <a href="https://orcid.org/0000-0003-3925-190X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Joe Cheng [aut],
  Barret Schloerke <a href="https://orcid.org/0000-0001-9986-114X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Ellis Hughes <a href="https://orcid.org/0000-0003-0637-4436"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Alexandra Lauer <a href="https://orcid.org/0000-0002-4191-6301"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  JooYoung Seo <a href="https://orcid.org/0000-0002-4064-6012"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Ken Brevoort <a href="https://orcid.org/0000-0002-4001-8358"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Olivier Roy [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Iannone &lt;rich@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-09 23:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='gt-package'>gt: Easily Create Presentation-Ready Display Tables</h2><span id='topic+gt-package'></span>

<h3>Description</h3>

<p>Build display tables from tabular data with an easy-to-use set of functions. With its progressive approach, we can construct display tables with a cohesive set of table parts. Table values can be formatted using any of the included formatting functions. Footnotes and cell styles can be precisely added through a location targeting system. The way in which 'gt' handles things for you means that you don't often have to worry about the fine details.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Richard Iannone <a href="mailto:rich@posit.co">rich@posit.co</a> (<a href="https://orcid.org/0000-0003-3925-190X">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Joe Cheng <a href="mailto:joe@posit.co">joe@posit.co</a>
</p>
</li>
<li><p> Barret Schloerke <a href="mailto:barret@posit.co">barret@posit.co</a> (<a href="https://orcid.org/0000-0001-9986-114X">ORCID</a>)
</p>
</li>
<li><p> Ellis Hughes <a href="mailto:ellis.h.hughes@gsk.com">ellis.h.hughes@gsk.com</a> (<a href="https://orcid.org/0000-0003-0637-4436">ORCID</a>)
</p>
</li>
<li><p> Alexandra Lauer <a href="mailto:alexandralauer1@gmail.com">alexandralauer1@gmail.com</a> (<a href="https://orcid.org/0000-0002-4191-6301">ORCID</a>)
</p>
</li>
<li><p> JooYoung Seo <a href="mailto:jseo1005@illinois.edu">jseo1005@illinois.edu</a> (<a href="https://orcid.org/0000-0002-4064-6012">ORCID</a>)
</p>
</li>
<li><p> Ken Brevoort <a href="mailto:ken@brevoort.com">ken@brevoort.com</a> (<a href="https://orcid.org/0000-0002-4001-8358">ORCID</a>)
</p>
</li>
<li><p> Olivier Roy
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gt.rstudio.com">https://gt.rstudio.com</a>
</p>
</li>
<li> <p><a href="https://github.com/rstudio/gt">https://github.com/rstudio/gt</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rstudio/gt/issues">https://github.com/rstudio/gt/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='adjust_luminance'>Adjust the luminance for a palette of colors</h2><span id='topic+adjust_luminance'></span>

<h3>Description</h3>

<p>The <code>adjust_luminance()</code> function can brighten or darken a palette of colors
by an arbitrary number of steps, which is defined by a real number between
-2.0 and 2.0. The transformation of a palette by a fixed step in this
function will tend to apply greater darkening or lightening for those colors
in the midrange compared to any very dark or very light colors in the input
palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjust_luminance(colors, steps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjust_luminance_+3A_colors">colors</code></td>
<td>
<p><em>Color vector</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the vector of colors that will undergo an adjustment in luminance.
Each color value provided must either be a color name (in the set of colors
provided by <code>grDevices::colors()</code>) or a hexadecimal string in the form of
&quot;#RRGGBB&quot; or &quot;#RRGGBBAA&quot;.</p>
</td></tr>
<tr><td><code id="adjust_luminance_+3A_steps">steps</code></td>
<td>
<p><em>Adjustment level</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(-2&gt;=val&gt;=2)&#8288;</code> // <strong>required</strong>
</p>
<p>A positive or negative factor by which the luminance of colors in the
<code>colors</code> vector will be adjusted. Must be a number between <code>-2.0</code> and
<code>2.0</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be useful when combined with the <code><a href="#topic+data_color">data_color()</a></code> function's
<code>palette</code> argument, which can use a vector of colors or any of the <code style="white-space: pre;">&#8288;col_*&#8288;</code>
functions from the <strong>scales</strong> package (all of which have a <code>palette</code>
argument).
</p>


<h3>Value</h3>

<p>A vector of color values.
</p>


<h3>Examples</h3>

<p>Get a palette of 8 pastel colors from the <strong>RColorBrewer</strong> package.
</p>
<div class="sourceCode r"><pre>pal &lt;- RColorBrewer::brewer.pal(8, "Pastel2")
</pre></div>
<p>Create lighter and darker variants of the base palette (one step lower, one
step higher).
</p>
<div class="sourceCode r"><pre>pal_darker  &lt;- pal |&gt; adjust_luminance(-1.0)
pal_lighter &lt;- pal |&gt; adjust_luminance(+1.0)
</pre></div>
<p>Create a tibble and make a <strong>gt</strong> table from it. Color each column in order
of increasingly darker palettes (with <code><a href="#topic+data_color">data_color()</a></code>).
</p>
<div class="sourceCode r"><pre>dplyr::tibble(a = 1:8, b = 1:8, c = 1:8) |&gt;
  gt() |&gt;
  data_color(
    columns = a,
    colors = scales::col_numeric(
      palette = pal_lighter,
      domain = c(1, 8)
    )
  ) |&gt;
  data_color(
    columns = b,
    colors = scales::col_numeric(
      palette = pal,
      domain = c(1, 8)
    )
  ) |&gt;
  data_color(
    columns = c,
    colors = scales::col_numeric(
      palette = pal_darker,
      domain = c(1, 8)
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_adjust_luminance_1.png" alt="This image of a table was generated from the first code example in the `adjust_luminance()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='as_gtable'>Transform a <strong>gt</strong> table to a <code>gtable</code> object</h2><span id='topic+as_gtable'></span>

<h3>Description</h3>

<p><code>as_gtable()</code> performs the transformation of a <code>gt_tbl</code> object to a
<code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_gtable(data, plot = FALSE, text_grob = grid::textGrob)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_gtable_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="as_gtable_+3A_plot">plot</code></td>
<td>
<p><em>Render through the graphics device?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>plot</code> option determines whether the <code>gtable</code> object should be rendered
on the graphics device.</p>
</td></tr>
<tr><td><code id="as_gtable_+3A_text_grob">text_grob</code></td>
<td>
<p><em>Function for drawing text</em>
</p>
<p><code>function</code> // <em>default:</em> <code>grid::textGrob</code>
</p>
<p>A <code>function</code> which will be used to draw text. Defaults to
<code>grid::textGrob()</code> but can be swapped to <code>gridtext::richtext_grob()</code> to
better render HTML content.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>gtable</code> object.
</p>


<h3>Function ID</h3>

<p>13-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='as_latex'>Output a <strong>gt</strong> object as LaTeX</h2><span id='topic+as_latex'></span>

<h3>Description</h3>

<p>Get the LaTeX content from a <code>gt_tbl</code> object as a <code>knit_asis</code> object. This
object contains the LaTeX code and attributes that serve as LaTeX
dependencies (i.e., the LaTeX packages required for the table). Using
<code>as.character()</code> on the created object will result in a single-element vector
containing the LaTeX code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_latex(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_latex_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>LaTeX packages required to generate tables are:
booktabs, caption, longtable, colortbl, array, anyfontsize, multirow.
</p>
<p>In the event packages are not automatically added during the render phase
of the document, please create and include a style file to load them.
</p>
<p>Inside the document's YAML metadata, please include:
</p>
<pre>
output:
  pdf_document: # Change to appropriate LaTeX template
    includes:
      in_header: 'gt_packages.sty'
</pre>
<p>The <code>gt_packages.sty</code> file would then contain the listed dependencies above:
</p>
<pre>
  \usepackage{booktabs, caption, longtable, colortbl, array}
</pre>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Add a header
with <code><a href="#topic+tab_header">tab_header()</a></code> and then export the table as LaTeX code using the
<code>as_latex()</code> function.
</p>
<div class="sourceCode r"><pre>tab_latex &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  ) |&gt;
  as_latex()
</pre></div>
<p>What's returned is a <code>knit_asis</code> object, which makes it easy to include in R
Markdown documents that are knit to PDF. We can use <code>as.character()</code> to get
just the LaTeX code as a single-element vector.
</p>


<h3>Function ID</h3>

<p>13-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='as_raw_html'>Get the HTML content of a <strong>gt</strong> table</h2><span id='topic+as_raw_html'></span>

<h3>Description</h3>

<p>Get the HTML content from a <code>gt_tbl</code> object as a single-element character
vector. By default, the generated HTML will have inlined styles, where CSS
styles (that were previously contained in CSS rule sets external to the
<code style="white-space: pre;">&#8288;&lt;table&gt; element&#8288;</code>) are included as <code>style</code> attributes in the HTML table's
tags. This option is preferable when using the output HTML table in an
emailing context.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_raw_html(data, inline_css = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_raw_html_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="as_raw_html_+3A_inline_css">inline_css</code></td>
<td>
<p><em>Use inline CSS</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to supply styles to table elements as inlined CSS styles. This is
useful when including the table HTML as part of an HTML email message body,
since inlined styles are largely supported in email clients over using CSS
in a <code style="white-space: pre;">&#8288;&lt;style&gt;&#8288;</code> block.</p>
</td></tr>
</table>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Add a header
with <code><a href="#topic+tab_header">tab_header()</a></code> and then export the table as HTML code with inlined CSS
styles using <code>as_raw_html()</code>.
</p>
<div class="sourceCode r"><pre>tab_html &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice_head(n = 5) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  ) |&gt;
  as_raw_html()
</pre></div>
<p>What's returned is a single-element vector containing the HTML for the table.
It has only the <code style="white-space: pre;">&#8288;&lt;table&gt;...&lt;/table&gt;&#8288;</code> part so it's not a complete HTML
document but rather an HTML fragment.
</p>


<h3>Function ID</h3>

<p>13-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='as_rtf'>Output a <strong>gt</strong> object as RTF</h2><span id='topic+as_rtf'></span>

<h3>Description</h3>

<p>Get the RTF content from a <code>gt_tbl</code> object as as a single-element character
vector. This object can be used with <code>writeLines()</code> to generate a valid .rtf
file that can be opened by RTF readers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_rtf(
  data,
  incl_open = TRUE,
  incl_header = TRUE,
  incl_page_info = TRUE,
  incl_body = TRUE,
  incl_close = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_rtf_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="as_rtf_+3A_incl_open">incl_open</code>, <code id="as_rtf_+3A_incl_close">incl_close</code></td>
<td>
<p><em>Include opening/closing braces</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Options that govern whether the opening or closing <code>"{"</code> and <code>"}"</code> should
be included. By default, both options are <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="as_rtf_+3A_incl_header">incl_header</code></td>
<td>
<p><em>Include RTF header</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the RTF header be included in the output? By default, this is
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="as_rtf_+3A_incl_page_info">incl_page_info</code></td>
<td>
<p><em>Include RTF page information</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the RTF output include directives for the document pages? This is
<code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="as_rtf_+3A_incl_body">incl_body</code></td>
<td>
<p><em>Include RTF body</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to include the body of RTF document. By default, this is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Add a header
with <code><a href="#topic+tab_header">tab_header()</a></code> and then export the table as RTF code using the
<code>as_rtf()</code> function.
</p>
<div class="sourceCode r"><pre>tab_rtf &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model) |&gt;
  dplyr::slice(1:2) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  ) |&gt;
  as_rtf()
</pre></div>


<h3>Function ID</h3>

<p>13-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='as_word'>Output a <strong>gt</strong> object as Word</h2><span id='topic+as_word'></span>

<h3>Description</h3>

<p>Get the Open Office XML table tag content from a <code>gt_tbl</code> object as a
single-element character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_word(
  data,
  align = "center",
  caption_location = c("top", "bottom", "embed"),
  caption_align = "left",
  split = FALSE,
  keep_with_next = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_word_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="as_word_+3A_align">align</code></td>
<td>
<p><em>Table alignment</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"center"</code>
</p>
<p>An option for table alignment. Can either be <code>"center"</code>, <code>"left"</code>, or
<code>"right"</code>.</p>
</td></tr>
<tr><td><code id="as_word_+3A_caption_location">caption_location</code></td>
<td>
<p><em>Caption location</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[top|bottom|embed]&#8288;</code> // <em>default:</em> <code>"top"</code>
</p>
<p>Determines where the caption should be positioned. This can either be
<code>"top"</code>, <code>"bottom"</code>, or <code>"embed"</code>.</p>
</td></tr>
<tr><td><code id="as_word_+3A_caption_align">caption_align</code></td>
<td>
<p><em>Caption alignment</em>
</p>
<p>Determines the alignment of the caption. This is
either <code>"left"</code> (the default), <code>"center"</code>, or <code>"right"</code>. This option is
only used when <code>caption_location</code> is not set as <code>"embed"</code>.</p>
</td></tr>
<tr><td><code id="as_word_+3A_split">split</code></td>
<td>
<p><em>Allow splitting of a table row across pages</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that indicates whether to activate the Word option
<code style="white-space: pre;">&#8288;Allow row to break across pages&#8288;</code>.</p>
</td></tr>
<tr><td><code id="as_word_+3A_keep_with_next">keep_with_next</code></td>
<td>
<p><em>Keeping rows together</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that indicates whether a table should use Word option
<code style="white-space: pre;">&#8288;Keep rows together&#8288;</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Add a header
with <code><a href="#topic+tab_header">tab_header()</a></code> and then export the table as OOXML code for Word using
<code>as_word()</code>
</p>
<div class="sourceCode r"><pre>tab_rtf &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model) |&gt;
  dplyr::slice(1:2) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  ) |&gt;
  as_word()
</pre></div>


<h3>Function ID</h3>

<p>13-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (August 25, 2022)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='as.data.frame.gt_tbl'>Transform a <strong>gt</strong> object to a data frame</h2><span id='topic+as.data.frame.gt_tbl'></span>

<h3>Description</h3>

<p>This facilitates conversion of the <code>gt_tbl</code> object to a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gt_tbl'
as.data.frame(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.gt_tbl_+3A_x">x</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="as.data.frame.gt_tbl_+3A_...">...</code></td>
<td>
<p><em>Optional parameters</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // (<code>optional</code>)
</p>
<p>Anything provided here in <code>...</code> will be passed to internal function calls
that can consume it.</p>
</td></tr>
</table>

<hr>
<h2 id='cell_borders'>Helper for defining custom borders for table cells</h2><span id='topic+cell_borders'></span>

<h3>Description</h3>

<p><code>cell_borders()</code> is to be used with <code><a href="#topic+tab_style">tab_style()</a></code>, which itself allows for
the setting of custom styles to one or more cells. Specifically, the call to
<code>cell_borders()</code> should be bound to the <code>styles</code> argument of <code><a href="#topic+tab_style">tab_style()</a></code>.
The <code>sides</code> argument is where we define which borders should be modified
(e.g., <code>"left"</code>, <code>"right"</code>, etc.). With that selection, the <code>color</code>, <code>style</code>,
and <code>weight</code> of the selected borders can then be modified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cell_borders(sides = "all", color = "#000000", style = "solid", weight = px(1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cell_borders_+3A_sides">sides</code></td>
<td>
<p><em>Border sides</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"all"</code>
</p>
<p>The border sides to be modified. Options include <code>"left"</code>, <code>"right"</code>,
<code>"top"</code>, and <code>"bottom"</code>. For all borders surrounding the selected cells, we
can use the <code>"all"</code> option.</p>
</td></tr>
<tr><td><code id="cell_borders_+3A_color">color</code></td>
<td>
<p><em>Border color</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|NULL&#8288;</code> // <em>default:</em> <code>"#000000"</code>
</p>
<p>The border <code>color</code> can be defined with a color name or with a hexadecimal
color code. The default <code>color</code> value is <code>"#000000"</code> (black). Borders for
any defined <code>sides</code> can be removed by supplying <code>NULL</code> here.</p>
</td></tr>
<tr><td><code id="cell_borders_+3A_style">style</code></td>
<td>
<p><em>Border line style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|NULL&#8288;</code> // <em>default:</em> <code>"solid"</code>
</p>
<p>The border <code>style</code> can be one of either <code>"solid"</code> (the default),
<code>"dashed"</code>, <code>"dotted"</code>, <code>"hidden"</code>, or <code>"double"</code>. Borders for any defined
<code>sides</code> can be removed by supplying <code>NULL</code> here.</p>
</td></tr>
<tr><td><code id="cell_borders_+3A_weight">weight</code></td>
<td>
<p><em>Border weight</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|NULL&#8288;</code> // <em>default:</em> <code>px(1)</code>
</p>
<p>The default value for <code>weight</code> is <code>"1px"</code> and higher values will become
more visually prominent. Borders for any defined <code>sides</code> can be removed by
supplying <code>NULL</code> to any of <code>color</code>, <code>style</code>, or <code>weight</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object of class <code>cell_styles</code>.
</p>


<h3>Examples</h3>

<p>We can add horizontal border lines for all table body rows in a <strong>gt</strong> table
based on the <code><a href="#topic+exibble">exibble</a></code> dataset. For this, we need to use <code><a href="#topic+tab_style">tab_style()</a></code>
(targeting all cells in the table body with <code><a href="#topic+cells_body">cells_body()</a></code>) in conjunction
with <code>cell_borders()</code> in the <code>style</code> argument. Both top and bottom borders
will be added as <code>"solid"</code> and <code>"red"</code> lines with a line width of 1.5 px.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  tab_style(
    style = cell_borders(
      sides = c("top", "bottom"),
      color = "red",
      weight = px(1.5),
      style = "solid"
    ),
    locations = cells_body()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cell_borders_1.png" alt="This image of a table was generated from the first code example in the `cell_borders()` help file." style="width:100%;">

<p>It's possible to incorporate different horizontal and vertical (<code>"left"</code> and
<code>"right"</code>) borders at several different locations. This uses multiple
<code>cell_borders()</code> and <code><a href="#topic+cells_body">cells_body()</a></code> calls within their own respective lists.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  tab_style(
    style = list(
      cell_borders(
        sides = c("top", "bottom"),
        color = "#FF0000",
        weight = px(2)
      ),
      cell_borders(
        sides = c("left", "right"),
        color = "#0000FF",
        weight = px(2)
      )
    ),
    locations = list(
      cells_body(
        columns = num,
        rows = is.na(num)
      ),
      cells_body(
        columns = currency,
        rows = is.na(currency)
      )
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cell_borders_2.png" alt="This image of a table was generated from the second code example in the `cell_borders()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-27
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='cell_fill'>Helper for defining custom fills for table cells</h2><span id='topic+cell_fill'></span>

<h3>Description</h3>

<p><code>cell_fill()</code> is to be used with <code><a href="#topic+tab_style">tab_style()</a></code>, which itself allows for the
setting of custom styles to one or more cells. Specifically, the call to
<code>cell_fill()</code> should be bound to the <code>styles</code> argument of <code><a href="#topic+tab_style">tab_style()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cell_fill(color = "#D3D3D3", alpha = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cell_fill_+3A_color">color</code></td>
<td>
<p><em>Cell fill color</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"#D3D3D3"</code>
</p>
<p>If nothing is provided for <code>color</code> then <code>"#D3D3D3"</code> (light gray) will be
used as a default.</p>
</td></tr>
<tr><td><code id="cell_fill_+3A_alpha">alpha</code></td>
<td>
<p><em>Transparency value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(0&gt;=val&gt;=1)&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional alpha transparency value for the <code>color</code> as single value in the
range of <code>0</code> (fully transparent) to <code>1</code> (fully opaque). If not provided the
fill color will either be fully opaque or use alpha information from the
color value if it is supplied in the <code style="white-space: pre;">&#8288;#RRGGBBAA&#8288;</code> format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object of class <code>cell_styles</code>.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>num</code> and <code>currency</code> columns). Styles are added with
<code><a href="#topic+tab_style">tab_style()</a></code> in two separate calls (targeting different body cells with the
<code><a href="#topic+cells_body">cells_body()</a></code> helper function). With the <code>cell_fill()</code> helper funciton we
define cells with a <code>"lightblue"</code> background in one instance, and <code>"gray85"</code>
in the other.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, currency) |&gt;
  gt() |&gt;
  fmt_number(decimals = 1) |&gt;
  tab_style(
    style = cell_fill(color = "lightblue"),
    locations = cells_body(
      columns = num,
      rows = num &gt;= 5000
    )
  ) |&gt;
  tab_style(
    style = cell_fill(color = "gray85"),
    locations = cells_body(
      columns = currency,
      rows = currency &lt; 100
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cell_fill_1.png" alt="This image of a table was generated from the first code example in the `cell_fill()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-26
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='cell_text'>Helper for defining custom text styles for table cells</h2><span id='topic+cell_text'></span>

<h3>Description</h3>

<p>This helper function can be used with <code><a href="#topic+tab_style">tab_style()</a></code>, which itself allows for
the setting of custom styles to one or more cells. We can also define several
styles within a single call of <code>cell_text()</code> and <code><a href="#topic+tab_style">tab_style()</a></code> will reliably
apply those styles to the targeted element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cell_text(
  color = NULL,
  font = NULL,
  size = NULL,
  align = NULL,
  v_align = NULL,
  style = NULL,
  weight = NULL,
  stretch = NULL,
  decorate = NULL,
  transform = NULL,
  whitespace = NULL,
  indent = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cell_text_+3A_color">color</code></td>
<td>
<p><em>Text color</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The text color can be modified through the <code>color</code> argument.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_font">font</code></td>
<td>
<p><em>Font (or collection of fonts) used for text</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The font or collection of fonts (subsequent font names are) used as
fallbacks.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_size">size</code></td>
<td>
<p><em>Text size</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer|character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The size of the font. Can be provided as a number that is assumed to
represent <code>px</code> values (or could be wrapped in the <code><a href="#topic+px">px()</a></code> helper function).
We can also use one of the following absolute size keywords: <code>"xx-small"</code>,
<code>"x-small"</code>, <code>"small"</code>, <code>"medium"</code>, <code>"large"</code>, <code>"x-large"</code>, or
<code>"xx-large"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_align">align</code></td>
<td>
<p><em>Text alignment</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The text in a cell can be horizontally aligned though one of the following
options: <code>"center"</code>, <code>"left"</code>, <code>"right"</code>, or <code>"justify"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_v_align">v_align</code></td>
<td>
<p><em>Vertical alignment</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The vertical alignment of the text in the cell can be modified through the
options <code>"middle"</code>, <code>"top"</code>, or <code>"bottom"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_style">style</code></td>
<td>
<p><em>Text style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Can be one of either <code>"normal"</code>, <code>"italic"</code>, or <code>"oblique"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_weight">weight</code></td>
<td>
<p><em>Font weight</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The weight of the font can be modified thorough a text-based option such as
<code>"normal"</code>, <code>"bold"</code>, <code>"lighter"</code>, <code>"bolder"</code>, or, a numeric value between
<code>1</code> and <code>1000</code>, inclusive. Note that only variable fonts may support the
numeric mapping of weight.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_stretch">stretch</code></td>
<td>
<p><em>Stretch text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Allows for text to either be condensed or expanded. We can use one of the
following text-based keywords to describe the degree of
condensation/expansion: <code>"ultra-condensed"</code>, <code>"extra-condensed"</code>,
<code>"condensed"</code>, <code>"semi-condensed"</code>, <code>"normal"</code>, <code>"semi-expanded"</code>,
<code>"expanded"</code>, <code>"extra-expanded"</code>, or <code>"ultra-expanded"</code>. Alternatively, we
can supply percentage values from <code style="white-space: pre;">&#8288;0\%&#8288;</code> to <code style="white-space: pre;">&#8288;200\%&#8288;</code>, inclusive. Negative
percentage values are not allowed.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_decorate">decorate</code></td>
<td>
<p><em>Decorate text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Allows for text decoration effect to be applied. Here, we can use
<code>"overline"</code>, <code>"line-through"</code>, or <code>"underline"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_transform">transform</code></td>
<td>
<p><em>Transform text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Allows for the transformation of text. Options are <code>"uppercase"</code>,
<code>"lowercase"</code>, or <code>"capitalize"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_whitespace">whitespace</code></td>
<td>
<p><em>White-space options</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A white-space preservation option. By default, runs of white-space will be
collapsed into single spaces but several options exist to govern how
white-space is collapsed and how lines might wrap at soft-wrap
opportunities. The options are <code>"normal"</code>, <code>"nowrap"</code>, <code>"pre"</code>,
<code>"pre-wrap"</code>, <code>"pre-line"</code>, and <code>"break-spaces"</code>.</p>
</td></tr>
<tr><td><code id="cell_text_+3A_indent">indent</code></td>
<td>
<p><em>Text indentation</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer|character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The indentation of the text. Can be provided as a number that is assumed to
represent <code>px</code> values (or could be wrapped in the <code><a href="#topic+px">px()</a></code> helper function).
Alternatively, this can be given as a percentage (easily constructed with
<code><a href="#topic+pct">pct()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object of class <code>cell_styles</code>.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>num</code> and <code>currency</code> columns). With <code><a href="#topic+tab_style">tab_style()</a></code>
(called twice), we'll selectively add style to the values formatted with
<code><a href="#topic+fmt_number">fmt_number()</a></code>. We do this by using <code>cell_text()</code> in the <code>style</code> argument of
<code>tab_style()</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, currency) |&gt;
  gt() |&gt;
  fmt_number(decimals = 1) |&gt;
  tab_style(
    style = cell_text(weight = "bold"),
    locations = cells_body(
      columns = num,
      rows = num &gt;= 5000
    )
  ) |&gt;
  tab_style(
    style = cell_text(style = "italic"),
    locations = cells_body(
      columns = currency,
      rows = currency &lt; 100
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cell_text_1.png" alt="This image of a table was generated from the first code example in the `cell_text()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-25
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='cells_body'>Location helper for targeting data cells in the table body</h2><span id='topic+cells_body'></span>

<h3>Description</h3>

<p><code>cells_body()</code> is used to target the data cells in the table
body. The function can be used to apply a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code>, to
add custom styling with <code><a href="#topic+tab_style">tab_style()</a></code>, or the transform the targeted cells
with <code><a href="#topic+text_transform">text_transform()</a></code>. The function is expressly used in each of those
functions' <code>locations</code> argument. The 'body' location is present by default in
every <strong>gt</strong> table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_body(columns = everything(), rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_body_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which targeting operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="cells_body_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to
filter down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_body</code> and <code>location_cells</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector.
</p>


<h3>Examples</h3>

<p>Let's use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Add a
footnote (with <code><a href="#topic+tab_footnote">tab_footnote()</a></code>) that targets a single data cell via the use
of <code>cells_body()</code> in <code>locations</code> (<code>rows = hp == max(hp)</code> will target a single
row in the <code>hp</code> column).
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::filter(ctry_origin == "United Kingdom") |&gt;
  dplyr::select(mfr, model, year, hp) |&gt;
  gt() |&gt;
  tab_footnote(
    footnote = "Highest horsepower.",
    locations = cells_body(
      columns = hp,
      rows = hp == max(hp)
    ),
    placement = "right"
  ) |&gt;
  opt_footnote_marks(marks = c("*", "+"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_body_1.png" alt="This image of a table was generated from the first code example in the `cells_body()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-18
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_column_labels'>Location helper for targeting the column labels</h2><span id='topic+cells_column_labels'></span>

<h3>Description</h3>

<p><code>cells_column_labels()</code> is used to target the table's column
labels when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding custom style
with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in each of those
functions' <code>locations</code> argument. The 'column_labels' location is present by
default in every <strong>gt</strong> table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_column_labels(columns = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_column_labels_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which targeting operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_column_labels</code> and
<code>location_cells</code>.
</p>


<h3>Targeting columns with the <code>columns</code> argument</h3>

<p>The <code>columns</code> argument allows us to target a subset of columns contained in
the table. We can declare column names in <code>c()</code> (with bare column names or
names in quotes) or we can use <strong>tidyselect</strong>-style expressions. This can be
as basic as supplying a select helper like <code>starts_with()</code>, or, providing a
more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>


<h3>Examples</h3>

<p>Let's use a small portion of the <code><a href="#topic+sza">sza</a></code> dataset to create a <strong>gt</strong> table.
Add footnotes to the column labels with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> and
<code>cells_column_labels()</code> in <code>locations</code>.
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(
    latitude == 20 &amp; month == "jan" &amp;
      !is.na(sza)
  ) |&gt;
  dplyr::select(-latitude, -month) |&gt;
  gt() |&gt;
  tab_footnote(
    footnote = "True solar time.",
    locations = cells_column_labels(
      columns = tst
    )
  ) |&gt;
  tab_footnote(
    footnote = "Solar zenith angle.",
    locations = cells_column_labels(
      columns = sza
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_column_labels_1.png" alt="This image of a table was generated from the first code example in the `cells_column_labels()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-15
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_column_spanners'>Location helper for targeting the column spanners</h2><span id='topic+cells_column_spanners'></span>

<h3>Description</h3>

<p><code>cells_column_spanners()</code> is used to target the cells that contain the table
column spanners. This is useful when applying a footnote with
<code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding custom style with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is
expressly used in each of those functions' <code>locations</code> argument. The
'column_spanners' location is generated by one or more uses of
<code><a href="#topic+tab_spanner">tab_spanner()</a></code> or <code><a href="#topic+tab_spanner_delim">tab_spanner_delim()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_column_spanners(spanners = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_column_spanners_+3A_spanners">spanners</code></td>
<td>
<p><em>Specification of spanner IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;spanner-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The spanners to which targeting operations are constrained. Can either be a
series of spanner ID values provided in <code>c()</code> or a select helper function
(e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_column_spanners</code> and
<code>location_cells</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. We'll add a spanner
column label over three columns (<code>date</code>, <code>time</code>, and <code>datetime</code>) with
<code><a href="#topic+tab_spanner">tab_spanner()</a></code>. The spanner column label can be styled with <code><a href="#topic+tab_style">tab_style()</a></code> by
using the <code>cells_column_spanners()</code> function in <code>locations</code>. In this example,
we are making the text of the column spanner label appear as bold.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(-fctr, -currency, -group) |&gt;
  gt(rowname_col = "row") |&gt;
  tab_spanner(
    label = "dates and times",
    columns = c(date, time, datetime),
    id = "dt"
  ) |&gt;
  tab_style(
    style = cell_text(weight = "bold"),
    locations = cells_column_spanners(spanners = "dt")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_column_spanners_1.png" alt="This image of a table was generated from the first code example in the `cells_column_spanners()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-14
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_footnotes'>Location helper for targeting the footnotes</h2><span id='topic+cells_footnotes'></span>

<h3>Description</h3>

<p><code>cells_footnotes()</code> is used to target all footnotes in the
footer section of the table. This is useful for adding custom styles to the
footnotes with <code><a href="#topic+tab_style">tab_style()</a></code> (using the <code>locations</code> argument). The
'footnotes' location is generated by one or more uses of <code><a href="#topic+tab_footnote">tab_footnote()</a></code>.
This location helper function cannot be used for the <code>locations</code> argument of
<code>tab_footnote()</code> and doing so will result in a warning (with no change made
to the table).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_footnotes()
</code></pre>


<h3>Value</h3>

<p>A list object with the classes <code>cells_footnotes</code> and
<code>location_cells</code>.
</p>


<h3>Examples</h3>

<p>Using a subset of the <code><a href="#topic+sza">sza</a></code> dataset, let's create a <strong>gt</strong> table. We'd like
to color the <code>sza</code> column so that's done with the <code><a href="#topic+data_color">data_color()</a></code> function. We
can add a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> and we can also style the
footnotes section. The styling is done with <code><a href="#topic+tab_style">tab_style()</a></code> and
<code>locations = cells_footnotes()</code>.
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(
    latitude == 20 &amp;
      month == "jan" &amp;
      !is.na(sza)
  ) |&gt;
  dplyr::select(-latitude, -month) |&gt;
  gt() |&gt;
  data_color(
    columns = sza,
    palette = c("white", "yellow", "navyblue"),
    domain = c(0, 90)
  ) |&gt;
  tab_footnote(
    footnote = "Color indicates height of sun.",
    locations = cells_column_labels(columns = sza)
  ) |&gt;
  tab_options(table.width = px(320)) |&gt;
  tab_style(
    style = list(
      cell_text(size = "smaller"),
      cell_fill(color = "gray90")
      ),
    locations = cells_footnotes()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_footnotes_1.png" alt="This image of a table was generated from the first code example in the `cells_footnotes()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-23
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_grand_summary'>Location helper for targeting cells in a grand summary</h2><span id='topic+cells_grand_summary'></span>

<h3>Description</h3>

<p><code>cells_grand_summary()</code> is used to target the cells in a grand
summary and it is useful when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or
adding custom styles with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in
each of those functions' <code>locations</code> argument. The 'grand_summary' location
is generated by <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_grand_summary(columns = everything(), rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_grand_summary_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which targeting operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="cells_grand_summary_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to
filter down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_grand_summary</code> and
<code>location_cells</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of grand summary cells is done through the <code>columns</code> and <code>rows</code>
arguments. The <code>columns</code> argument allows us to target a subset of grand
summary cells contained in the resolved columns. We say resolved because
aside from declaring column names in <code>c()</code> (with bare column names or names
in quotes) we can use <strong>tidyselect</strong>-style expressions. This can be as basic
as supplying a select helper like <code>starts_with()</code>, or, providing a more
complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> of the grand
summary. Grand summary cells in the stub will have ID values that can be used
much like column names in the <code>columns</code>-targeting scenario. We can use
simpler <strong>tidyselect</strong>-style expressions (the select helpers should work well
here) and we can use quoted row identifiers in <code>c()</code>. It's also possible to
use row indices (e.g., <code>c(3, 5, 6)</code>) that correspond to the row number of a
grand summary row.
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. Add
some styling to a grand summary cells with <code><a href="#topic+tab_style">tab_style()</a></code> and
<code>cells_grand_summary()</code> in the <code>locations</code> argument.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Spain", year &lt; 1970) |&gt;
  dplyr::select(-contains("country")) |&gt;
  gt(rowname_col = "year") |&gt;
  fmt_number(
    columns = population,
    decimals = 0
  ) |&gt;
  grand_summary_rows(
    columns = population,
    fns = change ~ max(.) - min(.),
    fmt = ~ fmt_integer(.)
  ) |&gt;
  tab_style(
    style = list(
      cell_text(style = "italic"),
      cell_fill(color = "lightblue")
    ),
    locations = cells_grand_summary(
      columns = population,
      rows = 1
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_grand_summary_1.png" alt="This image of a table was generated from the first code example in the `cells_grand_summary()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-20
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_group'>Location helper for targeting row groups (deprecated)</h2><span id='topic+cells_group'></span>

<h3>Description</h3>

<p>Location helper for targeting row groups (deprecated)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_group(groups = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_group_+3A_groups">groups</code></td>
<td>
<p><em>Specification of row group IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-group-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The row groups to which targeting operations are constrained. Can either be
a series of row group ID values provided in <code>c()</code> or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>

<hr>
<h2 id='cells_row_groups'>Location helper for targeting row groups</h2><span id='topic+cells_row_groups'></span>

<h3>Description</h3>

<p><code>cells_row_groups()</code> is used to target the table's row groups
when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding custom style with
<code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in each of those functions'
<code>locations</code> argument. The 'row_groups' location can be generated by the
specifying a <code>groupname_col</code> in <code><a href="#topic+gt">gt()</a></code>, by introducing grouped data to <code><a href="#topic+gt">gt()</a></code>
(via <code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code>), or, by specifying groups with <code><a href="#topic+tab_row_group">tab_row_group()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_row_groups(groups = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_row_groups_+3A_groups">groups</code></td>
<td>
<p><em>Specification of row group IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-group-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The row groups to which targeting operations are constrained. Can either be
a series of row group ID values provided in <code>c()</code> or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_row_groups</code> and
<code>location_cells</code>.
</p>


<h3>Targeting cells with <code>groups</code></h3>

<p>By default <code>groups</code> is set to <code>everything()</code>, which means that all available
groups will be considered. Providing the ID values (in quotes) of row groups
in <code>c()</code> will serve to constrain the targeting to that subset of groups.
</p>


<h3>Examples</h3>

<p>Let's use a summarized version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset to create a
<strong>gt</strong> table with grouped data. Add a summary with <code><a href="#topic+summary_rows">summary_rows()</a></code> and then
add a footnote to the <code>"peppr_salami"</code> row group label with <code><a href="#topic+tab_footnote">tab_footnote()</a></code>;
the targeting is done with <code>cells_row_groups()</code> in the <code>locations</code> argument.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::filter(name %in% c("soppressata", "peppr_salami")) |&gt;
  dplyr::group_by(name, size) |&gt;
  dplyr::summarize(`Pizzas Sold` = dplyr::n(), .groups = "drop") |&gt;
  gt(rowname_col = "size", groupname_col = "name") |&gt;
  summary_rows(
    columns = `Pizzas Sold`,
    fns = list(label = "TOTAL", fn = "sum"),
    fmt = ~ fmt_integer(.)
  ) |&gt;
  tab_footnote(
    footnote = "The Pepper-Salami.",
    cells_row_groups(groups = "peppr_salami")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_row_groups_1.png" alt="This image of a table was generated from the first code example in the `cells_row_groups()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-16
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_source_notes'>Location helper for targeting the source notes</h2><span id='topic+cells_source_notes'></span>

<h3>Description</h3>

<p><code>cells_source_notes()</code> is used to target all source notes in the
footer section of the table. This is useful for adding custom styles to the
source notes with <code><a href="#topic+tab_style">tab_style()</a></code> (using the <code>locations</code> argument). The
'source_notes' location is generated by <code><a href="#topic+tab_source_note">tab_source_note()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_source_notes()
</code></pre>


<h3>Value</h3>

<p>A list object with the classes <code>cells_source_notes</code> and
<code>location_cells</code>.
</p>


<h3>Examples</h3>

<p>Let's use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Add a
source note (with <code><a href="#topic+tab_source_note">tab_source_note()</a></code>) and style the source notes section
inside <code><a href="#topic+tab_style">tab_style()</a></code> with <code>locations = cells_source_notes()</code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_source_note(source_note = "From edmunds.com") |&gt;
  tab_style(
    style = cell_text(
      color = "#A9A9A9",
      size = "small"
    ),
    locations = cells_source_notes()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_source_notes_1.png" alt="This image of a table was generated from the first code example in the `cells_source_notes()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-24
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_stub'>Location helper for targeting cells in the table stub</h2><span id='topic+cells_stub'></span>

<h3>Description</h3>

<p><code>cells_stub()</code> is used to target the table's stub cells and it
is useful when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding a custom
style with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in each of those
functions' <code>locations</code> argument. Here are several ways that a stub location
might be available in a <strong>gt</strong> table: (1) through specification of a
<code>rowname_col</code> in <code><a href="#topic+gt">gt()</a></code>, (2) by introducing a data frame with row names to
<code><a href="#topic+gt">gt()</a></code> with <code>rownames_to_stub = TRUE</code>, or (3) by using <code><a href="#topic+summary_rows">summary_rows()</a></code> or
<code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code> with neither of the previous two conditions being
true.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_stub(rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_stub_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The rows to which targeting operations are constrained. The default
<code><a href="#topic+everything">everything()</a></code> results in all rows in <code>columns</code> being formatted.
Alternatively, we can supply a vector of row IDs within <code>c()</code>, a vector of
row indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).
We can also use expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_stub</code> and <code>location_cells</code>.
</p>


<h3>Examples</h3>

<p>Using a transformed version of the <code><a href="#topic+sza">sza</a></code> dataset, let's create a <strong>gt</strong>
table. Color all of the <code>month</code> values in the table stub with <code><a href="#topic+tab_style">tab_style()</a></code>,
using <code>cells_stub()</code> in <code>locations</code>.
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(latitude == 20 &amp; tst &lt;= "1000") |&gt;
  dplyr::select(-latitude) |&gt;
  dplyr::filter(!is.na(sza)) |&gt;
  tidyr::spread(key = "tst", value = sza) |&gt;
  gt(rowname_col = "month") |&gt;
  sub_missing(missing_text = "") |&gt;
  tab_style(
    style = list(
      cell_fill(color = "darkblue"),
      cell_text(color = "white")
      ),
    locations = cells_stub()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_stub_1.png" alt="This image of a table was generated from the first code example in the `cells_stub()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-17
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_stub_grand_summary'>Location helper for targeting the stub cells in a grand summary</h2><span id='topic+cells_stub_grand_summary'></span>

<h3>Description</h3>

<p><code>cells_stub_grand_summary()</code> is used to target the stub cells of
a grand summary and it is useful when applying a footnote with
<code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding custom styles with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is
expressly used in each of those functions' <code>locations</code> argument. The
'stub_grand_summary' location is generated by <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_stub_grand_summary(rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_stub_grand_summary_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>We can specify which rows should be targeted. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions
to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_stub_grand_summary</code> and
<code>location_cells</code>.
</p>


<h3>Targeting grand summary stub cells with <code>rows</code></h3>

<p>Targeting the stub cells of a grand summary row is done through the <code>rows</code>
argument. Grand summary cells in the stub will have ID values that can be
used much like column names in the <code>columns</code>-targeting scenario. We can use
simpler <strong>tidyselect</strong>-style expressions (the select helpers should work well
here) and we can use quoted row identifiers in <code>c()</code>. It's also possible to
use row indices (e.g., <code>c(3, 5, 6)</code>) that correspond to the row number of a
grand summary row.
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. Add
some styling to a grand summary stub cell with <code><a href="#topic+tab_style">tab_style()</a></code> and using
<code>cells_stub_grand_summary()</code> in the <code>locations</code> argument.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Spain", year &lt; 1970) |&gt;
  dplyr::select(-contains("country")) |&gt;
  gt(rowname_col = "year") |&gt;
  fmt_number(
    columns = population,
    decimals = 0
  ) |&gt;
  grand_summary_rows(
    columns = population,
    fns = list(change = ~max(.) - min(.)),
    fmt = ~ fmt_integer(.)
  ) |&gt;
  tab_style(
    style = cell_text(weight = "bold", transform = "uppercase"),
    locations = cells_stub_grand_summary(rows = "change")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_stub_grand_summary_1.png" alt="This image of a table was generated from the first code example in the `cells_stub_grand_summary()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-22
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_stub_summary'>Location helper for targeting the stub cells in a summary</h2><span id='topic+cells_stub_summary'></span>

<h3>Description</h3>

<p><code>cells_stub_summary()</code> is used to target the stub cells of
summary and it is useful when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or
adding custom styles with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in
each of those functions' <code>locations</code> argument. The 'stub_summary' location is
generated by <code><a href="#topic+summary_rows">summary_rows()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_stub_summary(groups = everything(), rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_stub_summary_+3A_groups">groups</code></td>
<td>
<p><em>Specification of row group IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-group-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The row groups to which targeting operations are constrained. Can either be
a series of row group ID values provided in <code>c()</code> or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="cells_stub_summary_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>groups</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_stub_summary</code> and
<code>location_cells</code>.
</p>


<h3>Targeting summary stub cells with <code>groups</code> and <code>rows</code></h3>

<p>Targeting the stub cells of group summary rows is done through the <code>groups</code>
and <code>rows</code> arguments. By default <code>groups</code> is set to <code>everything()</code>, which means
that all available groups will be considered. Providing the ID values (in
quotes) of row groups in <code>c()</code> will serve to constrain the targeting to that
subset of groups.
</p>
<p>Once the groups are targeted, we may also target the <code>rows</code> of the summary.
Summary cells in the stub will have ID values that can be used much like
column names in the <code>columns</code>-targeting scenario. We can use simpler
<strong>tidyselect</strong>-style expressions (the select helpers should work well here)
and we can use quoted row identifiers in <code>c()</code>. It's also possible to use row
indices (e.g., <code>c(3, 5, 6)</code>) that correspond to the row number of a summary
row in a row group (numbering restarts with every row group).
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. Add
some styling to the summary data stub cells with <code><a href="#topic+tab_style">tab_style()</a></code> and
<code>cells_stub_summary()</code> in the <code>locations</code> argument.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Japan", year &lt; 1970) |&gt;
  dplyr::select(-contains("country")) |&gt;
  dplyr::mutate(decade = paste0(substr(year, 1, 3), "0s")) |&gt;
  gt(
    rowname_col = "year",
    groupname_col = "decade"
  ) |&gt;
  fmt_integer(columns = population) |&gt;
  summary_rows(
    groups = "1960s",
    columns = population,
    fns = list("min", "max"),
    fmt = ~ fmt_integer(.)
  ) |&gt;
  tab_style(
    style = list(
      cell_text(
        weight = "bold",
        transform = "capitalize"
      ),
      cell_fill(
        color = "lightblue",
        alpha = 0.5
      )
    ),
    locations = cells_stub_summary(
      groups = "1960s"
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_stub_summary_1.png" alt="This image of a table was generated from the first code example in the `cells_stub_summary()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-21
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_stubhead'>Location helper for targeting the table stubhead cell</h2><span id='topic+cells_stubhead'></span>

<h3>Description</h3>

<p><code>cells_stubhead()</code> is used to target the table stubhead location
when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding custom style with
<code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in each of those functions'
<code>locations</code> argument. The 'stubhead' location is always present alongside the
'stub' location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_stubhead()
</code></pre>


<h3>Value</h3>

<p>A list object with the classes <code>cells_stubhead</code> and <code>location_cells</code>.
</p>


<h3>Examples</h3>

<p>Using a summarized version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset, let's create a
<strong>gt</strong> table. Add a stubhead label with <code><a href="#topic+tab_stubhead">tab_stubhead()</a></code> and then style it
with <code><a href="#topic+tab_style">tab_style()</a></code> in conjunction with the use of <code>cells_stubhead()</code> in the
<code>locations</code> argument.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::mutate(month = as.numeric(substr(date, 6, 7))) |&gt;
  dplyr::group_by(month, type) |&gt;
  dplyr::summarize(sold = dplyr::n(), .groups = "drop") |&gt;
  dplyr::filter(month %in% 1:2) |&gt;
  gt(rowname_col = "type") |&gt;
  tab_stubhead(label = "type") |&gt;
  tab_style(
    style = cell_fill(color = "lightblue"),
    locations = cells_stubhead()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_stubhead_1.png" alt="This image of a table was generated from the first code example in the `cells_stubhead()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-13
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_summary'>Location helper for targeting group summary cells</h2><span id='topic+cells_summary'></span>

<h3>Description</h3>

<p><code>cells_summary()</code> is used to target the cells in a group summary and it is
useful when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding a custom
style with <code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in each of those
functions' <code>locations</code> argument. The 'summary' location is generated by
<code><a href="#topic+summary_rows">summary_rows()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_summary(
  groups = everything(),
  columns = everything(),
  rows = everything()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_summary_+3A_groups">groups</code></td>
<td>
<p><em>Specification of row group IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-group-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The row groups to which targeting operations are constrained. This aids in
targeting the summary rows that reside in certain row groups. Can either be
a series of row group ID values provided in <code>c()</code> or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>.</p>
</td></tr>
<tr><td><code id="cells_summary_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which targeting operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="cells_summary_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to
filter down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object with the classes <code>cells_summary</code> and <code>location_cells</code>.
</p>


<h3>Targeting cells with <code>columns</code>, <code>rows</code>, and <code>groups</code></h3>

<p>Targeting of summary cells is done through the <code>groups</code>, <code>columns</code>, and
<code>rows</code> arguments. By default <code>groups</code> is set to <code>everything()</code>, which means
that all available groups will be considered. Providing the ID values (in
quotes) of row groups in <code>c()</code> will serve to constrain the targeting to that
subset of groups.
</p>
<p>The <code>columns</code> argument allows us to target a subset of summary
cells contained in the resolved columns. We say resolved because aside from
declaring column names in <code>c()</code> (with bare column names or names in quotes)
we can use <strong>tidyselect</strong>-style expressions. This can be as basic as
supplying a select helper like <code>starts_with()</code>, or, providing a more complex
incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>Once the groups and columns are targeted, we may also target the <code>rows</code> of
the summary. Summary cells in the stub will have ID values that can be used
much like column names in the <code>columns</code>-targeting scenario. We can use
simpler <strong>tidyselect</strong>-style expressions (the select helpers should work well
here) and we can use quoted row identifiers in <code>c()</code>. It's also possible to
use row indices (e.g., <code>c(3, 5, 6)</code>) that correspond to the row number of a
summary row in a row group (numbering restarts with every row group).
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. Add
some styling to the summary data cells with with <code><a href="#topic+tab_style">tab_style()</a></code>, using
<code>cells_summary()</code> in the <code>locations</code> argument.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Japan", year &lt; 1970) |&gt;
  dplyr::select(-contains("country")) |&gt;
  dplyr::mutate(decade = paste0(substr(year, 1, 3), "0s")) |&gt;
  gt(
    rowname_col = "year",
    groupname_col = "decade"
  ) |&gt;
  fmt_number(
    columns = population,
    decimals = 0
  ) |&gt;
  summary_rows(
    groups = "1960s",
    columns = population,
    fns = list("min", "max"),
    fmt = ~ fmt_integer(.)
  ) |&gt;
  tab_style(
    style = list(
      cell_text(style = "italic"),
      cell_fill(color = "lightblue")
    ),
    locations = cells_summary(
      groups = "1960s",
      columns = population,
      rows = 1
    )
  ) |&gt;
  tab_style(
    style = list(
      cell_text(style = "italic"),
      cell_fill(color = "lightgreen")
    ),
    locations = cells_summary(
      groups = "1960s",
      columns = population,
      rows = 2
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_summary_1.png" alt="This image of a table was generated from the first code example in the `cells_summary()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-19
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cells_title'>Location helper for targeting the table title and subtitle</h2><span id='topic+cells_title'></span>

<h3>Description</h3>

<p><code>cells_title()</code> is used to target the table title or subtitle
when applying a footnote with <code><a href="#topic+tab_footnote">tab_footnote()</a></code> or adding custom style with
<code><a href="#topic+tab_style">tab_style()</a></code>. The function is expressly used in each of those functions'
<code>locations</code> argument. The header location where the title and optionally the
subtitle reside is generated by the <code><a href="#topic+tab_header">tab_header()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cells_title(groups = c("title", "subtitle"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cells_title_+3A_groups">groups</code></td>
<td>
<p><em>Specification of groups</em>
</p>
<p><code style="white-space: pre;">&#8288;mult-kw:[title|subtitle]&#8288;</code> // <em>default:</em> <code>c("title", "subtitle")</code>
</p>
<p>We can either specify <code>"title"</code>, <code>"subtitle"</code>, or both (the default) in a
vector to target the title element, the subtitle element, or both elements.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object of classes <code>cells_title</code> and <code>location_cells</code>.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a small <strong>gt</strong> table. Add a
header with a title, and then add a footnote to the title with
<code><a href="#topic+tab_footnote">tab_footnote()</a></code> and <code>cells_title()</code> (in <code>locations</code>).
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "2015-01-05" &amp; date &lt;= "2015-01-10") |&gt;
  dplyr::select(-c(adj_close, volume, high, low)) |&gt;
  gt() |&gt;
  tab_header(title = "S&amp;P 500") |&gt;
  tab_footnote(
    footnote = "All values in USD.",
    locations = cells_title(groups = "title")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cells_title_1.png" alt="This image of a table was generated from the first code example in the `cells_title()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+location-helper">location-helper</a></code>
</p>

<hr>
<h2 id='cols_add'>Add one or more columns to a <strong>gt</strong> table</h2><span id='topic+cols_add'></span>

<h3>Description</h3>

<p>We can add new columns to a table with <code>cols_add()</code> and it works quite a bit
like <code>dplyr::mutate()</code> does. The idea is that you supply name-value pairs
where the name is the new column name and the value part describes the data
that will go into the column. The latter can: (1) be a vector where the
length of the number of rows in the data table, (2) be a single value
(which will be repeated all the way down), or (3) involve other columns in
the table (as they represent vectors of the correct length). The new columns
are added to the end of the column series by default but can instead be added
internally by using either the <code>.before</code> or <code>.after</code> arguments. If entirely
empty (i.e., all <code>NA</code>) columns need to be added, you can use any of the <code>NA</code>
types (e.g., <code>NA</code>, <code>NA_character_</code>, <code>NA_real_</code>, etc.) for such columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_add(.data, ..., .before = NULL, .after = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_add_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_add_+3A_...">...</code></td>
<td>
<p><em>Cell data assignments</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // (or, use <code>.list</code>)
</p>
<p>Expressions for the assignment of cell values to the new columns.
Name-value pairs, in the form of <code style="white-space: pre;">&#8288;&lt;column&gt; = &lt;value vector&gt;&#8288;</code> will work, so
long as any <code style="white-space: pre;">&#8288;&lt;column&gt;&#8288;</code> value does not already exist in the table. The
<code style="white-space: pre;">&#8288;&lt;value vector&gt;&#8288;</code> may be an expression that uses one or more column names in
the table to generate a vector of values. Single values in <code style="white-space: pre;">&#8288;&lt;value vector&gt;&#8288;</code>
will be repeated down the new column. A vector where the length is exactly
the number of rows in the table can also be used.</p>
</td></tr>
<tr><td><code id="cols_add_+3A_.before">.before</code>, <code id="cols_add_+3A_.after">.after</code></td>
<td>
<p><em>Column used as anchor</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single column-resolving expression or column index can be given to either
<code>.before</code> or <code>.after</code>. The column specifies where the new columns should be
positioned among the existing columns in the input data table. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name or index be
used. This is to ensure that exactly one column is provided to either of
these arguments (otherwise, the function will be stopped). If nothing is
provided for either argument then any new column will be placed at the end
of the column series.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting the column for insertion with <code>.before</code> or <code>.after</code></h3>

<p>The targeting of a column for insertion is done through the <code>.before</code> or
<code>.after</code> arguments (only one of these options should be be used). While
<strong>tidyselect</strong>-style expressions or indices can used to target a column, it's
advised that a single column name be used. This is to avoid the possibility
of inadvertently resolving multiple columns (since the requirement is for a
single column).
</p>


<h3>Examples</h3>

<p>Let's take a subset of the <code><a href="#topic+exibble">exibble</a></code> dataset and make a simple <strong>gt</strong> table
with it (using the <code>row</code> column for labels in the stub). We'll add a single
column to the right of all the existing columns and call it <code>country</code>. This
new column needs eight values and these will be supplied when using
<code>cols_add()</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, char, datetime, currency, group) |&gt;
  gt(rowname_col = "row") |&gt;
  cols_add(
    country = c("TL", "PY", "GL", "PA", "MO", "EE", "CO", "AU")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_1.png" alt="This image of a table was generated from the first code example in the `cols_add()` help file." style="width:100%;">

<p>We can add multiple columns with a single use of <code>cols_add()</code>. The columns
generated can be formatted and otherwise manipulated just as any column could
be in a <strong>gt</strong> table. The following example extends the first one by adding
more columns and immediately using them in various function calls like
<code><a href="#topic+fmt_flag">fmt_flag()</a></code> and <code><a href="#topic+fmt_units">fmt_units()</a></code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, char, datetime, currency, group) |&gt;
  gt(rowname_col = "row") |&gt;
  cols_add(
    country = c("TL", "PY", "GL", "PA", "MO", "EE", "CO", "AU"),
    empty = NA_character_,
    units = c(
      "k m s^-2", "N m^-2", "degC", "m^2 kg s^-2",
      "m^2 kg s^-3", "/s", "A s", "m^2 kg s^-3 A^-1"
    ),
    big_num = num ^ 3
  ) |&gt;
  fmt_flag(columns = country) |&gt;
  sub_missing(columns = empty, missing_text = "") |&gt;
  fmt_units(columns = units) |&gt;
  fmt_scientific(columns = big_num)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_2.png" alt="This image of a table was generated from the second code example in the `cols_add()` help file." style="width:100%;">

<p>In this table generated from a portion of the <code><a href="#topic+towny">towny</a></code> dataset, we add two
new columns (<code>land_area</code> and <code>density</code>) through a single use of <code>cols_add()</code>.
The new <code>land_area</code> column is a conversion of land area from square
kilometers to square miles and the <code>density</code> column is calculated by through
division of <code>population_2021</code> by that new <code>land_area</code> column. We hide the
now unneeded <code>land_area_km2</code> with <code><a href="#topic+cols_hide">cols_hide()</a></code> and also perform some column
labeling and adjustments to column widths with <code><a href="#topic+cols_label">cols_label()</a></code> and
<code><a href="#topic+cols_width">cols_width()</a></code>.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, population_2021, land_area_km2) |&gt;
  dplyr::filter(population_2021 &gt; 100000) |&gt;
  dplyr::slice_max(population_2021, n = 10) |&gt;
  gt() |&gt;
  cols_add(
    land_area = land_area_km2 / 2.58998811,
    density = population_2021 / land_area
  ) |&gt;
  fmt_integer() |&gt;
  cols_hide(columns = land_area_km2) |&gt;
  cols_label(
    population_2021 = "Population",
    density = "Density, {{*persons* / sq mi}}",
    land_area ~ "Area, {{mi^2}}"
  ) |&gt;
  cols_width(everything() ~ px(120))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_3.png" alt="This image of a table was generated from the third code example in the `cols_add()` help file." style="width:100%;">

<p>It's possible to start with an empty table (i.e., no columns and no rows) and
add one or more columns to that. You can, for example, use <code>dplyr::tibble()</code>
or <code>data.frame()</code> to create a completely empty table. The first <code>cols_add()</code>
call for an empty table can have columns of arbitrary length but subsequent
uses of <code>cols_add()</code> must adhere to the rule of new columns being the same
length as existing.
</p>
<div class="sourceCode r"><pre>dplyr::tibble() |&gt;
  gt() |&gt;
  cols_add(
    num = 1:5,
    chr = vec_fmt_spelled_num(1:5)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_4.png" alt="This image of a table was generated from the fourth code example in the `cols_add()` help file." style="width:100%;">

<p>Tables can contain no rows, yet have columns. In the following example, we'll
create a zero-row table with three columns (<code>num</code>, <code>chr</code>, and <code>ext</code>) and
perform the same <code>cols_add()</code>-based addition of two columns of data. This is
another case where the function allows for arbitrary-length columns (since
always adding zero-length columns is impractical). Furthermore, here we can
reference columns that already exist (<code>num</code> and <code>chr</code>) and add values to
them.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  num = numeric(0),
  chr = character(0),
  ext = character(0)
) |&gt;
  gt() |&gt;
  cols_add(
    num = 1:5,
    chr = vec_fmt_spelled_num(1:5)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_5.png" alt="This image of a table was generated from the fifth code example in the `cols_add()` help file." style="width:100%;">

<p>We should note that the <code>ext</code> column did not receive any values from
<code>cols_add()</code> but the table was expanded to having five rows nonetheless. So,
each cell of <code>ext</code> was by necessity filled with an <code>NA</code> value.
</p>


<h3>Function ID</h3>

<p>5-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_align'>Set the alignment of columns</h2><span id='topic+cols_align'></span>

<h3>Description</h3>

<p>The individual alignments of columns (which includes the column labels and
all of their data cells) can be modified. We have the option to align text to
the <code>left</code>, the <code>center</code>, and the <code>right</code>. In a less explicit manner, we can
allow <strong>gt</strong> to automatically choose the alignment of each column based on
the data type (with the <code>auto</code> option).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_align(
  data,
  align = c("auto", "left", "center", "right"),
  columns = everything()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_align_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_align_+3A_align">align</code></td>
<td>
<p><em>Alignment type</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|left|center|right]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>This can be any of <code>"center"</code>, <code>"left"</code>, or <code>"right"</code> for center-, left-,
or right-alignment. Alternatively, the <code>"auto"</code> option (the default), will
automatically align values in columns according to the data type (see the
Details section for specifics on which alignments are applied).</p>
</td></tr>
<tr><td><code id="cols_align_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns for which the alignment should be applied. Can either be a
series of column names provided in <code>c()</code>, a vector of column indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). By default this is set to
<code><a href="#topic+everything">everything()</a></code> which means that the chosen alignment affects all columns.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When you create a <strong>gt</strong> table object using <code><a href="#topic+gt">gt()</a></code>, automatic alignment of
column labels and their data cells is performed. By default, left-alignment
is applied to columns of class <code>character</code>, <code>Date</code>, or <code>POSIXct</code>;
center-alignment is for columns of class <code>logical</code>, <code>factor</code>, or <code>list</code>; and
right-alignment is used for the <code>numeric</code> and <code>integer</code> columns.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use <code><a href="#topic+countrypops">countrypops</a></code> to create a small <strong>gt</strong> table. We can change the
alignment of the <code>population</code> column with <code>cols_align()</code>. In this example,
the label and body cells of <code>population</code> will be aligned to the left.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "San Marino") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt(rowname_col = "year", groupname_col = "country_name") |&gt;
  cols_align(
    align = "left",
    columns = population
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_align_1.png" alt="This image of a table was generated from the first code example in the `cols_align()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_align_decimal'>Align all numeric values in a column along the decimal mark</h2><span id='topic+cols_align_decimal'></span>

<h3>Description</h3>

<p>For numeric columns that contain values with decimal portions, it is
sometimes useful to have them lined up along the decimal mark for easier
readability. We can do this with <code>cols_align_decimal()</code> and provide any
number of columns (the function will skip over columns that don't require
this type of alignment).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_align_decimal(data, columns = everything(), dec_mark = ".", locale = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_align_decimal_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_align_decimal_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns for which decimal alignment should be applied. Can either be a
series of column names provided in <code>c()</code>, a vector of column indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). By default this is set to
<code><a href="#topic+everything">everything()</a></code> which means that the decimal alignment affects all columns.</p>
</td></tr>
<tr><td><code id="cols_align_decimal_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The character used as a decimal mark in the numeric values to be aligned.
If a locale value was used when formatting the numeric values then <code>locale</code>
is better to use and it will override any value here in <code>dec_mark</code>.</p>
</td></tr>
<tr><td><code id="cols_align_decimal_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used to obtain the type of
decimal mark used in the numeric values to be aligned (according to the
locale's formatting rules). Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a
<code>locale</code> value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's put together a two-column table to create a <strong>gt</strong> table. The first
column <code>char</code> just contains letters whereas the second column, <code>num</code>, has a
collection of numbers and <code>NA</code> values. We could format the numbers with
<code><a href="#topic+fmt_number">fmt_number()</a></code> and elect to drop the trailing zeros past the decimal mark
with <code>drop_trailing_zeros = TRUE</code>. This can leave formatted numbers that are
hard to scan through because the decimal mark isn't fixed horizontally. We
could remedy this and align the numbers by the decimal mark with
<code>cols_align_decimal()</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  char = LETTERS[1:9],
  num = c(1.2, -33.52, 9023.2, -283.527, NA, 0.401, -123.1, NA, 41)
) |&gt;
  gt() |&gt;
  fmt_number(
    columns = num,
    decimals = 3,
    drop_trailing_zeros = TRUE
  ) |&gt;
  cols_align_decimal()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_align_decimal_1.png" alt="This image of a table was generated from the first code example in the `cols_align_decimal()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_hide'>Hide one or more columns</h2><span id='topic+cols_hide'></span>

<h3>Description</h3>

<p><code>cols_hide()</code> allows us to hide one or more columns from
appearing in the final output table. While it's possible and often desirable
to omit columns from the input table data before introduction to <code><a href="#topic+gt">gt()</a></code>,
there can be cases where the data in certain columns is useful (as a column
reference during formatting of other columns) but the final display of those
columns is not necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_hide(data, columns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_hide_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_hide_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The columns to hide in the output display table. Can either be a series of
column names provided in <code>c()</code>, a vector of column indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The hiding of columns is internally a rendering directive, so, all columns
that are 'hidden' are still accessible and useful in any expression provided
to a <code>rows</code> argument. Furthermore, <code>cols_hide()</code> (as with many <strong>gt</strong>
functions) can be placed anywhere in a pipeline of <strong>gt</strong> function calls
(acting as a promise to hide columns when the timing is right). However,
there's perhaps greater readability when placing this call closer to the end
of such a pipeline. <code>cols_hide()</code> quietly changes the visible state of a
column (much like <code><a href="#topic+cols_unhide">cols_unhide()</a></code>) and doesn't yield warnings or messages
when changing the state of already-invisible columns.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>. <code>data</code> will be unaltered if <code>columns</code> is
not supplied.
</p>


<h3>Examples</h3>

<p>Let's use a small portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong>
table. We can hide the <code>country_code_2</code> and <code>country_code_3</code> columns with the
<code>cols_hide()</code> function.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Egypt") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_hide(columns = c(country_code_2, country_code_3))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_hide_1.png" alt="This image of a table was generated from the first code example in the `cols_hide()` help file." style="width:100%;">

<p>Using another <code><a href="#topic+countrypops">countrypops</a></code>-based <strong>gt</strong> table, we can use the <code>population</code>
column to provide the conditional placement of footnotes. Then, we'll hide
that column along with the <code>country_code_3</code> column. Note that the order of
<code>cols_hide()</code> and <code><a href="#topic+tab_footnote">tab_footnote()</a></code> has no effect on the final display of the
table.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Pakistan") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_hide(columns = c(country_code_3, population)) |&gt;
  tab_footnote(
    footnote = "Population above 220,000,000.",
    locations = cells_body(
      columns = year,
      rows = population &gt; 220E6
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_hide_2.png" alt="This image of a table was generated from the second code example in the `cols_hide()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cols_unhide">cols_unhide()</a></code> to perform the inverse operation.
</p>
<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_label'>Relabel one or more columns</h2><span id='topic+cols_label'></span>

<h3>Description</h3>

<p>Column labels can be modified from their default values (the names of the
columns from the input table data). When you create a <strong>gt</strong> table object
using <code><a href="#topic+gt">gt()</a></code>, column names effectively become the column labels. While this
serves as a good first approximation, column names as label defaults aren't
often as appealing in a <strong>gt</strong> table as the option for custom column labels.
<code>cols_label()</code> provides the flexibility to relabel one or more columns and
we even have the option to use <code><a href="#topic+md">md()</a></code> or <code><a href="#topic+html">html()</a></code> for rendering column labels
from Markdown or using HTML.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_label(.data, ..., .list = list2(...), .fn = NULL, .process_units = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_label_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_label_+3A_...">...</code></td>
<td>
<p><em>Column label assignments</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>.list</code>)
</p>
<p>Expressions for the assignment of column labels for the table columns in
<code>.data</code>. Two-sided formulas (e.g., <code style="white-space: pre;">&#8288;&lt;LHS&gt; ~ &lt;RHS&gt;&#8288;</code>) can be used, where the
left-hand side corresponds to selections of columns and the right-hand side
evaluates to single-length values for the label to apply. Column names
should be enclosed in <code>c()</code>. Select helpers like <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, and <code><a href="#topic+everything">everything()</a></code> can be used
in the LHS. Named arguments are also valid as input for simple mappings of
column name to label text; they should be of the form <code style="white-space: pre;">&#8288;&lt;column name&gt; = &lt;label&gt;&#8288;</code>.
Subsequent expressions that operate on the columns assigned previously will
result in overwriting column label values.</p>
</td></tr>
<tr><td><code id="cols_label_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
<tr><td><code id="cols_label_+3A_.fn">.fn</code></td>
<td>
<p><em>Function to apply</em>
</p>
<p><code>function</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An option to specify a function that will be applied to all of the provided
label values.</p>
</td></tr>
<tr><td><code id="cols_label_+3A_.process_units">.process_units</code></td>
<td>
<p><em>Option to process any available units throughout</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Should your column text contain text that is already in <strong>gt</strong>'s units
notation (and, importantly, is surrounded by <code>"{{"</code>/<code>"}}"</code>), using <code>TRUE</code>
here reprocesses all column such that the units are properly registered for
each of the column labels. This ignores any column label assignments in
<code>...</code> or <code>.list</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>A note on column names and column labels</h3>

<p>It's important to note that while columns can be freely relabeled, we
continue to refer to columns by their original column names. Column names in
a tibble or data frame must be unique whereas column labels in <strong>gt</strong> have
no requirement for uniqueness (which is useful for labeling columns as, say,
measurement units that may be repeated several times&mdash;usually under
different spanner labels). Thus, we can still easily distinguish
between columns in other <strong>gt</strong> function calls (e.g., in all of the
<code style="white-space: pre;">&#8288;fmt*()&#8288;</code> functions) even though we may lose distinguishability between column
labels once they have undergone relabeling.
</p>


<h3>Incorporating units with <strong>gt</strong>'s units notation</h3>

<p>Measurement units are often seen as part of column labels and indeed it can
be much more straightforward to include them here rather than using other
devices to make readers aware of units for specific columns. The <strong>gt</strong>
package offers the function <code><a href="#topic+cols_units">cols_units()</a></code> to apply units to various columns
with an interface that's similar to that of this function. However, it is
also possible to define units here along with the column label, obviating the
need for pattern syntax that joins the two text components. To do this, we
have to surround the portion of text in the label that corresponds to the
units definition with <code>"{{"</code>/<code>"}}"</code>.
</p>
<p>Now that we know how to mark text for units definition, we know need to know
how to write proper units with the notation. Such notation uses a succinct
method of writing units and it should feel somewhat familiar though it is
particular to the task at hand. Each unit is treated as a separate entity
(parentheses and other symbols included) and the addition of subscript text
and exponents is flexible and relatively easy to formulate. This is all best
shown with a few examples:
</p>

<ul>
<li> <p><code>"m/s"</code> and <code>"m / s"</code> both render as <code>"m/s"</code>
</p>
</li>
<li> <p><code>"m s^-1"</code> will appear with the <code>"-1"</code> exponent intact
</p>
</li>
<li> <p><code>"m /s"</code> gives the same result, as <code>"/&lt;unit&gt;"</code> is equivalent to
<code>"&lt;unit&gt;^-1"</code>
</p>
</li>
<li> <p><code>"E_h"</code> will render an <code>"E"</code> with the <code>"h"</code> subscript
</p>
</li>
<li> <p><code>"t_i^2.5"</code> provides a <code>t</code> with an <code>"i"</code> subscript and a <code>"2.5"</code> exponent
</p>
</li>
<li> <p><code>"m[_0^2]"</code> will use overstriking to set both scripts vertically
</p>
</li>
<li> <p><code>"g/L %C6H12O6%"</code> uses a chemical formula (enclosed in a pair of <code>"%"</code>
characters) as a unit partial, and the formula will render correctly with
subscripted numbers
</p>
</li>
<li><p> Common units that are difficult to write using ASCII text may be implicitly
converted to the correct characters (e.g., the <code>"u"</code> in <code>"ug"</code>, <code>"um"</code>,
<code>"uL"</code>, and <code>"umol"</code> will be converted to the Greek <em>mu</em> symbol; <code>"degC"</code>
and <code>"degF"</code> will render a degree sign before the temperature unit)
</p>
</li>
<li><p> We can transform shorthand symbol/unit names enclosed in <code>":"</code> (e.g.,
<code>":angstrom:"</code>, <code>":ohm:"</code>, etc.) into proper symbols
</p>
</li>
<li><p> Greek letters can added by enclosing the letter name in <code>":"</code>; you can
use lowercase letters (e.g., <code>":beta:"</code>, <code>":sigma:"</code>, etc.) and uppercase
letters too (e.g., <code>":Alpha:"</code>, <code>":Zeta:"</code>, etc.)
</p>
</li>
<li><p> The components of a unit (unit name, subscript, and exponent) can be
fully or partially italicized/emboldened by surrounding text with <code>"*"</code> or
<code>"**"</code>
</p>
</li></ul>



<h3>Examples</h3>

<p>Let's use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table.
We can relabel all the table's columns with the <code>cols_label()</code> function to
improve its presentation. In this simple case we are supplying the name of
the column on the left-hand side, and the label text on the right-hand side.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Uganda") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_label(
    country_name = "Name",
    year = "Year",
    population = "Population"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_1.png" alt="This image of a table was generated from the first code example in the `cols_label()` help file." style="width:100%;">

<p>Using the <code><a href="#topic+countrypops">countrypops</a></code> dataset again, we label columns similarly to before
but this time making the column labels be bold through Markdown formatting
(with the <code><a href="#topic+md">md()</a></code> helper function). It's possible here to use either a <code>=</code> or
a <code>~</code> between the column name and the label text.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Uganda") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_label(
    country_name = md("**Name**"),
    year = md("**Year**"),
    population ~ md("**Population**")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_2.png" alt="This image of a table was generated from the second code example in the `cols_label()` help file." style="width:100%;">

<p>With a select portion of the <code><a href="#topic+metro">metro</a></code> dataset, let's create a small <strong>gt</strong>
table with three columns. Within <code>cols_label()</code> we'd like to provide column
labels that contain line breaks. For that, we can use <code style="white-space: pre;">&#8288;&lt;br&gt;&#8288;</code> to indicate
where the line breaks should be. We also need to use the <code><a href="#topic+md">md()</a></code> helper
function to signal to <strong>gt</strong> that this text should be interpreted as
Markdown. Instead of calling <code><a href="#topic+md">md()</a></code> on each of labels as before, we can more
conveniently use the <code>.fn</code> argument and provide the bare function there (it
will be applied to each label defined in the <code>cols_label()</code> call).
</p>
<div class="sourceCode r"><pre>metro |&gt;
  dplyr::select(name, lines, passengers, connect_other) |&gt;
  dplyr::slice_max(passengers, n = 10) |&gt;
  gt() |&gt;
  cols_hide(columns = passengers) |&gt;
  cols_label(
    name = "Name of&lt;br&gt;Metro Station",
    lines = "Metro&lt;br&gt;Lines",
    connect_other = "Train&lt;br&gt;Services",
    .fn = md
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_3.png" alt="This image of a table was generated from the third code example in the `cols_label()` help file." style="width:100%;">

<p>Using a subset of the <code><a href="#topic+towny">towny</a></code> dataset, we can create an interesting <strong>gt</strong>
table. First, only certain columns are selected from the dataset, some
filtering of rows is done, rows are sorted, and then only the first 10 rows
are kept. After the data is introduced to <code><a href="#topic+gt">gt()</a></code>, we then apply some spanner
labels using two calls of <code><a href="#topic+tab_spanner">tab_spanner()</a></code>. Below those spanners, we want to
label the columns by the years of interest. Using <code>cols_label()</code> and select
expressions on the left side of the formulas, we can easily relabel multiple
columns with common label text. Note that we cannot use an <code>=</code> sign in any of
the expressions within <code>cols_label()</code>; because the left-hand side is not a
single column name, we must use formula syntax (i.e., with the <code>~</code>).
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(
    name, ends_with("2001"), ends_with("2006"), matches("2001_2006")
  ) |&gt;
  dplyr::filter(population_2001 &gt; 100000) |&gt;
  dplyr::arrange(desc(pop_change_2001_2006_pct)) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  fmt_percent(columns = matches("change"), decimals = 1) |&gt;
  tab_spanner(label = "Population", columns = starts_with("population")) |&gt;
  tab_spanner(label = "Density", columns = starts_with("density")) |&gt;
  cols_label(
    ends_with("01") ~ "2001",
    ends_with("06") ~ "2006",
    matches("change") ~ md("Population Change,&lt;br&gt;2001 to 2006")
  ) |&gt;
  cols_width(everything() ~ px(120))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_4.png" alt="This image of a table was generated from the fourth code example in the `cols_label()` help file." style="width:100%;">

<p>Here's another table that uses the <code><a href="#topic+towny">towny</a></code> dataset. The big difference
compared to the previous <em>gt</em> table is that <code>cols_label()</code> as used here
incorporates unit notation text (within <code>"{{"</code>/<code>"}}"</code>).
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(
    name, population_2021, density_2021, land_area_km2, latitude, longitude
  ) |&gt;
  dplyr::filter(population_2021 &gt; 100000) |&gt;
  dplyr::arrange(desc(population_2021)) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  fmt_integer(columns = population_2021) |&gt;
  fmt_number(
    columns = c(density_2021, land_area_km2),
    decimals = 1
  ) |&gt;
  fmt_number(columns = latitude, decimals = 2) |&gt;
  fmt_number(columns = longitude, decimals = 2, scale_by = -1) |&gt;
  cols_label(
    starts_with("population") ~ "Population",
    starts_with("density") ~ "Density, {{*persons* km^-2}}",
    land_area_km2 ~ "Area, {{km^2}}",
    latitude ~ "Latitude, {{:degrees:N}}",
    longitude ~ "Longitude, {{:degrees:W}}"
  ) |&gt;
  cols_width(everything() ~ px(120))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_5.png" alt="This image of a table was generated from the fifth code example in the `cols_label()` help file." style="width:100%;">

<p>The <code><a href="#topic+illness">illness</a></code> dataset has units within the <code>units</code> column. They're
formatted in just the right way for <strong>gt</strong> too. Let's do some text
manipulation through <code>dplyr::mutate()</code> and some pivoting with
<code>tidyr::pivot_longer()</code> and <code>tidyr::pivot_wider()</code> in order to include the
units as part of the column names in the reworked table. These column names
are in a format where the units are included within <code>"{{"</code>/<code>"}}"</code>, so, we can
use <code>cols_label()</code> with the <code>.process_units = TRUE</code> option to register the
measurement units. In addition to this, because there is a <code style="white-space: pre;">&#8288;&lt;br&gt;&#8288;</code> included
(for a line break), we should use the <code>.fn</code> option and provide the <code><a href="#topic+md">md()</a></code>
helper function (as a bare function name). This ensures that any line breaks
will materialize.
</p>
<div class="sourceCode r"><pre>illness |&gt;
  dplyr::mutate(test = paste0(test, ",&lt;br&gt;{{", units, "}}")) |&gt;
  dplyr::slice_head(n = 8) |&gt;
  dplyr::select(-c(starts_with("norm"), units)) |&gt;
  tidyr::pivot_longer(
    cols = starts_with("day"),
    names_to = "day",
    names_prefix = "day_",
    values_to = "value"
  ) |&gt;
  tidyr::pivot_wider(
    names_from = test,
    values_from = value
  ) |&gt;
  gt(rowname_col = "day") |&gt;
  tab_stubhead(label = "Day") |&gt;
  cols_label(
    .fn = md,
    .process_units = TRUE
  ) |&gt;
  cols_width(
    stub() ~ px(50),
    everything() ~ px(120)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_6.png" alt="This image of a table was generated from the sixth code example in the `cols_label()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_label_with'>Relabel columns with a function</h2><span id='topic+cols_label_with'></span>

<h3>Description</h3>

<p>Column labels can be modified from their default values (the names of the
columns from the input table data). When you create a <strong>gt</strong> table object
using <code><a href="#topic+gt">gt()</a></code>, column names effectively become the column labels. While this
serves as a good first approximation, you may want to make adjustments so
that the columns names present better in the <strong>gt</strong> output table. The
<code>cols_label_with()</code> function allows for modification of column labels through
a supplied function. By default, the function will be invoked on all column
labels but this can be limited to a subset via the <code>columns</code> argument. With
the <code>fn</code> argument, we provide either a bare function name, a RHS formula
(with <code>.</code> representing the vector of column labels), or, an anonymous
function (e.g., <code>function(x) tools::toTitleCase(x)</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_label_with(data, columns = everything(), fn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_label_with_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_label_with_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns for which the column-labeling operations should be applied. Can
either be a series of column names provided in <code>c()</code>, a vector of column
indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="cols_label_with_+3A_fn">fn</code></td>
<td>
<p><em>Function to apply</em>
</p>
<p><code style="white-space: pre;">&#8288;function|formula&#8288;</code> // <strong>required</strong>
</p>
<p>The function or function call to be applied to the column labels. This can
take the form of a bare function (e.g., <code>tools::toTitleCase</code>), a function
call as a RHS formula (e.g., <code>~ tools::toTitleCase(.)</code>), or an anonymous
function as in <code>function(x) tools::toTitleCase(x)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>A note on column names and column labels</h3>

<p>It's important to note that while columns can be freely relabeled, we
continue to refer to columns by their original column names. Column names in
a tibble or data frame must be unique whereas column labels in <strong>gt</strong> have no
requirement for uniqueness (which is useful for labeling columns as, say,
measurement units that may be repeated several times&mdash;usually under
different spanner labels). Thus, we can still easily distinguish between
columns in other <strong>gt</strong> function calls (e.g., in all of the <code style="white-space: pre;">&#8288;fmt*()&#8288;</code>
functions) even though we may lose distinguishability in column labels once
they have been relabeled.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a <strong>gt</strong> table. We want all
the column labels to be entirely capitalized versions of the default labels
but, instead of using <code><a href="#topic+cols_label">cols_label()</a></code> and rewriting each label manually in
capital letters we can use <code>cols_label_with()</code> and instruct it to apply the
<code>toupper()</code> function to all column labels.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(
    date &gt;= "2015-12-01" &amp;
      date &lt;= "2015-12-15"
  ) |&gt;
  dplyr::select(-c(adj_close, volume)) |&gt;
  gt() |&gt;
  cols_label_with(fn = toupper)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_with_1.png" alt="This image of a table was generated from the first code example in the `cols_label_with()` help file." style="width:100%;">

<p>Use the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. To improve the
presentation of the table, we are again going to change the default column
labels via function calls supplied within <code>cols_label_with()</code>. We can, if we
prefer, apply multiple types of column label changes in sequence with
multiple calls of <code>cols_label_with()</code>. Here, we use the <code>make_clean_names()</code>
functions from the <strong>janitor</strong> package and follow up with the removal of a
numeral with <code>gsub()</code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(year == 2021) |&gt;
  dplyr::filter(grepl("^C", country_code_3)) |&gt;
  dplyr::select(-country_code_2, -year) |&gt;
  head(8) |&gt;
  gt() |&gt;
  cols_move_to_start(columns = country_code_3) |&gt;
  fmt_integer(columns = population) |&gt;
  cols_label_with(
    fn = ~ janitor::make_clean_names(., case = "title")
  ) |&gt;
  cols_label_with(
    fn = ~ gsub("[0-9]", "", .)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_with_2.png" alt="This image of a table was generated from the second code example in the `cols_label_with()` help file." style="width:100%;">

<p>We can make a svelte <strong>gt</strong> table with the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset. There are
ways to use one instance of <code>cols_label_with()</code> with multiple functions
called on the column labels. In the example, we use an anonymous function
call (with the <code>function(x) { ... }</code> construction) to perform multiple
mutations of <code>x</code> (the vector of column labels). We can even use the <code><a href="#topic+md">md()</a></code>
helper function with that to signal to <strong>gt</strong> that the column label should be
interpreted as Markdown text.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::mutate(month = substr(date, 6, 7)) |&gt;
  dplyr::group_by(month) |&gt;
  dplyr::summarize(pizze_vendute = dplyr::n()) |&gt;
  dplyr::ungroup() |&gt;
  dplyr::mutate(frazione_della_quota = pizze_vendute / 4000) |&gt;
  dplyr::mutate(date = paste0("2015/", month, "/01")) |&gt;
  dplyr::select(-month) |&gt;
  gt(rowname_col = "date") |&gt;
  fmt_date(date, date_style = "month", locale = "it") |&gt;
  fmt_percent(columns = frazione_della_quota) |&gt;
  fmt_integer(columns = pizze_vendute) |&gt;
  cols_width(everything() ~ px(100)) |&gt;
  cols_label_with(
    fn = function(x) {
      janitor::make_clean_names(x, case = "title") |&gt;
        toupper() |&gt;
        stringr::str_replace_all("^|$", "**") |&gt;
        md()
    }
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_label_with_3.png" alt="This image of a table was generated from the third code example in the `cols_label_with()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (March 31, 2023)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_merge'>Merge data from two or more columns to a single column</h2><span id='topic+cols_merge'></span>

<h3>Description</h3>

<p>This function takes input from two or more columns and allows the contents to
be merged into a single column by using a pattern that specifies the
arrangement. We can specify which columns to merge together in the <code>columns</code>
argument. The string-combining pattern is to be provided in the <code>pattern</code>
argument. The first column in the <code>columns</code> series operates as the target
column (i.e., the column that will undergo mutation) whereas all following
<code>columns</code> will be untouched. There is the option to hide the non-target
columns (i.e., second and subsequent columns given in <code>columns</code>). The
formatting of values in different columns will be preserved upon merging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_merge(
  data,
  columns,
  hide_columns = columns[-1],
  rows = everything(),
  pattern = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_merge_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_merge_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The columns for which the merging operations should be applied. The first
column resolved will be the target column (i.e., undergo mutation) and the
other columns will serve to provide input. Can either be a series of column
names provided in <code>c()</code>, a vector of column indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). A vector is recommended because in that
case we are absolutely certain about the order of columns, and, that order
information is needed for this and other arguments.</p>
</td></tr>
<tr><td><code id="cols_merge_+3A_hide_columns">hide_columns</code></td>
<td>
<p><em>Subset of <code>columns</code> to hide</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;|FALSE&#8288;</code> // <em>default:</em> <code>columns[-1]</code>
</p>
<p>Any column names provided here will have their state changed to <code>hidden</code>
(via internal use of <code><a href="#topic+cols_hide">cols_hide()</a></code>) if they aren't already hidden. This is
convenient if the shared purpose of these specified columns is only to
provide string input to the target column. To suppress any hiding of
columns, <code>FALSE</code> can be used here.</p>
</td></tr>
<tr><td><code id="cols_merge_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
participate in the merging process. The default <code><a href="#topic+everything">everything()</a></code> results in
all rows in <code>columns</code> being formatted. Alternatively, we can supply a
vector of row IDs within <code>c()</code>, a vector of row indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="cols_merge_+3A_pattern">pattern</code></td>
<td>
<p><em>Formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A formatting pattern that specifies the arrangement of the <code>columns</code> values
and any string literals. The pattern uses numbers (within <code>{ }</code>) that
correspond to the indices of columns provided in <code>columns</code>. If two columns
are provided in <code>columns</code> and we would like to combine the cell data onto
the first column, <code>"{1} {2}"</code> could be used. If a pattern isn't provided
then a space-separated pattern that includes all <code>columns</code> will be
generated automatically. Further details are provided in the <em>How the
<code>pattern</code> works</em> section.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>How the <code>pattern</code> works</h3>

<p>There are two types of templating for the <code>pattern</code> string:
</p>

<ol>
<li> <p><code>{ }</code> for arranging single column values in a row-wise fashion
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;&lt; &gt;&gt;&#8288;</code> to surround spans of text that will be removed if any of the
contained <code>{ }</code> yields a missing value
</p>
</li></ol>

<p>Integer values are placed in <code>{ }</code> and those values correspond to the columns
involved in the merge, in the order they are provided in the <code>columns</code>
argument. So the pattern <code>"{1} ({2}-{3})"</code> corresponds to the target column
value listed first in <code>columns</code> and the second and third columns cited
(formatted as a range in parentheses). With hypothetical values, this might
result as the merged string <code>"38.2 (3-8)"</code>.
</p>
<p>Because some values involved in merging may be missing, it is likely that
something like <code>"38.2 (3-NA)"</code> would be undesirable. For such cases, placing
sections of text in <code style="white-space: pre;">&#8288;&lt;&lt; &gt;&gt;&#8288;</code> results in the entire span being eliminated if
there were to be an <code>NA</code> value (arising from <code>{ }</code> values). We could instead
opt for a pattern like <code>"{1}&lt;&lt; ({2}-{3})&gt;&gt;"</code>, which results in <code>"38.2"</code> if
either columns <code>{2}</code> or <code>{3}</code> have an <code>NA</code> value. We can even use a more
complex nesting pattern like <code>"{1}&lt;&lt; ({2}-&lt;&lt;{3}&gt;&gt;)&gt;&gt;"</code> to retain a lower
limit in parentheses (where <code>{3}</code> is <code>NA</code>) but remove the range altogether
if <code>{2}</code> is <code>NA</code>.
</p>
<p>One more thing to note here is that if <code><a href="#topic+sub_missing">sub_missing()</a></code> is used on values in
a column, those specific values affected won't be considered truly missing by
<code>cols_merge()</code> (since it's been handled with substitute text). So, the
complex pattern <code>"{1}&lt;&lt; ({2}-&lt;&lt;{3}&gt;&gt;)&gt;&gt;"</code> might result in something like
<code>"38.2 (3-limit)"</code> if <code>sub_missing(..., missing_text = "limit")</code> were used
on the third column supplied in <code>columns</code>.
</p>


<h3>Comparison with other column-merging functions</h3>

<p>There are three other column-merging functions that offer specialized
behavior that is optimized for common table tasks: <code><a href="#topic+cols_merge_range">cols_merge_range()</a></code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert()</a></code>, and <code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct()</a></code>. These functions operate
similarly, where the non-target columns can be optionally hidden from the
output table through the <code>autohide</code> option.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a <strong>gt</strong> table. Use the
<code>cols_merge()</code> function to merge the <code>open</code> &amp; <code>close</code> columns together, and,
the <code>low</code> &amp; <code>high</code> columns (putting an em dash between both). Relabel the
columns with <code><a href="#topic+cols_label">cols_label()</a></code>.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice(50:55) |&gt;
  dplyr::select(-volume, -adj_close) |&gt;
  gt() |&gt;
  cols_merge(
    columns = c(open, close),
    pattern = "{1}&amp;mdash;{2}"
  ) |&gt;
  cols_merge(
    columns = c(low, high),
    pattern = "{1}&amp;mdash;{2}"
  ) |&gt;
  cols_label(
    open = "open/close",
    low = "low/high"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_merge_1.png" alt="This image of a table was generated from the first code example in the `cols_merge()` help file." style="width:100%;">

<p>Use a portion of <code><a href="#topic+gtcars">gtcars</a></code> to create a <strong>gt</strong> table. Use the <code>cols_merge()</code>
function to merge the <code>trq</code> &amp; <code>trq_rpm</code> columns together, and, the <code>mpg_c</code> &amp;
<code>mpg_h</code> columns. Given the presence of <code>NA</code> values, we can use patterns that
drop parts of the output text whenever missing values are encountered.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::filter(year == 2017) |&gt;
  dplyr::select(mfr, model, starts_with(c("trq", "mpg"))) |&gt;
  gt() |&gt;
  fmt_integer(columns = trq_rpm) |&gt;
  cols_merge(
    columns = starts_with("trq"),
    pattern = "{1}&lt;&lt; ({2} rpm)&gt;&gt;"
  ) |&gt;
  cols_merge(
    columns = starts_with("mpg"),
    pattern = "&lt;&lt;{1} city&lt;&lt;/{2} hwy&gt;&gt;&gt;&gt;"
  ) |&gt;
  cols_label(
    mfr = "Manufacturer",
    model = "Car Model",
    trq = "Torque",
    mpg_c = "MPG"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_merge_2.png" alt="This image of a table was generated from the second code example in the `cols_merge()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-14
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_merge_n_pct'>Merge two columns to combine counts and percentages</h2><span id='topic+cols_merge_n_pct'></span>

<h3>Description</h3>

<p><code>cols_merge_n_pct()</code> is a specialized variant of <code><a href="#topic+cols_merge">cols_merge()</a></code>,
It operates by taking two columns that constitute both a count (<code>col_n</code>) and
a fraction of the total population (<code>col_pct</code>) and merges them into a single
column. What results is a column containing both counts and their associated
percentages (e.g., <code style="white-space: pre;">&#8288;12 (23.2%)&#8288;</code>). The column specified in <code>col_pct</code> is
dropped from the output table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_merge_n_pct(data, col_n, col_pct, rows = everything(), autohide = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_merge_n_pct_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_merge_n_pct_+3A_col_n">col_n</code></td>
<td>
<p><em>Column to target for counts</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The column that contains values for the count component. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name be used. This
is to ensure that exactly one column is provided here.</p>
</td></tr>
<tr><td><code id="cols_merge_n_pct_+3A_col_pct">col_pct</code></td>
<td>
<p><em>Column to target for percentages</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The column that contains values for the percentage component. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name be used. This
is to ensure that exactly one column is provided here. This column should
be formatted such that percentages are displayed (e.g., with
<code>fmt_percent()</code>).</p>
</td></tr>
<tr><td><code id="cols_merge_n_pct_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
participate in the merging process. The default <code><a href="#topic+everything">everything()</a></code> results in
all rows in <code>columns</code> being formatted. Alternatively, we can supply a
vector of row IDs within <code>c()</code>, a vector of row indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="cols_merge_n_pct_+3A_autohide">autohide</code></td>
<td>
<p><em>Automatic hiding of the <code>col_pct</code> column</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to automatically hide the column specified as <code>col_pct</code>. Any
columns with their state changed to hidden will behave the same as before,
they just won't be displayed in the finalized table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Comparison with other column-merging functions</h3>

<p>This function could be somewhat replicated using <code><a href="#topic+cols_merge">cols_merge()</a></code>, however,
<code>cols_merge_n_pct()</code> employs the following specialized semantics for <code>NA</code>
and zero-value handling:
</p>

<ol>
<li> <p><code>NA</code>s in <code>col_n</code> result in missing values for the merged
column (e.g., <code>NA</code> + <code style="white-space: pre;">&#8288;10.2%&#8288;</code> = <code>NA</code>)
</p>
</li>
<li> <p><code>NA</code>s in <code>col_pct</code> (but not <code>col_n</code>) result in
base values only for the merged column (e.g., <code>13</code> + <code>NA</code> = <code>13</code>)
</p>
</li>
<li> <p><code>NA</code>s both <code>col_n</code> and <code>col_pct</code> result in
missing values for the merged column (e.g., <code>NA</code> + <code>NA</code> = <code>NA</code>)
</p>
</li>
<li><p> If a zero (<code>0</code>) value is in <code>col_n</code> then the formatted output will be
<code>"0"</code> (i.e., no percentage will be shown)
</p>
</li></ol>

<p>Any resulting <code>NA</code> values in the <code>col_n</code> column following the merge
operation can be easily formatted using <code><a href="#topic+sub_missing">sub_missing()</a></code>.
Separate calls of <code><a href="#topic+sub_missing">sub_missing()</a></code> can be used for the <code>col_n</code> and
<code>col_pct</code> columns for finer control of the replacement values. It is the
responsibility of the user to ensure that values are correct in both the
<code>col_n</code> and <code>col_pct</code> columns (this function neither generates nor
recalculates values in either). Formatting of each column can be done
independently in separate <code><a href="#topic+fmt_number">fmt_number()</a></code> and <code><a href="#topic+fmt_percent">fmt_percent()</a></code> calls.
</p>
<p>This function is part of a set of four column-merging functions. The other
three are the general <code><a href="#topic+cols_merge">cols_merge()</a></code> function and the specialized
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert()</a></code> and <code><a href="#topic+cols_merge_range">cols_merge_range()</a></code> functions. These functions
operate similarly, where the non-target columns can be optionally hidden from
the output table through the <code>hide_columns</code> or <code>autohide</code> options.
</p>


<h3>Examples</h3>

<p>Using a summarized version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset, let's create a
<strong>gt</strong> table that displays the counts and percentages of the top 3 pizzas
sold by pizza category in 2015. The <code>cols_merge_n_pct()</code> function is used to
merge the <code>n</code> and <code>frac</code> columns (and the <code>frac</code> column is formatted using
<code><a href="#topic+fmt_percent">fmt_percent()</a></code>).
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::group_by(name, type, price) |&gt;
  dplyr::summarize(
    n = dplyr::n(),
    frac = n/nrow(pizzaplace),
    .groups = "drop"
  ) |&gt;
  dplyr::arrange(type, dplyr::desc(n)) |&gt;
  dplyr::group_by(type) |&gt;
  dplyr::slice_head(n = 3) |&gt;
  gt(
    rowname_col = "name",
    groupname_col = "type"
  ) |&gt;
  fmt_currency(price) |&gt;
  fmt_percent(frac) |&gt;
  cols_merge_n_pct(
    col_n = n,
    col_pct = frac
  ) |&gt;
  cols_label(
    n = md("*N* (%)"),
    price = "Price"
  ) |&gt;
  tab_style(
    style = cell_text(font = "monospace"),
    locations = cells_stub()
  ) |&gt;
  tab_stubhead(md("Cat. and  \nPizza Code")) |&gt;
  tab_header(title = "Top 3 Pizzas Sold by Category in 2015") |&gt;
  tab_options(table.width = px(512))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_merge_n_pct_1.png" alt="This image of a table was generated from the first code example in the `cols_merge_n_pct()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-17
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_merge_range'>Merge two columns to a value range column</h2><span id='topic+cols_merge_range'></span>

<h3>Description</h3>

<p><code>cols_merge_range()</code> is a specialized variant of <code><a href="#topic+cols_merge">cols_merge()</a></code>. It operates
by taking a two columns that constitute a range of values (<code>col_begin</code> and
<code>col_end</code>) and merges them into a single column. What results is a column
containing both values separated by an em dash. The column specified in
<code>col_end</code> is dropped from the output table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_merge_range(
  data,
  col_begin,
  col_end,
  rows = everything(),
  autohide = TRUE,
  sep = NULL,
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_merge_range_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_merge_range_+3A_col_begin">col_begin</code></td>
<td>
<p><em>Column to target for beginning of range</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The column that contains values for the start of the range. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name be used. This
is to ensure that exactly one column is provided here.</p>
</td></tr>
<tr><td><code id="cols_merge_range_+3A_col_end">col_end</code></td>
<td>
<p><em>Column to target for end of range</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The column that contains values for the end of the range. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name be used. This
is to ensure that exactly one column is provided here.</p>
</td></tr>
<tr><td><code id="cols_merge_range_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
participate in the merging process. The default <code><a href="#topic+everything">everything()</a></code> results in
all rows in <code>columns</code> being formatted. Alternatively, we can supply a
vector of row IDs within <code>c()</code>, a vector of row indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="cols_merge_range_+3A_autohide">autohide</code></td>
<td>
<p><em>Automatic hiding of the <code>col_end</code> column</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to automatically hide the column specified as
<code>col_end</code>. Any columns with their state changed to hidden will behave
the same as before, they just won't be displayed in the finalized table.</p>
</td></tr>
<tr><td><code id="cols_merge_range_+3A_sep">sep</code></td>
<td>
<p><em>Separator text for ranges</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The separator text that indicates the values are ranged. If a <code>sep</code> value
is not provided then the range separator specific to the <code>locale</code> provided
will be used (if a locale isn't specified then an en dash will be used).
You can specify the use of an en dash with <code>"--"</code>; a triple-hyphen sequence
(<code>"---"</code>) will be transformed to an em dash. Should you want hyphens to be
taken literally, the <code>sep</code> value can be supplied within the base <code><a href="base.html#topic+I">I()</a></code>
function.</p>
</td></tr>
<tr><td><code id="cols_merge_range_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for applying a <code>sep</code> pattern
specific to a locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> as a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Comparison with other column-merging functions</h3>

<p>This function could be somewhat replicated using <code><a href="#topic+cols_merge">cols_merge()</a></code>, however,
<code>cols_merge_range()</code> employs the following specialized operations for <code>NA</code>
handling:
</p>

<ol>
<li> <p><code>NA</code>s in <code>col_begin</code> (but not <code>col_end</code>) result in a display of only
</p>
</li>
<li> <p><code>NA</code>s in <code>col_end</code> (but not <code>col_begin</code>) result in a display of only
the <code>col_begin</code> values only for the merged column (this is the converse of
the previous)
</p>
</li>
<li> <p><code>NA</code>s both in <code>col_begin</code> and <code>col_end</code> result in missing values for
the merged column
</p>
</li></ol>

<p>Any resulting <code>NA</code> values in the <code>col_begin</code> column following the merge
operation can be easily formatted using <code><a href="#topic+sub_missing">sub_missing()</a></code>. Separate calls of
<code><a href="#topic+sub_missing">sub_missing()</a></code> can be used for the <code>col_begin</code> and <code>col_end</code> columns for
finer control of the replacement values.
</p>
<p>This function is part of a set of four column-merging functions. The other
three are the general <code><a href="#topic+cols_merge">cols_merge()</a></code> function and the specialized
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert()</a></code> and <code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct()</a></code> functions. These functions
operate similarly, where the non-target columns can be optionally hidden from
the output table through the <code>hide_columns</code> or <code>autohide</code> options.
</p>


<h3>Examples</h3>

<p>Let's use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table,
keeping only the <code>model</code>, <code>mpg_c</code>, and <code>mpg_h</code> columns. Merge the <code>"mpg*"</code>
columns together as a single range column (which is labeled as MPG, in
italics) using the <code>cols_merge_range()</code> function. After the merging process,
the column label for the <code>mpg_c</code> column is updated with <code><a href="#topic+cols_label">cols_label()</a></code> to
better describe the content.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, starts_with("mpg")) |&gt;
  dplyr::slice(1:8) |&gt;
  gt() |&gt;
  cols_merge_range(
    col_begin = mpg_c,
    col_end = mpg_h
  ) |&gt;
  cols_label(mpg_c = md("*MPG*"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_merge_range_1.png" alt="This image of a table was generated from the first code example in the `cols_merge_range()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-16
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_merge_uncert'>Merge columns to a value-with-uncertainty column</h2><span id='topic+cols_merge_uncert'></span>

<h3>Description</h3>

<p><code>cols_merge_uncert()</code> is a specialized variant of <code><a href="#topic+cols_merge">cols_merge()</a></code>. It takes as
input a base value column (<code>col_val</code>) and either: (1) a single uncertainty
column, or (2) two columns representing lower and upper uncertainty bounds.
These columns will be essentially merged in a single column (that of
<code>col_val</code>). What results is a column with values and associated
uncertainties, and any columns specified in <code>col_uncert</code> are hidden from
appearing the output table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_merge_uncert(
  data,
  col_val,
  col_uncert,
  rows = everything(),
  sep = " +/- ",
  autohide = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_merge_uncert_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_merge_uncert_+3A_col_val">col_val</code></td>
<td>
<p><em>Column to target for base values</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The column that contains values for the start of the range. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name be used. This
is to ensure that exactly one column is provided here.</p>
</td></tr>
<tr><td><code id="cols_merge_uncert_+3A_col_uncert">col_uncert</code></td>
<td>
<p><em>Column or columns to target for uncertainty values</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The most common case involves supplying a single column with uncertainties;
these values will be combined with those in <code>col_val</code>. Less commonly, the
lower and upper uncertainty bounds may be different. For that case, two
columns representing the lower and upper uncertainty values away from
<code>col_val</code>, respectively, should be provided. While select helper functions
such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for column targeting,
it's recommended that one or two column names be explicitly provided in a
vector.</p>
</td></tr>
<tr><td><code id="cols_merge_uncert_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
participate in the merging process. The default <code><a href="#topic+everything">everything()</a></code> results in
all rows in <code>columns</code> being formatted. Alternatively, we can supply a
vector of row IDs within <code>c()</code>, a vector of row indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>,  <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="cols_merge_uncert_+3A_sep">sep</code></td>
<td>
<p><em>Separator text for uncertainties</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" +/- "</code>
</p>
<p>The separator text that contains the uncertainty mark for a single
uncertainty value. The default value of <code>" +/- "</code> indicates that an
appropriate plus/minus mark will be used depending on the output context.
Should you want this special symbol to be taken literally, it can be
supplied within the <code><a href="base.html#topic+I">I()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_merge_uncert_+3A_autohide">autohide</code></td>
<td>
<p><em>Automatic hiding of the <code>col_uncert</code> column(s)</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to automatically hide any columns specified in <code>col_uncert</code>. Any
columns with their state changed to 'hidden' will behave the same as
before, they just won't be displayed in the finalized table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Comparison with other column-merging functions</h3>

<p>This function could be somewhat replicated using <code><a href="#topic+cols_merge">cols_merge()</a></code> in the case
where a single column is supplied for <code>col_uncert</code>, however,
<code>cols_merge_uncert()</code> employs the following specialized semantics for <code>NA</code>
handling:
</p>

<ol>
<li> <p><code>NA</code>s in <code>col_val</code> result in missing values for the merged column (e.g.,
<code>NA</code> + <code>0.1</code> = <code>NA</code>)
</p>
</li>
<li> <p><code>NA</code>s in <code>col_uncert</code> (but not <code>col_val</code>) result in base values only for
the merged column (e.g., <code>12.0</code> + <code>NA</code> = <code>12.0</code>)
</p>
</li>
<li> <p><code>NA</code>s both <code>col_val</code> and <code>col_uncert</code> result in missing values for the
merged column (e.g., <code>NA</code> + <code>NA</code> = <code>NA</code>)
</p>
</li></ol>

<p>Any resulting <code>NA</code> values in the <code>col_val</code> column following the merge
operation can be easily formatted using <code><a href="#topic+sub_missing">sub_missing()</a></code>.
</p>
<p>This function is part of a set of four column-merging functions. The other
three are the general <code><a href="#topic+cols_merge">cols_merge()</a></code> function and the specialized
<code><a href="#topic+cols_merge_range">cols_merge_range()</a></code> and <code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct()</a></code> functions. These functions
operate similarly, where the non-target columns can be optionally hidden from
the output table through the <code>hide_columns</code> or <code>autohide</code> options.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>num</code> and <code>currency</code> columns). We'll format the <code>num</code>
column with the <code><a href="#topic+fmt_number">fmt_number()</a></code> function. Next we merge the <code>currency</code> and
<code>num</code> columns into the <code>currency</code> column; this will contain a base value and
an uncertainty and it's all done using the <code>cols_merge_uncert()</code> function.
After the merging process, the column label for the <code>currency</code> column is
updated with <code><a href="#topic+cols_label">cols_label()</a></code> to better describe the content.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, currency) |&gt;
  dplyr::slice(1:7) |&gt;
  gt() |&gt;
  fmt_number(
    columns = num,
    decimals = 3,
    use_seps = FALSE
  ) |&gt;
  cols_merge_uncert(
    col_val = currency,
    col_uncert = num
  ) |&gt;
  cols_label(currency = "value + uncert.")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_merge_uncert_1.png" alt="This image of a table was generated from the first code example in the `cols_merge_uncert()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-15
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_move'>Move one or more columns</h2><span id='topic+cols_move'></span>

<h3>Description</h3>

<p>On those occasions where you need to move columns this way or that way, we
can make use of the <code>cols_move()</code> function. While it's true that the movement
of columns can be done upstream of <strong>gt</strong>, it is much easier and less error
prone to use the function provided here. The movement procedure here takes
one or more specified columns (in the <code>columns</code> argument) and places them to
the right of a different column (the <code>after</code> argument). The ordering of the
<code>columns</code> to be moved is preserved, as is the ordering of all other columns
in the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_move(data, columns, after)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_move_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_move_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The columns for which the moving operations should be applied. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. The columns
move as a group to a different position. The order of the remaining columns
will be preserved.</p>
</td></tr>
<tr><td><code id="cols_move_+3A_after">after</code></td>
<td>
<p><em>Column used as anchor</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The column used to anchor the insertion of the moved columns. All of the
moved columns will be placed to the right of this column. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name be used. This
is to ensure that exactly one column is provided here.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The columns supplied in <code>columns</code> must all exist in the table and none of
them can be in the <code>after</code> argument. The <code>after</code> column must also exist and
only one column should be provided here. If you need to place one or more
columns at the beginning of the column series, the <code><a href="#topic+cols_move_to_start">cols_move_to_start()</a></code>
function should be used. Similarly, if those columns to move should be placed
at the end of the column series then use <code><a href="#topic+cols_move_to_end">cols_move_to_end()</a></code>.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. We'll choose to
position the <code>population</code> column after the <code>country_name</code> column by using the
<code>cols_move()</code> function.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Japan") |&gt;
  dplyr::slice_tail(n = 10) |&gt;
  gt() |&gt;
  cols_move(
    columns = population,
    after = country_name
  ) |&gt;
  fmt_integer(columns = population)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_move_1.png" alt="This image of a table was generated from the first code example in the `cols_move()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_move_to_end'>Move one or more columns to the end</h2><span id='topic+cols_move_to_end'></span>

<h3>Description</h3>

<p>It's possible to move a set of columns to the end of the column series, we
only need to specify which <code>columns</code> are to be moved. While this can be done
upstream of <strong>gt</strong>, this function makes to process much easier and it's less
error prone. The ordering of the <code>columns</code> that are moved to the end is
preserved (same with the ordering of all other columns in the table).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_move_to_end(data, columns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_move_to_end_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_move_to_end_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The columns for which the moving operations should be applied. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. The columns
move as a group to the right-most side of the table. The order of the
remaining columns will be preserved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The columns supplied in <code>columns</code> must all exist in the table. If you need to
place one or columns at the start of the column series, <code><a href="#topic+cols_move_to_start">cols_move_to_start()</a></code>
should be used. More control is offered with <code><a href="#topic+cols_move">cols_move()</a></code>, where columns
could be placed after a specific column.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>For this example, we'll use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to
create a simple <strong>gt</strong> table. Let's move the <code>year</code> column, which is the
middle column, to the end of the column series with <code>cols_move_to_end()</code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Benin") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_move_to_end(columns = year)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_move_to_end_1.png" alt="This image of a table was generated from the first code example in the `cols_move_to_end()` help file." style="width:100%;">

<p>We can also move multiple columns at a time. With the same
<code><a href="#topic+countrypops">countrypops</a></code>-based table, let's move both the <code>year</code> and <code>country_name</code>
columns to the end of the column series.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Benin") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_move_to_end(columns = c(year, country_name))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_move_to_end_2.png" alt="This image of a table was generated from the second code example in the `cols_move_to_end()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-11
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_move_to_start'>Move one or more columns to the start</h2><span id='topic+cols_move_to_start'></span>

<h3>Description</h3>

<p>We can easily move set of columns to the beginning of the column series and
we only need to specify which <code>columns</code>. It's possible to do this upstream of
<strong>gt</strong>, however, it is easier with this function and it presents less
possibility for error. The ordering of the <code>columns</code> that are moved to the
start is preserved (same with the ordering of all other columns in the
table).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_move_to_start(data, columns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_move_to_start_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_move_to_start_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The columns for which the moving operations should be applied. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). The columns
move as a group to the left-most side of the table. The order of the
remaining columns will be preserved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The columns supplied in <code>columns</code> must all exist in the table. If you need to
place one or columns at the end of the column series, <code><a href="#topic+cols_move_to_end">cols_move_to_end()</a></code>
should be used. More control is offered with <code><a href="#topic+cols_move">cols_move()</a></code>, where columns
could be placed after a specific column.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>For this example, we'll use a portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to
create a simple <strong>gt</strong> table. Let's move the <code>year</code> column, which is the
middle column, to the start of the column series with <code>cols_move_to_start()</code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Fiji") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_move_to_start(columns = year)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_move_to_start_1.png" alt="This image of a table was generated from the first code example in the `cols_move_to_start()` help file." style="width:100%;">

<p>We can also move multiple columns at a time. With the same
<code><a href="#topic+countrypops">countrypops</a></code>-based table, let's move both the <code>year</code> and <code>population</code>
columns to the start of the column series.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(country_name == "Fiji") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_move_to_start(columns = c(year, population))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_move_to_start_2.png" alt="This image of a table was generated from the second code example in the `cols_move_to_start()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-10
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_nanoplot'>Add a new column of nanoplots, taking input data from selected columns</h2><span id='topic+cols_nanoplot'></span>

<h3>Description</h3>

<p>Nanoplots are tiny plots you can use in your <strong>gt</strong> table. They are simple by
design, mainly because there isn't a lot of space to work with. With that
simplicity, however, you do get a set of very succinct data visualizations
that adapt nicely to the amount of data you feed into them. With
<code>cols_nanoplot()</code> you take data from one or more columns as the basic inputs
for the nanoplots and generate a new column containing the plots. The
nanoplots are robust against missing values, and multiple strategies are
available for handling missingness.
</p>
<p>Nanoplots try to show individual data with reasonably good visibility.
Interactivity is included as a basic feature so one can hover over the data
points and vertical guides will display the value ascribed to each data
point. Because <strong>gt</strong> knows all about numeric formatting, values will be
compactly formatted so as to not take up valuable real estate. If you need to
create a nanoplot based on monetary values, that can be handled by providing
the currency code to the <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code> helper (then hook that up to
the <code>options</code> argument).  A guide on the left-hand side of the plot area will
appear on hover and display the minimal and maximal <em>y</em> values.
</p>
<p>There are three types of nanoplots available: <code>"line"</code>, <code>"bar"</code>, <code>"boxplot"</code>.
A line plot shows individual data points and has smooth connecting lines
between them to allow for easier scanning of values. You can opt for
straight-line connections between data points, or, no connections at all
(it's up to you). You can even eschew the data points and just have a simple
line. Regardless of how you mix and match difference plot layers, the plot
area focuses on the domain of the data points with the goal of showing you
the overall trend of the data. The data you feed into a line plot can consist
of a single vector of values (resulting in equally-spaced <em>y</em> values), or,
you can supply two vectors representative of <em>x</em> and <em>y</em>.
</p>
<p>A bar plot is built a little bit differently. The focus is on evenly-spaced
bars (requiring a single vector of values) that project from a zero line,
clearly showing the difference between positive and negative values. By
default, any type of nanoplot will have basic interactivity. One can hover
over the data points and vertical guides will display values ascribed to
each. A guide on the left-hand side of the plot area will display the minimal
and maximal <em>y</em> values on hover.
</p>
<p>Every box plot will take the collection of values for a row and construct the
plot horizontally. This is essentially a standard box-and-whisker diagram
where outliers are automatically displayed outside the left and right fences.
</p>
<p>While basic customization options are present in the <code>cols_nanoplot()</code>, many
more opportunities for customizing nanoplots on a more granular level are
possible with the <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code> helper function. That function should
be invoked at the <code>options</code> argument of <code>cols_nanoplot()</code>. Through that
helper, layers of the nanoplots can be selectively removed and the aesthetics
of the remaining plot components can be modified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_nanoplot(
  data,
  columns,
  rows = everything(),
  plot_type = c("line", "bar", "boxplot"),
  plot_height = "2em",
  missing_vals = c("gap", "marker", "zero", "remove"),
  autoscale = FALSE,
  autohide = TRUE,
  columns_x_vals = NULL,
  reference_line = NULL,
  reference_area = NULL,
  expand_x = NULL,
  expand_y = NULL,
  new_col_name = NULL,
  new_col_label = NULL,
  before = NULL,
  after = NULL,
  options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_nanoplot_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_columns">columns</code></td>
<td>
<p><em>Columns from which to get data for the dependent variable</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The columns which contain the numeric data to be plotted as nanoplots. Can
either be a series of column names provided in <code>c()</code>, a vector of column
indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). Data
collected from the columns will be concatenated together in the order of
resolution.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_rows">rows</code></td>
<td>
<p><em>Rows that should contain nanoplots</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>With <code>rows</code> we can specify which rows should contain nanoplots in the new
column. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in <code>columns</code> being
formatted. Alternatively, we can supply a vector of row IDs within <code>c()</code>, a
vector of row indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).
We can also use expressions to filter down to the rows we need(e.g.,
<code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_plot_type">plot_type</code></td>
<td>
<p><em>The type of nanoplot to display</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[line|bar|boxplot]&#8288;</code> // <em>default:</em> <code>"line"</code>
</p>
<p>Nanoplots can either take the form of a line plot (using <code>"line"</code>), a bar
plot (with <code>"bar"</code>), or a box plot (<code>"boxplot"</code>). A line plot, by default,
contains layers for a data line, data points, and a data area. Each of
these can be deactivated by using <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code>. With a bar plot,
the always visible layer is that of the data bars. Furthermore, a line plot
can optionally take in <em>x</em> values through the <code>columns_x_vals</code> argument
whereas bar plots and box plots both ignore any data representing the
independent variable.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_plot_height">plot_height</code></td>
<td>
<p><em>The height of the nanoplots</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"2em"</code>
</p>
<p>The height of the nanoplots. The default here is a sensible value of
<code>"2em"</code>. By way of comparison, this is a far greater height than the
default for icons through <code><a href="#topic+fmt_icon">fmt_icon()</a></code> (<code>"1em"</code>) and is the same height as
images inserted via <code><a href="#topic+fmt_image">fmt_image()</a></code> (also having a <code>"2em"</code> height default).</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_missing_vals">missing_vals</code></td>
<td>
<p><em>Treatment of missing values</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[gap|marker|zero|remove]&#8288;</code> // <em>default:</em> <code>"gap"</code>
</p>
<p>If missing values are encountered within the input data, there are three
strategies available for their handling: (1) <code>"gap"</code> will show data gaps
at the sites of missing data, where data lines will have discontinuities
and bar plots will have missing bars; (2) <code>"marker"</code> will behave like
<code>"gap"</code> but show prominent visual marks at the missing data locations; (3)
<code>"zero"</code> will replace <code>NA</code> values with zero values; and (4) <code>"remove"</code> will
remove any incoming <code>NA</code> values.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_autoscale">autoscale</code></td>
<td>
<p><em>Automatically set x- and y-axis scale limits based on data</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Using <code>autoscale = TRUE</code> will ensure that the bounds of all nanoplots
produced are based on the limits of data combined from all input rows. This
will result in a shared scale across all of the nanoplots (for <em>y</em>- and
<em>x</em>-axis data), which is useful in those cases where the nanoplot data
should be compared across rows.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_autohide">autohide</code></td>
<td>
<p><em>Automatically hide the <code>columns</code>/<code>columns_x_vals</code> column(s)</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to automatically hide any columns specified in <code>columns</code> and also
<code>columns_x_vals</code> (if used). Any columns with their state changed to
'hidden' will behave the same as before, they just won't be displayed in
the finalized table. Should you want to have these 'input' columns be
viewable, set <code>autohide = FALSE</code>.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_columns_x_vals">columns_x_vals</code></td>
<td>
<p><em>Columns containing values for the optional x variable</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>We can optionally obtain data for the independent variable (i.e., the
<em>x</em>-axis data) if specifying columns in <code>columns_x_vals</code>. This is only for
the <code>"line"</code> type of plot (set via the <code>plot_type</code> argument). We can supply
either be a series of column names provided in <code>c()</code>, a vector of column
indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). Data
collected from the columns will be concatenated together in the order of
resolution.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_reference_line">reference_line</code></td>
<td>
<p><em>Add a reference line</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer|character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A reference line requires a single input to define the line. It could be a
static numeric value, applied to all nanoplots generated. Or, the input can
be one of the following for generating the line from the underlying data:
(1) <code>"mean"</code>, (2) <code>"median"</code>, (3) <code>"min"</code>, (4) <code>"max"</code>, (5) <code>"q1"</code>, (6)
<code>"q3"</code>, (7) <code>"first"</code>, or (8) <code>"last"</code>.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_reference_area">reference_area</code></td>
<td>
<p><em>Add a reference area</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer|character&gt;|list&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A reference area requires two inputs to define bottom and top boundaries
for a rectangular area. The types of values supplied are the same as those
expected for <code>reference_line</code>, which is either a static numeric value or
one of the following keywords for the generation of the value: (1)
<code>"mean"</code>, (2) <code>"median"</code>, (3) <code>"min"</code>, (4) <code>"max"</code>, (5) <code>"q1"</code>, (6) <code>"q3"</code>,
(7) <code>"first"</code>, or (8) <code>"last"</code>. Input can either be a vector or list with
two elements.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_expand_x">expand_x</code>, <code id="cols_nanoplot_+3A_expand_y">expand_y</code></td>
<td>
<p><em>Expand plot scale in the x and y directions</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Should you need to have plots expand in the <em>x</em> or <em>y</em> direction, provide
one or more values to <code>expand_x</code> or <code>expand_y</code>. Any values provided that
are outside of the range of data provided to the plot should result in a
scale expansion.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_new_col_name">new_col_name</code></td>
<td>
<p><em>Column name for the new column containing the plots</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single column name in quotation marks. Values will be extracted from this
column and provided to compatible arguments. If not provided the new column
name will be <code>"nanoplots"</code>.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_new_col_label">new_col_label</code></td>
<td>
<p><em>Column label for the new column containing the plots</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single column label. If not supplied then the column label will inherit
from <code>new_col_name</code> (if nothing provided to that argument, the label will
be <code>"nanoplots"</code>).</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_before">before</code>, <code id="cols_nanoplot_+3A_after">after</code></td>
<td>
<p><em>Column used as anchor</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single column-resolving expression or column index can be given to either
<code>before</code> or <code>after</code>. The column specifies where the new column containing
the nanoplots should be positioned among the existing columns in the input
data table. While select helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and
<code><a href="#topic+ends_with">ends_with()</a></code> can be used for column targeting, it's recommended that a
single column name or index be used. This is to ensure that exactly one
column is provided to either of these arguments (otherwise, the function
will be stopped). If nothing is provided for either argument then the new
column will be placed at the end of the column series.</p>
</td></tr>
<tr><td><code id="cols_nanoplot_+3A_options">options</code></td>
<td>
<p><em>Set options for the nanoplots</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;nanoplot_options&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By using the <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code> helper function here, you can alter the
layout and styling of the nanoplots in the new column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values to insert into the nanoplots is done through <code>columns</code>
and additionally by <code>rows</code> (if nothing is provided for <code>rows</code> then entire
columns are selected). Aside from declaring column names in <code>c()</code> (with bare
column names or names in quotes) we can use also
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector.
</p>


<h3>How to supply data for nanoplots</h3>

<p>The input data for nanoplots naturally needs to be numeric and there are two
major ways to formulate that data: (1) from single values across many
columns, and (2) using text-based value streams. It's pretty easy to
rationalize the first, and we may already have wide data in the input data
frame anyway (take a look at the <code><a href="#topic+illness">illness</a></code> and <code><a href="#topic+towny">towny</a></code> datasets for
examples of this). There's one data value per column so the key thing here is
to reference the columns in the correct order. With a select helper, good
column naming, and the columns being in the intended order, this is a snap.
</p>
<p>The second option is to use text-based value streams. Sometimes you simply
don't want or don't need multiple columns and so a single column with all of
the data might be more practical. To make this work, you'd need to have a set
of numerical values separated by some sort of delimiter (could be a comma, a
space, a semicolon, you get the idea). Here's an example with three numbers,
written three ways: <code>"3.6 -2.44 1.98"</code>, <code>"3.6, -2.44, 1.98"</code>, and
<code>"3.6;-2.44;1.98"</code>. You can include <code>NA</code> values, not a problem, and here's an
example of that: <code>"6.232 NA 3.7 0.93"</code>. Another form of value stream involves
using datetimes in the ISO 8601 form of <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code>. These will
be internally converted to numeric values (seconds elapsed since
<code>"1970-01-01 00:00:00"</code>). An example of a datetime-based value stream is:
<code>"2012-06-12 08:24:13, 2012-06-12 10:37:08, 2012-06-12 14:03:24"</code>.
</p>
<p>Value streams can be pretty big if you want them to be, and you don't have to
deal with containing individual values across multiple columns. For the case
where you need to provide two sets of values (<em>x</em> and <em>y</em>, for line plots
with <code>columns</code> and <code>columns_x_vals</code>), have two equivalently sized value
streams in two columns. Value streams can also be concatenated together by
referencing columns having their own separate value streams.
</p>


<h3>Reference line and reference area</h3>

<p>Neither a horizontal <em>reference line</em> nor a <em>reference area</em> is present in
the default view but these can be added by providing valid input values in
the <code>reference_line</code> and <code>reference_area</code> arguments. A reference line can
be either be a static numeric value (supply any number to <code>reference_line</code>),
or it can be a keyword that computes the reference line <em>y</em> value using the
data values for each nanoplot. The following keywords can be used:
</p>

<ol>
<li> <p><code>"mean"</code>: The mean of the data values
</p>
</li>
<li> <p><code>"median"</code>: Median of data values
</p>
</li>
<li> <p><code>"min"</code>: Minimum value in set of data values
</p>
</li>
<li> <p><code>"max"</code>: The maximum value
</p>
</li>
<li> <p><code>"q1"</code>: The first, or lower, quartile of the data values
</p>
</li>
<li> <p><code>"q3"</code>: The third quartile, otherwise known as the upper quartile
</p>
</li>
<li> <p><code>"first"</code>: The first data value
</p>
</li>
<li> <p><code>"last"</code>: The last data value
</p>
</li></ol>

<p>The <em>reference area</em> accepts two inputs, and this can be two of the above
keywords, a keyword and a static numeric value, or two numeric values.
</p>


<h3>Examples</h3>

<p>Let's make some nanoplots with the <code><a href="#topic+illness">illness</a></code> dataset. The columns beginning
with 'day' all contain ordered measurement values, comprising seven
individual daily results. Using <code>cols_nanoplot()</code> we create a new column to
hold the nanoplots (with <code>new_col_name = "nanoplots"</code>), referencing the
columns containing the data (with <code>columns = starts_with("day")</code>). It's also
possible to define a column label here using the <code>new_col_label</code> argument.
</p>
<div class="sourceCode r"><pre>illness |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt(rowname_col = "test") |&gt;
  tab_header("Partial summary of daily tests performed on YF patient") |&gt;
  tab_stubhead(label = md("**Test**")) |&gt;
  cols_hide(columns = starts_with("norm")) |&gt;
  fmt_units(columns = units) |&gt;
  cols_nanoplot(
    columns = starts_with("day"),
    new_col_name = "nanoplots",
    new_col_label = md("*Progression*")
  ) |&gt;
  cols_align(align = "center", columns = nanoplots) |&gt;
  cols_merge(columns = c(test, units), pattern = "{1} ({2})") |&gt;
  tab_footnote(
    footnote = "Measurements from Day 3 through to Day 8.",
    locations = cells_column_labels(columns = nanoplots)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_1.png" alt="This image of a table was generated from the first code example in the `cols_nanoplot()` help file." style="width:100%;">

<p>The previous table showed us some line-based nanoplots. We can also make very
small bar plots with <code>cols_nanoplot()</code>. Let's take the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset
and make a small summary table showing daily pizza sales by type (there are
four types). This will be limited to the first ten days of pizza sales in
2015, so, there will be ten rows in total. We can use <code>plot_type = "bar"</code> to
make bar plots from the daily sales counts in the <code>chicken</code>, <code>classic</code>,
<code>supreme</code>, and <code>veggie</code> columns. Because we know there will always be four
bars (one for each type of pizza) we can be a little creative and apply
colors to each of the bars through use of the <code>data_bar_fill_color</code> argument
in <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code>.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::select(type, date) |&gt;
  dplyr::group_by(date, type) |&gt;
  dplyr::summarize(sold = dplyr::n(), .groups = "drop") |&gt;
  tidyr::pivot_wider(names_from = type, values_from = sold) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt(rowname_col = "date") |&gt;
  tab_header(
    title = md("First Ten Days of Pizza Sales in 2015")
  ) |&gt;
  cols_nanoplot(
    columns = c(chicken, classic, supreme, veggie),
    plot_type = "bar",
    autohide = FALSE,
    new_col_name = "pizzas_sold",
    new_col_label = "Sales by Type",
    options = nanoplot_options(
      show_data_line = FALSE,
      show_data_area = FALSE,
      data_bar_stroke_color = "transparent",
      data_bar_fill_color = c("brown", "gold", "purple", "green")
    )
  ) |&gt;
  cols_width(pizzas_sold ~ px(150)) |&gt;
  cols_align(columns = -date, align = "center") |&gt;
  fmt_date(columns = date, date_style = "yMMMEd") |&gt;
  opt_all_caps()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_2.png" alt="This image of a table was generated from the second code example in the `cols_nanoplot()` help file." style="width:100%;">

<p>Now we'll make another table that contains two columns of nanoplots. Starting
from the <code><a href="#topic+towny">towny</a></code> dataset, we first reduce it down to a subset of columns
and rows. All of the columns related to either population or density will be
used as input data for the two nanoplots. Both nanoplots will use a reference
line that is generated from the median of the input data. And by naming the
new nanoplot-laden columns in a similar manner as the input data columns, we
can take advantage of select helpers (e.g., when using <code><a href="#topic+tab_spanner">tab_spanner()</a></code>). Many
of the input data columns are now redundant because of the plots, so we'll
elect to hide most of those with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, starts_with("population"), starts_with("density")) |&gt;
  dplyr::filter(population_2021 &gt; 200000) |&gt;
  dplyr::arrange(desc(population_2021)) |&gt;
  gt() |&gt;
  fmt_integer(columns = starts_with("population")) |&gt;
  fmt_number(columns = starts_with("density"), decimals = 1) |&gt;
  cols_nanoplot(
    columns = starts_with("population"),
    reference_line = "median",
    autohide = FALSE,
    new_col_name = "population_plot",
    new_col_label = md("*Change*")
  ) |&gt;
  cols_nanoplot(
    columns = starts_with("density"),
    plot_type = "bar",
    autohide = FALSE,
    new_col_name = "density_plot",
    new_col_label = md("*Change*")
  ) |&gt;
  cols_hide(columns = matches("2001|2006|2011|2016")) |&gt;
  tab_spanner(
    label = "Population",
    columns = starts_with("population")
  ) |&gt;
  tab_spanner(
    label = "Density ({{*persons* km^-2}})",
    columns = starts_with("density")
  ) |&gt;
  cols_label_with(
    columns = -matches("plot"),
    fn = function(x) gsub("[^0-9]+", "", x)
  ) |&gt;
  cols_align(align = "center", columns = matches("plot")) |&gt;
  cols_width(
    name ~ px(140),
    everything() ~ px(100)
  ) |&gt;
  opt_horizontal_padding(scale = 2)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_3.png" alt="This image of a table was generated from the third code example in the `cols_nanoplot()` help file." style="width:100%;">

<p>The <code><a href="#topic+sza">sza</a></code> dataset can, with just some use of <strong>dplyr</strong> and <strong>tidyr</strong>, give
us a wide table full of nanoplottable values. We'll transform the solar
zenith angles to solar altitude angles and create a column of nanoplots using
the newly calculated values. There are a few <code>NA</code> values during periods where
the sun hasn't risen (usually before 06:30 in the winter months) and those
values will be replaced with <code>0</code> using <code>missing_vals = "zero"</code>. We'll also
elect to create bar plots using the <code>plot_type = "bar"</code> option. The height of
the plots will be bumped up to <code>"2.5em"</code> from the default of <code>"2em"</code>.
Finally, we will use <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code> to modify the coloring of the data
bars.
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(latitude == 20 &amp; tst &lt;= "1200") |&gt;
  dplyr::select(-latitude) |&gt;
  dplyr::filter(!is.na(sza)) |&gt;
  dplyr::mutate(saa = 90 - sza) |&gt;
  dplyr::select(-sza) |&gt;
  tidyr::pivot_wider(
    names_from = tst,
    values_from = saa,
    names_sort = TRUE
  ) |&gt;
  gt(rowname_col = "month") |&gt;
  tab_header(
    title = "Solar Altitude Angles",
    subtitle = "Average values every half hour from 05:30 to 12:00"
  ) |&gt;
  cols_nanoplot(
    columns = matches("0"),
    plot_type = "bar",
    missing_vals = "zero",
    new_col_name = "saa",
    plot_height = "2.5em",
    options = nanoplot_options(
      data_bar_stroke_color = "GoldenRod",
      data_bar_fill_color = "DarkOrange"
    )
  ) |&gt;
  tab_options(
    table.width = px(400),
    column_labels.hidden = TRUE
  ) |&gt;
  cols_align(
    align = "center",
    columns = everything()
  ) |&gt;
  tab_source_note(
    source_note = "The solar altitude angle is the complement to
    the solar zenith angle. TMYK."
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_4.png" alt="This image of a table was generated from the fourth code example in the `cols_nanoplot()` help file." style="width:100%;">

<p>You can use number and time streams as data for nanoplots. Let's demonstrate
how we can make use of them with some creative transformation of the
<code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset. A value stream is really a string with delimited
numeric values, like this: <code>"7.24,84.2,14"</code>. A value stream can also contain
dates and/or datetimes, and here's an example of that:
<code>"2020-06-02 13:05:13,2020-06-02 14:24:05,2020-06-02 18:51:37"</code>. Having data
in this form can often be more convenient since different nanoplots might
have varying amounts of data (and holding different amounts of data in a
fixed number of columns is cumbersome). There are <code>date</code> and <code>time</code> columns
in this dataset and we'll use that to get <em>x</em> values denoting high-resolution
time instants: the second of the day that a pizza was sold (this is true
pizza analytics). We also have the sell price for a pizza, and that'll serve
as the <em>y</em> values. The pizzas belong to four different groups (in the <code>type</code>
column) and we'll group by that and create value streams with
<code>paste(..., collapse = ",")</code> inside  the <code>dplyr::summarize()</code> call. With two value
streams in each row (having the same number of values) we can now make a
<strong>gt</strong> table with nanoplots.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::filter(date == "2015-01-01") |&gt;
  dplyr::mutate(date_time = paste(date, time)) |&gt;
  dplyr::select(type, date_time, price) |&gt;
  dplyr::group_by(type) |&gt;
  dplyr::summarize(
    date_time = paste(date_time, collapse = ","),
    sold = paste(price, collapse = ",")
  ) |&gt;
  gt(rowname_col = "type") |&gt;
  tab_header(
    title = md("Pizzas sold on **January 1, 2015**"),
    subtitle = "Between the opening hours of 11:30 to 22:30"
  ) |&gt;
  cols_nanoplot(
    columns = sold,
    columns_x_vals = date_time,
    expand_x = c("2015-01-01 11:30", "2015-01-01 22:30"),
    reference_line = "median",
    new_col_name = "pizzas_sold",
    new_col_label = "Pizzas Sold",
    options = nanoplot_options(
      show_data_line = FALSE,
      show_data_area = FALSE,
      currency = "USD"
    )
  ) |&gt;
  cols_width(pizzas_sold ~ px(200)) |&gt;
  cols_align(columns = pizzas_sold, align = "center") |&gt;
  opt_all_caps()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_5.png" alt="This image of a table was generated from the fifth code example in the `cols_nanoplot()` help file." style="width:100%;">

<p>Notice that the columns containing the value streams are hid due to the
default argument <code>autohide = TRUE</code> because, while useful, they don't need to
be displayed to anybody viewing a table. Since we have a lot of data points
and a connecting line is not as valuable here, we also set
<code>show_data_line = FALSE</code> in <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code>. It's more interesting to
see the clusters of the differently priced pizzas over the entire day.
Specifying a <code>currency</code> in <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code> is a nice touch since the <em>y</em>
values are sale prices in U.S. Dollars (hovering over data points gives
correctly formatted values). Finally, having a reference line based on the
median gives pretty useful information. Seems like customers preferred
getting the <code>"chicken"</code>-type pizzas in large size!
</p>
<p>Using the <code><a href="#topic+gibraltar">gibraltar</a></code> dataset, let's make a series of nanoplots across the
meteorological parameters of temperature, humidity, and wind speed. We'll
want to customize the appearance of the plots across three columns and we
can make this somewhat simpler by assigning a common set of options through
<code><a href="#topic+nanoplot_options">nanoplot_options()</a></code>. In this table we want to make comparisons across
nanoplots in a particular column easier, so, we'll set <code>autoscale = TRUE</code> so
that there is a common y-axis scale for each of the parameters (based on the
extents of the data).
</p>
<div class="sourceCode r"><pre>nanoplot_options_list &lt;-
  nanoplot_options(
    data_point_radius = px(4),
    data_point_stroke_width = px(2),
    data_point_stroke_color = "black",
    data_point_fill_color = "white",
    data_line_stroke_width = px(4),
    data_line_stroke_color = "gray",
    show_data_line = TRUE,
    show_data_points = TRUE,
    show_data_area = FALSE,
  )

gibraltar |&gt;
  dplyr::filter(date &lt;= "2023-05-14") |&gt;
  dplyr::mutate(time = as.numeric(hms::as_hms(paste0(time, ":00")))) |&gt;
  dplyr::mutate(humidity = humidity * 100) |&gt;
  dplyr::select(date, time, temp, humidity, wind_speed) |&gt;
  dplyr::group_by(date) |&gt;
  dplyr::summarize(
    time = paste(time, collapse = ","),
    temp = paste(temp, collapse = ","),
    humidity = paste(humidity, collapse = ","),
    wind_speed = paste(wind_speed, collapse = ","),
  ) |&gt;
  dplyr::mutate(is_satsun = lubridate::wday(date) %in% c(1, 7)) |&gt;
  gt(rowname_col = "date") |&gt;
  tab_header(
    title = "Meteorological Summary of Gibraltar Station",
    subtitle = "Data taken from May 1-14, 2023."
  ) |&gt;
  fmt_date(columns = stub(), date_style = "wd_m_day_year") |&gt;
  cols_nanoplot(
    columns = temp,
    columns_x_vals = time,
    expand_x = c(0, 86400),
    autoscale = TRUE,
    new_col_name = "temperature_nano",
    new_col_label = "Temperature",
    options = nanoplot_options_list
  ) |&gt;
  cols_nanoplot(
    columns = humidity,
    columns_x_vals = time,
    expand_x = c(0, 86400),
    autoscale = TRUE,
    new_col_name = "humidity_nano",
    new_col_label = "Humidity",
    options = nanoplot_options_list
  ) |&gt;
  cols_nanoplot(
    columns = wind_speed,
    columns_x_vals = time,
    expand_x = c(0, 86400),
    autoscale = TRUE,
    new_col_name = "wind_speed_nano",
    new_col_label = "Wind Speed",
    options = nanoplot_options_list
  ) |&gt;
  cols_units(
    temperature_nano = ":degree:C",
    humidity_nano = "% (RH)",
    wind_speed_nano = "m s^-1"
  ) |&gt;
  cols_hide(columns = is_satsun) |&gt;
  tab_style_body(
    style = cell_fill(color = "#E5FEFE"),
    values = TRUE,
    targets = "row",
    extents = c("body", "stub")
  ) |&gt;
  tab_style(
    style = cell_text(align = "center"),
    locations = cells_column_labels()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_6.png" alt="This image of a table was generated from the sixth code example in the `cols_nanoplot()` help file." style="width:100%;">

<p>Box plots can be generated, and we just need to use <code>plot_type = "boxplot"</code>
to make that type of nanoplot. Using a small portion of the <code><a href="#topic+pizzaplace">pizzaplace</a></code>
dataset, we will create a simple table that displays a box plot of pizza
sales for a selection of days. By converting the string-time 24-hour-clock
time values to the number of seconds elapsed in a day, we get continuous
values that can be incorporated into each box plot. And, by supplying a
function to the <code>y_val_fmt_fn</code> argument within <code><a href="#topic+nanoplot_options">nanoplot_options()</a></code>, we can
transform the integer seconds values back to clock times for display on
hover.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::filter(date &lt;= "2015-01-14") |&gt;
  dplyr::mutate(time = as.numeric(hms::as_hms(time))) |&gt;
  dplyr::summarize(time = paste(time, collapse = ","), .by = date) |&gt;
  dplyr::mutate(is_weekend = lubridate::wday(date) %in% 6:7) |&gt;
  gt() |&gt;
  tab_header(title = "Pizza Sales in Early January 2015") |&gt;
  fmt_date(columns = date, date_style = 2) |&gt;
  cols_nanoplot(
    columns = time,
    plot_type = "boxplot",
    options = nanoplot_options(y_val_fmt_fn = function(x) hms::as_hms(x))
  ) |&gt;
  cols_hide(columns = is_weekend) |&gt;
  cols_width(everything() ~ px(250)) |&gt;
  cols_align(align = "center", columns = nanoplots) |&gt;
  cols_align(align = "left", columns = date) |&gt;
  tab_style(
    style = cell_borders(
      sides = "left", color = "gray"),
    locations = cells_body(columns = nanoplots)
  ) |&gt;
  tab_style_body(
    style = cell_fill(color = "#E5FEFE"),
    values = TRUE,
    targets = "row"
  ) |&gt;
  tab_options(column_labels.hidden = TRUE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_nanoplot_7.png" alt="This image of a table was generated from the seventh code example in the `cols_nanoplot()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_unhide'>Unhide one or more columns</h2><span id='topic+cols_unhide'></span>

<h3>Description</h3>

<p><code>cols_unhide()</code> allows us to take one or more hidden columns (usually done
via <code><a href="#topic+cols_hide">cols_hide()</a></code>) and make them visible in the final output table. This may
be important in cases where the user obtains a <code>gt_tbl</code> object with hidden
columns and there is motivation to reveal one or more of those.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_unhide(data, columns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_unhide_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_unhide_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to unhide in the output display table. Can either be a series
of column names provided in <code>c()</code>, a vector of column indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The hiding and unhiding of columns is internally a rendering directive, so,
all columns that are 'hidden' are still accessible and useful in any
expression provided to a <code>rows</code> argument. The <code>cols_unhide()</code> function
quietly changes the visible state of a column (much like the <code><a href="#topic+cols_hide">cols_hide()</a></code>
function) and doesn't yield warnings or messages when changing the state of
already-visible columns.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use a small portion of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong>
table. We'll hide the <code>country_code_2</code> and <code>country_code_3</code> columns with
<code><a href="#topic+cols_hide">cols_hide()</a></code>.
</p>
<div class="sourceCode r"><pre>tab_1 &lt;-
  countrypops |&gt;
  dplyr::filter(country_name == "Singapore") |&gt;
  dplyr::slice_tail(n = 5) |&gt;
  gt() |&gt;
  cols_hide(columns = c(country_code_2, country_code_3))

tab_1
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_unhide_1.png" alt="This image of a table was generated from the first code example in the `cols_unhide()` help file." style="width:100%;">

<p>If the <code>tab_1</code> object is provided without the code or source data to
regenerate it, and, the user wants to reveal otherwise hidden columns then
<code>cols_unhide()</code> becomes useful.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; cols_unhide(columns = country_code_2)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_unhide_2.png" alt="This image of a table was generated from the second code example in the `cols_unhide()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-13
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cols_hide">cols_hide()</a></code> to perform the inverse operation.
</p>
<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_units'>Define units for one or more columns</h2><span id='topic+cols_units'></span>

<h3>Description</h3>

<p>Column labels can sometimes contain measurement units, and these might range
from easy to define and typeset (e.g., <code>"m/s"</code>) to very difficult. Such
difficulty can arise from the need to include subscripts or superscripts,
non-ASCII symbols, etc. The <code>cols_units()</code> function tries to make this task
easier by letting you apply text pertaining to units to various columns. This
takes advantage of <strong>gt</strong>'s specialized units notation (e.g.,
<code>"J Hz^-1 mol^-1"</code> can be used to generate units for the
<em>molar Planck constant</em>). The notation here provides several conveniences for
defining units, letting you produce the correct formatting no matter what the
table output format might be (i.e., HTML, LaTeX, RTF, etc.). Details
pertaining to the units notation can be found in the section entitled
<em>How to use <strong>gt</strong>'s units notation</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_units(.data, ..., .list = list2(...), .units_pattern = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_units_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_units_+3A_...">...</code></td>
<td>
<p><em>Column units definitions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>.list</code>)
</p>
<p>Expressions for the assignment of column units for the table columns in
<code>.data</code>. Two-sided formulas (e.g., <code style="white-space: pre;">&#8288;&lt;LHS&gt; ~ &lt;RHS&gt;&#8288;</code>) can be used, where the
left-hand side corresponds to selections of columns and the right-hand side
evaluates to single-length values for the units to apply. Column names
should be enclosed in <code>c()</code>. Select helpers like <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, and <code><a href="#topic+everything">everything()</a></code> can be used in
the LHS. Named arguments are also valid as input for simple mappings of
column name to the <strong>gt</strong> units syntax; they should be of the form
<code style="white-space: pre;">&#8288;&lt;column name&gt; = &lt;units text&gt;&#8288;</code>. Subsequent expressions that operate on the
columns assigned previously will result in overwriting column units
defintion values.</p>
</td></tr>
<tr><td><code id="cols_units_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
<tr><td><code id="cols_units_+3A_.units_pattern">.units_pattern</code></td>
<td>
<p><em>Pattern to combine column labels and units</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional pattern to be used for combining column labels with the defined
units. The default pattern is <code>"{1}, {2}"</code>, where <code>"{1}"</code> refers to the
column label text and <code>"{2}"</code> is the text related to the associated units.
This default can be modified through the <code>column_labels.units_pattern</code>
option found in <code><a href="#topic+tab_options">tab_options()</a></code>. Setting a value here will provide an
override to the <code>column_labels.units_pattern</code> default (only for the
resolved columns in the invocation of <code>cols_units()</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>How to use <strong>gt</strong>'s units notation</h3>

<p>The units notation involves a shorthand of writing units that feels familiar
and is fine-tuned for the task at hand. Each unit is treated as a separate
entity (parentheses and other symbols included) and the addition of subscript
text and exponents is flexible and relatively easy to formulate. This is all
best shown with examples:
</p>

<ul>
<li> <p><code>"m/s"</code> and <code>"m / s"</code> both render as <code>"m/s"</code>
</p>
</li>
<li> <p><code>"m s^-1"</code> will appear with the <code>"-1"</code> exponent intact
</p>
</li>
<li> <p><code>"m /s"</code> gives the same result, as <code>"/&lt;unit&gt;"</code> is equivalent to
<code>"&lt;unit&gt;^-1"</code>
</p>
</li>
<li> <p><code>"E_h"</code> will render an <code>"E"</code> with the <code>"h"</code> subscript
</p>
</li>
<li> <p><code>"t_i^2.5"</code> provides a <code>t</code> with an <code>"i"</code> subscript and a <code>"2.5"</code> exponent
</p>
</li>
<li> <p><code>"m[_0^2]"</code> will use overstriking to set both scripts vertically
</p>
</li>
<li> <p><code>"g/L %C6H12O6%"</code> uses a chemical formula (enclosed in a pair of <code>"%"</code>
characters) as a unit partial, and the formula will render correctly with
subscripted numbers
</p>
</li>
<li><p> Common units that are difficult to write using ASCII text may be implicitly
converted to the correct characters (e.g., the <code>"u"</code> in <code>"ug"</code>, <code>"um"</code>,
<code>"uL"</code>, and <code>"umol"</code> will be converted to the Greek <em>mu</em> symbol; <code>"degC"</code>
and <code>"degF"</code> will render a degree sign before the temperature unit)
</p>
</li>
<li><p> We can transform shorthand symbol/unit names enclosed in <code>":"</code> (e.g.,
<code>":angstrom:"</code>, <code>":ohm:"</code>, etc.) into proper symbols
</p>
</li>
<li><p> Greek letters can added by enclosing the letter name in <code>":"</code>; you can
use lowercase letters (e.g., <code>":beta:"</code>, <code>":sigma:"</code>, etc.) and uppercase
letters too (e.g., <code>":Alpha:"</code>, <code>":Zeta:"</code>, etc.)
</p>
</li>
<li><p> The components of a unit (unit name, subscript, and exponent) can be
fully or partially italicized/emboldened by surrounding text with <code>"*"</code> or
<code>"**"</code>
</p>
</li></ul>



<h3>Examples</h3>

<p>Let's analyze some <code><a href="#topic+pizzaplace">pizzaplace</a></code> data with <strong>dplyr</strong> and then make a <strong>gt</strong>
table. Here we are separately defining new column labels with <code><a href="#topic+cols_label">cols_label()</a></code>
and then defining the units (to combine to those labels) through
<code>cols_units()</code>. The default pattern for combination is <code>"{1}, {2}"</code> which
is acceptable here.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::mutate(month = lubridate::month(date, label = TRUE, abbr = TRUE)) |&gt;
  dplyr::group_by(month) |&gt;
  dplyr::summarize(
    n_sold = dplyr::n(),
    rev = sum(price)
  ) |&gt;
  dplyr::mutate(chg = (rev - dplyr::lag(rev)) / dplyr::lag(rev)) |&gt;
  dplyr::mutate(month = as.character(month)) |&gt;
  gt(rowname_col = "month") |&gt;
  fmt_integer(columns = n_sold) |&gt;
  fmt_currency(columns = rev, use_subunits = FALSE) |&gt;
  fmt_percent(columns = chg) |&gt;
  sub_missing() |&gt;
  cols_label(
    n_sold = "Number of Pizzas Sold",
    rev = "Revenue Generated",
    chg = "Monthly Changes in Revenue"
  ) |&gt;
  cols_units(
    n_sold = "units month^-1",
    rev = "USD month^-1",
    chg = "% change *m*/*m*"
  ) |&gt;
  cols_width(
    stub() ~ px(40),
    everything() ~ px(200)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_units_1.png" alt="This image of a table was generated from the first code example in the `cols_units()` help file." style="width:100%;">

<p>The <code><a href="#topic+sza">sza</a></code> dataset has a wealth of information and here we'll generate
a smaller table that contains the average solar zenith angles at noon for
different months and at different northern latitudes. The column labels are
numbers representing the latitudes and it's convenient to apply units
of 'degrees north' to each of them with <code>cols_units()</code>. The extra thing we
wanted to do here was to ensure that the units are placed directly after
the column labels, and we do that with <code>.units_pattern = "{1}{2}"</code>. This
append the units (<code>"{2}"</code>) right to the column label (<code>"{1}"</code>).
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(tst == "1200") |&gt;
  dplyr::select(-tst) |&gt;
  dplyr::arrange(desc(latitude)) |&gt;
  tidyr::pivot_wider(
    names_from = latitude,
    values_from = sza
  ) |&gt;
  gt(rowname_col = "month") |&gt;
  cols_units(
    everything() ~ ":degree:N",
    .units_pattern = "{1}{2}"
  ) |&gt;
  tab_spanner(
    label = "Solar Zenith Angle",
    columns = everything()
  ) |&gt;
  text_transform(
    fn = toupper,
    locations = cells_stub()
  ) |&gt;
  tab_style(
    style = cell_text(align = "right"),
    locations = cells_stub()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_units_2.png" alt="This image of a table was generated from the second code example in the `cols_units()` help file." style="width:100%;">

<p>Taking a portion of the <code><a href="#topic+towny">towny</a></code> dataset, let's use spanners to describe
what's in the columns and use only measurement units for the column labels.
The columns labels that have to do with population and density information
will be replaced with units defined in <code>cols_units()</code>. We'll use a
<code>.units_pattern</code> value of <code>"{2}"</code>, which means that only the units will
be present (the <code>"{1}"</code>, representing the column label text, is omitted).
Spanners added through several invocations of <code><a href="#topic+tab_spanner">tab_spanner()</a></code> will declare
what the last four columns contain.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(
    name, land_area_km2,
    ends_with("2016"), ends_with("2021")
  ) |&gt;
  dplyr::slice_max(population_2021, n = 10) |&gt;
  gt(rowname_col = "name") |&gt;
  tab_stubhead(label = "City") |&gt;
  fmt_integer() |&gt;
  cols_label(
    land_area_km2 ~ "Area, {{km^2}}",
    starts_with("population") ~ "",
    starts_with("density") ~ ""
  ) |&gt;
  cols_units(
    starts_with("population") ~ "*ppl*",
    starts_with("density") ~ "*ppl* km^-2",
    .units_pattern = "{2}"
  ) |&gt;
  tab_spanner(
    label = "Population",
    columns = starts_with("population"),
    gather = FALSE
  ) |&gt;
  tab_spanner(
    label = "Density",
    columns = starts_with("density"),
    gather = FALSE
  ) |&gt;
  tab_spanner(
    label = "2016",
    columns = ends_with("2016"),
    gather = FALSE
  ) |&gt;
  tab_spanner(
    label = "2021",
    columns = ends_with("2021"),
    gather = FALSE
  ) |&gt;
  tab_style(
    style = cell_text(align = "center"),
    locations = cells_column_labels(
      c(starts_with("population"), starts_with("density"))
    )
  ) |&gt;
  cols_width(everything() ~ px(120)) |&gt;
  opt_horizontal_padding(scale = 3)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_units_3.png" alt="This image of a table was generated from the third code example in the `cols_units()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_width">cols_width</a>()</code>
</p>

<hr>
<h2 id='cols_width'>Set the widths of columns</h2><span id='topic+cols_width'></span>

<h3>Description</h3>

<p>Manual specifications of column widths can be performed using the
<code>cols_width()</code> function. We choose which columns get specific widths. This
can be in units of pixels (easily set by use of the <code><a href="#topic+px">px()</a></code> helper function),
or, as percentages (where the <code><a href="#topic+pct">pct()</a></code> helper function is useful). Width
assignments are supplied in <code>...</code> through two-sided formulas, where the
left-hand side defines the target columns and the right-hand side is a single
dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cols_width(.data, ..., .list = list2(...))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cols_width_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="cols_width_+3A_...">...</code></td>
<td>
<p><em>Column width assignments</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>.list</code>)
</p>
<p>Expressions for the assignment of column widths for the table columns in
<code>.data</code>. Two-sided formulas (e.g, <code style="white-space: pre;">&#8288;&lt;LHS&gt; ~ &lt;RHS&gt;&#8288;</code>) can be used, where the
left-hand side corresponds to selections of columns and the right-hand side
evaluates to single-length character values in the form <code style="white-space: pre;">&#8288;{##}px&#8288;</code> (i.e.,
pixel dimensions); the <code><a href="#topic+px">px()</a></code> helper function is best used for this
purpose. Column names should be enclosed in <code>c()</code>. The column-based select
helpers <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, and
<code><a href="#topic+everything">everything()</a></code> can be used in the LHS. Subsequent expressions that operate
on the columns assigned previously will result in overwriting column width
values (both in the same <code>cols_width()</code> call and across separate calls).
All other columns can be assigned a default width value by using
<code>everything()</code> on the left-hand side.</p>
</td></tr>
<tr><td><code id="cols_width_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Column widths can be set as absolute or relative values (with px and
percentage values). Those columns not specified are treated as having
variable width. The sizing behavior for column widths depends on the
combination of value types, and, whether a table width has been set (which
could, itself, be expressed as an absolute or relative value). Widths for the
table and its container can be individually modified with the <code>table.width</code>
and <code>container.width</code> arguments within <code><a href="#topic+tab_options">tab_options()</a></code>).
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use select columns from the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. We
can specify the widths of columns with <code>cols_width()</code>. This is done with
named arguments in <code>...</code>, specifying the exact widths for table columns
(using <code>everything()</code> at the end will capture all remaining columns).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(
    num, char, date,
    datetime, row
  ) |&gt;
  gt() |&gt;
  cols_width(
    num ~ px(150),
    ends_with("r") ~ px(100),
    starts_with("date") ~ px(200),
    everything() ~ px(60)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_width_1.png" alt="This image of a table was generated from the first code example in the `cols_width()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>5-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other column modification functions: 
<code><a href="#topic+cols_add">cols_add</a>()</code>,
<code><a href="#topic+cols_align">cols_align</a>()</code>,
<code><a href="#topic+cols_align_decimal">cols_align_decimal</a>()</code>,
<code><a href="#topic+cols_hide">cols_hide</a>()</code>,
<code><a href="#topic+cols_label">cols_label</a>()</code>,
<code><a href="#topic+cols_label_with">cols_label_with</a>()</code>,
<code><a href="#topic+cols_merge">cols_merge</a>()</code>,
<code><a href="#topic+cols_merge_n_pct">cols_merge_n_pct</a>()</code>,
<code><a href="#topic+cols_merge_range">cols_merge_range</a>()</code>,
<code><a href="#topic+cols_merge_uncert">cols_merge_uncert</a>()</code>,
<code><a href="#topic+cols_move">cols_move</a>()</code>,
<code><a href="#topic+cols_move_to_end">cols_move_to_end</a>()</code>,
<code><a href="#topic+cols_move_to_start">cols_move_to_start</a>()</code>,
<code><a href="#topic+cols_nanoplot">cols_nanoplot</a>()</code>,
<code><a href="#topic+cols_unhide">cols_unhide</a>()</code>,
<code><a href="#topic+cols_units">cols_units</a>()</code>
</p>

<hr>
<h2 id='constants'>The fundamental physical constants</h2><span id='topic+constants'></span>

<h3>Description</h3>

<p>This dataset contains values for over 300 basic fundamental constants in
nature. The values originate from the 2018 adjustment which is based on the
latest relevant precision measurements and improvements of theoretical
calculations. Such work has been carried out under the authority of the
<em>Task Group on Fundamental Constants</em> (TGFC) of the
<em>Committee on Data of the International Science Council</em> (CODATA). These
updated values became available on May 20, 2019. They are published at
<a href="http://physics.nist.gov/constants">http://physics.nist.gov/constants</a>, a website of the
<em>Fundamental Constants Data Center</em> of the
<em>National Institute of Standards and Technology</em> (NIST), Gaithersburg,
Maryland, USA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constants
</code></pre>


<h3>Format</h3>

<p>A tibble with 354 rows and 4 variables:
</p>

<dl>
<dt>name</dt><dd><p>The name of the constant.</p>
</dd>
<dt>value</dt><dd><p>The value of the constant.</p>
</dd>
<dt>uncert</dt><dd><p>The uncertainty associated with the value. If <code>NA</code> then the
value is seen as an 'exact' value (e.g., an electron volt has the exact value
of 1.602 176 634 e-19 J).</p>
</dd>
<dt>sf_value,sf_uncert</dt><dd><p>The number of significant figures associated with
the value and any uncertainty value.</p>
</dd>
<dt>units</dt><dd><p>The units associated with the constant.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>constants</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(constants)
#&gt; Rows: 354
#&gt; Columns: 6
#&gt; $ name      &lt;chr&gt; "alpha particle-electron mass ratio", "alpha particle mass",~
#&gt; $ value     &lt;dbl&gt; 7.294300e+03, 6.644657e-27, 5.971920e-10, 3.727379e+03, 4.00~
#&gt; $ uncert    &lt;dbl&gt; 2.4e-07, 2.0e-36, 1.8e-19, 1.1e-06, 6.3e-11, 1.2e-12, 2.2e-1~
#&gt; $ sf_value  &lt;dbl&gt; 12, 11, 11, 11, 13, 11, 12, 13, 9, 12, 12, 11, 11, 11, 12, 1~
#&gt; $ sf_uncert &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ~
#&gt; $ units     &lt;chr&gt; NA, "kg", "J", "MeV", "u", "kg mol^-1", NA, NA, "m", "kg", "~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-12
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_constants.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='countrypops'>Yearly populations of countries from 1960 to 2022</h2><span id='topic+countrypops'></span>

<h3>Description</h3>

<p>A dataset that presents yearly, total populations of countries. Total
population is based on counts of all residents regardless of legal status or
citizenship. Country identifiers include the English-language country names,
and the 2- and 3-letter ISO 3166-1 country codes. Each row contains a
<code>population</code> value for a given <code>year</code> (from 1960 to 2022). Any <code>NA</code> values
for <code>populations</code> indicate the non-existence of the entity during that year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>countrypops
</code></pre>


<h3>Format</h3>

<p>A tibble with 13,545 rows and 5 variables:
</p>

<dl>
<dt>country_name</dt><dd><p>The name of the country.</p>
</dd>
<dt>country_code_2, country_code_3</dt><dd><p>The 2- and 3-letter ISO 3166-1 country
codes.</p>
</dd>
<dt>year</dt><dd><p>The year for the population estimate.</p>
</dd>
<dt>population</dt><dd><p>The population estimate, midway through the year.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>countrypops</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(countrypops)
#&gt; Rows: 13,545
#&gt; Columns: 5
#&gt; $ country_name   &lt;chr&gt; "Aruba", "Aruba", "Aruba", "Aruba", "Aruba", "Aruba", "~
#&gt; $ country_code_2 &lt;chr&gt; "AW", "AW", "AW", "AW", "AW", "AW", "AW", "AW", "AW", "~
#&gt; $ country_code_3 &lt;chr&gt; "ABW", "ABW", "ABW", "ABW", "ABW", "ABW", "ABW", "ABW",~
#&gt; $ year           &lt;int&gt; 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1~
#&gt; $ population     &lt;int&gt; 54608, 55811, 56682, 57475, 58178, 58782, 59291, 59522,~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-1
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_countrypops.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>Source</h3>

<p><a href="https://data.worldbank.org/indicator/SP.POP.TOTL">https://data.worldbank.org/indicator/SP.POP.TOTL</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='currency'>Supply a custom currency symbol to <code>fmt_currency()</code></h2><span id='topic+currency'></span>

<h3>Description</h3>

<p>The <code>currency()</code> helper function makes it easy to specify a context-aware
currency symbol to <code>currency</code> argument of <code><a href="#topic+fmt_currency">fmt_currency()</a></code>. Since <strong>gt</strong> can
render tables to several output formats, <code>currency()</code> allows for different
variations of the custom symbol based on the output context (which are
<code>html</code>, <code>latex</code>, <code>rtf</code>, and <code>default</code>). The number of decimal places for
the custom currency defaults to <code>2</code>, however, a value set for the <code>decimals</code>
argument of <code><a href="#topic+fmt_currency">fmt_currency()</a></code> will take precedence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>currency(..., .list = list2(...))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="currency_+3A_...">...</code></td>
<td>
<p><em>Currency symbols by output context</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;named arguments&gt;&#8288;</code> // <strong>required</strong> (or, use <code>.list</code>)
</p>
<p>One or more named arguments using output contexts as the names and
currency symbol text as the values.</p>
</td></tr>
<tr><td><code id="currency_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // <strong>required</strong> (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We can use any combination of <code>html</code>, <code>latex</code>, <code>rtf</code>, and <code>default</code> as named
arguments for the currency text in each of the namesake contexts. The
<code>default</code> value is used as a fallback when there doesn't exist a dedicated
currency text value for a particular output context (e.g., when a table is
rendered as HTML and we use <code>currency(latex = "LTC", default = "ltc")</code>, the
currency symbol will be <code>"ltc"</code>. For convenience, if we provide only a single
string without a name, it will be taken as the <code>default</code> (i.e.,
<code>currency("ltc")</code> is equivalent to <code>currency(default = "ltc")</code>). However, if
we were to specify currency strings for multiple output contexts, names are
required each and every context.
</p>


<h3>Value</h3>

<p>A list object of class <code>gt_currency</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. Within the
<code><a href="#topic+fmt_currency">fmt_currency()</a></code> call, we'll format the <code>currency</code> column to have currency
values in guilder (a defunct Dutch currency). We can register this custom
currency with the <code>currency()</code> helper function, supplying the <code>"&amp;fnof;"</code> HTML
entity for <code>html</code> outputs and using <code>"f"</code> for any other type of <strong>gt</strong>
output.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  fmt_currency(
    columns = currency,
    currency = currency(
      html = "&amp;fnof;",
      default = "f"
    ),
    decimals = 2
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_currency_1.png" alt="This image of a table was generated from the first code example in the `currency()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='data_color'>Perform data cell colorization</h2><span id='topic+data_color'></span>

<h3>Description</h3>

<p>It's possible to add color to data cells according to their values with
<code>data_color()</code> There is a multitude of ways to perform data cell
colorizing here:
</p>

<ul>
<li><p> targeting: we can constrain which columns and rows should receive the
colorization treatment (through the <code>columns</code> and <code>rows</code> arguments)
</p>
</li>
<li><p> direction: ordinarily we perform coloring in a column-wise fashion but
there is the option to color data cells in a row-wise manner (this is
controlled by the <code>direction</code> argument)
</p>
</li>
<li><p> coloring method: <code>data_color()</code> automatically computes colors based on the
column type but you can choose a specific methodology (e.g., with bins or
quantiles) and the function will generate colors accordingly; the <code>method</code>
argument controls this through keywords and other arguments act as inputs to
specific methods
</p>
</li>
<li><p> coloring function: a custom function can be supplied to the <code>fn</code> argument
for finer control over color evaluation with data; the <code style="white-space: pre;">&#8288;scales::col_*()&#8288;</code>
color mapping functions can be used here or any function you might want to define
</p>
</li>
<li><p> color palettes: with <code>palette</code> we could supply a vector of colors, a
<strong>virdis</strong> or <strong>RColorBrewer</strong> palette name, or, a palette from the
<strong>paletteer</strong> package
</p>
</li>
<li><p> value domain: we can either opt to have the range of values define the
domain, or, specify one explicitly with the <code>domain</code> argument
</p>
</li>
<li><p> indirect color application: it's possible to compute colors from one column
and apply them to one or more different columns; we can even perform a
color mapping from multiple source columns to the same multiple of target
columns
</p>
</li>
<li><p> color application: with the <code>apply_to</code> argument, there's an option for
whether to apply the cell-specific colors to the cell background or the cell
text
</p>
</li>
<li><p> text autocoloring: if colorizing the cell background, <code>data_color()</code> will
automatically recolor the foreground text to provide the best contrast (can
be deactivated with <code>autocolor_text = FALSE</code>)
</p>
</li></ul>

<p><code>data_color()</code> won't fail with the default options used, but
that won't typically provide you the type of colorization you really need.
You can however safely iterate through a collection of different options
without running into too many errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_color(
  data,
  columns = everything(),
  rows = everything(),
  direction = c("column", "row"),
  target_columns = NULL,
  method = c("auto", "numeric", "bin", "quantile", "factor"),
  palette = NULL,
  domain = NULL,
  bins = 8,
  quantiles = 4,
  levels = NULL,
  ordered = FALSE,
  na_color = NULL,
  alpha = NULL,
  reverse = FALSE,
  fn = NULL,
  apply_to = c("fill", "text"),
  autocolor_text = TRUE,
  contrast_algo = c("apca", "wcag"),
  colors = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_color_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="data_color_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which cell data color operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="data_color_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for cell data color operations. The default
<code><a href="#topic+everything">everything()</a></code> results in all rows in <code>columns</code> being formatted.
Alternatively, we can supply a vector of row IDs within <code>c()</code>, a vector of
row indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).
We can also use expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="data_color_+3A_direction">direction</code></td>
<td>
<p><em>Color computation direction</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[column|row]&#8288;</code> // <em>default:</em> <code>"column"</code>
</p>
<p>Should the color computations be performed column-wise or row-wise? By
default this is set with the <code>"column"</code> keyword and colors will be applied
down columns. The alternative option with the <code>"row"</code> keyword ensures that
the color mapping works across rows.</p>
</td></tr>
<tr><td><code id="data_color_+3A_target_columns">target_columns</code></td>
<td>
<p><em>Indirect columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> <code>optional</code>
</p>
<p>For indirect column coloring treatments, we can supply the columns that
will receive the styling. The necessary precondition is that we must use
<code>direction = "column"</code>. If <code>columns</code> resolves to a single column then we
may use one or more columns in <code>target_columns</code>. If on the other hand
<code>columns</code> resolves to multiple columns, then <code>target_columns</code> must resolve
to the same multiple.</p>
</td></tr>
<tr><td><code id="data_color_+3A_method">method</code></td>
<td>
<p><em>Color computation method</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|numeric|bin|quantile|factor]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>A method for computing color based on the data within body cells. Can be
<code>"auto"</code> (the default), <code>"numeric"</code>, <code>"bin"</code>, <code>"quantile"</code>, or <code>"factor"</code>.
The <code>"auto"</code> method will automatically choose the <code>"numeric"</code> method for
numerical input data or the <code>"factor"</code> method for any non-numeric inputs.</p>
</td></tr>
<tr><td><code id="data_color_+3A_palette">palette</code></td>
<td>
<p><em>Color palette</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A vector of color names, the name of an <strong>RColorBrewer</strong> palette, the name
of a <strong>viridis</strong> palette, or a discrete palette accessible from the
<strong>paletteer</strong> package using the <code style="white-space: pre;">&#8288;&lt;package&gt;::&lt;palette&gt;&#8288;</code> syntax (e.g.,
<code>"wesanderson::IsleofDogs1"</code>). If providing a vector of colors as a
palette, each color value provided must either be a color name (Only R/X11
color names or CSS 3.0 color names) or a hexadecimal string in the form of
<code>"#RRGGBB"</code> or <code>"#RRGGBBAA"</code>. If nothing is provided here, the default R
color palette is used (i.e., the colors from <code>palette()</code>).</p>
</td></tr>
<tr><td><code id="data_color_+3A_domain">domain</code></td>
<td>
<p><em>Value domain</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer|character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The possible values that can be mapped. For the <code>"numeric"</code> and <code>"bin"</code>
methods, this can be a numeric range specified with a length of two vector.
Representative numeric data is needed for the <code>"quantile"</code> method and
categorical data must be used for the <code>"factor"</code> method. If <code>NULL</code> (the
default value), the values in each column or row (depending on <code>direction</code>)
value will represent the domain.</p>
</td></tr>
<tr><td><code id="data_color_+3A_bins">bins</code></td>
<td>
<p><em>Specification of bin number</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>8</code>
</p>
<p>For <code>method = "bin"</code> this can either be a numeric vector of two or more
unique cut points, or, a single numeric value (greater than or equal to
<code>2</code>) giving the number of intervals into which the domain values are to be
cut. By default, this is <code>8</code>.</p>
</td></tr>
<tr><td><code id="data_color_+3A_quantiles">quantiles</code></td>
<td>
<p><em>Specification of quantile number</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>4</code>
</p>
<p>For <code>method = "quantile"</code> this is the number of equal-size quantiles to
use. By default, this is set to <code>4</code>.</p>
</td></tr>
<tr><td><code id="data_color_+3A_levels">levels</code></td>
<td>
<p><em>Specification of factor levels</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>For <code>method = "factor"</code> this allows for an alternate way of specifying
levels. If anything is provided here then any value supplied to <code>domain</code>
will be ignored. This should be a character vector of unique values.</p>
</td></tr>
<tr><td><code id="data_color_+3A_ordered">ordered</code></td>
<td>
<p><em>Use an ordered factor</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>For <code>method = "factor"</code>, setting this to <code>TRUE</code> means that the vector
supplied to <code>domain</code> will be treated as being in the correct order if that
vector needs to be coerced to a factor. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="data_color_+3A_na_color">na_color</code></td>
<td>
<p><em>Default color for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The color to use for missing values. By default (with <code>na_color = NULL</code>),
the color gray (<code>"#808080"</code>) will be used. This option has no effect if
providing a color-mapping function to <code>fn</code>.</p>
</td></tr>
<tr><td><code id="data_color_+3A_alpha">alpha</code></td>
<td>
<p><em>Transparency value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(0&gt;=val&gt;=1)&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional, fixed alpha transparency value that will be applied to all
color palette values (regardless of whether a color palette was directly
supplied in <code>palette</code> or generated through a color mapping function via
<code>fn</code>).</p>
</td></tr>
<tr><td><code id="data_color_+3A_reverse">reverse</code></td>
<td>
<p><em>Reverse order of computed colors</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the colors computed operate in the reverse order? If <code>TRUE</code> then
colors that normally change from red to blue will change in the opposite
direction.</p>
</td></tr>
<tr><td><code id="data_color_+3A_fn">fn</code></td>
<td>
<p><em>Color-mapping function</em>
</p>
<p><code>function</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A color-mapping function. The function should be able to take a vector of
data values as input and return an equal-length vector of color values. The
<code style="white-space: pre;">&#8288;scales::col_*()&#8288;</code> functions (i.e.,<code><a href="scales.html#topic+col_numeric">scales::col_numeric()</a></code>,
<code><a href="scales.html#topic+col_numeric">scales::col_bin()</a></code>, and <code><a href="scales.html#topic+col_numeric">scales::col_factor()</a></code>) can be invoked here with
options, as those functions themselves return a color-mapping function.</p>
</td></tr>
<tr><td><code id="data_color_+3A_apply_to">apply_to</code></td>
<td>
<p><em>How to apply color</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[fill|text]&#8288;</code> // <em>default:</em> <code>"fill"</code>
</p>
<p>Which style element should the colors be applied to? Options include the
cell background (the default, given as <code>"fill"</code>) or the cell text
(<code>"text"</code>).</p>
</td></tr>
<tr><td><code id="data_color_+3A_autocolor_text">autocolor_text</code></td>
<td>
<p><em>Automatically recolor text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to let <strong>gt</strong> modify the coloring of text within cells undergoing
background coloring. This will result in better text-to-background color
contrast. By default, this is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="data_color_+3A_contrast_algo">contrast_algo</code></td>
<td>
<p><em>Color contrast algorithm choice</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[apca|wcag]&#8288;</code> // <em>default:</em> <code>"apca"</code>
</p>
<p>The color contrast algorithm to use when <code>autocolor_text = TRUE</code>. By
default this is <code>"apca"</code> (Accessible Perceptual Contrast Algorithm) and the
alternative to this is <code>"wcag"</code> (Web Content Accessibility Guidelines).</p>
</td></tr>
<tr><td><code id="data_color_+3A_colors">colors</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> Color mapping function</em>
</p>
<p><code>function</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>This argument is deprecated. Use the <code>fn</code> argument instead to provide a
<strong>scales</strong>-based color-mapping function. If providing a palette, use the
<code>palette</code> argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given coloring
function/method will be skipped over. One strategy is to color the bulk of
cell values with one formatting function and then constrain the columns for
later passes (the last coloring done to a cell is what you get in the final
output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Color computation methods</h3>

<p><code>data_color()</code> offers four distinct methods for computing color
based on cell data values. They are set by the <code>method</code> argument and the
options go by the keywords <code>"numeric"</code>, <code>"bin"</code>, <code>"quantile"</code>, and
<code>"factor"</code>. There are other arguments in <code>data_color()</code> that variously
support these methods (e.g., <code>bins</code> for the <code>"bin"</code> method, etc.). Here we'll
go through each method, providing a short explanation of what each one does
and which options are available.
</p>


<h4><code>"numeric"</code></h4>

<p>The <code>"numeric"</code> method provides a simple linear mapping from continuous
numeric data to an interpolated <code>palette</code>. Internally, this uses
<code><a href="scales.html#topic+col_numeric">scales::col_numeric()</a></code>. This method is suited for numeric data cell
values and can make use of a supplied <code>domain</code> value, in the form of a
two-element numeric vector describing the range of values, if provided.
</p>



<h4><code>"bin"</code></h4>

<p>The <code>"bin"</code> method provides a mapping of continuous numeric data to
value-based bins. Internally, this uses <code><a href="scales.html#topic+col_numeric">scales::col_bin()</a></code> which itself
uses <code><a href="base.html#topic+cut">base::cut()</a></code>. As with the <code>"numeric"</code> method, <code>"bin"</code> is meant for
numeric data cell values. The use of a <code>domain</code> value is supported with this
method. The <code>bins</code> argument in <code>data_color()</code> is specific to this method,
offering the ability to: (1) specify the number of bins, or (2) provide a
vector of cut points.
</p>



<h4><code>"quantile"</code></h4>

<p>The <code>"quantile"</code> method provides a mapping of continuous numeric data to
quantiles. Internally, this uses <code><a href="scales.html#topic+col_numeric">scales::col_quantile()</a></code> which itself uses
<code><a href="stats.html#topic+quantile">stats::quantile()</a></code>. Input data cell values should be numeric, as with the
<code>"numeric"</code> and <code>"bin"</code> methods. A numeric <code>domain</code> value is supported with
this method. The <code>quantiles</code> argument in <code>data_color()</code> controls the number
of equal-size quantiles to use.
</p>



<h4><code>"factor"</code></h4>

<p>The <code>"factor"</code> method provides a mapping of factors to colors. With discrete
palettes, color interpolation is used when the number of factors does not
match the number of colors in the palette. Internally, this uses
<code><a href="scales.html#topic+col_numeric">scales::col_factor()</a></code>. Input data cell values can be of any type
(i.e., factor, character, numeric values, and more are supported). The
optional input to <code>domain</code> should take the form of categorical data. The
<code>levels</code> and <code>ordered</code> arguments in <code>data_color()</code> support this method.
</p>



<h3>Color palette access from <strong>RColorBrewer</strong> and <strong>viridis</strong></h3>

<p>All palettes from the <strong>RColorBrewer</strong> package and select palettes from
<strong>viridis</strong> can be accessed by providing the palette name in <code>palette</code>.
<strong>RColorBrewer</strong> has 35 available palettes:</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Palette Name </td><td style="text-align: left;"> Colors </td><td style="text-align: left;"> Category </td><td style="text-align: left;"> Colorblind Friendly </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"BrBG"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"PiYG"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"PRGn"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"PuOr"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"RdBu"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"RdYlBu"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"RdGy"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"RdYlGn"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"Spectral"</code> </td><td style="text-align: left;"> 11 </td><td style="text-align: left;"> Diverging </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"Dark2"</code> </td><td style="text-align: left;"> 8 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"Paired"</code> </td><td style="text-align: left;"> 12 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"Set1"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"Set2"</code> </td><td style="text-align: left;"> 8 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"Set3"</code> </td><td style="text-align: left;"> 12 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"Accent"</code> </td><td style="text-align: left;"> 8 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"Pastel1"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"Pastel2"</code> </td><td style="text-align: left;"> 8 </td><td style="text-align: left;"> Qualitative </td><td style="text-align: left;"> No </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"Blues"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"BuGn"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"BuPu"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"GnBu"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"Greens"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"Greys"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"Oranges"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"OrRd"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   26 </td><td style="text-align: left;"> <code>"PuBu"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   27 </td><td style="text-align: left;"> <code>"PuBuGn"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   28 </td><td style="text-align: left;"> <code>"PuRd"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   29 </td><td style="text-align: left;"> <code>"Purples"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   30 </td><td style="text-align: left;"> <code>"RdPu"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   31 </td><td style="text-align: left;"> <code>"Reds"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   32 </td><td style="text-align: left;"> <code>"YlGn"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   33 </td><td style="text-align: left;"> <code>"YlGnBu"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   34 </td><td style="text-align: left;"> <code>"YlOrBr"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
   35 </td><td style="text-align: left;"> <code>"YlOrRd"</code> </td><td style="text-align: left;"> 9 </td><td style="text-align: left;"> Sequential </td><td style="text-align: left;"> Yes </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can access four colorblind-friendly palettes from <strong>viridis</strong>:
<code>"viridis"</code>, <code>"magma"</code>, <code>"plasma"</code>, and <code>"inferno"</code>. Simply provide any one
of those names to <code>palette</code>.
</p>


<h3>Color palette access from <strong>paletteer</strong></h3>

<p>Choosing the right color palette can often be difficult because it's both
hard to discover suitable palettes and then obtain the vector of colors. To
make this process easier we can elect to use the <strong>paletteer</strong> package,
which makes a wide range of palettes from various R packages readily
available. The <code><a href="#topic+info_paletteer">info_paletteer()</a></code> information table allows us to easily
inspect all of the discrete color palettes available in <strong>paletteer</strong>. We
only then need to specify the palette and associated package using the
<code style="white-space: pre;">&#8288;&lt;package&gt;::&lt;palette&gt;&#8288;</code> syntax (e.g., <code>"tvthemes::Stannis"</code>) for
the <code>palette</code> argument.
</p>
<p>A requirement for using <strong>paletteer</strong> in this way is that the package must be
installed (<strong>gt</strong> doesn't import <strong>paletteer</strong> currently). This can be easily
done with <code>install.packages("paletteer")</code>. Not having this package installed
with result in an error when using the <code style="white-space: pre;">&#8288;&lt;package&gt;::&lt;palette&gt;&#8288;</code> syntax in
<code>palette</code>.
</p>


<h3>Foreground text and background fill</h3>

<p>By default, <strong>gt</strong> will choose the ideal text color (for maximal contrast)
when colorizing the background of data cells. This option can be disabled by
setting <code>autocolor_text</code> to <code>FALSE</code>. The <code>contrast_algo</code> argument lets us
choose between two color contrast algorithms: <code>"apca"</code> (<em>Accessible
Perceptual Contrast Algorithm</em>, the default algo) and <code>"wcag"</code> (<em>Web Content
Accessibility Guidelines</em>).
</p>


<h3>Examples</h3>

<p><code>data_color()</code> can be used without any supplied arguments to
colorize a <strong>gt</strong> table. Let's do this with the <code><a href="#topic+exibble">exibble</a></code> dataset:
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  data_color()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_1.png" alt="This image of a table was generated from the first code example in the `data_color()` help file." style="width:100%;">

<p>What's happened is that <code>data_color()</code> applies background colors to all cells
of every column with the default palette in R (accessed through <code>palette()</code>).
The default method for applying color is <code>"auto"</code>, where numeric values will
use the <code>"numeric"</code> method and character or factor values will use the
<code>"factor"</code> method. The text color undergoes an automatic modification that
maximizes contrast (since <code>autocolor_text</code> is <code>TRUE</code> by default).
</p>
<p>You can use any of the available <code>method</code> keywords and <strong>gt</strong> will only apply
color to the compatible values. Let's use the <code>"numeric"</code> method and supply
<code>palette</code> values of <code>"red"</code> and <code>"green"</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  data_color(
    method = "numeric",
    palette = c("red", "green")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_2.png" alt="This image of a table was generated from the second code example in the `data_color()` help file." style="width:100%;">

<p>With those options in place we see that only the numeric columns <code>num</code> and
<code>currency</code> received color treatments. Moreover, the palette colors were
mapped to the lower and upper limits of the data in each column; interpolated
colors were used for the values in between the numeric limits of the two
columns.
</p>
<p>We can constrain the cells to which coloring will be applied with the
<code>columns</code> and <code>rows</code> arguments. Further to this, we can manually set the
limits of the data with the <code>domain</code> argument (which is preferable in most
cases). Here, the domain will be set as <code>domain = c(0, 50)</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  data_color(
    columns = currency,
    rows = currency &lt; 50,
    method = "numeric",
    palette = c("red", "green"),
    domain = c(0, 50)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_3.png" alt="This image of a table was generated from the third code example in the `data_color()` help file." style="width:100%;">

<p>We can use any of the palettes available in the <strong>RColorBrewer</strong> and
<strong>viridis</strong> packages. Let's make a new <strong>gt</strong> table from a subset of the
<code><a href="#topic+countrypops">countrypops</a></code> dataset. Then, through <code>data_color()</code>, we'll apply coloring
to the <code>population</code> column with the <code>"numeric"</code> method, use a domain between
2.5 and 3.4 million, and specify <code>palette = "viridis"</code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Bangladesh") |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::slice_tail(n = 10) |&gt;
  gt() |&gt;
  data_color(
    columns = population,
    method = "numeric",
    palette = "viridis",
    domain = c(150E6, 170E6),
    reverse = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_4.png" alt="This image of a table was generated from the fourth code example in the `data_color()` help file." style="width:100%;">

<p>We can alternatively use the <code>fn</code> argument for supplying the <strong>scales</strong>-based
function <code><a href="scales.html#topic+col_numeric">scales::col_numeric()</a></code>. That function call will itself return a
function (which is what the <code>fn</code> argument actually requires) that takes a
vector of numeric values and returns color values. Here is an alternate
version of the code that returns the same table as in the previous example.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_name == "Bangladesh") |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::slice_tail(n = 10) |&gt;
  gt() |&gt;
  data_color(
    columns = population,
    fn = scales::col_numeric(
      palette = "viridis",
      domain = c(150E6, 170E6),
      reverse = TRUE
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_4.png" alt="This image of a table was generated from the fourth code example in the `data_color()` help file." style="width:100%;">

<p>Using your own function in <code>fn</code> can be very useful if you want to make use of
specialized arguments in the <code style="white-space: pre;">&#8288;scales::col_*()&#8288;</code> functions. You could even
supply your own specialized function for performing complex colorizing
treatments!
</p>
<p><code>data_color()</code> has a way to apply colorization indirectly to
other columns. That is, you can apply colors to a column different from the
one used to generate those specific colors. The trick is to use the
<code>target_columns</code> argument. Let's do this with a more complete
<code><a href="#topic+countrypops">countrypops</a></code>-based table example.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_code_3 %in% c("FRA", "GBR")) |&gt;
  dplyr::filter(year %% 10 == 0) |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::mutate(color = "") |&gt;
  gt(groupname_col = "country_name") |&gt;
  fmt_integer(columns = population) |&gt;
  data_color(
    columns = population,
    target_columns = color,
    method = "numeric",
    palette = "viridis",
    domain = c(4E7, 7E7)
  ) |&gt;
  cols_label(
    year = "",
    population = "Population",
    color = ""
  ) |&gt;
  opt_vertical_padding(scale = 0.65)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_5.png" alt="This image of a table was generated from the fifth code example in the `data_color()` help file." style="width:100%;">

<p>When specifying a single column in <code>columns</code> we can use as many
<code>target_columns</code> values as we want. Let's make another <code><a href="#topic+countrypops">countrypops</a></code>-based
table where we map the generated colors from the <code>year</code> column to all columns
in the table. This time, the <code>palette</code> used is <code>"inferno"</code> (also from the
<strong>viridis</strong> package).
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_code_3 %in% c("FRA", "GBR", "ITA")) |&gt;
  dplyr::select(-contains("code")) |&gt;
  dplyr::filter(year %% 5 == 0) |&gt;
  tidyr::pivot_wider(
    names_from = "country_name",
    values_from = "population"
  ) |&gt;
  gt() |&gt;
  fmt_integer(columns = c(everything(), -year)) |&gt;
  cols_width(
    year ~ px(80),
    everything() ~ px(160)
  ) |&gt;
  opt_all_caps() |&gt;
  opt_vertical_padding(scale = 0.75) |&gt;
  opt_horizontal_padding(scale = 3) |&gt;
  data_color(
    columns = year,
    target_columns = everything(),
    palette = "inferno"
  ) |&gt;
  tab_options(
    table_body.hlines.style = "none",
    column_labels.border.top.color = "black",
    column_labels.border.bottom.color = "black",
    table_body.border.bottom.color = "black"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_6.png" alt="This image of a table was generated from the sixth code example in the `data_color()` help file." style="width:100%;">

<p>Now, it's time to use <code><a href="#topic+pizzaplace">pizzaplace</a></code> to create a <strong>gt</strong> table. The color
palette to be used is the <code>"ggsci::red_material"</code> one (it's in the <strong>ggsci</strong>
R package but also obtainable from the <strong>paletteer</strong> package).
Colorization will be applied to the to the <code>sold</code> and <code>income</code> columns. We
don't have to specify those in <code>columns</code> because those are the only columns
in the table. Also, the <code>domain</code> is not set here. We'll use the bounds of the
available data in each column.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::group_by(type, size) |&gt;
  dplyr::summarize(
    sold = dplyr::n(),
    income = sum(price),
    .groups = "drop_last"
  ) |&gt;
  dplyr::group_by(type) |&gt;
  dplyr::mutate(f_sold = sold / sum(sold)) |&gt;
  dplyr::mutate(size = factor(
    size, levels = c("S", "M", "L", "XL", "XXL"))
  ) |&gt;
  dplyr::arrange(type, size) |&gt;
  gt(
    rowname_col = "size",
    groupname_col = "type"
  ) |&gt;
  fmt_percent(
    columns = f_sold,
    decimals = 1
  ) |&gt;
  cols_merge(
    columns = c(size, f_sold),
    pattern = "{1} ({2})"
  ) |&gt;
  cols_align(align = "left", columns = stub()) |&gt;
  data_color(
    method = "numeric",
    palette = "ggsci::red_material"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_7.png" alt="This image of a table was generated from the seventh code example in the `data_color()` help file." style="width:100%;">

<p>Colorization can occur in a row-wise manner. The key to making that happen is
by using <code>direction = "row"</code>. Let's use the <code><a href="#topic+sza">sza</a></code> dataset to make a <strong>gt</strong>
table. Then, color will be applied to values across each 'month' of data in
that table. This is useful when not setting a <code>domain</code> as the bounds of each
row will be captured, coloring each cell with values relative to the range.
The <code>palette</code> is <code>"PuOr"</code> from the <strong>RColorBrewer</strong> package (only the name
here is required).
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(latitude == 20 &amp; tst &lt;= "1200") |&gt;
  dplyr::select(-latitude) |&gt;
  dplyr::filter(!is.na(sza)) |&gt;
  tidyr::spread(key = "tst", value = sza) |&gt;
  gt(rowname_col = "month") |&gt;
  sub_missing(missing_text = "") |&gt;
  data_color(
    direction = "row",
    palette = "PuOr",
    na_color = "white"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_data_color_8.png" alt="This image of a table was generated from the eighth code example in the `data_color()` help file." style="width:100%;">

<p>Notice that <code>na_color = "white"</code> was used, and this avoids the appearance of
gray cells for the missing values (we also removed the <code>"NA"</code> text with
<code><a href="#topic+sub_missing">sub_missing()</a></code>, opting for empty strings).
</p>


<h3>Function ID</h3>

<p>3-36
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='default_fonts'>Provide a vector of sensible system fonts for use with <strong>gt</strong> tables</h2><span id='topic+default_fonts'></span>

<h3>Description</h3>

<p>The vector of fonts given by <code>default_fonts()</code> can be safely used with a
<strong>gt</strong> table rendered as HTML since the font stack is expected to be
available across a wide set of systems. We can always specify additional
fonts to use and place them higher in precedence order, done through
prepending to this vector (i.e., this font stack should be placed after that
to act as a set of fallbacks).
</p>
<p>This vector of fonts is useful when specifying <code>font</code> values inside
<code><a href="#topic+cell_text">cell_text()</a></code> (itself usable in <code><a href="#topic+tab_style">tab_style()</a></code> or <code><a href="#topic+tab_style_body">tab_style_body()</a></code>). If
using <code><a href="#topic+opt_table_font">opt_table_font()</a></code> (which also has a <code>font</code> argument), we probably
don't need to specify this vector of fonts since that function prepends font
names (this is handled by its <code>add</code> option, which is <code>TRUE</code> by default).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_fonts()
</code></pre>


<h3>Value</h3>

<p>A character vector of font names.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>char</code> and <code>time</code> columns). Attempting to modify the fonts
used for the <code>time</code> column is much safer if <code>default_fonts()</code> is appended to
the end of the <code>font</code> listing inside <code>cell_text()</code>. What will happen, since
the <code>"Comic Sansa"</code> and <code>"Menloa"</code> fonts shouldn't exist, is that we'll get
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(char, time) |&gt;
  gt() |&gt;
  tab_style(
    style = cell_text(
      font = c("Comic Sansa", "Menloa", default_fonts())
    ),
    locations = cells_body(columns = time)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_default_fonts_1.png" alt="This image of a table was generated from the first code example in the `default_fonts()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-32
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.2</code> (August 5, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='escape_latex'>Perform LaTeX escaping</h2><span id='topic+escape_latex'></span>

<h3>Description</h3>

<p>Text may contain several characters with special meanings in LaTeX.
<code>escape_latex()</code> will transform a character vector so that it is safe to use
within LaTeX tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>escape_latex(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="escape_latex_+3A_text">text</code></td>
<td>
<p><em>LaTeX text</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A character vector containing the text that is to be LaTeX-escaped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Function ID</h3>

<p>8-29
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='exibble'>A toy example tibble for testing with gt: exibble</h2><span id='topic+exibble'></span>

<h3>Description</h3>

<p>This tibble contains data of a few different classes, which makes it
well-suited for quick experimentation with the functions in this package. It
contains only eight rows with numeric, character, and factor columns. The
last 4 rows contain <code>NA</code> values in the majority of this tibble's columns (1
missing value per column). The <code>date</code>, <code>time</code>, and <code>datetime</code> columns are
character-based dates/times in the familiar ISO 8601 format. The <code>row</code> and
<code>group</code> columns provide for unique rownames and two groups (<code>grp_a</code> and
<code>grp_b</code>) for experimenting with the <code><a href="#topic+gt">gt()</a></code> function's <code>rowname_col</code> and
<code>groupname_col</code> arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exibble
</code></pre>


<h3>Format</h3>

<p>A tibble with 8 rows and 9 variables:
</p>

<dl>
<dt>num</dt><dd><p>A numeric column ordered with increasingly larger values.</p>
</dd>
<dt>char</dt><dd><p>A character column composed of names of fruits from <code>a</code> to <code>h</code>.</p>
</dd>
<dt>fctr</dt><dd><p>A factor column with numbers from <code>1</code> to <code>8</code>, written out.</p>
</dd>
<dt>date, time, datetime</dt><dd><p>Character columns with dates, times, and
datetimes.</p>
</dd>
<dt>currency</dt><dd><p>A numeric column that is useful for testing currency-based
formatting.</p>
</dd>
<dt>row</dt><dd><p>A character column in the format <code>row_X</code> which can be useful for
testing with row labels in a table stub.</p>
</dd>
<dt>group</dt><dd><p>A character column with four <code>grp_a</code> values and four <code>grp_b</code>
values which can be useful for testing tables that contain row groups.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is the entirety of the <code>exibble</code> table.
</p>
<div class="sourceCode r"><pre>exibble
#&gt; # A tibble: 8 x 9
#&gt;           num char       fctr  date       time  datetime    currency row   group
#&gt;         &lt;dbl&gt; &lt;chr&gt;      &lt;fct&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
#&gt; 1       0.111 apricot    one   2015-01-15 13:35 2018-01-01~    50.0  row_1 grp_a
#&gt; 2       2.22  banana     two   2015-02-15 14:40 2018-02-02~    18.0  row_2 grp_a
#&gt; 3      33.3   coconut    three 2015-03-15 15:45 2018-03-03~     1.39 row_3 grp_a
#&gt; 4     444.    durian     four  2015-04-15 16:50 2018-04-04~ 65100    row_4 grp_a
#&gt; 5    5550     &lt;NA&gt;       five  2015-05-15 17:55 2018-05-05~  1326.   row_5 grp_b
#&gt; 6      NA     fig        six   2015-06-15 &lt;NA&gt;  2018-06-06~    13.3  row_6 grp_b
#&gt; 7  777000     grapefruit seven &lt;NA&gt;       19:10 2018-07-07~    NA    row_7 grp_b
#&gt; 8 8880000     honeydew   eight 2015-08-15 20:20 &lt;NA&gt;            0.44 row_8 grp_b
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-6
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_exibble.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='extract_body'>Extract the table body from a <strong>gt</strong> object</h2><span id='topic+extract_body'></span>

<h3>Description</h3>

<p>We can extract the body of a <strong>gt</strong> table, even at various stages of its
rendering, from a <code>gt_tbl</code> object using <code>extract_body()</code>. By default, the
data frame returned will have gone through all of the build stages but we
can intercept the table body after a certain build stage. Here are the eight
different build stages and some notes about each:
</p>

<ol>
<li> <p><code>"init"</code>: the body table is initialized here, entirely with <code>NA</code> values.
It's important to note that all columns of the are of the <code>character</code> type in
this first stage. And all columns remain in the same order as the input data
table.
</p>
</li>
<li> <p><code>"fmt_applied"</code>: Any cell values that have had formatting applied to them
are migrated to the body table. All other cells remain as <code>NA</code> values.
Depending on the <code>output</code> type, the formatting may also be different.
</p>
</li>
<li> <p><code>"sub_applied"</code>: Any cell values that have had substitution functions
applied to them (whether or not they were previously formatted) are migrated
to the body table or modified in place (if formatted). All cells that had
neither been formatted nor undergone substitution remain as <code>NA</code> values.
</p>
</li>
<li> <p><code>"unfmt_included"</code>: All cells that either didn't have any formatting or
any substitution operations applied are migrated to the body table. <code>NA</code>
values now become the string <code>"NA"</code>, so, there aren't any true missing values
in this body table.
</p>
</li>
<li> <p><code>"cols_merged"</code>: The result of column-merging operations (through
<code><a href="#topic+cols_merge">cols_merge()</a></code> and related functions) is materialized here. Columns that were
asked to be hidden will be present here (i.e., hiding columns doesn't remove
them from the body table).
</p>
</li>
<li> <p><code>"body_reassembled"</code>: Though columns do not move positions rows can move
to different positions, and this is usually due to migration to different row
groups. At this stage, rows will be in the finalized order that is seen in
the associated display table.
</p>
</li>
<li> <p><code>"text_transformed"</code>: Various <code style="white-space: pre;">&#8288;text_*()&#8288;</code> functions in <strong>gt</strong> can operate
on body cells (now fully formatted at this stage) and return transformed
character values. After this stage, the effects of those functions are
apparent.
</p>
</li>
<li> <p><code>"footnotes_attached"</code>: Footnote marks are attached to body cell values
(either on the left or right of the content). This stage performs said
attachment.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>extract_body(
  data,
  build_stage = NULL,
  output = c("html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_body_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="extract_body_+3A_build_stage">build_stage</code></td>
<td>
<p><em>The build stage of the formatted R data frame</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>When a <strong>gt</strong> undergoes rendering, the body of the table proceeds through
several build stages. Providing a single stage name will yield a data frame
that has been extracted after completed that stage. Here are the build
stages in order: (1) <code>"init"</code>, (2) <code>"fmt_applied"</code>, (3) <code>"sub_applied"</code>,
(4) <code>"unfmt_included"</code>, (5) <code>"cols_merged"</code>, (6) <code>"body_reassembled"</code>, (7)
<code>"text_transformed"</code>, and (8) <code>"footnotes_attached"</code>. If not supplying a
value for <code>build_stage</code> then the entire build for the table body (i.e., up
to and including the <code>"footnotes_attached"</code> stage) will be performed before
returning the data frame.</p>
</td></tr>
<tr><td><code id="extract_body_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"html"</code>
</p>
<p>The output format of the resulting data frame. This can either be
<code>"html"</code> (the default), <code>"latex"</code>, <code>"rtf"</code>, or <code>"word"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame or tibble object containing the table body.
</p>


<h3>Function ID</h3>

<p>13-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='extract_cells'>Extract a vector of formatted cells from a <strong>gt</strong> object</h2><span id='topic+extract_cells'></span>

<h3>Description</h3>

<p>Get a vector of cell data from a <code>gt_tbl</code> object. The output vector will have
cell data formatted in the same way as the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_cells(
  data,
  columns,
  rows = everything(),
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_cells_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="extract_cells_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="extract_cells_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for extraction. The default <code><a href="#topic+everything">everything()</a></code> results in all
rows in <code>columns</code> being formatted. Alternatively, we can supply a vector of
row IDs within <code>c()</code>, a vector of row indices, or a select helper function
(e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="extract_cells_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of cell data extracted from a <strong>gt</strong> table.
</p>


<h3>Examples</h3>

<p>Let's create a <strong>gt</strong> table with the <code><a href="#topic+exibble">exibble</a></code> dataset to use in the next
few examples:
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;- gt(exibble, rowname_col = "row", groupname_col = "group")
</pre></div>
<p>We can extract a cell from the table with the <code>extract_cells()</code> function.
This is done by providing a column and a row intersection:
</p>
<div class="sourceCode r"><pre>extract_cells(gt_tbl, columns = num, row = 1)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1.111e-01"
</pre></div>
<p>Multiple cells can be extracted. Let's get the first four cells from the
<code>char</code> column.
</p>
<div class="sourceCode r"><pre>extract_cells(gt_tbl, columns = char, rows = 1:4)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "apricot" "banana" "coconut" "durian"
</pre></div>
<p>We can format cells and expect that the formatting is fully retained after
extraction.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  fmt_number(columns = num, decimals = 2) |&gt;
  extract_cells(columns = num, rows = 1)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.11"
</pre></div>


<h3>Function ID</h3>

<p>13-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='extract_summary'>Extract a summary list from a <strong>gt</strong> object</h2><span id='topic+extract_summary'></span>

<h3>Description</h3>

<p>Get a list of summary row data frames from a <code>gt_tbl</code> object where summary
rows were added via <code><a href="#topic+summary_rows">summary_rows()</a></code>. The output data frames contain the
<code>group_id</code> and <code>rowname</code> columns, whereby <code>rowname</code> contains descriptive stub
labels for the summary rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_summary(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_summary_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data frames containing summary data.
</p>


<h3>Examples</h3>

<p>Use a modified version of <code><a href="#topic+sp500">sp500</a></code> the dataset to create a <strong>gt</strong> table with
row groups and row labels. Create summary rows labeled as <code>min</code>, <code>max</code>, and
<code>avg</code> for every row group with <code><a href="#topic+summary_rows">summary_rows()</a></code>. Then, extract the summary
rows as a list object.
</p>
<div class="sourceCode r"><pre>summary_extracted &lt;-
  sp500 |&gt;
  dplyr::filter(date &gt;= "2015-01-05" &amp; date &lt;="2015-01-30") |&gt;
  dplyr::arrange(date) |&gt;
  dplyr::mutate(week = paste0("W", strftime(date, format = "%V"))) |&gt;
  dplyr::select(-adj_close, -volume) |&gt;
  gt(
    rowname_col = "date",
    groupname_col = "week"
  ) |&gt;
  summary_rows(
    groups = everything(),
    columns = c(open, high, low, close),
    fns = list(
      min = ~min(.),
      max = ~max(.),
      avg = ~mean(.)
    ),
  ) |&gt;
  extract_summary()

summary_extracted
#&gt; $summary_df_data_list
#&gt; $summary_df_data_list$W02
#&gt; # A tibble: 3 x 9
#&gt;   group_id row_id rowname  date  open  high   low close  week
#&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 W02      min    min        NA 2006. 2030. 1992. 2003.    NA
#&gt; 2 W02      max    max        NA 2063. 2064. 2038. 2062.    NA
#&gt; 3 W02      avg    avg        NA 2035. 2049. 2017. 2031.    NA
#&gt; 
#&gt; $summary_df_data_list$W03
#&gt; # A tibble: 3 x 9
#&gt;   group_id row_id rowname  date  open  high   low close  week
#&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 W03      min    min        NA 1992. 2018. 1988. 1993.    NA
#&gt; 2 W03      max    max        NA 2046. 2057. 2023. 2028.    NA
#&gt; 3 W03      avg    avg        NA 2020. 2033. 2000. 2015.    NA
#&gt; 
#&gt; $summary_df_data_list$W04
#&gt; # A tibble: 3 x 9
#&gt;   group_id row_id rowname  date  open  high   low close  week
#&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 W04      min    min        NA 2020. 2029. 2004. 2023.    NA
#&gt; 2 W04      max    max        NA 2063. 2065. 2051. 2063.    NA
#&gt; 3 W04      avg    avg        NA 2035. 2049. 2023. 2042.    NA
#&gt; 
#&gt; $summary_df_data_list$W05
#&gt; # A tibble: 3 x 9
#&gt;   group_id row_id rowname  date  open  high   low close  week
#&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1 W05      min    min        NA 2002. 2023. 1989. 1995.    NA
#&gt; 2 W05      max    max        NA 2050. 2058. 2041. 2057.    NA
#&gt; 3 W05      avg    avg        NA 2030. 2039. 2009. 2021.    NA
</pre></div>
<p>Use the summary list to make a new <strong>gt</strong> table. The key thing is to use
<code>dplyr::bind_rows()</code> and then pass the tibble to <code><a href="#topic+gt">gt()</a></code>.
</p>
<div class="sourceCode r"><pre>summary_extracted |&gt;
  unlist(recursive = FALSE) |&gt;
  dplyr::bind_rows() |&gt;
  gt(groupname_col = "group_id") |&gt;
  cols_hide(columns = row_id)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_extract_summary_1.png" alt="This image of a table was generated from the first code example in the `extract_summary()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>13-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+gtsave">gtsave</a>()</code>
</p>

<hr>
<h2 id='films'>Feature films in competition at the Cannes Film Festival</h2><span id='topic+films'></span>

<h3>Description</h3>

<p>Each entry in the <code>films</code> is a feature film that appeared in the official
selection during a festival year (starting in 1946 and active to the present
day). The <code>year</code> column refers to the year of the festival and this figure
doesn't always coincide with the release year of the film. The film's title
reflects the most common title of the film in English, where the
<code>original_title</code> column provides the title of the film in its spoken language
(transliterated to Roman script where necessary).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>films
</code></pre>


<h3>Format</h3>

<p>A tibble with 1,851 rows and 8 variables:
</p>

<dl>
<dt>year</dt><dd><p>The year of the festival in which the film was in competition.</p>
</dd>
<dt>title,original_title</dt><dd><p>The <code>title</code> field provides the film title used
for English-speaking audiences. The <code>original_title</code> field is populated when
<code>title</code> differs greatly from the non-English original.</p>
</dd>
<dt>director</dt><dd><p>The director or set of co-directors for the film. Multiple
directors are separated by a comma.</p>
</dd>
<dt>languages</dt><dd><p>The languages spoken in the film in the order of appearance.
This consists of ISO 639 language codes (primarily as two-letter codes, but
using three-letter codes where necessary).</p>
</dd>
<dt>countries_of_origin</dt><dd><p>The country or countries of origin for the
production. Here, 2-letter ISO 3166-1 country codes (set in uppercase) are
used.</p>
</dd>
<dt>run_time</dt><dd><p>The run time of the film in hours and minutes. This is given
as a string in the format <code style="white-space: pre;">&#8288;[x]h [y]m&#8288;</code>.</p>
</dd>
<dt>imdb_url</dt><dd><p>The URL of the film's information page in the Internet Movie
Database (IMDB).</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>films</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(films)
#&gt; Rows: 1,851
#&gt; Columns: 8
#&gt; $ year                &lt;int&gt; 1946, 1946, 1946, 1946, 1946, 1946, 1946, 1946, 19~
#&gt; $ title               &lt;chr&gt; "The Lovers", "Anna and the King of Siam", "Blood ~
#&gt; $ original_title      &lt;chr&gt; "Amanti in fuga", NA, "Blod och eld", "Brevet fra ~
#&gt; $ director            &lt;chr&gt; "Giacomo Gentilomo", "John Cromwell", "Anders Henr~
#&gt; $ languages           &lt;chr&gt; "it", "en", "sv", "da", "en,fr", "en", "pt", "ru",~
#&gt; $ countries_of_origin &lt;chr&gt; "IT", "US", "SE", "DK", "GB", "GB", "PT", "SU", "D~
#&gt; $ run_time            &lt;chr&gt; "1h 30m", "2h 8m", "1h 40m", "1h 18m", "1h 26m", "~
#&gt; $ imdb_url            &lt;chr&gt; "https://www.imdb.com/title/tt0038297/", "https://~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-9
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_films.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='fmt'>Set a column format with a formatter function</h2><span id='topic+fmt'></span>

<h3>Description</h3>

<p><code>fmt()</code> provides a way to execute custom formatting functionality with raw
data values in a way that can consider all output contexts.
</p>
<p>Along with the <code>columns</code> and <code>rows</code> arguments that provide some precision in
targeting data cells, the <code>fns</code> argument allows you to define one or more
functions for manipulating the raw data.
</p>
<p>If providing a single function to <code>fns</code>, the recommended format is in the
form: <code>fns = function(x) ...</code>. This single function will format the targeted
data cells the same way regardless of the output format (e.g., HTML, LaTeX,
RTF).
</p>
<p>If you require formatting of <code>x</code> that depends on the output format, a list of
functions can be provided for the <code>html</code>, <code>latex</code>, <code>rtf</code>, and <code>default</code>
contexts. This can be in the form of <code>fns = list(html = function(x) ..., latex = function(x) ..., default = function(x) ...)</code>. In this
multiple-function case, we recommended including the <code>default</code> function as a
fallback if all contexts aren't provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt(data, columns = everything(), rows = everything(), compat = NULL, fns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_+3A_compat">compat</code></td>
<td>
<p><em>Formatting compatibility</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional vector that provides the compatible classes for the formatting.
By default this is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="fmt_+3A_fns">fns</code></td>
<td>
<p><em>Formatting functions</em>
</p>
<p><code style="white-space: pre;">&#8288;function|list of functions&#8288;</code> // <strong>required</strong>
</p>
<p>Either a single formatting function or a named list of functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. Using the <code>fmt()</code>
function, we'll format the numeric values in the <code>num</code> column with a function
supplied to the <code>fns</code> argument. This supplied function will take values in
the column (<code>x</code>), multiply them by 1000, and exclose them in single quotes.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(-row, -group) |&gt;
  gt() |&gt;
  fmt(
    columns = num,
    fns = function(x) {
      paste0("'", x * 1000, "'")
    }
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_1.png" alt="This image of a table was generated from the first code example in the `fmt()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-30
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_auto'>Automatically format column data according to their values</h2><span id='topic+fmt_auto'></span>

<h3>Description</h3>

<p><code>fmt_auto()</code> will automatically apply formatting of various types in a way
that best suits the data table provided. The function will attempt to format
numbers such that they are condensed to an optimal width, either with
scientific notation or large-number suffixing. Currency values are detected
by currency codes embedded in the column name and formatted in the correct
way. Although the functionality here is comprehensive it's still possible to
reduce the scope of automatic formatting with the <code>scope</code> argument and also
by choosing a subset of columns and rows to which the formatting will be applied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_auto(
  data,
  columns = everything(),
  rows = everything(),
  scope = c("numbers", "currency"),
  lg_num_pref = c("sci", "suf"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_auto_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_auto_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_auto_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_auto_+3A_scope">scope</code></td>
<td>
<p><em>Scope of automatic formatting</em>
</p>
<p><code style="white-space: pre;">&#8288;mult-kw:[numbers|currency]&#8288;</code> // <em>default:</em> <code>c("numbers", "currency")</code>
</p>
<p>By default, the function will format both <code>"numbers"</code>-type values and
<code>"currency"</code>-type values though the scope can be reduced to a single type
of value to format.</p>
</td></tr>
<tr><td><code id="fmt_auto_+3A_lg_num_pref">lg_num_pref</code></td>
<td>
<p><em>Large-number preference</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[sci|suf]&#8288;</code> // <em>default:</em> <code>"sci"</code>
</p>
<p>When large numbers are present, there can be a fixed preference toward how
they are formatted. Choices are scientific notation for very small and very
large values (<code>"sci"</code>), or, the use of suffixed numbers (<code>"suf"</code>, for large
values only).</p>
</td></tr>
<tr><td><code id="fmt_auto_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. Format all of the
columns automatically with the <code>fmt_auto()</code> function.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  fmt_auto()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_auto_1.png" alt="This image of a table was generated from the first code example in the `fmt_auto()` help file." style="width:100%;">

<p>Let's now use the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create another <strong>gt</strong> table.
We'll again use <code>fmt_auto()</code> to automatically format all columns but this
time the choice will be made to opt for large-number suffixing instead of
scientific notation. This is done by using the <code>lg_num_pref = "suf"</code> option.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(country_code_3, year, population) |&gt;
  dplyr::filter(country_code_3 %in% c("CHN", "IND", "USA", "PAK", "IDN")) |&gt;
  dplyr::filter(year &gt; 1975 &amp; year %% 5 == 0) |&gt;
  tidyr::spread(year, population) |&gt;
  dplyr::arrange(desc(`2020`)) |&gt;
  gt(rowname_col = "country_code_3") |&gt;
  fmt_auto(lg_num_pref = "suf")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_auto_2.png" alt="This image of a table was generated from the second code example in the `fmt_auto()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-29
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_bins'>Format column data containing bin/interval information</h2><span id='topic+fmt_bins'></span>

<h3>Description</h3>

<p>When using <code>cut()</code> (or other functions that use it in some way)
you get bins that can look like this: <code>"(0,10]"</code>, <code>"(10,15]"</code>, <code>"(15,20]"</code>,
<code>"(20,40]"</code>. This interval notation expresses the lower and upper limits of
each range. The square or round brackets define whether each of the endpoints
are included in the range (<code>[</code>/<code style="white-space: pre;">&#8288;]&#8288;</code> for inclusion, <code>(</code>/<code style="white-space: pre;">&#8288;)&#8288;</code> for exclusion).
Should bins of this sort be present in a table, the <code>fmt_bins()</code> function can
be used to format that syntax to a form that presents better in a display
table. It's possible to format the values of the intervals with the <code>fmt</code>
argument, and, the separator can be modified with the <code>sep</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_bins(
  data,
  columns = everything(),
  rows = everything(),
  sep = "--",
  fmt = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_bins_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_bins_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_bins_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_bins_+3A_sep">sep</code></td>
<td>
<p><em>Separator between values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"--"</code>
</p>
<p>The separator text that indicates the values are ranged. The default value
of <code>"--"</code> indicates that an en dash will be used for the range separator.
Using <code>"---"</code> will be taken to mean that an em dash should be used. Should
you want these special symbols to be taken literally, they can be supplied
within <code><a href="base.html#topic+AsIs">base::I()</a></code>.</p>
</td></tr>
<tr><td><code id="fmt_bins_+3A_fmt">fmt</code></td>
<td>
<p><em>Formatting expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;single expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional formatting expression in formula form. If used, the RHS of <code>~</code>
should contain a formatting call (e.g.,
<code style="white-space: pre;">&#8288;~ fmt_number(., decimals = 3, use_seps = FALSE&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_bins()</code> is compatible with body cells that are  of the <code>"character"</code> or
<code>"factor"</code> types. Any other types of body cells are ignored during formatting.
This is to say that cells of incompatible data types may be targeted, but
there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Formatting expressions for <code>fmt</code></h3>

<p>We can supply a one-sided (RHS only) expression to <code>fmt</code>, and, several can be
provided in a list. The expression uses a formatting function (e.g.,
<code><a href="#topic+fmt_number">fmt_number()</a></code>, <code><a href="#topic+fmt_currency">fmt_currency()</a></code>, etc.) and it must contain an initial <code>.</code>
that stands for the data object. If performing numeric formatting it might
look something like this:
</p>
<p><code>fmt = ~ fmt_number(., decimals = 1, use_seps = FALSE)</code>
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. Before even getting
to the <code><a href="#topic+gt">gt()</a></code> call, we use <code>cut()</code> in conjunction with <code><a href="scales.html#topic+breaks_log">scales::breaks_log()</a></code>
to create some highly customized bins. Consequently each country's population
in the 2021 year is assigned to a bin. These bins have a characteristic type
of formatting that can be used as input to <code>fmt_bins()</code>, and using that
formatting function allows us to customize the presentation of those ranges.
For instance, here we are formatting the left and right values of the ranges
with <code><a href="#topic+fmt_integer">fmt_integer()</a></code> (using formula syntax).
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(year == 2021) |&gt;
  dplyr::select(country_code_2, population) |&gt;
  dplyr::mutate(population_class = cut(
    population,
    breaks = scales::breaks_log(n = 20)(population)
    )
  ) |&gt;
  dplyr::group_by(population_class) |&gt;
  dplyr::summarize(
    count = dplyr::n(),
    countries = paste0(country_code_2, collapse = ",")
  ) |&gt;
  dplyr::arrange(desc(population_class)) |&gt;
  gt() |&gt;
  fmt_flag(columns = countries) |&gt;
  fmt_bins(
    columns = population_class,
    fmt = ~ fmt_integer(., suffixing = TRUE)
  ) |&gt;
  cols_label(
    population_class = "Population Range",
    count = "",
    countries = "Countries"
  ) |&gt;
  cols_width(
    population_class ~ px(150),
    count ~ px(50)
  ) |&gt;
  tab_style(
    style = cell_text(style = "italic"),
    locations = cells_body(columns = count)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_bins_1.png" alt="This image of a table was generated from the first code example in the `fmt_bins()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-17
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_bytes'>Format values as bytes</h2><span id='topic+fmt_bytes'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can transform those to values of
bytes with human readable units. <code>fmt_bytes()</code> allows for the
formatting of byte sizes to either of two common representations: (1) with
decimal units (powers of 1000, examples being <code>"kB"</code> and <code>"MB"</code>), and (2)
with binary units (powers of 1024, examples being <code>"KiB"</code> and <code>"MiB"</code>).
</p>
<p>It is assumed the input numeric values represent the number of bytes and
automatic truncation of values will occur. The numeric values will be scaled
to be in the range of 1 to &lt;1000 and then decorated with the correct unit
symbol according to the standard chosen. For more control over the formatting
of byte sizes, we can use the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_bytes(
  data,
  columns = everything(),
  rows = everything(),
  standard = c("decimal", "binary"),
  decimals = 1,
  n_sigfig = NULL,
  drop_trailing_zeros = TRUE,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = TRUE,
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_bytes_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_standard">standard</code></td>
<td>
<p><em>Standard used to express byte sizes</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[decimal|binary]&#8288;</code> // <em>default:</em> <code>"decimal"</code>
</p>
<p>The form of expressing large byte sizes is divided between: (1) decimal
units (powers of 1000; e.g., <code>"kB"</code> and <code>"MB"</code>), and (2) binary units
(powers of 1024; e.g., <code>"KiB"</code> and <code>"MiB"</code>).</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>1</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>. The trailing zeros can be removed with
<code>drop_trailing_zeros = TRUE</code>.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_n_sigfig">n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive numbers (effectively showing
a sign for all numbers except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the units</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option for whether to include a space between the value and the units.
The default is to use a space character for separation.</p>
</td></tr>
<tr><td><code id="fmt_bytes_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_bytes()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_bytes()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>standard</code>
</p>
</li>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>n_sigfig</code>
</p>
</li>
<li> <p><code>drop_trailing_zeros</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign</code>
</p>
</li>
<li> <p><code>incl_space</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Use a single column from the <code><a href="#topic+exibble">exibble</a></code> dataset and create a simple <strong>gt</strong>
table. We'll use <code>fmt_bytes()</code> to format the <code>num</code> column to display as byte
sizes in the decimal standard.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num) |&gt;
  gt() |&gt;
  fmt_bytes()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_bytes_1.png" alt="This image of a table was generated from the first code example in the `fmt_bytes()` help file." style="width:100%;">

<p>Let's create an analogous table again by using <code>fmt_bytes()</code>,
this time showing byte sizes as binary values by using <code>standard = "binary"</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num) |&gt;
  gt() |&gt;
  fmt_bytes(standard = "binary")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_bytes_2.png" alt="This image of a table was generated from the second code example in the `fmt_bytes()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.0</code> (May 12, 2021)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_chem'>Format chemical formulas</h2><span id='topic+fmt_chem'></span>

<h3>Description</h3>

<p><code>fmt_chem()</code> lets you format chemical formulas or even chemical
reactions in the table body. Often the input text will be in a common form
representing single compounds (like <code>"C2H4O"</code>, for acetaldehyde) but chemical
reactions can be used (e.g., <code style="white-space: pre;">&#8288;2CH3OH -&gt; CH3OCH3 + H2O"&#8288;</code>). So long as the
text within the targeted cells conforms to <strong>gt</strong>'s specialized chemistry
notation, the appropriate conversions will occur. Details pertaining to
chemistry notation can be found in the section entitled
<em>How to use <strong>gt</strong>'s chemistry notation</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_chem(data, columns = everything(), rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_chem_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_chem_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_chem_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>How to use <strong>gt</strong>'s chemistry notation</h3>

<p>The chemistry notation involves a shorthand of writing chemical formulas and
chemical reactions, if needed. It should feel familiar in its basic usage and
the more advanced typesetting tries to limit the amount of syntax needed.
It's always best to show examples on usage:
</p>

<ul>
<li> <p><code>"CH3O2"</code> and <code>"(NH4)2S"</code> will render with subscripted numerals
</p>
</li>
<li><p> Charges can be expressed with terminating <code>"+"</code> or <code>"-"</code>, as in <code>"H+"</code> and
<code>"[AgCl2]-"</code>; if any charges involve the use of a number, the following
incantations could be used: <code>"CrO4^2-"</code>, <code>"Fe^n+"</code>, <code>"Y^99+"</code>, <code>"Y^{99+}"</code>
(the final two forms produce equivalent output)
</p>
</li>
<li><p> Stoichiometric values can be included with whole values prepending formulas
(e.g.,  <code>"2H2O2"</code>) or by setting them off with a space, like this:
<code>"2 H2O2"</code>, <code>"0.5 H2O"</code>, <code>"1/2 H2O"</code>, <code>"(1/2) H2O"</code>
</p>
</li>
<li><p> Certain standalone, lowercase letters or combinations thereof will be
automatically stylized to fit conventions; <code>"NO_x"</code> and <code>"x Na(NH4)HPO4"</code>
will have italicized 'x' characters and you can always italicize letters
by surrounding with <code>"*"</code> (as in <code>"*n* H2O"</code> or <code>"*n*-C5H12"</code>)
</p>
</li>
<li><p> Chemical isotopes can be rendered using either of these two constructions
preceding an element: <code>"^{227}_{90}Th"</code> or <code>"^227_90Th"</code>; nuclides can
be represented in a similar manner, here are two examples:
<code>"^{0}_{-1}n^{-}"</code>, <code>"^0_-1n-"</code>
</p>
</li>
<li><p> Chemical reactions can use <code>"+"</code> signs and a variety of reaction arrows:
(1) <code>"A -&gt; B"</code>, (2) <code>"A &lt;- B"</code>, (3) <code>"A &lt;-&gt; B"</code>, (4) <code>"A &lt;--&gt; B"</code>, (5)
<code>"A &lt;=&gt; B"</code>, (6) <code>"A &lt;=&gt;&gt; B"</code>, or (7) <code>"A &lt;&lt;=&gt; B"</code>
</p>
</li>
<li><p> Center dots (useful in addition compounds) can be added by using a single
<code>"."</code> or <code>"*"</code> character, surrounded by spaces; here are two equivalent
examples <code>"KCr(SO4)2 . 12 H2O"</code> and <code>"KCr(SO4)2 * 12 H2O"</code>
</p>
</li>
<li><p> Single and double bonds can be shown by inserting a <code>"-"</code> or <code>"="</code> between
adjacent characters (i.e., these shouldn't be at the beginning or end of
the markup); two examples: <code>"C6H5-CHO"</code>, <code>"CH3CH=CH2"</code>
</p>
</li>
<li><p> as with units notation, Greek letters can be inserted by surrounding the
letter name with <code>":"</code>; here's an example that describes the delta value
of carbon-13: <code>":delta: ^13C"</code>
</p>
</li></ul>



<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+reactions">reactions</a></code> dataset and create a new <strong>gt</strong> table. The table
will be filtered down to only a few rows and columns. The column
<code>cmpd_formula</code> contains chemical formulas and the formatting of those will be
performed by <code>fmt_chem()</code>. Certain column labels with chemical names
(<code>o3_k298</code> and <code>no3_k298</code>) can be handled within <code><a href="#topic+cols_label">cols_label()</a></code> by using
surrounding the text with <code>"{{%"</code>/<code>"%}}"</code>.
</p>
<div class="sourceCode r"><pre>reactions |&gt;
  dplyr::filter(cmpd_type == "terminal monoalkene") |&gt;
  dplyr::filter(grepl("^1-", cmpd_name)) |&gt;
  dplyr::select(cmpd_name, cmpd_formula, ends_with("k298")) |&gt;
  gt() |&gt;
  tab_header(title = "Gas-phase reactions of selected terminal alkenes") |&gt;
  tab_spanner(
    label = "Reaction Rate Constant at 298 K",
    columns = ends_with("k298")
  ) |&gt;
  fmt_chem(columns = cmpd_formula) |&gt;
  fmt_scientific() |&gt;
  sub_missing() |&gt;
  cols_label(
    cmpd_name = "Alkene",
    cmpd_formula = "Formula",
    OH_k298 = "OH",
    O3_k298 = "{{%O3%}}",
    NO3_k298 = "{{%NO3%}}",
    Cl_k298 = "Cl"
  ) |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_chem_1.png" alt="This image of a table was generated from the first code example in the `fmt_chem()` help file." style="width:100%;">

<p>Taking just a few rows from the <code><a href="#topic+photolysis">photolysis</a></code> dataset, let's create a new
<strong>gt</strong> table. The <code>cmpd_formula</code> and <code>products</code> columns both contain text in
chemistry notation (the first has compounds, and the second column has the
products of photolysis reactions). These columns will be formatted by
<code>fmt_chem()</code>. The compound formulas will be merged with the compound
names with <code><a href="#topic+cols_merge">cols_merge()</a></code>.
</p>
<div class="sourceCode r"><pre>photolysis |&gt;
  dplyr::filter(cmpd_name %in% c(
    "hydrogen peroxide", "nitrous acid",
    "nitric acid", "acetaldehyde",
    "methyl peroxide", "methyl nitrate",
    "ethyl nitrate", "isopropyl nitrate"
  )) |&gt;
  dplyr::select(-c(l, m, n, quantum_yield, type)) |&gt;
  gt() |&gt;
  tab_header(title = "Photolysis pathways of selected VOCs") |&gt;
  fmt_chem(columns = c(cmpd_formula, products)) |&gt;
  cols_nanoplot(
    columns = sigma_298_cm2,
    columns_x_vals = wavelength_nm,
    expand_x = c(200, 400),
    new_col_name = "cross_section",
    new_col_label = "Absorption Cross Section",
    options = nanoplot_options(
      show_data_points = FALSE,
      data_line_stroke_width = 4,
      data_line_stroke_color = "black",
      show_data_area = FALSE
    )
  ) |&gt;
  cols_merge(
    columns = c(cmpd_name, cmpd_formula),
    pattern = "{1}, {2}"
  ) |&gt;
  cols_label(
    cmpd_name = "Compound",
    products = "Products"
  ) |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_chem_2.png" alt="This image of a table was generated from the second code example in the `fmt_chem()` help file." style="width:100%;">

<p><code>fmt_chem()</code> can handle the typesetting of nuclide notation.
Let's take a subset of columns and rows from the <code><a href="#topic+nuclides">nuclides</a></code> dataset and
make a new <strong>gt</strong> table. The contents of the <code>nuclide</code> column contains
isotopes of hydrogen and carbon and this is placed in the table stub. Using
<code>fmt_chem()</code> makes it so that the subscripted and superscripted values are
properly formatted to the convention of formatting nuclides.
</p>
<div class="sourceCode r"><pre>nuclides |&gt;
  dplyr::filter(element %in% c("H", "C")) |&gt;
  dplyr::mutate(nuclide = gsub("[0-9]+$", "", nuclide)) |&gt;
  dplyr::select(nuclide, atomic_mass, half_life, decay_1, is_stable) |&gt;
  gt(rowname_col = "nuclide") |&gt;
  tab_header(title = "Isotopes of Hydrogen and Carbon") |&gt;
  tab_stubhead(label = "Isotope") |&gt;
  fmt_chem(columns = nuclide) |&gt;
  fmt_scientific(columns = half_life) |&gt;
  fmt_number(
    columns = atomic_mass,
    decimals = 4,
    scale_by = 1 / 1e6
  ) |&gt;
  sub_missing(
    columns = half_life,
    rows = is_stable,
    missing_text = md("**STABLE**")
  ) |&gt;
  sub_missing(columns = half_life, rows = !is_stable) |&gt;
  sub_missing(columns = decay_1) |&gt;
  data_color(
    columns = decay_1,
    target_columns = c(atomic_mass, half_life, decay_1),
    palette = "LaCroixColoR::PassionFruit",
    na_color = "white"
  ) |&gt;
  cols_label_with(fn = function(x) tools::toTitleCase(gsub("_", " ", x))) |&gt;
  cols_label(decay_1 = "Decay Mode") |&gt;
  cols_width(
    stub() ~ px(70),
    c(atomic_mass, half_life, decay_1) ~ px(120)
  ) |&gt;
  cols_hide(columns = c(is_stable)) |&gt;
  cols_align(align = "center", columns = decay_1) |&gt;
  opt_align_table_header(align = "left") |&gt;
  opt_vertical_padding(scale = 0.5)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_chem_3.png" alt="This image of a table was generated from the third code example in the `fmt_chem()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-20
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_country'>Generate country names from their corresponding country codes</h2><span id='topic+fmt_country'></span>

<h3>Description</h3>

<p>Tables that have comparable data between countries often need to have the
country name included. While this seems like a fairly simple task, being
consistent with country names is surprisingly difficult. The <code>fmt_country()</code>
function can help in this regard by supplying a country name based on a
2- or 3-letter ISO 3166-1 country code (e.g., Singapore has the <code>"SG"</code>
country code). The resulting country names have been obtained from the
Unicode <em>CLDR</em> (Common Locale Data Repository), which is a good source since
all country names are agreed upon by consensus. Furthermore, the country
names can be localized through the <code>locale</code> argument (either in this function
or through the initial <code><a href="#topic+gt">gt()</a></code> call).
</p>
<p>Multiple country names can be included per cell by separating country codes
with commas (e.g., <code>"RO,BM"</code>). And it is okay if the codes are set in either
uppercase or lowercase letters. The <code>sep</code> argument allows for a common
separator to be applied between country names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_country(
  data,
  columns = everything(),
  rows = everything(),
  pattern = "{x}",
  sep = " ",
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_country_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_country_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_country_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_country_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_country_+3A_sep">sep</code></td>
<td>
<p><em>Separator between country names</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" "</code>
</p>
<p>In the output of country names within a body cell, <code>sep</code> provides the
separator between each instance. By default, this is a single space
character (<code>" "</code>).</p>
</td></tr>
<tr><td><code id="fmt_country_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_country()</code> function is compatible with body cells that are of the
<code>"character"</code> or <code>"factor"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_country()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Supported regions</h3>

<p>The following 242 regions (most of which comprise countries) are supported
with names across 574 locales: <code>"AD"</code>, <code>"AE"</code>, <code>"AF"</code>, <code>"AG"</code>, <code>"AI"</code>,
<code>"AL"</code>, <code>"AM"</code>, <code>"AO"</code>, <code>"AR"</code>, <code>"AS"</code>, <code>"AT"</code>, <code>"AU"</code>, <code>"AW"</code>, <code>"AX"</code>,
<code>"AZ"</code>, <code>"BA"</code>, <code>"BB"</code>, <code>"BD"</code>, <code>"BE"</code>, <code>"BF"</code>, <code>"BG"</code>, <code>"BH"</code>, <code>"BI"</code>,
<code>"BJ"</code>, <code>"BL"</code>, <code>"BM"</code>, <code>"BN"</code>, <code>"BO"</code>, <code>"BR"</code>, <code>"BS"</code>, <code>"BT"</code>, <code>"BW"</code>,
<code>"BY"</code>, <code>"BZ"</code>, <code>"CA"</code>, <code>"CC"</code>, <code>"CD"</code>, <code>"CF"</code>, <code>"CG"</code>, <code>"CH"</code>, <code>"CI"</code>,
<code>"CK"</code>, <code>"CL"</code>, <code>"CM"</code>, <code>"CN"</code>, <code>"CO"</code>, <code>"CR"</code>, <code>"CU"</code>, <code>"CV"</code>, <code>"CW"</code>,
<code>"CY"</code>, <code>"CZ"</code>, <code>"DE"</code>, <code>"DJ"</code>, <code>"DK"</code>, <code>"DM"</code>, <code>"DO"</code>, <code>"DZ"</code>, <code>"EC"</code>,
<code>"EE"</code>, <code>"EG"</code>, <code>"EH"</code>, <code>"ER"</code>, <code>"ES"</code>, <code>"ET"</code>, <code>"EU"</code>, <code>"FI"</code>, <code>"FJ"</code>,
<code>"FK"</code>, <code>"FM"</code>, <code>"FO"</code>, <code>"FR"</code>, <code>"GA"</code>, <code>"GB"</code>, <code>"GD"</code>, <code>"GE"</code>, <code>"GF"</code>,
<code>"GG"</code>, <code>"GH"</code>, <code>"GI"</code>, <code>"GL"</code>, <code>"GM"</code>, <code>"GN"</code>, <code>"GP"</code>, <code>"GQ"</code>, <code>"GR"</code>,
<code>"GS"</code>, <code>"GT"</code>, <code>"GU"</code>, <code>"GW"</code>, <code>"GY"</code>, <code>"HK"</code>, <code>"HN"</code>, <code>"HR"</code>, <code>"HT"</code>,
<code>"HU"</code>, <code>"ID"</code>, <code>"IE"</code>, <code>"IL"</code>, <code>"IM"</code>, <code>"IN"</code>, <code>"IO"</code>, <code>"IQ"</code>, <code>"IR"</code>,
<code>"IS"</code>, <code>"IT"</code>, <code>"JE"</code>, <code>"JM"</code>, <code>"JO"</code>, <code>"JP"</code>, <code>"KE"</code>, <code>"KG"</code>, <code>"KH"</code>,
<code>"KI"</code>, <code>"KM"</code>, <code>"KN"</code>, <code>"KP"</code>, <code>"KR"</code>, <code>"KW"</code>, <code>"KY"</code>, <code>"KZ"</code>, <code>"LA"</code>,
<code>"LB"</code>, <code>"LC"</code>, <code>"LI"</code>, <code>"LK"</code>, <code>"LR"</code>, <code>"LS"</code>, <code>"LT"</code>, <code>"LU"</code>, <code>"LV"</code>,
<code>"LY"</code>, <code>"MA"</code>, <code>"MC"</code>, <code>"MD"</code>, <code>"ME"</code>, <code>"MF"</code>, <code>"MG"</code>, <code>"MH"</code>, <code>"MK"</code>,
<code>"ML"</code>, <code>"MM"</code>, <code>"MN"</code>, <code>"MO"</code>, <code>"MP"</code>, <code>"MQ"</code>, <code>"MR"</code>, <code>"MS"</code>, <code>"MT"</code>,
<code>"MU"</code>, <code>"MV"</code>, <code>"MW"</code>, <code>"MX"</code>, <code>"MY"</code>, <code>"MZ"</code>, <code>"NA"</code>, <code>"NC"</code>, <code>"NE"</code>,
<code>"NF"</code>, <code>"NG"</code>, <code>"NI"</code>, <code>"NL"</code>, <code>"NO"</code>, <code>"NP"</code>, <code>"NR"</code>, <code>"NU"</code>, <code>"NZ"</code>,
<code>"OM"</code>, <code>"PA"</code>, <code>"PE"</code>, <code>"PF"</code>, <code>"PG"</code>, <code>"PH"</code>, <code>"PK"</code>, <code>"PL"</code>, <code>"PM"</code>,
<code>"PN"</code>, <code>"PR"</code>, <code>"PS"</code>, <code>"PT"</code>, <code>"PW"</code>, <code>"PY"</code>, <code>"QA"</code>, <code>"RE"</code>, <code>"RO"</code>,
<code>"RS"</code>, <code>"RU"</code>, <code>"RW"</code>, <code>"SA"</code>, <code>"SB"</code>, <code>"SC"</code>, <code>"SD"</code>, <code>"SE"</code>, <code>"SG"</code>,
<code>"SI"</code>, <code>"SK"</code>, <code>"SL"</code>, <code>"SM"</code>, <code>"SN"</code>, <code>"SO"</code>, <code>"SR"</code>, <code>"SS"</code>, <code>"ST"</code>,
<code>"SV"</code>, <code>"SX"</code>, <code>"SY"</code>, <code>"SZ"</code>, <code>"TC"</code>, <code>"TD"</code>, <code>"TF"</code>, <code>"TG"</code>, <code>"TH"</code>,
<code>"TJ"</code>, <code>"TK"</code>, <code>"TL"</code>, <code>"TM"</code>, <code>"TN"</code>, <code>"TO"</code>, <code>"TR"</code>, <code>"TT"</code>, <code>"TV"</code>,
<code>"TW"</code>, <code>"TZ"</code>, <code>"UA"</code>, <code>"UG"</code>, <code>"US"</code>, <code>"UY"</code>, <code>"UZ"</code>, <code>"VA"</code>, <code>"VC"</code>,
<code>"VE"</code>, <code>"VG"</code>, <code>"VI"</code>, <code>"VN"</code>, <code>"VU"</code>, <code>"WF"</code>, <code>"WS"</code>, <code>"YE"</code>, <code>"YT"</code>,
<code>"ZA"</code>, <code>"ZM"</code>, and <code>"ZW"</code>.
</p>


<h3>Examples</h3>

<p>The <code><a href="#topic+peeps">peeps</a></code> dataset will be used to generate a small <strong>gt</strong> table
containing only the people born in the 1980s. The <code>country</code> column contains
3-letter country codes and those will be transformed to country names with
<code>fmt_country()</code>.
</p>
<div class="sourceCode r"><pre>peeps |&gt;
  dplyr::filter(grepl("198", dob)) |&gt;
  dplyr::select(name_given, name_family, country, dob) |&gt;
  dplyr::arrange(country, name_family) |&gt;
  gt() |&gt;
  fmt_country(columns = country) |&gt;
  cols_merge(columns = c(name_given, name_family)) |&gt;
  opt_vertical_padding(scale = 0.5) |&gt;
  tab_options(column_labels.hidden = TRUE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_country_1.png" alt="This image of a table was generated from the first code example in the `fmt_country()` help file." style="width:100%;">

<p>Use the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. We will only
include a few columns and rows from that table. The <code>country_code_3</code> column
has 3-letter country codes in the format required for <code>fmt_country()</code> and
using that function transforms the codes to country names.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(year == 2021) |&gt;
  dplyr::filter(grepl("^S", country_name)) |&gt;
  dplyr::arrange(country_name) |&gt;
  dplyr::select(-country_name, -year) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  fmt_flag(columns = country_code_2) |&gt;
  fmt_country(columns = country_code_3) |&gt;
  cols_label(
    country_code_2 = "",
    country_code_3 = "Country",
    population = "Population (2021)"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_country_2.png" alt="This image of a table was generated from the second code example in the `fmt_country()` help file." style="width:100%;">

<p>The country names derived from country codes can be localized. Let's
translate some of those country names into three different languages using
different <code>locale</code> values in separate calls of <code>fmt_country()</code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(year == 2021) |&gt;
  dplyr::arrange(desc(population)) |&gt;
  dplyr::filter(
    dplyr::row_number() &gt; max(dplyr::row_number()) - 5 |
    dplyr::row_number() &lt;= 5
  ) |&gt;
  dplyr::select(
    country_code_fl = country_code_2,
    country_code_2a = country_code_2,
    country_code_2b = country_code_2,
    country_code_2c = country_code_2,
    population
  ) |&gt;
  gt(rowname_col = "country_code_fl") |&gt;
  fmt_integer() |&gt;
  fmt_flag(columns = stub()) |&gt;
  fmt_country(columns = ends_with("a")) |&gt;
  fmt_country(columns = ends_with("b"), locale = "ja") |&gt;
  fmt_country(columns = ends_with("c"), locale = "ar") |&gt;
  cols_label(
    ends_with("a") ~ "`en`",
    ends_with("b") ~ "`ja`",
    ends_with("c") ~ "`ar`",
    population = "Population",
    .fn = md
  ) |&gt;
  tab_spanner(
    label = "Country name in specified locale",
    columns = matches("2a|2b|2c")
  ) |&gt;
  cols_align(align = "center", columns = matches("2a|2b|2c")) |&gt;
  opt_horizontal_padding(scale = 2)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_country_3.png" alt="This image of a table was generated from the third code example in the `fmt_country()` help file." style="width:100%;">

<p>Let's make another <strong>gt</strong> table, this time using the <code><a href="#topic+films">films</a></code> dataset. The
<code>countries_of_origin</code> column contains 2-letter country codes and some cells
contain multiple countries (separated by commas). We'll use <code>fmt_country()</code>
on that column and also specify that the rendered country names should be
separated by a comma and a space character. Also note that historical
country codes like <code>"SU"</code> ('USSR'), <code>"CS"</code> ('Czechoslovakia'), and <code>"YU"</code>
('Yugoslavia') are permitted as inputs for <code>fmt_country()</code>.
</p>
<div class="sourceCode r"><pre>films |&gt;
  dplyr::filter(year == 1959) |&gt;
  dplyr::select(
    contains("title"), run_time, director, countries_of_origin, imdb_url
  ) |&gt;
  gt() |&gt;
  tab_header(title = "Feature Films in Competition at the 1959 Festival") |&gt;
  fmt_country(columns = countries_of_origin, sep = ", ") |&gt;
  fmt_url(
    columns = imdb_url,
    label = fontawesome::fa("imdb", fill = "black")
  ) |&gt;
  cols_merge(
    columns = c(title, original_title, imdb_url),
    pattern = "{1}&lt;&lt; ({2})&gt;&gt; {3}"
  ) |&gt;
  cols_label(
    title = "Film",
    run_time = "Length",
    director = "Director",
    countries_of_origin = "Country"
  ) |&gt;
  opt_vertical_padding(scale = 0.5) |&gt;
  opt_table_font(stack = "classical-humanist", weight = "bold") |&gt;
  opt_stylize(style = 1, color = "gray") |&gt;
  tab_options(heading.title.font.size = px(26))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_country_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_country()` help file." style="width:100%;">

<p>Country names can sometimes pair nicely with flag-based graphics. In this
example (using a different portion of the <code><a href="#topic+films">films</a></code> dataset) we use
<code>fmt_country()</code> along with <code><a href="#topic+fmt_flag">fmt_flag()</a></code>. The formatted country names are then
merged into the same cells as the icons via <code><a href="#topic+cols_merge">cols_merge()</a></code>.
</p>
<div class="sourceCode r"><pre>films |&gt;
  dplyr::filter(director == "Jean-Pierre Dardenne, Luc Dardenne") |&gt;
  dplyr::select(title, year, run_time, countries_of_origin) |&gt;
  gt() |&gt;
  tab_header(title = "In Competition Films by the Dardenne Bros.") |&gt;
  cols_add(country_flag = countries_of_origin) |&gt;
  fmt_flag(columns = country_flag) |&gt;
  fmt_country(columns = countries_of_origin, sep = ", ") |&gt;
  cols_merge(
    columns = c(countries_of_origin, country_flag),
    pattern = "{2}&lt;br&gt;{1}"
  ) |&gt;
  tab_style(
    style = cell_text(size = px(9)),
    locations = cells_body(columns = countries_of_origin)
  ) |&gt;
  cols_merge(columns = c(title, year), pattern = "{1} ({2})") |&gt;
  opt_vertical_padding(scale = 0.5) |&gt;
  opt_horizontal_padding(scale = 3) |&gt;
  opt_table_font(font = google_font("PT Sans")) |&gt;
  opt_stylize(style = 1, color = "blue") |&gt;
  tab_options(
    heading.title.font.size = px(26),
    column_labels.hidden = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_country_5.png" alt="This image of a table was generated from the fifth code example in the `fmt_country()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-25
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_currency'>Format values as currencies</h2><span id='topic+fmt_currency'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform currency-based
formatting with <code>fmt_currency()</code>. The function supports both
automatic formatting with either a three-letter or a numeric currency code.
We can also specify a custom currency that is formatted according to one or
more output contexts with the <code><a href="#topic+currency">currency()</a></code> helper function. We have fine
control over the conversion from numeric values to currency values, where we
could take advantage of the following options:
</p>

<ul>
<li><p> the currency: providing a currency code or common currency name will
procure the correct currency symbol and number of currency subunits; we could
also use the <code><a href="#topic+currency">currency()</a></code> helper function to specify a custom currency
</p>
</li>
<li><p> currency symbol placement: the currency symbol can be placed before
or after the values
</p>
</li>
<li><p> decimals/subunits: choice of the number of decimal places, and a
choice of the decimal symbol, and an option on whether to include or exclude
the currency subunits (the decimal portion)
</p>
</li>
<li><p> negative values: choice of a negative sign or parentheses for values
less than zero
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> large-number suffixing: larger figures (thousands, millions, etc.) can
be autoscaled and decorated with the appropriate suffixes
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
currency values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in currency
formatting specific to the chosen locale; it will also retrieve the locale's
currency if none is explicitly given
</p>
</li></ul>

<p>We can call <code><a href="#topic+info_currencies">info_currencies()</a></code> for a useful reference on all of the valid
inputs to the <code>currency</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_currency(
  data,
  columns = everything(),
  rows = everything(),
  currency = NULL,
  use_subunits = TRUE,
  decimals = NULL,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  scale_by = 1,
  suffixing = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  placement = "left",
  incl_space = FALSE,
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_currency_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_currency">currency</code></td>
<td>
<p><em>Currency to use</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|obj:&lt;gt_currency&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The currency to use for the numeric value. This input can be
supplied as a 3-letter currency code (e.g., <code>"USD"</code> for U.S. Dollars,
<code>"EUR"</code> for the Euro currency). Use <code><a href="#topic+info_currencies">info_currencies()</a></code> to get an
information table with all of the valid currency codes and examples of
each. Alternatively, we can provide a general currency type (e.g.,
<code>"dollar"</code>, <code>"pound"</code>, <code>"yen"</code>, etc.) to simplify the process. Use
<code><a href="#topic+info_currencies">info_currencies()</a></code> with the <code>type == "symbol"</code> option to view an
information table with all of the supported currency symbol names along
with examples.
</p>
<p>We can also use the <code><a href="#topic+currency">currency()</a></code> helper function to specify a custom
currency, where the string could vary across output contexts. For example,
using <code>currency(html = "&amp;fnof;", default = "f")</code> would give us a suitable
glyph for the Dutch guilder in an HTML output table, and it would simply be
the letter &quot;f&quot; in all other output contexts). Please note that <code>decimals</code>
will default to <code>2</code> when using the <code><a href="#topic+currency">currency()</a></code> helper function.
</p>
<p>If nothing is provided here but a <code>locale</code> value has been set (either in
this function call or as part of the initial <code><a href="#topic+gt">gt()</a></code> call), the currency
will be obtained from that locale. Virtually all locales are linked to a
territory that is a country (use <code><a href="#topic+info_locales">info_locales()</a></code> for details on all
locales used in this package), so, the in-use (or <em>de facto</em>) currency will
be obtained. As the default locale is <code>"en"</code>, the <code>"USD"</code> currency will be
used if neither a <code>locale</code> nor a <code>currency</code> value is given.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_use_subunits">use_subunits</code></td>
<td>
<p><em>Show or hide currency subunits</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option for whether the subunits portion of a currency value should be
displayed. For example, with an input value of <code>273.81</code>, the default
formatting will produce <code>"$273.81"</code>. Removing the subunits (with
<code>use_subunits = FALSE</code>) will give us <code>"$273"</code>.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The <code>decimals</code> values corresponds to the exact number of decimal places to
use. This value is optional as a currency has an intrinsic number of
decimal places (i.e., the subunits). A value such as <code>2.34</code> can, for
example, be formatted with <code>0</code> decimal places and if the currency used is
<code>"USD"</code> it would result in <code>"$2"</code>. With <code>4</code> decimal places, the formatted
value becomes <code>"$2.3400"</code>.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting. For
example, when <code>use_subunits = FALSE</code> or <code>decimals = 0</code> a formatted value
such as <code>"$23"</code> can be fashioned as <code>"$23."</code> by setting
<code>drop_trailing_dec_mark = FALSE</code>.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied. This value will be
ignored if using any of the <code>suffixing</code> options (i.e., where <code>suffixing</code> is
not set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_suffixing">suffixing</code></td>
<td>
<p><em>Specification for large-number suffixing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>suffixing</code> option allows us to scale and apply suffixes to larger
numbers (e.g., <code>1924000</code> can be transformed to <code style="white-space: pre;">&#8288;1.92M&#8288;</code>). This option can
accept a logical value, where <code>FALSE</code> (the default) will not perform this
transformation and <code>TRUE</code> will apply thousands (<code>"K"</code>), millions (<code>"M"</code>),
billions (<code>"B"</code>), and trillions (<code>"T"</code>) suffixes after automatic value
scaling.
</p>
<p>We can alternatively provide a character vector that serves as a
specification for which symbols are to used for each of the value ranges.
These preferred symbols will replace the defaults (e.g.,
<code>c("k", "Ml", "Bn", "Tr")</code> replaces <code>"K"</code>, <code>"M"</code>, <code>"B"</code>, and <code>"T"</code>).
</p>
<p>Including <code>NA</code> values in the vector will ensure that the particular range
will either not be included in the transformation (e.g.,
<code>c(NA, "M", "B", "T")</code> won't modify numbers at all in the thousands range)
or the range will inherit a previous suffix (e.g., with
<code>c("K", "M", NA, "T")</code>, all numbers in the range of millions and billions
will be in terms of millions).
</p>
<p>Any use of <code>suffixing</code> (where it is not set expressly as <code>FALSE</code>) means
that any value provided to <code>scale_by</code> will be ignored.
</p>
<p>If using <code>system = "ind"</code> then the default suffix set provided by
<code>suffixing = TRUE</code> will be the equivalent of <code>c(NA, "L", "Cr")</code>. This
doesn't apply suffixes to the thousands range, but does express values in
<em>lakhs</em> and <em>crores</em>.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_placement">placement</code></td>
<td>
<p><em>Currency symbol placement</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[left|right]&#8288;</code> // <em>default:</em> <code>"left"</code>
</p>
<p>The placement of the currency symbol. This can be either be <code>"left"</code> (as
in <code>"$450"</code>) or <code>"right"</code> (which yields <code>"450$"</code>).</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the currency symbol</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option for whether to include a space between the value and the currency
symbol. The default is to not introduce a space character.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_currency_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_currency()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_currency()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>currency</code>
</p>
</li>
<li> <p><code>use_subunits</code>
</p>
</li>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>accounting</code>
</p>
</li>
<li> <p><code>scale_by</code>
</p>
</li>
<li> <p><code>suffixing</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign</code>
</p>
</li>
<li> <p><code>placement</code>
</p>
</li>
<li> <p><code>incl_space</code>
</p>
</li>
<li> <p><code>system</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values. In addition to number formatting, providing a <code>locale</code>
value and not providing a <code>currency</code> allows <strong>gt</strong> to obtain the currency
code from the locale's territory.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Let's make a simple <strong>gt</strong> table from the <code><a href="#topic+exibble">exibble</a></code> dataset. We'll keep
only the <code>num</code> and <code>currency</code>, columns, then, format those columns using
<code>fmt_currency()</code> (with the <code>"JPY"</code> and <code>"GBP"</code> currencies).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, currency) |&gt;
  gt() |&gt;
  fmt_currency(
    columns = num,
    currency = "JPY"
  ) |&gt;
  fmt_currency(
    columns = currency,
    currency = "GBP"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_currency_1.png" alt="This image of a table was generated from the first code example in the `fmt_currency()` help file." style="width:100%;">

<p>Let's take a single column from <code><a href="#topic+exibble">exibble</a></code> (<code>currency</code>) and format it with a
currency name (this differs from the 3-letter currency code). In this case,
we'll use the <code>"euro"</code> currency and set the placement of the symbol to the
right of any value. Additionally, the currency symbol will separated from the
value with a single space character (using <code>incl_space = TRUE</code>).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(currency) |&gt;
  gt() |&gt;
  fmt_currency(
    currency = "euro",
    placement = "right",
    incl_space = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_currency_2.png" alt="This image of a table was generated from the second code example in the `fmt_currency()` help file." style="width:100%;">

<p>With the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset, let's make a summary table that gets the
number of <code>"hawaiian"</code> pizzas sold (and revenue generated) by month. In the
<strong>gt</strong> table, we'll format only the <code>revenue</code> column. The <code>currency</code> value is
automatically U.S. Dollars when don't supply either a currency code or a
locale. We'll also create a grand summary with <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>. Within
that summary row, the total revenue needs to be formatted with
<code>fmt_currency()</code> and we can do that within the <code>fmt</code> argument.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::filter(name == "hawaiian") |&gt;
  dplyr::mutate(month = lubridate::month(date, label = TRUE, abbr = TRUE)) |&gt;
  dplyr::select(month, price) |&gt;
  dplyr::group_by(month) |&gt;
  dplyr::summarize(
    `number sold` = dplyr::n(),
    revenue = sum(price)
  ) |&gt;
  gt(rowname_col = "month") |&gt;
  tab_header(title = "Summary of Hawaiian Pizzas Sold by Month") |&gt;
  fmt_currency(columns = revenue) |&gt;
  grand_summary_rows(
    fns = list(label = "Totals:", id = "totals", fn = "sum"),
    fmt = ~ fmt_currency(., columns = revenue),
  ) |&gt;
  opt_all_caps()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_currency_3.png" alt="This image of a table was generated from the third code example in the `fmt_currency()` help file." style="width:100%;">

<p>If supplying a <code>locale</code> value to <code>fmt_currency()</code>, we can opt use the
locale's assumed currency and not have to supply a <code>currency</code> value (doing so
would override the locale's default currency). With a column of locale
values, we can format currency values on a row-by-row basis through the use
of <code><a href="#topic+from_column">from_column()</a></code>. Here, we'll reference the <code>locale</code> column in the argument
of the same name.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  amount = rep(50.84, 5),
  currency = c("JPY", "USD", "GHS", "KRW", "CNY"),
  locale = c("ja", "en", "ee", "ko", "zh"),
) |&gt;
  gt() |&gt;
  fmt_currency(
    columns = amount,
    locale = from_column(column = "locale")
  ) |&gt;
  cols_hide(columns = locale)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_currency_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_currency()` help file." style="width:100%;">

<p>We can similarly use <code><a href="#topic+from_column">from_column()</a></code> to reference a column that has currency
code values. Here's an example of how to create a simple currency conversion
table. The <code>curr</code> column contains the 3-letter currency codes, and that
column is referenced via <code><a href="#topic+from_column">from_column()</a></code> in the <code>currency</code> argument of
<code>fmt_currency()</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  flag = c("EU", "GB", "CA", "AU", "JP", "IN"),
  curr = c("EUR", "GBP", "CAD", "AUD", "JPY", "INR"),
  conv = c(
    0.912952, 0.787687, 1.34411,
    1.53927, 144.751, 82.9551
  )
) |&gt;
  gt() |&gt;
  fmt_currency(
    columns = conv,
    currency = from_column(column = "curr")
  ) |&gt;
  fmt_flag(columns = flag) |&gt;
  cols_merge(columns = c(flag, curr)) |&gt;
  cols_label(
    flag = "Currency",
    conv = "Amount"
  ) |&gt;
  tab_header(
    title = "Conversion of 1 USD to Six Other Currencies",
    subtitle = md("Conversion rates obtained on **Aug 13, 2023**")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_currency_5.png" alt="This image of a table was generated from the fifth code example in the `fmt_currency()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_date'>Format values as dates</h2><span id='topic+fmt_date'></span>

<h3>Description</h3>

<p>Format input values to time values using one of 41 preset date styles. Input
can be in the form of <code>POSIXt</code> (i.e., datetimes), the <code>Date</code> type, or
<code>character</code> (must be in the ISO 8601 form of <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code> or
<code>YYYY-MM-DD</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_date(
  data,
  columns = everything(),
  rows = everything(),
  date_style = "iso",
  pattern = "{x}",
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_date_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_date_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_date_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_date_+3A_date_style">date_style</code></td>
<td>
<p><em>Predefined style for dates</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=41)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The date style to use. By default this is the short name <code>"iso"</code> which
corresponds to ISO 8601 date formatting. There are 41 date styles in total
and their short names can be viewed using <code><a href="#topic+info_date_style">info_date_style()</a></code>.</p>
</td></tr>
<tr><td><code id="fmt_date_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_date_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_date()</code> is compatible with body cells that are of the <code>"Date"</code>,
<code>"POSIXt"</code> or <code>"character"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_date()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>date_style</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Formatting with the <code>date_style</code> argument</h3>

<p>We need to supply a preset date style to the <code>date_style</code> argument. The date
styles are numerous and can handle localization to any supported locale. A
large segment of date styles are termed flexible date formats and this means
that their output will adapt to any <code>locale</code> provided. That feature makes the
flexible date formats a better option for locales other than <code>"en"</code> (the
default locale).
</p>
<p>The following table provides a listing of all date styles and their output
values (corresponding to an input date of <code>2000-02-29</code>).</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Date Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"2000-02-29"</code> </td><td style="text-align: left;"> ISO 8601 </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"wday_month_day_year"</code> </td><td style="text-align: left;"> <code>"Tuesday, February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"wd_m_day_year"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"wday_day_month_year"</code> </td><td style="text-align: left;"> <code>"Tuesday 29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"month_day_year"</code> </td><td style="text-align: left;"> <code>"February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"m_day_year"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"day_m_year"</code> </td><td style="text-align: left;"> <code>"29 Feb 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"day_month_year"</code> </td><td style="text-align: left;"> <code>"29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"day_month"</code> </td><td style="text-align: left;"> <code>"29 February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"day_m"</code> </td><td style="text-align: left;"> <code>"29 Feb"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"year"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"month"</code> </td><td style="text-align: left;"> <code>"February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"day"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"year.mn.day"</code> </td><td style="text-align: left;"> <code>"2000/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"y.mn.day"</code> </td><td style="text-align: left;"> <code>"00/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"year_week"</code> </td><td style="text-align: left;"> <code>"2000-W09"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"year_quarter"</code> </td><td style="text-align: left;"> <code>"2000-Q1"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"yMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"yMEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"yMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"yMMMM"</code> </td><td style="text-align: left;"> <code>"February 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"yMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"yMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"GyMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000 A"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"GyMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   26 </td><td style="text-align: left;"> <code>"GyMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   27 </td><td style="text-align: left;"> <code>"yM"</code> </td><td style="text-align: left;"> <code>"2/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   28 </td><td style="text-align: left;"> <code>"Md"</code> </td><td style="text-align: left;"> <code>"2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   29 </td><td style="text-align: left;"> <code>"MEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   30 </td><td style="text-align: left;"> <code>"MMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   31 </td><td style="text-align: left;"> <code>"MMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   32 </td><td style="text-align: left;"> <code>"MMMMd"</code> </td><td style="text-align: left;"> <code>"February 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   33 </td><td style="text-align: left;"> <code>"GyMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   34 </td><td style="text-align: left;"> <code>"yQQQ"</code> </td><td style="text-align: left;"> <code>"Q1 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   35 </td><td style="text-align: left;"> <code>"yQQQQ"</code> </td><td style="text-align: left;"> <code>"1st quarter 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   36 </td><td style="text-align: left;"> <code>"Gy"</code> </td><td style="text-align: left;"> <code>"2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   37 </td><td style="text-align: left;"> <code>"y"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   38 </td><td style="text-align: left;"> <code>"M"</code> </td><td style="text-align: left;"> <code>"2"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   39 </td><td style="text-align: left;"> <code>"MMM"</code> </td><td style="text-align: left;"> <code>"Feb"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   40 </td><td style="text-align: left;"> <code>"d"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   41 </td><td style="text-align: left;"> <code>"Ed"</code> </td><td style="text-align: left;"> <code>"29 Tue"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_date_style">info_date_style()</a></code> in the console to view a similar table
of date styles with example output.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). Note that a <code>locale</code> value provided here will override any
global locale setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is
settable there as a value received by all other functions that have a
<code>locale</code> argument). As a useful reference on which locales are supported, we
can call <code><a href="#topic+info_locales">info_locales()</a></code> to view an info table.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>date</code> and <code>time</code> columns). With <code>fmt_date()</code>, we'll format
the <code>date</code> column to display dates formatted with the <code>"month_day_year"</code>
date style.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(date, time) |&gt;
  gt() |&gt;
  fmt_date(
    columns = date,
    date_style = "month_day_year"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_date_1.png" alt="This image of a table was generated from the first code example in the `fmt_date()` help file." style="width:100%;">

<p>Again using the <code><a href="#topic+exibble">exibble</a></code> dataset, let's format the <code>date</code> column to have
mixed date formats, where dates after April 1st will be different than the
others because of the expressions used in the <code>rows</code> argument. This will
involve two calls of <code>fmt_date()</code> with different statements provided for
<code>rows</code>. In the first call (dates after the 1st of April) the date style
<code>"m_day_year"</code> is used; for the second call, <code>"day_m_year"</code> is the named
date style supplied to <code>date_style</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(date, time) |&gt;
  gt() |&gt;
  fmt_date(
    columns = date,
    rows = as.Date(date) &gt; as.Date("2015-04-01"),
    date_style = "m_day_year"
  ) |&gt;
  fmt_date(
    columns = date,
    rows = as.Date(date) &lt;= as.Date("2015-04-01"),
    date_style = "day_m_year"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_date_2.png" alt="This image of a table was generated from the second code example in the `fmt_date()` help file." style="width:100%;">

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a single-column <strong>gt</strong> table (with only
the <code>date</code> column). Format the date values using the <code>"yMMMEd"</code> date style
(which is one of the 'flexible' styles). Also, we'll set the locale to <code>"nl"</code>
to get the dates in Dutch.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(date) |&gt;
  gt() |&gt;
  fmt_date(
    date_style = "yMMMEd",
    locale = "nl"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_date_3.png" alt="This image of a table was generated from the third code example in the `fmt_date()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-13
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_date">vec_fmt_date()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_datetime'>Format values as datetimes</h2><span id='topic+fmt_datetime'></span>

<h3>Description</h3>

<p>Format input values to datetime values using either presets for the date and
time components or a formatting directive (this can either use a <em>CLDR</em>
datetime pattern or <code>strptime</code> formatting). The input values can be in the
form of <code>POSIXct</code> (i.e., datetimes), the <code>Date</code> type, or <code>character</code> (must be
in the ISO 8601 form of <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code> or <code>YYYY-MM-DD</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_datetime(
  data,
  columns = everything(),
  rows = everything(),
  date_style = "iso",
  time_style = "iso",
  sep = " ",
  format = NULL,
  tz = NULL,
  pattern = "{x}",
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_datetime_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_date_style">date_style</code></td>
<td>
<p><em>Predefined style for dates</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=41)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The date style to use. By default this is the short name <code>"iso"</code> which
corresponds to ISO 8601 date formatting. There are 41 date styles in total
and their short names can be viewed using <code><a href="#topic+info_date_style">info_date_style()</a></code>.</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_time_style">time_style</code></td>
<td>
<p><em>Predefined style for times</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=25)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The time style to use. By default this is the short name <code>"iso"</code> which
corresponds to how times are formatted within ISO 8601 datetime values.
There are 25 time styles in total and their short names can be viewed using
<code><a href="#topic+info_time_style">info_time_style()</a></code>.</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_sep">sep</code></td>
<td>
<p><em>Separator between date and time components</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" "</code>
</p>
<p>The separator string to use between the date and time components. By
default, this is a single space character (<code>" "</code>). Only used when not
specifying a <code>format</code> code.</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_format">format</code></td>
<td>
<p><em>Date/time formatting string</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional formatting string used for generating custom dates/times. If
used then the arguments governing preset styles (<code>date_style</code> and
<code>time_style</code>) will be ignored in favor of formatting via the <code>format</code>
string.</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_tz">tz</code></td>
<td>
<p><em>Time zone</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The time zone for printing dates/times (i.e., the output). The
default of <code>NULL</code> will preserve the time zone of the input data in the
output. If providing a time zone, it must be one that is recognized by the
user's operating system (a vector of all valid <code>tz</code> values can be produced
with <code><a href="base.html#topic+OlsonNames">OlsonNames()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_datetime_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_datetime()</code> is compatible with body cells that are of the <code>"Date"</code>,
<code>"POSIXct"</code> or <code>"character"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_datetime()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>date_style</code>
</p>
</li>
<li> <p><code>time_style</code>
</p>
</li>
<li> <p><code>sep</code>
</p>
</li>
<li> <p><code>format</code>
</p>
</li>
<li> <p><code>tz</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Formatting with the <code>date_style</code> argument</h3>

<p>We can supply a preset date style to the <code>date_style</code> argument to separately
handle the date portion of the output. The date styles are numerous and can
handle localization to any supported locale. A large segment of date styles
are termed flexible date formats and this means that their output will adapt
to any <code>locale</code> provided. That feature makes the flexible date formats a
better option for locales other than <code>"en"</code> (the default locale).
</p>
<p>The following table provides a listing of all date styles and their output
values (corresponding to an input date of <code>2000-02-29</code>).</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Date Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"2000-02-29"</code> </td><td style="text-align: left;"> ISO 8601 </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"wday_month_day_year"</code> </td><td style="text-align: left;"> <code>"Tuesday, February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"wd_m_day_year"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"wday_day_month_year"</code> </td><td style="text-align: left;"> <code>"Tuesday 29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"month_day_year"</code> </td><td style="text-align: left;"> <code>"February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"m_day_year"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"day_m_year"</code> </td><td style="text-align: left;"> <code>"29 Feb 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"day_month_year"</code> </td><td style="text-align: left;"> <code>"29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"day_month"</code> </td><td style="text-align: left;"> <code>"29 February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"day_m"</code> </td><td style="text-align: left;"> <code>"29 Feb"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"year"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"month"</code> </td><td style="text-align: left;"> <code>"February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"day"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"year.mn.day"</code> </td><td style="text-align: left;"> <code>"2000/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"y.mn.day"</code> </td><td style="text-align: left;"> <code>"00/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"year_week"</code> </td><td style="text-align: left;"> <code>"2000-W09"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"year_quarter"</code> </td><td style="text-align: left;"> <code>"2000-Q1"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"yMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"yMEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"yMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"yMMMM"</code> </td><td style="text-align: left;"> <code>"February 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"yMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"yMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"GyMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000 A"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"GyMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   26 </td><td style="text-align: left;"> <code>"GyMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   27 </td><td style="text-align: left;"> <code>"yM"</code> </td><td style="text-align: left;"> <code>"2/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   28 </td><td style="text-align: left;"> <code>"Md"</code> </td><td style="text-align: left;"> <code>"2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   29 </td><td style="text-align: left;"> <code>"MEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   30 </td><td style="text-align: left;"> <code>"MMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   31 </td><td style="text-align: left;"> <code>"MMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   32 </td><td style="text-align: left;"> <code>"MMMMd"</code> </td><td style="text-align: left;"> <code>"February 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   33 </td><td style="text-align: left;"> <code>"GyMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   34 </td><td style="text-align: left;"> <code>"yQQQ"</code> </td><td style="text-align: left;"> <code>"Q1 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   35 </td><td style="text-align: left;"> <code>"yQQQQ"</code> </td><td style="text-align: left;"> <code>"1st quarter 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   36 </td><td style="text-align: left;"> <code>"Gy"</code> </td><td style="text-align: left;"> <code>"2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   37 </td><td style="text-align: left;"> <code>"y"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   38 </td><td style="text-align: left;"> <code>"M"</code> </td><td style="text-align: left;"> <code>"2"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   39 </td><td style="text-align: left;"> <code>"MMM"</code> </td><td style="text-align: left;"> <code>"Feb"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   40 </td><td style="text-align: left;"> <code>"d"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   41 </td><td style="text-align: left;"> <code>"Ed"</code> </td><td style="text-align: left;"> <code>"29 Tue"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_date_style">info_date_style()</a></code> in the console to view a similar table of
date styles with example output.
</p>


<h3>Formatting with the <code>time_style</code> argument</h3>

<p>We can supply a preset time style to the <code>time_style</code> argument to separately
handle the time portion of the output. There are many time styles and all of
them can handle localization to any supported locale. Many of the time styles
are termed flexible time formats and this means that their output will adapt
to any <code>locale</code> provided. That feature makes the flexible time formats a
better option for locales other than <code>"en"</code> (the default locale).
</p>
<p>The following table provides a listing of all time styles and their output
values (corresponding to an input time of <code>14:35:00</code>). It is noted which of
these represent 12- or 24-hour time. Some of the flexible formats (those
that begin with <code>"E"</code>) include the day of the week. Keep this in mind
when pairing such <code>time_style</code> values with a <code>date_style</code> so as to avoid
redundant or repeating information.</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Time Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"iso-short"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"h_m_s_p"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"h_m_p"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"h_p"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"Hms"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"Hm"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"H"</code> </td><td style="text-align: left;"> <code>"14"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"EHm"</code> </td><td style="text-align: left;"> <code>"Thu 14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"EHms"</code> </td><td style="text-align: left;"> <code>"Thu 14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"Hmsv"</code> </td><td style="text-align: left;"> <code>"14:35:00 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"Hmv"</code> </td><td style="text-align: left;"> <code>"14:35 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"hms"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"hm"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"h"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"Ehm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"Ehms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"EBhms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"Bhms"</code> </td><td style="text-align: left;"> <code>"2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"EBhm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"Bhm"</code> </td><td style="text-align: left;"> <code>"2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"Bh"</code> </td><td style="text-align: left;"> <code>"2 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"hmsv"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"hmv"</code> </td><td style="text-align: left;"> <code>"2:35 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"ms"</code> </td><td style="text-align: left;"> <code>"35:00"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_time_style">info_time_style()</a></code> in the console to view a similar table of
time styles with example output.
</p>


<h3>Formatting with a <em>CLDR</em> datetime pattern</h3>

<p>We can use a <em>CLDR</em> datetime pattern with the <code>format</code> argument to create
a highly customized and locale-aware output. This is a character string that
consists of two types of elements:
</p>

<ul>
<li><p> Pattern fields, which repeat a specific pattern character one or more
times. These fields are replaced with date and time data when formatting.
The character sets of <code>A</code>-<code>Z</code> and <code>a</code>-<code>z</code> are reserved for use as pattern
characters.
</p>
</li>
<li><p> Literal text, which is output verbatim when formatting. This can include:
</p>

<ul>
<li><p> Any characters outside the reserved character sets, including
spaces and punctuation.
</p>
</li>
<li><p> Any text between single vertical quotes (e.g., <code>'text'</code>).
</p>
</li>
<li><p> Two adjacent single vertical quotes (&rdquo;), which represent a literal
single quote, either inside or outside quoted text.
</p>
</li></ul>

</li></ul>

<p>The number of pattern fields is quite sizable so let's first look at how some
<em>CLDR</em> datetime patterns work. We'll use the datetime string
<code>"2018-07-04T22:05:09.2358(America/Vancouver)"</code> for all of the examples that
follow.
</p>

<ul>
<li> <p><code>"mm/dd/y"</code> -&gt; <code>"05/04/2018"</code>
</p>
</li>
<li> <p><code>"EEEE, MMMM d, y"</code> -&gt; <code>"Wednesday, July 4, 2018"</code>
</p>
</li>
<li> <p><code>"MMM d E"</code> -&gt; <code>"Jul 4 Wed"</code>
</p>
</li>
<li> <p><code>"HH:mm"</code> -&gt; <code>"22:05"</code>
</p>
</li>
<li> <p><code>"h:mm a"</code> -&gt; <code>"10:05 PM"</code>
</p>
</li>
<li> <p><code>"EEEE, MMMM d, y 'at' h:mm a"</code> -&gt; <code>"Wednesday, July 4, 2018 at 10:05 PM"</code>
</p>
</li></ul>

<p>Here are the individual pattern fields:
</p>


<h4>Year</h4>



<h5>Calendar Year</h5>

<p>This yields the calendar year, which is always numeric. In most cases the
length of the <code>"y"</code> field specifies the minimum number of digits to display,
zero-padded as necessary. More digits will be displayed if needed to show the
full year. There is an exception: <code>"yy"</code> gives use just the two low-order
digits of the year, zero-padded as necessary. For most use cases, <code>"y"</code> or
<code>"yy"</code> should be good enough.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"y"</code> </td><td style="text-align: left;"> <code>"2018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"yy"</code> </td><td style="text-align: left;"> <code>"18"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"yyy"</code> to <code>"yyyyyyyyy"</code> </td><td style="text-align: left;"> <code>"2018"</code> to <code>"000002018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Year in the Week in Year Calendar</h5>

<p>This is the year in 'Week of Year' based calendars in which the year
transition occurs on a week boundary. This may differ from calendar year
<code>"y"</code> near a year transition. This numeric year designation is used in
conjunction with pattern character <code>"w"</code> in the ISO year-week calendar as
defined by ISO 8601.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"Y"</code> </td><td style="text-align: left;"> <code>"2018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"YY"</code> </td><td style="text-align: left;"> <code>"18"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"YYY"</code> to <code>"YYYYYYYYY"</code> </td><td style="text-align: left;"> <code>"2018"</code> to <code>"000002018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Quarter</h4>



<h5>Quarter of the Year: formatting and standalone versions</h5>

<p>The quarter names are identified numerically, starting at <code>1</code> and ending at
<code>4</code>. Quarter names may vary along two axes: the width and the context. The
context is either 'formatting' (taken as a default), which the form used
within a complete date format string, or, 'standalone', the form for date
elements used independently (such as in calendar headers). The standalone
form may be used in any other date format that shares the same form of the
name. Here, the formatting form for quarters of the year consists of some run
of <code>"Q"</code> values whereas the standalone form uses <code>"q"</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"Q"</code>/<code>"q"</code> </td><td style="text-align: left;"> <code>"3"</code> </td><td style="text-align: left;"> Numeric, one digit </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQ"</code>/<code>"qq"</code> </td><td style="text-align: left;"> <code>"03"</code> </td><td style="text-align: left;"> Numeric, two digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQQ"</code>/<code>"qqq"</code> </td><td style="text-align: left;"> <code>"Q3"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQQQ"</code>/<code>"qqqq"</code> </td><td style="text-align: left;"> <code>"3rd quarter"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQQQQ"</code>/<code>"qqqqq"</code> </td><td style="text-align: left;"> <code>"3"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Month</h4>



<h5>Month: formatting and standalone versions</h5>

<p>The month names are identified numerically, starting at <code>1</code> and ending at
<code>12</code>. Month names may vary along two axes: the width and the context. The
context is either 'formatting' (taken as a default), which the form used
within a complete date format string, or, 'standalone', the form for date
elements used independently (such as in calendar headers). The standalone
form may be used in any other date format that shares the same form of the
name. Here, the formatting form for months consists of some run of <code>"M"</code>
values whereas the standalone form uses <code>"L"</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"M"</code>/<code>"L"</code> </td><td style="text-align: left;"> <code>"7"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MM"</code>/<code>"LL"</code> </td><td style="text-align: left;"> <code>"07"</code> </td><td style="text-align: left;"> Numeric, two digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MMM"</code>/<code>"LLL"</code> </td><td style="text-align: left;"> <code>"Jul"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MMMM"</code>/<code>"LLLL"</code> </td><td style="text-align: left;"> <code>"July"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MMMMM"</code>/<code>"LLLLL"</code> </td><td style="text-align: left;"> <code>"J"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Week</h4>



<h5>Week of Year</h5>

<p>Values calculated for the week of year range from <code>1</code> to <code>53</code>. Week <code>1</code> for a
year is the first week that contains at least the specified minimum number of
days from that year. Weeks between week <code>1</code> of one year and week <code>1</code> of the
following year are numbered sequentially from <code>2</code> to <code>52</code> or <code>53</code> (if
needed).
</p>
<p>There are two available field lengths. Both will display the week of year
value but the <code>"ww"</code> width will always show two digits (where weeks <code>1</code> to
<code>9</code> are zero padded).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"w"</code> </td><td style="text-align: left;"> <code>"27"</code> </td><td style="text-align: left;"> Minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ww"</code> </td><td style="text-align: left;"> <code>"27"</code> </td><td style="text-align: left;"> Two digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Week of Month</h5>

<p>The week of a month can range from <code>1</code> to <code>5</code>. The first day of every month
always begins at week <code>1</code> and with every transition into the beginning of a
week, the week of month value is incremented by <code>1</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Pattern </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"W"</code> </td><td style="text-align: left;"> <code>"1"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Day</h4>



<h5>Day of Month</h5>

<p>The day of month value is always numeric and there are two available field
length choices in its formatting. Both will display the day of month value
but the <code>"dd"</code> formatting will always show two digits (where days <code>1</code> to <code>9</code>
are zero padded).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"d"</code> </td><td style="text-align: left;"> <code>"4"</code> </td><td style="text-align: left;"> Minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"dd"</code> </td><td style="text-align: left;"> <code>"04"</code> </td><td style="text-align: left;"> Two digits, zero padded </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Day of Year</h5>

<p>The day of year value ranges from <code>1</code> (January 1) to either <code>365</code> or <code>366</code>
(December 31), where the higher value of the range indicates that the year is
a leap year (29 days in February, instead of 28). The field length specifies
the minimum number of digits, with zero-padding as necessary.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"D"</code> </td><td style="text-align: left;"> <code>"185"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"DD"</code> </td><td style="text-align: left;"> <code>"185"</code> </td><td style="text-align: left;"> Zero padded to minimum width of 2 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"DDD"</code> </td><td style="text-align: left;"> <code>"185"</code> </td><td style="text-align: left;"> Zero padded to minimum width of 3 </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Day of Week in Month</h5>

<p>The day of week in month returns a numerical value indicating the number of
times a given weekday had occurred in the month (e.g., '2nd Monday in
March'). This conveniently resolves to predicable case structure where ranges
of day of the month values return predictable day of week in month values:
</p>

<ul>
<li><p> days <code>1</code> - <code>7</code> -&gt; <code>1</code>
</p>
</li>
<li><p> days <code>8</code> - <code>14</code> -&gt; <code>2</code>
</p>
</li>
<li><p> days <code>15</code> - <code>21</code> -&gt; <code>3</code>
</p>
</li>
<li><p> days <code>22</code> - <code>28</code> -&gt; <code>4</code>
</p>
</li>
<li><p> days <code>29</code> - <code>31</code> -&gt; <code>5</code>
</p>
</li></ul>

<table>
<tr>
 <td style="text-align: left;">
   Field Pattern </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"F"</code> </td><td style="text-align: left;"> <code>"1"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Modified Julian Date</h5>

<p>The modified version of the Julian date is obtained by subtracting
2,400,000.5 days from the Julian date (the number of days since January 1,
4713 BC). This essentially results in the number of days since midnight
November 17, 1858. There is a half day offset (unlike the Julian date, the
modified Julian date is referenced to midnight instead of noon).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"g"</code> to <code>"ggggggggg"</code> </td><td style="text-align: left;"> <code>"58303"</code> -&gt; <code>"000058303"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Weekday</h4>



<h5>Day of Week Name</h5>

<p>The name of the day of week is offered in four different widths.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"E"</code>, <code>"EE"</code>, or <code>"EEE"</code> </td><td style="text-align: left;"> <code>"Wed"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"EEEE"</code> </td><td style="text-align: left;"> <code>"Wednesday"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"EEEEE"</code> </td><td style="text-align: left;"> <code>"W"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"EEEEEE"</code> </td><td style="text-align: left;"> <code>"We"</code> </td><td style="text-align: left;"> Short </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Periods</h4>



<h5>AM/PM Period of Day</h5>

<p>This denotes before noon and after noon time periods. May be upper or
lowercase depending on the locale and other options. The wide form may be
the same as the short form if the 'real' long form (e.g. 'ante meridiem') is
not customarily used. The narrow form must be unique, unlike some other
fields.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"a"</code>, <code>"aa"</code>, or <code>"aaa"</code> </td><td style="text-align: left;"> <code>"PM"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"aaaa"</code> </td><td style="text-align: left;"> <code>"PM"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"aaaaa"</code> </td><td style="text-align: left;"> <code>"p"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>AM/PM Period of Day Plus Noon and Midnight</h5>

<p>Provide AM and PM as well as phrases for exactly noon and midnight. May be
upper or lowercase depending on the locale and other options. If the locale
doesn't have the notion of a unique 'noon' (i.e., 12:00), then the PM form
may be substituted. A similar behavior can occur for 'midnight' (00:00) and
the AM form. The narrow form must be unique, unlike some other fields.
</p>
<p>(a) <code>input_midnight</code>: <code>"2020-05-05T00:00:00"</code>
(b) <code>input_noon</code>: <code>"2020-05-05T12:00:00"</code></p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"b"</code>, <code>"bb"</code>, or <code>"bbb"</code> </td><td style="text-align: left;"> (a) <code>"midnight"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"noon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"bbbb"</code> </td><td style="text-align: left;"> (a) <code>"midnight"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"noon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"bbbbb"</code> </td><td style="text-align: left;"> (a) <code>"mi"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"n"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Flexible Day Periods</h5>

<p>Flexible day periods denotes things like 'in the afternoon', 'in the
evening', etc., and the flexibility comes from a locale's language and
script. Each locale has an associated rule set that specifies when the day
periods start and end for that locale.
</p>
<p>(a) <code>input_morning</code>: <code>"2020-05-05T00:08:30"</code>
(b) <code>input_afternoon</code>: <code>"2020-05-05T14:00:00"</code></p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"B"</code>, <code>"BB"</code>, or <code>"BBB"</code> </td><td style="text-align: left;"> (a) <code>"in the morning"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"in the afternoon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"BBBB"</code> </td><td style="text-align: left;"> (a) <code>"in the morning"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"in the afternoon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"BBBBB"</code> </td><td style="text-align: left;"> (a) <code>"in the morning"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"in the afternoon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Hours, Minutes, and Seconds</h4>



<h5>Hour 0-23</h5>

<p>Hours from <code>0</code> to <code>23</code> are for a standard 24-hour clock cycle (midnight plus
1 minute is <code>00:01</code>) when using <code>"HH"</code> (which is the more common width that
indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"H"</code> </td><td style="text-align: left;"> <code>"8"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"HH"</code> </td><td style="text-align: left;"> <code>"08"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Hour 1-12</h5>

<p>Hours from <code>1</code> to <code>12</code> are for a standard 12-hour clock cycle (midnight plus
1 minute is <code>12:01</code>) when using <code>"hh"</code> (which is the more common width that
indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"h"</code> </td><td style="text-align: left;"> <code>"8"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"hh"</code> </td><td style="text-align: left;"> <code>"08"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Hour 1-24</h5>

<p>Using hours from <code>1</code> to <code>24</code> is a less common way to express a 24-hour clock
cycle (midnight plus 1 minute is <code>24:01</code>) when using <code>"kk"</code> (which is the
more common width that indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"k"</code> </td><td style="text-align: left;"> <code>"9"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"kk"</code> </td><td style="text-align: left;"> <code>"09"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Hour 0-11</h5>

<p>Using hours from <code>0</code> to <code>11</code> is a less common way to express a 12-hour clock
cycle (midnight plus 1 minute is <code>00:01</code>) when using <code>"KK"</code> (which is the
more common width that indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"K"</code> </td><td style="text-align: left;"> <code>"7"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"KK"</code> </td><td style="text-align: left;"> <code>"07"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Minute</h5>

<p>The minute of the hour which can be any number from <code>0</code> to <code>59</code>. Use <code>"m"</code> to
show the minimum number of digits, or <code>"mm"</code> to always show two digits
(zero-padding, if necessary).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"m"</code> </td><td style="text-align: left;"> <code>"5"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"mm"</code> </td><td style="text-align: left;"> <code>"06"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Seconds</h5>

<p>The second of the minute which can be any number from <code>0</code> to <code>59</code>. Use <code>"s"</code>
to show the minimum number of digits, or <code>"ss"</code> to always show two digits
(zero-padding, if necessary).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"s"</code> </td><td style="text-align: left;"> <code>"9"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ss"</code> </td><td style="text-align: left;"> <code>"09"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Fractional Second</h5>

<p>The fractional second truncates (like other time fields) to the width
requested (i.e., count of letters). So using pattern <code>"SSSS"</code> will display
four digits past the decimal (which, incidentally, needs to be added manually
to the pattern).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"S"</code> to <code>"SSSSSSSSS"</code> </td><td style="text-align: left;"> <code>"2"</code> -&gt; <code>"235000000"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Milliseconds Elapsed in Day</h5>

<p>There are 86,400,000 milliseconds in a day and the <code>"A"</code> pattern will provide
the whole number. The width can go up to nine digits with <code>"AAAAAAAAA"</code> and
these higher field widths will result in zero padding if necessary.
</p>
<p>Using <code>"2011-07-27T00:07:19.7223"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"A"</code> to <code>"AAAAAAAAA"</code> </td><td style="text-align: left;"> <code>"439722"</code> -&gt; <code>"000439722"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Era</h4>



<h5>The Era Designator</h5>

<p>This provides the era name for the given date. The Gregorian calendar has two
eras: AD and BC. In the AD year numbering system, AD 1 is immediately
preceded by 1 BC, with nothing in between them (there was no year zero).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"G"</code>, <code>"GG"</code>, or <code>"GGG"</code> </td><td style="text-align: left;"> <code>"AD"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"GGGG"</code> </td><td style="text-align: left;"> <code>"Anno Domini"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"GGGGG"</code> </td><td style="text-align: left;"> <code>"A"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Time Zones</h4>



<h5>TZ // Short and Long Specific non-Location Format</h5>

<p>The short and long specific non-location formats for time zones are suggested
for displaying a time with a user friendly time zone name. Where the short
specific format is unavailable, it will fall back to the short localized GMT
format (<code>"O"</code>). Where the long specific format is unavailable, it will fall
back to the long localized GMT format (<code>"OOOO"</code>).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"z"</code>, <code>"zz"</code>, or <code>"zzz"</code> </td><td style="text-align: left;"> <code>"PDT"</code> </td><td style="text-align: left;"> Short Specific </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"zzzz"</code> </td><td style="text-align: left;"> <code>"Pacific Daylight Time"</code> </td><td style="text-align: left;"> Long Specific </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Common UTC Offset Formats</h5>

<p>The ISO8601 basic format with hours, minutes and optional seconds fields is
represented by <code>"Z"</code>, <code>"ZZ"</code>, or <code>"ZZZ"</code>. The format is equivalent to RFC 822
zone format (when the optional seconds field is absent). This is equivalent
to the <code>"xxxx"</code> specifier. The field pattern <code>"ZZZZ"</code> represents the long
localized GMT format. This is equivalent to the <code>"OOOO"</code> specifier. Finally,
<code>"ZZZZZ"</code> pattern yields the ISO8601 extended format with hours, minutes and
optional seconds fields. The ISO8601 UTC indicator <code>Z</code> is used when local
time offset is <code>0</code>. This is equivalent to the <code>"XXXXX"</code> specifier.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"Z"</code>, <code>"ZZ"</code>, or <code>"ZZZ"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ZZZZ"</code> </td><td style="text-align: left;"> <code>"GMT-7:00"</code> </td><td style="text-align: left;"> Long localized GMT format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ZZZZZ"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Short and Long Localized GMT Formats</h5>

<p>The localized GMT formats come in two widths <code>"O"</code> (which removes the minutes
field if it's <code>0</code>) and <code>"OOOO"</code> (which always contains the minutes field).
The use of the <code>GMT</code> indicator changes according to the locale.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"O"</code> </td><td style="text-align: left;"> <code>"GMT-7"</code> </td><td style="text-align: left;"> Short localized GMT format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"OOOO"</code> </td><td style="text-align: left;"> <code>"GMT-07:00"</code> </td><td style="text-align: left;"> Long localized GMT format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Short and Long Generic non-Location Formats</h5>

<p>The generic non-location formats are useful for displaying a recurring wall
time (e.g., events, meetings) or anywhere people do not want to be overly
specific. Where either of these is unavailable, there is a fallback to the
generic location format (<code>"VVVV"</code>), then the short localized GMT format as
the final fallback.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"v"</code> </td><td style="text-align: left;"> <code>"PT"</code> </td><td style="text-align: left;"> Short generic non-location format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"vvvv"</code> </td><td style="text-align: left;"> <code>"Pacific Time"</code> </td><td style="text-align: left;"> Long generic non-location format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Short Time Zone IDs and Exemplar City Formats</h5>

<p>These formats provide variations of the time zone ID and often include the
exemplar city. The widest of these formats, <code>"VVVV"</code>, is useful for
populating a choice list for time zones, because it supports 1-to-1 name/zone
ID mapping and is more uniform than other text formats.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"V"</code> </td><td style="text-align: left;"> <code>"cavan"</code> </td><td style="text-align: left;"> Short time zone ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"VV"</code> </td><td style="text-align: left;"> <code>"America/Vancouver"</code> </td><td style="text-align: left;"> Long time zone ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"VVV"</code> </td><td style="text-align: left;"> <code>"Vancouver"</code> </td><td style="text-align: left;"> The tz exemplar city </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"VVVV"</code> </td><td style="text-align: left;"> <code>"Vancouver Time"</code> </td><td style="text-align: left;"> Generic location format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // ISO 8601 Formats with Z for +0000</h5>

<p>The <code>"X"</code>-<code>"XXX"</code> field patterns represent valid ISO 8601 patterns for time
zone offsets in datetimes. The final two widths, <code>"XXXX"</code> and <code>"XXXXX"</code> allow
for optional seconds fields. The seconds field is <em>not</em> supported by the ISO
8601 specification. For all of these, the ISO 8601 UTC indicator <code>Z</code> is used
when the local time offset is <code>0</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"X"</code> </td><td style="text-align: left;"> <code>"-07"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h, optional m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XX"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XXX"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XXXX"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XXXXX"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // ISO 8601 Formats (no use of Z for +0000)</h5>

<p>The <code>"x"</code>-<code>"xxxxx"</code> field patterns represent valid ISO 8601 patterns for time
zone offsets in datetimes. They are similar to the <code>"X"</code>-<code>"XXXXX"</code> field
patterns except that the ISO 8601 UTC indicator <code>Z</code> <em>will not</em> be used when
the local time offset is <code>0</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"x"</code> </td><td style="text-align: left;"> <code>"-07"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h, optional m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xx"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xxx"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xxxx"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xxxxx"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h3>Formatting with a <code>strptime</code> format code</h3>

<p>Performing custom date/time formatting with the <code>format</code> argument can also
occur with a <code>strptime</code> format code. This works by constructing a string of
individual format codes representing formatted date and time elements. These
are all indicated with a leading <code style="white-space: pre;">&#8288;%&#8288;</code>, literal characters are interpreted as
any characters not starting with a <code style="white-space: pre;">&#8288;%&#8288;</code> character.
</p>
<p>First off, let's look at a few format code combinations that work well
together as a <code>strptime</code> format. This will give us an intuition on how these
generally work. We'll use the datetime <code>"2015-06-08 23:05:37.48"</code> for all of
the examples that follow.
</p>

<ul>
<li> <p><code>"%m/%d/%Y"</code> -&gt; <code>"06/08/2015"</code>
</p>
</li>
<li> <p><code>"%A, %B %e, %Y"</code> -&gt; <code>"Monday, June 8, 2015"</code>
</p>
</li>
<li> <p><code>"%b %e %a"</code> -&gt; <code>"Jun 8 Mon"</code>
</p>
</li>
<li> <p><code>"%H:%M"</code> -&gt; <code>"23:05"</code>
</p>
</li>
<li> <p><code>"%I:%M %p"</code> -&gt; <code>"11:05 pm"</code>
</p>
</li>
<li> <p><code>"%A, %B %e, %Y at %I:%M %p"</code> -&gt; <code>"Monday, June 8, 2015 at 11:05 pm"</code>
</p>
</li></ul>

<p>Here are the individual format codes for the date components:
</p>

<ul>
<li> <p><code>"%a"</code> -&gt; <code>"Mon"</code> (abbreviated day of week name)
</p>
</li>
<li> <p><code>"%A"</code> -&gt; <code>"Monday"</code> (full day of week name)
</p>
</li>
<li> <p><code>"%w"</code> -&gt; <code>"1"</code> (day of week number in <code style="white-space: pre;">&#8288;0..6&#8288;</code>; Sunday is <code>0</code>)
</p>
</li>
<li> <p><code>"%u"</code> -&gt; <code>"1"</code> (day of week number in <code style="white-space: pre;">&#8288;1..7&#8288;</code>; Monday is <code>1</code>, Sunday <code>7</code>)
</p>
</li>
<li> <p><code>"%y"</code> -&gt; <code>"15"</code> (abbreviated year, using the final two digits)
</p>
</li>
<li> <p><code>"%Y"</code> -&gt; <code>"2015"</code> (full year)
</p>
</li>
<li> <p><code>"%b"</code> -&gt; <code>"Jun"</code> (abbreviated month name)
</p>
</li>
<li> <p><code>"%B"</code> -&gt; <code>"June"</code> (full month name)
</p>
</li>
<li> <p><code>"%m"</code> -&gt; <code>"06"</code> (month number)
</p>
</li>
<li> <p><code>"%d"</code> -&gt; <code>"08"</code> (day number, zero-padded)
</p>
</li>
<li> <p><code>"%e"</code> -&gt; <code>"8"</code> (day number without zero padding)
</p>
</li>
<li> <p><code>"%j"</code> -&gt; <code>"159"</code> (day of the year, always zero-padded)
</p>
</li>
<li> <p><code>"%W"</code> -&gt; <code>"23"</code> (week number for the year, always zero-padded)
</p>
</li>
<li> <p><code>"%V"</code> -&gt; <code>"24"</code> (week number for the year, following the ISO 8601
standard)
</p>
</li>
<li> <p><code>"%C"</code> -&gt; <code>"20"</code> (the century number)
</p>
</li></ul>

<p>Here are the individual format codes for the time components:
</p>

<ul>
<li> <p><code>"%H"</code> -&gt; <code>"23"</code> (24h hour)
</p>
</li>
<li> <p><code>"%I"</code> -&gt; <code>"11"</code> (12h hour)
</p>
</li>
<li> <p><code>"%M"</code> -&gt; <code>"05"</code> (minute)
</p>
</li>
<li> <p><code>"%S"</code> -&gt; <code>"37"</code> (second)
</p>
</li>
<li> <p><code>"%OS3"</code> -&gt; <code>"37.480"</code> (seconds with decimals; <code>3</code> decimal places here)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%p&#8288;</code> -&gt; <code>"pm"</code> (AM or PM indicator)
</p>
</li></ul>

<p>Here are some extra formats that you may find useful:
</p>

<ul>
<li> <p><code>"%z"</code> -&gt; <code>"+0000"</code> (signed time zone offset, here using UTC)
</p>
</li>
<li> <p><code>"%F"</code> -&gt; <code>"2015-06-08"</code> (the date in the ISO 8601 date format)
</p>
</li>
<li> <p><code>"%%"</code> -&gt; <code>"%"</code> (the literal &quot;<code style="white-space: pre;">&#8288;%&#8288;</code>&quot; character, in case you need it)
</p>
</li></ul>



<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). Note that a <code>locale</code> value provided here will override any
global locale setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is
settable there as a value received by all other functions that have a
<code>locale</code> argument). As a useful reference on which locales are supported, we
can call <code><a href="#topic+info_locales">info_locales()</a></code> to view an info table.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a single-column <strong>gt</strong> table (with only
the <code>datetime</code> column). With <code>fmt_datetime()</code> we'll format the <code>datetime</code>
column to have dates formatted with the <code>"month_day_year"</code> style and times
with the <code>"h_m_s_p"</code> 12-hour time style.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(datetime) |&gt;
  gt() |&gt;
  fmt_datetime(
    date_style = "month_day_year",
    time_style = "h_m_s_p"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_datetime_1.png" alt="This image of a table was generated from the first code example in the `fmt_datetime()` help file." style="width:100%;">

<p>Using the same input table, we can use <code>fmt_datetime()</code> with flexible date
and time styles. Two that work well together are <code>"MMMEd"</code> and <code>"Hms"</code>. These
date and time styles will, being flexible, create outputs that conform to the
locale value given to the <code>locale</code> argument. Let's use two calls of
<code>fmt_datetime()</code>: the first will format all rows in <code>datetime</code> to the Danish
locale (with <code>locale = "da"</code>) and the second call will target the first three
rows with the same formatting, but in the default locale (which is <code>"en"</code>).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(datetime) |&gt;
  gt() |&gt;
  fmt_datetime(
    date_style = "MMMEd",
    time_style = "Hms",
    locale = "da"
  ) |&gt;
  fmt_datetime(
    rows = 1:3,
    date_style = "MMMEd",
    time_style = "Hms"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_datetime_2.png" alt="This image of a table was generated from the second code example in the `fmt_datetime()` help file." style="width:100%;">

<p>It's possible to use the <code>format</code> argument and write our own formatting
specification. Using the CLDR datetime pattern
<code>"EEEE, MMMM d, y 'at' h:mm a (zzzz)"</code> gives us datetime outputs with time
zone formatting. Let's provide a time zone ID (<code>"America/Vancouver"</code>) to the
<code>tz</code> argument.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(datetime) |&gt;
  gt() |&gt;
  fmt_datetime(
    format = "EEEE, MMMM d, y 'at' h:mm a (zzzz)",
    tz = "America/Vancouver"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_datetime_3.png" alt="This image of a table was generated from the third code example in the `fmt_datetime()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-15
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_duration'>Format numeric or duration values as styled time duration strings</h2><span id='topic+fmt_duration'></span>

<h3>Description</h3>

<p>Format input values to time duration values whether those input values are
numbers or of the <code>difftime</code> class. We can specify which time units any
numeric input values have (as weeks, days, hours, minutes, or seconds) and
the output can be customized with a duration style (corresponding to narrow,
wide, colon-separated, and ISO forms) and a choice of output units ranging
from weeks to seconds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_duration(
  data,
  columns = everything(),
  rows = everything(),
  input_units = NULL,
  output_units = NULL,
  duration_style = c("narrow", "wide", "colon-sep", "iso"),
  trim_zero_units = TRUE,
  max_output_units = NULL,
  pattern = "{x}",
  use_seps = TRUE,
  sep_mark = ",",
  force_sign = FALSE,
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_duration_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_input_units">input_units</code></td>
<td>
<p><em>Declaration of duration units for numerical values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If one or more selected columns contains numeric values (not <code>difftime</code>
values, which contain the duration units), a keyword must be provided for
<code>input_units</code> for <strong>gt</strong> to determine how those values are to be
interpreted in terms of duration. The accepted units are: <code>"seconds"</code>,
<code>"minutes"</code>, <code>"hours"</code>, <code>"days"</code>, and <code>"weeks"</code>.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_output_units">output_units</code></td>
<td>
<p><em>Choice of output units</em>
</p>
<p><code style="white-space: pre;">&#8288;mult-kw:[weeks|days|hours|minutes|seconds]&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Controls the output time units. The default, <code>NULL</code>, means that <strong>gt</strong> will
automatically choose time units based on the input duration value. To
control which time units are to be considered for output (before trimming
with <code>trim_zero_units</code>) we can specify a vector of one or more of the
following keywords: <code>"weeks"</code>, <code>"days"</code>, <code>"hours"</code>, <code>"minutes"</code>, or
<code>"seconds"</code>.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_duration_style">duration_style</code></td>
<td>
<p><em>Style for representing duration values</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[narrow|wide|colon-sep|iso]&#8288;</code> // <em>default:</em> <code>"narrow"</code>
</p>
<p>A choice of four formatting styles for the output duration values. With
<code>"narrow"</code> (the default style), duration values will be formatted with
single letter time-part units (e.g., 1.35 days will be styled as
<code>"1d 8h 24m"</code>). With <code>"wide"</code>, this example value will be expanded to
<code>"1 day 8 hours 24 minutes"</code> after formatting. The <code>"colon-sep"</code> style will
put days, hours, minutes, and seconds in the <code>"([D]/)[HH]:[MM]:[SS]"</code>
format. The <code>"iso"</code> style will produce a value that conforms to the ISO
8601 rules for duration values (e.g., 1.35 days will become <code>"P1DT8H24M"</code>).</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_trim_zero_units">trim_zero_units</code></td>
<td>
<p><em>Trimming of zero values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|mult-kw:[leading|trailing|internal]&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Provides methods to remove output time units that have zero values. By
default this is <code>TRUE</code> and duration values that might otherwise be
formatted as <code>"0w 1d 0h 4m 19s"</code> with <code>trim_zero_units = FALSE</code> are instead
displayed as <code>"1d 4m 19s"</code>. Aside from using <code>TRUE</code>/<code>FALSE</code> we could
provide a vector of keywords for more precise control. These keywords are:
(1) <code>"leading"</code>, to omit all leading zero-value time units (e.g., <code>"0w 1d"</code>
-&gt; <code>"1d"</code>), (2) <code>"trailing"</code>, to omit all trailing zero-value time units
(e.g., <code>"3d 5h 0s"</code> -&gt; <code>"3d 5h"</code>), and <code>"internal"</code>, which removes all
internal zero-value time units (e.g., <code>"5d 0h 33m"</code> -&gt; <code>"5d 33m"</code>).</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_max_output_units">max_output_units</code></td>
<td>
<p><em>Maximum number of time units to display</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If <code>output_units</code> is <code>NULL</code>, where the output time units are unspecified
and left to <strong>gt</strong> to handle, a numeric value provided for
<code>max_output_units</code> will be taken as the maximum number of time units to
display in all output time duration values. By default, this is <code>NULL</code> and
all possible time units will be displayed. This option has no effect when
<code>duration_style = "colon-sep"</code> (only <code>output_units</code> can be used to
customize that type of duration output).</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. By
default only negative values will display a minus sign.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_duration_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Output units for the colon-separated duration style</h3>

<p>The colon-separated duration style (enabled when
<code>duration_style = "colon-sep"</code>) is essentially a clock-based output format
which uses the display logic of chronograph watch functionality. It will, by
default, display duration values in the <code style="white-space: pre;">&#8288;(D/)HH:MM:SS&#8288;</code> format. Any duration
values greater than or equal to 24 hours will have the number of days
prepended with an adjoining slash mark. While this output format is
versatile, it can be changed somewhat with the <code>output_units</code> option. The
following combinations of output units are permitted:
</p>

<ul>
<li> <p><code>c("minutes", "seconds")</code> -&gt; <code>MM:SS</code>
</p>
</li>
<li> <p><code>c("hours", "minutes")</code> -&gt; <code>HH:MM</code>
</p>
</li>
<li> <p><code>c("hours", "minutes", "seconds")</code> -&gt; <code>HH:MM:SS</code>
</p>
</li>
<li> <p><code>c("days", "hours", "minutes")</code> -&gt; <code style="white-space: pre;">&#8288;(D/)HH:MM&#8288;</code>
</p>
</li></ul>

<p>Any other specialized combinations will result in the default set being used,
which is <code>c("days", "hours", "minutes", "seconds")</code>
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_duration()</code> is compatible with body cells that are of the <code>"numeric"</code>,
<code>"integer"</code>, or <code>"difftime"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any value be
provided in <code>sep_mark</code>, it will be overridden by the locale's preferred
values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Use part of the <code>sp500</code> table to create a <strong>gt</strong> table. Create a
<code>difftime</code>-based column and format the duration values to be displayed as the
number of days since March 30, 2020.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice_head(n = 10) |&gt;
  dplyr::mutate(
    time_point = lubridate::ymd("2020-03-30"),
    time_passed = difftime(time_point, date)
  ) |&gt;
  dplyr::select(time_passed, open, close) |&gt;
  gt(rowname_col = "month") |&gt;
  fmt_duration(
    columns = time_passed,
    output_units = "days",
    duration_style = "wide"
  ) |&gt;
  fmt_currency(columns = c(open, close))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_duration_1.png" alt="This image of a table was generated from the first code example in the `fmt_duration()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-16
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_email'>Format email addresses to generate 'mailto:' links</h2><span id='topic+fmt_email'></span>

<h3>Description</h3>

<p>Should cells contain email addresses, <code>fmt_email()</code> can be used to make email
addresses work well with email clients on the user system. This should be
expressly used on columns that contain <em>only</em> email addresses (i.e., no email
addresses as part of a larger block of text). Should you have such a column of
data, there are options for how the email addresses should be styled. They can
be of the conventional style (with underlines and text coloring that sets it
apart from other text), or, they can appear to be button-like (with a
surrounding box that can be filled with a color of your choosing).
</p>
<p>Email addresses in data cells are trusted as email addresses. We can also
provide more readable labels with the <code>display_name</code> argument. Supplying a
single value there will show the same label for all email addresses but
display names from an adjacent column could be used via a <code><a href="#topic+from_column">from_column()</a></code>
call within <code>display_name</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_email(
  data,
  columns = everything(),
  rows = everything(),
  display_name = NULL,
  as_button = FALSE,
  color = "auto",
  show_underline = "auto",
  button_fill = "auto",
  button_width = "auto",
  button_outline = "auto",
  target = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_email_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_display_name">display_name</code></td>
<td>
<p><em>Display name for the email address</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The display name is the visible 'label' to use for the email address. If
<code>NULL</code> (the default) the address itself will serve as the display name.
There are two non-<code>NULL</code> options: (1) a piece of static text can be used
for the display name by providing a string, and (2) a function can be
provided to fashion a display name from every email address.</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_as_button">as_button</code></td>
<td>
<p><em>Style email address as a button</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to style the email address as a button. By default, this is
<code>FALSE</code>. If this option is chosen then the <code>button_fill</code> argument becomes
usable.</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_color">color</code></td>
<td>
<p><em>Link color</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The color used for the resulting email address and its underline. This is
<code>"auto"</code> by default; this allows <strong>gt</strong> to choose an appropriate color
based on various factors (such as the background <code>button_fill</code> when
<code>as_button</code> is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_show_underline">show_underline</code></td>
<td>
<p><em>Show the link underline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>Should the email address be decorated with an underline? By default this is
<code>"auto"</code> which means that <strong>gt</strong> will choose <code>TRUE</code> when
<code>as_button = FALSE</code> and <code>FALSE</code> in the other case. The underline will be
the same color as that set in the <code>color</code> option.</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_button_fill">button_fill</code>, <code id="fmt_email_+3A_button_width">button_width</code>, <code id="fmt_email_+3A_button_outline">button_outline</code></td>
<td>
<p><em>Button options</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>Options for styling an email address as a button (and only applies if
<code>as_button = TRUE</code>). All of these options are by default set to <code>"auto"</code>,
allowing <strong>gt</strong> to choose appropriate fill, width, and outline values.</p>
</td></tr>
<tr><td><code id="fmt_email_+3A_target">target</code></td>
<td>
<p><em>The 'target' anchor element attribute</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code>
</p>
<p>The anchor element 'target' attribute value. For a description of the
'target' attribute and its  allowed values, refer to the
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attributes">MDN Web Docs reference on the anchor HTML element</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_email()</code> is compatible with body cells that are of the <code>"character"</code> or
<code>"factor"</code> types. Any other types of body cells are ignored during formatting.
This is to say that cells of incompatible data types may be targeted, but
there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_email()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>display_name</code>
</p>
</li>
<li> <p><code>as_button</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>show_underline</code>
</p>
</li>
<li> <p><code>button_fill</code>
</p>
</li>
<li> <p><code>button_width</code>
</p>
</li>
<li> <p><code>button_outline</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Examples</h3>

<p>Let's take ten rows from the <code><a href="#topic+peeps">peeps</a></code> dataset and create a table of contact
information with mailing addresses and email addresses. With the column that
contains email addresses (<code>email_addr</code>), we can use <code>fmt_email()</code> to generate
'mailto:' links. Clicking any of these formatted email addresses should
result in new message creation (depending on the OS integration with an email
client).
</p>
<div class="sourceCode r"><pre>peeps |&gt;
  dplyr::filter(country == "AUS") |&gt;
  dplyr::select(
    starts_with("name"),
    address, city, state_prov, postcode, country, email_addr
  ) |&gt;
  dplyr::mutate(city = toupper(city)) |&gt;
  gt(rowname_col = "name_family") |&gt;
  tab_header(title = "Our Contacts in Australia") |&gt;
  tab_stubhead(label = "Name") |&gt;
  fmt_email(columns = email_addr) |&gt;
  fmt_country(columns = country) |&gt;
  cols_merge(
    columns = c(address, city, state_prov, postcode, country),
    pattern = "{1}&lt;br&gt;{2} {3} {4}&lt;br&gt;{5}"
  ) |&gt;
  cols_merge(
    columns = c(name_family, name_given),
    pattern = "{1},&lt;br&gt;{2}"
  ) |&gt;
  cols_label(
    address = "Mailing Address",
    email_addr = "Email"
  ) |&gt;
  tab_style(
    style = cell_text(size = "x-small"),
    locations = cells_body(columns = address)
  ) |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_email_1.png" alt="This image of a table was generated from the first code example in the `fmt_email()` help file." style="width:100%;">

<p>We can further condense the table by reducing the email link to an icon. The
approach we take here is the use of a <strong>fontawesome</strong> icon within the
<code>display_name</code> argument. The icon used is <code>"envelope"</code> and each icon produced
serves as a clickable 'mailto:' link. By adjusting one of the <code><a href="#topic+cols_merge">cols_merge()</a></code>
calls, we can place the icon/link next to the name of the person.
</p>
<div class="sourceCode r"><pre>peeps |&gt;
  dplyr::filter(country == "AUS") |&gt;
  dplyr::select(
    starts_with("name"),
    address, city, state_prov, postcode, country, email_addr
  ) |&gt;
  dplyr::mutate(city = toupper(city)) |&gt;
  gt(rowname_col = "name_family") |&gt;
  tab_header(title = "Our Contacts in Australia") |&gt;
  fmt_email(
    columns = email_addr,
    display_name = fontawesome::fa(
      name = "envelope",
      height = "0.75em",
      fill = "gray"
    )
  ) |&gt;
  fmt_country(columns = country) |&gt;
  cols_merge(
    columns = c(address, city, state_prov, postcode, country),
    pattern = "{1}&lt;br&gt;{2} {3} {4}&lt;br&gt;{5}"
  ) |&gt;
  cols_merge(
    columns = c(name_family, name_given, email_addr),
    pattern = "{1}, {2} {3}"
  ) |&gt;
  cols_width(everything() ~ px(200)) |&gt;
  tab_style(
    style = cell_text(size = px(11)),
    locations = cells_body(columns = address)
  ) |&gt;
  tab_options(column_labels.hidden = TRUE) |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_email_2.png" alt="This image of a table was generated from the second code example in the `fmt_email()` help file." style="width:100%;">

<p>Another option is to display the names of the email recipients instead of the
email addresses, making the display names serve as 'mailto:' links. We can do
this by using <code><a href="#topic+from_column">from_column()</a></code> in the <code>display_name</code> argument. The display
names in this case are the combined given and family names, handled earlier
through a <code>dplyr::mutate()</code> call. With some space conserved, we take the
opportunity here to add in phone information for each person.
</p>
<div class="sourceCode r"><pre>peeps |&gt;
  dplyr::filter(country == "AUS") |&gt;
  dplyr::mutate(name = paste(name_given, name_family)) |&gt;
  dplyr::mutate(city = toupper(city)) |&gt;
  dplyr::mutate(phone_number = gsub("^\\(0|\\)", "", phone_number)) |&gt;
  dplyr::select(
    name, address, city, state_prov, postcode, country,
    email_addr, phone_number, country_code
  ) |&gt;
  gt(rowname_col = "email_addr") |&gt;
  tab_header(title = "Our Contacts in Australia") |&gt;
  tab_stubhead(label = "Name") |&gt;
  fmt_email(
    columns = email_addr,
    display_name = from_column("name"),
    color = "gray25"
  ) |&gt;
  cols_hide(columns = name) |&gt;
  fmt_country(columns = country) |&gt;
  cols_merge(
    columns = c(address, city, state_prov, postcode, country),
    pattern = "{1}&lt;br&gt;{2} {3} {4}&lt;br&gt;{5}"
  ) |&gt;
  cols_merge(
    columns = c(phone_number, country_code),
    pattern = "+{2} {1}"
  ) |&gt;
  cols_label(
    address = "Mailing Address",
    email_addr = "Email",
    phone_number = "Phone"
  ) |&gt;
  cols_move_to_start(columns = phone_number) |&gt;
  cols_width(everything() ~ px(170)) |&gt;
  tab_style(
    style = cell_text(size = px(11)),
    locations = cells_body(columns = address)
  ) |&gt;
  cols_align(align = "left") |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_email_3.png" alt="This image of a table was generated from the third code example in the `fmt_email()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-22
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_engineering'>Format values to engineering notation</h2><span id='topic+fmt_engineering'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform formatting so that the
targeted values are rendered in engineering notation, where numbers are
written in the form of a mantissa (<code>m</code>) and an exponent (<code>n</code>). When combined
the construction is either of the form <em>m</em> x 10^<em>n</em> or <em>m</em>E<em>n</em>. The mantissa
is a number between <code>1</code> and <code>1000</code> and the exponent is a multiple of <code>3</code>. For
example, the number 0.0000345 can be written in engineering notation as
<code style="white-space: pre;">&#8288;34.50 x 10^-6&#8288;</code>. This notation helps to simplify calculations and make it
easier to compare numbers that are on very different scales.
</p>
<p>We have fine control over the formatting task, with the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_engineering(
  data,
  columns = everything(),
  rows = everything(),
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_by = 1,
  exp_style = "x10n",
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign_m = FALSE,
  force_sign_n = FALSE,
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_engineering_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_exp_style">exp_style</code></td>
<td>
<p><em>Style declaration for exponent formatting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"x10n"</code>
</p>
<p>Style of formatting to use for the scientific notation formatting. By
default this is <code>"x10n"</code> but other options include using a single letter
(e.g., <code>"e"</code>, <code>"E"</code>, etc.), a letter followed by a <code>"1"</code> to signal a
minimum digit width of one, or <code>"low-ten"</code> for using a stylized <code>"10"</code>
marker.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_force_sign_m">force_sign_m</code>, <code id="fmt_engineering_+3A_force_sign_n">force_sign_n</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the plus sign be shown for positive values of the mantissa (first
component, <code>force_sign_m</code>) or the exponent (<code>force_sign_n</code>)? This would
effectively show a sign for all values except zero on either of those
numeric components of the notation. If so, use <code>TRUE</code> for either one of
these options. The default for both is <code>FALSE</code>, where only negative numbers
will display a sign.</p>
</td></tr>
<tr><td><code id="fmt_engineering_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_engineering()</code> is compatible with body cells that are of the
<code>"numeric"</code> or <code>"integer"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_engineering()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>drop_trailing_zeros</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>scale_by</code>
</p>
</li>
<li> <p><code>exp_style</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign_m</code>
</p>
</li>
<li> <p><code>force_sign_n</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Let's define a data frame that contains two columns of values (one <code>small</code>
and one <code>large</code>). After creating a simple <strong>gt</strong> table from <code>small_large_tbl</code>
we'll call <code>fmt_engineering()</code> on both columns.
</p>
<div class="sourceCode r"><pre>small_large_tbl &lt;-
  dplyr::tibble(
    small = 10^(-12:-1),
    large = 10^(1:12)
  )

small_large_tbl |&gt;
  gt() |&gt;
  fmt_engineering()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_engineering_1.png" alt="This image of a table was generated from the first code example in the `fmt_engineering()` help file." style="width:100%;">

<p>Notice that within the form of <em>m</em> x 10^<em>n</em>, the <em>n</em> values move in steps of
3 (away from <code>0</code>), and <em>m</em> values can have 1-3 digits before the decimal.
Further to this, any values where <em>n</em> is <code>0</code> results in a display of only <em>m</em>
(the first two values in the <code>large</code> column demonstrates this).
</p>
<p>Engineering notation expresses values so that they are align to certain SI
prefixes. Here is a table that compares select SI prefixes and their symbols
to decimal and engineering-notation representations of the key numbers.
</p>
<div class="sourceCode r"><pre>prefixes_tbl &lt;-
  dplyr::tibble(
    name = c(
      "peta", "tera", "giga", "mega", "kilo",
      NA,
      "milli", "micro", "nano", "pico", "femto"
    ),
    symbol = c(
      "P", "T", "G", "M", "k",
      NA,
      "m", ":micro:", "n", "p", "f"
    ),
    decimal = c(10^(seq(15, -15, -3))),
    engineering = decimal
  )

prefixes_tbl |&gt;
  gt() |&gt;
  fmt_number(columns = decimal, n_sigfig = 1) |&gt;
  fmt_engineering(columns = engineering) |&gt;
  fmt_units(columns = symbol) |&gt;
  sub_missing()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_engineering_2.png" alt="This image of a table was generated from the second code example in the `fmt_engineering()` help file." style="width:100%;">

<p>The default method of styling the notation uses the '<em>m</em> x 10^<em>n</em>'
construction but this can be changed to a '<em>m</em>E<em>n</em>' style via the <code>exp_style</code>
argument. We can supply any single letter here and optionally affix a <code>"1"</code>
to indicate there should not be any zero-padding of the <em>n</em> value. Two calls
of <code>fmt_engineering()</code> are used here to show different options for styling
in engineering notation.
</p>
<div class="sourceCode r"><pre>small_large_tbl |&gt;
  gt() |&gt;
  fmt_engineering(
    columns = small,
    exp_style = "E"
  ) |&gt;
  fmt_engineering(
    columns = large,
    exp_style = "e1",
    force_sign_n = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_engineering_3.png" alt="This image of a table was generated from the third code example in the `fmt_engineering()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.1</code> (August 9, 2021)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_flag'>Generate flag icons for countries from their country codes</h2><span id='topic+fmt_flag'></span>

<h3>Description</h3>

<p>While it is fairly straightforward to insert images into body cells (using
<code><a href="#topic+fmt_image">fmt_image()</a></code> is one way to it), there is often the need to incorporate
specialized types of graphics within a table. One such group of graphics
involves iconography representing different countries, and the <code>fmt_flag()</code>
function helps with inserting a flag icon (or multiple) in body cells. To
make this work seamlessly, the input cells need to contain some reference to
a country, and this can be in the form of a 2- or 3-letter ISO 3166-1 country
code (e.g., Egypt has the <code>"EG"</code> country code). This function will parse the
targeted body cells for those codes (and the <a href="#topic+countrypops">countrypops</a> dataset contains
all of them) and insert the appropriate flag graphics.
</p>
<p>Multiple flags can be included per cell by separating country codes with
commas (e.g., <code>"GB,TT"</code>). The <code>sep</code> argument allows for a common separator
to be applied between flag icons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_flag(
  data,
  columns = everything(),
  rows = everything(),
  height = "1em",
  sep = " ",
  use_title = TRUE,
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_flag_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_flag_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_flag_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_flag_+3A_height">height</code></td>
<td>
<p><em>Height of flag</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"1em"</code>
</p>
<p>The absolute height of the flag icon in the table cell. By default, this is
set to <code>"1em"</code>.</p>
</td></tr>
<tr><td><code id="fmt_flag_+3A_sep">sep</code></td>
<td>
<p><em>Separator between flags</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" "</code>
</p>
<p>In the output of flag icons within a body cell, <code>sep</code> provides the
separator between each icon. By default, this is a single space character
(<code>" "</code>).</p>
</td></tr>
<tr><td><code id="fmt_flag_+3A_use_title">use_title</code></td>
<td>
<p><em>Display country name on hover</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to display a tooltip for the country name (in the language
according to the <code>locale</code> value, set either here or in <code><a href="#topic+gt">gt()</a></code>) when
hovering over the flag icon.</p>
</td></tr>
<tr><td><code id="fmt_flag_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_flag()</code> is compatible with body cells that are of the <code>"character"</code> or
<code>"factor"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_flag()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>height</code>
</p>
</li>
<li> <p><code>sep</code>
</p>
</li>
<li> <p><code>use_title</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Supported regions</h3>

<p>The following 242 regions (most of which comprise countries) are supported
with names across 574 locales: <code>"AD"</code>, <code>"AE"</code>, <code>"AF"</code>, <code>"AG"</code>, <code>"AI"</code>,
<code>"AL"</code>, <code>"AM"</code>, <code>"AO"</code>, <code>"AR"</code>, <code>"AS"</code>, <code>"AT"</code>, <code>"AU"</code>, <code>"AW"</code>, <code>"AX"</code>,
<code>"AZ"</code>, <code>"BA"</code>, <code>"BB"</code>, <code>"BD"</code>, <code>"BE"</code>, <code>"BF"</code>, <code>"BG"</code>, <code>"BH"</code>, <code>"BI"</code>,
<code>"BJ"</code>, <code>"BL"</code>, <code>"BM"</code>, <code>"BN"</code>, <code>"BO"</code>, <code>"BR"</code>, <code>"BS"</code>, <code>"BT"</code>, <code>"BW"</code>,
<code>"BY"</code>, <code>"BZ"</code>, <code>"CA"</code>, <code>"CC"</code>, <code>"CD"</code>, <code>"CF"</code>, <code>"CG"</code>, <code>"CH"</code>, <code>"CI"</code>,
<code>"CK"</code>, <code>"CL"</code>, <code>"CM"</code>, <code>"CN"</code>, <code>"CO"</code>, <code>"CR"</code>, <code>"CU"</code>, <code>"CV"</code>, <code>"CW"</code>,
<code>"CY"</code>, <code>"CZ"</code>, <code>"DE"</code>, <code>"DJ"</code>, <code>"DK"</code>, <code>"DM"</code>, <code>"DO"</code>, <code>"DZ"</code>, <code>"EC"</code>,
<code>"EE"</code>, <code>"EG"</code>, <code>"EH"</code>, <code>"ER"</code>, <code>"ES"</code>, <code>"ET"</code>, <code>"EU"</code>, <code>"FI"</code>, <code>"FJ"</code>,
<code>"FK"</code>, <code>"FM"</code>, <code>"FO"</code>, <code>"FR"</code>, <code>"GA"</code>, <code>"GB"</code>, <code>"GD"</code>, <code>"GE"</code>, <code>"GF"</code>,
<code>"GG"</code>, <code>"GH"</code>, <code>"GI"</code>, <code>"GL"</code>, <code>"GM"</code>, <code>"GN"</code>, <code>"GP"</code>, <code>"GQ"</code>, <code>"GR"</code>,
<code>"GS"</code>, <code>"GT"</code>, <code>"GU"</code>, <code>"GW"</code>, <code>"GY"</code>, <code>"HK"</code>, <code>"HN"</code>, <code>"HR"</code>, <code>"HT"</code>,
<code>"HU"</code>, <code>"ID"</code>, <code>"IE"</code>, <code>"IL"</code>, <code>"IM"</code>, <code>"IN"</code>, <code>"IO"</code>, <code>"IQ"</code>, <code>"IR"</code>,
<code>"IS"</code>, <code>"IT"</code>, <code>"JE"</code>, <code>"JM"</code>, <code>"JO"</code>, <code>"JP"</code>, <code>"KE"</code>, <code>"KG"</code>, <code>"KH"</code>,
<code>"KI"</code>, <code>"KM"</code>, <code>"KN"</code>, <code>"KP"</code>, <code>"KR"</code>, <code>"KW"</code>, <code>"KY"</code>, <code>"KZ"</code>, <code>"LA"</code>,
<code>"LB"</code>, <code>"LC"</code>, <code>"LI"</code>, <code>"LK"</code>, <code>"LR"</code>, <code>"LS"</code>, <code>"LT"</code>, <code>"LU"</code>, <code>"LV"</code>,
<code>"LY"</code>, <code>"MA"</code>, <code>"MC"</code>, <code>"MD"</code>, <code>"ME"</code>, <code>"MF"</code>, <code>"MG"</code>, <code>"MH"</code>, <code>"MK"</code>,
<code>"ML"</code>, <code>"MM"</code>, <code>"MN"</code>, <code>"MO"</code>, <code>"MP"</code>, <code>"MQ"</code>, <code>"MR"</code>, <code>"MS"</code>, <code>"MT"</code>,
<code>"MU"</code>, <code>"MV"</code>, <code>"MW"</code>, <code>"MX"</code>, <code>"MY"</code>, <code>"MZ"</code>, <code>"NA"</code>, <code>"NC"</code>, <code>"NE"</code>,
<code>"NF"</code>, <code>"NG"</code>, <code>"NI"</code>, <code>"NL"</code>, <code>"NO"</code>, <code>"NP"</code>, <code>"NR"</code>, <code>"NU"</code>, <code>"NZ"</code>,
<code>"OM"</code>, <code>"PA"</code>, <code>"PE"</code>, <code>"PF"</code>, <code>"PG"</code>, <code>"PH"</code>, <code>"PK"</code>, <code>"PL"</code>, <code>"PM"</code>,
<code>"PN"</code>, <code>"PR"</code>, <code>"PS"</code>, <code>"PT"</code>, <code>"PW"</code>, <code>"PY"</code>, <code>"QA"</code>, <code>"RE"</code>, <code>"RO"</code>,
<code>"RS"</code>, <code>"RU"</code>, <code>"RW"</code>, <code>"SA"</code>, <code>"SB"</code>, <code>"SC"</code>, <code>"SD"</code>, <code>"SE"</code>, <code>"SG"</code>,
<code>"SI"</code>, <code>"SK"</code>, <code>"SL"</code>, <code>"SM"</code>, <code>"SN"</code>, <code>"SO"</code>, <code>"SR"</code>, <code>"SS"</code>, <code>"ST"</code>,
<code>"SV"</code>, <code>"SX"</code>, <code>"SY"</code>, <code>"SZ"</code>, <code>"TC"</code>, <code>"TD"</code>, <code>"TF"</code>, <code>"TG"</code>, <code>"TH"</code>,
<code>"TJ"</code>, <code>"TK"</code>, <code>"TL"</code>, <code>"TM"</code>, <code>"TN"</code>, <code>"TO"</code>, <code>"TR"</code>, <code>"TT"</code>, <code>"TV"</code>,
<code>"TW"</code>, <code>"TZ"</code>, <code>"UA"</code>, <code>"UG"</code>, <code>"US"</code>, <code>"UY"</code>, <code>"UZ"</code>, <code>"VA"</code>, <code>"VC"</code>,
<code>"VE"</code>, <code>"VG"</code>, <code>"VI"</code>, <code>"VN"</code>, <code>"VU"</code>, <code>"WF"</code>, <code>"WS"</code>, <code>"YE"</code>, <code>"YT"</code>,
<code>"ZA"</code>, <code>"ZM"</code>, and <code>"ZW"</code>.
</p>
<p>You can view the entire set of supported flag icons as an informative table
by calling <code><a href="#topic+info_flags">info_flags()</a></code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong> table. We will only
include a few columns and rows from that table. The <code>country_code_2</code> column
has 2-letter country codes in the format required for <code>fmt_flag()</code> and using
that function transforms the codes to circular flag icons.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(year == 2021) |&gt;
  dplyr::filter(grepl("^S", country_name)) |&gt;
  dplyr::arrange(country_name) |&gt;
  dplyr::select(-country_name, -year) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  fmt_flag(columns = country_code_2) |&gt;
  fmt_country(columns = country_code_3) |&gt;
  cols_label(
    country_code_2 = "",
    country_code_3 = "Country",
    population = "Population (2021)"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_flag_1.png" alt="This image of a table was generated from the first code example in the `fmt_flag()` help file." style="width:100%;">

<p>Using <code><a href="#topic+countrypops">countrypops</a></code> we can generate a table that provides populations
every five years for the Benelux countries (<code>"BE"</code>, <code>"NL"</code>, and <code>"LU"</code>).
This requires some manipulation with <strong>dplyr</strong> and <strong>tidyr</strong> before
introducing the table to <strong>gt</strong>. With <code>fmt_flag()</code> we can obtain flag icons
in the <code>country_code_2</code> column. After that, we can merge the flag icons into
the stub column, generating row labels that have a combination of icon and
text.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_code_2 %in% c("BE", "NL", "LU")) |&gt;
  dplyr::filter(year %% 10 == 0) |&gt;
  dplyr::select(country_name, country_code_2, year, population) |&gt;
  tidyr::pivot_wider(names_from = year, values_from = population) |&gt;
  dplyr::slice(1, 3, 2) |&gt;
  gt(rowname_col = "country_name") |&gt;
  tab_header(title = "Populations of the Benelux Countries") |&gt;
  tab_spanner(columns = everything(), label = "Year") |&gt;
  fmt_integer() |&gt;
  fmt_flag(columns = country_code_2) |&gt;
  cols_merge(
    columns = c(country_name, country_code_2),
    pattern = "{2} {1}"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_flag_2.png" alt="This image of a table was generated from the second code example in the `fmt_flag()` help file." style="width:100%;">

<p><code>fmt_flag()</code> works well even when there are multiple country codes within the
same cell. It can operate on comma-separated codes without issue. When
rendered to HTML, hovering over each of the flag icons results in tooltip
text showing the name of the country.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(year == 2021, population &lt; 100000) |&gt;
  dplyr::select(country_code_2, population) |&gt;
  dplyr::mutate(population_class = cut(
    population,
    breaks = scales::breaks_pretty(n = 5)(population)
    )
  ) |&gt;
  dplyr::group_by(population_class) |&gt;
  dplyr::summarize(
    countries = paste0(country_code_2, collapse = ",")
  ) |&gt;
  dplyr::arrange(desc(population_class)) |&gt;
  gt() |&gt;
  tab_header(title = "Countries with Small Populations") |&gt;
  fmt_flag(columns = countries) |&gt;
  fmt_bins(
    columns = population_class,
    fmt = ~ fmt_integer(., suffixing = TRUE)
  ) |&gt;
  cols_label(
    population_class = "Population Range",
    countries = "Countries"
  ) |&gt;
  cols_width(population_class ~ px(150))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_flag_3.png" alt="This image of a table was generated from the third code example in the `fmt_flag()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-24
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_fraction'>Format values as mixed fractions</h2><span id='topic+fmt_fraction'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform mixed-fraction-based
formatting. There are several options for setting the accuracy of the
fractions. Furthermore, there is an option for choosing a layout (i.e.,
typesetting style) for the mixed-fraction output.
</p>
<p>The following options are available for controlling this type of formatting:
</p>

<ul>
<li><p> accuracy: how to express the fractional part of the mixed fractions; there
are three keyword options for this and an allowance for arbitrary denominator
settings
</p>
</li>
<li><p> simplification: an option to simplify fractions whenever possible
</p>
</li>
<li><p> layout: We can choose to output values with diagonal or inline fractions
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol for the whole number portion
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
mixed fractions
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_fraction(
  data,
  columns = everything(),
  rows = everything(),
  accuracy = NULL,
  simplify = TRUE,
  layout = c("inline", "diagonal"),
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_fraction_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_accuracy">accuracy</code></td>
<td>
<p><em>Accuracy of fractions</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[low|med|high]|scalar&lt;numeric|integer&gt;(val&gt;=1)&#8288;</code> // <em>default:</em> <code>"low"</code>
</p>
<p>The type of fractions to generate. This can either be one of the keywords
<code>"low"</code>, <code>"med"</code>, or <code>"high"</code> (to generate fractions with denominators of
up to 1, 2, or 3 digits, respectively) or an integer value greater than
zero to obtain fractions with a fixed denominator (<code>2</code> yields halves, <code>3</code>
is for thirds, <code>4</code> is quarters, etc.). For the latter option, using
<code>simplify = TRUE</code> will simplify fractions where possible (e.g., <code>2/4</code> will
be simplified as <code>1/2</code>). By default, the <code>"low"</code> option is used.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_simplify">simplify</code></td>
<td>
<p><em>Simplify the fraction</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>If choosing to provide a numeric value for <code>accuracy</code>, the option to
simplify the fraction (where possible) can be taken with <code>TRUE</code> (the
default). With <code>FALSE</code>, denominators in fractions will be fixed to the
value provided in <code>accuracy</code>.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_layout">layout</code></td>
<td>
<p><em>Layout of fractions in HTML output</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[inline|diagonal]&#8288;</code> // <em>default:</em> <code>"inline"</code>
</p>
<p>For HTML output, the <code>"inline"</code> layout is the default. This layout places
the numerals of the fraction on the baseline and uses a standard slash
character. The <code>"diagonal"</code> layout will generate fractions that are typeset
with raised/lowered numerals and a virgule.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_fraction_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_fraction()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_fraction()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit ifferently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>accuracy</code>
</p>
</li>
<li> <p><code>simplify</code>
</p>
</li>
<li> <p><code>layout</code>
</p>
</li>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>system</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any value be
provided in <code>sep_mark</code>, it will be overridden by the locale's preferred
values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Using a summarized version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset, let's create a
<strong>gt</strong> table. With <code>fmt_fraction()</code> we can format the <code>f_sold</code> and <code>f_income</code>
columns to display fractions. As for how the fractions are represented, we
are electing to use <code>accuracy = 10</code>. This gives all fractions as tenths.
We won't simplify the fractions (by using <code>simplify = FALSE</code>) and this means
that a fraction like <code>5/10</code> won't become <code>1/2</code>. With <code>layout ="diagonal"</code>,
we get a diagonal display of all fractions.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::group_by(type, size) |&gt;
  dplyr::summarize(
    sold = dplyr::n(),
    income = sum(price),
    .groups = "drop_last"
  ) |&gt;
  dplyr::group_by(type) |&gt;
  dplyr::mutate(
    f_sold = sold / sum(sold),
    f_income = income / sum(income),
  ) |&gt;
  dplyr::arrange(type, dplyr::desc(income)) |&gt;
  gt(rowname_col = "size") |&gt;
  tab_header(
    title = "Pizzas Sold in 2015",
    subtitle = "Fraction of Sell Count and Revenue by Size per Type"
  ) |&gt;
  fmt_integer(columns = sold) |&gt;
  fmt_currency(columns = income) |&gt;
  fmt_fraction(
    columns = starts_with("f_"),
    accuracy = 10,
    simplify = FALSE,
    layout = "diagonal"
  ) |&gt;
  sub_missing(missing_text = "") |&gt;
  tab_spanner(
    label = "Sold",
    columns = contains("sold")
  ) |&gt;
  tab_spanner(
    label = "Revenue",
    columns = contains("income")
  ) |&gt;
  text_transform(
    locations = cells_body(),
    fn = function(x) {
      dplyr::case_when(
        x == 0 ~ "&lt;em&gt;nil&lt;/em&gt;",
        x != 0 ~ x
      )
    }
  ) |&gt;
  cols_label(
    sold = "Amount",
    income = "Amount",
    f_sold = md("_f_"),
    f_income = md("_f_")
  ) |&gt;
  cols_align(align = "center", columns = starts_with("f")) |&gt;
  tab_options(
    table.width = px(400),
    row_group.as_column = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_fraction_1.png" alt="This image of a table was generated from the first code example in the `fmt_fraction()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.4.0</code> (February 15, 2022)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_icon'>Use icons within a table's body cells</h2><span id='topic+fmt_icon'></span>

<h3>Description</h3>

<p>We can draw from a library of thousands of icons and selectively insert them
into a <strong>gt</strong> table. The <code>fmt_icon()</code> function makes this possible and it
operates a lot like <code><a href="#topic+fmt_flag">fmt_flag()</a></code> in that input cells need to contain some
reference to an icon name. We are exclusively using <em>Font Awesome</em> icons here
(and we do need to have the <strong>fontawesome</strong> package installed) so the
reference is the short icon name. Multiple icons can be included per cell by
separating icon names with commas (e.g., <code>"hard-drive,clock"</code>). The <code>sep</code>
argument allows for a common separator to be applied between flag icons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_icon(
  data,
  columns = everything(),
  rows = everything(),
  height = "1em",
  sep = " ",
  stroke_color = NULL,
  stroke_width = NULL,
  stroke_alpha = NULL,
  fill_color = NULL,
  fill_alpha = NULL,
  vertical_adj = NULL,
  margin_left = NULL,
  margin_right = NULL,
  a11y = c("semantic", "decorative", "none")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_icon_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_height">height</code></td>
<td>
<p><em>Height of icon</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"1em"</code>
</p>
<p>The absolute height of the icon in the table cell. By default, this is set
to <code>"1em"</code>.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_sep">sep</code></td>
<td>
<p><em>Separator between icons</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" "</code>
</p>
<p>In the output of icons within a body cell, <code>sep</code> provides the separator
between each icon. By default, this is a single space character (<code>" "</code>).</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_stroke_color">stroke_color</code></td>
<td>
<p><em>Color of the icon stroke/outline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The icon stroke is essentially the outline of the icon. The color of the
stroke can be modified by applying a single color here. If not provided
then the default value of <code>"currentColor"</code> is applied so that the stroke
color matches that of the parent HTML element's color attribute.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_stroke_width">stroke_width</code></td>
<td>
<p><em>Width of the icon stroke/outline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The <code>stroke_width</code> option allows for setting the color of the icon outline
stroke. By default, the stroke width is very small at <code>"1px"</code> so a size
adjustment here can sometimes be useful.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_stroke_alpha">stroke_alpha</code></td>
<td>
<p><em>Transparency value for icon stroke/outline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The level of transparency for the icon stroke can be controlled with a
decimal value between <code>0</code> and <code>1</code>.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_fill_color">fill_color</code></td>
<td>
<p><em>Color of the icon fill</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The fill color of the icon can be set with <code>fill_color</code>; providing a single
color here will change the color of the fill but not of the icon's 'stroke'
or outline (use <code>stroke_color</code> to modify that). A named vector or named
list comprising the icon names with corresponding fill colors can
alternatively be used here (e.g.,
<code style="white-space: pre;">&#8288;list("circle-check" = "green", "circle-xmark" = "red"&#8288;</code>). If nothing is
provided then the default value of <code>"currentColor"</code> is applied so that the
fill matches the color of the parent HTML element's color attribute.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_fill_alpha">fill_alpha</code></td>
<td>
<p><em>Transparency value for icon fill</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(0&gt;=val&gt;=1)&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The level of transparency for the icon fill can be controlled with a
decimal value between <code>0</code> and <code>1</code>.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_vertical_adj">vertical_adj</code></td>
<td>
<p><em>Vertical adjustment of icon from baseline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The vertical alignment of the icon. By default, a length of <code>"-0.125em"</code>
is used.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_margin_left">margin_left</code></td>
<td>
<p><em>Margin width left of icon</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The length value for the margin that's to the left of the icon can be set
with <code>margin_left</code>. By default, <code>"auto"</code> is used for this but if space is
needed on the left-hand side then a length of <code>"0.2em"</code> is recommended as a
starting point.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_margin_right">margin_right</code></td>
<td>
<p><em>Margin width right of icon</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The length value for the margin that's to the right of the icon can be set
with <code>margin_right</code>. By default, <code>"auto"</code> is used for this but if space is
needed on the right-hand side then a length of <code>"0.2em"</code> is recommended as
a starting point.</p>
</td></tr>
<tr><td><code id="fmt_icon_+3A_a11y">a11y</code></td>
<td>
<p><em>Accessibility mode for icon</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[semantic|decorative|none]&#8288;</code> // <em>default:</em> <code>"semantic"</code>
</p>
<p>The accessibility mode for the icon display can be set with the <code>a11y</code>
argument. Icons can either be <code>"semantic"</code> or <code>"decorative"</code>. Using
<code>"none"</code> will result in no accessibility features for the icons.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_icon()</code> is compatible with body cells that are of the
<code>"character"</code> or <code>"factor"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_icon()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>height</code>
</p>
</li>
<li> <p><code>sep</code>
</p>
</li>
<li> <p><code>stroke_color</code>
</p>
</li>
<li> <p><code>stroke_width</code>
</p>
</li>
<li> <p><code>stroke_alpha</code>
</p>
</li>
<li> <p><code>fill_color</code>
</p>
</li>
<li> <p><code>fill_alpha</code>
</p>
</li>
<li> <p><code>vertical_adj</code>
</p>
</li>
<li> <p><code>margin_left</code>
</p>
</li>
<li> <p><code>margin_right</code>
</p>
</li>
<li> <p><code>a11y</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Icons that can be used</h3>

<p><code>fmt_icon()</code> relies on an installation of the <strong>fontawesome</strong> package to
operate and every icon within that package can be accessed here with either
an icon name or a full name. For example, the <em>Arrow Down</em> icon has an icon
name of <code>"arrow-down"</code> and its corresponding full name is
<code>"fas fa-arrow-down"</code>. In most cases you'll want to use the shorter name, but
some icons have both a <em>Solid</em> (<code>"fas"</code>) and a <em>Regular</em> (<code>"far"</code>) variant so
only the full name can disambiguate the pairing. In the latest release of
<strong>fontawesome</strong> (<code>v0.5.2</code>), there are 2,025 icons and you can view the entire
icon listing by calling <code><a href="#topic+info_icons">info_icons()</a></code>. What you'll get from that is an
information table showing every icon and associated set of identifiers.
</p>


<h3>Examples</h3>

<p>For this first example of generating icons with <code>fmt_icon()</code>, let's make a
simple tibble that has two columns of <em>Font Awesome</em> icon names. We separate
multiple icons per cell with commas. By default, the icons are 1 em in
height; we're going to make the icons slightly larger here (so we can see the
fine details of them) by setting <code>height = "4em"</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  animals = c(
    "hippo", "fish,spider", "mosquito,locust,frog",
    "dog,cat", "kiwi-bird"
  ),
  foods = c(
    "bowl-rice", "egg,pizza-slice", "burger,lemon,cheese",
    "carrot,hotdog", "bacon"
  )
) |&gt;
  gt() |&gt;
  fmt_icon(height = "4em") |&gt;
  cols_align(align = "center", columns = everything())
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_icon_1.png" alt="This image of a table was generated from the first code example in the `fmt_icon()` help file." style="width:100%;">

<p>Let's take a few rows from the <code><a href="#topic+towny">towny</a></code> dataset and make it so the
<code>csd_type</code> column contains <em>Font Awesome</em> icon names (we want only the
<code>"city"</code> and <code>"house-chimney"</code> icons here). After using <code>fmt_icon()</code> to
format the <code>csd_type</code> column, we get icons that are representative of the two
categories of municipality for this subset of data.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, csd_type, population_2021) |&gt;
  dplyr::filter(csd_type %in% c("city", "town")) |&gt;
  dplyr::group_by(csd_type) |&gt;
  dplyr::slice_max(population_2021, n = 5) |&gt;
  dplyr::ungroup() |&gt;
  dplyr::mutate(
    csd_type = ifelse(csd_type == "town", "house-chimney", "city")
  ) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  fmt_icon(columns = csd_type) |&gt;
  cols_move_to_start(columns = csd_type) |&gt;
  cols_label(
    csd_type = "",
    name = "City/Town",
    population_2021 = "Population"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_icon_2.png" alt="This image of a table was generated from the second code example in the `fmt_icon()` help file." style="width:100%;">

<p>Let's use a portion of the <code><a href="#topic+metro">metro</a></code> dataset to create a <strong>gt</strong> table.
Depending on which train services are offered at the subset of stations,
<em>Font Awesome</em> icon names will be applied to cells where the different
services exist (the specific names are <code>"train-subway"</code>, <code>"train"</code>, and
<code>"train-tram"</code>). With <code>tidyr::unite()</code>, those icon names can be converged
into a single column (<code>services</code>) with the <code>NA</code> values removed. Since the
names correspond to icons and they are in the correct format (separated by
commas), they can be formatted as <em>Font Awesome</em> icons with <code>fmt_icon()</code>.
</p>
<div class="sourceCode r"><pre>metro |&gt;
  dplyr::select(name, lines, connect_rer, connect_tramway, location) |&gt;
  dplyr::slice_tail(n = 10) |&gt;
  dplyr::mutate(lines = "train-subway") |&gt;
  dplyr::mutate(connect_rer = ifelse(!is.na(connect_rer), "train", NA)) |&gt;
  dplyr::mutate(
    connect_tramway = ifelse(!is.na(connect_tramway), "train-tram", NA)
  ) |&gt;
  tidyr::unite(
    col = services,
    lines:connect_tramway,
    sep = ",",
    na.rm = TRUE
  ) |&gt;
  gt() |&gt;
  fmt_icon(
    columns = services,
    a11y = "decorative"
  ) |&gt;
  cols_merge(
    columns = c(name, services),
    pattern = "{1} ({2})"
  ) |&gt;
  cols_label(
    name = "Station",
    location = "Location"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_icon_3.png" alt="This image of a table was generated from the third code example in the `fmt_icon()` help file." style="width:100%;">

<p>Taking a handful of starred reviews from a popular film review website, we
will attempt to format a numerical score (0 to 4) to use the <code>"star"</code> and
<code>"star-half"</code> icons. In this case, it is useful to generate the repeating
sequence of icon names (separated by commas) in the <code>rating</code> column before
introducing the table to <code><a href="#topic+gt">gt()</a></code>. We can make use of the numerical rating
values in <code>stars</code> within <code>fmt_icon()</code> with a little help from
<code><a href="#topic+from_column">from_column()</a></code>. Using that, we can dynamically adjust the icon's
<code>fill_alpha</code> (i.e., opacity) value and accentuate the films with higher
scores.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  film = c(
    "The Passengers of the Night", "Serena", "The Father",
    "Roma", "The Handmaiden", "Violet", "Vice"
  ),
  stars = c(3, 1, 3.5, 4, 4, 2.5, 1.5)
) |&gt;
  dplyr::mutate(rating = dplyr::case_when(
    stars %% 1 == 0 ~ strrep("star,", stars),
    stars %% 1 != 0 ~ paste0(strrep("star,", floor(stars)), "star-half")
  )) |&gt;
  gt() |&gt;
  fmt_icon(
    columns = rating,
    fill_color = "red",
    fill_alpha = from_column("stars", fn = function(x) x / 4)
  ) |&gt;
  cols_hide(columns = stars) |&gt;
  tab_source_note(
    source_note = md(
      "Data obtained from &lt;https://www.rogerebert.com/reviews&gt;."
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_icon_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_icon()` help file." style="width:100%;">

<p>A fairly common thing to do with icons in tables is to indicate whether
a quantity is either higher or lower than another. Up and down arrow symbols
can serve as good visual indicators for this purpose. We can make use of the
<code>"up-arrow"</code> and <code>"down-arrow"</code> icons here. The <code>fmt_icon()</code> function has to
find those text values in cells to generate the icons, so, lets generate the
text within a new column with <code><a href="#topic+cols_add">cols_add()</a></code> (an expression is used therein to
generate the correct text given the <code>close</code> and <code>open</code> values). Following
that, <code>fmt_icon()</code> is used and its <code>fill_color</code> argument is provided with a
named vector that indicates which color should be used for each icon.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice_head(n = 10) |&gt;
  dplyr::select(date, open, close) |&gt;
  dplyr::arrange(-dplyr::row_number()) |&gt;
  gt(rowname_col = "date") |&gt;
  cols_add(week = date, .after = date) |&gt;
  cols_add(dir = ifelse(close &gt; open, "arrow-up", "arrow-down")) |&gt;
  cols_merge(columns = c(date, week), pattern = "{1} ({2})") |&gt;
  fmt_date(columns = date, date_style = "m_day_year") |&gt;
  fmt_datetime(columns = week, format = "w", pattern = "W{x}") |&gt;
  fmt_currency() |&gt;
  fmt_icon(
    columns = dir,
    fill_color = c("arrow-up" = "green", "arrow-down" = "red")
  ) |&gt;
  cols_label(
    open = "Opening Value",
    close = "Closing Value",
    dir = ""
  ) |&gt;
  opt_stylize(style = 1, color = "gray")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_icon_5.png" alt="This image of a table was generated from the fifth code example in the `fmt_icon()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-26
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_image'>Format image paths to generate images in cells</h2><span id='topic+fmt_image'></span>

<h3>Description</h3>

<p>To more easily insert graphics into body cells, we can use <code>fmt_image()</code>.
This allows for one or more images to be placed in the targeted cells.
The cells need to contain some reference to an image file, either: (1)
complete http/https or local paths to the files; (2) the file names, where a
common path can be provided via <code>path</code>; or (3) a fragment of the file name,
where the <code>file_pattern</code> helps to compose the entire file name and <code>path</code>
provides the path information. This should be expressly used on columns that
contain <em>only</em> references to image files (i.e., no image references as part
of a larger block of text). Multiple images can be included per cell by
separating image references by commas. The <code>sep</code> argument allows for a common
separator to be applied between images.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_image(
  data,
  columns = everything(),
  rows = everything(),
  height = NULL,
  width = NULL,
  sep = " ",
  path = NULL,
  file_pattern = "{x}",
  encode = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_image_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_height">height</code>, <code id="fmt_image_+3A_width">width</code></td>
<td>
<p><em>Height and width of images</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The absolute height of the image in the table cell. If you set the <code>width</code>
and <code>height</code> remains <code>NULL</code> (or vice versa), the width-to-height ratio will
be preserved when <strong>gt</strong> calculates the length of the missing dimension. If
<code>width</code> and <code>height</code> are both <code>NULL</code>, <code>height</code> is set as <code>"2em"</code> and
<code>width</code> will be calculated.</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_sep">sep</code></td>
<td>
<p><em>Separator between images</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" "</code>
</p>
<p>In the output of images within a body cell, <code>sep</code> provides the separator
between each image.</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_path">path</code></td>
<td>
<p><em>Path to image files</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional path to local image files (this is combined with all
filenames).</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_file_pattern">file_pattern</code></td>
<td>
<p><em>File pattern specification</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>The pattern to use for mapping input values in the body cells to the names
of the graphics files. The string supplied should use <code>"{x}"</code> in the
pattern to map filename fragments to input strings.</p>
</td></tr>
<tr><td><code id="fmt_image_+3A_encode">encode</code></td>
<td>
<p><em>Use Base64 encoding</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>The option to always use Base64 encoding for image paths that are
determined to be local. By default, this is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler
<strong>tidyselect</strong>-style expressions (the select helpers should work well here)
and we can use quoted row identifiers in <code>c()</code>. It's also possible to use row
indices (e.g., <code>c(3, 5, 6)</code>) though these index values must correspond to the
row numbers of the input data (the indices won't necessarily match those of
rearranged rows if row groups are present). One more type of expression is
possible, an expression that takes column values (can involve any of the
available columns in the table) and returns a logical vector. This is nice if
you want to base formatting on values in the column or another column, or,
you'd like to use a more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_image()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>height</code>
</p>
</li>
<li> <p><code>width</code>
</p>
</li>
<li> <p><code>sep</code>
</p>
</li>
<li> <p><code>path</code>
</p>
</li>
<li> <p><code>file_pattern</code>
</p>
</li>
<li> <p><code>encode</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Examples</h3>

<p>Using a small portion of <code><a href="#topic+metro">metro</a></code> dataset, let's create a <strong>gt</strong> table. We
will only include a few columns and rows from that table. The <code>lines</code> and
<code>connect_rer</code> columns have comma-separated listings of numbers/letters
(corresponding to lines served at each station). We have a directory of SVG
graphics for all of these lines within the package (the path for the
directory containing the images can be accessed via
<code>system.file("metro_svg", package = "gt")</code>), and the filenames roughly
correspond to the data in those two columns. <code>fmt_image()</code> can be used with
these inputs since the <code>path</code> and <code>file_pattern</code> arguments allow us to
compose complete and valid file locations. What you get from all of this are
sequences of images in the table cells, taken from the referenced graphics
files on disk.
</p>
<div class="sourceCode r"><pre>metro |&gt;
  dplyr::select(name, caption, lines, connect_rer) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  cols_merge(
    columns = c(name, caption),
    pattern = "{1}&lt;&lt; ({2})&gt;&gt;"
  ) |&gt;
  text_replace(
    locations = cells_body(columns = name),
    pattern = "\\((.*?)\\)",
    replacement = "&lt;br&gt;(&lt;em&gt;\\1&lt;/em&gt;)"
  ) |&gt;
  sub_missing(columns = connect_rer, missing_text = "") |&gt;
  fmt_image(
    columns = lines,
    path = system.file("metro_svg", package = "gt"),
    file_pattern = "metro_{x}.svg"
  ) |&gt;
  fmt_image(
    columns = connect_rer,
    path = system.file("metro_svg", package = "gt"),
    file_pattern = "rer_{x}.svg"
  ) |&gt;
  cols_label(
    name = "Station",
    lines = "Lines",
    connect_rer = "RER"
  ) |&gt;
  cols_align(align = "left") |&gt;
  tab_style(
    style = cell_borders(
      sides = c("left", "right"),
      weight = px(1),
      color = "gray85"
    ),
    locations = cells_body(columns = lines)
  ) |&gt;
  opt_stylize(style = 6, color = "blue") |&gt;
  opt_all_caps() |&gt;
  opt_horizontal_padding(scale = 1.75)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_image_1.png" alt="This image of a table was generated from the first code example in the `fmt_image()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-23
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_index'>Format values to indexed characters</h2><span id='topic+fmt_index'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table we can transform those to index values,
usually based on letters. These characters can be derived from a specified
locale and they are intended for ordering (often leaving out characters with
diacritical marks).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_index(
  data,
  columns = everything(),
  rows = everything(),
  case = c("upper", "lower"),
  index_algo = c("repeat", "excel"),
  pattern = "{x}",
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_index_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_index_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_index_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_index_+3A_case">case</code></td>
<td>
<p><em>Use uppercase or lowercase letters</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[upper|lower]&#8288;</code> // <em>default:</em> <code>"upper"</code>
</p>
<p>Should the resulting index characters be rendered as uppercase (<code>"upper"</code>)
or lowercase (<code>"lower"</code>) letters? By default, this is set to <code>"upper"</code>.</p>
</td></tr>
<tr><td><code id="fmt_index_+3A_index_algo">index_algo</code></td>
<td>
<p><em>Indexing algorithm</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[repeat|excel]&#8288;</code> // <em>default:</em> <code>"repeat"</code>
</p>
<p>The indexing algorithm handles the recycling of the index character set. By
default, the <code>"repeat"</code> option is used where characters are doubled,
tripled, and so on, when moving past the character set limit. The
alternative is the <code>"excel"</code> option, where Excel-based column naming is
adapted and used here (e.g., <code style="white-space: pre;">&#8288;[..., Y, Z, AA, AB, ...]&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_index_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_index_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_index()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_index()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>case</code>
</p>
</li>
<li> <p><code>index_algo</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Examples</h3>

<p>Using a summarized version of the <code><a href="#topic+towny">towny</a></code> dataset, let's create a <strong>gt</strong>
table. Here, <code>fmt_index()</code> is used to transform incremental
integer values into capitalized letters (in the <code>ranking</code> column). With
<code><a href="#topic+cols_merge">cols_merge()</a></code> that formatted column of <code>"A"</code> to <code>"E"</code> values is merged with
the <code>census_div</code> column to create an indexed listing of census subdivisions,
here ordered by increasing total municipal population.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, csd_type, census_div, population_2021) |&gt;
  dplyr::group_by(census_div) |&gt;
  dplyr::summarize(
    population = sum(population_2021),
    .groups = "drop_last"
  ) |&gt;
  dplyr::slice_min(population, n = 5) |&gt;
  dplyr::mutate(ranking = dplyr::row_number(), .before = 0) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  fmt_index(columns = ranking, pattern = "{x}.") |&gt;
  cols_merge(columns = c(ranking, census_div)) |&gt;
  cols_align(align = "left", columns = ranking) |&gt;
  cols_label(
    ranking = md("Census  \nSubdivision"),
    population = md("Population  \nin 2021")
  ) |&gt;
  tab_header(title = md("The smallest  \ncensus subdivisions")) |&gt;
  tab_options(table.width = px(325))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_index_1.png" alt="This image of a table was generated from the first code example in the `fmt_index()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-10
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_index">vec_fmt_index()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_integer'>Format values as integers</h2><span id='topic+fmt_integer'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform number-based
formatting so that the targeted values are always rendered as integer values.
We can have fine control over integer formatting with the following options:
</p>

<ul>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> large-number suffixing: larger figures (thousands, millions, etc.) can
be autoscaled and decorated with the appropriate suffixes
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_integer(
  data,
  columns = everything(),
  rows = everything(),
  use_seps = TRUE,
  accounting = FALSE,
  scale_by = 1,
  suffixing = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  force_sign = FALSE,
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_integer_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied. This value will be
ignored if using any of the <code>suffixing</code> options (i.e., where <code>suffixing</code> is
not set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_suffixing">suffixing</code></td>
<td>
<p><em>Specification for large-number suffixing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>suffixing</code> option allows us to scale and apply suffixes to larger
numbers (e.g., <code>1924000</code> can be transformed to <code style="white-space: pre;">&#8288;2M&#8288;</code>). This option can
accept a logical value, where <code>FALSE</code> (the default) will not perform this
transformation and <code>TRUE</code> will apply thousands (<code>K</code>), millions (<code>M</code>),
billions (<code>B</code>), and trillions (<code>T</code>) suffixes after automatic value scaling.
</p>
<p>We can alternatively provide a character vector that serves as a
specification for which symbols are to used for each of the value ranges.
These preferred symbols will replace the defaults (e.g.,
<code>c("k", "Ml", "Bn", "Tr")</code> replaces <code>"K"</code>, <code>"M"</code>, <code>"B"</code>, and <code>"T"</code>).
</p>
<p>Including <code>NA</code> values in the vector will ensure that the particular range
will either not be included in the transformation (e.g.,
<code>c(NA, "M", "B", "T")</code> won't modify numbers at all in the thousands range)
or the range will inherit a previous suffix (e.g., with
<code>c("K", "M", NA, "T")</code>, all numbers in the range of millions and billions
will be in terms of millions).
</p>
<p>Any use of <code>suffixing</code> (where it is not set expressly as <code>FALSE</code>) means
that any value provided to <code>scale_by</code> will be ignored.
</p>
<p>If using <code>system = "ind"</code> then the default suffix set provided by
<code>suffixing = TRUE</code> will be the equivalent of <code>c(NA, "L", "Cr")</code>. This
doesn't apply suffixes to the thousands range, but does express values in
<em>lakhs</em> and <em>crores</em>.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_integer_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_integer()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of  <code>fmt_integer()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>accounting</code>
</p>
</li>
<li> <p><code>scale_by</code>
</p>
</li>
<li> <p><code>suffixing</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>force_sign</code>
</p>
</li>
<li> <p><code>system</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator marks will
be correct for the given locale. Should any value be provided in <code>sep_mark</code>,
it will be overridden by the locale's preferred value.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>For this example, we'll use two columns from the <code><a href="#topic+exibble">exibble</a></code> dataset and
create a simple <strong>gt</strong> table. With <code>fmt_integer()</code>, we'll format the <code>num</code>
column as integer values having no digit separators (with the
<code>use_seps = FALSE</code> option).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, char) |&gt;
  gt() |&gt;
  fmt_integer(use_seps = FALSE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_integer_1.png" alt="This image of a table was generated from the first code example in the `fmt_integer()` help file." style="width:100%;">

<p>Let's use a modified version of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a
<strong>gt</strong> table with row labels. We will format all numeric columns with
<code>fmt_integer()</code> and scale all values by <code>1 / 1E6</code>, giving us integer values
representing millions of people. We can make clear what the values represent
with an informative spanner label via <code><a href="#topic+tab_spanner">tab_spanner()</a></code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(country_code_3, year, population) |&gt;
  dplyr::filter(country_code_3 %in% c("CHN", "IND", "USA", "PAK", "IDN")) |&gt;
  dplyr::filter(year &gt; 1975 &amp; year %% 5 == 0) |&gt;
  tidyr::spread(year, population) |&gt;
  dplyr::arrange(desc(`2015`)) |&gt;
  gt(rowname_col = "country_code_3") |&gt;
  fmt_integer(scale_by = 1 / 1E6) |&gt;
  tab_spanner(label = "Millions of People", columns = everything())
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_integer_2.png" alt="This image of a table was generated from the second code example in the `fmt_integer()` help file." style="width:100%;">

<p>Using a subset of the <code><a href="#topic+towny">towny</a></code> dataset, we can do interesting things with
integer values. Through <code><a href="#topic+cols_add">cols_add()</a></code> we'll add the <code>difference</code> column (which
calculates the difference between 2021 and 2001 populations). All numeric
values will be formatted with a first pass of <code>fmt_integer()</code>; a second pass
of <code>fmt_integer()</code> focuses on the <code>difference</code> column and here we use the
<code>force_sign = TRUE</code> option to draw attention to positive and negative
difference values.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, population_2001, population_2021) |&gt;
  dplyr::slice_tail(n = 10) |&gt;
  gt() |&gt;
  cols_add(difference = population_2021 - population_2001) |&gt;
  fmt_integer() |&gt;
  fmt_integer(columns = difference, force_sign = TRUE) |&gt;
  cols_label_with(fn = function(x) gsub("population_", "", x)) |&gt;
  tab_style(
    style = cell_fill(color = "gray90"),
    locations = cells_body(columns = difference)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_integer_3.png" alt="This image of a table was generated from the third code example in the `fmt_integer()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.3.1</code> (August 9, 2021)
</p>


<h3>See Also</h3>

<p>Format number with decimal values: <code><a href="#topic+fmt_number">fmt_number()</a></code>
</p>
<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_integer">vec_fmt_integer()</a></code>
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_markdown'>Format Markdown text</h2><span id='topic+fmt_markdown'></span>

<h3>Description</h3>

<p>Any Markdown-formatted text in the incoming cells will be transformed to the
appropriate output type during render when using <code>fmt_markdown()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_markdown(
  data,
  columns = everything(),
  rows = everything(),
  md_engine = c("markdown", "commonmark")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_markdown_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_markdown_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_markdown_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_markdown_+3A_md_engine">md_engine</code></td>
<td>
<p><em>Choice of Markdown engine</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[markdown|commonmark]&#8288;</code> // <em>default:</em> <code>"markdown"</code>
</p>
<p>The engine preference for Markdown rendering. By default, this is set to
<code>"markdown"</code> where <strong>gt</strong> will use the <strong>markdown</strong> package for Markdown
conversion to HTML and LaTeX. The other option is <code>"commonmark"</code> and with
that the <strong>commonmark</strong> package will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with the <code>md_engine</code> argument of <code>fmt_markdown()</code>
to obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently.
</p>
<p>Please note that for this argument (<code>md_engine</code>), a <code><a href="#topic+from_column">from_column()</a></code> call
needs to reference a column that has data of the <code>character</code> type. Additional
columns for parameter values can be generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not
already present). Columns that contain parameter data can also be hidden from
final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
</p>


<h3>Examples</h3>

<p>Create a few Markdown-based text snippets.
</p>
<div class="sourceCode r"><pre>text_1a &lt;- "
### This is Markdown.

Markdown's syntax is comprised entirely of
punctuation characters, which punctuation
characters have been carefully chosen so as
to look like what they mean... assuming
you've ever used email.
"

text_1b &lt;- "
Info on Markdown syntax can be found
[here](https://daringfireball.net/projects/markdown/).
"

text_2a &lt;- "
The **gt** package has these datasets:

 - `countrypops`
 - `sza`
 - `gtcars`
 - `sp500`
 - `pizzaplace`
 - `exibble`
"

text_2b &lt;- "
There's a quick reference [here](https://commonmark.org/help/).
"
</pre></div>
<p>Arrange the text snippets as a tibble using <code>dplyr::tribble()</code>, then, create
a <strong>gt</strong> table and format all columns with <code>fmt_markdown()</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tribble(
  ~Markdown, ~md,
  text_1a,   text_2a,
  text_1b,   text_2b,
) |&gt;
  gt() |&gt;
  fmt_markdown(columns = everything()) |&gt;
  tab_options(table.width = px(400))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_markdown_1.png" alt="This image of a table was generated from the first code example in the `fmt_markdown()` help file." style="width:100%;">

<p><code>fmt_markdown()</code> can also handle LaTeX math formulas enclosed in
<code>"$..$"</code> (inline math) and also <code>"$$..$$"</code> (display math). The following
table has body cells that contain mathematical formulas in display mode
(i.e., the formulas are surrounded by <code>"$$"</code>). Further to this, math can be
used within <code><a href="#topic+md">md()</a></code> wherever there is the possibility to insert text into the
table (e.g., with <code><a href="#topic+cols_label">cols_label()</a></code>, <code><a href="#topic+tab_header">tab_header()</a></code>, etc.).
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  idx = 1:5,
  l_time_domain =
    c(
      "$$1$$",
      "$${{\\bf{e}}^{a\\,t}}$$",
      "$${t^n},\\,\\,\\,\\,\\,n = 1,2,3, \\ldots$$",
      "$${t^p}, p &gt; -1$$",
      "$$\\sqrt t$$"
    ),
  l_laplace_s_domain =
    c(
      "$$\\frac{1}{s}$$",
      "$$\\frac{1}{{s - a}}$$",
      "$$\\frac{{n!}}{{{s^{n + 1}}}}$$",
      "$$\\frac{{\\Gamma \\left( {p + 1} \\right)}}{{{s^{p + 1}}}}$$",
      "$$\\frac{{\\sqrt \\pi }}{{2{s^{\\frac{3}{2}}}}}$$"
    )
) |&gt;
  gt(rowname_col = "idx") |&gt;
  fmt_markdown() |&gt;
  cols_label(
    l_time_domain = md(
      "Time Domain&lt;br/&gt;$\\small{f\\left( t \\right) =
      {\\mathcal{L}^{\\,\\, - 1}}\\left\\{ {F\\left( s \\right)} \\right\\}}$"
    ),
    l_laplace_s_domain = md(
      "$s$ Domain&lt;br/&gt;$\\small{F\\left( s \\right) =
      \\mathcal{L}\\left\\{ {f\\left( t \\right)} \\right\\}}$"
    )
  ) |&gt;
  tab_header(
    title = md(
      "A (Small) Table of Laplace Transforms &amp;mdash; $\\small{{\\mathcal{L}}}$"
    ),
    subtitle = md(
      "Five commonly used Laplace transforms and formulas.&lt;br/&gt;&lt;br/&gt;"
    )
  ) |&gt;
  cols_align(align = "center") |&gt;
  opt_align_table_header(align = "left") |&gt;
  cols_width(
    idx ~ px(50),
    l_time_domain ~ px(300),
    l_laplace_s_domain ~ px(600)
  ) |&gt;
  opt_stylize(
    style = 2,
    color = "gray",
    add_row_striping = FALSE
  ) |&gt;
  opt_table_outline(style = "invisible") |&gt;
  tab_style(
    style = cell_fill(color = "gray95"),
    locations = cells_body(columns = l_time_domain)
  ) |&gt;
  tab_options(
    heading.title.font.size = px(32),
    heading.subtitle.font.size = px(18),
    heading.padding = px(0),
    footnotes.multiline = FALSE,
    column_labels.border.lr.style = "solid",
    column_labels.border.lr.width = px(1)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_markdown_2.png" alt="This image of a table was generated from the second code example in the `fmt_markdown()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-27
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_missing'>Format missing values (deprecated)</h2><span id='topic+fmt_missing'></span>

<h3>Description</h3>

<p>Format missing values (deprecated)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_missing(
  data,
  columns = everything(),
  rows = everything(),
  missing_text = "---"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_missing_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_missing_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_missing_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_missing_+3A_missing_text">missing_text</code></td>
<td>
<p>The text to be used in place of <code>NA</code> values in the
rendered table.</p>
</td></tr>
</table>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>

<hr>
<h2 id='fmt_number'>Format numeric values</h2><span id='topic+fmt_number'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform number-based
formatting so that the targeted values are rendered with a higher
consideration for tabular presentation. Furthermore, there is finer control
over numeric formatting with the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> large-number suffixing: larger figures (thousands, millions, etc.) can
be autoscaled and decorated with the appropriate suffixes
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_number(
  data,
  columns = everything(),
  rows = everything(),
  decimals = 2,
  n_sigfig = NULL,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  scale_by = 1,
  suffixing = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_number_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_n_sigfig">n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied. This value will be
ignored if using any of the <code>suffixing</code> options (i.e., where <code>suffixing</code> is
not set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_suffixing">suffixing</code></td>
<td>
<p><em>Specification for large-number suffixing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>suffixing</code> option allows us to scale and apply suffixes to larger
numbers (e.g., <code>1924000</code> can be transformed to <code style="white-space: pre;">&#8288;1.92M&#8288;</code>). This option can
accept a logical value, where <code>FALSE</code> (the default) will not perform this
transformation and <code>TRUE</code> will apply thousands (<code>"K"</code>), millions (<code>"M"</code>),
billions (<code>"B"</code>), and trillions (<code>"T"</code>) suffixes after automatic value
scaling.
</p>
<p>We can alternatively provide a character vector that serves as a
specification for which symbols are to used for each of the value ranges.
These preferred symbols will replace the defaults (e.g.,
<code>c("k", "Ml", "Bn", "Tr")</code> replaces <code>"K"</code>, <code>"M"</code>, <code>"B"</code>, and <code>"T"</code>).
</p>
<p>Including <code>NA</code> values in the vector will ensure that the particular range
will either not be included in the transformation (e.g.,
<code>c(NA, "M", "B", "T")</code> won't modify numbers at all in the thousands range)
or the range will inherit a previous suffix (e.g., with
<code>c("K", "M", NA, "T")</code>, all numbers in the range of millions and billions
will be in terms of millions).
</p>
<p>Any use of <code>suffixing</code> (where it is not set expressly as <code>FALSE</code>) means
that any value provided to <code>scale_by</code> will be ignored.
</p>
<p>If using <code>system = "ind"</code> then the default suffix set provided by
<code>suffixing = TRUE</code> will be the equivalent of <code>c(NA, "L", "Cr")</code>. This
doesn't apply suffixes to the thousands range, but does express values in
<em>lakhs</em> and <em>crores</em>.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_number_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_number()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_number()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>n_sigfig</code>
</p>
</li>
<li> <p><code>drop_trailing_zeros</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>accounting</code>
</p>
</li>
<li> <p><code>scale_by</code>
</p>
</li>
<li> <p><code>suffixing</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign</code>
</p>
</li>
<li> <p><code>system</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. With
<code>fmt_number()</code>, we'll format the <code>num</code> column to have three decimal
places (with <code>decimals = 3</code>) and omit the use of digit separators (with
<code>use_seps = FALSE</code>).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  fmt_number(
    columns = num,
    decimals = 3,
    use_seps = FALSE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_number_1.png" alt="This image of a table was generated from the first code example in the `fmt_number()` help file." style="width:100%;">

<p>Use a modified version of the <code><a href="#topic+countrypops">countrypops</a></code> dataset to create a <strong>gt</strong>
table with row labels. Format all columns to use large-number suffixing
(e.g., where <code>"10,000,000"</code> becomes <code>"10M"</code>) with the <code>suffixing = TRUE</code>
option.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(country_code_3, year, population) |&gt;
  dplyr::filter(country_code_3 %in% c("CHN", "IND", "USA", "PAK", "IDN")) |&gt;
  dplyr::filter(year &gt; 1975 &amp; year %% 5 == 0) |&gt;
  tidyr::spread(year, population) |&gt;
  dplyr::arrange(desc(`2015`)) |&gt;
  gt(rowname_col = "country_code_3") |&gt;
  fmt_number(suffixing = TRUE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_number_2.png" alt="This image of a table was generated from the second code example in the `fmt_number()` help file." style="width:100%;">

<p>In a variation of the previous table, we can combine large-number suffixing
with a declaration of the number of significant digits to use. With things
like population figures, <code>n_sigfig = 3</code> is a very good option.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::select(country_code_3, year, population) |&gt;
  dplyr::filter(country_code_3 %in% c("CHN", "IND", "USA", "PAK", "IDN")) |&gt;
  dplyr::filter(year &gt; 1975 &amp; year %% 5 == 0) |&gt;
  tidyr::spread(year, population) |&gt;
  dplyr::arrange(desc(`2015`)) |&gt;
  gt(rowname_col = "country_code_3") |&gt;
  fmt_number(suffixing = TRUE, n_sigfig = 3)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_number_3.png" alt="This image of a table was generated from the third code example in the `fmt_number()` help file." style="width:100%;">

<p>There can be cases where you want to show numbers to a large number of
decimal places but also drop the unnecessary trailing zeros for low-precision
values. Let's take a portion of the <code><a href="#topic+towny">towny</a></code> dataset and format the
<code>latitude</code> and <code>longitude</code> columns with <code>fmt_number()</code>. We'll have up to 5
digits displayed as decimal values, but we'll also unconditionally drop any
runs of trailing zeros in the decimal part with <code>drop_trailing_zeros = TRUE</code>.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, latitude, longitude) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  fmt_number(decimals = 5, drop_trailing_zeros = TRUE) |&gt;
  cols_merge(columns = -name, pattern = "{1}, {2}") |&gt;
  cols_label(
    name ~ "Municipality",
    latitude = "Location"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_number_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_number()` help file." style="width:100%;">

<p>Another strategy for dealing with precision of decimals is to have a separate
column of values that specify how many decimal digits to retain. Such a
column can be added via <code><a href="#topic+cols_add">cols_add()</a></code> or it can be part of the input table for
<code><a href="#topic+gt">gt()</a></code>. With that column available, it can be referenced in the <code>decimals</code>
argument with <code><a href="#topic+from_column">from_column()</a></code>. This approach yields a display of coordinate
values that reflects the measurement precision of each value.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, latitude, longitude) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  cols_add(dec_digits = c(1, 2, 2, 5, 5, 2, 3, 2, 3, 3)) |&gt;
  fmt_number(decimals = from_column(column = "dec_digits")) |&gt;
  cols_merge(columns = -name, pattern = "{1}, {2}") |&gt;
  cols_label(
    name ~ "Municipality",
    latitude = "Location"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_number_5.png" alt="This image of a table was generated from the fifth code example in the `fmt_number()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The integer-formatting function (format rounded values (i.e., no decimals shown and
input values are rounded as necessary): <code><a href="#topic+fmt_integer">fmt_integer()</a></code>.
</p>
<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_number">vec_fmt_number()</a></code>
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_partsper'>Format values as parts-per quantities</h2><span id='topic+fmt_partsper'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table we can format the values so that they
are rendered as <em>per mille</em>, <em>ppm</em>, <em>ppb</em>, etc., quantities. The following
list of keywords (with associated naming and scaling factors) is available to
use within <code>fmt_partsper()</code>:
</p>

<ul>
<li> <p><code>"per-mille"</code>: Per mille, (1 part in <code style="white-space: pre;">&#8288;1,000&#8288;</code>)
</p>
</li>
<li> <p><code>"per-myriad"</code>: Per myriad, (1 part in <code style="white-space: pre;">&#8288;10,000&#8288;</code>)
</p>
</li>
<li> <p><code>"pcm"</code>: Per cent mille (1 part in <code style="white-space: pre;">&#8288;100,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppm"</code>: Parts per million, (1 part in <code style="white-space: pre;">&#8288;1,000,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppb"</code>: Parts per billion, (1 part in <code style="white-space: pre;">&#8288;1,000,000,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppt"</code>: Parts per trillion, (1 part in <code style="white-space: pre;">&#8288;1,000,000,000,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppq"</code>: Parts per quadrillion, (1 part in <code style="white-space: pre;">&#8288;1,000,000,000,000,000&#8288;</code>)
</p>
</li></ul>

<p>The function provides a lot of formatting control and we can use the
following options:
</p>

<ul>
<li><p> custom symbol/units: we can override the automatic symbol or units display
with our own choice as the situation warrants
</p>
</li>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> value scaling toggle: choose to disable automatic value scaling in the
situation that values are already scaled coming in (and just require the
appropriate symbol or unit display)
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_partsper(
  data,
  columns = everything(),
  rows = everything(),
  to_units = c("per-mille", "per-myriad", "pcm", "ppm", "ppb", "ppt", "ppq"),
  symbol = "auto",
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_values = TRUE,
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = "auto",
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_partsper_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_to_units">to_units</code></td>
<td>
<p><em>Output Quantity</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[per-mille|per-myriad|pcm|ppm|ppb|ppt|ppq]&#8288;</code> // <em>default:</em> <code>"per-mille"</code>
</p>
<p>A keyword that signifies the desired output quantity. This can be any from
the following set: <code>"per-mille"</code>, <code>"per-myriad"</code>, <code>"pcm"</code>, <code>"ppm"</code>,
<code>"ppb"</code>, <code>"ppt"</code>, or <code>"ppq"</code>.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_symbol">symbol</code></td>
<td>
<p><em>Symbol or units to use in output display</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The symbol/units to use for the quantity. By default, this is set to
<code>"auto"</code> and <strong>gt</strong> will choose the appropriate symbol based on the
<code>to_units</code> keyword and the output context. However, this can be changed by
supplying a string (e.g, using <code>symbol = "ppbV"</code> when <code>to_units = "ppb"</code>).</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_scale_values">scale_values</code></td>
<td>
<p><em>Scale input values accordingly</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the values be scaled through multiplication according to the keyword
set in <code>to_units</code>? By default this is <code>TRUE</code> since the expectation is that
normally values are proportions. Setting to <code>FALSE</code> signifies that the
values are already scaled and require only the appropriate symbol/units
when formatted.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the symbol/units</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>An option for whether to include a space between the value and the
symbol/units. The default is <code>"auto"</code> which provides spacing dependent on
the mark itself. This can be directly controlled by using either <code>TRUE</code> or
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_partsper_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_partsper()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_partsper()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>to_units</code>
</p>
</li>
<li> <p><code>symbol</code>
</p>
</li>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>drop_trailing_zeros</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>scale_values</code>
</p>
</li>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign</code>
</p>
</li>
<li> <p><code>incl_space</code>
</p>
</li>
<li> <p><code>system</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Create a tibble of small numeric values and generate a <strong>gt</strong> table. Format
the <code>a</code> column to appear in scientific notation with <code><a href="#topic+fmt_scientific">fmt_scientific()</a></code> and
format the <code>b</code> column as <em>per mille</em> values with <code>fmt_partsper()</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(x = 0:-5, a = 10^(0:-5), b = a) |&gt;
  gt(rowname_col = "x") |&gt;
  fmt_scientific(a, decimals = 0) |&gt;
  fmt_partsper(
    columns = b,
    to_units = "per-mille"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_partsper_1.png" alt="This image of a table was generated from the first code example in the `fmt_partsper()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.6.0</code> (May 24, 2022)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_passthrough'>Format by simply passing data through</h2><span id='topic+fmt_passthrough'></span>

<h3>Description</h3>

<p>We can format values with <code>fmt_passthrough()</code>, which does little
more than: (1) coercing to <code>character</code> (as all the <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code> functions do),
and (2) applying decorator text via the <code>pattern</code> argument (the default is to
apply nothing). This formatting function is useful when don't want to modify
the input data other than to decorate it within a pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_passthrough(
  data,
  columns = everything(),
  rows = everything(),
  escape = TRUE,
  pattern = "{x}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_passthrough_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_passthrough_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_passthrough_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_passthrough_+3A_escape">escape</code></td>
<td>
<p><em>Text escaping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to escape text according to the final output format of the table.
For example, if a LaTeX table is to be generated then LaTeX escaping would
be performed during rendering. By default this is set to <code>TRUE</code> but setting
as <code>FALSE</code> would be useful in the case where text is crafted for a specific
output format in mind.</p>
</td></tr>
<tr><td><code id="fmt_passthrough_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_passthrough()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>escape</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li></ul>

<p>Please note that for both of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a single-column <strong>gt</strong> table
(with only the <code>char</code> column). Now we can pass the data in that column
through the 'non-formatter' that is <code>fmt_passthrough()</code>. While the the
function doesn't do any explicit formatting it has a feature common to all
other formatting functions: the <code>pattern</code> argument. So that's what we'll use
in this example, applying a simple pattern to the non-<code>NA</code> values that adds
an <code>"s"</code> character.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(char) |&gt;
  gt() |&gt;
  fmt_passthrough(
    rows = !is.na(char),
    pattern = "{x}s"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_passthrough_1.png" alt="This image of a table was generated from the first code example in the `fmt_passthrough()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-28
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_percent'>Format values as a percentage</h2><span id='topic+fmt_percent'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform percentage-based
formatting. It is assumed the input numeric values are proportional values
and, in this case, the values will be automatically multiplied by <code>100</code>
before decorating with a percent sign (the other case is accommodated through
setting <code>scale_values = FALSE</code>). For more control over percentage
formatting, we can use the following options:
</p>

<ul>
<li><p> percent sign placement: the percent sign can be placed after or
before the values and a space can be inserted between the symbol and the
value.
</p>
</li>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> value scaling toggle: choose to disable automatic value scaling in the
situation that values are already scaled coming in (and just require the
percent symbol)
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_percent(
  data,
  columns = everything(),
  rows = everything(),
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_values = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  placement = "right",
  incl_space = FALSE,
  system = c("intl", "ind"),
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_percent_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_scale_values">scale_values</code></td>
<td>
<p><em>Multiply input values by 100</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the values be scaled through multiplication by 100? By default this
scaling is performed since the expectation is that incoming values are
usually proportional. Setting to <code>FALSE</code> signifies that the values are
already scaled and require only the percent sign when formatted.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_placement">placement</code></td>
<td>
<p><em>Percent sign placement</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[right|left]&#8288;</code> // <em>default:</em> <code>"right"</code>
</p>
<p>This option governs the placement of the percent sign. This can be either
be <code>"right"</code> (the default) or <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the % sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option for whether to include a space between the value and the percent
sign. The default is to not introduce a space character.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_system">system</code></td>
<td>
<p><em>Numbering system for grouping separators</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[intl|ind]&#8288;</code> // <em>default:</em> <code>"intl"</code>
</p>
<p>The international numbering system (keyword: <code>"intl"</code>) is widely used and
its grouping separators (i.e., <code>sep_mark</code>) are always separated by three
digits. The alternative system, the Indian numbering system (keyword:
<code>"ind"</code>), uses grouping separators that correspond to thousand, lakh,
crore, and higher quantities.</p>
</td></tr>
<tr><td><code id="fmt_percent_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_percent()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_percent()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>drop_trailing_zeros</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>scale_values</code>
</p>
</li>
<li> <p><code>use_seps</code>
</p>
</li>
<li> <p><code>accounting</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign</code>
</p>
</li>
<li> <p><code>incl_space</code>
</p>
</li>
<li> <p><code>placement</code>
</p>
</li>
<li> <p><code>system</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call<code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Use a summarized version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset to create a <strong>gt</strong>
table. With <code>fmt_percent()</code>, we can format the <code>frac_of_quota</code> column to
display values as percentages (to one decimal place).
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::mutate(month = as.numeric(substr(date, 6, 7))) |&gt;
  dplyr::group_by(month) |&gt;
  dplyr::summarize(pizzas_sold = dplyr::n()) |&gt;
  dplyr::ungroup() |&gt;
  dplyr::mutate(frac_of_quota = pizzas_sold / 4000) |&gt;
  gt(rowname_col = "month") |&gt;
  fmt_percent(
    columns = frac_of_quota,
    decimals = 1
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_percent_1.png" alt="This image of a table was generated from the first code example in the `fmt_percent()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_percent">vec_fmt_percent()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_roman'>Format values as Roman numerals</h2><span id='topic+fmt_roman'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table we can transform those to Roman
numerals, rounding values as necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_roman(
  data,
  columns = everything(),
  rows = everything(),
  case = c("upper", "lower"),
  pattern = "{x}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_roman_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_roman_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_roman_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_roman_+3A_case">case</code></td>
<td>
<p><em>Use uppercase or lowercase letters</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[upper|lower]&#8288;</code> // <em>default:</em> <code>"upper"</code>
</p>
<p>Should Roman numerals should be rendered as uppercase (<code>"upper"</code>) or
lowercase (<code>"lower"</code>) letters? By default, this is set to <code>"upper"</code>.</p>
</td></tr>
<tr><td><code id="fmt_roman_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_roman()</code> is compatible with body cells that are of the <code>"numeric"</code> or
<code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_roman()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>case</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li></ul>

<p>Please note that for both of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Examples</h3>

<p>Create a tibble of small numeric values and generate a <strong>gt</strong> table. Format
the <code>roman</code> column to appear as Roman numerals with <code>fmt_roman()</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(arabic = c(1, 8, 24, 85), roman = arabic) |&gt;
  gt(rowname_col = "arabic") |&gt;
  fmt_roman(columns = roman)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_roman_1.png" alt="This image of a table was generated from the first code example in the `fmt_roman()` help file." style="width:100%;">

<p>Formatting values to Roman numerals can be very useful when combining such
output with row labels (usually through <code><a href="#topic+cols_merge">cols_merge()</a></code>). Here's an example
where we take a portion of the <code><a href="#topic+illness">illness</a></code> dataset and generate some row
labels that combine (1) a row number (in lowercase Roman numerals), (2) the
name of the test, and (3) the measurement units for the test (nicely
formatted by way of <code><a href="#topic+fmt_units">fmt_units()</a></code>):
</p>
<div class="sourceCode r"><pre>illness |&gt;
  dplyr::slice_head(n = 6) |&gt;
  gt(rowname_col = "test") |&gt;
  fmt_units(columns = units) |&gt;
  cols_hide(columns = starts_with("day")) |&gt;
  sub_missing(missing_text = "") |&gt;
  cols_merge_range(col_begin = norm_l, col_end = norm_u) |&gt;
  cols_add(i = 1:6) |&gt;
  fmt_roman(columns = i, case = "lower", pattern = "{x}.") |&gt;
  cols_merge(columns = c(test, i, units), pattern = "{2} {1} ({3})") |&gt;
  cols_label(norm_l = "Normal Range") |&gt;
  tab_stubhead(label = "Test")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_roman_2.png" alt="This image of a table was generated from the second code example in the `fmt_roman()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_roman">vec_fmt_roman()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_scientific'>Format values to scientific notation</h2><span id='topic+fmt_scientific'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table, we can perform formatting so that the
targeted values are rendered in scientific notation, where extremely large or
very small numbers can be expressed in a more practical fashion. Here,
numbers are written in the form of a mantissa (<code>m</code>) and an exponent (<code>n</code>)
with the construction <em>m</em> x 10^<em>n</em> or <em>m</em>E<em>n</em>. The mantissa component is a
number between <code>1</code> and <code>10</code>. For instance, <code style="white-space: pre;">&#8288;2.5 x 10^9&#8288;</code> can be used to
represent the value 2,500,000,000 in scientific notation. In a similar way,
0.00000012 can be expressed as <code style="white-space: pre;">&#8288;1.2 x 10^-7&#8288;</code>. Due to its ability to describe
numbers more succinctly and its ease of calculation, scientific notation is
widely employed in scientific and technical domains.
</p>
<p>We have fine control over the formatting task, with the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fmt_scientific(
  data,
  columns = everything(),
  rows = everything(),
  decimals = 2,
  n_sigfig = NULL,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_by = 1,
  exp_style = "x10n",
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign_m = FALSE,
  force_sign_n = FALSE,
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_scientific_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_n_sigfig">n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_exp_style">exp_style</code></td>
<td>
<p><em>Style declaration for exponent formatting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"x10n"</code>
</p>
<p>Style of formatting to use for the scientific notation formatting. By
default this is <code>"x10n"</code> but other options include using a single letter
(e.g., <code>"e"</code>, <code>"E"</code>, etc.), a letter followed by a <code>"1"</code> to signal a
minimum digit width of one, or <code>"low-ten"</code> for using a stylized <code>"10"</code>
marker.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_force_sign_m">force_sign_m</code>, <code id="fmt_scientific_+3A_force_sign_n">force_sign_n</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the plus sign be shown for positive values of the mantissa (first
component, <code>force_sign_m</code>) or the exponent (<code>force_sign_n</code>)? This would
effectively show a sign for all values except zero on either of those
numeric components of the notation. If so, use <code>TRUE</code> for either one of
these options. The default for both is <code>FALSE</code>, where only negative numbers
will display a sign.</p>
</td></tr>
<tr><td><code id="fmt_scientific_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_scientific()</code> is compatible with body cells that are of the <code>"numeric"</code>
or <code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_scientific()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>decimals</code>
</p>
</li>
<li> <p><code>drop_trailing_zeros</code>
</p>
</li>
<li> <p><code>drop_trailing_dec_mark</code>
</p>
</li>
<li> <p><code>scale_by</code>
</p>
</li>
<li> <p><code>exp_style</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>sep_mark</code>
</p>
</li>
<li> <p><code>dec_mark</code>
</p>
</li>
<li> <p><code>force_sign_m</code>
</p>
</li>
<li> <p><code>force_sign_n</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). The use of a valid locale ID here means separator and
decimal marks will be correct for the given locale. Should any values be
provided in <code>sep_mark</code> or <code>dec_mark</code>, they will be overridden by the locale's
preferred values.
</p>
<p>Note that a <code>locale</code> value provided here will override any global locale
setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is settable there as
a value received by all other functions that have a <code>locale</code> argument). As a
useful reference on which locales are supported, we can call <code><a href="#topic+info_locales">info_locales()</a></code>
to view an info table.
</p>


<h3>Examples</h3>

<p>Let's define a data frame that contains two columns of values (one <code>small</code>
and one <code>large</code>). After creating a simple <strong>gt</strong> table from <code>small_large_tbl</code>
we'll call <code>fmt_scientific()</code> on both columns.
</p>
<div class="sourceCode r"><pre>small_large_tbl &lt;-
  dplyr::tibble(
    small = 10^(-12:-1),
    large = 10^(1:12)
  )

small_large_tbl |&gt;
  gt() |&gt;
  fmt_scientific()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_scientific_1.png" alt="This image of a table was generated from the first code example in the `fmt_scientific()` help file." style="width:100%;">

<p>The default method of styling the notation uses the '<em>m</em> x 10^<em>n</em>'
construction but this can be changed to a '<em>m</em>E<em>n</em>' style via the <code>exp_style</code>
argument. We can supply any single letter here and optionally affix a <code>"1"</code>
to indicate there should not be any zero-padding of the <em>n</em> value. Two calls
of <code>fmt_scientific()</code> are used here to show different options for styling
in scientific notation.
</p>
<div class="sourceCode r"><pre>small_large_tbl |&gt;
  gt() |&gt;
  fmt_scientific(
    columns = small,
    exp_style = "E"
  ) |&gt;
  fmt_scientific(
    columns = large,
    exp_style = "e1",
    force_sign_n = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_scientific_2.png" alt="This image of a table was generated from the second code example in the `fmt_scientific()` help file." style="width:100%;">

<p>Taking a portion of the <code><a href="#topic+reactions">reactions</a></code> dataset, we can create a <strong>gt</strong> table
that contains reaction rate constants that should be expressed in scientific
notation. All of the numeric values in the filtered table require that
type of formatting so <code>fmt_scientific()</code> can be called without requiring any
specification of column names in the <code>columns</code> argument. By default, the
number of decimal places is fixed to <code>2</code>, which is fine for this table.
</p>
<div class="sourceCode r"><pre>reactions |&gt;
  dplyr::filter(cmpd_type == "mercaptan") |&gt;
  dplyr::select(cmpd_name, cmpd_formula, OH_k298, Cl_k298, NO3_k298) |&gt;
  gt(rowname_col = "cmpd_name") |&gt;
  tab_header(title = "Gas-phase reactions of selected mercaptan compounds") |&gt;
  tab_spanner(
    label = md("Reaction Rate Constant (298 K),&lt;br&gt;{{cm^3 molecules^-1 s^-1}}"),
    columns = ends_with("k298")
  ) |&gt;
  fmt_chem(columns = cmpd_formula) |&gt;
  fmt_scientific() |&gt;
  sub_missing() |&gt;
  cols_label(
    cmpd_formula = "",
    OH_k298 = "OH",
    NO3_k298 = "{{%NO3%}}",
    Cl_k298 = "Cl"
  ) |&gt;
  opt_stylize() |&gt;
  opt_horizontal_padding(scale = 3) |&gt;
  opt_table_font(font = google_font("IBM Plex Sans")) |&gt;
  tab_options(stub.font.weight = "500")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_scientific_3.png" alt="This image of a table was generated from the third code example in the `fmt_scientific()` help file." style="width:100%;">

<p>The <code><a href="#topic+constants">constants</a></code> table contains a plethora of data on the fundamental
physical constants and values range from very small to very large, warranting
the use of figures in scientific notation. Because the values differ in the
degree of measurement precision, the dataset has columns (<code>sf_value</code> and
<code>sf_uncert</code>) that include the number of significant figures for each
measurement value and for the associated uncertainty. We can use the
<code>n_sigfig</code> argument of <code>fmt_scientific()</code> in conjunction with the
<code><a href="#topic+from_column">from_column()</a></code> helper to format each value and its uncertainty to the proper
number of significant digits.
</p>
<div class="sourceCode r"><pre>constants |&gt;
  dplyr::filter(grepl("Planck", name)) |&gt;
  gt() |&gt;
  fmt_scientific(
    columns = value,
    n_sigfig = from_column(column = "sf_value")
  ) |&gt;
  fmt_scientific(
    columns = uncert,
    n_sigfig = from_column(column = "sf_uncert")
  ) |&gt;
  cols_hide(columns = starts_with("sf")) |&gt;
  fmt_units(columns = units) |&gt;
  sub_missing(missing_text = "")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_scientific_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_scientific()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_spelled_num'>Format values to spelled-out numbers</h2><span id='topic+fmt_spelled_num'></span>

<h3>Description</h3>

<p>With numeric values in a <strong>gt</strong> table we can transform those to numbers that
are spelled out with <code>fmt_spelled_num()</code>. Any values from <code>0</code> to <code>100</code> can be
spelled out so, for example, the value <code>23</code> will be formatted as <code>"twenty-three"</code>.
Providing a locale ID will result in the number spelled out in the locale's
language rules. For example, should a Swedish locale (<code>"sv"</code>) be provided,
the value <code>23</code> will yield <code>"tjugotre"</code>. In addition to this, we can
optionally use the <code>pattern</code> argument for decoration of the formatted values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_spelled_num(
  data,
  columns = everything(),
  rows = everything(),
  pattern = "{x}",
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_spelled_num_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_spelled_num_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_spelled_num_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_spelled_num_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_spelled_num_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_spelled_num()</code> is compatible with body cells that are of the <code>"numeric"</code>
or <code>"integer"</code> types. Any other types of body cells are ignored during
formatting. This is to say that cells of incompatible data types may be
targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_spelled_num()</code> to
obtain varying parameter values from a specified column within the table.
This means that each row could be formatted a little bit differently. These
arguments provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for both of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Supported locales</h3>

<p>The following 80 locales are supported in the <code>locale</code> argument of
<code>fmt_spelled_num()</code>: <code>"af"</code> (Afrikaans), <code>"ak"</code> (Akan), <code>"am"</code> (Amharic),
<code>"ar"</code> (Arabic), <code>"az"</code> (Azerbaijani), <code>"be"</code> (Belarusian), <code>"bg"</code>
(Bulgarian), <code>"bs"</code> (Bosnian), <code>"ca"</code> (Catalan), <code>"ccp"</code> (Chakma), <code>"chr"</code>
(Cherokee), <code>"cs"</code> (Czech), <code>"cy"</code> (Welsh), <code>"da"</code> (Danish), <code>"de"</code> (German),
<code>"de-CH"</code> (German (Switzerland)), <code>"ee"</code> (Ewe), <code>"el"</code> (Greek), <code>"en"</code>
(English), <code>"eo"</code> (Esperanto), <code>"es"</code> (Spanish), <code>"et"</code> (Estonian), <code>"fa"</code>
(Persian), <code>"ff"</code> (Fulah), <code>"fi"</code> (Finnish), <code>"fil"</code> (Filipino), <code>"fo"</code>
(Faroese), <code>"fr"</code> (French), <code>"fr-BE"</code> (French (Belgium)), <code>"fr-CH"</code> (French
(Switzerland)), <code>"ga"</code> (Irish), <code>"he"</code> (Hebrew), <code>"hi"</code> (Hindi), <code>"hr"</code>
(Croatian), <code>"hu"</code> (Hungarian), <code>"hy"</code> (Armenian), <code>"id"</code> (Indonesian),
<code>"is"</code> (Icelandic), <code>"it"</code> (Italian), <code>"ja"</code> (Japanese), <code>"ka"</code> (Georgian),
<code>"kk"</code> (Kazakh), <code>"kl"</code> (Kalaallisut), <code>"km"</code> (Khmer), <code>"ko"</code> (Korean),
<code>"ky"</code> (Kyrgyz), <code>"lb"</code> (Luxembourgish), <code>"lo"</code> (Lao), <code>"lrc"</code> (Northern
Luri), <code>"lt"</code> (Lithuanian), <code>"lv"</code> (Latvian), <code>"mk"</code> (Macedonian), <code>"ms"</code>
(Malay), <code>"mt"</code> (Maltese), <code>"my"</code> (Burmese), <code>"ne"</code> (Nepali), <code>"nl"</code> (Dutch),
<code>"nn"</code> (Norwegian Nynorsk), <code>"no"</code> (Norwegian), <code>"pl"</code> (Polish), <code>"pt"</code>
(Portuguese), <code>"qu"</code> (Quechua), <code>"ro"</code> (Romanian), <code>"ru"</code> (Russian), <code>"se"</code>
(Northern Sami), <code>"sk"</code> (Slovak), <code>"sl"</code> (Slovenian), <code>"sq"</code> (Albanian),
<code>"sr"</code> (Serbian), <code>"sr-Latn"</code> (Serbian (Latin)), <code>"su"</code> (Sundanese), <code>"sv"</code>
(Swedish), <code>"sw"</code> (Swahili), <code>"ta"</code> (Tamil), <code>"th"</code> (Thai), <code>"tr"</code> (Turkish),
<code>"uk"</code> (Ukrainian), <code>"vi"</code> (Vietnamese), <code>"yue"</code> (Cantonese), and <code>"zh"</code>
(Chinese).
</p>


<h3>Examples</h3>

<p>Let's use a summarized version of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a
<strong>gt</strong> table. <code>fmt_spelled_num()</code> is used to transform
integer values into spelled-out numbering (in the <code>n</code> column). That formatted
column of numbers-as-words is given cell background colors via <code><a href="#topic+data_color">data_color()</a></code>
(the underlying numerical values are always available).
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::count(mfr, ctry_origin) |&gt;
  dplyr::arrange(ctry_origin) |&gt;
  gt(rowname_col = "mfr", groupname_col = "ctry_origin") |&gt;
  cols_label(n = "No. of Entries") |&gt;
  fmt_spelled_num() |&gt;
  tab_stub_indent(rows = everything(), indent = 2) |&gt;
  data_color(
    columns = n,
    method = "numeric",
    palette = "viridis",
    alpha = 0.8
  ) |&gt;
  opt_all_caps() |&gt;
  opt_vertical_padding(scale = 0.5) |&gt;
  cols_align(align = "center", columns = n)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_spelled_num_1.png" alt="This image of a table was generated from the first code example in the `fmt_spelled_num()` help file." style="width:100%;">

<p>With a considerable amount of <strong>dplyr</strong> and <strong>tidyr</strong> work done to the
<code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset, we can create a new <strong>gt</strong> table. <code>fmt_spelled_num()</code>
will be used here to transform the integer values in the <code>rank</code> column.
We'll do so with a special <code>pattern</code> that puts the word 'Number' in front of
every spelled-out number.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::mutate(month = lubridate::month(date, label = TRUE)) |&gt;
  dplyr::filter(month %in% month.abb[1:6]) |&gt;
  dplyr::group_by(name, month) |&gt;
  dplyr::summarize(sum = sum(price), .groups = "drop") |&gt;
  dplyr::arrange(month, desc(sum)) |&gt;
  dplyr::group_by(month) |&gt;
  dplyr::slice_head(n = 5) |&gt;
  dplyr::mutate(rank = dplyr::row_number()) |&gt;
  dplyr::ungroup() |&gt;
  dplyr::select(-sum) |&gt;
  tidyr::pivot_wider(names_from = month, values_from = c(name)) |&gt;
  gt() |&gt;
  fmt_spelled_num(columns = rank, pattern = "Number {x}") |&gt;
  opt_all_caps() |&gt;
  cols_align(columns = -rank, align = "center") |&gt;
  cols_width(
    rank ~ px(120),
    everything() ~ px(100)
  ) |&gt;
  opt_table_font(stack = "rounded-sans") |&gt;
  tab_options(table.font.size = px(14))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_spelled_num_2.png" alt="This image of a table was generated from the second code example in the `fmt_spelled_num()` help file." style="width:100%;">

<p>Let's make a table that compares how the numbers from <code>1</code> to <code>10</code> are spelled
across a small selection of languages. Here we use <code>fmt_spelled_num()</code> with
each column, ensuring that the <code>locale</code> value matches that of the column
name.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  num = 1:10,
  en = num,
  fr = num,
  de = num,
  es = num,
  pl = num,
  bg = num,
  ko = num,
  zh = num
) |&gt;
  gt(rowname_col = "num") |&gt;
  fmt_spelled_num(columns = en, locale = "en") |&gt;
  fmt_spelled_num(columns = fr, locale = "fr") |&gt;
  fmt_spelled_num(columns = de, locale = "de") |&gt;
  fmt_spelled_num(columns = es, locale = "es") |&gt;
  fmt_spelled_num(columns = pl, locale = "pl") |&gt;
  fmt_spelled_num(columns = bg, locale = "bg") |&gt;
  fmt_spelled_num(columns = ko, locale = "ko") |&gt;
  fmt_spelled_num(columns = zh, locale = "zh") |&gt;
  cols_label_with(fn = function(x) md(paste0("`", x, "`"))) |&gt;
  tab_spanner(
    label = "Numbers in the specified locale",
    columns = everything()
  ) |&gt;
  cols_align(align = "left", columns = everything()) |&gt;
  cols_width(
    c(en, fr, de, es, pl, bg) ~ px(100),
    c(ko, zh) ~ px(50)
  ) |&gt;
  opt_horizontal_padding(scale = 2) |&gt;
  opt_vertical_padding(scale = 0.5)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_spelled_num_3.png" alt="This image of a table was generated from the third code example in the `fmt_spelled_num()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-11
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function:
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_tf'>Format <code>TRUE</code> and <code>FALSE</code> values</h2><span id='topic+fmt_tf'></span>

<h3>Description</h3>

<p>There can be times where logical values are useful in a <strong>gt</strong> table. You
might want to express a 'yes' or 'no', a 'true' or 'false', or, perhaps use
pairings of complementary symbols that make sense in a table. The <code>fmt_tf()</code>
function has a set of <code>tf_style</code> presets that can be used to quickly map
<code>TRUE</code>/<code>FALSE</code> values to strings (which are automatically translated
according to a given <code>locale</code> value), or, symbols like up/down or left/right
arrows and open/closed shapes.
</p>
<p>While the presets are nice, you can provide your own mappings through the
<code>true_val</code> and <code>false_val</code> arguments. With those you could provide text
(perhaps a Unicode symbol?) or even a <strong>fontawesome</strong> icon by using
<code>fontawesome::fa("&lt;icon name&gt;")</code>. The function will automatically handle
alignment when <code>auto_align = TRUE</code> and try to give you the best look
depending on the options chosen. For extra customization, you can also apply
color to the individual <code>TRUE</code>, <code>FALSE</code>, and <code>NA</code> mappings. Just supply
a vector of colors (up to a length of 3) to the <code>colors</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_tf(
  data,
  columns = everything(),
  rows = everything(),
  tf_style = "true-false",
  pattern = "{x}",
  true_val = NULL,
  false_val = NULL,
  na_val = NULL,
  colors = NULL,
  auto_align = TRUE,
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_tf_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_tf_style">tf_style</code></td>
<td>
<p><em>Predefined style for <code>TRUE</code>/<code>FALSE</code> formatting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=10)&#8288;</code> // <em>default:</em> <code>"true-false"</code>
</p>
<p>The <code>TRUE</code>/<code>FALSE</code> mapping style to use. By default this is the short name
<code>"true-false"</code> which corresponds to the words 'true' and 'false'. Two other
<code>tf_style</code> values produce words: <code>"yes-no"</code> and <code>"up-down"</code>. All three of
these options for <code>tf_style</code> are locale-aware through the <code>locale</code> option,
so, a <code>"yes"</code> value will instead be <code>"ja"</code> when <code>locale = "de"</code>. Options
4 through to 10 involve pairs of symbols (e.g., <code>"check-mark"</code> displays
a check mark for <code>TRUE</code> and an X symbol for <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_true_val">true_val</code></td>
<td>
<p><em>Text to use for <code>TRUE</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>While the choice of a <code>tf_style</code> will typically supply the <code>true_val</code> and
<code>false_val</code> text, we could override this and supply text for any <code>TRUE</code>
values.  This doesn't need to be used in conjunction with <code>false_val</code>.</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_false_val">false_val</code></td>
<td>
<p><em>Text to use for <code>FALSE</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>While the choice of a <code>tf_style</code> will typically supply the <code>true_val</code> and
<code>false_val</code> text, we could override this and supply text for any <code>FALSE</code>
values. This doesn't need to be used in conjunction with <code>true_val</code>.</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_na_val">na_val</code></td>
<td>
<p><em>Text to use for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>None of the <code>tf_style</code> presets will replace any missing values encountered
in the targeted cells. While we always have the option to use
<code><a href="#topic+sub_missing">sub_missing()</a></code> for <code>NA</code> replacement, we have the opportunity to do that
here with the <code>na_val</code> option. This is useful because we also have the
means to add color to the <code>na_val</code> text or symbol and doing that requires
that a replacement value for <code>NA</code>s is specified here.</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_colors">colors</code></td>
<td>
<p><em>Colors to use for the resulting strings or symbols</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Providing a vector of color values to <code>colors</code> will progressively add color
to the formatted result depending on the number of colors provided. With a
single color, all formatted values will be in that color. Giving two colors
results in <code>TRUE</code> values being the first color, and <code>FALSE</code> values
receiving the second. With the three color option, the final color will be
given to any <code>NA</code> values replaced through <code>na_val</code>.</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_auto_align">auto_align</code></td>
<td>
<p><em>Automatic alignment of the formatted column</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>The input values may have resulted in an alignment that is not as suitable
once formatting has occurred. With <code>auto_align = TRUE</code>, the formatted
values will be inspected and this may result in a favorable change in
alignment. Typically, symbols will be center aligned whereas words will
receive a left alignment (for words in LTR languages).</p>
</td></tr>
<tr><td><code id="fmt_tf_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_tf()</code> is compatible with body cells that are of the <code>"logical"</code>
(preferred) or <code>"numeric"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>
<p>There is a special caveat when attempting to format numerical values: the
values must either be exactly <code>1</code> (the analogue for <code>TRUE</code>) or exactly <code>0</code>
(the analogue for <code>FALSE</code>). Any other numerical values will be disregarded
and left as is. Because of these restrictions, it is recommended that only
logical values undergo formatting.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_tf()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>tf_style</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>true_val</code>
</p>
</li>
<li> <p><code>false_val</code>
</p>
</li>
<li> <p><code>na_val</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Formatting with the <code>tf_style</code> argument</h3>

<p>We can supply a preset <code>TRUE</code>/<code>FALSE</code> style to the <code>tf_style</code> argument to
handle the formatting of logical values. There are several such styles and
the first three of them can handle localization to any supported locale
(i.e., the pairs of words for each style will be translated to the language
of the <code>locale</code>) value.
</p>
<p>The following table provides a listing of all valid <code>tf_style</code> values and a
description of their output values. The output from styles <code>4</code> to <code>10</code> are
described in terms of the Unicode character names used for the <code>TRUE</code> and
<code>FALSE</code> values.</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> TF Style </td><td style="text-align: left;"> Output (for <code>TRUE</code> and <code>FALSE</code>) </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"true-false"</code> </td><td style="text-align: left;"> <code>"true"</code>, <code>"false"</code> (<code>locale</code>-aware) </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"yes-no"</code> </td><td style="text-align: left;"> <code>"yes"</code>, <code>"no"</code> (<code>locale</code>-aware) </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"up-down"</code> </td><td style="text-align: left;"> <code>"up"</code>, <code>"down"</code> (<code>locale</code>-aware) </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"check-mark"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Heavy Check Mark&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;Heavy Ballot X&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"circles"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Black Circle&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;Heavy Circle&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"squares"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Black Square&gt;&#8288;</code>,  <code style="white-space: pre;">&#8288;&lt;White Square&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"diamonds"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Black Diamond&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;White Diamond&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"arrows"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Upwards Arrow&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;Downwards Arrow&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"triangles"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Black Up-Pointing Triangle&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;Black Down-Pointing Triangle&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"triangles-lr"</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;&lt;Heavy Check Mark&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;Heavy Ballot X&gt;&#8288;</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). Note that a <code>locale</code> value provided here will override any
global locale setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is
settable there as a value received by all other functions that have a
<code>locale</code> argument). As a useful reference on which locales are supported, we
can call <code><a href="#topic+info_locales">info_locales()</a></code> to view an info table.
</p>


<h3>Examples</h3>

<p>Let's use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a small <strong>gt</strong> table
containing opening and closing price data for a week in 2013. We can add
a logical column (<code>dir</code>) with <code><a href="#topic+cols_add">cols_add()</a></code>; the expression used determines
whether the <code>close</code> value is greater than the <code>open</code> value. That new column
is inserted between <code>open</code> and <code>close</code>. Then, we use <code>fmt_tf()</code> to generate
up and down arrows in the <code>dir</code> column. We elect to use green upward arrows
and red downward arrows (through the <code>colors</code> option). With a little numeric
formatting and changes to the column labels, the table becomes more presentable.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "2013-01-07" &amp; date &lt;= "2013-01-12") |&gt;
  dplyr::arrange(date) |&gt;
  dplyr::select(-c(adj_close, volume, high, low)) |&gt;
  gt(rowname_col = "date") |&gt;
  cols_add(dir = close &gt; open, .after = open) |&gt;
  fmt_tf(
    columns = dir,
    tf_style = "arrows",
    colors = c("green", "red")
  ) |&gt;
  fmt_currency(columns = c(open, close)) |&gt;
  cols_label(
    open = "Opening",
    close = "Closing",
    dir = ""
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_tf_1.png" alt="This image of a table was generated from the first code example in the `fmt_tf()` help file." style="width:100%;">

<p>The <code><a href="#topic+reactions">reactions</a></code> dataset contains chemical kinetic information on a wide
variety of atmospherically-relevant compounds. It might be interesting to get
a summary (for a small subset of compounds) for which rate constants are
available for the selected compounds. We first start by selecting the
relevant rows and columns. Then we generate logical columns for each of the
reaction types (i.e., if a value is <code>NA</code> then there's no measurement, so
that's <code>FALSE</code>). Once the <strong>gt</strong> table has been created, we can use
<code>fmt_tf()</code> to provide open and filled circles to indicate whether a
particular reaction has been measured and presented in the literature.
</p>
<div class="sourceCode r"><pre>reactions |&gt;
  dplyr::filter(cmpd_type %in% c("carboxylic acid", "alkyne", "allene")) |&gt;
  dplyr::select(cmpd_name, cmpd_type, ends_with("k298")) |&gt;
  dplyr::mutate(across(ends_with("k298"), is.na)) |&gt;
  gt(rowname_col = "cmpd_name", groupname_col = "cmpd_type") |&gt;
  tab_spanner(
    label = "Has a measured rate constant",
    columns = ends_with("k298")
  ) |&gt;
  tab_stub_indent(
    rows = everything(),
    indent = 2
  ) |&gt;
  fmt_tf(
    columns = ends_with("k298"),
    tf_style = "circles"
  ) |&gt;
  cols_label(
    OH_k298 = "OH",
    O3_k298 = "Ozone",
    NO3_k298 = "Nitrate",
    Cl_k298 = "Chlorine"
  ) |&gt;
  cols_width(
    stub() ~ px(200),
    ends_with("k298") ~ px(80)
  ) |&gt;
  opt_vertical_padding(scale = 0.35)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_tf_2.png" alt="This image of a table was generated from the second code example in the `fmt_tf()` help file." style="width:100%;">

<p>There are census-based population values in the <code><a href="#topic+towny">towny</a></code> dataset and quite a
few small towns within it. Let's look at the ten smallest towns (according
to the 2021 figures) and work out whether their populations have increased or
declined since 1996. Also, let's determine which of these towns even have a
website. After that data preparation, the data is made into a <strong>gt</strong> table
and <code>fmt_tf()</code> can be used in the <code>website</code> and <code>pop_dir</code> columns (which both
have <code>TRUE</code>/<code>FALSE</code> values). Each of these <code>fmt_tf()</code> calls will either
produce <code>"yes"</code>/<code>"no"</code> or <code>"up"</code>/<code>"down"</code> strings (set via the <code>tf_style</code>
option).
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::arrange(population_2021) |&gt;
  dplyr::mutate(website = !is.na(website))  |&gt;
  dplyr::mutate(pop_dir = population_2021 &gt; population_1996) |&gt;
  dplyr::select(name, website, population_1996, population_2021, pop_dir) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt(rowname_col = "name") |&gt;
  tab_spanner(
    label = "Population",
    columns = starts_with("pop")
  ) |&gt;
  tab_stubhead(label = "Town") |&gt;
  fmt_tf(
    columns = website,
    tf_style = "yes-no",
    auto_align = FALSE
  ) |&gt;
  fmt_tf(
    columns = pop_dir,
    tf_style = "up-down",
    pattern = "It's {x}."
  ) |&gt;
  cols_label_with(
    columns = starts_with("population"),
    fn = function(x) sub("population_", "", x)
  ) |&gt;
  cols_label(
    website = md("Has a  \n website?"),
    pop_dir = "Pop. direction?"
  ) |&gt;
  opt_horizontal_padding(scale = 2)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_tf_3.png" alt="This image of a table was generated from the third code example in the `fmt_tf()` help file." style="width:100%;">

<p>If formatting to words instead of symbols (with the hyphenated <code>tf_style</code>
keywords), the words themselves can be translated to different languages
if providing a <code>locale</code> value. In this next example, we're manually creating
a tibble with locale codes and their associated languages. The <code>yes</code> and <code>up</code>
columns all receive <code>TRUE</code> whereas <code>no</code> and <code>down</code> will all be <code>FALSE</code>.
With two calls of <code>fmt_tf()</code> for each of these pairings, we get the columns'
namesake words. To have these words translated, the <code>locale</code> argument is
pointed toward values in the <code>code</code> column by using <code><a href="#topic+from_column">from_column()</a></code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  code = c("de", "fr", "is", "tr", "ka", "lt", "ca", "bg", "lv"),
  lang = c(
    "German", "French", "Icelandic", "Turkish", "Georgian",
    "Lithuanian", "Catalan", "Bulgarian", "Latvian"
  ),
  yes = TRUE,
  no = FALSE,
  up = TRUE,
  down = FALSE
) |&gt;
  gt(rowname_col = "lang") |&gt;
  tab_header(title = "Common words in a few languages") |&gt;
  fmt_tf(
    columns = c(yes, no),
    tf_style = "yes-no",
    locale = from_column("code")
  ) |&gt;
  fmt_tf(
    columns = c(up, down),
    tf_style = "up-down",
    locale = from_column("code")
  ) |&gt;
  cols_merge(
    columns = c(lang, code),
    pattern = "{1} ({2})"
  ) |&gt;
  cols_width(
    stub() ~ px(150),
    everything() ~ px(80)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_tf_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_tf()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-18
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_time'>Format values as times</h2><span id='topic+fmt_time'></span>

<h3>Description</h3>

<p>Format input values to time values using one of 25 preset time styles. Input
can be in the form of <code>POSIXt</code> (i.e., datetimes), <code>character</code> (must be in the
ISO 8601 forms of <code>HH:MM:SS</code> or <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code>), or <code>Date</code> (which
always results in the formatting of <code>00:00:00</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_time(
  data,
  columns = everything(),
  rows = everything(),
  time_style = "iso",
  pattern = "{x}",
  locale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_time_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_time_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_time_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_time_+3A_time_style">time_style</code></td>
<td>
<p><em>Predefined style for times</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=25)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The time style to use. By default this is the short name <code>"iso"</code> which
corresponds to how times are formatted within ISO 8601 datetime values.
There are 25 time styles in total and their short names can be viewed using
<code><a href="#topic+info_time_style">info_time_style()</a></code>.</p>
</td></tr>
<tr><td><code id="fmt_time_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="fmt_time_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported. A locale ID can
be also set in the initial <code><a href="#topic+gt">gt()</a></code> function call (where it would be used
automatically by any function with a <code>locale</code> argument) but a <code>locale</code>
value provided here will override that global locale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_time()</code> is compatible with body cells that are of the <code>"Date"</code>,
<code>"POSIXt"</code> or <code>"character"</code> types. Any other types of body cells are ignored
during formatting. This is to say that cells of incompatible data types may
be targeted, but there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_time()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>time_style</code>
</p>
</li>
<li> <p><code>pattern</code>
</p>
</li>
<li> <p><code>locale</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Formatting with the <code>time_style</code> argument</h3>

<p>We need to supply a preset time style to the <code>time_style</code> argument. There are
many time styles and all of them can handle localization to any supported
locale. Many of the time styles are termed flexible time formats and this
means that their output will adapt to any <code>locale</code> provided. That feature
makes the flexible time formats a better option for locales other than <code>"en"</code>
(the default locale).
</p>
<p>The following table provides a listing of all time styles and their output
values (corresponding to an input time of <code>14:35:00</code>). It is noted which of
these represent 12- or 24-hour time.</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Time Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"iso-short"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"h_m_s_p"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"h_m_p"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"h_p"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"Hms"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"Hm"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"H"</code> </td><td style="text-align: left;"> <code>"14"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"EHm"</code> </td><td style="text-align: left;"> <code>"Thu 14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"EHms"</code> </td><td style="text-align: left;"> <code>"Thu 14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"Hmsv"</code> </td><td style="text-align: left;"> <code>"14:35:00 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"Hmv"</code> </td><td style="text-align: left;"> <code>"14:35 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"hms"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"hm"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"h"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"Ehm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"Ehms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"EBhms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"Bhms"</code> </td><td style="text-align: left;"> <code>"2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"EBhm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"Bhm"</code> </td><td style="text-align: left;"> <code>"2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"Bh"</code> </td><td style="text-align: left;"> <code>"2 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"hmsv"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"hmv"</code> </td><td style="text-align: left;"> <code>"2:35 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"ms"</code> </td><td style="text-align: left;"> <code>"35:00"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_time_style">info_time_style()</a></code> in the console to view a similar table of
time styles with example output.
</p>


<h3>Adapting output to a specific <code>locale</code></h3>

<p>This formatting function can adapt outputs according to a provided <code>locale</code>
value. Examples include <code>"en"</code> for English (United States) and <code>"fr"</code> for
French (France). Note that a <code>locale</code> value provided here will override any
global locale setting performed in <code><a href="#topic+gt">gt()</a></code>'s own <code>locale</code> argument (it is
settable there as a value received by all other functions that have a
<code>locale</code> argument). As a useful reference on which locales are supported, we
can use <code><a href="#topic+info_locales">info_locales()</a></code> to view an info table.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>date</code> and <code>time</code> columns). Format the <code>time</code> column with
<code>fmt_time()</code> to display times formatted with the <code>"h_m_s_p"</code> time style.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(date, time) |&gt;
  gt() |&gt;
  fmt_time(
    columns = time,
    time_style = "h_m_s_p"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_time_1.png" alt="This image of a table was generated from the first code example in the `fmt_time()` help file." style="width:100%;">

<p>Again using the <code><a href="#topic+exibble">exibble</a></code> dataset, let's format the <code>time</code> column to have
mixed time formats, where times after 16:00 will be different than the others
because of the expressions used in the <code>rows</code> argument. This will involve two
calls of <code>fmt_time()</code> with different statements provided for <code>rows</code>. In the
first call (times after 16:00) the time style <code>"h_m_s_p"</code> is used; for the
second call, <code>"h_m_p"</code> is the named time style supplied to <code>time_style</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(date, time) |&gt;
  gt() |&gt;
  fmt_time(
    columns = time,
    rows = time &gt; "16:00",
    time_style = "h_m_s_p"
  ) |&gt;
  fmt_time(
    columns = time,
    rows = time &lt;= "16:00",
    time_style = "h_m_p"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_time_2.png" alt="This image of a table was generated from the second code example in the `fmt_time()` help file." style="width:100%;">

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a single-column <strong>gt</strong> table (with only
the <code>time</code> column). Format the time values using the <code>"EBhms"</code> time style
(which is one of the 'flexible' styles). Also, we'll set the locale to <code>"sv"</code>
to get the times in Swedish.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(time) |&gt;
  gt() |&gt;
  fmt_time(
    columns = time,
    time_style = "EBhms",
    locale = "sv"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_time_3.png" alt="This image of a table was generated from the third code example in the `fmt_time()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-14
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>The vector-formatting version of this function: <code><a href="#topic+vec_fmt_time">vec_fmt_time()</a></code>.
</p>
<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_units'>Format measurement units</h2><span id='topic+fmt_units'></span>

<h3>Description</h3>

<p><code>fmt_units()</code> lets you better format measurement units in the table body.
These must conform to <strong>gt</strong>'s specialized units notation (e.g.,
<code>"J Hz^-1 mol^-1"</code> can be used to generate units for the
<em>molar Planck constant</em>) for the best conversion. The notation here provides
several conveniences for defining units, so as long as the values to be
formatted conform to this syntax, you'll obtain nicely-formatted units no
matter what the table output format might be (i.e., HTML, LaTeX, RTF, etc.).
Details pertaining to the units notation can be found in the section entitled
<em>How to use <strong>gt</strong>'s units notation</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_units(data, columns = everything(), rows = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_units_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_units_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_units_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>How to use <strong>gt</strong>'s units notation</h3>

<p>The units notation involves a shorthand of writing units that feels familiar
and is fine-tuned for the task at hand. Each unit is treated as a separate
entity (parentheses and other symbols included) and the addition of subscript
text and exponents is flexible and relatively easy to formulate. This is all
best shown with examples:
</p>

<ul>
<li> <p><code>"m/s"</code> and <code>"m / s"</code> both render as <code>"m/s"</code>
</p>
</li>
<li> <p><code>"m s^-1"</code> will appear with the <code>"-1"</code> exponent intact
</p>
</li>
<li> <p><code>"m /s"</code> gives the same result, as <code>"/&lt;unit&gt;"</code> is equivalent to
<code>"&lt;unit&gt;^-1"</code>
</p>
</li>
<li> <p><code>"E_h"</code> will render an <code>"E"</code> with the <code>"h"</code> subscript
</p>
</li>
<li> <p><code>"t_i^2.5"</code> provides a <code>t</code> with an <code>"i"</code> subscript and a <code>"2.5"</code> exponent
</p>
</li>
<li> <p><code>"m[_0^2]"</code> will use overstriking to set both scripts vertically
</p>
</li>
<li> <p><code>"g/L %C6H12O6%"</code> uses a chemical formula (enclosed in a pair of <code>"%"</code>
characters) as a unit partial, and the formula will render correctly with
subscripted numbers
</p>
</li>
<li><p> Common units that are difficult to write using ASCII text may be implicitly
converted to the correct characters (e.g., the <code>"u"</code> in <code>"ug"</code>, <code>"um"</code>,
<code>"uL"</code>, and <code>"umol"</code> will be converted to the Greek <em>mu</em> symbol; <code>"degC"</code>
and <code>"degF"</code> will render a degree sign before the temperature unit)
</p>
</li>
<li><p> We can transform shorthand symbol/unit names enclosed in <code>":"</code> (e.g.,
<code>":angstrom:"</code>, <code>":ohm:"</code>, etc.) into proper symbols
</p>
</li>
<li><p> Greek letters can added by enclosing the letter name in <code>":"</code>; you can
use lowercase letters (e.g., <code>":beta:"</code>, <code>":sigma:"</code>, etc.) and uppercase
letters too (e.g., <code>":Alpha:"</code>, <code>":Zeta:"</code>, etc.)
</p>
</li>
<li><p> The components of a unit (unit name, subscript, and exponent) can be
fully or partially italicized/emboldened by surrounding text with <code>"*"</code> or
<code>"**"</code>
</p>
</li></ul>



<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+illness">illness</a></code> dataset and create a new <strong>gt</strong> table. The <code>units</code>
column contains character values in <strong>gt</strong>'s specialized units notation
(e.g., <code>"x10^9 / L"</code>) so the <code>fmt_units()</code> function was used to better format
those units.
</p>
<div class="sourceCode r"><pre>illness |&gt;
  gt() |&gt;
  fmt_units(columns = units) |&gt;
  sub_missing(columns = -starts_with("norm")) |&gt;
  sub_missing(columns = c(starts_with("norm"), units), missing_text = "") |&gt;
  sub_large_vals(rows = test == "MYO", threshold = 1200) |&gt;
  fmt_number(
    decimals = 2,
    drop_trailing_zeros = TRUE
  ) |&gt;
  tab_header(title = "Laboratory Findings for the YF Patient") |&gt;
  tab_spanner(label = "Day", columns = starts_with("day")) |&gt;
  cols_label_with(fn = ~ gsub("day_", "", .)) |&gt;
  cols_merge_range(col_begin = norm_l, col_end = norm_u) |&gt;
  cols_label(
    starts_with("norm") ~ "Normal Range",
    test ~ "Test",
    units ~ "Units"
  ) |&gt;
  cols_width(
    starts_with("day") ~ px(80),
    everything() ~ px(120)
  ) |&gt;
  tab_style(
    style = cell_text(align = "center"),
    locations = cells_column_labels(columns = starts_with("day"))
  ) |&gt;
  tab_style(
    style = cell_fill(color = "aliceblue"),
    locations = cells_body(columns = c(test, units))
  ) |&gt;
  opt_vertical_padding(scale = 0.4) |&gt;
  opt_align_table_header(align = "left") |&gt;
  tab_options(heading.padding = px(10))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_units_1.png" alt="This image of a table was generated from the first code example in the `fmt_units()` help file." style="width:100%;">

<p>The <code><a href="#topic+constants">constants</a></code> dataset contains values for hundreds of fundamental
physical constants. We'll take a subset of values that have some molar basis
and generate a <strong>gt</strong> table from that. Like the <code><a href="#topic+illness">illness</a></code> dataset, this one
has a <code>units</code> column so, again, the <code>fmt_units()</code> function will be used to
format those units. Here, the preference for typesetting measurement units is
to have positive and negative exponents (e.g., not <code>"&lt;unit_1&gt; / &lt;unit_2&gt;"</code>
but rather <code>"&lt;unit_1&gt; &lt;unit_2&gt;^-1"</code>).
</p>
<div class="sourceCode r"><pre>constants |&gt;
  dplyr::filter(grepl("molar", name)) |&gt;
  gt() |&gt;
  cols_hide(columns = c(uncert, starts_with("sf"))) |&gt;
  fmt_units(columns = units) |&gt;
  fmt_scientific(columns = value, decimals = 3) |&gt;
  tab_header(title = "Physical Constants Having a Molar Basis") |&gt;
  tab_options(column_labels.hidden = TRUE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_units_2.png" alt="This image of a table was generated from the second code example in the `fmt_units()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-19
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='fmt_url'>Format URLs to generate links</h2><span id='topic+fmt_url'></span>

<h3>Description</h3>

<p>Should cells contain URLs, <code>fmt_url()</code> can be used to make them
navigable links. This should be expressly used on columns that contain <em>only</em>
URL text (i.e., no URLs as part of a larger block of text). Should you have
such a column of data, there are options for how the links should be styled.
They can be of the conventional style (with underlines and text coloring that
sets it apart from other text), or, they can appear to be button-like (with
a surrounding box that can be filled with a color of your choosing).
</p>
<p>URLs in data cells are detected in two ways. The first is using the simple
Markdown notation for URLs of the form: <code style="white-space: pre;">&#8288;[label](URL)&#8288;</code>. The second assumes
that the text is the URL. In the latter case the URL is also used as the
label but there is the option to use the <code>label</code> argument to modify that
text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_url(
  data,
  columns = everything(),
  rows = everything(),
  label = NULL,
  as_button = FALSE,
  color = "auto",
  show_underline = "auto",
  button_fill = "auto",
  button_width = "auto",
  button_outline = "auto",
  target = NULL,
  rel = NULL,
  referrerpolicy = NULL,
  hreflang = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_url_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>Can either be a series of column names provided in <code>c()</code>, a vector of
column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code> and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
undergo formatting. The default <code><a href="#topic+everything">everything()</a></code> results in all rows in
<code>columns</code> being formatted. Alternatively, we can supply a vector of row
captions within <code>c()</code>, a vector of row indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_label">label</code></td>
<td>
<p><em>Link label</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The visible 'label' to use for the link. If <code>NULL</code> (the default)
the URL will serve as the label. There are two non-<code>NULL</code> options: (1) a
piece of static text can be used for the label by providing a string, and
(2) a function can be provided to fashion a label from every URL.</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_as_button">as_button</code></td>
<td>
<p><em>Style link as a button</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to style the link as a button. By default, this is
<code>FALSE</code>. If this option is chosen then the <code>button_fill</code> argument becomes
usable.</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_color">color</code></td>
<td>
<p><em>Link color</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The color used for the resulting link and its underline. This is
<code>"auto"</code> by default; this allows <strong>gt</strong> to choose an appropriate color
based on various factors (such as the background <code>button_fill</code> when
<code>as_button</code> is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_show_underline">show_underline</code></td>
<td>
<p><em>Show the link underline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>Should the link be decorated with an underline? By
default this is <code>"auto"</code> which means that <strong>gt</strong> will choose <code>TRUE</code> when
<code>as_button = FALSE</code> and <code>FALSE</code> in the other case. The link underline will
be the same color as that set in the <code>color</code> option.</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_button_fill">button_fill</code>, <code id="fmt_url_+3A_button_width">button_width</code>, <code id="fmt_url_+3A_button_outline">button_outline</code></td>
<td>
<p><em>Button options</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>Options for styling a link-as-button (and only applies if
<code>as_button = TRUE</code>). All of these options are by default set to <code>"auto"</code>,
allowing <strong>gt</strong> to choose appropriate fill, width, and outline values.</p>
</td></tr>
<tr><td><code id="fmt_url_+3A_target">target</code>, <code id="fmt_url_+3A_rel">rel</code>, <code id="fmt_url_+3A_referrerpolicy">referrerpolicy</code>, <code id="fmt_url_+3A_hreflang">hreflang</code></td>
<td>
<p><em>Anchor element attributes</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code>
</p>
<p>Additional anchor element attributes. For descriptions of each attribute
and the allowed values, refer to the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attributes">MDN Web Docs reference on the anchor HTML element</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of formatting function with data values</h3>

<p><code>fmt_url()</code> is compatible with body cells that are of the <code>"character"</code> or
<code>"factor"</code> types. Any other types of body cells are ignored during formatting.
This is to say that cells of incompatible data types may be targeted, but
there will be no attempt to format them.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given formatting function
will be skipped over, like <code>character</code> values and numeric <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions. So it's safe to select all columns with a particular formatting
function (only those values that can be formatted will be formatted), but,
you may not want that. One strategy is to format the bulk of cell values with
one formatting function and then constrain the columns for later passes with
other types of formatting (the last formatting done to a cell is what you get
in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
formatting on values in the column or another column, or, you'd like to use a
more complex predicate expression.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code>fmt_url()</code> to obtain
varying parameter values from a specified column within the table. This means
that each row could be formatted a little bit differently. These arguments
provide support for <code><a href="#topic+from_column">from_column()</a></code>:
</p>

<ul>
<li> <p><code>label</code>
</p>
</li>
<li> <p><code>as_button</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>show_underline</code>
</p>
</li>
<li> <p><code>button_fill</code>
</p>
</li>
<li> <p><code>button_width</code>
</p>
</li>
<li> <p><code>button_outline</code>
</p>
</li></ul>

<p>Please note that for each of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
Finally, there is no limitation to how many arguments the <code><a href="#topic+from_column">from_column()</a></code>
helper is applied so long as the arguments belong to this closed set.
</p>


<h3>Examples</h3>

<p>Using a portion of the <code><a href="#topic+towny">towny</a></code> dataset, let's create a <strong>gt</strong> table. We can
use <code>fmt_url()</code> on the <code>website</code> column to generate navigable links to
websites. By default the links are underlined and the color will be chosen
for you (it's dark cyan).
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::filter(csd_type == "city") |&gt;
  dplyr::arrange(desc(population_2021)) |&gt;
  dplyr::select(name, website, population_2021) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  tab_header(
    title = md("The 10 Largest Municipalities in `towny`"),
    subtitle = "Population values taken from the 2021 census."
  ) |&gt;
  fmt_integer() |&gt;
  fmt_url(columns = website) |&gt;
  cols_label(
    name = "Name",
    website = "Site",
    population_2021 = "Population"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_url_1.png" alt="This image of a table was generated from the first code example in the `fmt_url()` help file." style="width:100%;">

<p>Let's try something else. We can set a static text label for the link with
the <code>label</code> argument (and we'll use the word <code>"site"</code> for this). The link
underline is removable with <code>show_underline = FALSE</code>. With this change, it
seems sensible to merge the link to the <code>"name"</code> column and enclose the link
text in parentheses (<code><a href="#topic+cols_merge">cols_merge()</a></code> handles all that).
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::filter(csd_type == "city") |&gt;
  dplyr::arrange(desc(population_2021)) |&gt;
  dplyr::select(name, website, population_2021) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  tab_header(
    title = md("The 10 Largest Municipalities in `towny`"),
    subtitle = "Population values taken from the 2021 census."
  ) |&gt;
  fmt_integer() |&gt;
  fmt_url(
    columns = website,
    label = "site",
    show_underline = FALSE
  ) |&gt;
  cols_merge(
    columns = c(name, website),
    pattern = "{1} ({2})"
  ) |&gt;
  cols_label(
    name = "Name",
    population_2021 = "Population"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_url_2.png" alt="This image of a table was generated from the second code example in the `fmt_url()` help file." style="width:100%;">

<p><code>fmt_url()</code> allows for the styling of links as 'buttons'. This is as easy as
setting <code>as_button = TRUE</code>. Doing that unlocks the ability to  set a
<code>button_fill</code> color. This color can automatically selected by <strong>gt</strong>
(this is the default) but here we're using <code>"steelblue"</code>. The <code>label</code>
argument also accepts a function! We can choose to adapt the label text from
the URLs by eliminating any leading <code>"https://"</code> or <code>"www."</code> parts.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::filter(csd_type == "city") |&gt;
  dplyr::arrange(desc(population_2021)) |&gt;
  dplyr::select(name, website, population_2021) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  dplyr::mutate(ranking = dplyr::row_number()) |&gt;
  gt(rowname_col = "ranking") |&gt;
  tab_header(
    title = md("The 10 Largest Municipalities in `towny`"),
    subtitle = "Population values taken from the 2021 census."
  ) |&gt;
  fmt_integer() |&gt;
  fmt_url(
    columns = website,
    label = function(x) gsub("https://|www.", "", x),
    as_button = TRUE,
    button_fill = "steelblue",
    button_width = px(150)
  ) |&gt;
  cols_move_to_end(columns = website) |&gt;
  cols_align(align = "center", columns = website) |&gt;
  cols_width(
    ranking ~ px(40),
    website ~ px(200)
  ) |&gt;
  tab_options(column_labels.hidden = TRUE) |&gt;
  tab_style(
    style = cell_text(weight = "bold"),
    locations = cells_stub()
  ) |&gt;
  opt_vertical_padding(scale = 0.75)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_url_3.png" alt="This image of a table was generated from the third code example in the `fmt_url()` help file." style="width:100%;">

<p>It's perhaps inevitable that you'll come across missing values in your column
of URLs. <code>fmt_url()</code> will preserve input <code>NA</code> values, allowing you to handle
them with <code><a href="#topic+sub_missing">sub_missing()</a></code>. Here's an example of that.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::arrange(population_2021) |&gt;
  dplyr::select(name, website, population_2021) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  tab_header(
    title = md("The 10 Smallest Municipalities in `towny`"),
    subtitle = "Population values taken from the 2021 census."
  ) |&gt;
  fmt_integer() |&gt;
  fmt_url(columns = website) |&gt;
  cols_label(
    name = "Name",
    website = "Site",
    population_2021 = "Population"
  ) |&gt;
  sub_missing()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_url_4.png" alt="This image of a table was generated from the fourth code example in the `fmt_url()` help file." style="width:100%;">

<p>Links can be presented as icons. Let's take a look at an example of this type
of presentation with a table based on the <code><a href="#topic+films">films</a></code> dataset. The <code>imdb_url</code>
column contains the URL information and in the <code>fmt_url()</code> call, we can use
<code>fontawesome::fa()</code> to specify a <code>label</code>. In this case we elect to use the
<code>"link"</code> icon and we can make some sizing adjustments to the icon here to
ensure the layout looks optimal. We also use <code><a href="#topic+cols_merge">cols_merge()</a></code> to combine
the film's title, its original title (if present), and the link icon.
</p>
<div class="sourceCode r"><pre>films |&gt;
  dplyr::filter(year == 2021) |&gt;
  dplyr::select(
    contains("title"), run_time, director, imdb_url
  ) |&gt;
  gt() |&gt;
  tab_header(title = "Feature Films in Competition at the 2021 Festival") |&gt;
  fmt_url(
    columns = imdb_url,
    label = fontawesome::fa(
      name = "link",
      height = "0.75em",
      vertical_align = "0em"
     ),
    color = "gray65"
  ) |&gt;
  cols_merge(
    columns = c(title, original_title, imdb_url),
    pattern = "{1}&lt;&lt; ({2})&gt;&gt; {3}"
  ) |&gt;
  cols_label(
    title = "Film",
    run_time = "Length",
    director = "Director(s)",
  ) |&gt;
  tab_options(heading.title.font.size = px(26)) |&gt;
  opt_vertical_padding(scale = 0.4) |&gt;
  opt_horizontal_padding(scale = 2) |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_fmt_url_5.png" alt="This image of a table was generated from the fifth code example in the `fmt_url()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-21
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='from_column'>Reference a column of values for certain parameters</h2><span id='topic+from_column'></span>

<h3>Description</h3>

<p>It can be useful to obtain parameter values from a column in a
<strong>gt</strong> for functions that operate on the table body and stub cells. For
example, you might want to indent row labels in the stub. You could call
<code><a href="#topic+tab_stub_indent">tab_stub_indent()</a></code> and indent different rows to various indentation levels.
However, each level of indentation applied necessitates a new call of that
function. To make this better, we can use indentation values available in a
table column via the <code>from_column()</code> helper function. For the
<code><a href="#topic+tab_stub_indent">tab_stub_indent()</a></code> case, you'd invoke this helper at the <code>indent</code> argument
and specify the column that has the values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>from_column(column, na_value = NULL, fn = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="from_column_+3A_column">column</code></td>
<td>
<p><em>Column name</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A single column name in quotation marks. Values will be extracted from this
column and provided to compatible arguments.</p>
</td></tr>
<tr><td><code id="from_column_+3A_na_value">na_value</code></td>
<td>
<p><em>Default replacement for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single value to replace any <code>NA</code> values in the <code>column</code>. Take care to
provide a value that is of the same type as the <code>column</code> values to avoid
any undesirable coercion.</p>
</td></tr>
<tr><td><code id="from_column_+3A_fn">fn</code></td>
<td>
<p><em>Function to apply</em>
</p>
<p><code style="white-space: pre;">&#8288;function|formula&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If a function is provided here, any values extracted from the table
<code>column</code> (except <code>NA</code> values) can be mutated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object of class <code>gt_column</code>.
</p>


<h3>Functions that allow the use of the <code>from_column()</code> helper</h3>

<p>Only certain functions (and furthermore a subset of arguments within each)
support the use of <code>from_column()</code> for accessing varying parameter values.
These functions are:
</p>

<ul>
<li> <p><code><a href="#topic+tab_stub_indent">tab_stub_indent()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_number">fmt_number()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_integer">fmt_integer()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_scientific">fmt_scientific()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_engineering">fmt_engineering()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_percent">fmt_percent()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_partsper">fmt_partsper()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_fraction">fmt_fraction()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_currency">fmt_currency()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_roman">fmt_roman()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_index">fmt_index()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_spelled_num">fmt_spelled_num()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_bytes">fmt_bytes()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_date">fmt_date()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_time">fmt_time()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_datetime">fmt_datetime()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_url">fmt_url()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_image">fmt_image()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_flag">fmt_flag()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_markdown">fmt_markdown()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+fmt_passthrough">fmt_passthrough()</a></code>
</p>
</li></ul>

<p>Within help documents for each of these functions you'll find the
<em>Compatibility of arguments with the <code>from_column()</code> helper function</em> section
and sections like these describe which arguments support the use of
<code>from_column()</code>.
</p>


<h3>Examples</h3>

<p><code>from_column()</code> can be used in a variety of formatting functions so that
values for common options don't have to be static, they can change in every
row (so long as you have a column of compatible option values). Here's an
example where we have a table of repeating numeric values along with a column
of currency codes. We can format the numbers to currencies with
<code><a href="#topic+fmt_currency">fmt_currency()</a></code> and use <code>from_column()</code> to reference the column of currency
codes, giving us values that are each formatted as having a different
currency.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  amount = rep(30.75, 6),
  curr = c("USD", "EUR", "GBP", "CAD", "AUD", "JPY"),
) |&gt;
  gt() |&gt;
  fmt_currency(currency = from_column(column = "curr"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_from_column_1.png" alt="This image of a table was generated from the first code example in the `from_column()` help file." style="width:100%;">

<p>Let's summarize the <code><a href="#topic+gtcars">gtcars</a></code> dataset to get a set of rankings of car
manufacturer by country of origin. The <code>n</code> column represents the number of
cars a manufacturer has within this dataset and we can use that column as a
way to size the text. We do that in the <code><a href="#topic+tab_style">tab_style()</a></code> call; the
<code>from_column()</code> function is used within the <code><a href="#topic+cell_text">cell_text()</a></code> statement to
fashion different font sizes from that <code>n</code> column. This is done in
conjunction with the <code>fn</code> argument of <code>from_column()</code>, which helps to tweak
the values in <code>n</code> to get a useful range of font sizes.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::count(mfr, ctry_origin) |&gt;
  dplyr::arrange(ctry_origin) |&gt;
  gt(groupname_col = "ctry_origin") |&gt;
  tab_style(
    style = cell_text(
      size = from_column(
        column = "n",
        fn = function(x) paste0(5 + (x * 3), "px")
      )
    ),
    locations = cells_body()
  ) |&gt;
  tab_style(
    style = cell_text(align = "center"),
    locations = cells_row_groups()
  ) |&gt;
  cols_hide(columns = n) |&gt;
  tab_options(column_labels.hidden = TRUE) |&gt;
  opt_all_caps() |&gt;
  opt_vertical_padding(scale = 0.25) |&gt;
  cols_align(align = "center", columns = mfr)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_from_column_2.png" alt="This image of a table was generated from the second code example in the `from_column()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='ggplot_image'>Helper function for adding a ggplot</h2><span id='topic+ggplot_image'></span>

<h3>Description</h3>

<p>We can add a <strong>ggplot2</strong> plot inside of a table with the help of the
<code>ggplot_image()</code> function. The function provides a convenient way to generate
an HTML fragment with a <code>ggplot</code> object. Because this function is currently
HTML-based, it is only useful for HTML table output. To use this function
inside of data cells, it is recommended that <code><a href="#topic+text_transform">text_transform()</a></code> is used.
With that function, we can specify which data cells to target and then
include a call to <code>ggplot_image()</code> within the required user-defined function
(for the <code>fn</code> argument). If we want to include a plot in other places (e.g.,
in the header, within footnote text, etc.) we need to use <code>ggplot_image()</code>
within the <code><a href="#topic+html">html()</a></code> helper function.
</p>
<p>By itself, the function creates an HTML image tag with an image URI embedded
within (a 100 dpi PNG). We can easily experiment with any <code>ggplot2</code> plot
object, and using it within <code style="white-space: pre;">&#8288;ggplot_image(plot_object = &lt;plot object&gt;&#8288;</code>
evaluates to:
</p>
<p><code style="white-space: pre;">&#8288;&lt;img src=&lt;data URI&gt; style=\"height:100px;\"&gt;&#8288;</code>
</p>
<p>where a height of <code style="white-space: pre;">&#8288;100px&#8288;</code> is a default height chosen to work well within the
heights of most table rows. There is the option to modify the aspect ratio of
the plot (the default <code>aspect_ratio</code> is <code>1.0</code>) and this is useful for
elongating any given plot to fit better within the table construct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_image(plot_object, height = 100, aspect_ratio = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_image_+3A_plot_object">plot_object</code></td>
<td>
<p><em>A ggplot plot object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;ggplot&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A <code>ggplot</code> plot object.</p>
</td></tr>
<tr><td><code id="ggplot_image_+3A_height">height</code></td>
<td>
<p><em>Height of image</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>100</code>
</p>
<p>The absolute height of the output image in the table cell (in <code>"px"</code>
units). By default, this is set to <code>"100px"</code>.</p>
</td></tr>
<tr><td><code id="ggplot_image_+3A_aspect_ratio">aspect_ratio</code></td>
<td>
<p><em>The final aspect ratio of plot</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1.0</code>
</p>
<p>This is the plot's final aspect ratio. Where the height of the plot is
fixed using the <code>height</code> argument, the <code>aspect_ratio</code> will either compress
(<code>aspect_ratio</code> &lt; <code>1.0</code>) or expand (<code>aspect_ratio</code> &gt; <code>1.0</code>) the plot
horizontally. The default value of <code>1.0</code> will neither compress nor expand
the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object with an HTML fragment that can be placed inside of
a cell.
</p>


<h3>Examples</h3>

<p>Create a <strong>ggplot</strong> plot.
</p>
<div class="sourceCode r"><pre>library(ggplot2)

plot_object &lt;-
  ggplot(
    data = gtcars,
    aes(x = hp, y = trq, size = msrp)
  ) +
  geom_point(color = "blue") +
  theme(legend.position = "none")
</pre></div>
<p>Create a tibble that contains two cells (where one is a placeholder for an
image), then, create a <strong>gt</strong> table. Use the <code>text_transform()</code> function to
insert the plot using by calling <code>ggplot_object()</code> within the user- defined
function.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  text = "Here is a ggplot:",
  ggplot = NA
) |&gt;
  gt() |&gt;
  text_transform(
    locations = cells_body(columns = ggplot),
    fn = function(x) {
      plot_object |&gt;
        ggplot_image(height = px(200))
    }
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_ggplot_image_1.png" alt="This image of a table was generated from the first code example in the `ggplot_image()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>9-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other image addition functions: 
<code><a href="#topic+local_image">local_image</a>()</code>,
<code><a href="#topic+test_image">test_image</a>()</code>,
<code><a href="#topic+web_image">web_image</a>()</code>
</p>

<hr>
<h2 id='gibraltar'>Weather conditions in Gibraltar, May 2023</h2><span id='topic+gibraltar'></span>

<h3>Description</h3>

<p>The <code>gibraltar</code> dataset has meteorological data for the Gibraltar Airport
Station from May 1 to May 31, 2023. Gibraltar is a British Overseas Territory
and city located at the southern end of the Iberian Peninsula, on the Bay of
Gibraltar. This weather station is located at the airport (GIB), where it's
at an elevation of 5 meters above mean sea level (AMSL).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gibraltar
</code></pre>


<h3>Format</h3>

<p>A tibble with 1,431 rows and 10 variables:
</p>

<dl>
<dt>date, time</dt><dd><p>The date and time of the observation.</p>
</dd>
<dt>temp, dew_point</dt><dd><p>The air temperature and dew point values, both in
degrees Celsius.</p>
</dd>
<dt>humidity</dt><dd><p>The relative humidity as a value between <code>0</code> and <code>1</code></p>
</dd>
<dt>wind_dir, wind_speed, wind_gust</dt><dd><p>Observations related to wind. The wind
direction is given as the typical 'blowing from' value, simplified to one of
16 compass directions. The wind speed is provided in units of meters per
second. If there was a measurable wind gust, the maximum gust speed is
recorded as m/s values (otherwise the value is <code>0</code>).</p>
</dd>
<dt>pressure</dt><dd><p>The atmospheric pressure in hectopascals (hPa).</p>
</dd>
<dt>condition</dt><dd><p>The weather condition.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>gibraltar</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(gibraltar)
#&gt; Rows: 1,431
#&gt; Columns: 10
#&gt; $ date       &lt;date&gt; 2023-05-01, 2023-05-01, 2023-05-01, 2023-05-01, 2023-05-01~
#&gt; $ time       &lt;chr&gt; "00:20", "00:50", "01:20", "01:50", "02:20", "02:50", "03:2~
#&gt; $ temp       &lt;dbl&gt; 18.9, 18.9, 17.8, 18.9, 18.9, 17.8, 17.8, 17.8, 18.9, 18.9,~
#&gt; $ dew_point  &lt;dbl&gt; 12.8, 13.9, 13.9, 13.9, 12.8, 12.8, 12.8, 12.8, 12.2, 12.2,~
#&gt; $ humidity   &lt;dbl&gt; 0.68, 0.73, 0.77, 0.73, 0.68, 0.73, 0.73, 0.73, 0.64, 0.64,~
#&gt; $ wind_dir   &lt;chr&gt; "W", "WSW", "W", "W", "WSW", "WSW", "W", "SW", "SW", "WSW",~
#&gt; $ wind_speed &lt;dbl&gt; 6.7, 7.2, 6.7, 6.7, 6.7, 6.7, 7.2, 6.3, 4.0, 3.1, 3.6, 2.2,~
#&gt; $ wind_gust  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,~
#&gt; $ pressure   &lt;dbl&gt; 1015.2, 1015.2, 1014.6, 1014.6, 1014.6, 1014.6, 1014.6, 101~
#&gt; $ condition  &lt;chr&gt; "Fair", "Fair", "Fair", "Fair", "Fair", "Fair", "Fair", "Fa~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-11
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_gibraltar.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='google_font'>Helper function for specifying a font from the <em>Google Fonts</em> service</h2><span id='topic+google_font'></span>

<h3>Description</h3>

<p><code>google_font()</code> can be used wherever a font name should be specified. There
are two instances where this helper can be used: the <code>name</code> argument in
<code><a href="#topic+opt_table_font">opt_table_font()</a></code> (for setting a table font) and in that of <code><a href="#topic+cell_text">cell_text()</a></code>
(used with <code><a href="#topic+tab_style">tab_style()</a></code>). To get a helpful listing of fonts that work well
in tables, call <code><a href="#topic+info_google_fonts">info_google_fonts()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_font(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_font_+3A_name">name</code></td>
<td>
<p><em>Google Font name</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The complete name of a font available in <em>Google Fonts</em>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>font_css</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table of two columns and eight
rows. We'll replace missing values with em dashes using <code><a href="#topic+sub_missing">sub_missing()</a></code>.
For text in the <code>time</code> column, we will use the font called <code>"IBM Plex Mono"</code>
which is available in Google Fonts. This is defined inside the
<code>google_font()</code> call, itself part of a vector that includes fonts returned by
<code><a href="#topic+default_fonts">default_fonts()</a></code> (those fonts will serve as fallbacks just in case the font
supplied by Google Fonts is not accessible). In terms of placement, all of
this is given to the <code>font</code> argument of <code><a href="#topic+cell_text">cell_text()</a></code> which is itself given
to the <code>style</code> argument of <code><a href="#topic+tab_style">tab_style()</a></code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(char, time) |&gt;
  gt() |&gt;
  sub_missing() |&gt;
  tab_style(
    style = cell_text(
      font = c(
        google_font(name = "IBM Plex Mono"),
        default_fonts()
      )
    ),
    locations = cells_body(columns = time)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_google_font_1.png" alt="This image of a table was generated from the first code example in the `google_font()` help file." style="width:100%;">

<p>We can use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a small <strong>gt</strong> table.
With <code><a href="#topic+fmt_currency">fmt_currency()</a></code>, we can display a dollar sign for the first row of the
monetary values. Then, we'll set a larger font size for the table and opt to
use the <code>"Merriweather"</code> font by calling <code>google_font()</code> within
<code><a href="#topic+opt_table_font">opt_table_font()</a></code>. In cases where that font may not materialize, we include
two font fallbacks: <code>"Cochin"</code> and the catchall <code>"Serif"</code> group.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice(1:10) |&gt;
  dplyr::select(-volume, -adj_close) |&gt;
  gt() |&gt;
  fmt_currency(
    rows = 1,
    currency = "USD",
    use_seps = FALSE
  ) |&gt;
  tab_options(table.font.size = px(20)) |&gt;
  opt_table_font(
    font = list(
      google_font(name = "Merriweather"),
      "Cochin", "Serif"
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_google_font_2.png" alt="This image of a table was generated from the second code example in the `google_font()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-31
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.2</code> (August 5, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='grand_summary_rows'>Add grand summary rows using aggregation functions</h2><span id='topic+grand_summary_rows'></span>

<h3>Description</h3>

<p>Add grand summary rows by using the table data and any suitable aggregation
functions. With grand summary rows, all of the available data in the <strong>gt</strong>
table is incorporated (regardless of whether some of the data are part of row
groups). Multiple grand summary rows can be added via expressions given to
<code>fns</code>. You can selectively format the values in the resulting grand summary
cells by use of formatting expressions in <code>fmt</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grand_summary_rows(
  data,
  columns = everything(),
  fns = NULL,
  fmt = NULL,
  side = c("bottom", "top"),
  missing_text = "---",
  formatter = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grand_summary_rows_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns for which the summaries should be calculated. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_fns">fns</code></td>
<td>
<p><em>Aggregation Expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression|list of expressions&gt;&#8288;</code>
</p>
<p>Functions used for aggregations. This can include base functions like
<code>mean</code>, <code>min</code>, <code>max</code>, <code>median</code>, <code>sd</code>, or <code>sum</code> or any other user-defined
aggregation function. Multiple functions, each of which would generate a
different row, are to be supplied within a <code>list()</code>. We can specify the
functions by use of function names in quotes (e.g., <code>"sum"</code>), as bare
functions (e.g., <code>sum</code>), or in formula form (e.g., <code>minimum ~ min(.)</code>)
where the LHS could be used to supply the summary row label and ID values.
More information on this can be found in the
<em>Aggregation expressions for <code>fns</code></em> section.</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_fmt">fmt</code></td>
<td>
<p><em>Formatting expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression|list of expressions&gt;&#8288;</code>
</p>
<p>Formatting expressions in formula form. The RHS of <code>~</code> should contain a
formatting call (e.g., <code style="white-space: pre;">&#8288;~ fmt_number(., decimals = 3, use_seps = FALSE&#8288;</code>).
Optionally, the LHS could contain a group-targeting expression (e.g.,
<code>"group_a" ~ fmt_number(.)</code>). More information on this can be found in the
<em>Formatting expressions for <code>fmt</code></em> section.</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_side">side</code></td>
<td>
<p><em>Side used for placement of grand summary rows</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[bottom|top]&#8288;</code> // <em>default:</em> <code>"bottom"</code>
</p>
<p>Should the grand summary rows be placed at the <code>"bottom"</code> (the default) or
the <code>"top"</code> of the table?</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_missing_text">missing_text</code></td>
<td>
<p><em>Replacement text for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"---"</code>
</p>
<p>The text to be used in place of <code>NA</code> values in summary cells with no data
outputs.</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_formatter">formatter</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> Formatting function</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression&gt;&#8288;</code>
</p>
<p>Deprecated, please use <code>fmt</code> instead. This was previously used as a way to
input a formatting function name, which could be any of the <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions available in the package (e.g., <code><a href="#topic+fmt_number">fmt_number()</a></code>, <code><a href="#topic+fmt_percent">fmt_percent()</a></code>,
etc.), or a custom function using <code><a href="#topic+fmt">fmt()</a></code>. The options of a formatter can
be accessed through <code>...</code>.</p>
</td></tr>
<tr><td><code id="grand_summary_rows_+3A_...">...</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> Formatting arguments</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;Named arguments&gt;&#8288;</code>
</p>
<p>Deprecated (along with <code>formatter</code>) but otherwise used for argument values
for a formatting function supplied in <code>formatter</code>. For example, if using
<code>formatter = fmt_number</code>, options such as <code>decimals = 1</code>, <code>use_seps = FALSE</code>, and the like can be used here.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Using <code>columns</code> to target column data for aggregation</h3>

<p>Targeting of column data for which aggregates should be generated is done
through the <code>columns</code> argument. We can declare column names in <code>c()</code> (with
bare column names or names in quotes) or we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns are selected (with the <code>everything()</code> default). This
default may be not what's needed unless all columns can undergo useful
aggregation by expressions supplied in <code>fns</code>.
</p>


<h3>Aggregation expressions for <code>fns</code></h3>

<p>There are a number of ways to express how an aggregation should work for
each summary row. In addition to that, we have the ability to pass important
information such as the summary row ID value and its label (the former
necessary for targeting within <code><a href="#topic+tab_style">tab_style()</a></code> or <code><a href="#topic+tab_footnote">tab_footnote()</a></code> and the
latter used for display in the rendered table). Here are a number of
instructive examples for how to supply such expressions.
</p>


<h4>Double-sided formula with everything supplied</h4>

<p>We can be explicit and provide a double-sided formula (in the form
<code style="white-space: pre;">&#8288;&lt;LHS&gt; ~ &lt;RHS&gt;&#8288;</code>) that expresses everything about a summary row. That is, it
has an aggregation expression (where <code>.</code> represents the data in the
focused column). Here's an example:
</p>
<p><code>list(id = "minimum", label = "min") ~ min(., na.rm = TRUE)</code>
</p>
<p>The left side (the list) contains named elements that identify the <code>id</code> and
<code>label</code> for the summary row. The right side has an expression for obtaining
a minimum value (dropping <code>NA</code> values in the calculation).
</p>
<p>The <code>list()</code> can be replaced with <code>c()</code> but the advantage of a list is
allowing the use of the <code><a href="#topic+md">md()</a></code> and <code><a href="#topic+html">html()</a></code> helper functions. The above
example can be written as:
</p>
<p><code>list(id = "minimum", label = md("**Minimum**")) ~ min(., na.rm = TRUE)</code>
</p>
<p>and we can have that label value interpreted as Markdown text.
</p>



<h4>Function names in quotes</h4>

<p>With <code>fns = "min"</code> we get the equivalent of the fuller expression:
</p>
<p><code>list(id = "min", label = "min") ~ min(., na.rm = TRUE)</code>
</p>
<p>For sake of convenience, common aggregation functions with the <code>na.rm</code>
argument will be rewritten with the <code>na.rm = TRUE</code> option. These functions
are: <code>"min"</code>, <code>"max"</code>, <code>"mean"</code>, <code>"median"</code>, <code>"sd"</code>, and <code>"sum"</code>.
</p>
<p>Should you need to specify multiple aggregation functions in this way (giving
you multiple summary rows), use <code>c()</code> or <code>list()</code>.
</p>



<h4>RHS formula expressions</h4>

<p>With <code>fns = ~ min(.)</code> or <code>fns = list(~ min(.))</code>, <strong>gt</strong> will use the function
name as the <code>id</code> and <code>label</code>. The expansion of this shorthand to full form
looks like this:
</p>
<p><code>list(id = "min", label = "min") ~ min(.)</code>
</p>
<p>The RHS expression is kept as written and the name portion is both the <code>id</code>
and the <code>label</code>.
</p>



<h4>Named vector or list with RHS formula expression</h4>

<p>Using <code>fns = c(minimum = ~ min(.))</code> or <code>fns = list(minimum = ~ min(.))</code>
expands to this:
</p>
<p><code>list(id = "minimum", label = "minimum") ~ min(.)</code>
</p>



<h4>Unnamed vector or list with RHS formula expression</h4>

<p>With <code>fns = c("minimum", "min") ~ min(.)</code> or
<code>fns = list("minimum", "min") ~ min(.)</code> the LHS contains the <code>label</code> and <code>id</code>
values and, importantly, the order is <code>label</code> first and <code>id</code> second. This can
be rewritten as:
</p>
<p><code>list(id = "min", label = "minimum") ~ min(.)</code>
</p>
<p>If the vector or list is partially named, <strong>gt</strong> has enough to go on to
disambiguate the unnamed element. So with
<code>fns = c("minimum", label = "min") ~ min(.)</code>, <code>"min"</code> is indeed the <code>label</code>
and <code>"minimum"</code> is taken as the <code>id</code> value.
</p>



<h4>A fully named list with three specific elements</h4>

<p>We can avoid using a formula if we are satisfied with the default options of
a function (except some of those functions with the <code>na.rm</code> options, see
above). Instead, a list with the named elements <code>id</code>, <code>label</code>, and <code>fn</code> could
be used. It can look like this:
</p>
<p><code>fns = list(id = "mean_id", label = "average", fn = "mean")</code>
</p>
<p>which translates to
</p>
<p><code>list(id = "mean_id", label = "average") ~ mean(., na.rm = TRUE)</code>
</p>



<h3>Formatting expressions for <code>fmt</code></h3>

<p>Given that we are generating new data in a table, we might also want to
take the opportunity to format those new values right away. We can do this
in the <code>fmt</code> argument, either with a single expression or a number of them
in a list.
</p>
<p>We can supply a one-sided (RHS only) expression to <code>fmt</code>, and, several can
be provided in a list. The expression uses a formatting function (e.g.,
<code><a href="#topic+fmt_number">fmt_number()</a></code>, <code><a href="#topic+fmt_currency">fmt_currency()</a></code>, etc.) and it must contain an initial <code>.</code>
that stands for the data object. If performing numeric formatting on all
columns in the new grand summary rows, it might look something like this:
</p>
<p><code>fmt = ~ fmt_number(., decimals = 1, use_seps = FALSE)</code>
</p>
<p>We can use the <code>columns</code> and <code>rows</code> arguments that are available in every
formatting function. This allows us to format only a subset of columns or
rows. Summary rows can be targeted by using their ID values and these are
settable within expressions given to <code>fns</code> (see the <em>Aggregation expressions
for <code>fns</code></em> section for details on this). Here's an example with hypothetical
column and row names:
</p>
<p><code>fmt = ~ fmt_number(., columns = num, rows = "mean", decimals = 3)</code>
</p>


<h3>Extraction of summary rows</h3>

<p>Should we need to obtain the summary data for external purposes,
<code><a href="#topic+extract_summary">extract_summary()</a></code> can be used with a <code>gt_tbl</code> object where summary rows
were added via <code>grand_summary_rows()</code> or <code><a href="#topic+summary_rows">summary_rows()</a></code>.
</p>


<h3>Examples</h3>

<p>Use a modified version of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a <strong>gt</strong> table with
row groups and row labels. Create the grand summary rows <code>min</code>, <code>max</code>, and
<code>avg</code> for the table with <code>grand_summary_rows()</code>.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "2015-01-05" &amp; date &lt;= "2015-01-16") |&gt;
  dplyr::arrange(date) |&gt;
  dplyr::mutate(week = paste0("W", strftime(date, format = "%V"))) |&gt;
  dplyr::select(-adj_close, -volume) |&gt;
  gt(
    rowname_col = "date",
    groupname_col = "week"
  ) |&gt;
  grand_summary_rows(
    columns = c(open, high, low, close),
    fns = list(
      min ~ min(.),
      max ~ max(.),
      avg ~ mean(.)
    ),
    fmt = ~ fmt_number(., use_seps = FALSE)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_grand_summary_rows_1.png" alt="This image of a table was generated from the first code example in the `grand_summary_rows()` help file." style="width:100%;">

<p>Let's take the <code><a href="#topic+countrypops">countrypops</a></code> dataset and process that a bit before handing
it off to <strong>gt</strong>. We can create a single grand summary row with totals that
appears at the top of the table body (with <code>side = "top"</code>). We can define the
aggregation with a list that contains parameters for the grand summary row
label (<code>"TOTALS"</code>), the ID value of that row (<code>"totals"</code>), and the
aggregation function (expressed as <code>"sum"</code>, which <strong>gt</strong> recognizes as the
<code>sum()</code> function). Finally, we'll add a background fill to the grand summary
row with <code><a href="#topic+tab_style">tab_style()</a></code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(country_code_2 %in% c("BE", "NL", "LU")) |&gt;
  dplyr::filter(year %% 10 == 0) |&gt;
  dplyr::select(country_name, year, population) |&gt;
  tidyr::pivot_wider(names_from = year, values_from = population) |&gt;
  gt(rowname_col = "country_name") |&gt;
  tab_header(title = "Populations of the Benelux Countries") |&gt;
  tab_spanner(columns = everything(), label = "Year") |&gt;
  fmt_integer() |&gt;
  grand_summary_rows(
    fns =  list(label = "TOTALS", id = "totals", fn = "sum"),
    fmt = ~ fmt_integer(.),
    side = "top"
  ) |&gt;
  tab_style(
    locations = cells_grand_summary(),
    style = cell_fill(color = "lightblue" |&gt; adjust_luminance(steps = +1))
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_grand_summary_rows_2.png" alt="This image of a table was generated from the second code example in the `grand_summary_rows()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>6-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other row addition/modification functions: 
<code><a href="#topic+row_group_order">row_group_order</a>()</code>,
<code><a href="#topic+rows_add">rows_add</a>()</code>,
<code><a href="#topic+summary_rows">summary_rows</a>()</code>
</p>

<hr>
<h2 id='grp_add'>Add one or more <strong>gt</strong> tables to a <code>gt_group</code> container object</h2><span id='topic+grp_add'></span>

<h3>Description</h3>

<p>Should you have a <code>gt_group</code> object, created through use of the <code><a href="#topic+gt_group">gt_group()</a></code>
function, you might want to add more <strong>gt</strong> tables to that container. While
it's common to generate a <code>gt_group</code> object with a collection of <code>gt_tbl</code>
objects, one can also create an 'empty' <code>gt_group</code> object. Whatever your
workflow might be, the <code>grp_add()</code> function makes it possible to flexibly
add one or more new <strong>gt</strong> tables, returning a refreshed <code>gt_group</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grp_add(.data, ..., .list = list2(...), .before = NULL, .after = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grp_add_+3A_.data">.data</code></td>
<td>
<p><em>The gt table group object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_group&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is a <code>gt_group</code> container object. It is typically generated through
use of <code><a href="#topic+gt_group">gt_group()</a></code> along with one or more <code>gt_tbl</code> objects, or, made by
splitting a <strong>gt</strong> table with <code><a href="#topic+gt_split">gt_split()</a></code>.</p>
</td></tr>
<tr><td><code id="grp_add_+3A_...">...</code></td>
<td>
<p><em>One or more gt table objects</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong> (or, use <code>.list</code>)
</p>
<p>One or more <strong>gt</strong> table (<code>gt_tbl</code>) objects, typically generated via the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="grp_add_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
<tr><td><code id="grp_add_+3A_.before">.before</code>, <code id="grp_add_+3A_.after">.after</code></td>
<td>
<p><em>Table used as anchor</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single index for either <code>.before</code> or <code>.after</code>, specifying where the
supplied <code>gt_tbl</code> objects should be placed amongst the existing collection
of <strong>gt</strong> tables. If nothing is provided for either argument the incoming
<code>gt_tbl</code> objects will be appended.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Function ID</h3>

<p>14-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='grp_clone'>Clone one or more <strong>gt</strong> tables in a <code>gt_group</code> container object</h2><span id='topic+grp_clone'></span>

<h3>Description</h3>

<p>Should you have a <code>gt_group</code> object, created through use of the <code><a href="#topic+gt_group">gt_group()</a></code>
function, you may in certain circumstances want to create replicas of
<code>gt_tbl</code> objects in that collection. This can be done with the <code>grp_clone()</code>
function and the placement of the cloned <strong>gt</strong> tables can be controlled with
either the <code>before</code> or <code>after</code> arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grp_clone(data, which = NULL, before = NULL, after = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grp_clone_+3A_data">data</code></td>
<td>
<p><em>The gt table group object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_group&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is a <code>gt_group</code> container object. It is typically generated through
use of <code><a href="#topic+gt_group">gt_group()</a></code> along with one or more <code>gt_tbl</code> objects, or, made by
splitting a <strong>gt</strong> table with <code><a href="#topic+gt_split">gt_split()</a></code>.</p>
</td></tr>
<tr><td><code id="grp_clone_+3A_which">which</code></td>
<td>
<p><em>The tables to clone</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A vector of index values denoting which <strong>gt</strong> tables should be cloned
inside of the <code>gt_group</code> object.</p>
</td></tr>
<tr><td><code id="grp_clone_+3A_before">before</code>, <code id="grp_clone_+3A_after">after</code></td>
<td>
<p><em>Table used as anchor</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single index for either <code>before</code> or <code>after</code>, specifies where the cloned
<code>gt_tbl</code> objects should be placed amongst the existing collection of <strong>gt</strong>
tables. If nothing is provided for either argument, the incoming <code>gt_tbl</code>
objects will be appended.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Function ID</h3>

<p>14-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='grp_options'>Modify table options for all tables within a <code>gt_group</code> object</h2><span id='topic+grp_options'></span>

<h3>Description</h3>

<p>Modify the options for a collection of <strong>gt</strong> tables in a <code>gt_group</code> object.
These options are named by the components, the subcomponents, and the
element that can adjusted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grp_options(
  data,
  table.width = NULL,
  table.layout = NULL,
  table.align = NULL,
  table.margin.left = NULL,
  table.margin.right = NULL,
  table.background.color = NULL,
  table.additional_css = NULL,
  table.font.names = NULL,
  table.font.size = NULL,
  table.font.weight = NULL,
  table.font.style = NULL,
  table.font.color = NULL,
  table.font.color.light = NULL,
  table.border.top.style = NULL,
  table.border.top.width = NULL,
  table.border.top.color = NULL,
  table.border.right.style = NULL,
  table.border.right.width = NULL,
  table.border.right.color = NULL,
  table.border.bottom.style = NULL,
  table.border.bottom.width = NULL,
  table.border.bottom.color = NULL,
  table.border.left.style = NULL,
  table.border.left.width = NULL,
  table.border.left.color = NULL,
  heading.background.color = NULL,
  heading.align = NULL,
  heading.title.font.size = NULL,
  heading.title.font.weight = NULL,
  heading.subtitle.font.size = NULL,
  heading.subtitle.font.weight = NULL,
  heading.padding = NULL,
  heading.padding.horizontal = NULL,
  heading.border.bottom.style = NULL,
  heading.border.bottom.width = NULL,
  heading.border.bottom.color = NULL,
  heading.border.lr.style = NULL,
  heading.border.lr.width = NULL,
  heading.border.lr.color = NULL,
  column_labels.background.color = NULL,
  column_labels.font.size = NULL,
  column_labels.font.weight = NULL,
  column_labels.text_transform = NULL,
  column_labels.padding = NULL,
  column_labels.padding.horizontal = NULL,
  column_labels.vlines.style = NULL,
  column_labels.vlines.width = NULL,
  column_labels.vlines.color = NULL,
  column_labels.border.top.style = NULL,
  column_labels.border.top.width = NULL,
  column_labels.border.top.color = NULL,
  column_labels.border.bottom.style = NULL,
  column_labels.border.bottom.width = NULL,
  column_labels.border.bottom.color = NULL,
  column_labels.border.lr.style = NULL,
  column_labels.border.lr.width = NULL,
  column_labels.border.lr.color = NULL,
  column_labels.hidden = NULL,
  column_labels.units_pattern = NULL,
  row_group.background.color = NULL,
  row_group.font.size = NULL,
  row_group.font.weight = NULL,
  row_group.text_transform = NULL,
  row_group.padding = NULL,
  row_group.padding.horizontal = NULL,
  row_group.border.top.style = NULL,
  row_group.border.top.width = NULL,
  row_group.border.top.color = NULL,
  row_group.border.bottom.style = NULL,
  row_group.border.bottom.width = NULL,
  row_group.border.bottom.color = NULL,
  row_group.border.left.style = NULL,
  row_group.border.left.width = NULL,
  row_group.border.left.color = NULL,
  row_group.border.right.style = NULL,
  row_group.border.right.width = NULL,
  row_group.border.right.color = NULL,
  row_group.default_label = NULL,
  row_group.as_column = NULL,
  table_body.hlines.style = NULL,
  table_body.hlines.width = NULL,
  table_body.hlines.color = NULL,
  table_body.vlines.style = NULL,
  table_body.vlines.width = NULL,
  table_body.vlines.color = NULL,
  table_body.border.top.style = NULL,
  table_body.border.top.width = NULL,
  table_body.border.top.color = NULL,
  table_body.border.bottom.style = NULL,
  table_body.border.bottom.width = NULL,
  table_body.border.bottom.color = NULL,
  stub.background.color = NULL,
  stub.font.size = NULL,
  stub.font.weight = NULL,
  stub.text_transform = NULL,
  stub.border.style = NULL,
  stub.border.width = NULL,
  stub.border.color = NULL,
  stub.indent_length = NULL,
  stub_row_group.font.size = NULL,
  stub_row_group.font.weight = NULL,
  stub_row_group.text_transform = NULL,
  stub_row_group.border.style = NULL,
  stub_row_group.border.width = NULL,
  stub_row_group.border.color = NULL,
  data_row.padding = NULL,
  data_row.padding.horizontal = NULL,
  summary_row.background.color = NULL,
  summary_row.text_transform = NULL,
  summary_row.padding = NULL,
  summary_row.padding.horizontal = NULL,
  summary_row.border.style = NULL,
  summary_row.border.width = NULL,
  summary_row.border.color = NULL,
  grand_summary_row.background.color = NULL,
  grand_summary_row.text_transform = NULL,
  grand_summary_row.padding = NULL,
  grand_summary_row.padding.horizontal = NULL,
  grand_summary_row.border.style = NULL,
  grand_summary_row.border.width = NULL,
  grand_summary_row.border.color = NULL,
  footnotes.background.color = NULL,
  footnotes.font.size = NULL,
  footnotes.padding = NULL,
  footnotes.padding.horizontal = NULL,
  footnotes.border.bottom.style = NULL,
  footnotes.border.bottom.width = NULL,
  footnotes.border.bottom.color = NULL,
  footnotes.border.lr.style = NULL,
  footnotes.border.lr.width = NULL,
  footnotes.border.lr.color = NULL,
  footnotes.marks = NULL,
  footnotes.spec_ref = NULL,
  footnotes.spec_ftr = NULL,
  footnotes.multiline = NULL,
  footnotes.sep = NULL,
  source_notes.background.color = NULL,
  source_notes.font.size = NULL,
  source_notes.padding = NULL,
  source_notes.padding.horizontal = NULL,
  source_notes.border.bottom.style = NULL,
  source_notes.border.bottom.width = NULL,
  source_notes.border.bottom.color = NULL,
  source_notes.border.lr.style = NULL,
  source_notes.border.lr.width = NULL,
  source_notes.border.lr.color = NULL,
  source_notes.multiline = NULL,
  source_notes.sep = NULL,
  row.striping.background_color = NULL,
  row.striping.include_stub = NULL,
  row.striping.include_table_body = NULL,
  container.width = NULL,
  container.height = NULL,
  container.padding.x = NULL,
  container.padding.y = NULL,
  container.overflow.x = NULL,
  container.overflow.y = NULL,
  ihtml.active = NULL,
  ihtml.use_pagination = NULL,
  ihtml.use_pagination_info = NULL,
  ihtml.use_sorting = NULL,
  ihtml.use_search = NULL,
  ihtml.use_filters = NULL,
  ihtml.use_resizers = NULL,
  ihtml.use_highlight = NULL,
  ihtml.use_compact_mode = NULL,
  ihtml.use_text_wrapping = NULL,
  ihtml.use_page_size_select = NULL,
  ihtml.page_size_default = NULL,
  ihtml.page_size_values = NULL,
  ihtml.pagination_type = NULL,
  page.orientation = NULL,
  page.numbering = NULL,
  page.header.use_tbl_headings = NULL,
  page.footer.use_tbl_notes = NULL,
  page.width = NULL,
  page.height = NULL,
  page.margin.left = NULL,
  page.margin.right = NULL,
  page.margin.top = NULL,
  page.margin.bottom = NULL,
  page.header.height = NULL,
  page.footer.height = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grp_options_+3A_data">data</code></td>
<td>
<p><em>The gt table group object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_group&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is a <code>gt_group</code> container object. It is typically generated through
use of <code><a href="#topic+gt_group">gt_group()</a></code> along with one or more <code>gt_tbl</code> objects, or, made by
splitting a <strong>gt</strong> table with <code><a href="#topic+gt_split">gt_split()</a></code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.width">table.width</code></td>
<td>
<p><em>Table width</em>
</p>
<p>The table width can be specified as a single-length character with units of
pixels or as a percentage. If provided as a single-length numeric vector,
it is assumed that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code> and
<code><a href="#topic+pct">pct()</a></code> helper functions can also be used to pass in numeric values and
obtain values as pixel or percent units.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.layout">table.layout</code></td>
<td>
<p><em>The table-layout property</em>
</p>
<p>This is the value for the <code>table-layout</code> CSS style in the HTML output
context. By default, this is <code>"fixed"</code> but another valid option is
<code>"auto"</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.align">table.align</code></td>
<td>
<p><em>Horizontal alignment of table</em>
</p>
<p>The <code>table.align</code> option lets us set the horizontal alignment of the table
in its container. By default, this is <code>"center"</code>. Other options are
<code>"left"</code> and <code>"right"</code>. This will automatically set <code>table.margin.left</code> and
<code>table.margin.right</code> to the appropriate values.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.margin.left">table.margin.left</code>, <code id="grp_options_+3A_table.margin.right">table.margin.right</code></td>
<td>
<p><em>Left and right table margins</em>
</p>
<p>The size of the margins on the left and right of the table within the
container can be set with <code>table.margin.left</code> and <code>table.margin.right</code>. Can
be specified as a single-length character with units of pixels or as a
percentage. If provided as a single-length numeric vector, it is assumed
that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code> and <code><a href="#topic+pct">pct()</a></code> helper
functions can also be used to pass in numeric values and obtain values as
pixel or percent units. Using <code>table.margin.left</code> or <code>table.margin.right</code>
will overwrite any values set by <code>table.align</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.background.color">table.background.color</code>, <code id="grp_options_+3A_heading.background.color">heading.background.color</code>, <code id="grp_options_+3A_column_labels.background.color">column_labels.background.color</code>, <code id="grp_options_+3A_row_group.background.color">row_group.background.color</code>, <code id="grp_options_+3A_stub.background.color">stub.background.color</code>, <code id="grp_options_+3A_summary_row.background.color">summary_row.background.color</code>, <code id="grp_options_+3A_grand_summary_row.background.color">grand_summary_row.background.color</code>, <code id="grp_options_+3A_footnotes.background.color">footnotes.background.color</code>, <code id="grp_options_+3A_source_notes.background.color">source_notes.background.color</code></td>
<td>
<p><em>Background colors</em>
</p>
<p>These options govern background colors for the parent element <code>table</code> and
the following child elements: <code>heading</code>, <code>column_labels</code>, <code>row_group</code>,
<code>stub</code>, <code>summary_row</code>, <code>grand_summary_row</code>, <code>footnotes</code>, and
<code>source_notes</code>. A color name or a hexadecimal color code should be
provided.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.additional_css">table.additional_css</code></td>
<td>
<p><em>Additional CSS</em>
</p>
<p>The <code>table.additional_css</code> option can be used to supply an additional block
of CSS rules to be applied after the automatically generated table CSS.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.font.names">table.font.names</code></td>
<td>
<p><em>Default table fonts</em>
</p>
<p>The names of the fonts used for the table can be supplied through
<code>table.font.names</code>. This is a vector of several font names. If the first
font isn't available, then the next font is tried (and so on).</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.font.size">table.font.size</code>, <code id="grp_options_+3A_heading.title.font.size">heading.title.font.size</code>, <code id="grp_options_+3A_heading.subtitle.font.size">heading.subtitle.font.size</code>, <code id="grp_options_+3A_column_labels.font.size">column_labels.font.size</code>, <code id="grp_options_+3A_row_group.font.size">row_group.font.size</code>, <code id="grp_options_+3A_stub.font.size">stub.font.size</code>, <code id="grp_options_+3A_footnotes.font.size">footnotes.font.size</code>, <code id="grp_options_+3A_source_notes.font.size">source_notes.font.size</code></td>
<td>
<p><em>Table font sizes</em>
</p>
<p>The font sizes for the parent text element <code>table</code> and the following child
elements: <code>heading.title</code>, <code>heading.subtitle</code>, <code>column_labels</code>,
<code>row_group</code>, <code>footnotes</code>, and <code>source_notes</code>. Can be specified as a
single-length character vector with units of pixels (e.g., <code style="white-space: pre;">&#8288;12px&#8288;</code>) or as a
percentage (e.g., <code style="white-space: pre;">&#8288;80\%&#8288;</code>). If provided as a single-length numeric vector,
it is assumed that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code> and
<code><a href="#topic+pct">pct()</a></code> helper functions can also be used to pass in numeric values and
obtain values as pixel or percentage units.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.font.weight">table.font.weight</code>, <code id="grp_options_+3A_heading.title.font.weight">heading.title.font.weight</code>, <code id="grp_options_+3A_heading.subtitle.font.weight">heading.subtitle.font.weight</code>, <code id="grp_options_+3A_column_labels.font.weight">column_labels.font.weight</code>, <code id="grp_options_+3A_row_group.font.weight">row_group.font.weight</code>, <code id="grp_options_+3A_stub.font.weight">stub.font.weight</code></td>
<td>
<p><em>Table font weights</em>
</p>
<p>The font weights of the table, <code>heading.title</code>, <code>heading.subtitle</code>,
<code>column_labels</code>, <code>row_group</code>, and <code>stub</code> text elements. Can be a text-based
keyword such as <code>"normal"</code>, <code>"bold"</code>, <code>"lighter"</code>, <code>"bolder"</code>, or, a
numeric value between <code>1</code> and <code>1000</code>, inclusive. Note that only variable
fonts may support the numeric mapping of weight.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.font.style">table.font.style</code></td>
<td>
<p><em>Default table font style</em>
</p>
<p>This is the default font style for the table. Can be one of either
<code>"normal"</code>, <code>"italic"</code>, or <code>"oblique"</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.font.color">table.font.color</code>, <code id="grp_options_+3A_table.font.color.light">table.font.color.light</code></td>
<td>
<p><em>Default dark and light text for the table</em>
</p>
<p>These options define text colors used throughout the table. There are two
variants: <code>table.font.color</code> is for text overlaid on lighter background
colors, and <code>table.font.color.light</code> is automatically used when text needs
to be overlaid on darker background colors. A color name or a hexadecimal
color code should be provided.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table.border.top.style">table.border.top.style</code>, <code id="grp_options_+3A_table.border.top.width">table.border.top.width</code>, <code id="grp_options_+3A_table.border.top.color">table.border.top.color</code>, <code id="grp_options_+3A_table.border.right.style">table.border.right.style</code>, <code id="grp_options_+3A_table.border.right.width">table.border.right.width</code>, <code id="grp_options_+3A_table.border.right.color">table.border.right.color</code>, <code id="grp_options_+3A_table.border.bottom.style">table.border.bottom.style</code>, <code id="grp_options_+3A_table.border.bottom.width">table.border.bottom.width</code>, <code id="grp_options_+3A_table.border.bottom.color">table.border.bottom.color</code>, <code id="grp_options_+3A_table.border.left.style">table.border.left.style</code>, <code id="grp_options_+3A_table.border.left.width">table.border.left.width</code>, <code id="grp_options_+3A_table.border.left.color">table.border.left.color</code></td>
<td>
<p><em>Top border properties</em>
</p>
<p>The style, width, and color properties of the table's absolute top and
absolute bottom borders.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_heading.align">heading.align</code></td>
<td>
<p><em>Horizontal alignment in the table header</em>
</p>
<p>Controls the horizontal alignment of the heading title and subtitle. We can
either use <code>"center"</code>, <code>"left"</code>, or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_heading.padding">heading.padding</code>, <code id="grp_options_+3A_column_labels.padding">column_labels.padding</code>, <code id="grp_options_+3A_data_row.padding">data_row.padding</code>, <code id="grp_options_+3A_row_group.padding">row_group.padding</code>, <code id="grp_options_+3A_summary_row.padding">summary_row.padding</code>, <code id="grp_options_+3A_grand_summary_row.padding">grand_summary_row.padding</code>, <code id="grp_options_+3A_footnotes.padding">footnotes.padding</code>, <code id="grp_options_+3A_source_notes.padding">source_notes.padding</code></td>
<td>
<p><em>Vertical padding throughout the table</em>
</p>
<p>The amount of vertical padding to incorporate in the <code>heading</code> (title and
subtitle), the <code>column_labels</code> (this includes the column spanners), the row
group labels (<code>row_group.padding</code>), in the body/stub rows
(<code>data_row.padding</code>), in summary rows (<code>summary_row.padding</code> or
<code>grand_summary_row.padding</code>), or in the footnotes and source notes
(<code>footnotes.padding</code> and <code>source_notes.padding</code>).</p>
</td></tr>
<tr><td><code id="grp_options_+3A_heading.padding.horizontal">heading.padding.horizontal</code>, <code id="grp_options_+3A_column_labels.padding.horizontal">column_labels.padding.horizontal</code>, <code id="grp_options_+3A_data_row.padding.horizontal">data_row.padding.horizontal</code>, <code id="grp_options_+3A_row_group.padding.horizontal">row_group.padding.horizontal</code>, <code id="grp_options_+3A_summary_row.padding.horizontal">summary_row.padding.horizontal</code>, <code id="grp_options_+3A_grand_summary_row.padding.horizontal">grand_summary_row.padding.horizontal</code>, <code id="grp_options_+3A_footnotes.padding.horizontal">footnotes.padding.horizontal</code>, <code id="grp_options_+3A_source_notes.padding.horizontal">source_notes.padding.horizontal</code></td>
<td>
<p><em>Horizontal padding throughout the table</em>
</p>
<p>The amount of horizontal padding to incorporate in the <code>heading</code> (title and
subtitle), the <code>column_labels</code> (this includes the column spanners), the row
group labels (<code>row_group.padding.horizontal</code>), in the body/stub rows
(<code>data_row.padding</code>), in summary rows (<code>summary_row.padding.horizontal</code> or
<code>grand_summary_row.padding.horizontal</code>), or in the footnotes and source
notes (<code>footnotes.padding.horizontal</code> and
<code>source_notes.padding.horizontal</code>).</p>
</td></tr>
<tr><td><code id="grp_options_+3A_heading.border.bottom.style">heading.border.bottom.style</code>, <code id="grp_options_+3A_heading.border.bottom.width">heading.border.bottom.width</code>, <code id="grp_options_+3A_heading.border.bottom.color">heading.border.bottom.color</code></td>
<td>
<p><em>Properties of the header's bottom border</em>
</p>
<p>The style, width, and color properties of the header's bottom border. This
border shares space with that of the <code>column_labels</code> location. If the
<code>width</code> of this border is larger, then it will be the visible border.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_heading.border.lr.style">heading.border.lr.style</code>, <code id="grp_options_+3A_heading.border.lr.width">heading.border.lr.width</code>, <code id="grp_options_+3A_heading.border.lr.color">heading.border.lr.color</code></td>
<td>
<p><em>Properties of the header's left and right borders</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>heading</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.text_transform">column_labels.text_transform</code>, <code id="grp_options_+3A_row_group.text_transform">row_group.text_transform</code>, <code id="grp_options_+3A_stub.text_transform">stub.text_transform</code>, <code id="grp_options_+3A_summary_row.text_transform">summary_row.text_transform</code>, <code id="grp_options_+3A_grand_summary_row.text_transform">grand_summary_row.text_transform</code></td>
<td>
<p><em>Text transforms throughout the table</em>
</p>
<p>Options to apply text transformations to the <code>column_labels</code>, <code>row_group</code>,
<code>stub</code>, <code>summary_row</code>, and <code>grand_summary_row</code> text elements. Either of the
<code>"uppercase"</code>, <code>"lowercase"</code>, or <code>"capitalize"</code> keywords can be used.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.vlines.style">column_labels.vlines.style</code>, <code id="grp_options_+3A_column_labels.vlines.width">column_labels.vlines.width</code>, <code id="grp_options_+3A_column_labels.vlines.color">column_labels.vlines.color</code></td>
<td>
<p><em>Properties of all vertical lines by the column labels</em>
</p>
<p>The style, width, and color properties for all vertical lines ('vlines')
of the the <code>column_labels</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.border.top.style">column_labels.border.top.style</code>, <code id="grp_options_+3A_column_labels.border.top.width">column_labels.border.top.width</code>, <code id="grp_options_+3A_column_labels.border.top.color">column_labels.border.top.color</code></td>
<td>
<p><em>Properties of the border above the column labels</em>
</p>
<p>The style, width, and color properties for the top border of the
<code>column_labels</code> location. This border shares space with that of the
<code>heading</code> location. If the <code>width</code> of this border is larger, then it will
be the visible border.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.border.bottom.style">column_labels.border.bottom.style</code>, <code id="grp_options_+3A_column_labels.border.bottom.width">column_labels.border.bottom.width</code>, <code id="grp_options_+3A_column_labels.border.bottom.color">column_labels.border.bottom.color</code></td>
<td>
<p><em>Properties of the border below the column labels</em>
</p>
<p>The style, width, and color properties for the bottom border of the
<code>column_labels</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.border.lr.style">column_labels.border.lr.style</code>, <code id="grp_options_+3A_column_labels.border.lr.width">column_labels.border.lr.width</code>, <code id="grp_options_+3A_column_labels.border.lr.color">column_labels.border.lr.color</code></td>
<td>
<p><em>Properties of the left and right borders next to the column labels</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>column_labels</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.hidden">column_labels.hidden</code></td>
<td>
<p><em>Hiding all column labels</em>
</p>
<p>An option to hide the column labels. If providing <code>TRUE</code> then the entire
<code>column_labels</code> location won't be seen and the table header (if present)
will collapse downward.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_column_labels.units_pattern">column_labels.units_pattern</code></td>
<td>
<p><em>Pattern to combine column labels and units</em>
</p>
<p>The default pattern for combining column labels with any defined units for
column labels. The pattern is initialized as <code>"{1}, {2}"</code>, where <code>"{1}"</code>
refers to the column label text and <code>"{2}"</code> is the text related to the
associated units. When using <code><a href="#topic+cols_units">cols_units()</a></code>, there is the opportunity to
provide a specific pattern that overrides the units pattern unit. Further
to this, if specifying units directly in <code><a href="#topic+cols_label">cols_label()</a></code> (through the units
syntax surrounded by <code>"{{"</code>/<code>"}}"</code>) there is no need for a units pattern
and any value here will be disregarded.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_row_group.border.top.style">row_group.border.top.style</code>, <code id="grp_options_+3A_row_group.border.top.width">row_group.border.top.width</code>, <code id="grp_options_+3A_row_group.border.top.color">row_group.border.top.color</code>, <code id="grp_options_+3A_row_group.border.bottom.style">row_group.border.bottom.style</code>, <code id="grp_options_+3A_row_group.border.bottom.width">row_group.border.bottom.width</code>, <code id="grp_options_+3A_row_group.border.bottom.color">row_group.border.bottom.color</code>, <code id="grp_options_+3A_row_group.border.left.style">row_group.border.left.style</code>, <code id="grp_options_+3A_row_group.border.left.width">row_group.border.left.width</code>, <code id="grp_options_+3A_row_group.border.left.color">row_group.border.left.color</code>, <code id="grp_options_+3A_row_group.border.right.style">row_group.border.right.style</code>, <code id="grp_options_+3A_row_group.border.right.width">row_group.border.right.width</code>, <code id="grp_options_+3A_row_group.border.right.color">row_group.border.right.color</code></td>
<td>
<p><em>Border properties associated with the <code>row_group</code> location</em>
</p>
<p>The style, width, and color properties for all top, bottom, left, and right
borders of the <code>row_group</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_row_group.default_label">row_group.default_label</code></td>
<td>
<p><em>The default row group label</em>
</p>
<p>An option to set a default row group label for any rows not formally placed
in a row group named by <code>group</code> in any call of <code><a href="#topic+tab_row_group">tab_row_group()</a></code>. If this
is set as <code>NA_character_</code> and there are rows that haven't been placed into a
row group (where one or more row groups already exist), those rows will be
automatically placed into a row group without a label.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_row_group.as_column">row_group.as_column</code></td>
<td>
<p><em>Structure row groups with a column</em>
</p>
<p>How should row groups be structured? By default, they are separate rows
that lie above the each of the groups. Setting this to <code>TRUE</code> will
structure row group labels as a separate column in the table stub.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table_body.hlines.style">table_body.hlines.style</code>, <code id="grp_options_+3A_table_body.hlines.width">table_body.hlines.width</code>, <code id="grp_options_+3A_table_body.hlines.color">table_body.hlines.color</code>, <code id="grp_options_+3A_table_body.vlines.style">table_body.vlines.style</code>, <code id="grp_options_+3A_table_body.vlines.width">table_body.vlines.width</code>, <code id="grp_options_+3A_table_body.vlines.color">table_body.vlines.color</code></td>
<td>
<p><em>Properties of all horizontal and vertical lines in the table body</em>
</p>
<p>The style, width, and color properties for all horizontal lines ('hlines')
and vertical lines ('vlines') in the <code>table_body</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_table_body.border.top.style">table_body.border.top.style</code>, <code id="grp_options_+3A_table_body.border.top.width">table_body.border.top.width</code>, <code id="grp_options_+3A_table_body.border.top.color">table_body.border.top.color</code>, <code id="grp_options_+3A_table_body.border.bottom.style">table_body.border.bottom.style</code>, <code id="grp_options_+3A_table_body.border.bottom.width">table_body.border.bottom.width</code>, <code id="grp_options_+3A_table_body.border.bottom.color">table_body.border.bottom.color</code></td>
<td>
<p><em>Properties of top and bottom borders in the table body</em>
</p>
<p>The style, width, and color properties for all top and bottom borders of
the <code>table_body</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_stub.border.style">stub.border.style</code>, <code id="grp_options_+3A_stub.border.width">stub.border.width</code>, <code id="grp_options_+3A_stub.border.color">stub.border.color</code></td>
<td>
<p><em>Properties of the vertical border of the table stub</em>
</p>
<p>The style, width, and color properties for the vertical border of the table
stub.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_stub.indent_length">stub.indent_length</code></td>
<td>
<p><em>Width of each indentation</em>
</p>
<p>The width of each indentation level for row labels in the stub. The
indentation can be set by using <code><a href="#topic+tab_stub_indent">tab_stub_indent()</a></code>. By default this is
<code>"5px"</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_stub_row_group.font.size">stub_row_group.font.size</code>, <code id="grp_options_+3A_stub_row_group.font.weight">stub_row_group.font.weight</code>, <code id="grp_options_+3A_stub_row_group.text_transform">stub_row_group.text_transform</code>, <code id="grp_options_+3A_stub_row_group.border.style">stub_row_group.border.style</code>, <code id="grp_options_+3A_stub_row_group.border.width">stub_row_group.border.width</code>, <code id="grp_options_+3A_stub_row_group.border.color">stub_row_group.border.color</code></td>
<td>
<p><em>Properties of the row group column in the table stub</em>
</p>
<p>Options for the row group column in the table stub (made possible when
using <code>row_group.as_column = TRUE</code>). The defaults for these options mirror
that of the <code style="white-space: pre;">&#8288;stub.*&#8288;</code> variants (except for <code>stub_row_group.border.width</code>,
which is <code>"1px"</code> instead of <code>"2px"</code>).</p>
</td></tr>
<tr><td><code id="grp_options_+3A_summary_row.border.style">summary_row.border.style</code>, <code id="grp_options_+3A_summary_row.border.width">summary_row.border.width</code>, <code id="grp_options_+3A_summary_row.border.color">summary_row.border.color</code></td>
<td>
<p><em>Properties of horizontal borders belonging to summary rows</em>
</p>
<p>The style, width, and color properties for all horizontal borders of the
<code>summary_row</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_grand_summary_row.border.style">grand_summary_row.border.style</code>, <code id="grp_options_+3A_grand_summary_row.border.width">grand_summary_row.border.width</code>, <code id="grp_options_+3A_grand_summary_row.border.color">grand_summary_row.border.color</code></td>
<td>
<p><em>Properties of horizontal borders belonging to grand summary rows</em>
</p>
<p>The style, width, and color properties for the top borders of the
<code>grand_summary_row</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_footnotes.border.bottom.style">footnotes.border.bottom.style</code>, <code id="grp_options_+3A_footnotes.border.bottom.width">footnotes.border.bottom.width</code>, <code id="grp_options_+3A_footnotes.border.bottom.color">footnotes.border.bottom.color</code></td>
<td>
<p><em>Properties of the bottom border belonging to the footnotes</em>
</p>
<p>The style, width, and color properties for the bottom border of the
<code>footnotes</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_footnotes.border.lr.style">footnotes.border.lr.style</code>, <code id="grp_options_+3A_footnotes.border.lr.width">footnotes.border.lr.width</code>, <code id="grp_options_+3A_footnotes.border.lr.color">footnotes.border.lr.color</code></td>
<td>
<p><em>Properties of left and right borders belonging to the footnotes</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>footnotes</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_footnotes.marks">footnotes.marks</code></td>
<td>
<p><em>Sequence of footnote marks</em>
</p>
<p>The set of sequential marks used to reference and identify each of the
footnotes (same input as <code><a href="#topic+opt_footnote_marks">opt_footnote_marks()</a></code>). We can
supply a vector that represents the series of footnote marks. This vector
is recycled when its usage goes beyond the length of the set. At each
cycle, the marks are simply combined (e.g., <code>*</code> -&gt; <code style="white-space: pre;">&#8288;**&#8288;</code> -&gt; <code style="white-space: pre;">&#8288;***&#8288;</code>). The
option exists for providing keywords for certain types of footnote marks.
The keyword <code>"numbers"</code> (the default, indicating that we want to use
numeric marks). We can use lowercase <code>"letters"</code> or uppercase <code>"LETTERS"</code>.
There is the option for using a traditional symbol set where <code>"standard"</code>
provides four symbols, and, <code>"extended"</code> adds two more symbols, making six.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_footnotes.spec_ref">footnotes.spec_ref</code>, <code id="grp_options_+3A_footnotes.spec_ftr">footnotes.spec_ftr</code></td>
<td>
<p><em>Specifications for formatting of footnote marks</em>
</p>
<p>Optional specifications for formatting of footnote references
(<code>footnotes.spec_ref</code>) and their associated marks the footer section
(<code>footnotes.spec_ftr</code>) (same input as <code><a href="#topic+opt_footnote_spec">opt_footnote_spec()</a></code>).
This is a string containing specification control characters. The default
is the spec string <code>"^i"</code>, which is superscript text set in italics. Other
control characters that can be used are: (1) <code>"b"</code> for bold text, and (2)
<code>"("</code> / <code>")"</code> for the enclosure of footnote marks in parentheses.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_footnotes.multiline">footnotes.multiline</code>, <code id="grp_options_+3A_source_notes.multiline">source_notes.multiline</code></td>
<td>
<p><em>Typesetting of multiple footnotes and source notes</em>
</p>
<p>An option to either put footnotes and source notes in separate lines (the
default, or <code>TRUE</code>) or render them as a continuous line of text with
<code>footnotes.sep</code> providing the separator (by default <code>" "</code>) between notes.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_footnotes.sep">footnotes.sep</code>, <code id="grp_options_+3A_source_notes.sep">source_notes.sep</code></td>
<td>
<p><em>Separator characters between adjacent footnotes and source notes</em>
</p>
<p>The separating characters between adjacent footnotes and source notes in
their respective footer sections when rendered as a continuous line of text
(when <code>footnotes.multiline == FALSE</code>). The default value is a single space
character (<code>" "</code>).</p>
</td></tr>
<tr><td><code id="grp_options_+3A_source_notes.border.bottom.style">source_notes.border.bottom.style</code>, <code id="grp_options_+3A_source_notes.border.bottom.width">source_notes.border.bottom.width</code>, <code id="grp_options_+3A_source_notes.border.bottom.color">source_notes.border.bottom.color</code></td>
<td>
<p><em>Properties of the bottom border belonging to the source notes</em>
</p>
<p>The style, width, and color properties for the bottom border of the
<code>source_notes</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_source_notes.border.lr.style">source_notes.border.lr.style</code>, <code id="grp_options_+3A_source_notes.border.lr.width">source_notes.border.lr.width</code>, <code id="grp_options_+3A_source_notes.border.lr.color">source_notes.border.lr.color</code></td>
<td>
<p><em>Properties of left and right borders belonging to the source notes</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>source_notes</code> location.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_row.striping.background_color">row.striping.background_color</code></td>
<td>
<p><em>Background color for row stripes</em>
</p>
<p>The background color for striped table body rows. A color name or a
hexadecimal color code should be provided.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_row.striping.include_stub">row.striping.include_stub</code></td>
<td>
<p><em>Inclusion of the table stub for row stripes</em>
</p>
<p>An option for whether to include the stub when striping rows.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_row.striping.include_table_body">row.striping.include_table_body</code></td>
<td>
<p><em>Inclusion of the table body for row stripes</em>
</p>
<p>An option for whether to include the table body when striping rows.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_container.width">container.width</code>, <code id="grp_options_+3A_container.height">container.height</code>, <code id="grp_options_+3A_container.padding.x">container.padding.x</code>, <code id="grp_options_+3A_container.padding.y">container.padding.y</code></td>
<td>
<p><em>Table container dimensions and padding</em>
</p>
<p>The width and height of the table's container, and, the vertical and
horizontal padding of the table's container. The container width and height
can be specified with units of pixels or as a percentage. The padding is to
be specified as a length with units of pixels. If provided as a numeric
value, it is assumed that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code>
and <code><a href="#topic+pct">pct()</a></code> helper functions can also be used to pass in numeric values and
obtain values as pixel or percent units.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_container.overflow.x">container.overflow.x</code>, <code id="grp_options_+3A_container.overflow.y">container.overflow.y</code></td>
<td>
<p><em>Table container overflow</em>
</p>
<p>Options to enable scrolling in the horizontal and vertical directions when
the table content overflows the container dimensions. Using <code>TRUE</code> (the
default for both) means that horizontal or vertical scrolling is enabled to
view the entire table in those directions. With <code>FALSE</code>, the table may be
clipped if the table width or height exceeds the <code>container.width</code> or
<code>container.height</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.active">ihtml.active</code></td>
<td>
<p><em>Display interactive HTML table</em>
</p>
<p>The option for displaying an interactive version of an HTML table (rather
than an otherwise 'static' table). This enables the use of controls for
pagination, global search, filtering, and sorting. The individual features
are controlled by the other <code style="white-space: pre;">&#8288;table.*&#8288;</code> options. By default, the pagination
(<code>ihtml.use_pagination</code>) and sorting (<code>ihtml.use_sorting</code>) features are
enabled. The <code>ihtml.active</code> option, however, is <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_pagination">ihtml.use_pagination</code>, <code id="grp_options_+3A_ihtml.use_pagination_info">ihtml.use_pagination_info</code></td>
<td>
<p><em>Use pagination</em>
</p>
<p>For interactive HTML output, the option for using pagination controls
(below the table body) can be controlled with <code>ihtml.use_pagination</code>. By
default, this is <code>TRUE</code> and it will allow the use to page through table
content. The informational display text regarding the current page can be
set with <code>ihtml.use_pagination_info</code> (which is <code>TRUE</code> by default).</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_sorting">ihtml.use_sorting</code></td>
<td>
<p><em>Provide column sorting controls</em>
</p>
<p>For interactive HTML output, the option to provide controls for sorting
column values. By default, this is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_search">ihtml.use_search</code></td>
<td>
<p><em>Provide a global search field</em>
</p>
<p>For interactive HTML output, an option that places a search field for
globally filtering rows to the requested content. By default, this is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_filters">ihtml.use_filters</code></td>
<td>
<p><em>Display filtering fields</em>
</p>
<p>For interactive HTML output, this places search fields below each column
header and allows for filtering by column. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_resizers">ihtml.use_resizers</code></td>
<td>
<p><em>Allow column resizing</em>
</p>
<p>For interactive HTML output, this allows for interactive resizing of
columns. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_highlight">ihtml.use_highlight</code></td>
<td>
<p><em>Enable row highlighting on hover</em>
</p>
<p>For interactive HTML output, this highlights individual rows upon hover. By
default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_compact_mode">ihtml.use_compact_mode</code></td>
<td>
<p><em>Use compact mode</em>
</p>
<p>For interactive HTML output, an option to reduce vertical padding and thus
make the table consume less vertical space. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_text_wrapping">ihtml.use_text_wrapping</code></td>
<td>
<p><em>Use text wrapping</em>
</p>
<p>For interactive HTML output, an option to control text wrapping. By default
(<code>TRUE</code>), text will be wrapped to multiple lines; if <code>FALSE</code>, text will be
truncated to a single line.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.use_page_size_select">ihtml.use_page_size_select</code>, <code id="grp_options_+3A_ihtml.page_size_default">ihtml.page_size_default</code>, <code id="grp_options_+3A_ihtml.page_size_values">ihtml.page_size_values</code></td>
<td>
<p><em>Change page size properties</em>
</p>
<p>For interactive HTML output, <code>ihtml.use_page_size_select</code> provides the
option to display a dropdown menu for the number of rows to show per page
of data. By default, this is the vector <code>c(10, 25, 50, 100)</code> which
corresponds to options for <code>10</code>, <code>25</code>, <code>50</code>, and <code>100</code> rows of data per
page. To modify these page-size options, provide a numeric vector to
<code>ihtml.page_size_values</code>. The default page size (initially set as <code>10</code>) can
be modified with <code>ihtml.page_size_default</code> and this works whether or not
<code>ihtml.use_page_size_select</code> is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_ihtml.pagination_type">ihtml.pagination_type</code></td>
<td>
<p><em>Change pagination mode</em>
</p>
<p>For interactive HTML output and when using pagination, one of three options
for presentation pagination controls. The default is <code>"numbers"</code>, where a
series of page-number buttons is presented along with 'previous' and 'next'
buttons. The <code>"jump"</code> option provides an input field with a stepper for the
page number. With <code>"simple"</code>, only the 'previous' and 'next' buttons are
displayed.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.orientation">page.orientation</code></td>
<td>
<p><em>Set RTF page orientation</em>
</p>
<p>For RTF output, this provides an two options for page
orientation: <code>"portrait"</code> (the default) and <code>"landscape"</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.numbering">page.numbering</code></td>
<td>
<p><em>Enable RTF page numbering</em>
</p>
<p>Within RTF output, should page numbering be displayed? By default, this is
set to <code>FALSE</code> but if <code>TRUE</code> then page numbering text will be added to the
document header.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.header.use_tbl_headings">page.header.use_tbl_headings</code></td>
<td>
<p><em>Place table headings in RTF page header</em>
</p>
<p>If <code>TRUE</code> then RTF output tables will migrate all table headings (including
the table title and all column labels) to the page header. This page header
content will repeat across pages. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.footer.use_tbl_notes">page.footer.use_tbl_notes</code></td>
<td>
<p><em>Place table footer in RTF page footer</em>
</p>
<p>If <code>TRUE</code> then RTF output tables will migrate all table footer content
(this includes footnotes and source notes) to the page footer. This page
footer content will repeat across pages. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.width">page.width</code>, <code id="grp_options_+3A_page.height">page.height</code></td>
<td>
<p><em>Set RTF page dimensions</em>
</p>
<p>The page width and height in the standard portrait orientation. This is for
RTF table output and the default values (in inches) are <code style="white-space: pre;">&#8288;8.5in&#8288;</code> and
<code style="white-space: pre;">&#8288;11.0in&#8288;</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.margin.left">page.margin.left</code>, <code id="grp_options_+3A_page.margin.right">page.margin.right</code>, <code id="grp_options_+3A_page.margin.top">page.margin.top</code>, <code id="grp_options_+3A_page.margin.bottom">page.margin.bottom</code></td>
<td>
<p><em>Set RTF page margins</em>
</p>
<p>For RTF table output, these options correspond to the left, right, top, and
bottom page margins. The default values for each of these is <code style="white-space: pre;">&#8288;1.0in&#8288;</code>.</p>
</td></tr>
<tr><td><code id="grp_options_+3A_page.header.height">page.header.height</code>, <code id="grp_options_+3A_page.footer.height">page.footer.height</code></td>
<td>
<p><em>Set RTF page header and footer distances</em>
</p>
<p>The heights of the page header and footer for RTF table outputs. Default
values for both are <code style="white-space: pre;">&#8288;0.5in&#8288;</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Function ID</h3>

<p>14-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='grp_pull'>Pull out a <strong>gt</strong> table from a <code>gt_group</code> container object</h2><span id='topic+grp_pull'></span>

<h3>Description</h3>

<p>Should you have a <code>gt_group</code> object, created through use of <code><a href="#topic+gt_group">gt_group()</a></code>,
you may have a need to extract a <strong>gt</strong> table from that container.
<code>grp_pull()</code> makes this possible, returning a <code>gt_tbl</code> object. The only thing
you need to provide is the index value for the <strong>gt</strong> table within the
<code>gt_group</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grp_pull(data, which)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grp_pull_+3A_data">data</code></td>
<td>
<p><em>The gt table group object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_group&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is a <code>gt_group</code> container object. It is typically generated through
use of <code><a href="#topic+gt_group">gt_group()</a></code> along with one or more <code>gt_tbl</code> objects, or, made by
splitting a <strong>gt</strong> table with <code><a href="#topic+gt_split">gt_split()</a></code>.</p>
</td></tr>
<tr><td><code id="grp_pull_+3A_which">which</code></td>
<td>
<p><em>The table to pull from the group</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A single index value denoting which <code>gt_tbl</code> table should be obtained
from the <code>gt_group</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Function ID</h3>

<p>14-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='grp_replace'>Replace one or more <strong>gt</strong> tables in a <code>gt_group</code> container object</h2><span id='topic+grp_replace'></span>

<h3>Description</h3>

<p><code><a href="#topic+gt_group">gt_group()</a></code> can be used to create a container for multiple <strong>gt</strong> tables.
In some circumstances, you might want to replace a specific <code>gt_tbl</code> object
(or multiple) with a different one. This can be done with <code>grp_replace()</code>.
The important thing is that the number of <strong>gt</strong> tables provided must equal
the number of indices for tables present in the <code>gt_group</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grp_replace(.data, ..., .list = list2(...), .which)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grp_replace_+3A_.data">.data</code></td>
<td>
<p><em>The gt table group object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_group&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is a <code>gt_group</code> container object. It is typically generated through
use of <code><a href="#topic+gt_group">gt_group()</a></code> along with one or more <code>gt_tbl</code> objects, or, made by
splitting a <strong>gt</strong> table with <code><a href="#topic+gt_split">gt_split()</a></code>.</p>
</td></tr>
<tr><td><code id="grp_replace_+3A_...">...</code></td>
<td>
<p><em>One or more gt table objects</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong> (or, use <code>.list</code>)
</p>
<p>One or more <strong>gt</strong> table (<code>gt_tbl</code>) objects, typically generated via the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="grp_replace_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
<tr><td><code id="grp_replace_+3A_.which">.which</code></td>
<td>
<p><em>The tables to replace</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A vector of index values denoting which <strong>gt</strong> tables should be replaced
inside of the <code>gt_group</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Function ID</h3>

<p>14-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='grp_rm'>Remove one or more <strong>gt</strong> tables from a <code>gt_group</code> container object</h2><span id='topic+grp_rm'></span>

<h3>Description</h3>

<p>A <code>gt_group</code> object, created through use of the <code><a href="#topic+gt_group">gt_group()</a></code> function, can
hold a multiple of <strong>gt</strong> tables. However, you might want to delete one or
more <code>gt_tbl</code> objects table from that container. With <code>grp_rm()</code>, this is
possible and safe to perform. What's returned is a <code>gt_group</code> object with the
specified <code>gt_tbl</code> objects gone. The only thing you need to provide is the
index value for the <strong>gt</strong> table within the <code>gt_group</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grp_rm(data, which)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grp_rm_+3A_data">data</code></td>
<td>
<p><em>The gt table group object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_group&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is a <code>gt_group</code> container object. It is typically generated through
use of <code><a href="#topic+gt_group">gt_group()</a></code> along with one or more <code>gt_tbl</code> objects, or, made by
splitting a <strong>gt</strong> table with <code><a href="#topic+gt_split">gt_split()</a></code>.</p>
</td></tr>
<tr><td><code id="grp_rm_+3A_which">which</code></td>
<td>
<p><em>The table to remove from the group</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A single index value denoting which <code>gt_tbl</code> table should be removed
from the <code>gt_group</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Function ID</h3>

<p>14-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='gt'>Create a <strong>gt</strong> table object</h2><span id='topic+gt'></span>

<h3>Description</h3>

<p>The <code>gt()</code> function creates a <strong>gt</strong> table object when provided with table
data. Using this function is the first step in a typical <strong>gt</strong> workflow.
Once we have the <strong>gt</strong> table object, we can perform styling transformations
before rendering to a display table of various formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt(
  data,
  rowname_col = "rowname",
  groupname_col = dplyr::group_vars(data),
  process_md = FALSE,
  caption = NULL,
  rownames_to_stub = FALSE,
  row_group_as_column = FALSE,
  auto_align = TRUE,
  id = NULL,
  locale = NULL,
  row_group.sep = getOption("gt.row_group.sep", " - ")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gt_+3A_data">data</code></td>
<td>
<p><em>Input data table</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;data.frame&gt;|obj:&lt;tbl_df&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A <code>data.frame</code> object or a tibble (<code>tbl_df</code>).</p>
</td></tr>
<tr><td><code id="gt_+3A_rowname_col">rowname_col</code></td>
<td>
<p><em>Column for row names/labels from <code>data</code></em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The column name in the input <code>data</code> table to use as row labels to be placed
in the table stub. If the <code>rownames_to_stub</code> option is <code>TRUE</code> then any
column name provided to <code>rowname_col</code> will be ignored.</p>
</td></tr>
<tr><td><code id="gt_+3A_groupname_col">groupname_col</code></td>
<td>
<p><em>Column for group names/labels from <code>data</code></em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The column name in the input <code>data</code> table to use as group labels for
generation of row groups. If the input <code>data</code> table has the <code>grouped_df</code>
class (through use of <code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code> or associated <code style="white-space: pre;">&#8288;group_by*()&#8288;</code>
functions) then any input here is ignored.</p>
</td></tr>
<tr><td><code id="gt_+3A_process_md">process_md</code></td>
<td>
<p><em>Process Markdown in <code>rowname_col</code> and <code>groupname_col</code></em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the contents of the <code>rowname_col</code> and <code>groupname_col</code> be interpreted
as Markdown? By default this won't happen.</p>
</td></tr>
<tr><td><code id="gt_+3A_caption">caption</code></td>
<td>
<p><em>Table caption text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional table caption to use for cross-referencing in R Markdown,
Quarto, or <strong>bookdown</strong>.</p>
</td></tr>
<tr><td><code id="gt_+3A_rownames_to_stub">rownames_to_stub</code></td>
<td>
<p><em>Use data frame row labels in the stub</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to take rownames from the input <code>data</code> table (should they be
available) as row labels in the display table stub.</p>
</td></tr>
<tr><td><code id="gt_+3A_row_group_as_column">row_group_as_column</code></td>
<td>
<p><em>Mode for displaying row group labels in the stub</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option that alters the display of row group labels. By default this is
<code>FALSE</code> and row group labels will appear in dedicated rows above their
respective groups of rows. If <code>TRUE</code> row group labels will occupy a
secondary column in the table stub.</p>
</td></tr>
<tr><td><code id="gt_+3A_auto_align">auto_align</code></td>
<td>
<p><em>Automatic alignment of column values and labels</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Optionally have column data be aligned depending on the content contained
in each column of the input <code>data</code>. Internally, this calls
<code>cols_align(align = "auto")</code> for all columns.</p>
</td></tr>
<tr><td><code id="gt_+3A_id">id</code></td>
<td>
<p><em>The table ID</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By default (with <code>NULL</code>) this will be a random, ten-letter ID as generated
by using <code><a href="#topic+random_id">random_id()</a></code>. A custom table ID can be used here by
providing a character value.</p>
</td></tr>
<tr><td><code id="gt_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be set as the default locale for all
functions that take a <code>locale</code> argument. Examples include <code>"en"</code> for
English (United States) and <code>"fr"</code> for French (France). We can call
<code><a href="#topic+info_locales">info_locales()</a></code> as a useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="gt_+3A_row_group.sep">row_group.sep</code></td>
<td>
<p><em>Separator text for multiple row group labels</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>getOption("gt.row_group.sep", " - ")</code>
</p>
<p>The separator to use between consecutive group names (a possibility when
providing <code>data</code> as a <code>grouped_df</code> with multiple groups) in the displayed
row group label.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are a few data ingest options we can consider at this stage. We can
choose to create a table stub containing row labels through the use of the
<code>rowname_col</code> argument. Further to this, stub row groups can be created with
the <code>groupname_col</code> argument. Both arguments take the name of a column in the
input table data. Typically, the data in the <code>groupname_col</code> column will
consist of categorical text whereas the data in the <code>rowname_col</code> column will
contain unique labels (could be unique across the entire table or unique
within the different row groups).
</p>
<p>Row groups can also be created by passing a <code>grouped_df</code> to <code>gt()</code> by using
<code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code> on the table data. In this way, two or more
columns of categorical data can be used to make row groups. The
<code>row_group.sep</code> argument allows for control in how the row group labels will
appear in the display table.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset for the next few examples, we'll learn how
to make simple <strong>gt</strong> tables with the <code>gt()</code> function. The most basic thing
to do is to just use <code>gt()</code> with the dataset as the input.
</p>
<div class="sourceCode r"><pre>exibble |&gt; gt()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_1.png" alt="This image of a table was generated from the first code example in the `gt()` help file." style="width:100%;">

<p>This dataset has the <code>row</code> and <code>group</code> columns. The former contains unique
values that are ideal for labeling rows, and this often happens in what is
called the 'stub' (a reserved area that serves to label rows). With the
<code>gt()</code> function, we can immediately place the contents of the <code>row</code> column
into the stub column. To do this, we use the <code>rowname_col</code> argument with the
name of the column to use in quotes.
</p>
<div class="sourceCode r"><pre>exibble |&gt; gt(rowname_col = "row")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_2.png" alt="This image of a table was generated from the second code example in the `gt()` help file." style="width:100%;">

<p>This sets up a table with a stub, the row labels are placed within the stub
column, and a vertical dividing line has been placed on the right-hand side.
</p>
<p>The <code>group</code> column can be used to divide the rows into discrete groups.
Within that column, we see repetitions of the values <code>grp_a</code> and <code>grp_b</code>.
These serve both as ID values and the initial label for the groups. With the
<code>groupname_col</code> argument in <code>gt()</code>, we can set up the row groups immediately
upon creation of the table.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_3.png" alt="This image of a table was generated from the third code example in the `gt()` help file." style="width:100%;">

<p>If you'd rather perform the set up of row groups later (i.e., not in the
<code>gt()</code> call), this is possible with <code><a href="#topic+tab_row_group">tab_row_group()</a></code> (and <code><a href="#topic+row_group_order">row_group_order()</a></code>
can help with the arrangement of row groups).
</p>
<p>One more thing to consider with row groups is their layout. By default, row
group labels reside in separate rows the appear above the group. However,
we can use <code>row_group_as_column = TRUE</code> to put the row group labels within a
secondary column within the table stub.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group",
    row_group_as_column = TRUE
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_4.png" alt="This image of a table was generated from the fourth code example in the `gt()` help file." style="width:100%;">

<p>This could be done later if need be, and using
<code>tab_options(row_group.as_column = TRUE)</code> would be the way to do it outside
of the <code>gt()</code> call.
</p>
<p>Some datasets have rownames built in; <code>mtcars</code> famously has the car model
names as the rownames. To use those rownames as row labels in the stub, the
<code>rownames_to_stub = TRUE</code> option will prove to be useful.
</p>
<div class="sourceCode r"><pre>head(mtcars, 10) |&gt; gt(rownames_to_stub = TRUE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_5.png" alt="This image of a table was generated from the fifth code example in the `gt()` help file." style="width:100%;">

<p>By default, values in the body of a <strong>gt</strong> table (and their column labels)
are automatically aligned. The alignment is governed by the types of values
in a column. If you'd like to disable this form of auto-alignment, the
<code>auto_align = FALSE</code> option can be taken.
</p>
<div class="sourceCode r"><pre>exibble |&gt; gt(rowname_col = "row", auto_align = FALSE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_6.png" alt="This image of a table was generated from the sixth code example in the `gt()` help file." style="width:100%;">

<p>What you'll get from that is center-alignment of all table body values and
all column labels. Note that row labels in the stub are still
left-aligned; and <code>auto_align</code> has no effect on alignment within the table
stub.
</p>
<p>However which way you generate the initial <strong>gt</strong> table object, you can use
it with a huge variety of functions in the package to further customize the
presentation. Formatting body cells is commonly done with the family of
formatting functions (e.g., <code><a href="#topic+fmt_number">fmt_number()</a></code>, <code><a href="#topic+fmt_date">fmt_date()</a></code>, etc.). The package
supports formatting with internationalization ('i18n' features) and so
locale-aware functions come with a <code>locale</code> argument. To avoid having to use
that argument repeatedly, the <code>gt()</code> function has its own <code>locale</code> argument.
Setting a locale in that will make it available globally. Here's an example
of how that works in practice when setting <code>locale = "fr"</code> in <code>gt()</code> and
using formatting functions:
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group",
    locale = "fr"
  ) |&gt;
  fmt_number() |&gt;
  fmt_date(
    columns = date,
    date_style = "yMEd"
  ) |&gt;
  fmt_datetime(
    columns = datetime,
    format = "EEEE, MMMM d, y",
    locale = "en"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_7.png" alt="This image of a table was generated from the seventh code example in the `gt()` help file." style="width:100%;">

<p>In this example, <code><a href="#topic+fmt_number">fmt_number()</a></code> and <code><a href="#topic+fmt_date">fmt_date()</a></code> understand that the locale
for this table is <code>"fr"</code> (French), so the appropriate formatting for that
locale is apparent in the <code>num</code>, <code>currency</code>, and <code>date</code> columns. However in
<code><a href="#topic+fmt_datetime">fmt_datetime()</a></code>, we explicitly use the <code>"en"</code> (English) locale. This
overrides the <code>"fr"</code> default set for this table and the end result is
dates formatted with the English locale in the <code>datetime</code> column.
</p>


<h3>Function ID</h3>

<p>1-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table creation functions: 
<code><a href="#topic+gt_preview">gt_preview</a>()</code>
</p>

<hr>
<h2 id='gt_group'>Create a <code>gt_group</code> container for holding multiple <strong>gt</strong> table objects</h2><span id='topic+gt_group'></span>

<h3>Description</h3>

<p><code>gt_group()</code> creates a container for storage of multiple <strong>gt</strong>
tables. This type of object allows for flexibility in printing multiple
tables in different output formats. For example, if printing multiple tables
in a paginated output environment (e.g., RTF, Word, etc.), each <strong>gt</strong> table
can be printed independently and table separation (usually a page break)
occurs between each of those.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_group(..., .list = list2(...), .use_grp_opts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gt_group_+3A_...">...</code></td>
<td>
<p><em>One or more gt table data objects</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // (<code>optional</code>)
</p>
<p>One or more <strong>gt</strong> table (<code>gt_tbl</code>) objects, typically generated via the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="gt_group_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
<tr><td><code id="gt_group_+3A_.use_grp_opts">.use_grp_opts</code></td>
<td>
<p><em>Apply options to all contained tables?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should options specified in the <code>gt_group</code> object be applied to all
contained <strong>gt</strong> tables? By default this is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Function ID</h3>

<p>14-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_split">gt_split</a>()</code>
</p>

<hr>
<h2 id='gt_latex_dependencies'>Get the LaTeX dependencies required for a <strong>gt</strong> table</h2><span id='topic+gt_latex_dependencies'></span>

<h3>Description</h3>

<p>When working with Rnw (Sweave) files or otherwise writing LaTeX code,
including a <strong>gt</strong> table can be problematic if we don't have knowledge
of the LaTeX dependencies. For the most part, these dependencies are the
LaTeX packages that are required for rendering a <strong>gt</strong> table.
<code>gt_latex_dependencies()</code> provides an object that can be used to provide the
LaTeX in an Rnw file, allowing <strong>gt</strong> tables to work and not yield errors
due to missing packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_latex_dependencies()
</code></pre>


<h3>Details</h3>

<p>Here is an example Rnw document that shows how <code>gt_latex_dependencies()</code>
can be used in conjunction with a <strong>gt</strong> table:
</p>
<pre>
%!sweave=knitr

\documentclass{article}

&lt;&lt;echo=FALSE&gt;&gt;=
library(gt)
 @

&lt;&lt;results='asis', echo=FALSE&gt;&gt;=
gt_latex_dependencies()
 @

\begin{document}

&lt;&lt;results='asis', echo=FALSE&gt;&gt;=
gt(exibble)
 @

\end{document}
</pre>


<h3>Value</h3>

<p>An object of class <code>knit_asis</code>.
</p>


<h3>Function ID</h3>

<p>8-30
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='gt_output'>Create a <strong>gt</strong> display table output element for Shiny</h2><span id='topic+gt_output'></span>

<h3>Description</h3>

<p>Using <code>gt_output()</code> we can render a reactive <strong>gt</strong> table, a process
initiated by using <code><a href="#topic+render_gt">render_gt()</a></code> in the <code>server</code> component of a
Shiny app. <code>gt_output()</code> is to be used in the <a href="https://shiny.posit.co">Shiny</a>
<code>ui</code> component, the position and context wherein this call is made determines
the where the <strong>gt</strong> table is rendered on the app page. It's important to note
that the ID given during <code><a href="#topic+render_gt">render_gt()</a></code> is needed as the <code>outputId</code> in
<code>gt_output()</code> (e.g., <strong>server</strong>: <code style="white-space: pre;">&#8288;output$&lt;id&gt; &lt;- render_gt(...)&#8288;</code>; <strong>ui</strong>:
<code style="white-space: pre;">&#8288;gt_output(outputId = "&lt;id&gt;"&#8288;</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_output(outputId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gt_output_+3A_outputid">outputId</code></td>
<td>
<p><em>Shiny output ID</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>An output variable from which to read the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>shiny.tag</code>.
</p>


<h3>Examples</h3>

<p>Here is a Shiny app (contained within a single file) that (1) prepares a
<strong>gt</strong> table, (2) sets up the <code>ui</code> with <code>gt_output()</code>, and (3) sets up the
<code>server</code> with a <code><a href="#topic+render_gt">render_gt()</a></code> that uses the <code>gt_tbl</code> object as the input
expression.
</p>
<div class="sourceCode r"><pre>library(shiny)

gt_tbl &lt;-
  gtcars |&gt;
  gt() |&gt;
  fmt_currency(columns = msrp, decimals = 0) |&gt;
  cols_hide(columns = -c(mfr, model, year, mpg_c, msrp)) |&gt;
  cols_label_with(columns = everything(), fn = toupper) |&gt;
  data_color(columns = msrp, method = "numeric", palette = "viridis") |&gt;
  sub_missing() |&gt;
  opt_interactive(use_compact_mode = TRUE)

ui &lt;- fluidPage(
  gt_output(outputId = "table")
)

server &lt;- function(input, output, session) {
  output$table &lt;- render_gt(expr = gt_tbl)
}

shinyApp(ui = ui, server = server)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_render_gt_1.png" alt="This image of a table was generated from the first code example in the `render_gt()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>12-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other Shiny functions: 
<code><a href="#topic+render_gt">render_gt</a>()</code>
</p>

<hr>
<h2 id='gt_preview'>Generate a special <strong>gt</strong> table for previewing a dataset</h2><span id='topic+gt_preview'></span>

<h3>Description</h3>

<p>Sometimes you may want to see just a small portion of your input data. We can
use <code>gt_preview()</code> in place of <code><a href="#topic+gt">gt()</a></code> to get the first x rows of data and the
last y rows of data (which can be set by the <code>top_n</code> and <code>bottom_n</code>
arguments). It's not advised to use additional <strong>gt</strong> functions to further
modify the output of <code>gt_preview()</code>. Furthermore, you cannot pass a <strong>gt</strong>
object to <code>gt_preview()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_preview(data, top_n = 5, bottom_n = 1, incl_rownums = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gt_preview_+3A_data">data</code></td>
<td>
<p><em>Input data table</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;data.frame&gt;|obj:&lt;tbl_df&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A <code>data.frame</code> object or a tibble (<code>tbl_df</code>).</p>
</td></tr>
<tr><td><code id="gt_preview_+3A_top_n">top_n</code></td>
<td>
<p><em>Top n rows to display</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>5</code>
</p>
<p>The <code>top_n</code> value will be used as the number of rows from the top of the
table to display. The default, <code>5</code>, will show the first five rows of the
table.</p>
</td></tr>
<tr><td><code id="gt_preview_+3A_bottom_n">bottom_n</code></td>
<td>
<p><em>Bottom n rows to display</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>The <code>bottom_n</code> value will be used as the number of rows from the bottom
of the table to display. The default, <code>1</code>, will show the final row of the
table.</p>
</td></tr>
<tr><td><code id="gt_preview_+3A_incl_rownums">incl_rownums</code></td>
<td>
<p><em>Display row numbers</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to include the row numbers for <code>data</code> in the table stub.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, the output table will include row numbers in a stub (including a
range of row numbers for the omitted rows). This row numbering option can be
deactivated by setting <code>incl_rownums</code> to <code>FALSE</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>With three columns from the <code><a href="#topic+gtcars">gtcars</a></code> dataset, let's create a <strong>gt</strong> table
preview with the <code>gt_preview()</code> function. You'll get only the first five rows
and the last row.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, year) |&gt;
  gt_preview()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_preview_1.png" alt="This image of a table was generated from the first code example in the `gt_preview()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>1-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table creation functions: 
<code><a href="#topic+gt">gt</a>()</code>
</p>

<hr>
<h2 id='gt_split'>Split a table into a group of tables (a <code>gt_group</code>)</h2><span id='topic+gt_split'></span>

<h3>Description</h3>

<p>With a <strong>gt</strong> table, you can split it into multiple tables and get that
collection in a <code>gt_group</code> object. This function is useful for those cases
where you want to section up a table in a specific way and print those
smaller tables across multiple pages (in RTF and Word outputs, primarily via
<code><a href="#topic+gtsave">gtsave()</a></code>), or, with breaks between them when the output context is HTML.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_split(data, row_every_n = NULL, row_slice_i = NULL, col_slice_at = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gt_split_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="gt_split_+3A_row_every_n">row_every_n</code></td>
<td>
<p><em>Split at every n rows</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A directive to split at every <em>n</em> number of rows. This argument expects a
single numerical value.</p>
</td></tr>
<tr><td><code id="gt_split_+3A_row_slice_i">row_slice_i</code></td>
<td>
<p><em>Row-slicing indices</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An argument for splitting at specific row indices. Here, we expect either a
vector of index values or a function that evaluates to a numeric vector.</p>
</td></tr>
<tr><td><code id="gt_split_+3A_col_slice_at">col_slice_at</code></td>
<td>
<p><em>Column-slicing locations</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Any columns where vertical splitting across should occur. The splits occur
to the right of the resolved column names. Can either be a series of column
names provided in <code>c()</code>, a vector of column indices, or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_group</code>.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. Format the
<code>msrp</code> column to display numbers as currency values, set column widths with
<code><a href="#topic+cols_width">cols_width()</a></code>, and split the table at every five rows with <code>gt_split()</code>.
This creates a <code>gt_group</code> object containing two tables. Printing this object
yields two tables separated by a line break.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::slice_head(n = 10) |&gt;
  dplyr::select(mfr, model, year, msrp) |&gt;
  gt() |&gt;
  fmt_currency(columns = msrp) |&gt;
  cols_width(
    year ~ px(80),
    everything() ~ px(150)
  ) |&gt;
  gt_split(row_every_n = 5)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_split_1.png" alt="This image of a table was generated from the first code example in the `gt_split()` help file." style="width:100%;">

<p>Use a smaller subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table.
Format the <code>msrp</code> column to display numbers as currency values, set the table
width with <code><a href="#topic+tab_options">tab_options()</a></code> and split the table at the <code>model</code> column This
creates a <code>gt_group</code> object again containing two tables but this time we get
a vertical split. Printing this object yields two tables of the same width.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::slice_head(n = 5) |&gt;
  dplyr::select(mfr, model, year, msrp) |&gt;
  gt() |&gt;
  fmt_currency(columns = msrp) |&gt;
  tab_options(table.width = px(400)) |&gt;
  gt_split(col_slice_at = "model")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_gt_split_2.png" alt="This image of a table was generated from the second code example in the `gt_split()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>14-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table group functions: 
<code><a href="#topic+grp_add">grp_add</a>()</code>,
<code><a href="#topic+grp_clone">grp_clone</a>()</code>,
<code><a href="#topic+grp_options">grp_options</a>()</code>,
<code><a href="#topic+grp_pull">grp_pull</a>()</code>,
<code><a href="#topic+grp_replace">grp_replace</a>()</code>,
<code><a href="#topic+grp_rm">grp_rm</a>()</code>,
<code><a href="#topic+gt_group">gt_group</a>()</code>
</p>

<hr>
<h2 id='gt-options'><strong>gt</strong> package options</h2><span id='topic+gt-options'></span>

<h3>Description</h3>

<p><strong>gt</strong> package options
</p>


<h3>Package options</h3>

<p><strong>gt</strong> uses the following <code><a href="base.html#topic+options">options()</a></code> to configure behavior:
</p>

<ul>
<li> <p><code>gt.row_group.sep</code>: A separator between groups for the row group label. By
default this is <code>" - "</code>.
</p>
</li>
<li> <p><code>gt.html_tag_check</code>: A logical scalar indicating whether or not to print a
warning when HTML tags are found in a table that is being rendered to LaTeX.
The default for this is <code>TRUE</code>.
</p>
</li>
<li> <p><code>gt.strict_column_fmt</code>: A logical scalar that controls whether formatting
via the <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code> functions should fail if attempting to format data that is
incompatible with the function. This is <code>FALSE</code> by default.
</p>
</li>
<li> <p><code>gt.latex_packages</code>: A vector of LaTeX package names to use when generating
tables in the LaTeX output context. The set of packages loaded is controlled
by this default vector:
<code>c("booktabs", "caption", "longtable", "colortbl", "array")</code>.
</p>
</li></ul>


<hr>
<h2 id='gtcars'>Deluxe automobiles from the 2014-2017 period</h2><span id='topic+gtcars'></span>

<h3>Description</h3>

<p>Expensive and fast cars. Not your father's <code>mtcars</code>. Each row describes a car
of a certain make, model, year, and trim. Basic specifications such as
horsepower, torque, EPA MPG ratings, type of drivetrain, and transmission
characteristics are provided. The country of origin for the car manufacturer
is also given.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtcars
</code></pre>


<h3>Format</h3>

<p>A tibble with 47 rows and 15 variables:
</p>

<dl>
<dt>mfr</dt><dd><p>The name of the car manufacturer.</p>
</dd>
<dt>model</dt><dd><p>The car's model name.</p>
</dd>
<dt>year</dt><dd><p>The car's model year.</p>
</dd>
<dt>trim</dt><dd><p>A short description of the car model's trim.</p>
</dd>
<dt>bdy_style</dt><dd><p>An identifier of the car's body style, which is either
<code>"coupe"</code>, <code>"convertible"</code>, <code>"sedan"</code>, or <code>"hatchback"</code>.</p>
</dd>
<dt>hp, hp_rpm</dt><dd><p>The car's horsepower and the associated RPM level.</p>
</dd>
<dt>trq, trq_rpm</dt><dd><p>The car's torque and the associated RPM level.</p>
</dd>
<dt>mpg_c, mpg_h</dt><dd><p>The miles per gallon fuel efficiency rating for city
and highway driving.</p>
</dd>
<dt>drivetrain</dt><dd><p>The car's drivetrain which, for this dataset, is either
<code>"rwd"</code> (Rear Wheel Drive) or <code>"awd"</code> (All Wheel Drive).</p>
</dd>
<dt>trsmn</dt><dd><p>An encoding of the transmission type, where the number part is
the number of gears. The car could have automatic transmission (<code>"a"</code>),
manual transmission (<code>"m"</code>), an option to switch between both types
(<code>"am"</code>), or, direct drive (<code>"dd"</code>)</p>
</dd>
<dt>ctry_origin</dt><dd><p>The country name for where the vehicle manufacturer
is headquartered.</p>
</dd>
<dt>msrp</dt><dd><p>Manufacturer's suggested retail price in U.S. dollars (USD).</p>
</dd>
</dl>



<h3>Details</h3>

<p>All of the <code>gtcars</code> have something else in common (aside from the high asking
prices): they are all grand tourer vehicles. These are proper GT cars that
blend pure driving thrills with a level of comfort that is more expected from
a fine limousine (e.g., a Rolls-Royce Phantom EWB). You'll find that, with
these cars, comfort is emphasized over all-out performance. Nevertheless, the
driving experience should also mean motoring at speed, doing so in style and
safety.
</p>


<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>gtcars</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(gtcars)
#&gt; Rows: 47
#&gt; Columns: 15
#&gt; $ mfr         &lt;chr&gt; "Ford", "Ferrari", "Ferrari", "Ferrari", "Ferrari", "Ferra~
#&gt; $ model       &lt;chr&gt; "GT", "458 Speciale", "458 Spider", "458 Italia", "488 GTB~
#&gt; $ year        &lt;dbl&gt; 2017, 2015, 2015, 2014, 2016, 2015, 2017, 2015, 2015, 2015~
#&gt; $ trim        &lt;chr&gt; "Base Coupe", "Base Coupe", "Base", "Base Coupe", "Base Co~
#&gt; $ bdy_style   &lt;chr&gt; "coupe", "coupe", "convertible", "coupe", "coupe", "conver~
#&gt; $ hp          &lt;dbl&gt; 647, 597, 562, 562, 661, 553, 680, 652, 731, 949, 573, 545~
#&gt; $ hp_rpm      &lt;dbl&gt; 6250, 9000, 9000, 9000, 8000, 7500, 8250, 8000, 8250, 9000~
#&gt; $ trq         &lt;dbl&gt; 550, 398, 398, 398, 561, 557, 514, 504, 509, 664, 476, 436~
#&gt; $ trq_rpm     &lt;dbl&gt; 5900, 6000, 6000, 6000, 3000, 4750, 5750, 6000, 6000, 6750~
#&gt; $ mpg_c       &lt;dbl&gt; 11, 13, 13, 13, 15, 16, 12, 11, 11, 12, 21, 16, 11, 16, 12~
#&gt; $ mpg_h       &lt;dbl&gt; 18, 17, 17, 17, 22, 23, 17, 16, 16, 16, 22, 22, 18, 20, 20~
#&gt; $ drivetrain  &lt;chr&gt; "rwd", "rwd", "rwd", "rwd", "rwd", "rwd", "awd", "awd", "r~
#&gt; $ trsmn       &lt;chr&gt; "7a", "7a", "7a", "7a", "7a", "7a", "7a", "7a", "7a", "7a"~
#&gt; $ ctry_origin &lt;chr&gt; "United States", "Italy", "Italy", "Italy", "Italy", "Ital~
#&gt; $ msrp        &lt;dbl&gt; 447000, 291744, 263553, 233509, 245400, 198973, 298000, 29~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-3
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_gtcars.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='gtsave'>Save a <strong>gt</strong> table as a file</h2><span id='topic+gtsave'></span>

<h3>Description</h3>

<p><code>gtsave()</code> makes it easy to save a <strong>gt</strong> table to a file. The
function guesses the file type by the extension provided in the output
filename, producing either an HTML, PDF, PNG, LaTeX, or RTF file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtsave(data, filename, path = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtsave_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="gtsave_+3A_filename">filename</code></td>
<td>
<p><em>Output filename</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The file name to create on disk. Ensure that an extension compatible with
the output types is provided (<code>.html</code>, <code>.tex</code>, <code>.ltx</code>, <code>.rtf</code>, <code>.docx</code>). If
a custom save function is provided then the file extension is disregarded.</p>
</td></tr>
<tr><td><code id="gtsave_+3A_path">path</code></td>
<td>
<p><em>Output path</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional path to which the file should be saved (combined with
<code>filename</code>).</p>
</td></tr>
<tr><td><code id="gtsave_+3A_...">...</code></td>
<td>
<p><em>Additional options</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;named arguments&gt;&#8288;</code>
</p>
<p>All other options passed to the appropriate internal saving function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Output filenames with either the <code>.html</code> or <code>.htm</code> extensions will produce an
HTML document. In this case, we can pass a <code>TRUE</code> or <code>FALSE</code> value to the
<code>inline_css</code> option to obtain an HTML document with inlined CSS styles (the
default is <code>FALSE</code>). More details on CSS inlining are available at
<code><a href="#topic+as_raw_html">as_raw_html()</a></code>. We can pass values to arguments in <code><a href="htmltools.html#topic+save_html">htmltools::save_html()</a></code>
through the <code>...</code>. Those arguments are either <code>background</code> or <code>libdir</code>,
please refer to the <strong>htmltools</strong> documentation for more details on the use
of these arguments.
</p>
<p>If the output filename is expressed with the <code>.rtf</code> extension then an RTF
file will be generated. In this case, there is an option that can be passed
through <code>...</code>: <code>page_numbering</code>. This controls RTF document page numbering
and, by default, page numbering is not enabled (i.e., <code>page_numbering = "none"</code>).
</p>
<p>We can create an image file based on the HTML version of the <code>gt</code> table. With
the filename extension <code>.png</code>, we get a PNG image file. A PDF document can be
generated by using the <code>.pdf</code> extension. This process is facilitated by the
<strong>webshot2</strong> package, so, this package needs to be installed before
attempting to save any table as an image file. There is the option of passing
values to the underlying <code><a href="webshot2.html#topic+webshot">webshot2::webshot()</a></code> function through <code>...</code>. Some of
the more useful arguments for PNG saving are <code>zoom</code> (defaults to a scale
level of <code>2</code>) and <code>expand</code> (adds whitespace pixels around the cropped table
image, and has a default value of <code>5</code>), and <code>selector</code> (the default value is
<code>"table"</code>). There are several more options available so have a look at the
<strong>webshot2</strong> documentation for further details.
</p>
<p>If the output filename extension is either of <code>.tex</code>, <code>.ltx</code>, or <code>.rnw</code>, a
LaTeX document is produced. An output filename of <code>.rtf</code> will generate an RTF
document. The LaTeX and RTF saving functions don't have any options to pass
to <code>...</code>.
</p>
<p>If the output filename extension is <code>.docx</code>, a Word document file is
produced. This process is facilitated by the <strong>rmarkdown</strong> package, so this
package needs to be installed before attempting to save any table as a
<code>.docx</code> document.
</p>


<h3>Value</h3>

<p>The file name (invisibly) if the export process is successful.
</p>


<h3>Examples</h3>

<p>Using a small subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset, we can create a <strong>gt</strong> table
with row labels. We'll add a stubhead label with the <code><a href="#topic+tab_stubhead">tab_stubhead()</a></code>
function to describe what is in the stub.
</p>
<div class="sourceCode r"><pre>tab_1 &lt;-
  gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:5) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_stubhead(label = "car")
</pre></div>
<p>Export the <strong>gt</strong> table to an HTML file with inlined CSS (which is necessary
for including the table as part of an HTML email) using <code>gtsave()</code> and the
<code>inline_css = TRUE</code> option.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; gtsave(filename = "tab_1.html", inline_css = TRUE)
</pre></div>
<p>By leaving out the <code>inline_css</code> option, we get a more conventional HTML file
with embedded CSS styles.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; gtsave(filename = "tab_1.html")
</pre></div>
<p>Saving as a PNG file results in a cropped image of an HTML table. The amount
of whitespace can be set with the <code>expand</code> option.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; gtsave("tab_1.png", expand = 10)
</pre></div>
<p>Any use of the <code>.tex</code>, <code>.ltx</code>, or <code>.rnw</code> will result in the output of a LaTeX
document.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; gtsave("tab_1.tex")
</pre></div>
<p>With the <code>.rtf</code> extension, we'll get an RTF document.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; gtsave("tab_1.rtf")

</pre></div>
<p>With the <code>.docx</code> extension, we'll get a word/docx document.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; gtsave("tab_1.docx")
</pre></div>


<h3>Function ID</h3>

<p>13-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table export functions: 
<code><a href="#topic+as_gtable">as_gtable</a>()</code>,
<code><a href="#topic+as_latex">as_latex</a>()</code>,
<code><a href="#topic+as_raw_html">as_raw_html</a>()</code>,
<code><a href="#topic+as_rtf">as_rtf</a>()</code>,
<code><a href="#topic+as_word">as_word</a>()</code>,
<code><a href="#topic+extract_body">extract_body</a>()</code>,
<code><a href="#topic+extract_cells">extract_cells</a>()</code>,
<code><a href="#topic+extract_summary">extract_summary</a>()</code>
</p>

<hr>
<h2 id='html'>Interpret input text as HTML-formatted text</h2><span id='topic+html'></span>

<h3>Description</h3>

<p>For certain pieces of text (like in column labels or table headings) we may
want to express them as raw HTML. In fact, with HTML, anything goes so it can
be much more than just text. The <code>html()</code> function will guard the input HTML
against escaping, so, your HTML tags will come through as HTML when
rendered... to HTML.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>html(text, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="html_+3A_text">text</code></td>
<td>
<p><em>HTML text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The text that is understood to be HTML text, which is to be preserved in
the HTML output context.</p>
</td></tr>
<tr><td><code id="html_+3A_...">...</code></td>
<td>
<p><em>Optional parameters for <code>htmltools::HTML()</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // (<code>optional</code>)
</p>
<p>The <code>htmltools::HTML()</code> function contains <code>...</code> and anything provided here
will be passed to that internal function call.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object of class <code>html</code>. It's tagged as an HTML fragment
that is not to be sanitized.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. When adding a title
through <code><a href="#topic+tab_header">tab_header()</a></code>, we'll use the <code>html()</code> helper to signify to <strong>gt</strong>
that we're using HTML formatting.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(currency, char) |&gt;
  gt() |&gt;
  tab_header(title = html("&lt;em&gt;HTML&lt;/em&gt;"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_html_1.png" alt="This image of a table was generated from the first code example in the `html()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='illness'>Lab tests for one suffering from an illness</h2><span id='topic+illness'></span>

<h3>Description</h3>

<p>A dataset with artificial daily lab data for a patient with Yellow Fever
(YF). The table comprises laboratory findings for the patient from day 3 of
illness onset until day 9 (after which the patient died). YF viral DNA was
found in serum samples from day 3, where the viral load reached 14,000 copies
per mL. Several medical interventions were taken to help the patient,
including the administration of fresh frozen plasma, platelets, red cells,
and coagulation factor VIII. The patient also received advanced support
treatment in the form of mechanical ventilation and plasmapheresis. Though
the patient's temperature remained stable during their illness,
unfortunately, the patient's condition did not improve. On days 7 and 8, the
patient's health declined further, with symptoms such as nosebleeds,
gastrointestinal bleeding, and hematoma.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>illness
</code></pre>


<h3>Format</h3>

<p>A tibble with 39 rows and 11 variables:
</p>

<dl>
<dt>test</dt><dd><p>The name of the test.</p>
</dd>
<dt>units</dt><dd><p>The measurement units for the test.</p>
</dd>
<dt>day_3,day_4,day_5,day_6,day_7,day_8,day_9</dt><dd><p>Measurement values
associated with each test administered from days 3 to 9. An <code>NA</code> value
indicates that the test could not be performed that day.</p>
</dd>
<dt>norm_l,norm_u</dt><dd><p>Lower and upper bounds for the normal range associated
with the test.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The various tests are identified in the <code>test</code> column. The following listing
provides the full names of any abbreviations seen in that column.
</p>

<ul>
<li> <p><code>"WBC"</code>: white blood cells.
</p>
</li>
<li> <p><code>"RBC"</code>: red blood cells.
</p>
</li>
<li> <p><code>"Hb"</code>: hemoglobin.
</p>
</li>
<li> <p><code>"PLT"</code>: platelets.
</p>
</li>
<li> <p><code>"ALT"</code>: alanine aminotransferase.
</p>
</li>
<li> <p><code>"AST"</code>: aspartate aminotransferase.
</p>
</li>
<li> <p><code>"TBIL"</code>: total bilirubin.
</p>
</li>
<li> <p><code>"DBIL"</code>: direct bilirubin.
</p>
</li>
<li> <p><code>"NH3"</code>: hydrogen nitride.
</p>
</li>
<li> <p><code>"PT"</code>: prothrombin time.
</p>
</li>
<li> <p><code>"APTT"</code>: activated partial thromboplastin time.
</p>
</li>
<li> <p><code>"PTA"</code>: prothrombin time activity.
</p>
</li>
<li> <p><code>"DD"</code>: D-dimer.
</p>
</li>
<li> <p><code>"FDP"</code>: fibrinogen degradation products.
</p>
</li>
<li> <p><code>"LDH"</code>: lactate dehydrogenase.
</p>
</li>
<li> <p><code>"HBDH"</code>: hydroxybutyrate dehydrogenase.
</p>
</li>
<li> <p><code>"CK"</code>: creatine kinase.
</p>
</li>
<li> <p><code>"CKMB"</code>: the MB fraction of creatine kinase.
</p>
</li>
<li> <p><code>"BNP"</code>: B-type natriuetic peptide.
</p>
</li>
<li> <p><code>"MYO"</code>: myohemoglobin.
</p>
</li>
<li> <p><code>"TnI"</code>: troponin inhibitory.
</p>
</li>
<li> <p><code>"CREA"</code>: creatinine.
</p>
</li>
<li> <p><code>"BUN"</code>: blood urea nitrogen.
</p>
</li>
<li> <p><code>"AMY"</code>: amylase.
</p>
</li>
<li> <p><code>"LPS"</code>: lipase.
</p>
</li>
<li> <p><code>"K"</code>: kalium.
</p>
</li>
<li> <p><code>"Na"</code>: sodium.
</p>
</li>
<li> <p><code>"Cl"</code>: chlorine.
</p>
</li>
<li> <p><code>"Ca"</code>: calcium.
</p>
</li>
<li> <p><code>"P"</code>: phosphorus.
</p>
</li>
<li> <p><code>"Lac"</code>: lactate, blood.
</p>
</li>
<li> <p><code>"CRP"</code>: c-reactive protein.
</p>
</li>
<li> <p><code>"PCT"</code>: procalcitonin.
</p>
</li>
<li> <p><code>"IL-6"</code>: interleukin-6.
</p>
</li>
<li> <p><code>"CD3+CD4+"</code>: CD4+T lymphocytes.
</p>
</li>
<li> <p><code>"CD3+CD8+"</code>: CD8+T lymphocytes.
</p>
</li></ul>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>illness</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(illness)
#&gt; Rows: 39
#&gt; Columns: 11
#&gt; $ test   &lt;chr&gt; "Viral load", "WBC", "Neutrophils", "RBC", "Hb", "PLT", "ALT", ~
#&gt; $ units  &lt;chr&gt; "copies per mL", "x10^9 / L", "x10^9 / L", "x10^12 / L", "g / L~
#&gt; $ day_3  &lt;dbl&gt; 12000.000, 5.260, 4.870, 5.720, 153.000, 67.000, 12835.000, 236~
#&gt; $ day_4  &lt;dbl&gt; 4200.000, 4.260, 4.720, 5.980, 135.000, 38.600, 12632.000, 2136~
#&gt; $ day_5  &lt;dbl&gt; 1600.000, 9.920, 7.920, 4.230, 126.000, 27.400, 6426.700, 14730~
#&gt; $ day_6  &lt;dbl&gt; 830.000, 10.490, 18.210, 4.830, 115.000, 26.200, 4263.100, 8691~
#&gt; $ day_7  &lt;dbl&gt; 760.000, 24.770, 22.080, 4.120, 75.000, 74.100, 1623.700, 2189.~
#&gt; $ day_8  &lt;dbl&gt; 520.000, 30.260, 27.170, 2.680, 87.000, 36.200, 672.600, 1145.0~
#&gt; $ day_9  &lt;dbl&gt; 250.000, 19.030, 16.590, 3.320, 95.000, 25.600, 512.400, 782.50~
#&gt; $ norm_l &lt;dbl&gt; NA, 4.0, 2.0, 4.0, 120.0, 100.0, 9.0, 15.0, 0.0, 0.0, 10.0, 9.4~
#&gt; $ norm_u &lt;dbl&gt; NA, 10.000, 8.000, 5.500, 160.000, 300.000, 50.000, 40.000, 18.~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-13
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_illness.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='info_currencies'>View a table with info on supported currencies</h2><span id='topic+info_currencies'></span>

<h3>Description</h3>

<p><code><a href="#topic+fmt_currency">fmt_currency()</a></code> lets us format numeric values as currencies. The table
generated by <code>info_currencies()</code> provides a quick reference to all the
available currencies. The currency identifiers are provided (name, 3-letter
currency code, and 3-digit currency code) along with the each currency's
exponent value (number of digits of the currency subunits). A formatted
example is provided (based on the value of <code>49.95</code>) to demonstrate the
default formatting of each currency.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_currencies(type = c("code", "symbol"), begins_with = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_currencies_+3A_type">type</code></td>
<td>
<p><em>Type of currency</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[code|symbol]&#8288;</code> // <em>default:</em> <code>"code"</code>
</p>
<p>The type of currency information provided. Can either be <code>"code"</code> where
currency information corresponding to 3-letter/3-number currency codes is
provided, or <code>"symbol"</code> where currency info for common currency
names/symbols (e.g., dollar, pound, yen, etc.) is returned.</p>
</td></tr>
<tr><td><code id="info_currencies_+3A_begins_with">begins_with</code></td>
<td>
<p><em>Show currencies beginning with a specific letter</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Providing a single letter will filter currencies to only those that begin
with that letter in their currency code. The default (<code>NULL</code>) will produce
a table with all currencies displayed. This option only constrains the
information table where <code>type == "code"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are 172 currencies, which can lead to a verbose display table. To make
this presentation more focused on retrieval, we can provide an initial letter
corresponding to the 3-letter currency code to <code>begins_with</code>. This will
filter currencies in the info table to just the set beginning with the
supplied letter.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on all of the currencies where the three-letter code
begins with an <code>"h"</code>.
</p>
<div class="sourceCode r"><pre>info_currencies(begins_with = "h")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_currencies_1.png" alt="This image of a table was generated from the first code example in the `info_currencies()` help file." style="width:100%;">

<p>Get a table of info on all of the common currency name/symbols that can be
used with <code><a href="#topic+fmt_currency">fmt_currency()</a></code>.
</p>
<div class="sourceCode r"><pre>info_currencies(type = "symbol")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_currencies_2.png" alt="This image of a table was generated from the second code example in the `info_currencies()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_date_style'>View a table with info on date styles</h2><span id='topic+info_date_style'></span>

<h3>Description</h3>

<p><code><a href="#topic+fmt_date">fmt_date()</a></code> lets us format date-based values in a convenient manner using
preset styles. The table generated by <code>info_date_style()</code> provides a quick
reference to all styles, with associated format names and example outputs
using a fixed date (<code>2000-02-29</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_date_style(locale = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_date_style_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for displaying formatted
date values according the locale's rules. Examples include <code>"en"</code> for
English (United States) and <code>"fr"</code> for French (France). We can call
<code><a href="#topic+info_locales">info_locales()</a></code> for a useful reference for all of the locales that are
supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on the different date-formatting styles (which are used
by supplying a number code to <code><a href="#topic+fmt_date">fmt_date()</a></code>).
</p>
<div class="sourceCode r"><pre>info_date_style()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_date_style_1.png" alt="This image of a table was generated from the first code example in the `info_date_style()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_flags'>View a table with all available flags for <code>fmt_flag()</code></h2><span id='topic+info_flags'></span>

<h3>Description</h3>

<p><code><a href="#topic+fmt_flag">fmt_flag()</a></code> can be used to render flag icons within body cells that have
2-letter country codes. There are a lot of countries, so, calling
<code>info_flags()</code> can be helpful in showing all of the valid and supported
country codes along with their flag icons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_flags()
</code></pre>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on all the available flag icons.
</p>
<div class="sourceCode r"><pre>info_flags()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_flags_1.png" alt="This image of a table was generated from the first code example in the `info_flags()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_google_fonts'>View a table on recommended Google Fonts</h2><span id='topic+info_google_fonts'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+google_font">google_font()</a></code> helper function can be used wherever a font name should
be specified. There are two instances where this helper can be used: the
<code>name</code> argument in <code><a href="#topic+opt_table_font">opt_table_font()</a></code> (for setting a table font) and in that
of <code><a href="#topic+cell_text">cell_text()</a></code> (used with <code><a href="#topic+tab_style">tab_style()</a></code>). Because there is an overwhelming
number of fonts available in the <em>Google Fonts</em> catalog, the
<code>info_google_fonts()</code> provides a table with a set of helpful font
recommendations. These fonts look great in the different parts of a <strong>gt</strong>
table. Why? For the most part they are suitable for body text, having large
counters, large x-height, reasonably low contrast, and open apertures. These
font features all make for high legibility at smaller sizes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_google_fonts()
</code></pre>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on some of the recommended <em>Google Fonts</em> for tables.
</p>
<div class="sourceCode r"><pre>info_google_fonts()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_google_fonts_1.png" alt="This image of a table was generated from the first code example in the `info_google_fonts()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.2</code> (August 5, 2020)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_icons'>View a table with all available Font Awesome icons for <code>fmt_icon()</code></h2><span id='topic+info_icons'></span>

<h3>Description</h3>

<p><code><a href="#topic+fmt_icon">fmt_icon()</a></code> can be used to render <em>Font Awesome</em> icons within
body cells that reference the icon names. Further to this, the text
transformation functions (e.g., <code><a href="#topic+text_case_match">text_case_match()</a></code>) allow for the insertion
of these icons as replacement text (so long as you use the <code>fa()</code> function
from the <strong>fontawesome</strong> package). Because there is a very large number of
icons available to use in <em>Font Awesome</em>, <code>info_icons()</code> can be used to
provide us with a table that lists all the icons along with their short and
full names (either can be used with <code><a href="#topic+fmt_icon">fmt_icon()</a></code>). It also contains
acceptable codes for <code><a href="#topic+fmt_country">fmt_country()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_icons()
</code></pre>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on all the available <em>Font Awesome</em> icons.
</p>
<div class="sourceCode r"><pre>info_icons()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_icons_1.png" alt="This image of a table was generated from the first code example in the `info_icons()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_locales'>View a table with info on supported locales</h2><span id='topic+info_locales'></span>

<h3>Description</h3>

<p>Many of the <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code> functions have a <code>locale</code> argument that makes
locale-based formatting easier. The table generated by the <code>info_locales()</code>
function provides a quick reference to all the available locales. The locale
identifiers are provided (base locale ID, common display name) along with the
each locale's group and decimal separator marks. A formatted numeric example
is provided (based on the value of <code>11027</code>) to demonstrate the default
formatting of each locale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_locales(begins_with = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_locales_+3A_begins_with">begins_with</code></td>
<td>
<p><em>Show locales beginning with a specific letter</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Providing a single letter will filter locales to only those that begin
with that letter in their locale ID. The default (<code>NULL</code>) will produce
a table with all locales displayed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are 574 locales, which means that a very long display
table is provided by default. To trim down the output table size, we can
provide an initial letter corresponding to the base locale ID to
<code>begins_with</code>. This will filter locales in the info table to just the set
that begins with the supplied letter.
</p>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on all of the locales supported by <strong>gt</strong>.
</p>
<div class="sourceCode r"><pre>info_locales()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_locales_1.png" alt="This image of a table was generated from the first code example in the `info_locales()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_paletteer'>View a table with info on color palettes</h2><span id='topic+info_paletteer'></span>

<h3>Description</h3>

<p>While <code><a href="#topic+data_color">data_color()</a></code> allows us to flexibly color data cells in our <strong>gt</strong>
table, the harder part of this process is discovering and choosing color
palettes that are suitable for the table output. We can make this process
much easier in two ways: (1) by using the <strong>paletteer</strong> package, which makes
a wide range of palettes from various R packages readily available, and (2)
calling <code>info_paletteer()</code> to give us an information table that serves as a
quick reference for all of the discrete color palettes available in <strong>paletteer</strong>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_paletteer(color_pkgs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_paletteer_+3A_color_pkgs">color_pkgs</code></td>
<td>
<p><em>Filter to specific color packages</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A vector of color packages that determines which sets of palettes should be
displayed in the information table. If this is <code>NULL</code> (the default) then
all of the discrete palettes from all of the color packages represented in
<strong>paletteer</strong> will be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The palettes displayed are organized by package and by palette name. These
values are required when obtaining a palette (as a vector of hexadecimal
colors), from <code>paletteer::paletteer_d()</code>. Once we are familiar with the names
of the color palette packages (e.g., <strong>RColorBrewer</strong>, <strong>ggthemes</strong>,
<strong>wesanderson</strong>), we can narrow down the content of this information table by
supplying a vector of such package names to <code>color_pkgs</code>.
</p>
<p>Colors from the following color packages (all supported by <strong>paletteer</strong>)
are shown by default with <code>info_paletteer()</code>:
</p>

<ul>
<li> <p><strong>awtools</strong>, 5 palettes
</p>
</li>
<li> <p><strong>dichromat</strong>, 17 palettes
</p>
</li>
<li> <p><strong>dutchmasters</strong>, 6 palettes
</p>
</li>
<li> <p><strong>ggpomological</strong>, 2 palettes
</p>
</li>
<li> <p><strong>ggsci</strong>, 42 palettes
</p>
</li>
<li> <p><strong>ggthemes</strong>, 31 palettes
</p>
</li>
<li> <p><strong>ghibli</strong>, 27 palettes
</p>
</li>
<li> <p><strong>grDevices</strong>, 1 palette
</p>
</li>
<li> <p><strong>jcolors</strong>, 13 palettes
</p>
</li>
<li> <p><strong>LaCroixColoR</strong>, 21 palettes
</p>
</li>
<li> <p><strong>NineteenEightyR</strong>, 12 palettes
</p>
</li>
<li> <p><strong>nord</strong>, 16 palettes
</p>
</li>
<li> <p><strong>ochRe</strong>, 16 palettes
</p>
</li>
<li> <p><strong>palettetown</strong>, 389 palettes
</p>
</li>
<li> <p><strong>pals</strong>, 8 palettes
</p>
</li>
<li> <p><strong>Polychrome</strong>, 7 palettes
</p>
</li>
<li> <p><strong>quickpalette</strong>, 17 palettes
</p>
</li>
<li> <p><strong>rcartocolor</strong>, 34 palettes
</p>
</li>
<li> <p><strong>RColorBrewer</strong>, 35 palettes
</p>
</li>
<li> <p><strong>Redmonder</strong>, 41 palettes
</p>
</li>
<li> <p><strong>wesanderson</strong>, 19 palettes
</p>
</li>
<li> <p><strong>yarrr</strong>, 21 palettes
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on just the <code>"ggthemes"</code> color palette (easily accessible
from the <strong>paletteer</strong> package).
</p>
<div class="sourceCode r"><pre>info_paletteer(color_pkgs = "ggthemes")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_paletteer_1.png" alt="This image of a table was generated from the first code example in the `info_paletteer()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_time_style'>View a table with info on time styles</h2><span id='topic+info_time_style'></span>

<h3>Description</h3>

<p><code><a href="#topic+fmt_time">fmt_time()</a></code> lets us format time-based values in a convenient manner using
preset styles. The table generated by <code>info_time_style()</code> provides a quick
reference to all styles, with associated format names and example outputs
using a fixed time (<code>14:35</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_time_style(locale = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_time_style_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for displaying formatted
time values according the locale's rules. Examples include <code>"en"</code> for
English (United States) and <code>"fr"</code> for French (France). We can call
<code><a href="#topic+info_locales">info_locales()</a></code> for a useful reference for all of the locales that are
supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on the different time-formatting styles (which are used
by supplying a number code to <code>fmt_time()</code>).
</p>
<div class="sourceCode r"><pre>info_time_style()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_time_style_1.png" alt="This image of a table was generated from the first code example in the `info_time_style()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_unit_conversions">info_unit_conversions</a>()</code>
</p>

<hr>
<h2 id='info_unit_conversions'>View a table with all units that can be converted by <code>unit_conversion()</code></h2><span id='topic+info_unit_conversions'></span>

<h3>Description</h3>

<p><code><a href="#topic+unit_conversion">unit_conversion()</a></code> can be used to yield conversion factors across compatible
pairs of units. This is useful for expressing values in different units and
the conversion can be performed via the <code>scale_by</code> argument available in
several formatting functions. When calling <code><a href="#topic+unit_conversion">unit_conversion()</a></code>, one must
supply two string-based keywords to specify the value's current units and the
desired units. All of these keywords are provided in the table shown by
calling <code>info_unit_conversions()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_unit_conversions()
</code></pre>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Get a table of info on all the available keywords for unit conversions.
</p>
<div class="sourceCode r"><pre>info_unit_conversions()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_info_unit_conversions_1.png" alt="This image of a table was generated from the first code example in the `info_unit_conversions()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>11-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other information functions: 
<code><a href="#topic+info_currencies">info_currencies</a>()</code>,
<code><a href="#topic+info_date_style">info_date_style</a>()</code>,
<code><a href="#topic+info_flags">info_flags</a>()</code>,
<code><a href="#topic+info_google_fonts">info_google_fonts</a>()</code>,
<code><a href="#topic+info_icons">info_icons</a>()</code>,
<code><a href="#topic+info_locales">info_locales</a>()</code>,
<code><a href="#topic+info_paletteer">info_paletteer</a>()</code>,
<code><a href="#topic+info_time_style">info_time_style</a>()</code>
</p>

<hr>
<h2 id='local_image'>Helper function for adding a local image</h2><span id='topic+local_image'></span>

<h3>Description</h3>

<p>We can flexibly add a local image (i.e., an image residing on disk) inside of
a table with <code>local_image()</code> function. The function provides a convenient way
to generate an HTML fragment using an on-disk PNG or SVG. Because this
function is currently HTML-based, it is only useful for HTML table output. To
use this function inside of data cells, it is recommended to use
<code><a href="#topic+text_transform">text_transform()</a></code> first. With that function, we can specify which data cells
to target and then include a <code>local_image()</code> call within the required
user-defined function (for the <code>fn</code> argument). If we want to include an image
in other places (e.g., in the header, within footnote text, etc.) we need to
use <code>local_image()</code> within the <code><a href="#topic+html">html()</a></code> helper function.
</p>
<p>By itself, the function creates an HTML image tag with an image URI embedded
within. We can easily experiment with a local PNG or SVG image that's
available in the <strong>gt</strong> package using the <code><a href="#topic+test_image">test_image()</a></code> function. Using
that, the call <code>local_image(file = test_image(type = "png"))</code> evaluates to:
</p>
<p><code style="white-space: pre;">&#8288;&lt;img src=&lt;data URI&gt; style=\"height:30px;\"&gt;&#8288;</code>
</p>
<p>where a height of <code style="white-space: pre;">&#8288;30px&#8288;</code> is a default height chosen to work well within the
heights of most table rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>local_image(filename, height = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="local_image_+3A_filename">filename</code></td>
<td>
<p><em>Path to image file</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A local path to an image file on disk.</p>
</td></tr>
<tr><td><code id="local_image_+3A_height">height</code></td>
<td>
<p><em>Height of image</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>30</code>
</p>
<p>The absolute height of the image in the table cell (in <code>"px"</code> units). By
default, this is set to <code>"30px"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object with an HTML fragment that can be placed inside of
a cell.
</p>


<h3>Examples</h3>

<p>Create a tibble that contains heights of an image in pixels (one column as a
string, the other as numerical values), then, create a <strong>gt</strong> table. Use
<code><a href="#topic+text_transform">text_transform()</a></code> to insert a local test image (PNG) image with the various
sizes.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  pixels = px(seq(10, 35, 5)),
  image = seq(10, 35, 5)
) |&gt;
  gt() |&gt;
  text_transform(
    locations = cells_body(columns = image),
    fn = function(x) {
      local_image(
        filename = test_image(type = "png"),
        height = as.numeric(x)
      )
    }
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_local_image_1.png" alt="This image of a table was generated from the first code example in the `local_image()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>9-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other image addition functions: 
<code><a href="#topic+ggplot_image">ggplot_image</a>()</code>,
<code><a href="#topic+test_image">test_image</a>()</code>,
<code><a href="#topic+web_image">web_image</a>()</code>
</p>

<hr>
<h2 id='location-helper'>Helper to target cells at <code>locations</code></h2><span id='topic+location-helper'></span>

<h3>Description</h3>

<p>This listing with locations corresponding roughly from top to
bottom of a table:
</p>

<ul>
<li> <p><code><a href="#topic+cells_title">cells_title()</a></code>: targets the table title or the table subtitle depending on
the value given to the <code>groups</code> argument (<code>"title"</code> or <code>"subtitle"</code>).
</p>
</li>
<li> <p><code><a href="#topic+cells_stubhead">cells_stubhead()</a></code>: targets the stubhead location, a cell of which is only
available when there is a stub; a label in that location can be created by
using <code><a href="#topic+tab_stubhead">tab_stubhead()</a></code>.
</p>
</li>
<li> <p><code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>*: targets the spanner column labels with the
<code>spanners</code> argument; spanner column labels appear above the column labels.
</p>
</li>
<li> <p><code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>*: targets the column labels with its <code>columns</code>
argument.
</p>
</li>
<li> <p><code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>*: targets the row group labels in any available row
groups using the <code>groups</code> argument.
</p>
</li>
<li> <p><code><a href="#topic+cells_stub">cells_stub()</a></code>*: targets row labels in the table stub using the <code>rows</code>
argument.
</p>
</li>
<li> <p><code><a href="#topic+cells_body">cells_body()</a></code>*: targets data cells in the table body using intersections of
<code>columns</code> and <code>rows</code>.
</p>
</li>
<li> <p><code><a href="#topic+cells_summary">cells_summary()</a></code>: targets summary cells in the table body using the
<code>groups</code> argument and intersections of <code>columns</code> and <code>rows</code>.
</p>
</li>
<li> <p><code><a href="#topic+cells_grand_summary">cells_grand_summary()</a></code>: targets cells of the table's grand summary using
intersections of <code>columns</code> and <code>rows</code>
</p>
</li>
<li> <p><code><a href="#topic+cells_stub_summary">cells_stub_summary()</a></code>: targets summary row labels in the table stub using
the <code>groups</code> and <code>rows</code> arguments.
</p>
</li>
<li> <p><code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary()</a></code>: targets grand summary row labels in the table
stub using the <code>rows</code> argument.
</p>
</li>
<li> <p><code><a href="#topic+cells_footnotes">cells_footnotes()</a></code>: targets all footnotes in the table footer (cannot be
used with <code><a href="#topic+tab_footnote">tab_footnote()</a></code>).
</p>
</li>
<li> <p><code><a href="#topic+cells_source_notes">cells_source_notes()</a></code>: targets all source notes in the table footer
(cannot be used with <code><a href="#topic+tab_footnote">tab_footnote()</a></code>).
</p>
</li></ul>

<p><code>*</code> are the only functions usable by the <code style="white-space: pre;">&#8288;text_*()&#8288;</code> functions.
</p>


<h3>Note</h3>

<p>When using any of the location helper functions with an appropriate function
that has a <code>locations</code> argument (e.g., <code><a href="#topic+tab_style">tab_style()</a></code>), multiple locations
can be targeted by enclosing several <code style="white-space: pre;">&#8288;cells_*()&#8288;</code> helper functions in a
<code>list()</code> (e.g., <code>list(cells_body(), cells_grand_summary())</code>).
</p>


<h3>See Also</h3>

<p>Functions with <code>locations</code> argument:
</p>

<ul>
<li> <p><code><a href="#topic+tab_footnote">tab_footnote()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+tab_style">tab_style()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+text_transform">text_transform()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+text_replace">text_replace()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+text_case_when">text_case_when()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+text_case_match">text_case_match()</a></code>
</p>
</li></ul>

<p>These functions contain more example of usage.
</p>
<p>Other location helper functions: 
<code><a href="#topic+cells_body">cells_body</a>()</code>,
<code><a href="#topic+cells_column_labels">cells_column_labels</a>()</code>,
<code><a href="#topic+cells_column_spanners">cells_column_spanners</a>()</code>,
<code><a href="#topic+cells_footnotes">cells_footnotes</a>()</code>,
<code><a href="#topic+cells_grand_summary">cells_grand_summary</a>()</code>,
<code><a href="#topic+cells_row_groups">cells_row_groups</a>()</code>,
<code><a href="#topic+cells_source_notes">cells_source_notes</a>()</code>,
<code><a href="#topic+cells_stub">cells_stub</a>()</code>,
<code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary</a>()</code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary</a>()</code>,
<code><a href="#topic+cells_stubhead">cells_stubhead</a>()</code>,
<code><a href="#topic+cells_summary">cells_summary</a>()</code>,
<code><a href="#topic+cells_title">cells_title</a>()</code>
</p>

<hr>
<h2 id='md'>Interpret input text as Markdown-formatted text</h2><span id='topic+md'></span>

<h3>Description</h3>

<p>Markdown text can be used in certain places in a <strong>gt</strong> table, and this is
wherever new text is defined (e.g., footnotes, source notes, the table title,
etc.). Using Markdown is advantageous for styling text since it will be
rendered correctly to the output format of the <strong>gt</strong> table. There is
also the <code><a href="#topic+html">html()</a></code> helper that allows you use HTML exclusively (for tables
expressly meant for HTML output) but <code>md()</code> allows for both; you get to use
Markdown plus any HTML fragments at the same time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>md(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="md_+3A_text">text</code></td>
<td>
<p><em>Markdown text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The text that is understood to contain Markdown formatting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object of class <code>from_markdown</code>. It's tagged as being
Markdown text and it will undergo conversion to the desired output context.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. When adding a title
through <code><a href="#topic+tab_header">tab_header()</a></code>, we'll use the <code>md()</code> helper to signify to <strong>gt</strong> that
we're using Markdown formatting.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(currency, char) |&gt;
  gt() |&gt;
  tab_header(title = md("Using *Markdown*"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_md_1.png" alt="This image of a table was generated from the first code example in the `md()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='metro'>The stations of the Paris Metro</h2><span id='topic+metro'></span>

<h3>Description</h3>

<p>A dataset with information on all 314 Paris Metro stations as of June 2024.
Each record represents a station, describing which Metro lines are serviced
by the station, which other connections are available, and annual passenger
volumes. Basic location information is provided for each station in terms
of where they reside on a municipal level, and, through latitude/longitude
coordinate values.
</p>
<p>The system has 16 lines (numbered from 1 to 14, with two additional lines:
3bis and 7bis) and covers over 200 kilometers of track. The Metro runs on
standard gauge tracks (1,435 mm) and operates using a variety of rolling
stock, including rubber-tired trains and steel-wheeled trains (which are far
more common).
</p>
<p>The Metro is operated by the RATP, which also operates other transit systems
in the region, including buses, trams, and the RER. The RER is an important
component of the region's transit infrastructure, and several RER stations
have connectivity with the Metro. This integration allows passengers to
transfer between those two systems seamlessly. The Metro also has connections
to the Transilien rail network, tramway stations, several major train
stations (e.g., Gare du Nord, Gare de l'Est, etc.), and many bus lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metro
</code></pre>


<h3>Format</h3>

<p>A tibble with 314 rows and 11 variables:
</p>

<dl>
<dt>name</dt><dd><p>The name of the station.</p>
</dd>
<dt>caption</dt><dd><p>In some cases, a station will have a caption that might
describe a nearby place of interest. This is <code>NA</code> if there isn't a caption
for the station name.</p>
</dd>
<dt>lines</dt><dd><p>All Metro lines associated with the station. This is a
<code>character</code>-based, comma-separated series of line names.</p>
</dd>
<dt>connect_rer</dt><dd><p>Station connections with the RER. The RER system has
five lines (A, B, C, D, and E) with 257 stations and several interchanges
with the Metro.</p>
</dd>
<dt>connect_tram</dt><dd><p>Connections with tramway lines. This system has twelve
lines in operation (T1, T2, T3a, T3b, T4, T5, T6, T7, T8, T9, T11, and T13)
with 235 stations.</p>
</dd>
<dt>connect_transilien</dt><dd><p>Connections with Transilien lines. This system has
eight lines in operation (H, J, K, L, N, P, R, and U).</p>
</dd>
<dt>connect_other</dt><dd><p>Other connections with transportation infrastructure
such as regional, intercity, night, and high-speed trains (typically at
railway stations).</p>
</dd>
<dt>latitude, longitude</dt><dd><p>The location of the station, given as
latitude and longitude values in decimal degrees.</p>
</dd>
<dt>location</dt><dd><p>The arrondissement of Paris or municipality in which the
station resides. For some stations located at borders, the grouping of
locations will be presented as a comma-separated series</p>
</dd>
<dt>passengers</dt><dd><p>The total number of Metro station entries during 2021. Some
of the newest stations in the Metro system do not have this data, thus they
show <code>NA</code> values.</p>
</dd>
</dl>



<h3>Dataset ID and Badge</h3>

<p>DATA-10
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_metro.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='nanoplot_options'>Supply nanoplot options to <code>cols_nanoplot()</code></h2><span id='topic+nanoplot_options'></span>

<h3>Description</h3>

<p>When using <code><a href="#topic+cols_nanoplot">cols_nanoplot()</a></code>, the defaults for the generated nanoplots
can be modified with <code>nanoplot_options()</code> within the <code>options</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nanoplot_options(
  data_point_radius = NULL,
  data_point_stroke_color = NULL,
  data_point_stroke_width = NULL,
  data_point_fill_color = NULL,
  data_line_type = NULL,
  data_line_stroke_color = NULL,
  data_line_stroke_width = NULL,
  data_area_fill_color = NULL,
  data_bar_stroke_color = NULL,
  data_bar_stroke_width = NULL,
  data_bar_fill_color = NULL,
  data_bar_negative_stroke_color = NULL,
  data_bar_negative_stroke_width = NULL,
  data_bar_negative_fill_color = NULL,
  reference_line_color = NULL,
  reference_area_fill_color = NULL,
  vertical_guide_stroke_color = NULL,
  vertical_guide_stroke_width = NULL,
  show_data_points = NULL,
  show_data_line = NULL,
  show_data_area = NULL,
  show_reference_line = NULL,
  show_reference_area = NULL,
  show_vertical_guides = NULL,
  show_y_axis_guide = NULL,
  interactive_data_values = NULL,
  y_val_fmt_fn = NULL,
  y_axis_fmt_fn = NULL,
  y_ref_line_fmt_fn = NULL,
  currency = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nanoplot_options_+3A_data_point_radius">data_point_radius</code></td>
<td>
<p><em>Radius of data points</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;|vector&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The <code>data_point_radius</code> option lets you set the radius for each of the data
points. By default this is set to <code>10</code>. Individual radius values can be
set by using a vector of numeric values; however, the vector provided must
match the number of data points.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_point_stroke_color">data_point_stroke_color</code></td>
<td>
<p><em>Color of data points</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The default stroke color of the data points is <code>"#FFFFFF"</code> (<code>"white"</code>).
This works well when there is a visible data line combined with data points
with a darker fill color. The stroke color can be modified with
<code>data_point_stroke_color</code> for all data points by supplying a single color
value. With a vector of colors, each data point's stroke color can be
changed (ensure that the vector length matches the number of data points).</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_point_stroke_width">data_point_stroke_width</code></td>
<td>
<p><em>Width of surrounding line on data points</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;|vector&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The width of the outside stroke for the data points can be modified with
the <code>data_point_stroke_width</code> option. By default, a value of <code>4</code> (as in
'4px') is used.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_point_fill_color">data_point_fill_color</code></td>
<td>
<p><em>Fill color for data points</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By default, all data points have a fill color of <code>"#FF0000"</code> (<code>"red"</code>).
This can be changed for all data points by providing a different color
to <code>data_point_fill_color</code>. And, a vector of different colors can be
supplied so long as the length is equal to the number of data points; the
fill color values will be applied in order of left to right.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_line_type">data_line_type</code></td>
<td>
<p><em>Type of data line: curved or straight</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>This can accept either <code>"curved"</code> or <code>"straight"</code>. Curved lines are
recommended when the nanoplot has less than 30 points and data points are
evenly spaced. In most other cases, straight lines might present better.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_line_stroke_color">data_line_stroke_color</code></td>
<td>
<p><em>Color of the data line</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The color of the data line can be modified from its default <code>"#4682B4"</code>
(<code>"steelblue"</code>) color by supplying a color to the <code>data_line_stroke_color</code>
option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_line_stroke_width">data_line_stroke_width</code></td>
<td>
<p><em>Width of the data line</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The width of the connecting data line can be modified with the
<code>data_line_stroke_width</code> option. By default, a value of <code>4</code> (as in '4px')
is used.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_area_fill_color">data_area_fill_color</code></td>
<td>
<p><em>Fill color for the data-point-bounded area</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The fill color for the area that bounds the data points in line plot. The
default is <code>"#FF0000"</code> (<code>"red"</code>) but can be changed by providing a color
value to <code>data_area_fill_color</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_bar_stroke_color">data_bar_stroke_color</code></td>
<td>
<p><em>Color of a data bar's outside line</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The color of the stroke used for the data bars can be modified from its
default <code>"#3290CC"</code> color by supplying a color to the
<code>data_bar_stroke_color</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_bar_stroke_width">data_bar_stroke_width</code></td>
<td>
<p><em>Width of a data bar's outside line</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The width of the stroke used for the data bars can be modified with the
<code>data_bar_stroke_width</code> option. By default, a value of <code>4</code> (as in '4px') is
used.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_bar_fill_color">data_bar_fill_color</code></td>
<td>
<p><em>Fill color for data bars</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By default, all data bars have a fill color of <code>"#3FB5FF"</code>. This can be
changed for all data bars by providing a different color to
<code>data_bar_fill_color</code>. And, a vector of different colors can be supplied so
long as the length is equal to the number of data bars; the fill color
values will be applied in order of left to right.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_bar_negative_stroke_color">data_bar_negative_stroke_color</code></td>
<td>
<p><em>Stroke color for negative values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The color of the stroke used for the data bars that have negative values.
The default color is <code>"#CC3243"</code> but this can be changed by supplying a
color value to the <code>data_bar_negative_stroke_color</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_bar_negative_stroke_width">data_bar_negative_stroke_width</code></td>
<td>
<p><em>Stroke width for negative values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The width of the stroke used for negative value data bars. This has the
same default as <code>data_bar_stroke_width</code> with a value of <code>4</code> (as in '4px').
This can be changed by giving a numeric value to the
<code>data_bar_negative_stroke_width</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_data_bar_negative_fill_color">data_bar_negative_fill_color</code></td>
<td>
<p><em>Fill color for negative values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By default, all negative data bars have a fill color of <code>"#D75A68"</code>. This
can however be changed by providing a color value to the
<code>data_bar_negative_fill_color</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_reference_line_color">reference_line_color</code></td>
<td>
<p><em>Color for the reference line</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The reference line will have a color of <code>"#75A8B0"</code> if it is set to appear.
This color can be changed by providing a single color value to
<code>reference_line_color</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_reference_area_fill_color">reference_area_fill_color</code></td>
<td>
<p><em>Fill color for the reference area</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If a reference area has been defined and is visible it has by default
a fill color of <code>"#A6E6F2"</code>. This can be modified by declaring a color
value in the <code>reference_area_fill_color</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_vertical_guide_stroke_color">vertical_guide_stroke_color</code></td>
<td>
<p><em>Color of vertical guides</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Vertical guides appear when hovering in the vicinity of data points. Their
default color is <code>"#911EB4"</code> (a strong magenta color) and a fill opacity
value of <code>0.4</code> is automatically applied to this. However, the base color
can be changed with the <code>vertical_guide_stroke_color</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_vertical_guide_stroke_width">vertical_guide_stroke_width</code></td>
<td>
<p><em>Line widths for vertical guides</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The vertical guide's stroke width, by default, is relatively large at <code>12</code>
(this is '12px'). This is modifiable by setting a different value with the
<code>vertical_guide_stroke_width</code> option.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_data_points">show_data_points</code></td>
<td>
<p><em>Should the data points be shown?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By default, all data points in a nanoplot are shown but this layer can be
hidden by setting <code>show_data_points</code> to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_data_line">show_data_line</code></td>
<td>
<p><em>Should a data line be shown?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The data line connects data points together and it is shown by default.
This data line layer can be hidden by setting <code>show_data_line</code> to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_data_area">show_data_area</code></td>
<td>
<p><em>Should a data-point-bounded area be shown?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The data area layer is adjacent to the data points and the data line. It is
shown by default but can be hidden with <code>show_data_area = FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_reference_line">show_reference_line</code></td>
<td>
<p><em>Should a reference line be shown?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The layer with a horizontal reference line appears underneath that of the
data points and the data line. Like vertical guides, hovering over a
reference will show its value. The reference line (if available) is shown
by default but can be hidden by setting <code>show_reference_line</code> to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_reference_area">show_reference_area</code></td>
<td>
<p><em>Should a reference area be shown?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The reference area appears at the very bottom of the layer stack, if it is
available (i.e., defined in <code><a href="#topic+cols_nanoplot">cols_nanoplot()</a></code>). It will be shown in the
default case but can be hidden by using <code>show_reference_area = FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_vertical_guides">show_vertical_guides</code></td>
<td>
<p><em>Should there be vertical guides?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Vertical guides appear when hovering over data points. This hidden layer is
active by default but can be deactivated by using
<code>show_vertical_guides = FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_show_y_axis_guide">show_y_axis_guide</code></td>
<td>
<p><em>Should there be a y-axis guide?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The <em>y</em>-axis guide will appear when hovering over the far left side of a
nanoplot. This hidden layer is active by default but can be deactivated by
using <code>show_y_axis_guide = FALSE</code>.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_interactive_data_values">interactive_data_values</code></td>
<td>
<p><em>Should data values be interactively shown?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>By default, numeric data values will be shown only when the user interacts
with certain regions of a nanoplot. This is because the values may be
numerous (i.e., clutter the display when all are visible) and it can be
argued that the values themselves are secondary to the presentation.
However, for some types of plots (like horizontal bar plots), a persistent
display of values alongside the plot marks may be desirable. By setting
<code>interactive_data_values = FALSE</code> we can opt for always displaying the data
values alongside the plot components.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_y_val_fmt_fn">y_val_fmt_fn</code>, <code id="nanoplot_options_+3A_y_axis_fmt_fn">y_axis_fmt_fn</code>, <code id="nanoplot_options_+3A_y_ref_line_fmt_fn">y_ref_line_fmt_fn</code></td>
<td>
<p><em>Custom formatting for y values</em>
</p>
<p><code>function</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If providing a function to <code>y_val_fmt_fn</code>, <code>y_axis_fmt_fn</code>, or
<code>y_ref_line_fmt_fn</code> then customized formatting of the <em>y</em> values associated
with the data points/bars, the <em>y</em>-axis labels, and the reference line can
be performed.</p>
</td></tr>
<tr><td><code id="nanoplot_options_+3A_currency">currency</code></td>
<td>
<p><em>Define values as currencies of a specific type</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|obj:&lt;gt_currency&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If the values are to be displayed as currency values, supply either: (1) a
3-letter currency code (e.g., <code>"USD"</code> for U.S. Dollars, <code>"EUR"</code> for the
Euro currency), (2) a common currency name (e.g., <code>"dollar"</code>, <code>"pound"</code>,
<code>"yen"</code>, etc.), or (3) an invocation of the <code><a href="#topic+currency">currency()</a></code> helper function
for specifying a custom currency (where the string could vary across output
contexts). Use <code><a href="#topic+info_currencies">info_currencies()</a></code> to get an information table with all of
the valid currency codes, and examples of each, for the first two cases.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object of class <code>nanoplot_options</code>.
</p>


<h3>Function ID</h3>

<p>8-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='nuclides'>Nuclide data</h2><span id='topic+nuclides'></span>

<h3>Description</h3>

<p>The <code>nuclides</code> dataset contains information on all known nuclides, providing
data on nuclear structure and decay modes across 118 elements. There is data
here on natural abundances, atomic mass, spin, half-life, and more. The
typical users for such a dataset include researchers in fields such as
nuclear physics, radiochemistry, and nuclear medicine.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nuclides
</code></pre>


<h3>Format</h3>

<p>A tibble with 3,383 rows and 29 variables:
</p>

<dl>
<dt>nuclide</dt><dd><p>The symbol for the nuclide.</p>
</dd>
<dt>z, n</dt><dd><p>The number of protons and neutrons.</p>
</dd>
<dt>element</dt><dd><p>The element symbol.</p>
</dd>
<dt>radius, radius_uncert</dt><dd><p>The charge radius and its associated
uncertainty. In units of fm.</p>
</dd>
<dt>abundance, abundance_uncert</dt><dd><p>The abundance of the stable isotope as
a mole fraction (in relation to other stable isotopes of the same element).
Values are provided for the nuclide only if <code>is_stable</code> is <code>TRUE</code>.</p>
</dd>
<dt>is_stable</dt><dd><p>Is the nuclide a stable isotope?</p>
</dd>
<dt>half_life, half_life_uncert</dt><dd><p>The nuclide's half life represented as
seconds.</p>
</dd>
<dt>isospin</dt><dd><p>The isospin, or the quantum number related to the up and down
quark content of the particle.</p>
</dd>
<dt>decay_1, decay_2, decay_3</dt><dd><p>The 1st, 2nd, and 3rd decay modes.</p>
</dd>
<dt>decay_1_pct, decay_1_pct_uncert, decay_2_pct, decay_2_pct_uncert,
decay_3_pct, decay_3_pct_uncert</dt><dd><p>The branching proportions for the 1st, 2nd,
and 3rd decays (along with uncertainty values).</p>
</dd>
<dt>magnetic_dipole, magnetic_dipole_uncert</dt><dd><p>The magnetic dipole and its
associated uncertainty. Expressed in units of micro N, or nuclear
magneton values.</p>
</dd>
<dt>electric_quadrupole, electric_quadrupole_uncert</dt><dd><p>The electric
quadrupole and its associated uncertainty. In units of barn (b).</p>
</dd>
<dt>atomic_mass, atomic_mass_uncert</dt><dd><p>The atomic mass and its associated
uncertainty. In units of micro AMU.</p>
</dd>
<dt>mass_excess, mass_excess_uncert</dt><dd><p>The mass excess and its associated
uncertainty. In units of keV.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>nuclides</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(nuclides)
#&gt; Rows: 3,383
#&gt; Columns: 29
#&gt; $ nuclide                    &lt;chr&gt; "^{1}_{1}H0", "^{2}_{1}H1", "^{3}_{1}H2", "~
#&gt; $ z                          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2~
#&gt; $ n                          &lt;int&gt; 0, 1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6, 7, 8~
#&gt; $ element                    &lt;chr&gt; "H", "H", "H", "H", "H", "H", "H", "He", "H~
#&gt; $ radius                     &lt;dbl&gt; 0.8783, 2.1421, 1.7591, NA, NA, NA, NA, 1.9~
#&gt; $ radius_uncert              &lt;dbl&gt; 0.0086, 0.0088, 0.0363, NA, NA, NA, NA, 0.0~
#&gt; $ abundance                  &lt;dbl&gt; 0.999855, 0.000145, NA, NA, NA, NA, NA, 0.0~
#&gt; $ abundance_uncert           &lt;dbl&gt; 0.000078, 0.000078, NA, NA, NA, NA, NA, 0.0~
#&gt; $ is_stable                  &lt;lgl&gt; TRUE, TRUE, FALSE, FALSE, FALSE, FALSE, FAL~
#&gt; $ half_life                  &lt;dbl&gt; NA, NA, 3.887813e+08, NA, 8.608259e-23, 2.9~
#&gt; $ half_life_uncert           &lt;dbl&gt; NA, NA, 6.311385e+05, NA, 6.496799e-24, 8.3~
#&gt; $ isospin                    &lt;chr&gt; NA, NA, NA, "1", NA, NA, NA, NA, "0", "1/2"~
#&gt; $ decay_1                    &lt;chr&gt; NA, NA, "B-", "N", "2N", NA, NA, NA, NA, "N~
#&gt; $ decay_1_pct                &lt;dbl&gt; NA, NA, 1, 1, 1, NA, NA, NA, NA, NA, 1, NA,~
#&gt; $ decay_1_pct_uncert         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ decay_2                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ decay_2_pct                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ decay_2_pct_uncert         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ decay_3                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ decay_3_pct                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ decay_3_pct_uncert         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ magnetic_dipole            &lt;dbl&gt; 2.7928474, 0.8574382, 2.9789625, NA, NA, NA~
#&gt; $ magnetic_dipole_uncert     &lt;dbl&gt; 9.0e-09, 5.0e-09, 1.4e-08, NA, NA, NA, NA, ~
#&gt; $ electric_quadrupole        &lt;dbl&gt; NA, 0.0028578, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ electric_quadrupole_uncert &lt;dbl&gt; NA, 3e-07, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ atomic_mass                &lt;dbl&gt; 1007825, 2014102, 3016049, 4026432, 5035311~
#&gt; $ atomic_mass_uncert         &lt;dbl&gt; 0.000014, 0.000015, 0.000080, 107.354000, 9~
#&gt; $ mass_excess                &lt;dbl&gt; 7288.971, 13135.723, 14949.811, 24621.129, ~
#&gt; $ mass_excess_uncert         &lt;dbl&gt; 0.000013, 0.000015, 0.000080, 100.000000, 8~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-16
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_nuclides.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='opt_align_table_header'>Option to align the table header</h2><span id='topic+opt_align_table_header'></span>

<h3>Description</h3>

<p>By default, a table header added to a <strong>gt</strong> table has center alignment
for both the title and the subtitle elements. This function allows us to
easily set the horizontal alignment of the title and subtitle to the left
or right by using the <code>"align"</code> argument. This function serves as a
convenient shortcut for <code style="white-space: pre;">&#8288;&lt;gt_tbl&gt; |&gt; tab_options(heading.align = &lt;align&gt;)&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_align_table_header(data, align = c("left", "center", "right"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_align_table_header_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_align_table_header_+3A_align">align</code></td>
<td>
<p><em>Header alignment</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[left|center|right]&#8288;</code> // <em>default:</em> <code>"left"</code>
</p>
<p>The alignment of the title and subtitle elements in the table header.
Options are <code>"left"</code> (the default), <code>"center"</code>, or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, we'll align the header contents (consisting of the
title and the subtitle) to the left with the <code>opt_align_table_header()</code>
function.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_align_table_header(align = "left")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_align_table_header_1.png" alt="This image of a table was generated from the first code example in the `opt_align_table_header()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_all_caps'>Option to use all caps in select table locations</h2><span id='topic+opt_all_caps'></span>

<h3>Description</h3>

<p>Sometimes an all-capitalized look is suitable for a table. With the
<code>opt_all_caps()</code> function, we can transform characters in the column labels,
the stub, and in all row groups in this way (and there's control over which
of these locations are transformed).
</p>
<p>This function serves as a convenient shortcut for <code style="white-space: pre;">&#8288;&lt;gt_tbl&gt; |&gt; tab_options(&lt;location&gt;.text_transform = "uppercase", &lt;location&gt;.font.size = pct(80), &lt;location&gt;.font.weight = "bolder")&#8288;</code> (for all <code>locations</code> selected).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_all_caps(
  data,
  all_caps = TRUE,
  locations = c("column_labels", "stub", "row_group")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_all_caps_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_all_caps_+3A_all_caps">all_caps</code></td>
<td>
<p><em>Use all-caps transformation</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value to indicate whether the text transformation to all caps
should be performed (<code>TRUE</code>, the default) or reset to default values
(<code>FALSE</code>) for the <code>locations</code> targeted.</p>
</td></tr>
<tr><td><code id="opt_all_caps_+3A_locations">locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code style="white-space: pre;">&#8288;mult-kw:[column_labels|stub|row_group]&#8288;</code> // <em>default:</em> <code>c("column_labels", "stub", "row_group")</code>
</p>
<p>Which locations should undergo this text transformation? By default it
includes all of the <code>"column_labels"</code>, the <code>"stub"</code>, and the <code>"row_group"</code>
locations. However, we could just choose one or two of those.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, we'll ensure that all text in the column labels,
the stub, and in all row groups is transformed to all caps using
<code>opt_all_caps()</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_all_caps()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_all_caps_1.png" alt="This image of a table was generated from the first code example in the `opt_all_caps()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_css'>Option to add custom CSS for the table</h2><span id='topic+opt_css'></span>

<h3>Description</h3>

<p><code>opt_css()</code> makes it possible to add CSS to a <strong>gt</strong> table. This  CSS will be
added after the compiled CSS that <strong>gt</strong> generates automatically when the
object is transformed to an HTML output table. You can supply <code>css</code> as a
vector of lines or as a single string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_css(data, css, add = TRUE, allow_duplicates = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_css_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_css_+3A_css">css</code></td>
<td>
<p><em>CSS declarations</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The CSS to include as part of the rendered table's <code style="white-space: pre;">&#8288;&lt;style&gt;&#8288;</code> element.</p>
</td></tr>
<tr><td><code id="opt_css_+3A_add">add</code></td>
<td>
<p><em>Add to existing CSS</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>If <code>TRUE</code>, the default, the CSS is added to any already-defined CSS
(typically from previous calls of <code><a href="#topic+opt_table_font">opt_table_font()</a></code>, <code>opt_css()</code>, or,
directly setting CSS the <code>table.additional_css</code> value in <code><a href="#topic+tab_options">tab_options()</a></code>).
If this is set to <code>FALSE</code>, the CSS provided here will replace any
previously-stored CSS.</p>
</td></tr>
<tr><td><code id="opt_css_+3A_allow_duplicates">allow_duplicates</code></td>
<td>
<p><em>Allow for CSS duplication</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>When this is <code>FALSE</code> (the default), the CSS provided here won't be added
(provided that <code>add = TRUE</code>) if it is seen in the already-defined CSS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>num</code> and <code>currency</code> columns). Through use of the
<code>opt_css()</code> function, we can insert CSS rulesets as as string. We need to
ensure that the table ID is set explicitly (we've done so here with the
ID value of <code>"one"</code>, setting it in the <code><a href="#topic+gt">gt()</a></code> function).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, currency) |&gt;
  gt(id = "one") |&gt;
  fmt_currency(
    columns = currency,
    currency = "HKD"
  ) |&gt;
  fmt_scientific(columns = num) |&gt;
  opt_css(
    css = "
    #one .gt_table {
      background-color: skyblue;
    }
    #one .gt_row {
      padding: 20px 30px;
    }
    #one .gt_col_heading {
      text-align: center !important;
    }
    "
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_css_1.png" alt="This image of a table was generated from the first code example in the `opt_css()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-13
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.2</code> (August 5, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_footnote_marks'>Option to modify the set of footnote marks</h2><span id='topic+opt_footnote_marks'></span>

<h3>Description</h3>

<p>Alter the footnote marks for any footnotes that may be present in the table.
Either a vector of marks can be provided (including Unicode characters), or,
a specific keyword could be used to signify a preset sequence. This function
serves as a shortcut for using <code>tab_options(footnotes.marks = {marks})</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_footnote_marks(data, marks = "numbers")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_footnote_marks_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_footnote_marks_+3A_marks">marks</code></td>
<td>
<p><em>Sequence of footnote marks</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"numbers"</code>
</p>
<p>Either a character vector of length greater than 1 (that will represent the
series of marks) or a single keyword that represents a preset sequence of
marks. The valid keywords are: <code>"numbers"</code> (for numeric marks), <code>"letters"</code>
and <code>"LETTERS"</code> (for lowercase and uppercase alphabetic marks),
<code>"standard"</code> (for a traditional set of four symbol marks), and <code>"extended"</code>
(which adds two more symbols to the standard set).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Specification of footnote marks</h3>

<p>We can supply a vector that will represent the series of marks. The series of
footnote marks is recycled when its usage goes beyond the length of the set.
At each cycle, the marks are simply doubled, tripled, and so on (e.g., <code>*</code> -&gt;
<code style="white-space: pre;">&#8288;**&#8288;</code> -&gt; <code style="white-space: pre;">&#8288;***&#8288;</code>). The option exists for providing keywords for certain types of
footnote marks. The keywords are:
</p>

<ul>
<li> <p><code>"numbers"</code>: numeric marks, they begin from 1 and these marks are not
subject to recycling behavior
</p>
</li>
<li> <p><code>"letters"</code>: minuscule alphabetic marks, internally uses the <code>letters</code>
vector which contains 26 lowercase letters of the Roman alphabet
</p>
</li>
<li> <p><code>"LETTERS"</code>: majuscule alphabetic marks, using the <code>LETTERS</code> vector
which has 26 uppercase letters of the Roman alphabet
</p>
</li>
<li> <p><code>"standard"</code>: symbolic marks, four symbols in total
</p>
</li>
<li> <p><code>"extended"</code>: symbolic marks, extends the standard set by adding two
more symbols, making six
</p>
</li></ul>

<p>The symbolic marks are the: (1) Asterisk, (2) Dagger, (3) Double Dagger,
(4) Section Sign, (5) Double Vertical Line, and (6) Paragraph Sign; the
<code>"standard"</code> set has the first four, <code>"extended"</code> contains all.
</p>


<h3>Examples</h3>

<p>Use a summarized version of the <code><a href="#topic+sza">sza</a></code> dataset to create a <strong>gt</strong> table,
adding three footnotes (with three calls of <code><a href="#topic+tab_footnote">tab_footnote()</a></code>). We can modify
the footnote marks to use with the <code>opt_footnote_marks()</code> function. With the
keyword <code>"standard"</code> we get four commonly-used typographic marks.
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(latitude == 30) |&gt;
  dplyr::group_by(tst) |&gt;
  dplyr::summarize(
    SZA.Max = if (
      all(is.na(sza))) {
      NA
    } else {
      max(sza, na.rm = TRUE)
    },
    SZA.Min = if (
      all(is.na(sza))) {
      NA
    } else {
      min(sza, na.rm = TRUE)
    },
    .groups = "drop"
  ) |&gt;
  gt(rowname_col = "tst") |&gt;
  tab_spanner_delim(delim = ".") |&gt;
  sub_missing(
    columns = everything(),
    missing_text = "90+"
  ) |&gt;
  tab_stubhead(label = "TST") |&gt;
  tab_footnote(
    footnote = "True solar time.",
    locations = cells_stubhead()
  ) |&gt;
  tab_footnote(
    footnote = "Solar zenith angle.",
    locations = cells_column_spanners(
      spanners = "spanner-SZA.Max"
    )
  ) |&gt;
  tab_footnote(
    footnote = "The Lowest SZA.",
    locations = cells_stub(rows = "1200")
  ) |&gt;
  opt_footnote_marks(marks = "standard")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_footnote_marks_1.png" alt="This image of a table was generated from the first code example in the `opt_footnote_marks()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_footnote_spec'>Option to specify the formatting of footnote marks</h2><span id='topic+opt_footnote_spec'></span>

<h3>Description</h3>

<p>Modify the way footnote marks are formatted. This can be performed for those
footnote marks that alight to the targeted text in cells in various locations
in the table or the footnote marks that appear in the table footer. A simple
specification string can be provided for either or both types of marks in
<code>opt_footnote_spec()</code> . This function serves as a shortcut for using either
of <code>tab_options(footnotes.spec_ref = {spec})</code> or
<code>tab_options(footnotes.spec_ftr = {spec})</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_footnote_spec(data, spec_ref = NULL, spec_ftr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_footnote_spec_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_footnote_spec_+3A_spec_ref">spec_ref</code>, <code id="opt_footnote_spec_+3A_spec_ftr">spec_ftr</code></td>
<td>
<p><em>Specifications for formatting of footnote marks</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Specification of the footnote marks when behaving as footnote references
and as marks in the footer section of the table. This is a string
containing spec characters. The default is the spec string <code>"^i"</code>, which is
superscript text set in italics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Specification rules for the formatting of footnote marks</h3>

<p>A footnote spec consists of a string containing control characters for
formatting. Not every type of formatting makes sense for footnote marks so
the specification is purposefully constrained to the following:
</p>

<ul>
<li><p> as superscript text (with the <code>"^"</code> control character) or regular-sized
text residing on the baseline
</p>
</li>
<li><p> bold text (with <code>"b"</code>), italicized text (with <code>"i"</code>), or unstyled text
(don't use either of the <code>"b"</code> or <code>"i"</code> control characters)
</p>
</li>
<li><p> enclosure in parentheses (use <code>"("</code> / <code>")"</code>) or square brackets (with
<code>"["</code> / <code>"]"</code>)
</p>
</li>
<li><p> a period following the mark (using <code>"."</code>); this is most commonly used in
the table footer
</p>
</li></ul>

<p>With the aforementioned control characters we could, for instance, format
the footnote marks to be superscript text in bold type with <code>"^b"</code>. We might
want the marks in the footer to be regular-sized text in parentheses, so the
spec could be either <code>"()"</code> or <code>"(x)"</code> (you can optionally use <code>"x"</code> as a
helpful placeholder for the marks).
</p>


<h3>Examples</h3>

<p>Use a modified version of <code><a href="#topic+sp500">sp500</a></code> the dataset to create a <strong>gt</strong> table with
row labels. We'll add two footnotes using the <code>tab_footnote()</code> function. We
can call <code>opt_footnote_spec()</code> to specify that the marks of the footnote
reference should be superscripts in bold, and, the marks in the footer
section should be enclosed in parentheses.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "1987-10-14" &amp; date &lt;= "1987-10-25") |&gt;
  dplyr::select(date, open, close, volume) |&gt;
  dplyr::mutate(difference = close - open) |&gt;
  dplyr::mutate(change = (close - open) / open) |&gt;
  dplyr::mutate(day = vec_fmt_datetime(date, format = "E")) |&gt;
  dplyr::arrange(-dplyr::row_number()) |&gt;
  gt(rowname_col = "date") |&gt;
  fmt_currency() |&gt;
  fmt_number(columns = volume, suffixing = TRUE) |&gt;
  fmt_percent(columns = change) |&gt;
  cols_move_to_start(columns = day) |&gt;
  cols_width(
    stub() ~ px(130),
    day ~ px(50),
    everything() ~ px(100)
  ) |&gt;
  tab_footnote(
    footnote = "Commerce report on trade deficit.",
    locations = cells_stub(rows = 1)
  ) |&gt;
  tab_footnote(
    footnote = "Black Monday market crash, representing the greatest
    one-day percentage decline in U.S. stock market history.",
    locations = cells_body(columns = change, rows = change &lt; -0.15)
  ) |&gt;
  opt_footnote_spec(spec_ref = "^xb", spec_ftr = "(x)")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_footnote_spec_1.png" alt="This image of a table was generated from the first code example in the `opt_footnote_spec()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_horizontal_padding'>Option to expand or contract horizontal padding</h2><span id='topic+opt_horizontal_padding'></span>

<h3>Description</h3>

<p>Increase or decrease the horizontal padding throughout all locations of a
<strong>gt</strong> table by use of a <code>scale</code> factor, which here is defined by a real
number between <code>0</code> and <code>3</code>. This function serves as a shortcut for setting
the following eight options in <code><a href="#topic+tab_options">tab_options()</a></code>:
</p>

<ul>
<li> <p><code>heading.padding.horizontal</code>
</p>
</li>
<li> <p><code>column_labels.padding.horizontal</code>
</p>
</li>
<li> <p><code>data_row.padding.horizontal</code>
</p>
</li>
<li> <p><code>row_group.padding.horizontal</code>
</p>
</li>
<li> <p><code>summary_row.padding.horizontal</code>
</p>
</li>
<li> <p><code>grand_summary_row.padding.horizontal</code>
</p>
</li>
<li> <p><code>footnotes.padding.horizontal</code>
</p>
</li>
<li> <p><code>source_notes.padding.horizontal</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>opt_horizontal_padding(data, scale = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_horizontal_padding_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_horizontal_padding_+3A_scale">scale</code></td>
<td>
<p><em>Scale factor</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(0&gt;=val&gt;=3)&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>A scale factor by which the horizontal padding will be adjusted. Must be a
number between <code>0</code> and <code>3</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, we'll increase the amount of horizontal padding
across the entire table with <code>opt_horizontal_padding()</code>. Using a <code>scale</code>
value of <code>3</code> (up from the default of <code>1</code>) means the horizontal space will
be greatly increased, resulting in a more spacious table.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_horizontal_padding(scale = 3)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_horizontal_padding_1.png" alt="This image of a table was generated from the first code example in the `opt_horizontal_padding()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.4.0</code> (February 15, 2022)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_interactive'>Option to put interactive elements in an HTML table</h2><span id='topic+opt_interactive'></span>

<h3>Description</h3>

<p>By default, a <strong>gt</strong> table rendered as HTML will essentially be a 'static'
table. However, we can make it 'interactive' and configure those interactive
HTML options through the <code>opt_interactive()</code> function. Making an HTML table
interactive entails the enabling of controls for pagination, global search,
filtering, sorting, and more.
</p>
<p>This function serves as a shortcut for setting the following options in
<code><a href="#topic+tab_options">tab_options()</a></code>:
</p>

<ul>
<li> <p><code>ihtml.active</code>
</p>
</li>
<li> <p><code>ihtml.use_pagination</code>
</p>
</li>
<li> <p><code>ihtml.use_pagination_info</code>
</p>
</li>
<li> <p><code>ihtml.use_sorting</code>
</p>
</li>
<li> <p><code>ihtml.use_search</code>
</p>
</li>
<li> <p><code>ihtml.use_filters</code>
</p>
</li>
<li> <p><code>ihtml.use_resizers</code>
</p>
</li>
<li> <p><code>ihtml.use_highlight</code>
</p>
</li>
<li> <p><code>ihtml.use_compact_mode</code>
</p>
</li>
<li> <p><code>ihtml.use_page_size_select</code>
</p>
</li>
<li> <p><code>ihtml.page_size_default</code>
</p>
</li>
<li> <p><code>ihtml.page_size_values</code>
</p>
</li>
<li> <p><code>ihtml.pagination_type</code>
</p>
</li>
<li> <p><code>ihtml.height</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>opt_interactive(
  data,
  active = TRUE,
  use_pagination = TRUE,
  use_pagination_info = TRUE,
  use_sorting = TRUE,
  use_search = FALSE,
  use_filters = FALSE,
  use_resizers = FALSE,
  use_highlight = FALSE,
  use_compact_mode = FALSE,
  use_text_wrapping = TRUE,
  use_page_size_select = FALSE,
  page_size_default = 10,
  page_size_values = c(10, 25, 50, 100),
  pagination_type = c("numbers", "jump", "simple"),
  height = "auto"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_interactive_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_active">active</code></td>
<td>
<p><em>Display interactive HTML table</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>The <code>active</code> option will either enable or disable interactive features for
an HTML table. The individual features of an interactive HTML table are
controlled by the other options.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_pagination">use_pagination</code></td>
<td>
<p><em>Display pagination controls</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>This is the option for using pagination controls (below the table body). By
default, this is <code>TRUE</code> and it will allow the use to page through table
content.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_pagination_info">use_pagination_info</code></td>
<td>
<p><em>Display pagination info</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>If <code>use_pagination</code> is <code>TRUE</code> then the <code>use_pagination_info</code> option can be
used to display informational text regarding the current page view (this is
set to <code>TRUE</code> by default).</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_sorting">use_sorting</code></td>
<td>
<p><em>Provide column sorting controls</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>This option provides controls for sorting column values. By default, this
is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_search">use_search</code></td>
<td>
<p><em>Provide a global search field</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>use_search</code> option places a search field for globally filtering rows
to the requested content. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_filters">use_filters</code></td>
<td>
<p><em>Display filtering fields</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>use_filters</code> option places search fields below each column header and
allows for filtering by column. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_resizers">use_resizers</code></td>
<td>
<p><em>Allow column resizing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>This option allows for the interactive resizing of columns. By default,
this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_highlight">use_highlight</code></td>
<td>
<p><em>Enable row highlighting on hover</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>use_highlight</code> option highlights individual rows upon hover. By
default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_compact_mode">use_compact_mode</code></td>
<td>
<p><em>Use compact mode</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>To reduce vertical padding and thus make the table consume less vertical
space the <code>use_compact_mode</code> option can be used. By default, this is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_text_wrapping">use_text_wrapping</code></td>
<td>
<p><em>Use text wrapping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>The <code>use_text_wrapping</code> option controls whether text wrapping occurs
throughout the table. This is <code>TRUE</code> by default and with that text will be
wrapped to multiple lines. If <code>FALSE</code>, text will be truncated to a single
line.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_use_page_size_select">use_page_size_select</code></td>
<td>
<p><em>Allow for page size selection</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>use_page_size_select</code> option lets us display a dropdown menu for the
number of rows to show per page of data.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_page_size_default">page_size_default</code></td>
<td>
<p><em>Change the default page size</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>10</code>
</p>
<p>The default page size (initially set as <code>10</code>) can be modified with
<code>page_size_default</code> and this works whether or not <code>use_page_size_select</code> is
set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_page_size_values">page_size_values</code></td>
<td>
<p><em>Set of page-size values</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>c(10, 25, 50, 100)</code>
</p>
<p>By default, this is the vector <code>c(10, 25, 50, 100)</code> which corresponds to
options for <code>10</code>, <code>25</code>, <code>50</code>, and <code>100</code> rows of data per page. To modify
these page-size options, provide a numeric vector to <code>page_size_values</code>.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_pagination_type">pagination_type</code></td>
<td>
<p><em>Change pagination mode</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"numbers"</code>
</p>
<p>When using pagination the <code>pagination_type</code> option lets us select between
one of three options for the layout of pagination controls. The default is
<code>"numbers"</code>, where a series of page-number buttons is presented along with
'previous' and 'next' buttons. The <code>"jump"</code> option provides an input field
with a stepper for the page number. With <code>"simple"</code>, only the 'previous'
and 'next' buttons are displayed.</p>
</td></tr>
<tr><td><code id="opt_interactive_+3A_height">height</code></td>
<td>
<p><em>Height of interactive HTML table</em>
</p>
<p>Height of the table in pixels. Defaults to <code>"auto"</code> for automatic sizing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use select columns from the <code><a href="#topic+towny">towny</a></code> dataset to create a <strong>gt</strong> table with a
header (through <code><a href="#topic+tab_header">tab_header()</a></code>) and a source note (through
<code><a href="#topic+tab_source_note">tab_source_note()</a></code>). Next, we will add interactive HTML features (and
otherwise activate interactive HTML mode) through <code>opt_interactive()</code>. It'll
just be the default set of interactive options.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, census_div, starts_with("population")) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  cols_label_with(fn = function(x) sub("population_", "", x)) |&gt;
  cols_width(
    name ~ px(200),
    census_div ~ px(200)
  ) |&gt;
  tab_header(
    title = "Populations of Municipalities",
    subtitle = "Census values from 1996 to 2021."
  ) |&gt;
  tab_source_note(source_note = md("Data taken from the `towny` dataset.")) |&gt;
  opt_interactive()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_interactive_1.png" alt="This image of a table was generated from the first code example in the `opt_interactive()` help file." style="width:100%;">

<p>Interactive tables can have styled body cells. Here, we use the <code><a href="#topic+gtcars">gtcars</a></code>
dataset to create an interactive <strong>gt</strong> table. Using <code><a href="#topic+tab_style">tab_style()</a></code> and
<code><a href="#topic+data_color">data_color()</a></code> we can flexibly style body cells throughout the table.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  gt() |&gt;
  cols_width(everything() ~ px(130)) |&gt;
  tab_style(
    style = cell_fill(color = "gray95"),
    locations = cells_body(columns = c(mfr, model))
  ) |&gt;
  data_color(
    columns = c(starts_with("hp"), starts_with("trq")),
    method = "numeric",
    palette = "viridis"
  ) |&gt;
  cols_hide(columns = trim) |&gt;
  opt_interactive()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_interactive_2.png" alt="This image of a table was generated from the second code example in the `opt_interactive()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_row_striping'>Option to add or remove row striping</h2><span id='topic+opt_row_striping'></span>

<h3>Description</h3>

<p>By default, a <strong>gt</strong> table does not have row striping enabled. However, this
function allows us to easily enable or disable striped rows in the table
body. This function serves as a convenient shortcut for
<code style="white-space: pre;">&#8288;&lt;gt_tbl&gt; |&gt; tab_options(row.striping.include_table_body = TRUE|FALSE)&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_row_striping(data, row_striping = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_row_striping_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_row_striping_+3A_row_striping">row_striping</code></td>
<td>
<p><em>Use alternating row stripes</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value to indicate whether row striping should be added or
removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, we'll add row striping to every second row with
<code>opt_row_striping()</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_row_striping()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_row_striping_1.png" alt="This image of a table was generated from the first code example in the `opt_row_striping()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_stylize'>Stylize your table with a colorful look</h2><span id='topic+opt_stylize'></span>

<h3>Description</h3>

<p>With <code>opt_stylize()</code> you can quickly style your <strong>gt</strong> table with a carefully
curated set of background colors, line colors, and line styles. There are six
styles to choose from and they largely vary in the extent of coloring applied
to different table locations. Some have table borders applied, some apply
darker colors to the table stub and summary sections, and, some even have
vertical lines. In addition to choosing a <code>style</code> preset, there are six
<code>color</code> variations that each use a range of five color tints. Each of the
color tints have been fine-tuned to maximize the contrast between text and
its background. There are 36 combinations of <code>style</code> and <code>color</code> to choose
from.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_stylize(data, style = 1, color = "blue", add_row_striping = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_stylize_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_stylize_+3A_style">style</code></td>
<td>
<p><em>Table style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(1&gt;=val&gt;=6)&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>Six numbered styles are available. Simply provide a number from <code>1</code> (the
default) to <code>6</code> to choose a distinct look.</p>
</td></tr>
<tr><td><code id="opt_stylize_+3A_color">color</code></td>
<td>
<p><em>Color variation</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"blue"</code>
</p>
<p>There are six color variations: <code>"blue"</code>, <code>"cyan"</code>, <code>"pink"</code>, <code>"green"</code>,
<code>"red"</code>, and <code>"gray"</code>.</p>
</td></tr>
<tr><td><code id="opt_stylize_+3A_add_row_striping">add_row_striping</code></td>
<td>
<p><em>Allow row striping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to enable row striping in the table body for the <code>style</code> chosen.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use <code>exibble</code> to create a <strong>gt</strong> table with a number of table parts added.
Then, use <code>opt_stylize()</code> to give the table some additional style
(using the <code>"cyan"</code> color variation and style number <code>6</code>).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_stylize(style = 6, color = "cyan")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_stylize_1.png" alt="This image of a table was generated from the first code example in the `opt_stylize()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_table_font'>Options to define font choices for the entire table</h2><span id='topic+opt_table_font'></span>

<h3>Description</h3>

<p><code>opt_table_font()</code> makes it possible to define fonts used for an entire
<strong>gt</strong> table. Any font names supplied in <code>font</code> will (by default, with
<code>add = TRUE</code>) be placed before the names present in the existing font stack
(i.e., they will take precedence). You can choose to base the font stack on
those provided by <code><a href="#topic+system_fonts">system_fonts()</a></code> by providing a valid keyword for a themed
set and optionally prepending <code>font</code> values to that.
</p>
<p>Take note that you could still have entirely different fonts in specific
locations of the table. For that you would need to use <code><a href="#topic+tab_style">tab_style()</a></code> or
<code><a href="#topic+tab_style_body">tab_style_body()</a></code> in conjunction with <code><a href="#topic+cell_text">cell_text()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_table_font(
  data,
  font = NULL,
  stack = NULL,
  weight = NULL,
  style = NULL,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_table_font_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_table_font_+3A_font">font</code></td>
<td>
<p><em>Default table fonts</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;|list|obj:&lt;font_css&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>One or more font names available as system or web fonts. These can be
combined with a <code>c()</code> or a <code>list()</code>. To choose fonts from the
<em>Google Fonts</em> service, we can call the <code><a href="#topic+google_font">google_font()</a></code> helper function.</p>
</td></tr>
<tr><td><code id="opt_table_font_+3A_stack">stack</code></td>
<td>
<p><em>Name of font stack</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A name that is representative of a font stack (obtained via internally via
the <code><a href="#topic+system_fonts">system_fonts()</a></code> helper function). If provided, this new stack will
replace any defined fonts and any <code>font</code> values will be prepended.</p>
</td></tr>
<tr><td><code id="opt_table_font_+3A_weight">weight</code></td>
<td>
<p><em>Text weight</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Option to set the weight of the font. Can be a text-based keyword such as
<code>"normal"</code>, <code>"bold"</code>, <code>"lighter"</code>, <code>"bolder"</code>, or, a numeric value between
<code>1</code> and <code>1000</code>, inclusive. Please note that typefaces have varying support
for the numeric mapping of weight.</p>
</td></tr>
<tr><td><code id="opt_table_font_+3A_style">style</code></td>
<td>
<p><em>Text style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An option to modify the text style. Can be one of either <code>"normal"</code>,
<code>"italic"</code>, or <code>"oblique"</code>.</p>
</td></tr>
<tr><td><code id="opt_table_font_+3A_add">add</code></td>
<td>
<p><em>Add to existing fonts</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should fonts be added to the beginning of any already-defined fonts for the
table? By default, this is <code>TRUE</code> and is recommended since those fonts
already present can serve as fallbacks when everything specified in <code>font</code>
is not available. If a <code>stack</code> is provided, then <code>add</code> will automatically
set to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Possibilities for the <code>font</code> argument</h3>

<p>We have the option to supply one or more font names for the <code>font</code> argument.
They can be enclosed in <code>c()</code> or a <code>list()</code>. You can generate this list or
vector with a combination of font names, and you can freely use
<code><a href="#topic+google_font">google_font()</a></code>, <code><a href="#topic+default_fonts">default_fonts()</a></code>, and <code><a href="#topic+system_fonts">system_fonts()</a></code> to help compose
your font family.
</p>


<h3>Possibilities for the <code>stack</code> argument</h3>

<p>There are several themed font stacks available via the <code><a href="#topic+system_fonts">system_fonts()</a></code>
helper function. That function can be used to generate all or a segment of a
vector supplied to the <code>font</code> argument. However, using the <code>stack</code> argument
with one of the 15 keywords for the font stacks available in
<code>system_fonts()</code>, we could be sure that the typeface class will work across
multiple computer systems. Any of the following keywords can be used:
</p>

<ul>
<li> <p><code>"system-ui"</code>
</p>
</li>
<li> <p><code>"transitional"</code>
</p>
</li>
<li> <p><code>"old-style"</code>
</p>
</li>
<li> <p><code>"humanist"</code>
</p>
</li>
<li> <p><code>"geometric-humanist"</code>
</p>
</li>
<li> <p><code>"classical-humanist"</code>
</p>
</li>
<li> <p><code>"neo-grotesque"</code>
</p>
</li>
<li> <p><code>"monospace-slab-serif"</code>
</p>
</li>
<li> <p><code>"monospace-code"</code>
</p>
</li>
<li> <p><code>"industrial"</code>
</p>
</li>
<li> <p><code>"rounded-sans"</code>
</p>
</li>
<li> <p><code>"slab-serif"</code>
</p>
</li>
<li> <p><code>"antique"</code>
</p>
</li>
<li> <p><code>"didone"</code>
</p>
</li>
<li> <p><code>"handwritten"</code>
</p>
</li></ul>



<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a small <strong>gt</strong> table. We'll
use <code><a href="#topic+fmt_currency">fmt_currency()</a></code> to display a dollar sign for the first row of monetary
values. Then, set a larger font size for the table and use the
<code>"Merriweather"</code> font (from <em>Google Fonts</em>, via <code><a href="#topic+google_font">google_font()</a></code>) with two
system font fallbacks (<code>"Cochin"</code> and the generic <code>"serif"</code>).
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice(1:10) |&gt;
  dplyr::select(-volume, -adj_close) |&gt;
  gt() |&gt;
  fmt_currency(
    rows = 1,
    use_seps = FALSE
  ) |&gt;
  opt_table_font(
    font = list(
      google_font(name = "Merriweather"),
      "Cochin", "serif"
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_table_font_1.png" alt="This image of a table was generated from the first code example in the `opt_table_font()` help file." style="width:100%;">

<p>With the <code><a href="#topic+sza">sza</a></code> dataset we'll create a two-column, eleven-row table. Within
<code>opt_table_font()</code>, the <code>stack</code> argument will be supplied with the
<code>"rounded-sans"</code> font stack. This sets up a family of fonts with rounded,
curved letterforms that should be locally available in different computing
environments.
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(
    latitude == 20 &amp;
      month == "jan" &amp;
      !is.na(sza)
  ) |&gt;
  dplyr::select(-latitude, -month) |&gt;
  gt() |&gt;
  opt_table_font(stack = "rounded-sans") |&gt;
  opt_all_caps()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_table_font_2.png" alt="This image of a table was generated from the second code example in the `opt_table_font()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.2</code> (August 5, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_table_lines'>Option to set table lines to different extents</h2><span id='topic+opt_table_lines'></span>

<h3>Description</h3>

<p><code>opt_table_lines()</code> sets table lines in one of three possible ways:
(1) all possible table lines drawn (<code>"all"</code>), (2) no table lines at all
(<code>"none"</code>), and (3) resetting to the default line styles (<code>"default"</code>). This
is great if you want to start off with lots of lines and subtract just a few
of them with <code><a href="#topic+tab_options">tab_options()</a></code> or <code><a href="#topic+tab_style">tab_style()</a></code>. Or, use it to start with a
completely lineless table, adding individual lines as needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_table_lines(data, extent = c("all", "none", "default"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_table_lines_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_table_lines_+3A_extent">extent</code></td>
<td>
<p><em>Extent of lines added</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[all|none|default]&#8288;</code> // <em>default:</em> <code>"all"</code>
</p>
<p>The extent to which lines will be visible in the table. Options are
<code>"all"</code>, <code>"none"</code>, or <code>"default"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, we'll use the <code>opt_table_lines()</code> function to
generate lines everywhere there can possibly be lines (the default for the
<code>extent</code> argument is <code>"all"</code>).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_table_lines()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_table_lines_1.png" alt="This image of a table was generated from the first code example in the `opt_table_lines()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-10
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_table_outline'>Option to wrap an outline around the entire table</h2><span id='topic+opt_table_outline'></span>

<h3>Description</h3>

<p>This function puts an outline of consistent <code>style</code>, <code>width</code>, and <code>color</code>
around the entire table. It'll write over any existing outside lines so long
as the <code>width</code> is larger that of the existing lines. The default value of
<code>style</code> (<code>"solid"</code>) will draw a solid outline, whereas a value of <code>"none"</code>
will remove any present outline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_table_outline(data, style = "solid", width = px(3), color = "#D3D3D3")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_table_outline_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_table_outline_+3A_style">style</code></td>
<td>
<p><em>Outline style property</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"solid"</code>
</p>
<p>The style property for the table outline. By default, this is <code>"solid"</code>. If
<code>"none"</code> is used then the outline is removed and any values provided for
<code>width</code> and <code>color</code> will be ignored (i.e., not set).</p>
</td></tr>
<tr><td><code id="opt_table_outline_+3A_width">width</code></td>
<td>
<p><em>Outline width value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>px(3)</code>
</p>
<p>The width property for the table outline. By default, this is <code>px(3)</code> (or,
<code>"3px"</code>).</p>
</td></tr>
<tr><td><code id="opt_table_outline_+3A_color">color</code></td>
<td>
<p><em>Color of outline</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"#D3D3D3"</code>
</p>
<p>The color of the table outline. By default, this is <code>"#D3D3D3"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, let's make it so that we have an outline wrap
around the entire table by using the <code>opt_table_outline()</code> function.
</p>
<div class="sourceCode r"><pre>tab_1 &lt;-
  exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_table_outline()

tab_1
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_table_outline_1.png" alt="This image of a table was generated from the first code example in the `opt_table_outline()` help file." style="width:100%;">

<p>Remove the table outline with the <code>style = "none"</code> option.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; opt_table_outline(style = "none")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_table_outline_2.png" alt="This image of a table was generated from the second code example in the `opt_table_outline()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-11
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_vertical_padding">opt_vertical_padding</a>()</code>
</p>

<hr>
<h2 id='opt_vertical_padding'>Option to expand or contract vertical padding</h2><span id='topic+opt_vertical_padding'></span>

<h3>Description</h3>

<p>Increase or decrease the vertical padding throughout all locations of a
<strong>gt</strong> table by use of a <code>scale</code> factor, which here is defined by a real
number between <code>0</code> and <code>3</code>. This function serves as a shortcut for setting
the following eight options in <code><a href="#topic+tab_options">tab_options()</a></code>:
</p>

<ul>
<li> <p><code>heading.padding</code>
</p>
</li>
<li> <p><code>column_labels.padding</code>
</p>
</li>
<li> <p><code>data_row.padding</code>
</p>
</li>
<li> <p><code>row_group.padding</code>
</p>
</li>
<li> <p><code>summary_row.padding</code>
</p>
</li>
<li> <p><code>grand_summary_row.padding</code>
</p>
</li>
<li> <p><code>footnotes.padding</code>
</p>
</li>
<li> <p><code>source_notes.padding</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>opt_vertical_padding(data, scale = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_vertical_padding_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="opt_vertical_padding_+3A_scale">scale</code></td>
<td>
<p><em>Scale factor</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;(0&gt;=val&gt;=3)&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>A scale factor by which the vertical padding will be adjusted. Must be a
number between <code>0</code> and <code>3</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with a number of table
parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>, <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>,
and more). Following that, we'll lessen the amount of vertical padding across
the entire table with <code>opt_vertical_padding()</code>. Using a <code>scale</code> value of
<code>0.25</code> (down from the default of <code>1</code>) means the vertical space will be
greatly reduced, resulting in a more compact table.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  summary_rows(
    groups = "grp_a",
    columns = c(num, currency),
    fns = c("min", "max")
  ) |&gt;
  grand_summary_rows(
    columns = currency,
    fns = total ~ sum(., na.rm = TRUE)
  ) |&gt;
  tab_source_note(source_note = "This is a source note.") |&gt;
  tab_footnote(
    footnote = "This is a footnote.",
    locations = cells_body(columns = 1, rows = 1)
  ) |&gt;
  tab_header(
    title = "The title of the table",
    subtitle = "The table's subtitle"
  ) |&gt;
  opt_vertical_padding(scale = 0.25)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_opt_vertical_padding_1.png" alt="This image of a table was generated from the first code example in the `opt_vertical_padding()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>10-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.4.0</code> (February 15, 2022)
</p>


<h3>See Also</h3>

<p>Other table option functions: 
<code><a href="#topic+opt_align_table_header">opt_align_table_header</a>()</code>,
<code><a href="#topic+opt_all_caps">opt_all_caps</a>()</code>,
<code><a href="#topic+opt_css">opt_css</a>()</code>,
<code><a href="#topic+opt_footnote_marks">opt_footnote_marks</a>()</code>,
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec</a>()</code>,
<code><a href="#topic+opt_horizontal_padding">opt_horizontal_padding</a>()</code>,
<code><a href="#topic+opt_interactive">opt_interactive</a>()</code>,
<code><a href="#topic+opt_row_striping">opt_row_striping</a>()</code>,
<code><a href="#topic+opt_stylize">opt_stylize</a>()</code>,
<code><a href="#topic+opt_table_font">opt_table_font</a>()</code>,
<code><a href="#topic+opt_table_lines">opt_table_lines</a>()</code>,
<code><a href="#topic+opt_table_outline">opt_table_outline</a>()</code>
</p>

<hr>
<h2 id='pct'>Helper for providing a numeric value as percentage</h2><span id='topic+pct'></span>

<h3>Description</h3>

<p>A percentage value acts as a length value that is relative to an initial
state. For instance an 80 percent value for something will size the target
to 80 percent the size of its 'previous' value. This type of sizing is
useful for sizing up or down a length value with an intuitive measure. This
helper function can be used for the setting of font sizes (e.g., in
<code><a href="#topic+cell_text">cell_text()</a></code>) and altering the thicknesses of lines (e.g., in
<code><a href="#topic+cell_borders">cell_borders()</a></code>). Should a more exact definition of size be required, the
analogous helper function <code><a href="#topic+pct">pct()</a></code> will be more useful.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pct(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pct_+3A_x">x</code></td>
<td>
<p><em>Numeric value in percent</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The numeric value to format as a string percentage for some <code><a href="#topic+tab_options">tab_options()</a></code>
arguments that can take percentage values (e.g., <code>table.width</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with a single value in percentage units.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. Inside of the
<code><a href="#topic+cell_text">cell_text()</a></code> call (which is itself inside of <code><a href="#topic+tab_style">tab_style()</a></code>), we'll use the
<code>pct()</code> helper function to define the font size for the column labels as a
percentage value.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  tab_style(
    style = cell_text(size = pct(75)),
    locations = cells_column_labels()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_pct_1.png" alt="This image of a table was generated from the first code example in the `pct()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='peeps'>A table of personal information for people all over the world</h2><span id='topic+peeps'></span>

<h3>Description</h3>

<p>The <code>peeps</code> dataset contains records for one hundred people residing in ten
different countries. Each person in the table has address information along
with their email address and phone number. There are also personal
characteristics like date of birth, height, and weight. This data has been
synthesized, and so the names within the table have not been taken or based
on individuals in real life. The street addresses were generated from actual
street names within real geographic localities, however, the street numbers
were assigned randomly from a constrained number set. While these records do
not relate to real people, efforts were made to make the data as realistic as
possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>peeps
</code></pre>


<h3>Format</h3>

<p>A tibble with 100 rows and 14 variables:
</p>

<dl>
<dt>name_given, name_family</dt><dd><p>The given and family name of individual.</p>
</dd>
<dt>address</dt><dd><p>The street address of the individual.</p>
</dd>
<dt>city</dt><dd><p>The name of the city or locality in which the individual
resides.</p>
</dd>
<dt>state_prov</dt><dd><p>The state or province associated with the <code>city</code> and
<code>address</code>. This is <code>NA</code> for individuals residing in countries where
subdivision data is not needed for generating a valid mailing address.</p>
</dd>
<dt>postcode</dt><dd><p>The post code associated with the <code>city</code> and <code>address</code>.</p>
</dd>
<dt>country</dt><dd><p>The 3-letter ISO 3166-1 country code representative of the
individual's country.</p>
</dd>
<dt>email_addr</dt><dd><p>The individual's email address.</p>
</dd>
<dt>phone_number, country_code</dt><dd><p>The individual's phone number and the
country code associated with the phone number.</p>
</dd>
<dt>gender</dt><dd><p>The gender of the individual.</p>
</dd>
<dt>dob</dt><dd><p>The individual's date of birth (DOB) in the ISO 8601 form of
<code>YYYY-MM-DD</code>.</p>
</dd>
<dt>height_cm, weight_kg</dt><dd><p>The height and weight of the individual in
centimeters (cm) and kilograms (kg), respectively.</p>
</dd>
</dl>



<h3>Dataset ID and Badge</h3>

<p>DATA-8
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_peeps.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='photolysis'>Data on photolysis rates for gas-phase organic compounds</h2><span id='topic+photolysis'></span>

<h3>Description</h3>

<p>The <code>photolysis</code> dataset contains numerical values for describing the
photolytic degradation pathways of 25 compounds of relevance in atmospheric
chemistry. Many volatile organic compounds (VOCs) are emitted in substantial
quantities from both biogenic and anthropogenic sources, and they can have a
major influence on the chemistry of the lower atmosphere. A portion of these
can be transformed into other VOCs via the energy provided from light.
</p>
<p>In order to realistically predict the composition of the atmosphere and how
it evolves over time, we need accurate estimates of photolysis rates. The
data provided here in <code>photolysis</code> allows for computations of photolysis
rates (<em>J</em>, having units of <code>s^-1</code>) as a function of the solar zenith angle
(SZA). Having such values is essential when deploying atmospheric chemistry
models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>photolysis
</code></pre>


<h3>Format</h3>

<p>A tibble with 34 rows and 10 variables:
</p>

<dl>
<dt>compd_name</dt><dd><p>The name of the primary compound undergoing photolysis.</p>
</dd>
<dt>cmpd_formula</dt><dd><p>The chemical formula of the compound.</p>
</dd>
<dt>products</dt><dd><p>A product pathway for the photolysis of the compound.</p>
</dd>
<dt>type</dt><dd><p>The type of organic compound undergoing photolysis.</p>
</dd>
<dt>l, m, n</dt><dd><p>The parameter values given in the <code>l</code>, <code>m</code>, and <code>n</code> columns
can be used to calculate the photolysis rate (<em>J</em>) as a function of the
solar zenith angle (<em>X</em>, in radians) through the expression:
<code>J = l * cos(X)^m * exp(-n * sec(X))</code>.</p>
</dd>
<dt>quantum_yield</dt><dd><p>In the context of photolysis reactions, this is the
efficiency of a given photolytic reaction. In other words, it's the number of
product molecules formed over the number of photons absorbed.</p>
</dd>
<dt>wavelength_nm, sigma_298_cm2</dt><dd><p>The <code>wavelength_nm</code> and <code>sigma_298_cm2</code>
columns provide photoabsorption data for the compound undergoing photolysis.
The values in <code>wavelength_nm</code> provide the wavelength of light in nanometer
units; the <code>sigma_298_cm2</code> values are paired with the <code>wavelength_nm</code> values
and they are in units of <code style="white-space: pre;">&#8288;cm^2 molecule^-1&#8288;</code>.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>photolysis</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(photolysis)
#&gt; Rows: 34
#&gt; Columns: 10
#&gt; $ cmpd_name     &lt;chr&gt; "ozone", "ozone", "hydrogen peroxide", "nitrogen dioxide~
#&gt; $ cmpd_formula  &lt;chr&gt; "O3", "O3", "H2O2", "NO2", "NO3", "NO3", "HONO", "HNO3",~
#&gt; $ products      &lt;chr&gt; "-&gt; O(^1D) + O2", "-&gt; O(^3P) + O2", "-&gt; OH + OH", "-&gt; NO~
#&gt; $ type          &lt;chr&gt; "inorganic reactions", "inorganic reactions", "inorganic~
#&gt; $ l             &lt;dbl&gt; 6.073e-05, 4.775e-04, 1.041e-05, 1.165e-02, 2.485e-02, 1~
#&gt; $ m             &lt;dbl&gt; 1.743, 0.298, 0.723, 0.244, 0.168, 0.155, 0.261, 1.230, ~
#&gt; $ n             &lt;dbl&gt; 0.474, 0.080, 0.279, 0.267, 0.108, 0.125, 0.288, 0.307, ~
#&gt; $ quantum_yield &lt;dbl&gt; NA, NA, 1.000, NA, 1.000, 1.000, 1.000, 1.000, NA, NA, N~
#&gt; $ wavelength_nm &lt;chr&gt; "290,291,292,293,294,295,296,297,298,299,300,301,302,303~
#&gt; $ sigma_298_cm2 &lt;chr&gt; "1.43E-18,1.27E-18,1.11E-18,9.94E-19,8.68E-19,7.69E-19,6~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-15
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_photolysis.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='pizzaplace'>A year of pizza sales from a pizza place</h2><span id='topic+pizzaplace'></span>

<h3>Description</h3>

<p>A synthetic dataset that describes pizza sales for a pizza place somewhere in
the US. While the contents are artificial, the ingredients used to make the
pizzas are far from it. There are 32 different pizzas that fall into 4
different categories: <code>"classic"</code> (classic pizzas: 'You probably had one like
it before, but never like this!'), <code>"chicken"</code> (pizzas with chicken as a
major ingredient: 'Try the Southwest Chicken Pizza! You'll love it!'),
<code>"supreme"</code> (pizzas that try a little harder: 'My Soppressata pizza uses only
the finest salami from my personal salumist!'), and, <code>"veggie"</code> (pizzas
without any meats whatsoever: 'My Five Cheese pizza has so many cheeses, I
can only offer it in Large Size!').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pizzaplace
</code></pre>


<h3>Format</h3>

<p>A tibble with 49,574 rows and 7 variables:
</p>

<dl>
<dt>id</dt><dd><p>The ID for the order, which consists of one or more pizzas at a
given <code>date</code> and <code>time</code>.</p>
</dd>
<dt>date</dt><dd><p>A character representation of the order date, expressed in the
ISO 8601 date format (<code>YYYY-MM-DD</code>).</p>
</dd>
<dt>time</dt><dd><p>A character representation of the order time, expressed as a
24-hour time the ISO 8601 extended time format (<code>HH:MM:SS</code>).</p>
</dd>
<dt>name</dt><dd><p>The short name for the pizza.</p>
</dd>
<dt>size</dt><dd><p>The size of the pizza, which can either be <code>"S"</code>, <code>"M"</code>, <code>"L"</code>,
<code>"XL"</code> (rare!), or <code>"XXL"</code> (even rarer!); most pizzas are available in the
<code>"S"</code>, <code>"M"</code>, and <code>"L"</code> sizes but exceptions apply.</p>
</dd>
<dt>type</dt><dd><p>The category or type of pizza, which can either be <code>"classic"</code>,
<code>"chicken"</code>, <code>"supreme"</code>, or <code>"veggie"</code>.</p>
</dd>
<dt>price</dt><dd><p>The price of the pizza and the amount that it sold for (in
USD).</p>
</dd>
</dl>



<h3>Details</h3>

<p>Each pizza in the dataset is identified by a short <code>name</code>. The following
listings provide the full names of each pizza and their main ingredients.
</p>
<p>Classic Pizzas:
</p>

<ul>
<li> <p><code>"classic_dlx"</code>: The Classic Deluxe Pizza (Pepperoni, Mushrooms, Red
Onions, Red Peppers, Bacon)
</p>
</li>
<li> <p><code>"big_meat"</code>: The Big Meat Pizza (Bacon, Pepperoni, Italian Sausage,
Chorizo Sausage)
</p>
</li>
<li> <p><code>"pepperoni"</code>: The Pepperoni Pizza (Mozzarella Cheese, Pepperoni)
</p>
</li>
<li> <p><code>"hawaiian"</code>: The Hawaiian Pizza (Sliced Ham, Pineapple, Mozzarella
Cheese)
</p>
</li>
<li> <p><code>"pep_msh_pep"</code>: The Pepperoni, Mushroom, and Peppers Pizza
(Pepperoni, Mushrooms, and Green Peppers)
</p>
</li>
<li> <p><code>"ital_cpcllo"</code>: The Italian Capocollo Pizza (Capocollo, Red
Peppers, Tomatoes, Goat Cheese, Garlic, Oregano)
</p>
</li>
<li> <p><code>"napolitana"</code>: The Napolitana Pizza (Tomatoes, Anchovies, Green
Olives, Red Onions, Garlic)
</p>
</li>
<li> <p><code>"the_greek"</code>: The Greek Pizza (Kalamata Olives, Feta Cheese,
Tomatoes, Garlic, Beef Chuck Roast, Red Onions)
</p>
</li></ul>

<p>Chicken Pizzas:
</p>

<ul>
<li> <p><code>"thai_ckn"</code>: The Thai Chicken Pizza (Chicken, Pineapple, Tomatoes,
Red Peppers, Thai Sweet Chilli Sauce)
</p>
</li>
<li> <p><code>"bbq_ckn"</code>: The Barbecue Chicken Pizza (Barbecued Chicken, Red
Peppers, Green Peppers, Tomatoes, Red Onions, Barbecue Sauce)
</p>
</li>
<li> <p><code>"southw_ckn"</code>: The Southwest Chicken Pizza (Chicken, Tomatoes, Red
Peppers, Red Onions, Jalapeno Peppers, Corn, Cilantro, Chipotle Sauce)
</p>
</li>
<li> <p><code>"cali_ckn"</code>: The California Chicken Pizza (Chicken, Artichoke,
Spinach, Garlic, Jalapeno Peppers, Fontina Cheese, Gouda Cheese)
</p>
</li>
<li> <p><code>"ckn_pesto"</code>: The Chicken Pesto Pizza (Chicken, Tomatoes, Red
Peppers, Spinach, Garlic, Pesto Sauce)
</p>
</li>
<li> <p><code>"ckn_alfredo"</code>: The Chicken Alfredo Pizza (Chicken, Red Onions,
Red Peppers, Mushrooms, Asiago Cheese, Alfredo Sauce)
</p>
</li></ul>

<p>Supreme Pizzas:
</p>

<ul>
<li> <p><code>"brie_carre"</code>: The Brie Carre Pizza (Brie Carre Cheese, Prosciutto,
Caramelized Onions, Pears, Thyme, Garlic)
</p>
</li>
<li> <p><code>"calabrese"</code>: The Calabrese Pizza ('Nduja Salami, Pancetta,
Tomatoes, Red Onions, Friggitello Peppers, Garlic)
</p>
</li>
<li> <p><code>"soppressata"</code>: The Soppressata Pizza (Soppressata Salami, Fontina
Cheese, Mozzarella Cheese, Mushrooms, Garlic)
</p>
</li>
<li> <p><code>"sicilian"</code>: The Sicilian Pizza (Coarse Sicilian Salami, Tomatoes,
Green Olives, Luganega Sausage, Onions, Garlic)
</p>
</li>
<li> <p><code>"ital_supr"</code>: The Italian Supreme Pizza (Calabrese Salami,
Capocollo, Tomatoes, Red Onions, Green Olives, Garlic)
</p>
</li>
<li> <p><code>"peppr_salami"</code>: The Pepper Salami Pizza (Genoa Salami, Capocollo,
Pepperoni, Tomatoes, Asiago Cheese, Garlic)
</p>
</li>
<li> <p><code>"prsc_argla"</code>: The Prosciutto and Arugula Pizza (Prosciutto di San
Daniele, Arugula, Mozzarella Cheese)
</p>
</li>
<li> <p><code>"spinach_supr"</code>: The Spinach Supreme Pizza (Spinach, Red Onions,
Pepperoni, Tomatoes, Artichokes, Kalamata Olives, Garlic, Asiago Cheese)
</p>
</li>
<li> <p><code>"spicy_ital"</code>: The Spicy Italian Pizza (Capocollo, Tomatoes, Goat
Cheese, Artichokes, Peperoncini verdi, Garlic)
</p>
</li></ul>

<p>Vegetable Pizzas
</p>

<ul>
<li> <p><code>"mexicana"</code>: The Mexicana Pizza (Tomatoes, Red Peppers, Jalapeno
Peppers, Red Onions, Cilantro, Corn, Chipotle Sauce, Garlic)
</p>
</li>
<li> <p><code>"four_cheese"</code>: The Four Cheese Pizza (Ricotta Cheese, Gorgonzola
Piccante Cheese, Mozzarella Cheese, Parmigiano Reggiano Cheese, Garlic)
</p>
</li>
<li> <p><code>"five_cheese"</code>: The Five Cheese Pizza (Mozzarella Cheese, Provolone
Cheese, Smoked Gouda Cheese, Romano Cheese, Blue Cheese, Garlic)
</p>
</li>
<li> <p><code>"spin_pesto"</code>: The Spinach Pesto Pizza (Spinach, Artichokes,
Tomatoes, Sun-dried Tomatoes, Garlic, Pesto Sauce)
</p>
</li>
<li> <p><code>"veggie_veg"</code>: The Vegetables + Vegetables Pizza (Mushrooms,
Tomatoes, Red Peppers, Green Peppers, Red Onions, Zucchini, Spinach, Garlic)
</p>
</li>
<li> <p><code>"green_garden"</code>: The Green Garden Pizza (Spinach, Mushrooms,
Tomatoes, Green Olives, Feta Cheese)
</p>
</li>
<li> <p><code>"mediterraneo"</code>: The Mediterranean Pizza (Spinach, Artichokes,
Kalamata Olives, Sun-dried Tomatoes, Feta Cheese, Plum Tomatoes, Red Onions)
</p>
</li>
<li> <p><code>"spinach_fet"</code>: The Spinach and Feta Pizza (Spinach, Mushrooms,
Red Onions, Feta Cheese, Garlic)
</p>
</li>
<li> <p><code>"ital_veggie"</code>: The Italian Vegetables Pizza (Eggplant, Artichokes,
Tomatoes, Zucchini, Red Peppers, Garlic, Pesto Sauce)
</p>
</li></ul>



<h3>Examples</h3>

<p>Here is a glimpse at the pizza data available in <code>pizzaplace</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(pizzaplace)
#&gt; Rows: 49,574
#&gt; Columns: 7
#&gt; $ id    &lt;chr&gt; "2015-000001", "2015-000002", "2015-000002", "2015-000002", "201~
#&gt; $ date  &lt;chr&gt; "2015-01-01", "2015-01-01", "2015-01-01", "2015-01-01", "2015-01~
#&gt; $ time  &lt;chr&gt; "11:38:36", "11:57:40", "11:57:40", "11:57:40", "11:57:40", "11:~
#&gt; $ name  &lt;chr&gt; "hawaiian", "classic_dlx", "mexicana", "thai_ckn", "five_cheese"~
#&gt; $ size  &lt;chr&gt; "M", "M", "M", "L", "L", "L", "L", "M", "M", "M", "S", "S", "S",~
#&gt; $ type  &lt;chr&gt; "classic", "classic", "veggie", "chicken", "veggie", "supreme", ~
#&gt; $ price &lt;dbl&gt; 13.25, 16.00, 16.00, 20.75, 18.50, 20.75, 20.75, 16.50, 16.50, 1~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-5
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_pizzaplace.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='print.gt_tbl'>Print a <strong>gt</strong> table</h2><span id='topic+print.gt_tbl'></span><span id='topic+print.gt_group'></span><span id='topic+print.rtf_text'></span>

<h3>Description</h3>

<p>This facilitates printing of the HTML table to the R console.
</p>
<p>This facilitates printing of multiple HTML tables (in a <code>gt_group</code> object) to
the R console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gt_tbl'
print(x, ..., view = interactive())

## S3 method for class 'gt_group'
print(x, ..., view = interactive())

## S3 method for class 'rtf_text'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.gt_tbl_+3A_x">x</code></td>
<td>
<p>Object to be printed.</p>
</td></tr>
<tr><td><code id="print.gt_tbl_+3A_...">...</code></td>
<td>
<p>Any additional parameters.</p>
</td></tr>
<tr><td><code id="print.gt_tbl_+3A_view">view</code></td>
<td>
<p>The value for <code>print()</code>s <code>browse</code> argument.</p>
</td></tr>
</table>

<hr>
<h2 id='px'>Helper for providing a numeric value as pixels value</h2><span id='topic+px'></span>

<h3>Description</h3>

<p>For certain parameters, a length value is required. Examples include the
setting of font sizes (e.g., in <code><a href="#topic+cell_text">cell_text()</a></code>) and thicknesses of lines
(e.g., in <code><a href="#topic+cell_borders">cell_borders()</a></code>). Setting a length in pixels with <code>px()</code> allows
for an absolute definition of size as opposed to the analogous helper
function <code><a href="#topic+pct">pct()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>px(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="px_+3A_x">x</code></td>
<td>
<p><em>Numeric length in pixels</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The numeric value to format as a string (e.g., <code>"12px"</code>) for some
<code><a href="#topic+tab_options">tab_options()</a></code> arguments that can take values as units of pixels (e.g.,
<code>table.font.size</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with a single value in pixel units.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. Inside of the
<code><a href="#topic+cell_text">cell_text()</a></code> call (which is itself inside of <code><a href="#topic+tab_style">tab_style()</a></code>), we'll use the
<code>px()</code> helper function to define the font size for the column labels in units
of pixels.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt() |&gt;
  tab_style(
    style = cell_text(size = px(20)),
    locations = cells_column_labels()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_px_1.png" alt="This image of a table was generated from the first code example in the `px()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='random_id'>Helper for creating a random <code>id</code> for a <strong>gt</strong> table</h2><span id='topic+random_id'></span>

<h3>Description</h3>

<p><code>random_id()</code> can be used to create a random, character-based ID value
argument of variable length (the default is 10 letters).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random_id(n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="random_id_+3A_n">n</code></td>
<td>
<p><em>Number of letters</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>10</code>
</p>
<p>The <code>n</code> argument defines the number of lowercase letters to use for the
random ID.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing a single, random ID.
</p>


<h3>Function ID</h3>

<p>8-28
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='reactions'>Reaction rates for gas-phase atmospheric reactions of organic compounds</h2><span id='topic+reactions'></span>

<h3>Description</h3>

<p>The <code>reactions</code> dataset contains kinetic data for second-order (two body)
gas-phase chemical reactions for 1,683 organic compounds. The reaction-rate
values and parameters within this dataset are useful for studies of the
atmospheric environment. Organic pollutants, which are present in trace
amounts in the atmosphere, have been extensively studied by research groups
since their persistence in the atmosphere requires specific attention. Many
researchers have reported kinetic data on specific gas-phase reactions and
these mainly involve oxidation reactions with OH, nitrate radicals, ozone,
and chlorine atoms.
</p>
<p>This compilation of rate constant (<em>k</em>) data as contains the values for rate
constants at 298 K (in units of <code style="white-space: pre;">&#8288;cm^3 molecules^-1 s^-1&#8288;</code>) as well as
parameters that allow for the calculation of rate constants at different
temperatures (the temperature dependence parameters: <code>A</code>, <code>B</code>, and <code>n</code>).
Uncertainty values/factors and temperature limits are also provided here
where information is available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reactions
</code></pre>


<h3>Format</h3>

<p>A tibble with 1,683 rows and 39 variables:
</p>

<dl>
<dt>compd_name</dt><dd><p>The name of the primary compound undergoing
reaction with OH, ozone, NO3, or Cl.</p>
</dd>
<dt>cmpd_mwt</dt><dd><p>The molecular weight of the compound in units of g/mol.</p>
</dd>
<dt>cmpd_formula</dt><dd><p>The chemical formula of the compound.</p>
</dd>
<dt>cmpd_type</dt><dd><p>The category of compounds that the <code>compd_name</code> falls
under.</p>
</dd>
<dt>cmpd_smiles</dt><dd><p>The SMILES (simplified molecular-input line-entry system)
representation for the compound.</p>
</dd>
<dt>cmpd_inchi</dt><dd><p>The InChI (International Chemical Identifier)
representation for the compound.</p>
</dd>
<dt>cmpd_inchikey</dt><dd><p>The InChIKey, which is a hashed InChI value, has a fixed
length of 27 characters. These values can be used to more easily perform
database searches of chemical compounds.</p>
</dd>
<dt>OH_k298</dt><dd><p>Rate constant at 298 K for OH reactions.</p>
</dd>
<dt>OH_uncert</dt><dd><p>Uncertainty as a percentage for certain OH reactions.</p>
</dd>
<dt>OH_u_fac</dt><dd><p>Uncertainty as a plus/minus difference for certain OH
reactions.</p>
</dd>
<dt>OH_a, OH_b, OH_n</dt><dd><p>Extended temperature dependence parameters for
bimolecular OH reactions, to be used in the Arrhenius expression:
<code style="white-space: pre;">&#8288;k(T)=A exp(-B/T) (T/300)^n&#8288;</code>. In that, <code>A</code> is expressed as
cm^3 molecules^-1 s^-1, <code>B</code> is in units of K, and <code>n</code> is dimensionless. Any
<code>NA</code> values indicate that data is not available.</p>
</dd>
<dt>OH_t_low, OH_t_high</dt><dd><p>The low and high temperature boundaries (in units
of K) for which the <code>OH_a</code>, <code>OH_b</code>, and <code>OH_n</code> parameters are valid.</p>
</dd>
<dt>O3_k298</dt><dd><p>Rate constant at 298 K for ozone reactions.</p>
</dd>
<dt>O3_uncert</dt><dd><p>Uncertainty as a percentage for certain ozone reactions.</p>
</dd>
<dt>O3_u_fac</dt><dd><p>Uncertainty as a plus/minus difference for certain ozone
reactions.</p>
</dd>
<dt>O3_a, O3_b, O3_n</dt><dd><p>Extended temperature dependence parameters for
bimolecular ozone reactions, to be used in the Arrhenius expression:
<code style="white-space: pre;">&#8288;k(T)=A exp(-B/T) (T/300)^n&#8288;</code>. In that, <code>A</code> is expressed as
cm^3 molecules^-1 s^-1, <code>B</code> is in units of K, and <code>n</code> is dimensionless. Any
<code>NA</code> values indicate that data is not available.</p>
</dd>
<dt>O3_t_low, O3_t_high</dt><dd><p>The low and high temperature boundaries (in units
of K) for which the <code>O3_a</code>, <code>O3_b</code>, and <code>O3_n</code> parameters are valid.</p>
</dd>
<dt>NO3_k298</dt><dd><p>Rate constant at 298 K for NO3 reactions.</p>
</dd>
<dt>NO3_uncert</dt><dd><p>Uncertainty as a percentage for certain NO3 reactions.</p>
</dd>
<dt>NO3_u_fac</dt><dd><p>Uncertainty as a plus/minus difference for certain NO3
reactions.</p>
</dd>
<dt>NO3_a, NO3_b, NO3_n</dt><dd><p>Extended temperature dependence parameters for
bimolecular NO3 reactions, to be used in the Arrhenius expression:
<code style="white-space: pre;">&#8288;k(T)=A exp(-B/T) (T/300)^n&#8288;</code>. In that, <code>A</code> is expressed as
cm^3 molecules^-1 s^-1, <code>B</code> is in units of K, and <code>n</code> is dimensionless. Any
<code>NA</code> values indicate that data is not available.</p>
</dd>
<dt>NO3_t_low, NO3_t_high</dt><dd><p>The low and high temperature boundaries (in
units of K) for which the <code>NO3_a</code>, <code>NO3_b</code>, and <code>NO3_n</code> parameters are
valid.</p>
</dd>
<dt>Cl_k298</dt><dd><p>Rate constant at 298 K for Cl reactions.</p>
</dd>
<dt>Cl_uncert</dt><dd><p>Uncertainty as a percentage for certain Cl reactions.</p>
</dd>
<dt>Cl_u_fac</dt><dd><p>Uncertainty as a plus/minus difference for certain Cl
reactions.</p>
</dd>
<dt>Cl_a, Cl_b, Cl_n</dt><dd><p>Extended temperature dependence parameters for
bimolecular Cl reactions, to be used in the Arrhenius expression:
<code style="white-space: pre;">&#8288;k(T)=A exp(-B/T) (T/300)^n&#8288;</code>. In that, <code>A</code> is expressed as
cm^3 molecules^-1 s^-1, <code>B</code> is in units of K, and <code>n</code> is dimensionless. Any
<code>NA</code> values indicate that data is not available.</p>
</dd>
<dt>Cl_t_low, Cl_t_high</dt><dd><p>The low and high temperature boundaries (in units
of K) for which the <code>Cl_a</code>, <code>Cl_b</code>, and <code>Cl_n</code> parameters are valid.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>reactions</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(reactions)
#&gt; Rows: 1,683
#&gt; Columns: 39
#&gt; $ cmpd_name     &lt;chr&gt; "methane", "formaldehyde", "methanol", "fluoromethane", ~
#&gt; $ cmpd_mwt      &lt;dbl&gt; 16.04, 30.03, 32.04, 34.03, 46.03, 48.02, 48.04, 50.49, ~
#&gt; $ cmpd_formula  &lt;chr&gt; "CH4", "CH2O", "CH4O", "CH3F", "CH2O2", "CHOF", "CH4O2",~
#&gt; $ cmpd_type     &lt;chr&gt; "normal alkane", "aldehyde", "alcohol or glycol", "haloa~
#&gt; $ cmpd_smiles   &lt;chr&gt; "C", "C=O", "CO", "CF", "OC=O", "FC=O", "COO", "CCl", "F~
#&gt; $ cmpd_inchi    &lt;chr&gt; "InChI=1S/CH4/h1H4", "InChI=1S/CH2O/c1-2/h1H2", "InChI=1~
#&gt; $ cmpd_inchikey &lt;chr&gt; "VNWKTOKETHGBQD-UHFFFAOYSA-N", "WSFSSNUMVMOOMR-UHFFFAOYS~
#&gt; $ OH_k298       &lt;dbl&gt; 6.36e-15, 8.50e-12, 8.78e-13, 1.97e-14, 4.50e-13, NA, 1.~
#&gt; $ OH_uncert     &lt;dbl&gt; 0.10, 0.20, 0.10, 0.10, NA, NA, NA, 0.20, 0.10, 0.21, 0.~
#&gt; $ OH_u_fac      &lt;dbl&gt; NA, NA, NA, NA, 1.4, NA, 2.0, NA, NA, NA, NA, NA, NA, NA~
#&gt; $ OH_A          &lt;dbl&gt; 3.62e-13, 5.40e-12, 2.32e-13, 1.99e-13, 4.50e-13, NA, 5.~
#&gt; $ OH_B          &lt;dbl&gt; 1200.3487, -135.0000, -402.0000, 685.4204, NA, NA, -190.~
#&gt; $ OH_n          &lt;dbl&gt; 2.179936, NA, 2.720000, 2.040182, NA, NA, NA, NA, 1.8600~
#&gt; $ OH_t_low      &lt;dbl&gt; 200, 200, 210, 240, 290, NA, 220, 220, 220, 298, 298, NA~
#&gt; $ OH_t_high     &lt;dbl&gt; 2025, 300, 1344, 1800, 450, NA, 430, 330, 1800, 671, 393~
#&gt; $ O3_k298       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_uncert     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_u_fac      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_A          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_B          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_n          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_t_low      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ O3_t_high     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ NO3_k298      &lt;dbl&gt; NA, 5.5e-16, 1.3e-16, NA, NA, NA, NA, NA, NA, NA, NA, NA~
#&gt; $ NO3_uncert    &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ NO3_u_fac     &lt;dbl&gt; NA, 1.6, 3.0, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
#&gt; $ NO3_A         &lt;dbl&gt; NA, NA, 9.4e-13, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ NO3_B         &lt;dbl&gt; NA, NA, 2650, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~
#&gt; $ NO3_n         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, ~
#&gt; $ NO3_t_low     &lt;dbl&gt; NA, NA, 250, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ NO3_t_high    &lt;dbl&gt; NA, NA, 370, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
#&gt; $ Cl_k298       &lt;dbl&gt; 1.00e-13, 7.20e-11, 5.10e-11, 3.60e-13, 1.90e-13, 1.90e-~
#&gt; $ Cl_uncert     &lt;dbl&gt; 0.15, 0.15, 0.20, NA, NA, 0.11, NA, 0.10, 0.15, NA, 0.14~
#&gt; $ Cl_u_fac      &lt;dbl&gt; NA, NA, NA, 1.4, 1.4, NA, 3.0, NA, NA, NA, NA, NA, 2.0, ~
#&gt; $ Cl_A          &lt;dbl&gt; 6.60e-12, 8.10e-11, 5.10e-11, 4.90e-12, NA, NA, NA, 4.32~
#&gt; $ Cl_B          &lt;dbl&gt; 1240.0, 34.0, 0.0, 781.0, NA, NA, NA, 646.4, 1591.0, NA,~
#&gt; $ Cl_n          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1.3057, NA, NA, NA, NA, NA, ~
#&gt; $ Cl_t_low      &lt;dbl&gt; 200, 200, 225, 200, NA, NA, NA, 222, 250, NA, NA, 220, 2~
#&gt; $ Cl_t_high     &lt;dbl&gt; 300, 500, 950, 300, NA, NA, NA, 843, 300, NA, NA, 330, 3~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-14
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_reactions.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+vars'></span><span id='topic+starts_with'></span><span id='topic+ends_with'></span><span id='topic+contains'></span><span id='topic+matches'></span><span id='topic+one_of'></span><span id='topic+everything'></span><span id='topic+num_range'></span><span id='topic+css'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+vars">vars</a></code></p>
</dd>
<dt>htmltools</dt><dd><p><code><a href="htmltools.html#topic+css">css</a></code></p>
</dd>
<dt>tidyselect</dt><dd><p><code><a href="tidyselect.html#topic+starts_with">contains</a></code>, <code><a href="tidyselect.html#topic+starts_with">ends_with</a></code>, <code><a href="tidyselect.html#topic+everything">everything</a></code>, <code><a href="tidyselect.html#topic+starts_with">matches</a></code>, <code><a href="tidyselect.html#topic+starts_with">num_range</a></code>, <code><a href="tidyselect.html#topic+one_of">one_of</a></code>, <code><a href="tidyselect.html#topic+starts_with">starts_with</a></code></p>
</dd>
</dl>

<hr>
<h2 id='render_gt'>A <strong>gt</strong> display table render function for use in Shiny</h2><span id='topic+render_gt'></span>

<h3>Description</h3>

<p>With <code>render_gt()</code> we can create a reactive <strong>gt</strong> table that works
wonderfully once assigned to an output slot (with <code><a href="#topic+gt_output">gt_output()</a></code>). This
function is to be used within <a href="https://shiny.posit.co">Shiny</a>'s <code>server()</code>
component. We have some options for controlling the size of the container
holding the <strong>gt</strong> table. The <code>width</code> and <code>height</code> arguments allow for sizing
the container, and the <code>align</code> argument allows us to align the table within
the container (some other fine-grained options for positioning are available
in <code><a href="#topic+tab_options">tab_options()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_gt(
  expr,
  width = NULL,
  height = NULL,
  align = NULL,
  env = parent.frame(),
  quoted = FALSE,
  outputArgs = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_gt_+3A_expr">expr</code></td>
<td>
<p><em>Expression</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression&gt;|obj:&lt;data.frame&gt;|obj:&lt;tbl_df&gt;&#8288;</code>
</p>
<p>An expression that creates a <strong>gt</strong> table object. For sake of convenience,
a data frame or tibble can be used here (it will be automatically
introduced to <code><a href="#topic+gt">gt()</a></code> with its default options).</p>
</td></tr>
<tr><td><code id="render_gt_+3A_width">width</code>, <code id="render_gt_+3A_height">height</code></td>
<td>
<p><em>Dimensions of table container</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer|character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The width and height of the table's container. Either can be specified as a
single-length character vector with units of pixels or as a percentage. If
provided as a single-length numeric vector, it is assumed that the value is
given in units of pixels. The <code><a href="#topic+px">px()</a></code> and <code><a href="#topic+pct">pct()</a></code> helper functions can also
be used to pass in numeric values and obtain values as pixel or percent
units.</p>
</td></tr>
<tr><td><code id="render_gt_+3A_align">align</code></td>
<td>
<p><em>Table alignment</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The alignment of the table in its container. If <code>NULL</code>, the table will be
center-aligned. Valid options for this are: <code>"center"</code>, <code>"left"</code>, and
<code>"right"</code>.</p>
</td></tr>
<tr><td><code id="render_gt_+3A_env">env</code></td>
<td>
<p><em>Evaluation environment</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;environment&gt;&#8288;</code> // <em>default:</em> <code>parent.frame()</code>
</p>
<p>The environment in which to evaluate the <code>expr</code>.</p>
</td></tr>
<tr><td><code id="render_gt_+3A_quoted">quoted</code></td>
<td>
<p><em>Option to <code>quote()</code> <code>expr</code></em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This is useful if you want
to save an expression in a variable.</p>
</td></tr>
<tr><td><code id="render_gt_+3A_outputargs">outputArgs</code></td>
<td>
<p><em>Output arguments</em>
</p>
<p><code>list</code> // <em>default:</em> <code>list()</code>
</p>
<p>A list of arguments to be passed through to the implicit call to
<code><a href="#topic+gt_output">gt_output()</a></code> when <code>render_gt()</code> is used in an interactive R Markdown
document.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>shiny.render.function</code>.
</p>


<h3>Examples</h3>

<p>Here is a Shiny app (contained within a single file) that (1) prepares a
<strong>gt</strong> table, (2) sets up the <code>ui</code> with <code><a href="#topic+gt_output">gt_output()</a></code>, and (3) sets up the
<code>server</code> with a <code>render_gt()</code> that uses the <code>gt_tbl</code> object as the input
expression.
</p>
<div class="sourceCode r"><pre>library(shiny)

gt_tbl &lt;-
  gtcars |&gt;
  gt() |&gt;
  fmt_currency(columns = msrp, decimals = 0) |&gt;
  cols_hide(columns = -c(mfr, model, year, mpg_c, msrp)) |&gt;
  cols_label_with(columns = everything(), fn = toupper) |&gt;
  data_color(columns = msrp, method = "numeric", palette = "viridis") |&gt;
  sub_missing() |&gt;
  opt_interactive(use_compact_mode = TRUE)

ui &lt;- fluidPage(
  gt_output(outputId = "table")
)

server &lt;- function(input, output, session) {
  output$table &lt;- render_gt(expr = gt_tbl)
}

shinyApp(ui = ui, server = server)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_render_gt_1.png" alt="This image of a table was generated from the first code example in the `render_gt()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>12-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other Shiny functions: 
<code><a href="#topic+gt_output">gt_output</a>()</code>
</p>

<hr>
<h2 id='rm_caption'>Remove the table caption</h2><span id='topic+rm_caption'></span>

<h3>Description</h3>

<p>We can easily remove the caption text from a <strong>gt</strong> table with
<code>rm_caption()</code>. The caption may exist if it were set through the <code><a href="#topic+gt">gt()</a></code>
<code>caption</code> argument or via <code><a href="#topic+tab_caption">tab_caption()</a></code>.
</p>
<p>This function for removal is useful if you have received a <strong>gt</strong> table
(perhaps through an API that returns <strong>gt</strong> objects) but would prefer that
the table not have a caption at all. This function is safe to use even if
there is no table caption set in the input <code>gt_tbl</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_caption(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_caption_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. We'll add a
header part with <code><a href="#topic+tab_header">tab_header()</a></code>, and, a caption will also be added via
<code><a href="#topic+tab_caption">tab_caption()</a></code>.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  ) |&gt;
  tab_caption(caption = md("**gt** table example."))

gt_tbl
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_caption_1.png" alt="This image of a table was generated from the first code example in the `rm_caption()` help file." style="width:100%;">

<p>If you decide that you don't want the caption in the <code>gt_tbl</code> object, it can
be removed with <code>rm_caption()</code>.
</p>
<div class="sourceCode r"><pre>rm_caption(data = gt_tbl)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_caption_2.png" alt="This image of a table was generated from the second code example in the `rm_caption()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>7-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part removal functions: 
<code><a href="#topic+rm_footnotes">rm_footnotes</a>()</code>,
<code><a href="#topic+rm_header">rm_header</a>()</code>,
<code><a href="#topic+rm_source_notes">rm_source_notes</a>()</code>,
<code><a href="#topic+rm_spanners">rm_spanners</a>()</code>,
<code><a href="#topic+rm_stubhead">rm_stubhead</a>()</code>
</p>

<hr>
<h2 id='rm_footnotes'>Remove table footnotes</h2><span id='topic+rm_footnotes'></span>

<h3>Description</h3>

<p>If you have one or more footnotes that ought to be removed, <code>rm_footnotes()</code>
allows for such a selective removal. The table footer is an optional table
part that is positioned below the table body, containing areas for both the
footnotes and source notes.
</p>
<p>This function for removal is useful if you have received a <strong>gt</strong> table
(perhaps through an API that returns <strong>gt</strong> objects) but would prefer that
some or all of the footnotes be removed. This function is safe to use even if
there are no footnotes in the input <code>gt_tbl</code> object so long as select helpers
(such as the default <code>everything()</code>) are used instead of explicit integer
values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_footnotes(data, footnotes = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_footnotes_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="rm_footnotes_+3A_footnotes">footnotes</code></td>
<td>
<p><em>Footnotes to remove</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;|everything()&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>A specification of which footnotes should be removed. The footnotes to be
removed can be given as a vector of integer values (they are stored as
integer positions, in order of creation, starting at <code>1</code>). A select helper
can also be used and, by default, this is <code>everything()</code> (whereby all
footnotes will be removed).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sza">sza</a></code> dataset to create a <strong>gt</strong> table. Color the <code>sza</code>
column using <code><a href="#topic+data_color">data_color()</a></code>, then, use <code><a href="#topic+tab_footnote">tab_footnote()</a></code> twice to
add two footnotes (each one targeting a different column label).
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  sza |&gt;
  dplyr::filter(
    latitude == 20 &amp;
      month == "jan" &amp;
      !is.na(sza)
  ) |&gt;
  dplyr::select(-latitude, -month) |&gt;
  gt() |&gt;
  data_color(
    columns = sza,
    palette = c("white", "yellow", "navyblue"),
    domain = c(0, 90)
  ) |&gt;
  tab_footnote(
    footnote = "Color indicates height of sun.",
    locations = cells_column_labels(
      columns = sza
    )
  ) |&gt;
  tab_footnote(
    footnote = "
    The true solar time at the given latitude
    and date (first of month) for which the
    solar zenith angle is calculated.
    ",
    locations = cells_column_labels(
      columns = tst
    )
  ) |&gt;
  cols_width(everything() ~ px(150))

gt_tbl
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_footnotes_1.png" alt="This image of a table was generated from the first code example in the `rm_footnotes()` help file." style="width:100%;">

<p>If you decide that you don't want the footnotes in the <code>gt_tbl</code> object,
they can be removed with <code>rm_footnotes()</code>.
</p>
<div class="sourceCode r"><pre>rm_footnotes(data = gt_tbl)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_footnotes_2.png" alt="This image of a table was generated from the second code example in the `rm_footnotes()` help file." style="width:100%;">

<p>Individual footnotes can be selectively removed. Footnotes are identified by
their index values. To remove the footnote concerning true solar time
(footnote <code>2</code>, since it was supplied to <strong>gt</strong> after the other footnote) we
would give the correct index value to <code>footnotes</code>.
</p>
<div class="sourceCode r"><pre>rm_footnotes(data = gt_tbl, footnotes = 2)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_footnotes_3.png" alt="This image of a table was generated from the third code example in the `rm_footnotes()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>7-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part removal functions: 
<code><a href="#topic+rm_caption">rm_caption</a>()</code>,
<code><a href="#topic+rm_header">rm_header</a>()</code>,
<code><a href="#topic+rm_source_notes">rm_source_notes</a>()</code>,
<code><a href="#topic+rm_spanners">rm_spanners</a>()</code>,
<code><a href="#topic+rm_stubhead">rm_stubhead</a>()</code>
</p>

<hr>
<h2 id='rm_header'>Remove the table header</h2><span id='topic+rm_header'></span>

<h3>Description</h3>

<p>We can remove the table header from a <strong>gt</strong> table quite easily with
<code>rm_header()</code>. The table header is an optional table part (positioned above
the column labels) that can be added through <code><a href="#topic+tab_header">tab_header()</a></code>.
</p>
<p>This function for removal is useful if you have received a <strong>gt</strong> table
(perhaps through an API that returns <strong>gt</strong> objects) but would prefer that
the table not contain a header. This function is safe to use even if there is
no header part in the input <code>gt_tbl</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_header(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_header_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. A
header part can be added with <code><a href="#topic+tab_header">tab_header()</a></code>; with that, we get
a title and a subtitle for the table.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  )

gt_tbl
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_header_1.png" alt="This image of a table was generated from the first code example in the `rm_header()` help file." style="width:100%;">

<p>If you decide that you don't want the header in the <code>gt_tbl</code> object, it can
be removed with <code>rm_header()</code>.
</p>
<div class="sourceCode r"><pre>rm_header(data = gt_tbl)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_header_2.png" alt="This image of a table was generated from the second code example in the `rm_header()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>7-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part removal functions: 
<code><a href="#topic+rm_caption">rm_caption</a>()</code>,
<code><a href="#topic+rm_footnotes">rm_footnotes</a>()</code>,
<code><a href="#topic+rm_source_notes">rm_source_notes</a>()</code>,
<code><a href="#topic+rm_spanners">rm_spanners</a>()</code>,
<code><a href="#topic+rm_stubhead">rm_stubhead</a>()</code>
</p>

<hr>
<h2 id='rm_source_notes'>Remove table source notes</h2><span id='topic+rm_source_notes'></span>

<h3>Description</h3>

<p>If you have one or more source notes that ought to be removed,
<code>rm_source_notes()</code> allows for such a selective removal. The table footer is
an optional table part that is positioned below the table body, containing
areas for both the source notes and footnotes.
</p>
<p>This function for removal is useful if you have received a <strong>gt</strong> table
(perhaps through an API that returns <strong>gt</strong> objects) but would prefer that
some or all of the source notes be removed. This function is safe to use even
if there are no source notes in the input <code>gt_tbl</code> object so long as select
helpers (such as the default <code>everything()</code>) are used instead of explicit
integer values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_source_notes(data, source_notes = everything())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_source_notes_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="rm_source_notes_+3A_source_notes">source_notes</code></td>
<td>
<p><em>Source notes to remove</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;|everything()&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>A specification of which source notes should be removed. The source notes
to be removed can be given as a vector of integer values (they are stored
as integer positions, in order of creation, starting at <code>1</code>). A select
helper can also be used and, by default, this is <code>everything()</code> (whereby
all source notes will be removed).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table.
<code><a href="#topic+tab_source_note">tab_source_note()</a></code> is used to add a source note to the table footer that
cites the data source (or, it could just be arbitrary text). We'll use the
function twice, in effect adding two source notes to the footer.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_source_note(source_note = "Data from the 'edmunds.com' site.") |&gt;
  tab_source_note(source_note = "Showing only the first five rows.") |&gt;
  cols_width(everything() ~ px(120))

gt_tbl
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_source_notes_1.png" alt="This image of a table was generated from the first code example in the `rm_source_notes()` help file." style="width:100%;">

<p>If you decide that you don't want the source notes in the <code>gt_tbl</code> object,
they can be removed with <code>rm_source_notes()</code>.
</p>
<div class="sourceCode r"><pre>rm_source_notes(data = gt_tbl)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_source_notes_2.png" alt="This image of a table was generated from the second code example in the `rm_source_notes()` help file." style="width:100%;">

<p>Individual source notes can be selectively removed. Source notes are
identified by their index values. To remove the source note concerning the
extent of the data (source note <code>2</code>, since it was supplied to <strong>gt</strong> after
the other source note) we would give the correct index value to
<code>source_notes</code>.
</p>
<div class="sourceCode r"><pre>rm_source_notes(data = gt_tbl, source_notes = 2)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_source_notes_3.png" alt="This image of a table was generated from the third code example in the `rm_source_notes()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>7-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part removal functions: 
<code><a href="#topic+rm_caption">rm_caption</a>()</code>,
<code><a href="#topic+rm_footnotes">rm_footnotes</a>()</code>,
<code><a href="#topic+rm_header">rm_header</a>()</code>,
<code><a href="#topic+rm_spanners">rm_spanners</a>()</code>,
<code><a href="#topic+rm_stubhead">rm_stubhead</a>()</code>
</p>

<hr>
<h2 id='rm_spanners'>Remove column spanner labels</h2><span id='topic+rm_spanners'></span>

<h3>Description</h3>

<p>If you would like to remove column spanner labels then the <code>rm_spanners()</code>
function can make this possible. Column spanner labels appear above the
column labels and can occupy several levels via stacking either through
<code><a href="#topic+tab_spanner">tab_spanner()</a></code> or <code><a href="#topic+tab_spanner_delim">tab_spanner_delim()</a></code>. Spanner column labels are
distinguishable and accessible by their ID values.
</p>
<p>This function for removal is useful if you have received a <strong>gt</strong> table
(perhaps through an API that returns <strong>gt</strong> objects) but would prefer that
some or all of the column spanner labels be removed. This function is safe to
use even if there are no column spanner labels in the input <code>gt_tbl</code> object
so long as select helpers (such as the default <code>everything()</code>) are used
instead of explicit ID values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_spanners(data, spanners = everything(), levels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_spanners_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="rm_spanners_+3A_spanners">spanners</code></td>
<td>
<p><em>Spanners to remove</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;spanner-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>A specification of which spanner column labels should be removed. Those to
be removed can be given as a vector of spanner ID values (every spanner
column label has one, either set by the user or by <strong>gt</strong> when using
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim()</a></code>). A select helper can also be used and, by default,
this is <code>everything()</code> (whereby all spanner column labels will be removed).</p>
</td></tr>
<tr><td><code id="rm_spanners_+3A_levels">levels</code></td>
<td>
<p><em>Spanner levels to remove</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Instead of removing spanner column labels by ID values, entire levels of
spanners can instead be removed. Supply a numeric vector of level values
(the first level is <code>1</code>) and, if they are present, they will be removed.
Any input given to <code>level</code> will mean that <code>spanners</code> is ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. With
<code><a href="#topic+tab_spanner">tab_spanner()</a></code>, we can group several related columns together under a
spanner column. In this example, that is done with several <code><a href="#topic+tab_spanner">tab_spanner()</a></code>
calls in order to create two levels of spanner column labels.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  gtcars |&gt;
  dplyr::select(
    -mfr, -trim, bdy_style, drivetrain,
    -drivetrain, -trsmn, -ctry_origin
  ) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_spanner(label = "HP", columns = c(hp, hp_rpm)) |&gt;
  tab_spanner(label = "Torque", columns = c(trq, trq_rpm)) |&gt;
  tab_spanner(label = "MPG", columns = c(mpg_c, mpg_h)) |&gt;
  tab_spanner(
    label = "Performance",
    columns = c(
      hp, hp_rpm, trq, trq_rpm,
      mpg_c, mpg_h
    )
  )

gt_tbl
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_spanners_1.png" alt="This image of a table was generated from the first code example in the `rm_spanners()` help file." style="width:100%;">

<p>If you decide that you don't want any of the spanners in the <code>gt_tbl</code> object,
they can all be removed with <code>rm_spanners()</code>.
</p>
<div class="sourceCode r"><pre>rm_spanners(data = gt_tbl)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_spanners_2.png" alt="This image of a table was generated from the second code example in the `rm_spanners()` help file." style="width:100%;">

<p>Individual spanner column labels can be removed by ID value. In all the above
uses of <code><a href="#topic+tab_spanner">tab_spanner()</a></code>, the <code>label</code> value <em>is</em> the ID value (you can
alternately set a different ID value though the <code>id</code> argument). Let's remove
the <code>"HP"</code> and <code>"MPG"</code> spanner column labels with <code>rm_spanners()</code>.
</p>
<div class="sourceCode r"><pre>rm_spanners(data = gt_tbl, spanners = c("HP", "MPG"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_spanners_3.png" alt="This image of a table was generated from the third code example in the `rm_spanners()` help file." style="width:100%;">

<p>We can also remove spanner column labels by level with <code>rm_spanners()</code>.
Provide a vector of one or more values greater than or equal to <code>1</code> (the
first level starts there). In the next example, we'll remove the first level
of spanner column labels. Any levels not being removed will collapse down
accordingly.
</p>
<div class="sourceCode r"><pre>rm_spanners(data = gt_tbl, levels = 1)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_spanners_4.png" alt="This image of a table was generated from the fourth code example in the `rm_spanners()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>7-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part removal functions: 
<code><a href="#topic+rm_caption">rm_caption</a>()</code>,
<code><a href="#topic+rm_footnotes">rm_footnotes</a>()</code>,
<code><a href="#topic+rm_header">rm_header</a>()</code>,
<code><a href="#topic+rm_source_notes">rm_source_notes</a>()</code>,
<code><a href="#topic+rm_stubhead">rm_stubhead</a>()</code>
</p>

<hr>
<h2 id='rm_stubhead'>Remove the stubhead label</h2><span id='topic+rm_stubhead'></span>

<h3>Description</h3>

<p>We can easily remove the stubhead label from a <strong>gt</strong> table with
<code>rm_stubhead()</code>. The stubhead location only exists if there is a table stub
and the text in that cell is added with <code><a href="#topic+tab_stubhead">tab_stubhead()</a></code>.
</p>
<p>This function for removal is useful if you have received a <strong>gt</strong> table
(perhaps through an API that returns <strong>gt</strong> objects) but would prefer that
the table not contain any content in the stubhead. This function is safe to
use even if there is no stubhead label in the input <code>gt_tbl</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_stubhead(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_stubhead_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Using the <code><a href="#topic+gtcars">gtcars</a></code> dataset, we'll create a <strong>gt</strong> table. With
<code><a href="#topic+tab_stubhead">tab_stubhead()</a></code>, it's possible to add a stubhead label. This appears in the
top-left and can be used to describe what is in the stub.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:5) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_stubhead(label = "car")

gt_tbl
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_stubhead_1.png" alt="This image of a table was generated from the first code example in the `rm_stubhead()` help file." style="width:100%;">

<p>If you decide that you don't want the stubhead label in the <code>gt_tbl</code> object,
it can be removed with <code>rm_stubhead()</code>.
</p>
<div class="sourceCode r"><pre>rm_stubhead(data = gt_tbl)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rm_stubhead_2.png" alt="This image of a table was generated from the second code example in the `rm_stubhead()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>7-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part removal functions: 
<code><a href="#topic+rm_caption">rm_caption</a>()</code>,
<code><a href="#topic+rm_footnotes">rm_footnotes</a>()</code>,
<code><a href="#topic+rm_header">rm_header</a>()</code>,
<code><a href="#topic+rm_source_notes">rm_source_notes</a>()</code>,
<code><a href="#topic+rm_spanners">rm_spanners</a>()</code>
</p>

<hr>
<h2 id='row_group'>Select helper for targeting the row group column</h2><span id='topic+row_group'></span>

<h3>Description</h3>

<p>Should you need to target only the row group column for column-width
declarations (i.e., when <code>row_group_as_column = TRUE</code> is set in the initial
<code><a href="#topic+gt">gt()</a></code> call), the <code>row_group()</code> select helper can be used. This shorthand
makes it so you don't have to use the name of the column that was selected
as the row group column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>row_group()
</code></pre>


<h3>Value</h3>

<p>A character vector of class <code>"row_group_column"</code>.
</p>


<h3>Examples</h3>

<p>Create a tibble that has a <code>row</code> column (values from <code>1</code> to <code>6</code>), a <code>group</code>
column, and a <code>vals</code> column (containing the same values as in <code>row</code>).
</p>
<div class="sourceCode r"><pre>tbl &lt;-
  dplyr::tibble(
    row = 1:6,
    group = c(rep("Group A", 3), rep("Group B", 3)),
    vals = 1:6
  )
</pre></div>
<p>Create a <strong>gt</strong> table with a two-column stub (incorporating the <code>row</code> and
<code>group</code> columns in that). We can set the widths of the two columns in the
stub with the <code>row_group()</code> and <code><a href="#topic+stub">stub()</a></code> helpers on the LHS of the
expressions passed to <code><a href="#topic+cols_width">cols_width()</a></code>.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group",
    row_group_as_column = TRUE
  ) |&gt;
  fmt_roman(columns = stub()) |&gt;
  cols_width(
    row_group() ~ px(200),
    stub() ~ px(100),
    vals ~ px(50)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_row_group_1.png" alt="This image of a table was generated from the first code example in the `row_group()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-11
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='row_group_order'>Modify the ordering of any row groups</h2><span id='topic+row_group_order'></span>

<h3>Description</h3>

<p>We can modify the display order of any row groups in a <strong>gt</strong> object with
<code>row_group_order()</code>. The <code>groups</code> argument takes a vector of row group ID values.
After this function is invoked, the row groups will adhere to this revised
ordering. It isn't necessary to provide all row ID values in <code>groups</code>, rather,
what is provided will assume the specified ordering at the top of the table
and the remaining row groups will follow in their original ordering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>row_group_order(data, groups)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="row_group_order_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="row_group_order_+3A_groups">groups</code></td>
<td>
<p><em>Specification of row group IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A character vector of row group ID values corresponding to the revised
ordering. While this vector must contain valid group ID values, it is not
required to have all of the row group IDs within it; any omitted values
will be added to the end while preserving the original ordering.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use <code><a href="#topic+exibble">exibble</a></code> to create a <strong>gt</strong> table with a stub and with row
groups. We can modify the order of the row groups with <code>row_group_order()</code>,
specifying the new ordering in <code>groups</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(char, currency, row, group) |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group"
  ) |&gt;
  row_group_order(groups = c("grp_b", "grp_a"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_row_group_order_1.png" alt="This image of a table was generated from the first code example in the `row_group_order()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>6-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other row addition/modification functions: 
<code><a href="#topic+grand_summary_rows">grand_summary_rows</a>()</code>,
<code><a href="#topic+rows_add">rows_add</a>()</code>,
<code><a href="#topic+summary_rows">summary_rows</a>()</code>
</p>

<hr>
<h2 id='rows_add'>Add one or more rows to a <strong>gt</strong> table</h2><span id='topic+rows_add'></span>

<h3>Description</h3>

<p>It's possible to add new rows to your table with <code>rows_add()</code> by supplying
the new row data through name-value pairs or two-sided formula expressions.
The new rows are added to the bottom of the table by default but can be added
internally by using either the <code>.before</code> or <code>.after</code> arguments. If entirely
empty rows need to be added, the <code>.n_empty</code> option provides a means to
specify the number of blank (i.e., all <code>NA</code>) rows to be inserted into the
table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rows_add(
  .data,
  ...,
  .list = list2(...),
  .before = NULL,
  .after = NULL,
  .n_empty = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rows_add_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="rows_add_+3A_...">...</code></td>
<td>
<p><em>Cell data assignments</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // (or, use <code>.list</code>)
</p>
<p>Expressions for the assignment of cell values to the new rows by column
name in <code>.data</code>. Name-value pairs, in the form of
<code style="white-space: pre;">&#8288;&lt;column&gt; = &lt;value vector&gt;&#8288;</code> will work, so long as the <code style="white-space: pre;">&#8288;&lt;column&gt;&#8288;</code> value
exists in the table. Two-sided formulas with column-resolving expressions
(e.g, <code style="white-space: pre;">&#8288;&lt;expr&gt; ~ &lt;value vector&gt;&#8288;</code>) can also be used, where the left-hand side
corresponds to selections of columns. Column names should be enclosed in
<code>c()</code> and select helpers like <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, and <code><a href="#topic+everything">everything()</a></code> can be used in the LHS. The length of the
longest vector in <code style="white-space: pre;">&#8288;&lt;value vector&gt;&#8288;</code> determines how many new rows will be added.
Single values in <code style="white-space: pre;">&#8288;&lt;value vector&gt;&#8288;</code> will be repeated down in cases where
there are multiple rows to be added.</p>
</td></tr>
<tr><td><code id="rows_add_+3A_.list">.list</code></td>
<td>
<p><em>Alternative to <code>...</code></em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;list of multiple expressions&gt;&#8288;</code> // (or, use <code>...</code>)
</p>
<p>Allows for the use of a list as an input alternative to <code>...</code>.</p>
</td></tr>
<tr><td><code id="rows_add_+3A_.before">.before</code>, <code id="rows_add_+3A_.after">.after</code></td>
<td>
<p><em>Row used as anchor</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A single row-resolving expression or row index an be given to either
<code>.before</code> or <code>.after</code>. The row specifies where the new rows should be
positioned among the existing rows in the input data table. While select
helper functions such as <code><a href="#topic+starts_with">starts_with()</a></code> and <code><a href="#topic+ends_with">ends_with()</a></code> can be used for
row targeting, it's recommended that a single row name or index be used.
This is to ensure that exactly one row is provided to either of these
arguments (otherwise, the function will be stopped). If nothing is provided
for either argument then any new rows will be placed at the bottom of the
table.</p>
</td></tr>
<tr><td><code id="rows_add_+3A_.n_empty">.n_empty</code></td>
<td>
<p><em>Number of empty rows to add</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An option to add empty rows in lieu of rows containing data that would
otherwise be supplied to <code>...</code> or <code>.list</code>. If the option is taken, provide
an integer value here.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting the row for insertion with <code>.before</code> or <code>.after</code></h3>

<p>The targeting of a row for insertion is done through the <code>.before</code> or
<code>.after</code> arguments (only one of these options should be be used). This can be
done in a variety of ways. If a stub is present, then we potentially have row
identifiers. This is the ideal method to use for establishing a row target.
We can use <strong>tidyselect</strong>-style expressions to target a row. It's also
possible to use row indices (e.g., <code>c(3, 5, 6)</code>) though these index values
must correspond to the row numbers of the input data (the indices won't
necessarily match those of rearranged rows if row groups are present). One
more type of expression is possible, an expression that takes column values
(can involve any of the available columns in the table) and returns a logical
vector.
</p>


<h3>Examples</h3>

<p>Let's make a simple <strong>gt</strong> table with the <code><a href="#topic+exibble">exibble</a></code> dataset, using the
<code>row</code> column for labels in the stub. We'll add a single row to the bottom of
the table with <code>rows_add()</code>. With name-value pairs, it's possible to add
values for the new body cells that correspond to columns available in the
table. For any columns that are missed, the related body cells will receive
<code>NA</code> values.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row") |&gt;
  rows_add(
    row = "row_9",
    num = 9.999E7,
    char = "ilama",
    fctr = "nine",
    group = "grp_b"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_1.png" alt="This image of a table was generated from the first code example in the `rows_add()` help file." style="width:100%;">

<p>If you wanted to place a row somewhere in the middle of the table, we can use
either of the <code>.before</code> or <code>.after</code> arguments in <code>rows_add()</code>:
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row") |&gt;
  rows_add(
    row = "row_4.5",
    num = 9.923E3,
    char = "elderberry",
    fctr = "eighty",
    group = "grp_a",
    .after = "row_4"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_2.png" alt="This image of a table was generated from the second code example in the `rows_add()` help file." style="width:100%;">

<p>Putting a row at the beginning requires the use of the <code>.before</code> argument. We
can use an index value for the row as in <code>.before = 1</code> for maximum easiness:
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row") |&gt;
  rows_add(
    row = "row_0",
    num = 0,
    char = "apple",
    fctr = "zero",
    group = "grp_a",
    .before = 1
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_3.png" alt="This image of a table was generated from the third code example in the `rows_add()` help file." style="width:100%;">

<p>Again with <code><a href="#topic+exibble">exibble</a></code>, we can create an example where we insert 'spacer'
rows. These are rows without any content and merely serve to add extra
vertical space to the table in specific locations. In this case, we'll have a
stub with row names and row groups (set up in the <code><a href="#topic+gt">gt()</a></code> call). The two rows
being added will occupy the bottom row of each group. The only data defined
for the two rows involves values for the <code>row</code> and <code>group</code> columns. It's
important that the data for <code>group</code> uses the group names already present in
the data (<code>"grp_a"</code> and <code>"grp_b"</code>). The corresponding values for <code>row</code> will
be <code>"row_a_end"</code> and <code>"row_b_end"</code>, these will be used later expressions for
targeting the rows. Here's the code needed to generate spacer rows at the end
of each row group:
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  rows_add(
    row = c("row_a_end", "row_b_end"),
    group = c("grp_a", "grp_b")
  ) |&gt;
  tab_style(
    style = cell_borders(sides = "top", style = "hidden"),
    locations = list(
      cells_body(rows = ends_with("end")),
      cells_stub(rows = ends_with("end"))
    )
  ) |&gt;
  sub_missing(missing_text = "") |&gt;
  text_case_when(
    grepl("end", x) ~ "",
    .locations = cells_stub()
  ) |&gt;
  opt_vertical_padding(scale = 0.5)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_4.png" alt="This image of a table was generated from the fourth code example in the `rows_add()` help file." style="width:100%;">

<p>All missing values were substituted with an empty string (<code>""</code>), and that was
done by using <code><a href="#topic+sub_missing">sub_missing()</a></code>. We removed the top border of the
new rows with a call to <code><a href="#topic+tab_style">tab_style()</a></code>, targeting those rows where the row
labels end with <code>"end"</code>. Finally, we get rid of the row labels with the use
of <code><a href="#topic+text_case_when">text_case_when()</a></code>, using a similar strategy of targeting the
name of the row label.
</p>
<p>Another application is starting from nothing (really just the definition of
columns) and building up a table using several invocations of <code>rows_add()</code>.
This might be useful in interactive or programmatic applications. Here's an
example where two columns are defined with <code>dplyr::tibble()</code>
(and no rows are present initially); with two calls of <code>rows_add()</code>, two
separate rows are added.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  time = lubridate::POSIXct(),
  event = character(0L)
) |&gt;
  gt() |&gt;
  rows_add(
    time = lubridate::ymd_hms("2022-01-23 12:36:10"),
    event = "start"
  ) |&gt;
  rows_add(
    time = lubridate::ymd_hms("2022-01-23 13:41:26"),
    event = "completed"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_5.png" alt="This image of a table was generated from the fifth code example in the `rows_add()` help file." style="width:100%;">

<p>It's possible to use formula syntax in <code>rows_add()</code> to perform column
resolution along with attaching values for new rows. If we wanted to use an
equivalent value for multiple cells in a new row, a valid input would be in
the form of <code style="white-space: pre;">&#8288;&lt;expr&gt; ~ &lt;value vector&gt;&#8288;</code>. In the following example, we create a
simple table with six columns (the rendered <strong>gt</strong> table displays four
columns and a stub column since the <code>group</code> column is used for row group
labels). Let's add a single row where some of the cell values added
correspond to columns are resolved on the LHS of the formula expressions:
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  group = c("Group A", "Group B", "Group B"),
  id = c("WG-025360", "WG-025361", "WG-025362"),
  a = c(1, 6, 2),
  b = c(2, 6, 2),
  quantity_x = c(83.58, 282.71, 92.20),
  quantity_y = c(36.82, 282.71, 87.34)
) |&gt;
  gt(rowname_col = "id", groupname_col = "group") |&gt;
  rows_add(
    starts_with("gr") ~ "Group A",
    id = "WG-025363",
    c(a, b) ~ 5,
    starts_with("quantity") ~ 72.63
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_6.png" alt="This image of a table was generated from the sixth code example in the `rows_add()` help file." style="width:100%;">

<p>We can see that using <code>starts_with("gr")</code> yields a successful match to the
<code>group</code> column with the tangible result being an addition of a row to the
<code>"Group A"</code> group (the added row is the second one in the rendered <strong>gt</strong>
table). Through the use of <code>c(a, b)</code>, it was possible to add the value <code>5</code> to
both the <code>a</code> and <code>b</code> columns. A similar approach was taken with adding the
<code>72.63</code> value to the <code>quantity_x</code> and <code>quantity_y</code> columns though we used the
<code>starts_with("quantity")</code> expression to get <strong>gt</strong> to resolve those two
columns.
</p>
<p>You can start with an empty table (i.e., no columns and no rows) and add one
or more rows to it. In the completely empty table scenario, where you would
use something like <code>dplyr::tibble()</code> or <code>data.frame()</code> with <code><a href="#topic+gt">gt()</a></code>, the first
<code>rows_add()</code> could have rows of arbitrary width. In other words, you get to
generate table columns (and rows) with a completely empty table via
<code>rows_add()</code>. Here's an example of that:
</p>
<div class="sourceCode r"><pre>gt(dplyr::tibble()) |&gt;
  rows_add(
    msrp = c(29.95, 49.95, 79.95),
    item = c("Klax", "Rez", "Ys"),
    type = c("A", "B", "X")
  ) |&gt;
  rows_add(
    msrp = 14.95,
    item = "D",
    type = "Z"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_7.png" alt="This image of a table was generated from the seventh code example in the `rows_add()` help file." style="width:100%;">

<p>In the above, three columns and three rows were generated. The second usage
of <code>rows_add()</code> had to use of a subset of those columns (all three were used
to create a complete, new row).
</p>
<p>We can also start with a virtually empty table: one that has columns but no
actual rows. With this type of multi-column, zero-row table, one needs to use
a subset of the columns when generating new rows through <code>rows_add()</code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  msrp = numeric(0L),
  item = character(0L),
  type = character(0L)
) |&gt;
  gt() |&gt;
  rows_add(
    msrp = c(29.95, 49.95, 79.95, 14.95),
    item = c("Klax", "Rez", "Ys", "D"),
    type = c("A", "B", "X", "Z")
  ) |&gt;
  cols_add(
    genre = c("puzzle", "action", "RPG", "adventure")
  ) |&gt;
  fmt_currency() |&gt;
  cols_move_to_end(columns = msrp)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_rows_add_8.png" alt="This image of a table was generated from the eighth code example in the `rows_add()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>6-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.10.0</code> (October 7, 2023)
</p>


<h3>See Also</h3>

<p>Other row addition/modification functions: 
<code><a href="#topic+grand_summary_rows">grand_summary_rows</a>()</code>,
<code><a href="#topic+row_group_order">row_group_order</a>()</code>,
<code><a href="#topic+summary_rows">summary_rows</a>()</code>
</p>

<hr>
<h2 id='rx_addv'>An ADDV-flavored clinical trial toy dataset</h2><span id='topic+rx_addv'></span>

<h3>Description</h3>

<p>This tibble contains artificial protocol deviation data for 180 subjects
in the Intent-to-Treat (ITT) population of the <code>GT01</code> study. The dataset
contains the usual parameters (<code>PARAM</code>, <code>PARAMCD</code>) for an addv. There is
summary parameter (<code>PARCAT1 == "OVERALL"</code>) for each subject of the <code>GT01</code>
ITT-population, indicating whether or not at least one major protocol
deviation (PD) occurred throughout the course of the study for the respective
subject. Individual records for protocol deviations per subject exist,
indicating which specific type of PD occurred. The additional flag <code>CRIT1FL</code>,
shows whether a PD was related to COVID-19 or not.
</p>
<p>Although the data was intentionally created to mimic a typical clinical
trial dataset following the CDISC format, it might not strictly comply
with CDISC ADaM rules. The intent is to showcase the workflow for clinical
table creation rather than creating a fully CDISC-compliant ADaM dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rx_addv
</code></pre>


<h3>Format</h3>

<p>A tibble with 291 rows and 20 variables:
</p>

<dl>
<dt>STUDYID, STUDYIDN</dt><dd><p>The unique study identifier and its numeric
version.</p>
</dd>
<dt>USUBJID</dt><dd><p>The unique subject identifier.</p>
</dd>
<dt>TRTA, TRTAN</dt><dd><p>The study intervention and its numeric version, which is
either <code>"Placebo"</code> (<code>1</code>), <code>"Drug 1"</code> (<code>2</code>), or <code>NA</code> (<code>3</code>), missing for
screen failures).</p>
</dd>
<dt>ITTFL</dt><dd><p>Intent-to-Treat (ITT) population flag, where <code>"Y"</code> indicates
a subject belongs to the ITT population and <code>"N"</code> indicates a subject is not
in the ITT population.</p>
</dd>
<dt>AGE</dt><dd><p>The age of a subject at baseline in years.</p>
</dd>
<dt>AAGEGR1</dt><dd><p>The analysis age group, indicating if a subject was strictly
younger than 40 years at baseline or older.</p>
</dd>
<dt>SEX</dt><dd><p>Sex of a subject. Can be either <code>"Male"</code>, <code>"Female"</code> or
<code>"Undifferentiated"</code>.</p>
</dd>
<dt>ETHNIC</dt><dd><p>Ethnicity of a subject. Can be either <code>"Hispanic or Latino"</code>,
<code>"Not Hispanic or Latino"</code> or missing (<code>""</code>).</p>
</dd>
<dt>BLBMI</dt><dd><p>Body Mass Index (BMI) of a subject at baseline in kg/m2.</p>
</dd>
<dt>DVTERM</dt><dd><p>The Protocol Deviation Term.</p>
</dd>
<dt>PARAMCD, PARAM</dt><dd><p>The Parameter Code and decoded parameter description
for the protocol deviation.</p>
</dd>
<dt>PARCAT1</dt><dd><p>Parameter category. Can be <code>"OVERALL"</code> for derived PD
summaries or <code>"PROTOCOL DEVIATION"</code> for individual PDs.</p>
</dd>
<dt>DVCAT</dt><dd><p>Category for PD, indicating whether the PD is a major one or
not.</p>
</dd>
<dt>ACAT1</dt><dd><p>Analysis category 1. Only populated for individual PDs, not for
summary scores. High level category for PDs.</p>
</dd>
<dt>AVAL</dt><dd><p>Analysis Value. Either <code>0</code> or <code>1</code>.</p>
</dd>
<dt>CRIT1, CRIT1FL</dt><dd><p>Analysis Criterion 1 and analysis criterion 1 flag,
indicating whether PD is related to COVID-19 or not.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>rx_addv</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(rx_addv)
#&gt; Rows: 291
#&gt; Columns: 20
#&gt; $ STUDYID  &lt;chr&gt; "GT01", "GT01", "GT01", "GT01", "GT01", "GT01", "GT01", "GT01~
#&gt; $ STUDYIDN &lt;chr&gt; "4001", "4001", "4001", "4001", "4001", "4001", "4001", "4001~
#&gt; $ USUBJID  &lt;chr&gt; "GT1001", "GT1002", "GT1002", "GT1003", "GT1003", "GT1003", "~
#&gt; $ TRTA     &lt;fct&gt; Placebo, Placebo, Placebo, Placebo, Placebo, Placebo, Placebo~
#&gt; $ TRTAN    &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~
#&gt; $ ITTFL    &lt;chr&gt; "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "~
#&gt; $ AGE      &lt;int&gt; 41, 39, 39, 38, 38, 38, 45, 45, 35, 35, 35, 35, 35, 42, 35, 3~
#&gt; $ AAGEGR1  &lt;fct&gt; &gt;=40, &lt;40, &lt;40, &lt;40, &lt;40, &lt;40, &gt;=40, &gt;=40, &lt;40, &lt;40, &lt;40, &lt;40~
#&gt; $ SEX      &lt;fct&gt; Male, Female, Female, Male, Male, Male, Male, Male, Female, F~
#&gt; $ ETHNIC   &lt;fct&gt; Not Hispanic or Latino, Not Hispanic or Latino, Not Hispanic ~
#&gt; $ BLBMI    &lt;dbl&gt; 33.35073, 30.45862, 30.45862, 22.85986, 22.85986, 22.85986, 2~
#&gt; $ DVTERM   &lt;chr&gt; "", "", "Lab values not taken at month 3", "", "{gt} Question~
#&gt; $ PARAMCD  &lt;fct&gt; PDANYM, PDANYM, PDEV02, PDANYM, PDEV01, PDEV02, PDANYM, PDEV0~
#&gt; $ PARAM    &lt;fct&gt; At least one major Protocol Deviation, At least one major Pro~
#&gt; $ PARCAT1  &lt;chr&gt; "OVERALL", "OVERALL", "PROTOCOL DEVIATION", "OVERALL", "PROTO~
#&gt; $ DVCAT    &lt;chr&gt; "", "", "Major", "", "Major", "Major", "", "Major", "", "", "~
#&gt; $ ACAT1    &lt;chr&gt; "", "", "Study Procedures Criteria Deviations", "", "Study Pr~
#&gt; $ AVAL     &lt;dbl&gt; 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1~
#&gt; $ CRIT1    &lt;chr&gt; "COVID-19 Related", "COVID-19 Related", "COVID-19 Related", "~
#&gt; $ CRIT1FL  &lt;chr&gt; "N", "N", "N", "N", "N", "N", "N", "N", "N", "Y", "N", "N", "~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-18
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_rx_addv.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='rx_adsl'>An ADSL-flavored clinical trial toy dataset</h2><span id='topic+rx_adsl'></span>

<h3>Description</h3>

<p>This tibble contains artificial data for 182 subjects of the <code>GT01</code> study.
Each row corresponds to demographic characteristics of a single trial
participant. Two out of 182 study participants were screen failures and
thus not treated, the rest of the study population was randomized with a
1:1 ratio to receive either <code>"Placebo"</code> (as comparator) or <code>"Drug 1"</code>. The
dataset entails subject level demographics such as age, age group, sex,
ethnicity, and body mass index (BMI) at baseline, as well as an event
flag, indicating whether the subject experienced a specific event
throughout the course of the study or not.
</p>
<p>Although the data was intentionally created to mimic a typical clinical
trial dataset following the CDISC format, it might not strictly comply
with CDISC ADaM rules. The intent is to showcase the workflow for clinical
table creation rather than creating a fully CDISC-compliant ADaM dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rx_adsl
</code></pre>


<h3>Format</h3>

<p>A tibble with 182 rows and 14 variables:
</p>

<dl>
<dt>STUDYID, STUDYIDN</dt><dd><p>The unique study identifier and its numeric
version.</p>
</dd>
<dt>USUBJID</dt><dd><p>The unique subject identifier.</p>
</dd>
<dt>TRTA, TRTAN</dt><dd><p>The study intervention and its numeric version, which is
either <code>"Placebo"</code> (<code>1</code>), <code>"Drug 1"</code> (<code>2</code>) or <code>NA</code> (<code>3</code>), missing for
screen failures).</p>
</dd>
<dt>ITTFL</dt><dd><p>Intent-to-Treat (ITT) population flag, where <code>"Y"</code> indicates
a subject belongs to the ITT population and <code>"N"</code> indicates a subject is not
in the ITT population.</p>
</dd>
<dt>RANDFL</dt><dd><p>Randomization flag, where <code>"Y"</code> indicates a subject was
randomized to receive either <code>"Placebo"</code> or <code>"Drug 1"</code> and <code>"N"</code> indicates
a subject was not randomized at all.</p>
</dd>
<dt>SCRFREAS</dt><dd><p>The reason for screen failure. This is either missing
(<code>""</code>) for non-screen failure subjects or indicates the reason for screen
failure</p>
</dd>
<dt>AGE</dt><dd><p>The age of a subject at baseline in years.</p>
</dd>
<dt>AAGEGR1</dt><dd><p>The analysis age group, indicating if a subject was strictly
younger than 40 years at baseline or older.</p>
</dd>
<dt>SEX</dt><dd><p>Sex of a subject. Can be either <code>"Male"</code>, <code>"Female"</code> or
<code>"Undifferentiated"</code>.</p>
</dd>
<dt>ETHNIC</dt><dd><p>Ethnicity of a subject. Can be either <code>"Hispanic or Latino"</code>,
<code>"Not Hispanic or Latino"</code> or missing (<code>""</code>).</p>
</dd>
<dt>BLBMI</dt><dd><p>Body Mass Index (BMI) of a subject at baseline in kg/m2.</p>
</dd>
<dt>EVNTFL</dt><dd><p>Event Flag. Indicates whether the subject experienced a
specific event during the course of the study or not. Can be either <code>"Y"</code> (if
if the subject had the event) or <code>"N"</code>.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>rx_adsl</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(rx_adsl)
#&gt; Rows: 182
#&gt; Columns: 14
#&gt; $ STUDYID  &lt;chr&gt; "GT01", "GT01", "GT01", "GT01", "GT01", "GT01", "GT01", "GT01~
#&gt; $ STUDYIDN &lt;chr&gt; "4001", "4001", "4001", "4001", "4001", "4001", "4001", "4001~
#&gt; $ USUBJID  &lt;chr&gt; "GT1000", "GT1001", "GT1002", "GT1003", "GT1004", "GT1005", "~
#&gt; $ TRTA     &lt;fct&gt; NA, Placebo, Placebo, Placebo, Placebo, Placebo, Placebo, Pla~
#&gt; $ TRTAN    &lt;dbl&gt; 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~
#&gt; $ ITTFL    &lt;chr&gt; "N", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "~
#&gt; $ RANDFL   &lt;chr&gt; "N", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "Y", "~
#&gt; $ SCRFREAS &lt;chr&gt; "WITHDRAWAL BY SUBJECT", "", "", "", "", "", "", "", "", "", ~
#&gt; $ AGE      &lt;int&gt; 37, 41, 39, 38, 45, 35, 42, 35, 42, 38, 48, 36, 46, 34, 44, 4~
#&gt; $ AAGEGR1  &lt;fct&gt; &lt;40, &gt;=40, &lt;40, &lt;40, &gt;=40, &lt;40, &gt;=40, &lt;40, &gt;=40, &lt;40, &gt;=40, &lt;~
#&gt; $ SEX      &lt;fct&gt; Male, Male, Female, Male, Male, Female, Female, Male, Male, F~
#&gt; $ ETHNIC   &lt;fct&gt; Hispanic or Latino, Not Hispanic or Latino, Not Hispanic or L~
#&gt; $ BLBMI    &lt;dbl&gt; 33.76723, 33.35073, 30.45862, 22.85986, 23.89713, 29.09856, 2~
#&gt; $ EVNTFL   &lt;chr&gt; "", "Y", "Y", "N", "Y", "Y", "N", "N", "N", "N", "N", "N", "Y~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-17
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_rx_adsl.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='sp500'>Daily S&amp;P 500 Index data from 1950 to 2015</h2><span id='topic+sp500'></span>

<h3>Description</h3>

<p>This dataset provides daily price indicators for the S&amp;P 500 index from the
beginning of 1950 to the end of 2015. The index includes 500 leading
companies and captures about 80 percent coverage of available market
capitalization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp500
</code></pre>


<h3>Format</h3>

<p>A tibble with 16,607 rows and 7 variables:
</p>

<dl>
<dt>date</dt><dd><p>The date expressed as <code>Date</code> values.</p>
</dd>
<dt>open, high, low, close</dt><dd><p>The day's opening, high, low, and closing
prices in USD. The <code>close</code> price is adjusted for splits.</p>
</dd>
<dt>volume</dt><dd><p>The number of trades for the given <code>date</code>.</p>
</dd>
<dt>adj_close</dt><dd><p>The close price adjusted for both dividends and splits.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>sp500</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(sp500)
#&gt; Rows: 16,607
#&gt; Columns: 7
#&gt; $ date      &lt;date&gt; 2015-12-31, 2015-12-30, 2015-12-29, 2015-12-28, 2015-12-24,~
#&gt; $ open      &lt;dbl&gt; 2060.59, 2077.34, 2060.54, 2057.77, 2063.52, 2042.20, 2023.1~
#&gt; $ high      &lt;dbl&gt; 2062.54, 2077.34, 2081.56, 2057.77, 2067.36, 2064.73, 2042.7~
#&gt; $ low       &lt;dbl&gt; 2043.62, 2061.97, 2060.54, 2044.20, 2058.73, 2042.20, 2020.4~
#&gt; $ close     &lt;dbl&gt; 2043.94, 2063.36, 2078.36, 2056.50, 2060.99, 2064.29, 2038.9~
#&gt; $ volume    &lt;dbl&gt; 2655330000, 2367430000, 2542000000, 2492510000, 1411860000, ~
#&gt; $ adj_close &lt;dbl&gt; 2043.94, 2063.36, 2078.36, 2056.50, 2060.99, 2064.29, 2038.9~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-4
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_sp500.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sza">sza</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='stub'>Select helper for targeting the stub column</h2><span id='topic+stub'></span>

<h3>Description</h3>

<p>Should you need to target only the stub column for formatting or other
operations, the <code>stub()</code> select helper can be used. This obviates the need
to use the name of the column that was selected as the stub column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stub()
</code></pre>


<h3>Value</h3>

<p>A character vector of class <code>"stub_column"</code>.
</p>


<h3>Examples</h3>

<p>Create a tibble that has a <code>row</code> column (values from <code>1</code> to <code>6</code>), a <code>group</code>
column, and a <code>vals</code> column (containing the same values as in <code>row</code>).
</p>
<div class="sourceCode r"><pre>tbl &lt;-
  dplyr::tibble(
    row = 1:6,
    group = c(rep("Group A", 3), rep("Group B", 3)),
    vals = 1:6
  )
</pre></div>
<p>Create a <strong>gt</strong> table with a two-column stub (incorporating the <code>row</code> and
<code>group</code> columns in that). Format the row labels of the stub with
<code><a href="#topic+fmt_roman">fmt_roman()</a></code> to obtain Roman numerals in the stub; we're selecting the stub
column here with the <code>stub()</code> select helper.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt(rowname_col = "row", groupname_col = "group") |&gt;
  fmt_roman(columns = stub()) |&gt;
  tab_options(row_group.as_column = TRUE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_stub_1.png" alt="This image of a table was generated from the first code example in the `stub()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-10
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='sub_large_vals'>Substitute large values in the table body</h2><span id='topic+sub_large_vals'></span>

<h3>Description</h3>

<p>Wherever there are numerical data that are very large in value, replacement
text may be better for explanatory purposes. <code>sub_large_vals()</code> allows for
this replacement through specification of a <code>threshold</code>, a <code>large_pattern</code>,
and the sign (positive or negative) of the values to be considered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub_large_vals(
  data,
  columns = everything(),
  rows = everything(),
  threshold = 1e+12,
  large_pattern = "&gt;={x}",
  sign = "+"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sub_large_vals_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="sub_large_vals_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which substitution operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="sub_large_vals_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="sub_large_vals_+3A_threshold">threshold</code></td>
<td>
<p><em>Threshold value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1E12</code>
</p>
<p>The threshold value with which values should be considered large enough for
replacement.</p>
</td></tr>
<tr><td><code id="sub_large_vals_+3A_large_pattern">large_pattern</code></td>
<td>
<p><em>Pattern specification for large values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"&gt;={x}"</code>
</p>
<p>The pattern text to be used in place of the suitably large values in the
rendered table.</p>
</td></tr>
<tr><td><code id="sub_large_vals_+3A_sign">sign</code></td>
<td>
<p><em>Consider positive or negative values?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"+"</code>
</p>
<p>The sign of the numbers to be considered in the replacement. By default, we
only consider positive values (<code>"+"</code>). The other option (<code>"-"</code>) can be used
to consider only negative values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given substitution
function will be skipped over. So it's safe to select all columns with a
particular substitution function (only those values that can be substituted
will be), but, you may not want that. One strategy is to work on the bulk of
cell values with one substitution function and then constrain the columns for
later passes with other types of substitution (the last operation done to a
cell is what you get in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g., <code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of the
input data (the indices won't necessarily match those of rearranged rows if
row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
the substitution on values in the column or another column, or, you'd like to
use a more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Let's generate a simple, single-column tibble that contains an assortment of
values that could potentially undergo some substitution.
</p>
<div class="sourceCode r"><pre>tbl &lt;- dplyr::tibble(num = c(0, NA, 10^(8:14)))

tbl
#&gt; # A tibble: 9 x 1
#&gt;     num
#&gt;   &lt;dbl&gt;
#&gt; 1  0   
#&gt; 2 NA   
#&gt; 3  1e 8
#&gt; 4  1e 9
#&gt; 5  1e10
#&gt; 6  1e11
#&gt; 7  1e12
#&gt; 8  1e13
#&gt; 9  1e14
</pre></div>
<p>The <code>tbl</code> object contains a variety of larger numbers and some might be
larger enough to reformat with a threshold value. With <code>sub_large_vals()</code> we
can do just that:
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_large_vals()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_large_vals_1.png" alt="This image of a table was generated from the first code example in the `sub_large_vals()` help file." style="width:100%;">

<p>Large negative values can also be handled but they are handled specially
by the <code>sign</code> parameter. Setting that to <code>"-"</code> will format only the large
values that are negative. Notice that with the default <code>large_pattern</code>
value of <code>"&gt;={x}"</code> the <code>"&gt;="</code> is automatically changed to <code>"&lt;="</code>.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  dplyr::mutate(num = -num) |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_large_vals(sign = "-")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_large_vals_2.png" alt="This image of a table was generated from the second code example in the `sub_large_vals()` help file." style="width:100%;">

<p>You don't have to settle with the default <code>threshold</code> value or the default
replacement pattern (in <code>large_pattern</code>). This can be changed and the
<code>"{x}"</code> in <code>large_pattern</code> (which uses the <code>threshold</code> value) can even be
omitted.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_large_vals(
    threshold = 5E10,
    large_pattern = "hugemongous"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_large_vals_3.png" alt="This image of a table was generated from the third code example in the `sub_large_vals()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-34
</p>


<h3>Function Introduced</h3>

<p><code>v0.6.0</code> (May 24, 2022)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='sub_missing'>Substitute missing values in the table body</h2><span id='topic+sub_missing'></span>

<h3>Description</h3>

<p>Wherever there is missing data (i.e., <code>NA</code> values) customizable content may
present better than the standard <code>NA</code> text that would otherwise appear.
<code>sub_missing()</code> allows for this replacement through its <code>missing_text</code>
argument (where an em dash serves as the default).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub_missing(
  data,
  columns = everything(),
  rows = everything(),
  missing_text = "---"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sub_missing_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="sub_missing_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which substitution operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="sub_missing_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="sub_missing_+3A_missing_text">missing_text</code></td>
<td>
<p><em>Replacement text for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"---"</code>
</p>
<p>The text to be used in place of <code>NA</code> values in the rendered table. We can
optionally use <code><a href="#topic+md">md()</a></code> or <code><a href="#topic+html">html()</a></code> to style the text as Markdown or to
retain HTML elements in the text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given substitution
function will be skipped over. So it's safe to select all columns with a
particular substitution function (only those values that can be substituted
will be), but, you may not want that. One strategy is to work on the bulk of
cell values with one substitution function and then constrain the columns for
later passes with other types of substitution (the last operation done to a
cell is what you get in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g., <code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of the
input data (the indices won't necessarily match those of rearranged rows if
row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
the substitution on values in the column or another column, or, you'd like to
use a more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Use select columns from the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table. The
<code>NA</code> values in different columns (here, we are using column indices in
<code>columns</code>) will be given two variations of replacement text with two separate
calls of <code>sub_missing()</code>.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(-row, -group) |&gt;
  gt() |&gt;
  sub_missing(
    columns = 1:2,
    missing_text = "missing"
  ) |&gt;
  sub_missing(
    columns = 4:7,
    missing_text = "nothing"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_missing_1.png" alt="This image of a table was generated from the first code example in the `sub_missing()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-31
</p>


<h3>Function Introduced</h3>

<p><code>v0.6.0</code> (May 24, 2022)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='sub_small_vals'>Substitute small values in the table body</h2><span id='topic+sub_small_vals'></span>

<h3>Description</h3>

<p>Wherever there is numerical data that are very small in value, replacement
text may be better for explanatory purposes. <code>sub_small_vals()</code> allows for
this replacement through specification of a <code>threshold</code>, a <code>small_pattern</code>,
and the sign of the values to be considered. The substitution will occur for
those values found to be between <code>0</code> and the threshold value. This is
possible for small positive and small negative values (this can be explicitly
set by the <code>sign</code> option). Note that the interval does not include the <code>0</code> or
the <code>threshold</code> value. Should you need to include zero values, use <code><a href="#topic+sub_zero">sub_zero()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub_small_vals(
  data,
  columns = everything(),
  rows = everything(),
  threshold = 0.01,
  small_pattern = if (sign == "+") "&lt;{x}" else md("&lt;*abs*(-{x})"),
  sign = "+"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sub_small_vals_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="sub_small_vals_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which substitution operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="sub_small_vals_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="sub_small_vals_+3A_threshold">threshold</code></td>
<td>
<p><em>Threshold value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>0.01</code>
</p>
<p>The threshold value with which values should be considered small enough for
replacement.</p>
</td></tr>
<tr><td><code id="sub_small_vals_+3A_small_pattern">small_pattern</code></td>
<td>
<p><em>Pattern specification for small values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>if (sign == "+") "&lt;{x}" else md("&lt;*abs*(-{x})")</code>
</p>
<p>The pattern text to be used in place of the suitably small values in the
rendered table.</p>
</td></tr>
<tr><td><code id="sub_small_vals_+3A_sign">sign</code></td>
<td>
<p><em>Consider positive or negative values?</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"+"</code>
</p>
<p>The sign of the numbers to be considered in the replacement. By default, we
only consider positive values (<code>"+"</code>). The other option (<code>"-"</code>) can be used
to consider only negative values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given substitution
function will be skipped over. So it's safe to select all columns with a
particular substitution function (only those values that can be substituted
will be), but, you may not want that. One strategy is to work on the bulk of
cell values with one substitution function and then constrain the columns for
later passes with other types of substitution (the last operation done to a
cell is what you get in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g., <code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of the
input data (the indices won't necessarily match those of rearranged rows if
row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
the substitution on values in the column or another column, or, you'd like to
use a more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Let's generate a simple, single-column tibble that contains an assortment of
values that could potentially undergo some substitution.
</p>
<div class="sourceCode r"><pre>tbl &lt;- dplyr::tibble(num = c(10^(-4:2), 0, NA))

tbl
#&gt; # A tibble: 9 x 1
#&gt;        num
#&gt;      &lt;dbl&gt;
#&gt; 1   0.0001
#&gt; 2   0.001 
#&gt; 3   0.01  
#&gt; 4   0.1   
#&gt; 5   1     
#&gt; 6  10     
#&gt; 7 100     
#&gt; 8   0     
#&gt; 9  NA
</pre></div>
<p>The <code>tbl</code> contains a variety of smaller numbers and some might be small
enough to reformat with a threshold value. With <code>sub_small_vals()</code> we can
do just that:
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_small_vals()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_small_vals_1.png" alt="This image of a table was generated from the first code example in the `sub_small_vals()` help file." style="width:100%;">

<p>Small and negative values can also be handled but they are handled specially
by the <code>sign</code> parameter. Setting that to <code>"-"</code> will format only the small,
negative values.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  dplyr::mutate(num = -num) |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_small_vals(sign = "-")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_small_vals_2.png" alt="This image of a table was generated from the second code example in the `sub_small_vals()` help file." style="width:100%;">

<p>You don't have to settle with the default <code>threshold</code> value or the default
replacement pattern (in <code>small_pattern</code>). This can be changed and the
<code>"{x}"</code> in <code>small_pattern</code> (which uses the <code>threshold</code> value) can even be
omitted.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_small_vals(
    threshold = 0.0005,
    small_pattern = "smol"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_small_vals_3.png" alt="This image of a table was generated from the third code example in the `sub_small_vals()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-33
</p>


<h3>Function Introduced</h3>

<p><code>v0.6.0</code> (May 24, 2022)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='sub_values'>Substitute targeted values in the table body</h2><span id='topic+sub_values'></span>

<h3>Description</h3>

<p>Should you need to replace specific cell values with custom text,
<code>sub_values()</code> can be good choice. We can target cells for replacement
through value, regex, and custom matching rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub_values(
  data,
  columns = everything(),
  rows = everything(),
  values = NULL,
  pattern = NULL,
  fn = NULL,
  replacement = NULL,
  escape = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sub_values_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="sub_values_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which substitution operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="sub_values_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="sub_values_+3A_values">values</code></td>
<td>
<p><em>Values to match on</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The specific value or values that should be replaced with a <code>replacement</code>
value. If <code>pattern</code> is also supplied then <code>values</code> will be ignored.</p>
</td></tr>
<tr><td><code id="sub_values_+3A_pattern">pattern</code></td>
<td>
<p><em>Regex pattern to match with</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A regex pattern that can target solely those values in <code>character</code>-based
columns. If <code>values</code> is also supplied, <code>pattern</code> will take precedence.</p>
</td></tr>
<tr><td><code id="sub_values_+3A_fn">fn</code></td>
<td>
<p><em>Function to return logical values</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A supplied function that operates on <code>x</code> (the data in a column) and should
return a logical vector that matches the length of <code>x</code> (i.e., number of
rows in the input table). If either of <code>values</code> or <code>pattern</code> is also
supplied, <code>fn</code> will take precedence.</p>
</td></tr>
<tr><td><code id="sub_values_+3A_replacement">replacement</code></td>
<td>
<p><em>Replacement value for matches</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The replacement value for any cell values matched by either <code>values</code> or
<code>pattern</code>. Must be a character or numeric vector of length 1.</p>
</td></tr>
<tr><td><code id="sub_values_+3A_escape">escape</code></td>
<td>
<p><em>Text escaping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to escape replacement text according to the final output format
of the table. For example, if a LaTeX table is to be generated then LaTeX
escaping would be performed on the replacements during rendering. By
default this is set to <code>TRUE</code> but setting to <code>FALSE</code> would be useful in the
case where replacement text is crafted for a specific output format in
mind.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given substitution
function will be skipped over. So it's safe to select all columns with a
particular substitution function (only those values that can be substituted
will be), but, you may not want that. One strategy is to work on the bulk of
cell values with one substitution function and then constrain the columns for
later passes with other types of substitution (the last operation done to a
cell is what you get in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g., <code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of the
input data (the indices won't necessarily match those of rearranged rows if
row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
the substitution on values in the column or another column, or, you'd like to
use a more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Let's create an input table with three columns. This contains an assortment
of values that could potentially undergo some substitution via
<code>sub_values()</code>.
</p>
<div class="sourceCode r"><pre>tbl &lt;-
  dplyr::tibble(
    num_1 = c(-0.01, 74, NA, 0, 500, 0.001, 84.3),
    int_1 = c(1L, -100000L, 800L, 5L, NA, 1L, -32L),
    lett = LETTERS[1:7]
  )

tbl
#&gt; # A tibble: 7 x 3
#&gt;     num_1   int_1 lett 
#&gt;     &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt;
#&gt; 1  -0.01        1 A    
#&gt; 2  74     -100000 B    
#&gt; 3  NA         800 C    
#&gt; 4   0           5 D    
#&gt; 5 500          NA E    
#&gt; 6   0.001       1 F    
#&gt; 7  84.3       -32 G
</pre></div>
<p>Values in the table body cells can be replaced by specifying which values
should be replaced (in <code>values</code>) and what the replacement value should be.
It's okay to search for numerical or character values across all columns and
the replacement value can also be of the <code>numeric</code> or <code>character</code> types.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  sub_values(values = c(74, 500), replacement = 150) |&gt;
  sub_values(values = "B", replacement = "Bee") |&gt;
  sub_values(values = 800, replacement = "Eight hundred")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_values_1.png" alt="This image of a table was generated from the first code example in the `sub_values()` help file." style="width:100%;">

<p>We can also use the <code>pattern</code> argument to target cell values for replacement
in <code>character</code>-based columns.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  sub_values(pattern = "A|C|E", replacement = "Ace")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_values_2.png" alt="This image of a table was generated from the second code example in the `sub_values()` help file." style="width:100%;">

<p>For the most flexibility, it's best to use the <code>fn</code> argument. With that you
need to ensure that the function you provide will return a logical vector
when invoked on a column of cell values, taken as <code>x</code> (and, the length of
that vector must match the length of <code>x</code>).
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  sub_values(
    fn = function(x) x &gt;= 0 &amp; x &lt; 50,
    replacement = "Between 0 and 50"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_values_3.png" alt="This image of a table was generated from the third code example in the `sub_values()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-35
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_zero">sub_zero</a>()</code>
</p>

<hr>
<h2 id='sub_zero'>Substitute zero values in the table body</h2><span id='topic+sub_zero'></span>

<h3>Description</h3>

<p>Wherever there is numerical data that are zero in value, replacement text may
be better for explanatory purposes. <code>sub_zero()</code> allows for this replacement
through its <code>zero_text</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub_zero(data, columns = everything(), rows = everything(), zero_text = "nil")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sub_zero_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="sub_zero_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which substitution operations are constrained. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="sub_zero_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="sub_zero_+3A_zero_text">zero_text</code></td>
<td>
<p><em>Replacement text for zero values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"nil"</code>
</p>
<p>The text to be used in place of zero values in the rendered table. We can
optionally use <code><a href="#topic+md">md()</a></code> or <code><a href="#topic+html">html()</a></code> to style the text as
Markdown or to retain HTML elements in the text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to target a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given substitution
function will be skipped over. So it's safe to select all columns with a
particular substitution function (only those values that can be substituted
will be), but, you may not want that. One strategy is to work on the bulk of
cell values with one substitution function and then constrain the columns for
later passes with other types of substitution (the last operation done to a
cell is what you get in the final output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g., <code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of the
input data (the indices won't necessarily match those of rearranged rows if
row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector. This is nice if you want to base
the substitution on values in the column or another column, or, you'd like to
use a more complex predicate expression.
</p>


<h3>Examples</h3>

<p>Let's generate a simple, single-column tibble that contains an assortment of
values that could potentially undergo some substitution.
</p>
<div class="sourceCode r"><pre>tbl &lt;- dplyr::tibble(num = c(10^(-1:2), 0, 0, 10^(4:6)))

tbl
#&gt; # A tibble: 9 x 1
#&gt;         num
#&gt;       &lt;dbl&gt;
#&gt; 1       0.1
#&gt; 2       1  
#&gt; 3      10  
#&gt; 4     100  
#&gt; 5       0  
#&gt; 6       0  
#&gt; 7   10000  
#&gt; 8  100000  
#&gt; 9 1000000
</pre></div>
<p>With this table, the zero values in will be given replacement text with a
single call of <code>sub_zero()</code>.
</p>
<div class="sourceCode r"><pre>tbl |&gt;
  gt() |&gt;
  fmt_number(columns = num) |&gt;
  sub_zero()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_sub_zero_1.png" alt="This image of a table was generated from the first code example in the `sub_zero()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>3-32
</p>


<h3>Function Introduced</h3>

<p><code>v0.6.0</code> (May 24, 2022)
</p>


<h3>See Also</h3>

<p>Other data formatting functions: 
<code><a href="#topic+data_color">data_color</a>()</code>,
<code><a href="#topic+fmt">fmt</a>()</code>,
<code><a href="#topic+fmt_auto">fmt_auto</a>()</code>,
<code><a href="#topic+fmt_bins">fmt_bins</a>()</code>,
<code><a href="#topic+fmt_bytes">fmt_bytes</a>()</code>,
<code><a href="#topic+fmt_chem">fmt_chem</a>()</code>,
<code><a href="#topic+fmt_country">fmt_country</a>()</code>,
<code><a href="#topic+fmt_currency">fmt_currency</a>()</code>,
<code><a href="#topic+fmt_date">fmt_date</a>()</code>,
<code><a href="#topic+fmt_datetime">fmt_datetime</a>()</code>,
<code><a href="#topic+fmt_duration">fmt_duration</a>()</code>,
<code><a href="#topic+fmt_email">fmt_email</a>()</code>,
<code><a href="#topic+fmt_engineering">fmt_engineering</a>()</code>,
<code><a href="#topic+fmt_flag">fmt_flag</a>()</code>,
<code><a href="#topic+fmt_fraction">fmt_fraction</a>()</code>,
<code><a href="#topic+fmt_icon">fmt_icon</a>()</code>,
<code><a href="#topic+fmt_image">fmt_image</a>()</code>,
<code><a href="#topic+fmt_index">fmt_index</a>()</code>,
<code><a href="#topic+fmt_integer">fmt_integer</a>()</code>,
<code><a href="#topic+fmt_markdown">fmt_markdown</a>()</code>,
<code><a href="#topic+fmt_number">fmt_number</a>()</code>,
<code><a href="#topic+fmt_partsper">fmt_partsper</a>()</code>,
<code><a href="#topic+fmt_passthrough">fmt_passthrough</a>()</code>,
<code><a href="#topic+fmt_percent">fmt_percent</a>()</code>,
<code><a href="#topic+fmt_roman">fmt_roman</a>()</code>,
<code><a href="#topic+fmt_scientific">fmt_scientific</a>()</code>,
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num</a>()</code>,
<code><a href="#topic+fmt_tf">fmt_tf</a>()</code>,
<code><a href="#topic+fmt_time">fmt_time</a>()</code>,
<code><a href="#topic+fmt_units">fmt_units</a>()</code>,
<code><a href="#topic+fmt_url">fmt_url</a>()</code>,
<code><a href="#topic+sub_large_vals">sub_large_vals</a>()</code>,
<code><a href="#topic+sub_missing">sub_missing</a>()</code>,
<code><a href="#topic+sub_small_vals">sub_small_vals</a>()</code>,
<code><a href="#topic+sub_values">sub_values</a>()</code>
</p>

<hr>
<h2 id='summary_rows'>Add group-wise summary rows using aggregation functions</h2><span id='topic+summary_rows'></span>

<h3>Description</h3>

<p>Add summary rows to one or more row groups by using the table data and any
suitable aggregation functions. Multiple summary rows can be added for
selected groups via expressions given to <code>fns</code>. You can selectively format
the values in the resulting summary cells by use of formatting expressions in
<code>fmt</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_rows(
  data,
  groups = everything(),
  columns = everything(),
  fns = NULL,
  fmt = NULL,
  side = c("bottom", "top"),
  missing_text = "---",
  formatter = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_rows_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_groups">groups</code></td>
<td>
<p><em>Specification of row group IDs</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-group-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The row groups to which targeting operations are constrained. Can either be
a series of row group ID values provided in <code>c()</code> or a select helper
function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). By default this is set to <code><a href="#topic+everything">everything()</a></code>,
which means that all available groups will obtain summary rows.</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns for which the summaries should be calculated. Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_fns">fns</code></td>
<td>
<p><em>Aggregation Expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression|list of expressions&gt;&#8288;</code>
</p>
<p>Functions used for aggregations. This can include base functions like
<code>mean</code>, <code>min</code>, <code>max</code>, <code>median</code>, <code>sd</code>, or <code>sum</code> or any other user-defined
aggregation function. Multiple functions, each of which would generate a
different row, are to be supplied within a <code>list()</code>. We can specify the
functions by use of function names in quotes (e.g., <code>"sum"</code>), as bare
functions (e.g., <code>sum</code>), or in formula form (e.g., <code>minimum ~ min(.)</code>)
where the LHS could be used to supply the summary row label and ID values.
More information on this can be found in the
<em>Aggregation expressions for <code>fns</code></em> section.</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_fmt">fmt</code></td>
<td>
<p><em>Formatting expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression|list of expressions&gt;&#8288;</code>
</p>
<p>Formatting expressions in formula form. The RHS of <code>~</code> should contain a
formatting call (e.g., <code style="white-space: pre;">&#8288;~ fmt_number(., decimals = 3, use_seps = FALSE&#8288;</code>).
Optionally, the LHS could contain a group-targeting expression (e.g.,
<code>"group_a" ~ fmt_number(.)</code>). More information on this can be found in the
<em>Formatting expressions for <code>fmt</code></em> section.</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_side">side</code></td>
<td>
<p><em>Side used for placement of summary rows</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[bottom|top]&#8288;</code> // <em>default:</em> <code>"bottom"</code>
</p>
<p>Should the summary rows be placed at the <code>"bottom"</code> (the default) or the
<code>"top"</code> of the row group?</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_missing_text">missing_text</code></td>
<td>
<p><em>Replacement text for <code>NA</code> values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"---"</code>
</p>
<p>The text to be used in place of <code>NA</code> values in summary cells with no data
outputs.</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_formatter">formatter</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> Formatting function</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;expression&gt;&#8288;</code>
</p>
<p>Deprecated, please use <code>fmt</code> instead. This was previously used as a way to
input a formatting function name, which could be any of the <code style="white-space: pre;">&#8288;fmt_*()&#8288;</code>
functions available in the package (e.g., <code><a href="#topic+fmt_number">fmt_number()</a></code>, <code><a href="#topic+fmt_percent">fmt_percent()</a></code>,
etc.), or a custom function using <code><a href="#topic+fmt">fmt()</a></code>. The options of a formatter can
be accessed through <code>...</code>.</p>
</td></tr>
<tr><td><code id="summary_rows_+3A_...">...</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> Formatting arguments</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;Named arguments&gt;&#8288;</code>
</p>
<p>Deprecated (along with <code>formatter</code>) but otherwise used for argument values
for a formatting function supplied in <code>formatter</code>. For example, if using
<code>formatter = fmt_number</code>, options such as <code>decimals = 1</code>, <code>use_seps = FALSE</code>, and the like can be used here.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Using <code>columns</code> to target column data for aggregation</h3>

<p>Targeting of column data for which aggregates should be generated is done
through the <code>columns</code> argument. We can declare column names in <code>c()</code> (with
bare column names or names in quotes) or we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns are selected (with the <code>everything()</code> default). This
default may be not what's needed unless all columns can undergo useful
aggregation by expressions supplied in <code>fns</code>.
</p>


<h3>Aggregation expressions for <code>fns</code></h3>

<p>There are a number of ways to express how an aggregation should work for
each summary row. In addition to that, we have the ability to pass important
information such as the summary row ID value and its label (the former
necessary for targeting within <code><a href="#topic+tab_style">tab_style()</a></code> or <code><a href="#topic+tab_footnote">tab_footnote()</a></code> and the
latter used for display in the rendered table). Here are a number of
instructive examples for how to supply such expressions.
</p>


<h4>Double-sided formula with everything supplied</h4>

<p>We can be explicit and provide a double-sided formula (in the form
<code style="white-space: pre;">&#8288;&lt;LHS&gt; ~ &lt;RHS&gt;&#8288;</code>) that expresses everything about a summary row. That is, it
has an aggregation expression (where <code>.</code> represents the data in the
focused column). Here's an example:
</p>
<p><code>list(id = "minimum", label = "min") ~ min(., na.rm = TRUE)</code>
</p>
<p>The left side (the list) contains named elements that identify the <code>id</code> and
<code>label</code> for the summary row. The right side has an expression for obtaining
a minimum value (dropping <code>NA</code> values in the calculation).
</p>
<p>The <code>list()</code> can be replaced with <code>c()</code> but the advantage of a list is
allowing the use of the <code><a href="#topic+md">md()</a></code> and <code><a href="#topic+html">html()</a></code> helper functions. The above
example can be written as:
</p>
<p><code>list(id = "minimum", label = md("**Minimum**")) ~ min(., na.rm = TRUE)</code>
</p>
<p>and we can have that label value interpreted as Markdown text.
</p>



<h4>Function names in quotes</h4>

<p>With <code>fns = "min"</code> we get the equivalent of the fuller expression:
</p>
<p><code>list(id = "min", label = "min") ~ min(., na.rm = TRUE)</code>
</p>
<p>For sake of convenience, common aggregation functions with the <code>na.rm</code>
argument will be rewritten with the <code>na.rm = TRUE</code> option. These functions
are: <code>"min"</code>, <code>"max"</code>, <code>"mean"</code>, <code>"median"</code>, <code>"sd"</code>, and <code>"sum"</code>.
</p>
<p>Should you need to specify multiple aggregation functions in this way (giving
you multiple summary rows), use <code>c()</code> or <code>list()</code>.
</p>



<h4>RHS formula expressions</h4>

<p>With <code>fns = ~ min(.)</code> or <code>fns = list(~ min(.))</code>, <strong>gt</strong> will use the function
name as the <code>id</code> and <code>label</code>. The expansion of this shorthand to full form
looks like this:
</p>
<p><code>list(id = "min", label = "min") ~ min(.)</code>
</p>
<p>The RHS expression is kept as written and the name portion is both the <code>id</code>
and the <code>label</code>.
</p>



<h4>Named vector or list with RHS formula expression</h4>

<p>Using <code>fns = c(minimum = ~ min(.))</code> or <code>fns = list(minimum = ~ min(.))</code>
expands to this:
</p>
<p><code>list(id = "minimum", label = "minimum") ~ min(.)</code>
</p>



<h4>Unnamed vector or list with RHS formula expression</h4>

<p>With <code>fns = c("minimum", "min") ~ min(.)</code> or
<code>fns = list("minimum", "min") ~ min(.)</code> the LHS contains the <code>label</code> and <code>id</code>
values and, importantly, the order is <code>label</code> first and <code>id</code> second. This can
be rewritten as:
</p>
<p><code>list(id = "min", label = "minimum") ~ min(.)</code>
</p>
<p>If the vector or list is partially named, <strong>gt</strong> has enough to go on to
disambiguate the unnamed element. So with
<code>fns = c("minimum", label = "min") ~ min(.)</code>, <code>"min"</code> is indeed the <code>label</code>
and <code>"minimum"</code> is taken as the <code>id</code> value.
</p>



<h4>A fully named list with three specific elements</h4>

<p>We can avoid using a formula if we are satisfied with the default options of
a function (except some of those functions with the <code>na.rm</code> options, see
above). Instead, a list with the named elements <code>id</code>, <code>label</code>, and <code>fn</code> could
be used. It can look like this:
</p>
<p><code>fns = list(id = "mean_id", label = "average", fn = "mean")</code>
</p>
<p>which translates to
</p>
<p><code>list(id = "mean_id", label = "average") ~ mean(., na.rm = TRUE)</code>
</p>



<h3>Formatting expressions for <code>fmt</code></h3>

<p>Given that we are generating new data in a table, we might also want to
take the opportunity to format those new values right away. We can do this
in the <code>fmt</code> argument, either with a single expression or a number of them
in a list.
</p>


<h4>Formatting cells across all groups</h4>

<p>We can supply a one-sided (RHS only) or two-sided expression (targeting
groups) to <code>fmt</code>, and, several can be provided in a list. The RHS will always
contain an expression that uses a formatting function (e.g., <code><a href="#topic+fmt_number">fmt_number()</a></code>,
<code><a href="#topic+fmt_currency">fmt_currency()</a></code>, etc.) and it must contain an initial <code>.</code> that stands for
the data object. If performing numeric formatting on all columns in the new
summary rows, it might look something like this:
</p>
<p><code>fmt = ~ fmt_number(., decimals = 1, use_seps = FALSE)</code>
</p>
<p>We can use the <code>columns</code> and <code>rows</code> arguments that are available in every
formatting function. This allows us to format only a subset of columns or
rows. Summary rows can be targeted by using their ID values and these are
settable within expressions given to <code>fns</code> (see the <em>Aggregation expressions
for <code>fns</code></em> section for details on this). Here's an example with hypothetical
column and row names:
</p>
<p><code>fmt = ~ fmt_number(., columns = num, rows = "mean", decimals = 3)</code>
</p>



<h4>Formatting cells in specific groups</h4>

<p>A two-sided expression is needed for targeting the formatting directives to
specific summary row groups. In this format, the LHS should contain an
expression that resolves to a set of available groups. We can use a single
row group name in quotes, several of those in a vector, or a select helper
expression like <code>starts_with()</code> or <code>matches()</code>.
</p>
<p>In a situation where summary rows were generated across the row groups named
<code>"group_1"</code>, <code>"group_2"</code>, and <code>"group_3"</code>, we could format all summary cells
in <code>"group_2"</code> with the following:
</p>
<p><code>fmt = "group_2" ~ fmt_number(., decimals = 1, use_seps = FALSE)</code>
</p>
<p>If you wanted to target the latter two groups, this can be done:
</p>
<p><code>fmt = matches("2|3") ~ fmt_number(., decimals = 1, use_seps = FALSE)</code>
</p>
<p>Should you need to target a single cell, the LHS expression for group
targeting could be paired with single values for <code>columns</code> and <code>rows</code> on the
RHS formatting expression. Like this:
</p>
<p><code>fmt = "group_1" ~ fmt_number(., columns = num, rows = "mean")</code>
</p>



<h3>Extraction of summary rows</h3>

<p>Should we need to obtain the summary data for external purposes,
<code><a href="#topic+extract_summary">extract_summary()</a></code> can be used with a <code>gt_tbl</code> object where summary rows
were added via <code>summary_rows()</code> or <code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>.
</p>


<h3>Examples</h3>

<p>Use a modified version of <code><a href="#topic+sp500">sp500</a></code> dataset to create a <strong>gt</strong> table with row
groups and row labels. Create the summary rows labeled <code>min</code>, <code>max</code>, and
<code>avg</code> by row group (where each each row group is a week number) with
<code>summary_rows()</code>.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "2015-01-05" &amp; date &lt;= "2015-01-16") |&gt;
  dplyr::arrange(date) |&gt;
  dplyr::mutate(week = paste0("W", strftime(date, format = "%V"))) |&gt;
  dplyr::select(-adj_close, -volume) |&gt;
  gt(
    rowname_col = "date",
    groupname_col = "week"
  ) |&gt;
  summary_rows(
    fns = list(
      "min",
      "max",
      list(label = "avg", fn = "mean")
    ),
    fmt = ~ fmt_number(., use_seps = FALSE)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_summary_rows_1.png" alt="This image of a table was generated from the first code example in the `summary_rows()` help file." style="width:100%;">

<p>Using the <code><a href="#topic+countrypops">countrypops</a></code> dataset, let's process that a bit before giving it
to <strong>gt</strong>. We can create a summary rows with totals that appear at the top of
each row group (with <code>side = "top"</code>). We can define the aggregation with a
list that contains parameters for the summary row label (<code>md("**ALL**")</code>),
the shared ID value of those rows across groups (<code>"totals"</code>), and the
aggregation function (expressed as <code>"sum"</code>, which <strong>gt</strong> recognizes as the
<code>sum()</code> function). To top it all off, we'll add background fills to the
summary rows with <code><a href="#topic+tab_style">tab_style()</a></code>.
</p>
<div class="sourceCode r"><pre>countrypops |&gt;
  dplyr::filter(
    country_code_2 %in% c("BR", "RU", "IN", "CN", "FR", "DE", "IT", "GB")
  ) |&gt;
  dplyr::filter(year %% 10 == 0) |&gt;
  dplyr::select(country_name, year, population) |&gt;
  tidyr::pivot_wider(names_from = year, values_from = population) |&gt;
  gt(rowname_col = "country_name") |&gt;
  tab_row_group(
    label = md("*BRIC*"),
    rows = c("Brazil", "Russian Federation", "India", "China"),
    id = "bric"
  ) |&gt;
  tab_row_group(
    label = md("*Big Four*"),
    rows = c("France", "Germany", "Italy", "United Kingdom"),
    id = "big4"
  ) |&gt;
  row_group_order(groups = c("bric", "big4")) |&gt;
  tab_stub_indent(rows = everything()) |&gt;
  tab_header(title = "Populations of the BRIC and Big Four Countries") |&gt;
  tab_spanner(columns = everything(), label = "Year") |&gt;
  fmt_number(n_sigfig = 3, suffixing = TRUE) |&gt;
  summary_rows(
    fns =  list(label = md("**ALL**"), id = "totals", fn = "sum"),
    fmt = ~ fmt_number(., n_sigfig = 3, suffixing = TRUE),
    side = "top"
  ) |&gt;
  tab_style(
    locations = cells_summary(),
    style = cell_fill(color = "lightblue" |&gt; adjust_luminance(steps = +1))
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_summary_rows_2.png" alt="This image of a table was generated from the second code example in the `summary_rows()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>6-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other row addition/modification functions: 
<code><a href="#topic+grand_summary_rows">grand_summary_rows</a>()</code>,
<code><a href="#topic+row_group_order">row_group_order</a>()</code>,
<code><a href="#topic+rows_add">rows_add</a>()</code>
</p>

<hr>
<h2 id='system_fonts'>Get a themed font stack that works well across systems</h2><span id='topic+system_fonts'></span>

<h3>Description</h3>

<p>A font stack can be obtained from <code>system_fonts()</code> using one of various
keywords such as <code>"system-ui"</code>, <code>"old-style"</code>, and <code>"humanist"</code> (there are 15
in total) representing a themed set of fonts. These sets comprise a font
family that has been tested to work across a wide range of computer systems.
This is useful when specifying <code>font</code> values in <code><a href="#topic+cell_text">cell_text()</a></code>
(itself used inside <code><a href="#topic+tab_style">tab_style()</a></code>). If using <code><a href="#topic+opt_table_font">opt_table_font()</a></code>, we can
invoke this function in its <code>stack</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>system_fonts(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="system_fonts_+3A_name">name</code></td>
<td>
<p><em>Name of font stack</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The name of a font stack. Must be drawn from the set of <code>"system-ui"</code>,
<code>"transitional"</code>, <code>"old-style"</code>, <code>"humanist"</code>, <code>"geometric-humanist"</code>,
<code>"classical-humanist"</code>, <code>"neo-grotesque"</code>, <code>"monospace-slab-serif"</code>,
<code>"monospace-code"</code>, <code>"industrial"</code>, <code>"rounded-sans"</code>, <code>"slab-serif"</code>,
<code>"antique"</code>, <code>"didone"</code>, and <code>"handwritten"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of font names.
</p>


<h3>The font stacks and the individual fonts used by platform</h3>



<h4>System UI (<code>"system-ui"</code>)</h4>

<div class="sourceCode css"><pre>font-family: system-ui, sans-serif;
</pre></div>
<p>The operating system interface's default typefaces are known as system UI
fonts. They contain a variety of font weights, are quite readable at small
sizes, and are perfect for UI elements. These typefaces serve as a great
starting point for text in data tables and so this font stack is the default
for <strong>gt</strong>.
</p>



<h4>Transitional (<code>"transitional"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif;
</pre></div>
<p>The Enlightenment saw the development of transitional typefaces, which
combine Old Style and Modern typefaces. <em>Times New Roman</em>, a transitional
typeface created for the Times of London newspaper, is among the most
well-known instances of this style.
</p>



<h4>Old Style (<code>"old-style"</code>)</h4>

<div class="sourceCode css"><pre>font-family: 'Iowan Old Style', 'Palatino Linotype', 'URW Palladio L', P052, serif;
</pre></div>
<p>Old style typefaces were created during the Renaissance and are distinguished
by diagonal stress, a lack of contrast between thick and thin strokes, and
rounded serifs. <em>Garamond</em> is among the most well-known instances of an antique
typeface.
</p>



<h4>Humanist (<code>"humanist"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Seravek, 'Gill Sans Nova', Ubuntu, Calibri, 'DejaVu Sans', source-sans-pro, sans-serif;
</pre></div>
<p>Low contrast between thick and thin strokes and organic, calligraphic forms
are traits of humanist typefaces. These typefaces, which draw their
inspiration from Renaissance calligraphy, are frequently regarded as being
more readable and easier to read than other sans serif typefaces.
</p>



<h4>Geometric Humanist (<code>"geometric-humanist"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Avenir, Montserrat, Corbel, 'URW Gothic', source-sans-pro, sans-serif;
</pre></div>
<p>Clean, geometric forms and consistent stroke widths are characteristics of
geometric humanist typefaces. These typefaces, which are frequently used for
headlines and other display purposes, are frequently thought to be
contemporary and slick in appearance. A well-known example of this
classification is <em>Futura</em>.
</p>



<h4>Classical Humanist (<code>"classical-humanist"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Optima, Candara, 'Noto Sans', source-sans-pro, sans-serif;
</pre></div>
<p>The way the strokes gradually widen as they approach the stroke terminals
without ending in a serif is what distinguishes classical humanist typefaces.
The stone carving on Renaissance-era tombstones and classical Roman capitals
served as inspiration for these typefaces.
</p>



<h4>Neo-Grotesque (<code>"neo-grotesque"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Inter, Roboto, 'Helvetica Neue', 'Arial Nova', 'Nimbus Sans', Arial, sans-serif;
</pre></div>
<p>Neo-grotesque typefaces are a form of sans serif that originated in the late
19th and early 20th centuries. They are distinguished by their crisp,
geometric shapes and regular stroke widths. <em>Helvetica</em> is among the most
well-known examples of a Neo-grotesque typeface.
</p>



<h4>Monospace Slab Serif (<code>"monospace-slab-serif"</code>)</h4>

<div class="sourceCode css"><pre>font-family: 'Nimbus Mono PS', 'Courier New', monospace;
</pre></div>
<p>Monospace slab serif typefaces are distinguished by their fixed-width
letters, which are the same width irrespective of their shape, and their
straightforward, geometric forms. For reports, tabular work, and technical
documentation, this technique is used to simulate typewriter output.
</p>



<h4>Monospace Code (<code>"monospace-code"</code>)</h4>

<div class="sourceCode css"><pre>font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
</pre></div>
<p>Specifically created for use in programming and other technical applications,
monospace code typefaces are used in these fields. These typefaces are
distinguished by their clear, readable forms and monospaced design, which
ensures that all letters and characters are the same width.
</p>



<h4>Industrial (<code>"industrial"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Bahnschrift, 'DIN Alternate', 'Franklin Gothic Medium', 'Nimbus Sans Narrow', sans-serif-condensed, sans-serif;
</pre></div>
<p>The development of industrial typefaces began in the late 19th century and
was greatly influenced by the industrial and technological advancements of
the time. Industrial typefaces are distinguished by their strong sans serif
letterforms, straightforward appearance, and use of geometric shapes and
straight lines.
</p>



<h4>Rounded Sans (<code>"rounded-sans"</code>)</h4>

<div class="sourceCode css"><pre>font-family: ui-rounded, 'Hiragino Maru Gothic ProN', Quicksand, Comfortaa, Manjari, 'Arial Rounded MT', 'Arial Rounded MT Bold', Calibri, source-sans-pro, sans-serif;
</pre></div>
<p>The rounded, curved letterforms that define rounded typefaces give them a
softer, friendlier appearance. The typeface's rounded edges give it a more
natural and playful feel, making it appropriate for use in casual or
kid-friendly designs. Since the 1950s, the rounded sans-serif design has
gained popularity and is still frequently used in branding, graphic design,
and other fields.
</p>



<h4>Slab Serif (<code>"slab-serif"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Rockwell, 'Rockwell Nova', 'Roboto Slab', 'DejaVu Serif', 'Sitka Small', serif;
</pre></div>
<p>Slab Serif typefaces are distinguished by the thick, block-like serifs that
appear at the ends of each letterform. Typically, these serifs are
unbracketed, which means that they do not have any curved or tapered
transitions to the letter's main stroke.
</p>



<h4>Antique (<code>"antique"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Superclarendon, 'Bookman Old Style', 'URW Bookman', 'URW Bookman L', 'Georgia Pro', Georgia, serif;
</pre></div>
<p>Serif typefaces that were popular in the 19th century include antique
typefaces, also referred to as Egyptians. They are distinguished by their
thick, uniform stroke weight and block-like serifs.
</p>



<h4>Didone (<code>"didone"</code>)</h4>

<div class="sourceCode css"><pre>font-family: Didot, 'Bodoni MT', 'Noto Serif Display', 'URW Palladio L', P052, Sylfaen, serif;
</pre></div>
<p>Didone typefaces, also referred to as Modern typefaces, are distinguished by
their vertical stress, sharp contrast between thick and thin strokes, and
hairline serifs without bracketing. The Didone style first appeared in the
late 18th century and became well-known in the early 19th century.
</p>



<h4>Handwritten (<code>"handwritten"</code>)</h4>

<div class="sourceCode css"><pre>font-family: 'Segoe Print', 'Bradley Hand', Chilanka, TSCu_Comic, casual, cursive;
</pre></div>
<p>The appearance and feel of handwriting are replicated by handwritten
typefaces. Although there are a wide variety of handwriting styles, this font
stack tends to use a more casual and commonplace style.
</p>



<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a <strong>gt</strong> table with 10 rows.
For the <code>date</code> column and the column labels, let's use a different font stack
(the <code>"industrial"</code> one). The system fonts used in this particular stack are
<code>"Bahnschrift"</code>, <code>"DIN Alternate"</code>, <code>"Franklin Gothic Medium"</code>, and
<code>"Nimbus Sans Narrow"</code> (the generic <code>"sans-serif-condensed"</code> and <code>"sans-serif"</code>
are used if the aforementioned fonts aren't available).
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice(1:10) |&gt;
  dplyr::select(-volume, -adj_close) |&gt;
  gt() |&gt;
  fmt_currency() |&gt;
  tab_style(
    style = cell_text(
      font = system_fonts(name = "industrial"),
      size = px(18)
    ),
    locations = list(
      cells_body(columns = date),
      cells_column_labels()
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_system_fonts_1.png" alt="This image of a table was generated from the first code example in the `system_fonts()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-33
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+unit_conversion">unit_conversion</a>()</code>
</p>

<hr>
<h2 id='sza'>Twice hourly solar zenith angles by month &amp; latitude</h2><span id='topic+sza'></span>

<h3>Description</h3>

<p>This dataset contains solar zenith angles (in degrees, with the range of
0-90) every half hour from 04:00 to 12:00, true solar time. This set of
values is calculated on the first of every month for 4 different northern
hemisphere latitudes. For determination of afternoon values, the presented
tabulated values are symmetric about noon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sza
</code></pre>


<h3>Format</h3>

<p>A tibble with 816 rows and 4 variables:
</p>

<dl>
<dt>latitude</dt><dd><p>The latitude in decimal degrees for the observations.</p>
</dd>
<dt>month</dt><dd><p>The measurement month. All calculations where conducted for the
first day of each month.</p>
</dd>
<dt>tst</dt><dd><p>The true solar time at the given <code>latitude</code> and date (first of
<code>month</code>) for which the solar zenith angle is calculated.</p>
</dd>
<dt>sza</dt><dd><p>The solar zenith angle in degrees, where <code>NA</code>s indicate that
sunrise hadn't yet occurred by the <code>tst</code> value.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The solar zenith angle (SZA) is one measure that helps to describe the sun's
path across the sky. It's defined as the angle of the sun relative to a line
perpendicular to the earth's surface. It is useful to calculate the SZA in
relation to the true solar time. True solar time relates to the position of
the sun with respect to the observer, which is different depending on the
exact longitude. For example, two hours before the sun crosses the meridian
(the highest point it would reach that day) corresponds to a true solar time
of 10 a.m. The SZA has a strong dependence on the observer's latitude. For
example, at a latitude of 50 degrees N at the start of January, the noontime
SZA is 73.0 but a different observer at 20 degrees N would measure the
noontime SZA to be 43.0 degrees.
</p>


<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>sza</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(sza)
#&gt; Rows: 816
#&gt; Columns: 4
#&gt; $ latitude &lt;dbl&gt; 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 2~
#&gt; $ month    &lt;fct&gt; jan, jan, jan, jan, jan, jan, jan, jan, jan, jan, jan, jan, j~
#&gt; $ tst      &lt;chr&gt; "0400", "0430", "0500", "0530", "0600", "0630", "0700", "0730~
#&gt; $ sza      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 84.9, 78.7, 72.7, 66.1, 61.5, 56.5, 5~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-2
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_sza.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>Source</h3>

<p>Calculated Actinic Fluxes (290 - 700 nm) for Air Pollution
Photochemistry Applications (Peterson, 1976), available at:
<a href="https://nepis.epa.gov/Exe/ZyPURL.cgi?Dockey=9100JA26.txt">https://nepis.epa.gov/Exe/ZyPURL.cgi?Dockey=9100JA26.txt</a>.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+towny">towny</a></code>
</p>

<hr>
<h2 id='tab_caption'>Add a table caption</h2><span id='topic+tab_caption'></span>

<h3>Description</h3>

<p>Add a caption to a <strong>gt</strong> table, which is handled specially for a table
within an R Markdown, Quarto, or <strong>bookdown</strong> context. The addition of
captions makes tables cross-referencing across the containing document. The
caption location (i.e., top, bottom, margin) is handled at the document level
in each of these system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_caption(data, caption)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_caption_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_caption_+3A_caption">caption</code></td>
<td>
<p><em>Table caption text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The table caption to use for cross-referencing in R Markdown, Quarto, or
<strong>bookdown</strong>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>With three columns from the <code><a href="#topic+gtcars">gtcars</a></code> dataset, let's create a <strong>gt</strong> table.
First, we'll add a header part with <code><a href="#topic+tab_header">tab_header()</a></code>. After that, a caption is
added with <code>tab_caption()</code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  ) |&gt;
  tab_caption(caption = md("**gt** table example."))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_caption_1.png" alt="This image of a table was generated from the first code example in the `tab_caption()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_footnote'>Add a table footnote</h2><span id='topic+tab_footnote'></span>

<h3>Description</h3>

<p><code>tab_footnote()</code> can make it a painless process to add a footnote to a
<strong>gt</strong> table. There are commonly two components to a footnote:
(1) a footnote mark that is attached to the targeted cell content, and (2)
the footnote text itself that is placed in the table's footer area. Each unit
of footnote text in the footer is linked to an element of text or otherwise
through the footnote mark. The footnote system in <strong>gt</strong> presents footnotes
in a way that matches the usual expectations, where:
</p>

<ol>
<li><p> footnote marks have a sequence, whether they are symbols, numbers, or
letters
</p>
</li>
<li><p> multiple footnotes can be applied to the same content (and marks are
always presented in an ordered fashion)
</p>
</li>
<li><p> footnote text in the footer is never exactly repeated, <strong>gt</strong> reuses
footnote marks where needed throughout the table
</p>
</li>
<li><p> footnote marks are ordered across the table in a consistent manner (left
to right, top to bottom)
</p>
</li></ol>

<p>Each call of <code>tab_footnote()</code> will either add a different footnote to the
footer or reuse existing footnote text therein. One or more cells outside of
the footer are targeted using the <code><a href="#topic+location-helper">cells_*()</a></code> helper functions
(e.g., <code><a href="#topic+cells_body">cells_body()</a></code>, <code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>, etc.). You can choose to <em>not</em>
attach a footnote mark by simply not specifying anything in the <code>locations</code>
argument.
</p>
<p>By default, <strong>gt</strong> will choose which side of the text to place the footnote
mark via the <code>placement = "auto"</code> option. You are, however, always free to
choose the placement of the footnote mark (either to the <code style="white-space: pre;">&#8288;"left&#8288;</code> or <code>"right"</code>
of the targeted cell content).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_footnote(
  data,
  footnote,
  locations = NULL,
  placement = c("auto", "right", "left")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_footnote_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_footnote_+3A_footnote">footnote</code></td>
<td>
<p><em>Footnote text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The text to be used in the footnote. We can optionally use <code><a href="#topic+md">md()</a></code> or <code><a href="#topic+html">html()</a></code>
to style the text as Markdown or to retain HTML elements in the footnote text.</p>
</td></tr>
<tr><td><code id="tab_footnote_+3A_locations">locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code><a href="#topic+location-helper">&lt;locations expressions&gt;</a></code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The cell or set of cells to be associated with the footnote. Supplying any
of the <code style="white-space: pre;">&#8288;cells_*()&#8288;</code> helper functions is a useful way to target the location
cells that are associated with the footnote text. These helper functions
are: <code><a href="#topic+cells_title">cells_title()</a></code>, <code><a href="#topic+cells_stubhead">cells_stubhead()</a></code>, <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>,
<code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>, <code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>, <code><a href="#topic+cells_stub">cells_stub()</a></code>,
<code><a href="#topic+cells_body">cells_body()</a></code>, <code><a href="#topic+cells_summary">cells_summary()</a></code>, <code><a href="#topic+cells_grand_summary">cells_grand_summary()</a></code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary()</a></code>, and <code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary()</a></code>. Additionally, we
can enclose several <code style="white-space: pre;">&#8288;cells_*()&#8288;</code> calls within a <code>list()</code> if we wish to link
the footnote text to different types of locations (e.g., body cells, row
group labels, the table title, etc.).</p>
</td></tr>
<tr><td><code id="tab_footnote_+3A_placement">placement</code></td>
<td>
<p><em>Placement of the footnote mark</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|right|left]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>Where to affix footnote marks to the table content. Two options for this
are <code style="white-space: pre;">&#8288;"left&#8288;</code> or <code>"right"</code>, where the placement is either to the absolute
left or right of the cell content. By default, however, this option is set
to <code>"auto"</code> whereby <strong>gt</strong> will choose a preferred left-or-right placement
depending on the alignment of the cell content.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Formatting of footnote text and marks</h3>

<p>There are several options for controlling the formatting of the footnotes,
their marks, and related typesetting in the footer. All of these options are
available within <code><a href="#topic+tab_options">tab_options()</a></code> and a subset of these are exposed in their
own <code style="white-space: pre;">&#8288;opt_*()&#8288;</code> functions.
</p>


<h4>Choosing the footnote marks</h4>

<p>We can modify the set of footnote marks with
<code>tab_options(..., footnotes.marks)</code> or <code>opt_footnote_marks(..., )</code>. What that
argument needs is a vector that will represent the series of marks. The
series of footnote marks is recycled when its usage goes beyond the length of
the set. At each cycle, the marks are simply doubled, tripled, and so on
(e.g., <code>*</code> -&gt; <code style="white-space: pre;">&#8288;**&#8288;</code> -&gt; <code style="white-space: pre;">&#8288;***&#8288;</code>). The option exists for providing keywords for
certain types of footnote marks. The keywords are:
</p>

<ul>
<li> <p><code>"numbers"</code>: numeric marks, they begin from <code>1</code> and these marks are not
subject to recycling behavior (this is the default)
</p>
</li>
<li> <p><code>"letters"</code>: minuscule alphabetic marks, internally uses the <code>letters</code>
vector which contains 26 lowercase letters of the Roman alphabet
</p>
</li>
<li> <p><code>"LETTERS"</code>: majuscule alphabetic marks, using the <code>LETTERS</code> vector
which has 26 uppercase letters of the Roman alphabet
</p>
</li>
<li> <p><code>"standard"</code>: symbolic marks, four symbols in total
</p>
</li>
<li> <p><code>"extended"</code>: symbolic marks, extends the standard set by adding two
more symbols, making six
</p>
</li></ul>

<p>The symbolic marks are the: (1) Asterisk, (2) Dagger, (3) Double Dagger,
(4) Section Sign, (5) Double Vertical Line, and (6) Paragraph Sign; the
<code>"standard"</code> set has the first four, <code>"extended"</code> contains all.
</p>



<h4>Defining footnote typesetting specifications</h4>

<p>A footnote spec consists of a string containing control characters for
formatting. They are separately defined for footnote marks beside footnote
text in the table footer (the <code>'spec_ftr'</code>) and for marks beside the targeted
cell content (the <code>'spec_ref'</code>).
</p>
<p>Not every type of formatting makes sense for footnote marks so the
specification is purposefully constrained to the following:
</p>

<ul>
<li><p> as superscript text (with the <code>"^"</code> control character) or regular-sized
text residing on the baseline
</p>
</li>
<li><p> bold text (with <code>"b"</code>), italicized text (with <code>"i"</code>), or unstyled text
(don't use either of the <code>"b"</code> or <code>"i"</code> control characters)
</p>
</li>
<li><p> enclosure in parentheses (use <code>"("</code> / <code>")"</code>) or square brackets (with
<code>"["</code> / <code>"]"</code>)
</p>
</li>
<li><p> a period following the mark (using <code>"."</code>); this is most commonly used in
the table footer
</p>
</li></ul>

<p>With the aforementioned control characters we could, for instance, format
the footnote marks to be superscript text in bold type with <code>"^b"</code>. We might
want the marks in the footer to be regular-sized text in parentheses, so the
spec could be either <code>"()"</code> or <code>"(x)"</code> (you can optionally use <code>"x"</code> as a
helpful placeholder for the marks).
</p>
<p>These options can be set either in a <code><a href="#topic+tab_options">tab_options()</a></code> call (with the
<code>footnotes.spec_ref</code> and <code>footnotes.spec_ftr</code> arguments) or with
<code><a href="#topic+opt_footnote_spec">opt_footnote_spec()</a></code> (using the <code>spec_ref</code> or <code>spec_ftr</code> arguments).
</p>



<h4>Additional typesetting options for footnote text residing in the footer</h4>

<p>Within <code><a href="#topic+tab_options">tab_options()</a></code> there are two arguments that control the typesetting
of footnotes. With <code>footnotes.multiline</code>, we have a setting that determines
whether each footnote will start on a new line, or, whether they are combined
into a single block of text. The default for this is <code>TRUE</code>, but, if <code>FALSE</code>
we can control the separator between consecutive footnotes with the
<code>footnotes.sep</code> argument. By default, this is set to a single space character
(<code>" "</code>).
</p>



<h3>Examples</h3>

<p>Using a subset of the <code><a href="#topic+sza">sza</a></code> dataset, let's create a new <strong>gt</strong> table. The
body cells in the <code>sza</code> column will receive background color fills according
to their data values (with <code><a href="#topic+data_color">data_color()</a></code>). After that, the use of
<code>tab_footnote()</code> lets us add a footnote to the <code>sza</code> column label (explaining
what the color gradient signifies).
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(
    latitude == 20 &amp;
      month == "jan" &amp;
      !is.na(sza)
  ) |&gt;
  dplyr::select(-latitude, -month) |&gt;
  gt() |&gt;
  data_color(
    columns = sza,
    palette = c("white", "yellow", "navyblue"),
    domain = c(0, 90)
  ) |&gt;
  tab_footnote(
    footnote = "Color indicates the solar zenith angle.",
    locations = cells_column_labels(columns = sza)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_footnote_1.png" alt="This image of a table was generated from the first code example in the `tab_footnote()` help file." style="width:100%;">

<p>Of course, we can add more than one footnote to the table, but, we have to
use several calls of <code>tab_footnote()</code>. This variation of the <code><a href="#topic+sza">sza</a></code> table
has three footnotes: one on the <code>"TST"</code> column label and two on the <code>"SZA"</code>
column label (these were capitalized with <code><a href="#topic+opt_all_caps">opt_all_caps()</a></code>). We will
ultimately have three calls of <code>tab_footnote()</code> and while the order of calls
usually doesn't matter, it does have a subtle effect here since two footnotes
are associated with the same text content (try reversing the second and third
calls and observe the effect in the footer).
</p>
<div class="sourceCode r"><pre>sza |&gt;
  dplyr::filter(
    latitude == 20 &amp;
      month == "jan" &amp;
      !is.na(sza)
  ) |&gt;
  dplyr::select(-latitude, -month) |&gt;
  gt() |&gt;
  opt_all_caps() |&gt;
  cols_align(align = "center") |&gt;
  cols_width(everything() ~ px(200)) |&gt;
  tab_footnote(
    footnote = md("TST stands for *True Solar Time*."),
    locations = cells_column_labels(columns = tst)
  ) |&gt;
  tab_footnote(
    footnote = md("SZA stands for *Solar Zenith Angle*."),
    locations = cells_column_labels(columns = sza)
  ) |&gt;
  tab_footnote(
    footnote = "Higher Values indicate sun closer to horizon.",
    locations = cells_column_labels(columns = sza)
  ) |&gt;
  tab_options(footnotes.multiline = FALSE)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_footnote_2.png" alt="This image of a table was generated from the second code example in the `tab_footnote()` help file." style="width:100%;">

<p>Text in the footer (both from footnotes and also from source notes) tends to
widen the table and, by extension, all the columns within it. We can limit
that by explicitly setting column width values, which is what was done above
with <code><a href="#topic+cols_width">cols_width()</a></code>. There can also be a correspondingly large amount of
vertical space taken up by the footer since footnotes will, by default, each
start on a new line. In the above example, we used
<code>tab_options(footnotes.multiline = FALSE)</code> to make it so that all footer text
is contained in a single block of text.
</p>
<p>Let's move on to another footnote-laden table, this one based on the
<code><a href="#topic+towny">towny</a></code> dataset. We have a header part, with a title and a subtitle. We
can choose which of these could be associated with a footnote and in this
case it is the <code>"subtitle"</code> (one of two options in the <code><a href="#topic+cells_title">cells_title()</a></code> helper
function). This table has a stub with row labels and some of those labels are
associated with a footnote. So long as row labels are unique, they can be
easily used as row identifiers in <code><a href="#topic+cells_stub">cells_stub()</a></code>. The third footnote is
placed on the <code>"Density"</code> column label. Here, changing the order of the
<code>tab_footnote()</code> calls has no effect on the final table rendering.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::filter(csd_type == "city") |&gt;
  dplyr::arrange(desc(population_2021)) |&gt;
  dplyr::select(name, density_2021, population_2021) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt(rowname_col = "name") |&gt;
  tab_header(
    title = md("The 10 Largest Municipalities in `towny`"),
    subtitle = "Population values taken from the 2021 census."
  ) |&gt;
  fmt_integer() |&gt;
  cols_label(
    density_2021 = "Density",
    population_2021 = "Population"
  ) |&gt;
  tab_footnote(
    footnote = "Part of the Greater Toronto Area.",
    locations = cells_stub(rows = c(
      "Toronto", "Mississauga", "Brampton", "Markham", "Vaughan"
    ))
  ) |&gt;
  tab_footnote(
    footnote = md("Density is in terms of persons per km^2^."),
    locations = cells_column_labels(columns = density_2021)
  ) |&gt;
  tab_footnote(
    footnote = "Census results made public on February 9, 2022.",
    locations = cells_title(groups = "subtitle")
  ) |&gt;
  tab_source_note(source_note = md(
    "Data taken from the `towny` dataset (in the **gt** package)."
  )) |&gt;
  opt_footnote_marks(marks = "letters")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_footnote_3.png" alt="This image of a table was generated from the third code example in the `tab_footnote()` help file." style="width:100%;">

<p>In the above table, we elected to change the footnote marks to letters
instead of the default numbers (done through <code><a href="#topic+opt_footnote_marks">opt_footnote_marks()</a></code>). A
source note was also added; this was mainly to demonstrate that source notes
will be positioned beneath footnotes in the footer section.
</p>
<p>For our final example, let's make a relatively small table deriving from the
<code><a href="#topic+sp500">sp500</a></code> dataset. The set of <code>tab_footnote()</code> calls used here (four of them)
have minor variations that allow for interesting expressions of footnotes.
Two of the footnotes target values in the body of the table (using the
<code><a href="#topic+cells_body">cells_body()</a></code> helper function to achieve this). On numeric values that
right-aligned, <strong>gt</strong> will opt to place the footnote on the left of the
content so as to not disrupt the alignment. However, the <code>placement</code> argument
can be used to force the positioning of the footnote mark after the content.
We can also opt to include footnotes that have no associated footnote marks
whatsoever. This is done by not providing anything to <code>locations</code>. These
'markless' footnotes will precede the other footnotes in the footer section.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt;= "2015-01-05" &amp; date &lt;="2015-01-10") |&gt;
  dplyr::select(-c(adj_close, volume, high, low)) |&gt;
  dplyr::mutate(change = close - open) |&gt;
  dplyr::arrange(date) |&gt;
  gt() |&gt;
  tab_header(title = "S&amp;P 500") |&gt;
  fmt_date(date_style = "m_day_year") |&gt;
  fmt_currency() |&gt;
  cols_width(everything() ~ px(150)) |&gt;
  tab_footnote(
    footnote = "More red days than green in this period.",
    locations = cells_column_labels(columns = change)
  ) |&gt;
  tab_footnote(
    footnote = "Lowest opening value.",
    locations = cells_body(columns = open, rows = 3),
  ) |&gt;
  tab_footnote(
    footnote = "Devastating losses on this day.",
    locations = cells_body(columns = change, rows = 1),
    placement = "right"
  ) |&gt;
  tab_footnote(footnote = "All values in USD.") |&gt;
  opt_footnote_marks(marks = "LETTERS") |&gt;
  opt_footnote_spec(spec_ref = "i[x]", spec_ftr = "x.")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_footnote_4.png" alt="This image of a table was generated from the fourth code example in the `tab_footnote()` help file." style="width:100%;">

<p>Aside from changing the footnote marks to consist of <code>"LETTERS"</code>, we've also
changed the way the marks are formatted. In our use of <code><a href="#topic+opt_footnote_spec">opt_footnote_spec()</a></code>,
the <code>spec_ref</code> option governs the footnote marks across the table. Here, we
describe marks that are italicized and set between square brackets (with
<code>"i[x]"</code>). The <code>spec_ftr</code> argument is used for the footer representation of
the footnote marks. As described in the example with <code>"x."</code>, it is rendered
as a footnote mark followed by a period.
</p>


<h3>Function ID</h3>

<p>2-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_header'>Add a table header</h2><span id='topic+tab_header'></span>

<h3>Description</h3>

<p>We can add a table header to the <strong>gt</strong> table with a title and even a
subtitle using <code>tab_header()</code>. A table header is an optional
table part that is positioned just above the column labels table part. We
have the flexibility to use Markdown or HTML formatting for the header's
title and subtitle with the <code><a href="#topic+md">md()</a></code> and <code><a href="#topic+html">html()</a></code> helper functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_header(data, title, subtitle = NULL, preheader = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_header_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_header_+3A_title">title</code></td>
<td>
<p><em>Header title</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>Text to be used in the table title. We can elect to use the <code><a href="#topic+md">md()</a></code> and
<code><a href="#topic+html">html()</a></code> helper functions to style the text as Markdown or to retain HTML
elements in the text.</p>
</td></tr>
<tr><td><code id="tab_header_+3A_subtitle">subtitle</code></td>
<td>
<p><em>Header subtitle</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Text to be used in the table subtitle. We can elect to use <code><a href="#topic+md">md()</a></code> or
<code><a href="#topic+html">html()</a></code> helper functions to style the text as Markdown or to retain HTML
elements in the text.</p>
</td></tr>
<tr><td><code id="tab_header_+3A_preheader">preheader</code></td>
<td>
<p><em>RTF preheader text</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Optional preheader content that is rendered above the table for RTF output.
Can be supplied as a vector of text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use a small portion of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table.
A header part can be added to the table with the <code>tab_header()</code> function.
We'll add a title and the optional subtitle as well. With <code><a href="#topic+md">md()</a></code>, we can
make sure the Markdown formatting is interpreted and transformed.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title = md("Data listing from **gtcars**"),
    subtitle = md("`gtcars` is an R dataset")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_header_1.png" alt="This image of a table was generated from the first code example in the `tab_header()` help file." style="width:100%;">

<p>If the table is intended solely as an HTML table, you could introduce your
own HTML elements into the header. You can even use the <strong>htmltools</strong> package
to help arrange and generate the HTML. Here's an example of that, where two
<code style="white-space: pre;">&#8288;&lt;div&gt;&#8288;</code> elements are placed in a <code>htmltools::tagList()</code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title =
      htmltools::tagList(
        htmltools::tags$div(
          htmltools::HTML(
            web_image("https://www.r-project.org/logo/Rlogo.png")
          ),
          style = htmltools::css(`text-align` = "center")
        ),
        htmltools::tags$div(
          "Data listing from ", htmltools::tags$strong("gtcars")
        )
      )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_header_2.png" alt="This image of a table was generated from the second code example in the `tab_header()` help file." style="width:100%;">

<p>If using HTML but doing something far simpler, we can wrap our title or
subtitle inside <code><a href="#topic+html">html()</a></code> to declare that the text provided is HTML.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_header(
    title = html("Data listing from &lt;strong&gt;gtcars&lt;/strong&gt;"),
    subtitle = html("From &lt;span style='color:red;'&gt;gtcars&lt;/span&gt;")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_header_3.png" alt="This image of a table was generated from the third code example in the `tab_header()` help file." style="width:100%;">

<p>Sometimes, aligning the heading elements to the left can improve the
presentation of a table. Here, we use the <code><a href="#topic+nuclides">nuclides</a></code> dataset to generate a
display of natural abundance values for several stable isotopes.
<code><a href="#topic+opt_align_table_header">opt_align_table_header()</a></code> is used with <code>align = "left"</code> to make it so the
title and subtitle are left aligned in the header area.
</p>
<div class="sourceCode r"><pre>nuclides |&gt;
  dplyr::filter(!is.na(abundance)) |&gt;
  dplyr::filter(abundance != 1) |&gt;
  dplyr::filter(z &gt;= 1 &amp; z &lt;= 8) |&gt;
  dplyr::mutate(element = paste0(element, ", **z = ", z, "**")) |&gt;
  dplyr::mutate(nuclide = gsub("[0-9]+$", "", nuclide)) |&gt;
  dplyr::select(nuclide, element, atomic_mass, abundance, abundance_uncert) |&gt;
  gt(
    rowname_col = "nuclide",
    groupname_col = "element",
    process_md = TRUE
  ) |&gt;
  tab_header(
    title = "Natural Abundance Values",
    subtitle = md("For elements having atomic numbers from `1` to `8`.")
  ) |&gt;
  tab_stubhead(label = "Isotope") |&gt;
  tab_stub_indent(
    rows = everything(),
    indent = 1
  ) |&gt;
  fmt_chem(columns = stub()) |&gt;
  fmt_number(
    columns = atomic_mass,
    decimals = 4,
    scale_by = 1 / 1e6
  ) |&gt;
  fmt_percent(
    columns = contains("abundance"),
    decimals = 4
  ) |&gt;
  cols_merge_uncert(
    col_val = abundance,
    col_uncert = abundance_uncert
  ) |&gt;
  cols_label_with(fn = function(x) tools::toTitleCase(gsub("_", " ", x))) |&gt;
  cols_width(
    stub() ~ px(70),
    atomic_mass ~ px(120),
    abundance ~ px(200)
  ) |&gt;
  opt_align_table_header(align = "left") |&gt;
  opt_vertical_padding(scale = 0.5)
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_header_4.png" alt="This image of a table was generated from the fourth code example in the `tab_header()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_info'>Understand what's been set inside of a <strong>gt</strong> table object</h2><span id='topic+tab_info'></span>

<h3>Description</h3>

<p>It can become increasingly difficult to recall the ID values associated with
different labels in a <strong>gt</strong> table. Further to this, there are also
situations where <strong>gt</strong> will generate ID values on your behalf (e.g., with
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim()</a></code>, etc.) while ensuring that duplicate ID values aren't
produced. For the latter case, it is impossible to know what those ID values
are unless one were to carefully examine to correct component of the <code>gt_tbl</code>
object.
</p>
<p>Because it's so essential to know these ID values for targeting purposes
(when styling with <code><a href="#topic+tab_style">tab_style()</a></code>, adding footnote marks with
<code><a href="#topic+tab_footnote">tab_footnote()</a></code>, etc.), the <code>tab_info()</code> function can help with all of this.
It summarizes (by location) all of the table's ID values and their associated
labels. The product is an informational <strong>gt</strong> table, designed for easy
retrieval of the necessary values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_info(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_info_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use a portion of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong> table. We'll
use <code><a href="#topic+tab_spanner">tab_spanner()</a></code> to group two columns together under a spanner column with
the ID and label <code>"performance"</code>. Finally, we can use<code>tab_info()</code> in a
separate, interactive statement so that we can inspect a table that
summarizes the ID values any associated label text for all parts of the table.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  gtcars |&gt;
  dplyr::select(model, year, starts_with("hp"), msrp) |&gt;
  dplyr::slice(1:4) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_spanner(
    label = "performance",
    columns = starts_with("hp")
  )

gt_tbl |&gt; tab_info()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_info_1.png" alt="This image of a table was generated from the first code example in the `tab_info()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_options'>Modify the table output options</h2><span id='topic+tab_options'></span>

<h3>Description</h3>

<p>Modify the options available in a table. These options are named by the
components, the subcomponents, and the element that can adjusted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_options(
  data,
  table.width = NULL,
  table.layout = NULL,
  table.align = NULL,
  table.margin.left = NULL,
  table.margin.right = NULL,
  table.background.color = NULL,
  table.additional_css = NULL,
  table.font.names = NULL,
  table.font.size = NULL,
  table.font.weight = NULL,
  table.font.style = NULL,
  table.font.color = NULL,
  table.font.color.light = NULL,
  table.border.top.style = NULL,
  table.border.top.width = NULL,
  table.border.top.color = NULL,
  table.border.right.style = NULL,
  table.border.right.width = NULL,
  table.border.right.color = NULL,
  table.border.bottom.style = NULL,
  table.border.bottom.width = NULL,
  table.border.bottom.color = NULL,
  table.border.left.style = NULL,
  table.border.left.width = NULL,
  table.border.left.color = NULL,
  heading.background.color = NULL,
  heading.align = NULL,
  heading.title.font.size = NULL,
  heading.title.font.weight = NULL,
  heading.subtitle.font.size = NULL,
  heading.subtitle.font.weight = NULL,
  heading.padding = NULL,
  heading.padding.horizontal = NULL,
  heading.border.bottom.style = NULL,
  heading.border.bottom.width = NULL,
  heading.border.bottom.color = NULL,
  heading.border.lr.style = NULL,
  heading.border.lr.width = NULL,
  heading.border.lr.color = NULL,
  column_labels.background.color = NULL,
  column_labels.font.size = NULL,
  column_labels.font.weight = NULL,
  column_labels.text_transform = NULL,
  column_labels.padding = NULL,
  column_labels.padding.horizontal = NULL,
  column_labels.vlines.style = NULL,
  column_labels.vlines.width = NULL,
  column_labels.vlines.color = NULL,
  column_labels.border.top.style = NULL,
  column_labels.border.top.width = NULL,
  column_labels.border.top.color = NULL,
  column_labels.border.bottom.style = NULL,
  column_labels.border.bottom.width = NULL,
  column_labels.border.bottom.color = NULL,
  column_labels.border.lr.style = NULL,
  column_labels.border.lr.width = NULL,
  column_labels.border.lr.color = NULL,
  column_labels.hidden = NULL,
  column_labels.units_pattern = NULL,
  row_group.background.color = NULL,
  row_group.font.size = NULL,
  row_group.font.weight = NULL,
  row_group.text_transform = NULL,
  row_group.padding = NULL,
  row_group.padding.horizontal = NULL,
  row_group.border.top.style = NULL,
  row_group.border.top.width = NULL,
  row_group.border.top.color = NULL,
  row_group.border.bottom.style = NULL,
  row_group.border.bottom.width = NULL,
  row_group.border.bottom.color = NULL,
  row_group.border.left.style = NULL,
  row_group.border.left.width = NULL,
  row_group.border.left.color = NULL,
  row_group.border.right.style = NULL,
  row_group.border.right.width = NULL,
  row_group.border.right.color = NULL,
  row_group.default_label = NULL,
  row_group.as_column = NULL,
  table_body.hlines.style = NULL,
  table_body.hlines.width = NULL,
  table_body.hlines.color = NULL,
  table_body.vlines.style = NULL,
  table_body.vlines.width = NULL,
  table_body.vlines.color = NULL,
  table_body.border.top.style = NULL,
  table_body.border.top.width = NULL,
  table_body.border.top.color = NULL,
  table_body.border.bottom.style = NULL,
  table_body.border.bottom.width = NULL,
  table_body.border.bottom.color = NULL,
  stub.background.color = NULL,
  stub.font.size = NULL,
  stub.font.weight = NULL,
  stub.text_transform = NULL,
  stub.border.style = NULL,
  stub.border.width = NULL,
  stub.border.color = NULL,
  stub.indent_length = NULL,
  stub_row_group.font.size = NULL,
  stub_row_group.font.weight = NULL,
  stub_row_group.text_transform = NULL,
  stub_row_group.border.style = NULL,
  stub_row_group.border.width = NULL,
  stub_row_group.border.color = NULL,
  data_row.padding = NULL,
  data_row.padding.horizontal = NULL,
  summary_row.background.color = NULL,
  summary_row.text_transform = NULL,
  summary_row.padding = NULL,
  summary_row.padding.horizontal = NULL,
  summary_row.border.style = NULL,
  summary_row.border.width = NULL,
  summary_row.border.color = NULL,
  grand_summary_row.background.color = NULL,
  grand_summary_row.text_transform = NULL,
  grand_summary_row.padding = NULL,
  grand_summary_row.padding.horizontal = NULL,
  grand_summary_row.border.style = NULL,
  grand_summary_row.border.width = NULL,
  grand_summary_row.border.color = NULL,
  footnotes.background.color = NULL,
  footnotes.font.size = NULL,
  footnotes.padding = NULL,
  footnotes.padding.horizontal = NULL,
  footnotes.border.bottom.style = NULL,
  footnotes.border.bottom.width = NULL,
  footnotes.border.bottom.color = NULL,
  footnotes.border.lr.style = NULL,
  footnotes.border.lr.width = NULL,
  footnotes.border.lr.color = NULL,
  footnotes.marks = NULL,
  footnotes.spec_ref = NULL,
  footnotes.spec_ftr = NULL,
  footnotes.multiline = NULL,
  footnotes.sep = NULL,
  source_notes.background.color = NULL,
  source_notes.font.size = NULL,
  source_notes.padding = NULL,
  source_notes.padding.horizontal = NULL,
  source_notes.border.bottom.style = NULL,
  source_notes.border.bottom.width = NULL,
  source_notes.border.bottom.color = NULL,
  source_notes.border.lr.style = NULL,
  source_notes.border.lr.width = NULL,
  source_notes.border.lr.color = NULL,
  source_notes.multiline = NULL,
  source_notes.sep = NULL,
  row.striping.background_color = NULL,
  row.striping.include_stub = NULL,
  row.striping.include_table_body = NULL,
  container.width = NULL,
  container.height = NULL,
  container.padding.x = NULL,
  container.padding.y = NULL,
  container.overflow.x = NULL,
  container.overflow.y = NULL,
  ihtml.active = NULL,
  ihtml.use_pagination = NULL,
  ihtml.use_pagination_info = NULL,
  ihtml.use_sorting = NULL,
  ihtml.use_search = NULL,
  ihtml.use_filters = NULL,
  ihtml.use_resizers = NULL,
  ihtml.use_highlight = NULL,
  ihtml.use_compact_mode = NULL,
  ihtml.use_text_wrapping = NULL,
  ihtml.use_page_size_select = NULL,
  ihtml.page_size_default = NULL,
  ihtml.page_size_values = NULL,
  ihtml.pagination_type = NULL,
  ihtml.height = NULL,
  page.orientation = NULL,
  page.numbering = NULL,
  page.header.use_tbl_headings = NULL,
  page.footer.use_tbl_notes = NULL,
  page.width = NULL,
  page.height = NULL,
  page.margin.left = NULL,
  page.margin.right = NULL,
  page.margin.top = NULL,
  page.margin.bottom = NULL,
  page.header.height = NULL,
  page.footer.height = NULL,
  quarto.use_bootstrap = NULL,
  quarto.disable_processing = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_options_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.width">table.width</code></td>
<td>
<p><em>Table width</em>
</p>
<p>The table width can be specified as a single-length character with units of
pixels or as a percentage. If provided as a single-length numeric vector,
it is assumed that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code> and
<code><a href="#topic+pct">pct()</a></code> helper functions can also be used to pass in numeric values and
obtain values as pixel or percent units.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.layout">table.layout</code></td>
<td>
<p><em>The table-layout property</em>
</p>
<p>This is the value for the <code>table-layout</code> CSS style in the HTML output
context. By default, this is <code>"fixed"</code> but another valid option is
<code>"auto"</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.align">table.align</code></td>
<td>
<p><em>Horizontal alignment of table</em>
</p>
<p>The <code>table.align</code> option lets us set the horizontal alignment of the table
in its container. By default, this is <code>"center"</code>. Other options are
<code>"left"</code> and <code>"right"</code>. This will automatically set <code>table.margin.left</code> and
<code>table.margin.right</code> to the appropriate values.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.margin.left">table.margin.left</code>, <code id="tab_options_+3A_table.margin.right">table.margin.right</code></td>
<td>
<p><em>Left and right table margins</em>
</p>
<p>The size of the margins on the left and right of the table within the
container can be set with <code>table.margin.left</code> and <code>table.margin.right</code>. Can
be specified as a single-length character with units of pixels or as a
percentage. If provided as a single-length numeric vector, it is assumed
that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code> and <code><a href="#topic+pct">pct()</a></code> helper
functions can also be used to pass in numeric values and obtain values as
pixel or percent units. Using <code>table.margin.left</code> or <code>table.margin.right</code>
will overwrite any values set by <code>table.align</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.background.color">table.background.color</code>, <code id="tab_options_+3A_heading.background.color">heading.background.color</code>, <code id="tab_options_+3A_column_labels.background.color">column_labels.background.color</code>, <code id="tab_options_+3A_row_group.background.color">row_group.background.color</code>, <code id="tab_options_+3A_stub.background.color">stub.background.color</code>, <code id="tab_options_+3A_summary_row.background.color">summary_row.background.color</code>, <code id="tab_options_+3A_grand_summary_row.background.color">grand_summary_row.background.color</code>, <code id="tab_options_+3A_footnotes.background.color">footnotes.background.color</code>, <code id="tab_options_+3A_source_notes.background.color">source_notes.background.color</code></td>
<td>
<p><em>Background colors</em>
</p>
<p>These options govern background colors for the parent element <code>table</code> and
the following child elements: <code>heading</code>, <code>column_labels</code>, <code>row_group</code>,
<code>stub</code>, <code>summary_row</code>, <code>grand_summary_row</code>, <code>footnotes</code>, and
<code>source_notes</code>. A color name or a hexadecimal color code should be
provided.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.additional_css">table.additional_css</code></td>
<td>
<p><em>Additional CSS</em>
</p>
<p>The <code>table.additional_css</code> option can be used to supply an additional block
of CSS rules to be applied after the automatically generated table CSS.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.font.names">table.font.names</code></td>
<td>
<p><em>Default table fonts</em>
</p>
<p>The names of the fonts used for the table can be supplied through
<code>table.font.names</code>. This is a vector of several font names. If the first
font isn't available, then the next font is tried (and so on).</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.font.size">table.font.size</code>, <code id="tab_options_+3A_heading.title.font.size">heading.title.font.size</code>, <code id="tab_options_+3A_heading.subtitle.font.size">heading.subtitle.font.size</code>, <code id="tab_options_+3A_column_labels.font.size">column_labels.font.size</code>, <code id="tab_options_+3A_row_group.font.size">row_group.font.size</code>, <code id="tab_options_+3A_stub.font.size">stub.font.size</code>, <code id="tab_options_+3A_footnotes.font.size">footnotes.font.size</code>, <code id="tab_options_+3A_source_notes.font.size">source_notes.font.size</code></td>
<td>
<p><em>Table font sizes</em>
</p>
<p>The font sizes for the parent text element <code>table</code> and the following child
elements: <code>heading.title</code>, <code>heading.subtitle</code>, <code>column_labels</code>,
<code>row_group</code>, <code>footnotes</code>, and <code>source_notes</code>. Can be specified as a
single-length character vector with units of pixels (e.g., <code style="white-space: pre;">&#8288;12px&#8288;</code>) or as a
percentage (e.g., <code style="white-space: pre;">&#8288;80\%&#8288;</code>). If provided as a single-length numeric vector,
it is assumed that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code> and
<code><a href="#topic+pct">pct()</a></code> helper functions can also be used to pass in numeric values and
obtain values as pixel or percentage units.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.font.weight">table.font.weight</code>, <code id="tab_options_+3A_heading.title.font.weight">heading.title.font.weight</code>, <code id="tab_options_+3A_heading.subtitle.font.weight">heading.subtitle.font.weight</code>, <code id="tab_options_+3A_column_labels.font.weight">column_labels.font.weight</code>, <code id="tab_options_+3A_row_group.font.weight">row_group.font.weight</code>, <code id="tab_options_+3A_stub.font.weight">stub.font.weight</code></td>
<td>
<p><em>Table font weights</em>
</p>
<p>The font weights of the table, <code>heading.title</code>, <code>heading.subtitle</code>,
<code>column_labels</code>, <code>row_group</code>, and <code>stub</code> text elements. Can be a text-based
keyword such as <code>"normal"</code>, <code>"bold"</code>, <code>"lighter"</code>, <code>"bolder"</code>, or, a
numeric value between <code>1</code> and <code>1000</code>, inclusive. Note that only variable
fonts may support the numeric mapping of weight.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.font.style">table.font.style</code></td>
<td>
<p><em>Default table font style</em>
</p>
<p>This is the default font style for the table. Can be one of either
<code>"normal"</code>, <code>"italic"</code>, or <code>"oblique"</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.font.color">table.font.color</code>, <code id="tab_options_+3A_table.font.color.light">table.font.color.light</code></td>
<td>
<p><em>Default dark and light text for the table</em>
</p>
<p>These options define text colors used throughout the table. There are two
variants: <code>table.font.color</code> is for text overlaid on lighter background
colors, and <code>table.font.color.light</code> is automatically used when text needs
to be overlaid on darker background colors. A color name or a hexadecimal
color code should be provided.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table.border.top.style">table.border.top.style</code>, <code id="tab_options_+3A_table.border.top.width">table.border.top.width</code>, <code id="tab_options_+3A_table.border.top.color">table.border.top.color</code>, <code id="tab_options_+3A_table.border.right.style">table.border.right.style</code>, <code id="tab_options_+3A_table.border.right.width">table.border.right.width</code>, <code id="tab_options_+3A_table.border.right.color">table.border.right.color</code>, <code id="tab_options_+3A_table.border.bottom.style">table.border.bottom.style</code>, <code id="tab_options_+3A_table.border.bottom.width">table.border.bottom.width</code>, <code id="tab_options_+3A_table.border.bottom.color">table.border.bottom.color</code>, <code id="tab_options_+3A_table.border.left.style">table.border.left.style</code>, <code id="tab_options_+3A_table.border.left.width">table.border.left.width</code>, <code id="tab_options_+3A_table.border.left.color">table.border.left.color</code></td>
<td>
<p><em>Top border properties</em>
</p>
<p>The style, width, and color properties of the table's absolute top and
absolute bottom borders.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_heading.align">heading.align</code></td>
<td>
<p><em>Horizontal alignment in the table header</em>
</p>
<p>Controls the horizontal alignment of the heading title and subtitle. We can
either use <code>"center"</code>, <code>"left"</code>, or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_heading.padding">heading.padding</code>, <code id="tab_options_+3A_column_labels.padding">column_labels.padding</code>, <code id="tab_options_+3A_data_row.padding">data_row.padding</code>, <code id="tab_options_+3A_row_group.padding">row_group.padding</code>, <code id="tab_options_+3A_summary_row.padding">summary_row.padding</code>, <code id="tab_options_+3A_grand_summary_row.padding">grand_summary_row.padding</code>, <code id="tab_options_+3A_footnotes.padding">footnotes.padding</code>, <code id="tab_options_+3A_source_notes.padding">source_notes.padding</code></td>
<td>
<p><em>Vertical padding throughout the table</em>
</p>
<p>The amount of vertical padding to incorporate in the <code>heading</code> (title and
subtitle), the <code>column_labels</code> (this includes the column spanners), the row
group labels (<code>row_group.padding</code>), in the body/stub rows
(<code>data_row.padding</code>), in summary rows (<code>summary_row.padding</code> or
<code>grand_summary_row.padding</code>), or in the footnotes and source notes
(<code>footnotes.padding</code> and <code>source_notes.padding</code>).</p>
</td></tr>
<tr><td><code id="tab_options_+3A_heading.padding.horizontal">heading.padding.horizontal</code>, <code id="tab_options_+3A_column_labels.padding.horizontal">column_labels.padding.horizontal</code>, <code id="tab_options_+3A_data_row.padding.horizontal">data_row.padding.horizontal</code>, <code id="tab_options_+3A_row_group.padding.horizontal">row_group.padding.horizontal</code>, <code id="tab_options_+3A_summary_row.padding.horizontal">summary_row.padding.horizontal</code>, <code id="tab_options_+3A_grand_summary_row.padding.horizontal">grand_summary_row.padding.horizontal</code>, <code id="tab_options_+3A_footnotes.padding.horizontal">footnotes.padding.horizontal</code>, <code id="tab_options_+3A_source_notes.padding.horizontal">source_notes.padding.horizontal</code></td>
<td>
<p><em>Horizontal padding throughout the table</em>
</p>
<p>The amount of horizontal padding to incorporate in the <code>heading</code> (title and
subtitle), the <code>column_labels</code> (this includes the column spanners), the row
group labels (<code>row_group.padding.horizontal</code>), in the body/stub rows
(<code>data_row.padding</code>), in summary rows (<code>summary_row.padding.horizontal</code> or
<code>grand_summary_row.padding.horizontal</code>), or in the footnotes and source
notes (<code>footnotes.padding.horizontal</code> and
<code>source_notes.padding.horizontal</code>).</p>
</td></tr>
<tr><td><code id="tab_options_+3A_heading.border.bottom.style">heading.border.bottom.style</code>, <code id="tab_options_+3A_heading.border.bottom.width">heading.border.bottom.width</code>, <code id="tab_options_+3A_heading.border.bottom.color">heading.border.bottom.color</code></td>
<td>
<p><em>Properties of the header's bottom border</em>
</p>
<p>The style, width, and color properties of the header's bottom border. This
border shares space with that of the <code>column_labels</code> location. If the
<code>width</code> of this border is larger, then it will be the visible border.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_heading.border.lr.style">heading.border.lr.style</code>, <code id="tab_options_+3A_heading.border.lr.width">heading.border.lr.width</code>, <code id="tab_options_+3A_heading.border.lr.color">heading.border.lr.color</code></td>
<td>
<p><em>Properties of the header's left and right borders</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>heading</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.text_transform">column_labels.text_transform</code>, <code id="tab_options_+3A_row_group.text_transform">row_group.text_transform</code>, <code id="tab_options_+3A_stub.text_transform">stub.text_transform</code>, <code id="tab_options_+3A_summary_row.text_transform">summary_row.text_transform</code>, <code id="tab_options_+3A_grand_summary_row.text_transform">grand_summary_row.text_transform</code></td>
<td>
<p><em>Text transforms throughout the table</em>
</p>
<p>Options to apply text transformations to the <code>column_labels</code>, <code>row_group</code>,
<code>stub</code>, <code>summary_row</code>, and <code>grand_summary_row</code> text elements. Either of the
<code>"uppercase"</code>, <code>"lowercase"</code>, or <code>"capitalize"</code> keywords can be used.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.vlines.style">column_labels.vlines.style</code>, <code id="tab_options_+3A_column_labels.vlines.width">column_labels.vlines.width</code>, <code id="tab_options_+3A_column_labels.vlines.color">column_labels.vlines.color</code></td>
<td>
<p><em>Properties of all vertical lines by the column labels</em>
</p>
<p>The style, width, and color properties for all vertical lines ('vlines')
of the the <code>column_labels</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.border.top.style">column_labels.border.top.style</code>, <code id="tab_options_+3A_column_labels.border.top.width">column_labels.border.top.width</code>, <code id="tab_options_+3A_column_labels.border.top.color">column_labels.border.top.color</code></td>
<td>
<p><em>Properties of the border above the column labels</em>
</p>
<p>The style, width, and color properties for the top border of the
<code>column_labels</code> location. This border shares space with that of the
<code>heading</code> location. If the <code>width</code> of this border is larger, then it will
be the visible border.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.border.bottom.style">column_labels.border.bottom.style</code>, <code id="tab_options_+3A_column_labels.border.bottom.width">column_labels.border.bottom.width</code>, <code id="tab_options_+3A_column_labels.border.bottom.color">column_labels.border.bottom.color</code></td>
<td>
<p><em>Properties of the border below the column labels</em>
</p>
<p>The style, width, and color properties for the bottom border of the
<code>column_labels</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.border.lr.style">column_labels.border.lr.style</code>, <code id="tab_options_+3A_column_labels.border.lr.width">column_labels.border.lr.width</code>, <code id="tab_options_+3A_column_labels.border.lr.color">column_labels.border.lr.color</code></td>
<td>
<p><em>Properties of the left and right borders next to the column labels</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>column_labels</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.hidden">column_labels.hidden</code></td>
<td>
<p><em>Hiding all column labels</em>
</p>
<p>An option to hide the column labels. If providing <code>TRUE</code> then the entire
<code>column_labels</code> location won't be seen and the table header (if present)
will collapse downward.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_column_labels.units_pattern">column_labels.units_pattern</code></td>
<td>
<p><em>Pattern to combine column labels and units</em>
</p>
<p>The default pattern for combining column labels with any defined units for
column labels. The pattern is initialized as <code>"{1}, {2}"</code>, where <code>"{1}"</code>
refers to the column label text and <code>"{2}"</code> is the text related to the
associated units. When using <code><a href="#topic+cols_units">cols_units()</a></code>, there is the opportunity to
provide a specific pattern that overrides the units pattern unit. Further
to this, if specifying units directly in <code><a href="#topic+cols_label">cols_label()</a></code> (through the units
syntax surrounded by <code>"{{"</code>/<code>"}}"</code>) there is no need for a units pattern
and any value here will be disregarded.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_row_group.border.top.style">row_group.border.top.style</code>, <code id="tab_options_+3A_row_group.border.top.width">row_group.border.top.width</code>, <code id="tab_options_+3A_row_group.border.top.color">row_group.border.top.color</code>, <code id="tab_options_+3A_row_group.border.bottom.style">row_group.border.bottom.style</code>, <code id="tab_options_+3A_row_group.border.bottom.width">row_group.border.bottom.width</code>, <code id="tab_options_+3A_row_group.border.bottom.color">row_group.border.bottom.color</code>, <code id="tab_options_+3A_row_group.border.left.style">row_group.border.left.style</code>, <code id="tab_options_+3A_row_group.border.left.width">row_group.border.left.width</code>, <code id="tab_options_+3A_row_group.border.left.color">row_group.border.left.color</code>, <code id="tab_options_+3A_row_group.border.right.style">row_group.border.right.style</code>, <code id="tab_options_+3A_row_group.border.right.width">row_group.border.right.width</code>, <code id="tab_options_+3A_row_group.border.right.color">row_group.border.right.color</code></td>
<td>
<p><em>Border properties associated with the <code>row_group</code> location</em>
</p>
<p>The style, width, and color properties for all top, bottom, left, and right
borders of the <code>row_group</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_row_group.default_label">row_group.default_label</code></td>
<td>
<p><em>The default row group label</em>
</p>
<p>An option to set a default row group label for any rows not formally placed
in a row group named by <code>group</code> in any call of <code><a href="#topic+tab_row_group">tab_row_group()</a></code>. If this
is set as <code>NA_character_</code> and there are rows that haven't been placed into a
row group (where one or more row groups already exist), those rows will be
automatically placed into a row group without a label.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_row_group.as_column">row_group.as_column</code></td>
<td>
<p><em>Structure row groups with a column</em>
</p>
<p>How should row groups be structured? By default, they are separate rows
that lie above the each of the groups. Setting this to <code>TRUE</code> will
structure row group labels as a separate column in the table stub.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table_body.hlines.style">table_body.hlines.style</code>, <code id="tab_options_+3A_table_body.hlines.width">table_body.hlines.width</code>, <code id="tab_options_+3A_table_body.hlines.color">table_body.hlines.color</code>, <code id="tab_options_+3A_table_body.vlines.style">table_body.vlines.style</code>, <code id="tab_options_+3A_table_body.vlines.width">table_body.vlines.width</code>, <code id="tab_options_+3A_table_body.vlines.color">table_body.vlines.color</code></td>
<td>
<p><em>Properties of all horizontal and vertical lines in the table body</em>
</p>
<p>The style, width, and color properties for all horizontal lines ('hlines')
and vertical lines ('vlines') in the <code>table_body</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_table_body.border.top.style">table_body.border.top.style</code>, <code id="tab_options_+3A_table_body.border.top.width">table_body.border.top.width</code>, <code id="tab_options_+3A_table_body.border.top.color">table_body.border.top.color</code>, <code id="tab_options_+3A_table_body.border.bottom.style">table_body.border.bottom.style</code>, <code id="tab_options_+3A_table_body.border.bottom.width">table_body.border.bottom.width</code>, <code id="tab_options_+3A_table_body.border.bottom.color">table_body.border.bottom.color</code></td>
<td>
<p><em>Properties of top and bottom borders in the table body</em>
</p>
<p>The style, width, and color properties for all top and bottom borders of
the <code>table_body</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_stub.border.style">stub.border.style</code>, <code id="tab_options_+3A_stub.border.width">stub.border.width</code>, <code id="tab_options_+3A_stub.border.color">stub.border.color</code></td>
<td>
<p><em>Properties of the vertical border of the table stub</em>
</p>
<p>The style, width, and color properties for the vertical border of the table
stub.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_stub.indent_length">stub.indent_length</code></td>
<td>
<p><em>Width of each indentation</em>
</p>
<p>The width of each indentation level for row labels in the stub. The
indentation can be set by using <code><a href="#topic+tab_stub_indent">tab_stub_indent()</a></code>. By default this is
<code>"5px"</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_stub_row_group.font.size">stub_row_group.font.size</code>, <code id="tab_options_+3A_stub_row_group.font.weight">stub_row_group.font.weight</code>, <code id="tab_options_+3A_stub_row_group.text_transform">stub_row_group.text_transform</code>, <code id="tab_options_+3A_stub_row_group.border.style">stub_row_group.border.style</code>, <code id="tab_options_+3A_stub_row_group.border.width">stub_row_group.border.width</code>, <code id="tab_options_+3A_stub_row_group.border.color">stub_row_group.border.color</code></td>
<td>
<p><em>Properties of the row group column in the table stub</em>
</p>
<p>Options for the row group column in the table stub (made possible when
using <code>row_group.as_column = TRUE</code>). The defaults for these options mirror
that of the <code style="white-space: pre;">&#8288;stub.*&#8288;</code> variants (except for <code>stub_row_group.border.width</code>,
which is <code>"1px"</code> instead of <code>"2px"</code>).</p>
</td></tr>
<tr><td><code id="tab_options_+3A_summary_row.border.style">summary_row.border.style</code>, <code id="tab_options_+3A_summary_row.border.width">summary_row.border.width</code>, <code id="tab_options_+3A_summary_row.border.color">summary_row.border.color</code></td>
<td>
<p><em>Properties of horizontal borders belonging to summary rows</em>
</p>
<p>The style, width, and color properties for all horizontal borders of the
<code>summary_row</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_grand_summary_row.border.style">grand_summary_row.border.style</code>, <code id="tab_options_+3A_grand_summary_row.border.width">grand_summary_row.border.width</code>, <code id="tab_options_+3A_grand_summary_row.border.color">grand_summary_row.border.color</code></td>
<td>
<p><em>Properties of horizontal borders belonging to grand summary rows</em>
</p>
<p>The style, width, and color properties for the top borders of the
<code>grand_summary_row</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_footnotes.border.bottom.style">footnotes.border.bottom.style</code>, <code id="tab_options_+3A_footnotes.border.bottom.width">footnotes.border.bottom.width</code>, <code id="tab_options_+3A_footnotes.border.bottom.color">footnotes.border.bottom.color</code></td>
<td>
<p><em>Properties of the bottom border belonging to the footnotes</em>
</p>
<p>The style, width, and color properties for the bottom border of the
<code>footnotes</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_footnotes.border.lr.style">footnotes.border.lr.style</code>, <code id="tab_options_+3A_footnotes.border.lr.width">footnotes.border.lr.width</code>, <code id="tab_options_+3A_footnotes.border.lr.color">footnotes.border.lr.color</code></td>
<td>
<p><em>Properties of left and right borders belonging to the footnotes</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>footnotes</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_footnotes.marks">footnotes.marks</code></td>
<td>
<p><em>Sequence of footnote marks</em>
</p>
<p>The set of sequential marks used to reference and identify each of the
footnotes (same input as <code><a href="#topic+opt_footnote_marks">opt_footnote_marks()</a></code>). We can
supply a vector that represents the series of footnote marks. This vector
is recycled when its usage goes beyond the length of the set. At each
cycle, the marks are simply combined (e.g., <code>*</code> -&gt; <code style="white-space: pre;">&#8288;**&#8288;</code> -&gt; <code style="white-space: pre;">&#8288;***&#8288;</code>). The
option exists for providing keywords for certain types of footnote marks.
The keyword <code>"numbers"</code> (the default, indicating that we want to use
numeric marks). We can use lowercase <code>"letters"</code> or uppercase <code>"LETTERS"</code>.
There is the option for using a traditional symbol set where <code>"standard"</code>
provides four symbols, and, <code>"extended"</code> adds two more symbols, making six.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_footnotes.spec_ref">footnotes.spec_ref</code>, <code id="tab_options_+3A_footnotes.spec_ftr">footnotes.spec_ftr</code></td>
<td>
<p><em>Specifications for formatting of footnote marks</em>
</p>
<p>Optional specifications for formatting of footnote references
(<code>footnotes.spec_ref</code>) and their associated marks the footer section
(<code>footnotes.spec_ftr</code>) (same input as <code><a href="#topic+opt_footnote_spec">opt_footnote_spec()</a></code>).
This is a string containing specification control characters. The default
is the spec string <code>"^i"</code>, which is superscript text set in italics. Other
control characters that can be used are: (1) <code>"b"</code> for bold text, and (2)
<code>"("</code> / <code>")"</code> for the enclosure of footnote marks in parentheses.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_footnotes.multiline">footnotes.multiline</code>, <code id="tab_options_+3A_source_notes.multiline">source_notes.multiline</code></td>
<td>
<p><em>Typesetting of multiple footnotes and source notes</em>
</p>
<p>An option to either put footnotes and source notes in separate lines (the
default, or <code>TRUE</code>) or render them as a continuous line of text with
<code>footnotes.sep</code> providing the separator (by default <code>" "</code>) between notes.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_footnotes.sep">footnotes.sep</code>, <code id="tab_options_+3A_source_notes.sep">source_notes.sep</code></td>
<td>
<p><em>Separator characters between adjacent footnotes and source notes</em>
</p>
<p>The separating characters between adjacent footnotes and source notes in
their respective footer sections when rendered as a continuous line of text
(when <code>footnotes.multiline == FALSE</code>). The default value is a single space
character (<code>" "</code>).</p>
</td></tr>
<tr><td><code id="tab_options_+3A_source_notes.border.bottom.style">source_notes.border.bottom.style</code>, <code id="tab_options_+3A_source_notes.border.bottom.width">source_notes.border.bottom.width</code>, <code id="tab_options_+3A_source_notes.border.bottom.color">source_notes.border.bottom.color</code></td>
<td>
<p><em>Properties of the bottom border belonging to the source notes</em>
</p>
<p>The style, width, and color properties for the bottom border of the
<code>source_notes</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_source_notes.border.lr.style">source_notes.border.lr.style</code>, <code id="tab_options_+3A_source_notes.border.lr.width">source_notes.border.lr.width</code>, <code id="tab_options_+3A_source_notes.border.lr.color">source_notes.border.lr.color</code></td>
<td>
<p><em>Properties of left and right borders belonging to the source notes</em>
</p>
<p>The style, width, and color properties for the left and right borders of
the <code>source_notes</code> location.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_row.striping.background_color">row.striping.background_color</code></td>
<td>
<p><em>Background color for row stripes</em>
</p>
<p>The background color for striped table body rows. A color name or a
hexadecimal color code should be provided.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_row.striping.include_stub">row.striping.include_stub</code></td>
<td>
<p><em>Inclusion of the table stub for row stripes</em>
</p>
<p>An option for whether to include the stub when striping rows.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_row.striping.include_table_body">row.striping.include_table_body</code></td>
<td>
<p><em>Inclusion of the table body for row stripes</em>
</p>
<p>An option for whether to include the table body when striping rows.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_container.width">container.width</code>, <code id="tab_options_+3A_container.height">container.height</code>, <code id="tab_options_+3A_container.padding.x">container.padding.x</code>, <code id="tab_options_+3A_container.padding.y">container.padding.y</code></td>
<td>
<p><em>Table container dimensions and padding</em>
</p>
<p>The width and height of the table's container, and, the vertical and
horizontal padding of the table's container. The container width and height
can be specified with units of pixels or as a percentage. The padding is to
be specified as a length with units of pixels. If provided as a numeric
value, it is assumed that the value is given in units of pixels. The <code><a href="#topic+px">px()</a></code>
and <code><a href="#topic+pct">pct()</a></code> helper functions can also be used to pass in numeric values and
obtain values as pixel or percent units.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_container.overflow.x">container.overflow.x</code>, <code id="tab_options_+3A_container.overflow.y">container.overflow.y</code></td>
<td>
<p><em>Table container overflow</em>
</p>
<p>Options to enable scrolling in the horizontal and vertical directions when
the table content overflows the container dimensions. Using <code>TRUE</code> (the
default for both) means that horizontal or vertical scrolling is enabled to
view the entire table in those directions. With <code>FALSE</code>, the table may be
clipped if the table width or height exceeds the <code>container.width</code> or
<code>container.height</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.active">ihtml.active</code></td>
<td>
<p><em>Display interactive HTML table</em>
</p>
<p>The option for displaying an interactive version of an HTML table (rather
than an otherwise 'static' table). This enables the use of controls for
pagination, global search, filtering, and sorting. The individual features
are controlled by the other <code style="white-space: pre;">&#8288;table.*&#8288;</code> options. By default, the pagination
(<code>ihtml.use_pagination</code>) and sorting (<code>ihtml.use_sorting</code>) features are
enabled. The <code>ihtml.active</code> option, however, is <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_pagination">ihtml.use_pagination</code>, <code id="tab_options_+3A_ihtml.use_pagination_info">ihtml.use_pagination_info</code></td>
<td>
<p><em>Use pagination</em>
</p>
<p>For interactive HTML output, the option for using pagination controls
(below the table body) can be controlled with <code>ihtml.use_pagination</code>. By
default, this is <code>TRUE</code> and it will allow the use to page through table
content. The informational display text regarding the current page can be
set with <code>ihtml.use_pagination_info</code> (which is <code>TRUE</code> by default).</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_sorting">ihtml.use_sorting</code></td>
<td>
<p><em>Provide column sorting controls</em>
</p>
<p>For interactive HTML output, the option to provide controls for sorting
column values. By default, this is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_search">ihtml.use_search</code></td>
<td>
<p><em>Provide a global search field</em>
</p>
<p>For interactive HTML output, an option that places a search field for
globally filtering rows to the requested content. By default, this is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_filters">ihtml.use_filters</code></td>
<td>
<p><em>Display filtering fields</em>
</p>
<p>For interactive HTML output, this places search fields below each column
header and allows for filtering by column. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_resizers">ihtml.use_resizers</code></td>
<td>
<p><em>Allow column resizing</em>
</p>
<p>For interactive HTML output, this allows for interactive resizing of
columns. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_highlight">ihtml.use_highlight</code></td>
<td>
<p><em>Enable row highlighting on hover</em>
</p>
<p>For interactive HTML output, this highlights individual rows upon hover. By
default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_compact_mode">ihtml.use_compact_mode</code></td>
<td>
<p><em>Use compact mode</em>
</p>
<p>For interactive HTML output, an option to reduce vertical padding and thus
make the table consume less vertical space. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_text_wrapping">ihtml.use_text_wrapping</code></td>
<td>
<p><em>Use text wrapping</em>
</p>
<p>For interactive HTML output, an option to control text wrapping. By default
(<code>TRUE</code>), text will be wrapped to multiple lines; if <code>FALSE</code>, text will be
truncated to a single line.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.use_page_size_select">ihtml.use_page_size_select</code>, <code id="tab_options_+3A_ihtml.page_size_default">ihtml.page_size_default</code>, <code id="tab_options_+3A_ihtml.page_size_values">ihtml.page_size_values</code></td>
<td>
<p><em>Change page size properties</em>
</p>
<p>For interactive HTML output, <code>ihtml.use_page_size_select</code> provides the
option to display a dropdown menu for the number of rows to show per page
of data. By default, this is the vector <code>c(10, 25, 50, 100)</code> which
corresponds to options for <code>10</code>, <code>25</code>, <code>50</code>, and <code>100</code> rows of data per
page. To modify these page-size options, provide a numeric vector to
<code>ihtml.page_size_values</code>. The default page size (initially set as <code>10</code>) can
be modified with <code>ihtml.page_size_default</code> and this works whether or not
<code>ihtml.use_page_size_select</code> is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.pagination_type">ihtml.pagination_type</code></td>
<td>
<p><em>Change pagination mode</em>
</p>
<p>For interactive HTML output and when using pagination, one of three options
for presentation pagination controls. The default is <code>"numbers"</code>, where a
series of page-number buttons is presented along with 'previous' and 'next'
buttons. The <code>"jump"</code> option provides an input field with a stepper for the
page number. With <code>"simple"</code>, only the 'previous' and 'next' buttons are
displayed.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_ihtml.height">ihtml.height</code></td>
<td>
<p><em>Height of interactive HTML table</em>
</p>
<p>Height of the table in pixels. Defaults to <code>"auto"</code> for automatic sizing.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.orientation">page.orientation</code></td>
<td>
<p><em>Set RTF page orientation</em>
</p>
<p>For RTF output, this provides an two options for page
orientation: <code>"portrait"</code> (the default) and <code>"landscape"</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.numbering">page.numbering</code></td>
<td>
<p><em>Enable RTF page numbering</em>
</p>
<p>Within RTF output, should page numbering be displayed? By default, this is
set to <code>FALSE</code> but if <code>TRUE</code> then page numbering text will be added to the
document header.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.header.use_tbl_headings">page.header.use_tbl_headings</code></td>
<td>
<p><em>Place table headings in RTF page header</em>
</p>
<p>If <code>TRUE</code> then RTF output tables will migrate all table headings (including
the table title and all column labels) to the page header. This page header
content will repeat across pages. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.footer.use_tbl_notes">page.footer.use_tbl_notes</code></td>
<td>
<p><em>Place table footer in RTF page footer</em>
</p>
<p>If <code>TRUE</code> then RTF output tables will migrate all table footer content
(this includes footnotes and source notes) to the page footer. This page
footer content will repeat across pages. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.width">page.width</code>, <code id="tab_options_+3A_page.height">page.height</code></td>
<td>
<p><em>Set RTF page dimensions</em>
</p>
<p>The page width and height in the standard portrait orientation. This is for
RTF table output and the default values (in inches) are <code style="white-space: pre;">&#8288;8.5in&#8288;</code> and
<code style="white-space: pre;">&#8288;11.0in&#8288;</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.margin.left">page.margin.left</code>, <code id="tab_options_+3A_page.margin.right">page.margin.right</code>, <code id="tab_options_+3A_page.margin.top">page.margin.top</code>, <code id="tab_options_+3A_page.margin.bottom">page.margin.bottom</code></td>
<td>
<p><em>Set RTF page margins</em>
</p>
<p>For RTF table output, these options correspond to the left, right, top, and
bottom page margins. The default values for each of these is <code style="white-space: pre;">&#8288;1.0in&#8288;</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_page.header.height">page.header.height</code>, <code id="tab_options_+3A_page.footer.height">page.footer.height</code></td>
<td>
<p><em>Set RTF page header and footer distances</em>
</p>
<p>The heights of the page header and footer for RTF table outputs. Default
values for both are <code style="white-space: pre;">&#8288;0.5in&#8288;</code>.</p>
</td></tr>
<tr><td><code id="tab_options_+3A_quarto.use_bootstrap">quarto.use_bootstrap</code>, <code id="tab_options_+3A_quarto.disable_processing">quarto.disable_processing</code></td>
<td>
<p><em>Modify Quarto properties</em>
</p>
<p>When rendering a <strong>gt</strong> table with Quarto, the table can undergo
transformations to support advanced Quarto features. Setting
<code>quarto.use_bootstrap</code> to <code>TRUE</code> (<code>FALSE</code> by default) will allow Quarto to
add Bootstrap classes to the table, allowing those styles to permeate the
table. Quarto performs other alterations as well but they can all be
deactivated with <code>quarto.disable_processing = TRUE</code> (this option is <code>FALSE</code>
by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use select columns from the <code><a href="#topic+exibble">exibble</a></code> dataset to create a <strong>gt</strong> table with
a number of table parts added (using functions like <code><a href="#topic+summary_rows">summary_rows()</a></code>,
<code><a href="#topic+grand_summary_rows">grand_summary_rows()</a></code>, and more). We can use this <strong>gt</strong> object going
forward to demo some of <code>tab_options()</code> features.
</p>
<div class="sourceCode r"><pre>tab_1 &lt;-
  exibble |&gt;
  dplyr::select(-c(fctr, date, time, datetime)) |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group"
  ) |&gt;
  tab_header(
    title = md("Data listing from **exibble**"),
    subtitle = md("`exibble` is an R dataset")
  ) |&gt;
  fmt_number(columns = num) |&gt;
  fmt_currency(columns = currency) |&gt;
  tab_footnote(
    footnote = "Using commas for separators.",
    locations = cells_body(
      columns = num,
      rows = num &gt; 1000
    )
  ) |&gt;
  tab_footnote(
    footnote = "Using commas for separators.",
    locations = cells_body(
      columns = currency,
      rows = currency &gt; 1000
    )
  ) |&gt;
  tab_footnote(
    footnote = "Alphabetical fruit.",
    locations = cells_column_labels(columns = char)
  )

tab_1
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_options_1.png" alt="This image of a table was generated from the first code example in the `tab_options()` help file." style="width:100%;">

<p>We can modify the table width to be set as '100%'. In effect, this spans the
table to entirely fill the content width area. This is done with the
<code>table.width</code> option and we take advantage of the <code><a href="#topic+pct">pct()</a></code> helper function.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; tab_options(table.width = pct(100))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_options_2.png" alt="This image of a table was generated from the second code example in the `tab_options()` help file." style="width:100%;">

<p>With the <code>table.background.color</code> option, we can modify the table's
background color. Here, we want that to be <code>"lightcyan"</code>.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; tab_options(table.background.color = "lightcyan")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_options_3.png" alt="This image of a table was generated from the third code example in the `tab_options()` help file." style="width:100%;">

<p>We have footnotes residing in the footer section of <code>tab_1</code>. By default, each
footnote takes up a new line of text. This can be changed with the
<code>footnotes.multiline</code> option. Using <code>FALSE</code> with that means that all
footnotes will be placed into one continuous span of text. Speaking of
footnotes, we can change the 'marks' used to identify them. Here, we'll use
letters as the marks for footnote references (instead of the default, which
is numbers). This is accomplished with the <code>footnotes.marks</code> option, and we
are going to supply the <code>letters</code> vector to that.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt;
  tab_options(
    footnotes.multiline = FALSE,
    footnotes.marks = letters
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_options_4.png" alt="This image of a table was generated from the fourth code example in the `tab_options()` help file." style="width:100%;">

<p>The data rows of a table typically take up the most physical space but we
have some control over the extent of that. With the <code>data_row.padding</code>
option, it's possible to modify the top and bottom padding of data rows.
We'll do just that in the following example, reducing the padding to a value
of 5 px (note that we are using the <code><a href="#topic+px">px()</a></code> helper function here).
</p>
<div class="sourceCode r"><pre>tab_1 |&gt; tab_options(data_row.padding = px(5))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_options_5.png" alt="This image of a table was generated from the fifth code example in the `tab_options()` help file." style="width:100%;">

<p>The size of the title and the subtitle text in the header of the table can be
altered with the <code>heading.title.font.size</code> and <code>heading.subtitle.font.size</code>
options. Here, we'll use the <code>"small"</code> keyword as a value for both options.
</p>
<div class="sourceCode r"><pre>tab_1 |&gt;
  tab_options(
    heading.title.font.size = "small",
    heading.subtitle.font.size = "small"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_options_6.png" alt="This image of a table was generated from the sixth code example in the `tab_options()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_row_group'>Add a row group to a <strong>gt</strong> table</h2><span id='topic+tab_row_group'></span>

<h3>Description</h3>

<p>We can create a row group from a collection of rows with <code>tab_row_group()</code>.
This requires specification of the rows to be included, either by supplying
row labels, row indices, or through use of a select helper function like
<code><a href="#topic+starts_with">starts_with()</a></code>. To modify the order of row groups, we can use
<code><a href="#topic+row_group_order">row_group_order()</a></code>.
</p>
<p>To set a default row group label for any rows not formally placed in a row
group, we can use a separate call to <code style="white-space: pre;">&#8288;tab_options(row_group.default_label = &lt;label&gt;)&#8288;</code>. If this is not done and there are rows that haven't been placed
into a row group (where one or more row groups already exist), those rows
will be automatically placed into a row group without a label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_row_group(data, label, rows, id = label, others_label = NULL, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_row_group_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_row_group_+3A_label">label</code></td>
<td>
<p><em>Row group label text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The text to use for the row group label. We can optionally use <code><a href="#topic+md">md()</a></code> or
<code><a href="#topic+html">html()</a></code> to style the text as Markdown or to retain HTML elements in the text.</p>
</td></tr>
<tr><td><code id="tab_row_group_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The rows to be made components of the row group. We can supply a vector of
row ID values within <code>c()</code>, a vector of row indices, or use select helpers
(e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="tab_row_group_+3A_id">id</code></td>
<td>
<p><em>Row group ID</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>label</code>
</p>
<p>The ID for the row group. When accessing a row group through
<code><a href="#topic+cells_row_groups">cells_row_groups()</a></code> (when using <code><a href="#topic+tab_style">tab_style()</a></code> or <code><a href="#topic+tab_footnote">tab_footnote()</a></code>) the
<code>id</code> value is used as the reference (and not the <code>label</code>). If an <code>id</code> is
not explicitly provided here, it will be taken from the <code>label</code> value. It
is advisable to set an explicit <code>id</code> value if you plan to access this cell
in a later function call and the label text is complicated (e.g., contains
markup, is lengthy, or both). Finally, when providing an <code>id</code> value you
must ensure that it is unique across all ID values set for row groups (the
function will stop if <code>id</code> isn't unique).</p>
</td></tr>
<tr><td><code id="tab_row_group_+3A_others_label">others_label</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> Label for default row group</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>This argument is deprecated. Instead use
<code style="white-space: pre;">&#8288;tab_options(row_group.default_label = &lt;label&gt;)&#8288;</code>.</p>
</td></tr>
<tr><td><code id="tab_row_group_+3A_group">group</code></td>
<td>
<p><em><a href="base.html#topic+Deprecated">Deprecated</a> The group label</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>This argument is deprecated. Instead use <code>label</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Using a subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset, let's create a simple <strong>gt</strong> table
with row labels (from the <code>model</code> column) inside of a stub. This eight-row
table begins with no row groups at all but with a single use of
<code>tab_row_group()</code>, we can specify a row group that will contain any rows
where the car model begins with a number.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_1.png" alt="This image of a table was generated from the first code example in the `tab_row_group()` help file." style="width:100%;">

<p>This actually makes two row groups since there are row labels that don't
begin with a number. That second row group is a catch-all <code>NA</code> group, and it
doesn't display a label at all. Rather, it is set off from the other group
with a double line. This may be a preferable way to display the arrangement
of one distinct group and an 'others' or default group. If that's the case
but you'd like the order reversed, you can use <code><a href="#topic+row_group_order">row_group_order()</a></code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  ) |&gt;
  row_group_order(groups = c(NA, "numbered"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_2.png" alt="This image of a table was generated from the second code example in the `tab_row_group()` help file." style="width:100%;">

<p>Two more options include: (1) setting a default label for the 'others' group
(done through <code><a href="#topic+tab_options">tab_options()</a></code>), and (2) creating row groups until there are
no more unaccounted for rows. Let's try the first option in the next example:
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  ) |&gt;
  row_group_order(groups = c(NA, "numbered")) |&gt;
  tab_options(row_group.default_label = "others")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_3.png" alt="This image of a table was generated from the third code example in the `tab_row_group()` help file." style="width:100%;">

<p>The above use of the <code>row_group.default_label</code> in <code><a href="#topic+tab_options">tab_options()</a></code> gets the
job done and provides a default label. One drawback is that the default/<code>NA</code>
group doesn't have an ID, so it can't as easily be styled with <code><a href="#topic+tab_style">tab_style()</a></code>;
however, row groups have indices and the index for the <code>"others"</code> group here
is <code>1</code>.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = "numbered",
    rows = matches("^[0-9]")
  ) |&gt;
  row_group_order(groups = c(NA, "numbered")) |&gt;
  tab_options(row_group.default_label = "others") |&gt;
  tab_style(
    style = cell_fill(color = "bisque"),
    locations = cells_row_groups(groups = 1)
  ) |&gt;
  tab_style(
    style = cell_fill(color = "lightgreen"),
    locations = cells_row_groups(groups = "numbered")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_4.png" alt="This image of a table was generated from the fourth code example in the `tab_row_group()` help file." style="width:100%;">

<p>Now let's try using <code>tab_row_group()</code> with our <code><a href="#topic+gtcars">gtcars</a></code>-based table such
that all rows are formally assigned to different row groups. We'll define two
row groups with the (Markdown-infused) labels <code>"**Powerful Cars**"</code> and
<code>"**Super Powerful Cars**"</code>. The distinction between the groups is whether
<code>hp</code> is lesser or greater than <code>600</code> (and this is governed by the expressions
provided to the <code>rows</code> argument).
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_row_group(
    label = md("**Powerful Cars**"),
    rows = hp &lt; 600,
    id = "powerful"
  ) |&gt;
  tab_row_group(
    label = md("**Super Powerful Cars**"),
    rows = hp &gt;= 600,
    id = "v_powerful"
  ) |&gt;
  tab_style(
    style = cell_fill(color = "gray85"),
    locations = cells_row_groups(groups = "powerful")
  ) |&gt;
  tab_style(
    style = list(
      cell_fill(color = "gray95"),
      cell_text(size = "larger")
    ),
    locations = cells_row_groups(groups = "v_powerful")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_row_group_5.png" alt="This image of a table was generated from the fifth code example in the `tab_row_group()` help file." style="width:100%;">

<p>Setting the <code>id</code> values for each of the row groups makes things easier since
you will have clean, markup-free ID values to reference in later calls (as
was done with the <code><a href="#topic+tab_style">tab_style()</a></code> invocations in the example above). The use of
the <code><a href="#topic+md">md()</a></code> helper function makes it so that any Markdown provided for the
<code>label</code> of a row group is faithfully rendered.
</p>


<h3>Function ID</h3>

<p>2-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_source_note'>Add a source note citation</h2><span id='topic+tab_source_note'></span>

<h3>Description</h3>

<p>Add a source note to the footer part of the <strong>gt</strong> table. A source note is
useful for citing the data included in the table. Several can be added to the
footer, simply use multiple calls of <code>tab_source_note()</code> and they will be
inserted in the order provided. We can use Markdown formatting for the note,
or, if the table is intended for HTML output, we can include HTML formatting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_source_note(data, source_note)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_source_note_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_source_note_+3A_source_note">source_note</code></td>
<td>
<p><em>Source note text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>Text to be used in the source note. We can optionally use <code><a href="#topic+md">md()</a></code> and
<code><a href="#topic+html">html()</a></code> to style the text as Markdown or to retain HTML elements
in the text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>With three columns from the <code><a href="#topic+gtcars">gtcars</a></code> dataset, let's create a <strong>gt</strong> table.
We can use <code>tab_source_note()</code> to add a source note to the table
footer. Here we are citing the data source but this function can be used for
any text you'd prefer to display in the footer section.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(mfr, model, msrp) |&gt;
  dplyr::slice(1:5) |&gt;
  gt() |&gt;
  tab_source_note(source_note = "From edmunds.com")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_source_note_1.png" alt="This image of a table was generated from the first code example in the `tab_source_note()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_spanner'>Add a spanner label</h2><span id='topic+tab_spanner'></span>

<h3>Description</h3>

<p>With <code>tab_spanner()</code>, you can insert a spanner in the column labels part of a
<strong>gt</strong> table. This part of the table contains, at a minimum, column labels
and, optionally, an unlimited number of levels for spanners. A spanner will
occupy space over any number of contiguous column labels and it will have an
associated label and ID value. This function allows for mapping to be defined
by column names, existing spanner ID values, or a mixture of both. The
spanners are placed in the order of calling <code>tab_spanner()</code> so if a later call
uses the same columns in its definition (or even a subset) as the first
invocation, the second spanner will be overlaid atop the first. Options exist
for forcibly inserting a spanner underneath other (with <code>level</code> as space
permits) and with <code>replace</code>, which allows for full or partial spanner replacement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_spanner(
  data,
  label,
  columns = NULL,
  spanners = NULL,
  level = NULL,
  id = label,
  gather = TRUE,
  replace = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_spanner_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_label">label</code></td>
<td>
<p><em>Spanner label text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The text to use for the spanner label. We can optionally use <code><a href="#topic+md">md()</a></code> or
<code><a href="#topic+html">html()</a></code> to style the text as Markdown or to retain HTML elements
in the text.</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The columns to serve as components of the spanner. Can either be a series
of column names provided in <code>c()</code>, a vector of column indices, or a select
helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>. This argument works in
tandem with the <code>spanners</code> argument.</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_spanners">spanners</code></td>
<td>
<p><em>Spanners to target</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The spanners that should be spanned over, should they already be defined.
One or more spanner ID values (in quotes) can be supplied here. This
argument works in tandem with the <code>columns</code> argument.</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_level">level</code></td>
<td>
<p><em>Spanner level for insertion</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An explicit level to which the spanner should be placed. If not provided,
<strong>gt</strong> will choose the level based on the inputs provided within <code>columns</code>
and <code>spanners</code>, placing the spanner label where it will fit. The first
spanner level (right above the column labels) is <code>1</code>.
</p>
<p>In combination with <code><a href="#topic+opt_interactive">opt_interactive()</a></code> or <code>ihtml.active = TRUE</code> in
<code><a href="#topic+tab_options">tab_options()</a></code> only level <code>1</code> is supported, additional levels would be
discarded.</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_id">id</code></td>
<td>
<p><em>Spanner ID</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>label</code>
</p>
<p>The ID for the spanner. When accessing a spanner through the <code>spanners</code>
argument of <code>tab_spanner()</code> or <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code> (when using
<code><a href="#topic+tab_style">tab_style()</a></code> or <code><a href="#topic+tab_footnote">tab_footnote()</a></code>) the <code>id</code> value is used as the reference
(and not the <code>label</code>). If an <code>id</code> is not explicitly provided here, it will
be taken from the <code>label</code> value. It is advisable to set an explicit <code>id</code>
value if you plan to access this cell in a later function call and the
label text is complicated (e.g., contains markup, is lengthy, or both).
Finally, when providing an <code>id</code> value you must ensure that it is unique
across all ID values set for spanner labels (the function will stop if <code>id</code>
isn't unique).</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_gather">gather</code></td>
<td>
<p><em>Gather columns together</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to move the specified <code>columns</code> such that they are unified under
the spanner. Ordering of the moved-into-place columns will be preserved in
all cases. By default, this is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tab_spanner_+3A_replace">replace</code></td>
<td>
<p><em>Replace existing spanners</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should new spanners be allowed to partially or fully replace existing
spanners? (This is a possibility if setting spanners at an already
populated <code>level</code>.) By default, this is set to <code>FALSE</code> and an error will
occur if some replacement is attempted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting columns with the <code>columns</code> argument</h3>

<p>The <code>columns</code> argument allows us to target a subset of columns contained in
the table. We can declare column names in <code>c()</code> (with bare column names or
names in quotes) or we can use <strong>tidyselect</strong>-style expressions. This can be
as basic as supplying a select helper like <code>starts_with()</code>, or, providing a
more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>


<h3>Details on spanner placement</h3>

<p>Let's take a hypothetical table that includes the following column names in
order from left to right: <code>year</code>, <code>len.pop</code>, <code>m.pop</code>, <code>len.dens</code>, and
<code>m.dens</code>. We'd like to have some useful spanners, but don't want to have any
over the <code>year</code> column (so we'll avoid using that column when defining
spanners). Let's start by creating a schematic representation of what is
wanted in terms of spanners:
</p>
<div class="sourceCode default"><pre>       | ------- `"Two Provinces of Ireland"` ------ &lt;- level 2 spanner
       | ---- `"Leinster"` ---- | --- `"Munster"` -- &lt;- level 1 spanners
`year` | `len.pop` | `len.dens` | `m.pop` | `m.dens` &lt;- column names
----------------------------------------------------
</pre></div>
<p>To make this arrangement happen, we need three separate calls of
<code>tab_spanner()</code>:
</p>

<ul>
<li> <p><code>tab_spanner(., label = "Leinster", columns = starts_with("len"))</code>
</p>
</li>
<li> <p><code>tab_spanner(., label = "Munster", columns = starts_with("m"))</code>
</p>
</li>
<li> <p><code>tab_spanner(., label = "Two Provinces of Ireland", columns = -year)</code>
</p>
</li></ul>

<p>This will give us the spanners we need with the appropriate labels. The ID
values will be derived from the labels in this case, but they can directly
supplied via the <code>id</code> argument.
</p>
<p>An important thing to keep aware of is that the order of calls matters. The
first two can be in any order but the third one <em>must</em> happen last since we
build spanners from the bottom up. Also note that the first calls will
rearrange columns! This is by design as the <code>gather = TRUE</code> default will
purposefully gather columns together so that the columns will be united under
a single spanner. More complex definitions of spanners can be performed and
the <em>Examples</em> section demonstrates some of the more advanced calls of
<code>tab_spanner()</code>.
</p>
<p>As a final note, the column labels (by default deriving from the column
names) will likely need to change and that's especially true in the above
case. This can be done with either of <code><a href="#topic+cols_label">cols_label()</a></code> or <code><a href="#topic+cols_label_with">cols_label_with()</a></code>.
</p>


<h3>Incorporating units with <strong>gt</strong>'s units notation</h3>

<p>Measurement units are often seen as part of spanner labels and indeed it can
be much more straightforward to include them here rather than using other
devices to make readers aware of units for specific columns. Any text
pertaining units is to be defined alongside the spanner label. To do this, we
have to surround the portion of text in the label that corresponds to the
units definition with <code>"{{"</code>/<code>"}}"</code>.
</p>
<p>Now that we know how to mark text for units definition, we know need to know
how to write proper units with the notation. Such notation uses a succinct
method of writing units and it should feel somewhat familiar though it is
particular to the task at hand. Each unit is treated as a separate entity
(parentheses and other symbols included) and the addition of subscript text
and exponents is flexible and relatively easy to formulate. This is all best
shown with a few examples:
</p>

<ul>
<li> <p><code>"m/s"</code> and <code>"m / s"</code> both render as <code>"m/s"</code>
</p>
</li>
<li> <p><code>"m s^-1"</code> will appear with the <code>"-1"</code> exponent intact
</p>
</li>
<li> <p><code>"m /s"</code> gives the the same result, as <code>"/&lt;unit&gt;"</code> is equivalent to
<code>"&lt;unit&gt;^-1"</code>
</p>
</li>
<li> <p><code>"E_h"</code> will render an <code>"E"</code> with the <code>"h"</code> subscript
</p>
</li>
<li> <p><code>"t_i^2.5"</code> provides a <code>t</code> with an <code>"i"</code> subscript and a <code>"2.5"</code> exponent
</p>
</li>
<li> <p><code>"m[_0^2]"</code> will use overstriking to set both scripts vertically
</p>
</li>
<li> <p><code>"g/L %C6H12O6%"</code> uses a chemical formula (enclosed in a pair of <code>"%"</code>
characters) as a unit partial, and the formula will render correctly with
subscripted numbers
</p>
</li>
<li><p> Common units that are difficult to write using ASCII text may be implicitly
converted to the correct characters (e.g., the <code>"u"</code> in <code>"ug"</code>, <code>"um"</code>,
<code>"uL"</code>, and <code>"umol"</code> will be converted to the Greek <em>mu</em> symbol; <code>"degC"</code>
and <code>"degF"</code> will render a degree sign before the temperature unit)
</p>
</li>
<li><p> We can transform shorthand symbol/unit names enclosed in <code>":"</code> (e.g.,
<code>":angstrom:"</code>, <code>":ohm:"</code>, etc.) into proper symbols
</p>
</li>
<li><p> Greek letters can added by enclosing the letter name in <code>":"</code>; you can
use lowercase letters (e.g., <code>":beta:"</code>, <code>":sigma:"</code>, etc.) and uppercase
letters too (e.g., <code>":Alpha:"</code>, <code>":Zeta:"</code>, etc.)
</p>
</li>
<li><p> The components of a unit (unit name, subscript, and exponent) can be
fully or partially italicized/emboldened by surrounding text with <code>"*"</code> or
<code>"**"</code>
</p>
</li></ul>



<h3>Examples</h3>

<p>Let's create a <strong>gt</strong> table using a small portion of the <code><a href="#topic+gtcars">gtcars</a></code> dataset.
Over several columns (<code>hp</code>, <code>hp_rpm</code>, <code>trq</code>, <code>trq_rpm</code>, <code>mpg_c</code>, <code>mpg_h</code>)
we'll use <code>tab_spanner()</code> to add a spanner with the label <code>"performance"</code>.
This effectively groups together several columns related to car performance
under a unifying label.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(
    -mfr, -trim, bdy_style,
    -drivetrain, -trsmn, -ctry_origin
  ) |&gt;
  dplyr::slice(1:8) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_spanner(
    label = "performance",
    columns = c(
      hp, hp_rpm, trq, trq_rpm, mpg_c, mpg_h
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_1.png" alt="This image of a table was generated from the first code example in the `tab_spanner()` help file." style="width:100%;">

<p>With the default <code>gather = TRUE</code> option, columns selected for a particular
spanner will be moved so that there is no separation between them. This can
be seen with the example below that uses a subset of the <code><a href="#topic+towny">towny</a></code> dataset.
The starting column order is <code>name</code>, <code>latitude</code>, <code>longitude</code>,
<code>population_2016</code>, <code>density_2016</code>, <code>population_2021</code>, and <code>density_2021</code>. The
first two uses of <code>tab_spanner()</code> deal with making separate spanners for the
two population and two density columns. After their use, the columns are
moved to this new ordering: <code>name</code>, <code>latitude</code>, <code>longitude</code>,
<code>population_2016</code>, <code>population_2021</code>, <code>density_2016</code>, and <code>density_2021</code>. The
third and final call of <code>tab_spanner()</code> doesn't further affect the ordering
of columns.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::slice_max(population_2021, n = 5) |&gt;
  dplyr::select(
    name, latitude, longitude,
    ends_with("2016"), ends_with("2021")
  ) |&gt;
  gt() |&gt;
  tab_spanner(
    label = "Population",
    columns = starts_with("pop")
  ) |&gt;
  tab_spanner(
    label = "Density",
    columns = starts_with("den")
  ) |&gt;
  tab_spanner(
    label = md("*Location*"),
    columns = ends_with("itude"),
    id = "loc"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_2.png" alt="This image of a table was generated from the second code example in the `tab_spanner()` help file." style="width:100%;">

<p>While columns are moved, it is only the minimal amount of moving required
(pulling in columns from the right) to ensure that columns are gathered under
the appropriate spanners. With the last call, there are two more things to
note: (1) <code>label</code> values can use the <code><a href="#topic+md">md()</a></code> (or <code><a href="#topic+html">html()</a></code>) helper functions to
help create styled text, and (2) an <code>id</code> value may be supplied for reference
later (e.g., for styling with <code><a href="#topic+tab_style">tab_style()</a></code> or applying footnotes with
<code><a href="#topic+tab_footnote">tab_footnote()</a></code>).
</p>
<p>It's possible to stack multiple spanners atop each other with consecutive
calls of <code>tab_spanner()</code>. It's a bit like playing Tetris: putting a spanner
down anywhere there is another spanner (i.e., there are one or more shared
columns) means that second spanner will reside a level above the prior. Let's
look at a few examples to see how this works, and we'll also explore a few
lesser-known placement tricks. We'll use a cut down version of <code><a href="#topic+exibble">exibble</a></code>
for this, set up a few level-<code>1</code> spanners, and then place a level-<code>2</code> spanner
over two other spanners.
</p>
<div class="sourceCode r"><pre>exibble_narrow &lt;- exibble |&gt; dplyr::slice_head(n = 3)

exibble_narrow |&gt;
  gt() |&gt;
  tab_spanner(
    label = "Row Information",
    columns = c(row, group)
  ) |&gt;
  tab_spanner(
    label = "Numeric Values",
    columns = where(is.numeric),
    id = "num_spanner"
  ) |&gt;
  tab_spanner(
    label = "Text Values",
    columns = c(char, fctr),
    id = "text_spanner"
  ) |&gt;
  tab_spanner(
    label = "Numbers and Text",
    spanners = c("num_spanner", "text_spanner")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_3.png" alt="This image of a table was generated from the third code example in the `tab_spanner()` help file." style="width:100%;">

<p>In the above example, we used the <code>spanners</code> argument to define where the
<code>"Numbers and Text"</code>-labeled spanner should reside. For that, we supplied the
<code>"num_spanner"</code> and <code>"text_spanner"</code> ID values for the two spanners
associated with the <code>num</code>, <code>currency</code>, <code>char</code>, and <code>fctr</code> columns.
Alternatively, we could have given those column names to the <code>columns</code>
argument and achieved the same result. You could actually use a combination
of <code>spanners</code> and <code>columns</code> to define where the spanner should be placed.
Here is an example of just that:
</p>
<div class="sourceCode r"><pre>exibble_narrow_gt &lt;-
  exibble_narrow |&gt;
  gt() |&gt;
  tab_spanner(
    label = "Numeric Values",
    columns = where(is.numeric),
    id = "num_spanner"
  ) |&gt;
  tab_spanner(
    label = "Text Values",
    columns = c(char, fctr),
    id = "text_spanner"
  ) |&gt;
  tab_spanner(
    label = "Text, Dates, Times, Datetimes",
    columns = contains(c("date", "time")),
    spanners = "text_spanner"
  )

exibble_narrow_gt
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_4.png" alt="This image of a table was generated from the fourth code example in the `tab_spanner()` help file." style="width:100%;">

<p>And, again, we could have solely supplied all of the column names to
<code>columns</code> instead of using this hybrid approach, but it is interesting to
express the definition of spanners with this flexible combination.
</p>
<p>What if you wanted to extend the above example and place a spanner above the
<code>date</code>, <code>time</code>, and <code>datetime</code> columns? If you tried that in the manner as
exemplified above, the spanner will be placed in the third level of spanners:
</p>
<div class="sourceCode r"><pre>exibble_narrow_gt |&gt;
  tab_spanner(
    label = "Date and Time Columns",
    columns = contains(c("date", "time")),
    id = "date_time_spanner"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_5.png" alt="This image of a table was generated from the fifth code example in the `tab_spanner()` help file." style="width:100%;">

<p>Remember that the approach taken by <code>tab_spanner()</code> is to keep stacking atop
existing spanners. But, there is space next to the <code>"Text Values"</code> spanner on
the first level. You can either revise the order of <code>tab_spanner()</code> calls,
or, use the <code>level</code> argument to force the spanner into that level (so long
as there is space).
</p>
<div class="sourceCode r"><pre>exibble_narrow_gt |&gt;
  tab_spanner(
    label = "Date and Time Columns",
    columns = contains(c("date", "time")),
    level = 1,
    id = "date_time_spanner"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_6.png" alt="This image of a table was generated from the sixth code example in the `tab_spanner()` help file." style="width:100%;">

<p>That puts the spanner in the intended level. If there aren't free locations
available in the <code>level</code> specified you'll get an error stating which columns
cannot be used for the new spanner (this can be circumvented, if necessary,
with the <code>replace = TRUE</code> option). If you choose a level higher than the
maximum occupied, then the spanner will be dropped down. Again, these
behaviors are indicative of Tetris-like rules which tend to work well for the
application of spanners.
</p>
<p>Using a subset of the <code><a href="#topic+towny">towny</a></code> dataset, we can create an interesting <strong>gt</strong>
table. First, only certain columns are selected from the dataset, some
filtering of rows is done, rows are sorted, and then only the first 10 rows
are kept. After the data is introduced to <code><a href="#topic+gt">gt()</a></code>, we then apply some spanner
labels using two calls of <code><a href="#topic+tab_spanner">tab_spanner()</a></code>. In the second of those, we
incorporate unit notation text (within <code>"{{"</code>/<code>"}}"</code>) in the <code>label</code> to get a
display of nicely-formatted units.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(
    name, ends_with(c("2001", "2006")), matches("2001_2006")
  ) |&gt;
  dplyr::filter(population_2001 &gt; 100000) |&gt;
  dplyr::slice_max(pop_change_2001_2006_pct, n = 10) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  fmt_percent(columns = matches("change"), decimals = 1) |&gt;
  tab_spanner(
    label = "Population",
    columns = starts_with("population")
  ) |&gt;
  tab_spanner(
    label = "Density, {{*persons* km^-2}}",
    columns = starts_with("density")
  ) |&gt;
  cols_label(
    ends_with("01") ~ "2001",
    ends_with("06") ~ "2006",
    matches("change") ~ md("Population Change,&lt;br&gt;2001 to 2006")
  ) |&gt;
  cols_width(everything() ~ px(120))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_7.png" alt="This image of a table was generated from the seventh code example in the `tab_spanner()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tab_spanner_delim">tab_spanner_delim()</a></code> to create spanners and new column labels with
delimited column names.
</p>
<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_spanner_delim'>Create column labels and spanners via delimited column names</h2><span id='topic+tab_spanner_delim'></span>

<h3>Description</h3>

<p><code>tab_spanner_delim()</code> can take specially-crafted column names and generate
one or more spanners (and revise column labels at the same time). This is
done by splitting the column name by the specified delimiter text (<code>delim</code>)
and placing the fragments from top to bottom (i.e., higher-level spanners to
the column labels) or vice versa. Furthermore, neighboring text fragments on
different spanner levels that have the same text will be coalesced together.
For instance, having the three side-by-side column names <code>rating_1</code>,
<code>rating_2</code>, and <code>rating_3</code> will (in the default case at least) result in a
spanner with the label <code>"rating"</code> above columns with the labels <code>"1"</code>, <code>"2"</code>,
and <code>"3"</code>. There are many options in <code>cols_spanner_delim()</code> to slice and dice
delimited column names in different ways:
</p>

<ul>
<li><p> delimiter text: choose the delimiter text to use for the fragmentation of
column names into spanners with the <code>delim</code> argument
</p>
</li>
<li><p> direction and amount of splitting: we can choose to split <em>n</em> times
according to a <code>limit</code> argument, and, we get to specify from which side of
the column name the splitting should commence
</p>
</li>
<li><p> reversal of fragments: we can reverse the order the fragments we get from
the splitting procedure with the <code>reverse</code> argument
</p>
</li>
<li><p> column constraints: it's possible to constrain which columns in a <strong>gt</strong>
table should participate in spanner creation using vectors or
<strong>tidyselect</strong>-style expressions
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>tab_spanner_delim(
  data,
  delim,
  columns = everything(),
  split = c("last", "first"),
  limit = NULL,
  reverse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_spanner_delim_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_spanner_delim_+3A_delim">delim</code></td>
<td>
<p><em>Delimiter for splitting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The delimiter text to use to split one of more column names (i.e., those
that are targeted via the <code>columns</code> argument).</p>
</td></tr>
<tr><td><code id="tab_spanner_delim_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to consider for the splitting, relabeling, and spanner setting
operations. Can either be a series of column names provided in <code>c()</code>, a
vector of column indices, or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>,
<code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>).</p>
</td></tr>
<tr><td><code id="tab_spanner_delim_+3A_split">split</code></td>
<td>
<p><em>Splitting side</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[last|first]&#8288;</code> // <em>default:</em> <code>"last"</code>
</p>
<p>Should the delimiter splitting occur from the <code>"last"</code> instance of the
<code>delim</code> character or from the <code>"first"</code>? The default here uses the <code>"last"</code>
keyword, and splitting begins at the last instance of the delimiter in the
column name. This option only has some consequence when there is a <code>limit</code>
value applied that is lesser than the number of delimiter characters for a
given column name (i.e., number of splits is not the maximum possible
number).</p>
</td></tr>
<tr><td><code id="tab_spanner_delim_+3A_limit">limit</code></td>
<td>
<p><em>Limit for splitting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer|character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional limit to place on the splitting procedure. The default <code>NULL</code>
means that a column name will be split as many times are there are
delimiter characters. In other words, the default means there is no limit.
If an integer value is given to <code>limit</code> then splitting will cease at the
iteration given by <code>limit</code>. This works in tandem with <code>split</code> since we can
adjust the number of splits from either the right side (<code>split = "last"</code>)
or left side (<code>split = "first"</code>) of the column name.</p>
</td></tr>
<tr><td><code id="tab_spanner_delim_+3A_reverse">reverse</code></td>
<td>
<p><em>Reverse vector of split names</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the order of split names be reversed? By default, this is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Details on column splitting</h3>

<p>If we take a hypothetical table that includes the column names
<code>province.NL_ZH.pop</code>, <code>province.NL_ZH.gdp</code>, <code>province.NL_NH.pop</code>, and
<code>province.NL_NH.gdp</code>, we can see that we have a naming system that has a
well-defined structure. We start with the more general to the left
(<code>"province"</code>) and move to the more specific on the right (<code>"pop"</code>). If the
columns are in the table in this exact order, then things are in an ideal
state as the eventual spanner labels will form from this neighboring.
When using <code>tab_spanner_delim()</code> here with <code>delim</code> set as <code>"."</code> we get the
following text fragments:
</p>

<ul>
<li> <p><code>province.NL_ZH.pop</code> -&gt; <code>"province"</code>, <code>"NL_ZH"</code>, <code>"pop"</code>
</p>
</li>
<li> <p><code>province.NL_ZH.gdp</code> -&gt; <code>"province"</code>, <code>"NL_ZH"</code>, <code>"gdp"</code>
</p>
</li>
<li> <p><code>province.NL_NH.pop</code> -&gt; <code>"province"</code>, <code>"NL_NH"</code>, <code>"pop"</code>
</p>
</li>
<li> <p><code>province.NL_NH.gdp</code> -&gt; <code>"province"</code>, <code>"NL_NH"</code>, <code>"gdp"</code>
</p>
</li></ul>

<p>This gives us the following arrangement of column labels and spanner labels:
</p>
<div class="sourceCode default"><pre>--------- `"province"` ---------- &lt;- level 2 spanner
---`"NL_ZH"`--- | ---`"NL_NH"`--- &lt;- level 1 spanners
`"pop"`|`"gdp"` | `"pop"`|`"gdp"` &lt;- column labels
---------------------------------
</pre></div>
<p>There might be situations where the same delimiter is used throughout but
only the last instance requires a splitting. With a pair of column names like
<code>north_holland_pop</code> and <code>north_holland_area</code> you would only want <code>"pop"</code> and
<code>"area"</code> to be column labels underneath a single spanner (<code>"north_holland"</code>).
To achieve this, the <code>split</code> and <code>limit</code> arguments are used and the values
for each need to be <code>split = "last"</code> and <code>limit = 1</code>. This will give us
the following arrangement:
</p>
<div class="sourceCode default"><pre>--`"north_holland"`-- &lt;- level 1 spanner
 `"pop"`  |  `"area"` &lt;- column labels
---------------------
</pre></div>


<h3>Examples</h3>

<p>With a subset of the <code><a href="#topic+towny">towny</a></code> dataset, we can create a <strong>gt</strong> table and then
use <code>tab_spanner_delim()</code> to automatically generate column spanner labels.
In this case we have some column names in the form <code style="white-space: pre;">&#8288;population_&lt;year&gt;&#8288;</code>.
The underscore character is the delimiter that separates a common word
<code>"population"</code> and a year value. In this default way of splitting, fragments
to the right are lowest (really they become new column labels) and moving
left we get spanners. Let's have a look at how <code>tab_spanner_delim()</code> handles
these column names:
</p>
<div class="sourceCode r"><pre>towny_subset_gt &lt;-
  towny |&gt;
  dplyr::select(name, starts_with("population")) |&gt;
  dplyr::filter(grepl("^F", name)) |&gt;
  gt() |&gt;
  tab_spanner_delim(delim = "_") |&gt;
  fmt_integer()

towny_subset_gt
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_delim_1.png" alt="This image of a table was generated from the first code example in the `tab_spanner_delim()` help file." style="width:100%;">

<p>The spanner created through this use of <code>tab_spanner_delim()</code> is
automatically given an ID value by <strong>gt</strong>. Because it's hard to know what the
ID value is, we can use <code><a href="#topic+tab_info">tab_info()</a></code> to inspect the table's indices and ID
values.
</p>
<div class="sourceCode r"><pre>towny_subset_gt |&gt; tab_info()
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_delim_2.png" alt="This image of a table was generated from the second code example in the `tab_spanner_delim()` help file." style="width:100%;">

<p>From this informational table, we see that the ID for the spanner is
<code>"spanner-population_1996"</code>. Also, the columns are still accessible by the
original column names (<code>tab_spanner_delim()</code> did change their labels though).
Let's use <code><a href="#topic+tab_style">tab_style()</a></code> along with <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code> to add some
styling to the spanner label of the <code>towny_subset_gt</code> table.
</p>
<div class="sourceCode r"><pre>towny_subset_gt |&gt;
  tab_style(
    style = cell_text(weight = "bold", transform = "capitalize"),
    locations = cells_column_spanners(spanners = "spanner-population_1996")
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_delim_3.png" alt="This image of a table was generated from the third code example in the `tab_spanner_delim()` help file." style="width:100%;">

<p>We can plan ahead a bit and refashion the column names with <strong>dplyr</strong> before
introducing the table to <code><a href="#topic+gt">gt()</a></code> and <code>tab_spanner_delim()</code>. Here the column
labels have underscore delimiters where splitting is not wanted (so a period
or space character is used instead). The usage of <code>tab_spanner_delim()</code> gives
two levels of spanners. We can further touch up the labels after that with
<code><a href="#topic+cols_label_with">cols_label_with()</a></code> and <code><a href="#topic+text_transform">text_transform()</a></code>.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::slice_max(population_2021, n = 5) |&gt;
  dplyr::select(name, ends_with("pct")) |&gt;
  dplyr::rename_with(
    .fn = function(x) {
      x |&gt;
        sub("pop_change_", "Population Change.", x = _) |&gt;
        sub("_pct", ".pct", x = _)
    }
  ) |&gt;
  gt(rowname_col = "name") |&gt;
  tab_spanner_delim(delim = ".") |&gt;
  fmt_number(decimals = 1, scale_by = 100) |&gt;
  cols_label_with(
    fn = function(x) gsub("pct", "%", x)
  ) |&gt;
  text_transform(
    fn = function(x) gsub("_", " - ", x, fixed = TRUE),
    locations = cells_column_spanners()
  ) |&gt;
  tab_style(
    style = cell_text(align = "center"),
    locations = cells_column_labels()
  ) |&gt;
  tab_style(
    style = "padding-right: 36px;",
    locations = cells_body()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_delim_4.png" alt="This image of a table was generated from the fourth code example in the `tab_spanner_delim()` help file." style="width:100%;">

<p>With a summarized, filtered, and pivoted version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code>
dataset, we can create another <strong>gt</strong> table and then use <code>tab_spanner_delim()</code>
with the delimiter/separator also used in <code>tidyr::pivot_wider()</code>. We can also
process the generated column labels with <code><a href="#topic+cols_label_with">cols_label_with()</a></code>.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::select(name, date, type, price) |&gt;
  dplyr::group_by(name, date, type) |&gt;
  dplyr::summarize(
    revenue = sum(price),
    sold = dplyr::n(),
    .groups = "drop"
  ) |&gt;
  dplyr::filter(date %in% c("2015-01-01", "2015-01-02", "2015-01-03")) |&gt;
  dplyr::filter(type %in% c("classic", "veggie")) |&gt;
  tidyr::pivot_wider(
    names_from = date,
    names_sep = ".",
    values_from = c(revenue, sold),
    values_fn = sum,
    names_sort = TRUE
  ) |&gt;
  gt(rowname_col = "name", groupname_col = "type") |&gt;
  tab_spanner_delim(delim = ".") |&gt;
  sub_missing(missing_text = "") |&gt;
  fmt_currency(columns = starts_with("revenue")) |&gt;
  data_color(
    columns = starts_with("revenue"),
    method = "numeric",
    palette = c("white", "lightgreen")
  ) |&gt;
  cols_label_with(
    fn = function(x) {
      paste0(x, " (", vec_fmt_datetime(x, format = "E"), ")")
    }
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_spanner_delim_5.png" alt="This image of a table was generated from the fifth code example in the `tab_spanner_delim()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tab_spanner">tab_spanner()</a></code> to manually create spanners with more control over
spanner labels.
</p>
<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_stub_indent'>Control indentation of row labels in the stub</h2><span id='topic+tab_stub_indent'></span>

<h3>Description</h3>

<p>Indentation of row labels is an effective way for establishing structure in a
table stub. <code>tab_stub_indent()</code> allows for fine control over
row label indentation in the stub. We can use an explicit definition of an
indentation level (with a number between <code>0</code> and <code>5</code>), or, employ an
indentation directive using keywords (<code>"increase"</code>/<code>"decrease"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_stub_indent(data, rows, indent = "increase")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_stub_indent_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_stub_indent_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The rows to consider for the indentation change. We can supply a vector of
row ID values within <code>c()</code>, a vector of row indices, or use select helpers
here (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>,
<code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use expressions to filter
down to the rows we need (e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="tab_stub_indent_+3A_indent">indent</code></td>
<td>
<p><em>Indentation directive</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>"increase"</code>
</p>
<p>An indentation directive either as a keyword describing the indentation
change or as an explicit integer value for directly setting the indentation
level. The keyword <code>"increase"</code> (the default) will increase the indentation
level by one; <code>"decrease"</code> will do the same in the reverse direction. The
starting indentation level of <code>0</code> means no indentation and this values
serves as a lower bound. The upper bound for indentation is at level <code>5</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Compatibility of arguments with the <code>from_column()</code> helper function</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with the <code>indent</code> argument of <code>tab_stub_indent()</code>
to obtain varying parameter values from a specified column within the table.
This means that each row label could be indented a little bit differently.
</p>
<p>Please note that for this argument (<code>indent</code>), a <code><a href="#topic+from_column">from_column()</a></code> call needs
to reference a column that has data of the <code>numeric</code> or <code>integer</code> type.
Additional columns for parameter values can be generated with <code><a href="#topic+cols_add">cols_add()</a></code>
(if not already present). Columns that contain parameter data can also be
hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
</p>


<h3>Examples</h3>

<p>Using a subset of the <code><a href="#topic+photolysis">photolysis</a></code> dataset within a <strong>gt</strong> table, we can
provide some indentation to all of the row labels in the stub via
<code>tab_stub_indent()</code>. Here we provide an <code>indent</code> value of <code>3</code> for a very
prominent indentation that clearly shows that the row labels are subordinate
to the two row group labels in this table (<code>"inorganic reactions"</code> and
<code>"carbonyls"</code>).
</p>
<div class="sourceCode r"><pre>photolysis |&gt;
  dplyr::select(cmpd_name, products, type, l, m, n) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt(groupname_col = "type", rowname_col = "cmpd_name") |&gt;
  fmt_chem(columns = products) |&gt;
  fmt_scientific(columns = l) |&gt;
  tab_stub_indent(
    rows = everything(),
    indent = 3
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stub_indent_1.png" alt="This image of a table was generated from the first code example in the `tab_stub_indent()` help file." style="width:100%;">

<p>Let's use a summarized version of the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset to create a
another <strong>gt</strong> table with row groups and row labels. With <code><a href="#topic+summary_rows">summary_rows()</a></code>,
we'll generate summary rows at the top of each row group. Using
<code>tab_stub_indent()</code> we can add indentation to the row labels in the stub.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::group_by(type, size) |&gt;
  dplyr::summarize(
    sold = dplyr::n(),
    income = sum(price),
    .groups = "drop"
  ) |&gt;
  gt(rowname_col = "size", groupname_col = "type") |&gt;
  tab_header(title = "Pizzas Sold in 2015") |&gt;
  fmt_integer(columns = sold) |&gt;
  fmt_currency(columns = income) |&gt;
  summary_rows(
    fns = list(label = "All Sizes", fn = "sum"),
    side = "top",
    fmt = list(
      ~ fmt_integer(., columns = sold),
      ~ fmt_currency(., columns = income)
    )
  ) |&gt;
  tab_options(
    summary_row.background.color = "gray95",
    row_group.background.color = "#FFEFDB",
    row_group.as_column = TRUE
  ) |&gt;
  tab_stub_indent(
    rows = everything(),
    indent = 2
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stub_indent_2.png" alt="This image of a table was generated from the second code example in the `tab_stub_indent()` help file." style="width:100%;">

<p>Indentation of entries in the stub can be controlled by values within a
column. Here's an example of that using the <code><a href="#topic+constants">constants</a></code> dataset, where
variations of a row label are mutated to eliminate the common leading text
(replacing it with <code>"..."</code>). At the same time, the indentation for those rows
is set to <code>4</code> in the <code>indent</code> column (value is <code>0</code> otherwise). The
<code>tab_stub_indent()</code> statement uses <code><a href="#topic+from_column">from_column()</a></code>, which passes values from
the <code>indent</code> column to the namesake argument. We hide the <code>indent</code> column
from view by use of <code><a href="#topic+cols_hide">cols_hide()</a></code>.
</p>
<div class="sourceCode r"><pre>constants |&gt;
  dplyr::select(name, value, uncert, units) |&gt;
  dplyr::filter(
    grepl("^atomic mass constant", name) |
      grepl("^Rydberg constant", name) |
      grepl("^Bohr magneton", name)
  ) |&gt;
  dplyr::mutate(
    indent = ifelse(grepl("constant |magneton ", name), 4, 0),
    name = gsub(".*constant |.*magneton ", "...", name)
  ) |&gt;
  gt(rowname_col = "name") |&gt;
  tab_stubhead(label = "Physical Constant") |&gt;
  tab_stub_indent(
    rows = everything(),
    indent = from_column(column = "indent")
  ) |&gt;
  fmt_scientific(columns = c(value, uncert)) |&gt;
  fmt_units(columns = units) |&gt;
  cols_hide(columns = indent) |&gt;
  cols_label(
    value = "Value",
    uncert = "Uncertainty",
    units = "Units"
  ) |&gt;
  cols_width(
    stub() ~ px(250),
    c(value, uncert) ~ px(150),
    units ~ px(80)
  ) |&gt;
  tab_style(
    style = cell_text(indent = px(10)),
    locations = list(
      cells_column_labels(columns = units),
      cells_body(columns = units)
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stub_indent_3.png" alt="This image of a table was generated from the third code example in the `tab_stub_indent()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_stubhead'>Add label text to the stubhead</h2><span id='topic+tab_stubhead'></span>

<h3>Description</h3>

<p>We can add a label to the stubhead of a <strong>gt</strong> table with <code>tab_stubhead()</code>.
The stubhead is the lone part of the table that is positioned left of the
column labels, and above the stub. If a stub does not exist, then there is no
stubhead (so no visible change will be made when using this function in that
case). We have the flexibility to use Markdown formatting for the stubhead
label via the <code><a href="#topic+md">md()</a></code> helper function. Furthermore, if the table is intended
for HTML output, we can use HTML inside of <code><a href="#topic+html">html()</a></code> for the stubhead label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab_stubhead(data, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_stubhead_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_stubhead_+3A_label">label</code></td>
<td>
<p><em>Stubhead label text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The text to be used as the stubhead label. We can optionally use <code><a href="#topic+md">md()</a></code> or
<code><a href="#topic+html">html()</a></code> to style the text as Markdown or to retain HTML elements in the text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Using a small subset of the <code><a href="#topic+gtcars">gtcars</a></code> dataset, we can create a <strong>gt</strong> table
with row labels. Since we have row labels in the stub (via use of
<code>rowname_col = "model"</code> in the <code><a href="#topic+gt">gt()</a></code> function call) we have a stubhead, so,
let's add a stubhead label (<code>"car"</code>) with <code>tab_stubhead()</code> to
describe what's in the stub.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:5) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_stubhead(label = "car")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stubhead_1.png" alt="This image of a table was generated from the first code example in the `tab_stubhead()` help file." style="width:100%;">

<p>The stuhead can contain all sorts of interesting content. How about an icon
for a car? We can make this happen with help from the <strong>fontawesome</strong>
package.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::select(model, year, hp, trq) |&gt;
  dplyr::slice(1:5) |&gt;
  gt(rowname_col = "model") |&gt;
  tab_stubhead(label = fontawesome::fa("car"))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stubhead_2.png" alt="This image of a table was generated from the second code example in the `tab_stubhead()` help file." style="width:100%;">

<p>If the stub is two columns wide (made possible by using
<code>row_group_as_column = TRUE</code> in the <code><a href="#topic+gt">gt()</a></code> statement), the stubhead will be a
merged cell atop those two stub columns representing the row group and the
row label. Here's an example of that type of situation in a table that uses
the <code><a href="#topic+peeps">peeps</a></code> dataset.
</p>
<div class="sourceCode r"><pre>peeps |&gt;
  dplyr::filter(country %in% c("POL", "DEU")) |&gt;
  dplyr::group_by(country) |&gt;
  dplyr::filter(dplyr::row_number() %in% 1:5) |&gt;
  dplyr::ungroup() |&gt;
  dplyr::mutate(name = paste0(toupper(name_family), ", ", name_given)) |&gt;
  dplyr::select(name, address, city, postcode, country) |&gt;
  gt(
    rowname_col = "name",
    groupname_col = "country",
    row_group_as_column = TRUE
  ) |&gt;
  tab_stubhead(label = "Country Code / Person") |&gt;
  tab_style(
    style = cell_text(transform = "capitalize"),
    locations = cells_column_labels()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stubhead_3.png" alt="This image of a table was generated from the third code example in the `tab_stubhead()` help file." style="width:100%;">

<p>The stubhead cell and its text can be styled using <code><a href="#topic+tab_style">tab_style()</a></code> with
<code><a href="#topic+cells_stubhead">cells_stubhead()</a></code>. In this example, using the <code><a href="#topic+reactions">reactions</a></code> dataset, we
style the stubhead label so that it is vertically centered with text that is
highly emboldened.
</p>
<div class="sourceCode r"><pre>reactions |&gt;
  dplyr::filter(cmpd_type == "nitrophenol") |&gt;
  dplyr::select(cmpd_name, OH_k298, Cl_k298) |&gt;
  dplyr::filter(!(is.na(OH_k298) &amp; is.na(Cl_k298))) |&gt;
  gt(rowname_col = "cmpd_name") |&gt;
  tab_spanner(
    label = "Rate constant at 298 K, in {{cm^3 molecules^-1 s^-1}}",
    columns = ends_with("k298")
  ) |&gt;
  tab_stubhead(label = "Nitrophenol Compound") |&gt;
  fmt_scientific() |&gt;
  sub_missing() |&gt;
  cols_label_with(fn = function(x) sub("_k298", "", x)) |&gt;
  cols_width(everything() ~ px(200)) |&gt;
  tab_style(
    style = cell_text(v_align = "middle", weight = "800"),
    locations = cells_stubhead()
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_stubhead_4.png" alt="This image of a table was generated from the fourth code example in the `tab_stubhead()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_style'>Add custom styles to one or more cells</h2><span id='topic+tab_style'></span>

<h3>Description</h3>

<p>With <code>tab_style()</code> we can <a href="#topic+location-helper">target specific cells</a>
and apply styles to them. This is best done in conjunction with the helper
functions <code><a href="#topic+cell_text">cell_text()</a></code>, <code><a href="#topic+cell_fill">cell_fill()</a></code>, and <code><a href="#topic+cell_borders">cell_borders()</a></code>. Currently, this
function is focused on the application of styles for HTML output only
(as such, other output formats will ignore all <code>tab_style()</code> calls).
Using the aforementioned helper functions, here are some of the styles we can apply:
</p>

<ul>
<li><p> the background color of the cell (<code><a href="#topic+cell_fill">cell_fill()</a></code>: <code>color</code>)
</p>
</li>
<li><p> the cell's text color, font, and size (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>color</code>, <code>font</code>,
<code>size</code>)
</p>
</li>
<li><p> the text style (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>style</code>), enabling the use of italics or
oblique text.
</p>
</li>
<li><p> the text weight (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>weight</code>), allowing the use of thin to
bold text (the degree of choice is greater with variable fonts)
</p>
</li>
<li><p> the alignment and indentation of text (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>align</code> and
<code>indent</code>)
</p>
</li>
<li><p> the cell borders (<code><a href="#topic+cell_borders">cell_borders()</a></code>)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>tab_style(data, style, locations)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_style_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_style_+3A_style">style</code></td>
<td>
<p><em>Style declarations</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;style expressions&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The styles to use for the cells at the targeted <code>locations</code>. The
<code><a href="#topic+cell_text">cell_text()</a></code>, <code><a href="#topic+cell_fill">cell_fill()</a></code>, and <code><a href="#topic+cell_borders">cell_borders()</a></code> helper functions can be
used here to more easily generate valid styles. If using more than one
helper function to define styles, all calls must be enclosed in a <code><a href="base.html#topic+list">list()</a></code>.
Custom CSS declarations can be used for HTML output by including a
<code><a href="#topic+css">css()</a></code>-based statement as a list item.</p>
</td></tr>
<tr><td><code id="tab_style_+3A_locations">locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code><a href="#topic+location-helper">&lt;locations expressions&gt;</a></code> // <strong>required</strong>
</p>
<p>The cell or set of cells to be associated with the style. Supplying any of
the <code style="white-space: pre;">&#8288;cells_*()&#8288;</code> helper functions is a useful way to target the location
cells that are associated with the styling. These helper functions are:
<code><a href="#topic+cells_title">cells_title()</a></code>, <code><a href="#topic+cells_stubhead">cells_stubhead()</a></code>, <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>,
<code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>, <code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>, <code><a href="#topic+cells_stub">cells_stub()</a></code>,
<code><a href="#topic+cells_body">cells_body()</a></code>, <code><a href="#topic+cells_summary">cells_summary()</a></code>, <code><a href="#topic+cells_grand_summary">cells_grand_summary()</a></code>,
<code><a href="#topic+cells_stub_summary">cells_stub_summary()</a></code>, <code><a href="#topic+cells_stub_grand_summary">cells_stub_grand_summary()</a></code>, <code><a href="#topic+cells_footnotes">cells_footnotes()</a></code>,
and <code><a href="#topic+cells_source_notes">cells_source_notes()</a></code>. Additionally, we can enclose several
<code style="white-space: pre;">&#8288;cells_*()&#8288;</code> calls within a <code>list()</code> if we wish to apply styling to
different types of locations (e.g., body cells, row group labels, the table
title, etc.).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Using <code>from_column()</code> with <code style="white-space: pre;">&#8288;cell_*()&#8288;</code> styling functions</h3>

<p><code><a href="#topic+from_column">from_column()</a></code> can be used with certain arguments of <code><a href="#topic+cell_fill">cell_fill()</a></code> and
<code><a href="#topic+cell_text">cell_text()</a></code>; this allows you to get parameter values from a specified
column within the table. This means that body cells targeted for styling
could be formatted a little bit differently, using options taken from a
column. For <code><a href="#topic+cell_fill">cell_fill()</a></code>, we can use <code><a href="#topic+from_column">from_column()</a></code> for its <code>color</code>
argument. <code><a href="#topic+cell_text">cell_text()</a></code> allows the use of <code><a href="#topic+from_column">from_column()</a></code> in the following arguments:
</p>

<ul>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>align</code>
</p>
</li>
<li> <p><code>v_align</code>
</p>
</li>
<li> <p><code>style</code>
</p>
</li>
<li> <p><code>weight</code>
</p>
</li>
<li> <p><code>stretch</code>
</p>
</li>
<li> <p><code>decorate</code>
</p>
</li>
<li> <p><code>transform</code>
</p>
</li>
<li> <p><code>whitespace</code>
</p>
</li>
<li> <p><code>indent</code>
</p>
</li></ul>

<p>Please note that for all of the aforementioned arguments, a <code><a href="#topic+from_column">from_column()</a></code>
call needs to reference a column that has data of the correct type (this is
different for each argument). Additional columns for parameter values can be
generated with <code><a href="#topic+cols_add">cols_add()</a></code> (if not already present). Columns that contain
parameter data can also be hidden from final display with <code><a href="#topic+cols_hide">cols_hide()</a></code>.
</p>
<p>Importantly, a <code>tab_style()</code> call with any use of <code><a href="#topic+from_column">from_column()</a></code> within
styling expressions must only use <code><a href="#topic+cells_body">cells_body()</a></code> within <code>locations</code>. This is
because we cannot map multiple options taken from a column onto other
locations.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>num</code> and <code>currency</code> columns). With <code><a href="#topic+tab_style">tab_style()</a></code>
(called twice), we'll selectively add style to the values formatted by
<code><a href="#topic+fmt_number">fmt_number()</a></code>. In the <code>style</code> argument of each <code>tab_style()</code> call, we can
define multiple types of styling with <code><a href="#topic+cell_fill">cell_fill()</a></code> and <code><a href="#topic+cell_text">cell_text()</a></code>
(enclosed in a list). The cells to be targeted for styling require the use of
helpers like <code><a href="#topic+cells_body">cells_body()</a></code>, which is used here with different columns and
rows being targeted.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(num, currency) |&gt;
  gt() |&gt;
  fmt_number(decimals = 1) |&gt;
  tab_style(
    style = list(
      cell_fill(color = "lightcyan"),
      cell_text(weight = "bold")
      ),
    locations = cells_body(
      columns = num,
      rows = num &gt;= 5000
    )
  ) |&gt;
  tab_style(
    style = list(
      cell_fill(color = "#F9E3D6"),
      cell_text(style = "italic")
      ),
    locations = cells_body(
      columns = currency,
      rows = currency &lt; 100
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_1.png" alt="This image of a table was generated from the first code example in the `tab_style()` help file." style="width:100%;">

<p>With a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset, we'll create a different <strong>gt</strong>
table. Here, we'll color the background of entire rows of body cells and do
so on the basis of value expressions involving the <code>open</code> and <code>close</code>
columns.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(
    date &gt;= "2015-12-01" &amp;
    date &lt;= "2015-12-15"
  ) |&gt;
  dplyr::select(-c(adj_close, volume)) |&gt;
  gt() |&gt;
  tab_style(
    style = cell_fill(color = "lightgreen"),
    locations = cells_body(rows = close &gt; open)
  ) |&gt;
  tab_style(
    style = list(
      cell_fill(color = "red"),
      cell_text(color = "white")
      ),
    locations = cells_body(rows = open &gt; close)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_2.png" alt="This image of a table was generated from the second code example in the `tab_style()` help file." style="width:100%;">

<p>With another two-column table based on the <code><a href="#topic+exibble">exibble</a></code> dataset, let's create
a <strong>gt</strong> table. First, we'll replace missing values with <code><a href="#topic+sub_missing">sub_missing()</a></code>.
Next, we'll add styling to the <code>char</code> column. This styling will be
HTML-specific and it will involve (all within a list): (1) a <code><a href="#topic+cell_fill">cell_fill()</a></code>
call (to set a <code>"lightcyan"</code> background), and (2) a string containing a CSS
style declaration (<code>"font-variant: small-caps;"</code>).
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(char, fctr) |&gt;
  gt() |&gt;
  sub_missing() |&gt;
  tab_style(
    style = list(
      cell_fill(color = "lightcyan"),
      "font-variant: small-caps;"
    ),
    locations = cells_body(columns = char)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_3.png" alt="This image of a table was generated from the third code example in the `tab_style()` help file." style="width:100%;">

<p>In the following table based on the <code><a href="#topic+towny">towny</a></code> dataset, we'll use a larger
number of <code>tab_style()</code> calls with the aim of styling each location available
in the table. Over six separate uses of <code>tab_style()</code>, different body cells
are styled with background colors, the header and the footer also receive
background color fills, borders are applied to a column of body cells and
also to the column labels, and, the row labels in the stub receive a custom
text treatment.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::filter(csd_type == "city") |&gt;
  dplyr::select(
    name, land_area_km2, density_2016, density_2021,
    population_2016, population_2021
  ) |&gt;
  dplyr::slice_max(population_2021, n = 5) |&gt;
  gt(rowname_col = "name") |&gt;
  tab_header(
    title = md(paste("Largest Five", fontawesome::fa("city") , "in `towny`")),
    subtitle = "Changes in vital numbers from 2016 to 2021."
  ) |&gt;
  fmt_number(
    columns = starts_with("population"),
    n_sigfig = 3,
    suffixing = TRUE
  ) |&gt;
  fmt_integer(columns = starts_with("density")) |&gt;
  fmt_number(columns = land_area_km2, decimals = 1) |&gt;
  cols_merge(
    columns = starts_with("density"),
    pattern = paste("{1}", fontawesome::fa("arrow-right"), "{2}")
  ) |&gt;
  cols_merge(
    columns = starts_with("population"),
    pattern = paste("{1}", fontawesome::fa("arrow-right"), "{2}")
  ) |&gt;
  cols_label(
    land_area_km2 = md("Area, km^2^"),
    starts_with("density") ~ md("Density, ppl/km^2^"),
    starts_with("population") ~ "Population"
  ) |&gt;
  cols_align(align = "center", columns = -name) |&gt;
  cols_width(
    stub() ~ px(125),
    everything() ~ px(150)
  ) |&gt;
  tab_footnote(
    footnote = "Data was used from their respective census-year publications.",
    locations = cells_title(groups = "subtitle")
  ) |&gt;
  tab_source_note(source_note = md(
    "All figures are compiled in the `towny` dataset (in the **gt** package)."
  )) |&gt;
  opt_footnote_marks(marks = "letters") |&gt;
  tab_style(
    style = list(
      cell_fill(color = "gray95"),
      cell_borders(sides = c("l", "r"), color = "gray50", weight = px(3))
    ),
    locations = cells_body(columns = land_area_km2)
  ) |&gt;
  tab_style(
    style = cell_fill(color = "lightblue" |&gt; adjust_luminance(steps = 2)),
    locations = cells_body(columns = -land_area_km2)
  ) |&gt;
  tab_style(
    style = list(cell_fill(color = "gray35"), cell_text(color = "white")),
    locations = list(cells_footnotes(), cells_source_notes())
  ) |&gt;
  tab_style(
    style = cell_fill(color = "gray98"),
    locations = cells_title()
  ) |&gt;
  tab_style(
    style = cell_text(
      size = "smaller",
      weight = "bold",
      transform = "uppercase"
    ),
    locations = cells_stub()
  ) |&gt;
  tab_style(
    style = cell_borders(
      sides = c("t", "b"),
      color = "powderblue",
      weight = px(3)
    ),
    locations = list(cells_column_labels(), cells_stubhead())
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_4.png" alt="This image of a table was generated from the fourth code example in the `tab_style()` help file." style="width:100%;">

<p><code><a href="#topic+from_column">from_column()</a></code> can be used to get values from a column. We'll use it in the
next example, which begins with a table having a color name column and a
column with the associated hexadecimal color code. To show the color in a
separate column, we first create one with <code><a href="#topic+cols_add">cols_add()</a></code> (ensuring that missing
values are replaced with <code>""</code> via <code><a href="#topic+sub_missing">sub_missing()</a></code>). Then, <code>tab_style()</code> is
used to style that column, using <a href="#topic+from_column">color = from_column()</a>
within <code><a href="#topic+cell_fill">cell_fill()</a></code>.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  name = c(
    "red", "green", "blue", "yellow", "orange",
    "cyan", "purple", "magenta", "lime", "pink"
  ),
  hex = c(
    "#E6194B", "#3CB44B", "#4363D8", "#FFE119", "#F58231",
    "#42D4F4", "#911EB4", "#F032E6", "#BFEF45", "#FABED4"
  )
) |&gt;
  gt(rowname_col = "name") |&gt;
  cols_add(color = rep(NA_character_, 10)) |&gt;
  sub_missing(missing_text = "") |&gt;
  tab_style(
    style = cell_fill(color = from_column(column = "hex")),
    locations = cells_body(columns = color)
  ) |&gt;
  tab_style(
    style = cell_text(font = system_fonts(name = "monospace-code")),
    locations = cells_body()
  ) |&gt;
  opt_all_caps() |&gt;
  cols_width(everything() ~ px(100)) |&gt;
  tab_options(table_body.hlines.style = "none")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_5.png" alt="This image of a table was generated from the fifth code example in the `tab_style()` help file." style="width:100%;">

<p><code><a href="#topic+cell_text">cell_text()</a></code> also allows the use of <code><a href="#topic+from_column">from_column()</a></code> for many ofits arguments.
Let's take a small portion of data from <code><a href="#topic+sp500">sp500</a></code> and add an up or down arrow
based on the values in the <code>open</code> and <code>close</code> columns. Within <code><a href="#topic+cols_add">cols_add()</a></code> we
can create a new column (<code>dir</code>) with an expression to get either <code>"red"</code> or
<code>"green"</code> text from a comparison of the <code>open</code> and <code>close</code> values. These
values are transformed to up or down arrows with <code><a href="#topic+text_case_match">text_case_match()</a></code>, using
<strong>fontawesome</strong> icons in the end. However, the text values are still present
and can be used by <code><a href="#topic+cell_text">cell_text()</a></code> within <code>tab_style()</code>. <code><a href="#topic+from_column">from_column()</a></code> makes
it possible to use the text in the cells of the <code>dir</code> column as <code>color</code> input
values.
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::filter(date &gt; "2015-01-01") |&gt;
  dplyr::slice_min(date, n = 5) |&gt;
  dplyr::select(date, open, close) |&gt;
  gt(rowname_col = "date") |&gt;
  fmt_currency(columns = c(open, close)) |&gt;
  cols_add(dir = ifelse(close &lt; open, "red", "forestgreen")) |&gt;
  cols_label(dir = "") |&gt;
  text_case_match(
    "red" ~ fontawesome::fa("arrow-down"),
    "forestgreen" ~ fontawesome::fa("arrow-up")
  ) |&gt;
  tab_style(
    style = cell_text(color = from_column("dir")),
    locations = cells_body(columns = dir)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_6.png" alt="This image of a table was generated from the sixth code example in the `tab_style()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-10
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cell_text">cell_text()</a></code>, <code><a href="#topic+cell_fill">cell_fill()</a></code>, and <code><a href="#topic+cell_borders">cell_borders()</a></code> as helpers for
defining custom styles and <code><a href="#topic+cells_body">cells_body()</a></code> as one of many useful helper
functions for targeting the <a href="#topic+location-helper">locations</a> to be styled.
</p>
<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style_body">tab_style_body</a>()</code>
</p>

<hr>
<h2 id='tab_style_body'>Target cells in the table body and style accordingly</h2><span id='topic+tab_style_body'></span>

<h3>Description</h3>

<p>With <code>tab_style_body()</code> we can target cells through value, regex, and
custom matching rules and apply styles to them and their surrounding context
(i.e., styling an entire row or column wherein the match is found). Just as
with the general <code><a href="#topic+tab_style">tab_style()</a></code> function, this function is focused on the
application of styles for HTML output only (as such, other output formats
will ignore all <code>tab_style()</code> calls).
</p>
<p>With the collection of <code style="white-space: pre;">&#8288;cell_*()&#8288;</code> helper functions available in <strong>gt</strong>, we
can modify:
</p>

<ul>
<li><p> the background color of the cell (<code><a href="#topic+cell_fill">cell_fill()</a></code>: <code>color</code>)
</p>
</li>
<li><p> the cell's text color, font, and size (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>color</code>, <code>font</code>,
<code>size</code>)
</p>
</li>
<li><p> the text style (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>style</code>), enabling the use of italics or
oblique text.
</p>
</li>
<li><p> the text weight (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>weight</code>), allowing the use of thin to
bold text (the degree of choice is greater with variable fonts)
</p>
</li>
<li><p> the alignment and indentation of text (<code><a href="#topic+cell_text">cell_text()</a></code>: <code>align</code> and
<code>indent</code>)
</p>
</li>
<li><p> the cell borders (<code><a href="#topic+cell_borders">cell_borders()</a></code>)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>tab_style_body(
  data,
  style,
  columns = everything(),
  rows = everything(),
  values = NULL,
  pattern = NULL,
  fn = NULL,
  targets = "cell",
  extents = "body"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_style_body_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_style">style</code></td>
<td>
<p><em>Style declarations</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;style expressions&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The styles to use for the targeted cells. <code><a href="#topic+cell_text">cell_text()</a></code>, <code><a href="#topic+cell_fill">cell_fill()</a></code>,
and <code><a href="#topic+cell_borders">cell_borders()</a></code> can be used here to more easily generate valid styles.
If using more than one helper function to define styles, all calls must be
enclosed in a <code><a href="base.html#topic+list">list()</a></code>. Custom CSS declarations can be used for HTML output
by including a <code><a href="#topic+css">css()</a></code>-based statement as a list item.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_columns">columns</code></td>
<td>
<p><em>Columns to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;column-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>The columns to which the targeting operations are constrained.  Can either
be a series of column names provided in <code>c()</code>, a vector of column indices,
or a select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>,
<code><a href="#topic+contains">contains()</a></code>, <code><a href="#topic+matches">matches()</a></code>, <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). This argument
works in tandem with the <code>spanners</code> argument.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_rows">rows</code></td>
<td>
<p><em>Rows to target</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;row-targeting expression&gt;&#8288;</code> // <em>default:</em> <code>everything()</code>
</p>
<p>In conjunction with <code>columns</code>, we can specify which of their rows should
form a constraint for targeting operations. The default <code><a href="#topic+everything">everything()</a></code>
results in all rows in <code>columns</code> being formatted. Alternatively, we can
supply a vector of row IDs within <code>c()</code>, a vector of row indices, or a
select helper function (e.g. <code><a href="#topic+starts_with">starts_with()</a></code>, <code><a href="#topic+ends_with">ends_with()</a></code>, <code><a href="#topic+contains">contains()</a></code>,
<code><a href="#topic+matches">matches()</a></code>,  <code><a href="#topic+num_range">num_range()</a></code>, and <code><a href="#topic+everything">everything()</a></code>). We can also use
expressions to filter down to the rows we need
(e.g., <code style="white-space: pre;">&#8288;[colname_1] &gt; 100 &amp; [colname_2] &lt; 50&#8288;</code>).</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_values">values</code></td>
<td>
<p><em>Values for targeting</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character|numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The specific value or values that should be targeted for styling. If
<code>pattern</code> is also supplied then <code>values</code> will be ignored.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_pattern">pattern</code></td>
<td>
<p><em>Regex pattern for targeting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A regex pattern that can target solely those values in <code>character</code>-based
columns. If <code>values</code> is also supplied, <code>pattern</code> will take precedence.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_fn">fn</code></td>
<td>
<p><em>Function to return logical values</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A supplied function that operates on each cell of each column specified
through <code>columns</code> and <code>rows</code>. The function should be fashioned such that a
single logical value is returned. If either of <code>values</code> or <code>pattern</code> is
also supplied, <code>fn</code> will take precedence.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_targets">targets</code></td>
<td>
<p><em>Styling targets</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"cell"</code>
</p>
<p>A vector of styling target keywords to contain or expand the target of each
cell. By default, this is a vector just containing <code>"cell"</code>. However, the
keywords <code>"row"</code> and <code>"column"</code> may be used separately or in combination to
style the target cells' associated rows or columns.</p>
</td></tr>
<tr><td><code id="tab_style_body_+3A_extents">extents</code></td>
<td>
<p><em>Styling extents</em>
</p>
<p><code style="white-space: pre;">&#8288;vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"body"</code>
</p>
<p>A vector of locations to project styling. By default, this is a vector just
containing <code>"body"</code>, whereby styled rows or columns (facilitated via
inclusion of the <code>"row"</code> and <code>"column"</code> keywords in <code>targets</code>) will not
permeate into the stub. The additional keyword <code>"stub"</code> may be used alone
or in conjunction with <code>"body"</code> to project or expand the styling into the
stub.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Targeting cells with <code>columns</code> and <code>rows</code></h3>

<p>Targeting of values is done through <code>columns</code> and additionally by <code>rows</code> (if
nothing is provided for <code>rows</code> then entire columns are selected). The
<code>columns</code> argument allows us to constrain a subset of cells contained in the
resolved columns. We say resolved because aside from declaring column names
in <code>c()</code> (with bare column names or names in quotes) we can use
<strong>tidyselect</strong>-style expressions. This can be as basic as supplying a select
helper like <code>starts_with()</code>, or, providing a more complex incantation like
</p>
<p><code>where(~ is.numeric(.x) &amp;&amp; max(.x, na.rm = TRUE) &gt; 1E6)</code>
</p>
<p>which targets numeric columns that have a maximum value greater than
1,000,000 (excluding any <code>NA</code>s from consideration).
</p>
<p>By default all columns and rows are selected (with the <code>everything()</code>
defaults). Cell values that are incompatible with a given search will be
skipped over. So it's safe to select all columns with a type of search (only
those values that can be formatted will be formatted), but, you may not want
that. One strategy is to format the bulk of cell values with one formatting
function and then constrain the columns for later passes with other types of
formatting (the last formatting done to a cell is what you get in the final
output).
</p>
<p>Once the columns are targeted, we may also target the <code>rows</code> within those
columns. This can be done in a variety of ways. If a stub is present, then we
potentially have row identifiers. Those can be used much like column names in
the <code>columns</code>-targeting scenario. We can use simpler <strong>tidyselect</strong>-style
expressions (the select helpers should work well here) and we can use quoted
row identifiers in <code>c()</code>. It's also possible to use row indices (e.g.,
<code>c(3, 5, 6)</code>) though these index values must correspond to the row numbers of
the input data (the indices won't necessarily match those of rearranged rows
if row groups are present). One more type of expression is possible, an
expression that takes column values (can involve any of the available columns
in the table) and returns a logical vector.
</p>


<h3>Examples</h3>

<p>Use <code>exibble</code> to create a <strong>gt</strong> table with a stub and row groups. This
contains an assortment of values that could potentially undergo some styling
via <code>tab_style_body()</code>.
</p>
<div class="sourceCode r"><pre>gt_tbl &lt;-
  exibble |&gt;
  gt(
    rowname_col = "row",
    groupname_col = "group"
  )
</pre></div>
<p>Cells in the table body can be styled through specification of literal values
in the <code>values</code> argument of <code>tab_style_body()</code>. It's okay to search for
numerical, character, or logical values across all columns. Let's target the
values <code>49.95</code> and <code>33.33</code> and style those cells with an orange fill.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    style = cell_fill(color = "orange"),
    values = c(49.95, 33.33)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_1.png" alt="This image of a table was generated from the first code example in the `tab_style_body()` help file." style="width:100%;">

<p>Multiple styles can be combined in a <code>list</code>, here's an example of that using
the same cell targets:
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    style = list(
      cell_text(font = google_font("Inter"), color = "white"),
      cell_fill(color = "red"),
      cell_borders(
        sides = c("left", "right"),
        color = "steelblue",
        weight = px(4)
      )
    ),
    values = c(49.95, 33.33)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_2.png" alt="This image of a table was generated from the second code example in the `tab_style_body()` help file." style="width:100%;">

<p>You can opt to color entire rows or columns (or both, should you want to)
with those specific keywords in the <code>targets</code> argument. For the <code>49.95</code> value
we will style the entire row and with <code>33.33</code> the entire column will get the
same styling.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    style = cell_fill(color = "lightblue"),
    values = 49.95,
    targets = "row"
  ) |&gt;
  tab_style_body(
    style = cell_fill(color = "lightblue"),
    values = 33.33,
    targets = "column"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_3.png" alt="This image of a table was generated from the third code example in the `tab_style_body()` help file." style="width:100%;">

<p>In a minor variation to the prior example, it's possible to extend the
styling to other locations, or, entirely project the styling elsewhere. This
is done with the <code>extents</code> argument. Valid keywords that can be included in
the vector are: <code>"body"</code> (the default) and <code>"stub"</code>. Let's take the previous
example and extend the styling of the row into the stub.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    style = cell_fill(color = "lightblue"),
    values = 49.95,
    targets = "row",
    extents = c("body", "stub")
  ) |&gt;
  tab_style_body(
    style = cell_fill(color = "lightblue"),
    values = 33.33,
    targets = "column"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_4.png" alt="This image of a table was generated from the fourth code example in the `tab_style_body()` help file." style="width:100%;">

<p>We can also use the <code>pattern</code> argument to target cell values in
<code>character</code>-based columns. The <code>"fctr"</code> column is skipped because it is in
fact a factor-based column.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    style = cell_fill(color = "green"),
    pattern = "ne|na"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_5.png" alt="This image of a table was generated from the fifth code example in the `tab_style_body()` help file." style="width:100%;">

<p>For the most flexibility in targeting, it's best to use the <code>fn</code> argument.
The function you give to <code>fn</code> will be invoked separately on all cells so the
<code>columns</code> argument of <code>tab_style_body()</code> might be useful to limit which cells
should be evaluated. For this next example, the supplied function should only
be used on numeric values and we can make sure of this by using <code>columns = where(is.numeric)</code>.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    columns = where(is.numeric),
    style = cell_fill(color = "pink"),
    fn = function(x) x &gt;= 0 &amp;&amp; x &lt; 50
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_6.png" alt="This image of a table was generated from the sixth code example in the `tab_style_body()` help file." style="width:100%;">

<p>Styling every <code>NA</code> value in a table is also easily accomplished with the <code>fn</code>
argument by way of <code>is.na()</code>.
</p>
<div class="sourceCode r"><pre>gt_tbl |&gt;
  tab_style_body(
    style = cell_text(color = "red3"),
    fn = function(x) is.na(x)
  ) |&gt;
  sub_missing(missing_text = "Not Available")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_tab_style_body_7.png" alt="This image of a table was generated from the seventh code example in the `tab_style_body()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>2-11
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>Other part creation/modification functions: 
<code><a href="#topic+tab_caption">tab_caption</a>()</code>,
<code><a href="#topic+tab_footnote">tab_footnote</a>()</code>,
<code><a href="#topic+tab_header">tab_header</a>()</code>,
<code><a href="#topic+tab_info">tab_info</a>()</code>,
<code><a href="#topic+tab_options">tab_options</a>()</code>,
<code><a href="#topic+tab_row_group">tab_row_group</a>()</code>,
<code><a href="#topic+tab_source_note">tab_source_note</a>()</code>,
<code><a href="#topic+tab_spanner">tab_spanner</a>()</code>,
<code><a href="#topic+tab_spanner_delim">tab_spanner_delim</a>()</code>,
<code><a href="#topic+tab_stub_indent">tab_stub_indent</a>()</code>,
<code><a href="#topic+tab_stubhead">tab_stubhead</a>()</code>,
<code><a href="#topic+tab_style">tab_style</a>()</code>
</p>

<hr>
<h2 id='test_image'>Generate a path to a test image</h2><span id='topic+test_image'></span>

<h3>Description</h3>

<p>Two test images are available within the <strong>gt</strong> package. Both contain the
same imagery (sized at 200px by 200px) but one is a PNG file while the other
is an SVG file. This function is most useful when paired with <code><a href="#topic+local_image">local_image()</a></code>
since we test various sizes of the test image within that function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_image(type = c("png", "svg"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test_image_+3A_type">type</code></td>
<td>
<p><em>The image type</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[png|svg]&#8288;</code> // <em>default:</em> <code>"png"</code>
</p>
<p>The type of image to produce here can either be <code>"png"</code> (the default) or
<code>"svg"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with a single path to an image file.
</p>


<h3>Function ID</h3>

<p>9-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other image addition functions: 
<code><a href="#topic+ggplot_image">ggplot_image</a>()</code>,
<code><a href="#topic+local_image">local_image</a>()</code>,
<code><a href="#topic+web_image">web_image</a>()</code>
</p>

<hr>
<h2 id='text_case_match'>Perform whole or partial text replacements with a 'switch'-like approach</h2><span id='topic+text_case_match'></span>

<h3>Description</h3>

<p><code>text_case_match()</code> provides a useful interface for a approach to replacing
table cells that behaves much like a switch statement. The targeting of cell for transformation happens with the <code>.locations</code> argument.
Once overall targeting is handled, you need to supply a sequence of two-sided
formulas matching of the general form: <code style="white-space: pre;">&#8288;&lt;vector_old_text&gt; ~ &lt;new_text&gt;&#8288;</code>. In
the left hand side (LHS) there should be a character vector containing
strings to match on. The right hand side (RHS) should contain a single string
(or something coercible to a length one character vector). There's also the
<code>.replace</code> argument that changes the matching and replacing behavior. By
default, <code>text_case_match()</code> will try to match on entire strings and replace
those strings. This can be changed to a partial matching and replacement
strategy with the alternate option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_case_match(
  .data,
  ...,
  .default = NULL,
  .replace = c("all", "partial"),
  .locations = cells_body()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text_case_match_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="text_case_match_+3A_...">...</code></td>
<td>
<p><em>Matching expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A sequence of two-sided formulas matching this general construction:
<code style="white-space: pre;">&#8288;&lt;old_text&gt; ~ &lt;new_text&gt;&#8288;</code>. The left hand side (LHS) determines which values
to match on and it can be any length (allowing for <code>new_text</code> to replace
different values of <code>old_text</code>). The right hand side (RHS) provides the
replacement text (it must resolve to a single value of the <code>character</code>
class).</p>
</td></tr>
<tr><td><code id="text_case_match_+3A_.default">.default</code></td>
<td>
<p><em>Default replacement text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The replacement text to use when cell values aren't matched by any of the
LHS inputs. If <code>NULL</code>, the default, no replacement text will be used.</p>
</td></tr>
<tr><td><code id="text_case_match_+3A_.replace">.replace</code></td>
<td>
<p><em>Method for text replacement</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[all|partial]&#8288;</code> // <em>default:</em> <code>"all"</code>
</p>
<p>A choice in how the matching is to be done. The default <code>"all"</code> means that
the <code>old_text</code> (on the LHS of formulas given in <code>...</code>) must match the cell
text <em>completely</em>. With that option, the replacement will completely
replace that matched text. With <code>"partial"</code>, the match will occur in all
substrings of <code>old_text</code>. In this way, the replacements will act on those
matched substrings.</p>
</td></tr>
<tr><td><code id="text_case_match_+3A_.locations">.locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code><a href="#topic+location-helper">&lt;locations expressions&gt;</a></code> // <em>default:</em> <code>cells_body()</code>
</p>
<p>The cell or set of cells to be associated with the text transformation.
Only <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>, <code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>,
<code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>, <code><a href="#topic+cells_stub">cells_stub()</a></code>, and <code><a href="#topic+cells_body">cells_body()</a></code> can
be used here. We can enclose several of these calls within a <code>list()</code> if we
wish to make the transformation happen at different locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Let's use the <code><a href="#topic+exibble">exibble</a></code> dataset to create a simple, two-column <strong>gt</strong> table
(keeping only the <code>char</code> and <code>fctr</code> columns). In the <code>char</code> column, we'll
transform the <code>NA</code> value to <code>"elderberry"</code> using the <code>text_case_match()</code>
function. Over in the <code>fctr</code> column, some more sophisticated matches will be
performed using <code>text_case_match()</code>. That column has spelled out numbers and
we can produce these on the LHS with help from <code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num()</a></code>.
The replacements will contain descriptive text. In this last call of
<code>text_case_match()</code>, we use a <code>.default</code> to replace text for any of those
non-matched cases.
</p>
<div class="sourceCode r"><pre>exibble |&gt;
  dplyr::select(char, fctr) |&gt;
  gt() |&gt;
  text_case_match(
    NA ~ "elderberry",
    .locations = cells_body(columns = char)
  ) |&gt;
  text_case_match(
    vec_fmt_spelled_num(1:4) ~ "one to four",
    vec_fmt_spelled_num(5:6) ~ "five or six",
    .default = "seven or more",
    .locations = cells_body(columns = fctr)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_case_match_1.png" alt="This image of a table was generated from the first code example in the `text_case_match()` help file." style="width:100%;">

<p>Next, let's use a transformed version of the <code><a href="#topic+towny">towny</a></code> dataset to create a
<strong>gt</strong> table. Transform the text in the <code>csd_type</code> column using two-sided
formulas supplied to <code>text_case_match()</code>. We can replace matches on the LHS
with Fontawesome icons furnished by the <strong>fontawesome</strong> R package.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::select(name, csd_type, population_2021) |&gt;
  dplyr::filter(csd_type %in% c("city", "town")) |&gt;
  dplyr::slice_max(population_2021, n = 5, by = csd_type) |&gt;
  dplyr::arrange(csd_type) |&gt;
  gt() |&gt;
  fmt_integer() |&gt;
  text_case_match(
    "city" ~ fontawesome::fa("city"),
    "town" ~ fontawesome::fa("house-chimney")
  ) |&gt;
  cols_label(
    name = "City/Town",
    csd_type = "",
    population_2021 = "Population"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_case_match_2.png" alt="This image of a table was generated from the second code example in the `text_case_match()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>4-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other text transforming functions: 
<code><a href="#topic+text_case_when">text_case_when</a>()</code>,
<code><a href="#topic+text_replace">text_replace</a>()</code>,
<code><a href="#topic+text_transform">text_transform</a>()</code>
</p>

<hr>
<h2 id='text_case_when'>Perform whole text replacements using a 'case-when'-expression approach</h2><span id='topic+text_case_when'></span>

<h3>Description</h3>

<p><code>text_case_when()</code> provides a useful interface for a case-by-case approach to
replacing entire table cells. First off, you have to make sure you're
targeting the appropriate cells with the <code>.locations</code> argument. Following
that, you supply a sequence of two-sided formulas matching of the general
form: <code style="white-space: pre;">&#8288;&lt;logical_stmt&gt; ~ &lt;new_text&gt;&#8288;</code>. In the left hand side (LHS) there should
be a predicate statement that evaluates to a logical vector of length one
(i.e., either <code>TRUE</code> or <code>FALSE</code>). To refer to the values undergoing
transformation, you need to use the <code>x</code> variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_case_when(.data, ..., .default = NULL, .locations = cells_body())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text_case_when_+3A_.data">.data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="text_case_when_+3A_...">...</code></td>
<td>
<p><em>Matching expressions</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;multiple expressions&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A sequence of two-sided formulas. The left hand side (LHS)
determines which values match this case. The right hand side (RHS) provides
the replacement text (it must resolve to a value of the <code>character</code> class).
The LHS inputs must evaluate to logical vectors.</p>
</td></tr>
<tr><td><code id="text_case_when_+3A_.default">.default</code></td>
<td>
<p><em>Default replacement text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The replacement text to use when cell values aren't matched by any of the
LHS inputs. If <code>NULL</code>, the default, no replacement text will be used.</p>
</td></tr>
<tr><td><code id="text_case_when_+3A_.locations">.locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code><a href="#topic+location-helper">&lt;locations expressions&gt;</a></code> // <em>default:</em> <code>cells_body()</code>
</p>
<p>The cell or set of cells to be associated with the text transformation.
Only <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>, <code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>,
<code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>, <code><a href="#topic+cells_stub">cells_stub()</a></code>, and <code><a href="#topic+cells_body">cells_body()</a></code> can
be used here. We can enclose several of these calls within a <code>list()</code> if we
wish to make the transformation happen at different locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use a portion of the <code><a href="#topic+metro">metro</a></code> dataset to create a <strong>gt</strong> table. We'll use
<code>text_case_when()</code> to supply pairs of predicate statements and replacement
text. For the <code>connect_rer</code> column, we will perform a count of pattern
matches with <code>stringr::str_count()</code> and determine which cells have 1, 2, or 3
matched patterns. For each of these cases, descriptive replacement text is
provided. Here, we use a <code>.default</code> value to replace the non-matched
cases with an empty string (<code>""</code>). Finally, we use <code><a href="#topic+cols_label">cols_label()</a></code> to modify
the labels of the three columns.
</p>
<div class="sourceCode r"><pre>metro |&gt;
  dplyr::arrange(desc(passengers)) |&gt;
  dplyr::select(name, lines, connect_rer) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  gt() |&gt;
  text_case_when(
    stringr::str_count(x, pattern = "[ABCDE]") == 1 ~ "One connection.",
    stringr::str_count(x, pattern = "[ABCDE]") == 2 ~ "Two connections.",
    stringr::str_count(x, pattern = "[ABCDE]") == 3 ~ "Three connections.",
    .default = "", .locations = cells_body(columns = connect_rer)
  ) |&gt;
  cols_label(
    name = "Station",
    lines = "Lines Serviced",
    connect_rer = "RER Connections"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_case_when_1.png" alt="This image of a table was generated from the first code example in the `text_case_when()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>4-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other text transforming functions: 
<code><a href="#topic+text_case_match">text_case_match</a>()</code>,
<code><a href="#topic+text_replace">text_replace</a>()</code>,
<code><a href="#topic+text_transform">text_transform</a>()</code>
</p>

<hr>
<h2 id='text_replace'>Perform highly targeted text replacement with a regex pattern</h2><span id='topic+text_replace'></span>

<h3>Description</h3>

<p><code>text_replace()</code> provides a specialized interface for replacing text fragments
in table cells with literal text. You need to ensure that you're targeting
the appropriate cells with the <code>locations</code> argument. Once that is done, the
remaining two values to supply are for the regex pattern (<code>pattern</code>) and the
replacement for all matched text (<code>replacement</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_replace(data, pattern, replacement, locations = cells_body())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text_replace_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="text_replace_+3A_pattern">pattern</code></td>
<td>
<p><em>Regex pattern to match with</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A regex pattern used to target text fragments in the cells resolved in
locations.</p>
</td></tr>
<tr><td><code id="text_replace_+3A_replacement">replacement</code></td>
<td>
<p><em>Replacement text</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The replacement text for any matched text fragments.</p>
</td></tr>
<tr><td><code id="text_replace_+3A_locations">locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code><a href="#topic+location-helper">&lt;locations expressions&gt;</a></code> // <em>default:</em> <code>cells_body()</code>
</p>
<p>The cell or set of cells to be associated with the text transformation.
Only <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>, <code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>,
<code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>, <code><a href="#topic+cells_stub">cells_stub()</a></code>, and <code><a href="#topic+cells_body">cells_body()</a></code> can
be used here. We can enclose several of these calls within a <code>list()</code> if we
wish to make the transformation happen at different locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use the <code><a href="#topic+metro">metro</a></code> dataset to create a <strong>gt</strong> table. With <code><a href="#topic+cols_merge">cols_merge()</a></code>,
we'll merge the <code>name</code> and <code>caption</code> columns together but only if <code>caption</code>
doesn't have an <code>NA</code> value (the special <code>pattern</code> syntax of <code>"{1}&lt;&lt;({2})&gt;&gt;"</code>
takes care of this). This merged content is now part of the <code>name</code> column.
We'd like to modify this further wherever there is text in parentheses:
(1) make that text italicized, and (2) introduce a line break before the text
in parentheses. We can do this with <code>text_replace()</code>. The <code>pattern</code> value of
<code>"\\((.*?)\\)"</code> will match on text between parentheses, and the inner
<code>"(.*?)"</code> is a capture group. The <code>replacement</code> value of <code>"&lt;br&gt;(&lt;em&gt;\\1&lt;/em&gt;)"</code>
puts the capture group text <code>"\\1"</code> within <code style="white-space: pre;">&#8288;&lt;em&gt;&#8288;</code> tags, wraps literal
parentheses around it, and prepends a line break tag.
</p>
<div class="sourceCode r"><pre>metro |&gt;
  dplyr::select(name, caption, lines) |&gt;
  dplyr::slice(110:120) |&gt;
  gt() |&gt;
  cols_merge(
    columns = c(name, caption),
    pattern = "{1}&lt;&lt; ({2})&gt;&gt;"
  ) |&gt;
  text_replace(
    locations = cells_body(columns = name),
    pattern = "\\((.*?)\\)",
    replacement = "&lt;br&gt;(&lt;em&gt;\\1&lt;/em&gt;)"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_replace_1.png" alt="This image of a table was generated from the first code example in the `text_replace()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>4-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other text transforming functions: 
<code><a href="#topic+text_case_match">text_case_match</a>()</code>,
<code><a href="#topic+text_case_when">text_case_when</a>()</code>,
<code><a href="#topic+text_transform">text_transform</a>()</code>
</p>

<hr>
<h2 id='text_transform'>Perform text transformations with a custom function</h2><span id='topic+text_transform'></span>

<h3>Description</h3>

<p>Text transforming in <strong>gt</strong> is the act of modifying formatted strings in
targeted cells. <code>text_transform()</code> provides the most flexibility
of all the <code style="white-space: pre;">&#8288;text_*()&#8288;</code> functions in their family of functions. With it, you
target the cells to undergo modification in the <code>locations</code> argument while
also supplying a function to the <code>fn</code> argument. The function given to <code>fn</code>
should ideally at the very least take <code>x</code> as an input (it stands for the
character vector that is essentially the targeted cells) and return a
character vector of the same length as the input. Using the construction
<code>function(x) { .. }</code> for the function is recommended.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_transform(data, fn, locations = cells_body())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text_transform_+3A_data">data</code></td>
<td>
<p><em>The gt table data object</em>
</p>
<p><code style="white-space: pre;">&#8288;obj:&lt;gt_tbl&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="#topic+gt">gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="text_transform_+3A_fn">fn</code></td>
<td>
<p><em>Function for text transformation</em>
</p>
<p><code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The function to use for text transformation. It should include <code>x</code> as an
argument and return a character vector of the same length as the input <code>x</code>.</p>
</td></tr>
<tr><td><code id="text_transform_+3A_locations">locations</code></td>
<td>
<p><em>Locations to target</em>
</p>
<p><code><a href="#topic+location-helper">&lt;locations expressions&gt;</a></code> // <em>default:</em> <code>cells_body()</code>
</p>
<p>The cell or set of cells to be associated with the text transformation.
Only <code><a href="#topic+cells_column_spanners">cells_column_spanners()</a></code>, <code><a href="#topic+cells_column_labels">cells_column_labels()</a></code>,
<code><a href="#topic+cells_row_groups">cells_row_groups()</a></code>, <code><a href="#topic+cells_stub">cells_stub()</a></code>, and <code><a href="#topic+cells_body">cells_body()</a></code> can
be used here. We can enclose several of these calls within a <code>list()</code> if we
wish to make the transformation happen at different locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Examples</h3>

<p>Use a subset of the <code><a href="#topic+sp500">sp500</a></code> dataset to create a <strong>gt</strong> table. Transform the
text in the <code>date</code> column using a function supplied to <code>text_transform()</code>
(via the <code>fn</code> argument). Note that the <code>x</code> in the <code style="white-space: pre;">&#8288;fn = function (x)&#8288;</code> part
consists entirely of ISO 8601 date strings (which are acceptable as input to
<code><a href="#topic+vec_fmt_date">vec_fmt_date()</a></code> and <code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime()</a></code>).
</p>
<div class="sourceCode r"><pre>sp500 |&gt;
  dplyr::slice_head(n = 10) |&gt;
  dplyr::select(date, open, close) |&gt;
  dplyr::arrange(-dplyr::row_number()) |&gt;
  gt() |&gt;
  fmt_currency() |&gt;
  text_transform(
    fn = function(x) {
      paste0(
        "&lt;strong&gt;",
        vec_fmt_date(x, date_style = "m_day_year"),
        "&lt;/strong&gt;",
        "&amp;mdash;W",
        vec_fmt_datetime(x, format = "w")
      )
    },
    locations = cells_body(columns = date)
  ) |&gt;
  cols_label(
    date = "Date and Week",
    open = "Opening Price",
    close = "Closing Price"
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_transform_1.png" alt="This image of a table was generated from the first code example in the `text_transform()` help file." style="width:100%;">

<p>Let's use a summarized version of the <code><a href="#topic+gtcars">gtcars</a></code> dataset to create a <strong>gt</strong>
table. First, the numeric values in the <code>n</code> column are formatted as
spelled-out numbers with <code><a href="#topic+fmt_spelled_num">fmt_spelled_num()</a></code>. The output values are indeed
spelled out but exclusively with lowercase letters. We actually want these
words to begin with a capital letter and end with a period. To make this
possible, <code>text_transform()</code> will be used since it can modify
already-formatted text. Through the <code>fn</code> argument, we provide a custom
function that uses R's <code>toTitleCase()</code> operating on <code>x</code> (the numbers-as-text
strings) within <code>paste0()</code> so that a period can be properly placed.
</p>
<div class="sourceCode r"><pre>gtcars |&gt;
  dplyr::filter(ctry_origin %in% c("Germany", "Italy", "Japan")) |&gt;
  dplyr::count(mfr, ctry_origin, sort = TRUE) |&gt;
  dplyr::arrange(ctry_origin) |&gt;
  gt(rowname_col = "mfr", groupname_col = "ctry_origin") |&gt;
  cols_label(n = "No. of Entries") |&gt;
  tab_stub_indent(rows = everything(), indent = 2) |&gt;
  cols_align(align = "center", columns = n) |&gt;
  fmt_spelled_num() |&gt;
  text_transform(
    fn = function(x) {
      paste0(tools::toTitleCase(x), ".")
    },
    locations = cells_body(columns = n)
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_transform_2.png" alt="This image of a table was generated from the second code example in the `text_transform()` help file." style="width:100%;">

<p>There may be occasions where you'd want to remove all text. Here in this
example based on the <code><a href="#topic+pizzaplace">pizzaplace</a></code> dataset, we generate a <strong>gt</strong> table that
summarizes an entire year of data by colorizing the daily sales revenue.
Individual cell values are not needed here (since the encoding by color
suffices), so, <code>text_transform()</code> is used to turn every value to an empty
string: <code>""</code>.
</p>
<div class="sourceCode r"><pre>pizzaplace |&gt;
  dplyr::group_by(date) |&gt;
  dplyr::summarize(rev = sum(price)) |&gt;
  dplyr::ungroup() |&gt;
  dplyr::mutate(
    month = lubridate::month(date, label = TRUE),
    day_num = lubridate::mday(date)
  ) |&gt;
  dplyr::select(-date) |&gt;
  tidyr::pivot_wider(names_from = month, values_from = rev) |&gt;
  gt(rowname_col = "day_num") |&gt;
  data_color(
    method = "numeric",
    palette = "wesanderson::Zissou1",
    na_color = "white"
  ) |&gt;
  text_transform(
    fn = function(x) "",
    locations = cells_body()
  ) |&gt;
  opt_table_lines(extent = "none") |&gt;
  opt_all_caps() |&gt;
  cols_width(everything() ~ px(35)) |&gt;
  cols_align(align = "center")
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_text_transform_3.png" alt="This image of a table was generated from the third code example in the `text_transform()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>4-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other text transforming functions: 
<code><a href="#topic+text_case_match">text_case_match</a>()</code>,
<code><a href="#topic+text_case_when">text_case_when</a>()</code>,
<code><a href="#topic+text_replace">text_replace</a>()</code>
</p>

<hr>
<h2 id='towny'>Populations of all municipalities in Ontario from 1996 to 2021</h2><span id='topic+towny'></span>

<h3>Description</h3>

<p>A dataset containing census population data from six census years (1996 to
2021) for all 414 of Ontario's local municipalities. The Municipal Act of
Ontario (2001) defines a local municipality as &quot;a single-tier municipality or
a lower-tier municipality&quot;. There are 173 single-tier municipalities and 241
lower-tier municipalities representing 99 percent of Ontario's population
and 17 percent of its land use.
</p>
<p>In the <code>towny</code> dataset we include information specific to each municipality
such as location (in the <code>latitude</code> and <code>longitude</code> columns), their website
URLs, their classifications, and land area sizes according to 2021
boundaries. Additionally, there are computed columns containing population
density values for each census year and population change values from
adjacent census years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>towny
</code></pre>


<h3>Format</h3>

<p>A tibble with 414 rows and 25 variables:
</p>

<dl>
<dt>name</dt><dd><p>The name of the municipality.</p>
</dd>
<dt>website</dt><dd><p>The website for the municipality. This is <code>NA</code> if there isn't
an official site.</p>
</dd>
<dt>status</dt><dd><p>The status of the municipality. This is either <code>"lower-tier"</code>
or <code>"single-tier"</code>. A single-tier municipality, which takes on all municipal
duties outlined in the Municipal Act and other Provincial laws, is
independent of an upper-tier municipality. Part of an upper-tier municipality
is a lower-tier municipality. The upper-tier and lower-tier municipalities
are responsible for carrying out the duties laid out in the Municipal Act and
other provincial laws.</p>
</dd>
<dt>csd_type</dt><dd><p>The Census Subdivision Type. This can be one of <code>"village"</code>,
<code>"town"</code>, <code>"township"</code>, <code>"municipality"</code>, or <code>"city"</code>.</p>
</dd>
<dt>census_div</dt><dd><p>The Census division, of which there are 49. This is made up
of single-tier municipalities, regional municipalities, counties, and
districts.</p>
</dd>
<dt>latitude, longitude</dt><dd><p>The location of the municipality, given as
latitude and longitude values in decimal degrees.</p>
</dd>
<dt>land_area_km2</dt><dd><p>The total area of the local municipality in square
kilometers.</p>
</dd>
<dt>population_1996, population_2001, population_2006, population_2011,
population_2016, population_2021</dt><dd>
<p>Population values for each municipality from the 1996 to 2021 census years.</p>
</dd>
<dt>density_1996, density_2001, density_2006, density_2011, density_2016,
density_2021</dt><dd>
<p>Population density values, calculated as persons per square kilometer, for
each municipality from the 1996 to 2021 census years.</p>
</dd>
<dt>pop_change_1996_2001_pct, pop_change_2001_2006_pct,
pop_change_2006_2011_pct, pop_change_2011_2016_pct,
pop_change_2016_2021_pct</dt><dd>
<p>Population changes between adjacent pairs of census years, from 1996 to
2021.</p>
</dd>
</dl>



<h3>Examples</h3>

<p>Here is a glimpse at the data available in <code>towny</code>.
</p>
<div class="sourceCode r"><pre>dplyr::glimpse(towny)
#&gt; Rows: 414
#&gt; Columns: 25
#&gt; $ name                     &lt;chr&gt; "Addington Highlands", "Adelaide Metcalfe", "~
#&gt; $ website                  &lt;chr&gt; "https://addingtonhighlands.ca", "https://ade~
#&gt; $ status                   &lt;chr&gt; "lower-tier", "lower-tier", "lower-tier", "lo~
#&gt; $ csd_type                 &lt;chr&gt; "township", "township", "township", "township~
#&gt; $ census_div               &lt;chr&gt; "Lennox and Addington", "Middlesex", "Simcoe"~
#&gt; $ latitude                 &lt;dbl&gt; 45.00000, 42.95000, 44.13333, 45.52917, 43.85~
#&gt; $ longitude                &lt;dbl&gt; -77.25000, -81.70000, -79.93333, -76.89694, -~
#&gt; $ land_area_km2            &lt;dbl&gt; 1293.99, 331.11, 371.53, 519.59, 66.64, 116.6~
#&gt; $ population_1996          &lt;int&gt; 2429, 3128, 9359, 2837, 64430, 1027, 8315, 16~
#&gt; $ population_2001          &lt;int&gt; 2402, 3149, 10082, 2824, 73753, 956, 8593, 18~
#&gt; $ population_2006          &lt;int&gt; 2512, 3135, 10695, 2716, 90167, 958, 8654, 19~
#&gt; $ population_2011          &lt;int&gt; 2517, 3028, 10603, 2844, 109600, 864, 9196, 2~
#&gt; $ population_2016          &lt;int&gt; 2318, 2990, 10975, 2935, 119677, 969, 9680, 2~
#&gt; $ population_2021          &lt;int&gt; 2534, 3011, 10989, 2995, 126666, 954, 9949, 2~
#&gt; $ density_1996             &lt;dbl&gt; 1.88, 9.45, 25.19, 5.46, 966.84, 8.81, 21.22,~
#&gt; $ density_2001             &lt;dbl&gt; 1.86, 9.51, 27.14, 5.44, 1106.74, 8.20, 21.93~
#&gt; $ density_2006             &lt;dbl&gt; 1.94, 9.47, 28.79, 5.23, 1353.05, 8.22, 22.09~
#&gt; $ density_2011             &lt;dbl&gt; 1.95, 9.14, 28.54, 5.47, 1644.66, 7.41, 23.47~
#&gt; $ density_2016             &lt;dbl&gt; 1.79, 9.03, 29.54, 5.65, 1795.87, 8.31, 24.71~
#&gt; $ density_2021             &lt;dbl&gt; 1.96, 9.09, 29.58, 5.76, 1900.75, 8.18, 25.39~
#&gt; $ pop_change_1996_2001_pct &lt;dbl&gt; -0.0111, 0.0067, 0.0773, -0.0046, 0.1447, -0.~
#&gt; $ pop_change_2001_2006_pct &lt;dbl&gt; 0.0458, -0.0044, 0.0608, -0.0382, 0.2226, 0.0~
#&gt; $ pop_change_2006_2011_pct &lt;dbl&gt; 0.0020, -0.0341, -0.0086, 0.0471, 0.2155, -0.~
#&gt; $ pop_change_2011_2016_pct &lt;dbl&gt; -0.0791, -0.0125, 0.0351, 0.0320, 0.0919, 0.1~
#&gt; $ pop_change_2016_2021_pct &lt;dbl&gt; 0.0932, 0.0070, 0.0013, 0.0204, 0.0584, -0.01~
</pre></div>


<h3>Dataset ID and Badge</h3>

<p>DATA-7
</p>

<div style="text-align:center;"><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/dataset_towny.png" alt="This image of that of a dataset badge." style="width:50%;padding-bottom:20px;"></div>



<h3>Dataset Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+constants">constants</a></code>,
<code><a href="#topic+countrypops">countrypops</a></code>,
<code><a href="#topic+exibble">exibble</a></code>,
<code><a href="#topic+films">films</a></code>,
<code><a href="#topic+gibraltar">gibraltar</a></code>,
<code><a href="#topic+gtcars">gtcars</a></code>,
<code><a href="#topic+illness">illness</a></code>,
<code><a href="#topic+metro">metro</a></code>,
<code><a href="#topic+nuclides">nuclides</a></code>,
<code><a href="#topic+peeps">peeps</a></code>,
<code><a href="#topic+photolysis">photolysis</a></code>,
<code><a href="#topic+pizzaplace">pizzaplace</a></code>,
<code><a href="#topic+reactions">reactions</a></code>,
<code><a href="#topic+rx_addv">rx_addv</a></code>,
<code><a href="#topic+rx_adsl">rx_adsl</a></code>,
<code><a href="#topic+sp500">sp500</a></code>,
<code><a href="#topic+sza">sza</a></code>
</p>

<hr>
<h2 id='unit_conversion'>Get a conversion factor across two measurement units of a given class</h2><span id='topic+unit_conversion'></span>

<h3>Description</h3>

<p>The <code>unit_conversion()</code> helper function gives us a conversion factor for
transforming a value from one form of measurement units to a target form.
For example if you have a length value that is expressed in miles you could
transform that value to one in kilometers through multiplication of the value
by the conversion factor (in this case <code>1.60934</code>).
</p>
<p>For <code>unit_conversion()</code> to understand the source and destination units, you
need to provide a keyword value for the <code>from</code> and <code>to</code> arguments. To aid as
a reference for this, call <code><a href="#topic+info_unit_conversions">info_unit_conversions()</a></code> to display an
information table that contains all of the keywords for every conversion
type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unit_conversion(from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unit_conversion_+3A_from">from</code></td>
<td>
<p><em>Units for the input value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The keyword representing the units for the value that requires unit
conversion. In the case where the value has units of miles, the necessary
input is <code>"length.mile"</code>.</p>
</td></tr>
<tr><td><code id="unit_conversion_+3A_to">to</code></td>
<td>
<p><em>Desired units for the value</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>The keyword representing the target units for the value with units defined
in <code>from</code>. In the case where input value has units of miles and we would
rather want the value to be expressed as kilometers, the <code>to</code> value should
be <code>"length.kilometer"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single numerical value.
</p>


<h3>Examples</h3>

<p>Let's use a portion of the <code><a href="#topic+towny">towny</a></code> dataset and create a table showing
population, density, and land area for 10 municipalities. The <code>land_area_km2</code>
values are in units of square kilometers, however, we'd rather the values
were in square miles. We can convert the numeric values while formatting the
values with <code><a href="#topic+fmt_number">fmt_number()</a></code> by using <code>unit_conversion()</code> in the <code>scale_by</code>
argument since the return value of that is a conversion factor (which is
applied to each value by multiplication). The same is done for converting the
'people per square kilometer' values in <code>density_2021</code> to 'people per square
mile', however, the units to convert are in the denominator so the inverse
of the conversion factor must be used.
</p>
<div class="sourceCode r"><pre>towny |&gt;
  dplyr::arrange(desc(density_2021)) |&gt;
  dplyr::slice_head(n = 10) |&gt;
  dplyr::select(name, population_2021, density_2021, land_area_km2) |&gt;
  gt(rowname_col = "name") |&gt;
  fmt_integer(columns = population_2021) |&gt;
  fmt_number(
    columns = land_area_km2,
    decimals = 1,
    scale_by = unit_conversion(
      from = "area.square-kilometer",
      to = "area.square-mile"
    )
  ) |&gt;
  fmt_number(
    columns = density_2021,
    decimals = 1,
    scale_by = 1 / unit_conversion(
      from = "area.square-kilometer",
      to = "area.square-mile"
    )
  ) |&gt;
  cols_label(
    land_area_km2 = "Land Area,&lt;br&gt;sq. mi",
    population_2021 = "Population",
    density_2021 = "Density,&lt;br&gt;ppl / sq. mi",
    .fn = md
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_unit_conversion_1.png" alt="This image of a table was generated from the first code example in the `unit_conversion()` help file." style="width:100%;">

<p>With a small slice of the <code><a href="#topic+gibraltar">gibraltar</a></code> dataset, let's display the
temperature values in terms of degrees Celsius (present in the data) <em>and</em> as
temperatures in degrees Fahrenheit (achievable via conversion). We can
duplicate the <code>temp</code> column through <code><a href="#topic+cols_add">cols_add()</a></code> (naming the new column as
<code>temp_f</code>) and when formatting through <code><a href="#topic+fmt_integer">fmt_integer()</a></code> we can call
<code>unit_conversion()</code> within the <code>scale_by</code> argument to perform this
transformation while formatting the values as integers.
</p>
<div class="sourceCode r"><pre>gibraltar |&gt;
  dplyr::filter(
    date == "2023-05-15",
    time &gt;= "06:00",
    time &lt;= "12:00"
  ) |&gt;
  dplyr::select(time, temp) |&gt;
  gt() |&gt;
  tab_header(
    title = "Air Temperature During Late Morning Hours at LXGB Stn.",
    subtitle = "May 15, 2023"
  ) |&gt;
  cols_add(temp_f = temp) |&gt;
  cols_move(columns = temp_f, after = temp) |&gt;
  tab_spanner(
    label = "Temperature",
    columns = starts_with("temp")
  ) |&gt;
  fmt_number(
    columns = temp,
    decimals = 1
  ) |&gt;
  fmt_integer(
    columns = temp_f,
    scale_by = unit_conversion(
      from = "temperature.C",
      to = "temperature.F"
    )
  ) |&gt;
  cols_label(
    time = "Time",
    temp = "{{degC}}",
    temp_f = "{{degF}}"
  ) |&gt;
  cols_width(
    starts_with("temp") ~ px(80),
    time ~ px(100)
  ) |&gt;
  opt_horizontal_padding(scale = 3) |&gt;
  opt_vertical_padding(scale = 0.5) |&gt;
  opt_align_table_header(align = "left") |&gt;
  tab_options(heading.title.font.size = px(16))
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_unit_conversion_2.png" alt="This image of a table was generated from the second code example in the `unit_conversion()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>8-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.11.0</code>
</p>


<h3>See Also</h3>

<p>Other helper functions: 
<code><a href="#topic+adjust_luminance">adjust_luminance</a>()</code>,
<code><a href="#topic+cell_borders">cell_borders</a>()</code>,
<code><a href="#topic+cell_fill">cell_fill</a>()</code>,
<code><a href="#topic+cell_text">cell_text</a>()</code>,
<code><a href="#topic+currency">currency</a>()</code>,
<code><a href="#topic+default_fonts">default_fonts</a>()</code>,
<code><a href="#topic+escape_latex">escape_latex</a>()</code>,
<code><a href="#topic+from_column">from_column</a>()</code>,
<code><a href="#topic+google_font">google_font</a>()</code>,
<code><a href="#topic+gt_latex_dependencies">gt_latex_dependencies</a>()</code>,
<code><a href="#topic+html">html</a>()</code>,
<code><a href="#topic+md">md</a>()</code>,
<code><a href="#topic+nanoplot_options">nanoplot_options</a>()</code>,
<code><a href="#topic+pct">pct</a>()</code>,
<code><a href="#topic+px">px</a>()</code>,
<code><a href="#topic+random_id">random_id</a>()</code>,
<code><a href="#topic+row_group">row_group</a>()</code>,
<code><a href="#topic+stub">stub</a>()</code>,
<code><a href="#topic+system_fonts">system_fonts</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_bytes'>Format a vector as values in terms of bytes</h2><span id='topic+vec_fmt_bytes'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can transform each into byte values with
human readable units. <code>vec_fmt_bytes()</code> allows for the formatting of byte
sizes to either of two common representations: (1) with decimal units
(powers of 1000, examples being <code>"kB"</code> and <code>"MB"</code>), and (2) with binary units
(powers of 1024, examples being <code>"KiB"</code> and <code>"MiB"</code>).
</p>
<p>It is assumed the input numeric values represent the number of bytes and
automatic truncation of values will occur. The numeric values will be scaled
to be in the range of 1 to &lt;1000 and then decorated with the correct unit
symbol according to the standard chosen. For more control over the formatting
of byte sizes, we can use the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_bytes(
  x,
  standard = c("decimal", "binary"),
  decimals = 1,
  n_sigfig = NULL,
  drop_trailing_zeros = TRUE,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = TRUE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_bytes_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_standard">standard</code></td>
<td>
<p><em>Standard used to express byte sizes</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[decimal|binary]&#8288;</code> // <em>default:</em> <code>"decimal"</code>
</p>
<p>The form of expressing large byte sizes is divided between: (1) decimal
units (powers of 1000; e.g., <code>"kB"</code> and <code>"MB"</code>), and (2) binary units
(powers of 1024; e.g., <code>"KiB"</code> and <code>"MiB"</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>1</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>. The trailing zeros can be removed with
<code>drop_trailing_zeros = TRUE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_n_sigfig">n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive numbers (effectively showing
a sign for all numbers except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the units</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option for whether to include a space between the value and the units.
The default is to use a space character for separation.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_bytes_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(3.24294e14, 8, 1362902, -59027, NA)
</pre></div>
<p>Using <code>vec_fmt_bytes()</code> with the default options will create a character
vector with values in bytes. Any <code>NA</code> values remain as <code>NA</code> values. The
rendering context will be autodetected unless specified in the <code>output</code>
argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324.3 TB" "8 B" "1.4 MB" "-59 kB" "NA"
</pre></div>
<p>We can change the number of decimal places with the <code>decimals</code> option:
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, decimals = 2)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324.29 TB" "8 B" "1.36 MB" "-59.03 kB" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and <strong>gt</strong> will handle any locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, locale = "fi")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324,3 TB" "8 B" "1,4 MB" "-59 kB" "NA"
</pre></div>
<p>Should you need to have positive and negative signs on each of the output
values, use <code>force_sign = TRUE</code>:
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+324.3 TB" "+8 B" "+1.4 MB" "-59 kB" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_bytes(num_vals, pattern = "[{x}]")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "[324.3 TB]" "[8 B]" "[1.4 MB]" "[-59 kB]" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-12
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_bytes">fmt_bytes()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_currency'>Format a vector as currency values</h2><span id='topic+vec_fmt_currency'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can perform currency-based formatting.
This function supports both automatic formatting with a three-letter or
numeric currency code. We can also specify a custom currency that is
formatted according to the output context with the <code><a href="#topic+currency">currency()</a></code> helper
function. We have fine control over the conversion from numeric values to
currency values, where we could take advantage of the following options:
</p>

<ul>
<li><p> the currency: providing a currency code or common currency name will
procure the correct currency symbol and number of currency subunits; we could
also use the <code><a href="#topic+currency">currency()</a></code> helper function to specify a custom currency
</p>
</li>
<li><p> currency symbol placement: the currency symbol can be placed before
or after the values
</p>
</li>
<li><p> decimals/subunits: choice of the number of decimal places, and a
choice of the decimal symbol, and an option on whether to include or exclude
the currency subunits (decimal portion)
</p>
</li>
<li><p> negative values: choice of a negative sign or parentheses for values
less than zero
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> large-number suffixing: larger figures (thousands, millions, etc.) can
be autoscaled and decorated with the appropriate suffixes
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
currency values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in currency
formatting specific to the chosen locale; it will also retrieve the locale's
currency if none is explicitly given
</p>
</li></ul>

<p>We can call <code><a href="#topic+info_currencies">info_currencies()</a></code> for a useful reference on all of the possible
inputs to the <code>currency</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_currency(
  x,
  currency = NULL,
  use_subunits = TRUE,
  decimals = NULL,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  scale_by = 1,
  suffixing = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  placement = "left",
  incl_space = FALSE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_currency_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_currency">currency</code></td>
<td>
<p><em>Currency to use</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|obj:&lt;gt_currency&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The currency to use for the numeric value. This input can be
supplied as a 3-letter currency code (e.g., <code>"USD"</code> for U.S. Dollars,
<code>"EUR"</code> for the Euro currency). Use <code><a href="#topic+info_currencies">info_currencies()</a></code> to get an
information table with all of the valid currency codes and examples of
each. Alternatively, we can provide a common currency name (e.g.,
<code>"dollar"</code>, <code>"pound"</code>, <code>"yen"</code>, etc.) to simplify the process. Use
<code><a href="#topic+info_currencies">info_currencies()</a></code> with the <code>type == "symbol"</code> option to view an
information table with all of the supported currency symbol names along
with examples.
</p>
<p>We can also use the <code><a href="#topic+currency">currency()</a></code> helper function to specify a custom
currency, where the string could vary across output contexts. For example,
using <code>currency(html = "&amp;fnof;", default = "f")</code> would give us a suitable
glyph for the Dutch guilder in an HTML output table, and it would simply be
the letter &quot;f&quot; in all other output contexts). Please note that <code>decimals</code>
will default to <code>2</code> when using the <code><a href="#topic+currency">currency()</a></code> helper function.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_use_subunits">use_subunits</code></td>
<td>
<p><em>Show or hide currency subunits</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option for whether the subunits portion of a currency value should be
displayed. For example, with an input value of <code>273.81</code>, the default
formatting will produce <code>"$273.81"</code>. Removing the subunits (with
<code>use_subunits = FALSE</code>) will give us <code>"$273"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The <code>decimals</code> values corresponds to the exact number of decimal places to
use. This value is optional as a currency has an intrinsic number of
decimal places (i.e., the subunits). A value such as <code>2.34</code> can, for
example, be formatted with <code>0</code> decimal places and if the currency used is
<code>"USD"</code> it would result in <code>"$2"</code>. With <code>4</code> decimal places, the formatted
value becomes <code>"$2.3400"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting. For
example, when <code>use_subunits = FALSE</code> or <code>decimals = 0</code> a formatted value
such as <code>"$23"</code> can be fashioned as <code>"$23."</code> by setting
<code>drop_trailing_dec_mark = FALSE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied. This value will be
ignored if using any of the <code>suffixing</code> options (i.e., where <code>suffixing</code> is
not set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_suffixing">suffixing</code></td>
<td>
<p><em>Specification for large-number suffixing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>suffixing</code> option allows us to scale and apply suffixes to larger
numbers (e.g., <code>1924000</code> can be transformed to <code style="white-space: pre;">&#8288;1.92M&#8288;</code>). This option can
accept a logical value, where <code>FALSE</code> (the default) will not perform this
transformation and <code>TRUE</code> will apply thousands (<code>"K"</code>), millions (<code>"M"</code>),
billions (<code>"B"</code>), and trillions (<code>"T"</code>) suffixes after automatic value
scaling.
</p>
<p>We can alternatively provide a character vector that serves as a
specification for which symbols are to used for each of the value ranges.
These preferred symbols will replace the defaults (e.g.,
<code>c("k", "Ml", "Bn", "Tr")</code> replaces <code>"K"</code>, <code>"M"</code>, <code>"B"</code>, and <code>"T"</code>).
</p>
<p>Including <code>NA</code> values in the vector will ensure that the particular range
will either not be included in the transformation (e.g.,
<code>c(NA, "M", "B", "T")</code> won't modify numbers at all in the thousands range)
or the range will inherit a previous suffix (e.g., with
<code>c("K", "M", NA, "T")</code>, all numbers in the range of millions and billions
will be in terms of millions).
</p>
<p>Any use of <code>suffixing</code> (where it is not set expressly as <code>FALSE</code>) means
that any value provided to <code>scale_by</code> will be ignored.
</p>
<p>If using <code>system = "ind"</code> then the default suffix set provided by
<code>suffixing = TRUE</code> will be the equivalent of <code>c(NA, "L", "Cr")</code>. This
doesn't apply suffixes to the thousands range, but does express values in
<em>lakhs</em> and <em>crores</em>.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_placement">placement</code></td>
<td>
<p><em>Currency symbol placement</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[left|right]&#8288;</code> // <em>default:</em> <code>"left"</code>
</p>
<p>The placement of the currency symbol. This can be either be <code>"left"</code> (as
in <code>"$450"</code>) or <code>"right"</code> (which yields <code>"450$"</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the currency symbol</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option for whether to include a space between the value and the currency
symbol. The default is to not introduce a space character.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_currency_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(5.2, 8.65, 0, -5.3, NA)
</pre></div>
<p>Using <code>vec_fmt_currency()</code> with the default options will create a character
vector where the numeric values have been transformed to U.S. Dollars
(<code>"USD"</code>). Furthermore, the rendering context will be autodetected unless
specified in the <code>output</code> argument (here, it is of the <code>"plain"</code> output
type).
</p>
<div class="sourceCode r"><pre>vec_fmt_currency(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "$5.20" "$8.65" "$0.00" "-$5.30" "NA"
</pre></div>
<p>We can supply a currency code to the <code>currency</code> argument. Let's use British
Pounds through <code>currency = "GBP"</code>:
</p>
<div class="sourceCode r"><pre>vec_fmt_currency(num_vals, currency = "GBP")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "GBP5.20" "GBP8.65" "GBP0.00" "-GBP5.30" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> handle all locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_currency(num_vals, locale = "fr")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "EUR5,20" "EUR8,65" "EUR0,00" "-EUR5,30" "NA"
</pre></div>
<p>There are many options for formatting values. Perhaps you need to have
explicit positive and negative signs? Use <code>force_sign = TRUE</code> for that.
</p>
<div class="sourceCode r"><pre>vec_fmt_currency(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+$5.20" "+$8.65" "$0.00" "-$5.30" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_currency(num_vals, pattern = "`{x}`")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "`$5.20`" "`$8.65`" "`$0.00`" "`-$5.30`" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-8
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_currency">fmt_currency()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_date'>Format a vector as date values</h2><span id='topic+vec_fmt_date'></span>

<h3>Description</h3>

<p>Format vector values to date values using one of 41 preset date styles. Input
can be in the form of <code>POSIXt</code> (i.e., datetimes), the <code>Date</code> type, or
<code>character</code> (must be in the ISO 8601 form of <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code> or
<code>YYYY-MM-DD</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_date(
  x,
  date_style = "iso",
  pattern = "{x}",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_date_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_date_+3A_date_style">date_style</code></td>
<td>
<p><em>Predefined style for dates</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=41)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The date style to use. By default this is the short name <code>"iso"</code> which
corresponds to ISO 8601 date formatting. There are 41 date styles in total
and their short names can be viewed using <code><a href="#topic+info_date_style">info_date_style()</a></code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_date_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_date_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_date_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Formatting with the <code>date_style</code> argument</h3>

<p>We need to supply a preset date style to the <code>date_style</code> argument. The date
styles are numerous and can handle localization to any supported locale. A
large segment of date styles are termed flexible date formats and this means
that their output will adapt to any <code>locale</code> provided. That feature makes the
flexible date formats a better option for locales other than <code>"en"</code> (the
default locale).
</p>
<p>The following table provides a listing of all date styles and their output
values (corresponding to an input date of <code>2000-02-29</code>).</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Date Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"2000-02-29"</code> </td><td style="text-align: left;"> ISO 8601 </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"wday_month_day_year"</code> </td><td style="text-align: left;"> <code>"Tuesday, February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"wd_m_day_year"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"wday_day_month_year"</code> </td><td style="text-align: left;"> <code>"Tuesday 29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"month_day_year"</code> </td><td style="text-align: left;"> <code>"February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"m_day_year"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"day_m_year"</code> </td><td style="text-align: left;"> <code>"29 Feb 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"day_month_year"</code> </td><td style="text-align: left;"> <code>"29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"day_month"</code> </td><td style="text-align: left;"> <code>"29 February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"day_m"</code> </td><td style="text-align: left;"> <code>"29 Feb"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"year"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"month"</code> </td><td style="text-align: left;"> <code>"February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"day"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"year.mn.day"</code> </td><td style="text-align: left;"> <code>"2000/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"y.mn.day"</code> </td><td style="text-align: left;"> <code>"00/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"year_week"</code> </td><td style="text-align: left;"> <code>"2000-W09"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"year_quarter"</code> </td><td style="text-align: left;"> <code>"2000-Q1"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"yMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"yMEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"yMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"yMMMM"</code> </td><td style="text-align: left;"> <code>"February 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"yMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"yMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"GyMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000 A"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"GyMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   26 </td><td style="text-align: left;"> <code>"GyMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   27 </td><td style="text-align: left;"> <code>"yM"</code> </td><td style="text-align: left;"> <code>"2/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   28 </td><td style="text-align: left;"> <code>"Md"</code> </td><td style="text-align: left;"> <code>"2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   29 </td><td style="text-align: left;"> <code>"MEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   30 </td><td style="text-align: left;"> <code>"MMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   31 </td><td style="text-align: left;"> <code>"MMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   32 </td><td style="text-align: left;"> <code>"MMMMd"</code> </td><td style="text-align: left;"> <code>"February 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   33 </td><td style="text-align: left;"> <code>"GyMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   34 </td><td style="text-align: left;"> <code>"yQQQ"</code> </td><td style="text-align: left;"> <code>"Q1 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   35 </td><td style="text-align: left;"> <code>"yQQQQ"</code> </td><td style="text-align: left;"> <code>"1st quarter 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   36 </td><td style="text-align: left;"> <code>"Gy"</code> </td><td style="text-align: left;"> <code>"2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   37 </td><td style="text-align: left;"> <code>"y"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   38 </td><td style="text-align: left;"> <code>"M"</code> </td><td style="text-align: left;"> <code>"2"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   39 </td><td style="text-align: left;"> <code>"MMM"</code> </td><td style="text-align: left;"> <code>"Feb"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   40 </td><td style="text-align: left;"> <code>"d"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   41 </td><td style="text-align: left;"> <code>"Ed"</code> </td><td style="text-align: left;"> <code>"29 Tue"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_date_style">info_date_style()</a></code> in the console to view a similar table
of date styles with example output.
</p>


<h3>Examples</h3>

<p>Let's create a character vector of dates in the ISO-8601 format for the next
few examples:
</p>
<div class="sourceCode r"><pre>str_vals &lt;- c("2022-06-13", "2019-01-25", "2015-03-23", NA)
</pre></div>
<p>Using <code>vec_fmt_date()</code> (here with the <code>"wday_month_day_year"</code> date style)
will result in a character vector of formatted dates. Any <code>NA</code> values remain
as <code>NA</code> values. The rendering context will be autodetected unless specified
in the <code>output</code> argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_date(str_vals, date_style = "wday_month_day_year")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Monday, June 13, 2022" "Friday, January 25, 2019"
#&gt; [3] "Monday, March 23, 2015" NA
</pre></div>
<p>We can choose from any of 41 different date formatting styles. Many of these
styles are flexible, meaning that the structure of the format will adapt
to different locales. Let's use the <code>"yMMMEd"</code> date style to demonstrate this
(first in the default locale of <code>"en"</code>):
</p>
<div class="sourceCode r"><pre>vec_fmt_date(str_vals, date_style = "yMMMEd")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Mon, Jun 13, 2022" "Fri, Jan 25, 2019" "Mon, Mar 23, 2015" NA
</pre></div>
<p>Let's perform the same type of formatting in the French (<code>"fr"</code>) locale:
</p>
<div class="sourceCode r"><pre>vec_fmt_date(str_vals, date_style = "yMMMEd", locale = "fr")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "lun. 13 juin 2022" "ven. 25 janv. 2019" "lun. 23 mars 2015" NA
</pre></div>
<p>We can always use <code><a href="#topic+info_date_style">info_date_style()</a></code> to call up an info table that serves as
a handy reference to all of the <code>date_style</code> options.
</p>
<p>As a last example, one can wrap the date values in a pattern with the
<code>pattern</code> argument. Note here that <code>NA</code> values won't have the pattern
applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_date(str_vals, pattern = "Date: {x}")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Date: 2022-06-13" "Date: 2019-01-25" "Date: 2015-03-23" NA
</pre></div>


<h3>Function ID</h3>

<p>15-13
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_date">fmt_date()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_datetime'>Format a vector as datetime values</h2><span id='topic+vec_fmt_datetime'></span>

<h3>Description</h3>

<p>Format values in a vector to datetime values using either presets for the
date and time components or a formatting directive (this can either use a
<em>CLDR</em> datetime pattern or <code>strptime</code> formatting). Input can be in the form
of <code>POSIXct</code> (i.e., datetimes), the <code>Date</code> type, or <code>character</code> (must be in
the ISO 8601 form of <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code> or <code>YYYY-MM-DD</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_datetime(
  x,
  date_style = "iso",
  time_style = "iso",
  sep = " ",
  format = NULL,
  tz = NULL,
  pattern = "{x}",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_datetime_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_date_style">date_style</code></td>
<td>
<p><em>Predefined style for dates</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=41)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The date style to use. By default this is the short name <code>"iso"</code> which
corresponds to ISO 8601 date formatting. There are 41 date styles in total
and their short names can be viewed using <code><a href="#topic+info_date_style">info_date_style()</a></code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_time_style">time_style</code></td>
<td>
<p><em>Predefined style for times</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=25)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The time style to use. By default this is the short name <code>"iso"</code> which
corresponds to how times are formatted within ISO 8601 datetime values.
There are 25 time styles in total and their short names can be viewed using
<code><a href="#topic+info_time_style">info_time_style()</a></code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_sep">sep</code></td>
<td>
<p><em>Separator between date and time components</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>" "</code>
</p>
<p>The separator string to use between the date and time components. By
default, this is a single space character (<code>" "</code>). Only used when not
specifying a <code>format</code> code.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_format">format</code></td>
<td>
<p><em>Date/time formatting string</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional formatting string used for generating custom dates/times. If
used then the arguments governing preset styles (<code>date_style</code> and
<code>time_style</code>) will be ignored in favor of formatting via the <code>format</code>
string.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_tz">tz</code></td>
<td>
<p><em>Time zone</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>The time zone for printing dates/times (i.e., the output). The
default of <code>NULL</code> will preserve the time zone of the input data in the
output. If providing a time zone, it must be one that is recognized by the
user's operating system (a vector of all valid <code>tz</code> values can be produced
with <code><a href="base.html#topic+OlsonNames">OlsonNames()</a></code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_datetime_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Formatting with the <code>date_style</code> argument</h3>

<p>We can supply a preset date style to the <code>date_style</code> argument to separately
handle the date portion of the output. The date styles are numerous and can
handle localization to any supported locale. A large segment of date styles
are termed flexible date formats and this means that their output will adapt
to any <code>locale</code> provided. That feature makes the flexible date formats a
better option for locales other than <code>"en"</code> (the default locale).
</p>
<p>The following table provides a listing of all date styles and their output
values (corresponding to an input date of <code>2000-02-29</code>).</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Date Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"2000-02-29"</code> </td><td style="text-align: left;"> ISO 8601 </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"wday_month_day_year"</code> </td><td style="text-align: left;"> <code>"Tuesday, February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"wd_m_day_year"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"wday_day_month_year"</code> </td><td style="text-align: left;"> <code>"Tuesday 29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"month_day_year"</code> </td><td style="text-align: left;"> <code>"February 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"m_day_year"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"day_m_year"</code> </td><td style="text-align: left;"> <code>"29 Feb 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"day_month_year"</code> </td><td style="text-align: left;"> <code>"29 February 2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"day_month"</code> </td><td style="text-align: left;"> <code>"29 February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"day_m"</code> </td><td style="text-align: left;"> <code>"29 Feb"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"year"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"month"</code> </td><td style="text-align: left;"> <code>"February"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"day"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"year.mn.day"</code> </td><td style="text-align: left;"> <code>"2000/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"y.mn.day"</code> </td><td style="text-align: left;"> <code>"00/02/29"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"year_week"</code> </td><td style="text-align: left;"> <code>"2000-W09"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"year_quarter"</code> </td><td style="text-align: left;"> <code>"2000-Q1"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"yMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"yMEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"yMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"yMMMM"</code> </td><td style="text-align: left;"> <code>"February 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"yMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"yMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"GyMd"</code> </td><td style="text-align: left;"> <code>"2/29/2000 A"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"GyMMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   26 </td><td style="text-align: left;"> <code>"GyMMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29, 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   27 </td><td style="text-align: left;"> <code>"yM"</code> </td><td style="text-align: left;"> <code>"2/2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   28 </td><td style="text-align: left;"> <code>"Md"</code> </td><td style="text-align: left;"> <code>"2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   29 </td><td style="text-align: left;"> <code>"MEd"</code> </td><td style="text-align: left;"> <code>"Tue, 2/29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   30 </td><td style="text-align: left;"> <code>"MMMd"</code> </td><td style="text-align: left;"> <code>"Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   31 </td><td style="text-align: left;"> <code>"MMMEd"</code> </td><td style="text-align: left;"> <code>"Tue, Feb 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   32 </td><td style="text-align: left;"> <code>"MMMMd"</code> </td><td style="text-align: left;"> <code>"February 29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   33 </td><td style="text-align: left;"> <code>"GyMMM"</code> </td><td style="text-align: left;"> <code>"Feb 2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   34 </td><td style="text-align: left;"> <code>"yQQQ"</code> </td><td style="text-align: left;"> <code>"Q1 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   35 </td><td style="text-align: left;"> <code>"yQQQQ"</code> </td><td style="text-align: left;"> <code>"1st quarter 2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   36 </td><td style="text-align: left;"> <code>"Gy"</code> </td><td style="text-align: left;"> <code>"2000 AD"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   37 </td><td style="text-align: left;"> <code>"y"</code> </td><td style="text-align: left;"> <code>"2000"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   38 </td><td style="text-align: left;"> <code>"M"</code> </td><td style="text-align: left;"> <code>"2"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   39 </td><td style="text-align: left;"> <code>"MMM"</code> </td><td style="text-align: left;"> <code>"Feb"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   40 </td><td style="text-align: left;"> <code>"d"</code> </td><td style="text-align: left;"> <code>"29"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
   41 </td><td style="text-align: left;"> <code>"Ed"</code> </td><td style="text-align: left;"> <code>"29 Tue"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_date_style">info_date_style()</a></code> in the console to view a similar table of
date styles with example output.
</p>


<h3>Formatting with the <code>time_style</code> argument</h3>

<p>We can supply a preset time style to the <code>time_style</code> argument to separately
handle the time portion of the output. There are many time styles and all of
them can handle localization to any supported locale. Many of the time styles
are termed flexible time formats and this means that their output will adapt
to any <code>locale</code> provided. That feature makes the flexible time formats a
better option for locales other than <code>"en"</code> (the default locale).
</p>
<p>The following table provides a listing of all time styles and their output
values (corresponding to an input time of <code>14:35:00</code>). It is noted which of
these represent 12- or 24-hour time. Some of the flexible formats (those
that begin with <code>"E"</code>) include the day of the week. Keep this in mind
when pairing such <code>time_style</code> values with a <code>date_style</code> so as to avoid
redundant or repeating information.</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Time Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"iso-short"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"h_m_s_p"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"h_m_p"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"h_p"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"Hms"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"Hm"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"H"</code> </td><td style="text-align: left;"> <code>"14"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"EHm"</code> </td><td style="text-align: left;"> <code>"Thu 14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"EHms"</code> </td><td style="text-align: left;"> <code>"Thu 14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"Hmsv"</code> </td><td style="text-align: left;"> <code>"14:35:00 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"Hmv"</code> </td><td style="text-align: left;"> <code>"14:35 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"hms"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"hm"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"h"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"Ehm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"Ehms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"EBhms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"Bhms"</code> </td><td style="text-align: left;"> <code>"2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"EBhm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"Bhm"</code> </td><td style="text-align: left;"> <code>"2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"Bh"</code> </td><td style="text-align: left;"> <code>"2 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"hmsv"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"hmv"</code> </td><td style="text-align: left;"> <code>"2:35 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"ms"</code> </td><td style="text-align: left;"> <code>"35:00"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_time_style">info_time_style()</a></code> in the console to view a similar table of
time styles with example output.
</p>


<h3>Formatting with a <em>CLDR</em> datetime pattern</h3>

<p>We can use a <em>CLDR</em> datetime pattern with the <code>format</code> argument to create
a highly customized and locale-aware output. This is a character string that
consists of two types of elements:
</p>

<ul>
<li><p> Pattern fields, which repeat a specific pattern character one or more
times. These fields are replaced with date and time data when formatting.
The character sets of <code>A</code>-<code>Z</code> and <code>a</code>-<code>z</code> are reserved for use as pattern
characters.
</p>
</li>
<li><p> Literal text, which is output verbatim when formatting. This can include:
</p>

<ul>
<li><p> Any characters outside the reserved character sets, including
spaces and punctuation.
</p>
</li>
<li><p> Any text between single vertical quotes (e.g., <code>'text'</code>).
</p>
</li>
<li><p> Two adjacent single vertical quotes (&rdquo;), which represent a literal
single quote, either inside or outside quoted text.
</p>
</li></ul>

</li></ul>

<p>The number of pattern fields is quite sizable so let's first look at how some
<em>CLDR</em> datetime patterns work. We'll use the datetime string
<code>"2018-07-04T22:05:09.2358(America/Vancouver)"</code> for all of the examples that
follow.
</p>

<ul>
<li> <p><code>"mm/dd/y"</code> -&gt; <code>"05/04/2018"</code>
</p>
</li>
<li> <p><code>"EEEE, MMMM d, y"</code> -&gt; <code>"Wednesday, July 4, 2018"</code>
</p>
</li>
<li> <p><code>"MMM d E"</code> -&gt; <code>"Jul 4 Wed"</code>
</p>
</li>
<li> <p><code>"HH:mm"</code> -&gt; <code>"22:05"</code>
</p>
</li>
<li> <p><code>"h:mm a"</code> -&gt; <code>"10:05 PM"</code>
</p>
</li>
<li> <p><code>"EEEE, MMMM d, y 'at' h:mm a"</code> -&gt; <code>"Wednesday, July 4, 2018 at 10:05 PM"</code>
</p>
</li></ul>

<p>Here are the individual pattern fields:
</p>


<h4>Year</h4>



<h5>Calendar Year</h5>

<p>This yields the calendar year, which is always numeric. In most cases the
length of the <code>"y"</code> field specifies the minimum number of digits to display,
zero-padded as necessary. More digits will be displayed if needed to show the
full year. There is an exception: <code>"yy"</code> gives use just the two low-order
digits of the year, zero-padded as necessary. For most use cases, <code>"y"</code> or
<code>"yy"</code> should be good enough.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"y"</code> </td><td style="text-align: left;"> <code>"2018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"yy"</code> </td><td style="text-align: left;"> <code>"18"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"yyy"</code> to <code>"yyyyyyyyy"</code> </td><td style="text-align: left;"> <code>"2018"</code> to <code>"000002018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Year in the Week in Year Calendar</h5>

<p>This is the year in 'Week of Year' based calendars in which the year
transition occurs on a week boundary. This may differ from calendar year
<code>"y"</code> near a year transition. This numeric year designation is used in
conjunction with pattern character <code>"w"</code> in the ISO year-week calendar as
defined by ISO 8601.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"Y"</code> </td><td style="text-align: left;"> <code>"2018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"YY"</code> </td><td style="text-align: left;"> <code>"18"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"YYY"</code> to <code>"YYYYYYYYY"</code> </td><td style="text-align: left;"> <code>"2018"</code> to <code>"000002018"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Quarter</h4>



<h5>Quarter of the Year: formatting and standalone versions</h5>

<p>The quarter names are identified numerically, starting at <code>1</code> and ending at
<code>4</code>. Quarter names may vary along two axes: the width and the context. The
context is either 'formatting' (taken as a default), which the form used
within a complete date format string, or, 'standalone', the form for date
elements used independently (such as in calendar headers). The standalone
form may be used in any other date format that shares the same form of the
name. Here, the formatting form for quarters of the year consists of some run
of <code>"Q"</code> values whereas the standalone form uses <code>"q"</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"Q"</code>/<code>"q"</code> </td><td style="text-align: left;"> <code>"3"</code> </td><td style="text-align: left;"> Numeric, one digit </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQ"</code>/<code>"qq"</code> </td><td style="text-align: left;"> <code>"03"</code> </td><td style="text-align: left;"> Numeric, two digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQQ"</code>/<code>"qqq"</code> </td><td style="text-align: left;"> <code>"Q3"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQQQ"</code>/<code>"qqqq"</code> </td><td style="text-align: left;"> <code>"3rd quarter"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"QQQQQ"</code>/<code>"qqqqq"</code> </td><td style="text-align: left;"> <code>"3"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Month</h4>



<h5>Month: formatting and standalone versions</h5>

<p>The month names are identified numerically, starting at <code>1</code> and ending at
<code>12</code>. Month names may vary along two axes: the width and the context. The
context is either 'formatting' (taken as a default), which the form used
within a complete date format string, or, 'standalone', the form for date
elements used independently (such as in calendar headers). The standalone
form may be used in any other date format that shares the same form of the
name. Here, the formatting form for months consists of some run of <code>"M"</code>
values whereas the standalone form uses <code>"L"</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"M"</code>/<code>"L"</code> </td><td style="text-align: left;"> <code>"7"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MM"</code>/<code>"LL"</code> </td><td style="text-align: left;"> <code>"07"</code> </td><td style="text-align: left;"> Numeric, two digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MMM"</code>/<code>"LLL"</code> </td><td style="text-align: left;"> <code>"Jul"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MMMM"</code>/<code>"LLLL"</code> </td><td style="text-align: left;"> <code>"July"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"MMMMM"</code>/<code>"LLLLL"</code> </td><td style="text-align: left;"> <code>"J"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Week</h4>



<h5>Week of Year</h5>

<p>Values calculated for the week of year range from <code>1</code> to <code>53</code>. Week <code>1</code> for a
year is the first week that contains at least the specified minimum number of
days from that year. Weeks between week <code>1</code> of one year and week <code>1</code> of the
following year are numbered sequentially from <code>2</code> to <code>52</code> or <code>53</code> (if
needed).
</p>
<p>There are two available field lengths. Both will display the week of year
value but the <code>"ww"</code> width will always show two digits (where weeks <code>1</code> to
<code>9</code> are zero padded).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"w"</code> </td><td style="text-align: left;"> <code>"27"</code> </td><td style="text-align: left;"> Minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ww"</code> </td><td style="text-align: left;"> <code>"27"</code> </td><td style="text-align: left;"> Two digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Week of Month</h5>

<p>The week of a month can range from <code>1</code> to <code>5</code>. The first day of every month
always begins at week <code>1</code> and with every transition into the beginning of a
week, the week of month value is incremented by <code>1</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Pattern </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"W"</code> </td><td style="text-align: left;"> <code>"1"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Day</h4>



<h5>Day of Month</h5>

<p>The day of month value is always numeric and there are two available field
length choices in its formatting. Both will display the day of month value
but the <code>"dd"</code> formatting will always show two digits (where days <code>1</code> to <code>9</code>
are zero padded).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"d"</code> </td><td style="text-align: left;"> <code>"4"</code> </td><td style="text-align: left;"> Minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"dd"</code> </td><td style="text-align: left;"> <code>"04"</code> </td><td style="text-align: left;"> Two digits, zero padded </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Day of Year</h5>

<p>The day of year value ranges from <code>1</code> (January 1) to either <code>365</code> or <code>366</code>
(December 31), where the higher value of the range indicates that the year is
a leap year (29 days in February, instead of 28). The field length specifies
the minimum number of digits, with zero-padding as necessary.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"D"</code> </td><td style="text-align: left;"> <code>"185"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"DD"</code> </td><td style="text-align: left;"> <code>"185"</code> </td><td style="text-align: left;"> Zero padded to minimum width of 2 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"DDD"</code> </td><td style="text-align: left;"> <code>"185"</code> </td><td style="text-align: left;"> Zero padded to minimum width of 3 </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Day of Week in Month</h5>

<p>The day of week in month returns a numerical value indicating the number of
times a given weekday had occurred in the month (e.g., '2nd Monday in
March'). This conveniently resolves to predicable case structure where ranges
of day of the month values return predictable day of week in month values:
</p>

<ul>
<li><p> days <code>1</code> - <code>7</code> -&gt; <code>1</code>
</p>
</li>
<li><p> days <code>8</code> - <code>14</code> -&gt; <code>2</code>
</p>
</li>
<li><p> days <code>15</code> - <code>21</code> -&gt; <code>3</code>
</p>
</li>
<li><p> days <code>22</code> - <code>28</code> -&gt; <code>4</code>
</p>
</li>
<li><p> days <code>29</code> - <code>31</code> -&gt; <code>5</code>
</p>
</li></ul>

<table>
<tr>
 <td style="text-align: left;">
   Field Pattern </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"F"</code> </td><td style="text-align: left;"> <code>"1"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Modified Julian Date</h5>

<p>The modified version of the Julian date is obtained by subtracting
2,400,000.5 days from the Julian date (the number of days since January 1,
4713 BC). This essentially results in the number of days since midnight
November 17, 1858. There is a half day offset (unlike the Julian date, the
modified Julian date is referenced to midnight instead of noon).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"g"</code> to <code>"ggggggggg"</code> </td><td style="text-align: left;"> <code>"58303"</code> -&gt; <code>"000058303"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Weekday</h4>



<h5>Day of Week Name</h5>

<p>The name of the day of week is offered in four different widths.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"E"</code>, <code>"EE"</code>, or <code>"EEE"</code> </td><td style="text-align: left;"> <code>"Wed"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"EEEE"</code> </td><td style="text-align: left;"> <code>"Wednesday"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"EEEEE"</code> </td><td style="text-align: left;"> <code>"W"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"EEEEEE"</code> </td><td style="text-align: left;"> <code>"We"</code> </td><td style="text-align: left;"> Short </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Periods</h4>



<h5>AM/PM Period of Day</h5>

<p>This denotes before noon and after noon time periods. May be upper or
lowercase depending on the locale and other options. The wide form may be
the same as the short form if the 'real' long form (e.g. 'ante meridiem') is
not customarily used. The narrow form must be unique, unlike some other
fields.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"a"</code>, <code>"aa"</code>, or <code>"aaa"</code> </td><td style="text-align: left;"> <code>"PM"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"aaaa"</code> </td><td style="text-align: left;"> <code>"PM"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"aaaaa"</code> </td><td style="text-align: left;"> <code>"p"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>AM/PM Period of Day Plus Noon and Midnight</h5>

<p>Provide AM and PM as well as phrases for exactly noon and midnight. May be
upper or lowercase depending on the locale and other options. If the locale
doesn't have the notion of a unique 'noon' (i.e., 12:00), then the PM form
may be substituted. A similar behavior can occur for 'midnight' (00:00) and
the AM form. The narrow form must be unique, unlike some other fields.
</p>
<p>(a) <code>input_midnight</code>: <code>"2020-05-05T00:00:00"</code>
(b) <code>input_noon</code>: <code>"2020-05-05T12:00:00"</code></p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"b"</code>, <code>"bb"</code>, or <code>"bbb"</code> </td><td style="text-align: left;"> (a) <code>"midnight"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"noon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"bbbb"</code> </td><td style="text-align: left;"> (a) <code>"midnight"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"noon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"bbbbb"</code> </td><td style="text-align: left;"> (a) <code>"mi"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"n"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Flexible Day Periods</h5>

<p>Flexible day periods denotes things like 'in the afternoon', 'in the
evening', etc., and the flexibility comes from a locale's language and
script. Each locale has an associated rule set that specifies when the day
periods start and end for that locale.
</p>
<p>(a) <code>input_morning</code>: <code>"2020-05-05T00:08:30"</code>
(b) <code>input_afternoon</code>: <code>"2020-05-05T14:00:00"</code></p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"B"</code>, <code>"BB"</code>, or <code>"BBB"</code> </td><td style="text-align: left;"> (a) <code>"in the morning"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"in the afternoon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"BBBB"</code> </td><td style="text-align: left;"> (a) <code>"in the morning"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"in the afternoon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"BBBBB"</code> </td><td style="text-align: left;"> (a) <code>"in the morning"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> (b) <code>"in the afternoon"</code> </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Hours, Minutes, and Seconds</h4>



<h5>Hour 0-23</h5>

<p>Hours from <code>0</code> to <code>23</code> are for a standard 24-hour clock cycle (midnight plus
1 minute is <code>00:01</code>) when using <code>"HH"</code> (which is the more common width that
indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"H"</code> </td><td style="text-align: left;"> <code>"8"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"HH"</code> </td><td style="text-align: left;"> <code>"08"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Hour 1-12</h5>

<p>Hours from <code>1</code> to <code>12</code> are for a standard 12-hour clock cycle (midnight plus
1 minute is <code>12:01</code>) when using <code>"hh"</code> (which is the more common width that
indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"h"</code> </td><td style="text-align: left;"> <code>"8"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"hh"</code> </td><td style="text-align: left;"> <code>"08"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Hour 1-24</h5>

<p>Using hours from <code>1</code> to <code>24</code> is a less common way to express a 24-hour clock
cycle (midnight plus 1 minute is <code>24:01</code>) when using <code>"kk"</code> (which is the
more common width that indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"k"</code> </td><td style="text-align: left;"> <code>"9"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"kk"</code> </td><td style="text-align: left;"> <code>"09"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Hour 0-11</h5>

<p>Using hours from <code>0</code> to <code>11</code> is a less common way to express a 12-hour clock
cycle (midnight plus 1 minute is <code>00:01</code>) when using <code>"KK"</code> (which is the
more common width that indicates zero-padding to 2 digits).
</p>
<p>Using <code>"2015-08-01T08:35:09"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"K"</code> </td><td style="text-align: left;"> <code>"7"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"KK"</code> </td><td style="text-align: left;"> <code>"07"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Minute</h5>

<p>The minute of the hour which can be any number from <code>0</code> to <code>59</code>. Use <code>"m"</code> to
show the minimum number of digits, or <code>"mm"</code> to always show two digits
(zero-padding, if necessary).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"m"</code> </td><td style="text-align: left;"> <code>"5"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"mm"</code> </td><td style="text-align: left;"> <code>"06"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Seconds</h5>

<p>The second of the minute which can be any number from <code>0</code> to <code>59</code>. Use <code>"s"</code>
to show the minimum number of digits, or <code>"ss"</code> to always show two digits
(zero-padding, if necessary).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"s"</code> </td><td style="text-align: left;"> <code>"9"</code> </td><td style="text-align: left;"> Numeric, minimum digits </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ss"</code> </td><td style="text-align: left;"> <code>"09"</code> </td><td style="text-align: left;"> Numeric, 2 digits (zero padded) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Fractional Second</h5>

<p>The fractional second truncates (like other time fields) to the width
requested (i.e., count of letters). So using pattern <code>"SSSS"</code> will display
four digits past the decimal (which, incidentally, needs to be added manually
to the pattern).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"S"</code> to <code>"SSSSSSSSS"</code> </td><td style="text-align: left;"> <code>"2"</code> -&gt; <code>"235000000"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>Milliseconds Elapsed in Day</h5>

<p>There are 86,400,000 milliseconds in a day and the <code>"A"</code> pattern will provide
the whole number. The width can go up to nine digits with <code>"AAAAAAAAA"</code> and
these higher field widths will result in zero padding if necessary.
</p>
<p>Using <code>"2011-07-27T00:07:19.7223"</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"A"</code> to <code>"AAAAAAAAA"</code> </td><td style="text-align: left;"> <code>"439722"</code> -&gt; <code>"000439722"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Era</h4>



<h5>The Era Designator</h5>

<p>This provides the era name for the given date. The Gregorian calendar has two
eras: AD and BC. In the AD year numbering system, AD 1 is immediately
preceded by 1 BC, with nothing in between them (there was no year zero).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"G"</code>, <code>"GG"</code>, or <code>"GGG"</code> </td><td style="text-align: left;"> <code>"AD"</code> </td><td style="text-align: left;"> Abbreviated </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"GGGG"</code> </td><td style="text-align: left;"> <code>"Anno Domini"</code> </td><td style="text-align: left;"> Wide </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"GGGGG"</code> </td><td style="text-align: left;"> <code>"A"</code> </td><td style="text-align: left;"> Narrow </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h4>Time Zones</h4>



<h5>TZ // Short and Long Specific non-Location Format</h5>

<p>The short and long specific non-location formats for time zones are suggested
for displaying a time with a user friendly time zone name. Where the short
specific format is unavailable, it will fall back to the short localized GMT
format (<code>"O"</code>). Where the long specific format is unavailable, it will fall
back to the long localized GMT format (<code>"OOOO"</code>).</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"z"</code>, <code>"zz"</code>, or <code>"zzz"</code> </td><td style="text-align: left;"> <code>"PDT"</code> </td><td style="text-align: left;"> Short Specific </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"zzzz"</code> </td><td style="text-align: left;"> <code>"Pacific Daylight Time"</code> </td><td style="text-align: left;"> Long Specific </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Common UTC Offset Formats</h5>

<p>The ISO8601 basic format with hours, minutes and optional seconds fields is
represented by <code>"Z"</code>, <code>"ZZ"</code>, or <code>"ZZZ"</code>. The format is equivalent to RFC 822
zone format (when the optional seconds field is absent). This is equivalent
to the <code>"xxxx"</code> specifier. The field pattern <code>"ZZZZ"</code> represents the long
localized GMT format. This is equivalent to the <code>"OOOO"</code> specifier. Finally,
<code>"ZZZZZ"</code> pattern yields the ISO8601 extended format with hours, minutes and
optional seconds fields. The ISO8601 UTC indicator <code>Z</code> is used when local
time offset is <code>0</code>. This is equivalent to the <code>"XXXXX"</code> specifier.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"Z"</code>, <code>"ZZ"</code>, or <code>"ZZZ"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ZZZZ"</code> </td><td style="text-align: left;"> <code>"GMT-7:00"</code> </td><td style="text-align: left;"> Long localized GMT format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"ZZZZZ"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Short and Long Localized GMT Formats</h5>

<p>The localized GMT formats come in two widths <code>"O"</code> (which removes the minutes
field if it's <code>0</code>) and <code>"OOOO"</code> (which always contains the minutes field).
The use of the <code>GMT</code> indicator changes according to the locale.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"O"</code> </td><td style="text-align: left;"> <code>"GMT-7"</code> </td><td style="text-align: left;"> Short localized GMT format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"OOOO"</code> </td><td style="text-align: left;"> <code>"GMT-07:00"</code> </td><td style="text-align: left;"> Long localized GMT format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Short and Long Generic non-Location Formats</h5>

<p>The generic non-location formats are useful for displaying a recurring wall
time (e.g., events, meetings) or anywhere people do not want to be overly
specific. Where either of these is unavailable, there is a fallback to the
generic location format (<code>"VVVV"</code>), then the short localized GMT format as
the final fallback.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"v"</code> </td><td style="text-align: left;"> <code>"PT"</code> </td><td style="text-align: left;"> Short generic non-location format </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"vvvv"</code> </td><td style="text-align: left;"> <code>"Pacific Time"</code> </td><td style="text-align: left;"> Long generic non-location format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // Short Time Zone IDs and Exemplar City Formats</h5>

<p>These formats provide variations of the time zone ID and often include the
exemplar city. The widest of these formats, <code>"VVVV"</code>, is useful for
populating a choice list for time zones, because it supports 1-to-1 name/zone
ID mapping and is more uniform than other text formats.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"V"</code> </td><td style="text-align: left;"> <code>"cavan"</code> </td><td style="text-align: left;"> Short time zone ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"VV"</code> </td><td style="text-align: left;"> <code>"America/Vancouver"</code> </td><td style="text-align: left;"> Long time zone ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"VVV"</code> </td><td style="text-align: left;"> <code>"Vancouver"</code> </td><td style="text-align: left;"> The tz exemplar city </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"VVVV"</code> </td><td style="text-align: left;"> <code>"Vancouver Time"</code> </td><td style="text-align: left;"> Generic location format </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // ISO 8601 Formats with Z for +0000</h5>

<p>The <code>"X"</code>-<code>"XXX"</code> field patterns represent valid ISO 8601 patterns for time
zone offsets in datetimes. The final two widths, <code>"XXXX"</code> and <code>"XXXXX"</code> allow
for optional seconds fields. The seconds field is <em>not</em> supported by the ISO
8601 specification. For all of these, the ISO 8601 UTC indicator <code>Z</code> is used
when the local time offset is <code>0</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"X"</code> </td><td style="text-align: left;"> <code>"-07"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h, optional m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XX"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XXX"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XXXX"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"XXXXX"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h5>TZ // ISO 8601 Formats (no use of Z for +0000)</h5>

<p>The <code>"x"</code>-<code>"xxxxx"</code> field patterns represent valid ISO 8601 patterns for time
zone offsets in datetimes. They are similar to the <code>"X"</code>-<code>"XXXXX"</code> field
patterns except that the ISO 8601 UTC indicator <code>Z</code> <em>will not</em> be used when
the local time offset is <code>0</code>.</p>

<table>
<tr>
 <td style="text-align: left;">
   Field Patterns </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"x"</code> </td><td style="text-align: left;"> <code>"-07"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h, optional m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xx"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xxx"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xxxx"</code> </td><td style="text-align: left;"> <code>"-0700"</code> </td><td style="text-align: left;"> ISO 8601 basic format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"xxxxx"</code> </td><td style="text-align: left;"> <code>"-07:00"</code> </td><td style="text-align: left;"> ISO 8601 extended format (h &amp; m, optional s) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>





<h3>Formatting with a <code>strptime</code> format code</h3>

<p>Performing custom date/time formatting with the <code>format</code> argument can also
occur with a <code>strptime</code> format code. This works by constructing a string of
individual format codes representing formatted date and time elements. These
are all indicated with a leading <code style="white-space: pre;">&#8288;%&#8288;</code>, literal characters are interpreted as
any characters not starting with a <code style="white-space: pre;">&#8288;%&#8288;</code> character.
</p>
<p>First off, let's look at a few format code combinations that work well
together as a <code>strptime</code> format. This will give us an intuition on how these
generally work. We'll use the datetime <code>"2015-06-08 23:05:37.48"</code> for all of
the examples that follow.
</p>

<ul>
<li> <p><code>"%m/%d/%Y"</code> -&gt; <code>"06/08/2015"</code>
</p>
</li>
<li> <p><code>"%A, %B %e, %Y"</code> -&gt; <code>"Monday, June 8, 2015"</code>
</p>
</li>
<li> <p><code>"%b %e %a"</code> -&gt; <code>"Jun 8 Mon"</code>
</p>
</li>
<li> <p><code>"%H:%M"</code> -&gt; <code>"23:05"</code>
</p>
</li>
<li> <p><code>"%I:%M %p"</code> -&gt; <code>"11:05 pm"</code>
</p>
</li>
<li> <p><code>"%A, %B %e, %Y at %I:%M %p"</code> -&gt; <code>"Monday, June 8, 2015 at 11:05 pm"</code>
</p>
</li></ul>

<p>Here are the individual format codes for the date components:
</p>

<ul>
<li> <p><code>"%a"</code> -&gt; <code>"Mon"</code> (abbreviated day of week name)
</p>
</li>
<li> <p><code>"%A"</code> -&gt; <code>"Monday"</code> (full day of week name)
</p>
</li>
<li> <p><code>"%w"</code> -&gt; <code>"1"</code> (day of week number in <code style="white-space: pre;">&#8288;0..6&#8288;</code>; Sunday is <code>0</code>)
</p>
</li>
<li> <p><code>"%u"</code> -&gt; <code>"1"</code> (day of week number in <code style="white-space: pre;">&#8288;1..7&#8288;</code>; Monday is <code>1</code>, Sunday <code>7</code>)
</p>
</li>
<li> <p><code>"%y"</code> -&gt; <code>"15"</code> (abbreviated year, using the final two digits)
</p>
</li>
<li> <p><code>"%Y"</code> -&gt; <code>"2015"</code> (full year)
</p>
</li>
<li> <p><code>"%b"</code> -&gt; <code>"Jun"</code> (abbreviated month name)
</p>
</li>
<li> <p><code>"%B"</code> -&gt; <code>"June"</code> (full month name)
</p>
</li>
<li> <p><code>"%m"</code> -&gt; <code>"06"</code> (month number)
</p>
</li>
<li> <p><code>"%d"</code> -&gt; <code>"08"</code> (day number, zero-padded)
</p>
</li>
<li> <p><code>"%e"</code> -&gt; <code>"8"</code> (day number without zero padding)
</p>
</li>
<li> <p><code>"%j"</code> -&gt; <code>"159"</code> (day of the year, always zero-padded)
</p>
</li>
<li> <p><code>"%W"</code> -&gt; <code>"23"</code> (week number for the year, always zero-padded)
</p>
</li>
<li> <p><code>"%V"</code> -&gt; <code>"24"</code> (week number for the year, following the ISO 8601
standard)
</p>
</li>
<li> <p><code>"%C"</code> -&gt; <code>"20"</code> (the century number)
</p>
</li></ul>

<p>Here are the individual format codes for the time components:
</p>

<ul>
<li> <p><code>"%H"</code> -&gt; <code>"23"</code> (24h hour)
</p>
</li>
<li> <p><code>"%I"</code> -&gt; <code>"11"</code> (12h hour)
</p>
</li>
<li> <p><code>"%M"</code> -&gt; <code>"05"</code> (minute)
</p>
</li>
<li> <p><code>"%S"</code> -&gt; <code>"37"</code> (second)
</p>
</li>
<li> <p><code>"%OS3"</code> -&gt; <code>"37.480"</code> (seconds with decimals; <code>3</code> decimal places here)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;%p&#8288;</code> -&gt; <code>"pm"</code> (AM or PM indicator)
</p>
</li></ul>

<p>Here are some extra formats that you may find useful:
</p>

<ul>
<li> <p><code>"%z"</code> -&gt; <code>"+0000"</code> (signed time zone offset, here using UTC)
</p>
</li>
<li> <p><code>"%F"</code> -&gt; <code>"2015-06-08"</code> (the date in the ISO 8601 date format)
</p>
</li>
<li> <p><code>"%%"</code> -&gt; <code>"%"</code> (the literal &quot;<code style="white-space: pre;">&#8288;%&#8288;</code>&quot; character, in case you need it)
</p>
</li></ul>



<h3>Examples</h3>

<p>Let's create a character vector of datetime values in the ISO-8601 format
for the next few examples:
</p>
<div class="sourceCode r"><pre>str_vals &lt;- c("2022-06-13 18:36", "2019-01-25 01:08", NA)
</pre></div>
<p>Using <code>vec_fmt_datetime()</code> with different <code>date_style</code> and <code>time_style</code>
options (here, <code>date_style = "yMMMEd"</code> and <code>time_style = "Hm"</code>) will result
in a character vector of formatted datetime values. Any <code>NA</code> values remain as
<code>NA</code> values. The rendering context will be autodetected unless specified in
the <code>output</code> argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(
  str_vals,
  date_style = "yMMMEd",
  time_style = "Hm"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Mon, Jun 13, 2022 18:36" "Fri, Jan 25, 2019 01:08" NA
</pre></div>
<p>We can choose from any of 41 different date styles and 25 time formatting
styles. Many of these styles are flexible, meaning that the structure of the
format will adapt to different locales. Let's use a combination of the the
<code>"yMMMd"</code> and <code>"hms"</code> date and time styles to demonstrate this (first in the
default locale of <code>"en"</code>):
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(
  str_vals,
  date_style = "yMMMd",
  time_style = "hms"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Jun 13, 2022 6:36:00 PM" "Jan 25, 2019 1:08:00 AM" NA
</pre></div>
<p>Let's perform the same type of formatting in the Italian (<code>"it"</code>) locale:
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(
  str_vals,
  date_style = "yMMMd",
  time_style = "hms",
  locale = "it"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "13 giu 2022 6:36:00 PM" "25 gen 2019 1:08:00 AM" NA
</pre></div>
<p>We can always use <code><a href="#topic+info_date_style">info_date_style()</a></code> or <code><a href="#topic+info_time_style">info_time_style()</a></code> to call up info
tables that serve as handy references to all of the <code>date_style</code> and
<code>time_style</code> options.
</p>
<p>It's possible to supply our own time formatting pattern within the <code>format</code>
argument. One way is with a CLDR pattern, which is locale-aware:
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(str_vals, format = "EEEE, MMMM d, y, h:mm a")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Monday, June 13, 2022, 06:36 PM"
#&gt; [2] "Friday, January 25, 2019, 01:08 AM"
#&gt; [3] NA
</pre></div>
<p>By using the <code>locale</code> argument, this can be formatted as Dutch datetime
values:
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(
  str_vals,
  format = "EEEE, MMMM d, y, h:mm a",
  locale = "nl"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "maandag, juni 13, 2022, 6:36 p.m."
#&gt; [2] "vrijdag, januari 25, 2019, 1:08 a.m."
#&gt; [3] NA
</pre></div>
<p>It's also possible to use a <code>strptime</code> format code with <code>format</code> (however,
any value provided to <code>locale</code> will be ignored).
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(str_vals, format = "%A, %B %e, %Y at %I:%M %p")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Monday, June 13, 2022 at 06:36 pm"
#&gt; [2] "Friday, January 25, 2019 at 01:08 am"
#&gt; [3] NA
</pre></div>
<p>As a last example, one can wrap the datetime values in a pattern with the
<code>pattern</code> argument. Note here that <code>NA</code> values won't have the pattern
applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_datetime(
  str_vals,
  sep = " at ",
  pattern = "Date and Time: {x}"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "Date and Time: 2022-06-13 at 18:36:00"
#&gt; [2] "Date and Time: 2019-01-25 at 01:08:00"
#&gt; [3] NA
</pre></div>


<h3>Function ID</h3>

<p>15-15
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_datetime">fmt_datetime()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_duration'>Format a vector of numeric or duration values as styled time duration strings</h2><span id='topic+vec_fmt_duration'></span>

<h3>Description</h3>

<p>Format input values to time duration values whether those input values are
numbers or of the <code>difftime</code> class. We can specify which time units any
numeric input values have (as weeks, days, hours, minutes, or seconds) and
the output can be customized with a duration style (corresponding to narrow,
wide, colon-separated, and ISO forms) and a choice of output units ranging
from weeks to seconds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_duration(
  x,
  input_units = NULL,
  output_units = NULL,
  duration_style = c("narrow", "wide", "colon-sep", "iso"),
  trim_zero_units = TRUE,
  max_output_units = NULL,
  pattern = "{x}",
  use_seps = TRUE,
  sep_mark = ",",
  force_sign = FALSE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_duration_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_input_units">input_units</code></td>
<td>
<p><em>Declaration of duration units for numerical values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If one or more selected columns contains numeric values (not <code>difftime</code>
values, which contain the duration units), a keyword must be provided for
<code>input_units</code> for <strong>gt</strong> to determine how those values are to be
interpreted in terms of duration. The accepted units are: <code>"seconds"</code>,
<code>"minutes"</code>, <code>"hours"</code>, <code>"days"</code>, and <code>"weeks"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_output_units">output_units</code></td>
<td>
<p><em>Choice of output units</em>
</p>
<p><code style="white-space: pre;">&#8288;mult-kw:[weeks|days|hours|minutes|seconds]&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Controls the output time units. The default, <code>NULL</code>, means that <strong>gt</strong> will
automatically choose time units based on the input duration value. To
control which time units are to be considered for output (before trimming
with <code>trim_zero_units</code>) we can specify a vector of one or more of the
following keywords: <code>"weeks"</code>, <code>"days"</code>, <code>"hours"</code>, <code>"minutes"</code>, or
<code>"seconds"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_duration_style">duration_style</code></td>
<td>
<p><em>Style for representing duration values</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[narrow|wide|colon-sep|iso]&#8288;</code> // <em>default:</em> <code>"narrow"</code>
</p>
<p>A choice of four formatting styles for the output duration values. With
<code>"narrow"</code> (the default style), duration values will be formatted with
single letter time-part units (e.g., 1.35 days will be styled as
<code>"1d 8h 24m"</code>). With <code>"wide"</code>, this example value will be expanded to
<code>"1 day 8 hours 24 minutes"</code> after formatting. The <code>"colon-sep"</code> style will
put days, hours, minutes, and seconds in the <code>"([D]/)[HH]:[MM]:[SS]"</code>
format. The <code>"iso"</code> style will produce a value that conforms to the ISO
8601 rules for duration values (e.g., 1.35 days will become <code>"P1DT8H24M"</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_trim_zero_units">trim_zero_units</code></td>
<td>
<p><em>Trimming of zero values</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|mult-kw:[leading|trailing|internal]&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Provides methods to remove output time units that have zero values. By
default this is <code>TRUE</code> and duration values that might otherwise be
formatted as <code>"0w 1d 0h 4m 19s"</code> with <code>trim_zero_units = FALSE</code> are instead
displayed as <code>"1d 4m 19s"</code>. Aside from using <code>TRUE</code>/<code>FALSE</code> we could
provide a vector of keywords for more precise control. These keywords are:
(1) <code>"leading"</code>, to omit all leading zero-value time units (e.g., <code>"0w 1d"</code>
-&gt; <code>"1d"</code>), (2) <code>"trailing"</code>, to omit all trailing zero-value time units
(e.g., <code>"3d 5h 0s"</code> -&gt; <code>"3d 5h"</code>), and <code>"internal"</code>, which removes all
internal zero-value time units (e.g., <code>"5d 0h 33m"</code> -&gt; <code>"5d 33m"</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_max_output_units">max_output_units</code></td>
<td>
<p><em>Maximum number of time units to display</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>If <code>output_units</code> is <code>NULL</code>, where the output time units are unspecified
and left to <strong>gt</strong> to handle, a numeric value provided for
<code>max_output_units</code> will be taken as the maximum number of time units to
display in all output time duration values. By default, this is <code>NULL</code> and
all possible time units will be displayed. This option has no effect when
<code>duration_style = "colon-sep"</code> (only <code>output_units</code> can be used to
customize that type of duration output).</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. By
default only negative values will display a minus sign.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_duration_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Output units for the colon-separated duration style</h3>

<p>The colon-separated duration style (enabled when
<code>duration_style = "colon-sep"</code>) is essentially a clock-based output format
which uses the display logic of chronograph watch functionality. It will, by
default, display duration values in the <code style="white-space: pre;">&#8288;(D/)HH:MM:SS&#8288;</code> format. Any duration
values greater than or equal to 24 hours will have the number of days
prepended with an adjoining slash mark. While this output format is
versatile, it can be changed somewhat with the <code>output_units</code> option. The
following combinations of output units are permitted:
</p>

<ul>
<li> <p><code>c("minutes", "seconds")</code> -&gt; <code>MM:SS</code>
</p>
</li>
<li> <p><code>c("hours", "minutes")</code> -&gt; <code>HH:MM</code>
</p>
</li>
<li> <p><code>c("hours", "minutes", "seconds")</code> -&gt; <code>HH:MM:SS</code>
</p>
</li>
<li> <p><code>c("days", "hours", "minutes")</code> -&gt; <code style="white-space: pre;">&#8288;(D/)HH:MM&#8288;</code>
</p>
</li></ul>

<p>Any other specialized combinations will result in the default set being used,
which is <code>c("days", "hours", "minutes", "seconds")</code>
</p>


<h3>Examples</h3>

<p>Let's create a <code>difftime</code>-based vector for the next few examples:
</p>
<div class="sourceCode r"><pre>difftimes &lt;-
  difftime(
    lubridate::ymd("2017-01-15"),
    lubridate::ymd(c("2015-06-25", "2016-03-07", "2017-01-10"))
  )
</pre></div>
<p>Using <code>vec_fmt_duration()</code> with its defaults provides us with a succinct
vector of formatted durations.
</p>
<div class="sourceCode r"><pre>vec_fmt_duration(difftimes)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "81w 3d" "44w 6d" "5d"
</pre></div>
<p>We can elect to use just only the time units of days to describe the duration
values.
</p>
<div class="sourceCode r"><pre>vec_fmt_duration(difftimes, output_units = "days")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "570d" "314d" "5d"
</pre></div>
<p>We can also use numeric values in the input vector <code>vec_fmt_duration()</code>.
Here's a numeric vector for use with examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(3.235, 0.23, 0.005, NA)
</pre></div>
<p>The necessary thing with numeric values as an input is defining what time
unit those values have.
</p>
<div class="sourceCode r"><pre>vec_fmt_duration(num_vals, input_units = "days")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "3d 5h 38m 24s" "5h 31m 12s" "7m 12s" "NA"
</pre></div>
<p>We can define a set of output time units that we want to see.
</p>
<div class="sourceCode r"><pre>vec_fmt_duration(
  num_vals,
  input_units = "days",
  output_units = c("hours", "minutes")
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "77h 38m" "5h 31m" "7m" "NA"
</pre></div>
<p>There are many duration 'styles' to choose from. We could opt for the
<code>"wide"</code> style.
</p>
<div class="sourceCode r"><pre>vec_fmt_duration(
  num_vals,
  input_units = "days",
  duration_style = "wide"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "3 days 5 hours 38 minutes 24 seconds"
#&gt; [2] "5 hours 31 minutes 12 seconds"
#&gt; [3] "7 minutes 12 seconds"
#&gt; [4] "NA"
</pre></div>
<p>We can always perform locale-specific formatting with <code>vec_fmt_duration()</code>.
Let's attempt the same type of duration formatting as before with the <code>"nl"</code>
locale.
</p>
<div class="sourceCode r"><pre>vec_fmt_duration(
  num_vals,
  input_units = "days",
  duration_style = "wide",
  locale = "nl"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "3 dagen 5 uur 38 minuten 24 seconden"
#&gt; [2] "5 uur 31 minuten 12 seconden"
#&gt; [3] "7 minuten 12 seconden"
#&gt; [4] "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-16
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_duration">fmt_duration()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_engineering'>Format a vector as values in engineering notation</h2><span id='topic+vec_fmt_engineering'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can perform formatting so that the
targeted values are rendered in engineering notation, where numbers are
written in the form of a mantissa (<code>m</code>) and an exponent (<code>n</code>). When combined
the construction is either of the form <em>m</em> x 10^<em>n</em> or <em>m</em>E<em>n</em>. The mantissa
is a number between <code>1</code> and <code>1000</code> and the exponent is a multiple of <code>3</code>. For
example, the number 0.0000345 can be written in engineering notation as
<code style="white-space: pre;">&#8288;34.50 x 10^-6&#8288;</code>. This notation helps to simplify calculations and make it
easier to compare numbers that are on very different scales.
</p>
<p>We have fine control over the formatting task, with the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_engineering(
  x,
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_by = 1,
  exp_style = "x10n",
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign_m = FALSE,
  force_sign_n = FALSE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_engineering_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_exp_style">exp_style</code></td>
<td>
<p><em>Style declaration for exponent formatting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"x10n"</code>
</p>
<p>Style of formatting to use for the scientific notation formatting. By
default this is <code>"x10n"</code> but other options include using a single letter
(e.g., <code>"e"</code>, <code>"E"</code>, etc.), a letter followed by a <code>"1"</code> to signal a
minimum digit width of one, or <code>"low-ten"</code> for using a stylized <code>"10"</code>
marker.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_force_sign_m">force_sign_m</code>, <code id="vec_fmt_engineering_+3A_force_sign_n">force_sign_n</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the plus sign be shown for positive values of the mantissa (first
component, <code>force_sign_m</code>) or the exponent (<code>force_sign_n</code>)? This would
effectively show a sign for all values except zero on either of those
numeric components of the notation. If so, use <code>TRUE</code> for either one of
these options. The default for both is <code>FALSE</code>, where only negative numbers
will display a sign.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_engineering_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(3.24e-4, 8.65, 1362902.2, -59027.3, NA)
</pre></div>
<p>Using <code>vec_fmt_engineering()</code> with the default options will create a
character vector with values engineering notation. Any <code>NA</code> values remain as
<code>NA</code> values. The rendering context will be autodetected unless specified in
the <code>output</code> argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_engineering(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324.00 x 10^-6" "8.65" "1.36 x 10^6" "-59.03 x 10^3" "NA"
</pre></div>
<p>We can change the number of decimal places with the <code>decimals</code> option:
</p>
<div class="sourceCode r"><pre>vec_fmt_engineering(num_vals, decimals = 1)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324.0 x 10^-6" "8.7" "1.4 x 10^6" "-59.0 x 10^3" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and <strong>gt</strong> will handle any locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_engineering(num_vals, locale = "da")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "324,00 x 10^-6" "8,65" "1,36 x 10^6" "-59,03 x 10^3" "NA"
</pre></div>
<p>Should you need to have positive and negative signs for the mantissa
component of a given value, use <code>force_sign_m = TRUE</code>:
</p>
<div class="sourceCode r"><pre>vec_fmt_engineering(num_vals, force_sign_m = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+324.00 x 10^-6" "+8.65" "+1.36 x 10^6" "-59.03 x 10^3" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_engineering(num_vals, pattern = "/{x}/")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "/324.00 x 10^-6/" "/8.65/" "/1.36 x 10^6/" "/-59.03 x 10^3/" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-4
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_engineering">fmt_engineering()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_fraction'>Format a vector as mixed fractions</h2><span id='topic+vec_fmt_fraction'></span>

<h3>Description</h3>

<p>With numeric values in vector, we can perform mixed-fraction-based
formatting. There are several options for setting the accuracy of the
fractions. Furthermore, there is an option for choosing a layout (i.e.,
typesetting style) for the mixed-fraction output.
</p>
<p>The following options are available for controlling this type of formatting:
</p>

<ul>
<li><p> accuracy: how to express the fractional part of the mixed fractions; there
are three keyword options for this and an allowance for arbitrary denominator
settings
</p>
</li>
<li><p> simplification: an option to simplify fractions whenever possible
</p>
</li>
<li><p> layout: We can choose to output values with diagonal or inline fractions
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol for the whole number portion
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
mixed fractions
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_fraction(
  x,
  accuracy = NULL,
  simplify = TRUE,
  layout = c("inline", "diagonal"),
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_fraction_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_accuracy">accuracy</code></td>
<td>
<p><em>Accuracy of fractions</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[low|med|high]|scalar&lt;numeric|integer&gt;(val&gt;=1)&#8288;</code> // <em>default:</em> <code>"low"</code>
</p>
<p>The type of fractions to generate. This can either be one of the keywords
<code>"low"</code>, <code>"med"</code>, or <code>"high"</code> (to generate fractions with denominators of
up to 1, 2, or 3 digits, respectively) or an integer value greater than
zero to obtain fractions with a fixed denominator (<code>2</code> yields halves, <code>3</code>
is for thirds, <code>4</code> is quarters, etc.). For the latter option, using
<code>simplify = TRUE</code> will simplify fractions where possible (e.g., <code>2/4</code> will
be simplified as <code>1/2</code>). By default, the <code>"low"</code> option is used.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_simplify">simplify</code></td>
<td>
<p><em>Simplify the fraction</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>If choosing to provide a numeric value for <code>accuracy</code>, the option to
simplify the fraction (where possible) can be taken with <code>TRUE</code> (the
default). With <code>FALSE</code>, denominators in fractions will be fixed to the
value provided in <code>accuracy</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_layout">layout</code></td>
<td>
<p><em>Layout of fractions in HTML output</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[inline|diagonal]&#8288;</code> // <em>default:</em> <code>"inline"</code>
</p>
<p>For HTML output, the <code>"inline"</code> layout is the default. This layout places
the numerals of the fraction on the baseline and uses a standard slash
character. The <code>"diagonal"</code> layout will generate fractions that are typeset
with raised/lowered numerals and a virgule.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_fraction_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(0.0052, 0.08, 0, -0.535, NA)
</pre></div>
<p>Using <code>vec_fmt_fraction()</code> will create a character vector of fractions. Any
<code>NA</code> values will render as <code>"NA"</code>. The rendering context will be autodetected
unless specified in the <code>output</code> argument (here, it is of the <code>"plain"</code>
output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_fraction(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0" "1/9" "0" "-5/9" "NA"
</pre></div>
<p>There are many options for formatting as fractions. If you'd like a higher
degree of accuracy in the computation of fractions we can supply the <code>"med"</code>
or <code>"high"</code> keywords to the <code>accuracy</code> argument:
</p>
<div class="sourceCode r"><pre>vec_fmt_fraction(num_vals, accuracy = "high")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1/200" "2/25" "0" "-107/200" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_fraction(num_vals, accuracy = 8, pattern = "[{x}]")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "[0]" "[1/8]" "[0]" "[-1/2]" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-7
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_fraction">fmt_fraction()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_index'>Format a vector as indexed characters</h2><span id='topic+vec_fmt_index'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can transform those to index values,
usually based on letters. These characters can be derived from a specified
locale and they are intended for ordering (often leaving out characters with
diacritical marks).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_index(
  x,
  case = c("upper", "lower"),
  index_algo = c("repeat", "excel"),
  pattern = "{x}",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_index_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_index_+3A_case">case</code></td>
<td>
<p><em>Use uppercase or lowercase letters</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[upper|lower]&#8288;</code> // <em>default:</em> <code>"upper"</code>
</p>
<p>Should the resulting index characters be rendered as uppercase (<code>"upper"</code>)
or lowercase (<code>"lower"</code>) letters? By default, this is set to <code>"upper"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_index_+3A_index_algo">index_algo</code></td>
<td>
<p><em>Indexing algorithm</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[repeat|excel]&#8288;</code> // <em>default:</em> <code>"repeat"</code>
</p>
<p>The indexing algorithm handles the recycling of the index character set. By
default, the <code>"repeat"</code> option is used where characters are doubled,
tripled, and so on, when moving past the character set limit. The
alternative is the <code>"excel"</code> option, where Excel-based column naming is
adapted and used here (e.g., <code style="white-space: pre;">&#8288;[..., Y, Z, AA, AB, ...]&#8288;</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_index_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_index_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for
a useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_index_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(1, 4, 5, 8, 12, 20, 26, 34, 0, -5, 1.3, NA)
</pre></div>
<p>Using <code>vec_fmt_index()</code> with the default options will create a character
vector with values rendered as index numerals. Zero values will be rendered
as <code>""</code> (i.e., empty strings), any <code>NA</code> values remain as <code>NA</code> values, and
negative values will be automatically made positive. The rendering context
will be autodetected unless specified in the <code>output</code> argument (here, it is
of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_index(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "A" "D" "E" "H" "L" "T" "Z" "HH" "" "E" "A" "NA"
</pre></div>
<p>We can also use <code>vec_fmt_index()</code> with the <code>case = "lower"</code> option to create
a character vector with values rendered as lowercase Roman numerals.
</p>
<div class="sourceCode r"><pre>vec_fmt_index(num_vals, case = "lower")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "a" "d" "e" "h" "l" "t" "z" "hh" "" "e" "a" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> obtain a locale-specific set of index values:
</p>
<div class="sourceCode r"><pre>vec_fmt_index(1:10, locale = "so")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "B" "C" "D" "F" "G" "H" "J" "K" "L" "M"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_index(num_vals, case = "lower", pattern = "{x}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "a." "d." "e." "h." "l." "t." "z." "hh." "." "e." "a." "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-10
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_index">fmt_index()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_integer'>Format a vector as integer values</h2><span id='topic+vec_fmt_integer'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can perform number-based formatting so
that the input values are always rendered as integer values within a
character vector. The following major options are available:
</p>

<ul>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> large-number suffixing: larger figures (thousands, millions, etc.) can
be autoscaled and decorated with the appropriate suffixes
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_integer(
  x,
  use_seps = TRUE,
  accounting = FALSE,
  scale_by = 1,
  suffixing = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  force_sign = FALSE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_integer_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied. This value will be
ignored if using any of the <code>suffixing</code> options (i.e., where <code>suffixing</code> is
not set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_suffixing">suffixing</code></td>
<td>
<p><em>Specification for large-number suffixing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>suffixing</code> option allows us to scale and apply suffixes to larger
numbers (e.g., <code>1924000</code> can be transformed to <code style="white-space: pre;">&#8288;2M&#8288;</code>). This option can
accept a logical value, where <code>FALSE</code> (the default) will not perform this
transformation and <code>TRUE</code> will apply thousands (<code>K</code>), millions (<code>M</code>),
billions (<code>B</code>), and trillions (<code>T</code>) suffixes after automatic value scaling.
</p>
<p>We can alternatively provide a character vector that serves as a
specification for which symbols are to used for each of the value ranges.
These preferred symbols will replace the defaults (e.g.,
<code>c("k", "Ml", "Bn", "Tr")</code> replaces <code>"K"</code>, <code>"M"</code>, <code>"B"</code>, and <code>"T"</code>).
</p>
<p>Including <code>NA</code> values in the vector will ensure that the particular range
will either not be included in the transformation (e.g.,
<code>c(NA, "M", "B", "T")</code> won't modify numbers at all in the thousands range)
or the range will inherit a previous suffix (e.g., with
<code>c("K", "M", NA, "T")</code>, all numbers in the range of millions and billions
will be in terms of millions).
</p>
<p>Any use of <code>suffixing</code> (where it is not set expressly as <code>FALSE</code>) means
that any value provided to <code>scale_by</code> will be ignored.
</p>
<p>If using <code>system = "ind"</code> then the default suffix set provided by
<code>suffixing = TRUE</code> will be the equivalent of <code>c(NA, "L", "Cr")</code>. This
doesn't apply suffixes to the thousands range, but does express values in
<em>lakhs</em> and <em>crores</em>.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_integer_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(5.2, 8.65, 13602, -5.3, NA)
</pre></div>
<p>Using <code>vec_fmt_integer()</code> with the default options will create a character
vector where the input values undergo rounding to become integers and <code>NA</code>
values will render as <code>"NA"</code>. Also, the rendering context will be
autodetected unless specified in the <code>output</code> argument (here, it is of the
<code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_integer(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "5" "9" "13,602" "-5" "NA"
</pre></div>
<p>We can change the digit separator mark to a period with the <code>sep_mark</code>
option:
</p>
<div class="sourceCode r"><pre>vec_fmt_integer(num_vals, sep_mark = ".")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "5" "9" "13.602" "-5" "NA"
</pre></div>
<p>Many options abound for formatting values. If you have a need for positive
and negative signs in front of each and every value, use <code>force_sign = TRUE</code>:
</p>
<div class="sourceCode r"><pre>vec_fmt_integer(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+5" "+9" "+13,602" "-5" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_integer(num_vals, pattern = "`{x}`")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "`5`" "`9`" "`13,602`" "`-5`" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-2
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_integer">fmt_integer()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_markdown'>Format a vector containing Markdown text</h2><span id='topic+vec_fmt_markdown'></span>

<h3>Description</h3>

<p>Any Markdown-formatted text in the input vector will be transformed to the
appropriate output type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_markdown(
  x,
  md_engine = c("markdown", "commonmark"),
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_markdown_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_markdown_+3A_md_engine">md_engine</code></td>
<td>
<p><em>Choice of Markdown engine</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[markdown|commonmark]&#8288;</code> // <em>default:</em> <code>"markdown"</code>
</p>
<p>The engine preference for Markdown rendering. By default, this is set to
<code>"markdown"</code> where <strong>gt</strong> will use the <strong>markdown</strong> package for Markdown
conversion to HTML and LaTeX. The other option is <code>"commonmark"</code> and with
that the <strong>commonmark</strong> package will be used.</p>
</td></tr>
<tr><td><code id="vec_fmt_markdown_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Create a vector of Markdown-based text snippets.
</p>
<div class="sourceCode r"><pre>text_vec &lt;-
  c(
    "This **is** *Markdown*.",
    "Info on Markdown syntax can be found
[here](https://daringfireball.net/projects/markdown/).",
    "The **gt** package has these datasets:
- `countrypops`
- `sza`
- `gtcars`
- `sp500`
- `pizzaplace`
- `exibble`"
  )
</pre></div>
<p>With <code>vec_fmt_markdown()</code> we can easily convert these to different output types,
like HTML
</p>
<div class="sourceCode r"><pre>vec_fmt_markdown(text_vec, output = "html")
#&gt; [1] "This &lt;strong&gt;is&lt;/strong&gt; &lt;em&gt;Markdown&lt;/em&gt;.&lt;/span&gt;"                                                                                                                                                                                                            
#&gt; [2] "Info on Markdown syntax can be found\n&lt;a href=\"https://daringfireball.net/projects/markdown/\"&gt;here&lt;/a&gt;.&lt;/span&gt;"                                                                                                                                              
#&gt; [3] "The &lt;strong&gt;gt&lt;/strong&gt; package has these datasets:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;countrypops&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;sza&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;gtcars&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;sp500&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;pizzaplace&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;exibble&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;"
</pre></div>
<p>or LaTeX
</p>
<div class="sourceCode r"><pre>vec_fmt_markdown(text_vec, output = "latex")
#&gt; [1] "This \\textbf{is} \\emph{Markdown}."                                                                                                                                                                                                                     
#&gt; [2] "Info on Markdown syntax can be found\n\\href{https://daringfireball.net/projects/markdown/}{here}."                                                                                                                                                      
#&gt; [3] "The \\textbf{gt} package has these datasets:\n\n\\begin{itemize}\n\\item \\texttt{countrypops}\n\n\\item \\texttt{sza}\n\n\\item \\texttt{gtcars}\n\n\\item \\texttt{sp500}\n\n\\item \\texttt{pizzaplace}\n\n\\item \\texttt{exibble}\n\n\\end{itemize}"
</pre></div>


<h3>Function ID</h3>

<p>15-17
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_markdown">fmt_markdown()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_number'>Format a vector as numeric values</h2><span id='topic+vec_fmt_number'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can perform number-based formatting so
that the values are rendered to a character vector with some level of
precision. The following major options are available:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> large-number suffixing: larger figures (thousands, millions, etc.) can
be autoscaled and decorated with the appropriate suffixes
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_number(
  x,
  decimals = 2,
  n_sigfig = NULL,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  scale_by = 1,
  suffixing = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_number_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_n_sigfig">n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied. This value will be
ignored if using any of the <code>suffixing</code> options (i.e., where <code>suffixing</code> is
not set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_suffixing">suffixing</code></td>
<td>
<p><em>Specification for large-number suffixing</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;|vector&lt;character&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>The <code>suffixing</code> option allows us to scale and apply suffixes to larger
numbers (e.g., <code>1924000</code> can be transformed to <code style="white-space: pre;">&#8288;1.92M&#8288;</code>). This option can
accept a logical value, where <code>FALSE</code> (the default) will not perform this
transformation and <code>TRUE</code> will apply thousands (<code>"K"</code>), millions (<code>"M"</code>),
billions (<code>"B"</code>), and trillions (<code>"T"</code>) suffixes after automatic value
scaling.
</p>
<p>We can alternatively provide a character vector that serves as a
specification for which symbols are to used for each of the value ranges.
These preferred symbols will replace the defaults (e.g.,
<code>c("k", "Ml", "Bn", "Tr")</code> replaces <code>"K"</code>, <code>"M"</code>, <code>"B"</code>, and <code>"T"</code>).
</p>
<p>Including <code>NA</code> values in the vector will ensure that the particular range
will either not be included in the transformation (e.g.,
<code>c(NA, "M", "B", "T")</code> won't modify numbers at all in the thousands range)
or the range will inherit a previous suffix (e.g., with
<code>c("K", "M", NA, "T")</code>, all numbers in the range of millions and billions
will be in terms of millions).
</p>
<p>Any use of <code>suffixing</code> (where it is not set expressly as <code>FALSE</code>) means
that any value provided to <code>scale_by</code> will be ignored.
</p>
<p>If using <code>system = "ind"</code> then the default suffix set provided by
<code>suffixing = TRUE</code> will be the equivalent of <code>c(NA, "L", "Cr")</code>. This
doesn't apply suffixes to the thousands range, but does express values in
<em>lakhs</em> and <em>crores</em>.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_number_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(5.2, 8.65, 0, -5.3, NA)
</pre></div>
<p>Using <code>vec_fmt_number()</code> with the default options will create a character
vector where the numeric values have two decimal places and <code>NA</code> values will
render as <code>"NA"</code>. Also, the rendering context will be autodetected unless
specified in the <code>output</code> argument (here, it is of the <code>"plain"</code> output
type).
</p>
<div class="sourceCode r"><pre>vec_fmt_number(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "5.20" "8.65" "0.00" "-5.30" "NA"
</pre></div>
<p>We can change the decimal mark to a comma, and we have to be sure to change
the digit separator mark from the default comma to something else (a period
works here):
</p>
<div class="sourceCode r"><pre>vec_fmt_number(num_vals, sep_mark = ".", dec_mark = ",")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "5,20" "8,65" "0,00" "-5,30" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> handle these locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_number(num_vals, locale = "fr")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "5,20" "8,65" "0,00" "-5,30" "NA"
</pre></div>
<p>There are many options for formatting values. Perhaps you need to have
explicit positive and negative signs? Use <code>force_sign = TRUE</code> for that.
</p>
<div class="sourceCode r"><pre>vec_fmt_number(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+5.20" "+8.65" "0.00" "-5.30" "NA"
</pre></div>
<p>Those trailing zeros past the decimal mark can be stripped out by using the
<code>drop_trailing_zeros</code> option.
</p>
<div class="sourceCode r"><pre>vec_fmt_number(num_vals, drop_trailing_zeros = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "5.2" "8.65" "0" "-5.3" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_number(num_vals, pattern = "`{x}`")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "`5.20`" "`8.65`" "`0.00`" "`-5.30`" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_number">fmt_number()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_partsper'>Format a vector as parts-per quantities</h2><span id='topic+vec_fmt_partsper'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can format the values so that they
are rendered as <em>per mille</em>, <em>ppm</em>, <em>ppb</em>, etc., quantities. The following
list of keywords (with associated naming and scaling factors) is available to
use within <code>vec_fmt_partsper()</code>:
</p>

<ul>
<li> <p><code>"per-mille"</code>: Per mille, (1 part in <code style="white-space: pre;">&#8288;1,000&#8288;</code>)
</p>
</li>
<li> <p><code>"per-myriad"</code>: Per myriad, (1 part in <code style="white-space: pre;">&#8288;10,000&#8288;</code>)
</p>
</li>
<li> <p><code>"pcm"</code>: Per cent mille (1 part in <code style="white-space: pre;">&#8288;100,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppm"</code>: Parts per million, (1 part in <code style="white-space: pre;">&#8288;1,000,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppb"</code>: Parts per billion, (1 part in <code style="white-space: pre;">&#8288;1,000,000,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppt"</code>: Parts per trillion, (1 part in <code style="white-space: pre;">&#8288;1,000,000,000,000&#8288;</code>)
</p>
</li>
<li> <p><code>"ppq"</code>: Parts per quadrillion, (1 part in <code style="white-space: pre;">&#8288;1,000,000,000,000,000&#8288;</code>)
</p>
</li></ul>

<p>The function provides a lot of formatting control and we can use the
following options:
</p>

<ul>
<li><p> custom symbol/units: we can override the automatic symbol or units display
with our own choice as the situation warrants
</p>
</li>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> value scaling toggle: choose to disable automatic value scaling in the
situation that values are already scaled coming in (and just require the
appropriate symbol or unit display)
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_partsper(
  x,
  to_units = c("per-mille", "per-myriad", "pcm", "ppm", "ppb", "ppt", "ppq"),
  symbol = "auto",
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_values = TRUE,
  use_seps = TRUE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = "auto",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_partsper_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_to_units">to_units</code></td>
<td>
<p><em>Output Quantity</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[per-mille|per-myriad|pcm|ppm|ppb|ppt|ppq]&#8288;</code> // <em>default:</em> <code>"per-mille"</code>
</p>
<p>A keyword that signifies the desired output quantity. This can be any from
the following set: <code>"per-mille"</code>, <code>"per-myriad"</code>, <code>"pcm"</code>, <code>"ppm"</code>,
<code>"ppb"</code>, <code>"ppt"</code>, or <code>"ppq"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_symbol">symbol</code></td>
<td>
<p><em>Symbol or units to use in output display</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The symbol/units to use for the quantity. By default, this is set to
<code>"auto"</code> and <strong>gt</strong> will choose the appropriate symbol based on the
<code>to_units</code> keyword and the output context. However, this can be changed by
supplying a string (e.g, using <code>symbol = "ppbV"</code> when <code>to_units = "ppb"</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_scale_values">scale_values</code></td>
<td>
<p><em>Scale input values accordingly</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the values be scaled through multiplication according to the keyword
set in <code>to_units</code>? By default this is <code>TRUE</code> since the expectation is that
normally values are proportions. Setting to <code>FALSE</code> signifies that the
values are already scaled and require only the appropriate symbol/units
when formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the symbol/units</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>An option for whether to include a space between the value and the
symbol/units. The default is <code>"auto"</code> which provides spacing dependent on
the mark itself. This can be directly controlled by using either <code>TRUE</code> or
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_partsper_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(10^(-3:-5), NA)
</pre></div>
<p>Using <code>vec_fmt_partsper()</code> with the default options will create a character
vector where the resultant per mille values have two decimal places and <code>NA</code>
values will render as <code>"NA"</code>. The rendering context will be autodetected
unless specified in the <code>output</code> argument (here, it is of the <code>"plain"</code>
output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_partsper(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1.00%." "0.10%." "0.01%." "NA"
</pre></div>
<p>We can change the output units to a different measure. If ppm units are
desired then <code>to_units = "ppm"</code> can be used.
</p>
<div class="sourceCode r"><pre>vec_fmt_partsper(num_vals, to_units = "ppm")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1,000.00 ppm" "100.00 ppm" "10.00 ppm" "NA"
</pre></div>
<p>We can change the decimal mark to a comma, and we have to be sure to change
the digit separator mark from the default comma to something else (a period
works here):
</p>
<div class="sourceCode r"><pre>vec_fmt_partsper(
  num_vals,
  to_units = "ppm",
  sep_mark = ".",
  dec_mark = ","
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1.000,00 ppm" "100,00 ppm" "10,00 ppm" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> handle these locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_partsper(num_vals, to_units = "ppm", locale = "es")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1.000,00 ppm" "100,00 ppm" "10,00 ppm" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_partsper(num_vals, to_units = "ppm", pattern = "{x}V")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "1,000.00 ppmV" "100.00 ppmV" "10.00 ppmV" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-6
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_partsper">fmt_partsper()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_percent'>Format a vector as percentage values</h2><span id='topic+vec_fmt_percent'></span>

<h3>Description</h3>

<p>With numeric values in vector, we can perform percentage-based formatting. It
is assumed that numeric values in the input vector are proportional values
and, in this case, the values will be automatically multiplied by <code>100</code>
before decorating with a percent sign (the other case is accommodated though
setting the <code>scale_values</code> to <code>FALSE</code>). For more control over percentage
formatting, we can use the following options:
</p>

<ul>
<li><p> percent sign placement: the percent sign can be placed after or
before the values and a space can be inserted between the symbol and the
value.
</p>
</li>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> digit grouping separators: options to enable/disable digit separators
and provide a choice of separator symbol
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in number
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_percent(
  x,
  decimals = 2,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_values = TRUE,
  use_seps = TRUE,
  accounting = FALSE,
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign = FALSE,
  incl_space = FALSE,
  placement = "right",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_percent_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_scale_values">scale_values</code></td>
<td>
<p><em>Multiply input values by 100</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should the values be scaled through multiplication by 100? By default this
scaling is performed since the expectation is that incoming values are
usually proportional. Setting to <code>FALSE</code> signifies that the values are
already scaled and require only the percent sign when formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_use_seps">use_seps</code></td>
<td>
<p><em>Use digit group separators</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>An option to use digit group separators. The type of digit group separator
is set by <code>sep_mark</code> and overridden if a locale ID is provided to <code>locale</code>.
This setting is <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_accounting">accounting</code></td>
<td>
<p><em>Use accounting style</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option to use accounting style for values. Normally, negative values
will be shown with a minus sign but using accounting style will instead put
any negative values in parentheses.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_force_sign">force_sign</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the positive sign be shown for positive values (effectively showing
a sign for all values except zero)? If so, use <code>TRUE</code> for this option. The
default is <code>FALSE</code>, where only negative numbers will display a minus sign.
This option is disregarded when using accounting notation with
<code>accounting = TRUE</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_incl_space">incl_space</code></td>
<td>
<p><em>Include a space between the value and the % sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>An option for whether to include a space between the value and the percent
sign. The default is to not introduce a space character.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_placement">placement</code></td>
<td>
<p><em>Percent sign placement</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[right|left]&#8288;</code> // <em>default:</em> <code>"right"</code>
</p>
<p>This option governs the placement of the percent sign. This can be either
be <code>"right"</code> (the default) or <code>"left"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_percent_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(0.0052, 0.08, 0, -0.535, NA)
</pre></div>
<p>Using <code>vec_fmt_percent()</code> with the default options will create a character
vector where the resultant percentage values have two decimal places and <code>NA</code>
values will render as <code>"NA"</code>. The rendering context will be autodetected
unless specified in the <code>output</code> argument (here, it is of the <code>"plain"</code>
output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.52%" "8.00%" "0.00%" "-53.50%" "NA"
</pre></div>
<p>We can change the decimal mark to a comma, and we have to be sure to change
the digit separator mark from the default comma to something else (a period
works here):
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, sep_mark = ".", dec_mark = ",")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0,52%" "8,00%" "0,00%" "-53,50%" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> handle these locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, locale = "pt")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0,52%" "8,00%" "0,00%" "-53,50%" "NA"
</pre></div>
<p>There are many options for formatting values. Perhaps you need to have
explicit positive and negative signs? Use <code>force_sign = TRUE</code> for that.
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, force_sign = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+0.52%" "+8.00%" "0.00%" "-53.50%" "NA"
</pre></div>
<p>Those trailing zeros past the decimal mark can be stripped out by using the
<code>drop_trailing_zeros</code> option.
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, drop_trailing_zeros = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.52%" "8%" "0%" "-53.5%" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_percent(num_vals, pattern = "{x}wt")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "0.52%wt" "8.00%wt" "0.00%wt" "-53.50%wt" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-5
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_percent">fmt_percent()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_roman'>Format a vector as Roman numerals</h2><span id='topic+vec_fmt_roman'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can transform those to Roman numerals,
rounding values as necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_roman(
  x,
  case = c("upper", "lower"),
  pattern = "{x}",
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_roman_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_roman_+3A_case">case</code></td>
<td>
<p><em>Use uppercase or lowercase letters</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[upper|lower]&#8288;</code> // <em>default:</em> <code>"upper"</code>
</p>
<p>Should Roman numerals should be rendered as uppercase (<code>"upper"</code>) or
lowercase (<code>"lower"</code>) letters? By default, this is set to <code>"upper"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_roman_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_roman_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(1, 4, 5, 8, 12, 20, 0, -5, 1.3, NA)
</pre></div>
<p>Using <code>vec_fmt_roman()</code> with the default options will create a character
vector with values rendered as Roman numerals. Zero values will be rendered
as <code>"N"</code>, any <code>NA</code> values remain as <code>NA</code> values, negative values will be
automatically made positive, and values greater than or equal to 3900 will be
rendered as <code>"ex terminis"</code>. The rendering context will be autodetected
unless specified in the <code>output</code> argument (here, it is of the <code>"plain"</code>
output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_roman(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "I" "IV" "V" "VIII" "XII" "XX" "N" "V" "I" "NA"
</pre></div>
<p>We can also use <code>vec_fmt_roman()</code> with the <code>case = "lower"</code> option to create
a character vector with values rendered as lowercase Roman numerals.
</p>
<div class="sourceCode r"><pre>vec_fmt_roman(num_vals, case = "lower")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "i" "iv" "v" "viii" "xii" "xx" "n" "v" "i" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_roman(num_vals, case = "lower", pattern = "{x}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "i." "iv." "v." "viii." "xii." "xx." "n." "v." "i." "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-9
</p>


<h3>Function Introduced</h3>

<p><code>v0.8.0</code> (November 16, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_roman">fmt_roman()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_scientific'>Format a vector as values in scientific notation</h2><span id='topic+vec_fmt_scientific'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can perform formatting so that the
targeted values are rendered in scientific notation, where extremely large or
very small numbers can be expressed in a more practical fashion. Here,
numbers are written in the form of a mantissa (<code>m</code>) and an exponent (<code>n</code>)
with the construction <em>m</em> x 10^<em>n</em> or <em>m</em>E<em>n</em>. The mantissa component is a
number between <code>1</code> and <code>10</code>. For instance, <code style="white-space: pre;">&#8288;2.5 x 10^9&#8288;</code> can be used to
represent the value 2,500,000,000 in scientific notation. In a similar way,
0.00000012 can be expressed as <code style="white-space: pre;">&#8288;1.2 x 10^-7&#8288;</code>. Due to its ability to describe
numbers more succinctly and its ease of calculation, scientific notation is
widely employed in scientific and technical domains.
</p>
<p>We have fine control over the formatting task, with the following options:
</p>

<ul>
<li><p> decimals: choice of the number of decimal places, option to drop
trailing zeros, and a choice of the decimal symbol
</p>
</li>
<li><p> scaling: we can choose to scale targeted values by a multiplier value
</p>
</li>
<li><p> pattern: option to use a text pattern for decoration of the formatted
values
</p>
</li>
<li><p> locale-based formatting: providing a locale ID will result in
formatting specific to the chosen locale
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_scientific(
  x,
  decimals = 2,
  n_sigfig = NULL,
  drop_trailing_zeros = FALSE,
  drop_trailing_dec_mark = TRUE,
  scale_by = 1,
  exp_style = "x10n",
  pattern = "{x}",
  sep_mark = ",",
  dec_mark = ".",
  force_sign_m = FALSE,
  force_sign_n = FALSE,
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_scientific_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_decimals">decimals</code></td>
<td>
<p><em>Number of decimal places</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=0)</code> // <em>default:</em> <code>2</code>
</p>
<p>This corresponds to the exact number of decimal places to use. A value
such as <code>2.34</code> can, for example, be formatted with <code>0</code> decimal places and
it would result in <code>"2"</code>. With <code>4</code> decimal places, the formatted value
becomes <code>"2.3400"</code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_n_sigfig">n_sigfig</code></td>
<td>
<p><em>Number of significant figures</em>
</p>
<p><code>scalar&lt;numeric|integer&gt;(val&gt;=1)</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A option to format numbers to <em>n</em> significant figures. By default, this is
<code>NULL</code> and thus number values will be formatted according to the number of
decimal places set via <code>decimals</code>. If opting to format according to the
rules of significant figures, <code>n_sigfig</code> must be a number greater than or
equal to <code>1</code>. Any values passed to the <code>decimals</code> and <code>drop_trailing_zeros</code>
arguments will be ignored.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_drop_trailing_zeros">drop_trailing_zeros</code></td>
<td>
<p><em>Drop any trailing zeros</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>A logical value that allows for removal of trailing zeros (those redundant
zeros after the decimal mark).</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_drop_trailing_dec_mark">drop_trailing_dec_mark</code></td>
<td>
<p><em>Drop the trailing decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>A logical value that determines whether decimal marks should always appear
even if there are no decimal digits to display after formatting (e.g., <code>23</code>
becomes <code>23.</code> if <code>FALSE</code>). By default trailing decimal marks are not shown.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_scale_by">scale_by</code></td>
<td>
<p><em>Scale values by a fixed multiplier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>1</code>
</p>
<p>All numeric values will be multiplied by the <code>scale_by</code> value before
undergoing formatting. Since the <code>default</code> value is <code>1</code>, no values will be
changed unless a different multiplier value is supplied.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_exp_style">exp_style</code></td>
<td>
<p><em>Style declaration for exponent formatting</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"x10n"</code>
</p>
<p>Style of formatting to use for the scientific notation formatting. By
default this is <code>"x10n"</code> but other options include using a single letter
(e.g., <code>"e"</code>, <code>"E"</code>, etc.), a letter followed by a <code>"1"</code> to signal a
minimum digit width of one, or <code>"low-ten"</code> for using a stylized <code>"10"</code>
marker.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_sep_mark">sep_mark</code></td>
<td>
<p><em>Separator mark for digit grouping</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>","</code>
</p>
<p>The string to use as a separator between groups of digits. For example,
using <code>sep_mark = ","</code> with a value of <code>1000</code> would result in a formatted
value of <code>"1,000"</code>. This argument is ignored if a <code>locale</code> is supplied
(i.e., is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_dec_mark">dec_mark</code></td>
<td>
<p><em>Decimal mark</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"."</code>
</p>
<p>The string to be used as the decimal mark. For example, using
<code>dec_mark = ","</code> with the value <code>0.152</code> would result in a formatted value
of <code>"0,152"</code>). This argument is ignored if a <code>locale</code> is supplied (i.e., is
not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_force_sign_m">force_sign_m</code>, <code id="vec_fmt_scientific_+3A_force_sign_n">force_sign_n</code></td>
<td>
<p><em>Forcing the display of a positive sign</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;logical&gt;&#8288;</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Should the plus sign be shown for positive values of the mantissa (first
component, <code>force_sign_m</code>) or the exponent (<code>force_sign_n</code>)? This would
effectively show a sign for all values except zero on either of those
numeric components of the notation. If so, use <code>TRUE</code> for either one of
these options. The default for both is <code>FALSE</code>, where only negative numbers
will display a sign.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_scientific_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(3.24e-4, 8.65, 1362902.2, -59027.3, NA)
</pre></div>
<p>Using <code>vec_fmt_scientific()</code> with the default options will create a character
vector with values in scientific notation. Any <code>NA</code> values remain as <code>NA</code>
values. The rendering context will be autodetected unless specified in the
<code>output</code> argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_scientific(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "3.24 x 10^-4" "8.65" "1.36 x 10^6" "-5.90 x 10^4" "NA"
</pre></div>
<p>We can change the number of decimal places with the <code>decimals</code> option:
</p>
<div class="sourceCode r"><pre>vec_fmt_scientific(num_vals, decimals = 1)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "3.2 x 10^-4" "8.7" "1.4 x 10^6" "-5.9 x 10^4" "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and <strong>gt</strong> will handle any locale-specific formatting options:
</p>
<div class="sourceCode r"><pre>vec_fmt_scientific(num_vals, locale = "es")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "3,24 x 10^-4" "8,65" "1,36 x 10^6" "-5,90 x 10^4" "NA"
</pre></div>
<p>Should you need to have positive and negative signs for the mantissa
component of a given value, use <code>force_sign_m = TRUE</code>:
</p>
<div class="sourceCode r"><pre>vec_fmt_scientific(num_vals, force_sign_m = TRUE)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "+3.24 x 10^-4" "+8.65" "+1.36 x 10^6" "-5.90 x 10^4" "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_scientific(num_vals, pattern = "[{x}]")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "[3.24 x 10^-4]" "[8.65]" "[1.36 x 10^6]" "[-5.90 x 10^4]" "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-3
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_scientific">fmt_scientific()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_spelled_num'>Format a vector as spelled-out numbers</h2><span id='topic+vec_fmt_spelled_num'></span>

<h3>Description</h3>

<p>With numeric values in a vector, we can transform those to numbers that are
spelled out. Any values from <code>0</code> to <code>100</code> can be spelled out according to the
specified locale. For example, the value <code>23</code> will be rendered as
<code>"twenty-three"</code> if the locale is an English-language one (or, not provided
at all); should a Swedish locale be provided (e.g., <code>"sv"</code>), the output will
instead be <code>"tjugotre"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_spelled_num(
  x,
  pattern = "{x}",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_spelled_num_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_spelled_num_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_spelled_num_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_spelled_num_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Supported locales</h3>

<p>The following 80 locales are supported in the <code>locale</code> argument of
<code>vec_fmt_spelled_num()</code>: <code>"af"</code> (Afrikaans), <code>"ak"</code> (Akan), <code>"am"</code> (Amharic),
<code>"ar"</code> (Arabic), <code>"az"</code> (Azerbaijani), <code>"be"</code> (Belarusian), <code>"bg"</code>
(Bulgarian), <code>"bs"</code> (Bosnian), <code>"ca"</code> (Catalan), <code>"ccp"</code> (Chakma), <code>"chr"</code>
(Cherokee), <code>"cs"</code> (Czech), <code>"cy"</code> (Welsh), <code>"da"</code> (Danish), <code>"de"</code> (German),
<code>"de-CH"</code> (German (Switzerland)), <code>"ee"</code> (Ewe), <code>"el"</code> (Greek), <code>"en"</code>
(English), <code>"eo"</code> (Esperanto), <code>"es"</code> (Spanish), <code>"et"</code> (Estonian), <code>"fa"</code>
(Persian), <code>"ff"</code> (Fulah), <code>"fi"</code> (Finnish), <code>"fil"</code> (Filipino), <code>"fo"</code>
(Faroese), <code>"fr"</code> (French), <code>"fr-BE"</code> (French (Belgium)), <code>"fr-CH"</code> (French
(Switzerland)), <code>"ga"</code> (Irish), <code>"he"</code> (Hebrew), <code>"hi"</code> (Hindi), <code>"hr"</code>
(Croatian), <code>"hu"</code> (Hungarian), <code>"hy"</code> (Armenian), <code>"id"</code> (Indonesian),
<code>"is"</code> (Icelandic), <code>"it"</code> (Italian), <code>"ja"</code> (Japanese), <code>"ka"</code> (Georgian),
<code>"kk"</code> (Kazakh), <code>"kl"</code> (Kalaallisut), <code>"km"</code> (Khmer), <code>"ko"</code> (Korean),
<code>"ky"</code> (Kyrgyz), <code>"lb"</code> (Luxembourgish), <code>"lo"</code> (Lao), <code>"lrc"</code> (Northern
Luri), <code>"lt"</code> (Lithuanian), <code>"lv"</code> (Latvian), <code>"mk"</code> (Macedonian), <code>"ms"</code>
(Malay), <code>"mt"</code> (Maltese), <code>"my"</code> (Burmese), <code>"ne"</code> (Nepali), <code>"nl"</code> (Dutch),
<code>"nn"</code> (Norwegian Nynorsk), <code>"no"</code> (Norwegian), <code>"pl"</code> (Polish), <code>"pt"</code>
(Portuguese), <code>"qu"</code> (Quechua), <code>"ro"</code> (Romanian), <code>"ru"</code> (Russian), <code>"se"</code>
(Northern Sami), <code>"sk"</code> (Slovak), <code>"sl"</code> (Slovenian), <code>"sq"</code> (Albanian),
<code>"sr"</code> (Serbian), <code>"sr-Latn"</code> (Serbian (Latin)), <code>"su"</code> (Sundanese), <code>"sv"</code>
(Swedish), <code>"sw"</code> (Swahili), <code>"ta"</code> (Tamil), <code>"th"</code> (Thai), <code>"tr"</code> (Turkish),
<code>"uk"</code> (Ukrainian), <code>"vi"</code> (Vietnamese), <code>"yue"</code> (Cantonese), and <code>"zh"</code>
(Chinese).
</p>


<h3>Examples</h3>

<p>Let's create a numeric vector for the next few examples:
</p>
<div class="sourceCode r"><pre>num_vals &lt;- c(1, 8, 23, 76, 0, -5, 200, NA)
</pre></div>
<p>Using <code>vec_fmt_spelled_num()</code> will create a character vector with values
rendered as spelled-out numbers. Any <code>NA</code> values remain as <code>NA</code> values. The
rendering context will be autodetected unless specified in the <code>output</code>
argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_spelled_num(num_vals)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "one"     "eight"     "twenty-three"  "seventy-six"  "zero"
#&gt; [6] "-5"      "200"       "NA"
</pre></div>
<p>If we are formatting for a different locale, we could supply the locale ID
and let <strong>gt</strong> obtain a locale-specific set of spelled numbers:
</p>
<div class="sourceCode r"><pre>vec_fmt_spelled_num(num_vals, locale = "af")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "een"     "agt"     "drie-en-twintig"     "ses-en-sewentig"
#&gt; [5] "nul"     "-5"      "200"                 "NA"
</pre></div>
<p>As a last example, one can wrap the values in a pattern with the <code>pattern</code>
argument. Note here that <code>NA</code> values won't have the pattern applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_spelled_num(num_vals, pattern = "{x}.")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "one."     "eight."     "twenty-three."  "seventy-six."  "zero."
#&gt; [6] "-5."      "200."       "NA"
</pre></div>


<h3>Function ID</h3>

<p>15-11
</p>


<h3>Function Introduced</h3>

<p><code>v0.9.0</code> (Mar 31, 2023)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_spelled_num">fmt_spelled_num()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_time">vec_fmt_time</a>()</code>
</p>

<hr>
<h2 id='vec_fmt_time'>Format a vector as time values</h2><span id='topic+vec_fmt_time'></span>

<h3>Description</h3>

<p>Format vector values to time values using one of 25 preset time styles. Input
can be in the form of <code>POSIXt</code> (i.e., datetimes), <code>character</code> (must be in the
ISO 8601 forms of <code>HH:MM:SS</code> or <code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS&#8288;</code>), or <code>Date</code> (which
always results in the formatting of <code>00:00:00</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_fmt_time(
  x,
  time_style = "iso",
  pattern = "{x}",
  locale = NULL,
  output = c("auto", "plain", "html", "latex", "rtf", "word")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_fmt_time_+3A_x">x</code></td>
<td>
<p><em>The input vector</em>
</p>
<p><code>vector(numeric|integer)</code> // <strong>required</strong>
</p>
<p>This is the input vector that will undergo transformation to a character
vector of the same length. Values within the vector will be formatted.</p>
</td></tr>
<tr><td><code id="vec_fmt_time_+3A_time_style">time_style</code></td>
<td>
<p><em>Predefined style for times</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;|scalar&lt;numeric|integer&gt;(1&lt;=val&lt;=25)&#8288;</code> // <em>default:</em> <code>"iso"</code>
</p>
<p>The time style to use. By default this is the short name <code>"iso"</code> which
corresponds to how times are formatted within ISO 8601 datetime values.
There are 25 time styles in total and their short names can be viewed using
<code><a href="#topic+info_time_style">info_time_style()</a></code>.</p>
</td></tr>
<tr><td><code id="vec_fmt_time_+3A_pattern">pattern</code></td>
<td>
<p><em>Specification of the formatting pattern</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>"{x}"</code>
</p>
<p>A formatting pattern that allows for decoration of the formatted value. The
formatted value is represented by the <code>{x}</code> (which can be used multiple
times, if needed) and all other characters will be interpreted as string
literals.</p>
</td></tr>
<tr><td><code id="vec_fmt_time_+3A_locale">locale</code></td>
<td>
<p><em>Locale identifier</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional locale identifier that can be used for formatting values
according the locale's rules. Examples include <code>"en"</code> for English (United
States) and <code>"fr"</code> for French (France). We can call <code><a href="#topic+info_locales">info_locales()</a></code> for a
useful reference for all of the locales that are supported.</p>
</td></tr>
<tr><td><code id="vec_fmt_time_+3A_output">output</code></td>
<td>
<p><em>Output format</em>
</p>
<p><code style="white-space: pre;">&#8288;singl-kw:[auto|plain|html|latex|rtf|word]&#8288;</code> // <em>default:</em> <code>"auto"</code>
</p>
<p>The output style of the resulting character vector. This can either be
<code>"auto"</code> (the default), <code>"plain"</code>, <code>"html"</code>, <code>"latex"</code>, <code>"rtf"</code>, or
<code>"word"</code>. In <strong>knitr</strong> rendering (i.e., Quarto or R Markdown), the <code>"auto"</code>
option will choose the correct <code>output</code> value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Formatting with the <code>time_style</code> argument</h3>

<p>We need to supply a preset time style to the <code>time_style</code> argument. There are
many time styles and all of them can handle localization to any supported
locale. Many of the time styles are termed flexible time formats and this
means that their output will adapt to any <code>locale</code> provided. That feature
makes the flexible time formats a better option for locales other than <code>"en"</code>
(the default locale).
</p>
<p>The following table provides a listing of all time styles and their output
values (corresponding to an input time of <code>14:35:00</code>). It is noted which of
these represent 12- or 24-hour time.</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> Time Style </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> Notes </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> <code>"iso"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> <code>"iso-short"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> ISO 8601, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> <code>"h_m_s_p"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> <code>"h_m_p"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> <code>"h_p"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> <code>"Hms"</code> </td><td style="text-align: left;"> <code>"14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> <code>"Hm"</code> </td><td style="text-align: left;"> <code>"14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> <code>"H"</code> </td><td style="text-align: left;"> <code>"14"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> <code>"EHm"</code> </td><td style="text-align: left;"> <code>"Thu 14:35"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> <code>"EHms"</code> </td><td style="text-align: left;"> <code>"Thu 14:35:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> <code>"Hmsv"</code> </td><td style="text-align: left;"> <code>"14:35:00 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> <code>"Hmv"</code> </td><td style="text-align: left;"> <code>"14:35 GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 24h </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> <code>"hms"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> <code>"hm"</code> </td><td style="text-align: left;"> <code>"2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> <code>"h"</code> </td><td style="text-align: left;"> <code>"2 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> <code>"Ehm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> <code>"Ehms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 PM"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> <code>"EBhms"</code> </td><td style="text-align: left;"> <code>"Thu 2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   19 </td><td style="text-align: left;"> <code>"Bhms"</code> </td><td style="text-align: left;"> <code>"2:35:00 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   20 </td><td style="text-align: left;"> <code>"EBhm"</code> </td><td style="text-align: left;"> <code>"Thu 2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   21 </td><td style="text-align: left;"> <code>"Bhm"</code> </td><td style="text-align: left;"> <code>"2:35 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   22 </td><td style="text-align: left;"> <code>"Bh"</code> </td><td style="text-align: left;"> <code>"2 in the afternoon"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   23 </td><td style="text-align: left;"> <code>"hmsv"</code> </td><td style="text-align: left;"> <code>"2:35:00 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   24 </td><td style="text-align: left;"> <code>"hmv"</code> </td><td style="text-align: left;"> <code>"2:35 PM GMT+00:00"</code> </td><td style="text-align: left;"> flexible, 12h </td>
</tr>
<tr>
 <td style="text-align: left;">
   25 </td><td style="text-align: left;"> <code>"ms"</code> </td><td style="text-align: left;"> <code>"35:00"</code> </td><td style="text-align: left;"> flexible </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We can call <code><a href="#topic+info_time_style">info_time_style()</a></code> in the console to view a similar table of
time styles with example output.
</p>


<h3>Examples</h3>

<p>Let's create a character vector of datetime values in the ISO-8601 format
for the next few examples:
</p>
<div class="sourceCode r"><pre>str_vals &lt;- c("2022-06-13 18:36", "2019-01-25 01:08", NA)
</pre></div>
<p>Using <code>vec_fmt_time()</code> (here with the <code>"iso-short"</code> time style) will result
in a character vector of formatted times. Any <code>NA</code> values remain as <code>NA</code>
values. The rendering context will be autodetected unless specified in the
<code>output</code> argument (here, it is of the <code>"plain"</code> output type).
</p>
<div class="sourceCode r"><pre>vec_fmt_time(str_vals, time_style = "iso-short")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "18:36" "01:08" NA
</pre></div>
<p>We can choose from any of 25 different time formatting styles. Many of these
styles are flexible, meaning that the structure of the format will adapt
to different locales. Let's use the <code>"Bhms"</code> time style to demonstrate this
(first in the default locale of <code>"en"</code>):
</p>
<div class="sourceCode r"><pre>vec_fmt_time(str_vals, time_style = "Bhms")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "6:36:00 in the evening" "1:08:00 at night" NA
</pre></div>
<p>Let's perform the same type of formatting in the German (<code>"de"</code>) locale:
</p>
<div class="sourceCode r"><pre>vec_fmt_time(str_vals, time_style = "Bhms", locale = "de")
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "6:36:00 abends" "1:08:00 nachts" NA
</pre></div>
<p>We can always use <code><a href="#topic+info_time_style">info_time_style()</a></code> to call up an info table that serves as
a handy reference to all of the <code>time_style</code> options.
</p>
<p>As a last example, one can wrap the time values in a pattern with the
<code>pattern</code> argument. Note here that <code>NA</code> values won't have the pattern
applied.
</p>
<div class="sourceCode r"><pre>vec_fmt_time(
  str_vals,
  time_style = "hm",
  pattern = "temps: {x}",
  locale = "fr-CA"
)
</pre></div>
<div class="sourceCode"><pre>#&gt; [1] "temps: 6:36 PM" "temps: 1:08 AM" NA
</pre></div>


<h3>Function ID</h3>

<p>15-14
</p>


<h3>Function Introduced</h3>

<p><code>v0.7.0</code> (Aug 25, 2022)
</p>


<h3>See Also</h3>

<p>The variant function intended for formatting <strong>gt</strong> table data:
<code><a href="#topic+fmt_time">fmt_time()</a></code>.
</p>
<p>Other vector formatting functions: 
<code><a href="#topic+vec_fmt_bytes">vec_fmt_bytes</a>()</code>,
<code><a href="#topic+vec_fmt_currency">vec_fmt_currency</a>()</code>,
<code><a href="#topic+vec_fmt_date">vec_fmt_date</a>()</code>,
<code><a href="#topic+vec_fmt_datetime">vec_fmt_datetime</a>()</code>,
<code><a href="#topic+vec_fmt_duration">vec_fmt_duration</a>()</code>,
<code><a href="#topic+vec_fmt_engineering">vec_fmt_engineering</a>()</code>,
<code><a href="#topic+vec_fmt_fraction">vec_fmt_fraction</a>()</code>,
<code><a href="#topic+vec_fmt_index">vec_fmt_index</a>()</code>,
<code><a href="#topic+vec_fmt_integer">vec_fmt_integer</a>()</code>,
<code><a href="#topic+vec_fmt_markdown">vec_fmt_markdown</a>()</code>,
<code><a href="#topic+vec_fmt_number">vec_fmt_number</a>()</code>,
<code><a href="#topic+vec_fmt_partsper">vec_fmt_partsper</a>()</code>,
<code><a href="#topic+vec_fmt_percent">vec_fmt_percent</a>()</code>,
<code><a href="#topic+vec_fmt_roman">vec_fmt_roman</a>()</code>,
<code><a href="#topic+vec_fmt_scientific">vec_fmt_scientific</a>()</code>,
<code><a href="#topic+vec_fmt_spelled_num">vec_fmt_spelled_num</a>()</code>
</p>

<hr>
<h2 id='web_image'>Helper function for adding an image from the web</h2><span id='topic+web_image'></span>

<h3>Description</h3>

<p>We can flexibly add a web image inside of a table with <code>web_image()</code>.
The function provides a convenient way to generate an HTML fragment with an
image URL. Because this function is currently HTML-based, it is only useful
for HTML table output. To use this function inside of data cells, it is
recommended to use <code><a href="#topic+text_transform">text_transform()</a></code>. With that function, we can specify
which data cells to target and then include a <code>web_image()</code> call within the
required user-defined function (for the <code>fn</code> argument). If we want to include
an image in other places (e.g., in the header, within footnote text, etc.)
we need to wrap <code>web_image()</code> inside <code><a href="#topic+html">html()</a></code>.
</p>
<p>By itself, the function creates an HTML image tag, so, the call
<code>web_image("http://example.com/image.png")</code> evaluates to:
</p>
<p><code style="white-space: pre;">&#8288;&lt;img src=\"http://example.com/image.png\" style=\"height:30px;\"&gt;&#8288;</code>
</p>
<p>where a height of <code style="white-space: pre;">&#8288;30px&#8288;</code> is a default height chosen to work well within the
heights of most table rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>web_image(url, height = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="web_image_+3A_url">url</code></td>
<td>
<p><em>An image URL</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;character&gt;&#8288;</code> // <strong>required</strong>
</p>
<p>A url that resolves to an image file.</p>
</td></tr>
<tr><td><code id="web_image_+3A_height">height</code></td>
<td>
<p><em>Height of image</em>
</p>
<p><code style="white-space: pre;">&#8288;scalar&lt;numeric|integer&gt;&#8288;</code> // <em>default:</em> <code>30</code>
</p>
<p>The absolute height of the image in the table cell (in <code>"px"</code> units). By
default, this is set to <code>"30px"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object with an HTML fragment that can be placed inside of
a cell.
</p>


<h3>Examples</h3>

<p>Get the PNG-based logo for the R Project from an image URL.
</p>
<div class="sourceCode r"><pre>r_png_url &lt;- "https://www.r-project.org/logo/Rlogo.png"
</pre></div>
<p>Create a tibble that contains heights of an image in pixels (one column as a
string, the other as numerical values), then, create a <strong>gt</strong> table. Use
<code><a href="#topic+text_transform">text_transform()</a></code> to insert the R logo PNG image with the various
sizes.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  pixels = px(seq(10, 35, 5)),
  image = seq(10, 35, 5)
) |&gt;
  gt() |&gt;
  text_transform(
    locations = cells_body(columns = image),
    fn = function(x) {
      web_image(
        url = r_png_url,
        height = as.numeric(x)
      )
    }
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_web_image_1.png" alt="This image of a table was generated from the first code example in the `web_image()` help file." style="width:100%;">

<p>Get the SVG-based logo for the R Project from an image URL.
</p>
<div class="sourceCode r"><pre>r_svg_url &lt;- "https://www.r-project.org/logo/Rlogo.svg"
</pre></div>
<p>Create a tibble that contains heights of an image in pixels (one column as a
string, the other as numerical values), then, create a <strong>gt</strong> table. Use
<code><a href="#topic+tab_header">tab_header()</a></code> to insert the <strong>R</strong> logo SVG image once in the title and five
times in the subtitle.
</p>
<div class="sourceCode r"><pre>dplyr::tibble(
  pixels = px(seq(10, 35, 5)),
  image = seq(10, 35, 5)
) |&gt;
  gt() |&gt;
  tab_header(
    title = html(
      "&lt;strong&gt;R Logo&lt;/strong&gt;",
      web_image(
        url = r_svg_url,
        height = px(50)
      )
    ),
    subtitle = html(
      web_image(
        url = r_svg_url,
        height = px(12)
      ) |&gt;
        rep(5)
    )
  )
</pre></div>

<img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_web_image_2.png" alt="This image of a table was generated from the second code example in the `web_image()` help file." style="width:100%;">



<h3>Function ID</h3>

<p>9-1
</p>


<h3>Function Introduced</h3>

<p><code>v0.2.0.5</code> (March 31, 2020)
</p>


<h3>See Also</h3>

<p>Other image addition functions: 
<code><a href="#topic+ggplot_image">ggplot_image</a>()</code>,
<code><a href="#topic+local_image">local_image</a>()</code>,
<code><a href="#topic+test_image">test_image</a>()</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

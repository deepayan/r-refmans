<!DOCTYPE html><html><head><title>Help for package tis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tis}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tis-package'><p> Time Indices and Time Indexed Series</p></a></li>
<li><a href='#aggregate.tis'><p>Compute Summary Statistics of Time Series Subsets</p></a></li>
<li><a href='#as.data.frame.tis'>
<p>Coerce to a Data Frame</p></a></li>
<li><a href='#as.Date.jul'><p>Convert ti or jul objects to Dates</p></a></li>
<li><a href='#as.list.ti'><p> Construct a List from a Time Index or Jul Object</p></a></li>
<li><a href='#as.matrix.tis'><p>Create a Matrix from a Time Indexed Series</p></a></li>
<li><a href='#as.ts.tis'><p>Convert a Time Indexed Series to a Time Series</p></a></li>
<li><a href='#asClassyList'><p> Convert a vector into a list of objects with the same class</p></a></li>
<li><a href='#assignList'><p>Assign Values In a List to Names</p></a></li>
<li><a href='#barplot.tis'><p> Barplot for Time Indexed Series</p></a></li>
<li><a href='#barplot2'><p> Horizontally Shifted Bar Plots</p></a></li>
<li><a href='#basis'><p>Optional tis attributes</p></a></li>
<li><a href='#between'><p>Check for Inclusion in a Closed Interval</p></a></li>
<li><a href='#blanks'><p>Blanks</p></a></li>
<li><a href='#capitalize'><p>Capitalize strings</p></a></li>
<li><a href='#cbind.tis'><p> Combine Series Into a Multivariate (Matrix) Time Indexed Series</p></a></li>
<li><a href='#columns'><p>Rows and Columns of a Matrix</p></a></li>
<li><a href='#constantGrowthSeries'><p>Constant Growth Series</p></a></li>
<li><a href='#convert'>
<p>Time scale conversions for time series</p></a></li>
<li><a href='#csv'><p> Writes a CSV (comma separated values) file.</p></a></li>
<li><a href='#cumsum.tis'><p>Cumulative Sums, Products, and Extremes</p></a></li>
<li><a href='#currentMonday'><p>Day of Week Time Indexes</p></a></li>
<li><a href='#currentPeriod'><p> Current Period Time Indexes</p></a></li>
<li><a href='#dateRange'><p>Start and End Time Indices for a Series</p></a></li>
<li><a href='#dayOfPeriod'><p>Day positions in Time Index Periods</p></a></li>
<li><a href='#description'><p>Description and Documentation Attributes</p></a></li>
<li><a href='#evalOrEcho'><p> Evaluate an Argument If Possible</p></a></li>
<li><a href='#format.ti'><p> Convert Time Index or Jul to Character</p></a></li>
<li><a href='#fortify.tis'><p>Fortify a tis object</p></a></li>
<li><a href='#frColors'><p> FRB Color Palettes</p></a></li>
<li><a href='#growth.rate'><p>Growth Rates of Time Series</p></a></li>
<li><a href='#hms'><p> Hours, Minutes and Seconds from a Time Index or Jul</p></a></li>
<li><a href='#holidays'><p>Holidays</p></a></li>
<li><a href='#inferTi'><p> Create a Time Index to Match a Vector of DateTimes</p></a></li>
<li><a href='#interpNA'><p> Interpolate missing values in a Time Indexed Series</p></a></li>
<li><a href='#Intraday'><p> R support for Intraday frequencies</p></a></li>
<li><a href='#isIntradayTif'><p>Check for Intraday Time Index Frequency</p></a></li>
<li><a href='#isLeapYear'><p>Check Leap Year</p></a></li>
<li><a href='#jul'><p> Julian Date Objects</p></a></li>
<li><a href='#lags'><p>Lag a Time Series</p></a></li>
<li><a href='#latestPeriod'><p> Most Recent Period Time Indexes</p></a></li>
<li><a href='#linearSplineIntegration'><p>Linear Spline Integration</p></a></li>
<li><a href='#lines.tis'><p>Plotting Time Indexed Series</p></a></li>
<li><a href='#mergeSeries'><p> Merge Time Indexed Series</p></a></li>
<li><a href='#naWindow'><p>Exclude NA and Zero Observations</p></a></li>
<li><a href='#nberShade'><p>Plotting NBER Recesssions</p></a></li>
<li><a href='#plotWindow'><p>Set up Coordinates for Graphics Window</p></a></li>
<li><a href='#POSIXct'><p>Date-time Constructor Functions</p></a></li>
<li><a href='#print.ti'><p> Print a Time Index</p></a></li>
<li><a href='#print.tis'><p> Printing Time Indexed Series</p></a></li>
<li><a href='#RowMeans'><p>Form Row Sums and Means</p></a></li>
<li><a href='#scatterPlot'><p> Produce high-quality scatter plots</p></a></li>
<li><a href='#screenPage'><p>Page Setup for Plots</p></a></li>
<li><a href='#setColors'><p>Set the Graphics Palette and Default Colors</p></a></li>
<li><a href='#setDefaultFrequencies'><p>Return Known Time Index Frequencies, Change Default Frequencies</p></a></li>
<li><a href='#solve.tridiag'><p>Solve a Tridiagonal System of Equations</p></a></li>
<li><a href='#ssDate'><p> ssDate Objects</p></a></li>
<li><a href='#start.tis'><p> Starting and ending time indexes</p></a></li>
<li><a href='#stripBlanks'><p>Strip Blanks</p></a></li>
<li><a href='#stripClass'><p>Remove part of a class attribute</p></a></li>
<li><a href='#t.tis'><p>Matrix Transpose</p></a></li>
<li><a href='#ti'><p> Time Index Objects</p></a></li>
<li><a href='#tiDaily'><p> Daily and Business Day Time Indexes</p></a></li>
<li><a href='#tierChart'>
<p>Create tier charts</p></a></li>
<li><a href='#tif'><p> Time Index Frequencies and Periods</p></a></li>
<li><a href='#tif2freq'><p>Periods Per Year for Time Index Frequencies</p></a></li>
<li><a href='#tis'><p> Time Indexed Series</p></a></li>
<li><a href='#tisFilter'><p>Linear Filtering on a Time Series</p></a></li>
<li><a href='#tisFromCsv'><p>Read time series from Comma Separated Values (.csv) file</p></a></li>
<li><a href='#tisLegend'><p> Add a legend to a tisPlot or scatterPlot</p></a></li>
<li><a href='#tisPlot'><p> Plot time indexed series (tis objects)</p></a></li>
<li><a href='#today'><p>Time Index for the Current Date</p></a></li>
<li><a href='#updateColumns'><p> Update lists and time series</p></a></li>
<li><a href='#window.tis'>
<p>Time windows for Time Indexed Series</p></a></li>
<li><a href='#ymd'><p> Extract parts of various Date-Time Objects</p></a></li>
<li><a href='#ymdShade'><p>Shading Date Ranges</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Time Indexes and Time Indexed Series</td>
</tr>
<tr>
<td>Version:</td>
<td>1.39</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeff Hallman &lt;jeffhallman@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brian Salzer &lt;brian.m.salzer@frb.gov&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.3)</td>
</tr>
<tr>
<td>Enhances:</td>
<td>zoo, ggplot2, graphics</td>
</tr>
<tr>
<td>Suggests:</td>
<td>reshape, scales</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions and S3 classes for time indexes and time indexed
        series, which are compatible with FAME frequencies.</td>
</tr>
<tr>
<td>License:</td>
<td>Unlimited</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-28 19:05:31 UTC; m1bms00</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-28 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tis-package'> Time Indices and Time Indexed Series</h2><span id='topic+tis-package'></span>

<h3>Description</h3>

<p>Functions and S3 classes for time indices and time indexed
series, a flexible kind of time series compatible with series and
frequencies understood by the FAME DBMS.
</p>


<h3>Details</h3>

<p>For a complete list of functions provided by this package, use
<code>library(help="tis")</code>.
</p>
<p>The <code>ti</code> (Time Index) and <code>tis</code> (Time Indexed Series) classes 
provide date arithmetic facilities and an alternative to the somewhat
inflexible <code>ts</code> class in the standard R stats package. 
</p>
<p>Time Indexes (<code>ti</code> class)
</p>
<p>A time index has two parts: a <code>tif</code> (Time Index Frequency) code and
a period.  <code>tif</code> codes all lie in the open interval (1000..5000)
and the period is a nonnegative number less than 1e10.  The <code>ti</code> encodes
both, as for any ti <code>z</code>
</p>
<p><code>unclass(z) == (tif(z) * 1e10) + period(z)</code>
</p>
<p>Each <code>tif</code> has a particular base period (the time period where
<code>period(z) == 0</code>). For example, the base period for an
&quot;anndecember&quot; (annual December) <code>ti</code> is the year ending December
31, 1599.  Periods before the base period cannot be represented by
instances of the <code>ti</code> class. 
</p>
<p>If <code>x</code> and <code>y</code> are <code>ti</code> objects with the same <code>tif</code>, then 
</p>
<p><code>x - y == period(x) - period(y)</code>
</p>
<p>and
</p>
<p><code>x + (period(y) - period(x)) == y</code> 
</p>
<p>are both <code>TRUE</code>, so you can use <code>ti</code>'s for various calendrical calculations. 
</p>
<p>A <code>jul</code> class is also provided for Julian date-time objects. The <code>jul()</code>
constructor can create a <code>jul</code> from an <code>ssDate</code> (spreadsheet date), a
<code>POSIXct</code> or <code>POSIXlt</code> object, a <code>ti</code> object, a decimal
time (like 2007.5), a yyyymmdd number, a <code>Date</code>, or anything that
can be coerced to a <code>Date</code> by <code>as.Date</code>.  The <code>ymd()</code>
function and its derivatives (<code>year()</code>, <code>month()</code>, <code>day()</code>, etc.) 
work on anything that <code>jul()</code> can handle.
</p>
<p>Time Indexed Series (<code>tis</code> class)
</p>
<p>The <code>tis</code> class maps very closely to the FAME (http://www.sungard.com/Fame/) 
database notion of what a time series is.  A <code>tis</code> (Time Indexed Series) is
vector or matrix indexed by a <code>ti</code>.  If <code>x</code> is a <code>tis</code>,
then <code>start(x)</code> gives the <code>ti</code> for the first observation, and
<code>[start(x) + k]</code> is the <code>ti</code> for the k'th 
observation, while <code>end(x)</code> gives the <code>ti</code> for the last observation.  
</p>
<p>You can replace, say, the 5'th observation in a <code>tis x</code> by
</p>
<p><code>x[start(x) + 4] &lt;- 42</code>
</p>
<p>and of course the <code>[</code> operator also works with a <code>ti</code>.  So if
you want the value of the daily series <code>x</code> from July 3, 1998, you can get it with
</p>
<p><code>x[ti(19980703, "daily")]</code>
</p>
<p>provided, of course, that <code>ymd(start(x)) &lt;= 19980703 &lt;= ymd(end(x))</code>.
</p>
<p>Numerous methods for <code>tis</code> objects are provided:
</p>
<pre>
&gt; methods(class = "tis")
 [1] aggregate.tis*     as.data.frame.tis* as.matrix.tis*     as.tis.tis*       
 [5] as.ts.tis*         cbind.tis*         cummax.tis*        cummin.tis*       
 [9] cumprod.tis*       cumsum.tis*        cycle.tis*         deltat.tis*       
[13] diff.tis*          edit.tis*          end.tis*           frequency.tis*    
[17] lag.tis*           lines.tis*         Ops.tis*           points.tis*       
[21] print.tis*         RowMeans.tis*      RowSums.tis*       start.tis*        
[25] tifName.tis*       tif.tis*           time.tis*          [&lt;-.tis*          
[29] [.tis*             ti.tis*            t.tis              window.tis*       
</pre>
<p>as well as <code>tisMerge</code> and <code>tisPlot</code> functions.  The
<code>convert</code> function creates series of different frequencies from a
given series in ways both more powerful and more flexible than
<code>aggregate</code> can. 
</p>
<p>Setting Default Frequencies: 
</p>
<p>Like the FAME DBMS, the <code>ti</code> class has seven weekly frequencies for
weeks ending on Sunday, Monday, and it has 12 annual frequencies, for
years ending on the last day of each of the 12 months. There are also
multiple biweekly, bimonthly and semiannual frequencies.
</p>
<p>At any time you can use the function <code>setDefaultFrequencies</code> to change which
actual frequencies the strings &quot;weekly&quot;, &quot;biweekly&quot;, &quot;bimonthly&quot;,
&quot;quarterly&quot;, &quot;semiannual&quot; and &quot;annual&quot; refer to.  Note (as shown by
<code>args(setDefaultFrequencies)</code>) that if you don't specify some other frequencies
to <code>setDefaultFrequencies</code>, you'll get default weeks ending on Monday and
default biweeks ending on the first Wednesday.  I chose these because they
are the weeks and biweeks used most often (for money and reserves data) in my
section at the Federal Reserve Board.  You might want to use something like
</p>
<p><code>setHook(packageEvent("tis", "onLoad"), tis::setDefaultFrequencies(yourArgsGoHere))</code>
</p>
<p>in your <code>.First()</code> to automatically set the defaults up the way you want them
whenever this package is loaded.
</p>
<p>LAGS:
</p>
<p>The <code>stats::lag(x, k)</code> function says that a series lagged by a positive k starts
earlier.  The opposite is true for the <code>Lag</code> function in this package, to
maintain consistency with the common usage of 'first lag, second lag' and so
on in econometrics.
</p>
<p><code>tisFilter</code>:
</p>
<p>The <code>stats::filter</code> function coerces it's argument to a <code>ts</code> time series and
returns a <code>ts</code>.  For <code>tis</code> and <code>zoo</code> series, this is not right.  Both I and
the author of the <span class="pkg">zoo</span> package have requested that <code>stats::filter</code> be made an S3
generic with the current version renamed as <code>filter.default</code>.  This would allow
<span class="pkg">zoo</span> and <span class="pkg">tis</span> to define <code>filter.zoo</code> and
<code>filter.tis</code> such that <code>filter(aZooOrTis)</code> would do the right
thing.  We are hopeful that this will happen soon. Meanwhile,
<code>tisFilter</code> should be used to filter a <code>tis</code>. 
</p>


<h3>Author(s)</h3>

<p>Jeff Hallman <a href="mailto:jhallman@frb.gov">jhallman@frb.gov</a>
</p>
<p>Maintainer: ditto
</p>

<hr>
<h2 id='aggregate.tis'>Compute Summary Statistics of Time Series Subsets</h2><span id='topic+aggregate.tis'></span>

<h3>Description</h3>

<p>Splits the data into subsets, computes summary statistics for each,
and returns the result in a convenient form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
aggregate(x, FUN = sum, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate.tis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> time series.</p>
</td></tr>
<tr><td><code id="aggregate.tis_+3A_fun">FUN</code></td>
<td>
<p>a scalar function to compute the summary statistics which
can be applied to all data subsets.</p>
</td></tr>
<tr><td><code id="aggregate.tis_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="stats.html#topic+aggregate.ts">aggregate.ts</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a method for the generic <code>aggregate</code> function.
</p>
<p>The <code>aggregate</code> function was really designed for <code>ts</code>
objects, not <code>tis</code> objects which may or may not meet the
assumptions embedded in the function. The <code>convert</code> function is
better suited for <code>tis</code> series.
</p>
<p><code>aggregate.tis</code> calls <code>as.ts</code> on it's <code>x</code> argument,
then passes that and all other arguments on to <code>aggregate.ts</code> and
then turns the result back into a <code>tis</code> series. If there is a
local version of <code>aggregate.ts</code> that can be found by
<code>exists("aggregate.ts", envir = globalenv())</code>,
it will be used in preference to the function in <code>package:stats</code>.
</p>


<h3>Value</h3>

<p>the <code>tis</code> object returned by <code>as.tis()</code> called on the
<code>ts</code> object returned by <code><a href="stats.html#topic+aggregate.ts">aggregate.ts</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+apply">apply</a></code>, <code><a href="base.html#topic+lapply">lapply</a></code>, <code><a href="base.html#topic+tapply">tapply</a></code>,
<code><a href="stats.html#topic+aggregate">aggregate</a></code>, and <code><a href="#topic+convert">convert</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- tis(1:24, start = latestJanuary()) ## a monthly series
aggregate(z, nf = 4, FUN = mean)        ## quarterly average
aggregate(z, nf = 1, FUN = function(x) x[length(x)]) ## December is annual level
</code></pre>

<hr>
<h2 id='as.data.frame.tis'>
Coerce to a Data Frame
</h2><span id='topic+as.data.frame.tis'></span>

<h3>Description</h3>

<p>Coerce a Time Indexed Series to a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
as.data.frame(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.tis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> series</p>
</td></tr>
<tr><td><code id="as.data.frame.tis_+3A_...">...</code></td>
<td>
<p> other args passed on to <code>as.data.frame.matrix</code> or
<code>as.data.frame.vector</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is very simple: it calls
<code>as.data.frame.matrix</code> if <code>x</code> is a matrix, or
<code>as.data.frame.vector</code> if it is not. 
</p>


<h3>Value</h3>

<p>a data frame.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+data.frame">data.frame</a></code>
</p>

<hr>
<h2 id='as.Date.jul'>Convert ti or jul objects to Dates</h2><span id='topic+as.Date.jul'></span><span id='topic+as.Date.ti'></span>

<h3>Description</h3>

<p>Methods to convert <code>ti</code> and <code>jul</code> objects to class
<code>"Date"</code> representing calendar dates. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ti'
as.Date(x, offset = 1, ...)
## S3 method for class 'jul'
as.Date(x, origin = "1970-01-01", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.Date.jul_+3A_x">x</code></td>
<td>
<p>A <code>ti</code> or <code>jul</code> object to be converted.</p>
</td></tr>
<tr><td><code id="as.Date.jul_+3A_offset">offset</code></td>
<td>
<p>a number between 0 and 1 specifying where in the period
represented by the <code>ti</code> object <code>x</code> the desired date falls.
<code>offset = 1</code> gives the first second of the period and
<code>offset = 1</code> the last second, <code>offset = 0.5</code> the middle
second, and so on.</p>
</td></tr>
<tr><td><code id="as.Date.jul_+3A_origin">origin</code></td>
<td>
<p>a Date object, or something which can be coerced by
<code>as.Date(origin, ...)</code> to such an object.</p>
</td></tr>
<tr><td><code id="as.Date.jul_+3A_...">...</code></td>
<td>
<p>additional args passed on to
<code><a href="base.html#topic+as.Date.numeric">as.Date.numeric</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"<a href="base.html#topic+Date">Date</a>"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.Date">as.Date</a></code> for the generic function,
<code><a href="base.html#topic+as.Date.numeric">as.Date.numeric</a></code> for the method eventually called, and <a href="base.html#topic+Date">Date</a> for
details of the date class.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as.Date(today())          ## invokes as.Date.ti
as.Date(jul(today() - 7)) ## a week ago, uses as.Date.jul
</code></pre>

<hr>
<h2 id='as.list.ti'> Construct a List from a Time Index or Jul Object </h2><span id='topic+as.list.ti'></span><span id='topic+as.list.jul'></span>

<h3>Description</h3>

<p><code>as.list.ti</code> creates a list of one-element <code>ti</code> objects from
the elements of its arguments.
</p>
<p><code>as.list.jul</code> creates a list of one-element <code>jul</code> objects from
the elements of its arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ti'
as.list(x, ...)
## S3 method for class 'jul'
as.list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.list.ti_+3A_x">x</code></td>
<td>
<p> a <code>ti</code> or <code>jul</code> object</p>
</td></tr>
<tr><td><code id="as.list.ti_+3A_...">...</code></td>
<td>
<p> not used </p>
</td></tr>
</table>


<h3>Details</h3>

<p>These are the <code>ti</code> and <code>jul</code> methods for the generic <code>as.list</code>.
</p>


<h3>Value</h3>

<p>a list of one-element <code>ti</code> or <code>jul</code> objects.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+asClassyList">asClassyList</a></code>, <code><a href="base.html#topic+as.list">as.list</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>as.list(today() + 1:5)
as.list(jul(today()) + 1:5)
</code></pre>

<hr>
<h2 id='as.matrix.tis'>Create a Matrix from a Time Indexed Series</h2><span id='topic+as.matrix.tis'></span>

<h3>Description</h3>

<p>The function adds a <code>dim</code> attribute of
<code>c(length(x), 1)</code> to its argument unless it already has a
<code>dim</code> attribute of length 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
as.matrix(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.matrix.tis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> object</p>
</td></tr>
<tr><td><code id="as.matrix.tis_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tis</code> object with a <code>dim</code> attribute of length 2.
</p>

<hr>
<h2 id='as.ts.tis'>Convert a Time Indexed Series to a Time Series </h2><span id='topic+as.ts.tis'></span>

<h3>Description</h3>

<p>Constructs a <code>ts</code> object from a <code>tis</code>
object. The <code>tis</code> object's starting <code>year</code>, starting
<code>cycle</code>, and <code>frequency</code>, along with the object's data, in a
call to the <code>ts</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
as.ts(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.ts.tis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> object to be converted</p>
</td></tr>
<tr><td><code id="as.ts.tis_+3A_...">...</code></td>
<td>
<p>Ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>tis</code> class covers more frequencies than the <code>ts</code>
class does, so the conversion may not be accurate.
</p>


<h3>Value</h3>

<p>A <code>ts</code> object with the same data as <code>x</code>, and with
starting time and frequency given by:
</p>
<pre>
	start = c(year(xstart), cycle(xstart))
	frequency = frequency(x)
</pre>

<h3>Note</h3>

<p>The <code>tis</code> class covers more frequencies than the <code>ts</code>
class does, so the conversion may not be accurate.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+as.ts">as.ts</a></code></p>

<hr>
<h2 id='asClassyList'> Convert a vector into a list of objects with the same class </h2><span id='topic+asClassyList'></span>

<h3>Description</h3>

<p>Turns its argument into a list of elements with the same class as the argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asClassyList(x, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="asClassyList_+3A_x">x</code></td>
<td>
<p>object to be coerced or tested.</p>
</td></tr>
<tr><td><code id="asClassyList_+3A_...">...</code></td>
<td>
<p>objects, possibly named.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list <code>L</code> of one-element vectors with
<code>L[[i]] == x[i] for i in 1:length(x)</code>
</p>


<h3>Note</h3>

<p>The implementation of this function is identical to
<code>as.list.factor</code>.  It is used in <code>as.list.ti</code> and
<code>as.list.jul</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+as.list">as.list</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>  asClassyList(today() + 1:5)
</code></pre>

<hr>
<h2 id='assignList'>Assign Values In a List to Names</h2><span id='topic+assignList'></span>

<h3>Description</h3>

<p>Assigns the values in a list to variables in an environment.  The
variable names are taken from the <code>names</code> of the list, so all of
the elements of the list must have non-blank names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assignList(aList, pos = -1, envir = as.environment(pos), inherits = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assignList_+3A_alist">aList</code></td>
<td>
<p>a list of values to be assigned to variables with names
given by <code>names(aList)</code>.</p>
</td></tr>
<tr><td><code id="assignList_+3A_pos">pos</code></td>
<td>
<p>where to do the assignment.  By default, assigns into the
current environment.</p>
</td></tr>
<tr><td><code id="assignList_+3A_envir">envir</code></td>
<td>
<p>the <code><a href="base.html#topic+environment">environment</a></code> to use.</p>
</td></tr>
<tr><td><code id="assignList_+3A_inherits">inherits</code></td>
<td>
<p>should the enclosing frames of the environment be
inspected?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="base.html#topic+assign">assign</a></code> for details on how <span class="rlang"><b>R</b></span> assignment works.  This
function simply uses the elements of <code>names(aList)</code> and
<code>aList</code> itself to call the <code>.Internal</code> function used by
<code><a href="base.html#topic+assign">assign</a></code> once for each element of <code>aList</code>.
</p>


<h3>Value</h3>

<p>This function is invoked for its side effect, which assigns values to
the variables with names given by <code>names(aList)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+assign">assign</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myList &lt;- list(a = 1, b = 2, c = 3)
assignList(myList) ## equivalent to a &lt;- 1; b &lt;- 2; c &lt;- 3
</code></pre>

<hr>
<h2 id='barplot.tis'> Barplot for Time Indexed Series </h2><span id='topic+barplot.tis'></span>

<h3>Description</h3>

<p>This is <code>barplot</code> for <code>tis</code> objects. If the first argument
to <code>barplot</code> is a <code>tis</code> object, this function is called.
There may be more than one <code>tis</code> argument. See details below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
barplot(height, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="barplot.tis_+3A_height">height</code></td>
<td>
<p> a <code>tis</code> object. There may, however, be more than
just one <code>tis</code> argument in the call.  
</p>
</td></tr>
<tr><td><code id="barplot.tis_+3A_...">...</code></td>
<td>
<p> arguments passed on to <code>barplot.default</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>barplot.tis</code> constructs a call to <code><a href="#topic+barplot2">barplot2</a></code>.
The <code>tis</code> arguments, including but not limited to <code>height</code>,
are pulled out and used to construct a <code>height</code> argument for the
constructed call, and the <code>width</code> argument will be calculated as
described below.
</p>
<p>If the series sent in are multivariate, i.e., have multiple columns,
the constructed <code>height</code> argument will also have multiple
columns, which is how <code>barplot</code> does stacked bar charts.
If you supply several multivariate series to
<code>barplot.tis</code>, all of the series must have the same number of columns.
</p>
<p>If the <code>beside</code> argument is supplied in the ... list, the
<code>width</code> argument will be set to <code>d/(NC + 0.5)</code>, where
<code>d</code> is the mean difference in decimal time units (where one year
= 1, a quarter = 0.25, and so on) of the series observation times,
<code>NC</code> is the number of columns in the series arguments, and 
<code>space</code> will be set to <code>c(0, 0.5)</code>.  The effect of
all this will be to make the total width of the barplot match the
length (in years) of the series plotted. When combined with the
calculated <code>x.offset</code> described below, this will make the plot
align correctly on the time axis.  However, note that the alignment
will only really be correct if all of the series plotted have the same
frequency, as the underlying <code>barplot.default</code> forces each group
of bars to have the same width when <code>beside = TRUE</code>.
</p>
<p>If the series being plotted are of different frequencies, you should
not set <code>beside</code>, leaving it at the default value of
<code>FALSE</code>. This will cause the widths of the bars for each series
to be inversely proportional to the series frequencies, and the
individual observations will align correctly on the time axis. 
</p>
<p><code>barplot.tis</code> finds the earliest starting date of the
<code>tis</code> arguments and shifts the plot rightward along the x-axis by
that amount, which aligns the first bar with its start date. That is,
if <code>gdp</code> is the <code>tis</code> argument with the earliest start date of all
the series being plotted, the plot is shifted rightward to make the
first bar align with <code>time(start(gdp))</code>. 
</p>
<p>You can use <code>tisPlot</code> to draw axes, axis labels, and tick marks
for a <code>barplot</code>.  First call <code>tisPlot</code> with the series
you want to plot, and other arguments set to create the range, axes,
labels, tick marks and so on that you want, but set <code>color = 0</code>
to make the series lines invisible. Then call <code>barplot</code> with the
series and additional <code>barplot</code> arguments, but set the <code>add</code>
argument to <code>add = TRUE</code>. This adds the barplot, without axes, to
the existing tisPlot.
</p>


<h3>Value</h3>

<p>same as <code>barplot.default</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="#topic+barplot2">barplot2</a></code></p>

<hr>
<h2 id='barplot2'> Horizontally Shifted Bar Plots </h2><span id='topic+barplot2'></span>

<h3>Description</h3>

<p>This function is a modified version of <code>barplot</code> with an
additional argument that allows the bars to be shifted left or right
along the x-axis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barplot2(height, width = 1, space = NULL,
         names.arg = NULL, legend.text = NULL, beside = FALSE,
         horiz = FALSE, density = NULL, angle = 45,
         col = NULL, border = par("fg"),
         main = NULL, sub = NULL, xlab = NULL, ylab = NULL,
         xlim = NULL, ylim = NULL, xpd = TRUE, log = "",
         axes = TRUE, axisnames = TRUE,
         cex.axis = par("cex.axis"), cex.names = par("cex.axis"),
         inside = TRUE, plot = TRUE, axis.lty = 0, offset = 0,
         add = FALSE, args.legend = NULL, x.offset = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="barplot2_+3A_height">height</code></td>
<td>
<p>either a vector or matrix of values describing the
bars which make up the plot.  If <code>height</code> is a vector, the
plot consists of a sequence of rectangular bars with heights
given by the values in the vector.  If <code>height</code> is a matrix
and <code>beside</code> is <code>FALSE</code> then each bar of the plot
corresponds to a column of <code>height</code>, with the values in the
column giving the heights of stacked sub-bars making up the
bar.  If <code>height</code> is a matrix and <code>beside</code> is
<code>TRUE</code>, then the values in each column are juxtaposed
rather than stacked.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_width">width</code></td>
<td>
<p>optional vector of bar widths. Re-cycled to length the
number of bars drawn.  Specifying a single value will have no
visible effect unless <code>xlim</code> is specified.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_space">space</code></td>
<td>
<p>the amount of space (as a fraction of the average bar
width) left before each bar.  May be given as a single number or
one number per bar.  If <code>height</code> is a matrix and
<code>beside</code> is <code>TRUE</code>, <code>space</code> may be specified by
two numbers, where the first is the space between bars in the
same group, and the second the space between the groups.  If not
given explicitly, it defaults to <code>c(0,1)</code> if <code>height</code>
is a matrix and <code>beside</code> is <code>TRUE</code>, and to 0.2
otherwise.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_names.arg">names.arg</code></td>
<td>
<p>a vector of names to be plotted below each bar or
group of bars.  If this argument is omitted, then the names are
taken from the <code>names</code> attribute of <code>height</code> if this
is a vector, or the column names if it is a matrix.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_legend.text">legend.text</code></td>
<td>
<p>a vector of text used to construct a legend for
the plot, or a logical indicating whether a legend should be
included.  This is only useful when <code>height</code> is a matrix.
In that case given legend labels should correspond to the rows of
<code>height</code>; if <code>legend.text</code> is true, the row names of
<code>height</code> will be used as labels if they are non-null.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_beside">beside</code></td>
<td>
<p>a logical value.  If <code>FALSE</code>, the columns of
<code>height</code> are portrayed as stacked bars, and if <code>TRUE</code>
the columns are portrayed as juxtaposed bars.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_horiz">horiz</code></td>
<td>
<p>a logical value.  If <code>FALSE</code>, the bars are drawn
vertically with the first bar to the left.  If <code>TRUE</code>, the
bars are drawn horizontally with the first at the bottom.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_density">density</code></td>
<td>
<p>a vector giving the density of shading lines, in
lines per inch, for the bars or bar components.
The default value of <code>NULL</code> means that no shading lines
are drawn. Non-positive values of <code>density</code> also inhibit the
drawing of shading lines.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_angle">angle</code></td>
<td>
<p>the slope of shading lines, given as an angle in
degrees (counter-clockwise), for the bars or bar components.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_col">col</code></td>
<td>
<p>a vector of colors for the bars or bar components.
By default, grey is used if <code>height</code> is a vector, and a
gamma-corrected grey palette if <code>height</code> is a matrix.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_border">border</code></td>
<td>
<p>the color to be used for the border of the bars.
Use <code>border = NA</code> to omit borders.  If there are shading
lines, <code>border = TRUE</code> means use the same colour for
the border as for the shading lines.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_main">main</code>, <code id="barplot2_+3A_sub">sub</code></td>
<td>
<p>overall and sub title for the plot.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_xlab">xlab</code></td>
<td>
<p>a label for the x axis.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_ylab">ylab</code></td>
<td>
<p>a label for the y axis.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_xlim">xlim</code></td>
<td>
<p>limits for the x axis.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_ylim">ylim</code></td>
<td>
<p>limits for the y axis.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_xpd">xpd</code></td>
<td>
<p>logical. Should bars be allowed to go outside region?</p>
</td></tr>
<tr><td><code id="barplot2_+3A_log">log</code></td>
<td>
<p>string specifying if axis scales should be logarithmic; see
<code><a href="graphics.html#topic+plot.default">plot.default</a></code>.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_axes">axes</code></td>
<td>
<p>logical.  If <code>TRUE</code>, a vertical (or horizontal, if
<code>horiz</code> is true) axis is drawn.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_axisnames">axisnames</code></td>
<td>
<p>logical.  If <code>TRUE</code>, and if there are
<code>names.arg</code> (see above), the
other axis is drawn (with <code>lty = 0</code>) and labeled.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_cex.axis">cex.axis</code></td>
<td>
<p>expansion factor for numeric axis labels.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_cex.names">cex.names</code></td>
<td>
<p>expansion factor for axis names (bar labels).</p>
</td></tr>
<tr><td><code id="barplot2_+3A_inside">inside</code></td>
<td>
<p>logical.  If <code>TRUE</code>, the lines which divide
adjacent (non-stacked!) bars will be drawn.  Only applies when
<code>space = 0</code> (which it partly is when <code>beside = TRUE</code>).</p>
</td></tr>
<tr><td><code id="barplot2_+3A_plot">plot</code></td>
<td>
<p>logical.  If <code>FALSE</code>, nothing is plotted.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_axis.lty">axis.lty</code></td>
<td>
<p>the graphics parameter <code>lty</code> applied to the axis
and tick marks of the categorical (default horizontal) axis.  Note
that by default the axis is suppressed.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_offset">offset</code></td>
<td>
<p>a vector indicating how much the bars should be shifted
relative to the x axis.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_add">add</code></td>
<td>
<p>logical specifying if bars should be added to an already
existing plot; defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_args.legend">args.legend</code></td>
<td>
<p>list of additional arguments to pass to
<code><a href="graphics.html#topic+legend">legend</a>()</code>; names of the list are used as argument
names.  Only used if <code>legend.text</code> is supplied.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_x.offset">x.offset</code></td>
<td>
<p> shifts the plot left or right along the x-axis.</p>
</td></tr>
<tr><td><code id="barplot2_+3A_...">...</code></td>
<td>
<p>arguments to be passed to/from other methods.  For the
default method these can include further arguments (such as
<code>axes</code>, <code>asp</code> and <code>main</code>) and
<a href="graphics.html#topic+graphical+20parameters">graphical parameters</a> (see <code><a href="graphics.html#topic+par">par</a></code>) which are passed to
<code><a href="graphics.html#topic+plot.window">plot.window</a>()</code>, <code><a href="graphics.html#topic+title">title</a>()</code> and
<code><a href="graphics.html#topic+axis">axis</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>barplot2</code> is a slightly modified version of
<code>barplot.default</code> with an additional parameter (<code>x.offset</code>)
that can shift the plot left or right. It was originally written for
use by <code>barplot.tis</code>, but it can now also be called on it's own.
</p>


<h3>Value</h3>

<p> same as <code>barplot.default</code>, i.e.,
A numeric vector (or matrix, when <code>beside = TRUE</code>), say
<code>mp</code>, giving the coordinates of <em>all</em> the bar midpoints
drawn, useful for adding to the graph.
</p>
<p>If <code>beside</code> is true, use <code>colMeans(mp)</code> for the
midpoints of each <em>group</em> of bars, see example.
</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="#topic+barplot.tis">barplot.tis</a></code></p>

<hr>
<h2 id='basis'>Optional tis attributes </h2><span id='topic+basis'></span><span id='topic+basis+3C-'></span><span id='topic+observed'></span><span id='topic+observed+3C-'></span>

<h3>Description</h3>

<p>tis series have (sometimes implicit) <code>basis</code> and
<code>observed</code> attributes, used when aggregating or disaggregating to
different frequencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basis(x)
basis(x) &lt;- value
observed(x)
observed(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> series</p>
</td></tr>
<tr><td><code id="basis_+3A_value">value</code></td>
<td>
<p>a character string, see the details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These (optional) attributes of a <code>tis</code> series are used when
converting a series from one frequency to another.
</p>
<p>A series <code>basis</code> is &quot;business&quot; or &quot;daily&quot;,
indicating whether the data values in a series are associated with a
5-day business week or a 7-day calendar week.
</p>
<p>The <code>observed</code> attribute of series is one of the following:
</p>

<dl>
<dt><code>annualized</code></dt><dd><p>Specifies that each time series value is the
annualized sum of observations made throughout the associated time
interval. For time scale conversion and totaling purposes, this
attribute is the same as averaged.</p>
</dd>
<dt><code>averaged</code></dt><dd><p>Specifies that each time series value is the
average of the observations made throughout the associated time
interval.</p>
</dd>
<dt><code>beginning</code></dt><dd><p>Specifies that each time series value
represents a single observation made at the beginning of the
associated time interval.</p>
</dd>
<dt><code>end</code></dt><dd><p>Specifies that each time series value represents a
single observation made at the end of the associated time interval.</p>
</dd>
<dt><code>formula</code></dt><dd><p>Specifies that the time series represents a
transformation of other series. For time scale conversion and
totaling purposes, this attribute is the same as averaged.</p>
</dd>
<dt><code>high</code></dt><dd><p>Specifies that each time series value is the
maximum value for the time interval.</p>
</dd>
<dt><code>low</code></dt><dd><p>Specifies that each time series value is the minimum
value for the time interval.</p>
</dd>
<dt><code>summed</code></dt><dd><p>Specifies that each time series value is the sum
of observations made throughout the associated time interval.</p>
</dd>
</dl>



<h3>Value</h3>

<p><code>basis</code> and <code>observed</code> return a character string.  The
assignment forms invisibly return <code>x</code>.
</p>


<h3>References</h3>

<p> The FAME documentation, available from Sungard.</p>


<h3>See Also</h3>

<p><code><a href="#topic+convert">convert</a></code></p>

<hr>
<h2 id='between'>Check for Inclusion in a Closed Interval </h2><span id='topic+between'></span>

<h3>Description</h3>

<p>Returns a logical vector like <code>y</code> showing if each element
lies in the closed interval <code>[min(x1, x2), max(x1, x2)]</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>between(y, x1, x2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="between_+3A_y">y</code></td>
<td>
<p> a numeric object </p>
</td></tr>
<tr><td><code id="between_+3A_x1">x1</code></td>
<td>
<p>a number</p>
</td></tr>
<tr><td><code id="between_+3A_x2">x2</code></td>
<td>
<p>a number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical object like <code>y</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mat &lt;- matrix(rnorm(16), 4, 4)
mat
between(mat, -2, 1)
</code></pre>

<hr>
<h2 id='blanks'>Blanks</h2><span id='topic+blanks'></span>

<h3>Description</h3>

<p>Takes an integer argument <code>n</code> and return a string of n blanks</p>


<h3>Usage</h3>

<pre><code class='language-R'> blanks(n) </code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="blanks_+3A_n">n</code></td>
<td>
<p> an integer </p>
</td></tr>
</table>

<hr>
<h2 id='capitalize'>Capitalize strings</h2><span id='topic+capitalize'></span>

<h3>Description</h3>

<p>Capitalizes characters that begin strings, or that follow a
character that is not digit, underscore, or letter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>capitalize(strings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="capitalize_+3A_strings">strings</code></td>
<td>
<p>character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector like <code>strings</code> but capitalized.
</p>


<h3>Author(s)</h3>

<p> Jeff Hallman </p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+toupper">toupper</a></code> and <code><a href="base.html#topic+tolower">tolower</a></code></p>

<hr>
<h2 id='cbind.tis'> Combine Series Into a Multivariate (Matrix) Time Indexed Series </h2><span id='topic+cbind.tis'></span>

<h3>Description</h3>

<p>This is <code>cbind</code> for <code>tis</code> objects.  It binds several
<code>ts</code> and <code>tis</code> objects together into a single matrix time
indexed series.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
cbind(..., union = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cbind.tis_+3A_...">...</code></td>
<td>

<p>any number of univariate or multivariate <code>ts</code> or <code>tis</code>
objects.  All will be converted to <code>tis</code> objects by
<code>as.tis</code>, and the result series all must have the same
<code>tif</code> (time index frequency). 
</p>
</td></tr>
<tr><td><code id="cbind.tis_+3A_union">union</code></td>
<td>

<p>a logical.  If <code>union</code> = F, a matrix created by the
intersection of the time windows for the arguments will be created.
If <code>union</code> = T, the union of the time windows will be used to
create the matrix. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>union</code> is <code>TRUE</code> and the series in ... do not all
start and end on the same time index, the missing observations are
filled with <code>NA</code>.
</p>
<p>The column names of the returned series are determined as follows:
</p>
<p>If an argument was given a name in the call, the corresponding column
has that name.  If the argument was itself a matrix with column names,
those will be used, otherwise the argument's name is expanded with
digits denoting its respective columns.
</p>


<h3>Value</h3>

<p>a multivariate <code>tis</code> object.
</p>


<h3>Note</h3>

<p>Class <code>"ts"</code> has it's own <code>cbind</code> method which knows nothing
about <code>tis</code> objects.  R generic functions like <code>cbind</code>
dispatch on the class of their first argument, so if you want to
combine <code>tis</code> and <code>ts</code> objects by calling the generic
<code>cbind</code>, be sure that the first argument is a <code>tis</code>, not a
<code>ts</code>.  You can always ensure this is the case by wrapping the
first argument in ... in <code>as.tis()</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+cbind">cbind</a></code></p>

<hr>
<h2 id='columns'>Rows and Columns of a Matrix</h2><span id='topic+columns'></span><span id='topic+rows'></span>

<h3>Description</h3>

<p>Create lists from the rows and/or columns of a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>columns(z)
rows(z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="columns_+3A_z">z</code></td>
<td>
<p>a matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>rows</code> returns a list of the rows of <code>z</code>.  If <code>z</code> has
row names, those will also be the names of the returned list.
</p>
<p><code>columns</code> does the same, but for columns.  Note that if <code>z</code>
is some kind of time series, so too will be the elements of the
returned list.
</p>

<hr>
<h2 id='constantGrowthSeries'>Constant Growth Series</h2><span id='topic+fanSeries'></span><span id='topic+tunnelSeries'></span>

<h3>Description</h3>

<p>Create <code>tis</code> time series that grow at constant rates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fanSeries(startValue, start, end, rates)
tunnelSeries(startValue, start, end, rate, spreads)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constantGrowthSeries_+3A_startvalue">startValue</code></td>
<td>
<p>starting value for the series at time <code>start</code></p>
</td></tr>
<tr><td><code id="constantGrowthSeries_+3A_start">start</code></td>
<td>
<p>a <code>ti</code> (Time Index) for the first observation.</p>
</td></tr>
<tr><td><code id="constantGrowthSeries_+3A_end">end</code></td>
<td>
<p>a <code>ti</code> or something that can be turned into a
<code>ti</code> giving the time index for the last observation.</p>
</td></tr>
<tr><td><code id="constantGrowthSeries_+3A_rates">rates</code></td>
<td>
<p>annual growth rate(s) for the series to be created</p>
</td></tr>
<tr><td><code id="constantGrowthSeries_+3A_rate">rate</code></td>
<td>
<p>annual growth rate for the series to be created</p>
</td></tr>
<tr><td><code id="constantGrowthSeries_+3A_spreads">spreads</code></td>
<td>
<p>vector of 2 numbers giving the percentage values by
which the starting values of the 'tunnel' series should be offset from
<code>startValue</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>fanSeries</code> returns a multivariate series that starts on
<code>start</code> and ends on <code>end</code>.  There are <code>length(rates)</code>
columns. Each column begins at <code>startValue</code> and grows at the rate
given by its corresponding element in <code>rates</code>. These are not
true growth rates, rather each column has a constant first difference
such that over the course of the first year, column i will grow
<code>rates[i]</code> percent. This yields series that plot as straight
lines. 
</p>
<p><code>tunnelSeries</code> first calls <code>fanSeries</code> to create a
univariate series running from <code>start</code> to <code>end</code> with a
starting value of <code>startValue</code> and growing <code>rate</code> percent
over the first year.  It returns a bivariate series with columns that are
offset from that series by <code>spreads[1]</code> and <code>spreads[2]</code>
percent of the <code>startValue</code>. 
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+growth.rate">growth.rate</a></code></p>

<hr>
<h2 id='convert'>
Time scale conversions for time series
</h2><span id='topic+convert'></span>

<h3>Description</h3>

<p>Convert <code>tis</code> series from one frequency to another using a
variety of algorithms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert(x, tif, method = "constant", observed. = observed(x),
        basis. = basis(x), ignore = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_+3A_x">x</code></td>
<td>

<p>a univariate or multivariate <code>tis</code> series. Missing values (NAs)
are ignored. 
</p>
</td></tr>
<tr><td><code id="convert_+3A_tif">tif</code></td>
<td>

<p>a number or a string indicating the desired ti frequency of the
return series. See <code>help(ti))</code> for details.
</p>
</td></tr>
<tr><td><code id="convert_+3A_method">method</code></td>
<td>

<p>method by which the conversion is done: one of &quot;discrete&quot;,
&quot;constant&quot;, &quot;linear&quot;, or &quot;cubic&quot;.  Note that this argument is
effectively ignored if <code>observed.</code> is &quot;high&quot; or &quot;low&quot;, as the
&quot;discrete&quot; method is the only one supported for that setting. 
</p>
</td></tr>
<tr><td><code id="convert_+3A_observed.">observed.</code></td>
<td>

<p>&quot;observed&quot; attribute of the input series: one of &quot;beginning&quot;, &quot;end&quot;,
&quot;high&quot;, &quot;low&quot;, &quot;summed&quot;, &quot;annualized&quot;, or &quot;averaged&quot;.  If this argument is not
supplied and observed(<code>x</code>) != NULL it will be used.  The output
series will also have this &quot;observed&quot; attribute.
</p>
</td></tr>
<tr><td><code id="convert_+3A_basis.">basis.</code></td>
<td>

<p>&quot;daily&quot; or &quot;business&quot;.  If this argument is not supplied and
basis(<code>x</code>) != NULL it will be used. The output series will also
have this &quot;basis&quot; attribute. 
</p>
</td></tr>
<tr><td><code id="convert_+3A_ignore">ignore</code></td>
<td>

<p>governs how missing (partial period) values at the beginning and/or
end of the series are handled.  For method == &quot;discrete&quot; or
&quot;constant&quot; and ignore == T, input values that cover only part the
first and/or last output time intervals will still result in output
values for those intervals.  This can be problematic, especially for
observed == &quot;summed&quot;, as it can lead to atypical values for the
first and/or last periods of the output series.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a close imitation of the way FAME handles time scale
conversions.  See the chapter on &quot;Time Scale Conversion&quot; in the Users
Guide to Fame if the explanation given here is not detailed enough.
</p>
<p>Start with some definitions.  Combining values of a higher frequency
input series to create a lower frequency output series is known as
<code>aggregation</code>. Doing the opposite is known as <code>disaggregation</code>.
</p>
<p>If observed == &quot;high&quot; or &quot;low&quot;, the &quot;discrete&quot; method is always used.
</p>
<p>Disaggration for &quot;discrete&quot; series: (i) for observed == &quot;beginning&quot;
(&quot;end&quot;), the first (last) output period that begins (ends) in a
particular input period is assigned the value of that input period.
All other output periods that begin (end) in that input period are NA.
(ii) for observed == &quot;high&quot;, &quot;low&quot;, &quot;summed&quot; or &quot;averaged&quot;, all output periods that
end in a particular input period are assigned the same value.  For
&quot;summed&quot;, that value is the input period value divided by the number
of output periods that end in the input period, while for &quot;high&quot;,
&quot;low&quot; and &quot;averaged&quot; series, the output period values are the same as the
corresponding input period values.  
</p>
<p>Aggregation for &quot;discrete&quot; series: (i) for observed == &quot;beginning&quot;
(&quot;end&quot;), the output period is assigned the value of the first (last)
input period that begins (ends) in the output period. (ii) for
observed == &quot;high&quot; (&quot;low&quot;), the output period is assigned the value of
the maximum (minimum) of all the input values for periods that end in
the output period. (iii) for observed == &quot;summed&quot; (&quot;averaged&quot;), the
output value is the sum (average) of all the input values for periods
that end in the output period.
</p>
<p>Methods &quot;constant&quot;, &quot;linear&quot;, and &quot;cubic&quot; all work by constructing a
continuous function F(t) and then reading off the appropriate
point-in-time values if observed == &quot;beginning&quot; or &quot;end&quot;, or by
integrating F(t) over the output intervals when observed == &quot;summed&quot;,
or by integrating F(t) over the output intervals and dividing by the
lengths of those intervals when observed == &quot;averaged&quot;.  The unit of
time itself is given by the <code>basis</code> argument. 
</p>
<p>The form of F(t) is determined by the conversion method. For
&quot;constant&quot; conversions, F(t) is a step function with jumps at the
boundaries of the input periods.  If the first and/or last input
periods only partly cover an output period, F is linearly extended to
cover the first and last output periods as well.  The heights of the
steps are set such that F(t) aggregates over the input periods to the
original input series. 
</p>
<p>For &quot;linear&quot; (&quot;cubic&quot;) conversions, F(t) is a linear (cubic) spline.
The x-coordinates of the spline knots are the beginnings or ends of
the input periods if observed == &quot;beginning&quot; or &quot;end&quot;, else they are
the centers of the input periods. The y-coordinates of the splines are
chosen such that aggregating the resulting F(t) over the input periods
yields the original input series. 
</p>
<p>For &quot;constant&quot; conversions, if <code>ignore</code> == F, the first (last)
output period is the first (last) one for which complete input data is
available.  For observed == &quot;beginning&quot;, for example, this means that
data for the first input period that begins in the first output period
is available, while for observed == &quot;summed&quot;, this means that the
first output period is completely contained within the available input
periods.  If <code>ignore</code> == T, data for only a single input period
is sufficient to create an output period value.  For example, if
converting weekly data to monthly data, and the last observation is
June 14, the output series will end in June if <code>ignore</code> == T, or
May if it is F. 
</p>
<p>Unlike the &quot;constant&quot; method, the domain of F(t) for &quot;linear&quot; and
&quot;cubic&quot; conversions is NOT extended beyond the input periods, even if
the ignore option is T. The first (last) output period is therefore
the first (last) one that is completely covered by input periods.
</p>
<p>Series with observed == &quot;annualized&quot; are handled the same as observed
== &quot;averaged&quot;.
</p>


<h3>Value</h3>

<p>a <code>tis</code> time series covering approximately the same time span as
<code>x</code>, but with the frequency specified by <code>tif</code>.
</p>


<h3>BUGS</h3>

<p>Method &quot;cubic&quot; is not currently implemented for observed &quot;summed&quot;,
&quot;annualized&quot;, and &quot;averaged&quot;. 
</p>


<h3>References</h3>

<p>Users Guide to Fame</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+aggregate">aggregate</a></code>, <code><a href="#topic+tif">tif</a></code>, <code><a href="#topic+ti">ti</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>wSeries &lt;- tis(1:105, start = ti(19950107, tif = "wsaturday"))
observed(wSeries) &lt;- "ending"   ## end of week values
mDiscrete &lt;- convert(wSeries, "monthly", method = "discrete")
mConstant &lt;- convert(wSeries, "monthly", method = "constant")
mLinear   &lt;- convert(wSeries, "monthly", method = "linear")
mCubic    &lt;- convert(wSeries, "monthly", method = "cubic")

## linear and cubic are identical because wSeries is a pure linear trend
cbind(mDiscrete, mConstant, mLinear, mCubic)

observed(wSeries) &lt;- "averaged"   ## weekly averages
mDiscrete &lt;- convert(wSeries, "monthly", method = "discrete")
mConstant &lt;- convert(wSeries, "monthly", method = "constant")
mLinear   &lt;- convert(wSeries, "monthly", method = "linear")

cbind(mDiscrete, mConstant, mLinear)
</code></pre>

<hr>
<h2 id='csv'> Writes a CSV (comma separated values) file.</h2><span id='topic+csv'></span>

<h3>Description</h3>

<p>Write a matrix or Time Indexed Series to a .csv file that can be
imported into a spreadsheet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csv(z, file = "", noDates = FALSE, row.names = !is.tis(z), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="csv_+3A_z">z</code></td>
<td>

<p>matrix or <code><a href="#topic+tis">tis</a></code> object
</p>
</td></tr>
<tr><td><code id="csv_+3A_file">file</code></td>
<td>

<p>either a character string naming a file or a connection. If
<code>""</code>, a file name is constructed by deparsing <code>z</code>. The
extension &quot;.csv&quot; is appended to the file name if it is not already there.
</p>
</td></tr>
<tr><td><code id="csv_+3A_nodates">noDates</code></td>
<td>

<p>logical.  If <code>FALSE</code> (the default) and <code>z</code> is a <code><a href="#topic+tis">tis</a></code>
object, the first column of the output file will contain spreadsheet
dates.
</p>
</td></tr>
<tr><td><code id="csv_+3A_row.names">row.names</code></td>
<td>

<p>either a logical value indicating whether the row names of
<code>z</code> are to be written along with <code>z</code>, or a character vector
of row names to be written. If <code>FALSE</code> (the default) and
<code>z</code> is a <code><a href="#topic+tis">tis</a></code> object, the first column of the
output file will contain spreadsheet dates.
</p>
</td></tr>
<tr><td><code id="csv_+3A_...">...</code></td>
<td>

<p>other arguments passed on to <code>write.table</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>csv</code> is essentially a convenient way to call <code>write.table</code>.
If <code>file</code> is not a connection, a file name with the &quot;.csv&quot;
extension is constructed.  Next, a column of spreadsheet dates is
prepended to <code>z</code> if necessary, and then <code>csv</code> calls
</p>
<p><code>write.table(z, file = filename, sep = ",", row.names = !is.tis(z), ...)</code>
</p>


<h3>Value</h3>

<p><code>csv</code> returns whatever the call to <code>write.table</code> returned.
</p>


<h3>See Also</h3>

 <p><code><a href="utils.html#topic+write.table">write.table</a></code></p>

<hr>
<h2 id='cumsum.tis'>Cumulative Sums, Products, and Extremes</h2><span id='topic+cumsum.tis'></span><span id='topic+cumprod.tis'></span><span id='topic+cummin.tis'></span><span id='topic+cummax.tis'></span>

<h3>Description</h3>

<p>Return a <code>tis</code> whose elements are the cumulative sums, products,
minima or maxima of the elements of the argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
cumsum(x)
## S3 method for class 'tis'
cumprod(x)
## S3 method for class 'tis'
cummax(x)
## S3 method for class 'tis'
cummin(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cumsum.tis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> series.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These are <code>tis</code> methods for generic functions.
</p>


<h3>Value</h3>

<p>A <code>tis</code> like <code>x</code>.  An <code>NA</code> value in <code>x</code> causes the
corresponding and following elements of the return value to be
<code>NA</code>, as does integer overflow in <code>cumsum</code> (with a warning). 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+cumsum">cumsum</a></code>, <code><a href="base.html#topic+cumprod">cumprod</a></code>,
<code><a href="base.html#topic+cummin">cummin</a></code>, <code><a href="base.html#topic+cummax">cummax</a></code></p>

<hr>
<h2 id='currentMonday'>Day of Week Time Indexes </h2><span id='topic+currentMonday'></span><span id='topic+currentTuesday'></span><span id='topic+currentWednesday'></span><span id='topic+currentThursday'></span><span id='topic+currentFriday'></span><span id='topic+currentSaturday'></span><span id='topic+currentSunday'></span><span id='topic+latestMonday'></span><span id='topic+latestTuesday'></span><span id='topic+latestWednesday'></span><span id='topic+latestThursday'></span><span id='topic+latestFriday'></span><span id='topic+latestSaturday'></span><span id='topic+latestSunday'></span>

<h3>Description</h3>

<p>Return daily <code>ti</code>'s for particular days of the week</p>


<h3>Usage</h3>

<pre><code class='language-R'>currentMonday(xTi = today())
currentTuesday(xTi = today())
currentWednesday(xTi = today())
currentThursday(xTi = today())
currentFriday(xTi = today())
currentSaturday(xTi = today())
currentSunday(xTi = today())
latestMonday(xTi = today())
latestTuesday(xTi = today())
latestWednesday(xTi = today())
latestThursday(xTi = today())
latestFriday(xTi = today())
latestSaturday(xTi = today())
latestSunday(xTi = today())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="currentMonday_+3A_xti">xTi</code></td>
<td>
<p>a <code>ti</code> object or something that the <code>ti()</code>
function can turn into a <code>ti</code> object </p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>currentMonday</code> returns the daily <code>ti</code> for the last day of
the Monday-ending week that its argument falls into.
<code>currentTuesday</code> returns the daily <code>ti</code> for the last day of
the Tuesday-ending week that its argument falls into, and so on for
the other weekdays.
</p>
<p><code>latestMonday</code> returns the daily <code>ti</code> for the last day of
the most recent completed Monday-ending week that its argument falls
into.  Ditto for the other days of the week.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code> </p>

<hr>
<h2 id='currentPeriod'> Current Period Time Indexes </h2><span id='topic+currentWeek'></span><span id='topic+currentMonth'></span><span id='topic+currentQuarter'></span><span id='topic+currentHalf'></span><span id='topic+currentYear'></span><span id='topic+currentQ4'></span><span id='topic+currentQMonth'></span><span id='topic+currentJanuary'></span><span id='topic+currentFebruary'></span><span id='topic+currentMarch'></span><span id='topic+currentApril'></span><span id='topic+currentMay'></span><span id='topic+currentJune'></span><span id='topic+currentJuly'></span><span id='topic+currentAugust'></span><span id='topic+currentSeptember'></span><span id='topic+currentOctober'></span><span id='topic+currentNovember'></span><span id='topic+currentDecember'></span>

<h3>Description</h3>

<p>Return a current <code>ti</code> of the desired frequency</p>


<h3>Usage</h3>

<pre><code class='language-R'>currentWeek(xTi = today())
currentMonth(xTi = today())
currentQuarter(xTi = today())
currentHalf(xTi = today())
currentYear(xTi = today())
currentQ4(xTi = today())
currentQMonth(xTi = today())
currentJanuary(xTi = today())
currentFebruary(xTi = today())
currentMarch(xTi = today())
currentApril(xTi = today())
currentMay(xTi = today())
currentJune(xTi = today())
currentJuly(xTi = today())
currentAugust(xTi = today())
currentSeptember(xTi = today())
currentOctober(xTi = today())
currentNovember(xTi = today())
currentDecember(xTi = today())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="currentPeriod_+3A_xti">xTi</code></td>
<td>
<p>a <code>ti</code> object or something that the <code>ti()</code>
function can turn into a <code>ti</code> object </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>currentWeek</code> returns the weekly <code>ti</code> for the week that its
argument falls into.  If the argument is itself a <code>ti</code>, the
returned week contains the last day of the argument's period. The default
weekly frequency is &quot;wmonday&quot; (Monday-ending weeks), so
<code>currentWeek</code> always returns wmonday <code>ti</code>'s.  This can be
changed via the <code>setDefaultFrequencies</code> function. 
</p>
<p>All of the other <code>current{SomeFreq}</code> functions work the same way,
returning the <code>ti</code>'s of <code>tif</code> SomeFreq that the last day of
their arguments period falls into.  The <code>tif</code>'s for
<code>currentHalf</code> and <code>currentQ4</code> are &quot;semiannual&quot; and
&quot;quarterly&quot;, respectively.  Finally, <code>currentQMonth</code> returns the
quarter-ending month of the <code>currentQuarter</code> of its argument.
</p>
<p><code>currentJanuary</code> returns the monthly <code>ti</code> for January of the
January-ending year that the last day of its argument falls into.
<code>currentFebruary</code> returns the monthly <code>ti</code> for February of
the February-ending year that the last day of its argument falls into,
and so on.
</p>


<h3>Value</h3>

<p> All return return <code>ti</code> objects as described in the details.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="#topic+tif">tif</a></code>,
<code><a href="#topic+latestWeek">latestWeek</a></code> <code><a href="#topic+setDefaultFrequencies">setDefaultFrequencies</a></code></p>

<hr>
<h2 id='dateRange'>Start and End Time Indices for a Series</h2><span id='topic+dateRange'></span>

<h3>Description</h3>

<p>Returns the starting and ending times of a series in a
<code>ti</code> object of length 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dateRange(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dateRange_+3A_x">x</code></td>
<td>
<p>a <code>ts</code> or <code>tis</code> time series</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ti</code> (Time Index) object of length two.  The first element
is the starting time index, while the second is the ending time index.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+start">start</a></code>, <code><a href="stats.html#topic+end">end</a></code>, <code><a href="#topic+ti">ti</a></code>, <code><a href="#topic+tis">tis</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>aTs &lt;- ts(1:24, start = c(2001, 1), freq = 12)
aTis &lt;- as.tis(aTs)
dateRange(aTs)
dateRange(aTis)
</code></pre>

<hr>
<h2 id='dayOfPeriod'>Day positions in Time Index Periods</h2><span id='topic+dayOfPeriod'></span><span id='topic+dayOfWeek'></span><span id='topic+dayOfMonth'></span><span id='topic+dayOfYear'></span><span id='topic+firstDayOf'></span><span id='topic+lastDayOf'></span><span id='topic+firstBusinessDayOf'></span><span id='topic+lastBusinessDayOf'></span><span id='topic+firstBusinessDayOfMonth'></span><span id='topic+lastBusinessDayOfMonth'></span><span id='topic+currentMonthDay'></span><span id='topic+latestMonthDay'></span>

<h3>Description</h3>

<p>Return position within a <code>ti</code> period, or a particular
day within the period.</p>


<h3>Usage</h3>

<pre><code class='language-R'>dayOfPeriod(xTi = today(), tif = NULL)
dayOfWeek(xTi = today())
dayOfMonth(xTi = today())
dayOfYear(xTi = today())
firstDayOf(xTi)
lastDayOf(xTi)
firstBusinessDayOf(xTi)
lastBusinessDayOf(xTi)
firstBusinessDayOfMonth(xTi)
lastBusinessDayOfMonth(xTi)
currentMonthDay(xTi, daynum)
latestMonthDay(xTi, daynum)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dayOfPeriod_+3A_xti">xTi</code></td>
<td>
<p>a <code>ti</code> object or something that the <code>ti()</code>
function can turn into a <code>ti</code> object </p>
</td></tr>
<tr><td><code id="dayOfPeriod_+3A_tif">tif</code></td>
<td>
<p>a time index frequency code or name. See <code><a href="#topic+tif">tif</a></code>. </p>
</td></tr>
<tr><td><code id="dayOfPeriod_+3A_daynum">daynum</code></td>
<td>
<p>day number in month</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>dayOfXXXXX</code> functions all work the same way, returning the
day number of the XXXXX that <code>jul(xTi)</code> falls on.  For example,
if today is Thursday, January 5, 2006, then <code>dayOfWeek()</code>,
<code>dayOfMonth()</code> and <code>dayOfYear()</code> are all 5.  All of these
are implemented via <code>dayOfPeriod</code>, which converts its first
argument to a Julian date (via <code>jul(xTi)</code>) and finds the
<code>ti</code> with frequency <code>tif</code> that day falls into. It returns
the day number of the period represented by that time index that the
Julian date falls on.  
</p>
<p><code>firstDayOf</code> and <code>lastDayOf</code> return a daily <code>ti</code> for
the first or last day of the period represented by <code>xTi</code>.
<code>firstBusinessDayOf</code> and <code>lastBusinessDayOf</code> do the same but
the returned <code>ti</code> has business daily frequency.
</p>
<p><code>firstBusinessDayOfMonth</code> returns a business daily <code>ti</code> for
the first business day of the month of <code>xTi</code>.
<code>lastBusinessDayOfMonth</code> does the same but for the last business
day of the month of <code>xTi</code>.
</p>
<p><code>currentMonthDay</code> returns a daily <code>ti</code> for the next upcoming
<code>daynum</code>'th of the month.  <code>latestMonthDay</code> does the same
for the most recent <code>daynum</code>'th of the month.
</p>
<p><code>currentMonday</code> returns the daily <code>ti</code> for the last day of
the Monday-ending week that its argument falls into.  The other
<code>current{Weekday}</code> functions work the same way.
</p>


<h3>Value</h3>

<p> All of the functions except the <code>dayOfXXXXX</code> return <code>ti</code>
objects as described in the details section above.  The
<code>dayOfXXXXX</code> functions return numbers.
</p>


<h3>Note</h3>

<p>None of these business-day functions take account of holidays, so
<code>firstBusinessDayOfMonth(20010101)</code>, for example, returns January
1, 2001 which was actually a holiday.  To see how to handle holidays,
look at the <code><a href="#topic+holidays">holidays</a></code> and <code><a href="#topic+nextBusinessDay">nextBusinessDay</a></code> help pages.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="#topic+tif">tif</a></code>, <code><a href="#topic+jul">jul</a></code>,
<code><a href="#topic+holidays">holidays</a></code>, <code><a href="#topic+nextBusinessDay">nextBusinessDay</a></code>,
<code><a href="#topic+previousBusinessDay">previousBusinessDay</a></code> </p>

<hr>
<h2 id='description'>Description and Documentation Attributes</h2><span id='topic+description'></span><span id='topic+documentation'></span><span id='topic+description+3C-'></span><span id='topic+documentation+3C-'></span>

<h3>Description</h3>

<p>Get or set the <code>description</code> and <code>documentation</code>
strings for an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>description(x)
description(x) &lt;- value
documentation(x)
documentation(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="description_+3A_x">x</code></td>
<td>
<p>object whose description or documentation attribute is to be
set or retrieved</p>
</td></tr>
<tr><td><code id="description_+3A_value">value</code></td>
<td>
<p>a string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The setters invisibly return <code>x</code>, the getters return the desired
attribute or NULL.
</p>

<hr>
<h2 id='evalOrEcho'> Evaluate an Argument If Possible </h2><span id='topic+evalOrEcho'></span>

<h3>Description</h3>

<p>This function parses, evaluates and returns the string given as its
first argument. If it can't, the argument itself is returned. Use of
<code>evalOrEcho</code> to process arguments inside a function can make for
more flexible code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evalOrEcho(x, resultMode = NULL, n = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evalOrEcho_+3A_x">x</code></td>
<td>

<p>a string or other object to attempt to parse and evaluate.
</p>
</td></tr>
<tr><td><code id="evalOrEcho_+3A_resultmode">resultMode</code></td>
<td>

<p>a string or NULL.  If non-NULL, the evaluation of <code>x</code> is
considered to have failed if the resulting object is not of this
mode. 
</p>
</td></tr>
<tr><td><code id="evalOrEcho_+3A_n">n</code></td>
<td>

<p>parent generations to go back.  The evaluation is attempted in the
enviroment specified by <code>parent.frame(n)</code> (of the caller).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using this function inside another function to process some of its
arguments can be very useful.  For example, <code>tisPlot</code> has a
number or arguments that specify text labels for headers, subheaders,
footnotes, axis labels, and so on.  One of those arguments is
<code>sub</code>, which specifies the subheader.  By doing this:
</p>
<p><code>sub &lt;- evalOrEcho(sub, resultMode = "character")</code>
</p>
<p><code>tisPlot</code> can handle the <code>sub</code> argument given in any of
these forms:
</p>

<ol>
<li> <p><code>sub = "This is a simple subtitle"</code>.
</p>
</li>
<li> <p><code>sub = c("this is a two", "line subtitle")</code>.
</p>
</li>
<li> <p><code>sub = 'c("this is another", "two line subtitle")'</code>.
</p>
</li></ol>



<h3>Value</h3>

<p>If <code>x</code> is successfully parsed and evaluated, and its mode matches
<code>resultMode</code> (if supplied), the resulting object is returned.
Otherwise, <code>x</code> itself is returned.
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+try">try</a></code></p>

<hr>
<h2 id='format.ti'> Convert Time Index or Jul to Character </h2><span id='topic+format.ti'></span><span id='topic+format.jul'></span><span id='topic+as.character.ti'></span><span id='topic+as.character.jul'></span>

<h3>Description</h3>

<p><code>format</code> formats a jul or time index object for printing.
<code>as.character</code> for a <code>jul</code> or <code>ti</code> object is
essentially just an alias for <code>format</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ti'
format(x, ..., tz = "")
## S3 method for class 'jul'
format(x, ...)
## S3 method for class 'ti'
as.character(x, ...)
## S3 method for class 'jul'
as.character(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format.ti_+3A_x">x</code></td>
<td>
<p> a <code>jul</code> or <code>ti</code> (time index) object </p>
</td></tr>
<tr><td><code id="format.ti_+3A_tz">tz</code></td>
<td>
<p> A timezone specification to be used for the conversion if
<code>x</code> has an intraday frequency. System-specific, but <code>""</code> is
the current time zone, and <code>"GMT"</code> is UTC.</p>
</td></tr>
<tr><td><code id="format.ti_+3A_...">...</code></td>
<td>
<p> other args passed on to <code>format.POSIXlt</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>as.character</code> methods do nothing but call the corresponding
<code>format</code> methods.
<code>x</code> is converted to a <code>POSIXlt</code> object and then
<code>format.POSIXlt</code> takes over.
</p>


<h3>Value</h3>

<p>a character vector representing <code>x</code>
</p>


<h3>Note</h3>

<p><code>format.POSIXlt</code> has been modified to understand two additional
format symbols in addition to those documented in
<code>link{strftime}</code>: &quot;%q&quot; in the format string is replaced with the
quarter number (1 thru 4) and &quot;%N&quot; is replaced with the first letter
of the month name.
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+format.POSIXlt">format.POSIXlt</a></code>, <code><a href="base.html#topic+strftime">strftime</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>format(today() + 0:9, "%x")
as.character(jul(today()))
</code></pre>

<hr>
<h2 id='fortify.tis'>Fortify a tis object</h2><span id='topic+fortify.tis'></span>

<h3>Description</h3>

<p>A fortify method for tis objects </p>


<h3>Usage</h3>

<pre><code class='language-R'>    ## S3 method for class 'tis'
fortify(x, offset = 0.5, dfNames = NULL, timeName = "date")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fortify.tis_+3A_x">x</code></td>
<td>
<p>A <code>tis</code> object of time series</p>
</td></tr>
<tr><td><code id="fortify.tis_+3A_offset">offset</code></td>
<td>
<p> A number between 0 and 1 specifying where in the period of time
represented by the 'ti(x)' the points should eventually be plotted in <code>ggplot2</code>.
'offset = 0' gives the beginning of the period and 'offset
= 1' the end of the period, 'offset = 0.5' the middle of the period, and
so on.  For example if <code>x</code> is a tis object of quarterly time series and <code>offset = 0.5</code>
then the resulting plotted points would fall in the middle of each quarter.  
<code>offset</code> is passed on to <code>POSIXct(ti(x), offset=offset)</code> 
and used to create the field <code>date</code> in the resulting data frame.
</p>
</td></tr>
<tr><td><code id="fortify.tis_+3A_dfnames">dfNames</code></td>
<td>
<p> A character vector of the names for the <code>tis</code> objects contained in <code>x</code>. Defaults to the name of the <code>tis</code> object in the univariate case and the column names of the <code>tis</code> object in the multivariate case.</p>
</td></tr>
<tr><td><code id="fortify.tis_+3A_timename">timeName</code></td>
<td>
<p> A character vector of length one with the desired name for
the column of dates that will be created from the <code>tis</code> object time index.
Default name is <code>"date"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function turns a <code>tis</code> object into a data frame containing the 
original time series plus a field of dates
adjusted by an &lsquo;offset&rsquo;,
so that the time series can be more easily plotted with <code>ggplot2</code>.
</p>


<h3>Author(s)</h3>

<p>Trevor Davis</p>


<h3>See Also</h3>

<p><a href="ggplot2.html#topic+fortify">fortify</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>    if(require("ggplot2") &amp;&amp; require("reshape")) {
             # Examples of plotting tis series with ggplot2
             require("datasets")
             require("scales")

             # univariate example
             num_discoveries &lt;- as.tis(discoveries)
             ggplot(data = fortify(num_discoveries, offset=0)) + 
                    geom_line(aes(x=date, y=num_discoveries)) + 
                    scale_x_date(breaks = date_breaks("10 years"), labels = date_format("%Y"))
             
             # multivariate example using the "melt trick"
             Seatbelts.tis &lt;- as.tis(Seatbelts[ , c("drivers", "front", "rear")])
             Seatbelt.names &lt;- c("Driver", "Front Seat Passenger", "Back Seat Passenger")
             Seatbelts.df &lt;- fortify(Seatbelts.tis, dfNames = Seatbelt.names,
                                     timeName = "Time")
             Seatbelts.dfm &lt;- melt(Seatbelts.df, id.var = "Time", variable_name="type")
             qplot( Time, value, data = Seatbelts.dfm, geom="line", 
                    group=type, colour=type, linetype=type ) + 
                 geom_vline(xintercept=as.numeric(as.Date("1983-01-31")), 
                    colour="black", linetype="dashed") +
                 ylab("Monthly Road Casulties in the UK")
    }
</code></pre>

<hr>
<h2 id='frColors'> FRB Color Palettes </h2><span id='topic+frColors'></span>

<h3>Description</h3>

<p> Returns a vector of 11 color names that can be used as a
palette suitably for a light or dark background.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frColors(dark = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="frColors_+3A_dark">dark</code></td>
<td>
<p>If <code>TRUE</code> return a set of colors suitable for drawing
on a black background.  The first color is &quot;white&quot;.  If <code>FALSE</code>
(the default), return colors suitable for drawing on a white
background, with the first color set to &quot;black&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of 11 color names.
</p>


<h3>Author(s)</h3>

<p> Jeff Hallman </p>


<h3>See Also</h3>

 <p><code><a href="#topic+setColors">setColors</a></code>, <code><a href="grDevices.html#topic+colors">colors</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>plot.new()
for(i in 1:11) abline(h = (i-0.5)/11, lwd = 2, lty = 1, col = frColors()[i])
plot.new()
for(i in 1:11) abline(h = (i-0.5)/11, lwd = 2, lty = 1, col = frColors(dark = TRUE)[i])
</code></pre>

<hr>
<h2 id='growth.rate'>Growth Rates of Time Series</h2><span id='topic+growth.rate'></span><span id='topic+growth.rate+3C-'></span>

<h3>Description</h3>

<p>Get or set growth rates of a <code>tis</code> time series in annual
percent terms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>growth.rate(x, lag = 1, simple = T)
growth.rate(x, start = end(x) + 1, simple = T) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="growth.rate_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> time series or something that can be turned into
one by <code>as.tis</code></p>
</td></tr>
<tr><td><code id="growth.rate_+3A_lag">lag</code></td>
<td>
<p>number of lags to use in calculating the growth rate as
outlined in the details below</p>
</td></tr>
<tr><td><code id="growth.rate_+3A_simple">simple</code></td>
<td>
<p>simple growth rates if <code>TRUE</code>, compound growth
rates if <code>FALSE</code></p>
</td></tr>
<tr><td><code id="growth.rate_+3A_start">start</code></td>
<td>
<p>the first <code>ti</code> time index for which values of
<code>x</code> should be replaced to make <code>growth.rate(x[start]) == value[1]</code>.</p>
</td></tr>
<tr><td><code id="growth.rate_+3A_value">value</code></td>
<td>
<p>desired growth rates</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An example: Suppose <code>x</code> is a quarterly series, then if <code>simple</code> is
<code>TRUE</code>, 
</p>
<p><code>growth.rate(x, lag = 3)</code> == <code>100 * ((x[t]/x[t-3]) - 1) * (4/3)</code>
</p>
<p>while if <code>simple</code> is <code>FALSE</code>
</p>
<p><code>growth.rate(x, lag = 3)</code> == <code>100 * ((x[t]/x[t-3])^(4/3) - 1)</code>.
</p>


<h3>Value</h3>

<p><code>growth.rate(x)</code> returns a <code>tis</code> series of growth rates in
annual percentage terms.
</p>
<p>Beginning with the observation indexed by <code>start</code>,
</p>
<p><code>growth.rate(x) &lt;- value</code>
</p>
<p>sets the values of <code>x</code> such that the growth rates in annual
percentage terms will be equal to <code>value</code>. <code>x</code> is extended
if necessary. The modified <code>x</code> is invisibly returned. 
</p>

<hr>
<h2 id='hms'> Hours, Minutes and Seconds from a Time Index or Jul</h2><span id='topic+hms'></span>

<h3>Description</h3>

<p>Extract the fractional part of a <code>ti</code> (time index) or
<code>jul</code> (julian date) object as a normalized list of hours,
minutes, and seconds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hms(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hms_+3A_x">x</code></td>
<td>
<p> a <code>jul</code> or something numeric that can be converted into
a <code>jul</code> with a fractional part.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The fractional part of <code>x</code> is multiplied by 86400 (the
number of seconds in a day) and rounded to get the number of seconds.
This is then divided by 3600 to get the number of hours, and the
remainder of that is divided by 60 to get the normalized number of
minutes.  The remainder from the second division is the normalized
number of seconds. 
</p>


<h3>Value</h3>

<p>A list with components:
</p>
<table>
<tr><td><code>hours</code></td>
<td>
<p>Normalized number of hours</p>
</td></tr>
<tr><td><code>minutes</code></td>
<td>
<p>Normalized number of minutes</p>
</td></tr>
<tr><td><code>seconds</code></td>
<td>
<p>Normalized number of seconds</p>
</td></tr>
</table>
<p>See the details.
</p>


<h3>Note</h3>

<p>Support for fractional days in <code>ti</code> and <code>jul</code> objects is
relatively new and untested.  There is probably code lurking about
that assumes the numeric parts of <code>ti</code> and <code>jul</code> objects are
integers, or even code that may round them to make sure they are
integers.  The fractional parts of <code>ti</code> and <code>jul</code> objects
may not survive encounters with such code.  
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code> and <code><a href="#topic+jul">jul</a></code>.  Also see
<code><a href="#topic+hourly">hourly</a></code> for information on intraday frequencies</p>


<h3>Examples</h3>

<pre><code class='language-R'>hms(today() + 0.5)
hms(today())
hms(today() + 43201/86400)
</code></pre>

<hr>
<h2 id='holidays'>Holidays</h2><span id='topic+nextBusinessDay'></span><span id='topic+previousBusinessDay'></span><span id='topic+isHoliday'></span><span id='topic+isBusinessDay'></span><span id='topic+isGoodFriday'></span><span id='topic+isEaster'></span><span id='topic+holidays'></span><span id='topic+federalHolidays'></span><span id='topic+goodFriday'></span><span id='topic+easter'></span><span id='topic+inaugurationDay'></span><span id='topic+holidaysBetween'></span>

<h3>Description</h3>

<p>Functions that know about Federal and FRB (Federal Reserve
Board) holidays.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nextBusinessDay(x, holidays = NULL, goodFriday = F, board = F, inaug = board)
previousBusinessDay(x, holidays = NULL, goodFriday = F, board = F, inaug = board)
isHoliday(x, goodFriday = F, board = F, inaug = board, businessOnly = T)
isBusinessDay(x, ...)
isGoodFriday(x)
isEaster(x)
holidays(years, goodFriday = F, board = F, inaug = board, businessOnly = T)
federalHolidays(years, board = F, businessOnly = T)
goodFriday(years)
easter(years)
inaugurationDay(years)
holidaysBetween(startTi, endTi, goodFriday = F, board = F, inaug = board,
                businessOnly = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="holidays_+3A_x">x</code></td>
<td>
<p>a <code>ti</code> time index, or something that can be turned into
one, such as a yyyymmdd number or a <code>Date</code> object.</p>
</td></tr>
<tr><td><code id="holidays_+3A_holidays">holidays</code></td>
<td>
<p>a vector of holidays (in yyyymmdd form) to skip over, or
<code>NULL</code>. In the latter case, the <code>holidays</code> function is used
to determine days to skip over. </p>
</td></tr>
<tr><td><code id="holidays_+3A_goodfriday">goodFriday</code></td>
<td>
<p>if <code>TRUE</code>, consider Good Friday as a holiday.
Default is <code>FALSE</code> because Good Friday is not a federal holiday.</p>
</td></tr>
<tr><td><code id="holidays_+3A_board">board</code></td>
<td>
<p>if <code>TRUE</code>, the Friday preceding a Saturday NewYears,
Independence, Veterans or Christmas Day is considered a holiday.</p>
</td></tr>
<tr><td><code id="holidays_+3A_inaug">inaug</code></td>
<td>
<p>if <code>TRUE</code>, consider the U.S. Presidential
Inauguration Day to be a holiday, but only if it falls on a weekday.</p>
</td></tr>
<tr><td><code id="holidays_+3A_businessonly">businessOnly</code></td>
<td>
<p>if <code>TRUE</code> (the default), ignore Saturday NewYears,
Independence, Veterans amd Christmas Day holidays.  Has no effect if
<code>board</code> is <code>TRUE</code>, since that moves Saturday holidays to Friday.</p>
</td></tr>
<tr><td><code id="holidays_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code>isHoliday</code></p>
</td></tr>
<tr><td><code id="holidays_+3A_years">years</code></td>
<td>
<p>numeric vector of 4 digit years</p>
</td></tr>
<tr><td><code id="holidays_+3A_startti">startTi</code></td>
<td>
<p>a daily <code>ti</code> time index, or something that can be
turned into one</p>
</td></tr>
<tr><td><code id="holidays_+3A_endti">endTi</code></td>
<td>
<p>a daily <code>ti</code> time index, or something that can be
turned into one</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Federal law defines 10 holidays. Four of them, NewYears, Independence,
Veterans and Christmas, fall on the same date every year. The other
six fall on particular days of the week and months (MLK, Presidents,
Memorial, Labor, Columbus, and Thanksgiving).
</p>
<p>If one of the four fixed-date holidays falls on a Sunday, the federal
holiday is celebrated the next day (Monday).  If it falls on a
Saturday, the preceding day (Friday) is a holiday for the Federal
Reserve Board, but not for the Reserve Banks and the banking system as
a whole.
</p>
<p>Presidential Inauguration day is a Federal holiday only in the DC
area, and then only if it falls on a weekday, so it is not included in
the holidays returned by <code>federalHolidays</code>, but it can be
included in several of the other functions by setting the <code>inaug</code>
argument to <code>TRUE</code>.
</p>
<p>The function <code>isBusinessDay</code> returns <code>TRUE</code> for <code>x</code> if
and only if <code>x</code> is not a holiday, a Saturday or a Sunday.
</p>


<h3>Value</h3>

<p><code>nextBusinessDay</code> and <code>previousBusinessDay</code> return
&quot;business&quot; frequency <code>ti</code> objects.
</p>
<p><code>isHoliday</code>, <code>isGoodFriday</code>, <code>isEaster</code> and <code>isBusinessDay</code> return
Boolean vectors as long as <code>x</code>. 
</p>
<p><code>easter</code> and <code>goodFriday</code> return numeric vectors of yyyymmdd
dates of the appropiate holidays for each year in the <code>years</code>
argument.
</p>
<p><code>inaugurationDay</code> returns a numeric vector of yyyymmdd dates of
U.S. Presidential Inauguration Days, if any, that fall in the years
given in the <code>years</code> argument.  
</p>
<p><code>federalHolidays</code> returns a numeric vector of yyyymmdd dates
for the federal holidays for each year in <code>years</code>.  The
<code>names</code> attribute of the returned vector contains the holiday
names.
</p>
<p><code>holidays</code> returns a vector like <code>federalHolidays</code> does.
The only difference between the two functions is that <code>holidays</code>
has the option of including Good Fridays.
</p>
<p><code>holidaysBetween</code> returns a vector of yyyymmdd dates for holidays
that fall within the time spanned by <code>[startTi, endTi]</code>.
</p>


<h3>Note</h3>

<p> The algorithm for finding Easter dates was found somewhere on the
web (I don't remember where) and is unbelievably complex.  It would
probably be simpler to just celebrate the home opener of the Cleveland
Indians instead.
</p>

<hr>
<h2 id='inferTi'> Create a Time Index to Match a Vector of DateTimes </h2><span id='topic+inferTi'></span>

<h3>Description</h3>

<p>Attempts to find a <code>tif</code> (Time Index Frequency) that &quot;fits&quot; the
supplied dateTimes, and returns a <code>ti</code> object that hits the same
dates and/or times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inferTi(dateTimes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inferTi_+3A_datetimes">dateTimes</code></td>
<td>
<p>a vector <code>POSIXct</code> object, or something that
<code>as.POSIXct</code> can coerce into one. </p>
</td></tr>
</table>


<h3>Value</h3>

<p> a <code>ti</code> object as long as the input</p>


<h3>Note</h3>

<p> May fail if there is no <code>tif</code> that closely matches the inputs.</p>


<h3>See Also</h3>

 <p><code><a href="#topic+as.ti">as.ti</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>  inferTi(Sys.time() + (1:5)*86400)
</code></pre>

<hr>
<h2 id='interpNA'> Interpolate missing values in a Time Indexed Series </h2><span id='topic+interpNA'></span>

<h3>Description</h3>

<p> Calls <code><a href="stats.html#topic+approxfun">approxfun</a></code> or <code><a href="stats.html#topic+splinefun">splinefun</a></code>
to interpolate missing values in a <code><a href="#topic+tis">tis</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpNA(x, method = "constant", useTimes = F, offset = 1, rule = 2, f = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpNA_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> time series</p>
</td></tr>
<tr><td><code id="interpNA_+3A_method">method</code></td>
<td>
<p>One of c(&quot;constant&quot;, &quot;linear&quot;, &quot;fmm&quot;, &quot;natural&quot;,
&quot;periodic&quot;).  Methods &quot;constant&quot; and &quot;linear&quot; call <code>approxfun</code>;
the others call <code>splinefun</code>.
</p>
</td></tr>
<tr><td><code id="interpNA_+3A_usetimes">useTimes</code></td>
<td>
<p>if <code>TRUE</code>, use <code>time(x, offset)</code> (the
decimal times of <code>x</code>) as the 'x' part of the (x, y) pairs used for
interpolation.  If <code>FALSE</code> (the default), use <code>ti(x)</code> (the
integer time indices of <code>x</code>) as the 'x' part of the (x, y) pairs.
</p>
</td></tr>
<tr><td><code id="interpNA_+3A_offset">offset</code></td>
<td>
<p>if <code>useTimes</code> is <code>TRUE</code>, a number in the range
[0,1] telling where in the periods represented by <code>ti(x)</code> to
get the points for the 'x' parts of the (x, y) pairs. See the help
for <code><a href="#topic+jul">jul</a></code> for a more detailed explanation of this parameter.
</p>
</td></tr>
<tr><td><code id="interpNA_+3A_rule">rule</code></td>
<td>
<p>For methods &quot;constant&quot; and &quot;linear&quot;: an integer describing
how interpolation is to take place outside the interval
[<code>min(x)</code>, <code>max(x)</code>]. If <code>rule</code> is <code>1</code> then
<code>NA</code>s are returned for such points and if it is <code>2</code>, the
value at the closest data extreme is used.
</p>
</td></tr>
<tr><td><code id="interpNA_+3A_f">f</code></td>
<td>
<p>For <code>method="constant"</code> a number between 0 and 1
inclusive, indicating a compromise between left- and
right-continuous step functions. If <code>y0</code> and <code>y1</code> are the
values to the left and right of the point then the value is
<code>y0*(1-f)+y1*f</code> so that <code>f=0</code> is right-continuous and
<code>f=1</code> is left-continuous.
</p>
</td></tr>
<tr><td><code id="interpNA_+3A_...">...</code></td>
<td>
<p>Other arguments passed along to <code>approxfun</code> for
methods &quot;constant&quot; and &quot;linear&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Depending on the method specified, a call to either
<code>approxfun</code> or <code>splinefun</code> is constructed with appropriate
arguments and executed for each column of <code>x</code>.  In the call to
<code>approxfun</code> or <code>splinefun</code>, the time indices <code>ti(x)</code>
(or the decimal times returned by <code>time(x, offset)</code>, if
<code>useTimes</code> is <code>TRUE</code>) serve as the 'x' argument and the
column values as the 'y' argument.
</p>


<h3>Value</h3>

<p> A <code>tis</code> object like <code>x</code> with <code>NA</code> values filled
in by interpolated values.</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+approxfun">approxfun</a></code>, <code><a href="stats.html#topic+splinefun">splinefun</a></code>,
<code><a href="#topic+ti">ti</a></code></p>

<hr>
<h2 id='Intraday'> R support for Intraday frequencies </h2><span id='topic+hourly'></span><span id='topic+minutely'></span><span id='topic+secondly'></span>

<h3>Description</h3>

<p>create <code>tif</code> (TimeIndexFrequency) codes for hourly, minutely, and
secondly <code>ti</code>'s.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  hourly(n = 0)
minutely(n = 0)
secondly(n = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Intraday_+3A_n">n</code></td>
<td>
<p>number of base periods to skip.  That is, <code>hourly(2)</code>
gives a <code>tif</code> code for a series observed every 2nd hour, while
both <code>minutely()</code> and <code>minutely(1)</code> are for a series
observed once per minute, <code>secondly(30)</code> means every 30 seconds,
and so on.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The current implementation has hourly(n) &ndash;&gt; 2000 + n,
minutely(n) &ndash;&gt; 3000 + n, and secondly(n) &ndash;&gt; 4000 + n.  If <code>n</code>
divides evenly into 3600 for <code>secondly(n)</code>, the return code will
be the same as <code>hourly(n/3600)</code>.  For <code>secondly(n)</code> and
<code>minutely(n)</code>, if <code>n</code> divides evenly into 60, the return
code will be as if <code>minutely(n/60)</code> or <code>hourly(n/60)</code> had
been called, respectively.
</p>
<p>For <code>hourly(n)</code>, <code>n</code> must evenly divide into 24 and be less
than 24, i.e., <code>n</code> is one of 1, 2, 3, 4, 6, 8, 12.  For
<code>minutely(n)</code>, <code>n</code> must be an even divisor of 1440, and less
than 720.  For <code>secondly(n)</code>, <code>n</code> must divide evenly into
86400, and be no larger than 960.
</p>


<h3>Value</h3>

<p> An integer <code>tif</code> code.</p>


<h3>See Also</h3>

 <p><code><a href="#topic+tif">tif</a></code></p>

<hr>
<h2 id='isIntradayTif'>Check for Intraday Time Index Frequency</h2><span id='topic+isIntradayTif'></span>

<h3>Description</h3>

<p>The intraday frequencies are <code>hourly(n)</code>,
<code>minutely(n)</code> and <code>secondly(n)</code>, where <code>n</code> is an
appropriate integer. Their numeric <code>tif</code> codes are between 2000
and 4900, and that is what is actually checked for. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isIntradayTif(tif)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isIntradayTif_+3A_tif">tif</code></td>
<td>
<p>a character vector of <code>tif</code> names (see
<code><a href="#topic+tifName">tifName</a></code>) or a numeric vector of <code>tif</code> codes (see
<code><a href="#topic+tif">tif</a></code> to be checked</p>
</td></tr> 
</table>


<h3>Value</h3>

<p>A logical vector as long as the input indicating which elements
are intraday Time Index frequencies.
</p>


<h3>Note</h3>

<p>The function does not attempt to verify if the supplied <code>tif</code>
is actually valid, intraday or not.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hourly">hourly</a></code>, <code><a href="#topic+minutely">minutely</a></code>, <code><a href="#topic+secondly">secondly</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>isIntradayTif(hourly(6))
isIntradayTif(tif(today()))
isIntradayTif(minutely(30))
</code></pre>

<hr>
<h2 id='isLeapYear'>Check Leap Year</h2><span id='topic+isLeapYear'></span>

<h3>Description</h3>

<p>Checks whether or not the elements of its input are leap years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isLeapYear(y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isLeapYear_+3A_y">y</code></td>
<td>
<p> numeric vector of years </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>y</code> is a leap year if it is evenly divisible by 4
<em>and</em> either it is not evenly divisible by 100 or it is evenly
divisible by 400, i.e.,
<code>y%%4 == 0 &amp; (y%%100 != 0 | y%%400 == 0)</code>.
</p>


<h3>Value</h3>

<p>logical vector of same length as <code>y</code> indicating whether or not
the given years are leap years.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>isLeapYear(c(1899:2004))
</code></pre>

<hr>
<h2 id='jul'> Julian Date Objects </h2><span id='topic+jul'></span><span id='topic+jul.Date'></span><span id='topic+jul.IDate'></span><span id='topic+jul.default'></span><span id='topic+jul.ti'></span><span id='topic+jul.yearmon'></span><span id='topic+jul.yearqtr'></span><span id='topic+as.jul'></span><span id='topic+asJul'></span><span id='topic+is.jul'></span>

<h3>Description</h3>

<p>The function <code>jul</code> is used to create <code>jul</code> (julian date)
objects, which are useful for date calculations.
</p>
<p><code>as.jul</code> and <code>asJul</code> coerce an object to class &quot;jul&quot;, the
difference being that <code>as.jul</code> calls the constructor <code>jul</code>,
while <code>asJul</code> simply forces the class of its argument to be &quot;jul&quot;
without any checking as to whether or not it makes sense to do so.
</p>
<p><code>is.jul</code> tests whether an object inherits from class &quot;jul&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jul(x, ...)
## S3 method for class 'Date'
jul(x, ...)
## S3 method for class 'IDate'
jul(x, ...)
## S3 method for class 'ti'
jul(x, offset = 1, ...)
## S3 method for class 'yearmon'
jul(x, offset = 0, ...)
## S3 method for class 'yearqtr'
jul(x, offset = 0, ...)
## Default S3 method:
jul(x, ...)
as.jul(x, ...)
asJul(x)
is.jul(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jul_+3A_x">x</code></td>
<td>

<p>object to be tested (<code>is.jul</code>) or converted into a <code>jul</code>
object.  As described in the details below, the constructor function
<code>jul</code> can deal with several different kinds of <code>x</code>. 
</p>
</td></tr>
<tr><td><code id="jul_+3A_...">...</code></td>
<td>

<p>other args to be passed to the method called by the generic
function.  <code>jul.default</code> may pass these args to <code>as.Date</code>.
</p>
</td></tr>
<tr><td><code id="jul_+3A_offset">offset</code></td>
<td>

<p>For <code>jul.ti</code>, a number in the range [0,1] telling where in the
period represented by <code>x</code> to find the day.  0 returns the first
day of the period, while the default value 1 returns the last day of
the period.  For example, if <code>x</code> has <code>tif</code> = &quot;wmonday&quot; so
that <code>x</code> represents a week ending on Monday, than any
<code>offset</code> in the range [0, 1/7] will return the Tuesday of that
week, while <code>offset</code> in the range (1/7, 2/7] will return the
Wednesday of that week, <code>offset</code> in the range (6/7, 1] will
return the Monday that ends the week, and so on.
</p>
<p><code>jul.yearmon</code> and <code>jul.yearqtr</code> work on <code>yearmon</code> and
<code>yearqtr</code> objects from <span class="pkg">zoo</span>.  Note that the default
<code>offset</code> for these functions is 0, not 1, as that is how the
other index-to-date functions in <span class="pkg">zoo</span> work, i.e, if <code>ym</code>
is a <code>yearmon</code> object, then <code>as.Date(ym)</code> and
<code>as.jul(ym)</code> should give the same date.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>jul</code>'s for any pair of valid dates differ by the number of
days between them.  <span class="rlang"><b>R</b></span>'s <code>Date</code> class defines a Date as a number
of days elapsed since January 1, 1970, but <code>jul</code> uses the
encoding from the <em>Numerical Recipes</em> book, which has Jan 1, 1970
= 2440588, and the code for converting between ymd and <code>jul</code>
representations is a straightforward port of the code from that tome.
</p>
<p>Adding an integer to, or subtracting an integer from a <code>jul</code>
results in another <code>jul</code>, and one <code>jul</code> can be subtracted
from another.  Two <code>jul</code>'s can also be compared with the
operators (<code>==, !=, &lt;. &gt;, &lt;=, &gt;=</code>).
</p>
<p>The <code>jul</code> class implements methods for a number of generic
functions, including <code>"["</code>, <code>as.Date</code>, <code>as.POSIXct</code>,
<code>as.POSIXlt</code>, <code>c</code>, <code>format</code>, <code>max</code>,
<code>min</code>, <code>print</code>, <code>rep</code>, <code>seq</code>, <code>ti</code>,
<code>time</code>, <code>ymd</code>.
</p>
<p><code>jul</code> is a generic function with specialized methods to handle
<code>Date</code> and <code>ti</code> objects. A recent addition is a method to
handle <code>IDate</code> objects as defined in the <span class="pkg">data.table</span>
package. 
</p>
<p>The default method (<code>jul.default</code>) deals with character <code>x</code> by
calling <code>as.Date</code> on it.  Otherwise, it proceeds as follows:
</p>
<p>If <code>x</code> is numeric, <code>isYmd</code> is used to see if it could be
yyyymmdd date, then <code>isTime</code> is called to see if <code>x</code> could
be a decimal time (a number between 1799 and 2200). If all else fails,
<code>as.Date(x)</code> is called to attempt to create a <code>Date</code> object
that can then be used to construct a <code>jul</code>.  
</p>


<h3>Value</h3>

<p><code>is.jul</code> returns <code>TRUE</code> or <code>FALSE</code>.
</p>
<p><code>as.jul</code> and <code>asJul</code> return objects with class &quot;jul&quot;.
</p>
<p><code>jul</code> constructs a <code>jul</code> object like <code>x</code>.
</p>
<p><code>jul</code> with no arguments returns the <code>jul</code> for the current day.
</p>


<h3>Note</h3>

<p>The return value from <code>asJul</code> is not guaranteed to be a valid
<code>jul</code> object.  For example, <code>asJul("a")</code> will not throw an
error, and it will return the string &quot;a&quot; with a class attribute &quot;jul&quot;,
but that's not a valid julian date. 
</p>
<p>The Julian calendar adopted by the Roman Republic was not
accurate with respect to the rotational position of the Earth around
the sun.  By 1582 it had drifted ten days off.  To fix this, Pope Gregory XIII
decreed that the day after October 4, 1582 would be October 15, and
that thereafter, leap years would be omitted in years divisible by 100
but not divisible by 400.  This modification became known as the
Gregorian calendar.  England and the colonies did not switch over
until 1752, by which time the drift had worsened by another day, so
that England had to skip over 11 days, rather than 10.
</p>
<p>The algorithms used in <code>jul2ymd</code> and <code>ymd2jul</code> cut over at
the end of October 1582.
</p>


<h3>References</h3>

<p>Press, W. H., Teukolsky, S. A., Vetterling, W. T., and Flannery,
B. P. (1992).
<em>Numerical Recipes: The Art of Scientific Computing (Second
Edition)</em>.
Cambridge University Press.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+jul">jul</a></code>, <code><a href="#topic+ymd">ymd</a></code>, <code><a href="#topic+ti">ti</a></code>, <code><a href="base.html#topic+as.Date">as.Date</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>dec31 &lt;- jul(20041231)
jan30 &lt;- jul("2005-1-30")
jan30 - dec31              ## 30
feb28 &lt;- jan30 + 29
jul()                      ## current date
</code></pre>

<hr>
<h2 id='lags'>Lag a Time Series</h2><span id='topic+lag.tis'></span><span id='topic+lags'></span><span id='topic+Lag'></span><span id='topic+Lags'></span>

<h3>Description</h3>

<p><code>lag</code> creates a lagged version of a time series, shifting the time base
forward by a given number of observations. <code>Lag</code> does exactly the
opposite, shifting the time base backwards by the given number of
observations.  <code>lag</code> and <code>Lag</code> create a single lagged
series, while <code>lags</code> and <code>Lags</code> can create a multivariate
series with several lags at once.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
lag(x, k = 1, ...)

Lag(x, k = 1, ...)
lags(x, lags, name = "")
Lags(x, lags, name = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lags_+3A_x">x</code></td>
<td>
<p>A vector or matrix or univariate or multivariate time series
(including <code>tis</code> series)</p>
</td></tr>
<tr><td><code id="lags_+3A_k">k</code></td>
<td>
<p>The number of lags. For <code>lag</code>, this is
the number of time periods that the series is shifted <em>forward</em>,
while for <code>Lag</code> it is the number of periods that the series is
shifted <em>backwards</em>.</p>
</td></tr> 
<tr><td><code id="lags_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to or from methods</p>
</td></tr>
<tr><td><code id="lags_+3A_lags">lags</code></td>
<td>
<p>vector of lag numbers. For code <code>lags</code>, each element
gives a number of periods by which <code>x</code> is to be shifted
<em>forward</em>, while for <code>Lags</code>, each element gives a number
of periods by which <code>x</code> is to be shifted <em>backwards</em>.</p>
</td></tr>
<tr><td><code id="lags_+3A_name">name</code></td>
<td>
<p>string or a character vector of names to be used in
constructing column names for the returned series</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Vector or matrix arguments 'x' are coerced to time series.
</p>
<p>For <code>lags</code>, column names are constructed as follows: If
<code>name</code> is supplied and has as many elements as <code>x</code> has
columns, those names are used as the base column names.  Otherwise the
column names of <code>x</code> comprise the base column names, or if those
don't exist, the first <code>ncols(x)</code> letters of the alphabet are
used as base names.  Each column of the returned series has a name
consisting of the basename plus a suffix indicating the lag number for
that column.
</p>


<h3>Value</h3>

<p>Both functions return a time series (<code>ts</code> or <code>tis</code>) object.
If the <code>lags</code> argument to the <code>lags</code> function argument has
more than one element, the returned object will have a column for each
lag, with <code>NA</code>'s filling in where appropriate. 
</p>

<hr>
<h2 id='latestPeriod'> Most Recent Period Time Indexes </h2><span id='topic+latestWeek'></span><span id='topic+latestMonth'></span><span id='topic+latestQuarter'></span><span id='topic+latestHalf'></span><span id='topic+latestYear'></span><span id='topic+latestQ4'></span><span id='topic+latestJanuary'></span><span id='topic+latestFebruary'></span><span id='topic+latestMarch'></span><span id='topic+latestApril'></span><span id='topic+latestMay'></span><span id='topic+latestJune'></span><span id='topic+latestJuly'></span><span id='topic+latestAugust'></span><span id='topic+latestSeptember'></span><span id='topic+latestOctober'></span><span id='topic+latestNovember'></span><span id='topic+latestDecember'></span>

<h3>Description</h3>

<p>Return a <code>ti</code> for the most recent period of the
desired frequency.</p>


<h3>Usage</h3>

<pre><code class='language-R'>latestWeek(xTi = today())
latestMonth(xTi = today())
latestQuarter(xTi = today())
latestHalf(xTi = today())
latestYear(xTi = today())
latestQ4(xTi = today())
latestJanuary(xTi = today())
latestFebruary(xTi = today())
latestMarch(xTi = today())
latestApril(xTi = today())
latestMay(xTi = today())
latestJune(xTi = today())
latestJuly(xTi = today())
latestAugust(xTi = today())
latestSeptember(xTi = today())
latestOctober(xTi = today())
latestNovember(xTi = today())
latestDecember(xTi = today())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latestPeriod_+3A_xti">xTi</code></td>
<td>
<p>a <code>ti</code> object or something that the <code>ti()</code>
function can turn into a <code>ti</code> object </p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>latest{whatever}</code> functions are the same as the
corresponding <code>current{whatever}</code> functions, except that they
return the most recent completed <code>ti</code> of the desired frequency.
A period is considered to be completed on it last day.  For example,
if today is Thursday, then <code>latestWedweek()</code> returns the week
that ended yesterday.  Yesterday it would have returned the same week,
but the day before that (Tuesday) it would have returned the
&quot;wwednesday&quot; <code>ti</code> for the week that had ended six days before.
</p>
<p><code>latestWeek</code> returns the weekly <code>ti</code> for the most recently
completed week as of <code>xTi</code>.  If the <code>xTi</code> is itself a
<code>ti</code>, the returned week is the most recently completed week as of
the last day of <code>xTi</code>.  (Note that the default weekly frequency
is &quot;wmonday&quot; (Monday-ending weeks), so <code>latestWeek</code> always
returns &quot;wmonday&quot; <code>ti</code>'s.)  See
<code><a href="#topic+setDefaultFrequencies">setDefaultFrequencies</a></code> to change this.
</p>
<p>All of the other <code>latest{SomeFreq}</code> functions work the same way,
returning the <code>ti</code>'s for the most recently completed SomeFreq as
of the last day of <code>xTi</code>. The <code>tif</code>'s (frequencies) for
<code>latestHalf</code> and <code>latestQ4</code> are &quot;semiannual&quot; and
&quot;quarterly&quot;, respectively. 
</p>
<p><code>latestJanuary</code> returns the monthly <code>ti</code> for January of the
most recently completed January-ending year that the last day of its
argument falls into.  <code>latestFebruary</code> returns the monthly
<code>ti</code> for February of the most recently completed February-ending
year that the last day of its argument falls into, and so on. 
</p>


<h3>Value</h3>

<p> All return return <code>ti</code> objects as described in the details.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="#topic+tif">tif</a></code>, <code><a href="#topic+currentWeek">currentWeek</a></code>
<code><a href="#topic+setDefaultFrequencies">setDefaultFrequencies</a></code></p>

<hr>
<h2 id='linearSplineIntegration'>Linear Spline Integration</h2><span id='topic+ilspline'></span><span id='topic+lintegrate'></span>

<h3>Description</h3>

<p><code>lintegrate</code> gives the values resulting from integrating a linear
spline, while <code>ilspline</code> returns linear splines that
integrate to given values. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lintegrate(x, y, xint, stepfun = F, rule = 0)
ilspline(xint, w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linearSplineIntegration_+3A_x">x</code></td>
<td>
<p>x coordinates of the linear spline F defined by <code>(x, y)</code></p>
</td></tr>
<tr><td><code id="linearSplineIntegration_+3A_y">y</code></td>
<td>
<p>y coordinates of the linear spline F defined by <code>(x, y)</code></p>
</td></tr>
<tr><td><code id="linearSplineIntegration_+3A_xint">xint</code></td>
<td>
<p>x intervals, i.e. <code>[x[1], x[2]]</code> is the first interval,
<code>[x[2], x[3]]</code> is the second interval, and so on.</p>
</td></tr>
<tr><td><code id="linearSplineIntegration_+3A_stepfun">stepfun</code></td>
<td>
<p>if <code>TRUE</code>,  F is a left-continuous step function.
The default (<code>FALSE</code>) says F is continuous.</p>
</td></tr>
<tr><td><code id="linearSplineIntegration_+3A_rule">rule</code></td>
<td>
<p>one of {0, 1, NA} to specify the behavior of F outside the
range of <code>x</code>.  Use zero if F is zero outside the range of <code>x</code>,
<code>NA</code> if F is NA outside the range of <code>x</code>, and one if F is to
be linearly extended outside the range of <code>x</code>.</p>
</td></tr>
<tr><td><code id="linearSplineIntegration_+3A_w">w</code></td>
<td>
<p>values the linear spline must integrate to</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>lintegrate</code> integrates the linear spline F defined by
<code>(x,y)</code> over the <code>xint</code> intervals.  The value of F outside
the range of <code>x</code> is specified by the <code>rule</code> argument:
</p>
<pre>
    rule == 0  --&gt; F(z) = 0 for z outside the range of x
    rule == NA --&gt; F(z) = NA for z outside the range of x
    rule == 1  --&gt; F(z) extended for z outside the range of x
</pre>
<p>If <code>stepfun</code> is <code>TRUE</code>, F(z) is assumed to be a
left-continuous step function and the last value of <code>y</code> is never
accessed.
</p>
<p><code>(x[i], y[i])</code> pairs with NA values in either x[i] or y[i] NA are
ignored in constructing F.
</p>
<p><code>ilspline</code> finds linear splines that integrate over the N
intervals specified by the monotonically increasing N+1 vector
<code>xint</code> to the N values given in <code>w</code>.  The function finds
N-vectors x and y such that:
</p>
<pre>
  (i)  x[j] = (xint[j-1] + xint[j])/2, i.e., the values of x are the
       midpoints of the intervals specified by xint, and

  (ii) the linear spline that passes through the (x[i], y[i]) pairs (and
       is extended to xint[1] and xint[N+1] by linear
       extrapolation) integrates over each interval [xint[j],xint[j+1]]
       to w[j]. 
</pre>
<p>In fact, <code>w</code> can actually be an M by N matrix, in which case the
y found by the function is also an M by N matrix, with each column of
y giving the y coordinates of a linear spline that integrates to the
corresponding column of <code>w</code>.
</p>


<h3>Value</h3>

<p><code>lintegrate</code> returns a vector of length <code>length(xint) - 1</code>.
</p>
<p><code>ilspline</code> returns a list with components named 'x' and 'y'.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+spline">spline</a></code>, <code><a href="stats.html#topic+approx">approx</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>w &lt;- 10 + cumsum(rnorm(10))
blah &lt;- ilspline(1:11, w)
ww &lt;- lintegrate(blah$x, blah$y, 1:11, rule = 1)
w - ww  ## should be all zeroes (or very close to zero)
</code></pre>

<hr>
<h2 id='lines.tis'>Plotting Time Indexed Series</h2><span id='topic+lines.tis'></span><span id='topic+points.tis'></span>

<h3>Description</h3>

<p>Plotting methods for <code>tis</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
lines(x, offset = 0.5, dropNA = FALSE, ...)
## S3 method for class 'tis'
points(x, offset = 0.5, dropNA = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lines.tis_+3A_x">x</code></td>
<td>

<p>a <code>tis</code> (time indexed series) object
</p>
</td></tr>
<tr><td><code id="lines.tis_+3A_offset">offset</code></td>
<td>

<p>a number in the range [0,1] telling where in each period of <code>x</code>
to plot the point. 0 means the first second of each period, 1 the
last second of the period, and the default 0.5 plots each point in
the middle of the time period in which it falls.
</p>
</td></tr>
<tr><td><code id="lines.tis_+3A_dropna">dropNA</code></td>
<td>
<p> if <code>TRUE</code>, observations with <code>NA</code> values are
dropped before calling <code>lines.default</code> or
<code>points.default</code>. See the details for why you might or might
not want to do this.  The default is <code>FALSE</code>, to match the
behavior of <code>lines.default</code> and <code>points.default</code>.
</p>
</td></tr>
<tr><td><code id="lines.tis_+3A_...">...</code></td>
<td>

<p>other arguments to be passed on to <code>lines.default</code> or
<code>points.default</code>. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These are fairly simple wrappers around the <code>lines.default</code> and
<code>points.default</code>.  For example, <code>lines.tis</code> basically does this:
</p>
<p>lines.default(x = time(x, offset = offset), y = x, ...)
</p>
<p>and <code>points.tis</code> is similar.  If <code>dropNA</code> is <code>TRUE</code>, the
observations in <code>x</code> that are <code>NA</code> are dropped from the x and
y vectors sent to the .default functions.  For <code>points</code>, this
shouldn't matter, since <code>points.tis</code> omits points with <code>NA</code>
values from the plot.
</p>
<p>For <code>lines</code> the <code>dropNA</code> parameter does make a difference.
The help document for <code>lines</code> says:
</p>
<p>&quot;The coordinates can contain <code>NA</code> values. If a point contains
<code>NA</code> in either its <code>x</code> or <code>y</code> value, it is omitted from
the plot, and lines are not drawn to or from such points.  Thus
missing values can be used to achieve breaks in lines.&quot;
</p>
<p>Note that if the <code>type</code> is one of <code>c("p", "b", "o")</code>, the
non-<code>NA</code> points are still drawn, but line segments from those
points to adjacent <code>NA</code> points are not drawn.  If <code>dropNA = TRUE</code>,
the <code>NA</code> points are dropped before calling <code>lines.default</code>,
and all of the remaining points will be connected with line segments
(unless suppressed by the <code>type</code> argument).
</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+lines">lines</a></code>, <code><a href="graphics.html#topic+points">points</a></code></p>

<hr>
<h2 id='mergeSeries'> Merge Time Indexed Series </h2><span id='topic+mergeSeries'></span>

<h3>Description</h3>

<p>Merge two time-indexed series using either the levels or the first differences
of the second series where the series overlap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeSeries(x, y, differences = FALSE, naLoses = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mergeSeries_+3A_x">x</code>, <code id="mergeSeries_+3A_y">y</code></td>
<td>

<p><code>tis</code> objects, or objects that can sensibly be coerced to
<code>tis</code> by <code>as.tis</code>.
</p>
</td></tr>
<tr><td><code id="mergeSeries_+3A_differences">differences</code></td>
<td>

<p>if <code>TRUE</code>, the first differences of series are merged, and then
cumulatively summed. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="mergeSeries_+3A_naloses">naLoses</code></td>
<td>

<p>if <code>TRUE</code>, <code>NA</code> values in <code>y</code> do not overwrite
corresponding values in <code>x</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>x</code> and <code>y</code> must have the same <code>tif</code> (ti frequency),
and the same number of column (if they are multivariate). 
</p>


<h3>Value</h3>

<p>A <code>tis</code> object series with start and end dates that span those of
<code>x</code> and <code>y</code>.  Where the series overlap, values from <code>y</code>
are used, except that if <code>naLoses</code> is <code>TRUE</code>, <code>NA</code>
values from <code>y</code> do not overwrite non-<code>NA</code> values in <code>x</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+cbind.tis">cbind.tis</a></code> </p>

<hr>
<h2 id='naWindow'>Exclude NA and Zero Observations</h2><span id='topic+naWindow'></span>

<h3>Description</h3>

<p>Windows a <code>tis</code> or <code>ts</code> time series to cut off leading and trailing
NA (and optionally zero) observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>naWindow(x, union = F, zero = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="naWindow_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> or <code>ts</code> time series</p>
</td></tr>
<tr><td><code id="naWindow_+3A_union">union</code></td>
<td>
<p>see details below</p>
</td></tr>
<tr><td><code id="naWindow_+3A_zero">zero</code></td>
<td>
<p>if <code>TRUE</code>, chop off leading and trailing zeroes also</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For multivariate (multiple columns) series and <code>union = TRUE</code>, a
row of <code>x</code> is considered to be NA if and only if all entries in
that row are NA. If <code>union = FALSE</code> (the default), a row is
considered to be NA if any of its entries is NA.
</p>
<p>if <code>zero</code> is <code>TRUE</code>, the function chops off leading and
trailing observations that are either <code>NA</code> or zero.  Otherwise,
it chops only <code>NA</code>s.
</p>


<h3>Value</h3>

<p>A copy of <code>x</code> with leading and trailing NA observations deleted.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+window">window</a></code></p>

<hr>
<h2 id='nberShade'>Plotting NBER Recesssions</h2><span id='topic+nberShade'></span><span id='topic+nberShade.default'></span><span id='topic+nberDates'></span><span id='topic+romerLines'></span>

<h3>Description</h3>

<p><code>nberDates</code> returns a matrix with two columns of yyyymmdd dates
giving the Start and End dates of recessions fixed by the NBER.
</p>
<p><code>nberShade</code> is a generic method for shading recession areas
on the current plot.  The default version calls
<code>nberDates()</code> to get a matrix of yyyymmdd dates and then passes
those dates and all other arguments along to <code>ymdShade</code>.
</p>
<p><code>romerLines</code> draws vertical lines on the current plot at the
&quot;Romer and Romer&quot; dates when monetary policy is said to have become
contractionary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
nberShade(...)
nberDates()
romerLines()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nberShade_+3A_...">...</code></td>
<td>
<p>args passed to <code><a href="#topic+ymdShade">ymdShade</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>nberDates</code> returns the two column matrix of recession date
ranges described above.
Nothing useful is returned by the other functions.
</p>


<h3>Note</h3>

<p>Recessions are dated by the Business Cycle Dating Committee of the
National Bureau of Economic Research. 
</p>
<p>The Romer dates are October 1947, September 1955, December 1968,
April 1974, August 1978, October 1979 and December 1988.
</p>


<h3>References</h3>

<p>Christina D. Romer and David H. Romer. 1989. &quot;Does Monetary
Policy Matter? A New Test in the Spirit of Friedman and Schwartz.&quot;
NBER Macroeconomics Annual 4: 121-170.
</p>
<p>Christina D. Romer and David H. Romer. 1994. &quot;Monetary Policy
Matters.&quot; Journal ofMonetary Economics 34 (August): 75-88.
</p>
<p>National Bureau of Economic Research. 
http://www.nber.org. 
</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+polygon">polygon</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>    require("datasets")
    plot(presidents, type='n', ylab="Presidents approval rating")
    nberShade()
    lines(presidents)
</code></pre>

<hr>
<h2 id='plotWindow'>Set up Coordinates for Graphics Window </h2><span id='topic+plotWindow'></span>

<h3>Description</h3>

<p>This is a shortcut call to <code>plot.window</code> that has some
of the parameters set to different defaults than the usual values. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotWindow(xlim, ylim, log = "", asp = NA, xaxs = "i", yaxs = "i", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotWindow_+3A_xlim">xlim</code>, <code id="plotWindow_+3A_ylim">ylim</code></td>
<td>
<p>numeric of length 2, giving the x and y coordinates
ranges.</p>
</td></tr>
<tr><td><code id="plotWindow_+3A_log">log</code></td>
<td>
<p>character; indicating which axes should be in log scale.</p>
</td></tr>
<tr><td><code id="plotWindow_+3A_asp">asp</code></td>
<td>
<p>numeric, giving the <b>asp</b>ect ratio y/x.</p>
</td></tr>
<tr><td><code id="plotWindow_+3A_xaxs">xaxs</code></td>
<td>
<p>style of axis interval calculation for the x-axis</p>
</td></tr>
<tr><td><code id="plotWindow_+3A_yaxs">yaxs</code></td>
<td>
<p>style of axis interval calculation for the y-axis</p>
</td></tr>
<tr><td><code id="plotWindow_+3A_...">...</code></td>
<td>
<p>further graphical parameters as in <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+plot.window">plot.window</a></code></p>

<hr>
<h2 id='POSIXct'>Date-time Constructor Functions</h2><span id='topic+as.POSIXct.jul'></span><span id='topic+as.POSIXct.ti'></span><span id='topic+POSIXct'></span><span id='topic+POSIXct.jul'></span><span id='topic+POSIXct.numeric'></span><span id='topic+POSIXct.ti'></span><span id='topic+POSIXct.default'></span><span id='topic+POSIXlt'></span><span id='topic+POSIXlt.jul'></span><span id='topic+POSIXlt.ti'></span><span id='topic+POSIXlt.default'></span>

<h3>Description</h3>

<p>Functions to create objects of classes <code>"POSIXlt"</code> and
<code>"POSIXct"</code> representing calendar dates and times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>POSIXct(x, ...)
POSIXlt(x, ...)
## S3 method for class 'jul'
as.POSIXct(x, tz = "", ...)
## S3 method for class 'ti'
as.POSIXct(x, tz = "", offset = 1, ...)
## S3 method for class 'jul'
POSIXct(x, ...)
## S3 method for class 'numeric'
POSIXct(x, tz = "", origin, ...)
## S3 method for class 'ti'
POSIXct(x, offset = 1, ...)
## Default S3 method:
POSIXct(x, ...)
## S3 method for class 'jul'
POSIXlt(x, ...)
## S3 method for class 'ti'
POSIXlt(x, ...)
## Default S3 method:
POSIXlt(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="POSIXct_+3A_x">x</code></td>
<td>
<p>An object to be converted.</p>
</td></tr>
<tr><td><code id="POSIXct_+3A_tz">tz</code></td>
<td>
<p>A timezone specification to be used for the conversion,
<em>if one is required</em>.  System-specific (see <a href="base.html#topic+time+20zones">time zones</a>),
but <code>""</code> is the current timezone, and <code>"GMT"</code> is UTC
(Universal Time, Coordinated).</p>
</td></tr>
<tr><td><code id="POSIXct_+3A_origin">origin</code></td>
<td>
<p>a date-time object, or something which can be coerced by
<code>as.POSIXct(tz="GMT")</code> to such an object.</p>
</td></tr>
<tr><td><code id="POSIXct_+3A_offset">offset</code></td>
<td>
<p>a number between 0 and 1 specifying where in the period
represented by the <code>ti</code> object <code>x</code> the desired time falls.
<code>offset = 1</code> gives the first second of the period and
<code>offset = 1</code> the last second, <code>offset = 0.5</code> the middle
second, and so on.</p>
</td></tr>
<tr><td><code id="POSIXct_+3A_...">...</code></td>
<td>

<p>other args passed to <code>ISOdatetime</code> (<code>POSIXct.jul</code> and
<code>POSIXct.ti</code>), <code>as.POSIXct</code> or <code>as.POSIXlt</code> as
appropriate.  May include a <code>tz</code> argument as above.
</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>The default methods <code>POSIXct.default</code> and <code>POSIXlt.default</code>
do nothing but call <code>as.POSIXct</code> and <code>as.POSIXlt</code>,
respectively.  The <code>POSIXct.ti</code> method can take an <code>offset</code>
argument as explained above, and the <code>POSIXct.jul</code> method can
handle <code>jul</code> objects with a fractional part.  The <code>ti</code> and
<code>jul</code> methods for <code>POSIXlt</code> just call the <code>POSIXct</code>
constructor and then convert it's value to a <code>POSIXlt</code> object.
</p>


<h3>Value</h3>

<p><code>as.POSIXct</code>, <code>POSIXct</code> and <code>POSIXlt</code> return objects of the
appropriate class.  If <code>tz</code> was specified it will be reflected in
the &quot;tzone&quot; attribute of the result.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.POSIXct">as.POSIXct</a></code> and <code>link{as.POSIXlt}</code> for the default
conversion functions, and <a href="base.html#topic+DateTimeClasses">DateTimeClasses</a> for details of the
classes. 
</p>

<hr>
<h2 id='print.ti'> Print a Time Index </h2><span id='topic+print.ti'></span>

<h3>Description</h3>

<p>Print method for time index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ti'
print(x, class = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ti_+3A_x">x</code></td>
<td>
<p>	a time index </p>
</td></tr>
<tr><td><code id="print.ti_+3A_class">class</code></td>
<td>

<p>if(<code>TRUE</code> (the default), prints <code>class:  ti</code> at the end.
</p>
</td></tr>
<tr><td><code id="print.ti_+3A_...">...</code></td>
<td>

<p>additional arguments that may be passed along to generic <code>print</code>
function. See details.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This simply calls
<code>print(as.character(x), quote = FALSE, ...)</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+format.ti">format.ti</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>print(today(), class = FALSE)
## compare to
today()
</code></pre>

<hr>
<h2 id='print.tis'> Printing Time Indexed Series </h2><span id='topic+print.tis'></span>

<h3>Description</h3>

<p>Print method for time indexed series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
print(x, format = "%Y%m%d", matrix.format = FALSE, class = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.tis_+3A_x">x</code></td>
<td>

<p>a time indexed series
</p>
</td></tr>
<tr><td><code id="print.tis_+3A_format">format</code></td>
<td>

<p>a character string describing how to format the observation times if
either <code>x</code> is printed in matrix form.  Format strings are
detailed in <code>format.ti</code>.
</p>
</td></tr>
<tr><td><code id="print.tis_+3A_matrix.format">matrix.format</code></td>
<td>

<p><code>TRUE</code> or <code>FALSE</code>.  See details.
</p>
</td></tr>
<tr><td><code id="print.tis_+3A_class">class</code></td>
<td>

<p>if(<code>TRUE</code> (the default), prints <code>class:  tis</code> at the end.
</p>
</td></tr>
<tr><td><code id="print.tis_+3A_...">...</code></td>
<td>

<p>additional arguments that may be passed along to <code>print.ts</code>.
See details.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>matrix.format</code> is <code>F</code> (the default) and <code>x</code> is
a univariate monthly, quarterly or annual series, printing is
accomplished by <code>print(as.ts(x), ...)</code>.  Otherwise,
<code>x</code> is printed as a matrix with rownames created by
formatting the time indexes of the observations according to the
<code>format</code> string.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+format.ti">format.ti</a></code>, <code><a href="stats.html#topic+print.ts">print.ts</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>print(tis(1:31, start = today() - 30), format = "%b %d, %Y")
</code></pre>

<hr>
<h2 id='RowMeans'>Form Row Sums and Means</h2><span id='topic+RowSums'></span><span id='topic+RowSums.default'></span><span id='topic+RowSums.tis'></span><span id='topic+RowMeans'></span><span id='topic+RowMeans.default'></span><span id='topic+RowMeans.tis'></span>

<h3>Description</h3>

<p>Form row sums and means for numeric arrays.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RowSums (x, ...)
RowMeans(x, ...)
## Default S3 method:
RowSums(x, ...)
## Default S3 method:
RowMeans(x, ...)
## S3 method for class 'tis'
RowSums(x, ...)
## S3 method for class 'tis'
RowMeans(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RowMeans_+3A_x">x</code></td>
<td>
<p>an array of two or more dimensions, containing numeric,
complex, integer or logical values, or a numeric data frame, or a
<code>tis</code> time indexed series</p>
</td></tr>
<tr><td><code id="RowMeans_+3A_...">...</code></td>
<td>
<p>arguments passed along to <code>rowSums</code> or <code>rowMeans</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>tis</code>-specific methods return a <code>tis</code>.
</p>
<p>For other types of <code>x</code>, see <code><a href="Matrix.html#topic+rowMeans">rowMeans</a></code> or <code><a href="Matrix.html#topic+rowSums">rowSums</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="Matrix.html#topic+rowMeans">rowMeans</a></code>, and <code><a href="Matrix.html#topic+rowSums">rowSums</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>mat &lt;- tis(matrix(1:36, ncol = 3), start = latestJanuary())
cbind(mat, rowSums(mat), rowMeans(mat))
</code></pre>

<hr>
<h2 id='scatterPlot'> Produce high-quality scatter plots </h2><span id='topic+scatterPlot'></span>

<h3>Description</h3>

<p>Plotting function with scads of options for creating high quality scatter
plots.  Can be used with <code>screenPage</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scatterPlot(x, y, 
            plotType = "p",
            lineType = "solid", lineWidth = 1.5,
            plotChar = "*", dataCex = 1,
            color = "black",
            xAxisMin = NULL, xAxisMax = NULL, xExpandBy = 0.04,
            xTicks = 5, xTickLocations = NULL,
            labelXTicks = TRUE, xTickLabels = NULL,
            xCex = 1, xAxisLabel = NULL, labelXAxis = TRUE, xSpace = 4,
            yAxisMin = NULL, yAxisMax = NULL, yExpandBy = 0.04,
            yTicks = 5, yTickLocations = NULL,
            yTickLabels = NULL, labelLeftTicks = FALSE, labelRightTicks = TRUE,
            yCex = 1, extendTopTick = TRUE,
            leftAxisLabel = NULL, rightAxisLabel = NULL,
            labelLeftAxis = TRUE, labelRightAxis = FALSE,
            cex = 1,
            head = NULL, headAlign = 0.5, headCex = 1.5,
            sub = NULL, subCex = 0.85,
            leftTopLabel = NULL, rightTopLabel = NULL, topLabelAlign = 0,
            labCex = 1, leftInsideLabel = NULL, rightInsideLabel = NULL,
            innerOffset = 0.05, innerCex = 0.8,
            foot = NULL, footAlign = 0, footCex = 0.8, footSpace = -1,
            tck = 0.03, axisWidth = 2, boxType = "u",
            leftMargin = -1, rightMargin = -1,
            topMargin = -1, bottomMargin = -1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scatterPlot_+3A_x">x</code></td>
<td>

<p>the x coordinates of points in the plot.  If this is a string, the
function <code>evalOrEcho</code> will attempt to evaluate the string to
obtain the x coordinates.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_y">y</code></td>
<td>

<p>the y coordinates of points in the plot.  If this is a string, the
function <code>evalOrEcho</code> will attempt to evaluate the string to
obtain the y coordinates.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_plottype">plotType</code></td>
<td>

<p>type of plot desired. Values are <code>"p"</code> for points (the
default), <code>"l"</code> for lines, <code>"b"</code> for both points and lines
(lines miss the points), and <code>"o"</code> for overlaid points and lines.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_linetype">lineType</code></td>
<td>

<p>character or numeric vector specifying the line type if
<code>plotType</code> calls for lines. Default is &quot;solid&quot;.  For most
devices, type <code>1</code> is solid, <code>2</code> is	dotted, 3 and up are
a mix of dots and dashes. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_linewidth">lineWidth</code></td>
<td>

<p>default is <code>1.5</code>. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_plotchar">plotChar</code></td>
<td>

<p>character (or number for plotting symbols &ndash; see the help for
<code><a href="graphics.html#topic+points">points</a></code> for details) to be used for plotting points.  
Default is &quot;*&quot;.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_datacex">dataCex</code></td>
<td>

<p><code>cex</code> times this number gives the character
expansion factor for the data points.  Default is 1.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_color">color</code></td>
<td>

<p>string or number. Default is 1, the device default foreground color. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xaxismin">xAxisMin</code></td>
<td>

<p>minimum value of the x axis. If non-NULL, this overrides the
calculation described in <code>xExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xaxismax">xAxisMax</code></td>
<td>

<p>maximum value of the x axis. If non-NULL, this overrides the
calculation described in <code>xExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xexpandby">xExpandBy</code></td>
<td>

<p>a single number or two numbers between 0 and 1. <code>xAxisMin</code> and
<code>xAxisMax</code> will be calculated by multiplicatively
extending the data range in both directions by these amounts.  Default
value .04 extends the data range by 4% in each direction.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xticks">xTicks</code></td>
<td>

<p>number of ticks to draw on x axis at &quot;pretty&quot; locations.  Default
is 5. This argument is ignored if <code>xTickLocations</code> is
non-NULL.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xticklocations">xTickLocations</code></td>
<td>

<p>if non-NULL, a vector of desired tick locations or a string that
evaluates to such a vector.  The default value NULL lets the setting
for <code>xTicks</code> take effect.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labelxticks">labelXTicks</code></td>
<td>

<p>If <code>TRUE</code>, label ticks on the x axis. Default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xticklabels">xTickLabels</code></td>
<td>

<p>character vector of tick labels or NULL (the default).  If NULL and
<code>labelXTicks</code> is <code>TRUE</code>, labels are constructed from
the tick locations.  This argument has no effect if
<code>labelXTicks</code> is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xcex">xCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for the x-axis labels. Default is 1.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xaxislabel">xAxisLabel</code></td>
<td>

<p>text to appear centered under the x axis. Default value NULL creates
a string by deparsing the <code>x</code>argument. This argument is ignored
if <code>labelXAxis</code> is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labelxaxis">labelXAxis</code></td>
<td>

<p>if <code>TRUE</code> (the default), label the x axis according to
<code>xAxisLabel</code>. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_xspace">xSpace</code></td>
<td>

<p>lines of space to set aside directly beneath the x-axis to hold
tick, year and/or axis labels. Default is <code>4</code>. The space
created is <code>xSpace</code> times <code>labCex</code>. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_yaxismin">yAxisMin</code></td>
<td>

<p>minimum value of the y axis. If non-NULL, this overrides the
calculation described in <code>yExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_yaxismax">yAxisMax</code></td>
<td>

<p>maximum value of the y axis. If non-NULL, this overrides the
calculation described in <code>yExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_yexpandby">yExpandBy</code></td>
<td>

<p>a single number or two numbers between 0 and 1. <code>yAxisMin</code> and
<code>yAxisMax</code> will be calculated by multiplicatively
extending the data range in both directions by these amounts.  Default
value .04 extends the data range by 4% in each direction.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_yticks">yTicks</code></td>
<td>

<p>number of ticks to draw on y axis at &quot;pretty&quot; locations.  Default
is 5. This argument is ignored if <code>yTickLocations</code> is
non-NULL.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_yticklocations">yTickLocations</code></td>
<td>

<p>if non-NULL, a vector of desired tick locations or a string that
evaluates to such a vector.  The default value NULL lets the setting
for <code>yTicks</code> take effect.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_yticklabels">yTickLabels</code></td>
<td>

<p>character vector of tick labels or NULL (the default).  If NULL and
<code>labelLeftTicks</code> or <code>labelRightTicks</code> is <code>TRUE</code>,
labels are constructed from the tick locations.  This argument has
no effect if <code>labelLeftTicks</code> and <code>labelRightTicks</code> are
both <code>FALSE</code>. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labelleftticks">labelLeftTicks</code></td>
<td>

<p>If <code>TRUE</code>, label ticks on the left axis. Default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labelrightticks">labelRightTicks</code></td>
<td>

<p>If <code>TRUE</code>, label ticks on the left axis. Default is <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_ycex">yCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for the left and right axis labels. Default is 1.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_extendtoptick">extendTopTick</code></td>
<td>

<p>if <code>TRUE</code> (the default) the top tick of the y axes encloses the
panel. <code>leftAxisMax</code> and <code>rightAxisMax</code> are increased as
necessary to include the top tick for enclosing the panel.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_leftaxislabel">leftAxisLabel</code></td>
<td>

<p>text to appear centered outside the left axis. 
Default value NULL creates a string by deparsing the <code>y</code>
argument. This argument is ignored if <code>labelLeftAxis</code> is
<code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labelleftaxis">labelLeftAxis</code></td>
<td>

<p>if <code>TRUE</code> (the default), label the left axis according to
<code>leftAxisLabel</code>. 
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_rightaxislabel">rightAxisLabel</code></td>
<td>

<p>text to appear centered outside the right axis.
Default value NULL creates a string by deparsing the <code>y</code>
argument. This argument is ignored if <code>labelRightAxis</code> is
<code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labelrightaxis">labelRightAxis</code></td>
<td>

<p>if <code>TRUE</code> label the right axis according to
<code>rightAxisLabel</code>. Default is <code>FALSE</code>
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_cex">cex</code></td>
<td>

<p>the base character expansion factor by which all of the
<code>***cex</code> parameters are scaled. The default setting is the
value of <code>par("cex")</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_head">head</code></td>
<td>

<p>text to appear at the top of the figure region, with alignment
determined by <code>headAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_headalign">headAlign</code></td>
<td>

<p>number indicating justification for the strings in <code>head</code> and
<code>sub</code>. <code>0</code> means left justify, <code>1</code> means right
justify, <code>0.5</code> (the default) means to center the text.  Other
numbers are a corresponding distance between the extremes.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_headcex">headCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>head</code>. Default is 1.5.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_sub">sub</code></td>
<td>

<p>text to appear just under <code>head</code>, with alignment determined by
<code>headAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_subcex">subCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>sub</code>. Default is 0.85.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_lefttoplabel">leftTopLabel</code></td>
<td>

<p>text to appear at the top of the left axis, with alignment
determined by <code>topLabelAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_righttoplabel">rightTopLabel</code></td>
<td>

<p>text to appear at the top of the right axis, with alignment
determined by <code>topLabelAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_toplabelalign">topLabelAlign</code></td>
<td>

<p>number indicating alignment for the strings in <code>leftTopLabel</code>.
<code>0</code> (the default) means left justify, <code>1</code> means right
justify, <code>0.5</code> means to center the text.  <code>rightTopLabel</code>,
if given, is aligned by <code>1 - topLabelAlign</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_labcex">labCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>leftTopLabel</code>, <code>rightTopLabel</code>, and <code>xAxisLabel</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_leftinsidelabel">leftInsideLabel</code></td>
<td>

<p>text to appear left justified and just inside the upper left corner
of the plot region. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_rightinsidelabel">rightInsideLabel</code></td>
<td>

<p>text to appear right justified and just inside the upper right corner
of the plot region. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_inneroffset">innerOffset</code></td>
<td>

<p>number between 0 and 1, a fractional offset for the inside labels.
The left edge of <code>leftInsideLabel</code> is offset by this fraction
of the x range from the left edge of the plot, as is the right edge
of <code>rightInsideLabel</code> from the right edge of the plot.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_innercex">innerCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>leftInsideLabel</code> and <code>rightInsideLabel</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_foot">foot</code></td>
<td>

<p>text to appear at the bottom of the figure region, with alignment
determined by <code>footAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_footalign">footAlign</code></td>
<td>

<p>number indicating justification for the strings in <code>foot</code>.
<code>0</code> (the default) means left justify, <code>1</code> means right
justify, <code>0.5</code> means to center the text.  Other numbers are a
corresponding distance between the extremes.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_footcex">footCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>foot</code>. Default is 0.8.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_footspace">footSpace</code></td>
<td>

<p>lines of space to set aside directly beneath the space allocated by
<code>xSpace</code> to hold footnotes. The space created is
<code>footSpace</code> times <code>footCex</code>. Default is 
length(<code>foot</code>); using a higher value will result in extra space
in the bottom figure margin.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_tck">tck</code></td>
<td>

<p>length of major tick marks in inches. Minor ticks are 2/3 as long.
Default is 0.03.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_axiswidth">axisWidth</code></td>
<td>

<p>line width for the axes and box (if any). Default is 2.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_boxtype">boxType</code></td>
<td>

<p>character representing the type of box. Characters <code>"o"</code>,
<code>"l"</code> (ell), <code>"7"</code>, <code>"c"</code> will produce boxes which
resemble the corresponding upper-case letters. The value <code>"n"</code>
will suppress boxes. The default is <code>"u"</code>.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_leftmargin">leftMargin</code></td>
<td>

<p>lines of space for the left margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_rightmargin">rightMargin</code></td>
<td>

<p>lines of space for the right margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_topmargin">topMargin</code></td>
<td>

<p>lines of space for the top margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="scatterPlot_+3A_bottommargin">bottomMargin</code></td>
<td>

<p>lines of space for the bottom margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each of the text items <code>head</code>, <code>sub</code>, <code>leftTopLabel</code>,
<code>rightTopLabel</code>, <code>leftInsideLabel</code>, <code>rightInsideLabel</code>,
<code>foot</code>, <code>leftAxisLabel</code>, <code>rightAxisLabel</code> and
<code>xAxisLabel</code> can be given as a string, a collections of strings,
or as a string that gets evaluated to one of the first two.  Multiple
strings are drawn on successive lines.
</p>


<h3>Value</h3>

<p><code>scatterPlot</code> invisibly returns a list of class &quot;scatterPlot&quot; and
elements named <code>xy</code> (a matrix containing <code>x</code> and <code>y</code> in
two columns), <code>plotType</code>, <code>lineType</code>, <code>color</code>,
<code>plotChar</code>, <code>lineWidth</code>, <code>x</code> (x coordinate for legend),
<code>y</code> (y coordinate for legend), <code>xRange</code>, <code>yRange</code>,
<code>innerCex</code> and <code>par</code>. 
This list is useful mostly as an argument to <code>legend</code>.
</p>


<h3>Note</h3>

<p><code>scatterPlot</code> is a companion to <code>tisPlot</code>.  Both are
designed to be driven from a graphical user interface.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+tisPlot">tisPlot</a></code>, <code><a href="#topic+evalOrEcho">evalOrEcho</a></code></p>

<hr>
<h2 id='screenPage'>Page Setup for Plots</h2><span id='topic+screenPage'></span>

<h3>Description</h3>

<p>Places header and footer text items in outer margin of page and splits the
screen appropriately.  Can also redraw header and footer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>screenPage(head = NULL, sub = NULL, foot = NULL,
           date = FALSE, dateFormat = "%x", time = FALSE,
           topLeft = character(0), topRight = character(0),
           headFont = par("font.main"), subFont = par("font.sub"),
           footFont = par("font"),
           cex = 1.001, headCex = 1.5, subCex = 0.85,
           footCex = 0.75, topLeftCex = 0.85, topRightCex = 0.85,
           footAlign = 0,
           leftMargin = 0, rightMargin = leftMargin,
           topMargin = 0, bottomMargin = topMargin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="screenPage_+3A_head">head</code></td>
<td>

<p>character string or strings to appear centered in the top outer margin
of the page.  If <code>length(head) &gt; 1</code>, a multi-line main title results.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_sub">sub</code></td>
<td>

<p>character string or strings to appear centered just under <code>head</code>.  
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_foot">foot</code></td>
<td>

<p>character string or strings to appear in the bottom outer margin of
the page.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_date">date</code></td>
<td>

<p>logical: if <code>TRUE</code>, put the current date in the upper right corner of
the page.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_dateformat">dateFormat</code></td>
<td>

<p><code>strptime</code>-style format to use if <code>date</code> is <code>TRUE</code>.
The default formats dates like 11/30/2006.  What is actually being
formatted is the value returned by <code>Sys.time()</code>, so you can
also use time formats here.  For example, setting
<code>dateFormat = "%c"</code> will create a string like
&quot;Thu 30 Nov 2006 02:49:45 PM EST&quot;.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_time">time</code></td>
<td>

<p>logical: if <code>TRUE</code>, put the current time in the upper right corner of
the page.  If <code>date</code> is also true, the time string will be on
the line below the date string.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_topleft">topLeft</code></td>
<td>

<p>character string or strings to appear at top left corner of the page
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_topright">topRight</code></td>
<td>

<p>character string or strings to appear at top right corner of the page
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_headfont">headFont</code></td>
<td>

<p>font to use in writing the main title in <code>head</code>. The default
uses whatever par(&quot;font.main&quot;) is set to.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_subfont">subFont</code></td>
<td>

<p>font to use in writing the sub title in <code>sub</code>. The default uses
whatever par(&quot;font.sub&quot;) is set to.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_footfont">footFont</code></td>
<td>

<p>font to use in writing the footnotes in <code>foot</code>. The default
uses whatever par(&quot;font&quot;) is set to.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_cex">cex</code></td>
<td>

<p>number by which all of the other &quot;cex&quot; arguments are scaled.  
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_headcex">headCex</code></td>
<td>

<p>number: Character Expansion Factor (cex) for the string(s) in
<code>head</code>. The actual cex used will be <code>cex * headCex</code>.
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_subcex">subCex</code></td>
<td>

<p>number: cex for the string(s) in <code>sub</code>.  The actual cex used will 
be <code>cex * subCex</code>. 
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_footcex">footCex</code></td>
<td>

<p>number: cex for the string(s) in <code>foot</code>.  The actual cex used will 
be <code>cex * footCex</code>. 
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_topleftcex">topLeftCex</code></td>
<td>

<p>number: cex for the string(s) appearing in the top left corner
of the page.  The actual cex used for these strings will be
<code>cex * topLeftCex</code>.  
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_toprightcex">topRightCex</code></td>
<td>

<p>number: cex for the string(s) appearing in the top right corner
of the page, including the time and date stamps.
The actual cex used for these strings will be <code>cex * topRightCex</code>. 
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_footalign">footAlign</code></td>
<td>

<p>number: justification for the strings in <code>foot</code>.  <code>0</code> means left
justify, <code>1</code> means right justify, <code>0.5</code> means to center
the text. Other numbers are a corresponding distance between the
extremes. 
</p>
</td></tr>
<tr><td><code id="screenPage_+3A_leftmargin">leftMargin</code></td>
<td>
<p>left margin of page in inches.</p>
</td></tr>
<tr><td><code id="screenPage_+3A_rightmargin">rightMargin</code></td>
<td>
<p>right margin of page in inches.  Default is same
as <code>leftMargin</code></p>
</td></tr>
<tr><td><code id="screenPage_+3A_topmargin">topMargin</code></td>
<td>
<p>top margin of page in inches.</p>
</td></tr>
<tr><td><code id="screenPage_+3A_bottommargin">bottomMargin</code></td>
<td>
<p>bottom margin of page in inches.  Default is same
as <code>topMargin</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>screenPage</code> first sets aside space for the margins specified by
<code>topMargin</code>, <code>bottomMargin</code>, <code>leftMargin</code> and
<code>rightMargin</code>.  Then it figures out how much additional space is
needed for the top and bottom outer margin text elements, places them,
and then splits the screen in 3, with screen 3 being the middle part
of the page.  The user is then free either to further subdivide screen
3 (using <code>split.screen()</code>) or to use it as is.
</p>
<p>On exit, screen 3 is the active screen.
</p>


<h3>Value</h3>

<p>This function returns a list of all of its arguments, including
default values for arguments that were not supplied. The return is
invisible if a graphics device is active.
</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+split.screen">split.screen</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>screenPage(head = "Chart 1", date = TRUE, foot = rep(" ", 4),
           cex = 0.85, headCex = 1)

## then draw charts, possibly after further subdividing the screen
</code></pre>

<hr>
<h2 id='setColors'>Set the Graphics Palette and Default Colors</h2><span id='topic+setColors'></span>

<h3>Description</h3>

<p>Sets the color palette (used when a <code>col=</code> has a
numeric index) to a given vector of <code>colors</code>, and also sets the
graphics parameters (see <code><a href="graphics.html#topic+par">par</a></code>) <code>col</code>,
<code>col.axis</code>, <code>col.lab</code>, <code>col.main</code>, <code>col.sub</code> and
<code>fg</code> to <code>colors[1]</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setColors(colors)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setColors_+3A_colors">colors</code></td>
<td>
<p>a character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The new color palette.</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+palette">palette</a></code>, <code><a href="graphics.html#topic+par">par</a></code></p>

<hr>
<h2 id='setDefaultFrequencies'>Return Known Time Index Frequencies, Change Default Frequencies</h2><span id='topic+setDefaultFrequencies'></span><span id='topic+tifList'></span>

<h3>Description</h3>

<p>A <code>tif</code> (Time Index Frequency) can usually be set
either by code (a number) or by name.  <code>setDefaultFrequencies</code>
sets particular frequencies for the <code>tif</code> names &quot;weekly&quot;,
&quot;biweekly&quot;, &quot;bimonthly&quot; (also &quot;bimonth&quot;), &quot;quarterly&quot; (also &quot;q&quot;),
&quot;annual&quot; (also &quot;a&quot;), and &quot;semiannual&quot; (also &quot;sann&quot;).
</p>
<p><code>tifList</code> returns the map of frequency names to frequency codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setDefaultFrequencies(weekly     = "wmonday",
                      biweekly   = "bw1wednesday",
                      bimonthly  = "bimonthdecember",
                      quarterly  = "qdecember",
                      annual     = "anndecember",
                      semiannual = "sanndecember",
                      setup = FALSE)
tifList()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setDefaultFrequencies_+3A_weekly">weekly</code></td>
<td>
<p>A string giving the name of the particular frequency that frequency &quot;weekly&quot; will correspond to</p>
</td></tr>
<tr><td><code id="setDefaultFrequencies_+3A_biweekly">biweekly</code></td>
<td>
<p>Ditto for &quot;biweekly&quot;</p>
</td></tr>
<tr><td><code id="setDefaultFrequencies_+3A_bimonthly">bimonthly</code></td>
<td>
<p>Ditto for &quot;bimonth&quot; and &quot;bimonthly&quot;</p>
</td></tr>
<tr><td><code id="setDefaultFrequencies_+3A_quarterly">quarterly</code></td>
<td>
<p>Ditto for &quot;q&quot; and &quot;quarterly&quot;</p>
</td></tr>
<tr><td><code id="setDefaultFrequencies_+3A_annual">annual</code></td>
<td>
<p>Ditto for &quot;a&quot; and &quot;annual&quot;</p>
</td></tr>
<tr><td><code id="setDefaultFrequencies_+3A_semiannual">semiannual</code></td>
<td>
<p>Ditto for &quot;sann&quot; and &quot;semiannual&quot;</p>
</td></tr>
<tr><td><code id="setDefaultFrequencies_+3A_setup">setup</code></td>
<td>
<p>If <code>TRUE</code>, set all of the defaults, otherwise set
only the defaults for which arguments were given.  The default is
<code>FALSE</code>, but see the details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The named vector <code>.tifList</code> (returned by the function of
the same name) stored in the global enviroment contains the mapping of
frequency names to frequency codes.  Running this function modifies
the <code>tifList</code> vector and stores it back in the global environment.
It gets run with <code>setup = TRUE</code> when the <code>tis</code> package is loaded.
If you want different defaults, call the function sometime after that.
</p>


<h3>Value</h3>

<p>A copy of the <code>.tifList</code> vector.</p>


<h3>See Also</h3>

<p><code><a href="#topic+tifName">tifName</a></code></p>

<hr>
<h2 id='solve.tridiag'>Solve a Tridiagonal System of Equations</h2><span id='topic+solve.tridiag'></span>

<h3>Description</h3>

<p>This function solves the equation <code>a %*% x = b</code> for <code>x</code>,
where <code>a</code> is tridiagonal and <code>b</code> can be either a vector or a
matrix. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tridiag'
solve(a, b, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solve.tridiag_+3A_a">a</code></td>
<td>
<p>a <code>tridiag</code> object: a square tridiagonal (all zeroes
except for the main diagonal and the diagonals immediately above and
below it) matrix containing the coefficients of the linear system.</p>
</td></tr>
<tr><td><code id="solve.tridiag_+3A_b">b</code></td>
<td>
<p>a vector or matrix giving the right-hand side(s) of the
linear system.  If missing, <code>b</code> is taken to be an identity matrix
and the function will return the inverse of <code>a</code>.</p>
</td></tr>
<tr><td><code id="solve.tridiag_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the LINPACK <code>dgtsv</code> routine.
</p>


<h3>See Also</h3>

<p><code><a href="Matrix.html#topic+solve">solve</a></code></p>

<hr>
<h2 id='ssDate'> ssDate Objects </h2><span id='topic+ssDate'></span><span id='topic+as.ssDate'></span><span id='topic+is.ssDate'></span>

<h3>Description</h3>

<p>The function <code>ssDate</code> is used to create <code>ssDate</code>
(spreadsheet date) objects, which are useful for reading and writing
dates in spreadsheet form, i.e., as the number of days since December
30, 1899.
</p>
<p><code>as.ssDate</code> and <code>is.ssDate</code> coerce an object to a ssDate and
test whether an object is a <code>ssDate</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ssDate(x, ...)
as.ssDate(x)
is.ssDate(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ssDate_+3A_x">x</code></td>
<td>

<p>object to be tested (<code>is.ssDate</code>) or converted into a <code>ssDate</code>
object. 
</p>
</td></tr>
<tr><td><code id="ssDate_+3A_...">...</code></td>
<td>

<p>other args to be passed to <code>jul</code> function.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>an <code>ssDate</code> is essentially a rebased Julian date that represents
a date as the number of days since December 30, 1899.  The
constructor function <code>ssDate</code> subtracts <code>jul(18991230)</code> from
<code>jul(x, ...)</code> and coerces the result to class <code>ssDate</code>.
Pretty much all of the stuff you can do with <code>jul</code> objects can
also be done with <code>ssDate</code> objects.
</p>


<h3>Value</h3>

<p><code>is.ssDate</code> returns <code>TRUE</code> or <code>FALSE</code>.
</p>
<p><code>as.ssDate</code> coerces its argument to have class <code>ssDate</code>, without
making any attempt to discern whether or not this is a sensible thing
to do.
</p>
<p><code>ssDate</code> constructs a <code>ssDate</code> object like <code>x</code>.
</p>
<p><code>ssDate</code> with no arguments returns the <code>ssDate</code> for the current day.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+jul">jul</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>dec31 &lt;- ssDate(20041231)
jan30 &lt;- ssDate("2005-1-30")
jan30 - dec31              ## 30
feb28 &lt;- jan30 + 29
ssDate()                      ## current date
</code></pre>

<hr>
<h2 id='start.tis'> Starting and ending time indexes </h2><span id='topic+start.tis'></span><span id='topic+start+3C-'></span><span id='topic+end.tis'></span>

<h3>Description</h3>

<p>Return the start or end time index for a <code>tis</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
start(x, ...)
## S3 method for class 'tis'
end(x, ...)
start(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="start.tis_+3A_x">x</code></td>
<td>
<p> a <code>tis</code> object </p>
</td></tr>
<tr><td><code id="start.tis_+3A_value">value</code></td>
<td>
<p>desired <code>start</code> attribute</p>
</td></tr>
<tr><td><code id="start.tis_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>start.tis</code> returns the <code>start</code> attribute of <code>x</code>, while
<code>end.tis</code> returns <code>start(x) + nobs(x) - 1</code>.
<code>start(x) &lt;- value</code> returns the series <code>x</code> shifted such that
it's starting time is <code>value</code>.
</p>


<h3>Note</h3>

<p><code>start</code> and <code>end</code> are generic functions with default methods
that assume <code>x</code> has (or can be given) a <code>tsp</code> attribute.
The default methods return a two vector as c(year, period), while the
methods described here return infinitely more useful <code>ti</code> objects.
</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+start">start</a></code>,<code><a href="stats.html#topic+end">end</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- tis(numeric(8), start = c(2001, 1), freq = 4)
start(x)           ## --&gt; ti object representing 2001Q1
start(as.ts(x))    ## --&gt; c(2001, 1)
</code></pre>

<hr>
<h2 id='stripBlanks'>Strip Blanks</h2><span id='topic+stripBlanks'></span>

<h3>Description</h3>

<p>Strips leading and trailing blanks from strings</p>


<h3>Usage</h3>

<pre><code class='language-R'>stripBlanks(strings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stripBlanks_+3A_strings">strings</code></td>
<td>
<p>character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object like <code>strings</code> with no leading or trailing blanks.</p>


<h3>See Also</h3>

 <p><code><a href="#topic+blanks">blanks</a></code>, <code><a href="base.html#topic+gsub">gsub</a></code> </p>

<hr>
<h2 id='stripClass'>Remove part of a class attribute </h2><span id='topic+stripClass'></span><span id='topic+stripTis'></span>

<h3>Description</h3>

<p>An R object may have a class attribute that is a character
vector giving the names of classes it inherits from. <code>stripClass</code>
strips the class <code>classString</code> from that character vector.
<code>stripTis(x)</code> is shorthand for <code>stripClass(x, "tis")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stripClass(x, classString)
stripTis(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stripClass_+3A_x">x</code></td>
<td>
<p>an object whose <code>class</code> character vector may or may not
include <code>classString</code></p>
</td></tr>
<tr><td><code id="stripClass_+3A_classstring">classString</code></td>
<td>
<p>name of class to remove from the inheritance chain </p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object like <code>x</code>, but whose <code>class</code> attribute does
not include <code>classString</code>.  If the <code>class</code> attribute less
<code>classString</code> is empty, <code>unclass(x)</code> is returned.
</p>


<h3>Note</h3>

<p>This function can be useful in functions that return a modified
version of one their arguments.  For example, the <code>format.ti</code> method
takes a <code>ti</code> (TimeIndex) as an argument and returns a character object
object 'like' the original argument.  The first thing
<code>format.ti(x)</code> does internally is <code>z &lt;- stripClass(x, "ti")</code>. 
This creates <code>z</code> as a copy of <code>x</code> but with the difference
that <code>z</code> no longer inherits from class <code>ti</code>.  The function
then fills in the data elements of <code>z</code> with the approriate
strings and returns it.  The beauty of this approach is that the
returned <code>z</code> already has all of the attributes <code>x</code> had,
except that it no longer inherits from class <code>ti</code>.  In
particular, if <code>x</code> was a matrix with dimnames, etc., <code>z</code>
will also have those attributes.
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+class">class</a></code></p>

<hr>
<h2 id='t.tis'>Matrix Transpose</h2><span id='topic+t.tis'></span>

<h3>Description</h3>

<p>Returns the transpose of <code>as.matrix(x)</code></p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
t(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="t.tis_+3A_x">x</code></td>
<td>
<p>a <code>tis</code> object.  If <code>x</code> is univariate, it will be
treated as if it were a single-column matrix, so it's transpose will
be a single-row matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix, see <code><a href="base.html#topic+t">t</a></code>. Note that this is <strong>not</strong> a
time series.</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+t">t</a></code>, <code><a href="#topic+tis">tis</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- tis(matrix(1:30, 5,6), start = latestMonth())
a
t(a)  ##i.e.,  a[i, j] == t(a)[j, i] for all i,j, and t(a) is NOT a time series
</code></pre>

<hr>
<h2 id='ti'> Time Index Objects </h2><span id='topic+ti'></span><span id='topic+ti.Date'></span><span id='topic+ti.default'></span><span id='topic+ti.jul'></span><span id='topic+ti.ssDate'></span><span id='topic+ti.ti'></span><span id='topic+ti.tis'></span><span id='topic+ti.yearmon'></span><span id='topic+ti.yearqtr'></span><span id='topic+as.ti'></span><span id='topic+asTi'></span><span id='topic+couldBeTi'></span><span id='topic+is.ti'></span>

<h3>Description</h3>

<p>The function <code>ti</code> is used to create time index objects, which are
useful for date calculations and as indexes for <code>tis</code> (time
indexed series).
</p>
<p><code>as.ti</code> and <code>asTi</code> coerce an object to a time index, the
difference being that <code>as.ti</code> calls the constructor <code>ti</code>,
while <code>asTi</code> simply forces the class of its argument to be &quot;ti&quot;
without any checking as to whether or not it makes sense to do so.
</p>
<p><code>is.ti</code> tests whether an object is a time index.  
</p>
<p><code>couldBeTi</code> tests whether or not <code>x</code> is numeric and has all
elements within the range expected for a <code>ti</code> time index with the
given <code>tif</code>. If <code>tif</code> is <code>NULL</code> (the default), the test
is whether or not <code>x</code> could be a <code>ti</code> of <em>any</em>
frequency. If so, it can be safely coerced to class <code>ti</code> by
<code>as.ti</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ti(x, ...)
## S3 method for class 'Date'
ti(x, ...)
## Default S3 method:
ti(x, tif = NULL, freq = NULL, ...)
## S3 method for class 'jul'
ti(x, tif = NULL, freq = NULL, hour = 0, minute = 0, second = 0, ...)
## S3 method for class 'ssDate'
ti(x, ...)
## S3 method for class 'ti'
ti(x, tif = NULL, freq = NULL, ...)
## S3 method for class 'tis'
ti(x, ...)
## S3 method for class 'yearmon'
ti(x, ...)
## S3 method for class 'yearqtr'
ti(x, ...)
as.ti(x, ...)
asTi(x)
is.ti(x)
couldBeTi(x, tif = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ti_+3A_x">x</code></td>
<td>

<p>object to be tested (<code>is.ti</code>) or converted into a <code>ti</code>
object.  As described in the details below, the constructor function
<code>ti</code> can deal with	several different kinds of <code>x</code>. 
</p>
</td></tr>
<tr><td><code id="ti_+3A_hour">hour</code></td>
<td>
<p>used if and only if <code>tif</code> is an intraday frequency </p>
</td></tr>
<tr><td><code id="ti_+3A_minute">minute</code></td>
<td>
<p>used if and only if <code>tif</code> is an intraday frequency </p>
</td></tr>
<tr><td><code id="ti_+3A_second">second</code></td>
<td>
<p>used if and only if <code>tif</code> is an intraday frequency </p>
</td></tr>
<tr><td><code id="ti_+3A_...">...</code></td>
<td>

<p>other args to be passed to the method called by the generic function.
</p>
</td></tr>
<tr><td><code id="ti_+3A_tif">tif</code></td>
<td>

<p>a ti Frequency, given as either a numerical code or a string.
<code>tif()</code> with no arguments returns a list of the allowable
numerical codes and names.  Either <code>tif</code> or
<code>freq</code> must be supplied for the variants of <code>ti()</code>.
</p>
</td></tr>
<tr><td><code id="ti_+3A_freq">freq</code></td>
<td>

<p>some <code>tif</code>'s can alternatively be specified by their frequency,
such as 1 (annual), 2 (semiannual), 4 (quarterly), 6 (bimonthly),
12 (monthly), 24 (semimonthly), 26 (biweekly), 36 (tenday), 52
(weekly), 262 (business) and 365 (daily).  Either <code>tif</code> or
<code>freq</code> must be supplied for the variants of <code>ti()</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>ti</code> has a <code>tif</code> (ti Frequency) and a period.  The period
represents the number of periods elapsed since the base period for that
frequency.  Adding or subtracting an integer to a <code>ti</code> gives
another <code>ti</code>.  Provided their corresponding element have matching
<code>tif</code>s, the comparison operators <code>&lt;, &gt;, &lt;=, &gt;=, ==</code> all
work, and subtracting one <code>ti</code> from another gives the number of
periods between them.  See the examples section below.
</p>
<p>The <code>ti</code> class implements methods for a number of generic
functions, including <code>"["</code>, <code>as.Date</code>, <code>as.POSIXct</code>,
<code>as.POSIXlt</code>, <code>c</code>, <code>cycle</code>, <code>edit</code>, <code>format</code>,
<code>frequency</code>, <code>jul</code>, <code>max</code>, <code>min</code>, <code>print</code>,
<code>rep</code>, <code>seq</code>, <code>tif</code>, <code>tifName</code>, <code>time</code>,
<code>ymd</code>.
</p>
<p><code>ti</code> is a generic function with specialized methods to handle
<code>jul</code>, <code>Date</code>, <code>ti</code>. <code>tis</code>, <code>yearmon</code> and
<code>yearqtr</code> objects.
</p>
<p>The default method (<code>ti.default</code>) deals with character <code>x</code> by
calling <code>as.Date</code> on it.  Otherwise, it proceeds as follows:
</p>
<p>If <code>x</code> is numeric, a check is made to see if <code>x</code> could be
a <code>ti</code> object that has somehow lost it's class attribute. Failing that,
<code>isYmd</code> is used to see if it could be yyyymmdd date, then 
<code>isTime</code> is called to see if <code>x</code> could be a decimal time (a
number between 1799 and 2200). If <code>x</code> is of length 2, an attempt
to interpret it as a <code>c(year, period)</code> pair  is made.  Finally,
if all else fails, <code>as.Date(x)</code> is called to attempt to create a
<code>Date</code> object that can then be used to construct a <code>ti</code>. 
</p>


<h3>Value</h3>

<p><code>is.ti</code> and <code>couldBeTi</code> return <code>TRUE</code> or <code>FALSE</code>.
</p>
<p><code>as.ti</code> returns a <code>ti</code> object.
</p>
<p><code>asTi</code> returns its argument with the class attribute set to &quot;ti&quot;.
</p>
<p><code>ti</code> constructs a <code>ti</code> object like <code>x</code>, except for two
special cases:
</p>
<p>1.  If <code>x</code> is a <code>tis</code> series, the return value is a vector
time index with elements corresponding to the observation periods of
<code>x</code>. 
</p>
<p>2.  If <code>x</code> is a numeric object of length 2 interpretable as
<code>c(year, period)</code>, the return value is a single <code>ti</code>. 
</p>


<h3>Note</h3>

<p>The <code>as.Date(x)</code> call is not wrapped in a try-block, so it may be at
the top of the stack when <code>ti</code> fails.
</p>
<p>The return value from <code>asTi</code> is not guaranteed to be a valid
<code>ti</code> object.  For example, <code>asTi("a")</code> will not throw an
error, and it will return the string &quot;a&quot; with a class attribute &quot;ti&quot;,
but that's not a valid time index. 
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+jul">jul</a></code>, <code><a href="#topic+ymd">ymd</a></code>, <code><a href="#topic+tif">tif</a></code>,
<code><a href="#topic+tifName">tifName</a></code>, <code><a href="base.html#topic+as.Date">as.Date</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- ti(19971231, "monthly")   ##  monthly ti for Dec 97
is.ti(z)                       ##  TRUE
is.ti(unclass(z))              ##  FALSE
couldBeTi(unclass(z))          ##  TRUE
ymd(z + 4)                     ##  19980430
z - ti(c(1997,6), freq = 12)   ##  monthly ti for June 1997
ti(z, tif = "wmonday")         ##  week ending Monday June 30, 1997
</code></pre>

<hr>
<h2 id='tiDaily'> Daily and Business Day Time Indexes </h2><span id='topic+tiDaily'></span><span id='topic+tiBusiness'></span>

<h3>Description</h3>

<p>Return a daily or business day <code>ti</code> corresponding to a
specified position within a time index.</p>


<h3>Usage</h3>

<pre><code class='language-R'>tiDaily(xTi, offset = 1)
tiBusiness(xTi, offset = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tiDaily_+3A_xti">xTi</code></td>
<td>

<p>a <code>ti</code> object or something that the <code>ti()</code>
function can turn into a <code>ti</code> object </p>
</td></tr>
<tr><td><code id="tiDaily_+3A_offset">offset</code></td>
<td>

<p>for <code>ti</code> <code>xTi</code>, a number in the range [0,1] telling where in the
period represented by <code>x</code> to find the day.  0 means the first
day of the period, 1 the last day of the period, and fractional
values for in-between day.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>tiDaily</code> converts its first argument to a <code>jul</code> using the
offset provided, and returns a daily <code>ti</code> for that day.
</p>
<p><code>tiBusiness</code> converts its first argument to a <code>jul</code> using the
offset provided, and returns a &quot;business&quot; <code>ti</code> for that day.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="#topic+jul">jul</a></code> </p>

<hr>
<h2 id='tierChart'>
Create tier charts 
</h2><span id='topic+tierChart'></span><span id='topic+adjustableTierChart'></span>

<h3>Description</h3>

<p>A tier chart plots several years' observations of a series against the
times of year in which they were observed.  Useful for seeing seasonal
patterns in daily, weekly and irregularly-spaced data. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tierChart(x,
          startMonth = latestJanuary(end(x)),
          nMonths = 4,
          nYears = 7,
          offsets = 0,
          padDays = 6,
          pch = "year",
          lty = "solid",
          lwd = 1.5,
          col = 1 + (n.y:1),
          type = "b",
          ylim = NULL,
          outlier.trim = 0,
          noTrimLastYear = TRUE,
          extendHorizontalTicks = TRUE,
          circles.ymd = NULL,
          circles.col = 6,
          circles.inches = 0.1,
          vlines.ymd = NULL,
          vlines.col = 2,
          vlines.lty = 4,
          vlines.lwd = 1.5,
          vlines2.ymd = NULL,
          vlines2.col = 3,
          vlines2.lty = "solid",
          vlines2.lwd = 2,
          hlines = NULL,
          hlines.col = 1,
          hlines.lty = 1,
          hlines.lwd = 1,
          tiPoints.1 = NULL,
          tiPoints.2 = NULL,
          pch.1 = "*",
          pch.2 = "+",
          col.1 = 2,
          col.2 = 3,
          nolegend = FALSE,
          main = deparse(substitute(x)),
          topleft.labels = NULL,
          topright.labels = NULL,
          legend.ncol = length(years),
          legend.bg = 0,
          timestamp = TRUE,
          topline = TRUE,
          vlines.periodEnd = TRUE,
          vlines.month = TRUE,
          midperiod = FALSE,
          lwdLastYear = 1.5,
          cex = 1.5,
          boxes = TRUE,
          ...)

adjustableTierChart(x,
                    ...,
                    edit = TRUE,
                    changes = numeric(0),
                    verbose = FALSE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tierChart_+3A_x">x</code></td>
<td>

<p>A monhly or higher frequency (such as weekly or daily) time indexed
series (a <code>tis</code> object) or something that <code>as.tis</code> can
convert to one.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_startmonth">startMonth</code></td>
<td>

<p>a monthly time index (<code>ti</code>) object indicating first month to
show on plot. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_nmonths">nMonths</code></td>
<td>

<p>number of months to show on plot.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_nyears">nYears</code></td>
<td>

<p>number of years to include in the plot.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_offsets">offsets</code></td>
<td>

<p>vector of day offsets for the years in descending order.  If
<code>offsets[2]</code> is 3, for example, the points for the
second-to-last year will be shifted forward 3 days on the plot.
Negative numbers shift points back.
If <code>length(offsets) &lt; nYears</code>, zeroes will be appended to
<code>offsets</code> to make it <code>nYears</code> long. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_paddays">padDays</code></td>
<td>

<p>number of extra days to plot before and after the requested months.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_pch">pch</code></td>
<td>

<p>plotting symbols to be drawn when plotting points.  If pch is a
character string, such as &quot;a1b2&quot;, the first year's points will be
labeled &quot;a&quot;, the second year's with &quot;1&quot;, the third with &quot;b&quot;, and so
on.  Alternatively, pch can be a numeric vector giving the numbers of
plotting symbols to use, as detailed in the documentation for
<code>lines</code>.  The default string &quot;year&quot; uses the last digit of the
year number for each point in that year.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_lty">lty</code></td>
<td>

<p>vector of line types.  The first element is for the first year, the second
element for the second year, etc., even if lines are not plotted for all
years. Line types will be used cyclically until all years are drawn. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_lwd">lwd</code></td>
<td>

<p>number specifying line width
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_col">col</code></td>
<td>

<p>vector of colors for the years, specified as numbers or color names.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_type">type</code></td>
<td>

<p>character string, telling which type of plot
(<code>"p"</code>, points; <code>"l"</code>, lines; <code>"b"</code>, both;
<code>"n"</code>, none; or <code>"h"</code>, high-density) should be done for
each year.  The first character of <code>type</code> defines the first
year, the second character the second, etc. Characters in
<code>type</code> are cycled through; e.g., <code>"pl"</code> alternately plots
points and lines.  The default is &quot;b&quot;. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_ylim">ylim</code></td>
<td>

<p>ylim is a vector of 2 numbers giving desired y-axis limits.  The
actual limits on the plot will be the result of <code>pretty(ylim)</code>.
If <code>ylim</code> is not set explicitly, the value of
<code>outlier.trim</code> is used to calculate it such that the
<code>c(outlier.trim, 1 - outlier.trim)</code> quantiles of the
plotted points fall within the calculated <code>ylim</code> before it is
&quot;prettied&quot;.  
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_outlier.trim">outlier.trim</code></td>
<td>

<p>see <code>ylim</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_notrimlastyear">noTrimLastYear</code></td>
<td>

<p>if <code>TRUE</code> (the default), <code>outlier.trim</code> is effectively
set to zero for the most recent year, i.e., the y-axis limits will
be expanded, if necessary, to insure that all of the points plotted
for the most recent year fit on the plot.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_extendhorizontalticks">extendHorizontalTicks</code></td>
<td>

<p>if <code>TRUE</code> (the default), extend the horizontal ticks with a
dotted line all the	way across the chart.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_circles.ymd">circles.ymd</code></td>
<td>

<p>draws circles around the plotted points corresponding to these ymd
dates. The colors and sizes of the circles are given by
<code>circles.col</code> and <code>circles.inches</code>. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_circles.col">circles.col</code></td>
<td>

<p>see <code>circles.ymd</code> above.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_circles.inches">circles.inches</code></td>
<td>

<p>see <code>circles.ymd</code> above.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines.ymd">vlines.ymd</code></td>
<td>

<p>numeric vector of yyyymmdd dates, draws vertical lines of type
<code>vlines.lty</code> width <code>vlines.lwd</code> and colors
<code>vlines.col</code> at the dates given.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines.col">vlines.col</code></td>
<td>

<p>see <code>vlines.ymd</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines.lty">vlines.lty</code></td>
<td>

<p>see <code>vlines.ymd</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines.lwd">vlines.lwd</code></td>
<td>

<p>see <code>vlines.ymd</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines2.ymd">vlines2.ymd</code></td>
<td>

<p>numeric vector of yyyymmdd dates, draws vertical lines of type
<code>vlines2.lty</code> width <code>vlines2.lwd</code> and colors
<code>vlines2.col</code> at the dates given. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines2.col">vlines2.col</code></td>
<td>

<p>see <code>vlines2.ymd</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines2.lty">vlines2.lty</code></td>
<td>

<p>see <code>vlines2.ymd</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines2.lwd">vlines2.lwd</code></td>
<td>

<p>see <code>vlines2.ymd</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_hlines">hlines</code></td>
<td>

<p>numeric vector, draws horizontal lines of type <code>hlines.lty</code> width
<code>hlines.lwd</code> and colors <code>hlines.col</code> at the locations given.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_hlines.col">hlines.col</code></td>
<td>

<p>see <code>hlines</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_hlines.lty">hlines.lty</code></td>
<td>

<p>see <code>hlines</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_hlines.lwd">hlines.lwd</code></td>
<td>

<p>see <code>hlines</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_tipoints.1">tiPoints.1</code></td>
<td>

<p>a <code>ti</code> object specifying dates for which the corresponding
points will be marked with the characters in <code>pch.1</code> in 
colors <code>col.1</code>.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_pch.1">pch.1</code></td>
<td>

<p>see <code>tiPoints.1</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_col.1">col.1</code></td>
<td>

<p>see <code>tiPoints.1</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_tipoints.2">tiPoints.2</code></td>
<td>

<p>a <code>ti</code> object specifying dates for which the corresponding
points will be marked with the characters in <code>pch.2</code> in 
colors <code>col.2</code>.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_pch.2">pch.2</code></td>
<td>

<p>see <code>tiPoints.2</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_col.2">col.2</code></td>
<td>

<p>see <code>tiPoints.2</code> above
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_nolegend">nolegend</code></td>
<td>

<p>if <code>T</code> do not plot a legend
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_main">main</code></td>
<td>

<p>character string giving main title for the chart.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_topleft.labels">topleft.labels</code></td>
<td>

<p>strings to place in left corner of top margin
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_topright.labels">topright.labels</code></td>
<td>

<p>strings to place in right corner of top margin
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_legend.ncol">legend.ncol</code></td>
<td>

<p>number of columns to use for legend.  Has no effect if
<code>nolegend</code> is <code>T</code>.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_legend.bg">legend.bg</code></td>
<td>

<p>background color for legend
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_timestamp">timestamp</code></td>
<td>

<p>if <code>T</code> put a timestamp in upper right corner of top margin
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_topline">topline</code></td>
<td>

<p>if <code>T</code> (the default) draw an axis line across the top of the plot
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines.periodend">vlines.periodEnd</code></td>
<td>

<p>if <code>T</code> (the default) draw a light vertical line at each period end of
the most recent year plotted.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_vlines.month">vlines.month</code></td>
<td>

<p>if <code>T</code> (the default) draw a light vertical line at month boundaries
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_midperiod">midperiod</code></td>
<td>

<p>if <code>T</code> draw the point for each period on the middle day of the
period.  If <code>F</code> (the default) draw points on the last day of
the period.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_lwdlastyear">lwdLastYear</code></td>
<td>

<p>line width for the last year plotted.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_boxes">boxes</code></td>
<td>

<p>if <code>T</code> (the default) add scroll arrow and PrintMe boxes to the
plot for use by <code>adjustableTierChart</code>.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_cex">cex</code></td>
<td>

<p>numeric character expansion factor for the characters denoting the
points on the plot.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_...">...</code></td>
<td>

<p>for <code>adjustableTierChart</code>, arguments to be passed on to
<code>tierChart</code>.  For <code>tierChart</code>, ... denote arguments to
be passed to <code>matplot</code>, which does the actual plotting. 
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_edit">edit</code></td>
<td>

<p>if <code>T</code>, the points on the plot are editable. Clicking above or
below a point draws an arrow from the point to it desired new
location.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_changes">changes</code></td>
<td>

<p>used internally by the function to remember what points have been
moved thus far while scrolling.  This argument should never be set
by the user.
</p>
</td></tr>
<tr><td><code id="tierChart_+3A_verbose">verbose</code></td>
<td>

<p>if <code>T</code>, <code>adjustableTierChart</code> is chattier about what it is
doing.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A tier chart shows seasonal patterns in data by superimposing the data
from the same months of several years onto a single plot.  Tier charts
can be used both to present a view of a time series and to graphically
edit its values by pointing and clicking.
</p>
<p>For most purposes, <code>adjustableTierChart</code> is preferred to
<code>tierChart</code>, since the former presents a chart that can be
edited, scrolled and printed via mouse clicks, while the latter simply
draws a single chart and returns.  However, <code>adjustableTierChart</code>
requires user interaction, which may make it unsuitable for some uses.
</p>
<p>When <code>adjustableTierChart</code> is called, it draws on the current
graphics device and then waits for mouse clicks to occur.  A left mouse
button click on one of the scroll arrows changes the display to show
adjacent months, while a left mouse click on the <b>PrintMe</b> box
causes the current plot to be copied to the printer.  Left mouse clicks
in the data area of the plot are used to edit the values of the time
series.  Arrows are drawn from the current data points to the mouse
location to show where the new data values will be.
</p>
<p>A middle mouse button click causes <code>adjustableTierChart</code> to
return.  Closing the graphics window via the windowing system (e.g.,
clicking on the window's <b>X</b> button) has the same effect.
<em>Until <code>adjustableTierChart</code> is told to return, the entire R
process will appear to be frozen.</em> It isn't actually frozen, it's just
waiting for mouse input. Use <code>tierChart</code> instead if no user
interaction is desired.
</p>


<h3>Value</h3>

<p><code>tierChart</code> invisibly returns a list with the following components:
</p>
<table>
<tr><td><code>px</code></td>
<td>

<p>a matrix with <code>nYears</code> columns containing the x coordinates of
the points for each year.
</p>
</td></tr>
<tr><td><code>py</code></td>
<td>

<p>a matrix with <code>nYears</code> columns containing the y coordinates of
the points for each year.
</p>
</td></tr>
<tr><td><code>ymd</code></td>
<td>

<p>matrix of yyyymmdd dates corresponding to x coordinates in <code>px</code>
</p>
</td></tr>
<tr><td><code>index</code></td>
<td>

<p>matrix giving positions of the elements of the y matrix in the
original x series, that is, x[index[i,j]] == y[i,j]
</p>
</td></tr>
<tr><td><code>lBox</code></td>
<td>

<p>vector of 4 numbers giving the c(left, bottom, right, top) bounds of
the scroll arrow box in the upper left corner of the plot.
</p>
</td></tr>
<tr><td><code>rBox</code></td>
<td>

<p>vector of 4 numbers giving the c(left, bottom, right, top) bounds of
the scroll arrow box in the upper right corner of the plot.
</p>
</td></tr>
<tr><td><code>printBox</code></td>
<td>

<p>vector of 4 numbers giving the c(left, bottom, right, top) bounds of
the print box in the adjoining the left scroll box.
</p>
</td></tr>
<tr><td><code>startMonth</code></td>
<td>

<p>the input argument of the same name
</p>
</td></tr>
<tr><td><code>nMonths</code></td>
<td>

<p>number of months wide the plot is
</p>
</td></tr>
<tr><td><code>nYears</code></td>
<td>

<p>number of years plotted
</p>
</td></tr>
</table>
<p>If the input argument codeboxes is <code>F</code>, the <code>lBox</code>,
<code>rBox</code> and <code>printBox</code> elements of the list will not be
present.
</p>
<p><code>adjustableTierChart</code> returns the edited input series <code>x</code> as
a <code>tis</code> object, with an additional <code>startMonth</code> attribute. 
</p>


<h3>Side Effects</h3>

<p>a tier chart is drawn on the current graphics device.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+monthplot">monthplot</a></code> for a nice way to look at seaonality in monthly
data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tierChart(m1.w)   ## January - April of 7 most recent years

tierChart(m1.w, startMonth=1, nMonths = 12)  ## Tier chart for entire year

tierChart(m1.w, type="l", lty=1)   ## same as first example, but with
                                   ## solid lines and no plotting symbols

xe &lt;- adjustableTierChart(x)    ## xe will be edited version of x

## End(Not run)
</code></pre>

<hr>
<h2 id='tif'> Time Index Frequencies and Periods</h2><span id='topic+tif'></span><span id='topic+tif.default'></span><span id='topic+tif.ti'></span><span id='topic+tif.tis'></span><span id='topic+tif.ts'></span><span id='topic+tifName'></span><span id='topic+tifName.default'></span><span id='topic+tifName.ti'></span><span id='topic+tifName.tis'></span><span id='topic+period'></span><span id='topic+basePeriod'></span>

<h3>Description</h3>

<p>Return the tif code of an object, the name associated with a tif code,
the period number of a time index, or the first .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tif(x, ...)
## S3 method for class 'ti'
tif(x, ...)
## S3 method for class 'tis'
tif(x, ...)
## S3 method for class 'ts'
tif(x, ...)
## Default S3 method:
tif(x, freq = NULL, ...)
tifName(s)
## Default S3 method:
tifName(s)
## S3 method for class 'ti'
tifName(s)
## S3 method for class 'tis'
tifName(s)
period(z)
basePeriod(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tif_+3A_x">x</code></td>
<td>

<p>a <code>ti</code> or <code>tis</code> object, or a string giving a tif name.
</p>
</td></tr>
<tr><td><code id="tif_+3A_freq">freq</code></td>
<td>

<p>numeric. If <code>x</code> is missing, return the <code>tif</code> for this
frequency, otherwise ignore.
</p>
</td></tr>
<tr><td><code id="tif_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="tif_+3A_s">s</code></td>
<td>

<p>a <code>ti</code> or <code>tis</code> object, or a tif code.
</p>
</td></tr>
<tr><td><code id="tif_+3A_z">z</code></td>
<td>

<p>a <code>ti</code> object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>tifList</code> object associates tifNames with tif codes.  Most
functions that call for <code>tif</code> argument can take either a tif code
or a tif name.
</p>
<p>Both function are generic function with methods for <code>ti</code> and
<code>tis</code> objects, as well as a default method.  <code>tif</code> also has
a method for <code>ts</code> objects.
</p>


<h3>Value</h3>

<p><code>tif</code> returns the tif code for <code>x</code>, while <code>tifName</code>
returns a name for that code.  Many of the codes have several names,
but only the default one is returned.
</p>
<p><code>tif</code> or <code>tifName</code> called with no arguments returns a vector
of all tif codes with names.
</p>
<p><code>period</code> returns a vector like <code>z</code> giving the number of
periods elapsed since the first period defined for its argument's
frequency.
</p>
<p><code>basePeriod</code> returns the <code>ti</code> for the first period defined
for <code>tif(x)</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="stats.html#topic+frequency">frequency</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>tif()                 ## returns a vector of all tif codes
tifName(today())      ## today() returns a ti
period(today())
</code></pre>

<hr>
<h2 id='tif2freq'>Periods Per Year for Time Index Frequencies</h2><span id='topic+tif2freq'></span>

<h3>Description</h3>

<p>Returns the frequency of a <code>ti</code> object constructed from the
current date with the given <code>tif</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tif2freq(tif)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tif2freq_+3A_tif">tif</code></td>
<td>
<p>a <code>tifName</code> or <code>tif</code> code </p>
</td></tr>
</table>


<h3>Value</h3>

<p>a number</p>


<h3>See Also</h3>

<p><code><a href="#topic+tif">tif</a></code>, <code><a href="#topic+tifName">tifName</a></code>, <code><a href="stats.html#topic+frequency">frequency</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>tif2freq("wmonday")
tif2freq("monthly")
tif2freq(tif(today()))
</code></pre>

<hr>
<h2 id='tis'> Time Indexed Series </h2><span id='topic+tis'></span><span id='topic+as.tis'></span><span id='topic+as.tis.tis'></span><span id='topic+as.tis.ts'></span><span id='topic+as.tis.zoo'></span><span id='topic+as.tis.default'></span><span id='topic+is.tis'></span>

<h3>Description</h3>

<p>The function <code>tis</code> is used to create time-indexed series objects.
</p>
<p><code>as.tis</code> and <code>is.tis</code> coerce an object to a time-indexed
series and test whether an object is a time-indexed series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tis(data, start = 1, tif = NULL, frequency = NULL, end = NULL)
as.tis(x, ...)
## S3 method for class 'ts'
as.tis(x, ...)
## S3 method for class 'tis'
as.tis(x, ...)
## S3 method for class 'zoo'
as.tis(x, ...)
## Default S3 method:
as.tis(x, ...)
is.tis(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tis_+3A_data">data</code></td>
<td>

<p>a numeric vector or matrix of the observed time-series values.
</p>
</td></tr>
<tr><td><code id="tis_+3A_start">start</code></td>
<td>

<p>the time of the first observation. This can be a <code>ti</code> object, or
anything that <code>ti(start, tif = tif, freq = frequency)</code>, can turn into a <code>ti</code> object. 
</p>
</td></tr>
<tr><td><code id="tis_+3A_...">...</code></td>
<td>

<p>other args to be passed to the method called by the generic
function.  <code>as.tis.default</code> passes <code>x</code> and ... to the
constructor function <code>tis</code>.
</p>
</td></tr>
<tr><td><code id="tis_+3A_tif">tif</code></td>
<td>

<p>a ti Frequency, given as either a numerical code or a string.
<code>tif()</code> with no arguments returns a list of the allowable
numerical codes and names.  
</p>
</td></tr>
<tr><td><code id="tis_+3A_frequency">frequency</code></td>
<td>

<p>As an alternative to supplying a <code>tif</code>, some <code>tif</code>s can
alternatively be specified by their frequency, such as 1 (annual), 2
(semiannual), 4 (quarterly), 6 (bimonthly), 12 (monthly), 24
(semimonthly), 26 (biweekly), 36 (tenday), 52 (weekly), 262
(business) and 365 (daily).  Many frequencies have multiple
<code>tif</code>s associated with them.  For example, all of the
<code>tif</code>s (wsunday, wmonday, ..., wsaturday) have frequency 52. In
this case, specifying <code>freq</code> gets you the default weekly
<code>tif</code> wmonday.
</p>
</td></tr>
<tr><td><code id="tis_+3A_end">end</code></td>
<td>

<p>the time of the last observation, specified in the same way as <code>start</code>.
</p>
</td></tr>
<tr><td><code id="tis_+3A_x">x</code></td>
<td>

<p>object to be tested (<code>is.tis</code>) or converted into a <code>tis</code>
object.  As described in the details below, <code>as.tis</code> can deal with
several different kinds of <code>x</code>.  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>tis</code> is used to create <code>tis</code> objects, which
are vectors or matrices with class of <code>"tis"</code> and a <code>start</code>
attribute that is a <code>ti</code> (time index) object.  Time-indexed
series are a form of time series that is more flexible
than the standard <code>ts</code> time series. While observations for a
<code>ts</code> object are supposed to have been sampled at equispaced
points in time, the observation times for a <code>tis</code> object are the
times given by successive increments of the more flexible time index
contained in the series <code>start</code> attribute.  There is a close
correspondence between Fame time series and <code>tis</code> objects, in
that all of the Fame frequencies have corresponding <code>tif</code> codes.
</p>
<p><code>tis</code> objects operate much like vanilla R <code>ts</code> objects.
Most of the methods implemented for <code>ts</code> objects have <code>tis</code>
variants as well.  Evaluate <code>methods(class = "tis")</code> to see a
list of them.
</p>
<p>One way or another, <code>tis</code> needs to figure out how to create a
<code>start</code> attribute.  If <code>start</code> is supplied, the function
<code>ti</code> is called with it, <code>tif</code> and <code>frequency</code> as
arguments.  The same process is repeated for <code>end</code> if it was
supplied. If only one of <code>start</code> and <code>end</code> was supplied, the
other is inferred from it and the number of observations in <code>data</code>. If
both <code>start</code> and <code>end</code> are supplied, the function <code>rep</code>
is used to make <code>data</code> the length implied by <code>end - start + 1</code>.
</p>
<p><code>as.tis</code> is a generic function with specialized methods for other
kinds of time series, including <code>zoo</code> series from <span class="pkg">zoo</span>.
The fallback default method calls <code>tis(x, ...)</code>.
</p>


<h3>Value</h3>

<p><code>tis</code> and <code>as.tis</code> return time-indexed series.
<code>is.tis</code> returns TRUE or FALSE.
</p>


<h3>Note</h3>

<p>If the <code>index</code> of a <code>zoo</code> series is a <code>ti</code>,
the coercion <code>as.tis.zoo</code> does is trivial.  For other kinds of
<code>zoo</code> series, the function <code>inferTi</code> tries to figure out a time
index that matches the times of the <code>index</code> of the zoo series.
This may fail, as there are infinitely more possible kinds of zoo
indexes than the finite number of time index frequencies.
</p>


<h3>See Also</h3>

<p> Compare with <code><a href="stats.html#topic+ts">ts</a></code>.  See <code><a href="#topic+ti">ti</a></code> for
details on time indexes.  <code><a href="#topic+cbind.tis">cbind.tis</a></code> combines several
time indexed series into a multivariate <code>tis</code>, while
<code><a href="#topic+mergeSeries">mergeSeries</a></code> merges series, and <code><a href="#topic+convert">convert</a></code> and
<code><a href="stats.html#topic+aggregate">aggregate</a></code> convert series from one frequency to another.
<code><a href="#topic+start.tis">start.tis</a></code> and <code><a href="#topic+end.tis">end.tis</a></code> return <code>ti</code>
objects, while <code><a href="#topic+ti.tis">ti.tis</a></code> returns a vector <code>ti</code>. There
is a print method <code><a href="#topic+print.tis">print.tis</a></code> and several plotting
methods, including <code><a href="#topic+lines.tis">lines.tis</a></code> and <code><a href="#topic+points.tis">points.tis</a></code>.
The <code><a href="#topic+window.tis">window.tis</a></code> method is also sufficiently different
from the <code>ts</code> one to deserve its own documentation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tis(1:48, start = c(2000, 1), freq = 12)
tis(1:48, start = ti(20000101, tif = "monthly"))    ## same result
tis(0, start = c(2000,1), end = c(2000,52), tif = "weekly")
</code></pre>

<hr>
<h2 id='tisFilter'>Linear Filtering on a Time Series</h2><span id='topic+tisFilter'></span>

<h3>Description</h3>

<p>Applies linear filtering to a univariate <code>tis</code> series or to each
column separately of a multivariate <code>tis</code> series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tisFilter(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tisFilter_+3A_x">x</code></td>
<td>
<p>a univariate or multivariate time series.</p>
</td></tr>
<tr><td><code id="tisFilter_+3A_...">...</code></td>
<td>
<p>arguments passed along to <code>filter</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tis</code> time indexed series with leading and trailing
<code>NA</code> values stripped.
</p>


<h3>Note</h3>

<p>If ever the <code>filter()</code> function is made generic, as it should be,
this function could become the <code>tis</code> method for it.</p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+filter">filter</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- tis(1:100, start = c(2000,1), freq = 12)
tisFilter(x, rep(1, 3))
tisFilter(x, rep(1, 3), sides = 1)
tisFilter(x, rep(1, 3), sides = 1, circular = TRUE)
</code></pre>

<hr>
<h2 id='tisFromCsv'>Read time series from Comma Separated Values (.csv) file</h2><span id='topic+tisFromCsv'></span>

<h3>Description</h3>

<p>Reads <code>tis</code> (Time Indexed Series) from a csv file,
returning the series in a list, and optionally storing them in an environment.</p>


<h3>Usage</h3>

<pre><code class='language-R'>tisFromCsv(csvFile, dateCol = "date", dateFormat = "%Y%m%d", tz = "",
           tif = NULL, defaultTif = "business",
           save = F, envir = parent.frame(),
           naNumber = NULL, chopNAs = TRUE,
           tolerance = sqrt(.Machine$double.eps), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tisFromCsv_+3A_csvfile">csvFile</code></td>
<td>
<p>A file name, connection, or URL acceptable to
<code><a href="utils.html#topic+read.csv">read.csv</a></code>. Also see the the rest of this help entry for 
required attributes of this file.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_datecol">dateCol</code></td>
<td>
<p>name of the column holding dates.  This column must be
present in the file.</p>
</td></tr> 
<tr><td><code id="tisFromCsv_+3A_dateformat">dateFormat</code></td>
<td>
<p>format of the dates in <code>dateCol</code>. If
the <code>dateCol</code> cells contain Excel dates, use <code>dateFormat ==
  "excel"</code>.  If they are strings, see <code><a href="base.html#topic+strptime">strptime</a></code> for date formats.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_tz">tz</code></td>
<td>
<p>the time zone to be used by <code><a href="base.html#topic+strptime">strptime</a></code> when
converting date strings into <code>POSIXlt</code> timestamps. The default
is to use the current time zone, which means it can change from,
say, EST to EDT in the spring, and back to EST in the fall. If you
have an &quot;impossible&quot; time in your csv file, like 2 am on March 13,
2011, this will result in an unexpected <code>NA</code> in the created
<code>ti</code> dates, which will result in those rows in your csv being
effectively ignored.
</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_tif">tif</code></td>
<td>
<p>time index frequency of the data.  If this is <code>NULL</code>
(the default), the function tries to infer the frequency from the
dates in the <code>ymdCol</code> column.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_defaulttif">defaultTif</code></td>
<td>
<p>If the frequency can't be inferred from the dates in
the <code>ymdCol</code> column, this <code>tif</code> frequency will be used.
This should be a rare occurrence.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_save">save</code></td>
<td>
<p>If true, save the individual series in the enviroment
given by the <code>envir</code> argument. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_envir">envir</code></td>
<td>
<p>if <code>save == TRUE</code>, the individual series (one per
column) are saved in this enviroment.  Default is the frame of the caller.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_nanumber">naNumber</code></td>
<td>
<p>if non-<code>NULL</code>, numbers within <code>tolerance</code> of
this number are considered to be <code>NA</code> values.  NA strings can
be specified by including an <code>na.strings</code> argument as one of
the ... arguments that are passed along to <code>read.csv</code>.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_chopnas">chopNAs</code></td>
<td>
<p>if <code>TRUE</code> (the default), leading and trailing
<code>NA</code> values are cut off of each column.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_tolerance">tolerance</code></td>
<td>
<p>Used to determine whether or not numbers in the file
are close enough to <code>naNumber</code> to be regarded as equal to it.
The default is about 1.48e-08.</p>
</td></tr>
<tr><td><code id="tisFromCsv_+3A_...">...</code></td>
<td>
<p>Additional arguments passed along to the underlying
<code>read.csv</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>File Requirements:</b> The csv file must have column names
across the top, and everything but the first row should be numeric.
There must be as many column names (enclosed in quotes) as there are
columns, and the column named by <code>dateCol</code> must have dates in the
format indicated by <code>dateFormat</code>. <strong>The <code>dateCol</code>
column must be present.</strong> 
</p>
<p><b>Missing (NA) values:</b>  Missing and NA values are the same thing.
The underlying <code>read.csv</code> has &quot;,&quot; as its default separator and
&quot;NA&quot; as its default na.string, so the rows 
</p>
<pre>
    
  20051231,,13,,42,NA,
  20060131,NA,14,,43,,NA

</pre>  
<p>indicate <code>NA</code> values for both the Dec 2005 and Jan 2006
observations of the first, third, fifth and sixth series. 
</p>
<p>The values in the file are read into a single large <code>tis</code> series,
with a <code>tif</code> (Time Index Frequency) inferred from the first six
dates in the ymd column.  The first date is converted to a <code>ti</code>
(Time Index) of that frequency and becomes the <code>start</code> of the
series.  If <code>chopNAs</code> is <code>TRUE</code>, each individual column is
then windowed via <code>naWindow</code> to strip off leading and trailing
<code>NA</code> values, and the resulting series are put into a list with
names given by lower-casing the column names from the csv file.  If
<code>save</code> is <code>TRUE</code>, the series are also stored in <code>envir</code>
using those same names. 
</p>


<h3>Value</h3>

<p>A list of <code>tis</code> time series, one per column of the csv file.
The list is returned invisibly if <code>save</code> is <code>TRUE</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="#topic+tis">tis</a></code>, <code><a href="utils.html#topic+read.csv">read.csv</a></code>,
<code><a href="utils.html#topic+read.table">read.table</a></code></p>

<hr>
<h2 id='tisLegend'> Add a legend to a tisPlot or scatterPlot </h2><span id='topic+tisLegend'></span>

<h3>Description</h3>

<p> The plotting functions <code>tisPlot</code> and
<code>scatterPlot</code> leave an object named <code>latestPlot</code> in the
frame from which they were called. <code>tisLegend</code> uses that object
to set legend arguments (which you can override) and sets reasonable
defaults for other arguments. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tisLegend(..., xrel = 0.1, yrel = 0.1, xjust = 0, yjust = 1, boxType ="n",
          ncol = 1, cex = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tisLegend_+3A_...">...</code></td>
<td>
<p>optional arguments to be passed on to <code><a href="graphics.html#topic+legend">legend</a></code>.
These can include <code>x</code> and <code>y</code> arguments to position the
legend, or a list with components named <code>x</code> and <code>y</code>, such as
the list returned by <code>locator(1)</code>.</p>
</td></tr>
<tr><td><code id="tisLegend_+3A_xrel">xrel</code>, <code id="tisLegend_+3A_yrel">yrel</code></td>
<td>
<p>Optional numbers between 0 and 1 to specify placement
relative to the boundaries of the plot.</p>
</td></tr>
<tr><td><code id="tisLegend_+3A_xjust">xjust</code>, <code id="tisLegend_+3A_yjust">yjust</code>, <code id="tisLegend_+3A_ncol">ncol</code></td>
<td>
<p> passed along to <code><a href="graphics.html#topic+legend">legend</a></code></p>
</td></tr>
<tr><td><code id="tisLegend_+3A_boxtype">boxType</code></td>
<td>
<p>passed along as <code>bty</code> to <code><a href="graphics.html#topic+legend">legend</a></code></p>
</td></tr>
<tr><td><code id="tisLegend_+3A_cex">cex</code></td>
<td>
<p> gets multiplied by the <code>cex</code> from <code>latestPlot</code>
and then passed on to <code><a href="graphics.html#topic+legend">legend</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is not strictly necessary, in that you could just
call <code><a href="graphics.html#topic+legend">legend</a></code> directly.  <code>tisLegend</code> makes things a
bit easier, however, by using the same argument names as
<code>tisPlot</code> and <code>scatterPlot</code> to specify <code>color</code>,
<code>lineType</code>, <code>plotChar</code> and <code>boxType</code>, rather than the
less intuitive <code>col</code>, <code>lty</code>, <code>pch</code> and <code>bty</code>
names.  The <code>xrel</code> and <code>yrel</code> arguments provide an
alternative way to specify legend placement, one that is used by the
ChartMaker program.
</p>


<h3>Value</h3>

<p>a list of the arguments that were sent on to <code>legend</code>, with
class &quot;tisLegend&quot;</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+legend">legend</a></code>, <code><a href="#topic+tisPlot">tisPlot</a></code>, <code><a href="#topic+scatterPlot">scatterPlot</a></code></p>

<hr>
<h2 id='tisPlot'> Plot time indexed series (tis objects)</h2><span id='topic+tisPlot'></span>

<h3>Description</h3>

<p><code>tisPlot</code> is a function with dozens of options for creating
high quality time series plots. Can be used with <code>screenPage</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tisPlot(..., 
        leftAxis = TRUE, plotType = "l",
        lineType = "solid", lineWidth = 1.5,
        plotChar = "*", dataCex = 1, color = 1,
        midPoints = TRUE, dropNA = FALSE, xOffset = 0,
        xAxisMin = NULL, xAxisMax = NULL, xExpandBy = 0.04,
        xTickFreq = "Auto", xTickSkip = 0,
        xUnlabeledTickFreq = "None", xUnlabeledTickSkip = 0,
        xMinorTickFreq = "None", xMinorTickSkip = 0,
        dateFormat = "Auto", xCex = 1,
        midLabels = FALSE, yearLabels = FALSE,
        xAxisLabel = NULL, xSpace = 4, log = FALSE,
        leftAxisMin = NULL, leftAxisMax = NULL, leftExpandBy = 0.04,
        leftTicks = 5, leftTickLocations = NULL,
        labelLeftTicks = FALSE, leftTickLabels = NULL,
        rightAxisMin = NULL, rightAxisMax = NULL, rightExpandBy = 0.04,
        rightTicks = 5, rightTickLocations = NULL,
        labelRightTicks = TRUE, rightTickLabels = NULL,
        yCex = 1, extendTopTick = TRUE,
        cex = 1,
        head = NULL, headAlign = 0.5, headCex = 1.5,
        sub = NULL, subCex = 0.85,
        leftTopLabel = NULL, rightTopLabel = NULL, topLabelAlign = 0,
        labCex = 1,
        leftInsideLabel = NULL, rightInsideLabel = NULL,
        innerLine = 0.5, innerOffset = 0.05, innerCex = 0.8,
        foot = NULL, footColor = "black", footAlign = 0,
        footCex = 0.8, footSpace = -1,
        tck = 0.03,
        axisWidth = 2,
        start = 0, end = 0,
        boxType = "u",
        leftMargin = -1, rightMargin = -1, topMargin = -1, bottomMargin = -1,
        nberShade = FALSE, shadeDates = NULL, shadeColor = "gray",
        shadeBorder = FALSE, polyArgs = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tisPlot_+3A_...">...</code></td>
<td>

<p>any number of univariate or multivariate <code>tis</code> series to be plotted.
Non-<code>tis</code> arguments will be converted by <code>as.tis</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftaxis">leftAxis</code></td>
<td>

<p>logical. <code>leftAxis[i] = TRUE</code> means plot the i'th series
against the left axis, otherwise plot it against the right axis.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_plottype">plotType</code></td>
<td>

<p>type of plot desired. Values are <code>"p"</code> for points, <code>"l"</code>
for lines, <code>"b"</code> for both points and lines (lines miss the
points), and <code>"o"</code> for overlaid points and lines.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_linetype">lineType</code></td>
<td>

<p>character or numeric vector specifying the line type for each
series. The default is <code>1:nSeries</code>, where <code>nSeries</code> is the
number of series being plotted.  Normally type <code>1</code> is solid,
<code>2</code> is dotted, 3 and up are a mix of dots and dashes. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_linewidth">lineWidth</code></td>
<td>

<p>numeric vector of line widths for the series. The default value is
<code>1.5</code>. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_plotchar">plotChar</code></td>
<td>

<p>vector of characters (or numbers for plotting symbols &ndash; see the
help for <code><a href="graphics.html#topic+points">points</a></code> for details) to be used for plotting
points. 
Default is &quot;*&quot;.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_datacex">dataCex</code></td>
<td>

<p>numeric vector. <code>cex</code> times these numbers give the character
expansion factor for the data points.  Default is 1.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_color">color</code></td>
<td>

<p>character or numeric vector specifies color for each series. Default
is 1, the device default foreground color.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_midpoints">midPoints</code></td>
<td>

<p>logical. <code>midPoints[i] = TRUE</code> aligns the data points of the i'th
series with the middle day of the periods in which they fall,
otherwise data points are aligned with the last day of their periods.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_dropna">dropNA</code></td>
<td>
<p> if <code>TRUE</code>, observations with <code>NA</code> values are
dropped before calling <code>lines.default</code> to draw the lines and/or
points on the plot.  See the details section of the help for
<code><a href="#topic+lines.tis">lines.tis</a></code> for why you might or might not want to do
this.  The default is <code>FALSE</code>.
</p>
</td></tr>  
<tr><td><code id="tisPlot_+3A_xoffset">xOffset</code></td>
<td>

<p>Shifts the data points for series[i] to the right by
<code>xOffset[i]</code> days. This argument is replicated to be as long
as the number of series. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xaxismin">xAxisMin</code></td>
<td>

<p>minimum value of the x axis. If non-NULL, this overrides the
calculation described in <code>xExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xaxismax">xAxisMax</code></td>
<td>

<p>maximum value of the x axis. If non-NULL, this overrides the
calculation described in <code>xExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xexpandby">xExpandBy</code></td>
<td>

<p>a single number or two numbers between 0 and 1. <code>xAxisMin</code> and
<code>xAxisMax</code> will be calculated by multiplicatively
extending the data range in both directions by these amounts.  Default
value .04 extends the data range by 4% in each direction.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xtickfreq">xTickFreq</code></td>
<td>

<p>a string like the ones returned by <code>tifName</code>. This argument and
<code>xTickSkip</code> jointly specify locations for labeled x axis ticks
as follow: (i) find the <code>ti</code>'s of the given frequency that
correspond to <code>xAxisMin</code> and <code>xAxisMax</code>, then (ii)
including those as endpoints, generate a sequence of every
<code>xTickSkip</code>'th <code>ti</code> between them.
</p>
<p>Two special strings can also be given.  &quot;none&quot; means no labelled
tick marks, while &quot;auto&quot; tries (not always successfully) to come up
with reasonable tick locations automatically.  &quot;auto&quot; also overrides
any <code>xTickSkip</code> setting.
</p>
<p>The default is &quot;auto&quot;.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xtickskip">xTickSkip</code></td>
<td>

<p>a number used with <code>xTickFreq</code> to specify location of labeled
tick marks. The default is zero.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xunlabeledtickfreq">xUnlabeledTickFreq</code></td>
<td>

<p>same as <code>xTickFreq</code>, but for unlabeled major tick locations.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xunlabeledtickskip">xUnlabeledTickSkip</code></td>
<td>

<p>same as <code>xTickSkip</code>, but for unlabeled major tick locations.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xminortickfreq">xMinorTickFreq</code></td>
<td>

<p>same as <code>xTickFreq</code>, but for minor tick locations.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xminortickskip">xMinorTickSkip</code></td>
<td>

<p>same as <code>xTickSkip</code>, but for minor tick locations.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_dateformat">dateFormat</code></td>
<td>

<p>format string for x axis date labels. See <code><a href="base.html#topic+strftime">strftime</a></code> for
formats.  Default value &quot;auto&quot; tries to come up with a reasonable
format automatically, for some bounded value of &quot;reasonable&quot;. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xcex">xCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for the x-axis labels. Default is 1.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_midlabels">midLabels</code></td>
<td>

<p>if <code>TRUE</code> (the default) x axis label are centered between the
ticks they label; if <code>FALSE</code> the label alignment depends on the
setting of <code>midPoints</code>. If <code>midPoints</code> is <code>TRUE</code>,
the labels (which reflect the last day of the period) are centered
under the ticks, else they are (almost) right aligned with the
ticks.  If rotated labels are specified by nonzero
<code>xLabelRotationDegrees</code>, tick labels are right aligned with
their ticks.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_yearlabels">yearLabels</code></td>
<td>

<p>if <code>TRUE</code> place year labels centered under the x ticks they
span. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xaxislabel">xAxisLabel</code></td>
<td>

<p>text to appear centered under the x axis.  Must be a single
character string, multi-line <code>xAxisLabel</code> is not supported. No
default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_xspace">xSpace</code></td>
<td>

<p>lines of space to set aside directly beneath the x-axis to hold
tick, year and/or axis labels. Default is <code>4</code>. The space
created is <code>xSpace</code> times <code>labCex</code>. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_log">log</code></td>
<td>

<p>if <code>TRUE</code> use log scaling for y axes.  Default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftaxismin">leftAxisMin</code></td>
<td>

<p>minimum value of the left axis. If non-NULL, this overrides the
calculation described in <code>leftExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftaxismax">leftAxisMax</code></td>
<td>

<p>maximum value of the left axis. If non-NULL, this overrides the
calculation described in <code>leftExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftexpandby">leftExpandBy</code></td>
<td>

<p>a single number or two numbers between 0 and 1. <code>leftAxisMin</code> and
<code>leftAxisMax</code> will be calculated by multiplicatively
extending the data range in both directions by these amounts.  Default
value .04 extends the data range by 4% in each direction.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftticks">leftTicks</code></td>
<td>

<p>number of ticks to draw on left axis at &quot;pretty&quot; locations.  Default
is 5. This argument is ignored if <code>leftTickLocations</code> is
non-NULL.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftticklocations">leftTickLocations</code></td>
<td>

<p>if non-NULL, a vector of desired tick locations or a string that
evaluates to such a vector.  The default value NULL lets the setting
for <code>leftTicks</code> take effect.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_labelleftticks">labelLeftTicks</code></td>
<td>

<p>If <code>TRUE</code>, label ticks on the left axis. Default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftticklabels">leftTickLabels</code></td>
<td>

<p>character vector of tick labels or NULL (the default).  If NULL and
<code>labelLeftTicks</code> is <code>TRUE</code>, labels are constructed from
the tick locations.  This argument has no effect if
<code>labelLeftTicks</code> is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightaxismin">rightAxisMin</code></td>
<td>

<p>minimum value of the right axis. If non-NULL, this overrides the
calculation described in <code>rightExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightaxismax">rightAxisMax</code></td>
<td>

<p>maximum value of the right axis. If non-NULL, this overrides the
calculation described in <code>rightExpandBy</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightexpandby">rightExpandBy</code></td>
<td>

<p>a single number or two numbers between 0 and 1. <code>rightAxisMin</code> and
<code>rightAxisMax</code> will be calculated by multiplicatively
extending the data range in both directions by these amounts.  Default
value .04 extends the data range by 4% in each direction.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightticks">rightTicks</code></td>
<td>

<p>number of ticks to draw on right axis at &quot;pretty&quot; locations.  Default
is 5. This argument is ignored if <code>rightTickLocations</code> is non-NULL. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightticklocations">rightTickLocations</code></td>
<td>

<p>if non-NULL, a vector of desired tick locations or a string that
evaluates to such a vector.  The default value NULL lets the setting
for <code>rightTicks</code> take effect.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_labelrightticks">labelRightTicks</code></td>
<td>

<p>If <code>TRUE</code>, label ticks on the right axis. Default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightticklabels">rightTickLabels</code></td>
<td>

<p>character vector of tick labels or NULL (the default).  If NULL and
<code>labelRightTicks</code> is <code>TRUE</code>, labels are constructed from
the tick locations.  This argument has no effect if
<code>labelRightTicks</code> is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_ycex">yCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for the left and right axis labels. Default is 1.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_extendtoptick">extendTopTick</code></td>
<td>

<p>if <code>TRUE</code> (the default) the top tick of the y axes encloses the
panel. <code>leftAxisMax</code> and <code>rightAxisMax</code> are increased as
necessary to include the top tick for enclosing the panel.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_cex">cex</code></td>
<td>

<p>the base character expansion factor by which all of the
<code>***cex</code> parameters are scaled. The default setting is the
value of <code>par("cex")</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_head">head</code></td>
<td>

<p>text to appear at the top of the figure region, with alignment
determined by <code>headAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_headalign">headAlign</code></td>
<td>

<p>number indicating justification for the strings in <code>head</code> and
<code>sub</code>. <code>0</code> means left justify, <code>1</code> means right
justify, <code>0.5</code> (the default) means to center the text.  Other
numbers are a corresponding distance between the extremes.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_headcex">headCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>head</code>. Default is 1.5.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_sub">sub</code></td>
<td>

<p>text to appear just under <code>head</code>, with alignment determined by
<code>headAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_subcex">subCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>sub</code>. Default is 0.85.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_lefttoplabel">leftTopLabel</code></td>
<td>

<p>text to appear at the top of the left axis, with alignment
determined by <code>topLabelAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_righttoplabel">rightTopLabel</code></td>
<td>

<p>text to appear at the top of the right axis, with alignment
determined by <code>topLabelAlign</code>. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_toplabelalign">topLabelAlign</code></td>
<td>

<p>number indicating alignment for the strings in <code>leftTopLabel</code>.
<code>0</code> (the default) means left justify, <code>1</code> means right
justify, <code>0.5</code> means to center the text.  <code>rightTopLabel</code>,
if given, is aligned by <code>1 - topLabelAlign</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_labcex">labCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>leftTopLabel</code>, <code>rightTopLabel</code>, and <code>xAxisLabel</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftinsidelabel">leftInsideLabel</code></td>
<td>

<p>text to appear left justified and just inside the upper left corner
of the plot region. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightinsidelabel">rightInsideLabel</code></td>
<td>

<p>text to appear right justified and just inside the upper right corner
of the plot region. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_inneroffset">innerOffset</code></td>
<td>

<p>number between 0 and 1, a fractional offset for the inside labels.
The left edge of <code>leftInsideLabel</code> is offset by this fraction
of the x range from the left edge of the plot, as is the right edge
of <code>rightInsideLabel</code> from the right edge of the plot.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_innerline">innerLine</code></td>
<td>

<p>Number of lines in from the top edge of the plot to put the first
line of the inside labels.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_innercex">innerCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>leftInsideLabel</code> and <code>rightInsideLabel</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_foot">foot</code></td>
<td>

<p>text to appear at the bottom of the figure region, with alignment
determined by <code>footAlign</code>. Use a vector of character strings to
get several footnotes. No default.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_footalign">footAlign</code></td>
<td>

<p>number indicating justification for the strings in <code>foot</code>.
<code>0</code> (the default) means left justify, <code>1</code> means right
justify, <code>0.5</code> means to center the text.  Other numbers are a
corresponding distance between the extremes.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_footcex">footCex</code></td>
<td>

<p><code>cex</code> times this number gives the character expansion factor
for <code>foot</code>. Default is 0.8.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_footcolor">footColor</code></td>
<td>

<p>character or numeric vector as long as <code>foot</code>, specifying the
color for each footnote. Default is 1, the device default foreground
color.  The elements of this argument are cyclically repeated, if
necessary, to make <code>footColor</code> the same length as <code>foot</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_footspace">footSpace</code></td>
<td>

<p>lines of space to set aside directly beneath the space allocated by
<code>xSpace</code> to hold footnotes. The space created is
<code>footSpace</code> times <code>footCex</code>. Default is 
length(<code>foot</code>); using a higher value will result in extra space
in the bottom figure margin.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_tck">tck</code></td>
<td>

<p>The length of <code>xTick</code>, <code>xUnlabeledTick</code> and side tick
marks as a fraction of the smaller of the width or height of the
plotting region.  Minor ticks (<code>xMinorTicks</code>) are 2/3 as long.
If <code>tck &gt;= 0.5</code> it is interpreted as a fraction of the relevant
side, so if <code>tck = 1</code> grid lines are drawn. The default is
<code>tck = 0.03</code>. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_axiswidth">axisWidth</code></td>
<td>

<p>line width for the axes and box (if any). Default is 2.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_start">start</code></td>
<td>

<p>starting date for the plot. The default is the earliest start time
of all the series. This argument can be supplied in any of the forms
understood by <code>ti()</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_end">end</code></td>
<td>

<p>end date for the plot. The default is the latest end time
of all the series. This argument can be supplied in any of the forms
understood by <code>ti()</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_boxtype">boxType</code></td>
<td>

<p>character representing the type of box. Characters <code>"o"</code>,
<code>"l"</code> (ell), <code>"7"</code>, <code>"c"</code> will produce boxes which
resemble the corresponding upper-case letters. The value <code>"n"</code>
will suppress boxes. The default is <code>"u"</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_leftmargin">leftMargin</code></td>
<td>

<p>lines of space for the left margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_rightmargin">rightMargin</code></td>
<td>

<p>lines of space for the right margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_topmargin">topMargin</code></td>
<td>

<p>lines of space for the top margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_bottommargin">bottomMargin</code></td>
<td>

<p>lines of space for the bottom margin.  Default value (-1) figures this
out automatically.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_nbershade">nberShade</code></td>
<td>

<p>if <code>TRUE</code>, use <code>nberDates()</code> to set the <code>shadeDates</code>.
This will result in shading of NBER recession periods. The default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_shadedates">shadeDates</code></td>
<td>

<p>a matrix of yyyymmdd dates with two columns named 'Start'
and 'End' that specifies the date ranges to be shaded.
<code>nberDates()</code> produces a suitable matrix. If this argument is
<code>NULL</code> and <code>nberShade</code> is not <code>TRUE</code>, no shading is done.</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_shadecolor">shadeColor</code></td>
<td>

<p>color to shade periods specified by <code>shadeDates</code>. Passed along
to the <code>ymdShade</code> function. 
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_shadeborder">shadeBorder</code></td>
<td>

<p>if shading is being done, this argument tells what color the border
of the shaded areas should be drawn in.  It can also be a logical,
in which case <code>TRUE</code> draws borders in the foreground color and
<code>FALSE</code> does not draw borders on the shaded areas. Default is <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="tisPlot_+3A_polyargs">polyArgs</code></td>
<td>

<p>additional args that are passed along to the <code>ymdShade</code>
function and eventually to <code>polygon</code> if shading of date ranges
is being done.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>leftAxis</code>, <code>plotType</code>, <code>lineType</code>, <code>lineWidth</code>,
<code>plotChar</code>, <code>dataCex</code>, <code>color</code> and <code>midPoints</code> are
all cyclically repeated to make them length <code>nSeries</code>, the number
of series plotted.
</p>
<p>Each of the text items <code>head</code>, <code>sub</code>, <code>leftTopLabel</code>,
<code>rightTopLabel</code>, <code>leftInsideLabel</code>, <code>rightInsideLabel</code>,
<code>foot</code>, and <code>xAxisLabel</code> can be given as a string, a
collections of strings, or as a string that gets evaluated to one of
the first two. (But <code>xAxisLabel</code> takes only a single string.)
See the help details for <code><a href="#topic+evalOrEcho">evalOrEcho</a></code> to see how this works.
</p>


<h3>Value</h3>

<p><code>tisPlot</code> invisibly returns a list of class &quot;tisPlot&quot; and
elements named <code>series</code>, <code>dateFormat</code>, <code>plotType</code>,
<code>lineType</code>, <code>dataCex</code>, <code>color</code>, <code>plotChar</code>,
<code>lineWidth</code>, <code>yLegendOffset</code>, <code>cex</code>, <code>xRange</code>,
<code>leftRange</code>, <code>rightRange</code>, <code>midPoints</code> and <code>par</code>.
This list is useful mostly as an argument to <code>tisLegend</code>.
</p>


<h3>Note</h3>

<p>The arguments for <code>tisPlot</code> and its sister function
<code>scatterPlot</code> have more descriptive names than the corresponding
arguments in <code>plot</code>.  They are also all of unique types, unlike,
for example, the <code>lty</code> argument in the usual <span class="rlang"><b>R</b></span> plotting
functions, which can be either character or numeric.  Limiting each
argument to a single type was done to make it easier to design a user
interface to drive the functions.
</p>
<p>Use <code>tisLegend</code> to add legends to a plot created by
<code>tisPlot</code> or <code>scatterPlot</code>. 
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+evalOrEcho">evalOrEcho</a></code>, <code><a href="#topic+scatterPlot">scatterPlot</a></code>,
<code><a href="#topic+tisLegend">tisLegend</a></code>, <code><a href="#topic+nberShade">nberShade</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>firstTis &lt;- tis(cumsum(rnorm(120)), start = c(1996,1), freq = 12)
secondTis &lt;- tis(cumsum(rnorm(120)), start = c(1996,1), freq = 12)
tisPlot(firstTis, secondTis, color = c("red", "green"),
           lineType = "solid", head = "Two Random Walks")
tisLegend(legend = c("Random Walk 1", "Random Walk 2"))

series &lt;- tis(cumsum(rnorm(200)), start = c(1960,1), tif = "quarterly")
tisPlot(series, xMinorTickFreq = "annual", nberShade = TRUE,
        head = "A Random Walk", sub = "Looks like an econ series",
        rightTopLabel = "$Billions")
romerLines()
</code></pre>

<hr>
<h2 id='today'>Time Index for the Current Date </h2><span id='topic+today'></span>

<h3>Description</h3>

<p>Returns a <code>ti</code> for the current date.</p>


<h3>Usage</h3>

<pre><code class='language-R'>today(tif = "daily")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="today_+3A_tif">tif</code></td>
<td>

<p>a ti Frequency, given as either a numerical code or a string.
<code>tif()</code> with no arguments returns a list of the allowable
numerical codes and names. The default &quot;daily&quot; returns a <code>ti</code>
object for the current day.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ti</code> object of the specified ti frequency that contains the
current date in the time interval it represents. For example, if
<code>tif</code> is <code>"monthly"</code>, the returned <code>ti</code> object will
be for the current month.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ti">ti</a></code>, <code><a href="base.html#topic+Sys.Date">Sys.Date</a></code></p>

<hr>
<h2 id='updateColumns'> Update lists and time series </h2><span id='topic+updateColumns'></span><span id='topic+updateList'></span>

<h3>Description</h3>

<p><code>updateList</code> compares the names of <code>oldlist</code> and
<code>newlist</code>, deletes the matching elements from a copy of
<code>oldlist</code>, then returns the result of concatenating that list
with <code>newlist</code>.
</p>
<p><code>updateColumns</code> updates columns of first series from same-named
columns of second series using <code>mergeSeries()</code>.  If second series
has columns with names not found in colnames of first series, those
columns are <code>cbind()</code> 'ed onto first series. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateColumns(oldmat, newmat)
updateList(oldlist, newlist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateColumns_+3A_oldmat">oldmat</code></td>
<td>
<p>a multivariate <code>tis</code> series</p>
</td></tr>
<tr><td><code id="updateColumns_+3A_newmat">newmat</code></td>
<td>
<p>a multivariate <code>tis</code> series </p>
</td></tr>
<tr><td><code id="updateColumns_+3A_oldlist">oldlist</code></td>
<td>
<p>a list</p>
</td></tr>
<tr><td><code id="updateColumns_+3A_newlist">newlist</code></td>
<td>
<p>a list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>updateList</code> returns the updated list.
</p>
<p><code>updateColumns</code> returns a multivariate <code>tis</code> series
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+tis">tis</a></code>,
<code><a href="#topic+mergeSeries">mergeSeries</a></code>,
<code><a href="#topic+cbind.tis">cbind.tis</a></code></p>

<hr>
<h2 id='window.tis'>
Time windows for Time Indexed Series
</h2><span id='topic+window.tis'></span>

<h3>Description</h3>

<p><code>window.tis</code> extracts the subset of the object <code>x</code> observed
between the times <code>start</code> and <code>end</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tis'
window(x, start = NULL, end = NULL, extend = FALSE, noWarn = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="window.tis_+3A_x">x</code></td>
<td>

<p>a <code>tis</code> object
</p>
</td></tr>
<tr><td><code id="window.tis_+3A_start">start</code></td>
<td>

<p>the start time of the period of interest.
</p>
</td></tr>
<tr><td><code id="window.tis_+3A_end">end</code></td>
<td>

<p>the end time of the period of interest.
</p>
</td></tr>
<tr><td><code id="window.tis_+3A_extend">extend</code></td>
<td>

<p>logical.  If <code>TRUE</code>, the <code>start</code> and <code>end</code> values are
allowed to extend the series. If <code>FALSE</code>, attempts to extend the
series are ignored and a warning is issued unless <code>noWarn</code> is <code>FALSE</code>. 
</p>
</td></tr>
<tr><td><code id="window.tis_+3A_nowarn">noWarn</code></td>
<td>

<p>logical.  If <code>FALSE</code> (the default), warnings are generated if
<code>extend</code> is <code>FALSE</code> and either (i) <code>start</code> is
earlier than the start of the series or (ii) <code>end</code> is later
than the end of the series.
</p>
</td></tr>
<tr><td><code id="window.tis_+3A_...">...</code></td>
<td>

<p>other arguments to this function are ignored.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The start and end times can be <code>ti</code> objects, or anything that
<code>ti(z, tif = tif, freq = frequency)</code>, can turn into a <code>ti</code> object.
</p>


<h3>Value</h3>

<p>A <code>tis</code> object that starts and ends at the given times.
</p>


<h3>Note</h3>

<p>The replacement method <code>window&lt;-.tis</code> has not been implemented.
Use the subscript operator with a <code>ti</code> argument to replace values
of a <code>tis</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- tis(1:24, start = c(2001,1), freq = 12)
z2 &lt;- window(z, start = 19991231, extend = TRUE) ## z2 extends back with NA's
window(z, end = end(z) - 3)
</code></pre>

<hr>
<h2 id='ymd'> Extract parts of various Date-Time Objects</h2><span id='topic+ymd'></span><span id='topic+ymd.jul'></span><span id='topic+ymd.ssDate'></span><span id='topic+ymd.ti'></span><span id='topic+ymd.default'></span><span id='topic+year'></span><span id='topic+quarter'></span><span id='topic+month'></span><span id='topic+day'></span>

<h3>Description</h3>

<p>Extract the year, month or day, or all three (in yyyymmdd
form), or the quarter, from a jul, ti, or from any object that
<code>jul()</code> can handle.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ymd(x, ...)
## S3 method for class 'jul'
ymd(x, ...)
## S3 method for class 'ssDate'
ymd(x, ...)
## S3 method for class 'ti'
ymd(x, offset = 1, ...)
## Default S3 method:
ymd(x, ...)
year(x, ...)
quarter(x, ...)
month(x, ...)
day(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ymd_+3A_x">x</code></td>
<td>

<p>a <code>ti</code> or <code>jul</code>, or something that <code>jul()</code> can create
a <code>jul</code> object from. 
</p>
</td></tr>
<tr><td><code id="ymd_+3A_...">...</code></td>
<td>

<p>other args to be passed to the method called by the generic
function. <code>year</code>, <code>quarter</code>, <code>month</code>, <code>day</code> and
<code>ymd.default</code> may pass these args to <code>as.Date</code>. 
</p>
</td></tr>
<tr><td><code id="ymd_+3A_offset">offset</code></td>
<td>

<p>for <code>ti</code> <code>x</code>, a number in the range [0,1] telling where in the
period represented by <code>x</code> to find the day.  0 returns the first
day of the period, while the default value 1 returns the last day of
the period.  For example, if <code>x</code> has <code>tif</code> = &quot;wmonday&quot; so
that <code>x</code> represents a week ending on Monday, than any
<code>offset</code> in the range [0, 1/7] will return the Tuesday of that
week, while <code>offset</code> in the range (1/7, 2/7] will return the
Wednesday of that week, <code>offset</code> in the range (6/7, 1] will
return the Monday that ends the week, and so on.  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>year</code>, <code>quarter</code>, <code>month</code> and <code>day</code> call
<code>ymd</code>, and thus understand the same arguments as it does. The
default implementation <code>ymd.default</code> passes it's arguments to a
call to the function <code>jul</code>, so all of these functions work the
same way that function does. 
</p>


<h3>Value</h3>

<p><code>ymd</code> and it's variants return numeric objects in yyyymmdd form.
</p>
<p><code>year</code>, <code>quarter</code>, <code>month</code> and <code>day</code> return
numeric objects.
</p>
<p><code>ymd()</code> with no arguments returns today's yyyymmdd.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+jul">jul</a></code>, <code><a href="#topic+ti">ti</a></code>, <code><a href="base.html#topic+as.Date">as.Date</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>ymd()                            ## today's date and time
weekFromNow &lt;- ymd(today() + 7)  ## today() returns a daily ti
year(jul(today()))
month(Sys.time())
## create a monthly tis (Time Indexed Series)
aTis &lt;- tis(0, start = c(2000, 1), end = c(2004, 12), freq = 12)
ymd(ti(aTis))                    ## the yyyymmdd dates of the observations
</code></pre>

<hr>
<h2 id='ymdShade'>Shading Date Ranges</h2><span id='topic+ymdShade'></span><span id='topic+ymdXy'></span>

<h3>Description</h3>

<p><code>ymdXy</code> returns a list of x and y coordinates that can be fed
to <code><a href="graphics.html#topic+polygon">polygon</a></code> to draw NBER shadings on the current plot.
If the last row of the <code>ymds</code> argument has a Start entry but an &quot;NA&quot;
End entry and <code>openShade</code> is <code>FALSE</code>, the returned list will
not have coordinates for the last row, but will instead include a
vLine element that gives the x coordinate of the last Start. If
<code>openShade</code> is <code>TRUE</code> (the default), the list includes x
and y coordinates for the last row of <code>ymds</code>, using the second
element of the horizontal range determined by the <code>xrange</code>
parameter as its end time.
</p>
<p><code>ymdShade</code> shades date ranges on the current tisPlot. 
on the current plot.  It calls <code>ymdXy</code> to get x and y
coordinates for the areas to be shaded and then passes those
coordinates along with its own arguments to <code><a href="graphics.html#topic+polygon">polygon</a></code> to
do the shading.  It also draws a vertical line at the appropriate
location if the list returned by <code>ymdXy</code> has a vLine element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ymdShade(ymds, col = grey(0.8), border = FALSE, xpd = FALSE,
          xrange = NULL, openShade = TRUE, ...)
ymdXy(ymds, xrange = NULL, openShade = TRUE)
</code></pre>


<h3>Arguments</h3>

<p>All but <code>ymds</code> are passed along to <code>polygon</code>:
</p>
<table>
<tr><td><code id="ymdShade_+3A_ymds">ymds</code></td>
<td>
<p>a matrix of yyyymmdd dates with two columns named 'Start'
and 'End' that specifies the date ranges to be shaded.
<code>nberDates()</code> produces a suitable matrix.</p>
</td></tr>
<tr><td><code id="ymdShade_+3A_col">col</code></td>
<td>
<p>color to shade recessionary periods </p>
</td></tr>
<tr><td><code id="ymdShade_+3A_border">border</code></td>
<td>
<p>the default (<code>FALSE</code>) omits borders on the shaded
regions. <code>TRUE</code> draws borders in the foreground color.
Alternatively, specify a border color.</p>
</td></tr>
<tr><td><code id="ymdShade_+3A_xpd">xpd</code></td>
<td>
<p>should clipping take place? </p>
</td></tr>
<tr><td><code id="ymdShade_+3A_...">...</code></td>
<td>
<p>other args passed to <code><a href="graphics.html#topic+polygon">polygon</a></code></p>
</td></tr>
<tr><td><code id="ymdShade_+3A_xrange">xrange</code></td>
<td>
<p>horizontal range over which recession shading should be
drawn.  The default value <code>NULL</code> uses the entire range of the
plot. Note however the <code>tisPlot</code> uses the range of the data,
which will generally differ the plot range unless the <code>tisPlot</code>
parameters <code>leftExpandBy</code> and <code>rightExpandBy</code> are zero.
You can force <code>tisPlot</code> to use the plot range by setting the
parameter <code>nberArgs = list(xrange = NULL)</code>.
</p>
</td></tr>
<tr><td><code id="ymdShade_+3A_openshade">openShade</code></td>
<td>
<p>governs how <code>ymdXy</code> and consequently
<code>ymdShade</code> handle the case where the last row of the <code>ymds</code>
matrix has an <code>NA</code> in the &quot;End&quot; column, indicating that the end
date of the most recent shaded period is not known.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>As described above, <code>ymdXy</code> returns a list.  <code>ymdShade</code>
does not return anything useful.
</p>


<h3>See Also</h3>

 <p><code><a href="graphics.html#topic+polygon">polygon</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>    require("datasets")
    plot(presidents, type='n', ylab="Presidents approval rating")
    ymdShade(nberDates())
    lines(presidents)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package geotopbricks</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {geotopbricks}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#argsParser'><p>Parser of an argument string</p></a></li>
<li><a href='#bondone'>
<p>Bondone Dataset</p></a></li>
<li><a href='#brick'><p>brick</p></a></li>
<li><a href='#brick.decimal.formatter'><p>Imports a brick of raster ascii maps into a 'brick' object</p></a></li>
<li><a href='#brickFromOutputSoil3DTensor'><p>brickFromOutputSoil3DTensor</p></a></li>
<li><a href='#create.geotop.inpts.keyword'><p>Creates an 'geotop.inpts'  files the keyword and their values of a date.frame like the one returned by <code>declared.geotop.inpts.keywords</code></p></a></li>
<li><a href='#create.geotop.meteo.files'><p>Creates geotop meteo files from (a list of) 'zoo' objects</p></a></li>
<li><a href='#declared.geotop.inpts.keywords'><p>Collects all keywords contained in the 'getop.inpts' configuration files and their values in a data frame object.</p></a></li>
<li><a href='#geotopbrick'><p>geotopbrick</p></a></li>
<li><a href='#GeotopRasterBrick-class'><p>GeotopRasterBrick-class</p></a></li>
<li><a href='#get.geotop.inpts.keyword.value'><p>Importing a GEOtop Keyword and its Value into R</p></a></li>
<li><a href='#get.geotop.points'><p>Get a <code>sf</code> object for Meteorological Stations or Control Points in a GEOtop simulation</p></a></li>
<li><a href='#get.geotop.recovery.state'><p>This function saves all spatially distrubuted information contained in the recovery folder into a comprehensive <code>list</code> object.</p></a></li>
<li><a href='#getProjection'><p>It reads the CRS metadata utilzed in a GEOtop Simulation</p></a></li>
<li><a href='#getvalues.brick.at.depth'><p>Interpolates the values of a 'brick' at a certain depth  and returns the map of brick values at the &quot;depth&quot; level</p></a></li>
<li><a href='#KML'><p>KML</p></a></li>
<li><a href='#max_value'><p>max_value</p></a></li>
<li><a href='#min_value'><p>min_value</p></a></li>
<li><a href='#Ops'><p>Ops</p></a></li>
<li><a href='#plot'><p>plot</p></a></li>
<li><a href='#pointer.to.maps.xyz.time'><p>pointer.to.maps.xyz.time</p></a></li>
<li><a href='#read.ascii.vectorized.brick'><p>Read a text file containing  values and matedata of a z-layer brick referred to a time instant (e.g. date). The file is formatted like an ascii format like <code>'geotop.inpts'</code> file.</p></a></li>
<li><a href='#read.raster.from.url'><p>It imports a 'RasterLayer' object in Escri-Asci format from a URL 'http(s)://....&lt;FILENAME&gt;.asc</p></a></li>
<li><a href='#read.vectorized.geotop.recovery'><p>Reads a text file like the one generated by  <code>write.vectorized.geotop.recovery</code></p></a></li>
<li><a href='#replace.keyword'><p>It replaces some keyword values of <code>geotop.inpts</code> file with the ones of anoter <code>*.inpts</code>  value</p></a></li>
<li><a href='#set.geotop.recovery.state'><p>This function re-writes the recovery ascii raster maps in a given folder</p></a></li>
<li><a href='#vertical.aggregate.brick.within.depth'><p>Aggregates with a mean or an addition on the vertical profile the values of a 'brick' within a certain depth  and returns the vertical aggregated map</p></a></li>
<li><a href='#write.ascii.vectorized.brick'><p>Writes a z-layer brick referred to a time instant (e.g. date) in an ascii format like <code>'geotop.inpts'</code> file.</p></a></li>
<li><a href='#write.geotop.table'><p>Writes an R object (<code>data.frame</code> or <code>zoo</code>) into a CSV file readible by GEOtop.</p></a></li>
<li><a href='#write.vectorized.geotop.recovery'><p>It writes a <code>list</code> object returened by <code>get.geotop.recovery.state</code> as a string vector or in a text file, following <code>*.inpts</code> or Matlab-like syntax.</p></a></li>
<li><a href='#write.vectorized.variable.in.string'><p>Writes one or more variables (scalars, vectors or Rasters) in a string each, following <code>*.inpts</code> or Matlab-like syntax.</p></a></li>
<li><a href='#writeRasterxGEOtop'><p>This function uses  <code>writeRaster</code> to create .asc maps which can be read by GEOtop</p></a></li>
<li><a href='#zoo-class'><p>A GeotopRasterBrick: an object to manage raster maps provied by GEOtop!!</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Maintainer:</td>
<td>Emanuele Cordano &lt;emanuele.cordano@gmail.com&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Title:</td>
<td>An R Plug-in for the Distributed Hydrological Model GEOtop</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Author:</td>
<td>Emanuele Cordano</td>
</tr>
<tr>
<td>Description:</td>
<td>It analyzes raster maps and other information as input/output
    files from the Hydrological Distributed Model GEOtop. It contains functions
    and methods to import maps and other keywords from geotop.inpts file. Some
    examples with simulation cases of GEOtop 2.x/3.x are presented in the package.
    Any information about the GEOtop Distributed Hydrological Model source code
    is available on www.geotop.org. Technical details about the model are
    available in Endrizzi et al (2014) <a href="https://gmd.copernicus.org/articles/7/2831/2014/gmd-7-2831-2014.html">https://gmd.copernicus.org/articles/7/2831/2014/gmd-7-2831-2014.html</a>.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.8.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-04</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10),methods,raster,stringr,zoo,sf</td>
</tr>
<tr>
<td>Imports:</td>
<td>terra</td>
</tr>
<tr>
<td>Suggests:</td>
<td>soilwater</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://zenodo.org/record/8228413">https://zenodo.org/record/8228413</a>, www.geotop.org,
<a href="https://www.rendena100.eu/en/geotop-hydrological-model.html">https://www.rendena100.eu/en/geotop-hydrological-model.html</a>,
<a href="https://github.com/ecor/geotopbricks">https://github.com/ecor/geotopbricks</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-04 15:25:34 UTC; ecor</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-04 20:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='argsParser'>Parser of an argument string</h2><span id='topic+argsParser'></span>

<h3>Description</h3>

<p>This command parses ...DESCRITION TO DO !!!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>argsParser(option, args, sep = " ", novalue_response = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="argsParser_+3A_option">option</code></td>
<td>
<p>character strings containg options (or flag) whose values</p>
</td></tr>
<tr><td><code id="argsParser_+3A_args">args</code></td>
<td>
<p>String containing all the arguments of an R script</p>
</td></tr>
<tr><td><code id="argsParser_+3A_sep">sep</code></td>
<td>
<p>separator character. Default is <code>" "</code>. If it is of length 2, the first is seperator among different options, the second is betwwen option name and its value.</p>
</td></tr>
<tr><td><code id="argsParser_+3A_novalue_response">novalue_response</code></td>
<td>
<p>value used in case the option is missing. Default is <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
args &lt;- "--value  6  --fruit apple"

option &lt;- "--fruit"

value &lt;- argsParser(option=option,args=args)

option2 &lt;- "--jobs"

value2 &lt;- argsParser(option=option2,args=args)
value22 &lt;- argsParser(option=option2,args=args,novalue_response="./")
 args_b &lt;- "value=6 , fruit=apple"
option3 &lt;- "value"
value &lt;- argsParser(option=option3,args=args_b,sep=c(",","="))

</code></pre>

<hr>
<h2 id='bondone'>
Bondone Dataset 
</h2><span id='topic+meteo'></span><span id='topic+bondone'></span>

<h3>Description</h3>

<p>It contains hourly meteorological data observed at MeteoTrentino <code>T0327</code> station located at Monte Bondone-Viotte (Trentino, Easter Alps, Italy) from August 2004 to December 2012.\
</p>
<p>The <code><a href="zoo.html#topic+zoo">zoo</a></code> object 'meteo' contains: 
</p>

<dl>
<dt><code>Iprec</code></dt><dd><p>Hourly Precipitation Depth expressed in millimeters</p>
</dd>
</dl>
<p><br />
</p>
<dl>
<dt><code>AirT</code></dt><dd><p>Air Temperature expressed in Celsius Degree</p>
</dd>
</dl>
<p><br />
</p>
<dl>
<dt><code>RH</code></dt><dd><p>Relative Humidity in PerCent</p>
</dd>
</dl>
<p><br />
</p>
<dl>
<dt><code>WinDir</code></dt><dd><p>Wind Direction expressed in Degrees North Clockwise</p>
</dd>
</dl>
<p><br />
</p>
<dl>
<dt><code>WinSp</code></dt><dd><p>Wind Direction expressed in meters per second</p>
</dd>
</dl>
<p><br />
</p>
<dl>
<dt><code>Swglob</code></dt><dd><p>Short-Wave Radiation expressed in Watts per square meters</p>
</dd>
</dl>

<p>The corresponding time axis vector for each observation  can be printed by typing <code>index(meteo)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(bondone)
</code></pre>


<h3>Format</h3>

<p>Data frame , 'zoo' object
</p>


<h3>Details</h3>

<p>This data set stores all meteorological information useful for a GEOtop simulation. 
The user can easily use the package with his/her own data after replacing the values of such variables.
</p>


<h3>Source</h3>

<p>Original data are provided by Provincia Autonoma di Trento (<a href="https://www.meteotrentino.it/">https://www.meteotrentino.it/</a>)).
</p>
<p>This dataset is intended for research purposes only, being distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY.
</p>

<hr>
<h2 id='brick'>brick</h2><span id='topic+brick'></span><span id='topic+brick+2Czoo-method'></span><span id='topic+brick+2CGeotopRasterBrick-method'></span>

<h3>Description</h3>

<p>Added implemetation for 'brick' S4 method
</p>
<p>@title brick
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'zoo'
brick(
  x,
  layer = 1,
  timerange = NULL,
  time = NULL,
  rows = 1:nrow(x),
  crs = NULL,
  use.read.raster.from.url = TRUE
)

## S4 method for signature 'GeotopRasterBrick'
brick(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="brick_+3A_x">x</code></td>
<td>
<p>a 'zoo' object returned by function <code><a href="#topic+pointer.to.maps.xyz.time">pointer.to.maps.xyz.time</a></code> or <code><a href="#topic+pointer.to.maps.xy.time">pointer.to.maps.xy.time</a></code> 
or a <code><a href="#topic+GeotopRasterBrick-class">GeotopRasterBrick-class</a></code> object</p>
</td></tr>
<tr><td><code id="brick_+3A_layer">layer</code></td>
<td>
<p>layer at which raster maps are imported. If is <code>NULL</code>, maps ara no-zlayer distributed and <code>zoo</code> must be returend by <code><a href="#topic+pointer.to.maps.xy.time">pointer.to.maps.xy.time</a></code></p>
</td></tr>
<tr><td><code id="brick_+3A_timerange">timerange</code></td>
<td>
<p>two-elememts vector containing the time range at which geotop maps are imported</p>
</td></tr>
<tr><td><code id="brick_+3A_time">time</code></td>
<td>
<p>vector of time instants at which geotop maps are imported</p>
</td></tr>
<tr><td><code id="brick_+3A_rows">rows</code></td>
<td>
<p>rows of <code>zoo</code> correspondig to the geotop maps that are imported. By default all rows of <code>zoo</code> are considered. It is calculated by <code>time</code> or <code>timerange</code> if they are not set as <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="brick_+3A_crs">crs</code></td>
<td>
<p>coordinate system see <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code></p>
</td></tr>
<tr><td><code id="brick_+3A_use.read.raster.from.url">use.read.raster.from.url</code></td>
<td>
<p>logical value. Default is <code>TRUE</code>. If <code>TRUE</code> the RasterLayer are read with <code><a href="#topic+read.raster.from.url">read.raster.from.url</a></code>, istead of <code><a href="raster.html#topic+raster">raster</a></code> (otherwise). It is recomended in case the files whose paths are contained in <code>x</code> are remote and are 'http' addresses. In this cases the stand-alone method <code>raster(x)</code> does not always work and <code>use.read.raster.from.url</code> is necessary.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a  <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> containing the geopop maps indicated by <code>x</code>, which is already in a <code><a href="#topic+GeotopRasterBrick-class">GeotopRasterBrick-class</a></code> object or a 'zoo' object returned by function <code><a href="#topic+pointer.to.maps.xyz.time">pointer.to.maps.xyz.time</a></code> or <code><a href="#topic+pointer.to.maps.xy.time">pointer.to.maps.xy.time</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getvalues.brick.at.depth">getvalues.brick.at.depth</a></code>,<code><a href="#topic+vertical.aggregate.brick.within.depth">vertical.aggregate.brick.within.depth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># TON TOSS 
# See the examples in the functions listed in the 'SeeAlso' section
</code></pre>

<hr>
<h2 id='brick.decimal.formatter'>Imports a brick of raster ascii maps into a 'brick' object</h2><span id='topic+brick.decimal.formatter'></span>

<h3>Description</h3>

<p>Imports a brick of raster ascii maps into a 'brick' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brick.decimal.formatter(
  file = NULL,
  file_prefix,
  formatter = "%04d",
  file_extension = ".asc",
  nlayers = 10,
  use.read.raster.from.url = FALSE,
  crs = NULL,
  start.from.zero = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="brick.decimal.formatter_+3A_file">file</code></td>
<td>
<p>fileneme of the 'brick' files containing the decimal formatter. It is <code>NULL</code> by default, otherwise it replaces  <code>file_suffix</code>, <code>formatter</code> and <code>file_extension</code>.</p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_file_prefix">file_prefix</code></td>
<td>
<p>character string suffix name of  the 'brick' files.</p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_formatter">formatter</code></td>
<td>
<p>string value.  Default is <code>"%04d"</code> .</p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_file_extension">file_extension</code></td>
<td>
<p>strinf value. Default is <code>".asc"</code></p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_nlayers">nlayers</code></td>
<td>
<p>number of layers</p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_use.read.raster.from.url">use.read.raster.from.url</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. (this is recommended in this function). If <code>TRUE</code> the RasterLayer are read with <code><a href="#topic+read.raster.from.url">read.raster.from.url</a></code>, istead of <code><a href="raster.html#topic+raster">raster</a></code> (otherwise). It is recomended in case the files whose paths are contained in <code>x</code> are remote and are 'http' addresses. In this cases the stand-alone method <code>raster(x)</code> does not always work and <code>use.read.raster.from.url</code> is necessary.</p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_crs">crs</code></td>
<td>
<p>coordinate system see <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code>,<code><a href="#topic+brick">brick</a></code>, Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="brick.decimal.formatter_+3A_start.from.zero">start.from.zero</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> the formatter starts from <code>0000</code>, otherwise it starts from <code>0001</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the output is returned as a <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(geotopbricks)
library(raster)
file &lt;- system.file("example_files/examples/snowthickness",package="geotopbricks")
file &lt;- paste(file,"SnowThickness0000L%04d.asc",sep="/")
# nlayers=15
nlayers &lt;- 6 ## Only 6 layers are read to minimize the elapsed time of the example!!
b &lt;- brick.decimal.formatter(file=file,nlayers=nlayers)
nlayers(b)
names(b)
</code></pre>

<hr>
<h2 id='brickFromOutputSoil3DTensor'>brickFromOutputSoil3DTensor</h2><span id='topic+brickFromOutputSoil3DTensor'></span><span id='topic+rasterFromOutput2DMap'></span>

<h3>Description</h3>

<p>Extracts a brick or a raster layer from a output 3D Tensor or 2D map respectively
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brickFromOutputSoil3DTensor(
  x,
  when,
  layers = "SoilLayerThicknesses",
  one.layer = FALSE,
  suffix = "L%04dN%04d.asc",
  time_formatter = "N%04d",
  suffix_one.layer = "N%04d.asc",
  wpath = NULL,
  tz = "A",
  start_date_key = "InitDateDDMMYYYYhhmm",
  end_date_key = "EndDateDDMMYYYYhhmm",
  timestep = "OutputSoilMaps",
  use.read.raster.from.url = FALSE,
  crs = NULL,
  projfile = "geotop.proj",
  start.from.zero = FALSE,
  secondary.suffix = NULL,
  only.map.filename = FALSE,
  add_suffix_dir = NULL,
  ...
)

rasterFromOutput2DMap(x, when, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_x">x</code></td>
<td>
<p>string. GEOtop keyword reletated to the 3D or 2D variable to be imported in R.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_when">when</code></td>
<td>
<p><code><a href="methods.html#topic+POSIXct-class">POSIXct-class</a></code> for date and time on which the variable <code>x</code> is requested.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_layers">layers</code></td>
<td>
<p>number of soil layer or geotop keyword for soil layer (e.g. <code>SoilLayerThicknesses</code> or <code>SoilFile</code>). Default is  <code>SoilLayerThicknesses</code>.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_one.layer">one.layer</code></td>
<td>
<p>logical value. If <code>TRUE</code> a <code><a href="raster.html#topic+RasterLayer-class">RasterLayer-class</a></code> object is imported, otherwise a <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code>object is returened. Default for <code>brickFromOutputSoil3DTensor</code> is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_suffix">suffix</code></td>
<td>
<p>charachter string containing the decimal formatter used by GEOtop in the output file names. Default is <code>"L%04dN%04.asc"</code>. A simple user is recommended not to modify the value of this argument and use the default value.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_time_formatter">time_formatter</code>, <code id="brickFromOutputSoil3DTensor_+3A_suffix_one.layer">suffix_one.layer</code></td>
<td>
<p>charachter string  (<code>suffix_one.layer</code> is used for 2Dxy map) containing the decimal formatter used by GEOtop in the output file names to indicate time instant. Default is <code>"N%04.asc"</code>. A simple user is recommended not to modify the value of this argument and use the default value.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_wpath">wpath</code>, <code id="brickFromOutputSoil3DTensor_+3A_tz">tz</code>, <code id="brickFromOutputSoil3DTensor_+3A_use.read.raster.from.url">use.read.raster.from.url</code></td>
<td>
<p>see <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code></p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_start_date_key">start_date_key</code>, <code id="brickFromOutputSoil3DTensor_+3A_end_date_key">end_date_key</code></td>
<td>
<p>initial and final detes and times of the GEOtop simulation or alternatively the respective keywords of <code>*.inpts</code> file (Default)</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_timestep">timestep</code></td>
<td>
<p>time step expressed in seconds every which the raster file has been created. It can be a string corresponding to the geotop keyword in the inpts file. Default value is <code>"OutputSoilMaps"</code>.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_crs">crs</code>, <code id="brickFromOutputSoil3DTensor_+3A_start.from.zero">start.from.zero</code></td>
<td>
<p>see <code><a href="#topic+brick.decimal.formatter">brick.decimal.formatter</a></code>. If <code>crs</code> is not <code>NULL</code> (Default) , <code>projfile</code> is ignored.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_projfile">projfile</code></td>
<td>
<p>name of the <code>*.proj</code> file containing CRS information. See <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code>. Default is <code>"geotop.proj"</code>. If is <code>NULL</code> or <code>NA</code> or this file does not exist, it is not searched and read.. In case <code>use.read.raster.from.url</code> is <code>TRUE</code> and no <code>NULL</code> or <code>NA</code> values are assinged, the <code>*.proj</code> file is searched.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_secondary.suffix">secondary.suffix</code></td>
<td>
<p>String secondary suffix which can be added at the end of the Map file name (optional). Default is <code>NULL</code> and no secondary suffix is added.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_only.map.filename">only.map.filename</code></td>
<td>
<p>logical value. If it is <code>TRUE</code>, only map file names are returned and maps are not imported. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="brickFromOutputSoil3DTensor_+3A_add_suffix_dir">add_suffix_dir</code>, <code id="brickFromOutputSoil3DTensor_+3A_...">...</code></td>
<td>
<p>additional arguments for <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code> or <code><a href="#topic+brickFromOutputSoil3DTensor">brickFromOutputSoil3DTensor</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions <code>brickFromOutputSoil3DTensor</code> and <code>rasterFromOutput2DMap</code> return 3D or 2D <code><a href="raster.html#topic+Raster-class">Raster-class</a></code> objects respectively. <code>rasterFromOutput2DMap</code> is a wrapper function of <code>brickFromOutputSoil3DTensor</code> with the option <code>one.layer==TRUE</code>.
The functionswork with the following output keywords: 
</p>
<p><code>"SoilTempTensorFile"</code>,
</p>
<p><code>"SoilAveragedTempTensorFile"</code>,
</p>
<p><code>"SoilLiqContentTensorFile"</code>,
</p>
<p><code>"SoilAveragedLiqContentTensorFile"</code>,
</p>
<p><code>"SoilIceContentTensorFile"</code>,
</p>
<p><code>"SoilAveragedIceContentTensorFile"</code>,
</p>
<p><code>"SoilLiqWaterPressTensorFile"</code>,
</p>
<p><code>"SoilTotWaterPressTensorFile"</code>     for <code><a href="#topic+brickFromOutputSoil3DTensor">brickFromOutputSoil3DTensor</a></code>;
</p>
<p><code>"FirstSoilLayerTempMapFile"</code>, 
</p>
<p><code>"FirstSoilLayerAveragedTempMapFile"</code>,
</p>
<p><code>"FirstSoilLayerLiqContentMapFile"</code>,
</p>
<p><code>"FirstSoilLayerIceContentMapFile"</code>, 
</p>
<p><code>"LandSurfaceWaterDepthMapFile"</code>, 
</p>
<p><code>"ChannelSurfaceWaterDepthMapFile"</code>,
</p>
<p><code>"NetRadiationMapFile"</code>, 
</p>
<p><code>"InLongwaveRadiationMapFile"</code>, 
</p>
<p><code>"NetLongwaveRadiationMapFile"</code>,
</p>
<p><code>"NetShortwaveRadiationMapFile"</code>,
</p>
<p><code>"InShortwaveRadiationMapFile"</code>, 
</p>
<p><code>"DirectInShortwaveRadiationMapFile"</code>,
</p>
<p><code>"ShadowFractionTimeMapFile"</code>,
</p>
<p><code>"SurfaceHeatFluxMapFile"</code>,  
</p>
<p><code>"SurfaceSensibleHeatFluxMapFile"</code>,
</p>
<p><code>"SurfaceLatentHeatFluxMapFile"</code>, 
</p>
<p><code>"SurfaceTempMapFile"</code>,    
</p>
<p><code>"PrecipitationMapFile"</code>,  
</p>
<p><code>"CanopyInterceptedWaterMapFile"</code>,
</p>
<p><code>"SnowDepthMapFile"</code>,   
</p>
<p><code>"GlacierDepthMapFile"</code>, 
</p>
<p><code>"SnowMeltedMapFile"</code>, 
</p>
<p><code>"SnowSublMapFile"</code>, 
</p>
<p><code>"GlacierMeltedMapFile"</code>, 
</p>
<p><code>"GlacierSublimatedMapFile"</code>,  
</p>
<p><code>"AirTempMapFile"</code>,        
</p>
<p><code>"WindSpeedMapFile"</code>, 
</p>
<p><code>"WindDirMapFile"</code>, 
</p>
<p><code>"RelHumMapFiladd_suffix_dir=NULLe"</code>, 
</p>
<p><code>"SWEMapFile"</code>,    
</p>
<p><code>"GlacierWaterEqMapFile"</code>  
</p>
<p><code>"SnowDurationMapFile"</code>,
</p>
<p><code>"ThawedSoilDepthMapFile"</code>,
</p>
<p><code>"ThawedSoilDepthFromAboveMapFile"</code>, 
</p>
<p><code>"WaterTableDepthMapFile"</code>, 
</p>
<p><code>"WaterTableDepthFromAboveMapFile"</code>,  
</p>
<p><code>"NetPrecipitationMapFile"</code>,
</p>
<p><code>"EvapotranspirationFromSoilMapFile"</code> for <code><a href="#topic+rasterFromOutput2DMap">rasterFromOutput2DMap</a></code>.
</p>


<h3>Author(s)</h3>

<p>Emanuele Cordano
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code>,<code><a href="#topic+brick.decimal.formatter">brick.decimal.formatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)
## Not run: 
# The data containing in the link are only for educational use
wpath &lt;- 'https://raw.githubusercontent.com/ecor/geotopbricks_doc/master/simulations/idroclim_test1'
## URL path (RAW VERSION) of 
## https://github.com/ecor/geotopbricks_doc/tree/master/simulations/idroclim_test1
x &lt;- "SoilLiqContentTensorFile"
tz &lt;-  "Etc/GMT-1"
when &lt;- as.POSIXct("2002-03-22",tz=tz)

# Not Run because it elapses too long time!!! 
# Please Uncomment the following lines to run by yourself!!!
 b &lt;- brickFromOutputSoil3DTensor(x,when=when,wpath=wpath,tz=tz,use.read.raster.from.url=TRUE)

# a 2D map: 
x_e &lt;- "SnowDepthMapFile"
# Not Run: uncomment the following line

m &lt;- rasterFromOutput2DMap(x_e,when=when,wpath=wpath,timestep="OutputSnowMaps",
                            tz=tz,use.read.raster.from.url=TRUE)
## NOTE: set use.read.raster.from.url=FALSE (default) 
# if the "wpath" directorty is in the local file system.
# Not Run: uncomment the following line
plot(m)

## End(Not run)
</code></pre>

<hr>
<h2 id='create.geotop.inpts.keyword'>Creates an 'geotop.inpts'  files the keyword and their values of a date.frame like the one returned by <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code></h2><span id='topic+create.geotop.inpts.keyword'></span>

<h3>Description</h3>

<p>Creates an 'geotop.inpts'  files the keyword and their values of a date.frame like the one returned by <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.geotop.inpts.keyword(
  df,
  file = "geotop.inpts.copy",
  wpath = NULL,
  comment.lines = "default",
  header = "default",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create.geotop.inpts.keyword_+3A_df">df</code></td>
<td>
<p>data frame returend by <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code></p>
</td></tr>
<tr><td><code id="create.geotop.inpts.keyword_+3A_file">file</code></td>
<td>
<p>connetion or file name where to write 'df'</p>
</td></tr>
<tr><td><code id="create.geotop.inpts.keyword_+3A_wpath">wpath</code></td>
<td>
<p>complere path to <code>file</code> (optional). Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="create.geotop.inpts.keyword_+3A_comment.lines">comment.lines</code></td>
<td>
<p>string or vector of strings to add as comments for each keyword. If it is <code>NULL</code> the comment lines are omitted.</p>
</td></tr>
<tr><td><code id="create.geotop.inpts.keyword_+3A_header">header</code></td>
<td>
<p>string or vector of strings to add as a header. If it is <code>NULL</code> the header is omitted.</p>
</td></tr>
<tr><td><code id="create.geotop.inpts.keyword_+3A_...">...</code></td>
<td>
<p>further arguments for <code><a href="base.html#topic+writeLines">writeLines</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>In case <code>comment.lines</code> and <code>header</code> are set equal to <code>"default"</code>, 
they are suitably modified within the function code. 
See the example output.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+writeLines">writeLines</a></code>,<code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)
## Not run: 
#Simulation working path
wpath &lt;- 
'https://raw.githubusercontent.com/ecor/geotopbricks_doc/master/simulations/panola13_run2xC_test3'
## URL path (RAW VERSION) of 
## https://github.com/ecor/geotopbricks_doc/tree/master/simulations/panola13_run2xC_test3
df &lt;- declared.geotop.inpts.keywords(wpath=wpath)
create.geotop.inpts.keyword(df=df)

## End(Not run)


</code></pre>

<hr>
<h2 id='create.geotop.meteo.files'>Creates geotop meteo files from (a list of) 'zoo' objects</h2><span id='topic+create.geotop.meteo.files'></span>

<h3>Description</h3>

<p>Creates geotop meteo files from (a list of) 'zoo' objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.geotop.meteo.files(
  x,
  format = "%d/%m/%Y %H:%M",
  file_prefix = "meteo",
  file_extension = ".txt",
  formatter = "%04d",
  na = "-9999",
  col.names = TRUE,
  row.names = FALSE,
  date_field = "Date",
  sep = ",",
  level = NULL,
  quote = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create.geotop.meteo.files_+3A_x">x</code></td>
<td>
<p>'zoo' object or a list of 'zoo' object representing the meteorological station</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_format">format</code></td>
<td>
<p>string format representing the date, see <code><a href="base.html#topic+as.POSIXlt">as.POSIXlt</a></code>. Default is <code>"%d/%m/%Y %H:%M"</code> (which is the same format used in <code>geotop.inpts</code> keyword <code>InitDateDDMMYYYYhhmm</code>)</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_file_prefix">file_prefix</code></td>
<td>
<p>string containing file prefix (full path). It correspos to the value of in <code>geotop.inpts</code> keyword <code>MeteoFile</code>)</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_file_extension">file_extension</code></td>
<td>
<p>string containing the extensions of final files. Default is <code>c(".txt")</code></p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_formatter">formatter</code></td>
<td>
<p>string value. It is the decimal formatter contained in the file name and used in case the tabular data are referred at several points. Default is <code>"%04d"</code> . See <code><a href="base.html#topic+sprintf">sprintf</a></code> .</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_na">na</code></td>
<td>
<p>NA value indicator. Default is <code>"-9999"</code>. See <code><a href="utils.html#topic+write.table">write.table</a></code>.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_col.names">col.names</code></td>
<td>
<p>logical parameter. Default is <code>TRUE</code>. See <code><a href="utils.html#topic+write.table">write.table</a></code>.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_row.names">row.names</code></td>
<td>
<p>logical parameter. Default is <code>FALSE</code>. See <code><a href="utils.html#topic+write.table">write.table</a></code>.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_date_field">date_field</code></td>
<td>
<p>string value. Default is &quot;Date&quot;, otherwise defined by the value of <code>HeaderDateDDMMYYYYhhmmMeteo</code> geotop keyword.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_sep">sep</code></td>
<td>
<p>string value. Default is <code>","</code>. See <code><a href="utils.html#topic+write.table">write.table</a></code>.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_level">level</code></td>
<td>
<p>integer argument. See <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code> for major details. Default is <code>NULL</code> and is ignored.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_quote">quote</code></td>
<td>
<p>logical parameter. Default is <code>TRUE</code>. See <code><a href="utils.html#topic+write.table">write.table</a></code>.</p>
</td></tr>
<tr><td><code id="create.geotop.meteo.files_+3A_...">...</code></td>
<td>
<p>further arguments for <code><a href="utils.html#topic+write.table">write.table</a></code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+write.table">write.table</a></code>,<code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)
data(bondone) ## It contains a "meteo" zoo object.


set.seed(12)

file_prefix &lt;- paste(tempdir(),"meteo",sep="/") 
level=2
out &lt;- create.geotop.meteo.files(x=meteo,file_prefix=file_prefix,level=level) 
## It exports the "meteo" zoo object into a ASCII file for GEOtop
head(readLines(out))
out




</code></pre>

<hr>
<h2 id='declared.geotop.inpts.keywords'>Collects all keywords contained in the 'getop.inpts' configuration files and their values in a data frame object.</h2><span id='topic+declared.geotop.inpts.keywords'></span>

<h3>Description</h3>

<p>Collects all keywords contained in the 'getop.inpts' configuration files and their values in a data frame object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>declared.geotop.inpts.keywords(
  wpath,
  inpts.file = "geotop.inpts",
  comment = "!",
  exceptions = "Date",
  warn = FALSE,
  no.comment = c("!&gt;!", "!&gt;&gt;!"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="declared.geotop.inpts.keywords_+3A_wpath">wpath</code></td>
<td>
<p>working directory containing GEOtop files</p>
</td></tr>
<tr><td><code id="declared.geotop.inpts.keywords_+3A_inpts.file">inpts.file</code></td>
<td>
<p>name of the GEOtop configuration file. Default is <code>"geotop.inpts"</code></p>
</td></tr>
<tr><td><code id="declared.geotop.inpts.keywords_+3A_comment">comment</code></td>
<td>
<p>comment indicator charcater. Default is <code>"!"</code></p>
</td></tr>
<tr><td><code id="declared.geotop.inpts.keywords_+3A_exceptions">exceptions</code></td>
<td>
<p>string vector. If keywords contain an element of this vector, the blank spaces in Value <code>" "</code> will not be removed.</p>
</td></tr>
<tr><td><code id="declared.geotop.inpts.keywords_+3A_warn">warn</code></td>
<td>
<p>logical argument of <code><a href="base.html#topic+readLines">readLines</a></code>. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="declared.geotop.inpts.keywords_+3A_no.comment">no.comment</code></td>
<td>
<p>string indicatos read as comment ones by GEOtop but they do not indicate comments by &quot;geotopbricks&quot; package.</p>
</td></tr>
<tr><td><code id="declared.geotop.inpts.keywords_+3A_...">...</code></td>
<td>
<p>further arguments of <code><a href="base.html#topic+readLines">readLines</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with two columns: <code>Keyword</code> and <code>Value</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code>
</p>

<hr>
<h2 id='geotopbrick'>geotopbrick</h2><span id='topic+geotopbrick'></span><span id='topic+geotopbrick.default'></span><span id='topic+geotopbrick.zoo'></span><span id='topic+geotopbrick.RasterLayer'></span><span id='topic+geotopbrick.RasterBrick'></span><span id='topic+geotopbrick.GeotopRasterBrick'></span>

<h3>Description</h3>

<p>geotopbrick method bla bla bla
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geotopbrick(x = NULL, ...)

## Default S3 method:
geotopbrick(x, ...)

## S3 method for class 'zoo'
geotopbrick(x, layer = NULL, time = NULL, crs = NULL, timerange = NULL, ...)

## S3 method for class 'RasterLayer'
geotopbrick(x, layer = NULL, time = NULL, ascpath = zoo(NULL), ...)

## S3 method for class 'RasterBrick'
geotopbrick(x, layer = NULL, time = NULL, ascpath = zoo(NULL), ...)

## S3 method for class 'GeotopRasterBrick'
geotopbrick(
  x,
  layer = NULL,
  time = NULL,
  crs = NULL,
  timerange = NULL,
  ascpath = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geotopbrick_+3A_x">x</code></td>
<td>
<p>a 'zoo' object returned by function <code><a href="#topic+pointer.to.maps.xyz.time">pointer.to.maps.xyz.time</a></code> or <code><a href="#topic+pointer.to.maps.xy.time">pointer.to.maps.xy.time</a></code> or a <code><a href="#topic+GeotopRasterBrick-class">GeotopRasterBrick-class</a></code> object</p>
</td></tr>
<tr><td><code id="geotopbrick_+3A_...">...</code></td>
<td>
<p>further arguments.</p>
</td></tr>
<tr><td><code id="geotopbrick_+3A_layer">layer</code></td>
<td>
<p>layer at which raster maps are imported. If is <code>NULL</code>, maps ara no-zlayer distributed and <code>zoo</code> must be returend by <code><a href="#topic+pointer.to.maps.xy.time">pointer.to.maps.xy.time</a></code></p>
</td></tr>
<tr><td><code id="geotopbrick_+3A_time">time</code></td>
<td>
<p>vector of time instants at which geotop maps are imported</p>
</td></tr>
<tr><td><code id="geotopbrick_+3A_crs">crs</code></td>
<td>
<p>coordinate system see <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code></p>
</td></tr>
<tr><td><code id="geotopbrick_+3A_timerange">timerange</code></td>
<td>
<p>two-elememts vector containing the time range at which geotop maps are imported</p>
</td></tr>
<tr><td><code id="geotopbrick_+3A_ascpath">ascpath</code></td>
<td>
<p><code>NULL</code> object or a <code>"zoo"</code> S3 object containing the names of ascii maps provided by GEOtop</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+GeotopRasterBrick-class">GeotopRasterBrick-class</a></code>
</p>

<hr>
<h2 id='GeotopRasterBrick-class'>GeotopRasterBrick-class</h2><span id='topic+GeotopRasterBrick-class'></span><span id='topic+GeotopRasterBrick'></span>

<h3>Description</h3>

<p>A GeotopRasterBrick: an object to manage raster maps provied by GEOtop!!
</p>


<h3>Details</h3>


<dl>
<dt><code>ascpath</code>:</dt><dd><p>A <code>"zoo"</code> S3 object containing the names of ascii maps provided by GEOtop 
</p>
</dd>
<dt><code>index</code>:</dt><dd><p>A <code>"POSIXt"</code> S3 object containing time or dates on which raster layers of <code>brick</code> are referred
</p>
</dd>
<dt><code>layer</code>:</dt><dd><p>character. Name of the vertical layer at which raster map are referred
</p>
</dd>
<dt><code>brick</code>:</dt><dd><p>A <code>"RasterBrick-class"</code> S4 object containing the  Raster-Layer maps imported from GEOtop output files   
</p>
</dd>   
</dl>
   
<p>#' @note A <code>GeotopRasterBrick</code> object can be created by <code>new("GeotopRasterBrick", ...)</code>
</p>


<h3>Author(s)</h3>

<p>Emanuele Cordano
</p>


<h3>See Also</h3>

<p><code><a href="raster.html#topic+Raster-class">Raster-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("GeotopRasterBrick")


 
</code></pre>

<hr>
<h2 id='get.geotop.inpts.keyword.value'>Importing a GEOtop Keyword and its Value into R</h2><span id='topic+get.geotop.inpts.keyword.value'></span>

<h3>Description</h3>

<p>It returns the values of a keyword of &quot;geotop.inpts&quot; file or data frame with the suitable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.geotop.inpts.keyword.value(
  keyword,
  inpts.frame = NULL,
  vector_sep = NULL,
  col_sep = ",",
  numeric = FALSE,
  format = "%d/%m/%Y %H:%M",
  date = FALSE,
  tz = "Etc/GMT-1",
  raster = FALSE,
  file_extension = ".asc",
  add_wpath = FALSE,
  wpath = NULL,
  use.read.raster.from.url = TRUE,
  data.frame = FALSE,
  formatter = "%04d",
  level = 1,
  date_field = "Date",
  isNA = -9999,
  matlab.syntax = TRUE,
  projfile = "geotop.proj",
  start_date = NULL,
  end_date = NULL,
  ContinuousRecovery = 0,
  ContinuousRecoveryFormatter = "_crec%04d",
  zlayer.formatter = NULL,
  z_unit = c("centimeters", "millimeters"),
  geotop_z_unit = "millimeters",
  add_suffix_dir = NULL,
  MAXNROW = 4,
  header.only = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_keyword">keyword</code></td>
<td>
<p>keyword name</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_inpts.frame">inpts.frame</code></td>
<td>
<p>data frame returned by <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code> or <code>NULL</code>. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_vector_sep">vector_sep</code></td>
<td>
<p>character value for the separator character if Keyword Value must be returned as a vector, otherwise it is <code>NULL</code>. Default is <code>NULL</code>, but if <code>numeric</code> or <code>date</code> are <code>FALSE</code>,  <code>vector_sep</code> is set <code>","</code> by default.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_col_sep">col_sep</code></td>
<td>
<p>character value for the separator character of columuns. It is used if Keyword Value is returned as a data frema or  zoo object or list of these objects. Default is <code>NULL</code>, but is set <code>","</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_numeric">numeric</code></td>
<td>
<p>logical value. If <code>TRUE</code> the Value has numeric type, otherwise it is a string or string vector. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_format">format</code></td>
<td>
<p>string format representing the date, see <code><a href="base.html#topic+as.POSIXlt">as.POSIXlt</a></code>, used if <code>date</code> is <code>TRUE</code>. Default is <code>"%d/%m/%Y %H:%M"</code> (which is the format used in <code>geotop.inpts</code> keyword <code>InitDateDDMMYYYYhhmm</code>)</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_date">date</code></td>
<td>
<p>logical value. If <code>TRUE</code> the Value is retured as <code><a href="base.html#topic+POSIXlt">POSIXlt</a></code> date, otherwise it is a string or string vector. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_tz">tz</code></td>
<td>
<p>format string representing the time zone, see <code><a href="base.html#topic+as.POSIXlt">as.POSIXlt</a></code>, used if <code>date</code> is <code>TRUE</code>. Default is <code>"Etc/GMT-1"</code> (until the previous version it was <code>"A"</code>) which meens UTC +1.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_raster">raster</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> function returns direclty the raster map as <code><a href="raster.html#topic+Raster-class">Raster-class</a></code> object built with <code><a href="raster.html#topic+raster">raster</a></code> method.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_file_extension">file_extension</code></td>
<td>
<p>Extension to be added to the keyword if keyword is a file name. Default is <code>".asc"</code></p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_add_wpath">add_wpath</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code>, the <code>wpath</code> string is attached to the keyword string value. It is automatically set <code>TRUE</code> if <code>raster</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_wpath">wpath</code></td>
<td>
<p>working directory containing GEOtop files (included the inpts file). It is mandatory if <code>raster</code> is <code>TRUE</code>. See <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_use.read.raster.from.url">use.read.raster.from.url</code></td>
<td>
<p>logical value. Default is <code>TRUE</code>. If <code>TRUE</code> the RasterLayer are read with <code><a href="#topic+read.raster.from.url">read.raster.from.url</a></code>, istead of <code><a href="raster.html#topic+raster">raster</a></code> (otherwise). It is recomended in case the files whose paths are contained in <code>x</code> are remote and are 'http' addresses. In this cases the stand-alone method <code>raster(x)</code> does not always work and <code>use.read.raster.from.url</code> is necessary.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_data.frame">data.frame</code></td>
<td>
<p>logical value. It is an option for tabular data. If <code>TRUE</code> function returns direclty a data frame  or a list of  data frames as <code><a href="base.html#topic+data.frame">data.frame</a></code> or <code><a href="zoo.html#topic+zoo">zoo</a></code> objects imported from the keyword-related files  using <code><a href="utils.html#topic+read.table">read.table</a></code> function. In this case the argument <code>wpath</code> (see <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code>) is mandatory. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_formatter">formatter</code></td>
<td>
<p>string value. It is the decimal formatter contained in the file name and used in case the tabular data are referred at several points. Default is <code>"%04d"</code> . It is used in case <code>data.frame</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_level">level</code></td>
<td>
<p>integer values. Numbers incating all the identandification numbers of the files containing the requested data frames. Default is 1, correspondig to the decimal formatter <code>"0001"</code>. See examples.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_date_field">date_field</code></td>
<td>
<p>string value. Default is &quot;Date&quot;, otherwise defined by the value of <code>HeaderDateDDMMYYYYhhmmMeteo</code> geotop keyword. It is used only if the argument <code>data.frame</code> is <code>TRUE</code>. If it is <code>NULL</code> or <code>NA</code> the function return a list of generic <code><a href="base.html#topic+data.frame">data.frame</a></code> object(s), otherwise <code>link{zoo}</code> object(s). See the arguments <code>tz</code> and <code>format</code> for Date formatting.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_isna">isNA</code></td>
<td>
<p>numeric value indicating NA in geotop ascii files. Default is -9999.00</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_matlab.syntax">matlab.syntax</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> a vector is written in a string according to *.m file syntax. Warning: this synstax is not read by GEOtop.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_projfile">projfile</code></td>
<td>
<p>fileneme of the GEOtop projection file. Default is <code>geotop.proj</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_start_date">start_date</code>, <code id="get.geotop.inpts.keyword.value_+3A_end_date">end_date</code></td>
<td>
<p>null objects or dates in <code>POSIXlt</code> format between which the variables are returned. It is enabled in case that <code>date_field</code> is not <code>NULL</code> or <code>NA</code> and <code>data.frame</code> is <code>TRUE</code>. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_continuousrecovery">ContinuousRecovery</code></td>
<td>
<p>integer value. Default is 0. It is used for tabular output data and is the number of times GEOtop simulation broke  during its running and was re-launched with 'Contiuous Recovery' option.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_continuousrecoveryformatter">ContinuousRecoveryFormatter</code></td>
<td>
<p>character string. Default is <code>'_crec%04d'</code>. It is used only for tabular output data and if <code>ContinuousRecovery</code> is equal or greater than 1.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_zlayer.formatter">zlayer.formatter</code></td>
<td>
<p>decimal formatter. It is used if <code>data.frame==TRUE</code> and the columns refers to different soil depths. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_z_unit">z_unit</code></td>
<td>
<p>z coordinate measurement unit. GEOtop values expressed in millimeters which are converted to centimeters by default. Default is <code>c("centimeters","millimeters")</code>. Otherwise can be the ratio between the unit and one meter. It is used if <code>zlayer.formatter=="z%04d"</code> or similar.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_geotop_z_unit">geotop_z_unit</code></td>
<td>
<p>z coordinate measurement unit used by GEOtop. Default is <code>millimeters</code>. It is used if <code>zlayer.formatter=="z%04d"</code> or similar.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_add_suffix_dir">add_suffix_dir</code></td>
<td>
<p>character string. Add a suffix at the directory reported in the keyword value</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_maxnrow">MAXNROW</code></td>
<td>
<p>maximum number accepted for <code>data.frema</code> output. Default is 4. It is used in case of <code>data.frame==TRUE</code>. In case the number of records in the function output is less than <code>MAXNROW</code> , function returns neither <code>data.frame</code> nor <code>zoo</code> objects but only the keyword value.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_header.only">header.only</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If it is <code>TRUE</code> and <code>data.frame==TRUE</code>, only file hedaer  with variable names is returned by the function.</p>
</td></tr>
<tr><td><code id="get.geotop.inpts.keyword.value_+3A_...">...</code></td>
<td>
<p>further arguments of <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>the keyword value
</p>


<h3>Note</h3>

<p>If <code>inpts.frame</code> is <code>NULL</code>, <code>inpts.frame</code> will be obtained by calling the function <code><a href="#topic+declared.geotop.inpts.keywords">declared.geotop.inpts.keywords</a></code> with <code>...</code> arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)

#Simulation working path
 


wpath &lt;- 
'https://raw.githubusercontent.com/ecor/geotopbricks_doc/master/simulations/panola13_run2xC_test3'
## URL path (RAW VERSION) of
## https://github.com/ecor/geotopbricks_doc/tree/master/simulations/panola13_run2xC_test3
prefix &lt;- get.geotop.inpts.keyword.value("SoilLiqWaterPressTensorFile",wpath=wpath)

slope &lt;- get.geotop.inpts.keyword.value("SlopeMapFile",raster=TRUE,wpath=wpath) 
bedrock_depth &lt;- get.geotop.inpts.keyword.value("BedrockDepthMapFile",raster=TRUE,wpath=wpath) 

layers &lt;- get.geotop.inpts.keyword.value("SoilLayerThicknesses",numeric=TRUE,wpath=wpath)
names(layers) &lt;- paste("L",1:length(layers),sep="")

##### set van genuchten parameters to estimate water volume 
theta_sat &lt;- get.geotop.inpts.keyword.value("ThetaSat",numeric=TRUE,wpath=wpath)
theta_res &lt;- get.geotop.inpts.keyword.value("ThetaRes",numeric=TRUE,wpath=wpath)
alphaVG &lt;-  get.geotop.inpts.keyword.value("AlphaVanGenuchten",
numeric=TRUE,wpath=wpath) # expressed in mm^-1

nVG &lt;-  get.geotop.inpts.keyword.value("NVanGenuchten",numeric=TRUE,wpath=wpath) 


##### end set van genuchten parameters to estimate water volume


##### set meteo data


tz &lt;- "Etc/GMT-1"  ## See help(timezones) In particular:
## Most platforms support time zones of the form Etc/GMT+n 
## and Etc/GMT-n (possibly also without prefix Etc/), 
## which assume a fixed offset from UTC (hence no DST). 
## Contrary to some expectations 
## (but consistent with names such as PST8PDT), negative offsets are times ahead of (east of) UTC, 
## positive offsets are times behind (west of) UTC.
start &lt;-  get.geotop.inpts.keyword.value("InitDateDDMMYYYYhhmm",
date=TRUE,wpath=wpath,tz=tz) 
end &lt;- get.geotop.inpts.keyword.value("EndDateDDMMYYYYhhmm",
date=TRUE,wpath=wpath,tz=tz) 

nmeteo &lt;- get.geotop.inpts.keyword.value("NumberOfMeteoStations",
numeric=TRUE,wpath=wpath)
level &lt;- 1:nmeteo

## set meteo data

 meteo &lt;- get.geotop.inpts.keyword.value("MeteoFile",wpath=wpath,data.frame=TRUE,
       level=level,start_date=start,end_date=end,tz=tz)


##### end set meteo data

## IMPORTING AN OUTPUT SOIL MOISTURE PROFILE: 


wpath &lt;-  paste0(
'https://raw.githubusercontent.com/ecor/geotopbricks_doc/',
'master/simulations/Muntatschini_pnt_1_225_B2_004')
## URL Path (RAW VERSION) of 
## https://github.com/ecor/geotopbricks_doc/tree/master/simulations/Muntatschini_pnt_1_225_B2_004

	SMC  &lt;- get.geotop.inpts.keyword.value("SoilLiqContentProfileFile",
          wpath=wpath,data.frame=TRUE,date_field="Date12.DDMMYYYYhhmm.",
          formatter="%04d")

    SMCz  &lt;- get.geotop.inpts.keyword.value("SoilLiqContentProfileFile",
         wpath=wpath,data.frame=TRUE,date_field="Date12.DDMMYYYYhhmm.",
          formatter="%04d",zlayer.formatter="z%04d")



		




</code></pre>

<hr>
<h2 id='get.geotop.points'>Get a <code><a href="sf.html#topic+sf">sf</a></code> object for Meteorological Stations or Control Points in a GEOtop simulation</h2><span id='topic+get.geotop.points'></span>

<h3>Description</h3>

<p>Get a <code><a href="sf.html#topic+sf">sf</a></code> object for Meteorological Stations or Control Points in a GEOtop simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.geotop.points(
  prefix = c("MeteoStation", "CoordinatePoint"),
  suffixes = c("Code", "Elevation", "Source"),
  coord_suffixes = list(MeteoStation = c("CoordinateX", "CoordinateY"), CoordinatePoint =
    c("X", "Y")),
  wpath,
  ...,
  vector_sep = ","
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.geotop.points_+3A_prefix">prefix</code></td>
<td>
<p>keyword prefix</p>
</td></tr>
<tr><td><code id="get.geotop.points_+3A_suffixes">suffixes</code></td>
<td>
<p>keyword suffixes</p>
</td></tr>
<tr><td><code id="get.geotop.points_+3A_coord_suffixes">coord_suffixes</code></td>
<td>
<p>coordinate keyword suffixes. Default is <code>c("PointX","PointY")</code></p>
</td></tr>
<tr><td><code id="get.geotop.points_+3A_wpath">wpath</code></td>
<td>
<p>GEOtop simulation path</p>
</td></tr>
<tr><td><code id="get.geotop.points_+3A_vector_sep">vector_sep</code>, <code id="get.geotop.points_+3A_...">...</code></td>
<td>
<p>further arguments for <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

###See simulation template: "https://github.com/ecor/geotopbricks_doc/tree/master/template/sumava"
wpath &lt;- "https://raw.githubusercontent.com/ecor/geotopbricks_doc/master/template/sumava/"
## system.file("template/sumava",package="geotopbricks") 
out &lt;- get.geotop.points(wpath=wpath)
out &lt;- get.geotop.points(prefix="CoordinatePoint",suffix=c("Code","Source"),wpath=wpath)
out &lt;- get.geotop.points(prefix="MeteoStation",suffix=c("Code","Source"),wpath=wpath)


</code></pre>

<hr>
<h2 id='get.geotop.recovery.state'>This function saves all spatially distrubuted information contained in the recovery folder into a comprehensive <code>list</code> object.</h2><span id='topic+get.geotop.recovery.state'></span>

<h3>Description</h3>

<p>This function saves all spatially distrubuted information contained in the recovery folder into a comprehensive <code>list</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.geotop.recovery.state(
  recFolder,
  xx = "0000",
  formatter = "L%04d",
  extension = ".asc",
  nsoillayers = 10,
  layersFromDir = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.geotop.recovery.state_+3A_recfolder">recFolder</code></td>
<td>
<p>directory when recvery maps are set. In GEOtop it is ...</p>
</td></tr>
<tr><td><code id="get.geotop.recovery.state_+3A_xx">xx</code></td>
<td>
<p>charcter String. Default is <code>"0000"</code></p>
</td></tr>
<tr><td><code id="get.geotop.recovery.state_+3A_formatter">formatter</code></td>
<td>
<p>string character for the the decimal formatter to be used. Default is <code>"L%04d"</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.recovery.state_+3A_extension">extension</code></td>
<td>
<p>file estension used for asccii recovery map files. It must contains <code>'.'</code> as the first character. Defaut is <code>".asc"</code> .</p>
</td></tr>
<tr><td><code id="get.geotop.recovery.state_+3A_nsoillayers">nsoillayers</code></td>
<td>
<p>number of soil layers used in the GEOtop simulation.</p>
</td></tr>
<tr><td><code id="get.geotop.recovery.state_+3A_layersfromdir">layersFromDir</code></td>
<td>
<p>logical value. If is <code>TRUE</code> the number of soil/snow (vertical) layers used in the GEOtop simulation is automatically calculated and cannot be assigned through <code>nsoillayers</code>.</p>
</td></tr>
<tr><td><code id="get.geotop.recovery.state_+3A_...">...</code></td>
<td>
<p>further arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code> object containining all recovery raster maps.
</p>


<h3>Note</h3>

<p>This function has been used with the built 1.225-9 of GEOtop .
</p>


<h3>Author(s)</h3>

<p>Emanuele Cordano
</p>


<h3>See Also</h3>

<p><code><a href="#topic+brick.decimal.formatter">brick.decimal.formatter</a></code>,
</p>
<p><code><a href="raster.html#topic+raster">raster</a></code>,<code><a href="#topic+set.geotop.recovery.state">set.geotop.recovery.state</a></code>,
</p>
<p><code><a href="#topic+write.vectorized.geotop.recovery">write.vectorized.geotop.recovery</a></code>,<code><a href="#topic+read.vectorized.geotop.recovery">read.vectorized.geotop.recovery</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(geotopbricks)
example_Rscript &lt;- system.file('template/example.geotop.recovery.state.R',package="geotopbricks")
example_Rscript

# Not Run because it elapses too long time!!! 
# Please Uncomment the following line to run by yourself!!!
# source(example_Rscript)

</code></pre>

<hr>
<h2 id='getProjection'>It reads the CRS metadata utilzed in a GEOtop Simulation</h2><span id='topic+getProjection'></span>

<h3>Description</h3>

<p>It reads the CRS metadata utilzed in a GEOtop Simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getProjection(x, cond = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getProjection_+3A_x">x</code></td>
<td>
<p>name and full path of the file containimg CRS information</p>
</td></tr>
<tr><td><code id="getProjection_+3A_cond">cond</code></td>
<td>
<p>logical value. If <code>FALSE</code> the function returns <code>NA</code>. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="getProjection_+3A_...">...</code></td>
<td>
<p>futher arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string corresponding the projection and CRS if the argument <code>cond</code> is <code>TRUE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(geotopbricks)

wpath &lt;- 'https://raw.githubusercontent.com/ecor/geotopbricks_doc/master/simulations/idroclim_test1'
## URL path  (RAW VERSION) of 
## https://github.com/ecor/geotopbricks_doc/tree/master/simulations/idroclim_test1
## Not run: 

x &lt;- paste(wpath,"geotop.proj",sep="/")


crs &lt;- getProjection(x)

## End(Not run)
</code></pre>

<hr>
<h2 id='getvalues.brick.at.depth'>Interpolates the values of a 'brick' at a certain depth  and returns the map of brick values at the &quot;depth&quot; level</h2><span id='topic+getvalues.brick.at.depth'></span>

<h3>Description</h3>

<p>Interpolates the values of a 'brick' at a certain depth  and returns the map of brick values at the &quot;depth&quot; level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getvalues.brick.at.depth(x, depth, layers, i0 = NULL, verify = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getvalues.brick.at.depth_+3A_x">x</code></td>
<td>
<p>a 'RasterBrick' or a three-dimensional array</p>
</td></tr>
<tr><td><code id="getvalues.brick.at.depth_+3A_depth">depth</code></td>
<td>
<p>depth map, generally a 'RasterLayer' object</p>
</td></tr>
<tr><td><code id="getvalues.brick.at.depth_+3A_layers">layers</code></td>
<td>
<p>vector of layer thickness</p>
</td></tr>
<tr><td><code id="getvalues.brick.at.depth_+3A_i0">i0</code></td>
<td>
<p>a 'Raster' containing the number of soil laver just over the bedrock. Default is <code>NULL</code> and is then calculated.</p>
</td></tr>
<tr><td><code id="getvalues.brick.at.depth_+3A_verify">verify</code></td>
<td>
<p>logical. Default is <code>FALSE</code>. If it is <code>TRUE</code>, it verifies that function is working correctly.</p>
</td></tr>
<tr><td><code id="getvalues.brick.at.depth_+3A_...">...</code></td>
<td>
<p>further argument</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of 'Raster' maps: 
</p>
<p><code>i0</code>   a 'Raster' containing the number of soil laver just over the bedrock
</p>
<p><code>val_z0</code>   a 'Raster' containing the values of <code>x</code> at the <code>i0</code>-th layer
</p>
<p><code>val_z1</code>   a 'Raster' containing the values of <code>x</code> at the (<code>i0</code>+1)-th layer 
</p>
<p><code>z0</code>       a 'Raster' containing the depth of the center  of  the <code>i0</code>-th layer
</p>
<p><code>z1</code>       a 'Raster' containing the depth of the center  of  the (<code>i0</code>+1)-th layer
</p>


<h3>Note</h3>

<p><code>x</code> and <code>depth</code> or <code>i0</code> must cover the same spatial region.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+vertical.aggregate.brick.within.depth">vertical.aggregate.brick.within.depth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)
# The examples is the following R script conteined in a 'inst' directory of the package source
f &lt;- system.file("doc/examples/example.getvalues.brick.at.depth.R",package="geotopbricks")
#  source(f) # Uncomment this line to run the example. 
# You can copy the example file using file.copy(from=f,to=....,...) See file.copy documentation
</code></pre>

<hr>
<h2 id='KML'>KML</h2><span id='topic+KML'></span><span id='topic+KML+2CGeotopRasterBrick-method'></span>

<h3>Description</h3>

<p><code>KML</code> method for a <code>GeotopRasterBrick</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'GeotopRasterBrick'
KML(
  x,
  filename,
  crs = as.character("+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="KML_+3A_x">x</code></td>
<td>
<p>the <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object</p>
</td></tr>
<tr><td><code id="KML_+3A_filename">filename</code></td>
<td>
<p>mane of the KML file to produce</p>
</td></tr>
<tr><td><code id="KML_+3A_crs">crs</code></td>
<td>
<p>character string containing the LatLon reference system. Default is <code>"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"</code> (see <a href="https://spatialreference.org/ref/epsg/4326/">https://spatialreference.org/ref/epsg/4326/</a>).</p>
</td></tr>
<tr><td><code id="KML_+3A_...">...</code></td>
<td>
<p>further argument for S4 method <code>KLM</code> for Raster object.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>A coordinate transformation is made with <code><a href="raster.html#topic+projectRaster">projectRaster</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(geotopbricks)
# The examples is the following R script contained in a 'inst' directory of the package source
f &lt;- system.file("doc/examples/example.KML.GeotopRasterBrick.R",package="geotopbricks")
## Not run: 
  source(f) # Uncomment this line to run the example. 

## End(Not run) 
# You can copy the example file using file.copy(from=f,to=....,...) See file.copy documentation
</code></pre>

<hr>
<h2 id='max_value'>max_value</h2><span id='topic+max_value'></span>

<h3>Description</h3>

<p>Gets the maximum (scalar) values of a <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>max_value(x, na.rm = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="max_value_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object.</p>
</td></tr>
<tr><td><code id="max_value_+3A_na.rm">na.rm</code>, <code id="max_value_+3A_...">...</code></td>
<td>
<p>further arguments for <code><a href="base.html#topic+max">max</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the maximum (scalar) values of a <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object
</p>

<hr>
<h2 id='min_value'>min_value</h2><span id='topic+min_value'></span>

<h3>Description</h3>

<p>Gets the minimum (scalar) values of a <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>min_value(x, na.rm = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="min_value_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object.</p>
</td></tr>
<tr><td><code id="min_value_+3A_na.rm">na.rm</code>, <code id="min_value_+3A_...">...</code></td>
<td>
<p>further arguments foe <code><a href="base.html#topic+min">min</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the minimum (scalar) values of a <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object
</p>

<hr>
<h2 id='Ops'>Ops</h2><span id='topic+Ops'></span><span id='topic+Ops+2CGeotopRasterBrick+2CGeotopRasterBrick-method'></span><span id='topic+Ops+2CGeotopRasterBrick+2Cnumeric-method'></span><span id='topic+Ops+2Cnumeric+2CGeotopRasterBrick-method'></span>

<h3>Description</h3>

<p>Ops
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'GeotopRasterBrick,GeotopRasterBrick'
Ops(e1, e2)

## S4 method for signature 'GeotopRasterBrick,numeric'
Ops(e1, e2)

## S4 method for signature 'numeric,GeotopRasterBrick'
Ops(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Ops_+3A_e1">e1</code>, <code id="Ops_+3A_e2">e2</code></td>
<td>
<p>the <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> or numeric  objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Ops</code> method for a <code>GeotopRasterBrick</code> object
</p>


<h3>Note</h3>

<p>If <code>e1</code> or <code>e2</code> time index is not taken into account.
</p>

<hr>
<h2 id='plot'>plot</h2><span id='topic+plot'></span><span id='topic+plot+2CGeotopRasterBrick+2CANY-method'></span>

<h3>Description</h3>

<p><code>plot</code> method for a <code>GeotopRasterBrick</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'GeotopRasterBrick,ANY'
plot(x, y = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_+3A_x">x</code></td>
<td>
<p>the <code><a href="#topic+GeotopRasterBrick">GeotopRasterBrick</a></code> object</p>
</td></tr>
<tr><td><code id="plot_+3A_y">y</code></td>
<td>
<p>further argument</p>
</td></tr>
<tr><td><code id="plot_+3A_...">...</code></td>
<td>
<p>further argument for S4 method <code>plot</code> for Raster object.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+KML">KML</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(geotopbricks)
# The examples is the following R script conteined in a 'inst' directory of the package source
f &lt;- system.file("doc/examples/example.plot.GeotopRasterBrick.R",package="geotopbricks")
#  source(f) # Uncomment this line to run the example. 
# You can copy the example file using file.copy(from=f,to=....,...) See file.copy documentation







</code></pre>

<hr>
<h2 id='pointer.to.maps.xyz.time'>pointer.to.maps.xyz.time</h2><span id='topic+pointer.to.maps.xyz.time'></span><span id='topic+pointer.to.maps.xy.time'></span>

<h3>Description</h3>

<p>'pointer.to.maps.xyz.time' function (obsolete)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pointer.to.maps.xyz.time(
  wpath,
  map.prefix = "thetaliq",
  suffix = "L%04dN%04d.asc",
  zoo.index = NULL,
  ntime,
  nlayers
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pointer.to.maps.xyz.time_+3A_wpath">wpath</code></td>
<td>
<p>complete working path to *.asc maps are saved</p>
</td></tr>
<tr><td><code id="pointer.to.maps.xyz.time_+3A_map.prefix">map.prefix</code></td>
<td>
<p>string prefix name map before</p>
</td></tr>
<tr><td><code id="pointer.to.maps.xyz.time_+3A_suffix">suffix</code></td>
<td>
<p>z-time or time suffix plus file extention character string. Default for GEOtop application is <code>"L%04dN%04d.asc"</code> for xy+z+time maps or <code>"N%04d.asc"</code>  for xy+time maps.</p>
</td></tr>
<tr><td><code id="pointer.to.maps.xyz.time_+3A_zoo.index">zoo.index</code></td>
<td>
<p>time or date index. Default is <code>NULL</code> , otherwise function returns a zoo object with <code>zoo.index</code> as index.</p>
</td></tr>
<tr><td><code id="pointer.to.maps.xyz.time_+3A_ntime">ntime</code></td>
<td>
<p>number of time instant. If <code>zoo.index</code> is not <code>NULL</code>, it is calculated from <code>zoo.index</code> length.</p>
</td></tr>
<tr><td><code id="pointer.to.maps.xyz.time_+3A_nlayers">nlayers</code></td>
<td>
<p>number of vertical layers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame or zoo object containig the paths to maps fpr each time and z layer.
</p>


<h3>Author(s)</h3>

<p>Emanuele Cordano
</p>

<hr>
<h2 id='read.ascii.vectorized.brick'>Read a text file containing  values and matedata of a z-layer brick referred to a time instant (e.g. date). The file is formatted like an ascii format like <code>'geotop.inpts'</code> file.</h2><span id='topic+read.ascii.vectorized.brick'></span>

<h3>Description</h3>

<p>Read a text file containing  values and matedata of a z-layer brick referred to a time instant (e.g. date). The file is formatted like an ascii format like <code>'geotop.inpts'</code> file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.ascii.vectorized.brick(
  file = NULL,
  comment = "!",
  crs = "",
  NAflag = -9999,
  matlab.syntax = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.ascii.vectorized.brick_+3A_file">file</code></td>
<td>
<p>file name to write</p>
</td></tr>
<tr><td><code id="read.ascii.vectorized.brick_+3A_comment">comment</code></td>
<td>
<p>character. Comment indicator. Default is <code>"!"</code>.</p>
</td></tr>
<tr><td><code id="read.ascii.vectorized.brick_+3A_crs">crs</code></td>
<td>
<p>Character or object of class CRS. PROJ4 type description of a Coordinate Reference System (map projection) (optional). See <code><a href="#topic+brick">brick</a></code> or <code><a href="raster.html#topic+raster">raster</a></code>.</p>
</td></tr>
<tr><td><code id="read.ascii.vectorized.brick_+3A_naflag">NAflag</code></td>
<td>
<p>numeric. Dafauli is -9999, see <code><a href="#topic+writeRasterxGEOtop">writeRasterxGEOtop</a></code>.</p>
</td></tr>
<tr><td><code id="read.ascii.vectorized.brick_+3A_matlab.syntax">matlab.syntax</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> the file syntax is like the one of a *.m Matlab script file.</p>
</td></tr>
<tr><td><code id="read.ascii.vectorized.brick_+3A_...">...</code></td>
<td>
<p>further aguments inserted as attribute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+write.ascii.vectorized.brick">write.ascii.vectorized.brick</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see the examples of read.ascii.vectorized.brick
</code></pre>

<hr>
<h2 id='read.raster.from.url'>It imports a 'RasterLayer' object in Escri-Asci format from a URL 'http(s)://....&lt;FILENAME&gt;.asc</h2><span id='topic+read.raster.from.url'></span>

<h3>Description</h3>

<p>It imports a 'RasterLayer' object in Escri-Asci format from a URL 'http(s)://....&lt;FILENAME&gt;.asc
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.raster.from.url(x, header_nrow = 6, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.raster.from.url_+3A_x">x</code></td>
<td>
<p>the charcater string containing the URL address</p>
</td></tr>
<tr><td><code id="read.raster.from.url_+3A_header_nrow">header_nrow</code></td>
<td>
<p>Number of header in the ASCII grid format. Deafault is 6. See <a href="https://en.wikipedia.org/wiki/Esri_grid">https://en.wikipedia.org/wiki/Esri_grid</a></p>
</td></tr>
<tr><td><code id="read.raster.from.url_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 'RasterLayer' object
</p>


<h3>Note</h3>

<p>This function reads a local or remote text files formatted as <a href="https://en.wikipedia.org/wiki/Esri_grid">https://en.wikipedia.org/wiki/Esri_grid</a> and creates a 'RasterLayer' object.
</p>


<h3>See Also</h3>

<p><code><a href="raster.html#topic+raster">raster</a></code>,<code><a href="base.html#topic+readLines">readLines</a></code>
</p>

<hr>
<h2 id='read.vectorized.geotop.recovery'>Reads a text file like the one generated by  <code><a href="#topic+write.vectorized.geotop.recovery">write.vectorized.geotop.recovery</a></code></h2><span id='topic+read.vectorized.geotop.recovery'></span>

<h3>Description</h3>

<p>#. containing  values and matedata of a z-layer brick referred to a time instant (e.g. date). The file is formatted like an ascii format like <code>'geotop.inpts'</code> file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.vectorized.geotop.recovery(
  file = file,
  comment = "!",
  matlab.syntax = TRUE,
  xx = "0000",
  formatter = "L%04d",
  extension = ".asc",
  NAflag = -9999,
  crs = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read.vectorized.geotop.recovery_+3A_file">file</code></td>
<td>
<p>file name to write</p>
</td></tr>
<tr><td><code id="read.vectorized.geotop.recovery_+3A_comment">comment</code></td>
<td>
<p>character. Comment indicator. Default is <code>"!"</code>.</p>
</td></tr>
<tr><td><code id="read.vectorized.geotop.recovery_+3A_matlab.syntax">matlab.syntax</code></td>
<td>
<p>logical value. Default is <code>TRUE</code>. If <code>TRUE</code> the file syntax is like the one of a *.m Matlab script file.</p>
</td></tr>
<tr><td><code id="read.vectorized.geotop.recovery_+3A_formatter">formatter</code>, <code id="read.vectorized.geotop.recovery_+3A_extension">extension</code>, <code id="read.vectorized.geotop.recovery_+3A_xx">xx</code></td>
<td>
<p>see <code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code>.</p>
</td></tr>
<tr><td><code id="read.vectorized.geotop.recovery_+3A_naflag">NAflag</code></td>
<td>
<p>numeric. Default is -9999, see <code><a href="#topic+writeRasterxGEOtop">writeRasterxGEOtop</a></code>.</p>
</td></tr>
<tr><td><code id="read.vectorized.geotop.recovery_+3A_crs">crs</code></td>
<td>
<p>Character or object of class CRS. PROJ4 type description of a Coordinate Reference System (map projection) (optional). See <code><a href="#topic+brick">brick</a></code> or <code><a href="raster.html#topic+raster">raster</a></code>.</p>
</td></tr>
<tr><td><code id="read.vectorized.geotop.recovery_+3A_...">...</code></td>
<td>
<p>further aguments inserted as attribute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+list">list</a></code> object like <code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+write.vectorized.geotop.recovery">write.vectorized.geotop.recovery</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see the examples of read.ascii.vectorized.brick
</code></pre>

<hr>
<h2 id='replace.keyword'>It replaces some keyword values of <code>geotop.inpts</code> file with the ones of anoter <code>*.inpts</code>  value</h2><span id='topic+replace.keyword'></span>

<h3>Description</h3>

<p>It replaces some keyword values of <code>geotop.inpts</code> file with the ones of anoter <code>*.inpts</code>  value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace.keyword(
  x,
  y = "geotop.inpts",
  file.output = NULL,
  write.file.output = TRUE,
  wpath = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace.keyword_+3A_x">x</code></td>
<td>
<p>filename of the <code>*.inpts</code> with the &quot;new&quot; keyword value</p>
</td></tr>
<tr><td><code id="replace.keyword_+3A_y">y</code></td>
<td>
<p>filename of the <code>*.inpts</code> with the &quot;old&quot; keyword value. Default is <code>"geotop.inpts"</code>.</p>
</td></tr>
<tr><td><code id="replace.keyword_+3A_file.output">file.output</code></td>
<td>
<p>filename where to write the comprehensive new <code>geotop.inpts</code> file. If it is <code>NULL</code> (default), the fileneme is assigned by <code>y</code>.</p>
</td></tr>
<tr><td><code id="replace.keyword_+3A_write.file.output">write.file.output</code></td>
<td>
<p>logical value. If it is <code>TRUE</code>, the output of the function is written in he file <code>file.output</code>.</p>
</td></tr>
<tr><td><code id="replace.keyword_+3A_wpath">wpath</code></td>
<td>
<p>working path to the GEOtop simulation folder containing the <code>x</code> and <code>y</code> files.</p>
</td></tr>
<tr><td><code id="replace.keyword_+3A_...">...</code></td>
<td>
<p>further arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function repleces some keword values of <code>y</code> with the ones indicated in <code>y</code>. It is useful to replace the meteo station metedata, for instance, when the meteorological station of a study cases are modified. 
The function returns the new <code>geotop.inpts</code> file as a vector of character strings. If <code>write.file.output==TRUE</code>, the output is written in an extarnal file, e.g. <code>"geotop.inpts"</code> newly (this option is suggested).
</p>


<h3>Author(s)</h3>

<p>Emanuele Cordano
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)
wpath &lt;- system.file('template/meteo_ex',package="geotopbricks")
x &lt;- "meteo.inpts"
zl &lt;- replace.keyword(x,wpath=wpath,write.file.output=FALSE)



</code></pre>

<hr>
<h2 id='set.geotop.recovery.state'>This function re-writes the recovery ascii raster maps in a given folder</h2><span id='topic+set.geotop.recovery.state'></span>

<h3>Description</h3>

<p>This function re-writes the recovery ascii raster maps in a given folder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set.geotop.recovery.state(rec, newRecFolder, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set.geotop.recovery.state_+3A_rec">rec</code></td>
<td>
<p>a <code>list</code> object returened by <code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code></p>
</td></tr>
<tr><td><code id="set.geotop.recovery.state_+3A_newrecfolder">newRecFolder</code></td>
<td>
<p>directory where to write all recovery raster asccii maps</p>
</td></tr>
<tr><td><code id="set.geotop.recovery.state_+3A_...">...</code></td>
<td>
<p>further arguments</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Emanuele Cordano
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code>,<code><a href="#topic+writeRasterxGEOtop">writeRasterxGEOtop</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See the examples of the 'get.geotop.recovery.state' function
</code></pre>

<hr>
<h2 id='vertical.aggregate.brick.within.depth'>Aggregates with a mean or an addition on the vertical profile the values of a 'brick' within a certain depth  and returns the vertical aggregated map</h2><span id='topic+vertical.aggregate.brick.within.depth'></span>

<h3>Description</h3>

<p>Aggregates with a mean or an addition on the vertical profile the values of a 'brick' within a certain depth  and returns the vertical aggregated map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertical.aggregate.brick.within.depth(
  x,
  depth = NULL,
  layers = NULL,
  i0 = NULL,
  verify = FALSE,
  FUN = identity,
  divide.by.depth = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_x">x</code></td>
<td>
<p>a 'RasterBrick' or a three-dimensional array</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_depth">depth</code></td>
<td>
<p>depth map, generally a 'RasterLayer' object</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_layers">layers</code></td>
<td>
<p>vector of layer thickness</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_i0">i0</code></td>
<td>
<p>a 'Raster' containing the number of soil laver just over the bedrock. Default is <code>NULL</code> and is then calculated.</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_verify">verify</code></td>
<td>
<p>logical. Default is <code>FALSE</code>. If it is <code>TRUE</code>, it verifies that function is working correctly.</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_fun">FUN</code></td>
<td>
<p>function used for aggregation. If missing, <code><a href="base.html#topic+identity">identity</a></code> is the default value.</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_divide.by.depth">divide.by.depth</code></td>
<td>
<p>logical. If <code>TRUE</code> the function returns the 'mean' value, otherwise a a cumulate value. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vertical.aggregate.brick.within.depth_+3A_...">...</code></td>
<td>
<p>further argument for <code>FUN</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of 'Raster' maps: 
</p>
<p><code>i0</code>   a 'Raster' containing the number of soil laver just over the bedrock
</p>
<p><code>z0</code>       a 'Raster' containing the depth of the center  of  the <code>i0</code>-th layer
</p>
<p><code>result</code>       a 'Raster' containing the aggregated map
</p>


<h3>Note</h3>

<p><code>x</code> and <code>depth</code> or <code>i0</code> must cover the same spatial region.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getvalues.brick.at.depth">getvalues.brick.at.depth</a></code>,<code><a href="#topic+brick">brick</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)
# The examples is the following R script conteined 
# in a 'inst' directory of the package source
f &lt;- system.file("doc/examples/example.vertical.aggregate.brick.within.depth.R",
package="geotopbricks")
#  source(f) # Uncomment this line to run the example. 
# You can copy the example file using file.copy(from=f,to=....,...) See file.copy documentation







</code></pre>

<hr>
<h2 id='write.ascii.vectorized.brick'>Writes a z-layer brick referred to a time instant (e.g. date) in an ascii format like <code>'geotop.inpts'</code> file.</h2><span id='topic+write.ascii.vectorized.brick'></span>

<h3>Description</h3>

<p>Writes a z-layer brick referred to a time instant (e.g. date) in an ascii format like <code>'geotop.inpts'</code> file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.ascii.vectorized.brick(
  b,
  file = NULL,
  header = NULL,
  overwrite = TRUE,
  NAflag = -9999,
  matlab.syntax = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write.ascii.vectorized.brick_+3A_b">b</code></td>
<td>
<p>a <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> or <code><a href="#topic+GeotopRasterBrick-class">GeotopRasterBrick-class</a></code> object</p>
</td></tr>
<tr><td><code id="write.ascii.vectorized.brick_+3A_file">file</code></td>
<td>
<p>file name to write</p>
</td></tr>
<tr><td><code id="write.ascii.vectorized.brick_+3A_header">header</code></td>
<td>
<p>character string vector for header text lines. If missing, a default header is written. #Default is  <code>c("! header")</code>.</p>
</td></tr>
<tr><td><code id="write.ascii.vectorized.brick_+3A_overwrite">overwrite</code></td>
<td>
<p>logical. Default is <code>TRUE</code>, see <code><a href="raster.html#topic+writeRaster">writeRaster</a></code>.</p>
</td></tr>
<tr><td><code id="write.ascii.vectorized.brick_+3A_naflag">NAflag</code></td>
<td>
<p>numeric. Default is -9999, see <code><a href="#topic+writeRasterxGEOtop">writeRasterxGEOtop</a></code>.</p>
</td></tr>
<tr><td><code id="write.ascii.vectorized.brick_+3A_matlab.syntax">matlab.syntax</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> the file syntax is like the one of a *.m Matlab script file.</p>
</td></tr>
<tr><td><code id="write.ascii.vectorized.brick_+3A_...">...</code></td>
<td>
<p>further aguments inserted as attribute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the string vector possibly written in <code>file</code>.
</p>


<h3>Note</h3>

<p>Add Quote if necessary. This function is NOT maintained and will be DEPRECATED.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.ascii.vectorized.brick">read.ascii.vectorized.brick</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not Run
## library(geotopbricks)
## library(raster)
## file &lt;- system.file("doc/examples/snowthickness",package="geotopbricks")
## file &lt;- paste(file,"SnowThickness0000L%04d.asc",sep="/")
## b &lt;- brick.decimal.formatter(file=file,nlayers=15)
## nlayers(b)
## names(b)
## file &lt;- "snow.txt"
## btext &lt;- write.ascii.vectorized.brick(b,Date="1/1/2009",file="snow.txt")
## The printed object
## str(btext)
## bb &lt;- read.ascii.vectorized.brick(file = file) 
## bf &lt;- abs(as.matrix(bb[[1]]-b[[1]]))&lt;.Machine$double.eps^0.5
</code></pre>

<hr>
<h2 id='write.geotop.table'>Writes an R object (<code>data.frame</code> or <code>zoo</code>) into a CSV file readible by GEOtop.</h2><span id='topic+write.geotop.table'></span>

<h3>Description</h3>

<p>Writes an R object (<code>data.frame</code> or <code>zoo</code>) into a CSV file readible by GEOtop.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.geotop.table(
  x,
  file,
  wpath = NULL,
  tz = "Etc/GMT-1",
  date_field = "Date12.DDMMYYYYhhmm.",
  file_end = "",
  sep = ",",
  format = "%d/%m/%Y %H:%M",
  na = "-9999",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write.geotop.table_+3A_x">x</code></td>
<td>
<p>R object (<code>data.frame</code> or <code>zoo</code>) to be exported and written.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_file">file</code></td>
<td>
<p>filename</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_wpath">wpath</code></td>
<td>
<p>working path to the GEOtop simlation. If <code>wpath</code> is not <code>NULL</code> , <code>filename</code> will be put in <code>wpath</code>.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_tz">tz</code></td>
<td>
<p>time zone. Default is <code>"Etc/GMT-1"</code>.  See <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code> fur further details.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_date_field">date_field</code></td>
<td>
<p>string used for date-time field. Deafult is <code>"Date12.DDMMYYYYhhmm."</code>. See <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code> fur further details.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_file_end">file_end</code></td>
<td>
<p>suffix of the file name (<code>file</code>) (optional). Default is <code>""</code>.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_sep">sep</code></td>
<td>
<p>separator character. Default is <code>","</code>. See <code><a href="utils.html#topic+write.table">write.table</a></code> fur further details.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_format">format</code></td>
<td>
<p>date time format. Default is <code>"%d/%m/%Y %H:%M"</code>. See <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code> fur further details.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_na">na</code></td>
<td>
<p>string for unassigned values. Defaults is <code>"-9999"</code>.  See <code><a href="utils.html#topic+write.table">write.table</a></code> fur further details.</p>
</td></tr>
<tr><td><code id="write.geotop.table_+3A_...">...</code></td>
<td>
<p>further arguments for <code><a href="utils.html#topic+write.table">write.table</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='write.vectorized.geotop.recovery'>It writes a <code>list</code> object returened by <code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code> as a string vector or in a text file, following <code>*.inpts</code> or Matlab-like syntax.</h2><span id='topic+write.vectorized.geotop.recovery'></span>

<h3>Description</h3>

<p>It writes a <code>list</code> object returened by <code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code> as a string vector or in a text file, following <code>*.inpts</code> or Matlab-like syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.vectorized.geotop.recovery(
  rec,
  file = NULL,
  header = NULL,
  overwrite = TRUE,
  NAflag = -9999,
  matlab.syntax = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write.vectorized.geotop.recovery_+3A_rec">rec</code></td>
<td>
<p>a <code>list</code> object returened by <code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code></p>
</td></tr>
<tr><td><code id="write.vectorized.geotop.recovery_+3A_file">file</code></td>
<td>
<p>ascii text file name whrere to write the string vector</p>
</td></tr>
<tr><td><code id="write.vectorized.geotop.recovery_+3A_header">header</code></td>
<td>
<p>character string vector for header text lines. If missing, a default header is written. Default is  <code>c("! header")</code> or he one assigned by <code>matlab.syntax</code>.</p>
</td></tr>
<tr><td><code id="write.vectorized.geotop.recovery_+3A_overwrite">overwrite</code></td>
<td>
<p>logical. Default is <code>TRUE</code>, see <code><a href="raster.html#topic+writeRaster">writeRaster</a></code>.</p>
</td></tr>
<tr><td><code id="write.vectorized.geotop.recovery_+3A_naflag">NAflag</code></td>
<td>
<p>numeric. Default is -9999, see <code><a href="#topic+writeRasterxGEOtop">writeRasterxGEOtop</a></code>.</p>
</td></tr>
<tr><td><code id="write.vectorized.geotop.recovery_+3A_matlab.syntax">matlab.syntax</code></td>
<td>
<p>logical value. Default is <code>TRUE</code>. If <code>TRUE</code> the file syntax is like the one of a *.m Matlab script file.</p>
</td></tr>
<tr><td><code id="write.vectorized.geotop.recovery_+3A_...">...</code></td>
<td>
<p>further aguments inserted as attribute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a string vector containg the <code>rec</code> variables.
</p>


<h3>Note</h3>

<p>Add Quote if necessary
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get.geotop.recovery.state">get.geotop.recovery.state</a></code>,<code><a href="#topic+set.geotop.recovery.state">set.geotop.recovery.state</a></code>,<code><a href="#topic+write.vectorized.variable.in.string">write.vectorized.variable.in.string</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See the examples of the 'get.geotop.recovery.state' function



</code></pre>

<hr>
<h2 id='write.vectorized.variable.in.string'>Writes one or more variables (scalars, vectors or Rasters) in a string each, following <code>*.inpts</code> or Matlab-like syntax.</h2><span id='topic+write.vectorized.variable.in.string'></span>

<h3>Description</h3>

<p>Writes one or more variables (scalars, vectors or Rasters) in a string each, following <code>*.inpts</code> or Matlab-like syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.vectorized.variable.in.string(
  l,
  NAflag = -9999,
  matlab.syntax = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write.vectorized.variable.in.string_+3A_l">l</code></td>
<td>
<p>a <code>list</code> object contained the variables (scalars, vectors or Rasters) which will be written in a string each.</p>
</td></tr>
<tr><td><code id="write.vectorized.variable.in.string_+3A_naflag">NAflag</code></td>
<td>
<p>numeric. Default is -9999, see <code><a href="#topic+writeRasterxGEOtop">writeRasterxGEOtop</a></code>.</p>
</td></tr>
<tr><td><code id="write.vectorized.variable.in.string_+3A_matlab.syntax">matlab.syntax</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> the file syntax is like the one of a *.m Matlab script file.</p>
</td></tr>
<tr><td><code id="write.vectorized.variable.in.string_+3A_...">...</code></td>
<td>
<p>further aguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the string vector  <code>&lt;NAME_VARIABLE&gt;==&lt;VALUES_VARIABLE&gt;</code>.
</p>


<h3>Note</h3>

<p>Add Quote if necessary
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.ascii.vectorized.brick">read.ascii.vectorized.brick</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- 1:5
l &lt;- list(v=a,a=a)
out &lt;- write.vectorized.variable.in.string(l,matlab.syntax=TRUE)
out 


</code></pre>

<hr>
<h2 id='writeRasterxGEOtop'>This function uses  <code><a href="raster.html#topic+writeRaster">writeRaster</a></code> to create .asc maps which can be read by GEOtop</h2><span id='topic+writeRasterxGEOtop'></span>

<h3>Description</h3>

<p>This function uses  <code><a href="raster.html#topic+writeRaster">writeRaster</a></code> to create .asc maps which can be read by GEOtop
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeRasterxGEOtop(
  x,
  filename = NULL,
  overwrite = TRUE,
  NAflag = -9999,
  use.decimal.formatter = FALSE,
  start.from.zero = FALSE,
  keyword,
  wpath,
  suffix.ext = ".asc",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="writeRasterxGEOtop_+3A_x">x</code></td>
<td>
<p>a Raster object, see <code><a href="raster.html#topic+writeRaster">writeRaster</a></code>. It can be also a <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> object.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_filename">filename</code></td>
<td>
<p>see <code><a href="raster.html#topic+writeRaster">writeRaster</a></code>. It is a vector of string or one string containing a decimal formatter (see <code><a href="#topic+brick.decimal.formatter">brick.decimal.formatter</a></code>) in case <code>x</code> is a <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> object.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_overwrite">overwrite</code></td>
<td>
<p>logical. Default is <code>TRUE</code>, see <code><a href="raster.html#topic+writeRaster">writeRaster</a></code>.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_naflag">NAflag</code></td>
<td>
<p>numeric. Dafauli is -9999, see <code><a href="raster.html#topic+writeRaster">writeRaster</a></code>.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_use.decimal.formatter">use.decimal.formatter</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If it is <code>TRUE</code> or <code>x</code> is a <code><a href="raster.html#topic+RasterBrick-class">RasterBrick-class</a></code> object with <code>nlayers(x)!=length(filename)</code> , <code>filename</code> is considered as one string containing a decimal formatter (e.g. <code>"%04d"</code>, see <code><a href="#topic+brick.decimal.formatter">brick.decimal.formatter</a></code>). Otherwise, if <code>filename</code> is considered as a vector string.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_start.from.zero">start.from.zero</code></td>
<td>
<p>logical value. Default is <code>FALSE</code>. If <code>TRUE</code> the formatter starts from <code>0000</code>, otherwise it starts from <code>0001</code>.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_keyword">keyword</code></td>
<td>
<p>geotop keyword to be used to extract the raster file name from <code>geotop.inpts</code> file. This is enabled if <code>filename</code> is equal to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_wpath">wpath</code></td>
<td>
<p>simulation folder containing <code>geotop.inpts</code> file.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_suffix.ext">suffix.ext</code></td>
<td>
<p>charachter string to be added to the <code>keyword</code> value,e.g. possible suffix and extension of the raster file name. Default is <code>".asc"</code>.</p>
</td></tr>
<tr><td><code id="writeRasterxGEOtop_+3A_...">...</code></td>
<td>
<p>further arguments of <code><a href="#topic+get.geotop.inpts.keyword.value">get.geotop.inpts.keyword.value</a></code> or  <code><a href="raster.html#topic+writeRaster">writeRaster</a></code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>It makes use of <code><a href="base.html#topic+system">system</a></code> functons. It uses <code>*.asc</code> format for raster files. 
In case the file name <code>filename</code> is missing and then <code>NULL</code>, it must be imported by the simulation <code>geotop.inpts</code> file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(geotopbricks)

## Simulation working path

#file &lt;- paste0("https://raw.githubusercontent.com/ecor/geotopbricks_doc/master/template/",
#"rendena100/SnowDepthMapFile-2014-MA-mean-winter-2013-2014.asc")
file &lt;- system.file("ex/elev.tif", package="terra")
elev &lt;- raster(file)


elevfile &lt;- rasterTmpFile()
extension(elevfile) &lt;- ".asc"

writeRasterxGEOtop(x=elev,file=elevfile)



</code></pre>

<hr>
<h2 id='zoo-class'>A GeotopRasterBrick: an object to manage raster maps provied by GEOtop!!</h2><span id='topic+zoo-class'></span>

<h3>Description</h3>

<p>A GeotopRasterBrick: an object to manage raster maps provied by GEOtop!!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("zoo")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

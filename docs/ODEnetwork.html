<!DOCTYPE html><html><head><title>Help for package ODEnetwork</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ODEnetwork}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calcResonances'><p>Calculate Resonance Frequencies</p></a></li>
<li><a href='#convertCoordinates'><p>Converts coordinates between cartesian and polar</p></a></li>
<li><a href='#createEvents'><p>Creates Events</p></a></li>
<li><a href='#createJacobian'><p>Create Jacobian matrix for the parameters of the ODE.</p></a></li>
<li><a href='#createOscillators'><p>Creates Set of Differential Equations</p></a></li>
<li><a href='#createParamVec'><p>Creates Parameter Vector</p></a></li>
<li><a href='#createState'><p>Creates starting State Vector</p></a></li>
<li><a href='#estimateDistances'><p>Estimate distances between oscillators</p></a></li>
<li><a href='#getResult'><p>Get Result</p></a></li>
<li><a href='#ODEnetwork'><p>Constructor of the class ODEnetwork</p></a></li>
<li><a href='#plot.ODEnetwork'><p>Plots Results of ODEnetwork</p></a></li>
<li><a href='#setEvents'><p>Setting Events</p></a></li>
<li><a href='#setState'><p>Set starting State</p></a></li>
<li><a href='#simuNetwork'><p>Simulation of the Differential Equations</p></a></li>
<li><a href='#updateOscillators'><p>Update oscillator parameter of an existing ODE network.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.3.2</td>
</tr>
<tr>
<td>Title:</td>
<td>Network of Differential Equations</td>
</tr>
<tr>
<td>Description:</td>
<td>Simulates a network of ordinary differential equations of order
    two. The package provides an easy interface to construct networks. In addition
    you are able to define different external triggers to manipulate the trajectory.
    The method is described by Surmann, Ligges, and Weihs (2014) &lt;<a href="https://doi.org/10.1109%2FENERGYCON.2014.6850482">doi:10.1109/ENERGYCON.2014.6850482</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/surmann/ODEnetwork">https://github.com/surmann/ODEnetwork</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/surmann/ODEnetwork/issues">https://github.com/surmann/ODEnetwork/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2), checkmate (&ge; 1.5), deSolve</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-03 12:19:20 UTC; surmannd</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Surmann <a href="https://orcid.org/0000-0003-0873-137X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Surmann &lt;surmann@statistik.tu-dortmund.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-03 12:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='calcResonances'>Calculate Resonance Frequencies</h2><span id='topic+calcResonances'></span>

<h3>Description</h3>

<p>Calculates the resonance frequencies of a given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
The resonance frequencies are calculated without respect to the dampers and neighbourhood structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcResonances(odenet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcResonances_+3A_odenet">odenet</code></td>
<td>
<p>Object of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with a vector of resonance frequencies.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- 1
dampers &lt;- as.matrix(0.1)
springs &lt;- as.matrix(4)
odenet &lt;- ODEnetwork(masses, dampers, springs)
calcResonances(odenet)
</code></pre>

<hr>
<h2 id='convertCoordinates'>Converts coordinates between cartesian and polar</h2><span id='topic+convertCoordinates'></span>

<h3>Description</h3>

<p>Converts a given matrix with two rows from polar to cartesian coordinates and vice versa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertCoordinates(coords, convertto = "cartesian")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertCoordinates_+3A_coords">coords</code></td>
<td>
<p>[<code>matrix</code>]<br />
Matrix with two columns.
Each row contains the pair (x, y) in cartesian coordinates or
(radius, angle) in polar coordinates. The angle is given in radian [0, 2*pi]</p>
</td></tr>
<tr><td><code id="convertCoordinates_+3A_convertto">convertto</code></td>
<td>
<p>[<code>character</code>]<br />
Defines the target coordinate system for conversion.
Options are &quot;cartesian&quot; and &quot;polar&quot;.
Default: &quot;cartesian&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with converted coordinates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  coordsK &lt;- rbind(c(3, 0), c(1, 3), c(0, 2), c(-3, 1), c(-1, 0), c(-1, -3), c(0, -2), c(2, -3))
  coordsP &lt;- convertCoordinates(coordsK, "polar")
}
</code></pre>

<hr>
<h2 id='createEvents'>Creates Events</h2><span id='topic+createEvents'></span>

<h3>Description</h3>

<p>Creates functions for constant and linear events of the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>
to know when events have to be replaced or forced.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createEvents(odenet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createEvents_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an extended list of class [<code><a href="#topic+ODEnetwork">ODEnetwork</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  masses &lt;- 1
  dampers &lt;- as.matrix(1.5)
  springs &lt;- as.matrix(4)
  odenet &lt;- ODEnetwork(masses, dampers, springs)
  eventdat &lt;- data.frame(  var = c("x.1", "x.1")
                         , time = c(1, 3)
                         , value = c(1, 3)
                         , stringsAsFactors = TRUE
                         )
  odenet &lt;- setState(odenet, 0, 0)
  odenet &lt;- setEvents(odenet, eventdat)
  createEvents(odenet)
}
</code></pre>

<hr>
<h2 id='createJacobian'>Create Jacobian matrix for the parameters of the ODE.</h2><span id='topic+createJacobian'></span>

<h3>Description</h3>

<p>Creates the Jacobian matrix for a special set of parameters of the ODE.
The first n columns contain the derivatives with respect to d_ii, 
followed by the derivatives with respect to k_ii.
The last 2*n columns include the derivatives with respect to the states.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createJacobian(odenet, ParamVec = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createJacobian_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="createJacobian_+3A_paramvec">ParamVec</code></td>
<td>
<p>[<code>vector</code>] of length n<br />
Named vector to overwrite corresponding parameters (see <code><a href="#topic+updateOscillators">updateOscillators</a></code>).
Masses start with &quot;m.&quot; followed by a number (e.g.: &quot;m.12&quot;).
Dampers start with &quot;d.&quot; followed by one or two numbers separated by a dot (e.g.: &quot;d.2&quot;, &quot;d.5.6&quot;).
Springs start with &quot;k.&quot;, like dampers (e.g.: &quot;k.4&quot;, &quot;k.3.9&quot;).
The triangle elements of the dampers and springs are characterised by increasing numbers.
A name &quot;d.3.5&quot; is correct, in contrast to &quot;d.5.3&quot; which is ignored.
This is done to speed up, because the matrices are symmetric.
State1 and state2 start with &quot;st1.&quot; or &quot;st2.&quot; respectively, followed by a number (e.g.: &quot;st1.15&quot;, &quot;st2.8&quot;).
If the vector is set, the following parameters are ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the Jacobian matrix of size 2n*4n.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- 4:6
dampers &lt;- diag(1:3)
springs &lt;- diag(7:9)
odenet &lt;- ODEnetwork(masses, dampers, springs)
position &lt;- rep(10, 3)
velocity &lt;- rep(0, 3)
odenet &lt;- setState(odenet, position, velocity)
jac &lt;- createJacobian(odenet)
</code></pre>

<hr>
<h2 id='createOscillators'>Creates Set of Differential Equations</h2><span id='topic+createOscillators'></span>

<h3>Description</h3>

<p>Creates the set of differential equations of order one from the <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createOscillators(odenet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createOscillators_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function with a set of differential equations of order one to use in a numerical step
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  masses &lt;- c(1, 2)
  dampers &lt;- diag(c(0.1, 0.5))
  dampers[1, 2] &lt;- 0.05
  springs &lt;- diag(c(4, 10))
  springs[1, 2] &lt;- 6
  odenet &lt;- ODEnetwork(masses, dampers, springs)
  createOscillators(odenet)
}
</code></pre>

<hr>
<h2 id='createParamVec'>Creates Parameter Vector</h2><span id='topic+createParamVec'></span>

<h3>Description</h3>

<p>Creates a vector with assigned parameters of the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createParamVec(odenet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createParamVec_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named vector with assigned values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  masses &lt;- c(1, 2)
  dampers &lt;- diag(c(0.1, 0.5))
  dampers[1, 2] &lt;- 0.05
  springs &lt;- diag(c(4, 10))
  springs[1, 2] &lt;- 6
  odenet &lt;- ODEnetwork(masses, dampers, springs)
  createParamVec(odenet)
}
</code></pre>

<hr>
<h2 id='createState'>Creates starting State Vector</h2><span id='topic+createState'></span>

<h3>Description</h3>

<p>Creates a vector with the starting state of the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createState(odenet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createState_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named vector with assigned starting state
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  masses &lt;- c(1, 2)
  dampers &lt;- diag(c(0.1, 0.5))
  dampers[1, 2] &lt;- 0.05
  springs &lt;- diag(c(4, 10))
  springs[1, 2] &lt;- 6
  odenet &lt;- ODEnetwork(masses, dampers, springs)
  createState(odenet)
}
</code></pre>

<hr>
<h2 id='estimateDistances'>Estimate distances between oscillators</h2><span id='topic+estimateDistances'></span>

<h3>Description</h3>

<p>Estimates the distances between the oscillators of a <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>
from an equilibrium state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimateDistances(
  odenet,
  equilibrium,
  distGround = c("combined", "individual", "fixed", c("A", "B", "123", "A")),
  optim.control = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimateDistances_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="estimateDistances_+3A_equilibrium">equilibrium</code></td>
<td>
<p>[<code>numeric(n)</code>]<br />
The desired equilibrium positions of the oscillators.</p>
</td></tr>
<tr><td><code id="estimateDistances_+3A_distground">distGround</code></td>
<td>
<p>[<code>character(1)</code>] or [<code>character(n)</code>]<br />
<code>"combined"</code> estimates one value for all distances of the oscillators to the ground.
Optimisation starts from <code>median(equilibrium)</code>.<br />
<code>"individual"</code> estimates individual distance values for every oscillator.
Optimisation starts from <code>equilibrium</code>.<br />
<code>"fixed"</code> no estimation of the distances to the ground. 
Set to diagonal of distances matrix in <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.<br />
<code>character(n)</code> specifies groups of oscillators which distances to the ground are 
estimated by the same value. Optimisation starts from <code>median(equilibrium)</code> of the 
specified groups.<br />
Default is <code>"combined"</code></p>
</td></tr>
<tr><td><code id="estimateDistances_+3A_optim.control">optim.control</code></td>
<td>
<p>[<code>list()</code>]<br />
A list of control parameters for optim.
See <code><a href="stats.html#topic+optim">optim</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an extended list of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.<br />
Matrix of distances is added or overwritten.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- c(1, 1)
dampers &lt;- diag(c(1, 1))
springs &lt;- diag(c(1, 1))
springs[1, 2] &lt;- 1
equilibrium &lt;- c(1/3, 5/3)
odenet &lt;- ODEnetwork(masses, dampers, springs)
estimateDistances(odenet, equilibrium)$distances
estimateDistances(odenet, equilibrium, distGround="individual")$distances
</code></pre>

<hr>
<h2 id='getResult'>Get Result</h2><span id='topic+getResult'></span>

<h3>Description</h3>

<p>Getting result from numerical solving algorithm of given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getResult(odenet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getResult_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
Object of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with columns time and states 1 and 2 of class <code><a href="deSolve.html#topic+deSolve">deSolve</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- 1
dampers &lt;- as.matrix(0.1)
springs &lt;- as.matrix(4)
odenet &lt;- ODEnetwork(masses, dampers, springs)
getResult(odenet)
</code></pre>

<hr>
<h2 id='ODEnetwork'>Constructor of the class ODEnetwork</h2><span id='topic+ODEnetwork'></span>

<h3>Description</h3>

<p>Creates a list of class <code>ODEnetwork</code>.
The coordinate type can be set to cartesian (position and
velocity) or to polar coordinates (angle and magnitude).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODEnetwork(masses, dampers, springs, cartesian = TRUE, distances = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODEnetwork_+3A_masses">masses</code></td>
<td>
<p>[<code>vector</code>] of length n<br />
The masses of the mechanical oscillators.</p>
</td></tr>
<tr><td><code id="ODEnetwork_+3A_dampers">dampers</code></td>
<td>
<p>[<code>matrix</code>] quadratic of size n<br />
The dampers of the mechanical oscillators on the main diagonal.
Connecting dampers between oscillators on the upper triangle.
(Will be copied automatically to create a symmetric matrix.)</p>
</td></tr>
<tr><td><code id="ODEnetwork_+3A_springs">springs</code></td>
<td>
<p>[<code>matrix</code>] quadratic of size n<br />
The springs are defined in the network like matrix of dampers.</p>
</td></tr>
<tr><td><code id="ODEnetwork_+3A_cartesian">cartesian</code></td>
<td>
<p>[<code>boolean(1)</code>]<br />
If <code>TRUE</code>, <code>state1</code> and <code>state2</code> are position and velocity,
otherwise angle and magnitude.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="ODEnetwork_+3A_distances">distances</code></td>
<td>
<p>[<code>matrix</code>] quadratic of size n<br />
Describes the length of each spring.
Elements on the main diagonal describe spring length connecting the masses to the ground.
All upper triangle elements describe spring distance between two masses i &lt; j.
Default is <code>NA</code>, which is equivalent to a zero matrix.
(Value will be copied automatically to lower triangle creating a symmetric matrix.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class [<code><a href="#topic+ODEnetwork">ODEnetwork</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mM &lt;- c(40, 10, 10)
mD &lt;- diag(c(1, 5, 0))
mD[1, 2] &lt;- 1
mD[2, 3] &lt;- 1
mK &lt;- diag(c(50, 50, 0))
mK[1, 2] &lt;- 10
mK[2, 3] &lt;- 10
odenet &lt;- ODEnetwork(mM, mD, mK)
</code></pre>

<hr>
<h2 id='plot.ODEnetwork'>Plots Results of ODEnetwork</h2><span id='topic+plot.ODEnetwork'></span>

<h3>Description</h3>

<p>Plots the results of <code>simuNetwork</code> of the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>
in different ways.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ODEnetwork'
plot(x, ..., state = "12", var = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ODEnetwork_+3A_x">x</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="plot.ODEnetwork_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
<tr><td><code id="plot.ODEnetwork_+3A_state">state</code></td>
<td>
<p>[<code>character</code>]<br />
The type of result, that is plotted.
If <code>1</code>, only state1 (position or angle) is plotted over time.
If <code>2</code>, only state2 (velocity or magnitude) is plotted over time.
If <code>12</code>, state1 and state2 are plotted over time.
If <code>1vs2</code>, state2 is plotted over state1.
Default is <code>state12</code></p>
</td></tr>
<tr><td><code id="plot.ODEnetwork_+3A_var">var</code></td>
<td>
<p>[<code>numeric(n)</code>]<br />
Subset of variables to plot. Default is <code>NULL</code>, which plots all variables.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- c(1, 2)
dampers &lt;- diag(c(0.1, 0.5))
dampers[1, 2] &lt;- 0.05
springs &lt;- diag(c(4, 10))
springs[1, 2] &lt;- 6
odenet &lt;- ODEnetwork(masses, dampers, springs)
odenet &lt;- setState(odenet, c(1, 3), c(0, 0))
odenet &lt;- simuNetwork(odenet, seq(0, 10, by = 0.05))
plot(odenet)
plot(odenet, var = 2L)
plot(odenet, state = "1")
plot(odenet, state = "2")
plot(odenet, state = "1vs2")
</code></pre>

<hr>
<h2 id='setEvents'>Setting Events</h2><span id='topic+setEvents'></span>

<h3>Description</h3>

<p>Sets different types of events for the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setEvents(odenet, events, type = "dirac")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setEvents_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="setEvents_+3A_events">events</code></td>
<td>
<p>[<code>data.frame</code>]<br />
Data frame with a time base and named column per variable.
See <code><a href="deSolve.html#topic+events">events</a></code> for detailed definition of <code>events</code>.</p>
</td></tr>
<tr><td><code id="setEvents_+3A_type">type</code></td>
<td>
<p>[<code>character</code>]<br />
The type of the events to use.
Possible values are <code>dirac</code>, <code>constant</code> or <code>linear</code>.<br />
Type <code>dirac</code> sets the current state at a given time point to a new value.
<code>Constant</code> sets the state to the given value and the state does not change until
setting new value or the end of <code>events</code>.
<code>Linear</code> interpolates linear between <code>events</code> and sets the state variables
to this value.<br />
Default is <code>dirac</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an extended list of class [<code><a href="#topic+ODEnetwork">ODEnetwork</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- 1
dampers &lt;- as.matrix(1.5)
springs &lt;- as.matrix(4)
odenet &lt;- ODEnetwork(masses, dampers, springs)
eventdat &lt;- data.frame(  var = c("x.1", "x.1")
                       , time = c(1, 3)
                       , value = c(1, 3)
                       , stringsAsFactors = TRUE
                       )
odenet &lt;- setState(odenet, 0, 0)
odenet &lt;- setEvents(odenet, eventdat)
odenet &lt;- simuNetwork(odenet, seq(0, 10, by = 0.1))
plot(odenet)
</code></pre>

<hr>
<h2 id='setState'>Set starting State</h2><span id='topic+setState'></span>

<h3>Description</h3>

<p>Sets the starting State for the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setState(odenet, state1, state2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setState_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="setState_+3A_state1">state1</code></td>
<td>
<p>[<code>numeric(n)</code>]<br />
Numeric vector of length n (same as in <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>) with position or angle.</p>
</td></tr>
<tr><td><code id="setState_+3A_state2">state2</code></td>
<td>
<p>[<code>numeric(n)</code>]<br />
Numeric vector of length n (same as in <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>) with velocity or magnitude.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an extended list of class [<code><a href="#topic+ODEnetwork">ODEnetwork</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- 4:6
dampers &lt;- diag(1:3)
springs &lt;- diag(7:9)
odenet &lt;- ODEnetwork(masses, dampers, springs)
position &lt;- rep(10, 3)
velocity &lt;- rep(0, 3)
odenet &lt;- setState(odenet, position, velocity)
</code></pre>

<hr>
<h2 id='simuNetwork'>Simulation of the Differential Equations</h2><span id='topic+simuNetwork'></span>

<h3>Description</h3>

<p>Simulates the given <code><a href="#topic+ODEnetwork">ODEnetwork</a></code> over a time range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simuNetwork(odenet, times, origin.min.time = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simuNetwork_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="simuNetwork_+3A_times">times</code></td>
<td>
<p>[<code>numeric</code>]<br />
Time sequence to calculate or simulate the ode network.</p>
</td></tr>
<tr><td><code id="simuNetwork_+3A_origin.min.time">origin.min.time</code></td>
<td>
<p>[<code>logical(1L)</code>]<br />
Define origin of ode time.
<code>FALSE</code> sets it to 0, <code>TRUE</code> to the minimum of <code>times</code>.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="simuNetwork_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an extended list of class [<code><a href="#topic+ODEnetwork">ODEnetwork</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- 4:6
dampers &lt;- diag(1:3)
springs &lt;- diag(7:9)
odenet &lt;- ODEnetwork(masses, dampers, springs)
position &lt;- rep(10, 3)
velocity &lt;- rep(0, 3)
odenet &lt;- setState(odenet, position, velocity)
odenet &lt;- simuNetwork(odenet = odenet, times = seq(0, 20))
</code></pre>

<hr>
<h2 id='updateOscillators'>Update oscillator parameter of an existing ODE network.</h2><span id='topic+updateOscillators'></span>

<h3>Description</h3>

<p>Updates the parameters of an existing ODE network.
Possible parameters are the oscillator configuration and the starting values.
The function overwrites the parameters in the vector and matrices.
It will not change the size of the network.
It is possible to set a new vector and new matrices, or single parameters in a names vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateOscillators(
  odenet,
  ParamVec = NULL,
  masses = NULL,
  dampers = NULL,
  springs = NULL,
  distances = NULL,
  state1 = NULL,
  state2 = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateOscillators_+3A_odenet">odenet</code></td>
<td>
<p>[<code>ODEnetwork</code>]<br />
List of class <code><a href="#topic+ODEnetwork">ODEnetwork</a></code>.</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_paramvec">ParamVec</code></td>
<td>
<p>[<code>vector</code>] of length n<br />
Named vector to overwrite corresponding parameters.
Masses start with &quot;m.&quot; followed by a number (e.g.: &quot;m.12&quot;).
Dampers start with &quot;d.&quot; followed by one or two numbers separated by a dot (e.g.: &quot;d.2&quot;, &quot;d.5.6&quot;).
Springs start with &quot;k.&quot;, like dampers (e.g.: &quot;k.4&quot;, &quot;k.3.9&quot;)
Distances start with &quot;r.&quot;, like dampers (e.g.: &quot;r.7&quot;, &quot;r.1.9&quot;)
The triangle elements of the dampers, springs, and distances are characterised by increasing numbers.
A name &quot;d.3.5&quot; is correct, in contrast to &quot;d.5.3&quot; which is ignored.
This is done to speed up, because the matrices are symmetric.
State1 and state2 start with &quot;st1.&quot; or &quot;st2.&quot; respectively, followed by a number (e.g.: &quot;st1.15&quot;, &quot;st2.8&quot;).
If the vector is set, the following parameters are ignored.</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_masses">masses</code></td>
<td>
<p>[<code>vector</code>] of length n<br />
The masses of the mechanical oscillators.</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_dampers">dampers</code></td>
<td>
<p>[<code>matrix</code>] quadratic of size n<br />
The dampers of the mechanical oscillators on the main diagonal.
Connecting dampers between oscillators on the upper triangle.
(Will be copied automatically to create a symmetric matrix.)</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_springs">springs</code></td>
<td>
<p>[<code>matrix</code>] quadratic of size n<br />
The springs are defined in the network like matrix of dampers.</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_distances">distances</code></td>
<td>
<p>[<code>matrix</code>] quadratic of size n<br />
Describe spring distance between two masses i &lt; j.
Negative value will be copied automatically to lower triangle.</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_state1">state1</code></td>
<td>
<p>[<code>vector</code>] of length n<br />
Starting values of state 1 (position or angle).</p>
</td></tr>
<tr><td><code id="updateOscillators_+3A_state2">state2</code></td>
<td>
<p>[<code>vector</code>] of length n<br />
Starting values of state 2 (velocity or magnitude).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an extended list of class [<code><a href="#topic+ODEnetwork">ODEnetwork</a></code>].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>masses &lt;- c(1:5)
dampers &lt;- diag(11:15)
springs &lt;- diag(21:25)
odenet &lt;- ODEnetwork(masses, dampers, springs)
odenet &lt;- updateOscillators(odenet, masses = c(3:7))
odenet &lt;- updateOscillators(odenet, c(k.1.2 = 201, k.3.5 = 202, r.1 = 2))
# Warning: Following value is ignored, because it is on the lower triangle
odenet &lt;- updateOscillators(odenet, c(d.2.1 = 101))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

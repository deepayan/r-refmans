<!DOCTYPE html><html lang="en-US"><head><title>Help for package pacta.loanbook</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pacta.loanbook}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pacta.loanbook-package'><p>pacta.loanbook: Easily Install and Load PACTA for Banks Packages</p></a></li>
<li><a href='#abcd_demo'><p>An asset-based company dataset for demonstration</p></a></li>
<li><a href='#co2_intensity_scenario_demo'><p>A prepared co2 intensity climate scenario dataset for demonstration</p></a></li>
<li><a href='#crucial_lbk'><p>Crucial <code>loanbook</code> columns for <code>match_name()</code></p></a></li>
<li><a href='#data_dictionary'><p>Data Dictionary</p></a></li>
<li><a href='#gics_classification'><p>Dataset to bridge (translate) common sector-classification codes</p></a></li>
<li><a href='#increasing_or_decreasing'><p>Determine if a technology is increasing or decreasing</p></a></li>
<li><a href='#isic_classification'><p>Dataset to bridge (translate) common sector-classification codes</p></a></li>
<li><a href='#iso_codes'><p>Countries and codes</p></a></li>
<li><a href='#loanbook_demo'><p>A loanbook dataset for demonstration</p></a></li>
<li><a href='#market_share'><p>An example of a <code>market_share</code>-like dataset</p></a></li>
<li><a href='#match_name'><p>Match a loanbook to asset-based company data (abcd) by the <code style="white-space: pre;">&#8288;name_*&#8288;</code> columns</p></a></li>
<li><a href='#nace_classification'><p>Dataset to bridge (translate) common sector-classification codes</p></a></li>
<li><a href='#naics_classification'><p>Dataset to bridge (translate) common sector-classification codes</p></a></li>
<li><a href='#overwrite_demo'><p>A demonstration dataset used to overwrite specific entity names or sectors</p></a></li>
<li><a href='#pacta_loanbook_conflicts'><p>Conflicts between the <code>{pacta.loanbook}</code> and other packages</p></a></li>
<li><a href='#pacta_loanbook_deps'><p>List all <code>{pacta.loanbook}</code> dependencies</p></a></li>
<li><a href='#pacta_loanbook_logo'><p>The <code>{pacta.loanbook}</code> logo, using ASCII or Unicode characters</p></a></li>
<li><a href='#pacta_loanbook_packages'><p>List all packages in <code>{pacta.loanbook}</code></p></a></li>
<li><a href='#pacta_loanbook_sitrep'><p>Get a situation report on <code>{pacta.loanbook}</code></p></a></li>
<li><a href='#pacta_loanbook_update'><p>Update <code>{pacta.loanbook}</code> packages</p></a></li>
<li><a href='#palette_colours'><p>Colour datasets</p></a></li>
<li><a href='#plot_emission_intensity'><p>Create an emission intensity plot</p></a></li>
<li><a href='#plot_techmix'><p>Create a techmix plot</p></a></li>
<li><a href='#plot_trajectory'><p>Create a trajectory plot</p></a></li>
<li><a href='#prep_emission_intensity'><p>Prepare data for a emission intensity plot</p></a></li>
<li><a href='#prep_techmix'><p>Prepare data for plotting technology mix</p></a></li>
<li><a href='#prep_trajectory'><p>Prepare data for a trajectory plot</p></a></li>
<li><a href='#prioritize'><p>Pick rows where <code>score</code> is 1 and <code>level</code> per loan is of highest <code>priority</code></p></a></li>
<li><a href='#prioritize_level'><p>Arrange unique <code>level</code> values in default order of <code>priority</code></p></a></li>
<li><a href='#psic_classification'><p>Dataset to bridge (translate) common sector-classification codes</p></a></li>
<li><a href='#qplot_emission_intensity'><p>Create a quick emission intensity plot</p></a></li>
<li><a href='#qplot_techmix'><p>Create a quick techmix plot</p></a></li>
<li><a href='#qplot_trajectory'><p>Create a quick trajectory plot</p></a></li>
<li><a href='#recode_metric_techmix'><p>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</p></a></li>
<li><a href='#recode_metric_trajectory'><p>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</p></a></li>
<li><a href='#region_isos'><p>A dataset outlining various region definitions</p></a></li>
<li><a href='#region_isos_demo'><p>A dataset outlining various region definitions</p></a></li>
<li><a href='#scale_colour_r2dii'><p>Custom 2DII colour and fill scales</p></a></li>
<li><a href='#scale_colour_r2dii_sector'><p>Custom 2DII sector colour and fill scales</p></a></li>
<li><a href='#scale_colour_r2dii_tech'><p>Custom 2DII technology colour and fill scales</p></a></li>
<li><a href='#scale_fill_r2dii'><p>Custom 2DII colour and fill scales</p></a></li>
<li><a href='#scale_fill_r2dii_sector'><p>Custom 2DII sector colour and fill scales</p></a></li>
<li><a href='#scale_fill_r2dii_tech'><p>Custom 2DII technology colour and fill scales</p></a></li>
<li><a href='#scenario_colours'><p>Colour datasets</p></a></li>
<li><a href='#scenario_demo_2020'><p>A prepared climate scenario dataset for demonstration</p></a></li>
<li><a href='#sda'><p>An example of an <code>sda</code>-like dataset</p></a></li>
<li><a href='#sector_classifications'><p>A view of available sector classification datasets</p></a></li>
<li><a href='#sector_colours'><p>Colour datasets</p></a></li>
<li><a href='#sic_classification'><p>Dataset to bridge (translate) common sector-classification codes</p></a></li>
<li><a href='#spell_out_technology'><p>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</p></a></li>
<li><a href='#target_market_share'><p>Add targets for production, using the market share approach</p></a></li>
<li><a href='#target_sda'><p>Add targets for CO<sub>2</sub></p>
emissions per unit production at the portfolio level, using the SDA approach</a></li>
<li><a href='#technology_colours'><p>Colour datasets</p></a></li>
<li><a href='#theme_2dii'><p>Complete theme</p></a></li>
<li><a href='#to_title'><p>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Easily Install and Load PACTA for Banks Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>PACTA (Paris Agreement Capital Transition Assessment) for Banks is
  a tool that allows banks to calculate the climate alignment of their corporate
  lending portfolios. This package is designed to make it easy to install and
  load multiple PACTA for Banks packages in a single step. It also provides
  thorough documentation - the PACTA for Banks cookbook at
  <a href="https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html">https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html</a> -
  on how to run a PACTA for Banks analysis. This covers prerequisites for the
  analysis, the separate steps of running the analysis, the interpretation of
  PACTA for Banks results, and advanced use cases.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rmi-pacta.github.io/pacta.loanbook/">https://rmi-pacta.github.io/pacta.loanbook/</a>,
<a href="https://github.com/RMI-PACTA/pacta.loanbook">https://github.com/RMI-PACTA/pacta.loanbook</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/RMI-PACTA/pacta.loanbook/issues">https://github.com/RMI-PACTA/pacta.loanbook/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, ggrepel, magrittr, purrr, r2dii.analysis (&ge;
0.5.1), r2dii.data (&ge; 0.6.0), r2dii.match (&ge; 0.4.0),
r2dii.plot (&ge; 0.5.1), rlang, rstudioapi, scales, tibble,
tidyselect</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, DiagrammeR, ggplot2, gt (&ge; 0.11.0), knitr (&ge; 1.42),
readr, readxl, rmarkdown (&ge; 2.19), spelling, testthat (&ge;
3.2.2), tidyr, writexl</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>rmi-pacta/pacta.pkgdown.rmitemplate, rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-14 17:03:28 UTC; jkastl</td>
</tr>
<tr>
<td>Author:</td>
<td>Jacob Kastl <a href="https://orcid.org/0009-0000-8281-8129"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, ctr],
  Jackson Hoffart <a href="https://orcid.org/0000-0002-8600-5042"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, ctr],
  CJ Yetman <a href="https://orcid.org/0000-0001-5099-9500"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ctr],
  RMI [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jacob Kastl &lt;jacob.kastl@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-17 20:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pacta.loanbook-package'>pacta.loanbook: Easily Install and Load PACTA for Banks Packages</h2><span id='topic+pacta.loanbook'></span><span id='topic+pacta.loanbook-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>PACTA (Paris Agreement Capital Transition Assessment) for Banks is a tool that allows banks to calculate the climate alignment of their corporate lending portfolios. This package is designed to make it easy to install and load multiple PACTA for Banks packages in a single step. It also provides thorough documentation - the PACTA for Banks cookbook at <a href="https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html">https://rmi-pacta.github.io/pacta.loanbook/articles/cookbook_overview.html</a> - on how to run a PACTA for Banks analysis. This covers prerequisites for the analysis, the separate steps of running the analysis, the interpretation of PACTA for Banks results, and advanced use cases.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jacob Kastl <a href="mailto:jacob.kastl@gmail.com">jacob.kastl@gmail.com</a> (<a href="https://orcid.org/0009-0000-8281-8129">ORCID</a>) [contractor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Jackson Hoffart <a href="mailto:jackson.hoffart@gmail.com">jackson.hoffart@gmail.com</a> (<a href="https://orcid.org/0000-0002-8600-5042">ORCID</a>) [contractor]
</p>
</li>
<li><p> CJ Yetman <a href="mailto:cj@cjyetman.com">cj@cjyetman.com</a> (<a href="https://orcid.org/0000-0001-5099-9500">ORCID</a>) [contractor]
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> RMI <a href="mailto:PACTA4banks@rmi.org">PACTA4banks@rmi.org</a> [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rmi-pacta.github.io/pacta.loanbook/">https://rmi-pacta.github.io/pacta.loanbook/</a>
</p>
</li>
<li> <p><a href="https://github.com/RMI-PACTA/pacta.loanbook">https://github.com/RMI-PACTA/pacta.loanbook</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/RMI-PACTA/pacta.loanbook/issues">https://github.com/RMI-PACTA/pacta.loanbook/issues</a>
</p>
</li></ul>


<hr>
<h2 id='abcd_demo'>An asset-based company dataset for demonstration</h2><span id='topic+abcd_demo'></span>

<h3>Description</h3>

<p>Fake data about physical assets (e.g. wind turbine power plant
capacities), aggregated to company-level. These data are used to assess the
climate alignment of financial portfolios. It imitates data from
market-intelligence databases.
</p>
<p>Demo datasets are synthetic because most financial data is strictly private;
they help to demonstrate and test the implementation in R of 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>abcd_demo
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 4972 rows and 12 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>company_id</code> (character): The id of the company owning the asset created by the data provider., * <code>emission_factor</code> (double): Company level emission factor of the technology., * <code>emission_factor_unit</code> (character): The units that the emission factor is measured in., * <code>is_ultimate_owner</code> (logical): Flag if company is the ultimate parent in our database., * <code>lei</code> (character): The legal entity identifier of the company owning the asset., * <code>name_company</code> (character): The name of the company owning the asset., * <code>plant_location</code> (character): Country where asset is located., * <code>production</code> (double): Company level production of the technology., * <code>production_unit</code> (character): The units that production is measured in., * <code>sector</code> (character): Sector to which the asset belongs., * <code>technology</code> (character): Technology implemented by the asset., * <code>year</code> (integer): Year at which the production value is predicted.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(abcd_demo)
</code></pre>

<hr>
<h2 id='co2_intensity_scenario_demo'>A prepared co2 intensity climate scenario dataset for demonstration</h2><span id='topic+co2_intensity_scenario_demo'></span>

<h3>Description</h3>

<p>Fake co2 intensity climate scenario dataset, prepared for the software
PACTA (Paris Agreement Capital Transition Assessment). It imitates
climate scenario data (e.g. from the International Energy Agency (IEA))
including the change through time in production across industrial sectors.
</p>
<p>Demo datasets are synthetic because most financial data is strictly private;
they help to demonstrate and test the implementation in R of 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>co2_intensity_scenario_demo
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 22 rows and 7 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>emission_factor</code> (double): The target sector level emissions factor that the scenario prescribes., * <code>emission_factor_unit</code> (character): The units that the emissions factor is measured in., * <code>region</code> (character): The region to which the pathway is relevant., * <code>scenario</code> (character): The name of the scenario., * <code>scenario_source</code> (character): The source publication from which the scenario was taken., * <code>sector</code> (character): The sector to which the scenario prescribes a pathway., * <code>year</code> (integer): The year at which the pathway value is prescribed.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(co2_intensity_scenario_demo)
</code></pre>

<hr>
<h2 id='crucial_lbk'>Crucial <code>loanbook</code> columns for <code>match_name()</code></h2><span id='topic+crucial_lbk'></span>

<h3>Description</h3>

<p>This is a helper to select the minimum <code>loanbook</code> columns you need to run
<code>match_name()</code>. Using more columns may use too much time and memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crucial_lbk()
</code></pre>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>See Also</h3>

<p>Other matching functions: 
<code><a href="#topic+match_name">match_name</a>()</code>,
<code><a href="#topic+prioritize">prioritize</a>()</code>,
<code><a href="#topic+prioritize_level">prioritize_level</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crucial_lbk()
</code></pre>

<hr>
<h2 id='data_dictionary'>Data Dictionary</h2><span id='topic+data_dictionary'></span>

<h3>Description</h3>

<p>A table of column names and descriptions of data frames used or exported by
the functions in this package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dictionary
</code></pre>


<h3>Format</h3>



<h4><code>data_dictionary</code></h4>


<dl>
<dt>dataset</dt><dd><p>Name of the dataset</p>
</dd>
<dt>column</dt><dd><p>Name of the column</p>
</dd>
<dt>typeof</dt><dd><p>Type of the column</p>
</dd>
<dt>definition</dt><dd><p>Definition of the column</p>
</dd>
</dl>




<h3>Examples</h3>

<pre><code class='language-R'>data_dictionary

</code></pre>

<hr>
<h2 id='gics_classification'>Dataset to bridge (translate) common sector-classification codes</h2><span id='topic+gics_classification'></span>

<h3>Description</h3>

<p>This dataset serves as a translation key between common sector-classification
systems and sectors relevant to the 'PACTA' tool
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gics_classification
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 282 rows and 5 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (logical): Flag indicating if PACTA sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the PACTA sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of PACTA's scope.., * <code>code</code> (character): Original GICS code., * <code>description</code> (character): Original GICS description., * <code>sector</code> (character): Associated PACTA sector., * <code>version</code> (character): Column identifying to which GICS version the code belongs.
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(gics_classification)
</code></pre>

<hr>
<h2 id='increasing_or_decreasing'>Determine if a technology is increasing or decreasing</h2><span id='topic+increasing_or_decreasing'></span>

<h3>Description</h3>

<p>This dataset provides a simple lookup table to determine if a technology is
meant to increase or decrease to align with a scenario that predicts a less
than 2 degree temperature rise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>increasing_or_decreasing
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 20 rows and 3 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>increasing_or_decreasing</code> (character): If the technology is increasing or decreasing, as defined by the Paris-aligned IEA scenarios., * <code>sector</code> (character): The sector to which the technology belongs., * <code>technology</code> (character): The technology sub-category within the sector.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(increasing_or_decreasing)
</code></pre>

<hr>
<h2 id='isic_classification'>Dataset to bridge (translate) common sector-classification codes</h2><span id='topic+isic_classification'></span>

<h3>Description</h3>

<p>This dataset serves as a translation key between common sector-classification
systems and sectors relevant to the 'PACTA' tool
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isic_classification
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 830 rows and 6 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (logical): Flag indicating if PACTA sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the PACTA sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of PACTA's scope.., * <code>code</code> (character): ISIC Rev 5 code with top-level letter prepended., * <code>description</code> (character): Original ISIC Rev 5 title., * <code>original_code</code> (character): Original ISIC Rev 5 code., * <code>revision</code> (character): Column identifying to which ISIC revision the code belongs.., * <code>sector</code> (character): Associated PACTA sector.
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(isic_classification)
</code></pre>

<hr>
<h2 id='iso_codes'>Countries and codes</h2><span id='topic+iso_codes'></span>

<h3>Description</h3>

<p>This dataset maps countries to codes.
</p>
<p>For information about the ISO standard for country codes see
<a href="https://www.iso.org/iso-3166-country-codes.html">https://www.iso.org/iso-3166-country-codes.html</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iso_codes
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 286 rows and 2 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>country</code> (character): Country name., * <code>country_iso</code> (character): Corresponding ISO code.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(iso_codes)
</code></pre>

<hr>
<h2 id='loanbook_demo'>A loanbook dataset for demonstration</h2><span id='topic+loanbook_demo'></span>

<h3>Description</h3>

<p>Fake financial portfolio.
</p>
<p>Demo datasets are synthetic because most financial data is strictly private;
they help to demonstrate and test the implementation in R of 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loanbook_demo
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 283 rows and 13 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>id_direct_loantaker</code> (character): Borrower identifier unique to each borrower/sector combination in loanbook., * <code>id_loan</code> (character): Unique loan identifier., * <code>id_ultimate_parent</code> (character): Ultimate parent identifier unique to each ultimate parent/sector combination., * <code>isin_direct_loantaker</code> (logical): Optional input: providing the isin identifier of the direct loan taker to improve the matching coverage., * <code>lei_direct_loantaker</code> (logical): Optional input: providing the lei (legal entity identifier) of the direct loan taker to improve the matching coverage., * <code>loan_size_credit_limit</code> (double): Total credit limit or exposure at default., * <code>loan_size_credit_limit_currency</code> (character): Currency corresponding to credit limit., * <code>loan_size_outstanding</code> (double): Amount drawn by borrower from total credit limit., * <code>loan_size_outstanding_currency</code> (character): Currency corresponding to outstandings., * <code>name_direct_loantaker</code> (character): Name of the company directly taking the loan., * <code>name_ultimate_parent</code> (character): Name of the ultimate parent company to which the borrower belongs. Can be the same as borrower., * <code>sector_classification_direct_loantaker</code> (double): Sector classification code of the direct loantaker., * <code>sector_classification_system</code> (character): Name of the sector classification standard being used.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(loanbook_demo)
</code></pre>

<hr>
<h2 id='market_share'>An example of a <code>market_share</code>-like dataset</h2><span id='topic+market_share'></span>

<h3>Description</h3>

<p>Dataset imitating the output of <code><a href="r2dii.analysis.html#topic+target_market_share">r2dii.analysis::target_market_share()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>market_share
</code></pre>


<h3>Format</h3>

<p>An object of class <code>spec_tbl_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 802 rows and 10 columns.
</p>


<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>market_share
</code></pre>

<hr>
<h2 id='match_name'>Match a loanbook to asset-based company data (abcd) by the <code style="white-space: pre;">&#8288;name_*&#8288;</code> columns</h2><span id='topic+match_name'></span>

<h3>Description</h3>

<p><code>match_name()</code> scores the match between names in a loanbook dataset (columns
can be <code>name_direct_loantaker</code>, <code style="white-space: pre;">&#8288;name_intermediate_parent*&#8288;</code> and
<code>name_ultimate_parent</code>) with names in an asset-based company data (column
<code>name_company</code>). The raw names are first internally transformed, and aliases
are assigned. The similarity between aliases in each of the loanbook and abcd
is scored using <code><a href="stringdist.html#topic+stringsim">stringdist::stringsim()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_name(
  loanbook,
  abcd,
  by_sector = TRUE,
  min_score = 0.8,
  method = "jw",
  p = 0.1,
  overwrite = NULL,
  join_id = NULL,
  sector_classification = default_sector_classification(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="match_name_+3A_loanbook">loanbook</code>, <code id="match_name_+3A_abcd">abcd</code></td>
<td>
<p>data frames structured like <a href="r2dii.data.html#topic+loanbook_demo">r2dii.data::loanbook_demo</a>
and <a href="r2dii.data.html#topic+abcd_demo">r2dii.data::abcd_demo</a>.</p>
</td></tr>
<tr><td><code id="match_name_+3A_by_sector">by_sector</code></td>
<td>
<p>Should names only be compared if companies belong to the
same <code>sector</code>?</p>
</td></tr>
<tr><td><code id="match_name_+3A_min_score">min_score</code></td>
<td>
<p>A number between 0-1, to set the minimum <code>score</code> threshold.
A <code>score</code> of 1 is a perfect match.</p>
</td></tr>
<tr><td><code id="match_name_+3A_method">method</code></td>
<td>
<p>Method for distance calculation. One of <code>c("osa", "lv", "dl", "hamming", "lcs", "qgram", "cosine", "jaccard", "jw", "soundex")</code>. See
<a href="stringdist.html#topic+stringdist-metrics">stringdist::stringdist-metrics</a>.</p>
</td></tr>
<tr><td><code id="match_name_+3A_p">p</code></td>
<td>
<p>Prefix factor for Jaro-Winkler distance. The valid range for 
<code>p</code> is <code>0 &lt;= p &lt;= 0.25</code>. If <code>p=0</code> (default), the
Jaro-distance is returned. Applies only to <code>method='jw'</code>.</p>
</td></tr>
<tr><td><code id="match_name_+3A_overwrite">overwrite</code></td>
<td>
<p>A data frame used to overwrite the <code>sector</code> and/or <code>name</code>
columns of a particular direct loantaker or ultimate parent. To overwrite
only <code>sector</code>, the value in the <code>name</code> column should be <code>NA</code> and
vice-versa. This file can be used to manually match loanbook companies to
abcd.</p>
</td></tr>
<tr><td><code id="match_name_+3A_join_id">join_id</code></td>
<td>
<p>A join specification passed to <code><a href="dplyr.html#topic+mutate-joins">dplyr::inner_join()</a></code>. If a
character string, it assumes identical join columns between <code>loanbook</code> and
<code>abcd</code>. If a named character vector, it uses the name as the join column of <code>loanbook</code> and
the value as the join column of <code>abcd</code>.</p>
</td></tr>
<tr><td><code id="match_name_+3A_sector_classification">sector_classification</code></td>
<td>
<p>A data frame containing sector classifications
in the same format as <code>r2dii.data::sector_classifications</code>. The default
value is <code>r2dii.data::sector_classifications</code>.</p>
</td></tr>
<tr><td><code id="match_name_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="stringdist.html#topic+stringsim">stringdist::stringsim()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the same groups (if any) and columns as <code>loanbook</code>,
and the additional columns:
</p>

<ul>
<li> <p><code>id_2dii</code> - an id used internally by <code>match_name()</code> to distinguish
companies
</p>
</li>
<li> <p><code>level</code> - the level of granularity that the loan was matched at
(e.g <code>direct_loantaker</code> or <code>ultimate_parent</code>)
</p>
</li>
<li> <p><code>sector</code> - the sector of the <code>loanbook</code> company
</p>
</li>
<li> <p><code>sector_abcd</code> - the sector of the <code>abcd</code> company
</p>
</li>
<li> <p><code>name</code> - the name of the <code>loanbook</code> company
</p>
</li>
<li> <p><code>name_abcd</code> - the name of the <code>abcd</code> company
</p>
</li>
<li> <p><code>score</code> - the score of the match (manually set this to <code>1</code>
prior to calling <code>prioritize()</code> to validate the match)
</p>
</li>
<li> <p><code>source</code> - determines the source of the match. (equal to <code>loanbook</code>
unless the match is from <code>overwrite</code>
</p>
</li></ul>

<p>The returned rows depend on the argument <code>min_value</code> and the result of the
column <code>score</code> for each loan: * If any row has <code>score</code> equal to 1,
<code>match_name()</code> returns all rows where <code>score</code> equals 1, dropping all other
rows. * If no row has <code>score</code> equal to 1,<code>match_name()</code> returns all rows
where <code>score</code> is equal to or greater than <code>min_score</code>. * If there is no
match the output is a 0-row tibble with the expected column names &ndash; for
type stability.
</p>


<h3>Assigning aliases</h3>

<p>The transformation process used to compare names between loanbook and abcd
datasets applies best practices commonly used in name matching algorithms:
</p>

<ul>
<li><p> Remove special characters.
</p>
</li>
<li><p> Replace language specific characters.
</p>
</li>
<li><p> Abbreviate certain names to reduce their importance in the matching.
</p>
</li>
<li><p> Spell out numbers to increase their importance.
</p>
</li></ul>



<h3>Handling grouped data</h3>

<p>This function ignores but preserves existing groups.
</p>


<h3>See Also</h3>

<p>Other matching functions: 
<code><a href="#topic+crucial_lbk">crucial_lbk</a>()</code>,
<code><a href="#topic+prioritize">prioritize</a>()</code>,
<code><a href="#topic+prioritize_level">prioritize_level</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(r2dii.data)
library(tibble)

# Small data for examples
loanbook &lt;- head(loanbook_demo, 50)
abcd &lt;- head(abcd_demo, 50)

match_name(loanbook, abcd)

match_name(loanbook, abcd, min_score = 0.9)

# match on LEI
loanbook &lt;- tibble(
  sector_classification_system = "NACE",
  sector_classification_direct_loantaker = "D35.11",
  id_ultimate_parent = "UP15",
  name_ultimate_parent = "Won't fuzzy match",
  id_direct_loantaker = "C294",
  name_direct_loantaker = "Won't fuzzy match",
  lei_direct_loantaker = "LEI123"
)

abcd &lt;- tibble(
  name_company = "alpine knits india pvt. limited",
  sector = "power",
  lei = "LEI123"
)

match_name(loanbook, abcd, join_id = c(lei_direct_loantaker = "lei"))

# Use your own `sector_classifications`
your_classifications &lt;- tibble(
  sector = "power",
  borderline = FALSE,
  code = "D35.11",
  code_system = "XYZ"
)

loanbook &lt;- tibble(
  sector_classification_system = "XYZ",
  sector_classification_direct_loantaker = "D35.11",
  id_ultimate_parent = "UP15",
  name_ultimate_parent = "Alpine Knits India Pvt. Limited",
  id_direct_loantaker = "C294",
  name_direct_loantaker = "Yuamen Xinneng Thermal Power Co Ltd"
)

abcd &lt;- tibble(
  name_company = "alpine knits india pvt. limited",
  sector = "power"
)

match_name(loanbook, abcd, sector_classification = your_classifications)
</code></pre>

<hr>
<h2 id='nace_classification'>Dataset to bridge (translate) common sector-classification codes</h2><span id='topic+nace_classification'></span>

<h3>Description</h3>

<p>This dataset serves as a translation key between common sector-classification
systems and sectors relevant to the 'PACTA' tool
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nace_classification
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1047 rows and 6 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (logical): Flag indicating if PACTA sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the PACTA sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of PACTA's scope., * <code>code</code> (character): NACE version 2.1 code with top-level letter prepended., * <code>description</code> (character): Original NACE version 2.1 description., * <code>original_code</code> (character): Original NACE version 2.1 code., * <code>sector</code> (character): Associated PACTA sector., * <code>version</code> (character): Column identifying to which NACE version the code belongs.
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(nace_classification)
</code></pre>

<hr>
<h2 id='naics_classification'>Dataset to bridge (translate) common sector-classification codes</h2><span id='topic+naics_classification'></span>

<h3>Description</h3>

<p>This dataset serves as a translation key between common sector-classification
systems and sectors relevant to the 'PACTA' tool
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>naics_classification
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 2125 rows and 5 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (logical): Flag indicating if PACTA sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the PACTA sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of PACTA's scope.., * <code>code</code> (character): Six-digit NAICS code., * <code>description</code> (character): Original NAICS sector title., * <code>sector</code> (character): Associated PACTA sector., * <code>version</code> (character): Column identifying which year the classification was published in..
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(naics_classification)
</code></pre>

<hr>
<h2 id='overwrite_demo'>A demonstration dataset used to overwrite specific entity names or sectors</h2><span id='topic+overwrite_demo'></span>

<h3>Description</h3>

<p>Fake dataset used to manually link loanbook entities to mismatched asset
level entities.
</p>
<p>Demo datasets are synthetic because most financial data is strictly private;
they help to demonstrate and test the implementation in R of 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overwrite_demo
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 2 rows and 5 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>id_2dii</code> (character): IDs of the entities to overwrite., * <code>level</code> (character): Which level should be overwritten (e.g. direct_loantaker or ultimate_parent)., * <code>name</code> (character): Overwrite name (if only overwriting sector, type NA)., * <code>sector</code> (character): Overwrite sector (if only overwriting name, type NA)., * <code>source</code> (character): What is the source of this information (leave as &quot;manual&quot; for now, may remove this flag later).
</p>
</li></ul>



<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(overwrite_demo)
</code></pre>

<hr>
<h2 id='pacta_loanbook_conflicts'>Conflicts between the <code>{pacta.loanbook}</code> and other packages</h2><span id='topic+pacta_loanbook_conflicts'></span>

<h3>Description</h3>

<p>This function lists all the conflicts between packages in the
<code>{pacta.loanbook}</code> and other packages that you have loaded.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacta_loanbook_conflicts(only = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacta_loanbook_conflicts_+3A_only">only</code></td>
<td>
<p>Set this to a character vector to restrict to conflicts only
with these packages.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are four conflicts that are deliberately ignored: <code>intersect</code>,
<code>union</code>, <code>setequal</code>, and <code>setdiff</code> from dplyr. These functions
make the base equivalents generic, so shouldn't negatively affect any
existing code.
</p>


<h3>Value</h3>

<p>a <code>pacta_loanbook_conflicts</code> classed list which will print a list of
conflicts to the console in interactive sessions, or <code>NULL</code> if no conflicts
are found.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pacta_loanbook_deps">pacta_loanbook_deps</a>()</code>,
<code><a href="#topic+pacta_loanbook_logo">pacta_loanbook_logo</a>()</code>,
<code><a href="#topic+pacta_loanbook_packages">pacta_loanbook_packages</a>()</code>,
<code><a href="#topic+pacta_loanbook_sitrep">pacta_loanbook_sitrep</a>()</code>,
<code><a href="#topic+pacta_loanbook_update">pacta_loanbook_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacta_loanbook_conflicts()
</code></pre>

<hr>
<h2 id='pacta_loanbook_deps'>List all <code>{pacta.loanbook}</code> dependencies</h2><span id='topic+pacta_loanbook_deps'></span>

<h3>Description</h3>

<p>List all <code>{pacta.loanbook}</code> dependencies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacta_loanbook_deps(recursive = FALSE, repos = getOption("repos"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacta_loanbook_deps_+3A_recursive">recursive</code></td>
<td>
<p>If <code>TRUE</code>, will also list all dependencies of
<code>{pacta.loanbook}</code> packages.</p>
</td></tr>
<tr><td><code id="pacta_loanbook_deps_+3A_repos">repos</code></td>
<td>
<p>The repositories to use to check for updates.
Defaults to <code>getOption("repos")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tibble</code> containing the local and CRAN versions of dependent
packages.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pacta_loanbook_conflicts">pacta_loanbook_conflicts</a>()</code>,
<code><a href="#topic+pacta_loanbook_logo">pacta_loanbook_logo</a>()</code>,
<code><a href="#topic+pacta_loanbook_packages">pacta_loanbook_packages</a>()</code>,
<code><a href="#topic+pacta_loanbook_sitrep">pacta_loanbook_sitrep</a>()</code>,
<code><a href="#topic+pacta_loanbook_update">pacta_loanbook_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacta_loanbook_deps(repos = "https://cran.r-project.org")
</code></pre>

<hr>
<h2 id='pacta_loanbook_logo'>The <code>{pacta.loanbook}</code> logo, using ASCII or Unicode characters</h2><span id='topic+pacta_loanbook_logo'></span>

<h3>Description</h3>

<p>Use <code><a href="cli.html#topic+ansi_strip">cli::ansi_strip()</a></code> to get rid of the colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacta_loanbook_logo(unicode = cli::is_utf8_output())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacta_loanbook_logo_+3A_unicode">unicode</code></td>
<td>
<p>Whether to use Unicode symbols. Default is <code>TRUE</code> on UTF-8
platforms.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pacta_loanbook_logo</code> classed <code>cli_ansi_string</code> which will print
the PACTA logo in the console in interactive sessions.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pacta_loanbook_conflicts">pacta_loanbook_conflicts</a>()</code>,
<code><a href="#topic+pacta_loanbook_deps">pacta_loanbook_deps</a>()</code>,
<code><a href="#topic+pacta_loanbook_packages">pacta_loanbook_packages</a>()</code>,
<code><a href="#topic+pacta_loanbook_sitrep">pacta_loanbook_sitrep</a>()</code>,
<code><a href="#topic+pacta_loanbook_update">pacta_loanbook_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacta_loanbook_logo()
</code></pre>

<hr>
<h2 id='pacta_loanbook_packages'>List all packages in <code>{pacta.loanbook}</code></h2><span id='topic+pacta_loanbook_packages'></span>

<h3>Description</h3>

<p>List all packages in <code>{pacta.loanbook}</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacta_loanbook_packages(include_self = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacta_loanbook_packages_+3A_include_self">include_self</code></td>
<td>
<p>Include <code>{pacta.loanbook}</code> in the list?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector containing the names of packages imported by
<code>{pacta.loanbook}</code>.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pacta_loanbook_conflicts">pacta_loanbook_conflicts</a>()</code>,
<code><a href="#topic+pacta_loanbook_deps">pacta_loanbook_deps</a>()</code>,
<code><a href="#topic+pacta_loanbook_logo">pacta_loanbook_logo</a>()</code>,
<code><a href="#topic+pacta_loanbook_sitrep">pacta_loanbook_sitrep</a>()</code>,
<code><a href="#topic+pacta_loanbook_update">pacta_loanbook_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacta_loanbook_packages()
</code></pre>

<hr>
<h2 id='pacta_loanbook_sitrep'>Get a situation report on <code>{pacta.loanbook}</code></h2><span id='topic+pacta_loanbook_sitrep'></span>

<h3>Description</h3>

<p>This function gives a quick overview of the versions of R and RStudio as well
as the <code>{pacta.loanbook}</code> package. It's primarily designed to help you get a
quick idea of what's going on when you're helping someone else debug a
problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacta_loanbook_sitrep(repos = getOption("repos"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacta_loanbook_sitrep_+3A_repos">repos</code></td>
<td>
<p>The repositories to use to check for updates.
Defaults to <code>getOption("repos")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns <code>NULL</code> invisibly. The function is called for its side effect
of printing a situation report of <code>{pacta.loanbook}</code> and its core packages.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pacta_loanbook_conflicts">pacta_loanbook_conflicts</a>()</code>,
<code><a href="#topic+pacta_loanbook_deps">pacta_loanbook_deps</a>()</code>,
<code><a href="#topic+pacta_loanbook_logo">pacta_loanbook_logo</a>()</code>,
<code><a href="#topic+pacta_loanbook_packages">pacta_loanbook_packages</a>()</code>,
<code><a href="#topic+pacta_loanbook_update">pacta_loanbook_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacta_loanbook_sitrep(repos = "https://cran.r-project.org")
</code></pre>

<hr>
<h2 id='pacta_loanbook_update'>Update <code>{pacta.loanbook}</code> packages</h2><span id='topic+pacta_loanbook_update'></span>

<h3>Description</h3>

<p>This will check to see if all <code>{pacta.loanbook}</code> packages (and optionally,
their dependencies) are up-to-date, and will install after an interactive
confirmation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pacta_loanbook_update(recursive = FALSE, repos = getOption("repos"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pacta_loanbook_update_+3A_recursive">recursive</code></td>
<td>
<p>If <code>TRUE</code>, will also list all dependencies of
<code>{pacta.loanbook}</code> packages.</p>
</td></tr>
<tr><td><code id="pacta_loanbook_update_+3A_repos">repos</code></td>
<td>
<p>The repositories to use to check for updates.
Defaults to <code>getOption("repos")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns <code>NULL</code> invisibly. The function is called for its side effect
of printing the status of locally installed, relevant packages.
</p>


<h3>See Also</h3>

<p>Other utility functions: 
<code><a href="#topic+pacta_loanbook_conflicts">pacta_loanbook_conflicts</a>()</code>,
<code><a href="#topic+pacta_loanbook_deps">pacta_loanbook_deps</a>()</code>,
<code><a href="#topic+pacta_loanbook_logo">pacta_loanbook_logo</a>()</code>,
<code><a href="#topic+pacta_loanbook_packages">pacta_loanbook_packages</a>()</code>,
<code><a href="#topic+pacta_loanbook_sitrep">pacta_loanbook_sitrep</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pacta_loanbook_update(repos = "https://cran.r-project.org")
</code></pre>

<hr>
<h2 id='palette_colours'>Colour datasets</h2><span id='topic+palette_colours'></span>

<h3>Description</h3>

<p>All datasets have at least two columns:
</p>

<ul>
<li> <p><code>label</code>: Text label of the colour.
</p>
</li>
<li> <p><code>hex</code>: Hex code of the colour.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>palette_colours
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 9 rows and 2 columns.
</p>


<h3>Details</h3>

<p>In <code>scenario_colours</code>, colours are ordered from red to green to be used in
trajectory charts.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>palette_colours

scenario_colours

sector_colours

technology_colours
</code></pre>

<hr>
<h2 id='plot_emission_intensity'>Create an emission intensity plot</h2><span id='topic+plot_emission_intensity'></span>

<h3>Description</h3>

<p>Create an emission intensity plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_emission_intensity(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_emission_intensity_+3A_data">data</code></td>
<td>
<p>A data frame like the output of <code>prep_emission_intensity()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ggplot&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># plot with `qplot_emission_intensity()` parameters
data &lt;- subset(sda, sector == "cement" &amp; region == "global")
data &lt;- prep_emission_intensity(data, span_5yr = TRUE, convert_label = to_title)

plot_emission_intensity(data)
</code></pre>

<hr>
<h2 id='plot_techmix'>Create a techmix plot</h2><span id='topic+plot_techmix'></span>

<h3>Description</h3>

<p>Create a techmix plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_techmix(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_techmix_+3A_data">data</code></td>
<td>
<p>A data frame like the output of <code>prep_techmix()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ggplot&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># plot with `qplot_techmix()` parameters
data &lt;- subset(
  market_share,
  scenario_source == "demo_2020" &amp;
    sector == "power" &amp;
    region == "global" &amp;
    metric %in% c("projected", "corporate_economy", "target_sds")
)
data &lt;- prep_techmix(
  data,
  span_5yr = TRUE,
  convert_label = recode_metric_techmix,
  convert_tech_label = spell_out_technology
)

plot_techmix(data)
</code></pre>

<hr>
<h2 id='plot_trajectory'>Create a trajectory plot</h2><span id='topic+plot_trajectory'></span>

<h3>Description</h3>

<p>Create a trajectory plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_trajectory(data, center_y = FALSE, perc_y_scale = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_trajectory_+3A_data">data</code></td>
<td>
<p>A data frame like the outputs of <code>prep_trajectory()</code>.
</p>

<ul>
<li><p> (Optional) If present, the column <code>label</code> is used for data labels.
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot_trajectory_+3A_center_y">center_y</code></td>
<td>
<p>Logical. Use <code>TRUE</code> to center the y-axis around start value
(the default behavior of <code>qplot_trajectory()</code>), or use <code>FALSE</code> to not
center.</p>
</td></tr>
<tr><td><code id="plot_trajectory_+3A_perc_y_scale">perc_y_scale</code></td>
<td>
<p>Logical. <code>FALSE</code> defaults to using no label conversion.
Use <code>TRUE</code> to convert labels on y-axis to percentage using
<code>scales::percent</code> (the default behavior of <code>qplot_trajectory()</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ggplot&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># plot with `qplot_trajectory()` parameters
data &lt;- subset(
  market_share,
  sector == "power" &amp;
    technology == "renewablescap" &amp;
    region == "global" &amp;
    scenario_source == "demo_2020"
)
data &lt;- prep_trajectory(data)

plot_trajectory(
  data,
  center_y = TRUE,
  perc_y_scale = TRUE
)
</code></pre>

<hr>
<h2 id='prep_emission_intensity'>Prepare data for a emission intensity plot</h2><span id='topic+prep_emission_intensity'></span>

<h3>Description</h3>

<p>Prepare data for a emission intensity plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prep_emission_intensity(data, convert_label = identity, span_5yr = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prep_emission_intensity_+3A_data">data</code></td>
<td>
<p>A data frame. Requirements:
</p>

<ul>
<li><p> The structure must be like <a href="r2dii.plot.html#topic+sda">sda</a>.
</p>
</li>
<li><p> The column <code>sector</code> must have a single value (e.g. &quot;cement&quot;).
</p>
</li>
<li><p> (Optional) If present, the column <code>label</code> is used for data labels.
</p>
</li></ul>
</td></tr>
<tr><td><code id="prep_emission_intensity_+3A_convert_label">convert_label</code></td>
<td>
<p>A symbol. The unquoted name of a function to apply to
y-axis labels. For example:
</p>

<ul>
<li><p> To convert labels to uppercase use <code>convert_label = toupper</code>.
</p>
</li>
<li><p> To get the default behavior of <code>qplot_emission_intensity()</code> use
<code>convert_label = to_title</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="prep_emission_intensity_+3A_span_5yr">span_5yr</code></td>
<td>
<p>Logical. Use <code>TRUE</code> to restrict the time span to 5 years from
the start year (the default behavior of <code>qplot_emission_intensity()</code>), or use
<code>FALSE</code> to impose no restriction.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data-frame ready to be plotted using <code>plot_emission_intensity()</code>.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># `data` must meet documented "Requirements"
data &lt;- subset(sda, sector == "cement" &amp; region == "global")
prep_emission_intensity(data)
</code></pre>

<hr>
<h2 id='prep_techmix'>Prepare data for plotting technology mix</h2><span id='topic+prep_techmix'></span>

<h3>Description</h3>

<p>Prepare data for plotting technology mix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prep_techmix(
  data,
  convert_label = identity,
  span_5yr = FALSE,
  convert_tech_label = identity
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prep_techmix_+3A_data">data</code></td>
<td>
<p>A data frame. Requirements:
</p>

<ul>
<li><p> The structure must be like <a href="r2dii.plot.html#topic+market_share">market_share</a>.
</p>
</li>
<li><p> The following columns must have a single value: <code>sector</code>, <code>region</code>,
<code>scenario_source</code>.
</p>
</li>
<li><p> The column <code>metric</code> must have a portfolio (e.g. &quot;projected&quot;), a benchmark
(e.g. &quot;corporate_economy&quot;), and a single <code>scenario</code> (e.g. &quot;target_sds&quot;).
</p>
</li>
<li><p> (Optional) If present, the column <code>label</code> is used for data labels.
</p>
</li>
<li><p> (Optional) If present, the column <code>label_tech</code> is used for technology
labels.
</p>
</li></ul>
</td></tr>
<tr><td><code id="prep_techmix_+3A_convert_label">convert_label</code></td>
<td>
<p>A symbol. The unquoted name of a function to apply to
y-axis labels. For example:
</p>

<ul>
<li><p> To convert labels to uppercase use <code>convert_label = toupper</code>.
</p>
</li>
<li><p> To get the default behavior of <code>qplot_techmix()</code> use
<code>convert_label = recode_metric_techmix</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="prep_techmix_+3A_span_5yr">span_5yr</code></td>
<td>
<p>Logical. Use <code>TRUE</code> to restrict the time span to 5 years from
the start year (the default behavior of <code>qplot_techmix()</code>), or use
<code>FALSE</code> to impose no restriction.</p>
</td></tr>
<tr><td><code id="prep_techmix_+3A_convert_tech_label">convert_tech_label</code></td>
<td>
<p>A symbol. The unquoted name of a function to apply
to technology legend labels. For example, to convert labels to uppercase
use <code>convert_tech_label = toupper</code>. To get the default behavior of
<code>qplot_techmix()</code> use <code>convert_tech_label = spell_out_technology</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data-frame ready to be plotted using <code>plot_techmix()</code>.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># `data` must meet documented "Requirements"
data &lt;- subset(
  market_share,
  scenario_source == "demo_2020" &amp;
    sector == "power" &amp;
    region == "global" &amp;
    metric %in% c("projected", "corporate_economy", "target_sds")
)

prep_techmix(data)
</code></pre>

<hr>
<h2 id='prep_trajectory'>Prepare data for a trajectory plot</h2><span id='topic+prep_trajectory'></span>

<h3>Description</h3>

<p>Prepare data for a trajectory plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prep_trajectory(
  data,
  convert_label = identity,
  span_5yr = FALSE,
  value_col = "percentage_of_initial_production_by_scope"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prep_trajectory_+3A_data">data</code></td>
<td>
<p>A data frame. Requirements:
</p>

<ul>
<li><p> The structure must be like <a href="r2dii.plot.html#topic+market_share">market_share</a>.
</p>
</li>
<li><p> The following columns must have a single value: <code>sector</code>, <code>technology</code>,
<code>region</code>, <code>scenario_source</code>.
</p>
</li>
<li><p> (Optional) If present, the column <code>label</code> is used for data labels.
</p>
</li></ul>
</td></tr>
<tr><td><code id="prep_trajectory_+3A_convert_label">convert_label</code></td>
<td>
<p>A symbol. The unquoted name of a function to apply to
y-axis labels. For example:
</p>

<ul>
<li><p> To convert labels to uppercase use <code>convert_label = toupper</code>.
</p>
</li>
<li><p> To get the default behavior of <code>qplot_trajectory()</code> use
<code>convert_label = recode_metric_trajectory</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="prep_trajectory_+3A_span_5yr">span_5yr</code></td>
<td>
<p>Logical. Use <code>TRUE</code> to restrict the time span to 5 years from
the start year (the default behavior of <code>qplot_trajectory()</code>), or use
<code>FALSE</code> to impose no restriction.</p>
</td></tr>
<tr><td><code id="prep_trajectory_+3A_value_col">value_col</code></td>
<td>
<p>Character. Name of the column to be used as a value to be
plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data-frame ready to be plotted using <code>plot_trajectory()</code>.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># `data` must meet documented "Requirements"
data &lt;- subset(
  market_share,
  sector == "power" &amp;
    technology == "renewablescap" &amp;
    region == "global" &amp;
    scenario_source == "demo_2020"
)

prep_trajectory(data)
</code></pre>

<hr>
<h2 id='prioritize'>Pick rows where <code>score</code> is 1 and <code>level</code> per loan is of highest <code>priority</code></h2><span id='topic+prioritize'></span>

<h3>Description</h3>

<p>When multiple perfect matches are found per loan (e.g. a match at
<code>direct_loantaker</code> level and <code>ultimate_parent</code> level), we must prioritize the
desired match. By default, the highest <code>priority</code> is the most granular match
(i.e. <code>direct_loantaker</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prioritize(data, priority = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prioritize_+3A_data">data</code></td>
<td>
<p>A data frame like the validated output of <code><a href="r2dii.match.html#topic+match_name">match_name()</a></code>. See
<em>Details</em> on how to validate <code>data</code>.</p>
</td></tr>
<tr><td><code id="prioritize_+3A_priority">priority</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code>: defaults to the default level priority as returned by
<code><a href="r2dii.match.html#topic+prioritize_level">prioritize_level()</a></code>.
</p>
</li>
<li><p> A character vector giving a custom priority.
</p>
</li>
<li><p> A function to apply to the output of <code><a href="r2dii.match.html#topic+prioritize_level">prioritize_level()</a></code>, e.g. <code>rev</code>.
</p>
</li>
<li><p> A quosure-style lambda function, e.g. <code>~ rev(.x)</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>How to validate <code>data</code></strong>
Write the output of <code>match_name()</code> into a .csv file with:
</p>
<div class="sourceCode"><pre># Writting to current working directory
matched %&gt;%
  readr::write_csv("matched.csv")
</pre></div>
<p>Compare, edit, and save the data manually:
</p>

<ul>
<li><p> Open <em>matched.csv</em> with any spreadsheet editor (Excel, Google Sheets, etc.).
</p>
</li>
<li><p> Compare the columns <code>name</code> and <code>name_abcd</code> manually to determine if the match is valid. Other information can be used in conjunction with just the names to ensure the two entities match (sector, internal information on the company structure, etc.)
</p>
</li>
<li><p> Edit the data:
</p>

<ul>
<li><p> If you are happy with the match, set the <code>score</code> value to <code>1</code>.
</p>
</li>
<li><p> Otherwise set or leave the <code>score</code> value to anything other than <code>1</code>.
</p>
</li></ul>

</li>
<li><p> Save the edited file as, say, <em>valid_matches.csv</em>.
</p>
</li></ul>

<p>Re-read the edited file (validated) with:
</p>
<div class="sourceCode"><pre># Reading from current working directory
valid_matches &lt;- readr::read_csv("valid_matches.csv")
</pre></div>


<h3>Value</h3>

<p>A data frame with a single row per loan, where <code>score</code> is 1 and
priority level is highest.
</p>


<h3>Handling grouped data</h3>

<p>This function ignores but preserves existing groups.
</p>


<h3>See Also</h3>

<p>Other matching functions: 
<code><a href="#topic+crucial_lbk">crucial_lbk</a>()</code>,
<code><a href="#topic+match_name">match_name</a>()</code>,
<code><a href="#topic+prioritize_level">prioritize_level</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)

# styler: off
matched &lt;- tribble(
  ~sector, ~sector_abcd,  ~score, ~id_loan,                ~level,
   "coal",      "coal",       1,     "aa",     "ultimate_parent",
   "coal",      "coal",       1,     "aa",    "direct_loantaker",
   "coal",      "coal",       1,     "bb", "intermediate_parent",
   "coal",      "coal",       1,     "bb",     "ultimate_parent",
)
# styler: on

prioritize_level(matched)

# Using default priority
prioritize(matched)

# Using the reverse of the default priority
prioritize(matched, priority = rev)

# Same
prioritize(matched, priority = ~ rev(.x))

# Using a custom priority
bad_idea &lt;- c("intermediate_parent", "ultimate_parent", "direct_loantaker")

prioritize(matched, priority = bad_idea)
</code></pre>

<hr>
<h2 id='prioritize_level'>Arrange unique <code>level</code> values in default order of <code>priority</code></h2><span id='topic+prioritize_level'></span>

<h3>Description</h3>

<p>Arrange unique <code>level</code> values in default order of <code>priority</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prioritize_level(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prioritize_level_+3A_data">data</code></td>
<td>
<p>A data frame, commonly the output of <code><a href="r2dii.match.html#topic+match_name">match_name()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the default level priority per loan.
</p>


<h3>See Also</h3>

<p>Other matching functions: 
<code><a href="#topic+crucial_lbk">crucial_lbk</a>()</code>,
<code><a href="#topic+match_name">match_name</a>()</code>,
<code><a href="#topic+prioritize">prioritize</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>matched &lt;- tibble::tibble(
  level = c(
    "intermediate_parent_1",
    "direct_loantaker",
    "direct_loantaker",
    "direct_loantaker",
    "ultimate_parent",
    "intermediate_parent_2"
  )
)
prioritize_level(matched)
</code></pre>

<hr>
<h2 id='psic_classification'>Dataset to bridge (translate) common sector-classification codes</h2><span id='topic+psic_classification'></span>

<h3>Description</h3>

<p>This dataset serves as a translation key between common sector-classification
systems and sectors relevant to the 'PACTA' tool
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psic_classification
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1271 rows and 5 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (logical): Flag indicating if PACTA sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the PACTA sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of PACTA's scope.., * <code>code</code> (character): Formatted PSIC classification code., * <code>description</code> (character): Original PSIC classification sector name., * <code>sector</code> (character): Associated PACTA sector., * <code>version</code> (character): Column identifying which year the classification was published in..
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(psic_classification)
</code></pre>

<hr>
<h2 id='qplot_emission_intensity'>Create a quick emission intensity plot</h2><span id='topic+qplot_emission_intensity'></span>

<h3>Description</h3>

<p>Compared to <code><a href="r2dii.plot.html#topic+plot_emission_intensity">plot_emission_intensity()</a></code> this function:
</p>

<ul>
<li><p> is restricted to plotting future as 5 years from the start year,
</p>
</li>
<li><p> outputs formatted labels, based on emission metric column,
</p>
</li>
<li><p> outputs a title,
</p>
</li>
<li><p> outputs formatted axis labels.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>qplot_emission_intensity(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qplot_emission_intensity_+3A_data">data</code></td>
<td>
<p>A data frame like the output of <code>prep_emission_intensity()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ggplot&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># `data` must meet documented "Requirements"
data &lt;- subset(sda, sector == "cement" &amp; region == "global")

qplot_emission_intensity(data)
</code></pre>

<hr>
<h2 id='qplot_techmix'>Create a quick techmix plot</h2><span id='topic+qplot_techmix'></span>

<h3>Description</h3>

<p>Compared to <code><a href="r2dii.plot.html#topic+plot_techmix">plot_techmix()</a></code> this function:
</p>

<ul>
<li><p> is restricted to plotting future as 5 years from the start year,
</p>
</li>
<li><p> outputs pretty bar labels, based on metric column,
</p>
</li>
<li><p> outputs pretty legend labels, based on technology column,
</p>
</li>
<li><p> outputs a title.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>qplot_techmix(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qplot_techmix_+3A_data">data</code></td>
<td>
<p>A data frame like the output of <code>prep_techmix()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ggplot&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># `data` must meet documented "Requirements"
data &lt;- subset(
  market_share,
  sector == "power" &amp;
    region == "global" &amp;
    scenario_source == "demo_2020" &amp;
    metric %in% c("projected", "corporate_economy", "target_sds")
)

qplot_techmix(data)
</code></pre>

<hr>
<h2 id='qplot_trajectory'>Create a quick trajectory plot</h2><span id='topic+qplot_trajectory'></span>

<h3>Description</h3>

<p>Compared to <code><a href="r2dii.plot.html#topic+plot_trajectory">plot_trajectory()</a></code> this function:
</p>

<ul>
<li><p> is restricted to plotting only 5 years from the start year,
</p>
</li>
<li><p> outputs pretty legend labels, based on the column holding metrics,
</p>
</li>
<li><p> outputs a title,
</p>
</li>
<li><p> outputs a subtitle,
</p>
</li>
<li><p> outputs informative axis labels in sentence case.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>qplot_trajectory(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qplot_trajectory_+3A_data">data</code></td>
<td>
<p>A data frame like the outputs of <code>prep_trajectory()</code>.
</p>

<ul>
<li><p> (Optional) If present, the column <code>label</code> is used for data labels.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ggplot&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># `data` must meet documented "Requirements"
data &lt;- subset(
  market_share,
  sector == "power" &amp;
    technology == "renewablescap" &amp;
    region == "global" &amp;
    scenario_source == "demo_2020"
)

qplot_trajectory(data)
</code></pre>

<hr>
<h2 id='recode_metric_techmix'>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</h2><span id='topic+recode_metric_techmix'></span>

<h3>Description</h3>


<ul>
<li> <p><code>to_title()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_emission_intensity">qplot_emission_intensity()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_trajectory()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_trajectory">qplot_trajectory()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_techmix()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li>
<li> <p><code>spell_out_technology()</code> converts technology labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>recode_metric_techmix(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recode_metric_techmix_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_title(c("a.string", "another_STRING"))

metric &lt;- c("projected", "corporate_economy", "target_xyz", "else")
recode_metric_trajectory(metric)

recode_metric_techmix(metric)

spell_out_technology(c("gas", "ice", "coalcap", "hdv"))
</code></pre>

<hr>
<h2 id='recode_metric_trajectory'>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</h2><span id='topic+recode_metric_trajectory'></span>

<h3>Description</h3>


<ul>
<li> <p><code>to_title()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_emission_intensity">qplot_emission_intensity()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_trajectory()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_trajectory">qplot_trajectory()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_techmix()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li>
<li> <p><code>spell_out_technology()</code> converts technology labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>recode_metric_trajectory(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recode_metric_trajectory_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_title(c("a.string", "another_STRING"))

metric &lt;- c("projected", "corporate_economy", "target_xyz", "else")
recode_metric_trajectory(metric)

recode_metric_techmix(metric)

spell_out_technology(c("gas", "ice", "coalcap", "hdv"))
</code></pre>

<hr>
<h2 id='region_isos'>A dataset outlining various region definitions</h2><span id='topic+region_isos'></span>

<h3>Description</h3>

<p>This dataset maps codes representing countries to regions.
</p>
<p>For information about the ISO standard for country codes see
<a href="https://www.iso.org/iso-3166-country-codes.html">https://www.iso.org/iso-3166-country-codes.html</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>region_isos
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 9262 rows and 3 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>isos</code> (character): Countries in region, defined by iso code., * <code>region</code> (character): Benchmark region name., * <code>source</code> (character): Source publication from which the regions are defined.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(region_isos)
</code></pre>

<hr>
<h2 id='region_isos_demo'>A dataset outlining various region definitions</h2><span id='topic+region_isos_demo'></span>

<h3>Description</h3>

<p>This dataset maps codes representing countries to regions. It is similar to
but smaller than <a href="r2dii.data.html#topic+region_isos">region_isos</a>.
</p>
<p>Demo datasets are synthetic because most financial data is strictly private;
they help to demonstrate and test the implementation in R of 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>
<p>For information about the ISO standard for country codes see
<a href="https://www.iso.org/iso-3166-country-codes.html">https://www.iso.org/iso-3166-country-codes.html</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>region_isos_demo
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 358 rows and 3 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>isos</code> (character): Countries in region, defined by iso code., * <code>region</code> (character): Benchmark region name., * <code>source</code> (character): Source publication from which the regions are defined.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>region_isos_demo
</code></pre>

<hr>
<h2 id='scale_colour_r2dii'>Custom 2DII colour and fill scales</h2><span id='topic+scale_colour_r2dii'></span>

<h3>Description</h3>

<p>A custom discrete colour and fill scales with colours from 2DII palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_r2dii(colour_labels = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_colour_r2dii_+3A_colour_labels">colour_labels</code></td>
<td>
<p>A character vector. Specifies colour labels to use and their
order. Run <code>unique(r2dii.plot:::palette_colours$label)</code> to see available
colours. Similar to <code>value</code> parameter in <code><a href="ggplot2.html#topic+scale_manual">ggplot2::scale_colour_manual()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_colour_r2dii_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ScaleDiscrete&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mpg) +
  geom_point(aes(displ, hwy, color = class)) +
  scale_colour_r2dii()

ggplot(mpg) +
  geom_histogram(aes(cyl, fill = class), position = "dodge", bins = 5) +
  scale_fill_r2dii()
</code></pre>

<hr>
<h2 id='scale_colour_r2dii_sector'>Custom 2DII sector colour and fill scales</h2><span id='topic+scale_colour_r2dii_sector'></span>

<h3>Description</h3>

<p>A custom discrete colour and fill scales with colours from 2DII sector
palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_r2dii_sector(sectors = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_colour_r2dii_sector_+3A_sectors">sectors</code></td>
<td>
<p>A character vector. Specifies sector colours to use and their
order. Run <code>unique(r2dii.plot:::sector_colours$label)</code> to see available
labels. Similar to <code>value</code> parameter in <code><a href="ggplot2.html#topic+scale_manual">ggplot2::scale_colour_manual()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_colour_r2dii_sector_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ScaleDiscrete&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mpg) +
  geom_point(aes(displ, hwy, color = class)) +
  scale_colour_r2dii_sector()

ggplot(mpg) +
  geom_histogram(aes(cyl, fill = class), position = "dodge", bins = 5) +
  scale_fill_r2dii_sector()
</code></pre>

<hr>
<h2 id='scale_colour_r2dii_tech'>Custom 2DII technology colour and fill scales</h2><span id='topic+scale_colour_r2dii_tech'></span>

<h3>Description</h3>

<p>A custom discrete colour and fill scales with colours from 2DII technology
palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_r2dii_tech(sector, technologies = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_colour_r2dii_tech_+3A_sector">sector</code></td>
<td>
<p>A string. Sector name specifying a colour palette. Run
<code>unique(r2dii.plot:::technology_colours$sector)</code> to see available sectors.</p>
</td></tr>
<tr><td><code id="scale_colour_r2dii_tech_+3A_technologies">technologies</code></td>
<td>
<p>A character vector. Specifies technologies to use as
colours and their order. Run
<code>unique(r2dii.plot:::technology_colours$technology)</code> to see available
technologies (pay attention if they match the <code>sector</code>). Similar to <code>value</code>
parameter in <code><a href="ggplot2.html#topic+scale_manual">ggplot2::scale_colour_manual()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_colour_r2dii_tech_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ScaleDiscrete&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mpg) +
  geom_point(aes(displ, hwy, color = class)) +
  scale_colour_r2dii_tech("automotive")

ggplot(mpg) +
  geom_histogram(aes(cyl, fill = class), position = "dodge", bins = 5) +
  scale_fill_r2dii_tech("automotive")
</code></pre>

<hr>
<h2 id='scale_fill_r2dii'>Custom 2DII colour and fill scales</h2><span id='topic+scale_fill_r2dii'></span>

<h3>Description</h3>

<p>A custom discrete colour and fill scales with colours from 2DII palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_r2dii(colour_labels = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_r2dii_+3A_colour_labels">colour_labels</code></td>
<td>
<p>A character vector. Specifies colour labels to use and their
order. Run <code>unique(r2dii.plot:::palette_colours$label)</code> to see available
colours. Similar to <code>value</code> parameter in <code><a href="ggplot2.html#topic+scale_manual">ggplot2::scale_colour_manual()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_fill_r2dii_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ScaleDiscrete&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mpg) +
  geom_point(aes(displ, hwy, color = class)) +
  scale_colour_r2dii()

ggplot(mpg) +
  geom_histogram(aes(cyl, fill = class), position = "dodge", bins = 5) +
  scale_fill_r2dii()
</code></pre>

<hr>
<h2 id='scale_fill_r2dii_sector'>Custom 2DII sector colour and fill scales</h2><span id='topic+scale_fill_r2dii_sector'></span>

<h3>Description</h3>

<p>A custom discrete colour and fill scales with colours from 2DII sector
palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_r2dii_sector(sectors = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_r2dii_sector_+3A_sectors">sectors</code></td>
<td>
<p>A character vector. Specifies sector colours to use and their
order. Run <code>unique(r2dii.plot:::sector_colours$label)</code> to see available
labels. Similar to <code>value</code> parameter in <code><a href="ggplot2.html#topic+scale_manual">ggplot2::scale_colour_manual()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_fill_r2dii_sector_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ScaleDiscrete&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mpg) +
  geom_point(aes(displ, hwy, color = class)) +
  scale_colour_r2dii_sector()

ggplot(mpg) +
  geom_histogram(aes(cyl, fill = class), position = "dodge", bins = 5) +
  scale_fill_r2dii_sector()
</code></pre>

<hr>
<h2 id='scale_fill_r2dii_tech'>Custom 2DII technology colour and fill scales</h2><span id='topic+scale_fill_r2dii_tech'></span>

<h3>Description</h3>

<p>A custom discrete colour and fill scales with colours from 2DII technology
palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_r2dii_tech(sector, technologies = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_r2dii_tech_+3A_sector">sector</code></td>
<td>
<p>A string. Sector name specifying a colour palette. Run
<code>unique(r2dii.plot:::technology_colours$sector)</code> to see available sectors.</p>
</td></tr>
<tr><td><code id="scale_fill_r2dii_tech_+3A_technologies">technologies</code></td>
<td>
<p>A character vector. Specifies technologies to use as
colours and their order. Run
<code>unique(r2dii.plot:::technology_colours$technology)</code> to see available
technologies (pay attention if they match the <code>sector</code>). Similar to <code>value</code>
parameter in <code><a href="ggplot2.html#topic+scale_manual">ggplot2::scale_colour_manual()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_fill_r2dii_tech_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ScaleDiscrete&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mpg) +
  geom_point(aes(displ, hwy, color = class)) +
  scale_colour_r2dii_tech("automotive")

ggplot(mpg) +
  geom_histogram(aes(cyl, fill = class), position = "dodge", bins = 5) +
  scale_fill_r2dii_tech("automotive")
</code></pre>

<hr>
<h2 id='scenario_colours'>Colour datasets</h2><span id='topic+scenario_colours'></span>

<h3>Description</h3>

<p>All datasets have at least two columns:
</p>

<ul>
<li> <p><code>label</code>: Text label of the colour.
</p>
</li>
<li> <p><code>hex</code>: Hex code of the colour.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>scenario_colours
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 5 rows and 2 columns.
</p>


<h3>Details</h3>

<p>In <code>scenario_colours</code>, colours are ordered from red to green to be used in
trajectory charts.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>palette_colours

scenario_colours

sector_colours

technology_colours
</code></pre>

<hr>
<h2 id='scenario_demo_2020'>A prepared climate scenario dataset for demonstration</h2><span id='topic+scenario_demo_2020'></span>

<h3>Description</h3>

<p>Fake climate scenario dataset, prepared for the software PACTA (Paris
Agreement Capital Transition Assessment). It imitates climate scenario data
(e.g. from the International Energy Agency (IEA)) including the change
through time in production across industrial sectors.
</p>
<p>Demo datasets are synthetic because most financial data is strictly private;
they help to demonstrate and test the implementation in R of 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scenario_demo_2020
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1512 rows and 8 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>region</code> (character): The region to which the pathway is relevant., * <code>scenario</code> (character): The name of the scenario., * <code>scenario_source</code> (character): The source publication from which the scenario was taken., * <code>sector</code> (character): The sector to which the scenario prescribes a pathway., * <code>smsp</code> (double): Sector market share percentage of the pathway calculated in 2020., * <code>technology</code> (character): The technology within the sector to which the scenario prescribes a pathway., * <code>tmsr</code> (double): Technology market share ratio of the pathway calculated in 2020., * <code>year</code> (integer): The year at which the pathway value is prescribed.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+sda">sda</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(scenario_demo_2020)
</code></pre>

<hr>
<h2 id='sda'>An example of an <code>sda</code>-like dataset</h2><span id='topic+sda'></span>

<h3>Description</h3>

<p>Dataset imitating the output of <code><a href="r2dii.analysis.html#topic+target_sda">r2dii.analysis::target_sda()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sda
</code></pre>


<h3>Format</h3>

<p>An object of class <code>spec_tbl_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 110 rows and 6 columns.
</p>


<h3>Source</h3>

<p><a href="https://github.com/RMI-PACTA/r2dii.plot/issues/55">https://github.com/RMI-PACTA/r2dii.plot/issues/55</a>.
</p>


<h3>See Also</h3>

<p>Other demo data: 
<code><a href="#topic+abcd_demo">abcd_demo</a></code>,
<code><a href="#topic+co2_intensity_scenario_demo">co2_intensity_scenario_demo</a></code>,
<code><a href="#topic+loanbook_demo">loanbook_demo</a></code>,
<code><a href="#topic+market_share">market_share</a></code>,
<code><a href="#topic+overwrite_demo">overwrite_demo</a></code>,
<code><a href="#topic+region_isos_demo">region_isos_demo</a></code>,
<code><a href="#topic+scenario_demo_2020">scenario_demo_2020</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sda
</code></pre>

<hr>
<h2 id='sector_classifications'>A view of available sector classification datasets</h2><span id='topic+sector_classifications'></span>

<h3>Description</h3>

<p>This dataset lists all sector classification code standards used by 'PACTA'
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sector_classifications
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 6559 rows and 4 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (character): Flag indicating if 2dii sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the 2dii sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of 2dii's scope.., * <code>code</code> (character): Formatted code., * <code>code_system</code> (character): Code system., * <code>sector</code> (character): Associated 2dii sector.
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(sector_classifications)
</code></pre>

<hr>
<h2 id='sector_colours'>Colour datasets</h2><span id='topic+sector_colours'></span>

<h3>Description</h3>

<p>All datasets have at least two columns:
</p>

<ul>
<li> <p><code>label</code>: Text label of the colour.
</p>
</li>
<li> <p><code>hex</code>: Hex code of the colour.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>sector_colours
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 8 rows and 2 columns.
</p>


<h3>Details</h3>

<p>In <code>scenario_colours</code>, colours are ordered from red to green to be used in
trajectory charts.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>palette_colours

scenario_colours

sector_colours

technology_colours
</code></pre>

<hr>
<h2 id='sic_classification'>Dataset to bridge (translate) common sector-classification codes</h2><span id='topic+sic_classification'></span>

<h3>Description</h3>

<p>This dataset serves as a translation key between common sector-classification
systems and sectors relevant to the 'PACTA' tool
(<a href="https://www.transitionmonitor.com/">https://www.transitionmonitor.com/</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sic_classification
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1005 rows and 5 columns.
</p>


<h3>Definitions</h3>


<ul>
<li> <p><code>borderline</code> (character): Flag indicating if PACTA sector and classification code are a borderline match. The value TRUE indicates that the match is uncertain between the PACTA sector and the classification. The value FALSE indicates that the match is certainly perfect or the classification is certainly out of PACTA's scope.., * <code>code</code> (character): Original SIC code., * <code>description</code> (character): Original SIC description., * <code>sector</code> (character): Associated PACTA sector., * <code>version</code> (character): Column identifying to which SIC version the code belongs.
</p>
</li></ul>



<h3>Details</h3>

<p>Classification datasets help to standardize sector classification codes from
the wild to a relevant subset including 'power', 'oil and gas', 'coal',
'automotive', 'aviation', 'concrete', 'steel', and 'shipping'.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+technology_colours">technology_colours</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(sic_classification)
</code></pre>

<hr>
<h2 id='spell_out_technology'>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</h2><span id='topic+spell_out_technology'></span>

<h3>Description</h3>


<ul>
<li> <p><code>to_title()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_emission_intensity">qplot_emission_intensity()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_trajectory()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_trajectory">qplot_trajectory()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_techmix()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li>
<li> <p><code>spell_out_technology()</code> converts technology labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>spell_out_technology(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spell_out_technology_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_title(c("a.string", "another_STRING"))

metric &lt;- c("projected", "corporate_economy", "target_xyz", "else")
recode_metric_trajectory(metric)

recode_metric_techmix(metric)

spell_out_technology(c("gas", "ice", "coalcap", "hdv"))
</code></pre>

<hr>
<h2 id='target_market_share'>Add targets for production, using the market share approach</h2><span id='topic+target_market_share'></span>

<h3>Description</h3>

<p>This function calculates the portfolio-level production targets, as
calculated using the market share approach applied to each relevant climate
production forecast.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>target_market_share(
  data,
  abcd,
  scenario,
  region_isos = r2dii.data::region_isos,
  use_credit_limit = FALSE,
  by_company = FALSE,
  weight_production = TRUE,
  increasing_or_decreasing = r2dii.data::increasing_or_decreasing
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="target_market_share_+3A_data">data</code></td>
<td>
<p>A &quot;data.frame&quot; like the output of <code>r2dii.match::prioritize</code>.</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_abcd">abcd</code></td>
<td>
<p>An asset level data frame like <a href="r2dii.data.html#topic+abcd_demo">r2dii.data::abcd_demo</a>.</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_scenario">scenario</code></td>
<td>
<p>A scenario data frame like <a href="r2dii.data.html#topic+scenario_demo_2020">r2dii.data::scenario_demo_2020</a>.</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_region_isos">region_isos</code></td>
<td>
<p>A data frame like <a href="r2dii.data.html#topic+region_isos">r2dii.data::region_isos</a> (default).</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_use_credit_limit">use_credit_limit</code></td>
<td>
<p>Logical vector of length 1. <code>FALSE</code> defaults to using
the column <code>loan_size_outstanding</code>. Set to <code>TRUE</code> to use the column
<code>loan_size_credit_limit</code> instead.</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_by_company">by_company</code></td>
<td>
<p>Logical vector of length 1. <code>FALSE</code> defaults to outputting
<code>production_value</code> at the portfolio-level. Set to <code>TRUE</code> to output
<code>production_value</code> at the company-level.</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_weight_production">weight_production</code></td>
<td>
<p>Logical vector of length 1. <code>TRUE</code> defaults to
outputting production, weighted by relative loan-size. Set to <code>FALSE</code> to
output the unweighted production values.</p>
</td></tr>
<tr><td><code id="target_market_share_+3A_increasing_or_decreasing">increasing_or_decreasing</code></td>
<td>
<p>A data frame like
<a href="r2dii.data.html#topic+increasing_or_decreasing">r2dii.data::increasing_or_decreasing</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble including the summarized columns <code>metric</code>, <code>production</code>,
<code>technology_share</code>, <code>percentage_of_initial_production_by_scope</code> and
<code>scope</code>. If <code>by_company = TRUE</code>, the output will also have the column
<code>name_abcd</code>.
</p>


<h3>Handling grouped data</h3>

<p>This function ignores existing groups and outputs ungrouped data.
</p>


<h3>See Also</h3>

<p>Other analysis functions: 
<code><a href="#topic+target_sda">target_sda</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(r2dii.data)
library(r2dii.match)

loanbook &lt;- head(loanbook_demo, 100)
abcd &lt;- head(abcd_demo, 100)

matched &lt;- loanbook %&gt;%
  match_name(abcd) %&gt;%
  prioritize()

# Calculate targets at portfolio level
matched %&gt;%
  target_market_share(
    abcd = abcd,
    scenario = scenario_demo_2020,
    region_isos = region_isos_demo
    )

# Calculate targets at company level
matched %&gt;%
  target_market_share(
  abcd = abcd,
  scenario = scenario_demo_2020,
  region_isos = region_isos_demo,
  by_company = TRUE
  )

matched %&gt;%
  target_market_share(
    abcd = abcd,
    scenario = scenario_demo_2020,
    region_isos = region_isos_demo,
    # Calculate unweighted targets
    weight_production = FALSE
    )

</code></pre>

<hr>
<h2 id='target_sda'>Add targets for CO<sub>2</sub>
emissions per unit production at the portfolio level, using the SDA approach</h2><span id='topic+target_sda'></span>

<h3>Description</h3>

<p>This function calculates targets of
CO<sub>2</sub> emissions per unit
production at the portfolio-level, otherwise referred to as &quot;emissions
factors&quot;. It uses the <a href="https://rmi-pacta.github.io/r2dii.analysis/articles/sda-target.html">sectoral-decarbonization approach (SDA)</a>
to calculate these targets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>target_sda(
  data,
  abcd,
  co2_intensity_scenario,
  use_credit_limit = FALSE,
  by_company = FALSE,
  region_isos = r2dii.data::region_isos
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="target_sda_+3A_data">data</code></td>
<td>
<p>A dataframe like the output of
<code>r2dii.match::prioritize()</code>.</p>
</td></tr>
<tr><td><code id="target_sda_+3A_abcd">abcd</code></td>
<td>
<p>An asset-level data frame like <a href="r2dii.data.html#topic+abcd_demo">r2dii.data::abcd_demo</a>.</p>
</td></tr>
<tr><td><code id="target_sda_+3A_co2_intensity_scenario">co2_intensity_scenario</code></td>
<td>
<p>A scenario data frame like
<a href="r2dii.data.html#topic+co2_intensity_scenario_demo">r2dii.data::co2_intensity_scenario_demo</a>.</p>
</td></tr>
<tr><td><code id="target_sda_+3A_use_credit_limit">use_credit_limit</code></td>
<td>
<p>Logical vector of length 1. <code>FALSE</code> defaults to using
the column <code>loan_size_outstanding</code>. Set to <code>TRUE</code> to instead use the column
<code>loan_size_credit_limit</code>.</p>
</td></tr>
<tr><td><code id="target_sda_+3A_by_company">by_company</code></td>
<td>
<p>Logical vector of length 1. <code>FALSE</code> defaults to outputting
<code>weighted_production_value</code> at the portfolio-level. Set to <code>TRUE</code> to output
<code>weighted_production_value</code> at the company-level.</p>
</td></tr>
<tr><td><code id="target_sda_+3A_region_isos">region_isos</code></td>
<td>
<p>A data frame like <a href="r2dii.data.html#topic+region_isos">r2dii.data::region_isos</a> (default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble including the summarized columns <code>emission_factor_metric</code> and
<code>emission_factor_value</code>. If <code>by_company = TRUE</code>, the output will also have
the column <code>name_abcd</code>.
</p>


<h3>Handling grouped data</h3>

<p>This function ignores existing groups and outputs ungrouped data.
</p>


<h3>See Also</h3>

<p>Other analysis functions: 
<code><a href="#topic+target_market_share">target_market_share</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(r2dii.match)
library(r2dii.data)

loanbook &lt;- head(loanbook_demo, 150)
abcd &lt;- head(abcd_demo, 100)

matched &lt;- loanbook %&gt;%
  match_name(abcd) %&gt;%
  prioritize()

# Calculate targets at portfolio level
matched %&gt;%
  target_sda(
   abcd = abcd,
   co2_intensity_scenario = co2_intensity_scenario_demo,
   region_isos = region_isos_demo
   )

# Calculate targets at company level
matched %&gt;%
  target_sda(
   abcd = abcd,
   co2_intensity_scenario = co2_intensity_scenario_demo,
   region_isos = region_isos_demo,
   by_company = TRUE
   )

</code></pre>

<hr>
<h2 id='technology_colours'>Colour datasets</h2><span id='topic+technology_colours'></span>

<h3>Description</h3>

<p>All datasets have at least two columns:
</p>

<ul>
<li> <p><code>label</code>: Text label of the colour.
</p>
</li>
<li> <p><code>hex</code>: Hex code of the colour.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>technology_colours
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 18 rows and 3 columns.
</p>


<h3>Details</h3>

<p>In <code>scenario_colours</code>, colours are ordered from red to green to be used in
trajectory charts.
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+gics_classification">gics_classification</a></code>,
<code><a href="#topic+increasing_or_decreasing">increasing_or_decreasing</a></code>,
<code><a href="#topic+isic_classification">isic_classification</a></code>,
<code><a href="#topic+iso_codes">iso_codes</a></code>,
<code><a href="#topic+nace_classification">nace_classification</a></code>,
<code><a href="#topic+naics_classification">naics_classification</a></code>,
<code><a href="#topic+palette_colours">palette_colours</a></code>,
<code><a href="#topic+psic_classification">psic_classification</a></code>,
<code><a href="#topic+region_isos">region_isos</a></code>,
<code><a href="#topic+scenario_colours">scenario_colours</a></code>,
<code><a href="#topic+sector_classifications">sector_classifications</a></code>,
<code><a href="#topic+sector_colours">sector_colours</a></code>,
<code><a href="#topic+sic_classification">sic_classification</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>palette_colours

scenario_colours

sector_colours

technology_colours
</code></pre>

<hr>
<h2 id='theme_2dii'>Complete theme</h2><span id='topic+theme_2dii'></span>

<h3>Description</h3>

<p>A ggplot theme which can be applied to all graphs to appear according to 2DII
plotting aesthetics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_2dii(
  base_size = 12,
  base_family = "Helvetica",
  base_line_size = base_size/22,
  base_rect_size = base_size/22
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_2dii_+3A_base_size">base_size</code></td>
<td>
<p>base font size, given in pts.</p>
</td></tr>
<tr><td><code id="theme_2dii_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
<tr><td><code id="theme_2dii_+3A_base_line_size">base_line_size</code></td>
<td>
<p>base size for line elements</p>
</td></tr>
<tr><td><code id="theme_2dii_+3A_base_rect_size">base_rect_size</code></td>
<td>
<p>base size for rect elements</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;theme&quot;, &quot;gg&quot;.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+to_title">to_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2, warn.conflicts = FALSE)

ggplot(mtcars) +
  geom_histogram(aes(mpg), bins = 10) +
  theme_2dii()
</code></pre>

<hr>
<h2 id='to_title'>Replicate labels produced with <code style="white-space: pre;">&#8288;qplot_*()&#8288;</code> functions</h2><span id='topic+to_title'></span>

<h3>Description</h3>


<ul>
<li> <p><code>to_title()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_emission_intensity">qplot_emission_intensity()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_trajectory()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_trajectory">qplot_trajectory()</a></code>.
</p>
</li>
<li> <p><code>recode_metric_techmix()</code> converts labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li>
<li> <p><code>spell_out_technology()</code> converts technology labels like <code><a href="r2dii.plot.html#topic+qplot_techmix">qplot_techmix()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>to_title(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="to_title_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>See Also</h3>

<p>Other plotting functions: 
<code><a href="#topic+plot_emission_intensity">plot_emission_intensity</a>()</code>,
<code><a href="#topic+plot_techmix">plot_techmix</a>()</code>,
<code><a href="#topic+plot_trajectory">plot_trajectory</a>()</code>,
<code><a href="#topic+prep_emission_intensity">prep_emission_intensity</a>()</code>,
<code><a href="#topic+prep_techmix">prep_techmix</a>()</code>,
<code><a href="#topic+prep_trajectory">prep_trajectory</a>()</code>,
<code><a href="#topic+qplot_emission_intensity">qplot_emission_intensity</a>()</code>,
<code><a href="#topic+qplot_techmix">qplot_techmix</a>()</code>,
<code><a href="#topic+qplot_trajectory">qplot_trajectory</a>()</code>,
<code><a href="#topic+recode_metric_techmix">recode_metric_techmix</a>()</code>,
<code><a href="#topic+recode_metric_trajectory">recode_metric_trajectory</a>()</code>,
<code><a href="#topic+scale_colour_r2dii">scale_colour_r2dii</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_sector">scale_colour_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_colour_r2dii_tech">scale_colour_r2dii_tech</a>()</code>,
<code><a href="#topic+scale_fill_r2dii">scale_fill_r2dii</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_sector">scale_fill_r2dii_sector</a>()</code>,
<code><a href="#topic+scale_fill_r2dii_tech">scale_fill_r2dii_tech</a>()</code>,
<code><a href="#topic+spell_out_technology">spell_out_technology</a>()</code>,
<code><a href="#topic+theme_2dii">theme_2dii</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_title(c("a.string", "another_STRING"))

metric &lt;- c("projected", "corporate_economy", "target_xyz", "else")
recode_metric_trajectory(metric)

recode_metric_techmix(metric)

spell_out_technology(c("gas", "ice", "coalcap", "hdv"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

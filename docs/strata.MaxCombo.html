<!DOCTYPE html><html><head><title>Help for package strata.MaxCombo</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {strata.MaxCombo}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sim_data'><p>simulated survival data with two stratum</p></a></li>
<li><a href='#SMCtest'><p>This function performs stratified Max-Combo test.</p></a></li>
<li><a href='#WLRtest'><p>This function performs weighted log-rank test.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Stratified Max-Combo Test</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-07-14</td>
</tr>
<tr>
<td>Description:</td>
<td>Non-proportional hazard (NPH) is commonly observed in immuno-oncology studies, where the survival curves of the treatment and control groups show delayed separation. To properly account for NPH, several statistical methods have been developed. One such method is Max-Combo test, which is a straightforward and flexible hypothesis testing method that can simultaneously test for constant, early, middle, and late treatment effects. However, the majority of the Max-Combo test performed in clinical studies are unstratified, ignoring the important prognostic stratification factors. To fill this gap, we have developed an R package for stratified Max-Combo testing that accounts for stratified baseline factors. Our package explores various methods for calculating combined test statistics, estimating joint distributions, and determining the p-values.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>mvtnorm</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-14 15:50:22 UTC; liuy232</td>
</tr>
<tr>
<td>Author:</td>
<td>Yuwen Liu [aut, cre],
  Yumeng Wang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yuwen Liu &lt;yuwenliu9@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-16 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sim_data'>simulated survival data with two stratum</h2><span id='topic+sim_data'></span>

<h3>Description</h3>

<p>Simulated survival data for demonstrating the usage of WLRtest and SMCtest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(sim_data)
</code></pre>


<h3>Format</h3>

<p>The data file consists of four components: event_time, event_status, group and strata. Data contains different event_times, two event_status (0: censored and 1: event), two groups (control and experimental) and two stratum (first and second).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SMCtest">SMCtest</a></code>, <code><a href="#topic+WLRtest">WLRtest</a></code>
</p>

<hr>
<h2 id='SMCtest'>This function performs stratified Max-Combo test.</h2><span id='topic+SMCtest'></span>

<h3>Description</h3>

<p>This function performs stratified Max-Combo test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SMCtest(
  time,
  event,
  group,
  stratum,
  alternative = c("two.sided", "less", "greater"),
  rho = c(0, 1, 1, 0),
  gamma = c(0, 0, 1, 1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SMCtest_+3A_time">time</code></td>
<td>
<p>a vector of event or censored times.</p>
</td></tr>
<tr><td><code id="SMCtest_+3A_event">event</code></td>
<td>
<p>a vector with entries 0 or 1, indicating event occurrence (1) or time being censored (0).</p>
</td></tr>
<tr><td><code id="SMCtest_+3A_group">group</code></td>
<td>
<p>a vector indicating treatment groups.</p>
</td></tr>
<tr><td><code id="SMCtest_+3A_stratum">stratum</code></td>
<td>
<p>a vector of stratification factor.</p>
</td></tr>
<tr><td><code id="SMCtest_+3A_alternative">alternative</code></td>
<td>
<p>choose from <code>"two.sided"</code>, <code>"less"</code> or <code>"greater"</code> to determine which type of tests to conduct and calculate the corresponding p-values.</p>
</td></tr>
<tr><td><code id="SMCtest_+3A_rho">rho</code></td>
<td>
<p>a vector indicating different values of rho in Fleming-Harrington weight.</p>
</td></tr>
<tr><td><code id="SMCtest_+3A_gamma">gamma</code></td>
<td>
<p>a vector indicating different values of gamma in Fleming-Harrington weight.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with components:
</p>
<table>
<tr><td><code>z.list</code></td>
<td>
<p>a vector of z values calculated from all startified weighted log-rank tests under stratification method 1.</p>
</td></tr>
<tr><td><code>z.max</code></td>
<td>
<p>the z value that is the furthest away from 0 under stratification method 1.</p>
</td></tr>
<tr><td><code>cov</code></td>
<td>
<p>the covariance matrix of different startified weighted log-rank tests under stratification method 1.</p>
</td></tr>
<tr><td><code>pval</code></td>
<td>
<p>p-value of desired alternative test under stratification method 1.</p>
</td></tr>
<tr><td><code>z.list2</code></td>
<td>
<p>a vector of z values calculated from all startified weighted log-rank tests under stratification method 2.</p>
</td></tr>
<tr><td><code>z.max2</code></td>
<td>
<p>the z value that is the furthest away from 0 under stratification method 2.</p>
</td></tr>
<tr><td><code>cov2</code></td>
<td>
<p>the covariance matrix of different startified weighted log-rank tests under stratification method 2.</p>
</td></tr>
<tr><td><code>pval2</code></td>
<td>
<p>p-value of desired alternative test under stratification method 2.</p>
</td></tr>
<tr><td><code>z.list3</code></td>
<td>
<p>a vector of z values calculated from all startified weighted log-rank tests under stratification method 3.</p>
</td></tr>
<tr><td><code>z.max3</code></td>
<td>
<p>the z value that is the furthest away from 0 under stratification method 3.</p>
</td></tr>
<tr><td><code>cov3</code></td>
<td>
<p>the covariance matrix of different startified weighted log-rank tests under stratification method 3.</p>
</td></tr>
<tr><td><code>pval3</code></td>
<td>
<p>p-value of desired alternative test under stratification method 3.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Magirr, D. and Jiménez, J. (2023).
Stratified modestly-weighted log-rank tests in settings with an anticipated delayed separation of survival curves.
<em>Biometrical Journal.</em>, 2023;65:2200126 doi: <a href="https://doi.org/10.1002/bimj.202200126">10.1002/bimj.202200126</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+WLRtest">WLRtest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim_data)
##load survival data
time &lt;- sim_data$event_time
event &lt;- sim_data$event_status
group &lt;- sim_data$group
stratum &lt;- sim_data$strata

##perform stratified max-combo test
SMCtest(time,event,group,stratum,alternative="two.sided",rho=c(0,1,1,0),gamma=c(0,0,1,1))

</code></pre>

<hr>
<h2 id='WLRtest'>This function performs weighted log-rank test.</h2><span id='topic+WLRtest'></span>

<h3>Description</h3>

<p>This function performs weighted log-rank test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WLRtest(time, event, group, rho = 0, gamma = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WLRtest_+3A_time">time</code></td>
<td>
<p>time a vector of event or censored times.</p>
</td></tr>
<tr><td><code id="WLRtest_+3A_event">event</code></td>
<td>
<p>a vector with entries 0 or 1, indicating event occurrence (1) or time being censored (0).</p>
</td></tr>
<tr><td><code id="WLRtest_+3A_group">group</code></td>
<td>
<p>a vector indicating treatment groups.</p>
</td></tr>
<tr><td><code id="WLRtest_+3A_rho">rho</code></td>
<td>
<p>a value of rho in Fleming-Harrington weight</p>
</td></tr>
<tr><td><code id="WLRtest_+3A_gamma">gamma</code></td>
<td>
<p>a value of gamma in Fleming-Harrington weight</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with components:
</p>
<table>
<tr><td><code>z</code></td>
<td>
<p>z value of weighted log-rank test.</p>
</td></tr>
<tr><td><code>pvalue.two.sided</code></td>
<td>
<p>p-value for two-sided test.</p>
</td></tr>
<tr><td><code>pvalue.less</code></td>
<td>
<p>p-value for one-sided test (less).</p>
</td></tr>
<tr><td><code>pvalue.greater</code></td>
<td>
<p>p-value for one-sided test (greater).</p>
</td></tr>
<tr><td><code>D</code></td>
<td>
<p>a matrix containing components that can be used in stratified max-combo test.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ristl, R., Ballarini, N., Götte, H., Schüler, A., Posch, M. and König, F. (2021).
Delayed treatment effects, treatment switching and heterogeneous patient populations: How to design and analyze RCTs in oncology.
<em>Pharmaceutical Statistics.</em>, 20:129-145 doi: <a href="https://doi.org/10.1002/pst.2062">10.1002/pst.2062</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SMCtest">SMCtest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim_data)
##load survival data
time &lt;- sim_data$event_time
event &lt;- sim_data$event_status
group &lt;- sim_data$group

##perform weighted log-rank test
WLRtest(time,event,group,rho=0,gamma=0)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

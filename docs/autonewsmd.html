<!DOCTYPE html><html><head><title>Help for package autonewsmd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {autonewsmd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#autonewsmd'><p>R6 Class to construct the changelog file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Auto-Generate Changelog using Conventional Commits</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatically generate a changelog file (NEWS.md /
    CHANGELOG.md) from the git history using conventional commit messages
    (<a href="https://www.conventionalcommits.org/en/v1.0.0/">https://www.conventionalcommits.org/en/v1.0.0/</a>).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kapsner/autonewsmd">https://github.com/kapsner/autonewsmd</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kapsner/autonewsmd/issues">https://github.com/kapsner/autonewsmd/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, git2r, magrittr, R6, rmarkdown, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, lintr, testthat (&ge; 3.0.1)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-13 15:50:02 UTC</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-13 15:28:01 UTC; user</td>
</tr>
<tr>
<td>Author:</td>
<td>Lorenz A. Kapsner <a href="https://orcid.org/0000-0003-1866-860X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lorenz A. Kapsner &lt;lorenz.kapsner@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
</table>
<hr>
<h2 id='autonewsmd'>R6 Class to construct the changelog file</h2><span id='topic+autonewsmd'></span>

<h3>Description</h3>

<p>The 'autonewsmd' class is used to construct a new changelog file, set all
required metadata and to generate the file and save it to the root-
directory of the respective repository.
</p>


<h3>Details</h3>

<p>The changelog file has a title that typically includes the name of the
repository, which needs at least to be provided when constructing a new
changelog file.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>repo_name</code></dt><dd><p>A character. The name of the repository, which is
inserted into the title of the changelog file.</p>
</dd>
<dt><code>tag_pattern</code></dt><dd><p>A character. A regular expression pattern to identify
release tags in the repository.
Defaults to '&quot;^v(\d+\.)2\d+(\.\d+)?$&quot;' to identify patterns of
the from 'v0.0.1.9001'.</p>
</dd>
<dt><code>repo_list</code></dt><dd><p>The list contains the commit messages prepared for
the changelog file.</p>
</dd>
<dt><code>file_name</code></dt><dd><p>A character. The name of the file, which is
inserted into the title of the changelog file. Defaults to '&quot;NEWS&quot;'
(typically one of '&quot;NEWS&quot;' or '&quot;CHANGELOG&quot;').</p>
</dd>
<dt><code>file_ending</code></dt><dd><p>A character. The file ending of the file the
changelog should be written to. Defaults to '&quot;.md&quot;'.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-autonewsmd-new"><code>autonewsmd$new()</code></a>
</p>
</li>
<li> <p><a href="#method-autonewsmd-generate"><code>autonewsmd$generate()</code></a>
</p>
</li>
<li> <p><a href="#method-autonewsmd-write"><code>autonewsmd$write()</code></a>
</p>
</li>
<li> <p><a href="#method-autonewsmd-clone"><code>autonewsmd$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-autonewsmd-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new 'autonewsmd' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>autonewsmd$new(repo_name, repo_path = NULL, repo_remotes = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>repo_name</code></dt><dd><p>A character. The name of the repository, which is
inserted into the title of the changelog file.</p>
</dd>
<dt><code>repo_path</code></dt><dd><p>A character. The path of the repository to create a new
changelog for. If 'NULL' (the default), it will point automatically to
to '&quot;.&quot;'.</p>
</dd>
<dt><code>repo_remotes</code></dt><dd><p>A character. The name of the tracked repository that
should be used to get the repository's URL (e.g. when executing
'git remote -v' in the shell). Defaults to 'NULL'.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new 'autonewsmd' object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- file.path(tempdir(), "autonewsmd")
dir.create(path)
repo &lt;- git2r::init(path)

## Config user
git2r::config(
  repo, user.name = "Alice", user.email = "alice@example.org"
)
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- paste0(
  "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
)
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)

</pre>
</div>


<hr>
<a id="method-autonewsmd-generate"></a>



<h4>Method <code>generate()</code></h4>

<p>Generate the list with the formatted commit messages that is used to
render the changelog.
</p>


<h5>Usage</h5>

<div class="r"><pre>autonewsmd$generate()</pre></div>



<h5>Details</h5>

<p>The function generates the formatted list with the commit
messages. If tags are available, each commit message is assigned to a
specific tag. These assignments are used to structure the changelog
document.
</p>



<h5>Returns</h5>

<p>Populates the public field 'repo_list'.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- file.path(tempdir(), "autonewsmd")
dir.create(path)
repo &lt;- git2r::init(path)

## Config user
git2r::config(
  repo, user.name = "Alice", user.email = "alice@example.org"
)
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- paste0(
  "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
)
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)

## generate the news and write them to the repo
an$generate()

</pre>
</div>


<hr>
<a id="method-autonewsmd-write"></a>



<h4>Method <code>write()</code></h4>

<p>Writes the changelog to the file system.
</p>


<h5>Usage</h5>

<div class="r"><pre>autonewsmd$write(force = FALSE, con = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>force</code></dt><dd><p>A boolean. If 'FALSE' (the default) a dialog is prompted to
ask the user if the file should be (over-) written. If 'TRUE', the
dialog is not prompted and the changelog file is created directly.</p>
</dd>
<dt><code>con</code></dt><dd><p>A connection with the answer to the interactive question, if
the changelog file should be written to the file system. This argument
is intended mainly for being used in the unit tests.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>This function writes the changelog to the file system using the
'file_name' and 'file_ending' fields to compose the file name.
CAUTION: existing files will be overwritten without any warning.
</p>



<h5>Returns</h5>

<p>The function has no return value - it creates the new changelog
file.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- tempdir()
repo &lt;- git2r::init(path)

## Config user
git2r::config(
  repo, user.name = "Alice", user.email = "alice@example.org"
)
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- paste0(
  "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
)
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)

## generate the news and write them to the repo
an$generate()

if (interactive()) {
  an$write()
}

</pre>
</div>


<hr>
<a id="method-autonewsmd-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>autonewsmd$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'># (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- file.path(tempdir(), "autonewsmd")
dir.create(path)
repo &lt;- git2r::init(path)

## Config user
git2r::config(repo, user.name = "Alice", user.email = "alice@example.org")
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)

## generate the news and write them to the repo
an$generate()

if (interactive()) {
  an$write()
}


## ------------------------------------------------
## Method `autonewsmd$new`
## ------------------------------------------------

# (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- file.path(tempdir(), "autonewsmd")
dir.create(path)
repo &lt;- git2r::init(path)

## Config user
git2r::config(
  repo, user.name = "Alice", user.email = "alice@example.org"
)
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- paste0(
  "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
)
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)


## ------------------------------------------------
## Method `autonewsmd$generate`
## ------------------------------------------------

# (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- file.path(tempdir(), "autonewsmd")
dir.create(path)
repo &lt;- git2r::init(path)

## Config user
git2r::config(
  repo, user.name = "Alice", user.email = "alice@example.org"
)
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- paste0(
  "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
)
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)

## generate the news and write them to the repo
an$generate()


## ------------------------------------------------
## Method `autonewsmd$write`
## ------------------------------------------------

# (Example is based on the public examples from the `git2r` R package)
## Initialize a repository
path &lt;- tempdir()
repo &lt;- git2r::init(path)

## Config user
git2r::config(
  repo, user.name = "Alice", user.email = "alice@example.org"
)
git2r::remote_set_url(repo, "foobar", "https://example.org/git2r/foobar")


## Write to a file and commit
lines &lt;- paste0(
  "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do"
)
writeLines(lines, file.path(path, "example.txt"))

git2r::add(repo, "example.txt")
git2r::commit(repo, "feat: new file")

## Write again to a file and commit
lines2 &lt;- paste0(
  "eiusmod tempor incididunt ut labore et dolore magna aliqua. ",
  "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris ",
  "nisi ut aliquip ex ea commodo consequat."
)
write(lines2, file.path(path, "example.txt"), append = TRUE)

git2r::add(repo, "example.txt")
git2r::commit(repo, "refactor: added second phrase")

## now construct a new autonewsmd object
an &lt;- autonewsmd$new(repo_name = "TestRepo", repo_path = path)

## generate the news and write them to the repo
an$generate()

if (interactive()) {
  an$write()
}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

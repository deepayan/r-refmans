<!DOCTYPE html><html><head><title>Help for package colourpicker</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {colourpicker}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#colourpicker-package'><p>colourpicker: A Colour Picker Tool for Shiny and for Selecting Colours in Plots</p></a></li>
<li><a href='#colourInput'><p>Create a colour input control</p></a></li>
<li><a href='#colourPicker'><p>Colour picker gadget</p></a></li>
<li><a href='#colourWidget'><p>Create a colour picker htmlwidget</p></a></li>
<li><a href='#plotHelper'><p>Plot colour helper</p></a></li>
<li><a href='#runExample'><p>Run a colourpicker example</p></a></li>
<li><a href='#updateColourInput'><p>Change the value of a colour input</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>A Colour Picker Tool for Shiny and for Selecting Colours in
Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A colour picker that can be used as an input in 'Shiny' apps
    or Rmarkdown documents. The colour picker supports alpha opacity, custom
    colour palettes, and many more options. A Plot Colour Helper tool is
    available as an 'RStudio' Addin, which helps you pick colours to use in your
    plots. A more generic Colour Picker 'RStudio' Addin is also provided to let 
    you select colours to use in your R code.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/daattali/colourpicker">https://github.com/daattali/colourpicker</a>,
<a href="https://daattali.com/shiny/colourInput/">https://daattali.com/shiny/colourInput/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/daattali/colourpicker/issues">https://github.com/daattali/colourpicker/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, htmltools, htmlwidgets (&ge; 0.7), jsonlite, miniUI (&ge;
0.1.1), shiny (&ge; 0.11.1), shinyjs (&ge; 2.0.0), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.7), rmarkdown, rstudioapi (&ge; 0.5),
shinydisconnect</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-20 00:23:47 UTC; Dean-X1C</td>
</tr>
<tr>
<td>Author:</td>
<td>Dean Attali <a href="https://orcid.org/0000-0002-5645-3493"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  David Griswold [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dean Attali &lt;daattali@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-21 08:12:46 UTC</td>
</tr>
</table>
<hr>
<h2 id='colourpicker-package'>colourpicker: A Colour Picker Tool for Shiny and for Selecting Colours in Plots</h2><span id='topic+colourpicker'></span><span id='topic+colourpicker-package'></span>

<h3>Description</h3>

<p>A colour picker that can be used as an input in 'Shiny' apps or Rmarkdown documents. The colour picker supports alpha opacity, custom colour palettes, and many more options. A Plot Colour Helper tool is available as an 'RStudio' Addin, which helps you pick colours to use in your plots. A more generic Colour Picker 'RStudio' Addin is also provided to let you select colours to use in your R code.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dean Attali <a href="mailto:daattali@gmail.com">daattali@gmail.com</a> (<a href="https://orcid.org/0000-0002-5645-3493">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> David Griswold <a href="mailto:novachild@gmail.com">novachild@gmail.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/daattali/colourpicker">https://github.com/daattali/colourpicker</a>
</p>
</li>
<li> <p><a href="https://daattali.com/shiny/colourInput/">https://daattali.com/shiny/colourInput/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/daattali/colourpicker/issues">https://github.com/daattali/colourpicker/issues</a>
</p>
</li></ul>


<hr>
<h2 id='colourInput'>Create a colour input control</h2><span id='topic+colourInput'></span>

<h3>Description</h3>

<p>Create an input control to select a colour.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colourInput(
  inputId,
  label,
  value = "white",
  showColour = c("both", "text", "background"),
  palette = c("square", "limited"),
  allowedCols = NULL,
  allowTransparent = FALSE,
  returnName = FALSE,
  closeOnClick = FALSE,
  width = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colourInput_+3A_inputid">inputId</code></td>
<td>
<p>The <code>input</code> slot that will be used to access the value.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_label">label</code></td>
<td>
<p>Display label for the control, or '<code>NULL</code> for no label.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_value">value</code></td>
<td>
<p>Initial value (can be a colour name or HEX code)</p>
</td></tr>
<tr><td><code id="colourInput_+3A_showcolour">showColour</code></td>
<td>
<p>Whether to show the chosen colour as text inside the input,
as the background colour of the input, or both (default).</p>
</td></tr>
<tr><td><code id="colourInput_+3A_palette">palette</code></td>
<td>
<p>The type of colour palette to allow the user to select colours
from. <code>square</code> (default) shows a square colour palette that allows the
user to choose any colour, while <code>limited</code> only gives the user a
predefined list of colours to choose from.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_allowedcols">allowedCols</code></td>
<td>
<p>A list of colours that the user can choose from. Only
applicable when <code>palette == "limited"</code>. The <code>limited</code> palette
uses a default list of 40 colours if <code>allowedCols</code> is not defined. If
the colour specified in <code>value</code> is not in the list, the default colour
will revert to black.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_allowtransparent">allowTransparent</code></td>
<td>
<p>If <code>TRUE</code>, enables a slider to choose an alpha
(transparency) value for the colour. When a colour with opacity is
chosen, the return value is an 8-digit HEX code.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_returnname">returnName</code></td>
<td>
<p>If <code>TRUE</code>, then return the name of an R colour instead
of a HEX value when possible.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_closeonclick">closeOnClick</code></td>
<td>
<p>If <code>TRUE</code>, then the colour selection panel will close
immediately after selecting a colour.</p>
</td></tr>
<tr><td><code id="colourInput_+3A_width">width</code></td>
<td>
<p>The width of the input, e.g. <code>"400px"</code> or <code>"100%"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A colour input allows users to select a colour by clicking on the desired
colour, or by entering a valid colour in the input box. Colours can be
specified as either names (&quot;blue&quot;), HEX codes (&quot;#0000FF&quot;), RGB codes
(&quot;rgb(0, 0, 255)&quot;), or HSL codes (&quot;hsl(240, 100, 50)&quot;). Use
<code>allowTransparent = TRUE</code> to allow selecting semi-transparent colours.
The return value is a HEX value by default, but you can use the
<code>returnName = TRUE</code> parameter to get an R colour name instead
(only when an R colour exists for the selected colour).
</p>
<p>When <code>allowTransparent = TRUE</code>, the user can type into the input field
any RGBA value, HSLA value, or 8-digit HEX with alpha channel You can also use
any of these values as the <code>value</code> argument as the initial value of the
input.
</p>


<h3>Note</h3>

<p>See <a href="https://daattali.com/shiny/colourInput/">https://daattali.com/shiny/colourInput/</a>
for a live demo.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+updateColourInput">updateColourInput</a></code>
<code><a href="#topic+colourPicker">colourPicker</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  # Example 1
  library(shiny)
  shinyApp(
    ui = fluidPage(
      colourInput("col", "Choose colour", "red"),
      plotOutput("plot")
    ),
    server = function(input, output, session) {
      output$plot &lt;- renderPlot({
        plot(1:10, col = input$col)
      })
    }
  )

  # Example 2
  library(shiny)
  shinyApp(
    ui = fluidPage(
      strong("Selected colour:", textOutput("value", inline = TRUE)),
      colourInput("col", "Choose colour", "red"),
      h3("Update colour input"),
      textInput("text", "New colour: (colour name or HEX value)"),
      selectInput("showColour", "Show colour",
        c("both", "text", "background")),
      selectInput("palette", "Colour palette",
        c("square", "limited")),
      checkboxInput("allowTransparent", "Allow transparent", FALSE),
      checkboxInput("returnName", "Return R colour name", FALSE),
      actionButton("btn", "Update")
    ),
    server = function(input, output, session) {
      observeEvent(input$btn, {
        updateColourInput(session, "col",
          value = input$text, showColour = input$showColour,
          allowTransparent = input$allowTransparent,
          palette = input$palette,
          returnName = input$returnName)
      })
      output$value &lt;- renderText(input$col)
    }
  )
}
</code></pre>

<hr>
<h2 id='colourPicker'>Colour picker gadget</h2><span id='topic+colourPicker'></span>

<h3>Description</h3>

<p>This gadget lets you choose colours easily. You can select multiple colours,
and you can either choose any RGB colour, or browse through R colours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colourPicker(numCols = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colourPicker_+3A_numcols">numCols</code></td>
<td>
<p>The number of colours to select when the gadget launches (you
can add and remove more colours from the app itself too)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of selected colours
</p>


<h3>Note</h3>

<p>This gadget returns a vector of colours that can be assigned to
a variable. If instead you want to get a text representation of the colours
that can embedded into code, use the addin from the RStudio Addins menu.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  cols &lt;- colourPicker(5)
}
</code></pre>

<hr>
<h2 id='colourWidget'>Create a colour picker htmlwidget</h2><span id='topic+colourWidget'></span>

<h3>Description</h3>

<p>Create a colour picker htmlwidget. This is not terribly useful right now
since you can use the more powerful <code><a href="#topic+colourInput">colourInput</a></code>
in Shiny apps and Rmarkdown documents, but this gives you an htmlwidget
version of that colour picker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colourWidget(
  value = "white",
  showColour = c("both", "text", "background"),
  palette = c("square", "limited"),
  allowedCols = NULL,
  allowTransparent = FALSE,
  returnName = FALSE,
  closeOnClick = FALSE,
  width = "300px",
  height = "35px",
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colourWidget_+3A_value">value</code></td>
<td>
<p>Initial value (can be a colour name or HEX code)</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_showcolour">showColour</code></td>
<td>
<p>Whether to show the chosen colour as text inside the input,
as the background colour of the input, or both (default).</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_palette">palette</code></td>
<td>
<p>The type of colour palette to allow the user to select colours
from. <code>square</code> (default) shows a square colour palette that allows the
user to choose any colour, while <code>limited</code> only gives the user a
predefined list of colours to choose from.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_allowedcols">allowedCols</code></td>
<td>
<p>A list of colours that the user can choose from. Only
applicable when <code>palette == "limited"</code>. The <code>limited</code> palette
uses a default list of 40 colours if <code>allowedCols</code> is not defined. If
the colour specified in <code>value</code> is not in the list, the default colour
will revert to black.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_allowtransparent">allowTransparent</code></td>
<td>
<p>If <code>TRUE</code>, enables a slider to choose an alpha
(transparency) value for the colour. When a colour with opacity is
chosen, the return value is an 8-digit HEX code.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_returnname">returnName</code></td>
<td>
<p>If <code>TRUE</code>, then return the name of an R colour instead
of a HEX value when possible.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_closeonclick">closeOnClick</code></td>
<td>
<p>If <code>TRUE</code>, then the colour selection panel will close
immediately after selecting a colour.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_width">width</code></td>
<td>
<p>Custom width for the input field.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_height">height</code></td>
<td>
<p>Custom height for the input field.</p>
</td></tr>
<tr><td><code id="colourWidget_+3A_elementid">elementId</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an
automatically generated one).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>colourWidget()
colourWidget("red", palette = "limited", allowedCols = c("yellow", "red", "#123ABC"))

</code></pre>

<hr>
<h2 id='plotHelper'>Plot colour helper</h2><span id='topic+plotHelper'></span>

<h3>Description</h3>

<p>Allows you to interactively pick combinations of colours, to help you
choose colours to use in your plots. The plot updates in real-time as you
pick colours.<br /><br />
If you often find yourself spending a lot of time re-creating
the same plot over and over with different colours to try to find the best
colours, then the Plot Colour Helper can help you immensely.<br /><br />
<strong>Important:</strong> The colours you pick will be available as a variable
called <code>CPCOLS</code>, so you can use <code>CPCOLS</code> in your plot code. See the
example below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotHelper(code = "", colours = NULL, returnCode = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotHelper_+3A_code">code</code></td>
<td>
<p>Code for a plot. You can use the variable <code>CPCOLS</code> in this
code to refer to the colours that you will pick. If you do not provide any
code, the plot helper will initialize with sample code. The code can be
provided as text or as R code.</p>
</td></tr>
<tr><td><code id="plotHelper_+3A_colours">colours</code></td>
<td>
<p>A vector of colours to use as the initial colours in the tool,
or an integer. If an integer is provided instead of colours, the tool will load
with that number of colours, and default colours will be used initially.
If you do not provide this parameter, the tool will attempt to guess how many
colours are needed in the <code>code</code> and initialize that many colours.</p>
</td></tr>
<tr><td><code id="plotHelper_+3A_returncode">returnCode</code></td>
<td>
<p>If <code>TRUE</code>, return the plot code and the <code>CPCOLS</code>
variable as text. If <code>FALSE</code> (default), return the vector of selected
colours.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are many keyboard shortcuts to help you be more efficient. For example,
pressing <em>spacebar</em> adds a new colour, <em>left</em>/<em>right</em> keys
let you navigate between the selected colours, <em>1-9</em> let you select any
of the first 9 colours. For a full list of keyboard shortcuts, click on
<em>Show keyboard shortcuts</em>.
</p>


<h3>Value</h3>

<p>When this function is called using <code>plotHelper()</code>, the chosen
colours are returned as a vector of colours. When this is run as an RStudio
addin (through the <em>Addins</em> menu), the resulting code that includes the
colour vector gets inserted into the R document. As a side effect,
<code>CPCOLS</code> gets assigned in the global environment to the value of the
selected colours.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  cols &lt;- plotHelper()
  cols &lt;- plotHelper(colours = c("red", "blue"))
  cols &lt;- plotHelper(colours = 5)

  library(ggplot2)
  cols &lt;- plotHelper(ggplot(mtcars, aes(mpg,wt)) +
                     geom_point(aes(col = as.factor(cyl)))+
                     scale_colour_manual(values = CPCOLS))
}
</code></pre>

<hr>
<h2 id='runExample'>Run a colourpicker example</h2><span id='topic+runExample'></span>

<h3>Description</h3>

<p>Launch a <code>colourpicker</code> example Shiny app that shows how to use the
<code>colourInput</code> control. <br />
The example is also
<a href="https://daattali.com/shiny/colourInput/">available online</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runExample()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>## Only run this example in interactive R sessions
if (interactive()) {
  runExample()
}
</code></pre>

<hr>
<h2 id='updateColourInput'>Change the value of a colour input</h2><span id='topic+updateColourInput'></span>

<h3>Description</h3>

<p>Change the value of a colour input on the client.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateColourInput(
  session,
  inputId,
  label = NULL,
  value = NULL,
  showColour = NULL,
  palette = NULL,
  allowedCols = NULL,
  allowTransparent = NULL,
  returnName = NULL,
  closeOnClick = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateColourInput_+3A_session">session</code></td>
<td>
<p>The <code>session</code> object passed to function given to <code>shinyServer</code>.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_inputid">inputId</code></td>
<td>
<p>The id of the colour input object.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_label">label</code></td>
<td>
<p>The label to set for the input object.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_value">value</code></td>
<td>
<p>The value to set for the input object.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_showcolour">showColour</code></td>
<td>
<p>Whether to show the chosen colour as text inside the input,
as the background colour of the input, or both (default).</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_palette">palette</code></td>
<td>
<p>The type of colour palette to allow the user to select colours
from. <code>square</code> (default) shows a square colour palette that allows the
user to choose any colour, while <code>limited</code> only gives the user a
predefined list of colours to choose from.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_allowedcols">allowedCols</code></td>
<td>
<p>A list of colours that the user can choose from. Only
applicable when <code>palette == "limited"</code>. The <code>limited</code> palette
uses a default list of 40 colours if <code>allowedCols</code> is not defined. If
the colour specified in <code>value</code> is not in the list, the default colour
will revert to black.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_allowtransparent">allowTransparent</code></td>
<td>
<p>If <code>TRUE</code>, enables a slider to choose an alpha
(transparency) value for the colour. When a colour with opacity is
chosen, the return value is an 8-digit HEX code.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_returnname">returnName</code></td>
<td>
<p>If <code>TRUE</code>, then return the name of an R colour instead
of a HEX value when possible.</p>
</td></tr>
<tr><td><code id="updateColourInput_+3A_closeonclick">closeOnClick</code></td>
<td>
<p>If <code>TRUE</code>, then the colour selection panel will close
immediately after selecting a colour.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The update function sends a message to the client, telling it to change
the settings of a colour input object.<br />
This function works similarly to the update functions provided by shiny.<br />
Any argument with <code>NULL</code> values will be ignored.
</p>


<h3>Note</h3>

<p>See <a href="https://daattali.com/shiny/colourInput/">https://daattali.com/shiny/colourInput/</a>
for a live demo.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+colourInput">colourInput</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      div("Selected colour:", textOutput("value", inline = TRUE)),
      colourInput("col", "Choose colour", "red"),
      h3("Update colour input"),
      textInput("text", "New colour: (colour name or HEX value)"),
      selectInput("showColour", "Show colour",
        c("both", "text", "background")),
      checkboxInput("allowTransparent", "Allow transparent", FALSE),
      checkboxInput("returnName", "Return R colour name", FALSE),
      actionButton("btn", "Update")
    ),
    server = function(input, output, session) {
      observeEvent(input$btn, {
        updateColourInput(session, "col",
          value = input$text, showColour = input$showColour,
          allowTransparent = input$allowTransparent,
          returnName = input$returnName)
      })
      output$value &lt;- renderText(input$col)
    }
  )
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

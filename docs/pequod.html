<!DOCTYPE html><html><head><title>Help for package pequod</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pequod}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lmres'>
<p>Moderated regression with residual centering</p></a></li>
<li><a href='#PlotSlope'>
<p>Simple slopes plot</p></a></li>
<li><a href='#simpleSlope'>
<p>Simple slopes analysis for Moderated regression</p></a></li>
<li><a href='#summary.lmres'>
<p>summary  for lmres object</p></a></li>
<li><a href='#summary.simpleSlope'>
<p>summary  for simpleSlope object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Moderated Regression Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0-5</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-2-28</td>
</tr>
<tr>
<td>Author:</td>
<td>Alberto Mirisola &amp; Luciano Seta</td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2, car</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alberto Mirisola &lt;alberto.mirisola@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Moderated regression with mean and residual centering and simple slopes analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-02-28 17:55:18 UTC; alberto</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-02-29 01:28:20</td>
</tr>
</table>
<hr>
<h2 id='lmres'>
Moderated regression with residual centering</h2><span id='topic+lmres'></span><span id='topic+lmres.default'></span><span id='topic+print.lmres'></span>

<h3>Description</h3>

<p>Fit moderated linear regression with both residual centering and mean centering methods. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lmres(formula, data, residual_centering, centered, ...)
## Default S3 method:
lmres(formula, data, residual_centering=FALSE, centered = "none", ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lmres_+3A_formula">formula</code></td>
<td>

<p>an object of class &quot;formula&quot;: a symbolic description of the model to be fitted. 
</p>
</td></tr>
<tr><td><code id="lmres_+3A_data">data</code></td>
<td>

<p>a data frame
</p>
</td></tr>
<tr><td><code id="lmres_+3A_centered">centered</code></td>
<td>

<p>variables wich must be centered 
</p>
</td></tr>
<tr><td><code id="lmres_+3A_residual_centering">residual_centering</code></td>
<td>

<p>&quot;FALSE&quot; generate a moderated using standard lm regression, &quot;TRUE&quot; generate a moderated regression with residuals centering
</p>
</td></tr>
<tr><td><code id="lmres_+3A_...">...</code></td>
<td>

</td></tr>
</table>


<h3>Details</h3>

<p>Moderated regression  without residual centering : For any interaction term,  the product is computed  and  entered in the final model. In order to perform a mean centered moderated regression, predictors must be centered
Moderated regression with residual centering: For any interaction term with order n, a regression with low order terms (n-1) is computed, and Interaction residuals are entered in the final model.
</p>


<h3>Value</h3>

<p>lmres returns an object of class &quot;lmres&quot;. 
</p>
<p>An object of class &quot;lmres&quot; is a list containing at least the following components:
</p>
<table>
<tr><td><code>regr.order</code></td>
<td>
<p>the numeric order of the fitted linear model</p>
</td></tr>
<tr><td><code>formula.StepI</code></td>
<td>
<p>the formula of the first order regression</p>
</td></tr>
<tr><td><code>formula.StepII</code></td>
<td>
<p>(only where relevant) the formula of the second order regression</p>
</td></tr>
<tr><td><code>formula.Stepfin</code></td>
<td>
<p>the formula of the x (max(x)=3) order regression</p>
</td></tr>
<tr><td><code>beta.StepI</code></td>
<td>
<p>a named vector of standardized coefficients for the first order regression</p>
</td></tr> 
<tr><td><code>beta.StepII</code></td>
<td>
<p>(only where relevant) a named vector of standardized coefficients for the second order regression</p>
</td></tr> 
<tr><td><code>beta.Stepfin</code></td>
<td>
<p>a named vector of standardized coefficients for the x (max(x)=3)  order regression</p>
</td></tr>
<tr><td><code>StepI</code></td>
<td>
<p>a lm object for the first order regression </p>
</td></tr>
<tr><td><code>StepII</code></td>
<td>
<p>(only where relevant) a lm object for the second order regression </p>
</td></tr>
<tr><td><code>Stepfin</code></td>
<td>
<p>a lm object for the x (max(x)=3)  order regression</p>
</td></tr>
<tr><td><code>F_change</code></td>
<td>
<p>is a list containing F change statistics </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alberto Mirisola and Luciano Seta 
</p>


<h3>References</h3>

<p>Little, T. D., Bovaird, J. A., &amp; Widaman, K. F. (2006). On the Merits of Orthogonalizing Powered and Product Terms: Implications for Modeling Interactions Among Latent Variables. Structural Equation Modeling, 13(4), 497-519.
</p>
<p>Cohen, J., Cohen, P.,West, S. G.,&amp;Aiken, L. S. (2003). Applied multiple regression/correlation analysis for the behavioral sciences (3rd ed.). Mahwah, NJ: Lawrence Erlbaum Associates, Inc.
</p>


<h3>See Also</h3>

<p>&ldquo;summary.lmres&rdquo;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	
	## moderated regression with mean centering
	library(car)
	data(Ginzberg)
	model1&lt;-lmres(adjdep~adjsimp*adjfatal, centered=c("adjsimp", "adjfatal"),
	data=Ginzberg)
	
	## moderated regression with mean centering
	library(car)
	data(Ginzberg)
	model1&lt;-lmres(adjdep~adjsimp*adjfatal, centered=c("adjsimp", "adjfatal"),
	data=Ginzberg)
	## moderated regression with mean centering
	model2&lt;-lmres(adjdep~adjsimp*adjfatal,residual_centering=TRUE,
	centered=c("adjsimp", "adjfatal"), data=Ginzberg)
	## three way interaction with mean centering
	library(car)
	data(Highway1)
	model3&lt;-lmres(rate~len*trks*sigs1, centered=c("len","trks","sigs1"),data=Highway1)

## The function is currently defined as
function (formula, data, centered, ...) 
UseMethod("lmres")
</code></pre>

<hr>
<h2 id='PlotSlope'>
Simple slopes plot </h2><span id='topic+PlotSlope'></span>

<h3>Description</h3>

<p>Simple slope plot for two and three way interactions. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotSlope(object, namemod = "default", namex = "default",
namey = "default", limitx = "default", limity = "default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotSlope_+3A_object">object</code></td>
<td>

<p>an object of class &quot;simpleSlope&quot;. 
</p>
</td></tr>
<tr><td><code id="PlotSlope_+3A_namemod">namemod</code></td>
<td>

<p>a character verctor of the moderator points. If &quot;default&quot; is used, default setting is printed.
</p>
</td></tr>
<tr><td><code id="PlotSlope_+3A_namex">namex</code></td>
<td>

<p>name of the predictor. If &quot;default&quot; is used, the predictor name  in the dataframe is printed.
</p>
</td></tr>
<tr><td><code id="PlotSlope_+3A_namey">namey</code></td>
<td>

<p>name of the dependent variable. If &quot;default&quot; is used, the dataframe name is printed.
</p>
</td></tr>
<tr><td><code id="PlotSlope_+3A_limitx">limitx</code></td>
<td>

<p>a numeric vector for setting limits of x axis.
</p>
</td></tr>
<tr><td><code id="PlotSlope_+3A_limity">limity</code></td>
<td>

<p>a numeric vector for setting limits of y axis.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plot for Simple slope analysis.
</p>


<h3>Value</h3>

<p>PlotSlope returns an object of class &quot;ggplot&quot;. 
</p>


<h3>Author(s)</h3>

<p>Alberto Mirisola and Luciano Seta 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	
	## Default plot for three way interaction
	
	library(car)
	data(Highway1)
	model3&lt;-lmres(rate~len*trks*sigs1, centered=c("len","trks","sigs1"),data=Highway1)
	S_slopes&lt;-simpleSlope(model3,pred="len",mod1="trks", mod2="sigs1")
	Plot&lt;-PlotSlope(S_slopes)
	
	## Personalized plot for three way interaction
	
	library(car)
	data(Highway1)
	model3&lt;-lmres(rate~len*trks*sigs1, centered=c("len","trks","sigs1"),data=Highway1)
	S_slopes&lt;-simpleSlope(model3,pred="len",mod1="trks", mod2="sigs1")
	Plot&lt;-PlotSlope(S_slopes, namemod=c("Low truck volume (-1SD),
	Low number of signals per mile (-1 SD)","Low truck volume (-1SD),
	High number of signals per mile (+1 SD)","High truck volume (+1SD),
	Low number of signals per mile (-1 SD)","High truck volume (+1SD), 
	High number of signals per mile (+1 SD)"),
	namex="length of the Highway1\n segment in miles",
	namey="1973 accident rate \n per million vehicle miles",
	limitx=c(-9,9), limity=c(-2,9))


## The function is currently defined as
function(object, namemod = "default", 
namex = "default", namey = "default", limitx = "default", 
limity = "default") {

pmatr &lt;- object$Points
nomY &lt;- object$nomY
nomX &lt;- object$nomX
X_1L &lt;- object$X_1L
X_1H &lt;- object$X_1H

if (object$orde == 2) {
nam &lt;- dimnames(object$simple_slope)[1]
nam &lt;- nam[[1]]
r1 &lt;- nam[1]
r2 &lt;- nam[2]

xini &lt;- rep(X_1L, 4)
xend &lt;- rep(X_1H, 4)
fact &lt;- c(5, 6)
mat &lt;- cbind(fact, xini, pmatr[, 1], xend, pmatr[, 2])
mat &lt;- as.data.frame(mat)
names(mat) &lt;- c("fact", "xini", "yini", "xend", "yend")
p &lt;- ggplot(mat, aes(x = xini, y = yini))
p1 &lt;- p + geom_segment(aes(xend = xend, yend = yend))
p1 &lt;- p1 + scale_x_continuous(nomX) + scale_y_continuous(nomY)
p1 &lt;- p1 + geom_point(size = 3, aes(shape = factor(fact))) + 
geom_point(aes(x = xend, y = yend, shape = factor(fact)), 
size = 3)

if (length(namemod) == 1) {
p1 &lt;- p1 + scale_shape(name = "Moderator", breaks = c(5, 
6), labels = c(r1, r2))
  }
if (length(namemod) &gt; 1) {
if (length(namemod) != 2) {
stop("length of namemod vector must be = 2")
  }
p1 &lt;- p1 + scale_shape(name = "Moderator", breaks = c(5, 
6), labels = namemod)
  }

if (namex != "default") {
if (length(limitx) == 2) {
p1 &lt;- p1 + scale_x_continuous(namex, limits = limitx)
  }
else {
p1 &lt;- p1 + scale_x_continuous(namex)
  }

  }

if (namey != "default") {
if (length(limity) == 2) {
p1 &lt;- p1 + scale_y_continuous(namey, limits = limity)
  }
else {
p1 &lt;- p1 + scale_y_continuous(namey)
  }
  }



return(p1)
  }

if (object$orde == 3) {

nam &lt;- dimnames(object$simple_slope)[1]
nam &lt;- nam[[1]]
r1 &lt;- nam[1]
r2 &lt;- nam[2]
r3 &lt;- nam[3]
r4 &lt;- nam[4]


xini &lt;- rep(X_1L, 4)
xend &lt;- rep(X_1H, 4)
fact &lt;- c(5, 6, 7, 8)
mat &lt;- cbind(fact, xini, pmatr[, 1], xend, pmatr[, 2])
mat &lt;- as.data.frame(mat)
names(mat) &lt;- c("fact", "xini", "yini", "xend", "yend")
p &lt;- ggplot(mat, aes(x = xini, y = yini))
p1 &lt;- p + geom_segment(aes(xend = xend, yend = yend))
p1 &lt;- p1 + scale_x_continuous(nomX) + scale_y_continuous(nomY)
p1 &lt;- p1 + geom_point(size = 3, aes(shape = factor(fact))) + 
geom_point(aes(x = xend, y = yend, shape = factor(fact)), 
size = 3)
if (length(namemod) == 1) {
p1 &lt;- p1 + scale_shape(name = "Moderators Combination", 
breaks = c(5, 6, 7, 8), labels = c(r1, r2, r3, 
r4))
  }
if (length(namemod) &gt; 1) {
if (length(namemod) != 4) {
stop("length of namemod vector must be = 4")
  }
p1 &lt;- p1 + scale_shape(name = "Moderators Combination", 
breaks = c(5, 6, 7, 8), labels = namemod)
  }
p2 &lt;- p1

if (namex != "default") {
if (length(limitx) == 2) {
p2 &lt;- p2 + scale_x_continuous(namex, limits = limitx)
  }
else {
p2 &lt;- p2 + scale_x_continuous(namex)
  }

  }

if (namey != "default") {
if (length(limity) == 2) {
p2 &lt;- p2 + scale_y_continuous(namey, limits = limity)
  }
else {
p2 &lt;- p2 + scale_y_continuous(namey)
  }
  }

return(p2)
  }

  }
</code></pre>

<hr>
<h2 id='simpleSlope'>
Simple slopes analysis for Moderated regression</h2><span id='topic+simpleSlope'></span><span id='topic+simpleSlope.default'></span><span id='topic+print.simpleSlope'></span>

<h3>Description</h3>

<p>Simple slope analysis according to Cohen, Cohen, West, &amp; Aiken (2003); Bauer &amp; Curran, (2005); and Dawson and Richter (2006) approaches. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simpleSlope(object, pred, mod1, mod2, coded, ...)
## Default S3 method:
simpleSlope(object, pred, mod1, mod2="none",coded = "none", ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simpleSlope_+3A_object">object</code></td>
<td>

<p>an object of class &quot;lmres&quot;: a moderated regression function. 
</p>
</td></tr>
<tr><td><code id="simpleSlope_+3A_pred">pred</code></td>
<td>

<p>name of the predictor variable
</p>
</td></tr>
<tr><td><code id="simpleSlope_+3A_mod1">mod1</code></td>
<td>

<p>name of the first moderator variable
</p>
</td></tr>
<tr><td><code id="simpleSlope_+3A_mod2">mod2</code></td>
<td>

<p>name of the second moderator variable.  Default &quot;none&quot; is used in order to analyzing two way interaction,
</p>
</td></tr>
<tr><td><code id="simpleSlope_+3A_coded">coded</code></td>
<td>

<p>a character vector of coded variables
</p>
</td></tr>
<tr><td><code id="simpleSlope_+3A_...">...</code></td>
<td>

</td></tr>
</table>


<h3>Details</h3>

<p>Simple slope analysis for moderated regression. If two way interaction is analyzed, the function computes simple slope analysis and region of significance( Bauer &amp; Curran, 2005). 
If three way interaction is analyzed, the function compute simple slope analysis and difference slope test (Dawson and Richter, 2006).
</p>


<h3>Value</h3>

<p>simpleSlope returns an object of class &quot;simpleSlope&quot;. 
</p>
<p>An object of class &quot;simpleSlope&quot; is a list containing at least the following components:
</p>
<table>
<tr><td><code>nomY</code></td>
<td>
<p>the name of dependent variable</p>
</td></tr>
<tr><td><code>orde</code></td>
<td>
<p>it's 2 for two way interaction, it's 3 for three way interaction </p>
</td></tr>
<tr><td><code>points</code></td>
<td>
<p> Estimated points of dependent variable as a function of levels of moderators and predictor</p>
</td></tr>
<tr><td><code>simple_slope</code></td>
<td>
<p>a matrix summarizing simple slopes results</p>
</td></tr>
<tr><td><code>delta_slope</code></td>
<td>
<p>(only for three way interaction)a matrix summarizing difference slope tests </p>
</td></tr> 
<tr><td><code>Df</code></td>
<td>
<p>degree of freedom</p>
</td></tr> 
<tr><td><code>conf95</code></td>
<td>
<p>(only for two way interaction)confidence interval of moderator region of significance</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alberto Mirisola and Luciano Seta 
</p>


<h3>References</h3>

<p>-Bauer, D. J., &amp; Curran, P. J. (2005). Probing Interactions in Fixed and Multilevel Regression: Inferential and Graphical Techniques. Multivariate Behavioral Research, 40(3), 373-400.
-Cohen, J., Cohen, P.,West, S. G.,&amp; Aiken, L. S. (2003). Applied multiple regression/correlation analyses
for the behavioral sciences (3rd ed.). Mahwah, NJ: Lawerence Erlbaum Associates, Inc.
- Dawson, J. F., and Richter, W. (2006) Probing Three-Way interactions in moderated multiple regression: Development and application of a slope difference test. Journal of Applied Psychology, 4, 917-926. 
</p>


<h3>See Also</h3>

<p>&ldquo;summary.simpleSlope&rdquo;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	
	## simple slope for three way interaction
	
	library(car)
	data(Highway1)
	model3&lt;-lmres(rate~len*trks*sigs1, centered=c("len","trks","sigs1"),data=Highway1)
    S_slopes&lt;-simpleSlope(model3,pred="len",mod1="trks", mod2="sigs1")


## The function is currently defined as
function (object, pred, mod1, mod2, coded, ...) 
UseMethod("simpleSlope")
</code></pre>

<hr>
<h2 id='summary.lmres'>
summary  for lmres object
</h2><span id='topic+summary.lmres'></span><span id='topic+print.summary.lmres'></span>

<h3>Description</h3>

<p>return simple and nested summaries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lmres'
summary(object, type = "default", ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.lmres_+3A_object">object</code></td>
<td>
<p>a lmres object
</p>
</td></tr>
<tr><td><code id="summary.lmres_+3A_type">type</code></td>
<td>

<p>&quot;default&quot; generate a lm output, &quot;nested&quot; generate a hierarchical regression output
</p>
</td></tr>
<tr><td><code id="summary.lmres_+3A_...">...</code></td>
<td>

</td></tr>
</table>


<h3>Value</h3>

<p>The function summary is used to obtain a simple of nested summary of the results.
</p>


<h3>Author(s)</h3>

<p>Alberto Mirisola and Luciano Seta 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(car)
data(Ginzberg)
model1&lt;-lmres(adjdep~adjsimp*adjfatal, centered=c("adjsimp", "adjfatal"),
data=Ginzberg)

summary(model1)
summary(model1, type="nested")

## The function is currently defined as
function (object, type = "default", ...) 

</code></pre>

<hr>
<h2 id='summary.simpleSlope'>
summary  for simpleSlope object
</h2><span id='topic+summary.simpleSlope'></span><span id='topic+print.summary.simpleSlope'></span>

<h3>Description</h3>

<p>return summaries for simpleSlope object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'simpleSlope'
summary(object,...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.simpleSlope_+3A_object">object</code>, <code id="summary.simpleSlope_+3A_...">...</code></td>
<td>
<p>a simpleSlope object
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function summary is used to obtain  the summary of the simpleSlope results.
</p>


<h3>Author(s)</h3>

<p>Alberto Mirisola and Luciano Seta 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(car)
	data(Highway1)
	model3&lt;-lmres(rate~len*trks*sigs1, centered=c("len","trks","sigs1"),data=Highway1)
    S_slopes&lt;-simpleSlope(model3,pred="len",mod1="trks", mod2="sigs1")
   summary(S_slopes)

## The function is currently defined as
function (object,...) 

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package EBMAforecast</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EBMAforecast}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calibrateEnsemble'><p>Calibrate an ensemble Bayesian Model Averaging model</p></a></li>
<li><a href='#calibrationSample'><p>Sample data Insurgency Predictions</p></a></li>
<li><a href='#CompareModels-class'><p>Function for comparing multiple models based on predictive performance</p></a></li>
<li><a href='#EBMAforecast-package'><p>EBMAforecast: Estimate Ensemble Bayesian Model Averaging Forecasts using Gibbs Sampling or EM-Algorithms</p></a></li>
<li><a href='#EBMApredict'><p>EBMApredict</p></a></li>
<li><a href='#ForecastData-class'><p>An ensemble forecasting data object</p></a></li>
<li><a href='#makeForecastData'><p>Build a ensemble forecasting data object</p></a></li>
<li><a href='#presidentialForecast'><p>Sample data Presidential Election</p></a></li>
<li><a href='#print,ForecastData-method'><p>Print and Show methods for forecast data</p></a></li>
<li><a href='#setPredCalibration&lt;-'><p>&quot;Set&quot; functions</p></a></li>
<li><a href='#SummaryForecastData-class'><p>Summarize and Plot Ensemble models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Estimate Ensemble Bayesian Model Averaging Forecasts using Gibbs
Sampling or EM-Algorithms</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.32</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-20</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/fhollenbach/EBMA/">https://github.com/fhollenbach/EBMA/</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Create forecasts from multiple predictions using ensemble Bayesian model averaging (EBMA). EBMA models can be estimated using an expectation maximization (EM) algorithm or as fully Bayesian models via Gibbs sampling. The methods in this package are Montgomery, Hollenbach, and Ward (2015) &lt;<a href="https://doi.org/10.1016%2Fj.ijforecast.2014.08.001">doi:10.1016/j.ijforecast.2014.08.001</a>&gt; and Montgomery, Hollenbach, and Ward (2012) &lt;<a href="https://doi.org/10.1093%2Fpan%2Fmps002">doi:10.1093/pan/mps002</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.2), plyr, graphics, separationplot, Hmisc, abind,
gtools, methods, glue</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'EBMAforecast-package.R' 'forecastData.R' 'EBMApredict.R'
'RcppExports.R' 'calibrateEnsemble.R' 'compareModels.R'
'document-data.R' 'fitEnsembleLogit.R' 'fitEnsembleNormal.R'
'global.R' 'makeForecastData.R' 'predictLogit.R'
'predictNormal.R' 'summary_plot.R' 'print_show.R'
'utility-functions.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-20 18:31:47 UTC; fho.egb</td>
</tr>
<tr>
<td>Author:</td>
<td>Florian M. Hollenbach
    <a href="https://orcid.org/0000-0002-9599-556X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Jacob M. Montgomery [aut],
  Michael D. Ward [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Florian M. Hollenbach &lt;fho.egb@cbs.dk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-20 22:20:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='calibrateEnsemble'>Calibrate an ensemble Bayesian Model Averaging model</h2><span id='topic+calibrateEnsemble'></span><span id='topic+calibrateEnsemble+2CForecastData-method'></span>

<h3>Description</h3>

<p>This function calibrates an EBMA model based on out-of-sample performance in the calibration period. Given a dependent variable and calibration-sample predictions from multiple component forecast models in the <code>ForecastData</code>, the <code>calibrateEnsemble</code> function fits an ensemble BMA mixture model. The weights assigned to each model are derived from the individual model's performance in the calibration period. Missing observations are allowed in the calibration period, however models with missing observations are penalized. When missing observations are prevalent in the calibration set, the EM algorithm or gibbs sampler is adjusted and model paprameters are estimated by maximizing a renormalized partial expected complete-data log-likelihood (Fraley et al. 2010).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calibrateEnsemble(
  .forecastData = new("ForecastData"),
  exp = 1,
  tol = sqrt(.Machine$double.eps),
  maxIter = 1e+06,
  model = "logit",
  method = "EM",
  predType = "posteriorMedian",
  useModelParams = TRUE,
  W = rep(1/dim(.forecastData@predCalibration)[2], dim(.forecastData@predCalibration)[2]),
  const = 0,
  modelPriors = rep(1, dim(.forecastData@predCalibration)[2]),
  iterations = 40000,
  burns = 20000,
  thinning = 20,
  ...
)

## S4 method for signature 'ForecastData'
calibrateEnsemble(
  .forecastData = new("ForecastData"),
  exp = 1,
  tol = sqrt(.Machine$double.eps),
  maxIter = 1e+06,
  model = "logit",
  method = "EM",
  predType = "posteriorMean",
  useModelParams = TRUE,
  W = rep(1/dim(.forecastData@predCalibration)[2], dim(.forecastData@predCalibration)[2]),
  const = 0,
  modelPriors = rep(1, dim(.forecastData@predCalibration)[2]),
  iterations = 40000,
  burns = 20000,
  thinning = 20,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calibrateEnsemble_+3A_.forecastdata">.forecastData</code></td>
<td>
<p>An object of class 'ForecastData' that will be used to calibrate the model.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_exp">exp</code></td>
<td>
<p>The exponential shrinkage term.  Forecasts are raised to the (1/exp) power on the logit scale for the purposes of bias reduction.  The default value is <code>exp=3</code>.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_tol">tol</code></td>
<td>
<p>Tolerance for improvements in the log-likelihood before the EM algorithm will stop optimization.  The default is <code>tol= 0.01</code>, which is somewhat high.  Researchers may wish to reduce this by an order of magnitude for final model estimation.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_maxiter">maxIter</code></td>
<td>
<p>The maximum number of iterations the EM algorithm will run before stopping automatically. The default is <code>maxIter=10000</code>.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_model">model</code></td>
<td>
<p>The model type that should be used given the type of data that is being predicted (i.e., normal, binary, etc.).</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_method">method</code></td>
<td>
<p>The estimation method used. It takes either an <code>EM</code> or <code>gibbs</code> as an argument.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_predtype">predType</code></td>
<td>
<p>The prediction type used for the gibbs sampling EBMA model, user can choose either <code>posteriorMedian</code> or <code>posteriorMean</code> (default). Model performance statistics are based on the posterior median or mean forecast. Note that the posterior median forecast is not equal to the forecast based on the median posterior weight. EM predictions based on mean.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_usemodelparams">useModelParams</code></td>
<td>
<p>If &quot;TRUE&quot; individual model predictions are transformed based on logit models. If &quot;FALSE&quot; all models' parameters will be set to 0 and 1.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_w">W</code></td>
<td>
<p>A vector or matrix of initial model weights. If unspecified, each model will receive weight equal to 1/number of Models</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_const">const</code></td>
<td>
<p>User provided &quot;wisdom of crowds&quot; parameter, serves as minimum model weight for all models. Default = 0. Only used in model estimated using EM.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_modelpriors">modelPriors</code></td>
<td>
<p>User provided vector of Dirichlet prior for each of the models. Only used in normal model estimated with gibbs sampling. Default prior is 1 for each model.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_iterations">iterations</code></td>
<td>
<p>The number of iterations for the Bayesian model. Default = 40000.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_burns">burns</code></td>
<td>
<p>The burn in for the Gibbs sampler. Default = 20000.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_thinning">thinning</code></td>
<td>
<p>How much the Gibbs sampler is thinned. Default = 20.</p>
</td></tr>
<tr><td><code id="calibrateEnsemble_+3A_...">...</code></td>
<td>
<p>Not implemented</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data of class 'FDatFitLogit' or FDatFitNormal, a subclass of 'ForecastData', with the following slots
</p>
<table>
<tr><td><code>predCalibration</code></td>
<td>
<p>A matrix containing the predictions of all component models and the EBMA model for all observations in the calibration period. Under gibbs sampling, the EBMA prediction is either the median or mean of the posterior predictive distribution, depending on the <code>predType</code> setting.</p>
</td></tr>
<tr><td><code>predTest</code></td>
<td>
<p>A matrix containing the predictions of all component models and the EBMA model for all observations in the test period. Under gibbs sampling, the EBMA prediction is either the median or mean of the posterior predictive distribution, depending on the <code>predType</code> setting.</p>
</td></tr>
<tr><td><code>outcomeCalibration</code></td>
<td>
<p>A vector containing the true values of the dependent variable for all observations in the calibration period.</p>
</td></tr>
<tr><td><code>outcomeTest</code></td>
<td>
<p>An optional vector containing the true values of the dependent variable for all observations in the test period.</p>
</td></tr>
<tr><td><code>modelNames</code></td>
<td>
<p>A character vector containing the names of all component models.  If no model names are specified, names will be assigned automatically.</p>
</td></tr>
<tr><td><code>modelWeights</code></td>
<td>
<p>A vector containing model weights assigned to each model. When the gibbs sampler is used, this slot contains either the median or mean of the posterior weights, depending on the <code>predType</code> setting.</p>
</td></tr>
<tr><td><code>modelParams</code></td>
<td>
<p>The parameters for the individual logit models that transform the component models.</p>
</td></tr>
<tr><td><code>useModelParams</code></td>
<td>
<p>Indicator whether model parameters for transformation were estimated or not.</p>
</td></tr>
<tr><td><code>logLik</code></td>
<td>
<p>The final log-likelihood for the calibrated EBMA model. Empty for estimations using the gibbs sampler.</p>
</td></tr>
<tr><td><code>exp</code></td>
<td>
<p>The exponential shrinkage term.</p>
</td></tr>
<tr><td><code>tol</code></td>
<td>
<p>Tolerance for improvements in the log-likelihood before the EM algorithm will stop optimization.</p>
</td></tr>
<tr><td><code>maxIter</code></td>
<td>
<p>The maximum number of iterations the EM algorithm will run before stopping automatically.</p>
</td></tr>
<tr><td><code>method</code></td>
<td>
<p>The estimation method used. </p>
</td></tr>
<tr><td><code>iter</code></td>
<td>
<p>Number of iterations run in the EM algorithm. Empty for estimations using the gibbs sampler.</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The actual call used to create the object.</p>
</td></tr>
<tr><td><code>posteriorWeights</code></td>
<td>
<p>A matrix of the full posterior model weights from model calibration. Rows are the observations in the calibration period, columns are the saved iterations of the gibbs sampler. Empty for EM estimations.</p>
</td></tr>
<tr><td><code>posteriorPredCalibration</code></td>
<td>
<p>A matrix of the posterior predictive distribution for observations in the calibration period, based on the full posterior of model weights. Empty for EM estimations.</p>
</td></tr>
<tr><td><code>posteriorPredTest</code></td>
<td>
<p>A matrix of the posterior predictive distribution for observations in the test period, based on the full posterior of model weights. Empty for EM estimations.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>
<p>Raftery, A. E., T. Gneiting, F. Balabdaoui and M. Polakowski. (2005). Using Bayesian Model Averaging to calibrate forecast ensembles. <em>Monthly Weather Review</em>. <b>133</b>:1155&ndash;1174.
</p>
<p>Sloughter, J. M., A. E. Raftery, T. Gneiting and C. Fraley. (2007). Probabilistic quantitative precipitation forecasting using Bayesian model averaging. <em>Monthly Weather Review</em>. <b>135</b>:3209&ndash;3220.
</p>
<p>Fraley, C., A. E. Raftery, T. Gneiting. (2010). Calibrating Multi-Model Forecast Ensembles with Exchangeable and Missing Members using Bayesian Model Averaging. <em>Monthly Weather Review</em>. <b>138</b>:190&ndash;202.
</p>
<p>Sloughter, J. M., T. Gneiting and A. E. Raftery. (2010). Probabilistic wind speed forecasting using ensembles and Bayesian model averaging. <em>Journal of the American Statistical Association</em>. <b>105</b>:25&ndash;35.
</p>
<p>Fraley, C., A. E. Raftery, and T. Gneiting. (2010). Calibrating multimodel forecast ensembles with exchangeable and missing members using Bayesian model averaging. <em>Monthly Weather Review</em>. <b>138</b>:190&ndash;202.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(calibrationSample)

data(testSample)

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))
initW &lt;- rep(1/3,3)

this.ensemble.em &lt;- calibrateEnsemble(this.ForecastData, model="logit", tol=0.001)

this.ensemble.gibbs &lt;- calibrateEnsemble(this.ForecastData, model="logit", method = "gibbs")

## End(Not run)

</code></pre>

<hr>
<h2 id='calibrationSample'>Sample data Insurgency Predictions</h2><span id='topic+calibrationSample'></span><span id='topic+testSample'></span>

<h3>Description</h3>

<p>This includes the data for the predictions of insurgencies in 29 countries for 2010.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calibrationSample

testSample
</code></pre>


<h3>Format</h3>

<p>An object of class <code>matrix</code> (inherits from <code>array</code>) with 696 rows and 4 columns.
</p>
<p>An object of class <code>matrix</code> (inherits from <code>array</code>) with 348 rows and 4 columns.
</p>


<h3>Details</h3>

<p>The predictions included in the dataset are:
</p>

<ul>
<li><p><code>LMER</code> Predictions from a generalized linear mixed effects model using a logistic link function and including a randomeffects term for lagged GDP per capita and the lagged number of conflictual events involving the United States in the country of interest. 
</p>
</li>
<li><p><code>SAE</code> Predictions from a one model developed as part of the ICEWS project and was designed by Strategic Analysis Enterprises.
</p>
</li>
<li><p><code>GLM</code> Predictions from a crude logistic model that includes only population size, GDP growth (both lagged 3 months), the number of minority groups at risk in the country, and a measure of anocracy supplied in the Polity IV data set.
</p>
</li></ul>

<p>More detail about each model can be found in Mongomery et al. (2012)
</p>


<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging.  <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(calibrationSample)
data(testSample)

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))
initW &lt;- rep(1/3,3)

this.ensemble.em &lt;- calibrateEnsemble(this.ForecastData, model="logit", tol=0.001)

this.ensemble.gibbs &lt;- calibrateEnsemble(this.ForecastData, model="logit", method = "gibbs")

## End(Not run)

</code></pre>

<hr>
<h2 id='CompareModels-class'>Function for comparing multiple models based on predictive performance</h2><span id='topic+CompareModels-class'></span><span id='topic+compareModels'></span><span id='topic+compareModels+2CForecastData-method'></span>

<h3>Description</h3>

<p>This function produces statistics to compare the predictive performance of the different models component models, as well as for the EBMA model itself, for either the calibration or the test period. It currently calculates the area under the ROC (<code>auc</code>), the <code>brier</code> score, the percent of observations predicted correctly (<code>percCorrect</code>), as well as the proportional reduction in error compared to some baseline model (<code>pre</code>) for binary models. For models with normally distributed outcomes the <code>CompareModels</code> function can be used to calculate the root mean squared error (<code>rmse</code>) as well as the mean absolute error (<code>mae</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareModels(
  .forecastData,
  .period = "calibration",
  .fitStatistics = c("brier", "auc", "perCorrect", "pre"),
  .threshold = 0.5,
  .baseModel = 0,
  ...
)

## S4 method for signature 'ForecastData'
compareModels(.forecastData, .period, .fitStatistics, .threshold, .baseModel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CompareModels-class_+3A_.forecastdata">.forecastData</code></td>
<td>
<p>An object of class 'ForecastData'.</p>
</td></tr>
<tr><td><code id="CompareModels-class_+3A_.period">.period</code></td>
<td>
<p>Can take value of &quot;calibration&quot; or &quot;test&quot; and indicates the period for which the test statistics should be calculated.</p>
</td></tr>
<tr><td><code id="CompareModels-class_+3A_.fitstatistics">.fitStatistics</code></td>
<td>
<p>A vector naming statistics that should be calculated.  Possible values include &quot;auc&quot;, &quot;brier&quot;, &quot;percCorrect&quot;, &quot;pre&quot; for logit models and &quot;mae&quot;,&quot;rsme&quot; for normal models.</p>
</td></tr>
<tr><td><code id="CompareModels-class_+3A_.threshold">.threshold</code></td>
<td>
<p>The threshold used to calculate when a &quot;positive&quot; prediction is made by the model for binary dependent variables.</p>
</td></tr>
<tr><td><code id="CompareModels-class_+3A_.basemodel">.baseModel</code></td>
<td>
<p>Vector containing predictions used to calculate proportional reduction of error (&quot;pre&quot;).</p>
</td></tr>
<tr><td><code id="CompareModels-class_+3A_...">...</code></td>
<td>
<p>Not implemented</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data object of the class 'CompareModels' with the following slots:
</p>
<table>
<tr><td><code>fitStatistics</code></td>
<td>
<p>The output of the fit statistics for each model.</p>
</td></tr>
<tr><td><code>period</code></td>
<td>
<p>The period, &quot;calibration&quot; or &quot;test&quot;, for which the statistics were calculated.</p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>The threshold used to calculate when a &quot;positive&quot; prediction is made by the model.</p>
</td></tr>
<tr><td><code>baseModel</code></td>
<td>
<p>Vector containing predictions used to calculate proportional reduction of error (&quot;pre&quot;).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>


<h3>See Also</h3>

<p>ensembleBMA, other functions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: data(calibrationSample)

data(testSample) 

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))

this.ensemble &lt;- calibrateEnsemble(this.ForecastData, model="logit", tol=0.001, exp=3)

compareModels(this.ensemble,"calibration")

compareModels(this.ensemble,"test") 

## End(Not run)

</code></pre>

<hr>
<h2 id='EBMAforecast-package'>EBMAforecast: Estimate Ensemble Bayesian Model Averaging Forecasts using Gibbs Sampling or EM-Algorithms</h2><span id='topic+EBMAforecast'></span><span id='topic+EBMAforecast-package'></span>

<h3>Description</h3>

<p>Create forecasts from multiple predictions using ensemble Bayesian model averaging (EBMA). EBMA models can be estimated using an expectation maximization (EM) algorithm or as fully Bayesian models via Gibbs sampling. The methods in this package are Montgomery, Hollenbach, and Ward (2015) <a href="https://doi.org/10.1016/j.ijforecast.2014.08.001">doi:10.1016/j.ijforecast.2014.08.001</a> and Montgomery, Hollenbach, and Ward (2012) <a href="https://doi.org/10.1093/pan/mps002">doi:10.1093/pan/mps002</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Florian M. Hollenbach <a href="mailto:fho.egb@cbs.dk">fho.egb@cbs.dk</a> (<a href="https://orcid.org/0000-0002-9599-556X">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Jacob M. Montgomery
</p>
</li>
<li><p> Michael D. Ward
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/fhollenbach/EBMA/">https://github.com/fhollenbach/EBMA/</a>
</p>
</li></ul>


<hr>
<h2 id='EBMApredict'>EBMApredict</h2><span id='topic+EBMApredict'></span><span id='topic+EBMApredict+2CForecastData-method'></span>

<h3>Description</h3>

<p>Function allows users to create new predictions given an already estimated EBMA model
This function produces predictions based on EBMA model weights and component model predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EBMApredict(EBMAmodel, Predictions, Outcome = NULL, ...)

## S4 method for signature 'ForecastData'
EBMApredict(EBMAmodel, Predictions, Outcome = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EBMApredict_+3A_ebmamodel">EBMAmodel</code></td>
<td>
<p>An estimated EBMA model object</p>
</td></tr>
<tr><td><code id="EBMApredict_+3A_predictions">Predictions</code></td>
<td>
<p>A matrix with a column for each component model's predictions.</p>
</td></tr>
<tr><td><code id="EBMApredict_+3A_outcome">Outcome</code></td>
<td>
<p>An optional vector containing the true values of the dependent variable for all observations in the test period.</p>
</td></tr>
<tr><td><code id="EBMApredict_+3A_...">...</code></td>
<td>
<p>Not implemented</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data of class 'FDatFitLogit' or FDatFitNormal, a subclass of 'ForecastData', with the following slots:
</p>
<table>
<tr><td><code>predTest</code></td>
<td>
<p>A matrix containing the predictions of all component models and the EBMA model for all observations in the test period.</p>
</td></tr>
<tr><td><code>period</code></td>
<td>
<p>The period, &quot;calibration&quot; or &quot;test&quot;, for which the statistics were calculated.</p>
</td></tr>
<tr><td><code>outcomeTest</code></td>
<td>
<p>An optional vector containing the true values of the dependent variable for all observations in the test period.</p>
</td></tr>
<tr><td><code>modelNames</code></td>
<td>
<p>A character vector containing the names of all component models.  If no model names are specified, names will be assigned automatically.</p>
</td></tr>
<tr><td><code>modelWeights</code></td>
<td>
<p>A vector containing the model weights assigned to each model.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2015). Calibrating ensemble forecasting models with sparse data in the social sciences.   <em>International Journal of Forecasting</em>. 31(3): 930-942.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>

<hr>
<h2 id='ForecastData-class'>An ensemble forecasting data object</h2><span id='topic+ForecastData-class'></span>

<h3>Description</h3>

<p>Objects of class <code>ForecastData</code> are used in the <code>calibrateEnsemble</code> function. Datasets should be converted into an object of class <code>ForecastData</code> using the <code>makeForecastData</code> function. Individual slots of the <code>ForecastData</code> object can be accessed and changed using the <code>get</code> and <code>set</code> functions respectively. Missing observations in the prediction calibration set are allowed.
</p>


<h3>Details</h3>

<p>@slot predCalibration An array containing the predictions of all component models for the observations in the calibration period.
@slot predTest An array containing the predictions of all component models for all the observations in the test period.
@slot outcomeCalibration A vector containing the true values of the dependent variable for all observations in the calibration period.
@slot outcomeTest A vector containing the true values of the dependent variable for all observations in the test period.
@slot modelNames A character vector containing the names of all component models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
data(calibrationSample)
data(testSample)

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))

### to acces individual slots in the ForecastData object
getPredCalibration(this.ForecastData)
getOutcomeCalibration(this.ForecastData)
getPredTest(this.ForecastData)
getOutcomeTest(this.ForecastData)
getModelNames(this.ForecastData)

### to assign individual slots, use set functions

setPredCalibration(this.ForecastData)&lt;-calibrationSample[,c("LMER", "SAE", "GLM")]
setOutcomeCalibration(this.ForecastData)&lt;-calibrationSample[,"Insurgency"]
setPredTest(this.ForecastData)&lt;-testSample[,c("LMER", "SAE", "GLM")]
setOutcomeTest(this.ForecastData)&lt;-testSample[,"Insurgency"]
setModelNames(this.ForecastData)&lt;-c("LMER", "SAE", "GLM")

## End(Not run)


</code></pre>

<hr>
<h2 id='makeForecastData'>Build a ensemble forecasting data object</h2><span id='topic+makeForecastData'></span><span id='topic+makeForecastData+2CANY-method'></span>

<h3>Description</h3>

<p>This function uses the component model forecasts and dependent variable observations provided by the user to create an object of class <code>ForecastData</code>, which can then be used to calibrate and fit the ensemble. Individual slots of the <code>ForecastData</code> object can be accessed and changed using the <code>get</code> and <code>set</code> functions respectively. Missing predictions are allowed in the calibration set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeForecastData(
  .predCalibration = array(NA, dim = c(0, 0, 0)),
  .predTest = array(NA, dim = c(0, 0, 0)),
  .outcomeCalibration = numeric(),
  .outcomeTest = numeric(),
  .modelNames = character(),
  ...
)

## S4 method for signature 'ANY'
makeForecastData(
  .predCalibration,
  .predTest,
  .outcomeCalibration,
  .outcomeTest,
  .modelNames
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeForecastData_+3A_.predcalibration">.predCalibration</code></td>
<td>
<p>A matrix with the number of rows being the number of observations in the calibration period and a column with calibration period predictions for each model.</p>
</td></tr>
<tr><td><code id="makeForecastData_+3A_.predtest">.predTest</code></td>
<td>
<p>A vector with the number of rows being the number of observations in the test period and a column with test period predictions for each model.</p>
</td></tr>
<tr><td><code id="makeForecastData_+3A_.outcomecalibration">.outcomeCalibration</code></td>
<td>
<p>A vector with the true values of the dependent variable for each observation in the calibration period.</p>
</td></tr>
<tr><td><code id="makeForecastData_+3A_.outcometest">.outcomeTest</code></td>
<td>
<p>A vector with the true values of the dependent variable for each observation in the test period.</p>
</td></tr>
<tr><td><code id="makeForecastData_+3A_.modelnames">.modelNames</code></td>
<td>
<p>A vector of length p with the names of the component models.</p>
</td></tr>
<tr><td><code id="makeForecastData_+3A_...">...</code></td>
<td>
<p>Additional arguments not implemented</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data object of the class 'ForecastData' with the following slots:
</p>
<table>
<tr><td><code>predCalibration</code></td>
<td>
<p>An array containing the predictions of all component models for all observations in the calibration period.</p>
</td></tr>
<tr><td><code>predTest</code></td>
<td>
<p>An array containing the predictions of all component models for all observations in the test period.</p>
</td></tr>
<tr><td><code>outcomeCalibration</code></td>
<td>
<p>A vector containing the true values of the dependent variable for all observations in the calibration period.</p>
</td></tr>
<tr><td><code>outcomeTest</code></td>
<td>
<p>A vector containing the true values of the dependent variable for all observations in the test period.</p>
</td></tr>
<tr><td><code>modelNames</code></td>
<td>
<p>A character vector containing the names of all component models.  If no model names are specified, names will be assigned automatically.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(calibrationSample)
data(testSample)
this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))

### to acces individual slots in the ForecastData object
getPredCalibration(this.ForecastData)
getOutcomeCalibration(this.ForecastData)
getPredTest(this.ForecastData)
getOutcomeTest(this.ForecastData)
getModelNames(this.ForecastData)

### to assign individual slots, use set functions

setPredCalibration(this.ForecastData)&lt;-calibrationSample[,c("LMER", "SAE", "GLM")]
setOutcomeCalibration(this.ForecastData)&lt;-calibrationSample[,"Insurgency"]
setPredTest(this.ForecastData)&lt;-testSample[,c("LMER", "SAE", "GLM")]
setOutcomeTest(this.ForecastData)&lt;-testSample[,"Insurgency"]
setModelNames(this.ForecastData)&lt;-c("LMER", "SAE", "GLM")

## End(Not run)

</code></pre>

<hr>
<h2 id='presidentialForecast'>Sample data Presidential Election</h2><span id='topic+presidentialForecast'></span>

<h3>Description</h3>

<p>This includes the data for the presidential election forecasting example in Montgomery, Hollenbach and Ward (2012). The data ranges from 1952 to 2008 and includes predictions for the six different component models included in the Ensemble model. Users may split the sample into calibration and test sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>presidentialForecast
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 15 rows and 7 columns.
</p>


<h3>Details</h3>

<p>The variables included in the dataset are:
</p>

<ul>
<li><p><code>Campbell</code> Predictions of Campbell's &ldquo;Trial-Heat and Economy Model&rdquo; (Campbell 2008).
</p>
</li>
<li><p><code>Abramowitz</code> Predictions of Abramowitz's &ldquo;Time for Change Model&rdquo; (Abramowitz 2008).
</p>
</li>
<li><p><code>Hibbs</code> Predictions for the &ldquo;Bread and Peace Model&rdquo; created by Douglas Hibbs (2008).
</p>
</li>
<li><p><code>Fair</code> Forecasts from Fair's presidential vote share model (2010).
</p>
</li>
<li><p><code>Lewis-Beck/Tien</code> Predictions from the &ldquo;Jobs Model Forecast&rdquo;	by Michael Lewis-Beck and Charles Tien (2008).
</p>
</li>
<li><p><code>EWT2C2</code> Predictions from the model in Column 2 in Table 2 by Erickson and Wlezien (2008).
</p>
</li>
<li><p><code>Actual</code> The true values of the dependent variable, i.e. the incumbent-party voteshare in each presidential election in the sample.
</p>
</li></ul>



<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging.  <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2015). Calibrating ensemble forecasting models with sparse data in the social sciences. <em>International Journal of Forecasting</em>. <b>31</b>:930–942.
</p>
<p>Campbell, James E. 2008. The trial-heat forecast of the 2008 presidential vote: Performance and value considerations in an open-seat election.  <em>PS: Political Science &amp; Politics</em> <b>41</b>:697-701.
</p>
<p>Hibbs, Douglas A. 2000. Bread and peace voting in U.S presidential elections.  <em>Public Choice</em> <b>104</b>:149-180.
</p>
<p>Fair, Ray C. 2010. Presidential and Congressional vote-share equations: November 2010 update. Working Paper. Yale University.
</p>
<p>Lewis-Beck, Michael S. and Charles Tien. 2008. The job of president and the jobs model forecast: Obama for '08?  <em>PS: Political Science &amp; Politics</em> <b>41</b>:687-690.
</p>
<p>Erikson, Robert S. and Christopher Wlezien. 2008. Leading economic indicators, the polls, and the presidential vote.  <em>PS: Political Science &amp; Politics</em> <b>41</b>:703-707.
</p>

<hr>
<h2 id='print+2CForecastData-method'>Print and Show methods for forecast data</h2><span id='topic+print+2CForecastData-method'></span><span id='topic+show+2CForecastData-method'></span><span id='topic+print+2CSummaryForecastData-method'></span><span id='topic+show+2CSummaryForecastData-method'></span>

<h3>Description</h3>

<p>Functions to print and show the contents of a data object of the class 'ForecastData' or 'SummaryForecastData'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ForecastData'
print(x, digits = 3, ...)

## S4 method for signature 'ForecastData'
show(object)

## S4 method for signature 'SummaryForecastData'
print(x, digits = 3, ...)

## S4 method for signature 'SummaryForecastData'
show(object)

## S4 method for signature 'ForecastData'
print(x, digits = 3, ...)

## S4 method for signature 'ForecastData'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B2CForecastData-method_+3A_x">x</code></td>
<td>
<p>An object of the class 'ForecastData' or 'SummaryForecastData'.</p>
</td></tr>
<tr><td><code id="print+2B2CForecastData-method_+3A_digits">digits</code></td>
<td>
<p>An integer specifying the number of significant digits to print. The default is 3.</p>
</td></tr>
<tr><td><code id="print+2B2CForecastData-method_+3A_...">...</code></td>
<td>
<p>Not implemented</p>
</td></tr>
<tr><td><code id="print+2B2CForecastData-method_+3A_object">object</code></td>
<td>
<p>An object of the class 'ForecastData' or 'SummaryForecastData'.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2015). Calibrating ensemble forecasting models with sparse data in the social sciences.   <em>International Journal of Forecasting</em>. <b>31</b>: 930-942.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  data(calibrationSample)

data(testSample) 

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))

this.ensemble &lt;- calibrateEnsemble(this.ForecastData, model="logit", tol=0.001,exp=3)

summary.object &lt;- summary(this.ensemble, period="calibration") 
print(summary.object)
show(summary.object)

## End(Not run)
</code></pre>

<hr>
<h2 id='setPredCalibration+26lt+3B-'>&quot;Set&quot; functions</h2><span id='topic+setPredCalibration+3C-'></span><span id='topic+setPredCalibration+3C-+2CForecastData-method'></span><span id='topic+setPredTest+3C-'></span><span id='topic+setPredTest+3C-+2CForecastData-method'></span><span id='topic+setOutcomeCalibration+3C-'></span><span id='topic+setOutcomeCalibration+3C-+2CForecastData-method'></span><span id='topic+setOutcomeTest+3C-'></span><span id='topic+setOutcomeTest+3C-+2CForecastData-method'></span><span id='topic+setModelNames+3C-'></span><span id='topic+setModelNames+3C-+2CForecastData-method'></span>

<h3>Description</h3>

<p>To assign individual slots, use set functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setPredCalibration(object) &lt;- value

## S4 replacement method for signature 'ForecastData'
setPredCalibration(object) &lt;- value

setPredTest(object) &lt;- value

## S4 replacement method for signature 'ForecastData'
setPredTest(object) &lt;- value

setOutcomeCalibration(object) &lt;- value

## S4 replacement method for signature 'ForecastData'
setOutcomeCalibration(object) &lt;- value

setOutcomeTest(object) &lt;- value

## S4 replacement method for signature 'ForecastData'
setOutcomeTest(object) &lt;- value

setModelNames(object) &lt;- value

## S4 replacement method for signature 'ForecastData'
setModelNames(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setPredCalibration+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>The object to which values are assigned.</p>
</td></tr>
<tr><td><code id="setPredCalibration+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>Values to be assigned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data object of the class 'ForecastData' with the following slots: 
</p>
<table>
<tr><td><code>predCalibration</code></td>
<td>
<p>An array containing the predictions of all component models for all observations in the calibration period.</p>
</td></tr> 
<tr><td><code>predTest</code></td>
<td>
<p>An array containing the predictions of all component models for all observations in the test period.</p>
</td></tr>
<tr><td><code>outcomeCalibration</code></td>
<td>
<p>A vector containing the true values of the dependent variable for all observations in the calibration period.</p>
</td></tr> 
<tr><td><code>outcomeTest</code></td>
<td>
<p>A vector containing the true values of the dependent variable for all observations in the test period.</p>
</td></tr>
<tr><td><code>modelNames</code></td>
<td>
<p>A character vector containing the names of all component models.  If no model names are specified, names will be assigned automatically.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2015). Calibrating ensemble forecasting models with sparse data in the social sciences. <em>International Journal of Forecasting</em>. <b>31</b>:930–942.#'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(calibrationSample)
data(testSample)
setPredCalibration(this.ForecastData)&lt;-calibrationSample[,c("LMER", "SAE", "GLM")]
setOutcomeCalibration(this.ForecastData)&lt;-calibrationSample[,"Insurgency"]
setPredTest(this.ForecastData)&lt;-testSample[,c("LMER", "SAE", "GLM")]
setOutcomeTest(this.ForecastData)&lt;-testSample[,"Insurgency"]
setModelNames(this.ForecastData)&lt;-c("LMER", "SAE", "GLM")

## End(Not run)

</code></pre>

<hr>
<h2 id='SummaryForecastData-class'>Summarize and Plot Ensemble models</h2><span id='topic+SummaryForecastData-class'></span><span id='topic+summary+2CFDatFitLogit-method'></span><span id='topic+summary+2CFDatFitNormal-method'></span><span id='topic+plot+2CFDatFitLogit-method'></span><span id='topic+plot+2CFDatFitNormal-method'></span>

<h3>Description</h3>

<p>These functions summarize and plot Ensemble models that have been fit previously by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'FDatFitLogit'
summary(
  object,
  period = "calibration",
  fitStatistics = c("brier", "auc", "perCorrect", "pre"),
  threshold = 0.5,
  baseModel = 0,
  showCoefs = TRUE,
  ...
)

## S4 method for signature 'FDatFitNormal'
summary(
  object,
  period = "calibration",
  fitStatistics = c("rmse", "mae"),
  threshold = 0.5,
  baseModel = 0,
  showCoefs = TRUE,
  ...
)

## S4 method for signature 'FDatFitLogit'
plot(
  x,
  period = "calibration",
  subset = 1,
  mainLabel = "",
  xLab = "",
  yLab = "",
  cols = 1,
  ...
)

## S4 method for signature 'FDatFitNormal'
plot(
  x,
  period = "calibration",
  subset = 1,
  mainLabel = paste("Observation", subset),
  xLab = "Outcome",
  yLab = "Posterior Probability",
  cols = 2:(length(x@modelNames) + 1),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SummaryForecastData-class_+3A_object">object</code></td>
<td>
<p>An object of the subclass &quot;FDatFitLogit&quot; or &quot;FDatFitNormal&quot;.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_period">period</code></td>
<td>
<p>The period for which the summary should be provided or plot produced, either &quot;calibration&quot; or &quot;test&quot;. The default is &quot;calibration&quot;.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_fitstatistics">fitStatistics</code></td>
<td>
<p>A vector naming statistics that should be calculated.  Possible values for objects in the &quot;FDatFitLogit&quot; subclass include &quot;auc&quot;, &quot;brier&quot;, &quot;percCorrect&quot;, &quot;pre&quot;. Possible values for objects in the &quot;FDatFitNormal&quot; subclass include &quot;rmse&quot; and &quot;mae.&quot; The default is for all statistics to be calculated. Additional metrics will be made available in a future release of this package.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_threshold">threshold</code></td>
<td>
<p>The threshold used to calculate when a &quot;positive&quot; prediction is made for a model.  The default is 0.5. Not used for objects of the &quot;FDatFitNormal&quot; subclass.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_basemodel">baseModel</code></td>
<td>
<p>A vector containing predictions used to calculate proportional reduction of error (&quot;pre&quot;). The default is 0. Not used for objects of the &quot;FDatFitNormal&quot; subclass.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_showcoefs">showCoefs</code></td>
<td>
<p>A logical indicating whether model coefficients from the ensemble should be shown. The default is TRUE.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_...">...</code></td>
<td>
<p>Not implemented</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_x">x</code></td>
<td>
<p>An object of class &quot;FDatFitLogit&quot; or &quot;FDatFitNormal&quot;</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_subset">subset</code></td>
<td>
<p>The row names or numbers for the observations the user wishes to plot. The default is the first row.  Only implemented for the subclass &quot;FDatFitNormal&quot;.</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_mainlabel">mainLabel</code></td>
<td>
<p>A vector strings to appear at the top of each predictive posterior plot.  Only implemented for the subclass &quot;FDatFitNormal&quot;</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_xlab">xLab</code></td>
<td>
<p>The label for the x-axis. Only implemented for the subclass &quot;FDatFitNormal&quot;</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_ylab">yLab</code></td>
<td>
<p>The label for the y-axis.  Only implemented for the subclass &quot;FDatFitNormal&quot;</p>
</td></tr>
<tr><td><code id="SummaryForecastData-class_+3A_cols">cols</code></td>
<td>
<p>A vector containing the color for plotting the predictive PDF of each component model forecast. The default is a unique color for each PDF. Only implemented for the subclass &quot;FDatFitNormal&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a plot or a data object of the class 'SummaryForecastData'. The data object has the following slots:
</p>
<table>
<tr><td><code>summaryData</code></td>
<td>
<p>Under the default, the function produces a matrix containing one row for each model plus one row for the EBMA forecast.  The first column is always the model weights assigned to the component models.  The second and third columns display the model parameters for the transformation of the component models.  The remaining columns are the requested fit statistics for all models, as calculated by the <code>copareModels</code> function.  If <code>showCoefs=FALSE</code>, then the model parameters will not be shown.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael D. Ward &lt;<a href="mailto:michael.d.ward@duke.edu">michael.d.ward@duke.edu</a>&gt; and Jacob M. Montgomery &lt;<a href="mailto:jacob.montgomery@wustl.edu">jacob.montgomery@wustl.edu</a>&gt; and Florian M. Hollenbach &lt;<a href="mailto:florian.hollenbach@tamu.edu">florian.hollenbach@tamu.edu</a>&gt;
</p>


<h3>References</h3>

<p>Raftery, A. E., T. Gneiting, F. Balabdaoui and M. Polakowski. (2005). Using Bayesian Model Averaging to calibrate forecast ensembles. <em>Monthly Weather Review</em>. <b>133</b>:1155&ndash;1174.
</p>
<p>Greenhill, B., M.D. Ward, A. Sacks. (2011). The Separation Plot: A New Visual Method For Evaluating the Fit of Binary Data. <em>American Journal of Political Science</em>.<b>55</b>: 991&ndash;1002.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2012). Improving Predictions Using Ensemble Bayesian Model Averaging. <em>Political Analysis</em>. <b>20</b>: 271-291.
</p>
<p>Montgomery, Jacob M., Florian M. Hollenbach and Michael D. Ward. (2015). Calibrating ensemble forecasting models with sparse data in the social sciences. <em>International Journal of Forecasting</em>. <b>31</b>:930–942.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  data(calibrationSample)
data(testSample) 

this.ForecastData &lt;- makeForecastData(.predCalibration=calibrationSample[,c("LMER", "SAE", "GLM")],
.outcomeCalibration=calibrationSample[,"Insurgency"],.predTest=testSample[,c("LMER", "SAE", "GLM")],
.outcomeTest=testSample[,"Insurgency"], .modelNames=c("LMER", "SAE", "GLM"))

this.ensemble &lt;- calibrateEnsemble(this.ForecastData, model="logit", tol=0.001,exp=3)

summary(this.ensemble, period="calibration") 

summary(this.ensemble, period="test",showCoefs=FALSE)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

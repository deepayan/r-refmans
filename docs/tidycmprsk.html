<!DOCTYPE html><html lang="en-US"><head><title>Help for package tidycmprsk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidycmprsk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tidycmprsk-package'><p>tidycmprsk: Competing Risks Estimation</p></a></li>
<li><a href='#add_cuminc'><p>Additional Functions for <code>tbl_cuminc()</code></p></a></li>
<li><a href='#base_methods_crr'><p>Functions for tidycrr objects</p></a></li>
<li><a href='#base_methods_cuminc'><p>Functions for tidycuminc objects</p></a></li>
<li><a href='#broom_methods_crr'><p>Broom methods for tidycrr objects</p></a></li>
<li><a href='#broom_methods_cuminc'><p>Broom methods for tidy cuminc objects</p></a></li>
<li><a href='#crr'><p>Competing Risks Regression</p></a></li>
<li><a href='#cuminc'><p>Competing Risks Cumulative Incidence</p></a></li>
<li><a href='#deprecated'><p>Deprecated</p></a></li>
<li><a href='#gtsummary_s3_methods'><p>gtsummary methods</p></a></li>
<li><a href='#predict.tidycrr'><p>Estimate subdistribution functions for crr objects</p></a></li>
<li><a href='#print'><p>Print crr object</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#tbl_cuminc'><p>Tabular Summary of Cumulative Incidence</p></a></li>
<li><a href='#trial'><p>Results from a simulated study of two chemotherapy agents</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Competing Risks Estimation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an intuitive interface for working with the
    competing risk endpoints. The package wraps the 'cmprsk' package, and
    exports functions for univariate cumulative incidence estimates and
    competing risk regression. Methods follow those introduced in Fine and
    Gray (1999) &lt;<a href="https://doi.org/10.1002%2Fsim.7501">doi:10.1002/sim.7501</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://mskcc-epi-bio.github.io/tidycmprsk/">https://mskcc-epi-bio.github.io/tidycmprsk/</a>,
<a href="https://github.com/MSKCC-Epi-Bio/tidycmprsk">https://github.com/MSKCC-Epi-Bio/tidycmprsk</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/MSKCC-Epi-Bio/tidycmprsk/issues">https://github.com/MSKCC-Epi-Bio/tidycmprsk/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>broom (&ge; 1.0.1), cli (&ge; 3.1.0), cmprsk (&ge; 2.2.10), dplyr
(&ge; 1.0.7), ggplot2 (&ge; 3.3.5), gtsummary (&ge; 2.0.0), hardhat
(&ge; 1.3.0), purrr (&ge; 0.3.4), rlang (&ge; 1.0.0), stringr (&ge;
1.4.0), survival, tibble (&ge; 3.1.6), tidyr (&ge; 1.1.4)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>aod, broom.helpers (&ge; 1.15.0), cardx (&ge; 0.2.0), covr (&ge;
3.5.1), ggsurvfit, knitr (&ge; 1.36), spelling, testthat (&ge;
3.2.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-16 16:36:57 UTC; sjobergd</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel D. Sjoberg <a href="https://orcid.org/0000-0003-0862-2018"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Teng Fei <a href="https://orcid.org/0000-0001-7888-1715"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel D. Sjoberg &lt;danield.sjoberg@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-17 04:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tidycmprsk-package'>tidycmprsk: Competing Risks Estimation</h2><span id='topic+tidycmprsk'></span><span id='topic+tidycmprsk-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides an intuitive interface for working with the competing risk endpoints. The package wraps the 'cmprsk' package, and exports functions for univariate cumulative incidence estimates and competing risk regression. Methods follow those introduced in Fine and Gray (1999) <a href="https://doi.org/10.1002/sim.7501">doi:10.1002/sim.7501</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel D. Sjoberg <a href="mailto:danield.sjoberg@gmail.com">danield.sjoberg@gmail.com</a> (<a href="https://orcid.org/0000-0003-0862-2018">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Teng Fei (<a href="https://orcid.org/0000-0001-7888-1715">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://mskcc-epi-bio.github.io/tidycmprsk/">https://mskcc-epi-bio.github.io/tidycmprsk/</a>
</p>
</li>
<li> <p><a href="https://github.com/MSKCC-Epi-Bio/tidycmprsk">https://github.com/MSKCC-Epi-Bio/tidycmprsk</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/MSKCC-Epi-Bio/tidycmprsk/issues">https://github.com/MSKCC-Epi-Bio/tidycmprsk/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_cuminc'>Additional Functions for <code>tbl_cuminc()</code></h2><span id='topic+add_cuminc'></span><span id='topic+add_p.tbl_cuminc'></span><span id='topic+add_n.tbl_cuminc'></span><span id='topic+add_nevent.tbl_cuminc'></span><span id='topic+inline_text.tbl_cuminc'></span>

<h3>Description</h3>


<ul>
<li> <p><code>add_p()</code> Add column with p-value comparing incidence across stratum
</p>
</li>
<li> <p><code>add_n()</code> Add column with the total N, or N within stratum
</p>
</li>
<li> <p><code>add_nevent()</code> Add column with the total number of events, or number of events within stratum
</p>
</li>
<li> <p><code>inline_text()</code> Report statistics from a <code>tbl_cuminc()</code> table inline
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tbl_cuminc'
add_p(x, pvalue_fun = gtsummary::style_pvalue, ...)

## S3 method for class 'tbl_cuminc'
add_n(x, location = NULL, ...)

## S3 method for class 'tbl_cuminc'
add_nevent(x, location = NULL, ...)

## S3 method for class 'tbl_cuminc'
inline_text(x, time = NULL, column = NULL, outcome = NULL, level = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_cuminc_+3A_x">x</code></td>
<td>
<p>object of class 'tbl_cuminc'</p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_pvalue_fun">pvalue_fun</code></td>
<td>
<p>function to style/format p-values. Default is
<code>gtsummary::style_pvalue</code></p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_location">location</code></td>
<td>
<p>location to place Ns. When <code>"label"</code> total Ns are placed
on each variable's label row. When <code>"level"</code> level counts are placed on
the variable level for categorical variables, and total N on the
variable's label row for continuous.</p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_time">time</code></td>
<td>
<p>time of statistic to report</p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_column">column</code></td>
<td>
<p>column name of the statistic to report</p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_outcome">outcome</code></td>
<td>
<p>string indicating the outcome to select from. If <code>NULL</code>, the
first outcome is used.</p>
</td></tr>
<tr><td><code id="add_cuminc_+3A_level">level</code></td>
<td>
<p>if estimates are stratified, level of the stratum to report</p>
</td></tr>
</table>


<h3>Example Output</h3>

<p>Example 1
</p>
<p><img src="../help/figures/add_cuminc_ex1.png" width=50% alt="add_cuminc_ex1.png" />
</p>
<p>Example 2
</p>
<p><img src="../help/figures/add_cuminc_ex2.png" width=60% alt="add_cuminc_ex2.png" />
</p>


<h3>p-values</h3>

<p>The p-values reported in <code>cuminc()</code>, <code>glance.tidycuminc()</code> and <code>add_p.tbl_cuminc()</code>
are Gray's test as described in
Gray RJ (1988) <em>A class of K-sample tests for comparing the cumulative incidence of a competing risk</em>, Annals of Statistics, 16:1141-1154.
</p>


<h3>See Also</h3>

<p>Other tbl_cuminc tools: 
<code><a href="#topic+tbl_cuminc">tbl_cuminc</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1 ----------------------------------
add_cuminc_ex1 &lt;-
  cuminc(Surv(ttdeath, death_cr) ~ 1, trial) %&gt;%
  tbl_cuminc(times = c(12, 24), label_header = "**Month {time}**") %&gt;%
  add_nevent() %&gt;%
  add_n()

# Example 2 ----------------------------------
add_cuminc_ex2 &lt;-
  cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  tbl_cuminc(times = c(12, 24),
             outcomes = c("death from cancer", "death other causes"),
             label_header = "**Month {time}**") %&gt;%
  add_p() %&gt;%
  add_nevent(location = c("label", "level")) %&gt;%
  add_n(location = c("label", "level"))

# inline_text() ------------------------------
inline_text(add_cuminc_ex2, time = 12, level = "Drug A")
inline_text(add_cuminc_ex2, column = p.value)

</code></pre>

<hr>
<h2 id='base_methods_crr'>Functions for tidycrr objects</h2><span id='topic+base_methods_crr'></span><span id='topic+coef.tidycrr'></span><span id='topic+vcov.tidycrr'></span><span id='topic+model.matrix.tidycrr'></span><span id='topic+model.frame.tidycrr'></span><span id='topic+terms.tidycrr'></span>

<h3>Description</h3>

<p>Functions for tidycrr objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycrr'
coef(object, ...)

## S3 method for class 'tidycrr'
vcov(object, ...)

## S3 method for class 'tidycrr'
model.matrix(object, ...)

## S3 method for class 'tidycrr'
model.frame(formula, ...)

## S3 method for class 'tidycrr'
terms(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="base_methods_crr_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="base_methods_crr_+3A_formula">formula</code></td>
<td>
<p>a formula</p>
</td></tr>
<tr><td><code id="base_methods_crr_+3A_x">x</code>, <code id="base_methods_crr_+3A_object">object</code></td>
<td>
<p>a tidycrr object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>coef vector, model matrix, model frame, terms object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- crr(Surv(ttdeath, death_cr) ~ age + grade, trial)

coef(mod)

model.matrix(mod) %&gt;% head()

model.frame(mod) %&gt;% head()

terms(mod)
</code></pre>

<hr>
<h2 id='base_methods_cuminc'>Functions for tidycuminc objects</h2><span id='topic+base_methods_cuminc'></span><span id='topic+model.frame.tidycuminc'></span><span id='topic+model.matrix.tidycuminc'></span>

<h3>Description</h3>

<p>Functions for tidycuminc objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycuminc'
model.frame(formula, ...)

## S3 method for class 'tidycuminc'
model.matrix(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="base_methods_cuminc_+3A_formula">formula</code></td>
<td>
<p>a formula</p>
</td></tr>
<tr><td><code id="base_methods_cuminc_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="base_methods_cuminc_+3A_object">object</code></td>
<td>
<p>a tidycuminc object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a model frame, or model matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- cuminc(Surv(ttdeath, death_cr) ~ trt, trial)

model.matrix(fit) %&gt;% head()

model.frame(fit) %&gt;% head()
</code></pre>

<hr>
<h2 id='broom_methods_crr'>Broom methods for tidycrr objects</h2><span id='topic+broom_methods_crr'></span><span id='topic+tidy.tidycrr'></span><span id='topic+glance.tidycrr'></span><span id='topic+augment.tidycrr'></span>

<h3>Description</h3>

<p>Broom methods for tidycrr objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycrr'
tidy(x, exponentiate = FALSE, conf.int = FALSE, conf.level = x$conf.level, ...)

## S3 method for class 'tidycrr'
glance(x, ...)

## S3 method for class 'tidycrr'
augment(x, times = NULL, probs = NULL, newdata = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="broom_methods_crr_+3A_x">x</code></td>
<td>
<p>a tidycrr object</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Logical indicating whether or not to exponentiate the
coefficient estimates. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_conf.int">conf.int</code></td>
<td>
<p>Logical indicating whether or not to include a confidence
interval in the tidied output. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_conf.level">conf.level</code></td>
<td>
<p>Level of the confidence interval. Default matches that in
<code>crr(conf.level=)</code> (typically, 0.95)</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_times">times</code></td>
<td>
<p>Numeric vector of times to obtain risk estimates at</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_probs">probs</code></td>
<td>
<p>Numeric vector of quantiles to obtain estimates at</p>
</td></tr>
<tr><td><code id="broom_methods_crr_+3A_newdata">newdata</code></td>
<td>
<p>A <code>base::data.frame()</code> or <code>tibble::tibble()</code> containing all
the original predictors used to create x. Defaults to <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>See Also</h3>

<p>Other crr() functions: 
<code><a href="#topic+crr">crr</a>()</code>,
<code><a href="#topic+predict.tidycrr">predict.tidycrr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crr &lt;- crr(Surv(ttdeath, death_cr) ~ age + grade, trial)

tidy(crr)

glance(crr)

augment(crr, times = 12)
</code></pre>

<hr>
<h2 id='broom_methods_cuminc'>Broom methods for tidy cuminc objects</h2><span id='topic+broom_methods_cuminc'></span><span id='topic+tidy.tidycuminc'></span><span id='topic+glance.tidycuminc'></span>

<h3>Description</h3>

<p>Broom methods for tidy cuminc objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycuminc'
tidy(x, times = NULL, conf.int = TRUE, conf.level = x$conf.level, ...)

## S3 method for class 'tidycuminc'
glance(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="broom_methods_cuminc_+3A_x">x</code></td>
<td>
<p>object of class 'tidycuminc'</p>
</td></tr>
<tr><td><code id="broom_methods_cuminc_+3A_times">times</code></td>
<td>
<p>Numeric vector of times to obtain risk estimates at</p>
</td></tr>
<tr><td><code id="broom_methods_cuminc_+3A_conf.int">conf.int</code></td>
<td>
<p>Logical indicating whether or not to include a confidence
interval in the tidied output. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="broom_methods_cuminc_+3A_conf.level">conf.level</code></td>
<td>
<p>Level of the confidence interval. Default matches that in
<code>cuminc(conf.level=)</code> (typically, 0.95)</p>
</td></tr>
<tr><td><code id="broom_methods_cuminc_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3><code>tidy()</code> data frame</h3>

<p>The returned <code>tidy()</code> data frame returns the following columns:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>Column Name</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>outcome</code> </td><td style="text-align: left;"> Competing Event Outcome </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>time</code> </td><td style="text-align: left;"> Numeric follow-up time </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>estimate</code> </td><td style="text-align: left;"> Risk estimate </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>std.error</code> </td><td style="text-align: left;"> Standard Error </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>n.risk</code> </td><td style="text-align: left;"> Number at risk at the specified time </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>n.event</code> </td><td style="text-align: left;"> If the <code style="white-space: pre;">&#8288;times=&#8288;</code> argument is missing, then the number of events that occurred at time <code>t</code>. Otherwise, it is the cumulative number of events that have occurred since the last time listed. </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>n.censor</code> </td><td style="text-align: left;"> If the <code style="white-space: pre;">&#8288;times=&#8288;</code> argument is missing, then the number of censored obs at time <code>t</code>. Otherwise, it is the cumulative number of censored obs that have occurred since the last time listed. </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>cum.event</code> </td><td style="text-align: left;"> Cumulative number of events at specified time </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>cum.censor</code> </td><td style="text-align: left;"> Cumulative number of censored observations at specified time </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>If <code>tidy(time=)</code> is specified, then <code>n.event</code> and <code>n.censor</code> are the
cumulative number of events/censored in the interval. For example, if
<code>tidy(time = c(0, 12, 18))</code> is passed, <code>n.event</code> and <code>n.censor</code> at <code>time = 18</code>
are the cumulative number of events/censored in the interval <code style="white-space: pre;">&#8288;(12, 18]&#8288;</code>.
</p>


<h3>p-values</h3>

<p>The p-values reported in <code>cuminc()</code>, <code>glance.tidycuminc()</code> and <code>add_p.tbl_cuminc()</code>
are Gray's test as described in
Gray RJ (1988) <em>A class of K-sample tests for comparing the cumulative incidence of a competing risk</em>, Annals of Statistics, 16:1141-1154.
</p>


<h3>Confidence intervals</h3>

<p>The confidence intervals for cumulative incidence estimates use the recommended method in
<em>Competing Risks: A Practical Perspective</em> by Melania Pintilie.
</p>
<p style="text-align: center;"><code class="reqn">x^{exp(±z * se / (x * log(x)))}</code>
</p>

<p>where <code class="reqn">x</code> is the cumulative incidence estimate, <code class="reqn">se</code> is the
standard error estimate, and <code class="reqn">z</code> is the z-score associated with the
confidence level of the interval, e.g. <code class="reqn">z = 1.96</code> for a 95% CI.
</p>


<h3>See Also</h3>

<p>Other cuminc() functions: 
<code><a href="#topic+cuminc">cuminc</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cuminc &lt;- cuminc(Surv(ttdeath, death_cr) ~ trt, trial)

tidy(cuminc)

glance(cuminc)

# restructure glance to one line per outcome
glance(cuminc) %&gt;%
  tidyr::pivot_longer(
    everything(),
    names_to = c(".value", "outcome_id"),
    names_pattern = "(.*)_(.*)"
  )
</code></pre>

<hr>
<h2 id='crr'>Competing Risks Regression</h2><span id='topic+crr'></span><span id='topic+crr.formula'></span><span id='topic+crr.default'></span>

<h3>Description</h3>

<p>Competing Risks Regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'formula'
crr(formula, data, failcode = NULL, conf.level = 0.95, ...)

crr(x, ...)

## Default S3 method:
crr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crr_+3A_formula">formula</code></td>
<td>
<p>formula with <code>Surv()</code> on LHS and covariates on RHS.
The event status variable must be a factor, with the first level indicating
'censor' and subsequent levels the competing risks. The <code>Surv(time2=)</code>
argument cannot be used.</p>
</td></tr>
<tr><td><code id="crr_+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="crr_+3A_failcode">failcode</code></td>
<td>
<p>Indicates event of interest. If <code style="white-space: pre;">&#8288;failcode=&#8288;</code> is <code>NULL</code>,
the first competing event will be used as the event of interest.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="crr_+3A_conf.level">conf.level</code></td>
<td>
<p>confidence level. Default is 0.95.</p>
</td></tr>
<tr><td><code id="crr_+3A_...">...</code></td>
<td>
<p>passed to methods</p>
</td></tr>
<tr><td><code id="crr_+3A_x">x</code></td>
<td>
<p>input object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidycrr object
</p>


<h3>See Also</h3>

<p>Other crr() functions: 
<code><a href="#topic+broom_methods_crr">broom_methods_crr</a></code>,
<code><a href="#topic+predict.tidycrr">predict.tidycrr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crr(Surv(ttdeath, death_cr) ~ age + grade, trial)
</code></pre>

<hr>
<h2 id='cuminc'>Competing Risks Cumulative Incidence</h2><span id='topic+cuminc'></span><span id='topic+cuminc.formula'></span><span id='topic+cuminc.default'></span>

<h3>Description</h3>

<p>Competing Risks Cumulative Incidence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'formula'
cuminc(formula, data, strata, rho = 0, conf.level = 0.95, ...)

cuminc(x, ...)

## Default S3 method:
cuminc(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cuminc_+3A_formula">formula</code></td>
<td>
<p>formula with <code>Surv()</code> on LHS and covariates on RHS.
The event status variable must be a factor, with the first level indicating
'censor' and subsequent levels the competing risks. The <code>Surv(time2=)</code>
argument cannot be used.</p>
</td></tr>
<tr><td><code id="cuminc_+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="cuminc_+3A_strata">strata</code></td>
<td>

<p>stratification variable.  Has no effect on estimates.  Tests will be
stratified on this variable.  (all data in 1 stratum, if missing)
</p>
</td></tr>
<tr><td><code id="cuminc_+3A_rho">rho</code></td>
<td>

<p>Power of the weight function used in the tests.
</p>
</td></tr>
<tr><td><code id="cuminc_+3A_conf.level">conf.level</code></td>
<td>
<p>confidence level. Default is 0.95.</p>
</td></tr>
<tr><td><code id="cuminc_+3A_...">...</code></td>
<td>
<p>passed to methods</p>
</td></tr>
<tr><td><code id="cuminc_+3A_x">x</code></td>
<td>
<p>input object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tidycuminc object
</p>


<h3>Confidence intervals</h3>

<p>The confidence intervals for cumulative incidence estimates use the recommended method in
<em>Competing Risks: A Practical Perspective</em> by Melania Pintilie.
</p>
<p style="text-align: center;"><code class="reqn">x^{exp(±z * se / (x * log(x)))}</code>
</p>

<p>where <code class="reqn">x</code> is the cumulative incidence estimate, <code class="reqn">se</code> is the
standard error estimate, and <code class="reqn">z</code> is the z-score associated with the
confidence level of the interval, e.g. <code class="reqn">z = 1.96</code> for a 95% CI.
</p>


<h3>p-values</h3>

<p>The p-values reported in <code>cuminc()</code>, <code>glance.tidycuminc()</code> and <code>add_p.tbl_cuminc()</code>
are Gray's test as described in
Gray RJ (1988) <em>A class of K-sample tests for comparing the cumulative incidence of a competing risk</em>, Annals of Statistics, 16:1141-1154.
</p>


<h3>See Also</h3>

<p>Other cuminc() functions: 
<code><a href="#topic+broom_methods_cuminc">broom_methods_cuminc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># calculate risk for entire cohort -----------
cuminc(Surv(ttdeath, death_cr) ~ 1, trial)

# calculate risk by treatment group ----------
cuminc(Surv(ttdeath, death_cr) ~ trt, trial)
</code></pre>

<hr>
<h2 id='deprecated'>Deprecated</h2><span id='topic+deprecated'></span><span id='topic+autoplot.tidycuminc'></span>

<h3>Description</h3>

<p><strong>DEPRECATED</strong> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycuminc'
autoplot(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deprecated_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Misc.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># DO NOT USE DEPRECATED FUNCTIONS
</code></pre>

<hr>
<h2 id='gtsummary_s3_methods'>gtsummary methods</h2><span id='topic+gtsummary_s3_methods'></span><span id='topic+tbl_regression.tidycrr'></span><span id='topic+global_pvalue_fun.tidycrr'></span>

<h3>Description</h3>

<p>These functions are S3 methods for working with <code><a href="#topic+crr">crr()</a></code> model
results.
</p>

<ul>
<li> <p><code>tbl_regression.tidycrr()</code>: This function sets the tidycmprsk tidier for <code>crr()</code> models.
</p>
</li>
<li> <p><code>global_pvalue_fun.tidycrr()</code>: This function ensures that <code>gtsummary::add_global_p(anova_fun)</code> uses
the Wald test by default (instead of <code>car::Anova()</code>, which does not support this model type).
The Wald test is executed with <code>cardx::ard_aod_wald_test()</code>, which wraps <code>aod::wald.test()</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycrr'
tbl_regression(x, tidy_fun = tidycmprsk::tidy, ...)

## S3 method for class 'tidycrr'
global_pvalue_fun(x, type, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gtsummary_s3_methods_+3A_x">x</code></td>
<td>
<p>(<code>tidycrr</code>)<br />
<code>tidycmprsk::crr()</code> regression object</p>
</td></tr>
<tr><td><code id="gtsummary_s3_methods_+3A_tidy_fun">tidy_fun</code></td>
<td>
<p>(<code>function</code>)<br />
Tidier function for the model. Default is <code>tidycmprsk::tidy()</code>.</p>
</td></tr>
<tr><td><code id="gtsummary_s3_methods_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="broom.helpers.html#topic+tidy_plus_plus">broom.helpers::tidy_plus_plus()</a></code>.</p>
</td></tr>
<tr><td><code id="gtsummary_s3_methods_+3A_type">type</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>gtsummary table or data frame of results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crr(Surv(ttdeath, death_cr) ~ age + grade, trial) |&gt;
  gtsummary::tbl_regression() |&gt;
  gtsummary::add_global_p() |&gt;
  gtsummary::as_gt()
</code></pre>

<hr>
<h2 id='predict.tidycrr'>Estimate subdistribution functions for crr objects</h2><span id='topic+predict.tidycrr'></span>

<h3>Description</h3>

<p>Estimate subdistribution functions for crr objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycrr'
predict(object, times = NULL, probs = NULL, newdata = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.tidycrr_+3A_object">object</code></td>
<td>
<p>a tidycrr object</p>
</td></tr>
<tr><td><code id="predict.tidycrr_+3A_times">times</code></td>
<td>
<p>Numeric vector of times to obtain risk estimates at</p>
</td></tr>
<tr><td><code id="predict.tidycrr_+3A_probs">probs</code></td>
<td>
<p>Numeric vector of quantiles to obtain estimates at</p>
</td></tr>
<tr><td><code id="predict.tidycrr_+3A_newdata">newdata</code></td>
<td>
<p>A <code>base::data.frame()</code> or <code>tibble::tibble()</code> containing all
the original predictors used to create x. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="predict.tidycrr_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named list of prediction estimates
</p>


<h3>See Also</h3>

<p>Other crr() functions: 
<code><a href="#topic+broom_methods_crr">broom_methods_crr</a></code>,
<code><a href="#topic+crr">crr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crr(Surv(ttdeath, death_cr) ~ age, trial) %&gt;%
  predict(times = 12, newdata = trial[1:10, ])
</code></pre>

<hr>
<h2 id='print'>Print crr object</h2><span id='topic+print'></span><span id='topic+print.tidycrr'></span><span id='topic+print.tidycuminc'></span>

<h3>Description</h3>

<p>Print crr object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycrr'
print(x, ...)

## S3 method for class 'tidycuminc'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_+3A_x">x</code></td>
<td>
<p>tidycrr object</p>
</td></tr>
<tr><td><code id="print_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic+Surv'></span><span id='topic+autoplot'></span><span id='topic+tidy'></span><span id='topic+glance'></span><span id='topic+augment'></span><span id='topic+tbl_regression'></span><span id='topic+global_pvalue_fun'></span><span id='topic+add_n'></span><span id='topic+add_nevent'></span><span id='topic+add_p'></span><span id='topic+inline_text'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>broom</dt><dd><p><code><a href="broom.html#topic+reexports">augment</a></code>, <code><a href="broom.html#topic+reexports">glance</a></code>, <code><a href="broom.html#topic+reexports">tidy</a></code></p>
</dd>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+autoplot">autoplot</a></code></p>
</dd>
<dt>gtsummary</dt><dd><p><code><a href="gtsummary.html#topic+add_n">add_n</a></code>, <code><a href="gtsummary.html#topic+add_nevent_regression">add_nevent</a></code>, <code><a href="gtsummary.html#topic+add_p">add_p</a></code>, <code><a href="gtsummary.html#topic+global_pvalue_fun">global_pvalue_fun</a></code>, <code><a href="gtsummary.html#topic+inline_text">inline_text</a></code>, <code><a href="gtsummary.html#topic+tbl_regression">tbl_regression</a></code></p>
</dd>
<dt>survival</dt><dd><p><code><a href="survival.html#topic+Surv">Surv</a></code></p>
</dd>
</dl>

<hr>
<h2 id='tbl_cuminc'>Tabular Summary of Cumulative Incidence</h2><span id='topic+tbl_cuminc'></span><span id='topic+tbl_cuminc.tidycuminc'></span>

<h3>Description</h3>

<p>Tabular Summary of Cumulative Incidence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tidycuminc'
tbl_cuminc(
  x,
  times = NULL,
  outcomes = NULL,
  statistic = "{estimate}% ({conf.low}%, {conf.high}%)",
  label = NULL,
  label_header = "**Time {time}**",
  estimate_fun = NULL,
  conf.level = x$conf.level,
  missing = NULL,
  ...
)

tbl_cuminc(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tbl_cuminc_+3A_x">x</code></td>
<td>
<p>a 'tidycuminc' object created with <code>cuminc()</code></p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_times">times</code></td>
<td>
<p>Numeric vector of times to obtain risk estimates at</p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_outcomes">outcomes</code></td>
<td>
<p>character vector of outcomes to include. Default
is to include the first outcome.</p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_statistic">statistic</code></td>
<td>
<p>string of statistic to report. Default is
<code>"{estimate}% ({conf.low}%, {conf.high}%)"</code></p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_label">label</code></td>
<td>
<p>string indicating the variable label</p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_label_header">label_header</code></td>
<td>
<p>string for the header labels; uses glue syntax.
Default is <code>"**Time {time}**"</code></p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_estimate_fun">estimate_fun</code></td>
<td>
<p>function that styles and formats the statistics.
Default is <code>~gtsummary::style_sigfig(.x, scale = 100)</code></p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_conf.level">conf.level</code></td>
<td>
<p>Level of the confidence interval. Default matches that in
<code>cuminc(conf.level=)</code> (typically, 0.95)</p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_missing">missing</code></td>
<td>
<p>string to replace missing values with. Default is an
em-dash, <code>"\U2014"</code></p>
</td></tr>
<tr><td><code id="tbl_cuminc_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Example Output</h3>

<p>Example 1
</p>
<p><img src="../help/figures/tbl_cuminc_ex1.png" width=50% alt="tbl_cuminc_ex1.png" />
</p>
<p>Example 2
</p>
<p><img src="../help/figures/tbl_cuminc_ex2.png" width=60% alt="tbl_cuminc_ex2.png" />
</p>


<h3>See Also</h3>

<p>Other tbl_cuminc tools: 
<code><a href="#topic+add_cuminc">add_cuminc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1 ----------------------------------
tbl_cuminc_ex1 &lt;-
  cuminc(Surv(ttdeath, death_cr) ~ 1, trial) %&gt;%
  tbl_cuminc(times = c(12, 24), label_header = "**Month {time}**")

# Example 2 ----------------------------------
tbl_cuminc_ex2 &lt;-
  cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  tbl_cuminc(times = c(12, 24),
             outcomes = c("death from cancer", "death other causes"),
             label_header = "**Month {time}**")

</code></pre>

<hr>
<h2 id='trial'>Results from a simulated study of two chemotherapy agents</h2><span id='topic+trial'></span>

<h3>Description</h3>

<p>A dataset containing the baseline characteristics of 200 patients
who received Drug A or Drug B.  Dataset also contains the outcome of
tumor response to the treatment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trial
</code></pre>


<h3>Format</h3>

<p>A data frame with 200 rows&ndash;one row per patient
</p>

<dl>
<dt>trt</dt><dd><p>Chemotherapy Treatment</p>
</dd>
<dt>age</dt><dd><p>Age</p>
</dd>
<dt>marker</dt><dd><p>Marker Level (ng/mL)</p>
</dd>
<dt>stage</dt><dd><p>T Stage</p>
</dd>
<dt>grade</dt><dd><p>Grade</p>
</dd>
<dt>response</dt><dd><p>Tumor Response</p>
</dd>
<dt>death</dt><dd><p>Patient Died</p>
</dd>
<dt>death_cr</dt><dd><p>Death Status</p>
</dd>
<dt>ttdeath</dt><dd><p>Months to Death/Censor</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

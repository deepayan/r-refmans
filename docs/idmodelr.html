<!DOCTYPE html><html><head><title>Help for package idmodelr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {idmodelr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#idmodelr-package'><p>idmodelr: Infectious Disease Model Library and Utilities</p></a></li>
<li><a href='#add_pointer_struct'><p>Adds Pointer Structure to R objects</p></a></li>
<li><a href='#aggregate_model'><p>A Function to Apply Multiple Aggregations to Model Output</p></a></li>
<li><a href='#aggregate_model_internal'><p>An Internal Function to Aggregate Model Output Using other Idmodelr functions.</p></a></li>
<li><a href='#combine_strat_model_output'><p>Reduces the Dimensionality of a Stratified Model</p></a></li>
<li><a href='#combine_to_age_model'><p>Combine an Infectious Disease Model To a Demographic Model</p></a></li>
<li><a href='#estimate_norm_dist_from_ci'><p>A Function to Estimate a Normal Distribution from Credible or Confidence Intervals</p></a></li>
<li><a href='#gather_strat_multi_variable'><p>A Function to Gather Multiple Stratified Variables into a Tidy Format</p></a></li>
<li><a href='#gather_strat_variable'><p>A Function to Gather a Stratified Variable into a Tidy Format</p></a></li>
<li><a href='#generate_parameter_permutations'><p>A Function to Generate Parameter Permutations</p></a></li>
<li><a href='#model_details'><p>Model Details</p></a></li>
<li><a href='#model_df_to_vector'><p>Extracts a Single Column, Summarises if from Simulation</p></a></li>
<li><a href='#parameter_details'><p>Parameter Details</p></a></li>
<li><a href='#plot_model'><p>Plot Compartment Populations over Time for a Model Simulation</p></a></li>
<li><a href='#required_parameters'><p>Lookup the Details of Parameters Required by a Model</p></a></li>
<li><a href='#scenario_analysis'><p>A Function to Perform Scenario Analysis for a Generic Model Object.</p></a></li>
<li><a href='#SEI_demographics_ode'><p>Susceptible-Exposed-Infected Model with Simple Demographics</p></a></li>
<li><a href='#SEI_ode'><p>Susceptible-Exposed-Infected Model</p></a></li>
<li><a href='#SEIR_demographics_ode'><p>Susceptible-Exposed-Infected-Recovered Model with Simple Demographics</p></a></li>
<li><a href='#SEIR_ode'><p>Susceptible-Exposed-Infected-Recovered Model</p></a></li>
<li><a href='#SEIRS_demographics_ode'><p>Susceptible-Exposed-Infected-Recovered-Susceptible Model with Simple Demographics</p></a></li>
<li><a href='#SEIRS_ode'><p>Susceptible-Exposed-Infected-Recovered-Susceptible Model</p></a></li>
<li><a href='#SEIS_demographics_ode'><p>Susceptible-Exposed-Infected-Susceptible Model with Simple Demographics</p></a></li>
<li><a href='#SEIS_ode'><p>Susceptible-Exposed-Infected-Susceptible Model</p></a></li>
<li><a href='#SHLIR_demographics_ode'><p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Recovered Model with Simple Demographics</p></a></li>
<li><a href='#SHLIR_ode'><p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Recovered Model</p></a></li>
<li><a href='#SHLITR_demographics_ode'><p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model with Simple Demographics</p></a></li>
<li><a href='#SHLITR_ode'><p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model</p></a></li>
<li><a href='#SHLITR_risk_demographics_ode'><p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model with Demographics, Stratified by Risk</p></a></li>
<li><a href='#SHLITR_risk_ode'><p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model, Stratified by Risk</p></a></li>
<li><a href='#SI_demographics_ode'><p>Susceptible-Infected Model with Simple Demographics</p></a></li>
<li><a href='#SI_ode'><p>Susceptible-Infected Model</p></a></li>
<li><a href='#simulate_model'><p>A Function to Simulate a Model from a Generic Simulation Function, with Pre and Post Processing</p></a></li>
<li><a href='#SIR_demographics_ode'><p>Susceptible-Infected-Recovered Model with Simple Demographics</p></a></li>
<li><a href='#SIR_ode'><p>Susceptible-Infected-Recovered Model</p></a></li>
<li><a href='#SIR_vaccination_demographics_ode'><p>Susceptible-Infected-Recovered Model with Simple Demographics and Vaccination</p></a></li>
<li><a href='#SIR_vaccination_ode'><p>Susceptible-Infected-Recovered Model with Vaccination</p></a></li>
<li><a href='#SIRS_demographics_ode'><p>Susceptible-Infected-Recovered-Susceptible Model with Simple Demographics</p></a></li>
<li><a href='#SIRS_ode'><p>Susceptible-Infected-Recovered-Susceptible Model</p></a></li>
<li><a href='#SIRS_vaccination_demographics_ode'><p>Susceptible-Infected-Recovered-Susceptible Model with Simple Demographics and Vaccination</p></a></li>
<li><a href='#SIRS_vaccination_ode'><p>Susceptible-Infected-Recovered-Susceptible Model with Vaccination</p></a></li>
<li><a href='#SIS_demographics_ode'><p>Susceptible-Infected-Susceptible Model with Simple Demographics</p></a></li>
<li><a href='#SIS_ode'><p>Susceptible-Infected-Susceptible Model</p></a></li>
<li><a href='#solve_ode'><p>A Simple Wrapper for lsoda</p></a></li>
<li><a href='#summarise_model'><p>Summarise a Model Simulation</p></a></li>
<li><a href='#summarise_strat_var'><p>Sum a Stratified Variable</p></a></li>
<li><a href='#summarise_var_by_strat'><p>Sum a Stratified Variable by Stratification Level</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Title:</td>
<td>Infectious Disease Model Library and Utilities</td>
</tr>
<tr>
<td>Description:</td>
<td>Explore a range of infectious disease models in a consistent
    framework. The primary aim of 'idmodelr' is to provide a library of
    infectious disease models for researchers, students, and other interested
    individuals. These models can be used to understand the underlying dynamics
    and as a reference point when developing models for research. 'idmodelr'
    also provides a range of utilities. These include: plotting functionality;
    a simulation wrapper; scenario analysis tooling; an interactive dashboard;
    tools for handling mult-dimensional models; and both model and parameter
    look up tables. Unlike other modelling packages such as 'pomp'
    (<a href="https://kingaa.github.io/pomp/">https://kingaa.github.io/pomp/</a>), 'libbi' (<a href="http://libbi.org">http://libbi.org</a>)
    and 'EpiModel' (<a href="http://www.epimodel.org">http://www.epimodel.org</a>), 'idmodelr' serves primarily as
    an educational resource. It is most comparable to epirecipes
    (<a href="http://epirecip.es/epicookbook/chapters/simple">http://epirecip.es/epicookbook/chapters/simple</a>) but provides a more
    consistent framework, an R based workflow, and additional utility tooling.
    After users have explored model dynamics with 'idmodelr' they may then
    implement their model using one of these packages in order to utilise the
    model fitting tools they provide.  For newer modellers, this package
    reduces the barrier to entry by containing multiple infectious disease
    models, providing a consistent framework for simulation and visualisation,
    and signposting towards other, more research focussed, resources. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.3), rlang (&ge; 0.4.0), ggplot2 (&ge; 3.2.0),
viridis (&ge; 0.5.1), magrittr (&ge; 1.5), purrr (&ge; 0.3.2), future
(&ge; 1.14.0), furrr (&ge; 0.1.0), stringr (&ge; 1.4.0), tibble (&ge;
2.1.3), tidyr (&ge; 0.8.3), deSolve (&ge; 1.23)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.1), rmarkdown (&ge; 1.13), knitr (&ge; 1.23),
pkgnet (&ge; 0.4.0), DT (&ge; 0.7), vdiffr (&ge; 0.3.1), spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://samabbott.co.uk/idmodelr/">https://samabbott.co.uk/idmodelr/</a>,
<a href="https://github.com/seabbs/idmodelr">https://github.com/seabbs/idmodelr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/seabbs/idmodelr/issues">https://github.com/seabbs/idmodelr/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-02 12:47:41 UTC; seabbs</td>
</tr>
<tr>
<td>Author:</td>
<td>Sam Abbott <a href="https://orcid.org/0000-0001-8057-8037"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Akira Endo <a href="https://orcid.org/0000-0001-6377-7296"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sam Abbott &lt;contact@samabbott.co.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-02 13:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='idmodelr-package'>idmodelr: Infectious Disease Model Library and Utilities</h2><span id='topic+idmodelr'></span><span id='topic+idmodelr-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Explore a range of infectious disease models in a consistent framework. The primary aim of 'idmodelr' is to provide a library of infectious disease models for researchers, students, and other interested individuals. These models can be used to understand the underlying dynamics and as a reference point when developing models for research. 'idmodelr' also provides a range of utilities. These include: plotting functionality; a simulation wrapper; scenario analysis tooling; an interactive dashboard; tools for handling mult-dimensional models; and both model and parameter look up tables. Unlike other modelling packages such as 'pomp' (<a href="https://kingaa.github.io/pomp/">https://kingaa.github.io/pomp/</a>), 'libbi' (<a href="http://libbi.org">http://libbi.org</a>) and 'EpiModel' (<a href="http://www.epimodel.org">http://www.epimodel.org</a>), 'idmodelr' serves primarily as an educational resource. It is most comparable to epirecipes (<a href="http://epirecip.es/epicookbook/chapters/simple">http://epirecip.es/epicookbook/chapters/simple</a>) but provides a more consistent framework, an R based workflow, and additional utility tooling. After users have explored model dynamics with 'idmodelr' they may then implement their model using one of these packages in order to utilise the model fitting tools they provide. For newer modellers, this package reduces the barrier to entry by containing multiple infectious disease models, providing a consistent framework for simulation and visualisation, and signposting towards other, more research focussed, resources.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Sam Abbott <a href="mailto:contact@samabbott.co.uk">contact@samabbott.co.uk</a> (<a href="https://orcid.org/0000-0001-8057-8037">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Akira Endo <a href="mailto:akira.endo@lshtm.ac.uk">akira.endo@lshtm.ac.uk</a> (<a href="https://orcid.org/0000-0001-6377-7296">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://samabbott.co.uk/idmodelr/">https://samabbott.co.uk/idmodelr/</a>
</p>
</li>
<li> <p><a href="https://github.com/seabbs/idmodelr">https://github.com/seabbs/idmodelr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/seabbs/idmodelr/issues">https://github.com/seabbs/idmodelr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_pointer_struct'>Adds Pointer Structure to R objects</h2><span id='topic+add_pointer_struct'></span>

<h3>Description</h3>

<p>Adds Pointer Structure to R objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_pointer_struct(char, length)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_pointer_struct_+3A_char">char</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="add_pointer_struct_+3A_length">length</code></td>
<td>
<p>The length of the returned object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the concatenated character string with sequential numbering
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## For a single variable
add_pointer_struct("S", 3)

## For multiple variables
add_pointer_struct(c("S", "I"), length = 3)
</code></pre>

<hr>
<h2 id='aggregate_model'>A Function to Apply Multiple Aggregations to Model Output</h2><span id='topic+aggregate_model'></span>

<h3>Description</h3>

<p>A Function to Apply Multiple Aggregations to Model Output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_model(
  df,
  aggregate_to = NULL,
  compartments = NULL,
  strat = NULL,
  hold_out_var = NULL,
  id_col = NULL,
  groups = NULL,
  new_var = "incidence",
  total_pop = TRUE,
  summary_var = FALSE,
  test = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_model_+3A_df">df</code></td>
<td>
<p>A dataframe of Model Output.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_aggregate_to">aggregate_to</code></td>
<td>
<p>A character vector or list specifying the aggregation operations to perform on the
model output. Operations are carried out in the order specified. Implemented options are; disease, demographic,
and incidence.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_compartments">compartments</code></td>
<td>
<p>A character vector or list specifying the unique compartments to aggregate. May either be
specified once for all aggregation functions or for each function separately.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_strat">strat</code></td>
<td>
<p>The number of stratified groups in the model.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character vector or list specifying the unique compartments that will not be aggregated. May either be
specified once for all aggregation functions or for each function separately. If compartments is set then this argument does
not need to be used.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_id_col">id_col</code></td>
<td>
<p>A character string containing the name of the new id column.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_groups">groups</code></td>
<td>
<p>A character vector with length equal to the level of stratification.
Used to name the stratified levels.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_new_var">new_var</code></td>
<td>
<p>A character vector specifying the new variable to add when aggregating incidence.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_total_pop">total_pop</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) indicating if the total population should be
calculated when summarising the model demographics.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_summary_var">summary_var</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code>), specifying whether to add an additional summary variable across
all stratified levels.</p>
</td></tr>
<tr><td><code id="aggregate_model_+3A_test">test</code></td>
<td>
<p>Logical defaults to <code>FALSE</code>. For testing, returns the processed inputs rather than
performing the aggregation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An aggregated dataframe.
</p>


<h3>See Also</h3>

<p>aggregate_model aggregate_model_internal combine_to_age_model combine_strat_model_output summarise_var_by_strat
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(A1 = 1, B1 = 1, A2 = 1, B2 = 1, A3 = 1, B3 = 1)
aggregate_model(df, aggregate_to = "incidence",
                compartments = c("A", "B"), strat = 3,
                summary_var = TRUE)
</code></pre>

<hr>
<h2 id='aggregate_model_internal'>An Internal Function to Aggregate Model Output Using other Idmodelr functions.</h2><span id='topic+aggregate_model_internal'></span>

<h3>Description</h3>

<p>An Internal Function to Aggregate Model Output Using other Idmodelr functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_model_internal(
  df,
  aggregate_to = NULL,
  compartments = NULL,
  strat = NULL,
  hold_out_var = NULL,
  new_var = "incidence",
  id_col = NULL,
  groups = NULL,
  total_pop = TRUE,
  summary_var = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_model_internal_+3A_df">df</code></td>
<td>
<p>A dataframe of Model Output.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_aggregate_to">aggregate_to</code></td>
<td>
<p>A character vector specifying the aggregation function to apply possible values are;
disease, demographic, or incidence.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_compartments">compartments</code></td>
<td>
<p>A character vector specifying the unique compartments to aggregate.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_strat">strat</code></td>
<td>
<p>The number of stratified groups in the model.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character  vector specifying the unique compartments not to aggregate.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_new_var">new_var</code></td>
<td>
<p>A character vector specifying the new variable to add when aggregating incidence.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_id_col">id_col</code></td>
<td>
<p>A character string containing the name of the new id column.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_groups">groups</code></td>
<td>
<p>A character vector with length equal to the level of stratification.
Used to name the stratified levels.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_total_pop">total_pop</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) indicating if the total population should be
calculated when summarising the model demographics.</p>
</td></tr>
<tr><td><code id="aggregate_model_internal_+3A_summary_var">summary_var</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code>), specifying whether to add an additional summary variable across
all stratified levels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An aggregated dataframe.
</p>


<h3>See Also</h3>

<p>aggregate_model aggregate_model_internal combine_to_age_model combine_strat_model_output summarise_var_by_strat
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- data.frame(time = 1, A1 = 1, B1 = 1, A2 = 1, B2 = 1, A3 = 1, B3 = 1)

## Incidence
aggregate_model_internal(df, aggregate_to = "incidence",
                        compartments = c("A", "B"), strat = 3,
                        summary_var = TRUE)

## Demographic
aggregate_model_internal(df, aggregate_to = "demographic",
                        compartments = c("A", "B"), strat = 3,
                        summary_var = TRUE)
## Disease
aggregate_model_internal(df, aggregate_to = "disease",
                        compartments = c("A", "B"), strat = 3,
                        summary_var = TRUE)
## Tidy (long)
aggregate_model_internal(df, aggregate_to = "tidy",
                        compartments = c("A", "B"), hold_out_var = "time", strat = 3,
                        summary_var = TRUE, id_col = "Age",
                        groups = c("Children", "Young adults", "Adults"))
</code></pre>

<hr>
<h2 id='combine_strat_model_output'>Reduces the Dimensionality of a Stratified Model</h2><span id='topic+combine_strat_model_output'></span>

<h3>Description</h3>

<p>Reduces the dimensions of stratified model output. Default behaviour is to remove stratification for all
variables. However, variables to reduce the dimensions of can be selected, as can variables to preserve with there structure intact.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_strat_model_output(
  df,
  strat = NULL,
  compartments = NULL,
  hold_out_var = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_strat_model_output_+3A_df">df</code></td>
<td>
<p>A data frame with variables stratified using numeric labels.</p>
</td></tr>
<tr><td><code id="combine_strat_model_output_+3A_strat">strat</code></td>
<td>
<p>An integer specifying the number of stratifications to reduce.</p>
</td></tr>
<tr><td><code id="combine_strat_model_output_+3A_compartments">compartments</code></td>
<td>
<p>A character vector specifying the unique population compartments.</p>
</td></tr>
<tr><td><code id="combine_strat_model_output_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character vector specifying the variables to keep unchanged. Defaults to NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of model output that has its dimensionality reduced
</p>


<h3>See Also</h3>

<p>combine_to_age_model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- data.frame(S1 = NA, S2 = NA, S3 = NA, time = NA)
combine_strat_model_output(df, 3, compartments = "S", hold_out_var = "time")

</code></pre>

<hr>
<h2 id='combine_to_age_model'>Combine an Infectious Disease Model To a Demographic Model</h2><span id='topic+combine_to_age_model'></span>

<h3>Description</h3>

<p>Similarly to <code><a href="#topic+combine_strat_model_output">combine_strat_model_output</a></code> this functions
reduces the dimension of model output into just the demographic components.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_to_age_model(
  df,
  age_com = NULL,
  compartments = NULL,
  hold_out_var = NULL,
  total_pop = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_to_age_model_+3A_df">df</code></td>
<td>
<p>A dataframe of model output.</p>
</td></tr>
<tr><td><code id="combine_to_age_model_+3A_age_com">age_com</code></td>
<td>
<p>Integer indicating the number of age compartments.</p>
</td></tr>
<tr><td><code id="combine_to_age_model_+3A_compartments">compartments</code></td>
<td>
<p>A character vector of the disease model compartments to combine.</p>
</td></tr>
<tr><td><code id="combine_to_age_model_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character vector specifying the variables to keep unchanged. Defaults to NULL</p>
</td></tr>
<tr><td><code id="combine_to_age_model_+3A_total_pop">total_pop</code></td>
<td>
<p>A logical indicating whether to calculate the total population. Defaults
to true.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe which summarises the demographic process of a model.
</p>


<h3>See Also</h3>

<p>combine_strat_model_output
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- data.frame(S1 = c(1,2), S2 = c(1, 3), E1 = c(4, 1), E2 = c(3, 4), time = c(1, 2))

combine_to_age_model(df, age_com = 2, hold_out_var = "time")
</code></pre>

<hr>
<h2 id='estimate_norm_dist_from_ci'>A Function to Estimate a Normal Distribution from Credible or Confidence Intervals</h2><span id='topic+estimate_norm_dist_from_ci'></span>

<h3>Description</h3>

<p>A Function to Estimate a Normal Distribution from Credible or Confidence Intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimate_norm_dist_from_ci(
  lower_interval = NULL,
  upper_interval = NULL,
  interval = "95%"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimate_norm_dist_from_ci_+3A_lower_interval">lower_interval</code></td>
<td>
<p>Numeric, the lower CI.</p>
</td></tr>
<tr><td><code id="estimate_norm_dist_from_ci_+3A_upper_interval">upper_interval</code></td>
<td>
<p>Numeric, the upper CI</p>
</td></tr>
<tr><td><code id="estimate_norm_dist_from_ci_+3A_interval">interval</code></td>
<td>
<p>A character string indicating the percentage interval the CI represents.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the mean and standard deviation of the normal distribution summarised by the provided CI's.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Run function to estimate normal distribution for a 95% CI of 1, to 2

df &lt;- estimate_norm_dist_from_ci(1,2)

## Check

x &lt;- rnorm(10000, df$mean, df$sd)

quantile(x, c(0.025, 0.975))
</code></pre>

<hr>
<h2 id='gather_strat_multi_variable'>A Function to Gather Multiple Stratified Variables into a Tidy Format</h2><span id='topic+gather_strat_multi_variable'></span>

<h3>Description</h3>

<p>A Function to Gather Multiple Stratified Variables into a Tidy Format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gather_strat_multi_variable(
  df,
  id_col,
  compartments = NULL,
  hold_out_var = NULL,
  strat = NULL,
  groups = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gather_strat_multi_variable_+3A_df">df</code></td>
<td>
<p>A data frame with variables stratified using numeric labels.</p>
</td></tr>
<tr><td><code id="gather_strat_multi_variable_+3A_id_col">id_col</code></td>
<td>
<p>A character string containing the name of the new id column.</p>
</td></tr>
<tr><td><code id="gather_strat_multi_variable_+3A_compartments">compartments</code></td>
<td>
<p>A character vector specifying the unique population compartments.</p>
</td></tr>
<tr><td><code id="gather_strat_multi_variable_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character vector specifying the variables to keep unchanged. Defaults to NULL</p>
</td></tr>
<tr><td><code id="gather_strat_multi_variable_+3A_strat">strat</code></td>
<td>
<p>An integer specifying the number of stratifications to reduce.</p>
</td></tr>
<tr><td><code id="gather_strat_multi_variable_+3A_groups">groups</code></td>
<td>
<p>A character vector with length equal to the level of stratification.
Used to name the stratified levels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of stratified model output with multiple Tidy variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

df &lt;- data.frame(time = 0, A1 = 1, A2 = 2, A3 = 3, B1 = 2, B2 = 3, B3 = 0)
gather_strat_multi_variable(df, id_col = "Age", compartment = c("A", "B"), hold_out_var = "time",
                            strat = 3, groups = c("Children", "Young adults", "Adults"))

</code></pre>

<hr>
<h2 id='gather_strat_variable'>A Function to Gather a Stratified Variable into a Tidy Format</h2><span id='topic+gather_strat_variable'></span>

<h3>Description</h3>

<p>A Function to Gather a Stratified Variable into a Tidy Format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gather_strat_variable(
  df,
  id_col,
  compartment,
  hold_out_var = NULL,
  strat,
  groups = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gather_strat_variable_+3A_df">df</code></td>
<td>
<p>A data frame with variables stratified using numeric labels.</p>
</td></tr>
<tr><td><code id="gather_strat_variable_+3A_id_col">id_col</code></td>
<td>
<p>A character string containing the name of the new id column.</p>
</td></tr>
<tr><td><code id="gather_strat_variable_+3A_compartment">compartment</code></td>
<td>
<p>The compartment to reduce the dimension of.</p>
</td></tr>
<tr><td><code id="gather_strat_variable_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character vector specifying the variables to keep unchanged. Defaults to NULL</p>
</td></tr>
<tr><td><code id="gather_strat_variable_+3A_strat">strat</code></td>
<td>
<p>An integer specifying the number of stratifications to reduce.</p>
</td></tr>
<tr><td><code id="gather_strat_variable_+3A_groups">groups</code></td>
<td>
<p>A character vector with length equal to the level of stratification.
Used to name the stratified levels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of stratified model output with a single Tidy variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- data.frame(time = 0, A1 = 1, A2 = 2, A3 = 3)
gather_strat_variable(df, id_col = "Age", compartment = "A",
                      strat = 3, groups = c("Children", "Young adults", "Adults"))
</code></pre>

<hr>
<h2 id='generate_parameter_permutations'>A Function to Generate Parameter Permutations</h2><span id='topic+generate_parameter_permutations'></span>

<h3>Description</h3>

<p>A function to generate parameter permutations from a generic sampling function (or if not given
from the input parameters). This function can be used to rapidly generate new parameter combinations given
parameters to be varied, and scenarios to be investigated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_parameter_permutations(
  variable_params = NULL,
  fixed_params = NULL,
  sample_params = NULL,
  excluded_params = NULL,
  scenarios = NULL,
  sampling_function = NULL,
  parameter_samples = 1,
  repeat_sample = TRUE,
  rerun = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_parameter_permutations_+3A_variable_params">variable_params</code></td>
<td>
<p>A dataframe containing any parameter variations to be investigated. If
these parameters would normally be sampled then they should be added to the excluded_params argument.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_fixed_params">fixed_params</code></td>
<td>
<p>A named vector of parameters that are not sampled by the sampling function. If
these parameters would usually be sampled then they should be added to the excluded_params argument.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_sample_params">sample_params</code></td>
<td>
<p>A named vector of parameters to be sampled. If a sampling function is not supplied these
parameters will be used in the final permutation dataframe.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_excluded_params">excluded_params</code></td>
<td>
<p>A character vector indicating which parameters should have there sampled values
kept.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_scenarios">scenarios</code></td>
<td>
<p>A dataframe of possible scenarios to investigate. It must contain a scenario variable to
identify each separate scenarios. If parameters are included here that would normally be sampled then they
should be added to the excluded_params argument</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_sampling_function">sampling_function</code></td>
<td>
<p>A sampling function, this should be designed such that it's input is a matrix
with each parameter having a named row. It should return it's output in the same format. If not supplied
defaults to passing
through parameters, this may not be the required behaviour.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_parameter_samples">parameter_samples</code></td>
<td>
<p>The number of parameter samples to take, defaults to one.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_repeat_sample">repeat_sample</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) which indicates if each scenario should independently
sample from the sampling function. If set to <code>FALSE</code> then each scenario will share the same sampled
parameter set.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_rerun">rerun</code></td>
<td>
<p>A logical indicating if the function should be rerun or saved results should be loaded.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="generate_parameter_permutations_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the sampling_function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing sampled parameter permutations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
scenarios &lt;- data.frame(scenario = c("test_1", "test_2"), scenario_param = c(0, 1))
variable_params &lt;-  data.frame(variable = c(0, 0.5, 1))
fixed_params &lt;- c(fixed_1 = 2, fixed_2 = c(1, 3, 4))
sample_params &lt;- c(sample_1 = 2, sample_2 = c(2, 1))

generate_parameter_permutations(variable_params, fixed_params, sample_params,
                                excluded_params = c("variable"), scenarios,
                                parameter_samples = 1)
</code></pre>

<hr>
<h2 id='model_details'>Model Details</h2><span id='topic+model_details'></span>

<h3>Description</h3>

<p>Details on models implemented in <code>idmodelr</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_details
</code></pre>


<h3>Format</h3>

<p>A data frame with 22 rows and 14 variables.
</p>

<dl>
<dt>model</dt><dd><p>Name of the model function.</p>
</dd>
<dt>model_family</dt><dd><p>Name of the model family (i.e. SIR)</p>
</dd>
<dt>time</dt><dd><p>Discrete or continuous time</p>
</dd>
<dt>type</dt><dd><p>Deterministic or stochastic</p>
</dd>
<dt>recovered</dt><dd><p>Does this model included a recovered population (yes/no).</p>
</dd>
<dt>exposed</dt><dd><p>Does this model included an exposed population (yes/no).</p>
</dd>
<dt>treated</dt><dd><p>Does this model included a treated population (yes/no).</p>
</dd>
<dt>susceptible</dt><dd><p>Does this model included a post infection susceptible population (yes/no).</p>
</dd>
<dt>risk_stratified</dt><dd><p>Is this model risk stratified (yes/no).</p>
</dd>
<dt>non_exponential</dt><dd><p>Does this model contain non-exponential rates (yes/no).</p>
</dd>
<dt>simple_demographics</dt><dd><p>Does this model contain simple (i.e. births = deaths) demographics (yes/no).</p>
</dd>
<dt>vaccination</dt><dd><p>Does this model include vaccination (yes/no).</p>
</dd>
<dt>disease_example</dt><dd><p>Which diseases (if any) can this model be used for.</p>
</dd>
<dt>language</dt><dd><p>What language is this model written in (i.e. R, C etc.).</p>
</dd>
<dt>parameters</dt><dd><p>A list of parameters required by the model</p>
</dd></dl>
<p>.

</p>

<hr>
<h2 id='model_df_to_vector'>Extracts a Single Column, Summarises if from Simulation</h2><span id='topic+model_df_to_vector'></span>

<h3>Description</h3>

<p>Extracts a Single Column, Summarises if from Simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_df_to_vector(df, com_var, id_var = NULL, sum_fn = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model_df_to_vector_+3A_df">df</code></td>
<td>
<p>A data frame of dynamic system output.</p>
</td></tr>
<tr><td><code id="model_df_to_vector_+3A_com_var">com_var</code></td>
<td>
<p>The vector to be compared; use unquoted name (NSE).</p>
</td></tr>
<tr><td><code id="model_df_to_vector_+3A_id_var">id_var</code></td>
<td>
<p>A character string indicating the id variable to summarise over
if required.</p>
</td></tr>
<tr><td><code id="model_df_to_vector_+3A_sum_fn">sum_fn</code></td>
<td>
<p>The summary function to be used, defaults to median.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric vector, summarised if required.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
## Extract a vector with no repeats
model_df_to_vector(iris, Petal.Length)

## Extract a vector and summarise
df &lt;- bind_rows(iris %&gt;% mutate(sim = 1, id = 1:length(sim)),
 iris %&gt;% mutate(sim = 2 , id = 1:length(sim)))

model_df_to_vector(df, Petal.Length, "id", sum_fn = mean)
</code></pre>

<hr>
<h2 id='parameter_details'>Parameter Details</h2><span id='topic+parameter_details'></span>

<h3>Description</h3>

<p>Details on the parameters used in models implemented in <code>idmodelr</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parameter_details
</code></pre>


<h3>Format</h3>

<p>A data frame with 14 rows and 6 variables.
</p>

<dl>
<dt>parameter</dt><dd><p>Name of the parameter.</p>
</dd>
<dt>parameter_family</dt><dd><p>Descriptive parameter family (i.e. transmission).</p>
</dd>
<dt>description</dt><dd><p>What is this parameter.</p>
</dd>
<dt>type</dt><dd><p>What type of parameter is this (i.e rate, proportion, probability etc.).</p>
</dd>
<dt>risk_stratified</dt><dd><p>Is this parameter used in risk stratified models (yes/no).</p>
</dd>
<dt>non_exponential</dt><dd><p>Is this parameter a non-exponential rate (yes/no).</p>
</dd>
</dl>


<hr>
<h2 id='plot_model'>Plot Compartment Populations over Time for a Model Simulation</h2><span id='topic+plot_model'></span>

<h3>Description</h3>

<p>Make separate plots for each model compartment. Assumes model output is structured
as that produced from <code><a href="#topic+solve_ode">solve_ode</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_model(sim, prev_sim = NULL, model_labels = NULL, facet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_model_+3A_sim">sim</code></td>
<td>
<p>A tibble of model output as formatted by <code><a href="#topic+solve_ode">solve_ode</a></code>. Optionally a list of simulations
can be passed when comparing multiple model runs.</p>
</td></tr>
<tr><td><code id="plot_model_+3A_prev_sim">prev_sim</code></td>
<td>
<p>A second tibble of model output formatted as for <code>sim</code>. Used to compare to model runs. Can only be
supplied if <code>sim</code> is not a list.</p>
</td></tr>
<tr><td><code id="plot_model_+3A_model_labels">model_labels</code></td>
<td>
<p>A character vector of model names. Defaults to <code>c("Current", "Previous")</code> when two model simulations are used
and the list names when <code>sim</code> is a list. If <code>sim</code> is unnamed the index of the list is used.</p>
</td></tr>
<tr><td><code id="plot_model_+3A_facet">facet</code></td>
<td>
<p>Logical, defaults to <code>TRUE</code>. If <code>FALSE</code> then the plot will not be faceted
otherwise it will be.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Plot of each model compartments population over time.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Intialise
N = 100000
I_0 = 1
S_0 = N - I_0
R_0 = 1.1
beta = R_0

##Time for model to run over
tbegin = 0
tend = 50
times &lt;- seq(tbegin, tend, 1)

##Vectorise input
parameters &lt;- as.matrix(c(beta = beta))
inits &lt;- as.matrix(c(S = S_0, I = I_0))

sim &lt;- solve_ode(model = SI_ode, inits, parameters, times, as.data.frame = TRUE)

plot_model(sim, facet = FALSE)

plot_model(sim, facet = TRUE)

## Compare with an updated model run

#'## Intialise
R_0 = 1.3
beta = R_0
parameters &lt;- as.matrix(c(beta = beta))

new_sim &lt;- solve_ode(model = SI_ode, inits, parameters, times, as.data.frame = TRUE)


plot_model(new_sim,sim, facet = FALSE)

plot_model(new_sim, sim, facet = TRUE)

## Passing in the simulations as a list
plot_model(list("Current" = new_sim, "Previous" = sim), facet = TRUE)
</code></pre>

<hr>
<h2 id='required_parameters'>Lookup the Details of Parameters Required by a Model</h2><span id='topic+required_parameters'></span>

<h3>Description</h3>

<p>This function simplifies the process of checking which parameters a given <code>idmodelr</code> model depends on.
It is effectively an interface to <code><a href="#topic+parameter_details">parameter_details</a></code> via <code><a href="#topic+model_details">model_details</a></code>. As
fuzzy matching has been used it can also given information of the parameter requirements of a subset of the available models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>required_parameters(model = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="required_parameters_+3A_model">model</code></td>
<td>
<p>A character string containing the name of the model of interest. Defaults to <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe extracted from <code><a href="#topic+parameter_details">parameter_details</a></code> containing the details of the parameters
required by the model of interest.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Check the parameters required by the "SIR_ode" model
required_parameters("SIR_ode")


## Use fizzy matching to look at parameters for all SIR models
required_parameters("SIR")
</code></pre>

<hr>
<h2 id='scenario_analysis'>A Function to Perform Scenario Analysis for a Generic Model Object.</h2><span id='topic+scenario_analysis'></span>

<h3>Description</h3>

<p>This function uses parameter permutations produced by
<code><a href="#topic+generate_parameter_permutations">generate_parameter_permutations</a></code> to simulate from a supplied model function.
It can be used to examine multiple scenarios, with any number of parameter variations, for multiple samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scenario_analysis(
  parameter_df,
  variable_params = NULL,
  model = NULL,
  sim_fn = NULL,
  summary_fn = NULL,
  cores = 1,
  rerun = FALSE,
  verbose = FALSE,
  by_row = FALSE,
  test = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scenario_analysis_+3A_parameter_df">parameter_df</code></td>
<td>
<p>A dataframe of parameter permutations as produced by <code><a href="#topic+generate_parameter_permutations">generate_parameter_permutations</a></code>.
Using the default options it will save results when run for the first time, and afterwards load them in.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_variable_params">variable_params</code></td>
<td>
<p>A character vector containing the names of the parameters that are varied in <code>parameter_df</code>.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_model">model</code></td>
<td>
<p>A model compatible with your <code>sim_fn</code>.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_sim_fn">sim_fn</code></td>
<td>
<p>A generic simulation function, with the first argument as the model object,
a <code>params</code> argument, and a <code>as.data.frame</code> argument.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_summary_fn">summary_fn</code></td>
<td>
<p>A function which accepts a single dataframe argument customised to fit with the standard
output of <code>scenario_analysis</code>  and your <code>simulate_model</code> function. Defaults to <code>NULL</code> for which
no summarisation takes place. Warning: If a previous analysis has been saved, changing this option will not
summarise the result. The analysis must be rerun.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_cores">cores</code></td>
<td>
<p>The number of cores to use for the scenario analysis, defaults to 1.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_rerun">rerun</code></td>
<td>
<p>A logical indicating if the function should be rerun or saved results should be loaded.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_verbose">verbose</code></td>
<td>
<p>Logical (defaults to <code>FALSE</code>) indicating if progress information should be printed to the console.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_by_row">by_row</code></td>
<td>
<p>Logical (defaults to <code>FALSE</code>) indicating if inputted parameters should be inputted as a block to <code>sim_fn</code>
or individually. If <code>TRUE</code> then function will always return a tibble. Does not currently work with sim_fn that produces
multiple simulations for a single parameter set - for this scenario a block based approach or post processing is required.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_test">test</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code>) if <code>TRUE</code> function uses multicore functionality regardless
of the number of cores specified.</p>
</td></tr>
<tr><td><code id="scenario_analysis_+3A_...">...</code></td>
<td>
<p>Pass additional arguments to sim_fn. Only implemented when a single core is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tidy dataframe containing simulated model trajectories for each scenario
varied parameter combination. Use 'tidyr::unnest&ldquo; to examine all simulation results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
scenarios &lt;- data.frame(scenario = c("test_1", "test_2"), scenario_param = c(0, 1))
variable_params &lt;-  data.frame(variable = c(0, 0.5, 1))
fixed_params &lt;- c(fixed_1 = 2, fixed_2 = c(1, 3, 4))
sample_params &lt;- c(sample_1 = 2, sample_2 = c(2, 1))

parameter_df &lt;- generate_parameter_permutations(variable_params, fixed_params, sample_params,
                                                excluded_params = c("variable"), scenarios,
                                                parameter_samples = 10)

## set up dummy simulation function (returning an empty dataframe)
dummy_sim_fn &lt;- function(object, inits, params, times, as.data.frame) {
 x &lt;- tibble::tibble()
 return(x)
}

## Set up dummy summary function
dummy_sum_fn &lt;- function(df){
df &lt;- dplyr::mutate(df, summarised_simulations = simulations)

return(df)
}
dummy_model &lt;- function(){}

## Run scenario analysis
scenario_analysis(parameter_df, variable_params = "variable", model = dummy_model,
                  sim_fn = dummy_sim_fn, cores = 1, summary_fn = dummy_sum_fn)
</code></pre>

<hr>
<h2 id='SEI_demographics_ode'>Susceptible-Exposed-Infected Model with Simple Demographics</h2><span id='topic+SEI_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEI_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEI_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEI_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEI_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
beta &lt;- 3
gamma &lt;- 1/2
mu &lt;- 1/81

parameters &lt;- c(beta = beta, gamma = gamma, mu = mu)
inits &lt;- c(S = S_0, E = E_0, I = I_0)

SEI_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEI_ode'>Susceptible-Exposed-Infected Model</h2><span id='topic+SEI_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEI_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEI_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEI_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEI_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
beta &lt;- 3
gamma = 1/2

parameters &lt;- c(beta = beta, gamma = gamma)
inits &lt;- c(S = S_0, E = E_0, I = I_0)

SEI_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEIR_demographics_ode'>Susceptible-Exposed-Infected-Recovered Model with Simple Demographics</h2><span id='topic+SEIR_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected-Recovered Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEIR_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEIR_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEIR_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEIR_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
gamma &lt;-  1/2
tau &lt;- 2
mu &lt;- 1/81

parameters &lt;- c(beta = beta, gamma = gamma, tau = tau, mu = mu)
inits &lt;- c(S = S_0, E = E_0, I = I_0, R_0 = R_0)

SEIR_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEIR_ode'>Susceptible-Exposed-Infected-Recovered Model</h2><span id='topic+SEIR_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected-Recovered Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEIR_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEIR_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEIR_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEIR_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
gamma &lt;-  1/2
tau &lt;- 2

parameters &lt;- c(beta = beta, gamma = gamma, tau = tau)
inits &lt;- c(S = S_0, E = E_0, I = I_0, R_0 = R_0)

SEIR_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEIRS_demographics_ode'>Susceptible-Exposed-Infected-Recovered-Susceptible Model with Simple Demographics</h2><span id='topic+SEIRS_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected-Recovered-Susceptible Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEIRS_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEIRS_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEIRS_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEIRS_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
gamma &lt;-  1/2
tau &lt;- 2
chi &lt;- 0.5
mu &lt;- 1/81

parameters &lt;- c(beta = beta, gamma = gamma, chi = chi,
                tau = tau, mu = mu)
inits &lt;- c(S = S_0, E = E_0, I = I_0, R_0 = R_0)

SEIRS_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEIRS_ode'>Susceptible-Exposed-Infected-Recovered-Susceptible Model</h2><span id='topic+SEIRS_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected-Recovered-Susceptible Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEIRS_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEIRS_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEIRS_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEIRS_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
gamma &lt;-  1/2
tau &lt;- 2
chi &lt;- 0.5

parameters &lt;- c(beta = beta, gamma = gamma,
                chi = chi, tau = tau)
inits &lt;- c(S = S_0, E = E_0, I = I_0, R_0 = R_0)

SEIRS_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEIS_demographics_ode'>Susceptible-Exposed-Infected-Susceptible Model with Simple Demographics</h2><span id='topic+SEIS_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected-Susceptible Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEIS_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEIS_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEIS_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEIS_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
beta &lt;- 3
chi &lt;- 0.5
gamma &lt;- 1/2
mu &lt;- 1/81
parameters &lt;- c(beta = beta, gamma = gamma,
 chi = chi, mu = mu)
inits &lt;- c(S = S_0, E = E_0, I = I_0)

SEIS_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SEIS_ode'>Susceptible-Exposed-Infected-Susceptible Model</h2><span id='topic+SEIS_ode'></span>

<h3>Description</h3>

<p>Susceptible-Exposed-Infected-Susceptible Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SEIS_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SEIS_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SEIS_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SEIS_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
E_0 &lt;- 10
I_0 &lt;- 1
beta &lt;- 3
chi &lt;- 0.5
gamma = 1/2
parameters &lt;- c(beta = beta, gamma = gamma, chi = chi)
inits &lt;- c(S = S_0, E = E_0, I = I_0)

SEIS_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SHLIR_demographics_ode'>Susceptible-High-risk-latent-Low-risk-latent-Infected-Recovered Model with Simple Demographics</h2><span id='topic+SHLIR_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Recovered Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SHLIR_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLIR_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SHLIR_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SHLIR_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
H_0 &lt;- 10
L_0 &lt;- 0
I_0 &lt;- 1
R_0 &lt;- 0
beta = 3 # Rate of transmission
gamma_H = 1/5 # Rate of progression to active symptoms from high risk latent
nu = 1/2 #Rate of progression from high to low risk latent
gamma_L = 1/100 # Rate of progression to active symptoms for low risk latent
tau = 1/2 # Rate of recovery
mu = 1/81 # Rate of natural mortality
parameters &lt;- c(beta = beta, gamma_H = gamma_H, gamma_L = gamma_L, nu = nu, tau = tau, mu = mu)
inits &lt;- c(S = S_0, H = H_0, L = L_0, I = I_0, R_0 = R_0)

SHLIR_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SHLIR_ode'>Susceptible-High-risk-latent-Low-risk-latent-Infected-Recovered Model</h2><span id='topic+SHLIR_ode'></span>

<h3>Description</h3>

<p>Susceptible-High-risk-latent-Low-risk-latent-Infected-Recovered Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SHLIR_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLIR_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SHLIR_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SHLIR_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
H_0 &lt;- 10
L_0 &lt;- 0
I_0 &lt;- 1
R_0 &lt;- 0
beta = 3 # Rate of transmission
gamma_H = 1/5 # Rate of progression to active symptoms from high risk latent
nu = 1/2 #Rate of progression from high to low risk latent
gamma_L = 1/100 # Rate of progression to active symptoms for low risk latent
tau = 1/2 # Rate of recovery

parameters &lt;- c(beta = beta, gamma_H = gamma_H, gamma_L = gamma_L, nu = nu, tau = tau)
inits &lt;- c(S = S_0, H = H_0, L = L_0, I = I_0, R_0 = R_0)

SHLIR_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SHLITR_demographics_ode'>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model with Simple Demographics</h2><span id='topic+SHLITR_demographics_ode'></span>

<h3>Description</h3>

<p>A more complex SHLIR model flow diagram, treatment,reinfection, and simple demographics for those who have recovered from active disease.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SHLITR_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLITR_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SHLITR_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SHLITR_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## initialise
inits &lt;- c(
# General population
S = 800,
H = 0,
L = 0,
I = 0,
Tr = 0,
R = 0
)

parameters &lt;- c(
beta = 3, # Rate of transmission
gamma_H = 1/5, # Rate of progression to active symptoms from high risk latent
nu = 1/2, #Rate of progression from high to low risk latent
gamma_L = 1/100, # Rate of progression to active symptoms for low risk latent
epsilon = 1/3, # Rate of treatment
tau = 1/2, # Rate of recovery
mu = 1/81 # Rate of natural mortality
)

SHLITR_demographics_ode(1, inits, parameters)

</code></pre>

<hr>
<h2 id='SHLITR_ode'>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model</h2><span id='topic+SHLITR_ode'></span>

<h3>Description</h3>

<p>A more complex SHLIR model flow diagram, treatment, and reinfection for those who have recovered from active disease.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SHLITR_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLITR_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SHLITR_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SHLITR_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## initialise
inits &lt;- c(
# General population
S = 800,
H = 0,
L = 0,
I = 0,
Tr = 0,
R = 0
)

parameters &lt;- c(
beta = 3, # Rate of transmission
gamma_H = 1/5, # Rate of progression to active symptoms from high risk latent
nu = 1/2, #Rate of progression from high to low risk latent
gamma_L = 1/100, # Rate of progression to active symptoms for low risk latent
epsilon = 1/3, # Rate of treatment
tau = 1/2 # Rate of recovery
)

SHLITR_ode(1, inits, parameters)

</code></pre>

<hr>
<h2 id='SHLITR_risk_demographics_ode'>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model with Demographics, Stratified by Risk</h2><span id='topic+SHLITR_risk_demographics_ode'></span>

<h3>Description</h3>

<p>A more complex SHLIR model flow diagram, with risk groups, treatment, and reinfection for those who have recovered from active disease
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SHLITR_risk_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLITR_risk_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SHLITR_risk_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SHLITR_risk_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## initialise
inits &lt;- c(
# General population
S = 800,
H = 0,
L = 0,
I = 0,
Tr = 0,
R = 0,
## High risk population
S_H = 199,
H_H = 0,
L_H = 0,
I_H = 1,
Tr_H = 0,
R_H = 0
)

parameters &lt;- c(
beta = 3, # Rate of transmission
beta_H = 6, # High risk rate of transmission
gamma_H = 1/5, # Rate of progression to active symptoms from high risk latent
nu = 1/2, #Rate of progression from high to low risk latent
gamma_L = 1/100, # Rate of progression to active symptoms for low risk latent
epsilon = 1/3, # Rate of treatment
tau = 1/2, # Rate of recovery
mu = 1/81, # Rate of natural mortality
p = 0.2, # proportion of new births that are high risk
M = 0.2 # Between group mixing
)

SHLITR_risk_demographics_ode(1, inits, parameters)

</code></pre>

<hr>
<h2 id='SHLITR_risk_ode'>Susceptible-High-risk-latent-Low-risk-latent-Infected-Treated-Recovered Model, Stratified by Risk</h2><span id='topic+SHLITR_risk_ode'></span>

<h3>Description</h3>

<p>A more complex SHLIR model flow diagram, with risk groups, treatment, and reinfection for those who have recovered from active disease
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SHLITR_risk_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLITR_risk_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SHLITR_risk_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SHLITR_risk_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## initialise
inits &lt;- c(
# General population
S = 800,
H = 0,
L = 0,
I = 0,
Tr = 0,
R = 0,
## High risk population
S_H = 199,
H_H = 0,
L_H = 0,
I_H = 1,
Tr_H = 0,
R_H = 0
)

parameters &lt;- c(
beta = 3, # Rate of transmission
beta_H = 6, # High risk rate of transmission
gamma_H = 1/5, # Rate of progression to active symptoms from high risk latent
nu = 1/2, #Rate of progression from high to low risk latent
gamma_L = 1/100, # Rate of progression to active symptoms for low risk latent
epsilon = 1/3, # Rate of treatment
tau = 1/2, # Rate of recovery
M = 0.2 # Between group mixing
)

SHLITR_risk_ode(1, inits, parameters)

</code></pre>

<hr>
<h2 id='SI_demographics_ode'>Susceptible-Infected Model with Simple Demographics</h2><span id='topic+SI_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SI_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SI_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SI_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SI_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 999
I_0 &lt;- 1
beta &lt;- 3
mu &lt;- 1/81

parameters &lt;- c(beta = beta, mu = mu)
inits &lt;- c(S = S_0, I = I_0)

SI_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SI_ode'>Susceptible-Infected Model</h2><span id='topic+SI_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SI_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SI_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SI_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SI_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 999
I_0 &lt;- 1
beta &lt;- 3
parameters &lt;- c(beta = beta)
inits &lt;- c(S = S_0, I = I_0)

SI_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='simulate_model'>A Function to Simulate a Model from a Generic Simulation Function, with Pre and Post Processing</h2><span id='topic+simulate_model'></span>

<h3>Description</h3>

<p>A Function to Simulate a Model from a Generic Simulation Function, with Pre and Post Processing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_model(
  model,
  sim_fn,
  inits = NULL,
  params = NULL,
  times = NULL,
  as_tibble = TRUE,
  by_row = FALSE,
  aggregate_to = NULL,
  compartments = NULL,
  strat = NULL,
  hold_out_var = NULL,
  new_var = "incidence",
  total_pop = TRUE,
  summary_var = FALSE,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulate_model_+3A_model">model</code></td>
<td>
<p>A model compatible with your <code>sim_fn</code>.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_sim_fn">sim_fn</code></td>
<td>
<p>A generic simulation function, with the first argument as the model object,
a <code>params</code> argument, and a <code>as.data.frame</code> argument.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_inits">inits</code></td>
<td>
<p>A dataframe of initial conditions, optionally a named vector can be used.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_params">params</code></td>
<td>
<p>A dataframe of parameters, with each parameter as a variable. Optionally a named vector can be used.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_times">times</code></td>
<td>
<p>A vector of the times to sample the model for, from a starting time to a final time.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Logical (defaults to <code>TRUE</code>) indicating if the output
should be returned as a tibble, otherwise returned as the default <code>sim_fn</code> output.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_by_row">by_row</code></td>
<td>
<p>Logical (defaults to <code>FALSE</code>) indicating if inputted parameters should be inputted as a block to <code>sim_fn</code>
or individually. If <code>TRUE</code> then function will always return a tibble. Does not currently work with sim_fn that produces
multiple simulations for a single parameter set - for this scenario a block based approach or post processing is required.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_aggregate_to">aggregate_to</code></td>
<td>
<p>A character vector or list specifying the aggregation operations to perform on the
model output. Operations are carried out in the order specified. Implemented options are; disease, demographic,
and incidence.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_compartments">compartments</code></td>
<td>
<p>A character vector or list specifying the unique compartments to aggregate. May either be
specified once for all aggregation functions or for each function separately.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_strat">strat</code></td>
<td>
<p>The number of stratified groups in the model.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_hold_out_var">hold_out_var</code></td>
<td>
<p>A character vector or list specifying the unique compartments that will not be aggregated. May either be
specified once for all aggregation functions or for each function separately. If compartments is set then this argument does
not need to be used.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_new_var">new_var</code></td>
<td>
<p>A character vector specifying the new variable to add when aggregating incidence.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_total_pop">total_pop</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) indicating if the total population should be
calculated when summarising the model demographics.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_summary_var">summary_var</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code>), specifying whether to add an additional summary variable across
all stratified levels.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_verbose">verbose</code></td>
<td>
<p>Logical (defaults to <code>FALSE</code>) indicating if progress information should be printed to the console.</p>
</td></tr>
<tr><td><code id="simulate_model_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code>sim_fn</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Trajectories as a tibble, optionally returns the default <code>sim_fn</code> output.
</p>


<h3>See Also</h3>

<p>aggregate_model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Intialise
N = 100000
I_0 = 1
S_0 = N - I_0
R_0 = 1.1
beta = R_0

##Time for model to run over
tbegin = 0
tend = 50
times &lt;- seq(tbegin, tend, 1)

##Vectorise input
parameters &lt;- data.frame(beta = beta)
inits &lt;- data.frame(S = S_0, I = I_0)

SI_sim &lt;- simulate_model(model = SI_ode, sim_fn = solve_ode, inits, parameters, times)
</code></pre>

<hr>
<h2 id='SIR_demographics_ode'>Susceptible-Infected-Recovered Model with Simple Demographics</h2><span id='topic+SIR_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIR_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIR_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIR_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIR_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
tau &lt;- 2
mu &lt;- 1/81


parameters &lt;- c(beta = beta, tau = tau, mu = mu)
inits &lt;- c(S = S_0, I = I_0, R_0 = R_0)

SIR_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIR_ode'>Susceptible-Infected-Recovered Model</h2><span id='topic+SIR_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIR_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIR_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIR_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIR_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
tau &lt;- 2

parameters &lt;- c(beta = beta, tau = tau)
inits &lt;- c(S = S_0, I = I_0, R_0 = R_0)

SIR_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIR_vaccination_demographics_ode'>Susceptible-Infected-Recovered Model with Simple Demographics and Vaccination</h2><span id='topic+SIR_vaccination_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered Model with Simple Demographics and Vaccination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIR_vaccination_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIR_vaccination_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIR_vaccination_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIR_vaccination_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_u_0 &lt;- 989
I_u_0 &lt;- 1
R_u_0 &lt;- 0
S_v_0 &lt;- 0
I_v_0 &lt;- 0
R_v_0 &lt;- 0
beta &lt;- 3
tau &lt;- 2
mu &lt;- 1/81
alpha &lt;- 0.8
lambda &lt;- 0.7

parameters &lt;- c(beta = beta, tau = tau, mu = mu,
                alpha = 0.8, lambda = 0.7)
inits &lt;- c(S_u = S_u_0, I_u = I_u_0, R_u_0 = R_u_0,
           S_v = S_v_0, I_v = I_v_0, R_v_0 = R_v_0)

SIR_vaccination_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIR_vaccination_ode'>Susceptible-Infected-Recovered Model with Vaccination</h2><span id='topic+SIR_vaccination_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered Model with Vaccination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIR_vaccination_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIR_vaccination_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIR_vaccination_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIR_vaccination_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_u_0 &lt;- 989
I_u_0 &lt;- 1
R_u_0 &lt;- 0
S_v_0 &lt;- 0
I_v_0 &lt;- 0
R_v_0 &lt;- 0
beta &lt;- 3
tau &lt;- 2
lambda &lt;- 0.7

parameters &lt;- c(beta = beta, tau = tau,
                lambda = 0.7)
inits &lt;- c(S_u = S_u_0, I_u = I_u_0, R_u_0 = R_u_0,
           S_v = S_v_0, I_v = I_v_0, R_v_0 = R_v_0)

SIR_vaccination_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIRS_demographics_ode'>Susceptible-Infected-Recovered-Susceptible Model with Simple Demographics</h2><span id='topic+SIRS_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered-Susceptible Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIRS_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIRS_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIRS_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIRS_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
chi &lt;- 0.5
tau &lt;- 2
mu &lt;- 1/81
dt &lt;- 1

parameters &lt;- c(beta = beta, tau = tau, mu = mu)
inits &lt;- c(S = S_0, I = I_0, R_0 = R_0)

SIRS_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIRS_ode'>Susceptible-Infected-Recovered-Susceptible Model</h2><span id='topic+SIRS_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered-Susceptible Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIRS_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIRS_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIRS_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIRS_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 989
I_0 &lt;- 1
R_0 &lt;- 0
beta &lt;- 3
chi &lt;- 0.5
tau &lt;- 2
dt &lt;- 1

parameters &lt;- c(beta = beta, tau = tau, chi = chi)
inits &lt;- c(S = S_0, I = I_0, R_0 = R_0)

SIRS_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIRS_vaccination_demographics_ode'>Susceptible-Infected-Recovered-Susceptible Model with Simple Demographics and Vaccination</h2><span id='topic+SIRS_vaccination_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered-Susceptible Model with Simple Demographics and Vaccination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIRS_vaccination_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIRS_vaccination_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIRS_vaccination_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIRS_vaccination_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_u_0 &lt;- 989
I_u_0 &lt;- 1
R_u_0 &lt;- 0
S_v_0 &lt;- 0
I_v_0 &lt;- 0
R_v_0 &lt;- 0
beta &lt;- 3
tau &lt;- 2
chi &lt;- 0.5
mu &lt;- 1/81
alpha &lt;- 0.8
lambda &lt;- 0.7
dt &lt;- 1

parameters &lt;- c(beta = beta, tau = tau, mu = mu,
                alpha = 0.8, lambda = 0.7)
inits &lt;- c(S_u = S_u_0, I_u = I_u_0, R_u_0 = R_u_0,
           S_v = S_v_0, I_v = I_v_0, R_v_0 = R_v_0)

SIRS_vaccination_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIRS_vaccination_ode'>Susceptible-Infected-Recovered-Susceptible Model with Vaccination</h2><span id='topic+SIRS_vaccination_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Recovered-Susceptible Model with Vaccination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIRS_vaccination_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIRS_vaccination_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIRS_vaccination_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIRS_vaccination_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_u_0 &lt;- 989
I_u_0 &lt;- 1
R_u_0 &lt;- 0
S_v_0 &lt;- 0
I_v_0 &lt;- 0
R_v_0 &lt;- 0
beta &lt;- 3
chi &lt;- 0.5
tau &lt;- 2
lambda &lt;- 0.7
dt &lt;- 1

parameters &lt;- c(beta = beta, tau = tau,
                chi = chi, lambda = 0.7)
inits &lt;- c(S_u = S_u_0, I_u = I_u_0, R_u_0 = R_u_0,
           S_v = S_v_0, I_v = I_v_0, R_v_0 = R_v_0)

SIRS_vaccination_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIS_demographics_ode'>Susceptible-Infected-Susceptible Model with Simple Demographics</h2><span id='topic+SIS_demographics_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Susceptible Model with Simple Demographics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIS_demographics_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIS_demographics_ode_+3A_t">t</code></td>
<td>
<p>The timestep over which to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIS_demographics_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIS_demographics_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 999
I_0 &lt;- 1
beta &lt;- 3
chi &lt;- 2
mu &lt;- 1/81
dt &lt;- 1
parameters &lt;- c(beta = beta, mu = mu)
inits &lt;- c(S = S_0, I = I_0)

SIS_demographics_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='SIS_ode'>Susceptible-Infected-Susceptible Model</h2><span id='topic+SIS_ode'></span>

<h3>Description</h3>

<p>Susceptible-Infected-Susceptible Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIS_ode(t, x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIS_ode_+3A_t">t</code></td>
<td>
<p>The timestep overwhich to calculate derivatives</p>
</td></tr>
<tr><td><code id="SIS_ode_+3A_x">x</code></td>
<td>
<p>A numeric vector of compartment populations.</p>
</td></tr>
<tr><td><code id="SIS_ode_+3A_params">params</code></td>
<td>
<p>A named vector of parameter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of derivatives
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Model Input
S_0 &lt;- 999
I_0 &lt;- 1
beta &lt;- 3
chi &lt;- 2
parameters &lt;- c(beta = beta, chi = chi)
inits &lt;- c(S = S_0, I = I_0)

SIS_ode(1, inits, parameters)
</code></pre>

<hr>
<h2 id='solve_ode'>A Simple Wrapper for lsoda</h2><span id='topic+solve_ode'></span>

<h3>Description</h3>

<p>This function acts as a simple wrapper for lsoda, allowing for multiple parameter sets and
initial conditions. It also allows <code><a href="deSolve.html#topic+lsoda">lsoda</a></code> to be used within the idmodelr framework.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>solve_ode(
  model = NULL,
  inits = NULL,
  params = NULL,
  times = NULL,
  as.data.frame = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solve_ode_+3A_model">model</code></td>
<td>
<p>A model formatted as required by <code><a href="deSolve.html#topic+lsoda">lsoda</a></code>, see <code><a href="#topic+SI_ode">SI_ode</a></code> for an example.</p>
</td></tr>
<tr><td><code id="solve_ode_+3A_inits">inits</code></td>
<td>
<p>The initial state (states) of the model. Can either be supplied as a named vector or as a matrix with each
row representing a parameter.</p>
</td></tr>
<tr><td><code id="solve_ode_+3A_params">params</code></td>
<td>
<p>A named vector or matrix of parameters. The matrix must have a row for each parameter and if <code>inits</code> is specified
as a matrix then <code>params</code> must have the same number of columns</p>
</td></tr>
<tr><td><code id="solve_ode_+3A_times">times</code></td>
<td>
<p>A numeric vector of the times for which explicit model estimates are required, this does not effect
the timestep used by the solver</p>
</td></tr>
<tr><td><code id="solve_ode_+3A_as.data.frame">as.data.frame</code></td>
<td>
<p>A logical (defaults to <code>TRUE</code>) indicating if the results should be returned as a data frame.</p>
</td></tr>
<tr><td><code id="solve_ode_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="deSolve.html#topic+lsoda">lsoda</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe or lsoda object containing a single or multiple model trajectories
</p>


<h3>See Also</h3>

<p><code><a href="deSolve.html#topic+lsoda">lsoda</a></code> <code><a href="#topic+SI_ode">SI_ode</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Intialise
N = 100000
I_0 = 1
S_0 = N - I_0
R_0 = 1.1
beta = R_0

##Time for model to run over
tbegin = 0
tend = 50
times &lt;- seq(tbegin, tend, 1)

##Vectorise input
parameters &lt;- as.matrix(c(beta = beta))
inits &lt;- as.matrix(c(S = S_0, I = I_0))

solve_ode(model = SI_ode, inits, parameters, times, as.data.frame = TRUE)
</code></pre>

<hr>
<h2 id='summarise_model'>Summarise a Model Simulation</h2><span id='topic+summarise_model'></span>

<h3>Description</h3>

<p>Provides simple summary statistics for a model produced using
<code><a href="#topic+solve_ode">solve_ode</a></code>. These include the final population
sizes, the time and size of the maximum epidemic peak, and the duration of
the epidemic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_model(sim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarise_model_+3A_sim">sim</code></td>
<td>
<p>A tibble of model output as produced by
<code><a href="#topic+solve_ode">solve_ode</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of summary information for a model simulation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Intialise
N = 100000
I_0 = 1
S_0 = N - I_0
R_0 = 1.1
beta = R_0

##Time for model to run over
tbegin = 0
tend = 50
times &lt;- seq(tbegin, tend, 1)

##Vectorise input
parameters &lt;- as.matrix(c(beta = beta))
inits &lt;- as.matrix(c(S = S_0, I = I_0))

sim &lt;- solve_ode(model = SI_ode, inits, parameters, times, as.data.frame = TRUE)

summarise_model(sim)
</code></pre>

<hr>
<h2 id='summarise_strat_var'>Sum a Stratified Variable</h2><span id='topic+summarise_strat_var'></span>

<h3>Description</h3>

<p>Sum a Stratified Variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_strat_var(df, vars, strat = NULL, new_var = "sum")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarise_strat_var_+3A_df">df</code></td>
<td>
<p>A dataframe of model output.</p>
</td></tr>
<tr><td><code id="summarise_strat_var_+3A_vars">vars</code></td>
<td>
<p>A character vector containing the unstratified variables to summarise</p>
</td></tr>
<tr><td><code id="summarise_strat_var_+3A_strat">strat</code></td>
<td>
<p>The number of stratifications present in the data set</p>
</td></tr>
<tr><td><code id="summarise_strat_var_+3A_new_var">new_var</code></td>
<td>
<p>The name of the summarised variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the original dataframe with an additional summarised variable
</p>


<h3>See Also</h3>

<p>summarise_var_by_strat
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- dplyr::mutate(iris, Petal.Length1 = Petal.Length, Petal.Length2 = Petal.Length)
df &lt;- tibble::as_tibble(df)

summarise_strat_var(df, vars = c("Petal.Length"), strat = 2, new_var = "sum")
</code></pre>

<hr>
<h2 id='summarise_var_by_strat'>Sum a Stratified Variable by Stratification Level</h2><span id='topic+summarise_var_by_strat'></span>

<h3>Description</h3>

<p>Sum a Stratified Variable by Stratification Level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_var_by_strat(df, vars, strat = NULL, new_var, summary_var = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarise_var_by_strat_+3A_df">df</code></td>
<td>
<p>A dataframe of model output.</p>
</td></tr>
<tr><td><code id="summarise_var_by_strat_+3A_vars">vars</code></td>
<td>
<p>A character vector containing the unstratified variables to summarise</p>
</td></tr>
<tr><td><code id="summarise_var_by_strat_+3A_strat">strat</code></td>
<td>
<p>The number of stratifications present in the data set</p>
</td></tr>
<tr><td><code id="summarise_var_by_strat_+3A_new_var">new_var</code></td>
<td>
<p>The name of the summarised variable</p>
</td></tr>
<tr><td><code id="summarise_var_by_strat_+3A_summary_var">summary_var</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code>), specifying whether to add an additional summary variable across
all stratified levels when aggregating incidence.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes compartmental infectious disease output and adds summary statistics for
each stratified population, optionally adding a final summary statistic for the whole population.
</p>


<h3>Value</h3>

<p>An updated data frame containing the summarised variable for each stratified level
and for the whole population.
</p>


<h3>See Also</h3>

<p>summarise_var_by_strat
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(A = 1, B = 2)
summarise_var_by_strat(df, vars = c("A", "B"), new_var = "C")

df &lt;- data.frame(A1 = 1, B1 = 1, A2 = 1, B2 = 1, A3 = 1, B3 = 1)
summarise_var_by_strat(df, vars = c("A", "B"), strat = 3, new_var = "C")
summarise_var_by_strat(df, vars = c("A", "B"), strat = 3, new_var = "C", summary_var = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

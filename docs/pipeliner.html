<!DOCTYPE html><html lang="en"><head><title>Help for package pipeliner</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pipeliner}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pipeliner'><p>pipeliner: machine learning pipelines for R</p></a></li>
<li><a href='#cbind_fast'><p>Faster alternative to <code>cbind_fast</code></p></a></li>
<li><a href='#check_data_frame_throw_error'><p>Validate ml_pipeline_builder transform method returns data.frame</p></a></li>
<li><a href='#check_predict_method_throw_error'><p>Validate estimate_model method returns an object with a <code>predict</code> method defined</p></a></li>
<li><a href='#check_unary_func_throw_error'><p>Validate ml_pipeline_builder transform method is a unary function</p></a></li>
<li><a href='#estimate_model'><p>Estimate machine learning model</p></a></li>
<li><a href='#func_error_handler'><p>Custom error handler for printing the name of an enclosing function with error</p></a></li>
<li><a href='#inv_transform_response'><p>Inverse transform machine learning response variable</p></a></li>
<li><a href='#ml_pipline_builder'><p>Build machine learning pipelines - object oriented API</p></a></li>
<li><a href='#pipeline'><p>Build machine learning pipelines - functional API</p></a></li>
<li><a href='#predict_model'><p>Generate machine learning model prediction</p></a></li>
<li><a href='#predict.ml_pipeline'><p>Predict method for ML pipelines</p></a></li>
<li><a href='#process_transform_throw_error'><p>Validate and clean transform function output</p></a></li>
<li><a href='#transform_features'><p>Transform machine learning feature variables</p></a></li>
<li><a href='#transform_response'><p>Transform machine learning response variable</p></a></li>
<li><a href='#try_pipeline_func_call'><p>Custom tryCatch configuration for pipeline segment segment functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Title:</td>
<td>Machine Learning Pipelines for R</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-12-16</td>
</tr>
<tr>
<td>Author:</td>
<td>Alex Ioannides</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alex Ioannides &lt;alex.ioannides@yahoo.co.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A framework for defining 'pipelines' of functions for applying data transformations, 
  model estimation and inverse-transformations, resulting in predicted value generation (or 
  model-scoring) functions that automatically apply the entire pipeline of functions required to go
  from input to predicted output.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alexioannides/pipeliner">https://github.com/alexioannides/pipeliner</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/alexioannides/pipeliner/issues">https://github.com/alexioannides/pipeliner/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat, rmarkdown, modelr, tidyverse</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-12-19 14:10:19 UTC; alexioannides</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-12-19 15:56:03</td>
</tr>
</table>
<hr>
<h2 id='pipeliner'>pipeliner: machine learning pipelines for R</h2><span id='topic+pipeliner'></span><span id='topic+pipeliner-package'></span>

<h3>Description</h3>

<p>Allows you to define, fit and predict machine learning pipelines.
</p>

<hr>
<h2 id='cbind_fast'>Faster alternative to <code>cbind_fast</code></h2><span id='topic+cbind_fast'></span>

<h3>Description</h3>

<p>This is not as 'safe' as using <code>cbind_fast</code> - for example, if <code>df1</code> has columns with the
same name as columns in <code>df2</code>, then they will be over-written.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cbind_fast(df1, df2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cbind_fast_+3A_df1">df1</code></td>
<td>
<p>A data.frame.</p>
</td></tr>
<tr><td><code id="cbind_fast_+3A_df2">df2</code></td>
<td>
<p>Another data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame equal to <code>df1</code> with the columns of <code>df2</code> appended.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df1 &lt;- data.frame(x = 1:5, y = 1:5 * 0.1)
df2 &lt;- data.frame(a = 6:10, b = 6:10 * 0.25)
df3 &lt;- cbind_fast(df1, df2)
df3
#   x   y  a    b
# 1 1 0.1  6 1.50
# 2 2 0.2  7 1.75
# 3 3 0.3  8 2.00
# 4 4 0.4  9 2.25
# 5 5 0.5 10 2.50

## End(Not run)
</code></pre>

<hr>
<h2 id='check_data_frame_throw_error'>Validate ml_pipeline_builder transform method returns data.frame</h2><span id='topic+check_data_frame_throw_error'></span>

<h3>Description</h3>

<p>Helper function that checks if the object returned from a <code>ml_pipeline_builder</code> method is
data.frame (if it isn't NULL), and if it isn't, throws an error that is customised with the
returning name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_data_frame_throw_error(func_return_object, func_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_data_frame_throw_error_+3A_func_return_object">func_return_object</code></td>
<td>
<p>The object returned from a <code>ml_pipeline_builder</code> method.</p>
</td></tr>
<tr><td><code id="check_data_frame_throw_error_+3A_func_name">func_name</code></td>
<td>
<p>The name of the function that returned the object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
transform_method &lt;- function(df) df
data &lt;- data.frame(y = c(1, 2), x = c(0.1, 0.2))
data_transformed &lt;- transform_method(data)
check_data_frame_throw_error(data_transformed, "transform_method")
# NULL

## End(Not run)
</code></pre>

<hr>
<h2 id='check_predict_method_throw_error'>Validate estimate_model method returns an object with a <code>predict</code> method defined</h2><span id='topic+check_predict_method_throw_error'></span>

<h3>Description</h3>

<p>Helper function that checks if the object returned from the <code>estimate_model</code> method has
a <code>predict</code> method defined for it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_predict_method_throw_error(func_return_object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_predict_method_throw_error_+3A_func_return_object">func_return_object</code></td>
<td>
<p>The object returned from the <code>estimate_model</code> method.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
estimation_method &lt;- function(df) lm(eruptions ~ 0 + waiting, df)
data &lt;- faithful
model_estimate &lt;- estimation_method(data)
check_predict_method_throw_error(model_estimate)
# NULL

## End(Not run)
</code></pre>

<hr>
<h2 id='check_unary_func_throw_error'>Validate ml_pipeline_builder transform method is a unary function</h2><span id='topic+check_unary_func_throw_error'></span>

<h3>Description</h3>

<p>Helper function that checks if a <code>ml_pipeline_builder</code> method is unary function (if it
isn't a NULL returning function), and if it isn't, throws an error that is customised with the
method function name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_unary_func_throw_error(func, func_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_unary_func_throw_error_+3A_func">func</code></td>
<td>
<p>A <code>ml_pipeline_builder</code> method.</p>
</td></tr>
<tr><td><code id="check_unary_func_throw_error_+3A_func_name">func_name</code></td>
<td>
<p>The name of the <code>ml_pipeline_builder</code> method.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
transform_method &lt;- function(df) df
check_unary_func_throw_error(transform_method, "transform_method")
# NULL

## End(Not run)
</code></pre>

<hr>
<h2 id='estimate_model'>Estimate machine learning model</h2><span id='topic+estimate_model'></span>

<h3>Description</h3>

<p>A function that takes as its arguement another function defining how a machine learning model
should be estimated based on the variables available in the input data frame. This function is
wrapped (or adapted) for use within a machine learning pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimate_model(.f)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimate_model_+3A_.f">.f</code></td>
<td>
<p>A unary function of a data.frame that returns a fitted model object, which must have
a <code>predict.{model-class}</code> defined and available in the enclosing environment. An error will
be thrown if any of these criteria are not met.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A unary function of a data.frame that returns a fitted model object that has a
<code>predict.{model-class}</code> defined This function is assigned the classes
<code>"estimate_model"</code> and <code>"ml_pipeline_section"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- head(faithful)
f &lt;- estimate_model(function(df) {
  lm(eruptions ~ 1 + waiting, df)
})

f(data)
# Call:
#   lm(formula = eruptions ~ 1 + waiting, data = df)
#
# Coefficients:
# (Intercept)      waiting
#    -1.53317      0.06756
</code></pre>

<hr>
<h2 id='func_error_handler'>Custom error handler for printing the name of an enclosing function with error</h2><span id='topic+func_error_handler'></span>

<h3>Description</h3>

<p>Custom error handler for printing the name of an enclosing function with error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>func_error_handler(e, calling_func)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="func_error_handler_+3A_e">e</code></td>
<td>
<p>A <code>simpleError</code> - e.g. thrown from <code>tryCatch</code></p>
</td></tr>
<tr><td><code id="func_error_handler_+3A_calling_func">calling_func</code></td>
<td>
<p>A character string naming the enclosing function (or closure) for printing
with error messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL - throws error with custom message
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
f &lt;- function(x) x ^ 2
tryCatch(f("a"), error = function(e) func_error_handler(e, "f"))
# Error in x^2 : non-numeric argument to binary operator
# ---&gt; called from within function: f

## End(Not run)
</code></pre>

<hr>
<h2 id='inv_transform_response'>Inverse transform machine learning response variable</h2><span id='topic+inv_transform_response'></span>

<h3>Description</h3>

<p>A function that takes as its arguement another function defining a inverse response variable
transformation, and wraps (or adapts) it for use within a machine learning pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inv_transform_response(.f)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inv_transform_response_+3A_.f">.f</code></td>
<td>
<p>A unary function of a data.frame that returns a new data.frame containing only the
inverse transformed response variable. An error will be thrown if this is not the case.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A unary function of a data.frame that returns the input data.frame with the inverse
transformed response variable column appended. This function is assigned the classes
<code>"inv_transform_response"</code> and <code>"ml_pipeline_section"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- head(faithful)
f1 &lt;- transform_response(function(df) {
  data.frame(y = (df$eruptions - mean(df$eruptions)) / sd(df$eruptions))
})
f2 &lt;- inv_transform_response(function(df) {
  data.frame(eruptions2 = df$y * sd(df$eruptions) + mean(df$eruptions))
})

f2(f1(data))
#   eruptions waiting          y eruptions2
# 1     3.600      79  0.5412808      3.600
# 2     1.800      54 -1.3039946      1.800
# 3     3.333      74  0.2675649      3.333
# 4     2.283      62 -0.8088457      2.283
# 5     4.533      85  1.4977485      4.533
# 6     2.883      55 -0.1937539      2.883
</code></pre>

<hr>
<h2 id='ml_pipline_builder'>Build machine learning pipelines - object oriented API</h2><span id='topic+ml_pipline_builder'></span>

<h3>Description</h3>

<p>Building machine learning models often requires pre- and post-transformation of the input and/or
response variables, prior to training (or fitting) the models. For example, a model may require
training on the logarithm of the response and input variables. As a consequence, fitting and
then generating predictions from these models requires repeated application of transformation and
inverse-transormation functions, to go from the original input to original output variables (via
the model).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ml_pipline_builder()
</code></pre>


<h3>Details</h3>

<p>This function produces an object in which it is possible to: define transformation and
inverse-transformation functions; fit a model on training data; and then generate a prediction
(or model-scoring) function that automatically applies the entire pipeline of transformation and
inverse-transformation to the inputs and outputs of the inner-model's predicted scores.
</p>
<p>Calling <code>ml_pipline_builder()</code> will return an 'ml_pipeline' object (actually an environment
or closure), whose methods can be accessed as one would access any element of a list. For example,
<code>ml_pipline_builder()$transform_features</code> will allow you to get or set the
<code>transform_features</code> function to use the pipeline. The full list of methods for defining
sections of the pipeline (documented elsewhere) are:
</p>

<ul>
<li> <p><code>transform_features</code>;
</p>
</li>
<li> <p><code>transform_response</code>;
</p>
</li>
<li> <p><code>inv_transform_response</code>; and,
</p>
</li>
<li> <p><code>estimate_model</code>;
</p>
</li></ul>

<p>The pipeline can be fit, prediction generated and the inner model accessed using the following
methods:
</p>

<ul>
<li> <p><code>fit(.data)</code>;
</p>
</li>
<li> <p><code>predict(.data)</code>; and,
</p>
</li>
<li> <p><code>model_estimate()</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>An object of class <code>ml_pipeline</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+transform_features">transform_features</a></code>, <code><a href="#topic+transform_response">transform_response</a></code>,
<code><a href="#topic+estimate_model">estimate_model</a></code> and <code><a href="#topic+inv_transform_response">inv_transform_response</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- faithful

lm_pipeline &lt;- ml_pipline_builder()

lm_pipeline$transform_features(function(df) {
  data.frame(x1 = (df$waiting - mean(df$waiting)) / sd(df$waiting))
})

lm_pipeline$transform_response(function(df) {
  data.frame(y = (df$eruptions - mean(df$eruptions)) / sd(df$eruptions))
})

lm_pipeline$inv_transform_response(function(df) {
  data.frame(pred_eruptions = df$pred_model * sd(df$eruptions) + mean(df$eruptions))
})

lm_pipeline$estimate_model(function(df) {
  lm(y ~ 0 + x1, df)
})

lm_pipeline$fit(data)
head(lm_pipeline$predict(data))
#    eruptions waiting         x1 pred_model pred_eruptions
#  1     3.600      79  0.5960248  0.5369058       4.100592
#  2     1.800      54 -1.2428901 -1.1196093       2.209893
#  3     3.333      74  0.2282418  0.2056028       3.722452
#  4     2.283      62 -0.6544374 -0.5895245       2.814917
#  5     4.533      85  1.0373644  0.9344694       4.554360
#  6     2.883      55 -1.1693335 -1.0533487       2.285521

</code></pre>

<hr>
<h2 id='pipeline'>Build machine learning pipelines - functional API</h2><span id='topic+pipeline'></span>

<h3>Description</h3>

<p>Building machine learning models often requires pre- and post-transformation of the input and/or
response variables, prior to training (or fitting) the models. For example, a model may require
training on the logarithm of the response and input variables. As a consequence, fitting and
then generating predictions from these models requires repeated application of transformation and
inverse-transormation functions, to go from the original input to original output variables (via
the model).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pipeline(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pipeline_+3A_.data">.data</code></td>
<td>
<p>A data.frame containing the input variables required to fit the pipeline.</p>
</td></tr>
<tr><td><code id="pipeline_+3A_...">...</code></td>
<td>
<p>Functions of class <code>"ml_pipeline_section"</code> - e.g. <code>transform_features()</code>,
<code>transform_response()</code>, <code>inv_transform_response()</code> or <code>estimate_model()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function that takes individual pipeline sections - functions with class
<code>"ml_pipeline_section"</code> - together with the data required to estimate the inner models,
returning a machine pipeline capable of predicting (scoring) data end-to-end, without having to
repeatedly apply input variable (feature and response) transformation and their inverses.
</p>


<h3>Value</h3>

<p>A <code>"ml_pipeline"</code> object contaiing the pipeline prediction function
<code>ml_pipeline$predict()</code> and the estimated machine learning model nested within it
<code>ml_pipeline$inner_model()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- faithful

lm_pipeline &lt;-
  pipeline(
    data,
    transform_features(function(df) {
      data.frame(x1 = (df$waiting - mean(df$waiting)) / sd(df$waiting))
    }),

    transform_response(function(df) {
      data.frame(y = (df$eruptions - mean(df$eruptions)) / sd(df$eruptions))
    }),

    estimate_model(function(df) {
      lm(y ~ 1 + x1, df)
    }),

    inv_transform_response(function(df) {
      data.frame(pred_eruptions = df$pred_model * sd(df$eruptions) + mean(df$eruptions))
    })
  )
</code></pre>

<hr>
<h2 id='predict_model'>Generate machine learning model prediction</h2><span id='topic+predict_model'></span>

<h3>Description</h3>

<p>A helper function that takes as its arguement an estimated machine learning model and returns a
prediction function for use within a machine learning pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_model(.m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict_model_+3A_.m">.m</code></td>
<td>
<p>An estimated machine lerning model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A unary function of a data.frame that returns the input data.frame with the predicted
response variable column appended. This function is assigned the classes
<code>"predict_model"</code> and <code>"ml_pipeline_section"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data &lt;- head(faithful)
m &lt;- estimate_model(function(df) {
  lm(eruptions ~ 1 + waiting, df)
})

predict_model(m(data))(data, "pred_eruptions")
#   eruptions waiting pred_eruptions
# 1     3.600      79       3.803874
# 2     1.800      54       2.114934
# 3     3.333      74       3.466086
# 4     2.283      62       2.655395
# 5     4.533      85       4.209219
# 6     2.883      55       2.182492

## End(Not run)
</code></pre>

<hr>
<h2 id='predict.ml_pipeline'>Predict method for ML pipelines</h2><span id='topic+predict.ml_pipeline'></span>

<h3>Description</h3>

<p>Predict method for ML pipelines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ml_pipeline'
predict(object, data, verbose = FALSE,
  pred_var = "pred_model", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.ml_pipeline_+3A_object">object</code></td>
<td>
<p>An estimated pipleine object of class <code>ml_pipeline</code>.</p>
</td></tr>
<tr><td><code id="predict.ml_pipeline_+3A_data">data</code></td>
<td>
<p>A data.frame in which to look for input variables with which to predict.</p>
</td></tr>
<tr><td><code id="predict.ml_pipeline_+3A_verbose">verbose</code></td>
<td>
<p>Boolean - whether or not to return data.frame with all input and interim
variables as well as predictions.</p>
</td></tr>
<tr><td><code id="predict.ml_pipeline_+3A_pred_var">pred_var</code></td>
<td>
<p>Name to assign to for column of predictions from the 'raw' (or inner) model in
the pipeline.</p>
</td></tr>
<tr><td><code id="predict.ml_pipeline_+3A_...">...</code></td>
<td>
<p>Any additional arguements than need to be passed to the underlying model's predict
methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of model predictions or scores (default); or, a data.frame containing the
predicted values, input variables, as well as any interim tranformed variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- faithful

lm_pipeline &lt;-
  pipeline(
    data,
    estimate_model(function(df) {
      lm(eruptions ~ 1 + waiting, df)
    })
  )

in_sample_predictions &lt;- predict(lm_pipeline, data)
head(in_sample_predictions)
# [1] 4.100592 2.209893 3.722452 2.814917 4.554360 2.285521
</code></pre>

<hr>
<h2 id='process_transform_throw_error'>Validate and clean transform function output</h2><span id='topic+process_transform_throw_error'></span>

<h3>Description</h3>

<p>Helper function that ensures the output of applying a transform function is a data.frame and
that this data frame does not duplicate variables from the original (input data) data frame. If
duplicates are found they are automatically dropped from the data.frame that is returned by this
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_transform_throw_error(input_df, output_df, func_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="process_transform_throw_error_+3A_input_df">input_df</code></td>
<td>
<p>The original (input data) data.frame - the transform function's argument.</p>
</td></tr>
<tr><td><code id="process_transform_throw_error_+3A_output_df">output_df</code></td>
<td>
<p>The the transform function's output.</p>
</td></tr>
<tr><td><code id="process_transform_throw_error_+3A_func_name">func_name</code></td>
<td>
<p>The name of the <code>ml_pipeline_builder</code> trandform method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the transform function is not <code>NULL</code> then a copy of the transform function's
output data.frame, with any duplicated inputs removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
transform_method &lt;- function(df) cbind_fast(df, q = df$y * df$y)
data &lt;- data.frame(y = c(1, 2), x = c(0.1, 0.2))
data_transformed &lt;- transform_method(data)
process_transform_throw_error(data, data_transformed, "transform_method")
# transform_method yields data.frame that duplicates input vars - dropping the following
columns: 'y', 'x'
# q
# 1 1
# 2 4

## End(Not run)
</code></pre>

<hr>
<h2 id='transform_features'>Transform machine learning feature variables</h2><span id='topic+transform_features'></span>

<h3>Description</h3>

<p>A function that takes as its arguement another function defining a set of feature variable
transformations, and wraps (or adapts) it for use within a machine learning pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_features(.f)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transform_features_+3A_.f">.f</code></td>
<td>
<p>A unary function of a data.frame that returns a new data.frame containing only the
transformed feature variables. An error will be thrown if this is not the case.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A unary function of a data.frame that returns the input data.frame with the transformed
feature variable columns appended. This function is assigned the classes
<code>"transform_features"</code> and <code>"ml_pipeline_section"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- head(faithful)
f &lt;- transform_features(function(df) {
  data.frame(x1 = (df$waiting - mean(df$waiting)) / sd(df$waiting))
})

f(data)
#    eruptions waiting         x1
#  1     3.600      79  0.8324308
#  2     1.800      54 -1.0885633
#  3     3.333      74  0.4482320
#  4     2.283      62 -0.4738452
#  5     4.533      85  1.2934694
#  6     2.883      55 -1.0117236
</code></pre>

<hr>
<h2 id='transform_response'>Transform machine learning response variable</h2><span id='topic+transform_response'></span>

<h3>Description</h3>

<p>A function that takes as its arguement another function defining a response variable
transformation, and wraps (or adapts) it for use within a machine learning pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_response(.f)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transform_response_+3A_.f">.f</code></td>
<td>
<p>A unary function of a data.frame that returns a new data.frame containing only the
transformed response variable. An error will be thrown if this is not the case.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A unary function of a data.frame that returns the input data.frame with the transformed
response variable column appended. This function is assigned the classes
<code>"transform_response"</code> and <code>"ml_pipeline_section"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- head(faithful)
f &lt;- transform_response(function(df) {
  data.frame(y = (df$eruptions - mean(df$eruptions)) / sd(df$eruptions))
})

f(data)
#   eruptions waiting         y
# 1     3.600      79  0.5412808
# 2     1.800      54 -1.3039946
# 3     3.333      74  0.2675649
# 4     2.283      62 -0.8088457
# 5     4.533      85  1.4977485
# 6     2.883      55 -0.1937539
</code></pre>

<hr>
<h2 id='try_pipeline_func_call'>Custom tryCatch configuration for pipeline segment segment functions</h2><span id='topic+try_pipeline_func_call'></span>

<h3>Description</h3>

<p>Custom tryCatch configuration for pipeline segment segment functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>try_pipeline_func_call(.f, arg, func_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="try_pipeline_func_call_+3A_.f">.f</code></td>
<td>
<p>Pipleine segment function</p>
</td></tr>
<tr><td><code id="try_pipeline_func_call_+3A_arg">arg</code></td>
<td>
<p>Arguement of <code>.f</code></p>
</td></tr>
<tr><td><code id="try_pipeline_func_call_+3A_func_name">func_name</code></td>
<td>
<p>(Character string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the same object as .f does (a data.frame or model object), unless an error is
thrown.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data &lt;- data.frame(x = 1:3, y = 1:3 / 10)
f &lt;- function(df) data.frame(p = df$x ^ 2, q = df$wrong)
try_pipeline_func_call(f, data, "f")
# Error in data.frame(p = df$x^2, q = df$wrong) :
#   arguments imply differing number of rows: 3, 0
# --&gt; called from within function: f

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package bindata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bindata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bincorr2commonprob'><p>Convert Binary Correlation Matrix to Matrix of Joint</p>
Probabilities</a></li>
<li><a href='#check.commonprob'><p>Check Joint Binary Probabilities</p></a></li>
<li><a href='#commonprob2sigma'><p>Calculate a Covariance Matrix for the Normal Distribution from</p>
a Matrix of Joint Probabilities</a></li>
<li><a href='#condprob'><p>Conditional Probabilities of Binary Data</p></a></li>
<li><a href='#ra2ba'><p>Convert Real Valued Array to Binary Array</p></a></li>
<li><a href='#rmvbin'><p>Multivariate Binary Random Variates</p></a></li>
<li><a href='#simul.commonprob'><p>Simulate Joint Binary Probabilities</p></a></li>
<li><a href='#SimulVals'><p>Pre-simulated Joint Binary Probabilities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.9-22</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-12-30</td>
</tr>
<tr>
<td>Title:</td>
<td>Generation of Artificial Binary Data</td>
</tr>
<tr>
<td>Description:</td>
<td>Generation of correlated artificial binary data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>e1071, mvtnorm (&ge; 0.7-0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-30 13:37:01 UTC; hornik</td>
</tr>
<tr>
<td>Author:</td>
<td>Friedrich Leisch <a href="https://orcid.org/0000-0001-7278-1983"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut] (maintainer up to 2024),
  Andreas Weingessel [aut],
  Kurt Hornik <a href="https://orcid.org/0000-0003-4198-9911"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kurt Hornik &lt;Kurt.Hornik@R-project.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-30 14:07:56 UTC</td>
</tr>
</table>
<hr>
<h2 id='bincorr2commonprob'>Convert Binary Correlation Matrix to Matrix of Joint
Probabilities</h2><span id='topic+bincorr2commonprob'></span>

<h3>Description</h3>

<p>Compute a matrix of common probabilities for a binary random vector
from given marginal probabilities and correlations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bincorr2commonprob(margprob, bincorr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bincorr2commonprob_+3A_margprob">margprob</code></td>
<td>
<p>vector of marginal probabilities.</p>
</td></tr>
<tr><td><code id="bincorr2commonprob_+3A_bincorr">bincorr</code></td>
<td>
<p>matrix of binary correlations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The matrix of common probabilities.  This has the probabilities that
variable <code class="reqn">i</code> equals 1 in element <code class="reqn">(i,i)</code>, and the joint
probability that variables <code class="reqn">i</code> and <code class="reqn">j</code> both equal 1 in element
<code class="reqn">(i,j)</code> (if <code class="reqn">i \ne j</code>).
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>Friedrich Leisch, Andreas Weingessel and Kurt Hornik
(1998). On the generation of correlated artificial binary
data. Working Paper Series, SFB &ldquo;Adaptive Information Systems and
Modelling in Economics and Management Science&rdquo;, Vienna University of
Economics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+commonprob2sigma">commonprob2sigma</a></code>,
<code><a href="#topic+simul.commonprob">simul.commonprob</a></code>.
</p>

<hr>
<h2 id='check.commonprob'>Check Joint Binary Probabilities</h2><span id='topic+check.commonprob'></span>

<h3>Description</h3>

<p>The main diagonal elements <code>commonprob[i,i]</code> are interpreted as
probabilities <code class="reqn">p_{A_i}</code> that a binary variable <code class="reqn">A_i</code>
equals 1. The 
off-diagonal elements <code>commonprob[i,j]</code> are the probabilities
<code class="reqn">p_{A_iA_j}</code> that both <code class="reqn">A_i</code> and <code class="reqn">A_j</code> are 1.
</p>
<p>This programs checks some necessary conditions on these probabilities
which must be fulfilled in order that a joint distribution of the
<code class="reqn">A_i</code> with the given probabilities can exist.
</p>
<p>The conditions checked are
</p>
<p style="text-align: center;"><code class="reqn">0 \leq p_{A_i} \leq 1</code>
</p>

<p style="text-align: center;"><code class="reqn">\max(0, p_{A_i} + p_{A_j} - 1) \leq p_{A_iA_j} \leq
    \min(p_{A_i}, p_{A_j}), i \neq j</code>
</p>

<p style="text-align: center;"><code class="reqn">p_{A_i} + p_{A_j} + p_{A_k} - p_{A_iA_j} -p_{A_iA_k} - p_{A_jA_k}
     \leq 1, i \neq j, i \neq k, j \neq k</code>
</p>



<h3>Usage</h3>

<pre><code class='language-R'>check.commonprob(commonprob)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.commonprob_+3A_commonprob">commonprob</code></td>
<td>
<p>Matrix of pairwise probabilities.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>check.commonprob</code> returns <code>TRUE</code>, if all conditions are
fulfilled. The attribute <code>"message"</code> of the return value contains
some information on the errors that were found.
</p>


<h3>Author(s)</h3>

<p>Andreas Weingessel</p>


<h3>References</h3>

<p>Friedrich Leisch, Andreas Weingessel and Kurt Hornik
(1998). On the generation of correlated artificial binary
data. Working Paper Series, SFB &ldquo;Adaptive Information Systems and
Modelling in Economics and Management Science&rdquo;, Vienna University of
Economics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simul.commonprob">simul.commonprob</a></code>,
<code><a href="#topic+commonprob2sigma">commonprob2sigma</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>check.commonprob(cbind(c(0.5, 0.4), c(0.4, 0.8)))

check.commonprob(cbind(c(0.5, 0.25), c(0.25, 0.8)))

check.commonprob(cbind(c(0.5, 0, 0), c(0, 0.5, 0), c(0, 0, 0.5)))
</code></pre>

<hr>
<h2 id='commonprob2sigma'>Calculate a Covariance Matrix for the Normal Distribution from
a Matrix of Joint Probabilities</h2><span id='topic+commonprob2sigma'></span>

<h3>Description</h3>

<p>Computes a covariance matrix for a normal distribution which
corresponds to a binary distribution with marginal probabilities given
by <code>diag(commonprob)</code> and pairwise probabilities given by
<code>commonprob</code>. 
</p>
<p>For the simulations the values of <code>simulvals</code> are used.
</p>
<p>If a non-valid covariance matrix is the result, the program stops with
an error in the case of NA arguments and yields are warning message if
the matrix is not positive definite.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>commonprob2sigma(commonprob, simulvals)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="commonprob2sigma_+3A_commonprob">commonprob</code></td>
<td>
<p>matrix of pairwise probabilities.</p>
</td></tr>
<tr><td><code id="commonprob2sigma_+3A_simulvals">simulvals</code></td>
<td>
<p>array received by <code>simul.commonprob</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A covariance matrix is returned with the same dimensions as
<code>commonprob</code>. 
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>Friedrich Leisch, Andreas Weingessel and Kurt Hornik
(1998). On the generation of correlated artificial binary
data. Working Paper Series, SFB &ldquo;Adaptive Information Systems and
Modelling in Economics and Management Science&rdquo;, Vienna University of
Economics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simul.commonprob">simul.commonprob</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- cbind(c(1/2,1/5,1/6),c(1/5,1/2,1/6),c(1/6,1/6,1/2))
sigma &lt;- commonprob2sigma(m)
</code></pre>

<hr>
<h2 id='condprob'>Conditional Probabilities of Binary Data</h2><span id='topic+condprob'></span>

<h3>Description</h3>

<p>Returns a matrix containing the conditional probabilities
<code class="reqn">P(x_i=1|x_j=1)</code> where <code class="reqn">x_i</code> corresponds to the <code>i</code>-th
column of <code>x</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condprob(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="condprob_+3A_x">x</code></td>
<td>
<p>matrix of binary data with rows corresponding to cases and
columns corresponding to variables.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>

<hr>
<h2 id='ra2ba'>Convert Real Valued Array to Binary Array</h2><span id='topic+ra2ba'></span>

<h3>Description</h3>

<p>Converts all values of the real valued array <code>x</code> to binary values
by thresholding at 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ra2ba(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ra2ba_+3A_x">x</code></td>
<td>
<p>array of arbitrary dimension</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- array(rnorm(10), dim=c(2,5))
ra2ba(x)
</code></pre>

<hr>
<h2 id='rmvbin'>Multivariate Binary Random Variates</h2><span id='topic+rmvbin'></span>

<h3>Description</h3>

<p>Creates correlated multivariate binary random variables by
thresholding a normal distribution.  The correlations of the
components can be specified either as common probabilities,
correlation matrix of the binary distribution, or covariance matrix of
the normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmvbin(n, margprob, commonprob=diag(margprob),
       bincorr=diag(length(margprob)),
       sigma=diag(length(margprob)),
       colnames=NULL, simulvals=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmvbin_+3A_n">n</code></td>
<td>
<p>number of observations.</p>
</td></tr>
<tr><td><code id="rmvbin_+3A_margprob">margprob</code></td>
<td>
<p>margin probabilities that the components are 1.</p>
</td></tr>
<tr><td><code id="rmvbin_+3A_commonprob">commonprob</code></td>
<td>
<p>matrix of probabilities that components <code>i</code> and
<code>j</code> are simultaneously 1.</p>
</td></tr>
<tr><td><code id="rmvbin_+3A_bincorr">bincorr</code></td>
<td>
<p>matrix of binary correlations.</p>
</td></tr>
<tr><td><code id="rmvbin_+3A_sigma">sigma</code></td>
<td>
<p>covariance matrix for the normal distribution.</p>
</td></tr>
<tr><td><code id="rmvbin_+3A_colnames">colnames</code></td>
<td>
<p>vector of column names for the resulting observation
matrix.</p>
</td></tr>
<tr><td><code id="rmvbin_+3A_simulvals">simulvals</code></td>
<td>
<p>result from <code>simul.commonprob</code>, a default data
array is automatically loaded if this argument is omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only one of the arguments <code>commonprob</code>, <code>bincorr</code> and
<code>sigma</code> may be specified.  Default are uncorrelated components.
</p>
<p><code>n</code> samples from a multivariate normal distribution with mean and
variance chosen in order to get the desired margin and common
probabilities are sampled.  Negative values are converted to 0,
positive values to 1.
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>Friedrich Leisch, Andreas Weingessel and Kurt Hornik
(1998). On the generation of correlated artificial binary
data. Working Paper Series, SFB &ldquo;Adaptive Information Systems and
Modelling in Economics and Management Science&rdquo;, Vienna University of
Economics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+commonprob2sigma">commonprob2sigma</a></code>,
<code><a href="#topic+check.commonprob">check.commonprob</a></code>,
<code><a href="#topic+simul.commonprob">simul.commonprob</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## uncorrelated columns:
rmvbin(10, margprob=c(0.3,0.9))

## correlated columns
m &lt;- cbind(c(1/2,1/5,1/6),c(1/5,1/2,1/6),c(1/6,1/6,1/2))
rmvbin(10,commonprob=m)

## same as the second example, but faster if the same probabilities are
## used repeatedly (commonprob2sigma rather slow)
sigma &lt;- commonprob2sigma(m)
rmvbin(10,margprob=diag(m),sigma=sigma)
</code></pre>

<hr>
<h2 id='simul.commonprob'>Simulate Joint Binary Probabilities</h2><span id='topic+simul.commonprob'></span>

<h3>Description</h3>

<p>Compute common probabilities of binary random variates generated by
thresholding normal variates at 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simul.commonprob(margprob, corr=0, method="integrate", n1=10^5, n2=10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simul.commonprob_+3A_margprob">margprob</code></td>
<td>
<p>vector of marginal probabilities.</p>
</td></tr>
<tr><td><code id="simul.commonprob_+3A_corr">corr</code></td>
<td>
<p>vector of correlation values for normal distribution.</p>
</td></tr>
<tr><td><code id="simul.commonprob_+3A_method">method</code></td>
<td>
<p>either <code>"integrate"</code> or <code>"monte carlo"</code>.</p>
</td></tr>
<tr><td><code id="simul.commonprob_+3A_n1">n1</code></td>
<td>
<p>number of normal variates if method is <code>"monte carlo"</code>.</p>
</td></tr>
<tr><td><code id="simul.commonprob_+3A_n2">n2</code></td>
<td>
<p>number of repetitions if method is <code>"monte carlo"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The output of this function is used by <code><a href="#topic+rmvbin">rmvbin</a></code>.  For all
combinations of <code>marginprob[i]</code>, <code>marginprob[j]</code> and
<code>corr[k]</code>, the probability that both components of a normal
random variable with mean <code>qnorm(marginprob[c(i,j)])</code> and
correlation <code>corr[k]</code> are larger than zero is computed.
</p>
<p>The probabilities are either computed by numerical integration of the
multivariate normal density, or by Monte Carlo simulation.
</p>
<p>For normal usage of <code><a href="#topic+rmvbin">rmvbin</a></code> it is not necessary to use
this function, one simulation result is provided as variable
<code><a href="#topic+SimulVals">SimulVals</a></code> in this package and loaded by default.
</p>


<h3>Value</h3>

<p><code>simul.commonprob</code> returns an array of dimension
<code>c(length(margprob), length(margprob), length(corr))</code>. 
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>Friedrich Leisch, Andreas Weingessel and Kurt Hornik
(1998). On the generation of correlated artificial binary
data. Working Paper Series, SFB &ldquo;Adaptive Information Systems and
Modelling in Economics and Management Science&rdquo;, Vienna University of
Economics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rmvbin">rmvbin</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>simul.commonprob(seq(0,1,0.5), seq(-1,1,0.5), method="mo", n1=10^4)

data(SimulVals)

</code></pre>

<hr>
<h2 id='SimulVals'>Pre-simulated Joint Binary Probabilities</h2><span id='topic+SimulVals'></span>

<h3>Description</h3>

<p>This variable provides a pre-fabricated result from
<code><a href="#topic+simul.commonprob">simul.commonprob</a></code> such that it is normally not necessary
to use this (time consuming) function, and is used by
<code><a href="#topic+rmvbin">rmvbin</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimulVals
</code></pre>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>References</h3>

<p>Friedrich Leisch, Andreas Weingessel and Kurt Hornik
(1998). On the generation of correlated artificial binary
data. Working Paper Series, SFB &ldquo;Adaptive Information Systems and
Modelling in Economics and Management Science&rdquo;, Vienna University of
Economics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simul.commonprob">simul.commonprob</a></code>, <code><a href="#topic+rmvbin">rmvbin</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

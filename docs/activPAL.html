<!DOCTYPE html><html><head><title>Help for package activPAL</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {activPAL}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#activity.summary.by.custom.period'><p>Summarise activity data from a folder of activPAL events files</p>
in user defined periods</a></li>
<li><a href='#activity.summary.by.window.duration'><p>Summarise activity data from a folder of activPAL events files</p>
into equal sized periods</a></li>
<li><a href='#activity.with.overlay.chart'><p>Combines events file data with observational data for a single events file</p></a></li>
<li><a href='#activity.with.overlay.chart.folder'><p>Combines events file data with observational data across multiple events files</p>
to produce and save charts</a></li>
<li><a href='#daily.stepping.activity.bubble.chart'><p>Processes a folder of events files to output bubble charts showing the daily</p>
distribution of stepping cadences</a></li>
<li><a href='#stepping.cadence.bands.folder.four.stepping.groups'><p>Processes events files to produce histograms showing the distribution of stepping and</p>
weighted median stepping cadence across four groups of stepping bout duration.</a></li>
<li><a href='#stepping.cadence.bands.folder.two.stepping.groups'><p>Processes events files to produce histograms showing the distribution of stepping and</p>
weighted median stepping cadence across two groups of stepping bout duration.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Advanced Processing and Chart Generation from activPAL Events
Files</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Craig Speirs &lt;craig@paltechnologies.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Contains functions to generate pre-defined summary statistics from activPAL
    events files &lt;http:www.palt.com&gt;.  The package also contains functions to produce informative 
    graphics that visualise physical activity behaviour and trends.  This includes
    generating graphs that align physical activity behaviour with additional time based 
    observations described by other data sets, such as sleep diaries and continuous glucose 
    monitoring data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, tidyr, lubridate, magrittr, methods, devtools</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-07-15 21:43:43 UTC; mail</td>
</tr>
<tr>
<td>Author:</td>
<td>Craig Speirs [aut, cre],
  Kate Lyden [ctb],
  Douglas Maxwell [ctb],
  David Loudon [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-07-18 11:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='activity.summary.by.custom.period'>Summarise activity data from a folder of activPAL events files
in user defined periods</h2><span id='topic+activity.summary.by.custom.period'></span>

<h3>Description</h3>

<p>activity.summary.custom.period reads in a csv file containing a list
of events files and csv files with time periods of interest (the first two
columns should have the start date and end date in the format dd-mm-yy HH:MM).
A summary table is saved to a csv file for each events file.  A further csv
file giving a summary for all the events file is also generated.  The generated
summary activity table for each events file is saved to a csv file, while an
additional csv file containing the summaries across all the processed events
files is also saved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>activity.summary.by.custom.period(location_file, output_folder)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="activity.summary.by.custom.period_+3A_location_file">location_file</code></td>
<td>
<p>The filepath to a csv file containing the path for a group
of csv files to be processed</p>
</td></tr>
<tr><td><code id="activity.summary.by.custom.period_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath for the folder where the csv summary files are saved</p>
</td></tr>
</table>

<hr>
<h2 id='activity.summary.by.window.duration'>Summarise activity data from a folder of activPAL events files
into equal sized periods</h2><span id='topic+activity.summary.by.window.duration'></span>

<h3>Description</h3>

<p>activity.summary.window processes all the events files (format *Events.csv)
in a folder and produces a summary table giving a breakdown of the number and
duration of each event type across consecutive periods of a specified duration
during the day. If the window_size is not a factor of 24, the final period will
be shorter than the other reporting periods, generating a warning to advise of
this difference in reporting period duration.  The generated summary activity
table for each events file is saved to a csv file, while an additional csv file
containing the summaries across all the processed events files is also saved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>activity.summary.by.window.duration(input_folder, output_folder,
  window_duration = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="activity.summary.by.window.duration_+3A_input_folder">input_folder</code></td>
<td>
<p>The filepath for the folder where the events files (format *Events.csv)
to be processed are saved</p>
</td></tr>
<tr><td><code id="activity.summary.by.window.duration_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath for the folder where the csv summary files are to be saved</p>
</td></tr>
<tr><td><code id="activity.summary.by.window.duration_+3A_window_duration">window_duration</code></td>
<td>
<p>The size of each bucket in hours that the data is to be summarised.
Default - 2 hours.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>input_folder &lt;- paste(system.file("extdata", "", package = "activPAL"),"/",sep="")
output_folder &lt;- paste(tempdir(),"/",sep="")

activPAL::activity.summary.by.window.duration(input_folder,output_folder,2)

# Omitting a value for window_duration sets the default window size to 2 hours
activPAL::activity.summary.by.window.duration(input_folder,output_folder)

# You can set the window_duration to a time period that is not evenly divisible
# by 24 hours.  In this case the last reporting period for each day will be
# shorter than the specified window_duration.
activPAL::activity.summary.by.window.duration(input_folder,output_folder,3.5)
</code></pre>

<hr>
<h2 id='activity.with.overlay.chart'>Combines events file data with observational data for a single events file</h2><span id='topic+activity.with.overlay.chart'></span>

<h3>Description</h3>

<p>Reads in an events file and overlay file, generating spiral and linear
charts aligning the events file data with the corresponding overlay data.
Where the overlay data is non-continuous data (such as sleeps diaries) the csv
file should have the columns start_time (dd-mm-YYYY HH:MM),
end_time (dd-mm-YYYY HH:MM) and category (text).
Where the overlay data is continuous data (such as continuous glucose monitoring)
the csv file should have the columns start_time(dd-mm-YYYY HH:MM) and category (text).
In this case the end time coincides with the start time of the subsequent observation.
The charts are saved as png images with two images generated
(one spiral chart and one linear chart). <br />
<strong>Note</strong>: Spiral plots are generated using ggplot2 and coord_polar() and can take
45 - 60 seconds to generate each spiral plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>activity.with.overlay.chart(events_file, overlay_file, output_folder)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="activity.with.overlay.chart_+3A_events_file">events_file</code></td>
<td>
<p>The filepath of the events file. Must be a valid activPAL events csv file</p>
</td></tr>
<tr><td><code id="activity.with.overlay.chart_+3A_overlay_file">overlay_file</code></td>
<td>
<p>The filepath of the csv file containing the overlay data csv file</p>
</td></tr>
<tr><td><code id="activity.with.overlay.chart_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath of the folder where the generated chart are to be saved to</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>events_file &lt;- system.file("extdata", "Test_Events.csv", package = "activPAL")
sleep_file &lt;- system.file("extdata", "Sleep.csv", package = "activPAL")
output_folder &lt;- paste(tempdir(),"/",sep="")

activPAL::activity.with.overlay.chart(events_file,sleep_file,output_folder)
</code></pre>

<hr>
<h2 id='activity.with.overlay.chart.folder'>Combines events file data with observational data across multiple events files
to produce and save charts</h2><span id='topic+activity.with.overlay.chart.folder'></span>

<h3>Description</h3>

<p>Reads in a csv file containing a list of events file locations and
overlay file locations, generating and saving spiral and linear charts for
each events file aligning the events file data with the corresponding overlay
data.
Where the overlay data is non-continuous data (such as sleeps diaries) the
csv file should have the columns start_time (dd-mm-YYYY HH:MM),
end_time (dd-mm-YYYY HH:MM) and category (text).
Where the overlay data is continuous data (such as continuous glucose monitoring)
the csv file should have the columns start_time (dd-mm-YYYY HH:MM) and
category (text).  In this case the end time coincides with the start time of
the subsequent observation.
The charts are saved as png images with two images generated for each events
file / overlay file pair (one spiral chart and one linear chart). <br />
<strong>Note</strong>: Spiral plots are generated using ggplot2 and coord_polar() and can take
45 - 60 seconds to generate each spiral plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>activity.with.overlay.chart.folder(index_file_location, output_folder)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="activity.with.overlay.chart.folder_+3A_index_file_location">index_file_location</code></td>
<td>
<p>The filepath for the csv file with the following column names
file_id, events_file, overlay_file</p>
</td></tr>
<tr><td><code id="activity.with.overlay.chart.folder_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath of the folder where the generated chart are to be saved to</p>
</td></tr>
</table>

<hr>
<h2 id='daily.stepping.activity.bubble.chart'>Processes a folder of events files to output bubble charts showing the daily
distribution of stepping cadences</h2><span id='topic+daily.stepping.activity.bubble.chart'></span>

<h3>Description</h3>

<p>Processes a folder of events files to output bubble charts showing
the daily distribution of stepping cadences.
A bubble chart shows daily patterns in stepping behaviour.  For each
valid day of activity data a bubble is plotted on the chart.  The
centre of bubble indicates the weighted median cadence of all stepping
bouts of duration between 10 seconds and one minute (x-axis position)
and the weighted median cadence of all stepping bouts of duration greater
than or equal to one minute (y-axis position).  The height of a bubble
indicates the weighted upper quartile  (y - max) and lower quartile
(y - min) cadence across the stepping bouts of duration greater than or
equal to one minute occurring during the given day.  The width of a bubble
indicates the weighted upper quartile  (x - right) and lower quartile
(x - left) cadence across the stepping bouts of duration between 10 seconds
and one minute occurring during the given day.
Each bubble chart is saved as a .png image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>daily.stepping.activity.bubble.chart(input_folder, output_folder)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="daily.stepping.activity.bubble.chart_+3A_input_folder">input_folder</code></td>
<td>
<p>The filepath for the folder where the events files to be processed are saved</p>
</td></tr>
<tr><td><code id="daily.stepping.activity.bubble.chart_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath for the folder where the bubble charts are to be saved</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>input_folder &lt;- paste(system.file("extdata", "", package = "activPAL"),"/",sep="")
output_folder &lt;- paste(tempdir(),"/",sep="")

activPAL::daily.stepping.activity.bubble.chart(input_folder,output_folder)
</code></pre>

<hr>
<h2 id='stepping.cadence.bands.folder.four.stepping.groups'>Processes events files to produce histograms showing the distribution of stepping and
weighted median stepping cadence across four groups of stepping bout duration.</h2><span id='topic+stepping.cadence.bands.folder.four.stepping.groups'></span>

<h3>Description</h3>

<p>Processes a folder of events files and generates a faceted set of histograms
for each events file showing the duration of stepping in different cadence bands
(each cadence band has a width of 10 steps per minute) for stepping bouts of duration
10 seconds to 1 minute, 1 minute to 5 minutes, 5 minutes to 10 minutes and 10 minutes plus.
The weighted median cadence of stepping at each stepping bout duration is also calculated
and indicated on the histogram.  The values of the weighted median cadence for each
stepping duration across all the processed events files is also returned as a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stepping.cadence.bands.folder.four.stepping.groups(input_folder,
  output_folder, generate_charts = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stepping.cadence.bands.folder.four.stepping.groups_+3A_input_folder">input_folder</code></td>
<td>
<p>The filepath for the folder where the events files to be processed are saved</p>
</td></tr>
<tr><td><code id="stepping.cadence.bands.folder.four.stepping.groups_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath for the folder where the generated files are to be saved</p>
</td></tr>
<tr><td><code id="stepping.cadence.bands.folder.four.stepping.groups_+3A_generate_charts">generate_charts</code></td>
<td>
<p>Set TRUE if stacked histograms showing the distribution of stepping cadences are to be generated for each events file</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>input_folder &lt;- paste(system.file("extdata", "", package = "activPAL"),"/",sep="")
output_folder &lt;- paste(tempdir(),"/",sep="")

activPAL::stepping.cadence.bands.folder.four.stepping.groups(input_folder,output_folder,TRUE)
# Omitting a value for generate_charts results in the charts being saved in the output folder.
activPAL::stepping.cadence.bands.folder.four.stepping.groups(input_folder,output_folder)
</code></pre>

<hr>
<h2 id='stepping.cadence.bands.folder.two.stepping.groups'>Processes events files to produce histograms showing the distribution of stepping and
weighted median stepping cadence across two groups of stepping bout duration.</h2><span id='topic+stepping.cadence.bands.folder.two.stepping.groups'></span>

<h3>Description</h3>

<p>Processes a folder of events files and generates a faceted set of histograms
for each events file showing the duration of stepping in different cadence bands (each
cadence band has a width of 10 steps per minute) for stepping bouts of duration 10
seconds to 1 minute and 1 minute plus.  The weighted median cadence of stepping at
each stepping bout duration is also calculated and indicated on the histogram.
The values of the weighted median cadence for each stepping duration across all the
processed events files is also returned as a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stepping.cadence.bands.folder.two.stepping.groups(input_folder,
  output_folder, generate_charts = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stepping.cadence.bands.folder.two.stepping.groups_+3A_input_folder">input_folder</code></td>
<td>
<p>The filepath for the folder where the events files to be processed are saved</p>
</td></tr>
<tr><td><code id="stepping.cadence.bands.folder.two.stepping.groups_+3A_output_folder">output_folder</code></td>
<td>
<p>The filepath for the folder where the generated files are to be saved</p>
</td></tr>
<tr><td><code id="stepping.cadence.bands.folder.two.stepping.groups_+3A_generate_charts">generate_charts</code></td>
<td>
<p>Set TRUE if stacked histograms showing the distribution of stepping
cadences are to be generated for each events file. Default = TRUE</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>input_folder &lt;- paste(system.file("extdata", "", package = "activPAL"),"/",sep="")
output_folder &lt;- paste(tempdir(),"/",sep="")

activPAL::stepping.cadence.bands.folder.two.stepping.groups(input_folder,output_folder,TRUE)
# Omitting a value for generate_charts results in the charts being saved in the output folder.
activPAL::stepping.cadence.bands.folder.two.stepping.groups(input_folder,output_folder)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

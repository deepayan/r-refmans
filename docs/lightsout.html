<!DOCTYPE html><html><head><title>Help for package lightsout</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lightsout}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lightsout-package'><p>lightsout: Implementation of the 'Lights Out' Puzzle Game</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>magrittr forward-pipe operator</p></a></li>
<li><a href='#board_classic'><p>Is the board using classic game mode?</p></a></li>
<li><a href='#board_entries'><p>Get the board entries (configuration of the lights)</p></a></li>
<li><a href='#board_entries+26lt+3B-'><p>Set the board entries</p></a></li>
<li><a href='#board_size'><p>Get the board size (number of rows/columns)</p></a></li>
<li><a href='#board_toggle_matrix'><p>Get the toggle matrix used to solve the board using linear algebra</p></a></li>
<li><a href='#empty_board'><p>Initialize a Lights Out board with all lights switched off</p></a></li>
<li><a href='#is_solvable'><p>Is a given Lights Out board solvable?</p></a></li>
<li><a href='#is_solved'><p>Is the given board is a solved state?</p></a></li>
<li><a href='#launch'><p>Run the graphical interface to the game in a web browser</p></a></li>
<li><a href='#new_board'><p>Initialize a Lights Out board with a given lights configuration</p></a></li>
<li><a href='#play'><p>Play (press) a single light or multiple lights on a board</p></a></li>
<li><a href='#print.lightsout'><p>Print a lightsout board</p></a></li>
<li><a href='#print.lightsout_solution'><p>Print a lightsout board solution</p></a></li>
<li><a href='#random_board'><p>Create a random (but solvable) Lights Out board</p></a></li>
<li><a href='#solve_board'><p>Solve a Lights Out board</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Implementation of the 'Lights Out' Puzzle Game</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Lights Out is a puzzle game consisting of a grid of lights
    that are either on or off. Pressing any light will toggle it and its
    adjacent lights. The goal of the game is to switch all the lights off. This
    package provides an interface to play the game on different board sizes,
    both through the command line or with a visual application. Puzzles can
    also be solved using the automatic solver included. View a demo
    online at <a href="https://daattali.com/shiny/lightsout/">https://daattali.com/shiny/lightsout/</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/daattali/lightsout">https://github.com/daattali/lightsout</a>,
<a href="https://daattali.com/shiny/lightsout/">https://daattali.com/shiny/lightsout/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/daattali/lightsout/issues">https://github.com/daattali/lightsout/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr (&ge; 1.5), shiny (&ge; 0.10.0), shinyjs (&ge; 0.3.0),
stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.7), testthat (&ge; 0.9.1), rmarkdown</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc with https support</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-20 01:59:38 UTC; Dean-X1C</td>
</tr>
<tr>
<td>Author:</td>
<td>Dean Attali <a href="https://orcid.org/0000-0002-5645-3493"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dean Attali &lt;daattali@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-21 07:52:36 UTC</td>
</tr>
</table>
<hr>
<h2 id='lightsout-package'>lightsout: Implementation of the 'Lights Out' Puzzle Game</h2><span id='topic+lightsout'></span><span id='topic+lightsout-package'></span>

<h3>Description</h3>

<p>Lights Out is a puzzle game consisting of a grid of lights that are either on or off. Pressing any light will toggle it and its adjacent lights. The goal of the game is to switch all the lights off. This package provides an interface to play the game on different board sizes, both through the command line or with a visual application. Puzzles can also be solved using the automatic solver included. View a demo online at <a href="https://daattali.com/shiny/lightsout/">https://daattali.com/shiny/lightsout/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dean Attali <a href="mailto:daattali@gmail.com">daattali@gmail.com</a> (<a href="https://orcid.org/0000-0002-5645-3493">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/daattali/lightsout">https://github.com/daattali/lightsout</a>
</p>
</li>
<li> <p><a href="https://daattali.com/shiny/lightsout/">https://daattali.com/shiny/lightsout/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/daattali/lightsout/issues">https://github.com/daattali/lightsout/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>magrittr forward-pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>magrittr forward-pipe operator
</p>

<hr>
<h2 id='board_classic'>Is the board using classic game mode?</h2><span id='topic+board_classic'></span>

<h3>Description</h3>

<p>In classic mode, pressing a light will toggle it and its adjacent neighbours only.
If non-classic mode, pressing a light will toggle the entire row and column of the pressed light.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>board_classic(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="board_classic_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board object</p>
</td></tr>
</table>

<hr>
<h2 id='board_entries'>Get the board entries (configuration of the lights)</h2><span id='topic+board_entries'></span>

<h3>Description</h3>

<p>Get the board entries (configuration of the lights)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>board_entries(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="board_entries_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix representing the current state of the lights (0 for off,
1 for on) in the board
</p>


<h3>Examples</h3>

<pre><code class='language-R'>board &lt;- random_board(5)
board
board_entries(board)
</code></pre>

<hr>
<h2 id='board_entries+26lt+3B-'>Set the board entries</h2><span id='topic+board_entries+3C-'></span>

<h3>Description</h3>

<p>Set the board entries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>board_entries(board) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="board_entries+2B26lt+2B3B-_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board object</p>
</td></tr>
<tr><td><code id="board_entries+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>The new value to set the entries to</p>
</td></tr>
</table>

<hr>
<h2 id='board_size'>Get the board size (number of rows/columns)</h2><span id='topic+board_size'></span>

<h3>Description</h3>

<p>Get the board size (number of rows/columns)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>board_size(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="board_size_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board object</p>
</td></tr>
</table>

<hr>
<h2 id='board_toggle_matrix'>Get the toggle matrix used to solve the board using linear algebra</h2><span id='topic+board_toggle_matrix'></span>

<h3>Description</h3>

<p>A lightsout game can be solved using Gaussian elimination. A special matrix
<code>A</code> needs to be used to solve <code>Ax=b</code>, where <code>b</code> is the current
board configuration and <code>x</code> is the solution. This function returns
the matrix <code>A</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>board_toggle_matrix(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="board_toggle_matrix_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board object</p>
</td></tr>
</table>

<hr>
<h2 id='empty_board'>Initialize a Lights Out board with all lights switched off</h2><span id='topic+empty_board'></span>

<h3>Description</h3>

<p>Initialize a Lights Out board with all lights switched off
</p>


<h3>Usage</h3>

<pre><code class='language-R'>empty_board(size, classic = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="empty_board_+3A_size">size</code></td>
<td>
<p>Number of rows and columns for the board</p>
</td></tr>
<tr><td><code id="empty_board_+3A_classic">classic</code></td>
<td>
<p>If <code>TRUE</code>, then pressing a light will toggle it and its
adjacent neighbours only. If <code>FALSE</code>, then pressing a light will toggle
the entire row and column of the pressed light.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>lightsout</code> board.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+random_board">random_board</a></code>
<code><a href="#topic+new_board">new_board</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>empty_board(5)
</code></pre>

<hr>
<h2 id='is_solvable'>Is a given Lights Out board solvable?</h2><span id='topic+is_solvable'></span>

<h3>Description</h3>

<p>Not every Lights Out configuration has a solution (this has been mathematically
proven). This function determines whether a given board has a solution or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_solvable(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_solvable_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the given board has a solution; <code>FALSE</code> otherwise.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+is_solved">is_solved</a></code>
<code><a href="#topic+solve_board">solve_board</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The following board is solvable using the classic mode (only adjacent lights
# are toggled), but has no solution in the variant mode.
lights &lt;- c(1, 1, 0,
            1, 0, 0,
            0, 0, 0 )
board_classic &lt;- new_board(lights)
board_variant &lt;- new_board(lights, classic = FALSE)
is_solvable(board_classic)
is_solvable(board_variant)
</code></pre>

<hr>
<h2 id='is_solved'>Is the given board is a solved state?</h2><span id='topic+is_solved'></span>

<h3>Description</h3>

<p>A board is considered solved if all the lights are switched off (have a state of <code>0</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_solved(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_solved_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the given board is solved; <code>FALSE</code> otherwise.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+is_solvable">is_solvable</a></code>
<code><a href="#topic+solve_board">solve_board</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a board solved with one move and solve it.
lights &lt;- c(1, 1, 0,
            1, 0, 0,
            0, 0, 0 )
board &lt;- new_board(lights)
is_solved(board)
board &lt;- board %&gt;% play(1, 1)
is_solved(board)
</code></pre>

<hr>
<h2 id='launch'>Run the graphical interface to the game in a web browser</h2><span id='topic+launch'></span>

<h3>Description</h3>

<p>Run the graphical interface to the game in a web browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>launch()
</code></pre>

<hr>
<h2 id='new_board'>Initialize a Lights Out board with a given lights configuration</h2><span id='topic+new_board'></span>

<h3>Description</h3>

<p>Create a Lights Out board that can be played by the user or solved automatically.
Only square boards of size 3x3, 5x5, 7x7, or 9x9 are supported. The initial
lights configuration must be provided. To create a board with a random
configuration, use the <code><a href="#topic+random_board">random_board</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_board(entries, classic = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_board_+3A_entries">entries</code></td>
<td>
<p>The initial configuration of lights on the board. <code>entries</code>
can either be a vector or a matrix. If a vector is used, the vector is assumed
to start at the top-left corner of the board and is read row-by-row. Only values
of 0 (light off) and 1 (light on) are allowed in the vector or matrix. See
the examples below.</p>
</td></tr>
<tr><td><code id="new_board_+3A_classic">classic</code></td>
<td>
<p>If <code>TRUE</code>, then pressing a light will toggle it and its
adjacent neighbours only. If <code>FALSE</code>, then pressing a light will toggle
the entire row and column of the pressed light.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>lightsout</code> board object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+random_board">random_board</a></code>
<code><a href="#topic+play">play</a></code>
<code><a href="#topic+solve_board">solve_board</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vector &lt;- c(1, 1, 0,
            1, 0, 1,
            0, 1, 1)
new_board(entries = vector)

matrix &lt;- matrix(
            c(1, 1, 0,
              1, 0, 1,
              0, 1, 1),
            nrow = 3, byrow = TRUE)
new_board(entries = matrix)
</code></pre>

<hr>
<h2 id='play'>Play (press) a single light or multiple lights on a board</h2><span id='topic+play'></span>

<h3>Description</h3>

<p>In classic mode, pressing a light will toggle it and its four adjacent lights.
In variant mode, pressing a light will toggle it and all other lights in its
row and column.  Toggling a light means switching it from on to off or from
off to on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>play(board, row, col, matrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="play_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board</p>
</td></tr>
<tr><td><code id="play_+3A_row">row</code></td>
<td>
<p>The row of the light to press. To press multiple lights, use a list
of row numbers. If a list is provided, then the <code>col</code> argument must also
be a list of the same length.</p>
</td></tr>
<tr><td><code id="play_+3A_col">col</code></td>
<td>
<p>The column of the light to press. To press multiple lights, use a list
of column numbers. If a list is provided, then the <code>row</code> argument must also
be a list of the same length.</p>
</td></tr>
<tr><td><code id="play_+3A_matrix">matrix</code></td>
<td>
<p>Instead of using <code>row</code> and <code>col</code>, a matrix can be used
to specify which lights to press. The matrix must have the same dimensions as
the board. Any position in the given matrix with a value of <code>1</code> will
result in a press of a light in the same position in the board.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new <code>lightsout</code> board object after the given lights are pressed.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+solve_board">solve_board</a></code>
<code><a href="#topic+empty_board">empty_board</a></code>
<code><a href="#topic+new_board">new_board</a></code>
<code><a href="#topic+random_board">random_board</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a 5x5 board with all lights switched off and then press some lights

board &lt;- empty_board(5)
board

# Press the light at (2,1)
newboard &lt;- play(board, 2, 1)
newboard

# Press the light at (2,1) and then at (3,4)
newboard &lt;- board %&gt;% play(2, 1) %&gt;% play(3, 4)
newboard

# Press both lights with one call
newboard &lt;- play(board, c(2, 3), c(1, 4))
newboard

# Press both lights using a matrix instead of specifying rows and columns
newboard &lt;- play(board, matrix = matrix(
                          c(0, 0, 0, 0, 0,
                            1, 0, 0, 0, 0,
                            0, 0, 0, 1, 0,
                            0, 0, 0, 0, 0,
                            0, 0, 0, 0, 0),
                          nrow = 5, byrow = TRUE))
newboard

# Press the same lights, but this time when the game mode is not classic,
# and the whole row/column get toggled
empty_board(5, classic = FALSE) %&gt;% play(2, 1)
empty_board(5, classic = FALSE) %&gt;% play(c(2, 3), c(1, 4))
</code></pre>

<hr>
<h2 id='print.lightsout'>Print a lightsout board</h2><span id='topic+print.lightsout'></span>

<h3>Description</h3>

<p>Print a lightsout board
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lightsout'
print(x, ...)
</code></pre>

<hr>
<h2 id='print.lightsout_solution'>Print a lightsout board solution</h2><span id='topic+print.lightsout_solution'></span>

<h3>Description</h3>

<p>Print a lightsout board solution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lightsout_solution'
print(x, ...)
</code></pre>

<hr>
<h2 id='random_board'>Create a random (but solvable) Lights Out board</h2><span id='topic+random_board'></span>

<h3>Description</h3>

<p>Create a Lights Out board that can be played by the user or solved automatically.
Only square boards of size 3x3, 5x5, 7x7, or 9x9 are supported. The initial
lights configuration is randomly generated, but always solvable. To create a
board with a user-defined configuration, use the <code><a href="#topic+new_board">new_board</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random_board(size, classic = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="random_board_+3A_size">size</code></td>
<td>
<p>Number of rows and columns for the board</p>
</td></tr>
<tr><td><code id="random_board_+3A_classic">classic</code></td>
<td>
<p>If <code>TRUE</code>, then pressing a light will toggle it and its
adjacent neighbours only. If <code>FALSE</code>, then pressing a light will toggle
the entire row and column of the pressed light.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>lightsout</code> board object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+new_board">new_board</a></code>
<code><a href="#topic+play">play</a></code>
<code><a href="#topic+solve_board">solve_board</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)

# Create a random 5x5 classic board
board &lt;- random_board(5)
board

# Get the solution for the board
solution &lt;- solve_board(board)
solution

# Press the lights according to the solution, the result should be a board
# with all lights switched off
play(board, matrix = solution)
</code></pre>

<hr>
<h2 id='solve_board'>Solve a Lights Out board</h2><span id='topic+solve_board'></span>

<h3>Description</h3>

<p>Given a Lights Out board, find the set of lights that need to be pressed in
order to solve the board. If no solution is possible, an error is thrown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>solve_board(board)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solve_board_+3A_board">board</code></td>
<td>
<p>A <code>lightsout</code> board object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are a few algorithms for solving Lights Out puzzles. This function
implements the Gaussian Elimination technique, which does not guarantee
the minimum number of steps. Therefore, some steps in the given solution
may be redundant.
</p>
<p>If you are interested, there are many resources online outlining the exact
details of how this technique works, and what the other solving strategies are.
</p>


<h3>Value</h3>

<p>A matrix with the same dimensions as the input board, with a <code>1</code>
in every position that requires a press to solve to the board. Note that the
order of the light presses does not matter.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+new_board">new_board</a></code>
<code><a href="#topic+random_board">random_board</a></code>
<code><a href="#topic+play">play</a></code>
<code><a href="#topic+is_solvable">is_solvable</a></code>
<code><a href="#topic+is_solved">is_solved</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an empty 5x5 board, press two lights, and then see that the solution
# tells us to press the same lights in order to solve the board.
board &lt;- empty_board(5) %&gt;% play(3, 2) %&gt;% play(4, 1)
board
solution &lt;- solve_board(board)
solution
board &lt;- play(board, matrix = solution)
is_solved(board)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

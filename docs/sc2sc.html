<!DOCTYPE html><html lang="en"><head><title>Help for package sc2sc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sc2sc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cp2sc'><p>Implements the geometric spatial transfer of statistics from Spanish postal code areas to census sections</p></a></li>
<li><a href='#sc2cp'><p>Implements the geometric spatial transfer of statistics from Spanish census sections to postal code areas</p></a></li>
<li><a href='#sc2sc'><p>Implements the geometric spatial transfer of statistics among Spanish census sections corresponding to two different spatial divisions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Spatial Transfer of Statistics among Spanish Census Sections</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1-16</td>
</tr>
<tr>
<td>Description:</td>
<td>Transfers/imputes statistics among Spanish spatial polygons (census sections or postal code areas) from different moments in time (2001-2023) without need of spatial files, just linking statistics to the ID codes of the spatial units. 
    The data available in the census sections of a partition/division (cartography) into force in a moment of time is transferred to the census sections of another partition/division employing the geometric approach (also known as areal weighting or polygon overlay). 
    References: 
    Goerlich (2022) &lt;<a href="https://doi.org/10.12842%2FWPIVIE_0322">doi:10.12842/WPIVIE_0322</a>&gt;.
    Pavía and Cantarino (2017a, b) &lt;<a href="https://doi.org/10.1111%2Fgean.12112">doi:10.1111/gean.12112</a>&gt;, &lt;<a href="https://doi.org/10.1016%2Fj.apgeog.2017.06.021">doi:10.1016/j.apgeog.2017.06.021</a>&gt;.
    Pérez and Pavía (2024a, b) &lt;<a href="https://doi.org/10.4995%2FCARMA2024.2024.17796">doi:10.4995/CARMA2024.2024.17796</a>&gt;, &lt;<a href="https://doi.org/10.38191%2Fiirr-jorr.24.057">doi:10.38191/iirr-jorr.24.057</a>&gt;.
    Acknowledgements:
    The authors wish to thank Consellería de Educación, Universidades y Empleo, Generalitat Valenciana (grant AICO/2021/257), Ministerio de Economía e Innovación (grant PID2021-128228NB-I00) and Fundación Mapfre for supporting this research.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-03 18:15:04 UTC; mariaamparo</td>
</tr>
<tr>
<td>Author:</td>
<td>Virgilio Pérez <a href="https://orcid.org/0000-0002-7628-2855"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jose M. Pavía <a href="https://orcid.org/0000-0002-0129-726X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose M. Pavía &lt;jose.m.pavia@uv.es&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-13 11:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cp2sc'>Implements the geometric spatial transfer of statistics from Spanish postal code areas to census sections</h2><span id='topic+cp2sc'></span>

<h3>Description</h3>

<p>Transfers the statistics available in a set of Spanish postal codes to the corresponding
spatial set of Spanish official census sections into force in a given year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cp2sc(x, year, data.type = "counts", all.units = FALSE, na.rm = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cp2sc_+3A_x">x</code></td>
<td>
<p>A data frame of order N x K (with K &gt; 1) with the statistics to be spatially transferred/imputed.
The first column must contains the codes of the postal code areas to which the statistics belong to. The statistical nature
of the data columns must be of the same type. See the argument <code>data.type</code>.</p>
</td></tr>
<tr><td><code id="cp2sc_+3A_year">year</code></td>
<td>
<p>An integer number. Reference year of the census sections to which the statistics are going to be transferred.
Only 2001 and 2003 to 2023 are allowed.</p>
</td></tr>
<tr><td><code id="cp2sc_+3A_data.type">data.type</code></td>
<td>
<p>A character string indicating the type of data to be transferred, either <code>"counts"</code> (aggregate statistics)
or <code>"averages"</code> (mean, proportion or rate statistics). Default <code>"counts"</code>.</p>
</td></tr>
<tr><td><code id="cp2sc_+3A_all.units">all.units</code></td>
<td>
<p>A <code>TRUE/FALSE</code> value indicating the census section units of the destination division to be included
in the output data frame. If <code>TRUE</code> all the units of the destination division are included. If <code>FALSE</code> only
those units for which a value is imputed are included. Default, <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cp2sc_+3A_na.rm">na.rm</code></td>
<td>
<p>A <code>TRUE/FALSE</code> logical value indicating whether <code>NA</code> values should be stripped before
the computations proceed. Default, <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="cp2sc_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the function. Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components
</p>
<table role = "presentation">
<tr><td><code>df</code></td>
<td>
<p> A data frame with the statistics spatially transferred to the census sections corresponding to the <code>year.sscc.dest</code> division.</p>
</td></tr>
<tr><td><code>missing</code></td>
<td>
<p> A vector with the codes of the postal code areas included in <code>x</code> that are not available in the shp file of postal code area division.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The data that allows to transfer statistics among census sections
and/or postal code areas has been own elaboration by the authors using (i)
the Spanish Digital Cartography Files available in http://www.ine.es
that contain the digitalisation of the georeferenced polygons of the
census sections, according to UTM coordinates 28, 29, 30 and 31, and (ii)
the Cartography File of postal code areas developed by Goerlich (2022).
</p>
<p>Neither The Spanish Statistical Office (Instituto Nacional de Estadística) nor
Professor Goerlich had any involvement in preparing this package. They bear no responsibility on the results derived from using this package.
</p>
<p>Postal code areas have 2019 as reference year. It must be noted, however,
that they can be considered as almost time stationary. Spanish postal code areas are quite
stable over time.
</p>


<h3>Author(s)</h3>

<p>Jose M. Pavia, <a href="mailto:pavia@uv.es">pavia@uv.es</a>
</p>
<p>Virgilio Perez <a href="mailto:virgilio.perez@uv.es">virgilio.perez@uv.es</a>
</p>


<h3>References</h3>

<p>Goerlich, FJ (2022). Elaboracion de un mapa de codigos postales de Espana con recursos libres. Como evitar pagar a Correos 6000 euros por informacion de referencia. Working Papers Ivie n. 2022-3. Valencia: Ivie. <a href="https://doi.org/10.12842/WPIVIE_0322">doi:10.12842/WPIVIE_0322</a>
</p>
<p>Pavia, JM and Cantarino, I (2017a). Can dasymetric mapping significantly improve population data reallocation in a dense urban area? <em>Geographical Analysis</em>, 49(2), 155-174. <a href="https://doi.org/10.1111/gean.12112">doi:10.1111/gean.12112</a>
</p>
<p>Pavia, JM and Cantarino, I (2017b). Dasymetric distribution of votes in a dense city. <em>Applied Geography</em>, 86, 22-31. <a href="https://doi.org/10.1016/j.apgeog.2017.06.021">doi:10.1016/j.apgeog.2017.06.021</a>
</p>
<p>Perez, V and Pavia, JM (2024a). Improving Accuracy in Geospatial Information Transfer: A Population Density-Based Approach, in <em>6th International Conference on Advanced Research Methods and Analytics (CARMA 2024)</em>, Editorial Universitat Politecnica de Valencia, pp. 326-333. <a href="https://doi.org/10.4995/CARMA2024.2024.17796">doi:10.4995/CARMA2024.2024.17796</a>
</p>
<p>Perez, V and Pavia, JM  (2024b) Automating the transfer of data between census sections and postal codes areas over time. An application to Spain. <em>Investigaciones Regionales - Journal of Regional Research</em>, forthcoming. <a href="https://doi.org/10.38191/iirr-jorr.24.057">doi:10.38191/iirr-jorr.24.057</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sc2cp">sc2cp</a></code> <code><a href="#topic+sc2sc">sc2sc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- structure(list(CCPP = c(1120L, 1160L, 1250L, 1212L, 1213L),
                       income = c(15000L, 12000L, 11500L,
                       13000L, 12500L)),
                  class = "data.frame", row.names = c(NA, -5L))
example &lt;- cp2sc(x = data, year = 2014, data.type = "averages")
</code></pre>

<hr>
<h2 id='sc2cp'>Implements the geometric spatial transfer of statistics from Spanish census sections to postal code areas</h2><span id='topic+sc2cp'></span>

<h3>Description</h3>

<p>Transfers the statistics available in a set of Spanish census sections from a given year
to the corresponding spatial set of Spanish official postal code areas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc2cp(x, year, data.type = "counts", all.units = FALSE, na.rm = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sc2cp_+3A_x">x</code></td>
<td>
<p>A data frame of order N x K (with K &gt; 1) with the statistics to be spatially transferred/imputed.
The first column must contains the code of the census section to which the statistics belong to. The statistical nature
of the data columns must be of the same type. See the argument <code>data.type</code>.</p>
</td></tr>
<tr><td><code id="sc2cp_+3A_year">year</code></td>
<td>
<p>An integer number. Reference year of the census sections included in the first column of <code>x</code>.
Only 2001 and 2003 to 2023 are allowed.</p>
</td></tr>
<tr><td><code id="sc2cp_+3A_data.type">data.type</code></td>
<td>
<p>A character string indicating the type of data to be transferred, either <code>"counts"</code> (aggregate statistics)
or <code>"averages"</code> (mean, proportion or rate statistics). Default <code>"counts"</code>.</p>
</td></tr>
<tr><td><code id="sc2cp_+3A_all.units">all.units</code></td>
<td>
<p>A <code>TRUE/FALSE</code> logical value indicating the postal code area division to be included
in the output data frame. If <code>TRUE</code> all the postal code areas are included. If <code>FALSE</code> only
those units for which a value is imputed are included. Default, <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sc2cp_+3A_na.rm">na.rm</code></td>
<td>
<p>A <code>TRUE/FALSE</code> logical value indicating whether <code>NA</code> values should be stripped before
the computations proceed. Default, <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sc2cp_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the function. Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components
</p>
<table role = "presentation">
<tr><td><code>df</code></td>
<td>
<p> A data frame with the statistics spatially transferred to the postal code areas.</p>
</td></tr>
<tr><td><code>missing</code></td>
<td>
<p> A vector with the codes of the census sections included in <code>x</code> that are not available in the shp file of census sections corresponding to the <code>year.sscc.origin</code> division.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The data that allows to transfer statistics among census sections
and/or postal code areas has been own elaboration by the authors using (i)
the Spanish Digital Cartography Files available in http://www.ine.es
that contain the digitalisation of the georeferenced polygons of the
census sections, according to UTM coordinates 28, 29, 30 and 31, and (ii)
the Cartography File of postal code areas developed by Goerlich (2022).
</p>
<p>Neither The Spanish Statistical Office (Instituto Nacional de Estadística) nor
Professor Goerlich had any involvement in preparing this package. They bear no responsibility on the results derived from using this package.
</p>
<p>Postal code areas have 2019 as reference year. It must be noted, however,
that they can be considered as almost time stationary. Spanish postal code areas are quite
stable over time.
</p>


<h3>Author(s)</h3>

<p>Jose M. Pavia, <a href="mailto:pavia@uv.es">pavia@uv.es</a>
</p>
<p>Virgilio Perez <a href="mailto:virgilio.perez@uv.es">virgilio.perez@uv.es</a>
</p>


<h3>References</h3>

<p>Goerlich, FJ (2022). Elaboracion de un mapa de codigos postales de Espana con recursos libres. Como evitar pagar a Correos 6000 euros por informacion de referencia. Working Papers Ivie n. 2022-3. Valencia: Ivie. <a href="https://doi.org/10.12842/WPIVIE_0322">doi:10.12842/WPIVIE_0322</a>
</p>
<p>Pavia, JM and Cantarino, I (2017a). Can dasymetric mapping significantly improve population data reallocation in a dense urban area? <em>Geographical Analysis</em>, 49(2), 155-174. <a href="https://doi.org/10.1111/gean.12112">doi:10.1111/gean.12112</a>
</p>
<p>Pavia, JM and Cantarino, I (2017b). Dasymetric distribution of votes in a dense city. <em>Applied Geography</em>, 86, 22-31. <a href="https://doi.org/10.1016/j.apgeog.2017.06.021">doi:10.1016/j.apgeog.2017.06.021</a>
</p>
<p>Perez, V and Pavia, JM (2024a). Improving Accuracy in Geospatial Information Transfer: A Population Density-Based Approach, in <em>6th International Conference on Advanced Research Methods and Analytics (CARMA 2024)</em>, Editorial Universitat Politecnica de Valencia, pp. 326-333. <a href="https://doi.org/10.4995/CARMA2024.2024.17796">doi:10.4995/CARMA2024.2024.17796</a>
</p>
<p>Perez, V and Pavia, JM  (2024b) Automating the transfer of data between census sections and postal codes areas over time. An application to Spain. <em>Investigaciones Regionales - Journal of Regional Research</em>, forthcoming. <a href="https://doi.org/10.38191/iirr-jorr.24.057">doi:10.38191/iirr-jorr.24.057</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sc2cp">sc2cp</a></code> <code><a href="#topic+cp2sc">cp2sc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- structure(list(SSCC = c(0103701001, 4619401008, 4603103003),
                       pop = c(12000L, 14000L, 11000L)),
                       class = "data.frame", row.names = c(NA, -3L))
example &lt;- sc2cp(x = data, year = 2012, data.type = "counts")
</code></pre>

<hr>
<h2 id='sc2sc'>Implements the geometric spatial transfer of statistics among Spanish census sections corresponding to two different spatial divisions</h2><span id='topic+sc2sc'></span>

<h3>Description</h3>

<p>Spatially transfers the statistics available in a set of Spanish census sections corresponding to
the division into force in a given year to the census sections of another division
with reference in another year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc2sc(
  x,
  year.sscc.origin,
  year.sscc.dest,
  data.type = "counts",
  all.units = FALSE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sc2sc_+3A_x">x</code></td>
<td>
<p>A data frame of order N x K (with K &gt; 1) with the statistics to be spatially transferred/imputed.
The first column must contains the codes of the census sections to which the statistics belong to. The statistical nature
of the data columns must be of the same type. See the argument <code>data.type</code>.</p>
</td></tr>
<tr><td><code id="sc2sc_+3A_year.sscc.origin">year.sscc.origin</code></td>
<td>
<p>An integer number. Reference year of the census sections included in the first column of <code>x</code>.
Only 2001 and 2003 to 2023 are allowed.</p>
</td></tr>
<tr><td><code id="sc2sc_+3A_year.sscc.dest">year.sscc.dest</code></td>
<td>
<p>An integer number. Reference year of the census sections to which the statistics are going to be transferred.
Only 2001 and 2003 to 2023 are allowed and it must be different than <code>year.sscc.origin</code>.</p>
</td></tr>
<tr><td><code id="sc2sc_+3A_data.type">data.type</code></td>
<td>
<p>A character string indicating the type of data to be transferred, either <code>"counts"</code> (aggregate statistics)
or <code>"averages"</code> (mean, proportion or rate statistics). Default <code>"counts"</code>.</p>
</td></tr>
<tr><td><code id="sc2sc_+3A_all.units">all.units</code></td>
<td>
<p>A <code>TRUE/FALSE</code> logical value indicating the census section units of the destination division to be included
in the output data frame. If <code>TRUE</code> all the units of the destination division are included. If <code>FALSE</code> only
those units for which a value is imputed are included. Default, <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sc2sc_+3A_na.rm">na.rm</code></td>
<td>
<p>A <code>TRUE/FALSE</code> logical value indicating whether <code>NA</code> values should be stripped before
the computations proceed. Default, <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sc2sc_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the function. Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components
</p>
<table role = "presentation">
<tr><td><code>df</code></td>
<td>
<p> A data frame with the statistics spatially transferred to the census sections corresponding to the <code>year.sscc.dest</code> division.</p>
</td></tr>
<tr><td><code>missing</code></td>
<td>
<p> A vector with the codes of the census sections included in <code>x</code> that are not available in the shp file of census sections corresponding to the <code>year.sscc.origin</code> division.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The data that allows to transfer throughout time statistics among census sections
has been own elaboration by the authors using the Spanish Digital Cartography Files
in http://www.ine.es that contain the digitalisation of the georeferenced polygons
of the census sections, according to UTM coordinates 28, 29, 30 and 31.
</p>
<p>The Spanish Statistical Office (Instituto Nacional de Estadistica) had any
involvement in preparing this package. They bear no responsibility on the results
derived from using this package.
</p>


<h3>Author(s)</h3>

<p>Jose M. Pavia, <a href="mailto:pavia@uv.es">pavia@uv.es</a>
</p>
<p>Virgilio Perez, <a href="mailto:virgilio.perez@uv.es">virgilio.perez@uv.es</a>
</p>


<h3>References</h3>

<p>Pavia, JM and Cantarino, I (2017a). Can dasymetric mapping significantly improve population data reallocation in a dense urban area? <em>Geographical Analysis</em>, 49(2), 155-174. <a href="https://doi.org/10.1111/gean.12112">doi:10.1111/gean.12112</a>
</p>
<p>Pavia, JM and Cantarino, I (2017b). Dasymetric distribution of votes in a dense city. <em>Applied Geography</em>, 86, 22-31. <a href="https://doi.org/10.1016/j.apgeog.2017.06.021">doi:10.1016/j.apgeog.2017.06.021</a>
</p>
<p>Perez, V and Pavia, JM  (2024b) Automating the transfer of data between census sections and postal codes areas over time. An application to Spain. <em>Investigaciones Regionales - Journal of Regional Research</em>, forthcoming. <a href="https://doi.org/10.38191/iirr-jorr.24.057">doi:10.38191/iirr-jorr.24.057</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sc2cp">sc2cp</a></code> <code><a href="#topic+cp2sc">cp2sc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- structure(list(SSCC = c(3403601001, 3403701001, 3403801001, 3403901001,
                                3404101001, 3404201001, 3404501001, 3404601001,
                                3404701001, 3404701002, 3404801001),
                       X15.19 = c(4L, 7L, 13L, 0L, 0L, 13L, 1L, 5L, 30L, 48L, 1L),
                       X20.24 = c(5L, 5L, 9L, 0L, 2L, 12L, 2L, 1L, 34L, 61L, 3L)),
                       row.names = 1:11, class = "data.frame")
example &lt;- sc2sc(x = data, year.sscc.origin = 2020, year.sscc.dest = 2019)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-US"><head><title>Help for package adheRenceRX</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {adheRenceRX}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#big_data_toy'><p>A Toy Claims <code>tibble</code> for Performance Demonstration</p></a></li>
<li><a href='#calculate_pdc'><p>Calculate Proportion Days Covered</p></a></li>
<li><a href='#date_check'><p>Restructuring Dates to Remove Overlap</p></a></li>
<li><a href='#episode_check'><p>Ranking Episodes of Care</p></a></li>
<li><a href='#identify_gaps'><p>Identify Gaps in Therapy</p></a></li>
<li><a href='#propagate_date'><p>Adjust Overlapping Fill Dates</p></a></li>
<li><a href='#rank_episodes'><p>Rank Episodes of Care</p></a></li>
<li><a href='#summarise_gaps'><p>Summarise Gaps in Therapy</p></a></li>
<li><a href='#toy_claims'><p>A Toy Patient Medication Claims <code>tibble</code></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Assess Medication Adherence from Pharmaceutical Claims Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-10-27</td>
</tr>
<tr>
<td>Description:</td>
<td>A (mildly) opinionated set of functions to help assess medication adherence for researchers working with medication claims data.
    Medication adherence analyses have several complex steps that are often convoluted and can be time-intensive. The focus is to create a 
    set of functions using "tidy principles" geared towards transparency, speed, and flexibility while working with adherence metrics. All functions perform exactly one task 
    with an intuitive name so that a researcher can handle details (often achieved with vectorized solutions) while we handle non-vectorized tasks common to most 
    adherence calculations such as adjusting fill dates and determining episodes of care. The methodologies in referenced in this package come from
    Canfield SL, et al (2019) "Navigating the Wild West of Medication Adherence Reporting in Specialty Pharmacy" &lt;<a href="https://doi.org/10.18553%2Fjmcp.2019.25.10.1073">doi:10.18553/jmcp.2019.25.10.1073</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.5), anytime, tidyr, dplyr, purrr, lubridate,
rlang</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, spelling</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/btbeal/adheRenceRX">https://github.com/btbeal/adheRenceRX</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/btbeal/adheRenceRX/issues">https://github.com/btbeal/adheRenceRX/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-11-19 18:09:29 UTC; btbeal</td>
</tr>
<tr>
<td>Author:</td>
<td>Brennan Beal [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brennan Beal &lt;brennanbeal@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-20 10:40:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='big_data_toy'>A Toy Claims <code>tibble</code> for Performance Demonstration</h2><span id='topic+big_data_toy'></span>

<h3>Description</h3>

<p>A toy pharmaceutical claims data set meant to be used to benchmark other algorithms
</p>


<h3>Usage</h3>

<pre><code class='language-R'>big_data_toy
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code> with 100,000 rows and 6 variables:
</p>

<dl>
<dt>ID</dt><dd><p>patient ID to be grouped by</p>
</dd>
<dt>date</dt><dd><p>date of claim</p>
</dd>
<dt>days_supply</dt><dd><p>number of days supplied</p>
</dd>
</dl>


<hr>
<h2 id='calculate_pdc'>Calculate Proportion Days Covered</h2><span id='topic+calculate_pdc'></span>

<h3>Description</h3>

<p>Calculate the proportion of days covered (PDC) from a pharmaceutical claims database. This function is suggested only  
after one has properly adjusted their dates (<code>propagate_date()</code>) and identified gaps in therapy
(<code>identify_gaps()</code>). This function calculates a length of total therapy as the first fill date to the last for a given grouping. 
Finally, if you'd like to view adherence by episodes after you have used <code>rank_episodes()</code>, the function will re-adjust gaps for you so that the gap that defined the episode isn't included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_pdc(.data, .summarise = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_pdc_+3A_.data">.data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="calculate_pdc_+3A_.summarise">.summarise</code></td>
<td>
<p>Logical value (defaulting to TRUE) indicating whether the output should be summarised or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a summarised tibble, by default, with proportion of days covered calculated
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(adheRenceRX)
library(dplyr)

toy_claims %&gt;% 
  group_by(ID) %&gt;% 
  propagate_date(.date = date, .days_supply = days_supply) %&gt;% 
  identify_gaps() %&gt;% 
  calculate_pdc()
  
#OR, one could group by the ID and episode of care like...
toy_claims %&gt;% 
  group_by(ID) %&gt;% 
  propagate_date(.date = date, .days_supply = days_supply) %&gt;% 
  identify_gaps() %&gt;% 
  rank_episodes(.permissible_gap = 30) %&gt;% 
  ungroup() %&gt;% 
  group_by(ID, episode) %&gt;% 
  calculate_pdc()
</code></pre>

<hr>
<h2 id='date_check'>Restructuring Dates to Remove Overlap</h2><span id='topic+date_check'></span>

<h3>Description</h3>

<p>This is a function meant to be utilized within propagate_date() in order to adjust pharmaceutical claims dates to prevent
overlapping in adherence calculations, per Canfield SL, Zuckerman A, Anguiano RH, Jolly JA, DeClercq J.
Navigating the wild west of medication adherence reporting in specialty pharmacy. J Manag Care Spec Pharm. 2019;25(10):1073-77.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>date_check(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="date_check_+3A_df">df</code></td>
<td>
<p>a claims data frame with a date of a medication claim and the corresponding days supply</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new claims data frame with an appended column, <code>adjusted_date</code>
</p>

<hr>
<h2 id='episode_check'>Ranking Episodes of Care</h2><span id='topic+episode_check'></span>

<h3>Description</h3>

<p>This is a helper function to assist <code>rank_episodes</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>episode_check(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="episode_check_+3A_df">df</code></td>
<td>
<p>a data frame with &quot;gap&quot;, &quot;initial_rank&quot;, and &quot;permi_gap&quot; columns appended from <code>identify_gaps()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with an &quot;episode&quot; column appended, which ranks episodes of care in time
</p>

<hr>
<h2 id='identify_gaps'>Identify Gaps in Therapy</h2><span id='topic+identify_gaps'></span>

<h3>Description</h3>

<p>Compute gaps in a patient's therapy from the end of their prior fill to the beginning of the next. This function assumes that one has
arranged the dates and grouped appropriately outside of the function. The length of any gap will be appended 
to the row after the gap has occurred.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>identify_gaps(.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="identify_gaps_+3A_.data">.data</code></td>
<td>
<p>data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new claims tibble with an appended column, <code>gap</code>
</p>


<h3>Note</h3>

<p>This function relies an <code>adjusted_date</code> column to identify gaps in therapy. So, if you don't want to use <code>propagate_date()</code> beforehand,
you'll need to rename the date variable you wish to use to <code>adjusted_date</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(adheRenceRX)
library(dplyr)

toy_claims %&gt;% 
  filter(ID == "D") %&gt;% 
  propagate_date(.date_var = date, .days_supply_var = days_supply) %&gt;% 
  identify_gaps()


</code></pre>

<hr>
<h2 id='propagate_date'>Adjust Overlapping Fill Dates</h2><span id='topic+propagate_date'></span>

<h3>Description</h3>

<p>When assessing pharmaceutical adherence, one should adjust overlapping dates forward for a specified group (e.g. patient ids or medication classes) 
so that there is no overlap in days supply. For example, if a patient receives a 30 days supply on January 1st, and another 15 days later, the next fill date
should be moved up 15 days. This function is modeled after recommendations from Canfield SL, Zuckerman A, Anguiano RH, Jolly JA, DeClercq J.
Navigating the wild west of medication adherence reporting in specialty pharmacy. J Manag Care Spec Pharm. 2019;25(10):1073-77.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propagate_date(.data, .date_var = NULL, .days_supply_var = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="propagate_date_+3A_.data">.data</code></td>
<td>
<p>Data to be piped into the function</p>
</td></tr>
<tr><td><code id="propagate_date_+3A_.date_var">.date_var</code></td>
<td>
<p>Date, column indicating the date of a given fill</p>
</td></tr>
<tr><td><code id="propagate_date_+3A_.days_supply_var">.days_supply_var</code></td>
<td>
<p>Integer, column indicating the days supply of a given fill</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The initial claims data frame with an appended column,  <code>adjusted_date</code>
</p>


<h3>Note</h3>

<p>This function relies on <a href="anytime.html#topic+anydate">anydate</a> to parse the users date variable into a date class. So, for most columns passed to .date_var, this function will run without warning or error.
For example, <code>anydate(30)</code> will return &quot;1970-01-31&quot; even though 30 is most likely a days supply. If strange results are produced, double check that the 
date variable being specified is indeed a fill date.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(adheRenceRX)
library(dplyr)

toy_claims %&gt;% 
  filter(ID == "D") %&gt;% 
  propagate_date(.date_var = date, .days_supply_var = days_supply)
</code></pre>

<hr>
<h2 id='rank_episodes'>Rank Episodes of Care</h2><span id='topic+rank_episodes'></span>

<h3>Description</h3>

<p>This function identifies and labels all episodes of care for a given patient in chronological order. A new episode begins after a specified gap in therapy has occurred. 
It is meant to be used after one has appropriately adjusted dates (<code>propagate_date()</code>) and identified gaps in therapy (<code>identify_gaps()</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rank_episodes(.data, .permissible_gap = NULL, .initial_rank = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rank_episodes_+3A_.data">.data</code></td>
<td>
<p>Data frame with a &quot;gap&quot; column appended from <code>identify_gaps()</code></p>
</td></tr>
<tr><td><code id="rank_episodes_+3A_.permissible_gap">.permissible_gap</code></td>
<td>
<p>Integer value suggesting the maximum gap allowed before labeling a new episode of care</p>
</td></tr>
<tr><td><code id="rank_episodes_+3A_.initial_rank">.initial_rank</code></td>
<td>
<p>Integer value to identify what the indexing rank should be (defaults to 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The initial claims data frame with an <code>episode</code> column appended, which ranks episodes of care in time
</p>


<h3>Note</h3>

<p>This function assumes an <code>adjusted_date</code> column, which is produced by the <code>propagate_date()</code> function and a
<code>gap</code> column, which is produced by <code>identify_gaps()</code>. If you would like to rank episodes of care using other dates and a separate
column for gaps, you'll need to rename those columns before passing the frame to <code>rank_episodes()</code>. Notably, this is on purpose as this step should
almost always come after the former two.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(adheRenceRX)
library(dplyr)

toy_claims %&gt;% 
  filter(ID == "D") %&gt;% 
  propagate_date() %&gt;% 
  identify_gaps() %&gt;% 
  rank_episodes(.permissible_gap = 20, .initial_rank = 1)
  
</code></pre>

<hr>
<h2 id='summarise_gaps'>Summarise Gaps in Therapy</h2><span id='topic+summarise_gaps'></span>

<h3>Description</h3>

<p>This function serves as a convenience wrapper of <code>dplyr::summarise()</code>, which takes the grouped variables and
summarises their gaps in therapy. This function is to be used after <code>propagate_date()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_gaps(.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summarise_gaps_+3A_.data">.data</code></td>
<td>
<p>Data to be piped into the function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of gaps in therapy
</p>


<h3>Note</h3>

<p>This function relies an <code>adjusted_date</code> column to identify gaps in therapy. So, if you don't want to use <code>propagate_date()</code> beforehand,
you'll need to rename the date variable you wish to use to <code>adjusted_date</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(adheRenceRX)
library(dplyr)

toy_claims %&gt;% 
  filter(ID == "D") %&gt;% 
  propagate_date(.date_var = date, .days_supply_var = days_supply) %&gt;% 
  summarise_gaps()



</code></pre>

<hr>
<h2 id='toy_claims'>A Toy Patient Medication Claims <code>tibble</code></h2><span id='topic+toy_claims'></span>

<h3>Description</h3>

<p>This mock patient claims tibble is meant to test adheRenceRX with scenarios presented in Figure 1. of 
Canfield SL, Zuckerman A, Anguiano RH, Jolly JA, DeClercq J.
Navigating the wild west of medication adherence reporting in specialty pharmacy. J Manag Care Spec Pharm. 2019;25(10):1073-77
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toy_claims
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code> with 22 rows and 3 variables:
</p>

<dl>
<dt>ID</dt><dd><p>patient ID to be grouped by</p>
</dd>
<dt>date</dt><dd><p>date of claim</p>
</dd>
<dt>days_supply</dt><dd><p>number of days supplied</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

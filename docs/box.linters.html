<!DOCTYPE html><html><head><title>Help for package box.linters</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {box.linters}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#box_alphabetical_calls_linter'><p><code>box</code> library alphabetical module and function imports linter</p></a></li>
<li><a href='#box_default_linters'><p>Box-compatible default linters</p></a></li>
<li><a href='#box_func_import_count_linter'><p><code>box</code> library function import count linter</p></a></li>
<li><a href='#box_mod_fun_exists_linter'><p><code>box</code> library attached function exists and exported by called module linter</p></a></li>
<li><a href='#box_module_base_path'><p>Find <code>box::use</code> calls for local modules</p></a></li>
<li><a href='#box_package_base_path'><p>Find <code>box::use</code> calls for R libraries/packages</p></a></li>
<li><a href='#box_pkg_fun_exists_linter'><p><code>box</code> library attached function exists and exported by package linter</p></a></li>
<li><a href='#box_separate_calls_linter'><p><code>box</code> library separate packages and module imports linter</p></a></li>
<li><a href='#box_trailing_commas_linter'><p><code>box</code> library trailing commas linter</p></a></li>
<li><a href='#box_universal_import_linter'><p><code>box</code> library universal import linter</p></a></li>
<li><a href='#box_unused_att_mod_obj_linter'><p><code>box</code> library unused attached module object linter</p></a></li>
<li><a href='#box_unused_att_pkg_fun_linter'><p><code>box</code> library unused attached package function linter</p></a></li>
<li><a href='#box_unused_attached_mod_linter'><p><code>box</code> library unused attached module linter</p></a></li>
<li><a href='#box_unused_attached_pkg_linter'><p><code>box</code> library unused attached package linter</p></a></li>
<li><a href='#box_usage_linter'><p><code>box</code> library-aware object usage linter</p></a></li>
<li><a href='#check_attached_mod_funs'><p>Check if functions being attached exist and are being exported by the local module</p></a></li>
<li><a href='#check_attached_pkg_funs'><p>Check if functions being attached exist and are being exported by the library/package</p></a></li>
<li><a href='#extract_xml_and_text'><p>Extracts XML nodes and text strings matched by XML search</p></a></li>
<li><a href='#get_attached_mod_functions'><p>Get imported functions from modules</p></a></li>
<li><a href='#get_attached_mod_three_dots'><p>Get all functions exported from modules by ...</p></a></li>
<li><a href='#get_attached_modules'><p>Get all modules imported whole</p></a></li>
<li><a href='#get_attached_packages'><p>Get all packages imported whole</p></a></li>
<li><a href='#get_attached_pkg_functions'><p>Get imported functions from packages</p></a></li>
<li><a href='#get_attached_pkg_three_dots'><p>Get all functions exported from packages by ...</p></a></li>
<li><a href='#get_box_module_exports'><p>Get a list of functions and data objects exported by a local <code>box</code> module</p></a></li>
<li><a href='#get_declared_functions'><p>Get locally declared/defined functions</p></a></li>
<li><a href='#get_declared_objects'><p>Get locally declared/defined data objects</p></a></li>
<li><a href='#get_function_calls'><p>Get functions called in current source file</p></a></li>
<li><a href='#get_function_signature_objs'><p>Get objects names in function signatures from all functions in current source file</p></a></li>
<li><a href='#get_module_exports'><p>Get functions exported by modules</p></a></li>
<li><a href='#get_object_calls'><p>Get objects called in current source file</p></a></li>
<li><a href='#get_objects_in_strings'><p>Get objects used in <code>glue</code> string templates</p></a></li>
<li><a href='#get_packages_exports'><p>Get functions exported by packages</p></a></li>
<li><a href='#get_r6_components'><p>Get declared/defined R6 class components</p></a></li>
<li><a href='#make_r6_components_xpath'><p>XPath to get internal components of an R6 class</p></a></li>
<li><a href='#make_r6_internal_calls_xpath'><p>XPath to get internal function or data object calls inside an R6 class</p></a></li>
<li><a href='#r6_usage_linter'><p>R6 class usage linter</p></a></li>
<li><a href='#rhino_default_linters'><p>Rhino default linters</p></a></li>
<li><a href='#unused_declared_object_linter'><p>Unused declared function and data objects linter</p></a></li>
<li><a href='#use_box_lintr'><p>Use lintr with box.linters in your project</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Linters for 'box' Modules</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Static code analysis of 'box' modules.
  The package enhances code quality by providing linters that check for common issues,
  enforce best practices, and ensure consistent coding standards.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://appsilon.github.io/box.linters/">https://appsilon.github.io/box.linters/</a>,
<a href="https://github.com/Appsilon/box.linters">https://github.com/Appsilon/box.linters</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, fs, glue, lintr (&ge; 3.0.0), rlang, stringr, xml2,
xmlparsedata</td>
</tr>
<tr>
<td>Suggests:</td>
<td>box, covr, dplyr, knitr, rcmdcheck, rmarkdown, R6, rex,
rhino, shiny, spelling, testthat (&ge; 3.0.0), withr,</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-03 08:16:54 UTC; kuba</td>
</tr>
<tr>
<td>Author:</td>
<td>Ricardo Rodrigo Basa [aut, cre],
  Jakub Nowicki [aut],
  Appsilon Sp. z o.o. [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ricardo Rodrigo Basa &lt;opensource+rodrigo@appsilon.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-04 09:50:39 UTC</td>
</tr>
</table>
<hr>
<h2 id='box_alphabetical_calls_linter'><code>box</code> library alphabetical module and function imports linter</h2><span id='topic+box_alphabetical_calls_linter'></span>

<h3>Description</h3>

<p>Checks that module and function imports are sorted alphabetically. Aliases are
ignored. The sort check is on package/module names and attached function names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_alphabetical_calls_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
lintr::lint(
  text = "box::use(packageB, packageA)",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(package[functionB, functionA])",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/B, path/to/A)",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/A[functionB, functionA])",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/A[alias = functionB, functionA])",
  linters = box_alphabetical_calls_linter()
)

# okay
lintr::lint(
  text = "box::use(packageA, packageB)",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(package[functionA, functionB])",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/A, path/to/B)",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/A[functionA, functionB])",
  linters = box_alphabetical_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/A[functionA, alias = functionB])",
  linters = box_alphabetical_calls_linter()
)

</code></pre>

<hr>
<h2 id='box_default_linters'>Box-compatible default linters</h2><span id='topic+box_default_linters'></span>

<h3>Description</h3>

<p>A replacement for <code>lintr::object_usage_linter()</code> that works with <code>box</code> modules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_default_linters
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 33.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>linters &lt;- lintr::linters_with_defaults(defaults = box.linters::box_default_linters)

names(linters)

</code></pre>

<hr>
<h2 id='box_func_import_count_linter'><code>box</code> library function import count linter</h2><span id='topic+box_func_import_count_linter'></span>

<h3>Description</h3>

<p>Checks that function imports do not exceed the defined <code>max</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_func_import_count_linter(max = 8L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="box_func_import_count_linter_+3A_max">max</code></td>
<td>
<p>Maximum function imports allowed between <code>[</code> and <code style="white-space: pre;">&#8288;]&#8288;</code>. Defaults to 8.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
lintr::lint(
  text = "box::use(package[one, two, three, four, five, six, seven, eight, nine])",
  linters = box_func_import_count_linter()
)

lintr::lint(
  text = "box::use(package[one, two, three, four])",
  linters = box_func_import_count_linter(3)
)

# okay
lintr::lint(
  text = "box::use(package[one, two, three, four, five])",
  linters = box_func_import_count_linter()
)

lintr::lint(
  text = "box::use(package[one, two, three])",
  linters = box_func_import_count_linter(3)
)

</code></pre>

<hr>
<h2 id='box_mod_fun_exists_linter'><code>box</code> library attached function exists and exported by called module linter</h2><span id='topic+box_mod_fun_exists_linter'></span>

<h3>Description</h3>

<p>Checks that functions being attached exist and are exported by the local module being called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_mod_fun_exists_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# will produce lint
lintr::lint(
  text = "box::use(path/to/module_a[function_not_exists],)",
  linter = box_mod_fun_exists_linter()
)

# okay
lintr::lint(
  text = "box::use(path/to/module_a[function_exists],)",
  linter = box_mod_fun_exists_linter()
)

## End(Not run)
</code></pre>

<hr>
<h2 id='box_module_base_path'>Find <code>box::use</code> calls for local modules</h2><span id='topic+box_module_base_path'></span>

<h3>Description</h3>

<p>Find <code>box::use</code> calls for local modules
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_module_base_path()
</code></pre>


<h3>Details</h3>

<p>Base XPath to find <code>box::use</code> declarations that match the following pattern:
<code>
box::use(
  path/to/module,
)
</code>
</p>


<h3>Value</h3>

<p>An XPath
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_separate_calls_linter">box_separate_calls_linter()</a></code>
</p>

<hr>
<h2 id='box_package_base_path'>Find <code>box::use</code> calls for R libraries/packages</h2><span id='topic+box_package_base_path'></span>

<h3>Description</h3>

<p>Find <code>box::use</code> calls for R libraries/packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_package_base_path()
</code></pre>


<h3>Details</h3>

<p>Base XPath to find <code>box::use</code> declarations that match the following pattern:
<code>
box::use(
  package,
)
</code>
</p>


<h3>Value</h3>

<p>An XPath
</p>


<h3>See Also</h3>

<p><code><a href="#topic+box_separate_calls_linter">box_separate_calls_linter()</a></code>
</p>

<hr>
<h2 id='box_pkg_fun_exists_linter'><code>box</code> library attached function exists and exported by package linter</h2><span id='topic+box_pkg_fun_exists_linter'></span>

<h3>Description</h3>

<p>Checks that functions being attached exist and are exported by the package/library being called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_pkg_fun_exists_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lint
lintr::lint(
  text = "box::use(stringr[function_not_exists],)",
  linter = box_pkg_fun_exists_linter()
)

# okay
lintr::lint(
  text = "box::use(stringr[str_pad],)",
  linter = box_pkg_fun_exists_linter()
)
</code></pre>

<hr>
<h2 id='box_separate_calls_linter'><code>box</code> library separate packages and module imports linter</h2><span id='topic+box_separate_calls_linter'></span>

<h3>Description</h3>

<p>Checks that packages and modules are imported in separate <code>box::use()</code> statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_separate_calls_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
lintr::lint(
  text = "box::use(package, path/to/file)",
  linters = box_separate_calls_linter()
)

lintr::lint(
  text = "box::use(path/to/file, package)",
  linters = box_separate_calls_linter()
)

# okay
lintr::lint(
  text = "box::use(package1, package2)
    box::use(path/to/file1, path/to/file2)",
  linters = box_separate_calls_linter()
)

</code></pre>

<hr>
<h2 id='box_trailing_commas_linter'><code>box</code> library trailing commas linter</h2><span id='topic+box_trailing_commas_linter'></span>

<h3>Description</h3>

<p>Checks that all <code>box:use</code> imports have a trailing comma. This applies to
package or module imports between <code>(</code> and <code style="white-space: pre;">&#8288;)&#8288;</code>, and, optionally, function imports between
<code>[</code> and <code style="white-space: pre;">&#8288;]&#8288;</code>. Take note that <code>lintr::commas_linter()</code> may come into play.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_trailing_commas_linter(check_functions = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="box_trailing_commas_linter_+3A_check_functions">check_functions</code></td>
<td>
<p>Boolean flag to include function imports between <code>[</code> and <code style="white-space: pre;">&#8288;]&#8288;</code>.
Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
lintr::lint(
  text = "box::use(base, rlang)",
  linters = box_trailing_commas_linter()
)

lintr::lint(
  text = "box::use(
   dplyr[select, mutate]
  )",
  linters = box_trailing_commas_linter()
)

# okay
lintr::lint(
  text = "box::use(base, rlang, )",
  linters = box_trailing_commas_linter()
)

lintr::lint(
  text = "box::use(
    dplyr[select, mutate],
  )",
  linters = box_trailing_commas_linter()
)

</code></pre>

<hr>
<h2 id='box_universal_import_linter'><code>box</code> library universal import linter</h2><span id='topic+box_universal_import_linter'></span>

<h3>Description</h3>

<p>Checks that all function imports are explicit. <code>package[...]</code> is not used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_universal_import_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
lintr::lint(
  text = "box::use(base[...])",
  linters = box_universal_import_linter()
)

lintr::lint(
  text = "box::use(path/to/file[...])",
  linters = box_universal_import_linter()
)

# okay
lintr::lint(
  text = "box::use(base[print])",
  linters = box_universal_import_linter()
)

lintr::lint(
  text = "box::use(path/to/file[do_something])",
  linters = box_universal_import_linter()
)

</code></pre>

<hr>
<h2 id='box_unused_att_mod_obj_linter'><code>box</code> library unused attached module object linter</h2><span id='topic+box_unused_att_mod_obj_linter'></span>

<h3>Description</h3>

<p>Checks that all attached module functions and data objects are used within the source file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_unused_att_mod_obj_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# will produce lints
code &lt;- "
box::use(
  path/to/module[some_function, some_object],
)
"

lintr::lint(text = code, linters = box_unused_att_mod_obj_linter())

code &lt;- "
box::use(
  path/to/module[alias_func = some_function, alias_obj = some_object],
)
"

lintr::lint(text = code, linters = box_unused_att_mod_obj_linter())

# okay
code &lt;- "
box::use(
  path/to/module[some_function, some_object],
)

x &lt;- sum(some_object)
some_function()
"

lintr::lint(text = code, linters = box_unused_att_mod_obj_linter())

code &lt;- "
box::use(
  path/to/module[alias_func = some_function, alias_obj = some_object],
)

x &lt;- sum(alias_obj)
alias_func()
"

lintr::lint(text = code, linters = box_unused_att_mod_obj_linter())

## End(Not run)
</code></pre>

<hr>
<h2 id='box_unused_att_pkg_fun_linter'><code>box</code> library unused attached package function linter</h2><span id='topic+box_unused_att_pkg_fun_linter'></span>

<h3>Description</h3>

<p>Checks that all attached package functions are used within the source file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_unused_att_pkg_fun_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
code &lt;- "
box::use(
  stringr[str_pad],
)
"

lintr::lint(text = code, linters = box_unused_att_pkg_fun_linter())

code &lt;- "
box::use(
  stringr[alias_func = str_pad],
)
"

lintr::lint(text = code, linters = box_unused_att_pkg_fun_linter())

# okay
code &lt;- "
box::use(
  stringr[str_pad],
)

str_pad()
"

lintr::lint(text = code, linters = box_unused_att_pkg_fun_linter())

code &lt;- "
box::use(
  stringr[alias_func = str_pad],
)

alias_func()
"

lintr::lint(text = code, linters = box_unused_att_pkg_fun_linter())

</code></pre>

<hr>
<h2 id='box_unused_attached_mod_linter'><code>box</code> library unused attached module linter</h2><span id='topic+box_unused_attached_mod_linter'></span>

<h3>Description</h3>

<p>Checks that all attached modules are used within the source file. This also covers modules
attached using the <code>...</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_unused_attached_mod_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# will produce lints
code &lt;- "
box::use(
  path/to/module
)
"

lintr::lint(code, linters = box_unused_attached_mod_linter())

code &lt;- "
box::use(
  alias = path/to/module
)
"

lintr::lint(code, linters = box_unused_attached_mod_linter())

code &lt;- "
box::use(
  path/to/module[...]
)
"

lintr::lint(code, linters = box_unused_attached_mod_linter())

# okay
code &lt;- "
box::use(
  path/to/module
)

module$some_function()
"

lintr::lint(code, linters = box_unused_attached_mod_linter())

code &lt;- "
box::use(
  alias = path/to/module
)

alias$some_function()
"

lintr::lint(code, linters = box_unused_attached_mod_linter())

code &lt;- "
box::use(
  path/to/module[...]     # module exports some_function()
)

some_function()
"

lintr::lint(code, linters = box_unused_attached_mod_linter())

## End(Not run)

</code></pre>

<hr>
<h2 id='box_unused_attached_pkg_linter'><code>box</code> library unused attached package linter</h2><span id='topic+box_unused_attached_pkg_linter'></span>

<h3>Description</h3>

<p>Checks that all attached packages are used within the source file. This also covers packages
attached using the <code>...</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_unused_attached_pkg_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
code &lt;- "
box::use(
  stringr
)
"

lintr::lint(text = code, linters = box_unused_attached_pkg_linter())

code &lt;- "
box::use(
  alias = stringr
)
"

lintr::lint(text = code, linters = box_unused_attached_pkg_linter())

code &lt;- "
box::use(
  stringr[...]
)
"

lintr::lint(text = code, linters = box_unused_attached_pkg_linter())

# okay
code &lt;- "
box::use(
  stringr
)

stringr$str_pad()
"

lintr::lint(text = code, linters = box_unused_attached_pkg_linter())

code &lt;- "
box::use(
  alias = stringr
)

alias$str_pad()
"

lintr::lint(text = code, linters = box_unused_attached_pkg_linter())

code &lt;- "
box::use(
  stringr[...]
)

str_pad()
"

lintr::lint(text = code, linters = box_unused_attached_pkg_linter())

</code></pre>

<hr>
<h2 id='box_usage_linter'><code>box</code> library-aware object usage linter</h2><span id='topic+box_usage_linter'></span>

<h3>Description</h3>

<p>Checks that all function and data object calls made within a source file are valid.
There are three ways for functions and data object calls to be come &quot;valid&quot;. First is via base
R packages. Second is via local declaration/definition. The third is via <code>box::use()</code> attachment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box_usage_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
box::use(
  dplyr[`%&gt;%`, filter, pull],
  stringr,
)

mpg &lt;- mtcars %&gt;%
  filter(mpg &lt;= 10) %&gt;%
  pull(mpg)

mpg &lt;- mtcars %&gt;%
  filter(mpg &lt;= 10) %&gt;%
  select(mpg)             # will lint

trimmed_string &lt;- stringr$str_trim("  some string  ")
trimmed_string &lt;- stringr$strtrim("  some string  ")     # will lint

existing_function &lt;- function(x, y, z) {
  mean(c(x, y, z))
}

existing_function(1, 2, 3)
non_existing_function(1, 2, 3)     # will lint

average(1, 2, 3)       # will lint

## End(Not run)

</code></pre>

<hr>
<h2 id='check_attached_mod_funs'>Check if functions being attached exist and are being exported by the local module</h2><span id='topic+check_attached_mod_funs'></span>

<h3>Description</h3>

<p>Check if functions being attached exist and are being exported by the local module
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_attached_mod_funs(xml, xpath)
</code></pre>


<h3>Value</h3>

<p>An XML node list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_module_exports">get_module_exports()</a></code>
</p>

<hr>
<h2 id='check_attached_pkg_funs'>Check if functions being attached exist and are being exported by the library/package</h2><span id='topic+check_attached_pkg_funs'></span>

<h3>Description</h3>

<p>Check if functions being attached exist and are being exported by the library/package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_attached_pkg_funs(xml, xpath)
</code></pre>


<h3>Value</h3>

<p>An XML node list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_packages_exports">get_packages_exports()</a></code>
</p>

<hr>
<h2 id='extract_xml_and_text'>Extracts XML nodes and text strings matched by XML search</h2><span id='topic+extract_xml_and_text'></span>

<h3>Description</h3>

<p>Extracts XML nodes and text strings matched by XML search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_xml_and_text(xml, xpath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_xml_and_text_+3A_xml">xml</code></td>
<td>
<p>An XML node list.</p>
</td></tr>
<tr><td><code id="extract_xml_and_text_+3A_xpath">xpath</code></td>
<td>
<p>An XPath to search xml nodes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>xml_nodes</code> and <code>text</code>.
</p>

<hr>
<h2 id='get_attached_mod_functions'>Get imported functions from modules</h2><span id='topic+get_attached_mod_functions'></span>

<h3>Description</h3>

<p>Get imported functions from modules
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attached_mod_functions(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attached_mod_functions_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xml</code> list of xml nodes, <code>text</code> a list of function names.
</p>

<hr>
<h2 id='get_attached_mod_three_dots'>Get all functions exported from modules by ...</h2><span id='topic+get_attached_mod_three_dots'></span>

<h3>Description</h3>

<p>Get all functions exported from modules by ...
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attached_mod_three_dots(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attached_mod_three_dots_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xml</code> list of <code>xml_nodes</code>, <code>nested</code> list of <code style="white-space: pre;">&#8288;module: function&#8288;</code>, <code>text</code> list of function
names.
</p>

<hr>
<h2 id='get_attached_modules'>Get all modules imported whole</h2><span id='topic+get_attached_modules'></span>

<h3>Description</h3>

<p>Get all modules imported whole
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attached_modules(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attached_modules_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xml</code> list of <code>xml_nodes</code>, <code>nested</code> list of <code>module: functions</code>, <code>aliases</code> a named list
of <code>module</code> = <code>alias</code>, <code>text</code> list of all <code style="white-space: pre;">&#8288;module$function&#8288;</code> names.
</p>

<hr>
<h2 id='get_attached_packages'>Get all packages imported whole</h2><span id='topic+get_attached_packages'></span>

<h3>Description</h3>

<p>Get all packages imported whole
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attached_packages(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attached_packages_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xml</code> list of <code>xml_nodes</code>, <code>nested</code> list of <code>package: functions</code>, <code>aliases</code> a named list
of <code>package</code> = <code>alias</code>, <code>text</code> list of all <code style="white-space: pre;">&#8288;package$function&#8288;</code> names.
</p>

<hr>
<h2 id='get_attached_pkg_functions'>Get imported functions from packages</h2><span id='topic+get_attached_pkg_functions'></span>

<h3>Description</h3>

<p>Get imported functions from packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attached_pkg_functions(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attached_pkg_functions_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xml</code> list of xml nodes, <code>text</code> a list of function names.
</p>

<hr>
<h2 id='get_attached_pkg_three_dots'>Get all functions exported from packages by ...</h2><span id='topic+get_attached_pkg_three_dots'></span>

<h3>Description</h3>

<p>Get all functions exported from packages by ...
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attached_pkg_three_dots(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attached_pkg_three_dots_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>xml</code> list of <code>xml_nodes</code>, <code>nested</code> list of <code style="white-space: pre;">&#8288;package: function&#8288;</code>, <code>text</code> a list of
function names.
</p>

<hr>
<h2 id='get_box_module_exports'>Get a list of functions and data objects exported by a local <code>box</code> module</h2><span id='topic+get_box_module_exports'></span>

<h3>Description</h3>

<p>An implementation for <code>box</code> modules to provide similar functionality as <code>getNamespaceExports()</code>
for libraries/packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_box_module_exports(declaration, alias = "", caller = globalenv())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_box_module_exports_+3A_declaration">declaration</code></td>
<td>
<p>The mod or package call expression. See <code>box:::parse_spec()</code> source
code for more details.</p>
</td></tr>
<tr><td><code id="get_box_module_exports_+3A_alias">alias</code></td>
<td>
<p>Mod or package-level alias as a character string. See <code>box:::parse_spec()</code> source
code for more details. Default is fine for <code>box.linters</code> use.</p>
</td></tr>
<tr><td><code id="get_box_module_exports_+3A_caller">caller</code></td>
<td>
<p>The environment from which <code>box::use</code> was invoked.
Default is fine for <code>box.linters</code> use.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of exported functions and data objects.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+getNamespaceExports">getNamespaceExports()</a></code>
</p>

<hr>
<h2 id='get_declared_functions'>Get locally declared/defined functions</h2><span id='topic+get_declared_functions'></span>

<h3>Description</h3>

<p>Get locally declared/defined functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_declared_functions(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_declared_functions_+3A_xml">xml</code></td>
<td>
<p>An XML node list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>xml_nodes</code> and <code>text</code>.
</p>

<hr>
<h2 id='get_declared_objects'>Get locally declared/defined data objects</h2><span id='topic+get_declared_objects'></span>

<h3>Description</h3>

<p>Get locally declared/defined data objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_declared_objects(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_declared_objects_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>xml_nodes</code> and <code>text</code>.
</p>

<hr>
<h2 id='get_function_calls'>Get functions called in current source file</h2><span id='topic+get_function_calls'></span>

<h3>Description</h3>

<p>Get functions called in current source file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_function_calls(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_function_calls_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>xml_nodes</code> and <code>text</code>.
</p>

<hr>
<h2 id='get_function_signature_objs'>Get objects names in function signatures from all functions in current source file</h2><span id='topic+get_function_signature_objs'></span>

<h3>Description</h3>

<p>This is a brute-force extraction of <code>SYMBOL_FORMALS</code> and is not scope-aware.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_function_signature_objs(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_function_signature_objs_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of <code>xml_nodes</code> and <code>text</code>.
</p>

<hr>
<h2 id='get_module_exports'>Get functions exported by modules</h2><span id='topic+get_module_exports'></span>

<h3>Description</h3>

<p>Get functions exported by modules
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_module_exports(mod_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_module_exports_+3A_mod_list">mod_list</code></td>
<td>
<p>A vector of packages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of (<code>package_name</code> = list(<code>of_functions</code>))
</p>

<hr>
<h2 id='get_object_calls'>Get objects called in current source file</h2><span id='topic+get_object_calls'></span>

<h3>Description</h3>

<p>Get objects called in current source file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_object_calls(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_object_calls_+3A_xml">xml</code></td>
<td>
<p>An XML node list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of <code>xml_nodes</code> and <code>text</code>.
</p>

<hr>
<h2 id='get_objects_in_strings'>Get objects used in <code>glue</code> string templates</h2><span id='topic+get_objects_in_strings'></span>

<h3>Description</h3>

<p>In <code>glue</code>, all text between <code style="white-space: pre;">&#8288;{&#8288;</code> and <code style="white-space: pre;">&#8288;}&#8288;</code> is considered code. Literal braces are defined as
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code>. Text between double braces are not interpolated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_objects_in_strings(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_objects_in_strings_+3A_xml">xml</code></td>
<td>
<p>An xml node list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of object and function names found inside <code>glue</code> string templates.
</p>

<hr>
<h2 id='get_packages_exports'>Get functions exported by packages</h2><span id='topic+get_packages_exports'></span>

<h3>Description</h3>

<p>Get functions exported by packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_packages_exports(pkg_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_packages_exports_+3A_pkg_list">pkg_list</code></td>
<td>
<p>A vector of packages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of (<code>package_name</code> = list(<code>of_functions</code>))
</p>

<hr>
<h2 id='get_r6_components'>Get declared/defined R6 class components</h2><span id='topic+get_r6_components'></span>

<h3>Description</h3>

<p>Get declared/defined R6 class components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_r6_components(xml, mode = c("public", "active", "private"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_r6_components_+3A_xml">xml</code></td>
<td>
<p>XML representation of R source code.</p>
</td></tr>
<tr><td><code id="get_r6_components_+3A_mode">mode</code></td>
<td>
<p>Type of internal component (<code>public</code>, <code>active</code>, <code>private</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of XML nodes and corresponding text string values of the nodes
</p>

<hr>
<h2 id='make_r6_components_xpath'>XPath to get internal components of an R6 class</h2><span id='topic+make_r6_components_xpath'></span>

<h3>Description</h3>

<p>XPath to get internal components of an R6 class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_r6_components_xpath(mode = c("public", "active", "private"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_r6_components_xpath_+3A_mode">mode</code></td>
<td>
<p>Type of internal component (<code>public</code>, <code>active</code>, or <code>private</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An XPath query
</p>

<hr>
<h2 id='make_r6_internal_calls_xpath'>XPath to get internal function or data object calls inside an R6 class</h2><span id='topic+make_r6_internal_calls_xpath'></span>

<h3>Description</h3>

<p>XPath to get internal function or data object calls inside an R6 class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_r6_internal_calls_xpath(mode = c("self", "private"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_r6_internal_calls_xpath_+3A_mode">mode</code></td>
<td>
<p>Type of internal call (<code>self</code> or <code>private</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An XPath query
</p>

<hr>
<h2 id='r6_usage_linter'>R6 class usage linter</h2><span id='topic+r6_usage_linter'></span>

<h3>Description</h3>

<p>Checks method and attribute calls within an R6 class. Covers public, private, and active objects.
All internal calls should exist. All private methods and attributes should be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r6_usage_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lints
code = "
box::use(
  R6[R6Class],
)

badClass &lt;- R6Class('badClass',
  public = list(
    initialize = function() {
      private$not_exists()
    }
  ),
  private = list(
    unused_attribute = 'private data',
    unused_method = function() {
      self$attribute_not_exists
      self$function_not_exists()
    }
  )
)
"

lintr::lint(
  text = code,
  linters = r6_usage_linter()
)

# okay
code = "
box::use(
  R6[R6Class],
)

goodClass &lt;- R6Class('goodClass',
  public = list(
    public_attr = NULL,
    initialize = function() {
      private$private_func()
    },
    some_function = function () {
      private$private_attr
    }
  ),
  private = list(
    private_attr = 'private data',
    private_func = function() {
      self$public_attr
    }
  )
)
"

lintr::lint(
  text = code,
  linters = r6_usage_linter()
)

</code></pre>

<hr>
<h2 id='rhino_default_linters'>Rhino default linters</h2><span id='topic+rhino_default_linters'></span>

<h3>Description</h3>

<p>See the <a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rhino_default_linters
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 38.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>linters &lt;- lintr::linters_with_defaults(defaults = box.linters::rhino_default_linters)

names(linters)

</code></pre>

<hr>
<h2 id='unused_declared_object_linter'>Unused declared function and data objects linter</h2><span id='topic+unused_declared_object_linter'></span>

<h3>Description</h3>

<p>Checks that all defined/declared functions and data objects are used within the source file.
Functions and data objects that are marked with <code>@export</code> are ignored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unused_declared_object_linter()
</code></pre>


<h3>Details</h3>

<p>For use in <code>rhino</code>, see the
<a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Explanation: Rhino style guide</a>
to learn about the details.
</p>


<h3>Value</h3>

<p>A custom linter function for use with <code>r-lib/lintr</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># will produce lint
code &lt;- "
#' @export
public_function &lt;- function() {

}

private_function &lt;- function() {

}

local_data &lt;- \"A\"
"

lintr::lint(text = code, linters = unused_declared_object_linter())

# okay
code &lt;- "
#' @export
public_function &lt;- function() {
  some_variable &lt;- local_data
  private_function()
}

private_function &lt;- function() {

}

local_data &lt;- \"A\"
"

lintr::lint(text = code, linters = unused_declared_object_linter())

</code></pre>

<hr>
<h2 id='use_box_lintr'>Use lintr with box.linters in your project</h2><span id='topic+use_box_lintr'></span>

<h3>Description</h3>

<p>Create a minimal lintr config file with <code>box</code> modules support as a starting point
for customization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_box_lintr(path = ".", type = c("basic_box", "rhino"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_box_lintr_+3A_path">path</code></td>
<td>
<p>Path to project root where a <code>.lintr</code> file should be created.
If the <code>.lintr</code> file already exists, an error will be thrown.</p>
</td></tr>
<tr><td><code id="use_box_lintr_+3A_type">type</code></td>
<td>
<p>The kind of configuration to create
</p>

<ul>
<li> <p><code>basic_box</code> creates a minimal lintr config based on the <code>tidyverse</code> configuration of <code>lintr</code>.
This starts with <code>lintr::linters_with_defaults()</code> and is customized for <code>box</code> module
compatibility
</p>
</li>
<li> <p><code>rhino</code> creates a lintr config based on the <a href="https://appsilon.github.io/rhino/articles/explanation/rhino-style-guide.html">Rhino style guide</a>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Path to the generated configuration, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # use default box-compatible set of linters
  box.linters::use_box_lintr()

  # use `rhino` set of linters
  box.linters::use_box_lintr(type = "rhino")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

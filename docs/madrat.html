<!DOCTYPE html><html><head><title>Help for package madrat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {madrat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#madrat-package'><p>May All Data be Reproducible And Transparent (madrat) *</p></a></li>
<li><a href='#addMapping'><p>addMapping</p></a></li>
<li><a href='#cacheArgumentsHash'><p>Tool: cacheArgumentsHash</p></a></li>
<li><a href='#cacheCleanup'><p>cacheCleanup</p></a></li>
<li><a href='#cacheCopy'><p>cacheCopy</p></a></li>
<li><a href='#cacheGet'><p>Tool: cacheGet</p></a></li>
<li><a href='#cacheName'><p>Tool: cacheName</p></a></li>
<li><a href='#cachePut'><p>Tool: cachePut</p></a></li>
<li><a href='#calcOutput'><p>calcOutput</p></a></li>
<li><a href='#calcTauTotal'><p>Calculate total tau</p></a></li>
<li><a href='#compareData'><p>compareData</p></a></li>
<li><a href='#compareMadratOutputs'><p>Compare a madrat function's output with and without your changes</p></a></li>
<li><a href='#convertTau'><p>Convert Tau</p></a></li>
<li><a href='#downloadSource'><p>downloadSource</p></a></li>
<li><a href='#findBottlenecks'><p>findBottlenecks</p></a></li>
<li><a href='#fingerprint'><p>Tool: fingerprint</p></a></li>
<li><a href='#fullEXAMPLE'><p>fullExample</p></a></li>
<li><a href='#getCalculations'><p>getCalculations</p></a></li>
<li><a href='#getCode'><p>getCode</p></a></li>
<li><a href='#getConfig'><p>getConfig</p></a></li>
<li><a href='#getDependencies'><p>getDependencies</p></a></li>
<li><a href='#getFlags'><p>getFlags</p></a></li>
<li><a href='#getISOlist'><p>get official ISO list</p></a></li>
<li><a href='#getLocation'><p>getLocation</p></a></li>
<li><a href='#getMadratGraph'><p>getMadratGraph</p></a></li>
<li><a href='#getMadratInfo'><p>getMadratInfo</p></a></li>
<li><a href='#getMadratMessage'><p>getMadratMessage</p></a></li>
<li><a href='#getMainfolder'><p>getMainfolder</p></a></li>
<li><a href='#getNonDefaultArguments'><p>getNonDefaultArguments</p></a></li>
<li><a href='#getSources'><p>getSources</p></a></li>
<li><a href='#initializeConfig'><p>initializeConfig</p></a></li>
<li><a href='#installedMadratUniverse'><p>installedMadratUniverse</p></a></li>
<li><a href='#isWrapperActive'><p>isWrapperActive</p></a></li>
<li><a href='#madapply'><p>madapply</p></a></li>
<li><a href='#madlapply'><p>madlapply</p></a></li>
<li><a href='#madratAttach'><p>madratAttach / madratDetach</p></a></li>
<li><a href='#madTempDir'><p>madTempDir</p></a></li>
<li><a href='#metadataGFZ'><p>metadataGFZ</p></a></li>
<li><a href='#prepFunctionName'><p>prepFunctionName</p></a></li>
<li><a href='#pucAggregate'><p>pucAggregate</p></a></li>
<li><a href='#putMadratMessage'><p>putMadratMessage</p></a></li>
<li><a href='#readSource'><p>readSource</p></a></li>
<li><a href='#readTau'><p>Read Tau</p></a></li>
<li><a href='#regionscode'><p>Tool: regionscode</p></a></li>
<li><a href='#resetMadratMessages'><p>resetMadratMessages</p></a></li>
<li><a href='#retrieveData'><p>retrieveData</p></a></li>
<li><a href='#robustOrder'><p>robustOrder, robustSort</p></a></li>
<li><a href='#setConfig'><p>setConfig</p></a></li>
<li><a href='#toolAggregate'><p>toolAggregate</p></a></li>
<li><a href='#toolCodeLabels'><p>Tool: CodeLabels</p></a></li>
<li><a href='#toolConditionalReplace'><p>toolConditionalReplace</p></a></li>
<li><a href='#toolConvertMapping'><p>Tool: ConvertMapping</p></a></li>
<li><a href='#toolCountry2isocode'><p>toolCountry2isocode</p></a></li>
<li><a href='#toolCountryFill'><p>Tool: CountryFill</p></a></li>
<li><a href='#toolendmessage'><p>Tool: End message</p></a></li>
<li><a href='#toolFillWithRegionAvg'><p>Tool: FillWithRegionAvg</p></a></li>
<li><a href='#toolFillYears'><p>toolFillYears</p></a></li>
<li><a href='#toolGetMapping'><p>Tool: GetMapping</p></a></li>
<li><a href='#toolISOhistorical'><p>Tool: ISOhistorical</p></a></li>
<li><a href='#toolManualDownload'><p>Tool: ManualDownload</p></a></li>
<li><a href='#toolNAreplace'><p>Tool: NA replace</p></a></li>
<li><a href='#toolOrderCells'><p>toolOrderCells</p></a></li>
<li><a href='#toolSplitSubtype'><p>Tool: SplitSubtype</p></a></li>
<li><a href='#toolstartmessage'><p>Tool: Start message</p></a></li>
<li><a href='#toolSubtypeSelect'><p>Tool: SubtypeSelect</p></a></li>
<li><a href='#toolTimeAverage'><p>toolTimeAverage</p></a></li>
<li><a href='#toolTimeSpline'><p>toolTimeSpline</p></a></li>
<li><a href='#toolXlargest'><p>toolXlargest</p></a></li>
<li><a href='#vcat'><p>Tool: Verbosity Cat</p></a></li>
<li><a href='#visualizeDependencies'><p>visualizeDependencies</p></a></li>
<li><a href='#withMadratLogging'><p>Tool: withMadratLogging</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>May All Data be Reproducible and Transparent (MADRaT) *</td>
</tr>
<tr>
<td>Version:</td>
<td>3.6.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-23</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a framework which should improve reproducibility and
    transparency in data processing. It provides functionality such as
    automatic meta data creation and management, rudimentary quality
    management, data caching, work-flow management and data aggregation.
    * The title is a wish not a promise. By no means we expect this
    package to deliver everything what is needed to achieve full
    reproducibility and transparency, but we believe that it supports
    efforts in this direction.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pik-piam/madrat">https://github.com/pik-piam/madrat</a>,
<a href="https://doi.org/10.5281/zenodo.1115490">https://doi.org/10.5281/zenodo.1115490</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pik-piam/madrat/issues">https://github.com/pik-piam/madrat/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>magclass (&ge; 5.7.0), R (&ge; 2.10.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>callr, digest, igraph (&ge; 1.0.1), Matrix, methods, pkgload,
renv, stringi, tools, utils, withr, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, knitr, rmarkdown, terra, testthat, tibble,
grDevices, graphics</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-23 08:10:04 UTC; dietrich</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan Philipp Dietrich [aut, cre],
  Lavinia Baumstark [aut],
  Stephen Wirth [aut],
  Anastasis Giannousakis [aut],
  Renato Rodrigues [aut],
  Benjamin Leon Bodirsky [aut],
  Debbora Leip [aut],
  Ulrich Kreidenweis [aut],
  David Klein [aut],
  Pascal FÃ¼hrlich [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan Philipp Dietrich &lt;dietrich@pik-potsdam.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-23 14:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='madrat-package'>May All Data be Reproducible And Transparent (madrat) *</h2><span id='topic+madrat-package'></span><span id='topic+madrat'></span>

<h3>Description</h3>

<p>Package provides a basic framework which should improve reproducibility and transparency in data processing. 
It provides functionality such as automatic meta data creation and management, rudimentary quality management, 
data caching, work-flow management an data aggregation.
</p>


<h3>Details</h3>

<p>* The title is a wish not a promise. By no means we expect this package to deliver everything what is needed to
achieve full reproducibility and transparency, but we believe that it supports efforts in this direction.
</p>

<hr>
<h2 id='addMapping'>addMapping</h2><span id='topic+addMapping'></span>

<h3>Description</h3>

<p>Function whichs adds another mapping to the current list of extramappings
in the madrat configuration (see <code><a href="#topic+setConfig">setConfig</a></code>) and stores
the mapping in the mapping folder as well as output folder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMapping(filename, mapping = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addMapping_+3A_filename">filename</code></td>
<td>
<p>The name of the the region mapping that should added including
file ending (e.g. &quot;regionmappingREMIND.csv&quot;). Supported formats are currently
&quot;.csv&quot; and &quot;.rds&quot;.</p>
</td></tr>
<tr><td><code id="addMapping_+3A_mapping">mapping</code></td>
<td>
<p>Mapping provided as data.frame, or NULL. If a mapping is
provided the data will be written in the mapping file of the given file
(potentially replacing existing data). If NULL the mapping from the given
file is used.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addMapping("regionmappingH12.csv")

## End(Not run)
</code></pre>

<hr>
<h2 id='cacheArgumentsHash'>Tool: cacheArgumentsHash</h2><span id='topic+cacheArgumentsHash'></span>

<h3>Description</h3>

<p>Calculate hash from given function arguments for given call
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cacheArgumentsHash(call, args = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cacheArgumentsHash_+3A_call">call</code></td>
<td>
<p>A function as a string or symbol. Passing a vector of functions is possible, but is only intended for
corresponding read/correct/convert functions. If multiple functions in a vector define arguments with the same name
but different default values only the default defined in the first function is considered.</p>
</td></tr>
<tr><td><code id="cacheArgumentsHash_+3A_args">args</code></td>
<td>
<p>A list of named arguments used to call the given function(s). If duplicates of arguments exists the first
occurrence of the argument will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A hash representing the given arguments hash for the given call. NULL, if no argument deviates from the
default argument settings.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cachePut">cachePut</a></code>, <code><a href="#topic+cacheName">cacheName</a></code>, <code><a href="#topic+getNonDefaultArguments">getNonDefaultArguments</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>madrat:::cacheArgumentsHash("madrat:::readTau", args = list(subtype = "historical"))
madrat:::cacheArgumentsHash("madrat:::readTau", args = list(subtype = "paper"))
calls &lt;- c(madrat:::readTau, madrat:::convertTau)
madrat:::cacheArgumentsHash(calls, args = list(subtype = "historical"))
</code></pre>

<hr>
<h2 id='cacheCleanup'>cacheCleanup</h2><span id='topic+cacheCleanup'></span>

<h3>Description</h3>

<p>Delete files older than the specified number of days, based on file time metadata (per default atime = last access
time).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cacheCleanup(
  daysThreshold,
  path = getConfig("cachefolder", verbose = FALSE),
  timeType = c("atime", "mtime", "ctime"),
  ask = TRUE,
  readlineFunction = readline
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cacheCleanup_+3A_daysthreshold">daysThreshold</code></td>
<td>
<p>Files older than this many days are deleted/returned.</p>
</td></tr>
<tr><td><code id="cacheCleanup_+3A_path">path</code></td>
<td>
<p>Path to where to look for old files.</p>
</td></tr>
<tr><td><code id="cacheCleanup_+3A_timetype">timeType</code></td>
<td>
<p>Which file metadata time should be used. One of atime (last access time, default),
mtime (last modify time), ctime (last metadata change).</p>
</td></tr>
<tr><td><code id="cacheCleanup_+3A_ask">ask</code></td>
<td>
<p>Whether to ask before deleting.</p>
</td></tr>
<tr><td><code id="cacheCleanup_+3A_readlinefunction">readlineFunction</code></td>
<td>
<p>Only needed for testing. A function to prompt the user for input.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>File time metadata is not available on all systems and the semantics are also system dependent, so please be
careful and check that the correct files are deleted. This function will return a data.frame containing all
files that would be deleted if the user answers 'n' to the question. If deleting files fails a warning is created.
</p>


<h3>Value</h3>

<p>If the user answers 'n', a data.frame as returned by base::file.info, containing only files older than
&lt;daysThreshold&gt; days.
</p>

<hr>
<h2 id='cacheCopy'>cacheCopy</h2><span id='topic+cacheCopy'></span>

<h3>Description</h3>

<p>Copy cache files which were used for a given preprocessing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cacheCopy(file, target = NULL, filter = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cacheCopy_+3A_file">file</code></td>
<td>
<p>Path to a log file or content of a log as character vector.</p>
</td></tr>
<tr><td><code id="cacheCopy_+3A_target">target</code></td>
<td>
<p>Folder to which the files should be copied. If NULL no data is copied.</p>
</td></tr>
<tr><td><code id="cacheCopy_+3A_filter">filter</code></td>
<td>
<p>Regular expression to filter the cache files shown in the log file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of cache files which match the given log information and filter.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>

<hr>
<h2 id='cacheGet'>Tool: cacheGet</h2><span id='topic+cacheGet'></span>

<h3>Description</h3>

<p>Load fitting cache data (if available)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cacheGet(prefix, type, args = NULL, graph = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cacheGet_+3A_prefix">prefix</code></td>
<td>
<p>function prefix (e.g. &quot;calc&quot; or &quot;read&quot;)</p>
</td></tr>
<tr><td><code id="cacheGet_+3A_type">type</code></td>
<td>
<p>output type (e.g. &quot;TauTotal&quot;)</p>
</td></tr>
<tr><td><code id="cacheGet_+3A_args">args</code></td>
<td>
<p>a list of named arguments used to call the given function</p>
</td></tr>
<tr><td><code id="cacheGet_+3A_graph">graph</code></td>
<td>
<p>A madrat graph as returned by <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>.
Will be created with <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> if not provided.</p>
</td></tr>
<tr><td><code id="cacheGet_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> in case
that no graph is provided (otherwise ignored)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cached data, if cache is available, otherwise NULL
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cachePut">cachePut</a></code>, <code><a href="#topic+cacheName">cacheName</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>madrat:::cacheGet("calc", "TauTotal", packages = "madrat")
</code></pre>

<hr>
<h2 id='cacheName'>Tool: cacheName</h2><span id='topic+cacheName'></span>

<h3>Description</h3>

<p>Load fitting cache data (if available)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cacheName(
  prefix,
  type,
  args = NULL,
  graph = NULL,
  mode = "put",
  packages = getConfig("packages"),
  globalenv = getConfig("globalenv")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cacheName_+3A_prefix">prefix</code></td>
<td>
<p>function prefix (e.g. &quot;calc&quot; or &quot;read&quot;)</p>
</td></tr>
<tr><td><code id="cacheName_+3A_type">type</code></td>
<td>
<p>output type (e.g. &quot;TauTotal&quot;)</p>
</td></tr>
<tr><td><code id="cacheName_+3A_args">args</code></td>
<td>
<p>a list of named arguments used to call the given function</p>
</td></tr>
<tr><td><code id="cacheName_+3A_graph">graph</code></td>
<td>
<p>A madrat graph as returned by <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>.
Will be created with <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> if not provided.</p>
</td></tr>
<tr><td><code id="cacheName_+3A_mode">mode</code></td>
<td>
<p>Context in which the function is used. Either &quot;get&quot; (loading) or
&quot;put&quot; (writing). In case of &quot;put&quot; the potential file name is returned.
When set to &quot;get&quot;, a file name will only be returned if the file exists
(otherwise NULL) and in combination which <code>setConfig(forcecache=TRUE)</code>
even a cache file with deviating hash might get selected.</p>
</td></tr>
<tr><td><code id="cacheName_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages for which the available
Sources/Calculations should be returned</p>
</td></tr>
<tr><td><code id="cacheName_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether sources/calculations in the global
environment should be included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of fitting cache file, if available, otherwise NULL
</p>


<h3>Note</h3>

<p><code>setConfig(forcecache=TRUE)</code> strongly affects the behavior
of <code>cacheName</code>. In read model it will also return cache names
with deviating hashes if no fitting cache file is found (in that case
it will just return the newest one). In write mode the hash in the name
will be left out since due to cache forcing it cannot be guaranteed
that the cache file agrees with the state represented by the hash.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cachePut">cachePut</a></code>, <code><a href="#topic+cacheName">cacheName</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>madrat:::cacheName("calc", "TauTotal")
</code></pre>

<hr>
<h2 id='cachePut'>Tool: cachePut</h2><span id='topic+cachePut'></span>

<h3>Description</h3>

<p>Save data to cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cachePut(x, prefix, type, args = NULL, graph = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cachePut_+3A_x">x</code></td>
<td>
<p>data that should be written to cache</p>
</td></tr>
<tr><td><code id="cachePut_+3A_prefix">prefix</code></td>
<td>
<p>function prefix (e.g. &quot;calc&quot; or &quot;read&quot;)</p>
</td></tr>
<tr><td><code id="cachePut_+3A_type">type</code></td>
<td>
<p>output type (e.g. &quot;TauTotal&quot;)</p>
</td></tr>
<tr><td><code id="cachePut_+3A_args">args</code></td>
<td>
<p>a list of named arguments used to call the given function</p>
</td></tr>
<tr><td><code id="cachePut_+3A_graph">graph</code></td>
<td>
<p>A madrat graph as returned by <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>
Will be created with <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> if not provided.</p>
</td></tr>
<tr><td><code id="cachePut_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> in case
that no graph is provided (otherwise ignored)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cachePut">cachePut</a></code>, <code><a href="#topic+cacheName">cacheName</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
example &lt;- 1
madrat:::cachePut(example, "calc", "Example", packages = "madrat")

## End(Not run)
</code></pre>

<hr>
<h2 id='calcOutput'>calcOutput</h2><span id='topic+calcOutput'></span>

<h3>Description</h3>

<p>Calculate a specific output for which a calculation function exists. The function is a
wrapper for specific functions designed for the different possible output types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcOutput(
  type,
  aggregate = TRUE,
  file = NULL,
  years = NULL,
  round = NULL,
  signif = NULL,
  supplementary = FALSE,
  append = FALSE,
  warnNA = TRUE,
  na_warning = NULL,
  try = FALSE,
  regionmapping = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcOutput_+3A_type">type</code></td>
<td>
<p>output type, e.g. &quot;TauTotal&quot;. A list of all available source
types can be retrieved with function <code><a href="#topic+getCalculations">getCalculations</a></code>.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_aggregate">aggregate</code></td>
<td>
<p>Boolean indicating whether output data aggregation should be performed or
not, &quot;GLO&quot; (or &quot;glo&quot;) for aggregation to one global region,
&quot;REG+GLO&quot; (or &quot;regglo&quot;) for a combination of regional and global data.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_file">file</code></td>
<td>
<p>A file name. If given the output is written to that file in the
outputfolder as specified in the config.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_years">years</code></td>
<td>
<p>A vector of years that should be returned. If set to NULL all
available years are returned.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_round">round</code></td>
<td>
<p>Number of decimal places to round to.  Ignored if <code>NULL</code>.  See
<code><a href="base.html#topic+round">round()</a></code> for details.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_signif">signif</code></td>
<td>
<p>Number of significant digits to round to.  Ignored if <code>NULL</code>.
See <code><a href="base.html#topic+signif">signif()</a></code> for details.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_supplementary">supplementary</code></td>
<td>
<p>boolean deciding whether supplementary information such as weight should be
returned or not. If set to TRUE a list of elements will be returned!</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_append">append</code></td>
<td>
<p>boolean deciding whether the output data should be appended in the existing file.
Works only when a file name is given in the function call.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_warnna">warnNA</code></td>
<td>
<p>boolean deciding whether NAs in the data set should create a warning or not</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_na_warning">na_warning</code></td>
<td>
<p>deprecated, please use <code>warnNA</code> instead</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_try">try</code></td>
<td>
<p>if set to TRUE the calculation will only be tried and the script will continue even if
the underlying calculation failed. If set to TRUE calculation will stop with an error in such a
case. This setting will be overwritten by the global setting debug=TRUE, in which try will be
always interpreted as TRUE.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_regionmapping">regionmapping</code></td>
<td>
<p>alternative regionmapping to use for the given calculation. It will temporarily
overwrite the global setting just for this calculation.</p>
</td></tr>
<tr><td><code id="calcOutput_+3A_...">...</code></td>
<td>
<p>Additional settings directly forwarded to the corresponding
calculation function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>magpie object with the requested output data either on country or on
regional level depending on the choice of argument &quot;aggregate&quot; or a list of information
if supplementary is set to TRUE.
</p>


<h3>Note</h3>

<p>The underlying calc-functions are required to provide a list of information back to
<code>calcOutput</code>. Following list entries should be provided:
</p>

<ul>
<li> <p><b>x</b> - the data itself as magclass object
</p>
</li>
<li> <p><b>weight</b> - a weight for the spatial aggregation
</p>
</li>
<li> <p><b>unit</b> - unit of the provided data
</p>
</li>
<li> <p><b>description</b> - a short description of the data
</p>
</li>
<li> <p><b>note</b> (optional) - additional notes related to the data
</p>
</li>
<li> <p><b>class</b> (optional | default = &quot;magpie&quot;) - Class of the returned object. If set to
something other than &quot;magpie&quot; most functionality, such as aggregation or unit tests will not
be available and is switched off!
</p>
</li>
<li> <p><b>isocountries</b> (optional | default = TRUE (mostly) or FALSE (if global)) - a boolean
indicating whether data is in iso countries or not (the latter will deactivate several
features such as aggregation)
</p>
</li>
<li> <p><b>mixed_aggregation</b> (optional | default = FALSE) - boolean which allows for mixed
aggregation (weighted mean mixed with summations). If set to TRUE weight columns
filled with NA will lead to summation, otherwise they will trigger an error.
</p>
</li>
<li> <p><b>min</b> (optional) - Minimum value which can appear in the data. If provided calcOutput
will check whether there are any values below the given threshold and warn in this case
</p>
</li>
<li> <p><b>max</b> (optional) - Maximum value which can appear in the data. If provided calcOutput
will check whether there are any values above the given threshold and warn in this case
</p>
</li>
<li> <p><b>structure.spatial</b> (optional) - regular expression describing the name structure of all
names in the spatial dimension (e.g. <code>"^[A-Z]\{3\}$"</code>). Names will be checked against this regular expression and
disagreements will be reported via a warning.
</p>
</li>
<li> <p><b>structure.temporal</b> (optional) - regular expression describing the name structure of all
names in the temporal dimension (e.g. <code>"^y[0-9]\{4\}$"</code>). Names will be checked against this regular expression and
disagreements will be reported via a warning.
</p>
</li>
<li> <p><b>structure.data</b> (optional) - regular expression describing the name structure of all
names in the data dimension (e.g. <code>"^[a-z]*\\\\.[a-z]*$"</code>). Names will be checked against this regular expression and
disagreements will be reported via a warning.
</p>
</li>
<li> <p><b>aggregationFunction</b> (optional | default = toolAggregate) - Function to be used to
aggregate data from country to regions. The function must have the argument <code>x</code> for
the data itself and <code>rel</code> for the relation mapping between countries and regions and
must return the data as magpie object in the spatial resolution as defined in rel.
</p>
</li>
<li> <p><b>aggregationArguments</b> (optional) - List of additional, named arguments to be supplied
to the aggregation function. In addition to the arguments set here, the function will be
supplied with the arguments <code>x</code>, <code>rel</code> and if provided/deviating from the default
also <code>weight</code> and <code>mixed_aggregation</code>.
</p>
</li>
<li> <p><b>putInPUC</b> (optional) boolean which decides whether this calculation should be added to a puc file
which contains non-aggregated data and can be used to later on aggregate the data to resolutions of own choice.
If not set <code>calcOutput</code> will try to determine automatically, whether a file is being required for the puc file
or not, but in more complex cases (e.g. if calculations below top-level have to be run as well) this setting can
be used to manually tweak the puc file list. CAUTION: Incorrect settings will cause corrupt puc files,
so use this setting with extreme care and only if necessary.
</p>
</li>
<li> <p><b>cache</b> (optional) boolean which decides whether a cache file should be written (if caching is active)
or not. Default setting is TRUE. This can be for instance useful, if the calculation itself is quick, but
the corresponding file sizes are huge. Or if the caching for the given data type does not support storage
in RDS format. CAUTION: Deactivating caching for a data set which should be part of a PUC file
will corrupt the PUC file. Use with care.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>, <code><a href="#topic+calcTauTotal">calcTauTotal</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

a &lt;- calcOutput(type = "TauTotal")

## End(Not run)

</code></pre>

<hr>
<h2 id='calcTauTotal'>Calculate total tau</h2><span id='topic+calcTauTotal'></span>

<h3>Description</h3>

<p>This function prepares total tau values for use. As the source data already
provides all required information this function purely removes not required
data and moves xref values to the weighting object which is required for
aggregation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcTauTotal(source = "paper")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcTauTotal_+3A_source">source</code></td>
<td>
<p>data source, either &quot;paper&quot; (default) or &quot;historical&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Total tau data and corresponding weights as a list of two MAgPIE
objects
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calcOutput">calcOutput</a></code>, <code><a href="#topic+readTau">readTau</a></code>,
<code><a href="#topic+convertTau">convertTau</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
calcOutput("TauTotal")

## End(Not run)
</code></pre>

<hr>
<h2 id='compareData'>compareData</h2><span id='topic+compareData'></span>

<h3>Description</h3>

<p>Compares the content of two data archives and looks for similarities and differences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareData(x, y, tolerance = 10^-5, yearLim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareData_+3A_x">x</code></td>
<td>
<p>Either a tgz file or a folder containing data sets</p>
</td></tr>
<tr><td><code id="compareData_+3A_y">y</code></td>
<td>
<p>Either a tgz file or a folder containing data sets</p>
</td></tr>
<tr><td><code id="compareData_+3A_tolerance">tolerance</code></td>
<td>
<p>tolerance level below which differences will
get ignored</p>
</td></tr>
<tr><td><code id="compareData_+3A_yearlim">yearLim</code></td>
<td>
<p>year until when the comparison should be performed.
Useful to check if data is identical until a certain year.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Florian Humpenoeder
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>, <code><a href="#topic+calcTauTotal">calcTauTotal</a></code>,
</p>

<hr>
<h2 id='compareMadratOutputs'>Compare a madrat function's output with and without your changes</h2><span id='topic+compareMadratOutputs'></span>

<h3>Description</h3>

<p>With 'compareMadratOutputs' you can easily compare the output of a madrat function (read, calc, ...) with and without
your changes. First, run 'compareMadratOutputs' without your changes, so a '.rds' file with the original output is
saved. Then apply your changes and run 'compareMadratOutputs' again to compare the new output to the original output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareMadratOutputs(package, functionName, subtypes, overwriteOld = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareMadratOutputs_+3A_package">package</code></td>
<td>
<p>[character(1)] The package where the given function is located. It will be attached via 'library'.</p>
</td></tr>
<tr><td><code id="compareMadratOutputs_+3A_functionname">functionName</code></td>
<td>
<p>[character(1)] The name of the function from which you want to compare outputs. Must be a madrat
function whose name starts with read, correct, convert, or calc.</p>
</td></tr>
<tr><td><code id="compareMadratOutputs_+3A_subtypes">subtypes</code></td>
<td>
<p>[character(n)] The subtypes you want to check. For calc functions this must be NULL.</p>
</td></tr>
<tr><td><code id="compareMadratOutputs_+3A_overwriteold">overwriteOld</code></td>
<td>
<p>If TRUE: overwrite a &quot;*-old-*.rds&quot; previously created with compareMadratOutputs.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are differences a '&lt;functionName&gt;-new.rds' containing the new output is saved for closer inspection. All
files are created in the current working directory.
</p>


<h3>Value</h3>

<p>Invisibly the result of 'waldo::compare' or 'all.equal' if a comparison was made, otherwise a named list of
the outputs for each subtype.
</p>


<h3>Author(s)</h3>

<p>Pascal FÃ¼hrlich
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# save original output to readTau-old.rds
compareMadratOutputs("madrat", "readTau", c("paper", "historical"))

# now apply your changes to madrat:::readTau, reinstall madrat, restart the R session

# compare new output to original output from readTau-old.rds
compareMadratOutputs("madrat", "readTau", c("paper", "historical"))

## End(Not run)

</code></pre>

<hr>
<h2 id='convertTau'>Convert Tau</h2><span id='topic+convertTau'></span>

<h3>Description</h3>

<p>Convert landuse intensity data (tau) to data on ISO country level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertTau(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertTau_+3A_x">x</code></td>
<td>
<p>MAgPIE object containing tau values and corresponding weights xref
at 0.5deg cellular level.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tau data and weights as MAgPIE object aggregated to country level
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>

<hr>
<h2 id='downloadSource'>downloadSource</h2><span id='topic+downloadSource'></span>

<h3>Description</h3>

<p>Download a source. The function is a wrapper for specific functions designed
for the different possible source types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>downloadSource(type, subtype = NULL, overwrite = FALSE, numberOfTries = 300)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="downloadSource_+3A_type">type</code></td>
<td>
<p>source type, e.g. &quot;IEA&quot;. A list of all available source types can be retrieved with
function <code><a href="#topic+getSources">getSources</a>("download")</code>.</p>
</td></tr>
<tr><td><code id="downloadSource_+3A_subtype">subtype</code></td>
<td>
<p>For some sources there are subtypes of the source, for these source the subtype can be specified
with this argument. If a source does not have subtypes, subtypes should not be set.</p>
</td></tr>
<tr><td><code id="downloadSource_+3A_overwrite">overwrite</code></td>
<td>
<p>Boolean deciding whether existing data should be overwritten or not.</p>
</td></tr>
<tr><td><code id="downloadSource_+3A_numberoftries">numberOfTries</code></td>
<td>
<p>Integer determining how often readSource will check whether a running download is finished
before exiting with an error. Between checks readSource will wait 30 seconds. Has no effect if the sources that
should be read are not currently being downloaded.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The underlying download-functions are required to provide a list of information
back to <code>downloadSource</code>. Following list entries should be provided:
</p>

<ul>
<li> <p><b>url</b> - full path to the file that should be downloaded
</p>
</li>
<li> <p><b>title</b> - title of the data source
</p>
</li>
<li> <p><b>author</b> - author(s) of the data set
</p>
</li>
<li> <p><b>license</b> - license of the data set. Put <b>unknown</b> if not specified.
</p>
</li>
<li> <p><b>description</b> - description of the data source
</p>
</li>
<li> <p><b>unit</b> - unit(s) of the data
</p>
</li>
<li> <p><b>doi</b> (optional) - a DOI URL to the data source
</p>
</li>
<li> <p><b>version</b> (optional) - version number of the data set
</p>
</li>
<li> <p><b>release_date</b> (optional) - release date of the data set
</p>
</li>
<li> <p><b>reference</b> (optional) - A reference for the data set (e.g. a paper, if the data was derived from it)
</p>
</li></ul>

<p>This user-provided data is enriched by automatically derived metadata:
</p>

<ul>
<li> <p><b>call</b> - Information about the used madrat function call to download the data
will check whether there are any values below the given threshold and warn in this case
</p>
</li>
<li> <p><b>accessibility</b> - A measure of quality for the accessibility of the data. Currently it distinguished
between <b>iron</b> (manual access), <b>silver</b> (automatic access via URL) and <b>gold</b> (automatic access via
DOI).
</p>
</li></ul>

<p>Besides the names above (user-provided and automatically derived) it is possible to add custom metadata entries by
extending the return list with additional, named entries.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, David Klein, Pascal FÃ¼hrlich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>, <code><a href="#topic+readSource">readSource</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
a &lt;- downloadSource("Tau", subtype = "historical")

## End(Not run)
</code></pre>

<hr>
<h2 id='findBottlenecks'>findBottlenecks</h2><span id='topic+findBottlenecks'></span>

<h3>Description</h3>

<p>Analyzes a log from a retrieveData run, extracts runtime information for all called functions
and identifies most critical bottlenecks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findBottlenecks(file, unit = "min", cumulative = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findBottlenecks_+3A_file">file</code></td>
<td>
<p>path to a log file or content of a log as character vector</p>
</td></tr>
<tr><td><code id="findBottlenecks_+3A_unit">unit</code></td>
<td>
<p>unit for runtime information, either &quot;s&quot; (seconds), &quot;min&quot; (minutes) or &quot;h&quot; (hours)</p>
</td></tr>
<tr><td><code id="findBottlenecks_+3A_cumulative">cumulative</code></td>
<td>
<p>boolean deciding whether calls to the same function should be aggregated or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame sorted by net runtime showing for the different data processing functions their
total runtime &quot;time&quot; (including the execution of all sub-functions) and net runtime &quot;net&quot; (excluding
the runtime of sub-functions) and their share of total runtime.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>

<hr>
<h2 id='fingerprint'>Tool: fingerprint</h2><span id='topic+fingerprint'></span>

<h3>Description</h3>

<p>Function which creates a unique fingerprint for a madrat function based on
the code of the function itself, other madrat functions which are called by
this function and of all source folders involved in the process.
The fingerprint can serve as an indication whether the workflow for the given
function has been most likely changed, or not. If all involved source folders
and the code of all involved functions remains the same, also the fingerprint
will stay the same, otherwise it will change. Hence, it can be to figure out
whether a cache file can be used for further calculations, or whether the
calculation should be redone.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fingerprint(name, details = FALSE, graph = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fingerprint_+3A_name">name</code></td>
<td>
<p>Name of the function to be analyzed</p>
</td></tr>
<tr><td><code id="fingerprint_+3A_details">details</code></td>
<td>
<p>Boolean indicating whether additional details in form
of an attribute with underlying hash information should be added or not</p>
</td></tr>
<tr><td><code id="fingerprint_+3A_graph">graph</code></td>
<td>
<p>A madrat graph as returned by <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>.
Will be created with <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> if not provided.</p>
</td></tr>
<tr><td><code id="fingerprint_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> in case
that no graph is provided (otherwise ignored)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A fingerprint (hash) of all provided sources, or &quot;fingerprintError&quot;
</p>


<h3>Note</h3>

<p>For a better performance only the first 300 bytes of each file and the
corresponding file size is hashed.
As the fingerprint function only takes madrat-based functions into account
(e.g. read-functions or calc-functions), but does ignore all other functions
there might be cases where calculations actually changed, but the fingerprint
is still the same. In a similar fashion it is possible that the fingerprint
changes even though the workflow stayed the same
(as the dependencies are sometimes overestimated).
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Pascal FÃ¼hrlich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>madrat:::fingerprint("toolGetMapping", package = "madrat")
</code></pre>

<hr>
<h2 id='fullEXAMPLE'>fullExample</h2><span id='topic+fullEXAMPLE'></span>

<h3>Description</h3>

<p>Example for class of fullX functions. Can be used as template for a new function
or for testing the basic functionality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fullEXAMPLE(
  rev = as.numeric_version("0"),
  dev = "",
  extra = "Example argument"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fullEXAMPLE_+3A_rev">rev</code></td>
<td>
<p>data revision which should be used/produced. Format must be compatible to
<code><a href="base.html#topic+numeric_version">numeric_version</a></code>.</p>
</td></tr>
<tr><td><code id="fullEXAMPLE_+3A_dev">dev</code></td>
<td>
<p>development suffix to distinguish development versions for the same data
revision. This can be useful to distinguish parallel lines of development.</p>
</td></tr>
<tr><td><code id="fullEXAMPLE_+3A_extra">extra</code></td>
<td>
<p>additional argument which - when changed - does not require a re-computation
of the portable unaggegrated collection (puc) file.
<code><a href="#topic+setConfig">setConfig</a></code> (e.g. for setting the mainfolder if not already set
properly).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>,<code><a href="#topic+getCalculations">getCalculations</a></code>,<code><a href="#topic+calcOutput">calcOutput</a></code>,<code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
retrieveData("example", rev = "2.1.2", dev = "test", regionmapping = "regionmappingH12.csv")

## End(Not run)

</code></pre>

<hr>
<h2 id='getCalculations'>getCalculations</h2><span id='topic+getCalculations'></span>

<h3>Description</h3>

<p>This function can be used to retrieve a list of currently available
sources and outputs (based on the availability of corresponding conversion
functions in the loaded data data processing packages.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCalculations(
  prefix = "calc",
  packages = getConfig("packages"),
  globalenv = getConfig("globalenv")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCalculations_+3A_prefix">prefix</code></td>
<td>
<p>Type of calculations, vector of types or search term (e.g. &quot;read|calc&quot;). Available options are
&quot;download&quot; (source download), &quot;read&quot; (source read), &quot;correct&quot; (source corrections),
&quot;convert&quot; (source conversion to ISO countries), &quot;calc&quot; (further calculations),
and &quot;full&quot; (collections of calculations)</p>
</td></tr>
<tr><td><code id="getCalculations_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages for which the available Sources/Calculations should be returned</p>
</td></tr>
<tr><td><code id="getCalculations_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether sources/calculations in the global environment should be included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing all currently available outputs of
all loaded data processing packages including its name, its function call and its package origin.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>, <code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
print(getCalculations())
print(getCalculations("read"))

</code></pre>

<hr>
<h2 id='getCode'>getCode</h2><span id='topic+getCode'></span>

<h3>Description</h3>

<p>Extract function code from madrat-style functions in specified packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCode(
  packages = installedMadratUniverse(),
  globalenv = getConfig("globalenv")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCode_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages for which the available Sources/Calculations should be returned</p>
</td></tr>
<tr><td><code id="getCode_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether sources/calculations in the global environment should be included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector with condensed function code
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getMadratGraph">getMadratGraph</a></code>
</p>

<hr>
<h2 id='getConfig'>getConfig</h2><span id='topic+getConfig'></span>

<h3>Description</h3>

<p>This function returns the madrat config which is currently loaded. If no
configuration has been loaded so far the configuration will be initialized
with default settings or system settings (if available).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getConfig(option = NULL, raw = FALSE, verbose = TRUE, print = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getConfig_+3A_option">option</code></td>
<td>
<p>The option for which the setting should be returned. If set to
NULL all options are returned.</p>
</td></tr>
<tr><td><code id="getConfig_+3A_raw">raw</code></td>
<td>
<p>If set to FALSE some settings will be calculated, e.g. if the
cache folder is set to FALSE the full path will be calculated using the
main folder, or if the verbosity is not set the default verbosity will be
returned. If raw is set to TRUE settings are returned as they are currently
stored.</p>
</td></tr>
<tr><td><code id="getConfig_+3A_verbose">verbose</code></td>
<td>
<p>boolean deciding whether status information/updates should be shown or not</p>
</td></tr>
<tr><td><code id="getConfig_+3A_print">print</code></td>
<td>
<p>if TRUE and verbose is TRUE a configuration overview will also get printed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A config list with all settings currently set for the madrat package
</p>


<h3>Note</h3>

<p><code>getConfig</code> is primarily designed to make the overall madrat
configuration available to system tools of the madrat framework. There are
only a few exceptions for which configuration settings are also readable
from within a download-, read-, convert-, correct-, calc- or full-function.
These exceptions are the setting &quot;debug&quot; (which can be used to add additional
debug messages when active), the &quot;tmpfolder&quot; which can be used to temporarily
store data and the setting &quot;hash&quot; (which can only be accessed from within a
full function and can there be used to apply the identical hash algorithm for
other calculations in which hashing is being used).
Besides that &quot;regionmapping&quot; and &quot;extramappings&quot; can also be read from within
calc- and full-functions but their use is at least for the calc-functions
discouraged as it either might lead to incorrect caching behavior, or - if
implemented correctly - lead to significant slow-downs of overall calculations.
All other settings are currently still accessible but trigger a warning that
this option will soon be removed. So, please make sure that your code runs
without reading these options!
As a background note: Read access to these settings will be restricted as they
otherwise would allow access to code elements or data in a form which is
violating the overall madrat logic and thereby can lead to erroneous results.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>, <code><a href="#topic+initializeConfig">initializeConfig</a></code>
</p>

<hr>
<h2 id='getDependencies'>getDependencies</h2><span id='topic+getDependencies'></span>

<h3>Description</h3>

<p>Returns information about dependencies of a
madrat-based calc- read- or full-function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDependencies(
  name,
  direction = "in",
  graph = NULL,
  type = NULL,
  self = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDependencies_+3A_name">name</code></td>
<td>
<p>name of the function to be analyzed</p>
</td></tr>
<tr><td><code id="getDependencies_+3A_direction">direction</code></td>
<td>
<p>Character string, either âinâ, âoutâ, &quot;both&quot;, âfullâ, &quot;din&quot; or
&quot;dout&quot;. If âinâ all sources feeding into the function are listed. If âoutâ
consumer of the function are listed. If âbothâ the union of &quot;in&quot; and &quot;out&quot; is returned.
If &quot;full&quot; the full network this function is connected to is shown, including
indirect connections to functions which neither source nor consume the given
function but serve as sources to other consumer functions. &quot;din&quot; and &quot;dout&quot; (short
for &quot;direct in&quot; and &quot;direct out&quot;) behave like &quot;in&quot; and &quot;out&quot; but only show direct
calls in or from the function (ignoring the network of functions attached to it).</p>
</td></tr>
<tr><td><code id="getDependencies_+3A_graph">graph</code></td>
<td>
<p>A madrat graph as returned by <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>.
Will be created with <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> if not provided.</p>
</td></tr>
<tr><td><code id="getDependencies_+3A_type">type</code></td>
<td>
<p>type filter. Only dependencies of that type will be returned. Currently available
types are &quot;calc&quot;, &quot;read&quot; and &quot;tool&quot;</p>
</td></tr>
<tr><td><code id="getDependencies_+3A_self">self</code></td>
<td>
<p>boolean defining whether the function itself, which is analyzed, should be
included in the output, or not</p>
</td></tr>
<tr><td><code id="getDependencies_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> in case
that no graph is provided (otherwise ignored)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getCalculations">getCalculations</a></code>, <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>,  <code><a href="#topic+getMadratInfo">getMadratInfo</a></code>
</p>

<hr>
<h2 id='getFlags'>getFlags</h2><span id='topic+getFlags'></span>

<h3>Description</h3>

<p>Support function which extracts flags from code. Flags are string literals
in a function body, for example '&quot;!# @pucArguments extra&quot;'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFlags(code)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFlags_+3A_code">code</code></td>
<td>
<p>A character vector with code from functions to be analyzed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of found flag entries
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getCode">getCode</a></code>
</p>

<hr>
<h2 id='getISOlist'>get official ISO list</h2><span id='topic+getISOlist'></span>

<h3>Description</h3>

<p>Function which returns the ISO list which is used as default for the input
data preparation. It contains the countries to which all source data has to
be up- or downscaled to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getISOlist(type = "all", threshold = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getISOlist_+3A_type">type</code></td>
<td>
<p>Determines what countries should be returned. &quot;all&quot; returns all
countries, &quot;important&quot; returns all countries which are above the population
threshold set in the configuration and &quot;dispensable&quot; returns all countries
which are below the threshold.</p>
</td></tr>
<tr><td><code id="getISOlist_+3A_threshold">threshold</code></td>
<td>
<p>Population threshold in million capita which determines whether
the country is put into the &quot;important&quot; or &quot;dispensable&quot; class
(default = 1 mio. people)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of default ISO country codes.
</p>


<h3>Note</h3>

<p>Please always use this function instead of directly referring to the data
object as the format in this data list might change in the future!
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSources">getSources</a></code>, <code><a href="#topic+getCalculations">getCalculations</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
head(getISOlist())
head(getISOlist("dispensable"))
</code></pre>

<hr>
<h2 id='getLocation'>getLocation</h2><span id='topic+getLocation'></span>

<h3>Description</h3>

<p>Returns names of packages in which functions matching the description
are found
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLocation(name, packages = installedMadratUniverse(), globalenv = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLocation_+3A_name">name</code></td>
<td>
<p>name of the function to be found. Can be either the full name
(e.g. &quot;calcTauTotal&quot;), or just the type name (e.g. &quot;TauTotal&quot;).</p>
</td></tr>
<tr><td><code id="getLocation_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages in which should be looked
for the function</p>
</td></tr>
<tr><td><code id="getLocation_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether functions in the global environment
should be included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of packages in which a function matching the description
could be found
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getCalculations">getCalculations</a></code>, <code><a href="#topic+getDependencies">getDependencies</a></code>
</p>

<hr>
<h2 id='getMadratGraph'>getMadratGraph</h2><span id='topic+getMadratGraph'></span>

<h3>Description</h3>

<p>Function returns the madrat graph of all linkages of full, calc, and read functions of the given madrat
based packages. Linkages to subfunctions of read functions (i.e. download, correct or convert functions)
are not listed separately, but collectively referred to through the corresponding read function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMadratGraph(
  packages = installedMadratUniverse(),
  globalenv = getConfig("globalenv")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMadratGraph_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages for which the available Sources/Calculations should be returned</p>
</td></tr>
<tr><td><code id="getMadratGraph_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether sources/calculations in the global environment should be included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with 4 columns: from (source function), from_package (package the source function originates
from), to (function which is using the source), to_package (package of the using function)
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getCalculations">getCalculations</a></code>, <code><a href="#topic+getConfig">getConfig</a></code>
</p>

<hr>
<h2 id='getMadratInfo'>getMadratInfo</h2><span id='topic+getMadratInfo'></span>

<h3>Description</h3>

<p>Collects and returns detailed information about the currently loaded
network of madrat functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMadratInfo(graph = NULL, cutoff = 5, extended = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMadratInfo_+3A_graph">graph</code></td>
<td>
<p>A madrat graph as returned by <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>.
Will be created with <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> if not provided.</p>
</td></tr>
<tr><td><code id="getMadratInfo_+3A_cutoff">cutoff</code></td>
<td>
<p>Integer introducing a cutoff of items to be returned for
outputs which can become quite verbose.</p>
</td></tr>
<tr><td><code id="getMadratInfo_+3A_extended">extended</code></td>
<td>
<p>Will add additional outputs which has been removed
from standard output due to limited usefulness.</p>
</td></tr>
<tr><td><code id="getMadratInfo_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code><a href="#topic+getMadratGraph">getMadratGraph</a></code> in case
that no graph is provided (otherwise ignored)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getCalculations">getCalculations</a></code>, <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>
</p>

<hr>
<h2 id='getMadratMessage'>getMadratMessage</h2><span id='topic+getMadratMessage'></span>

<h3>Description</h3>

<p>Read a madrat message from the madrat environment. The madrat environment
behaves similar like global options, except that 1) messages will also
be stored in cache files and restored when a cache file is being loaded and
2) messages are always stored in lists with messages split by function calls
where the message was triggered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMadratMessage(name = NULL, fname = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMadratMessage_+3A_name">name</code></td>
<td>
<p>The category in which the message should be stored</p>
</td></tr>
<tr><td><code id="getMadratMessage_+3A_fname">fname</code></td>
<td>
<p>function name. If specified only messages belonging to the
functions history will be returned (this includes entries from the function
itself, but also entries from functions which were called by this function).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getMadratMessage">getMadratMessage</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>putMadratMessage("test", "This is a toast", fname = "readTau")
getMadratMessage("test", fname = "calcTauTotal")
</code></pre>

<hr>
<h2 id='getMainfolder'>getMainfolder</h2><span id='topic+getMainfolder'></span>

<h3>Description</h3>

<p>Functions checks for a global setting of the mainfolder (either by setting the environment
variable &quot;MADRAT_MAINFOLDER&quot; or by setting the R option with the same name). If none of these
is available the user will be asked for a directory. If this is not provided a temporary folder
will be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMainfolder(verbose = TRUE, .testmode = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMainfolder_+3A_verbose">verbose</code></td>
<td>
<p>boolean deciding whether status information/updates should be shown or not</p>
</td></tr>
<tr><td><code id="getMainfolder_+3A_.testmode">.testmode</code></td>
<td>
<p>boolean switch only relevant for internal testing (will simulate user inputs)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+initializeConfig">initializeConfig</a></code>, <code><a href="#topic+getConfig">getConfig</a></code>, <code><a href="#topic+setConfig">setConfig</a></code>
</p>

<hr>
<h2 id='getNonDefaultArguments'>getNonDefaultArguments</h2><span id='topic+getNonDefaultArguments'></span>

<h3>Description</h3>

<p>Given a function and an argument list, identify which arguments are different from their default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNonDefaultArguments(call, args = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNonDefaultArguments_+3A_call">call</code></td>
<td>
<p>A function name as a string or symbol. Passing a vector of functions is possible, but is only intended
for corresponding read/correct/convert functions. If multiple functions in a vector define arguments with the same
name but different default values only the default defined in the first function is considered.</p>
</td></tr>
<tr><td><code id="getNonDefaultArguments_+3A_args">args</code></td>
<td>
<p>A list of named arguments used to call the given function(s). If duplicates of arguments exists the first
occurrence of the argument will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A subset of args that is used by the function/s and is different from default values.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cacheArgumentsHash">cacheArgumentsHash</a></code>, <code><a href="#topic+toolstartmessage">toolstartmessage</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>madrat:::getNonDefaultArguments("madrat:::readTau", args = list(subtype = "historical"))
madrat:::getNonDefaultArguments("madrat:::readTau", args = list(subtype = "paper"))
calls &lt;- c(madrat:::readTau, madrat:::convertTau)
madrat:::getNonDefaultArguments(calls, args = list(subtype = "historical"))
</code></pre>

<hr>
<h2 id='getSources'>getSources</h2><span id='topic+getSources'></span>

<h3>Description</h3>

<p>These functions can be used to retrieve a list of currently available
sources and outputs (based on the availability of corresponding conversion
functions in the loaded data data processing packages.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSources(
  name = NULL,
  type = NULL,
  packages = getConfig("packages"),
  globalenv = getConfig("globalenv")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSources_+3A_name">name</code></td>
<td>
<p>name of function for which sources should get returned. If not specified, all sources in the
specified environment are returned</p>
</td></tr>
<tr><td><code id="getSources_+3A_type">type</code></td>
<td>
<p>Type of source, either set to &quot;read&quot;, &quot;convert&quot;, &quot;correct&quot;, &quot;download&quot; or
NULL. If specified, a vector containing the sources with the corresponding function type are returned,
otherwise a data.frame with all sources and their available function types is returned.</p>
</td></tr>
<tr><td><code id="getSources_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages for which the available Sources/Calculations should be returned</p>
</td></tr>
<tr><td><code id="getSources_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether sources/calculations in the global environment should be included or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector or data.frame containing all corresponding sources
</p>


<h3>Note</h3>

<p>Please be aware that these functions only check the availability of corresponding functions of the package, not
whether the functions will properly work.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>, <code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
print(getSources())

</code></pre>

<hr>
<h2 id='initializeConfig'>initializeConfig</h2><span id='topic+initializeConfig'></span>

<h3>Description</h3>

<p>Checks whether configuration already has been set. If not, it will be initialized
with default settings or (if available) system settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initializeConfig(verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initializeConfig_+3A_verbose">verbose</code></td>
<td>
<p>boolean deciding whether status information/updates should be shown or not</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getMainfolder">getMainfolder</a></code>, <code><a href="#topic+getConfig">getConfig</a></code>, <code><a href="#topic+setConfig">setConfig</a></code>
</p>

<hr>
<h2 id='installedMadratUniverse'>installedMadratUniverse</h2><span id='topic+installedMadratUniverse'></span>

<h3>Description</h3>

<p>Returns a name vector of installed packages which
supposedly belong to the madrat universe.
They are currently derived as the union of
all loaded madrat packages and all packages
with a name starting with &quot;mr&quot; or &quot;ms&quot;
(as the usual indicator for madrat-packages and
madrat-support-packages).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>installedMadratUniverse()
</code></pre>


<h3>Value</h3>

<p>A name vector of installed packages which supposedly belong
to the madrat universe
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
installedMadratUniverse()

## End(Not run)
</code></pre>

<hr>
<h2 id='isWrapperActive'>isWrapperActive</h2><span id='topic+isWrapperActive'></span><span id='topic+setWrapperActive'></span><span id='topic+setWrapperInactive'></span>

<h3>Description</h3>

<p>Support functions which checks whether a given wrapper function is currently in-use
or not or which locally activate or deactivate a wrapper (setting will be
automatically resetted when a function finishes).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isWrapperActive(name)

setWrapperActive(name)

setWrapperInactive(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isWrapperActive_+3A_name">name</code></td>
<td>
<p>name of the wrapper in question (e.g. &quot;calcOutput&quot;)</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>setWrapperActive()</code>: set wrapper activity status to on
</p>
</li>
<li> <p><code>setWrapperInactive()</code>: set wrapper activity status to off
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>

<hr>
<h2 id='madapply'>madapply</h2><span id='topic+madapply'></span>

<h3>Description</h3>

<p>This function is defunct and will be completely removed soon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>madapply(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="madapply_+3A_...">...</code></td>
<td>
<p>placeholder</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>

<hr>
<h2 id='madlapply'>madlapply</h2><span id='topic+madlapply'></span>

<h3>Description</h3>

<p>This function is defunct and will be completely removed soon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>madlapply(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="madlapply_+3A_...">...</code></td>
<td>
<p>placeholder</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>

<hr>
<h2 id='madratAttach'>madratAttach / madratDetach</h2><span id='topic+madratAttach'></span><span id='topic+madratDetach'></span>

<h3>Description</h3>

<p>Attaches the madrat functions of a package to the currently active madrat
universe or detaches it again from it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>madratAttach(package)

madratDetach(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="madratAttach_+3A_package">package</code></td>
<td>
<p>name of the package to be loaded. Alternative, the path to
the package.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>madratDetach()</code>: detach package from madrat universe
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getConfig">getConfig</a></code>, <code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
madratAttach("madrat")

## End(Not run)
</code></pre>

<hr>
<h2 id='madTempDir'>madTempDir</h2><span id='topic+madTempDir'></span>

<h3>Description</h3>

<p>returns a temporary directory as a subfolder of the tempfolder set in
<code>getConfig("tmpfolder")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>madTempDir()
</code></pre>


<h3>Value</h3>

<p>path to the temp folder
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getConfig">getConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
madrat:::madTempDir()

## End(Not run)

</code></pre>

<hr>
<h2 id='metadataGFZ'>metadataGFZ</h2><span id='topic+metadataGFZ'></span>

<h3>Description</h3>

<p>Function to extract metadata information of a data set hosted at GFZ dataservices
(https://dataservices.gfz-potsdam.de/portal/).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadataGFZ(doi)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadataGFZ_+3A_doi">doi</code></td>
<td>
<p>DOI of a data set hosted at GFZ dataservices</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with entries &quot;license&quot;, &quot;citation&quot;, &quot;authors&quot; and &quot;year&quot;
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+toolstartmessage">toolstartmessage</a></code>, <code><a href="#topic+vcat">vcat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
metadataGFZ("10.5880/pik.2019.004")

## End(Not run)
</code></pre>

<hr>
<h2 id='prepFunctionName'>prepFunctionName</h2><span id='topic+prepFunctionName'></span>

<h3>Description</h3>

<p>Function to prepare a function call for a given type and prefix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepFunctionName(type, prefix = "calc", ignore = NULL, error_on_missing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepFunctionName_+3A_type">type</code></td>
<td>
<p>name of calculation/source</p>
</td></tr>
<tr><td><code id="prepFunctionName_+3A_prefix">prefix</code></td>
<td>
<p>Type of calculations. Available options are &quot;download&quot; (source download), 
&quot;read&quot; (source read), &quot;correct&quot; (source corrections), &quot;convert&quot; (source conversion to ISO countries),
&quot;calc&quot; (further calculations), and &quot;full&quot; (collections of calculations)</p>
</td></tr>
<tr><td><code id="prepFunctionName_+3A_ignore">ignore</code></td>
<td>
<p>vector of arguments which should be ignored (not be part of the function call)</p>
</td></tr>
<tr><td><code id="prepFunctionName_+3A_error_on_missing">error_on_missing</code></td>
<td>
<p>boolean deciding whether a missing type should throw an error or return NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function call as character to the specified function with corresponding package as attribute
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>, <code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
print(madrat:::prepFunctionName("Tau","read"))
print(madrat:::prepFunctionName("TauTotal","calc"))
print(madrat:::prepFunctionName("EXAMPLE","full"))
</code></pre>

<hr>
<h2 id='pucAggregate'>pucAggregate</h2><span id='topic+pucAggregate'></span>

<h3>Description</h3>

<p>Function which takes a puc-file (&quot;portable unaggregated collection&quot;) as created
via <code><a href="#topic+retrieveData">retrieveData</a></code> and computes the corresponding aggregated
collection with the provided arguments (e.g. the provided region mapping).
The resulting tgz-file containing the collection will be put to the
madrat outputfolder as defined in <code>getConfig("outputfolder")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pucAggregate(
  puc,
  regionmapping = getConfig("regionmapping"),
  ...,
  renv = TRUE,
  strict = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pucAggregate_+3A_puc">puc</code></td>
<td>
<p>path to a puc-file</p>
</td></tr>
<tr><td><code id="pucAggregate_+3A_regionmapping">regionmapping</code></td>
<td>
<p>region mapping to be used for aggregation.</p>
</td></tr>
<tr><td><code id="pucAggregate_+3A_...">...</code></td>
<td>
<p>(Optional) Settings that should be changed in addition. NOTE:
which settings can be modified varies from puc to puc. Allowed settings are
typically listed in the file name of the puc file after the revision number.</p>
</td></tr>
<tr><td><code id="pucAggregate_+3A_renv">renv</code></td>
<td>
<p>Boolean which determines whether data should be aggregated from
within a renv environment (recommended) or not. If activated, <code>renv</code>
will check which packages in which versions were used to create the puc file,
download, install and load these packages and run the aggregation with them.
Otherwise, the packages in the currently used environment are being used.</p>
</td></tr>
<tr><td><code id="pucAggregate_+3A_strict">strict</code></td>
<td>
<p>Boolean or NULL which allows to trigger a strict mode. During strict mode
warnings will be taken more seriously and will cause 1. to have the number of
warnings as prefix of the created tgz file and 2. will prevent <code>retrieveData</code>
from creating a puc file. If set to NULL the setting will be read from the puc file.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+retrieveData">retrieveData</a></code>,<code><a href="#topic+localConfig">localConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pucAggregate("rev1_example.puc", regionmapping = "regionmappingH12.csv")

## End(Not run)
</code></pre>

<hr>
<h2 id='putMadratMessage'>putMadratMessage</h2><span id='topic+putMadratMessage'></span>

<h3>Description</h3>

<p>Store a madrat message in the madrat environment. The madrat environment
behaves similar like global options, except that 1) messages will also
be stored in cache files and restored when a cache file is being loaded and
2) messages are always stored in lists with messages split by function calls
where the message was triggered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>putMadratMessage(name, value, fname = -1, add = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="putMadratMessage_+3A_name">name</code></td>
<td>
<p>The category in which the message should be stored</p>
</td></tr>
<tr><td><code id="putMadratMessage_+3A_value">value</code></td>
<td>
<p>The message that should be recorded as character. Alternatively,
if <code>name</code> is not set, it is also possible to provide a complete list
of the structure value[[name]][[fname]] where name and fname correspond
to the category name and function name entries (e.g.
<code>value = list(test = list(readTau = "This is a toast"))</code>).</p>
</td></tr>
<tr><td><code id="putMadratMessage_+3A_fname">fname</code></td>
<td>
<p>function name the entry belongs to or the frame number from which
the function name should be derived from (e.g. -1 to recieve function name
from parent function).</p>
</td></tr>
<tr><td><code id="putMadratMessage_+3A_add">add</code></td>
<td>
<p>boolean deciding whether the value should be added to a existing
value (TRUE) or overwrite it (FALSE)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+putMadratMessage">putMadratMessage</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>putMadratMessage("test", "This is a toast", fname = "readTau")
getMadratMessage("test", fname = "calcTauTotal")
</code></pre>

<hr>
<h2 id='readSource'>readSource</h2><span id='topic+readSource'></span>

<h3>Description</h3>

<p>Read in a source file and convert it to a MAgPIE object. The function is a
wrapper for specific functions designed for the different possible source
types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readSource(
  type,
  subtype = NULL,
  subset = NULL,
  convert = TRUE,
  supplementary = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readSource_+3A_type">type</code></td>
<td>
<p>A character string referring to the source type, e.g. &quot;IEA&quot; which would
internally call a function called 'readIEA' (the &quot;wrapped function&quot;). A list of
available source types can be retrieved with function <code><a href="#topic+getSources">getSources</a></code>.</p>
</td></tr>
<tr><td><code id="readSource_+3A_subtype">subtype</code></td>
<td>
<p>A character string. For some sources there are subtypes of the source, for these
sources the subtype can be specified with this argument. If a source does not
have subtypes, subtypes should not be set.</p>
</td></tr>
<tr><td><code id="readSource_+3A_subset">subset</code></td>
<td>
<p>A character string. Similar to <code>subtype</code> a source can also have <code>subsets</code>.
A <code>subsets</code> can be used to only read part of the data. This can in particular make sense
for huge data sets where reading in the whole data set might be impractical or even infeasible.</p>
</td></tr>
<tr><td><code id="readSource_+3A_convert">convert</code></td>
<td>
<p>Boolean indicating whether input data conversion to
ISO countries should be done or not. In addition it can be set to &quot;onlycorrect&quot;
for sources with a separate correctXXX-function.</p>
</td></tr>
<tr><td><code id="readSource_+3A_supplementary">supplementary</code></td>
<td>
<p>Boolean deciding whether a list including the actual data and metadata,
or just the actual data is returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The read-in data, usually a magpie object. If supplementary is TRUE a list including
the data and metadata is returned instead. The temporal and data dimensionality
should match the source data. The spatial dimension should either match the source data or,
if the convert argument is set to TRUE, should be on ISO code country level.
</p>


<h3>Note</h3>

<p>If a magpie object is returned magclass::clean_magpie is run and if convert = TRUE
ISO code country level is checked.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Anastasis Giannousakis, Lavinia Baumstark, Pascal FÃ¼hrlich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setConfig">setConfig</a></code>, <code><a href="#topic+downloadSource">downloadSource</a></code>, <code><a href="#topic+readTau">readTau</a></code>
#' @note The underlying read-functions can return a magpie object or a list of information
(preferred) back to <code>readSource</code>. In list format the object should have the following
structure:
</p>

<ul>
<li> <p><b>x</b> - the data itself as magclass object
</p>
</li>
<li> <p><b>unit</b> (optional) - unit of the provided data
</p>
</li>
<li> <p><b>description</b> (otional) - a short description of the data
</p>
</li>
<li> <p><b>note</b> (optional) - additional notes related to the data
</p>
</li>
<li> <p><b>class</b> (optional | default = &quot;magpie&quot;) - Class of the returned object. If set to
something other than &quot;magpie&quot; most functionality will not be available and is switched off!
</p>
</li>
<li> <p><b>cache</b> (optional) boolean which decides whether a cache file should be written (if caching is active)
or not. Default setting is TRUE. This can be for instance useful, if the calculation itself is quick, but
the corresponding file sizes are huge. Or if the caching for the given data type does not support storage
in RDS format. CAUTION: Deactivating caching for a data set which should be part of a PUC file
will corrupt the PUC file. Use with care.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
a &lt;- readSource("Tau", "paper")

## End(Not run)

</code></pre>

<hr>
<h2 id='readTau'>Read Tau</h2><span id='topic+readTau'></span>

<h3>Description</h3>

<p>Read-in landuse intensity data (tau) following the methodology published in
Dietrich J.P., Schmitz C., Mueller C., Fader M., Lotze-Campen H., Popp A.,
Measuring agricultural land-use intensity - A global analysis using a
model-assisted approach, Ecological Modelling, Volume 232, 10 May 2012,
Pages 109-118, ISSN 0304-3800, 10.1016/j.ecolmodel.2012.03.002.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readTau(subtype = "paper")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readTau_+3A_subtype">subtype</code></td>
<td>
<p>Type of Tau data that should be read. Available types are:
</p>

<ul>
<li> <p><code>paper</code>: numbers as they are reported in the paper (cellular, crop-specific)
</p>
</li>
<li> <p><code>historical</code>: historic tau values on iso country level for total tau factor.
This numbers were calculated by taking FAO yields and norming it to the 1995 tau values
of the paper (faoyields*tau95/mean(faoyields[1995:2005]))
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Tau data and weights as MAgPIE object in original resolution
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
a &lt;- readSource("Tau")

## End(Not run)
</code></pre>

<hr>
<h2 id='regionscode'>Tool: regionscode</h2><span id='topic+regionscode'></span>

<h3>Description</h3>

<p>Given a regionmapping (mapping between ISO countries and regions) the
function calculates a regionscode which is basically the md5sum of a reduced
form of the mapping. The regionscode is unique for each regionmapping and
can be used to clearly identify a given regionmapping. In addition several
checks are performed to make sure that the given input is a proper
regionmapping
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regionscode(mapping = NULL, label = FALSE, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regionscode_+3A_mapping">mapping</code></td>
<td>
<p>Either a path to a mapping or an already read-in mapping as
data.frame. If set to NULL (default) the regionscode of the region mapping set in the
madrat config will be returned.</p>
</td></tr>
<tr><td><code id="regionscode_+3A_label">label</code></td>
<td>
<p>logical deciding whether the corresponding label of a regionscode
should be returned instead of the regionscode.</p>
</td></tr>
<tr><td><code id="regionscode_+3A_strict">strict</code></td>
<td>
<p>If set to TRUE region mappings with mapping to ISO countries with exactly 2 columns
or more than 2 colums (if the first colum contains irrelevant information which will be deleted automatically)
will be accepted. In this case data will be transformed and even cases with different ordering
will yield the same regionscode. If set to FALSE all these checks will be ignored and the
regionscode will be just computed on the object as it is. Please be aware the regionscode will
differ with strict mode on or off!</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A md5-based regionscode which describes the given mapping or, if <code>label=TRUE</code>
and a corresponding label is available, the label belonging to the regionscode
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+toolCodeLabels">toolCodeLabels</a></code>, <code><a href="#topic+fingerprint">fingerprint</a></code>, <code><a href="digest.html#topic+digest">digest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
file &lt;- system.file("extdata", "regionmappingH12.csv", package = "madrat")
regionscode(file)
</code></pre>

<hr>
<h2 id='resetMadratMessages'>resetMadratMessages</h2><span id='topic+resetMadratMessages'></span>

<h3>Description</h3>

<p>Delete stored madrat messages from the madrat environment. The madrat environment
behaves similar like global options, except that 1) messages will also
be stored in cache files and restored when a cache file is being loaded and
2) messages are always stored in lists with messages split by function calls
where the message was triggered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resetMadratMessages(name = NULL, fname = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resetMadratMessages_+3A_name">name</code></td>
<td>
<p>The category for which the messages should be reset (if not set
messages in all categories will be reset)</p>
</td></tr>
<tr><td><code id="resetMadratMessages_+3A_fname">fname</code></td>
<td>
<p>function name for which the entries should be reset (if not specified
messages for all function names will be reset)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+putMadratMessage">putMadratMessage</a></code>, <code><a href="#topic+getMadratMessage">getMadratMessage</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>putMadratMessage("test", "This is a toast", fname = "readTau")
getMadratMessage("test", fname = "calcTauTotal")
resetMadratMessages("test")
</code></pre>

<hr>
<h2 id='retrieveData'>retrieveData</h2><span id='topic+retrieveData'></span>

<h3>Description</h3>

<p>Function to retrieve a predefined collection of calculations for a specific
regionmapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>retrieveData(
  model,
  rev = 0,
  dev = "",
  cachetype = "def",
  puc = identical(dev, ""),
  strict = FALSE,
  renv = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="retrieveData_+3A_model">model</code></td>
<td>
<p>The names of the model for which the data should be provided
(e.g. &quot;magpie&quot;).</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_rev">rev</code></td>
<td>
<p>data revision which should be used/produced. Format must be compatible to
<code><a href="base.html#topic+numeric_version">numeric_version</a></code>.</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_dev">dev</code></td>
<td>
<p>development suffix to distinguish development versions for the same data
revision. This can be useful to distinguish parallel lines of development.</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_cachetype">cachetype</code></td>
<td>
<p>defines what cache should be used. &quot;rev&quot; points to a cache
shared by all calculations for the given revision and sets forcecache to TRUE,
&quot;def&quot; points to the cache as defined in the current settings and does not change
forcecache setting.</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_puc">puc</code></td>
<td>
<p>Boolean deciding whether a fitting puc file (if existing) should be
read in and if a puc file (if not already existing) should be created.</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_strict">strict</code></td>
<td>
<p>Boolean which allows to trigger a strict mode. During strict mode
warnings will be taken more seriously and will cause 1. to have the number of
warnings as prefix of the created tgz file and 2. will prevent <code>retrieveData</code>
from creating a puc file.</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_renv">renv</code></td>
<td>
<p>Boolean which determines whether calculations should run
within a renv environment (recommended) or not (currently only applied in
<code><a href="#topic+pucAggregate">pucAggregate</a></code>). If activated, <code>renv</code> will check which packages
in which versions were used to create the puc file, download, install and
load these packages and run the aggregation with them. Otherwise, the packages
in the currently used environment are being used.</p>
</td></tr>
<tr><td><code id="retrieveData_+3A_...">...</code></td>
<td>
<p>(Optional) Settings that should be changed using <code>setConfig</code>
(e.g. regionmapping). or arguments which should be forwarded to the corresponding
fullXYZ function (Please make sure that argument names in full functions do not
match settings in <code>setConfig</code>!)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly, the path to the newly created tgz archive.
</p>


<h3>Note</h3>

<p>The underlying full-functions can optionally provide a list of information back to
<code>retrieveData</code>. Following list entries are currently supported:
</p>

<ul>
<li> <p><b>tag</b> (optional) - additional name tag which will be included in the file
name of the aggregated collection (resulting tgz-file). This can be useful to highlight
information in the file name which otherwise would not be visible.
</p>
</li>
<li> <p><b>pucTag</b> (optional) - identical purpose as <b>tag</b> but for the resulting
unaggregated collections (puc-files).
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Lavinia Baumstark
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calcOutput">calcOutput</a></code>,<code><a href="#topic+setConfig">setConfig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
retrieveData("example", rev = "2.1.1", dev = "test", regionmapping = "regionmappingH12.csv")

## End(Not run)
</code></pre>

<hr>
<h2 id='robustOrder'>robustOrder, robustSort</h2><span id='topic+robustOrder'></span>

<h3>Description</h3>

<p>robustOrder: A wrapper around base::order that always uses the locale independent method = &quot;radix&quot;. If the
argument x is a character vector it is converted to utf8 first.
robustSort: A convenience function using order to sort a vector using radix sort. The resulting vector will have the
same encoding as the input although internally character vectors are converted to utf8 before ordering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>robustOrder(..., na.last = TRUE, decreasing = FALSE, method = "radix")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="robustOrder_+3A_...">...</code></td>
<td>
<p>One or more vectors of the same length</p>
</td></tr>
<tr><td><code id="robustOrder_+3A_na.last">na.last</code></td>
<td>
<p>If TRUE missing values are put last, if FALSE they are put first, if NA they are removed</p>
</td></tr>
<tr><td><code id="robustOrder_+3A_decreasing">decreasing</code></td>
<td>
<p>If TRUE decreasing/descending order, if FALSE increasing/ascending order.
For the &quot;radix&quot; method, this can be a vector of length equal to the number of arguments in ... .
For the other methods, it must be length one.</p>
</td></tr>
<tr><td><code id="robustOrder_+3A_method">method</code></td>
<td>
<p>Default is &quot;radix&quot;, which is locale independent. The alternatives &quot;auto&quot; and &quot;shell&quot; should not be used
in madrat because they are locale dependent.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Pascal FÃ¼hrlich
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+order">order</a></code>
</p>

<hr>
<h2 id='setConfig'>setConfig</h2><span id='topic+setConfig'></span><span id='topic+localConfig'></span>

<h3>Description</h3>

<p>This function manipulates the current madrat configuration.
In general, NULL means that the argument remains as it is whereas
all other inputs will overwrite the current setting.
For values which can be reset to NULL (currently only &quot;extramappings&quot;)
you can achieve a reset by setting the value to &quot;&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setConfig(
  regionmapping = NULL,
  extramappings = NULL,
  packages = NULL,
  globalenv = NULL,
  enablecache = NULL,
  verbosity = NULL,
  mainfolder = NULL,
  sourcefolder = NULL,
  cachefolder = NULL,
  mappingfolder = NULL,
  outputfolder = NULL,
  pucfolder = NULL,
  tmpfolder = NULL,
  nolabels = NULL,
  forcecache = NULL,
  ignorecache = NULL,
  cachecompression = NULL,
  hash = NULL,
  diagnostics = NULL,
  debug = NULL,
  maxLengthLogMessage = NULL,
  .cfgchecks = TRUE,
  .verbose = TRUE,
  .local = FALSE
)

localConfig(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setConfig_+3A_regionmapping">regionmapping</code></td>
<td>
<p>The name of the csv file containing the region mapping
that should be used for aggregation (e.g. &quot;regionmappingREMIND.csv&quot;).</p>
</td></tr>
<tr><td><code id="setConfig_+3A_extramappings">extramappings</code></td>
<td>
<p>Names of additional mappings supplementing the given
region mapping. This allows for additional aggregation levels such as
subnational aggregation.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_packages">packages</code></td>
<td>
<p>A character vector with packages in which corresponding
read and calc functions should be searched for</p>
</td></tr>
<tr><td><code id="setConfig_+3A_globalenv">globalenv</code></td>
<td>
<p>Boolean deciding whether sources/calculations in the global
environment should be included or not</p>
</td></tr>
<tr><td><code id="setConfig_+3A_enablecache">enablecache</code></td>
<td>
<p>Is deprecated and will be ignored. Please use
<code>ignorecache</code> instead.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_verbosity">verbosity</code></td>
<td>
<p>an integer value describing the verbosity of the functions
(2 = full information, 1 = only warnings and execution information, 0 = only
warnings, -1 = no information)</p>
</td></tr>
<tr><td><code id="setConfig_+3A_mainfolder">mainfolder</code></td>
<td>
<p>The mainfolder where all data can be found and should be
written to.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_sourcefolder">sourcefolder</code></td>
<td>
<p>The folder in which all source data is stored (in
sub-folders with the name of the source as folder name). In the default case
this argument is set to NA meaning that the default folder should be used
which is &lt;mainfolder&gt;/sources</p>
</td></tr>
<tr><td><code id="setConfig_+3A_cachefolder">cachefolder</code></td>
<td>
<p>The folder in which all cache files should be written to.
In the default case this argument is set to NA meaning that the default
folder should be used which is &lt;mainfolder&gt;/cache</p>
</td></tr>
<tr><td><code id="setConfig_+3A_mappingfolder">mappingfolder</code></td>
<td>
<p>A folder containing all kinds of mappings (spatial,
temporal or sectoral). In the default case this argument is set to NA
meaning that the default folder should be used which is
&lt;mainfolder&gt;/mappings</p>
</td></tr>
<tr><td><code id="setConfig_+3A_outputfolder">outputfolder</code></td>
<td>
<p>The folder all outputs should be written to. In the
default case this argument is set to NA meaning that the default folder
should be used which is &lt;mainfolder&gt;/output</p>
</td></tr>
<tr><td><code id="setConfig_+3A_pucfolder">pucfolder</code></td>
<td>
<p>The path where portable unaggregated collection (puc) files
are located. NA by default, which means &lt;mainfolder&gt;/puc</p>
</td></tr>
<tr><td><code id="setConfig_+3A_tmpfolder">tmpfolder</code></td>
<td>
<p>Path to a temp folder for temporary storage of files. By default
set to &lt;mainfolder&gt;/tmp</p>
</td></tr>
<tr><td><code id="setConfig_+3A_nolabels">nolabels</code></td>
<td>
<p>vector of retrieve models (e.g. &quot;EXAMPLE&quot; in case of &quot;fullEXAMPLE&quot;)
which should NOT apply a replacement of known hashes with given code labels</p>
</td></tr>
<tr><td><code id="setConfig_+3A_forcecache">forcecache</code></td>
<td>
<p>Argument that allows to force madrat to read data from
cache if the corresponding cache files exist. It is either a boolean to
fully activate or deactivate the forcing or a vector of files (e.g. readTau, calcTauTotal)
or type (e.g. Tau, TauTotal) that should be read from cache in any case.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_ignorecache">ignorecache</code></td>
<td>
<p>Argument that allows madrat to ignore the forcecache argument for the
given vector of files (e.g. readTau, calcTauTotal) or types
(e.g. Tau, TauTotal) called by calcOutput or readSource.
The top level function must always be part of this list.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_cachecompression">cachecompression</code></td>
<td>
<p>logical or character string specifying whether cache files
use compression. TRUE corresponds to gzip compression, and character strings &quot;gzip&quot;,
&quot;bzip2&quot; or &quot;xz&quot; specify the type of compression.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_hash">hash</code></td>
<td>
<p>specifies the used hashing algorithm. Default is &quot;xxhash32&quot; and
all algorithms supported by <code><a href="digest.html#topic+digest">digest</a></code> can be used.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_diagnostics">diagnostics</code></td>
<td>
<p>Either FALSE (default) to avoid the creation of additional
log files or a file name for additional diagnostics information (without file ending).</p>
</td></tr>
<tr><td><code id="setConfig_+3A_debug">debug</code></td>
<td>
<p>Boolean which activates a debug mode. In debug mode all calculations will
be executed with try=TRUE so that calculations do not stop even if the previous calculation failed.
This can be helpful to get a full picture of errors rather than only seeing the first one. In addition
debug=TRUE will add the suffix &quot;debug&quot; to the files created to avoid there use in productive runs.
Furthermore, with debug=TRUE calculations will be rerun even if a corresponding tgz file
already exists.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_maxlengthlogmessage">maxLengthLogMessage</code></td>
<td>
<p>in log messages evaluated arguments are printed if the resulting message
is shorter than this value, otherwise arguments are shown as passed, potentially  with unevaluated variable names</p>
</td></tr>
<tr><td><code id="setConfig_+3A_.cfgchecks">.cfgchecks</code></td>
<td>
<p>boolean deciding whether the given inputs to setConfig should be checked for
consistency or just be accepted (latter is only necessary in very rare cases and should not be used
in regular cases)</p>
</td></tr>
<tr><td><code id="setConfig_+3A_.verbose">.verbose</code></td>
<td>
<p>boolean deciding whether status information/updates should be shown or not</p>
</td></tr>
<tr><td><code id="setConfig_+3A_.local">.local</code></td>
<td>
<p>boolean deciding whether options are only changed until the end of the current function execution
OR environment for which the options should get changed.</p>
</td></tr>
<tr><td><code id="setConfig_+3A_...">...</code></td>
<td>
<p>Arguments forwarded to setConfig</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>localConfig()</code>: A wrapper for setConfig(..., .local = TRUE)
</p>
</li></ul>


<h3>Note</h3>

<p><code>setConfig</code> must only be used before the data processing is started and changes in the configuration
from within a download-, read-, correct-, convert-, calc-, or full-function are not allowed! Only allowed
configuration update is to add another <code>extramapping</code> via <code><a href="#topic+addMapping">addMapping</a></code>.
Currently the use of <code>setConfig</code> within any of these functions will trigger a warning, which is planned
to be converted into an error message in one of the next package updates!
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getConfig">getConfig</a></code>, <code><a href="#topic+getISOlist">getISOlist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
setConfig(forcecache = c("readSSPall", "convertSSPall"))

## End(Not run)
</code></pre>

<hr>
<h2 id='toolAggregate'>toolAggregate</h2><span id='topic+toolAggregate'></span>

<h3>Description</h3>

<p>(Dis-)aggregates a magclass object from one resolution to another based on a
relation matrix or mapping
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolAggregate(
  x,
  rel,
  weight = NULL,
  from = NULL,
  to = NULL,
  dim = 1,
  wdim = NULL,
  partrel = FALSE,
  negative_weight = "warn",
  mixed_aggregation = FALSE,
  verbosity = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolAggregate_+3A_x">x</code></td>
<td>
<p>magclass object that should be (dis-)aggregated</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_rel">rel</code></td>
<td>
<p>relation matrix, mapping or file containing a mapping in a format
supported by <code><a href="#topic+toolGetMapping">toolGetMapping</a></code> (currently csv, rds or rda).
A mapping object consists of any number of columns, where one column contains
all the elements in x. These elements are mapped to the corresponding values
in another column, as described below (see parameter 'from').
It is possible to not set <code>rel</code> as long as <code>to</code> is set and <code>dim</code>
is chosen appropriately. In that case the relation mapping is extracted from
the dimnames of the corresponding dimension, e.g. if your data contains a
spatial subdimension &quot;country&quot; you can aggregate to countries via
<code>toolAggregate(x, to = "country", dim = 1)</code>.</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_weight">weight</code></td>
<td>
<p>magclass object containing weights which should be considered
for a weighted aggregation. The provided weight should only contain positive
values, but does not need to be normalized (any positive number&gt;=0 is allowed).
Please see the &quot;details&quot; section below for more information.</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_from">from</code></td>
<td>
<p>Name of source column to be used in rel if it is a
mapping (if not set the first column matching the data will be used).</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_to">to</code></td>
<td>
<p>Name of the target column to be used in rel if it is a
mapping (if not set the column following column <code>from</code> will be used
If column <code>from</code> is the last column, the column before <code>from is
used</code>). If data should be aggregated based on more than one column these
columns can be specified via &quot;+&quot;, e.g. &quot;region+global&quot; if the data should
be aggregated to column regional as well as column global.
If rel is missing <code>to</code> refers to the aggregation target dimension name.</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_dim">dim</code></td>
<td>
<p>Specifying the dimension of the magclass object that should be
(dis-)aggregated. Either specified as an integer
(1=spatial,2=temporal,3=data) or if you want to specify a sub dimension
specified by name of that dimension or position within the given dimension
(e.g. 3.2 means the 2nd data dimension, 3.8 means the 8th data dimension).</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_wdim">wdim</code></td>
<td>
<p>Specifying the according weight dimension as chosen with dim
for the aggregation object. If set to NULL the function will try to
automatically detect the dimension.</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_partrel">partrel</code></td>
<td>
<p>If set to TRUE allows that the relation matrix does contain
less entries than x and vice versa. These values without relation are lost
in the output.</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_negative_weight">negative_weight</code></td>
<td>
<p>Describes how a negative weight should be treated. &quot;allow&quot;
means that it just should be accepted (dangerous), &quot;warn&quot; returns a warning and
&quot;stop&quot; will throw an error in case of negative values</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_mixed_aggregation">mixed_aggregation</code></td>
<td>
<p>boolean which allows for mixed aggregation (weighted
mean mixed with summations). If set to TRUE weight columns filled with NA
will lead to summation.</p>
</td></tr>
<tr><td><code id="toolAggregate_+3A_verbosity">verbosity</code></td>
<td>
<p>Verbosity level of messages coming from the function: -1 = error,
0 = warning, 1 = note, 2 = additional information, &gt;2 = no message</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Basically toolAggregate is doing nothing more than a normal matrix
multiplication which is taking into account the 3 dimensional structure of
MAgPIE objects. So, you can provide any kind of relation matrix you would
like. However, for easier usability it is also possible to provide weights
for a weighted (dis-)aggregation as a MAgPIE object. In this case rel must
be a 1-0-matrix or a mapping between both resolutions. The weight
needs to be provided in the higher spatial aggregation, meaning for
aggregation the spatial resolution of your input data and in the case of
disaggregation the spatial resolution of your output data. The temporal and
data dimension must be either identical to the resolution of the data set
that should be (dis-)aggregated or 1. If the temporal and/or data dimension
is 1 this means that the same transformation matrix is applied for all years
and/or all data columns. In the case that a column should be just summed up
instead of being calculated as a weighted average you either do not provide
any weight (then all columns are just summed up) or your set this specific
weighting column to NA and mixed_aggregation to TRUE.
</p>


<h3>Value</h3>

<p>the aggregated data in magclass format
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Ulrich Kreidenweis
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calcOutput">calcOutput</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# create example mapping
p &lt;- magclass::maxample("pop")
mapping &lt;- data.frame(from = magclass::getItems(p, dim = 1.1),
  region = rep(c("REG1", "REG2"), 5),
  global = "GLO")
mapping

# run aggregation
toolAggregate(p, mapping)
# weighted aggregation
toolAggregate(p, mapping, weight = p)
# combined aggregation across two columns
toolAggregate(p, mapping, to = "region+global")

</code></pre>

<hr>
<h2 id='toolCodeLabels'>Tool: CodeLabels</h2><span id='topic+toolCodeLabels'></span>

<h3>Description</h3>

<p>This function replaces a hash code (e.g. regioncode) or another cryptic
code with a human readable code via a given dictionary.
This can be useful to make outputs better readable in cases where hash
codes are already known to the user.
If no entry exists in the dictionary the hash code is returned again.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolCodeLabels(get = NULL, add = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolCodeLabels_+3A_get">get</code></td>
<td>
<p>A vector of hash codes which should be replaced</p>
</td></tr>
<tr><td><code id="toolCodeLabels_+3A_add">add</code></td>
<td>
<p>Additional entries that should be added to the dictionary. Need to be
provided in the form of a named vector with the structure c(&lt;label&gt;=&lt;hash&gt;),
e.g. c(h12=&quot;62eff8f7&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with either labels (if available) or hash codes (if no label was available).
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+regionscode">regionscode</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toolCodeLabels("62eff8f7")

</code></pre>

<hr>
<h2 id='toolConditionalReplace'>toolConditionalReplace</h2><span id='topic+toolConditionalReplace'></span>

<h3>Description</h3>

<p>Sets values (NA, negative, ..) to value <code>replaceby</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolConditionalReplace(x, conditions, replaceby = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolConditionalReplace_+3A_x">x</code></td>
<td>
<p>magpie object</p>
</td></tr>
<tr><td><code id="toolConditionalReplace_+3A_conditions">conditions</code></td>
<td>
<p>vector of conditions for values, that should be removed e.g. &quot;is.na()&quot;, &quot;&lt; 0&quot; (order matters)</p>
</td></tr>
<tr><td><code id="toolConditionalReplace_+3A_replaceby">replaceby</code></td>
<td>
<p>value which should be used instead (can be a vector of same length as conditions as well)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>return changed input data
</p>


<h3>Author(s)</h3>

<p>Kristine Karstens
</p>

<hr>
<h2 id='toolConvertMapping'>Tool: ConvertMapping</h2><span id='topic+toolConvertMapping'></span>

<h3>Description</h3>

<p>Function which converts mapping files between formats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolConvertMapping(name, format = "rds", type = NULL, where = "mappingfolder")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolConvertMapping_+3A_name">name</code></td>
<td>
<p>File name of the mapping file. Supported file types are currently csv (, or ; separated), rds 
and rda (which needs to have the data stored with the object name &quot;data&quot;!).</p>
</td></tr>
<tr><td><code id="toolConvertMapping_+3A_format">format</code></td>
<td>
<p>format it should be converted to. Available is &quot;csv&quot;, &quot;rds&quot; or &quot;rda&quot;.</p>
</td></tr>
<tr><td><code id="toolConvertMapping_+3A_type">type</code></td>
<td>
<p>Mapping type (e.g. &quot;regional&quot;, &quot;cell&quot;, or &quot;sectoral&quot;). Can be set to NULL if file
is not stored in a type specific subfolder</p>
</td></tr>
<tr><td><code id="toolConvertMapping_+3A_where">where</code></td>
<td>
<p>location to look for the mapping, either &quot;mappingfolder&quot; or
the name of a package which contains the mapping</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calcOutput">calcOutput</a></code>, <code><a href="#topic+toolConvertMapping">toolConvertMapping</a></code>
</p>

<hr>
<h2 id='toolCountry2isocode'>toolCountry2isocode</h2><span id='topic+toolCountry2isocode'></span>

<h3>Description</h3>

<p>Function used to convert country names from the long name to the ISO 3166-1
alpha 3 country code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolCountry2isocode(
  country,
  warn = TRUE,
  ignoreCountries = NULL,
  type = NULL,
  mapping = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolCountry2isocode_+3A_country">country</code></td>
<td>
<p>A vector of country names</p>
</td></tr>
<tr><td><code id="toolCountry2isocode_+3A_warn">warn</code></td>
<td>
<p>whether warnings should be printed now or in the end of the
whole process as notes</p>
</td></tr>
<tr><td><code id="toolCountry2isocode_+3A_ignorecountries">ignoreCountries</code></td>
<td>
<p>A vector of country names/codes that exist in the
data and that should be removed but without creating a
warning (they will be removed in any case). You should use that argument if
you are certain that the given entries should be actually removed from the
data.</p>
</td></tr>
<tr><td><code id="toolCountry2isocode_+3A_type">type</code></td>
<td>
<p>deprecated and will be removed soon!</p>
</td></tr>
<tr><td><code id="toolCountry2isocode_+3A_mapping">mapping</code></td>
<td>
<p>additional mappings as a names vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the ISO 3166-1 alpha 3 country code
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Anastasis Giannousakis
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>,<code><a href="#topic+getSources">getSources</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
toolCountry2isocode("Germany")
toolCountry2isocode(c("Germany","Fantasyland"),mapping=c("Fantasyland"="BLA"))
</code></pre>

<hr>
<h2 id='toolCountryFill'>Tool: CountryFill</h2><span id='topic+toolCountryFill'></span>

<h3>Description</h3>

<p>This function expects a MAgPIE object with ISO country codes in the spatial
dimension. These ISO codes are compared with the official ISO code country
list (stored as supplementary data in the madrat package). If there is an
ISO code in the data but not in the official list this entry is removed, if
an entry of the official list is missing in the data this entry is added and
set to the value of the argument fill.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolCountryFill(
  x,
  fill = NA,
  no_remove_warning = NULL,
  overwrite = FALSE,
  verbosity = 1,
  countrylist = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolCountryFill_+3A_x">x</code></td>
<td>
<p>MAgPIE object with ISO country codes in the spatial dimension</p>
</td></tr>
<tr><td><code id="toolCountryFill_+3A_fill">fill</code></td>
<td>
<p>Number which should be used for filling the gaps of missing
countries.</p>
</td></tr>
<tr><td><code id="toolCountryFill_+3A_no_remove_warning">no_remove_warning</code></td>
<td>
<p>A vector of non-ISO country codes that exist in the
data and that should be removed by CountryFill but without creating a
warning (they will be removed in any case). You should use that argument if
you are certain that the given entries should be actually removed from the
data.</p>
</td></tr>
<tr><td><code id="toolCountryFill_+3A_overwrite">overwrite</code></td>
<td>
<p>logical deciding whether existing data should be overwritten,
if there is a specific mapping provided for that country, or not</p>
</td></tr>
<tr><td><code id="toolCountryFill_+3A_verbosity">verbosity</code></td>
<td>
<p>verbosity for information about filling important countries.
0 = warning will show up (recommended if filling of important countries is not expected),
1 = note will show up in reduced log file (default),
2 = info will show up in extended log file (recommended if filling of important countries
is not critical and desired).</p>
</td></tr>
<tr><td><code id="toolCountryFill_+3A_countrylist">countrylist</code></td>
<td>
<p>character vector of official country names (if other than ISO)</p>
</td></tr>
<tr><td><code id="toolCountryFill_+3A_...">...</code></td>
<td>
<p>Mappings between countries for which the data is missing and
countries from which the data should be used instead for these countries
(e.g. &quot;HKG&quot;=&quot;CHN&quot; if Hong Kong should receive the value of China). This
replacement usually only makes sense for intensive values. Can be also provided
as a argument called &quot;map&quot; which contains a named vector of these mappings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MAgPIE object with spatial entries for each country of the
official ISO code country list.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(magclass)
x &lt;- new.magpie("DEU", 1994, "bla", 0)
y &lt;- toolCountryFill(x, 99)
</code></pre>

<hr>
<h2 id='toolendmessage'>Tool: End message</h2><span id='topic+toolendmessage'></span>

<h3>Description</h3>

<p>This function writes a process end message and performs some diagnostics. It is always called after a corresponding
call to <code><a href="#topic+toolstartmessage">toolstartmessage</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolendmessage(startdata, level = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolendmessage_+3A_startdata">startdata</code></td>
<td>
<p>a list containing diagnostic information provided by <code><a href="#topic+toolstartmessage">toolstartmessage</a></code></p>
</td></tr>
<tr><td><code id="toolendmessage_+3A_level">level</code></td>
<td>
<p>This argument allows to establish a hierarchy of print
statements. The hierarchy is preserved for the next vcat executions.
Currently this setting can have 4 states: NULL (nothing will be changed), 0
(reset hierarchies), &quot;+&quot; (increase hierarchy level by 1) and &quot;-&quot; (decrease
hierarchy level by 1).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+toolstartmessage">toolstartmessage</a></code>, <code><a href="#topic+vcat">vcat</a></code>
</p>

<hr>
<h2 id='toolFillWithRegionAvg'>Tool: FillWithRegionAvg</h2><span id='topic+toolFillWithRegionAvg'></span>

<h3>Description</h3>

<p>This function fills missing values for countries with the (weighted) average
of the respective region. The average is computed separately for every
timestep. Currently only inputs with one data dimension are allowed as inputs.
(If the filling should be performed over multiple data dimensions, call this
function multiple times and bind the results together with magclass::mbind.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolFillWithRegionAvg(
  x,
  valueToReplace = NA,
  weight = NULL,
  callToolCountryFill = FALSE,
  regionmapping = NULL,
  verbose = TRUE,
  warningThreshold = 0.5,
  noteThreshold = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolFillWithRegionAvg_+3A_x">x</code></td>
<td>
<p>MAgPIE object with country codes in the first and time steps in the
second dimension.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_valuetoreplace">valueToReplace</code></td>
<td>
<p>value that denotes missing data. Defaults to NA.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_weight">weight</code></td>
<td>
<p>MAgPIE object with weights for the weighted average. Must contain
at least all the countries and years present in x. If no weights are specified,
an unweighted average is performed.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_calltoolcountryfill">callToolCountryFill</code></td>
<td>
<p>Boolean variable indicating whether the list of countries
should first be filled to the official ISO code country list. Subsequently the
newly added and previously missing values are filled with the region average.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_regionmapping">regionmapping</code></td>
<td>
<p>Data frame containing the mapping between countries and regions.
Expects column names CountryCode and RegionCode. Uses the currently set mapping
if no mapping is specified.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_verbose">verbose</code></td>
<td>
<p>Boolean variable indicating if the function should print out what it is doing.
Can generate a lot of output for a large object.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_warningthreshold">warningThreshold</code></td>
<td>
<p>If more than this fraction of the countries in a given region and
timestep have a missing value, throw a warning.</p>
</td></tr>
<tr><td><code id="toolFillWithRegionAvg_+3A_notethreshold">noteThreshold</code></td>
<td>
<p>If more than this fraction of the countries in a given region and
timestep have a missing value, a note will be written.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>toolFillWithRegionAvg can be used in conjunction with toolCountryFill() to first
fill up the list of countries to the official ISO code country list, and then
fill values with the regional average (see callToolCountryFill Option).
</p>


<h3>Value</h3>

<p>A MAgPIE object with the missing values filled.
</p>


<h3>Author(s)</h3>

<p>Bjoern Soergel, Lavinia Baumstark, Jan Philipp Dietrich
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- magclass::new.magpie(cells_and_regions = c("A", "B", "C", "D"), years = c(2000, 2005),
  fill = c(1, NA, 3, 4, 5, 6, NA, 8))
rel &lt;- data.frame(CountryCode = c("A", "B", "C", "D"), RegionCode = c("R1", "R1", "R1", "R2"))
xfilled &lt;- toolFillWithRegionAvg(x, regionmapping = rel)
</code></pre>

<hr>
<h2 id='toolFillYears'>toolFillYears</h2><span id='topic+toolFillYears'></span>

<h3>Description</h3>

<p>Inter- and extrapolates a historical dataset for a given time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolFillYears(x, years)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolFillYears_+3A_x">x</code></td>
<td>
<p>MAgPIE object to be continued.</p>
</td></tr>
<tr><td><code id="toolFillYears_+3A_years">years</code></td>
<td>
<p>vector of years as digits or in mag year format</p>
</td></tr>
</table>


<h3>Value</h3>

<p>MAgPIE object with completed time dimensionality.
</p>


<h3>Author(s)</h3>

<p>Kristine Karstens
</p>

<hr>
<h2 id='toolGetMapping'>Tool: GetMapping</h2><span id='topic+toolGetMapping'></span>

<h3>Description</h3>

<p>Function which retrieves a mapping file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolGetMapping(
  name,
  type = NULL,
  where = NULL,
  error.missing = TRUE,
  returnPathOnly = FALSE,
  activecalc = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolGetMapping_+3A_name">name</code></td>
<td>
<p>File name of the mapping file. Supported file types are currently csv (, or ; separated), rds
and rda (which needs to have the data stored with the object name &quot;data&quot;!). Use code<a href="#topic+toolConvertMapping">toolConvertMapping</a>
to convert between both formats</p>
</td></tr>
<tr><td><code id="toolGetMapping_+3A_type">type</code></td>
<td>
<p>Mapping type (e.g. &quot;regional&quot;, &quot;cell&quot;, or &quot;sectoral&quot;). Can be set to NULL if file
is not stored in a type specific subfolder</p>
</td></tr>
<tr><td><code id="toolGetMapping_+3A_where">where</code></td>
<td>
<p>location to look for the mapping, either &quot;mappingfolder&quot;, &quot;local&quot; (if the path is relative to your
current directory) or the name of a package which contains the mapping. If set to NULL it will first try &quot;local&quot;,
then &quot;mappingfolder&quot; and afterwards scan all packages currently listed in <code>getConfig("packages")</code></p>
</td></tr>
<tr><td><code id="toolGetMapping_+3A_error.missing">error.missing</code></td>
<td>
<p>Boolean which decides whether an error is returned if
the mapping file does not exist or not.</p>
</td></tr>
<tr><td><code id="toolGetMapping_+3A_returnpathonly">returnPathOnly</code></td>
<td>
<p>If set to TRUE only the file path is returned</p>
</td></tr>
<tr><td><code id="toolGetMapping_+3A_activecalc">activecalc</code></td>
<td>
<p>If set, this argument helps to define the first package within
which the mapping has to be sought for. This happens via finding in which
package the active calc function is located.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the mapping as a data frame
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calcOutput">calcOutput</a></code>, <code><a href="#topic+toolConvertMapping">toolConvertMapping</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
head(toolGetMapping("regionmappingH12.csv", where = "madrat"))
</code></pre>

<hr>
<h2 id='toolISOhistorical'>Tool: ISOhistorical</h2><span id='topic+toolISOhistorical'></span>

<h3>Description</h3>

<p>This function expects a MAgPIE object with ISO country codes in the spatial
dimension. For this MAgPIE object the time of transition is calculated and
for each the historic time filled by using the mapping stored as
supplementary data in the madrat package. If you want to use a different
mapping please specify it in the argument mapping
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolISOhistorical(
  m,
  mapping = NULL,
  additional_mapping = NULL,
  overwrite = FALSE,
  additional_weight = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolISOhistorical_+3A_m">m</code></td>
<td>
<p>MAgPIE object with ISO country codes in the spatial dimension</p>
</td></tr>
<tr><td><code id="toolISOhistorical_+3A_mapping">mapping</code></td>
<td>
<p>mapping of historical ISO countries to the standard ISO
country list. For the default setting (mapping=NULL) the mapping stored as
supplementary data in the madrat package is used. If provided as file the
mapping needs to contain three columns &quot;fromISO&quot;, &quot;toISO&quot; and &quot;lastYear&quot;.</p>
</td></tr>
<tr><td><code id="toolISOhistorical_+3A_additional_mapping">additional_mapping</code></td>
<td>
<p>vector or list of vectors to provide some specific
mapping, first the old country code, second the new country code and last
the last year of the old country, e.g. additional_mapping =
c(&quot;TTT&quot;,&quot;TTX&quot;,&quot;y1111&quot;) or additional_mapping =
list(c(&quot;TTT&quot;,&quot;TTX&quot;,&quot;y1111&quot;),c(&quot;TTT&quot;,&quot;TTY&quot;,&quot;y1111&quot;))</p>
</td></tr>
<tr><td><code id="toolISOhistorical_+3A_overwrite">overwrite</code></td>
<td>
<p>if there are already historical data in the data source for
years that are calculated in this function they will not be overwritten by
default. To overwrite all data (e.g. if there are meaningless &quot;0&quot;) choose
overwrite=TRUE</p>
</td></tr>
<tr><td><code id="toolISOhistorical_+3A_additional_weight">additional_weight</code></td>
<td>
<p>optional weight to be used for regional disaggregation,
if not provided, the values of m in the &quot;lastYear&quot; are used as weight</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MAgPIE object with spatial entries for each country of the
official ISO code country list. Historical time is filled up, old countries
deleted
</p>


<h3>Author(s)</h3>

<p>Lavinia Baumstark
</p>

<hr>
<h2 id='toolManualDownload'>Tool: ManualDownload</h2><span id='topic+toolManualDownload'></span>

<h3>Description</h3>

<p>Support tool for the creation of download functions in cases where a fully automated data download is not
an option (e.g. due to a missing API). The function can be used to print a step-by-step guide for the user
how to manually retrieve the data and then asks for a (local) path where the data can be copied from.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolManualDownload(
  instructions,
  intro = "Data must be downloaded manually",
  request = "Enter full path to the downloaded data:"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolManualDownload_+3A_instructions">instructions</code></td>
<td>
<p>Download instructions in form of a character vector describing how to manually
retrieve the data.</p>
</td></tr>
<tr><td><code id="toolManualDownload_+3A_intro">intro</code></td>
<td>
<p>Introductory sentence to be shown first. Will not show up if set to NULL.</p>
</td></tr>
<tr><td><code id="toolManualDownload_+3A_request">request</code></td>
<td>
<p>A prompt which should show up after the instructions to ask for the local download location.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+downloadSource">downloadSource</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
toolManualDownload(c("Log into website ABC",
                     "Download the data set XYZ"))

## End(Not run)
</code></pre>

<hr>
<h2 id='toolNAreplace'>Tool: NA replace</h2><span id='topic+toolNAreplace'></span>

<h3>Description</h3>

<p>Functions removes NAs, NaNs and infinite values in x and weight
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolNAreplace(x, weight = NULL, replaceby = 0, val.rm = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolNAreplace_+3A_x">x</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="toolNAreplace_+3A_weight">weight</code></td>
<td>
<p>aggregation weight</p>
</td></tr>
<tr><td><code id="toolNAreplace_+3A_replaceby">replaceby</code></td>
<td>
<p>value which should be used instead of NA. Either a single 
value or a MAgPIE object which can be expanded to the size of x (either same 
size or with lower dimensionality).</p>
</td></tr>
<tr><td><code id="toolNAreplace_+3A_val.rm">val.rm</code></td>
<td>
<p>vector of values that should in addition be removed in x</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing x and weight
</p>


<h3>Author(s)</h3>

<p>Benjamin Bodirsky, Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calcOutput">calcOutput</a></code>
</p>

<hr>
<h2 id='toolOrderCells'>toolOrderCells</h2><span id='topic+toolOrderCells'></span>

<h3>Description</h3>

<p>reorder numbered spatial units (cells, clusters) by number. Function
will return the unmodified object, if the given subdimension does not exist
or does not contain cell information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolOrderCells(x, dim = 1.2, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolOrderCells_+3A_x">x</code></td>
<td>
<p>magclass object that should be ordered</p>
</td></tr>
<tr><td><code id="toolOrderCells_+3A_dim">dim</code></td>
<td>
<p>subdimension which contains the cell information</p>
</td></tr>
<tr><td><code id="toolOrderCells_+3A_na.rm">na.rm</code></td>
<td>
<p>boolean deciding how to deal with non-integer information
in cellular column. If FALSE, non-integer values will lead to a return
of the unsorted object, if TRUE non-integer cells will be removed from
the data set and the rest will get sorted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ordered data in magclass format
</p>


<h3>Author(s)</h3>

<p>Kristine Karstens, Jan Philipp Dietrich
</p>

<hr>
<h2 id='toolSplitSubtype'>Tool: SplitSubtype</h2><span id='topic+toolSplitSubtype'></span>

<h3>Description</h3>

<p>This function can split a subtype string into smaller entities based on 
a given separator and check whether these entities exist in a reference list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolSplitSubtype(subtype, components, sep = ":")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolSplitSubtype_+3A_subtype">subtype</code></td>
<td>
<p>A character string which can be split with the given separator into smaller entities</p>
</td></tr>
<tr><td><code id="toolSplitSubtype_+3A_components">components</code></td>
<td>
<p>A named list with the same length as the subtype has entities. Names of the list
are used as names of the entities while the content of each list element represents the allowed values
of that given entity. If all values are allowed use NULL as entry.</p>
</td></tr>
<tr><td><code id="toolSplitSubtype_+3A_sep">sep</code></td>
<td>
<p>separator to be used for splitting</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with the different entities of the given subtype
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toolSplitSubtype("mymodel:myversion:myworld", list(model=c("mymodel","notmymodel"), 
                                                   version=c("myversion","42"), 
                                                   world="myworld"))

</code></pre>

<hr>
<h2 id='toolstartmessage'>Tool: Start message</h2><span id='topic+toolstartmessage'></span>

<h3>Description</h3>

<p>This function writes a process start message (what function was called with which arguments) and stores the current
time, so the corresponding call to <code><a href="#topic+toolendmessage">toolendmessage</a></code> can calculate the elapsed time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolstartmessage(functionName, argumentValues, level = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolstartmessage_+3A_functionname">functionName</code></td>
<td>
<p>The name of the calling function as a string.</p>
</td></tr>
<tr><td><code id="toolstartmessage_+3A_argumentvalues">argumentValues</code></td>
<td>
<p>A list of the evaluated arguments of the calling function.</p>
</td></tr>
<tr><td><code id="toolstartmessage_+3A_level">level</code></td>
<td>
<p>This argument allows to establish a hierarchy of print statements. The hierarchy is preserved for the
next vcat executions. Currently this setting can have 4 states: NULL (nothing will be changed), 0 (reset
hierarchies), &quot;+&quot; (increase hierarchy level by 1) and &quot;-&quot; (decrease hierarchy level by 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing diagnostic information required by <code><a href="#topic+toolendmessage">toolendmessage</a></code>.
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich, Pascal FÃ¼hrlich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+toolendmessage">toolendmessage</a></code>, <code><a href="#topic+vcat">vcat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
innerFunction &lt;- function() {
  startinfo &lt;- madrat:::toolstartmessage("innerFunction", list(argumentsToPrint = 123), "+")
  vcat(1, "inner")
  madrat:::toolendmessage(startinfo, "-")
}
outerFunction &lt;- function() {
  startinfo &lt;- madrat:::toolstartmessage("outerFunction", list(), "+")
  vcat(1, "outer")
  innerFunction()
  madrat:::toolendmessage(startinfo, "-")
}
outerFunction()
</code></pre>

<hr>
<h2 id='toolSubtypeSelect'>Tool: SubtypeSelect</h2><span id='topic+toolSubtypeSelect'></span>

<h3>Description</h3>

<p>This function is a support function for the selection of a subtype in a
readX function. In addition to the subtype selection it also performs some
consistency checks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolSubtypeSelect(subtype, files)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolSubtypeSelect_+3A_subtype">subtype</code></td>
<td>
<p>A chosen subtype (character)</p>
</td></tr>
<tr><td><code id="toolSubtypeSelect_+3A_files">files</code></td>
<td>
<p>A named vector or list. The names of the vector correspond to the
allowed subtypes and the content of the vector are the corresponding file
names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file name corresponding to the given subtype
</p>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
files &lt;-  c(protection="protection.csv",
              production="production.csv",
              extent="forest_extent.csv")
toolSubtypeSelect("extent",files)

</code></pre>

<hr>
<h2 id='toolTimeAverage'>toolTimeAverage</h2><span id='topic+toolTimeAverage'></span>

<h3>Description</h3>

<p>average over time given an averaging range. Only works for data with
equidistant time steps!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolTimeAverage(x, averaging_range = NULL, cut = TRUE, annual = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolTimeAverage_+3A_x">x</code></td>
<td>
<p>magclass object that should be averaged with equidistant time steps</p>
</td></tr>
<tr><td><code id="toolTimeAverage_+3A_averaging_range">averaging_range</code></td>
<td>
<p>number of time steps to average</p>
</td></tr>
<tr><td><code id="toolTimeAverage_+3A_cut">cut</code></td>
<td>
<p>if TRUE, all time steps at the start and end that can not be averaged correctly, will be removed
if FALSE, time steps at the start and end will be averaged with high weights for start and end points</p>
</td></tr>
<tr><td><code id="toolTimeAverage_+3A_annual">annual</code></td>
<td>
<p>deprecated. Please don't use it!</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the averaged data in magclass format
</p>


<h3>Author(s)</h3>

<p>Kristine Karstens, Jan Philipp Dietrich
</p>

<hr>
<h2 id='toolTimeSpline'>toolTimeSpline</h2><span id='topic+toolTimeSpline'></span>

<h3>Description</h3>

<p>Smoothing a data set by replacing its values by its spline approximation using the given degrees of freedom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolTimeSpline(x, dof = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolTimeSpline_+3A_x">x</code></td>
<td>
<p>magclass object that should be smoothed via a spline approximation</p>
</td></tr>
<tr><td><code id="toolTimeSpline_+3A_dof">dof</code></td>
<td>
<p>degrees of freedom per 100 years (similiar to an average range), is a proxy for the smoothness of the 
spline (smaller values = smoother)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>approximated data in magclass format
</p>


<h3>Author(s)</h3>

<p>Kristine Karstens, Felicitas Beier
</p>

<hr>
<h2 id='toolXlargest'>toolXlargest</h2><span id='topic+toolXlargest'></span>

<h3>Description</h3>

<p>Selects the countries with the highest values in a magpie object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toolXlargest(x, range = 1:20, years = NULL, elements = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toolXlargest_+3A_x">x</code></td>
<td>
<p>magclass object that shall be used for ranking</p>
</td></tr>
<tr><td><code id="toolXlargest_+3A_range">range</code></td>
<td>
<p>the position of the countries in the top X which should be returned.</p>
</td></tr>
<tr><td><code id="toolXlargest_+3A_years">years</code></td>
<td>
<p>range of years that shall be summed for ranking.  If NULL, the sum of all years is used.</p>
</td></tr>
<tr><td><code id="toolXlargest_+3A_elements">elements</code></td>
<td>
<p>range of elements that shall be summed for ranking. If NULL, all elements are used.</p>
</td></tr>
<tr><td><code id="toolXlargest_+3A_...">...</code></td>
<td>
<p>further parameters will be handed on to calcOutput function type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with ISO country codes
</p>


<h3>Author(s)</h3>

<p>Benjamin Leon Bodirsky, Jan Philipp Dietrich
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toolXlargest(magclass::maxample("pop"), range = 1:3)
</code></pre>

<hr>
<h2 id='vcat'>Tool: Verbosity Cat</h2><span id='topic+vcat'></span>

<h3>Description</h3>

<p>Function which returns information based on the verbosity setting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vcat(
  verbosity,
  ...,
  level = NULL,
  fill = TRUE,
  show_prefix = TRUE,
  logOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcat_+3A_verbosity">verbosity</code></td>
<td>
<p>The lowest verbosity level for which this message should be
shown (verbosity = -1 means no information at all, 0 = only warnings, 1 =
warnings and execution information, 2 = full information). If the verbosity
is set to 0 the message is written as warning, if the verbosity is set
higher than 0 it is written as a normal cat message.</p>
</td></tr>
<tr><td><code id="vcat_+3A_...">...</code></td>
<td>
<p>The message to be shown</p>
</td></tr>
<tr><td><code id="vcat_+3A_level">level</code></td>
<td>
<p>This argument allows to establish a hierarchy of print
statements. The hierarchy is preserved for the next vcat executions.
Currently this setting can have 4 states: NULL (nothing will be changed), 0
(reset hierarchies), &quot;+&quot; (increase hierarchy level by 1) and &quot;-&quot; (decrease
hierarchy level by 1).</p>
</td></tr>
<tr><td><code id="vcat_+3A_fill">fill</code></td>
<td>
<p>a logical or (positive) numeric controlling how the output is
broken into successive lines. If FALSE (default), only newlines created
explicitly by &quot;\n&quot; are printed. Otherwise, the output is broken into lines
with print width equal to the option width if fill is TRUE, or the value of
fill if this is numeric. Non-positive fill values are ignored, with a warning.</p>
</td></tr>
<tr><td><code id="vcat_+3A_show_prefix">show_prefix</code></td>
<td>
<p>a logical defining whether a content specific prefix (e.g. &quot;NOTE&quot;)
should be shown in front of the message or not. If prefix is not shown it will also
not show up in official statistics.</p>
</td></tr>
<tr><td><code id="vcat_+3A_logonly">logOnly</code></td>
<td>
<p>option to only log warnings and error message without creating warnings
or errors (expert use only).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSource">readSource</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vcat(2, "Hello world!")

## End(Not run)
</code></pre>

<hr>
<h2 id='visualizeDependencies'>visualizeDependencies</h2><span id='topic+visualizeDependencies'></span>

<h3>Description</h3>

<p>Creates a graphical visualization of dependencies between functions in the mr-universe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>visualizeDependencies(
  ...,
  direction = "both",
  order = 2,
  filter = NULL,
  packages = getConfig("packages"),
  filename = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="visualizeDependencies_+3A_...">...</code></td>
<td>
<p>function(s) to be analyzed</p>
</td></tr>
<tr><td><code id="visualizeDependencies_+3A_direction">direction</code></td>
<td>
<p>Character string, either âinâ, âoutâ or &quot;both&quot;. If âinâ all sources
feeding into the function are listed. If âoutâ consumer of the function are listed.
If âbothâ the union of &quot;in&quot; and &quot;out&quot; is returned.</p>
</td></tr>
<tr><td><code id="visualizeDependencies_+3A_order">order</code></td>
<td>
<p>order of dependencies. Order 1 would be only functions directly called from (in case
of direction &quot;in&quot;) or directly calling (in case of direction &quot;out&quot;) are shown. Order 2 will also
show direct dependencies of the order 1 dependencies, order 3 also the direct dependencies from
order 2 dependencies, etc.</p>
</td></tr>
<tr><td><code id="visualizeDependencies_+3A_filter">filter</code></td>
<td>
<p>regular expression to describe elements which should be excluded from visualization
(e.g. &quot;^tool&quot; to exclude all tool functions)</p>
</td></tr>
<tr><td><code id="visualizeDependencies_+3A_packages">packages</code></td>
<td>
<p>packages to use when searching dependencies</p>
</td></tr>
<tr><td><code id="visualizeDependencies_+3A_filename">filename</code></td>
<td>
<p>If a filename is provided, the resulting graph will be saved</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Debbora Leip, Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDependencies">getDependencies</a></code>, <code><a href="#topic+getMadratGraph">getMadratGraph</a></code>, <code><a href="#topic+getMadratInfo">getMadratInfo</a></code>
</p>

<hr>
<h2 id='withMadratLogging'>Tool: withMadratLogging</h2><span id='topic+withMadratLogging'></span>

<h3>Description</h3>

<p>Function will activate madrat logging facilities for all code provided
to this function. This means that <code>message</code>, <code>warning</code> and
<code>stop</code> calls will also report to the madrat log output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>withMadratLogging(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="withMadratLogging_+3A_expr">expr</code></td>
<td>
<p>expression to be evaluated.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jan Philipp Dietrich
</p>


<h3>See Also</h3>

<p><code><a href="#topic+vcat">vcat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
madrat:::withMadratLogging(message("Hello world!"))

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

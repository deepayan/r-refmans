<!DOCTYPE html><html><head><title>Help for package rrefine</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rrefine}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lateformeeting'><p>a &quot;dirty&quot; data set to demonstrate rrefine features</p></a></li>
<li><a href='#lfm_clean'><p>a &quot;clean&quot; version of the lateformeeting sample data set</p></a></li>
<li><a href='#refine_add_column'><p>Add column to OpenRefine project</p></a></li>
<li><a href='#refine_check'><p>Helper function to check if <code>rrefine</code> can connect to OpenRefine</p></a></li>
<li><a href='#refine_delete'><p>Delete project from OpenRefine</p></a></li>
<li><a href='#refine_export'><p>Export data from OpenRefine</p></a></li>
<li><a href='#refine_id'><p>Helper function to get OpenRefine project.id by project.name</p></a></li>
<li><a href='#refine_metadata'><p>Get all project metadata from OpenRefine</p></a></li>
<li><a href='#refine_move_column'><p>Move a column in OpenRefine project</p></a></li>
<li><a href='#refine_operations'><p>Apply operations to OpenRefine project</p></a></li>
<li><a href='#refine_path'><p>Helper function to configure and call path to OpenRefine</p></a></li>
<li><a href='#refine_project_summary'><p>Get project summary data</p></a></li>
<li><a href='#refine_query'><p>Helper function to build OpenRefine API query</p></a></li>
<li><a href='#refine_remove_column'><p>Remove column from OpenRefine project</p></a></li>
<li><a href='#refine_rename_column'><p>Rename a column in OpenRefine project</p></a></li>
<li><a href='#refine_token'><p>Helper function to retrieve CSFR token</p></a></li>
<li><a href='#refine_upload'><p>Upload a file to OpenRefine</p></a></li>
<li><a href='#transform'><p>Text transformation for OpenRefine project</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>r Client for OpenRefine API</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-11-01</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>VP Nagraj &lt;nagraj@nagraj.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>'OpenRefine' (formerly 'Google Refine') is a popular, open source data cleaning software. This package enables users to programmatically trigger data transfer between R and 'OpenRefine'. Available functionality includes project import, export and deletion.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr (&ge; 1.1.0), readr, jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/vpnagraj/rrefine">https://github.com/vpnagraj/rrefine</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vpnagraj/rrefine/issues">https://github.com/vpnagraj/rrefine/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-13 03:16:29 UTC; vpnagraj</td>
</tr>
<tr>
<td>Author:</td>
<td>VP Nagraj [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-15 19:30:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='lateformeeting'>a &quot;dirty&quot; data set to demonstrate rrefine features</h2><span id='topic+lateformeeting'></span>

<h3>Description</h3>

<p>This data is a simulated collection of dates, days of the week, numbers of hours slept and indicators of whether or not the subject was on time for work. All observations appearing in this data set are fictitious, and any resemblance to actual arrival times for work is purely coincidental.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lateformeeting
</code></pre>


<h3>Format</h3>

<p>A data frame with 63 rows and 4 variables
</p>

<ul>
<li> <p>theDate date of observation in varying formats
</p>
</li>
<li> <p>what.day.whas.it day of the week in varying formats
</p>
</li>
<li> <p>sleephours number of hours slept
</p>
</li>
<li> <p>was.i.on.time.for.work indicator of on-time arrival to work
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>head(lateformeeting)
</code></pre>

<hr>
<h2 id='lfm_clean'>a &quot;clean&quot; version of the lateformeeting sample data set</h2><span id='topic+lfm_clean'></span>

<h3>Description</h3>

<p>This data is a simulated collection of dates, days of the week, numbers of hours slept and indicators of whether or not the subject was on time for work. All observations appearing in this data set are fictitious, and any resemblance to actual arrival times for work is purely coincidental.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lfm_clean
</code></pre>


<h3>Format</h3>

<p>A data frame with 63 rows and 4 variables
</p>

<ul>
<li> <p>date date of observation in POSIXct format
</p>
</li>
<li> <p>dotw day of the week in consistent format
</p>
</li>
<li> <p>hours.slept number of hours slept
</p>
</li>
<li> <p>on.time indicator of on-time arrival to work
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>head(lfm_clean)
</code></pre>

<hr>
<h2 id='refine_add_column'>Add column to OpenRefine project</h2><span id='topic+refine_add_column'></span>

<h3>Description</h3>

<p>This function will add a column to an existing OpenRefine project via an API query to <code style="white-space: pre;">&#8288;/command/core/apply-operations&#8288;</code> and the <code>core/column-addition</code> operation. The value for the new column can be specified in this function either based on value of an existing column. The value can be defined using an expression written in <a href="https://docs.openrefine.org/manual/grel">General Refine Expression Language (GREL)</a> syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_add_column(
  new_column,
  new_column_index = 0,
  base_column = NULL,
  value,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_add_column_+3A_new_column">new_column</code></td>
<td>
<p>Name of the new column</p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_new_column_index">new_column_index</code></td>
<td>
<p>Index at which the new column should be placed in the project; default is <code>0</code> to position the new column as the first column in the project</p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_base_column">base_column</code></td>
<td>
<p>Name of the column on which the value will be based; default is <code>NULL</code>, which means that the value will not be based off of a value in an existing column</p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_value">value</code></td>
<td>
<p>Definition of the value for the new column; can accept a GREL expression</p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_mode">mode</code></td>
<td>
<p>Mode of operation; must be one of <code>"row-based"</code> or <code>"record-based"</code>; default is <code style="white-space: pre;">&#8288;"row-based&#8288;</code></p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_on_error">on_error</code></td>
<td>
<p>Behavior if there is an error on new column creation; must be one of <code>"set-to-blank"</code>, <code>"keep-original"</code>, or <code>"store-error"</code>; default is <code>"set-to-blank"</code></p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_verbose">verbose</code></td>
<td>
<p>Logical specifying whether or not query result should be printed; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_validate">validate</code></td>
<td>
<p>Logical as to whether or not the operation should validate parameters against existing data in project; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="refine_add_column_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect passing operations to the OpenRefine instance. However, if <code>verbose=TRUE</code> then the function will return an object of the class &quot;response&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")

refine_add_column(new_column = "date_type",
                 value = "grel:value.type()",
                 base_column = "theDate",
                 project.name = "lfm")

refine_add_column(new_column = "example_value",
                 new_column_index = 0,
                 value = "1",
                 project.name = "lfm")

## End(Not run)
</code></pre>

<hr>
<h2 id='refine_check'>Helper function to check if <code>rrefine</code> can connect to OpenRefine</h2><span id='topic+refine_check'></span>

<h3>Description</h3>

<p>This function will check that <code>rrefine</code> is able to access the running OpenRefine instance. Used internally prior to upload, delete, and export operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_check(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_check_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Error message if <code>rrefine</code> is unable to connect to OpenRefine, otherwise is invisible
</p>

<hr>
<h2 id='refine_delete'>Delete project from OpenRefine</h2><span id='topic+refine_delete'></span>

<h3>Description</h3>

<p>This function allows users to delete a project in OpenRefine by name or unique project identifier. By default users are prompted to confirm deletion. The function wraps the OpenRefine API <code style="white-space: pre;">&#8288;/command/core/delete-project&#8288;</code> query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_delete(project.name = NULL, project.id = NULL, force = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_delete_+3A_project.name">project.name</code></td>
<td>
<p>Name of project to be deleted</p>
</td></tr>
<tr><td><code id="refine_delete_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for open refine project to be deleted</p>
</td></tr>
<tr><td><code id="refine_delete_+3A_force">force</code></td>
<td>
<p>Boolean indicating whether or not the prompt to confirm deletion should be skipped; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_delete_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect to delete the project. Issues a message that the project has been deleted.
</p>


<h3>References</h3>

<p><a href="https://docs.openrefine.org/technical-reference/openrefine-api#delete-project">https://docs.openrefine.org/technical-reference/openrefine-api#delete-project</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")
refine_delete("lfm", force = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='refine_export'>Export data from OpenRefine</h2><span id='topic+refine_export'></span>

<h3>Description</h3>

<p>This function allows users to pull data from a running OpenRefine instance into R. Users can specify project by name or unique identifier. The function wraps the OpenRefine API query to <code style="white-space: pre;">&#8288;/command/core/export-rows&#8288;</code> and currently only supports export of data in tabular format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_export(
  project.name = NULL,
  project.id = NULL,
  format = "csv",
  col.names = TRUE,
  encoding = "UTF-8",
  col_types = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_export_+3A_project.name">project.name</code></td>
<td>
<p>Name of project to be exported</p>
</td></tr>
<tr><td><code id="refine_export_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project to be exported</p>
</td></tr>
<tr><td><code id="refine_export_+3A_format">format</code></td>
<td>
<p>File format of project to be exported; note that the only current supported options are 'csv' or 'tsv'</p>
</td></tr>
<tr><td><code id="refine_export_+3A_col.names">col.names</code></td>
<td>
<p>Logical indicator for whether column names should be included; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="refine_export_+3A_encoding">encoding</code></td>
<td>
<p>Character encoding for exported data; default is <code>UTF-8</code></p>
</td></tr>
<tr><td><code id="refine_export_+3A_col_types">col_types</code></td>
<td>
<p>One of NULL, a cols() specification, or a string; default is NULL. Used by <code><a href="readr.html#topic+read_csv">read_csv</a></code> to specify column types.</p>
</td></tr>
<tr><td><code id="refine_export_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> that has been parsed and read into memory using <code><a href="readr.html#topic+read_csv">read_csv</a></code>. If <code>col.names=TRUE</code> then the <code>tibble</code> will have column headers.
</p>


<h3>References</h3>

<p><a href="https://docs.openrefine.org/technical-reference/openrefine-api#export-rows">https://docs.openrefine.org/technical-reference/openrefine-api#export-rows</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")
refine_export("lfm", format = "csv")

## End(Not run)

</code></pre>

<hr>
<h2 id='refine_id'>Helper function to get OpenRefine project.id by project.name</h2><span id='topic+refine_id'></span>

<h3>Description</h3>

<p>For functions that allow either a project name or id to be passed, this function is used internally to resolve the project id from name if necessary. It also validates that values passed to the 'project.id&ldquo; argument match an existing project id in the running OpenRefine instance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_id(project.name, project.id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_id_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="refine_id_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="refine_id_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unique id of project
</p>

<hr>
<h2 id='refine_metadata'>Get all project metadata from OpenRefine</h2><span id='topic+refine_metadata'></span>

<h3>Description</h3>

<p>This function is included internally to help retrieve metadata from the running OpenRefine instance. The query uses the OpenRefine API <code style="white-space: pre;">&#8288;/command/core/get-all-project-metadata&#8288;</code> endpoint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_metadata(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_metadata_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Parsed <code>list</code> object with all project metadata including identifiers, names, dates of creation and modification, tags and more.
</p>


<h3>References</h3>

<p><a href="https://docs.openrefine.org/technical-reference/openrefine-api#get-all-projects-metadata">https://docs.openrefine.org/technical-reference/openrefine-api#get-all-projects-metadata</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
refine_metadata()

## End(Not run)

</code></pre>

<hr>
<h2 id='refine_move_column'>Move a column in OpenRefine project</h2><span id='topic+refine_move_column'></span>

<h3>Description</h3>

<p>This function allows users to move an existing column in an OpenRefine project via an API query to <code style="white-space: pre;">&#8288;/command/core/apply-operations&#8288;</code> and the <code>core/column-move</code> operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_move_column(
  column,
  index = 0,
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_move_column_+3A_column">column</code></td>
<td>
<p>Name of the column to be removed</p>
</td></tr>
<tr><td><code id="refine_move_column_+3A_index">index</code></td>
<td>
<p>Index to which the column should be placed in the project; default is <code>0</code> to position the new column as the first column in the project</p>
</td></tr>
<tr><td><code id="refine_move_column_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="refine_move_column_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="refine_move_column_+3A_verbose">verbose</code></td>
<td>
<p>Logical specifying whether or not query result should be printed; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_move_column_+3A_validate">validate</code></td>
<td>
<p>Logical as to whether or not the operation should validate parameters against existing data in project; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="refine_move_column_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect passing operations to the OpenRefine instance. However, if <code>verbose=TRUE</code> then the function will return an object of the class &quot;response&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")
refine_move_column("sleephours", index = 0, project.name = "lfm")

## End(Not run)


</code></pre>

<hr>
<h2 id='refine_operations'>Apply operations to OpenRefine project</h2><span id='topic+refine_operations'></span>

<h3>Description</h3>

<p>This function allows users to pass arbitrary operations to an OpenRefine project via an API query to <code style="white-space: pre;">&#8288;/command/core/apply-operations&#8288;</code>. The operations to perform must be formatted as valid <code>JSON</code> and passed to this function as a <code>list</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_operations(
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  operations,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_operations_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="refine_operations_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="refine_operations_+3A_verbose">verbose</code></td>
<td>
<p>Logical specifying whether or not query result should be printed; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_operations_+3A_operations">operations</code></td>
<td>
<p>List of operations to perform</p>
</td></tr>
<tr><td><code id="refine_operations_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect passing operations to the OpenRefine instance. However, if <code>verbose=TRUE</code> then the function will return an object of the class &quot;response&quot;.
</p>


<h3>References</h3>

<p><a href="https://docs.openrefine.org/technical-reference/openrefine-api#apply-operations">https://docs.openrefine.org/technical-reference/openrefine-api#apply-operations</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")

ops &lt;-
   list(
       op = "core/text-transform",
       engineConfig = list(mode = "row-based", facets = list()),
       columnName = "was i on time for work",
       expression = "value.toUppercase()",
       onError = "set-to-blank")

refine_operations(project.name = "lfm", operations = list(ops), verbose = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='refine_path'>Helper function to configure and call path to OpenRefine</h2><span id='topic+refine_path'></span>

<h3>Description</h3>

<p>This function is a helper that is used throughout <code>rrefine</code> to construct the path to the OpenRefine instance. By default this points to the localhost (<code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_path(host = "http://127.0.0.1", port = "3333")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_path_+3A_host">host</code></td>
<td>
<p>Host for running OpenRefine instance; default is <code style="white-space: pre;">&#8288;http://127.0.0.1&#8288;</code></p>
</td></tr>
<tr><td><code id="refine_path_+3A_port">port</code></td>
<td>
<p>Port number for running OpenRefine instance; default is <code>3333</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with path to running OpenRefine instance
</p>

<hr>
<h2 id='refine_project_summary'>Get project summary data</h2><span id='topic+refine_project_summary'></span>

<h3>Description</h3>

<p>This function retrieves high-level project summary data (such as id, name, date created, date modified, description, and row count) from all projects in the OpenRefine instance. Internally this function uses <code><a href="#topic+refine_metadata">refine_metadata</a></code> to pull information from project metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_project_summary(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_project_summary_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with observations containting high-level summary metadata for all projects in the OpenRefine instance. Columns include: project id (&quot;id&quot;), project name (&quot;name&quot;), project description (&quot;description&quot;), count of number of project rows (&quot;rowCount&quot;), date created (&quot;created&quot;), and date modified (&quot;modified&quot;).
</p>


<h3>References</h3>

<p><a href="https://docs.openrefine.org/technical-reference/openrefine-api#get-all-projects-metadata">https://docs.openrefine.org/technical-reference/openrefine-api#get-all-projects-metadata</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
refine_project_summary()

## End(Not run)

</code></pre>

<hr>
<h2 id='refine_query'>Helper function to build OpenRefine API query</h2><span id='topic+refine_query'></span>

<h3>Description</h3>

<p>Starting with the path to the running instance, this function will add a query command and (optionally) a CSFR token with <code><a href="#topic+refine_token">refine_token</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_query(query, use_token = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_query_+3A_query">query</code></td>
<td>
<p>Character vector specifying the API endpoint to query</p>
</td></tr>
<tr><td><code id="refine_query_+3A_use_token">use_token</code></td>
<td>
<p>Boolean indicating whether or not the query string should include a CSRF Token (see <code><a href="#topic+refine_token">refine_token</a></code>; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="refine_query_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with query based on parameter entered
</p>

<hr>
<h2 id='refine_remove_column'>Remove column from OpenRefine project</h2><span id='topic+refine_remove_column'></span>

<h3>Description</h3>

<p>This function will remove a column from an existing OpenRefine project via an API query to <code style="white-space: pre;">&#8288;/command/core/apply-operations&#8288;</code> and the <code>core/column-removal</code> operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_remove_column(
  column,
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_remove_column_+3A_column">column</code></td>
<td>
<p>Name of the column to be removed</p>
</td></tr>
<tr><td><code id="refine_remove_column_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="refine_remove_column_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="refine_remove_column_+3A_verbose">verbose</code></td>
<td>
<p>Logical specifying whether or not query result should be printed; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_remove_column_+3A_validate">validate</code></td>
<td>
<p>Logical as to whether or not the operation should validate parameters against existing data in project; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="refine_remove_column_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect passing operations to the OpenRefine instance. However, if <code>verbose=TRUE</code> then the function will return an object of the class &quot;response&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")

refine_remove_column(column = "theDate", project.name = "lfm")

## End(Not run)

</code></pre>

<hr>
<h2 id='refine_rename_column'>Rename a column in OpenRefine project</h2><span id='topic+refine_rename_column'></span>

<h3>Description</h3>

<p>This function allows users to rename an existing column in an OpenRefine project via an API query to <code style="white-space: pre;">&#8288;/command/core/apply-operations&#8288;</code> and the <code>core/column-rename</code> operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_rename_column(
  original_name,
  new_name,
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_rename_column_+3A_original_name">original_name</code></td>
<td>
<p>Original name for the column</p>
</td></tr>
<tr><td><code id="refine_rename_column_+3A_new_name">new_name</code></td>
<td>
<p>New name for the column</p>
</td></tr>
<tr><td><code id="refine_rename_column_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="refine_rename_column_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="refine_rename_column_+3A_verbose">verbose</code></td>
<td>
<p>Logical specifying whether or not query result should be printed; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_rename_column_+3A_validate">validate</code></td>
<td>
<p>Logical as to whether or not the operation should validate parameters against existing data in project; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="refine_rename_column_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect passing operations to the OpenRefine instance. However, if <code>verbose=TRUE</code> then the function will return an object of the class &quot;response&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")
refine_rename_column("what day whas it", "what_day_was_it", project.name = "lfm")

## End(Not run)


</code></pre>

<hr>
<h2 id='refine_token'>Helper function to retrieve CSFR token</h2><span id='topic+refine_token'></span>

<h3>Description</h3>

<p>Helper function to retrieve CSFR token
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_token(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_token_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with OpenRefine CSFR token
</p>

<hr>
<h2 id='refine_upload'>Upload a file to OpenRefine</h2><span id='topic+refine_upload'></span>

<h3>Description</h3>

<p>This function attempts to upload contents of a file and create a new project in OpenRefine. Users can optionally navigate directly to the running instance to interact with the project. The function wraps the OpenRefine API <code style="white-space: pre;">&#8288;/command/core/create-project-from-upload&#8288;</code> query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_upload(file, project.name = NULL, open.browser = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refine_upload_+3A_file">file</code></td>
<td>
<p>Path to file to upload; upload format is inferred from the file extension, and currently only &quot;.csv&quot; and &quot;.tsv&quot; files are allowed.</p>
</td></tr>
<tr><td><code id="refine_upload_+3A_project.name">project.name</code></td>
<td>
<p>Optional parameter to specify name of the project to be created upon upload; default is <code>NULL</code> and project will be named 'Untitled' in OpenRefine</p>
</td></tr>
<tr><td><code id="refine_upload_+3A_open.browser">open.browser</code></td>
<td>
<p>Boolean for whether or not the browser should open on successful upload; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="refine_upload_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Operates as a side-effect, either opening a browser and pointing to the OpenRefine instance (if <code>open.browser=TRUE</code>) or issuing a message.
</p>


<h3>References</h3>

<p><a href="https://docs.openrefine.org/technical-reference/openrefine-api#create-project">https://docs.openrefine.org/technical-reference/openrefine-api#create-project</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")
write.table(x = mtcars, file = "mtcars.tsv", sep = "\t")
refine_upload(file = "mtcars.tsv", project.name = "mtcars")

## End(Not run)

</code></pre>

<hr>
<h2 id='transform'>Text transformation for OpenRefine project</h2><span id='topic+transform'></span><span id='topic+refine_transform'></span><span id='topic+refine_to_lower'></span><span id='topic+refine_to_upper'></span><span id='topic+refine_to_title'></span><span id='topic+refine_to_null'></span><span id='topic+refine_to_empty'></span><span id='topic+refine_to_text'></span><span id='topic+refine_to_number'></span><span id='topic+refine_to_date'></span><span id='topic+refine_trim_whitespace'></span><span id='topic+refine_collapse_whitespace'></span><span id='topic+refine_unescape_html'></span>

<h3>Description</h3>

<p>The text transform functions allow users to pass arbitrary text transformations to a column in an existing OpenRefine project via an API query to <code style="white-space: pre;">&#8288;/command/core/apply-operations&#8288;</code> and the <code>core/text-transform</code> operation. Besides the generic <code>refine_transform()</code>, the package includes a series of transform functions that apply commonly used text operations. For more information on these functions see 'Details'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refine_transform(
  column_name,
  expression,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_lower(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_upper(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_title(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_null(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_empty(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_text(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_number(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_to_date(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_trim_whitespace(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_collapse_whitespace(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)

refine_unescape_html(
  column_name,
  mode = "row-based",
  on_error = "set-to-blank",
  project.name = NULL,
  project.id = NULL,
  verbose = FALSE,
  validate = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_+3A_column_name">column_name</code></td>
<td>
<p>Name of the column on which text transformation should be performed</p>
</td></tr>
<tr><td><code id="transform_+3A_expression">expression</code></td>
<td>
<p>Expression defining the text transformation to be performed</p>
</td></tr>
<tr><td><code id="transform_+3A_mode">mode</code></td>
<td>
<p>Mode of operation; must be one of <code>"row-based"</code> or <code>"record-based"</code>; default is <code>"row-based"</code></p>
</td></tr>
<tr><td><code id="transform_+3A_on_error">on_error</code></td>
<td>
<p>Behavior if there is an error on new column creation; must be one of <code>"set-to-blank"</code>, <code>"keep-original"</code>, or <code>"store-error"</code>; default is <code>"set-to-blank"</code></p>
</td></tr>
<tr><td><code id="transform_+3A_project.name">project.name</code></td>
<td>
<p>Name of project</p>
</td></tr>
<tr><td><code id="transform_+3A_project.id">project.id</code></td>
<td>
<p>Unique identifier for project</p>
</td></tr>
<tr><td><code id="transform_+3A_verbose">verbose</code></td>
<td>
<p>Logical specifying whether or not query result should be printed; default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="transform_+3A_validate">validate</code></td>
<td>
<p>Logical as to whether or not the operation should validate parameters against existing data in project; default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="transform_+3A_...">...</code></td>
<td>
<p>Additional parameters to be inherited by <code><a href="#topic+refine_path">refine_path</a></code>; allows users to specify <code>host</code> and <code>port</code> arguments if the OpenRefine instance is running at a location other than <code style="white-space: pre;">&#8288;http://127.0.0.1:3333&#8288;</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>refine_transform()</code> function allows the user to pass arbitrary text transformations to a given column in an OpenRefine project. The package includes a set of functions that wrap <code>refine_transform()</code> to execute common transformations:
</p>

<ul>
<li> <p><code>refine_to_lower()</code>: Coerce text to lowercase
</p>
</li>
<li> <p><code>refine_to_upper()</code>: Coerce text to uppercase
</p>
</li>
<li> <p><code>refine_to_title()</code>: Coerce text to title case
</p>
</li>
<li> <p><code>refine_to_null()</code>: Set values to <code>NULL</code>
</p>
</li>
<li> <p><code>refine_to_empty()</code>: Set text values to empty string (<code>""</code>)
</p>
</li>
<li> <p><code>refine_to_text()</code>: Coerce value to string
</p>
</li>
<li> <p><code>refine_to_number()</code>: Coerce value to numeric
</p>
</li>
<li> <p><code>refine_to_date()</code>: Coerce value to date
</p>
</li>
<li> <p><code>refine_trim_whitespace()</code>: Remove leading and trailing whitespaces
</p>
</li>
<li> <p><code>refine_collapse_whitespace()</code>: Collapse consecutive whitespaces to single whitespace
</p>
</li>
<li> <p><code>refine_unescape_html()</code>: Unescape HTML in string
</p>
</li></ul>



<h3>Value</h3>

<p>Operates as a side-effect passing operations to the OpenRefine instance. However, if <code>verbose=TRUE</code> then the function will return an object of the class &quot;response&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fp &lt;- system.file("extdata", "lateformeeting.csv", package = "rrefine")
refine_upload(fp, project.name = "lfm")

refine_add_column(new_column = "dotw",
                 base_column = "what day whas it",
                 value = "grel:value",
                 project.name = "lfm")

refine_export("lfm")$dotw
refine_to_lower("dotw", project.name = "lfm")
refine_export("lfm")$dotw
refine_to_upper("dotw", project.name = "lfm")
refine_export("lfm")$dotw
refine_to_title("dotw", project.name = "lfm")
refine_export("lfm")$dotw
refine_to_null("dotw", project.name = "lfm")
refine_export("lfm")$dotw
refine_remove_column("dotw", project.name = "lfm")

refine_add_column(new_column = "date",
                 base_column = "theDate",
                 value = "grel:value",
                 project.name = "lfm")

refine_export("lfm")$date
refine_to_date("date", project.name = "lfm")
refine_export("lfm")$date
refine_remove_column("date", project.name = "lfm")


## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package tstools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tstools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.read_swissdata_meta_unknown_format'><p>Read Meta Data File w/o File Extension</p></a></li>
<li><a href='#CHGDP'><p>CH GDP Growth Contributions</p></a></li>
<li><a href='#color_blind'><p>Provide Colorblind Compliant Colors</p></a></li>
<li><a href='#compute_decimal_time'><p>Compute Decimal Time from a ts Period Vector</p></a></li>
<li><a href='#concat_ts'><p>Concatenate to Non-Overlapping Time Series</p></a></li>
<li><a href='#create_cross_sec_overview'><p>Create an Overview data.table of (last) observations</p></a></li>
<li><a href='#create_dummy_ts'><p>Flexible Function to Create Time Series Dummy Variables</p></a></li>
<li><a href='#df_to_reg_ts'><p>Turn data.frame to Regular Monthly or Quarterly Time Series</p></a></li>
<li><a href='#fill_year_with_nas'><p>Fill Up a Time Series with NAs</p></a></li>
<li><a href='#generate_random_ts'><p>Generate a list of random time series</p></a></li>
<li><a href='#get_date_vector'><p>Compute the Period Vector representation of a Decimal Time value</p></a></li>
<li><a href='#getCiLegendColors'><p>Helper to calculate ci colors for legends</p></a></li>
<li><a href='#init_tsplot_theme'><p>Initiate Default Theme</p></a></li>
<li><a href='#KOF'><p>KOF Barometer - Swiss Business Cycle Indicator</p></a></li>
<li><a href='#long_to_ts'><p>Transform a long format data.frame of time series to a tslist</p></a></li>
<li><a href='#m_to_q'><p>Turn monthly series with regular NAs to quarter</p></a></li>
<li><a href='#overlap_sorted_ts_lists'><p>Concat Time Series list wise</p></a></li>
<li><a href='#overlap_ts_lists_by_name'><p>Resolve Overlap Listwise, helpful with SA</p></a></li>
<li><a href='#read_swissdata'><p>Read data generated by the Swissdata project</p></a></li>
<li><a href='#read_swissdata_meta'><p>Read swissdata style yaml timeseries metadata</p></a></li>
<li><a href='#read_ts'><p>Import time series data from a file.</p></a></li>
<li><a href='#regularize'><p>Turn an Irregular Time Series to a Regular, ts-Based Series</p></a></li>
<li><a href='#resolve_ts_overlap'><p>Concatenate Time Series and Resolve Overlap Automatically</p></a></li>
<li><a href='#set_month_to_NA'><p>Set Periods to NA</p></a></li>
<li><a href='#start_ts_after_internal_nas'><p>Start a Time Series after the Last Internal NA</p></a></li>
<li><a href='#strip_ts_of_leading_nas'><p>Strip Leading / Trailing NAs from a Time Series Object</p></a></li>
<li><a href='#tsplot'><p>Plot Time Series</p></a></li>
<li><a href='#tsqm'><p>Interpolate quarterly time series into monthly</p></a></li>
<li><a href='#tstools-deprecated'><p>Deprecated function(s) in tstools</p></a></li>
<li><a href='#wide_to_ts'><p>Transform a wide format data.frame into a tslist</p></a></li>
<li><a href='#write_ts'><p>Export a list of time series to a file.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Time Series Toolbox for Official Statistics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Plot official statistics' time series conveniently: automatic
    legends, highlight windows, stacked bar chars with positive and
    negative contributions, sum-as-line option, two y-axes with automatic
    horizontal grids that fit both axes and other popular chart types.
    'tstools' comes with a plethora of defaults to let you plot without
    setting an abundance of parameters first, but gives you the
    flexibility to tweak the defaults. In addition to charts, 'tstools'
    provides a super fast, 'data.table' backed time series I/O that allows
    the user to export / import long format, wide format and transposed
    wide format data to various file types.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/KOF-ch/tstools">https://github.com/KOF-ch/tstools</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/KOF-ch/tstools/issues">https://github.com/KOF-ch/tstools/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), zoo (&ge; 1.7-12)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, graphics, jsonlite, stats, xts, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, openxlsx, reshape2, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-18 17:35:15 UTC; sb</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthias Bannert [aut],
  Severin Thoeni [aut],
  Stéphane Bisinger [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stéphane Bisinger &lt;bisinger@kof.ethz.ch&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-18 18:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.read_swissdata_meta_unknown_format'>Read Meta Data File w/o File Extension</h2><span id='topic+.read_swissdata_meta_unknown_format'></span>

<h3>Description</h3>

<p>Read a meta file without extension -&gt; unknown format
Tries to determine format (yaml, json) and return the metadata
path must point to the file without extension e.g. swissdata_wd/set_id/set_id
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.read_swissdata_meta_unknown_format(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".read_swissdata_meta_unknown_format_+3A_path">path</code></td>
<td>
<p>character file path.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Meta list if file could be located, empty list otherwise
</p>

<hr>
<h2 id='CHGDP'>CH GDP Growth Contributions</h2><span id='topic+CHGDP'></span>

<h3>Description</h3>

<p>A list of time series containing sector contributions to Swiss GDP over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CHGDP
</code></pre>


<h3>Format</h3>

<p>List list of six time series of class ts,
containing contributions to Swiss GDP growth
</p>

<dl>
<dt>manufacturing</dt><dd><p>Growth contribution of manufacturing.</p>
</dd>
<dt>energy</dt><dd><p>Growth contribution of energy, water sector</p>
</dd>
<dt>construction</dt><dd><p>Growth contribution construction sector.</p>
</dd>
<dt>hotels</dt><dd><p>Growth contribution of hotels.</p>
</dd>
<dt>fin_insur</dt><dd><p>Growth contribution of financial services and insurances.</p>
</dd>
<dt>other</dt><dd><p>Growth contribution of other sectors.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.seco.admin.ch/seco/en/home/wirtschaftslage---wirtschaftspolitik/Wirtschaftslage/bip-quartalsschaetzungen-/daten.html">https://www.seco.admin.ch/seco/en/home/wirtschaftslage&mdash;wirtschaftspolitik/Wirtschaftslage/bip-quartalsschaetzungen-/daten.html</a>
</p>

<hr>
<h2 id='color_blind'>Provide Colorblind Compliant Colors</h2><span id='topic+color_blind'></span>

<h3>Description</h3>

<p>8 Hex RGB color defintions suitable for charts for colorblind people.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>color_blind()
</code></pre>

<hr>
<h2 id='compute_decimal_time'>Compute Decimal Time from a ts Period Vector</h2><span id='topic+compute_decimal_time'></span>

<h3>Description</h3>

<p>Standard ts object use a vector of length two to store a period. E.g. 2010,1 means first quarter of 2010,
if the series was quarterly and first month if the series was monthly etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_decimal_time(v, f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_decimal_time_+3A_v">v</code></td>
<td>
<p>integer vector denoting a point in time</p>
</td></tr>
<tr><td><code id="compute_decimal_time_+3A_f">f</code></td>
<td>
<p>frequency</p>
</td></tr>
</table>

<hr>
<h2 id='concat_ts'>Concatenate to Non-Overlapping Time Series</h2><span id='topic+concat_ts'></span>

<h3>Description</h3>

<p>Append one time series to another. This only works for non-overlapping time series of the same frequency.
For overlapping time series please see <code><a href="#topic+resolveOverlap">resolveOverlap</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>concat_ts(ts1, ts2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="concat_ts_+3A_ts1">ts1</code></td>
<td>
<p>object of class ts1, typically the older of two time series.</p>
</td></tr>
<tr><td><code id="concat_ts_+3A_ts2">ts2</code></td>
<td>
<p>object of class ts1, typically the younger of two time series.</p>
</td></tr>
</table>

<hr>
<h2 id='create_cross_sec_overview'>Create an Overview data.table of (last) observations</h2><span id='topic+create_cross_sec_overview'></span>

<h3>Description</h3>

<p>Create a data.table that shows the i-th obsersvation of
several time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_cross_sec_overview(list_of_rows, col_labels, tsl, selected_period)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_cross_sec_overview_+3A_list_of_rows">list_of_rows</code></td>
<td>
<p>list of time series names</p>
</td></tr>
<tr><td><code id="create_cross_sec_overview_+3A_col_labels">col_labels</code></td>
<td>
<p>character list of column labels</p>
</td></tr>
<tr><td><code id="create_cross_sec_overview_+3A_tsl">tsl</code></td>
<td>
<p>list of time series object to select from</p>
</td></tr>
<tr><td><code id="create_cross_sec_overview_+3A_selected_period">selected_period</code></td>
<td>
<p>numeric date as in defining ts objects.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tsl &lt;- generate_random_ts(10, lengths = 20)
list_of_rows &lt;- list(
  "group 1" = c("ts1", "ts2", "ts3", "ts4"),
  "group 2" = c("ts5", "ts6", "ts7", "ts10")
)
# These are no real +,=,- values just random data.
create_cross_sec_overview(
  list_of_rows,
  c("+", "=", "-", "random"),
  tsl, c(1988, 12)
)
</code></pre>

<hr>
<h2 id='create_dummy_ts'>Flexible Function to Create Time Series Dummy Variables</h2><span id='topic+create_dummy_ts'></span>

<h3>Description</h3>

<p>Generate time series with a default value that is changed within a certain subperiod.
The function allows for additional convenience when specifying single period dummies and dummies that go from a certain point in time to the end of the series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_dummy_ts(
  end_basic,
  dummy_start,
  dummy_end = NULL,
  sp = T,
  start_basic = c(1980, 1),
  basic_value = 0,
  dummy_value = 1,
  frequency = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_dummy_ts_+3A_end_basic">end_basic</code></td>
<td>
<p>numeric vector of form c(yyyy,p) defining the end of the time series.</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_dummy_start">dummy_start</code></td>
<td>
<p>numeric vector of form c(yyyy,p) defining the beginning of the period with different value.</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_dummy_end">dummy_end</code></td>
<td>
<p>numeric vector of form c(yyyy,p) defining the end of the period with different value. Defaults to NULL, using the end_date of the series.</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_sp">sp</code></td>
<td>
<p>logical should NULL value for dummy_end lead to a single period dummy (TRUE) or to alternative values until the end.</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_start_basic">start_basic</code></td>
<td>
<p>numeric vector of form c(yyyy,p) defining the start of the time series. Defaults to c(1980,1)</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_basic_value">basic_value</code></td>
<td>
<p>default value of the time series, defaults to 0.</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_dummy_value">dummy_value</code></td>
<td>
<p>the alternative value, defaults to 1.</p>
</td></tr>
<tr><td><code id="create_dummy_ts_+3A_frequency">frequency</code></td>
<td>
<p>integer frequency of the regular time series, defaults to 4 (quarterly).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Matthias Bannert
</p>

<hr>
<h2 id='df_to_reg_ts'>Turn data.frame to Regular Monthly or Quarterly Time Series</h2><span id='topic+df_to_reg_ts'></span>

<h3>Description</h3>

<p>Turn a data.frame with date columns to a regular time series object
if possible. Design to work with quarterly and monthly data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_to_reg_ts(
  dframe,
  var_cols,
  year_col = "year",
  period_col = "month",
  freq = 12,
  return_ts = T,
  by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df_to_reg_ts_+3A_dframe">dframe</code></td>
<td>
<p>data.frame input</p>
</td></tr>
<tr><td><code id="df_to_reg_ts_+3A_var_cols">var_cols</code></td>
<td>
<p>columns that contain variables as opposed to date index.</p>
</td></tr>
<tr><td><code id="df_to_reg_ts_+3A_year_col">year_col</code></td>
<td>
<p>integer, logical or character vector indicating the year
position within the data.frame.</p>
</td></tr>
<tr><td><code id="df_to_reg_ts_+3A_period_col">period_col</code></td>
<td>
<p>integer, logical or character vector indicating the period
position within the data.frame.</p>
</td></tr>
<tr><td><code id="df_to_reg_ts_+3A_freq">freq</code></td>
<td>
<p>integer indicating the frequency of new time series.</p>
</td></tr>
<tr><td><code id="df_to_reg_ts_+3A_return_ts">return_ts</code></td>
<td>
<p>logical should a (list of) time series be returned? Defaults to TRUE.
FALSE returns data.frame.</p>
</td></tr>
<tr><td><code id="df_to_reg_ts_+3A_by">by</code></td>
<td>
<p>character overwrite automatically detected (from freq) by parameter.
e.g. '1 day'. Defaults to NULL.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>start_m &lt;- as.Date("2017-01-01")
df_missing &lt;- data.frame(
  date = seq(start_m, by = "2 months", length = 6),
  value = 1:6,
  another_value = letters[1:6],
  yet_another_col = letters[6:1]
)
df_to_reg_ts(df_missing, c("value", "another_value"))
df_to_reg_ts(df_missing, c("value", "another_value"), return_ts = FALSE)
</code></pre>

<hr>
<h2 id='fill_year_with_nas'>Fill Up a Time Series with NAs</h2><span id='topic+fill_year_with_nas'></span>

<h3>Description</h3>

<p>When plotting a time series you might want set the range of the plot a little wider than just the start and end date of the original series. This function add fills up the current period (typically year) with NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fill_year_with_nas(x, add_periods = 1, fill_up_start = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fill_year_with_nas_+3A_x">x</code></td>
<td>
<p>object of class ts</p>
</td></tr>
<tr><td><code id="fill_year_with_nas_+3A_add_periods">add_periods</code></td>
<td>
<p>integer periods to add.</p>
</td></tr>
<tr><td><code id="fill_year_with_nas_+3A_fill_up_start">fill_up_start</code></td>
<td>
<p>logical should start year be filled up? Defaults to FALSE.</p>
</td></tr>
</table>

<hr>
<h2 id='generate_random_ts'>Generate a list of random time series</h2><span id='topic+generate_random_ts'></span>

<h3>Description</h3>

<p>Useful for development or generating easily reproducible examples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_random_ts(
  n = 1,
  lengths = 36,
  starts = 1988,
  frequencies = 12,
  ranges_min = -1,
  ranges_max = 1,
  shifts = 0,
  ts_names = sprintf("ts%d", 1:n),
  seed = 30042018,
  random_NAs = FALSE,
  random_NA_proportions = 0.1,
  normally_distributed = FALSE,
  normal_means = 0,
  normal_sds = 1,
  frequency_shifts = FALSE,
  frequency_shift_after = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_random_ts_+3A_n">n</code></td>
<td>
<p>The number of ts objects to generate</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_lengths">lengths</code></td>
<td>
<p>The lengths of the time series</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_starts">starts</code></td>
<td>
<p>The start points of the time series in single number notation (e.g. 1990.5)</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_frequencies">frequencies</code></td>
<td>
<p>The frequencies of the time series</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_ranges_min">ranges_min</code></td>
<td>
<p>The minimum values of the time series (if normally_distributed == FALSE)</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_ranges_max">ranges_max</code></td>
<td>
<p>The maximum values of the time series (if normally_distributed == FALSE)</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_shifts">shifts</code></td>
<td>
<p>The shifts of time series values per series</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_ts_names">ts_names</code></td>
<td>
<p>The names of the ts objects in the resulting list</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_seed">seed</code></td>
<td>
<p>The random seed to be used</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_random_nas">random_NAs</code></td>
<td>
<p>Whether or not to introcude NA values at random positions in the ts</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_random_na_proportions">random_NA_proportions</code></td>
<td>
<p>The fraction of values to be replaced with NAs if random_NAs is TRUE for the series</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_normally_distributed">normally_distributed</code></td>
<td>
<p>Use normal distribution instead of uniform</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_normal_means">normal_means</code></td>
<td>
<p>The means to use for normal distribution. Ignored unless normally_distributed is set to TRUE.</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_normal_sds">normal_sds</code></td>
<td>
<p>The sds to use for normal distribution. Ignored unless normally_distributed is set to TRUE.</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_frequency_shifts">frequency_shifts</code></td>
<td>
<p>Introduce frequency shifts (from 4 to 12) in the ts</p>
</td></tr>
<tr><td><code id="generate_random_ts_+3A_frequency_shift_after">frequency_shift_after</code></td>
<td>
<p>After what fraction of the ts to shift frequencies</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Except for n and ts_names, all parameters accept either a single value or a vector of values. If a single value is
supplied, that value is used for all time series being generated. If a vector is supplied, its values
will be used for the corresponding series (e.g. starts[1] is used for the first series, starts[2] for
the second and so on). Vectors are recycled if n is larger than their length.
</p>
<p>If a ts_names vector is supplied, it must have length n and must not contain duplicates.
</p>


<h3>Value</h3>

<p>A list of ts objects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generate_random_ts()

generate_random_ts(n = 3, ranges_min = c(-10, 0, 10), ranges_max = 20, starts = 2011)
</code></pre>

<hr>
<h2 id='get_date_vector'>Compute the Period Vector representation of a Decimal Time value</h2><span id='topic+get_date_vector'></span>

<h3>Description</h3>

<p>The period value will be rounded down to the nearest integer.
This function is not vectorized so only a single value can be
converted at a time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_date_vector(dtime, frq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_date_vector_+3A_dtime">dtime</code></td>
<td>
<p>numeric decimal time value denoting a point in time</p>
</td></tr>
<tr><td><code id="get_date_vector_+3A_frq">frq</code></td>
<td>
<p>integer frequency</p>
</td></tr>
</table>

<hr>
<h2 id='getCiLegendColors'>Helper to calculate ci colors for legends</h2><span id='topic+getCiLegendColors'></span>

<h3>Description</h3>

<p>Helper to calculate ci colors for legends
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCiLegendColors(color, n = 1, alpha = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCiLegendColors_+3A_color">color</code></td>
<td>
<p>The color of the ci band</p>
</td></tr>
<tr><td><code id="getCiLegendColors_+3A_n">n</code></td>
<td>
<p>The number if ci bands</p>
</td></tr>
<tr><td><code id="getCiLegendColors_+3A_alpha">alpha</code></td>
<td>
<p>The alpha/transparency of the ci band</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Color may be specified as either a named color or a hex value
Transparency may be specified as a hex value, number 0-255 or number 0-1
</p>


<h3>Value</h3>

<p>A vector of non-transparent colors that result from
oberlaying color over pure white 1:n times
</p>

<hr>
<h2 id='init_tsplot_theme'>Initiate Default Theme</h2><span id='topic+init_tsplot_theme'></span><span id='topic+init_tsplot_print_theme'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+tsplot">tsplot</a></code> methods provide a theme argument which is used to pass on a plethora of useful defaults. These defaults are essentially stored in a list. Sometimes the user may want to tweak some of these defaults while keeping most of them.
Hence the init_tsplot_theme function create a fresh list object containing default values for lot of different layout parameters etc. By replacing single elements of the list and passing the entire list to the plot function, single aspects can be tweaked while keeping most defaults. Init defaultTheme does not need any parameters.
</p>
<p>This function provides sensible defaults for margins, font size, line width etc. scaled to
the dimensions of the output file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init_tsplot_theme(
  auto_bottom_margin = FALSE,
  band_fill_color = c(ETH_Petrol = colors$ETH_Petrol$`100`, ETH_Petrol_60 =
    colors$ETH_Petrol$`60`, ETH_Petrol_40 = colors$ETH_Petrol$`40`, ETH_Petrol_20 =
    colors$ETH_Petrol$`20`, ETH_Purple = colors$ETH_Purple$`100`, ETH_Purple_60 =
    colors$ETH_Purple$`60`, ETH_Purple_40 = colors$ETH_Purple$`40`),
  bar_border = "#000000",
  bar_border_lwd = 1,
  bar_fill_color = c(ETH_Petrol = colors$ETH_Petrol$`100`, ETH_Petrol_60 =
    colors$ETH_Petrol$`60`, ETH_Petrol_40 = colors$ETH_Petrol$`40`, ETH_Petrol_20 =
    colors$ETH_Petrol$`20`, ETH_Purple = colors$ETH_Purple$`100`, ETH_Purple_60 =
    colors$ETH_Purple$`60`, ETH_Purple_40 = colors$ETH_Purple$`40`),
  bar_gap = 15,
  bar_group_gap = 30,
  ci_alpha = "44",
  ci_colors = line_colors,
  ci_legend_label = "%ci_value%% ci for %series%",
  default_bottom_margin = 15,
  fill_up_start = FALSE,
  fill_year_with_nas = TRUE,
  highlight_color = colors$ETH_Grey$`20`,
  highlight_window = FALSE,
  highlight_window_end = NA,
  highlight_window_freq = 4,
  highlight_window_start = NA,
  highlight_y_values = NA,
  highlight_y_lwd = 2,
  highlight_y_color = "#000000",
  label_pos = "mid",
  legend_all_left = FALSE,
  legend_box_size = 2,
  legend_col = 1,
  legend_font_size = 1,
  legend_intersp_x = 1,
  legend_intersp_y = 1,
  legend_margin_bottom = 5,
  legend_margin_top = 12,
  legend_seg.len = 2,
  line_colors = c(ETH_Green_60 = colors$ETH_Green$`60`, ETH_Green_100 =
    colors$ETH_Green$`100`, ETH_Petrol_20 = colors$ETH_Petrol$`20`, ETH_Purple_60 =
    colors$ETH_Purple$`60`, ETH_Petrol_60 = colors$ETH_Petrol$`60`, ETH_Purple_100 =
    colors$ETH_Purple$`100`, ETH_Petrol_100 = colors$ETH_Petrol$`100`),
  line_to_middle = TRUE,
  lty = 1,
  lwd = c(2, 3, 1, 4, 2, 4),
  lwd_box = 1.5,
  lwd_quarterly_ticks = 1,
  lwd_x_axis = 1.5,
  lwd_y_axis = 1.5,
  lwd_y_ticks = 1.5,
  lwd_yearly_ticks = 1.5,
  margins = c(NA, 7, 12, 7),
  NA_continue_line = FALSE,
  output_wide = FALSE,
  point_symbol = 1:18,
  pointsize = 12,
  preferred_y_gap_sizes = c(25, 20, 15, 10, 5, 2.5, 1, 0.5),
  quarterly_ticks = TRUE,
  range_must_not_cross_zero = TRUE,
  show_left_y_axis = TRUE,
  show_points = FALSE,
  show_right_y_axis = TRUE,
  show_x_axis = TRUE,
  show_y_grids = TRUE,
  subtitle_adj = 0,
  subtitle_adj_r = 0.9,
  subtitle_cex = 1,
  subtitle_margin = 2,
  subtitle_outer = FALSE,
  subtitle_transform = "toupper",
  sum_as_line = FALSE,
  sum_legend = "sum",
  sum_line_color = c(ETH_Petrol_100 = colors$ETH_Petrol$`100`),
  sum_line_lty = 1,
  sum_line_lwd = 3,
  tcl_quarterly_ticks = -0.4,
  tcl_y_ticks = -0.75,
  tcl_yearly_ticks = -0.75,
  title_adj = 0,
  title_cex.main = 1,
  title_margin = 5,
  title_outer = FALSE,
  title_transform = NA,
  total_bar_margin_pct = 0.2,
  use_bar_gap_in_groups = FALSE,
  use_box = FALSE,
  x_tick_dt = 1,
  xaxs = "i",
  y_grid_color = colors$ETH_Grey$`40`,
  y_grid_count = c(5, 6, 8, 10),
  y_grid_count_strict = FALSE,
  y_las = 2,
  y_range_min_size = NULL,
  y_tick_force_integers = FALSE,
  y_tick_margin = 0.15,
  yaxs = "i",
  yearly_ticks = TRUE
)

init_tsplot_print_theme(
  output_wide = FALSE,
  margins = c(NA, 10/if (output_wide) 1 + 1/3 else 1, 10, 7/if (output_wide) 1 + 1/3 else
    1),
  lwd = scale_theme_param_for_print(c(2, 3, 1, 4, 2, 4), if (output_wide) c(10 + 2/3, 6)
    else c(8, 6)),
  sum_line_lwd = scale_theme_param_for_print(3, if (output_wide) c(10 + 2/3, 6) else c(8,
    6)),
  lwd_box = scale_theme_param_for_print(1.5, if (output_wide) c(10 + 2/3, 6) else c(8,
    6)),
  lwd_x_axis = scale_theme_param_for_print(1.5, if (output_wide) c(10 + 2/3, 6) else c(8,
    6)),
  lwd_yearly_ticks = scale_theme_param_for_print(1.5, if (output_wide) c(10 + 2/3, 6)
    else c(8, 6)),
  lwd_quarterly_ticks = scale_theme_param_for_print(1, if (output_wide) c(10 + 2/3, 6)
    else c(8, 6)),
  lwd_y_axis = scale_theme_param_for_print(1.5, if (output_wide) c(10 + 2/3, 6) else c(8,
    6)),
  lwd_y_ticks = scale_theme_param_for_print(1.5, if (output_wide) c(10 + 2/3, 6) else
    c(8, 6)),
  legend_intersp_y = scale_theme_param_for_print(1, if (output_wide) c(10 + 2/3, 6) else
    c(8, 6)),
  legend_box_size = scale_theme_param_for_print(2, if (output_wide) c(10 + 2/3, 6) else
    c(8, 6)),
  legend_margin_top = 8,
  legend_margin_bottom = 3,
  legend_seg.len = scale_theme_param_for_print(2, if (output_wide) c(10 + 2/3, 6) else
    c(8, 6)),
  pointsize = scale_theme_param_for_print(12, if (output_wide) c(10 + 2/3, 6) else c(8,
    6)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="init_tsplot_theme_+3A_auto_bottom_margin">auto_bottom_margin</code></td>
<td>
<p>logical Should the bottom margin be automatically calculated? This will be overridden if margins[1] is not NA. Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_band_fill_color">band_fill_color</code></td>
<td>
<p>character vector of hex colors for the bands if left_as_band == TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_bar_border">bar_border</code></td>
<td>
<p>character hex colors for the border around bars in bar charts.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_bar_border_lwd">bar_border_lwd</code></td>
<td>
<p>numeric The line width of the borders of bars in barplots. Default 1</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_bar_fill_color">bar_fill_color</code></td>
<td>
<p>character vector of hex colors for the bars if left_as_bar == TRUE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_bar_gap">bar_gap</code></td>
<td>
<p>numeric The width of the gap between bars, in % of space alloted to the bar.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_bar_group_gap">bar_group_gap</code></td>
<td>
<p>numeric The width of the gap between groups of bars if group_bar_chart is TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_ci_alpha">ci_alpha</code></td>
<td>
<p>Numeric 0-255, numeric 0-1 or hey 00-FF, transparency of the confidence interval bands</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_ci_colors">ci_colors</code></td>
<td>
<p>Named colors or hex values Colors of the confidence interval bands</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_ci_legend_label">ci_legend_label</code></td>
<td>
<p>character A formatting template for how the ci bands should be labelled. May contain the
placeholders. '%ci_value%' will be replaced with the ci label. '%series%' (will be replaced with the series name)
exactly once. Defaults to '%ci_value% ci for %series%'</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_default_bottom_margin">default_bottom_margin</code></td>
<td>
<p>numeric The bottom margin to use when margins[1] is NA but neither auto_legend nor auto_bottom_margin are true. Default 3</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_fill_up_start">fill_up_start</code></td>
<td>
<p>logical shoule the start of the year also be filled? Has no effect if fill_year_with_nas == FALSE. Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_fill_year_with_nas">fill_year_with_nas</code></td>
<td>
<p>logical should year be filled up with missing in order to plot the entire year on the axis. Defaults to TRUE,</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_color">highlight_color</code></td>
<td>
<p>character hex color code of highlight background, defaults to &quot;#e9e9e9&quot;.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_window">highlight_window</code></td>
<td>
<p>logical should a particular time span be highlighted by different background color. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_window_end">highlight_window_end</code></td>
<td>
<p>integer vector highlight window start position, defaults to NA.,</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_window_freq">highlight_window_freq</code></td>
<td>
<p>integer frequency of the higlight window defintion, defaults to 4.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_window_start">highlight_window_start</code></td>
<td>
<p>integer vector highlight window start position, defaults to NA.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_y_values">highlight_y_values</code></td>
<td>
<p>numeric Vector of y values to highlight with a bold line</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_y_lwd">highlight_y_lwd</code></td>
<td>
<p>integer Line width of the lines to highlight y values</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_highlight_y_color">highlight_y_color</code></td>
<td>
<p>character Color of the lines to highlight y values</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_label_pos">label_pos</code></td>
<td>
<p>character, denotes where the x-axis label is at. defaults to &quot;mid&quot;, alternative value: &quot;start&quot;.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_all_left">legend_all_left</code></td>
<td>
<p>logical Should all legend entries be drawn on the left side of the plot? Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_box_size">legend_box_size</code></td>
<td>
<p>numeric The size of the squares denoting bar colors in the legend. Default 2</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_col">legend_col</code></td>
<td>
<p>integer number of columns for the legend, defaults to 3.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_font_size">legend_font_size</code></td>
<td>
<p>numeric passed on to the <code>cex</code> parameter of <code><a href="graphics.html#topic+legend">legend</a></code>, defaults to 1</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_intersp_x">legend_intersp_x</code></td>
<td>
<p>numeric same as base <code><a href="graphics.html#topic+legend">legend</a></code> parameter, defaults to 1</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_intersp_y">legend_intersp_y</code></td>
<td>
<p>numeric same as base <code><a href="graphics.html#topic+legend">legend</a></code> parameter, defaults to 1</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_margin_bottom">legend_margin_bottom</code></td>
<td>
<p>numeric Distance between bottom of legend and bottom of graphic in % of device height, default 5</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_margin_top">legend_margin_top</code></td>
<td>
<p>numeric Distance between bottom of plot and top of legends % of device height, defaults to 12</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_legend_seg.len">legend_seg.len</code></td>
<td>
<p>numeric Length of the line segments in the legend. Default 2</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_line_colors">line_colors</code></td>
<td>
<p>character vector of hex colors for 6 lines.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_line_to_middle">line_to_middle</code></td>
<td>
<p>logical try to put a line into the middle of the plot. defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lty">lty</code></td>
<td>
<p>integer vector line type defaults to 1.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd">lwd</code></td>
<td>
<p>integer vector line width, defaults to c(2,3,1,4,2,4).</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd_box">lwd_box</code></td>
<td>
<p>numeric Line width of the box around the plot. Default 1.5</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd_quarterly_ticks">lwd_quarterly_ticks</code></td>
<td>
<p>numeric, width of yearly ticks, defaults to 1.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd_x_axis">lwd_x_axis</code></td>
<td>
<p>numeric The line width of the x axis. Default 1.5</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd_y_axis">lwd_y_axis</code></td>
<td>
<p>numeric The line width of the y axis. Default 1.5</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd_y_ticks">lwd_y_ticks</code></td>
<td>
<p>numeric Line width of the y ticks. Default 1.5</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_lwd_yearly_ticks">lwd_yearly_ticks</code></td>
<td>
<p>numeric, width of yearly ticks, defaults to 1.5.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_margins">margins</code></td>
<td>
<p>integer vector defaults to c(NA, 4, 3, 3) + 0.1. Set margins[1] to NA to automatically determine the bottom margin such that the legend fits (if either auto_legend or auto_bottom_margin are TRUE)</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_na_continue_line">NA_continue_line</code></td>
<td>
<p>boolean If true, NA values in time series are ignored and a contonuous line is drawn. Multiple values to turn this behavior on/off for indivitual series are supported. Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_output_wide">output_wide</code></td>
<td>
<p>logical Should the output file be in a wide format (16:9) or (4:3)? Only if output_format is not &quot;plot&quot;. Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_point_symbol">point_symbol</code></td>
<td>
<p>integer or character The symbol to use for marking data points. Multiple values can be supplied to set the symbol for each individual series See <code>pch</code> in <code>?par</code>. Default 1:18</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_pointsize">pointsize</code></td>
<td>
<p>Numeric Point size of text, in 1/72 of an inch</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_preferred_y_gap_sizes">preferred_y_gap_sizes</code></td>
<td>
<p>numeric c(25, 20, 15, 10, 5, 2.5, 1, 0.5),</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_quarterly_ticks">quarterly_ticks</code></td>
<td>
<p>logical, should quarterly ticks be shown. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_range_must_not_cross_zero">range_must_not_cross_zero</code></td>
<td>
<p>logical automatic range finders are forced to do not find ranges below zero. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_show_left_y_axis">show_left_y_axis</code></td>
<td>
<p>logical: should left y axis be shown, defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_show_points">show_points</code></td>
<td>
<p>boolean Whether to draw the symbol specified by point_symbol at the data points. Multiple values can be supplied to enable/disable showing points for each individual series Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_show_right_y_axis">show_right_y_axis</code></td>
<td>
<p>logical: should left y axis be shown, defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_show_x_axis">show_x_axis</code></td>
<td>
<p>locigal: should x axis be shown, defaults to TRUE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_show_y_grids">show_y_grids</code></td>
<td>
<p>logical should y_grids by shown at all, defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_subtitle_adj">subtitle_adj</code></td>
<td>
<p>numeric same as base <code><a href="base.html#topic+plot">plot</a></code> parameter, defaults to 0.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_subtitle_adj_r">subtitle_adj_r</code></td>
<td>
<p>numeric same as base <code><a href="base.html#topic+plot">plot</a></code> parameter, defaults to .9</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_subtitle_cex">subtitle_cex</code></td>
<td>
<p>numeric same as base <code><a href="base.html#topic+plot">plot</a></code> parameter, defaults to 1.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_subtitle_margin">subtitle_margin</code></td>
<td>
<p>numeric How far above the plot the title is placed in % of the device height. Defaults to 2.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_subtitle_outer">subtitle_outer</code></td>
<td>
<p>logical same as base <code><a href="base.html#topic+plot">plot</a></code> parameter, defaults to TRUE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_subtitle_transform">subtitle_transform</code></td>
<td>
<p>function to transform the subtitle, defaults to &quot;toupper&quot;,</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_sum_as_line">sum_as_line</code></td>
<td>
<p>logical should the sum of stacked time series be displayed as a line on top of stacked bar charts. Defaults to FALSE,</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_sum_legend">sum_legend</code></td>
<td>
<p>character Label for the sum line, defaults to &quot;sum&quot;. Set to NULL to not label the line at all.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_sum_line_color">sum_line_color</code></td>
<td>
<p>character hex color of of sum_as_line, defaults &quot;#91056a&quot;.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_sum_line_lty">sum_line_lty</code></td>
<td>
<p>integer line type of sum_as_line, defaults to 1.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_sum_line_lwd">sum_line_lwd</code></td>
<td>
<p>integer line width of sum_as_line, defaults to 3.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_tcl_quarterly_ticks">tcl_quarterly_ticks</code></td>
<td>
<p>numeric, length of quarterly ticks. See tcl_yearly_ticks, defaults to -0.4</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_tcl_y_ticks">tcl_y_ticks</code></td>
<td>
<p>numeric Length of y ticks, see <code>tcl_yearly_ticks</code>. Default -0.75</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_tcl_yearly_ticks">tcl_yearly_ticks</code></td>
<td>
<p>numeric, length of yearly ticks. Analogous to <code>cex</code> for <code><a href="graphics.html#topic+axis">axis</a></code>. defaults to -0.75.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_title_adj">title_adj</code></td>
<td>
<p>numeric, same as base <code><a href="base.html#topic+plot">plot</a></code> parameter, defaults to 0.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_title_cex.main">title_cex.main</code></td>
<td>
<p>numeric, same as base <code><a href="base.html#topic+plot">plot</a></code> parameter defaults to 1</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_title_margin">title_margin</code></td>
<td>
<p>numeric How far above the plot the title is placed in % of the device height. Default 8</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_title_outer">title_outer</code></td>
<td>
<p>logical, currently undocumented. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_title_transform">title_transform</code></td>
<td>
<p>function to transform the title, defaults to NA.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_total_bar_margin_pct">total_bar_margin_pct</code></td>
<td>
<p>numeric defintion as in base plot, defaults to &quot;i&quot;, defaults to .2,</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_use_bar_gap_in_groups">use_bar_gap_in_groups</code></td>
<td>
<p>logical Should there be gaps of size bar_gap between the bars in a group if group_bar_chart = TRUE? Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_use_box">use_box</code></td>
<td>
<p>logical use a box around the plot.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_x_tick_dt">x_tick_dt</code></td>
<td>
<p>numeric The distance between ticks on the x axis in years. The first tick will always be at the start of the plotted time series. Defaults to 1.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_xaxs">xaxs</code></td>
<td>
<p>character axis defintion as in base plot, defaults to &quot;i&quot;.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_grid_color">y_grid_color</code></td>
<td>
<p>character hex color of grids. Defaults to gray &quot;#CCCCCC&quot;.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_grid_count">y_grid_count</code></td>
<td>
<p>integer vector preferred y grid counts c(5,6,8,10).</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_grid_count_strict">y_grid_count_strict</code></td>
<td>
<p>logical should we strictly stick to preferred y grid count? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_las">y_las</code></td>
<td>
<p>integer, same as base <code><a href="base.html#topic+plot">plot</a></code> parameter defaults to 2.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_range_min_size">y_range_min_size</code></td>
<td>
<p>= NULL  ,</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_tick_force_integers">y_tick_force_integers</code></td>
<td>
<p>logical Should y ticks be forced (rounded down) to whole numbers? Default FALSE</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_y_tick_margin">y_tick_margin</code></td>
<td>
<p>numeric, minimal percentage of horizontal grid that needs to be clean, i.e., without lines or bars. Defaults to 0.15 (15 percent).</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_yaxs">yaxs</code></td>
<td>
<p>character axis defintion as in base plot, defaults to &quot;i&quot;.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_yearly_ticks">yearly_ticks</code></td>
<td>
<p>logical, should yearly ticks be shown. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="init_tsplot_theme_+3A_...">...</code></td>
<td>
<p>All the other arguments to <code>init_tsplot_thene</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Themes are essentially list that contain <code><a href="graphics.html#topic+par">par</a></code> parameters. Below all items are listed, some of them with comments.
The per-line parameters (<code>line_colors, lwd, lty, show_points, point_symbol</code>) are recycled if more time series than elements on the corresponding
theme vectors are supplied. e.g. if four time series are plotted but only two line_colors are supplied, the first and third series have the first color,
while the second and fourth series have the second color.
The list contains the following elements:
</p>


<h3>Author(s)</h3>

<p>Matthias Bannert
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# create a list
data(KOF)
tt &lt;- init_tsplot_theme()
# adjust a single element
tt$highlight_window &lt;- TRUE
# pass the list to tsplot
tsplot(KOF$kofbarometer, theme = tt)
# for more theme examples check the vignette
vignette("tstools")

## End(Not run)

</code></pre>

<hr>
<h2 id='KOF'>KOF Barometer - Swiss Business Cycle Indicator</h2><span id='topic+KOF'></span>

<h3>Description</h3>

<p>A list of time series containing two time series the KOF Barometer and the growth of Swiss GDP over time. KOF Barometer is a monthly business cycle indicator computed by the KOF Swiss Economic Institute. The GDP growth rate is used as a reference series to the Barometer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>KOF
</code></pre>


<h3>Format</h3>

<p>A list of two time series of class ts
</p>

<dl>
<dt>kofbarometer</dt><dd><p>KOF Barometer Indicator</p>
</dd></dl>
<p>'
</p>
<dl>
<dt>reference</dt><dd><p>Reference series to KOF Barometer, change in Swiss GDP compared to previous month</p>
</dd>
<dt>baro_point_fc</dt><dd><p>Auto Arima point forecast of the KOF Barometer</p>
</dd>
<dt>baro_lo_80</dt><dd><p>Auto Arima 80 percent CI lower bound of the KOF Barometer forecast</p>
</dd>
<dt>baro_hi_80</dt><dd><p>Auto Arima 80 percent CI upper bound of the KOF Barometer forecast</p>
</dd>
<dt>baro_lo_95</dt><dd><p>Auto Arima 95 percent CI lower bound of the KOF Barometer forecast</p>
</dd>
<dt>baro_hi_95</dt><dd><p>Auto Arima 95 percent CI upper bound of the KOF Barometer forecast</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p><a href="https://kof.ethz.ch/en/forecasts-and-indicators/indicators/kof-economic-barometer.html">https://kof.ethz.ch/en/forecasts-and-indicators/indicators/kof-economic-barometer.html</a>
</p>

<hr>
<h2 id='long_to_ts'>Transform a long format data.frame of time series to a tslist</h2><span id='topic+long_to_ts'></span>

<h3>Description</h3>

<p>The data.frame must have three columns &quot;date&quot;, &quot;value&quot; and &quot;series&quot; (identifying the time series)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>long_to_ts(
  data,
  keep_last_freq_only = FALSE,
  force_xts = FALSE,
  strip_nas = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="long_to_ts_+3A_data">data</code></td>
<td>
<p>data.frame The data.frame to be transformed</p>
</td></tr>
<tr><td><code id="long_to_ts_+3A_keep_last_freq_only">keep_last_freq_only</code></td>
<td>
<p>in case there is a frequency change in a time series,
should only the part of the series be returned that has the same frequency as
the last observation. This is useful when data start out crappy and then stabilize</p>
</td></tr>
<tr><td><code id="long_to_ts_+3A_force_xts">force_xts</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="long_to_ts_+3A_strip_nas">strip_nas</code></td>
<td>
<p>logical should NAs be stripped (no leading and trailing nas) ?</p>
</td></tr>
</table>

<hr>
<h2 id='m_to_q'>Turn monthly series with regular NAs to quarter</h2><span id='topic+m_to_q'></span>

<h3>Description</h3>

<p>Monthly series with NAs in non-quarter months are turned to quarterly series.
Series without NAs are just returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>m_to_q(series)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="m_to_q_+3A_series">series</code></td>
<td>
<p>an object of class ts with monthly frequency</p>
</td></tr>
</table>

<hr>
<h2 id='overlap_sorted_ts_lists'>Concat Time Series list wise</h2><span id='topic+overlap_sorted_ts_lists'></span>

<h3>Description</h3>

<p>Concat overlapping time series list wise. List needs
to be of same length. Takes names of list B.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overlap_sorted_ts_lists(listA, listB)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="overlap_sorted_ts_lists_+3A_lista">listA</code></td>
<td>
<p>list of time series</p>
</td></tr>
<tr><td><code id="overlap_sorted_ts_lists_+3A_listb">listB</code></td>
<td>
<p>list of time series</p>
</td></tr>
</table>

<hr>
<h2 id='overlap_ts_lists_by_name'>Resolve Overlap Listwise, helpful with SA</h2><span id='topic+overlap_ts_lists_by_name'></span>

<h3>Description</h3>

<p>Resolve Overlap Listwise, helpful with SA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overlap_ts_lists_by_name(listA, listB, chunkA = "_f4", chunkB = "_f12")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="overlap_ts_lists_by_name_+3A_lista">listA</code></td>
<td>
<p>list of time series often of lower frequency</p>
</td></tr>
<tr><td><code id="overlap_ts_lists_by_name_+3A_listb">listB</code></td>
<td>
<p>list of time series often of higher frequency</p>
</td></tr>
<tr><td><code id="overlap_ts_lists_by_name_+3A_chunka">chunkA</code></td>
<td>
<p>character chunk representing frequencies, defaults to _f4.</p>
</td></tr>
<tr><td><code id="overlap_ts_lists_by_name_+3A_chunkb">chunkB</code></td>
<td>
<p>character chunk representing frequences, defaults to _f12.</p>
</td></tr>
</table>

<hr>
<h2 id='read_swissdata'>Read data generated by the Swissdata project</h2><span id='topic+read_swissdata'></span>

<h3>Description</h3>

<p>Read data from swissdata compliant .csv files and
turn them into a list of time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_swissdata(
  path,
  key_columns = NULL,
  filter = NULL,
  aggregates = NULL,
  keep_last_freq_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_swissdata_+3A_path">path</code></td>
<td>
<p>character full path to dataset.</p>
</td></tr>
<tr><td><code id="read_swissdata_+3A_key_columns">key_columns</code></td>
<td>
<p>character vector specifying all columns that should be
part of the key. Defaults to the dim.order specified by swissdata.</p>
</td></tr>
<tr><td><code id="read_swissdata_+3A_filter">filter</code></td>
<td>
<p>function A function that is applied to the raw data.data table after it is read. Useful for
filtering out undesired data.</p>
</td></tr>
<tr><td><code id="read_swissdata_+3A_aggregates">aggregates</code></td>
<td>
<p>list A list of dimensions over which to aggregate data. The names of this list determing
which function is used to calculate the aggregate (e.g. sum, mean etc.). Defaults to sum.</p>
</td></tr>
<tr><td><code id="read_swissdata_+3A_keep_last_freq_only">keep_last_freq_only</code></td>
<td>
<p>in case there is a frequency change in a time series,
should only the part of the series be returned that has the same frequency as
the last observation. This is useful when data start out crappy and then stabilize</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The order of dimensions in key_columns determines their order in the key
The resulting ts_key will be of the form &lt;swissdata-set-name&gt;.&lt;instance of key_columns[1]&gt;...
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ds_location &lt;- system.file("example_data/ch.seco.css.csv", package = "tstools")
tslist &lt;- read_swissdata(ds_location, "idx_type")
tsplot(tslist[1])
</code></pre>

<hr>
<h2 id='read_swissdata_meta'>Read swissdata style yaml timeseries metadata</h2><span id='topic+read_swissdata_meta'></span>

<h3>Description</h3>

<p>read_swissdata_meta reads the given .yaml file and converts it into a
per-timeseries format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_swissdata_meta(path, locale = "de", as_list = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_swissdata_meta_+3A_path">path</code></td>
<td>
<p>Path to the yaml file to be read</p>
</td></tr>
<tr><td><code id="read_swissdata_meta_+3A_locale">locale</code></td>
<td>
<p>Locale in which to read the data (supported are &quot;de&quot;, &quot;fr&quot;, &quot;it&quot; and &quot;en&quot;)</p>
</td></tr>
<tr><td><code id="read_swissdata_meta_+3A_as_list">as_list</code></td>
<td>
<p>Should the output be converted to a list?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If as_list is set to TRUE, the function returns a nested list with one
element per timeseries, otherwise a data.table with one row per series.
</p>

<hr>
<h2 id='read_ts'>Import time series data from a file.</h2><span id='topic+read_ts'></span>

<h3>Description</h3>

<p>If importing from a zip file, the archive should contain a single file with the extension .csv, .xlsx or .json.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_ts(
  file,
  format = c("csv", "xlsx", "json", "zip"),
  sep = ",",
  skip = 0,
  column_names = c("date", "value", "series"),
  keep_last_freq_only = FALSE,
  force_xts = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_ts_+3A_file">file</code></td>
<td>
<p>Path to the file to be read</p>
</td></tr>
<tr><td><code id="read_ts_+3A_format">format</code></td>
<td>
<p>Which file format is the data stored in? If no format is supplied, read_ts will attempt to guess
from the file extension.</p>
</td></tr>
<tr><td><code id="read_ts_+3A_sep">sep</code></td>
<td>
<p>character seperator for csv files. defaults to ','.</p>
</td></tr>
<tr><td><code id="read_ts_+3A_skip">skip</code></td>
<td>
<p>numeric See data.table's fread.</p>
</td></tr>
<tr><td><code id="read_ts_+3A_column_names">column_names</code></td>
<td>
<p>character vector denoting column names, defaults to c(&quot;date&quot;,&quot;value&quot;,&quot;series).</p>
</td></tr>
<tr><td><code id="read_ts_+3A_keep_last_freq_only">keep_last_freq_only</code></td>
<td>
<p>in case there is a frequency change in a time series,
should only the part of the series be returned that has the same frequency as
the last observation. This is useful when data start out crappy and then stabilize
after a while. Defaults to FALSE. Hence only the last part of the series is returned.</p>
</td></tr>
<tr><td><code id="read_ts_+3A_force_xts">force_xts</code></td>
<td>
<p>If set to true, the time series will be returned as xts objects regargless of
regularity. Setting this to TRUE means keep_last_freq_only is ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of ts objects
</p>

<hr>
<h2 id='regularize'>Turn an Irregular Time Series to a Regular, ts-Based Series</h2><span id='topic+regularize'></span>

<h3>Description</h3>

<p>Adds missing values to turn an irregular time series into a regular one. This function is currently experimental. Only works or target frequencies 1,2,4,12.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regularize(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regularize_+3A_x">x</code></td>
<td>
<p>an irregular time series object of class zoo or xts.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ts1 &lt;- rnorm(5)
dv &lt;- c(
  seq(as.Date("2010-01-01"), length = 3, by = "3 years"),
  seq(as.Date("2018-01-01"), length = 2, by = "2 years")
)
library(zoo)
xx &lt;- zoo(ts1, dv)
regularize(xx)

dv2 &lt;- c(seq(as.Date("2010-01-01"), length = 20, by = "1 months"))
dv2 &lt;- dv2[c(1:10, 14:20)]
xx2 &lt;- zoo(rnorm(length(dv2)), dv2)
regularize(xx2)

</code></pre>

<hr>
<h2 id='resolve_ts_overlap'>Concatenate Time Series and Resolve Overlap Automatically</h2><span id='topic+resolve_ts_overlap'></span>

<h3>Description</h3>

<p>Append time series to each other. Resolve overlap determines
which of two ts class time series is
reaching further and arranges the two series into first and second
series accordingly. Both time series are concatenated to one
if both series had the same frequency. Typically this function is used
concatenate two series that have a certain overlap, but one series clearly
starts earlier while the other lasts longer. If one series starts earlier and
stops later, all elements of the shorter series will be inserted into the
larger series, i.e. elements of the smaller series will replace the elements
of the longer series. Usually ts2 is kept.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resolve_ts_overlap(ts1, ts2, keep_ts2 = T, tolerance = 0.001)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resolve_ts_overlap_+3A_ts1">ts1</code></td>
<td>
<p>ts time series, typically the older series</p>
</td></tr>
<tr><td><code id="resolve_ts_overlap_+3A_ts2">ts2</code></td>
<td>
<p>ts time series, typically the younger series</p>
</td></tr>
<tr><td><code id="resolve_ts_overlap_+3A_keep_ts2">keep_ts2</code></td>
<td>
<p>logical should ts2 be kept? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="resolve_ts_overlap_+3A_tolerance">tolerance</code></td>
<td>
<p>numeric when comparing min and max values with a index vector of a time series R runs in to trouble with precision handling, thus a tolerance needs to be set. Typically this does not need to be adjusted. E.g. 2010 != 2010.000. With the help of the tolerance parameter these two are equal.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ts1 &lt;- ts(rnorm(100), start = c(1990, 1), frequency = 4)
ts2 &lt;- ts(1:18, start = c(2000, 1), frequency = 4)
resolve_ts_overlap(ts1, ts2)

# automatical detection of correction sequence!
ts1 &lt;- ts(rnorm(90), start = c(1990, 1), frequency = 4)
ts2 &lt;- ts(1:60, start = c(2000, 1), frequency = 4)
resolve_ts_overlap(ts1, ts2)

# both series are of the same length use sequence of arguments.
ts1 &lt;- ts(rnorm(100), start = c(1990, 1), frequency = 4)
ts2 &lt;- ts(1:48, start = c(2003, 1), frequency = 4)
resolve_ts_overlap(ts1, ts2)
ts1 &lt;- ts(rnorm(101), start = c(1990, 1), frequency = 4)
ts2 &lt;- ts(1:61, start = c(2000, 1), frequency = 4)
resolve_ts_overlap(ts1, ts2)
#' clearly dominatn ts2 series
ts1 &lt;- ts(rnorm(50), start = c(1990, 1), frequency = 4)
ts2 &lt;- ts(1:100, start = c(1990, 1), frequency = 4)
resolve_ts_overlap(ts1, ts2)
</code></pre>

<hr>
<h2 id='set_month_to_NA'>Set Periods to NA</h2><span id='topic+set_month_to_NA'></span>

<h3>Description</h3>

<p>This function is typically used to discard information in non-quarter month.
I.e., data is only kept in January, April, July and December and otherwise set
to NA. In combination with <code><a href="#topic+m_to_q">m_to_q</a></code> this function is useful to
turn monthly series into quarterly series by letting the quarter month values
represent the entire quarter. This can be useful when data was interpolated
because of mixing data of different frequencies and needs to be converted
back to a regular, quarterly time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_month_to_NA(series, keep_month = c(1, 4, 7, 10))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_month_to_NA_+3A_series">series</code></td>
<td>
<p>ts object</p>
</td></tr>
<tr><td><code id="set_month_to_NA_+3A_keep_month">keep_month</code></td>
<td>
<p>integer vector denoting the months that not be set to NA.
Defaults to c(1,4,7,10)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tsq &lt;- ts(1:20, start = c(1990, 1), frequency = 4)
aa &lt;- tsqm(tsq)
m_to_q(set_month_to_NA(aa))

</code></pre>

<hr>
<h2 id='start_ts_after_internal_nas'>Start a Time Series after the Last Internal NA</h2><span id='topic+start_ts_after_internal_nas'></span>

<h3>Description</h3>

<p>Internal NAs can cause trouble for time series operations such as
X-13-ARIMA SEATS seasonal adjustment. Often, internal NAs only occur at
at the beginning of a time series. Thus an easy solution to the problem
is to discard the initial part of the data which contains the NA values.
This way only a small part of the information is lost as opposed to
not being able to seasonally adjust an entire series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>start_ts_after_internal_nas(series)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="start_ts_after_internal_nas_+3A_series">series</code></td>
<td>
<p>on object of class ts</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+stripLeadingNAsFromTs">stripLeadingNAsFromTs</a></code>, <code><a href="#topic+stripTrailingNAsFromTs">stripTrailingNAsFromTs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ts1 &lt;- 1:30
ts1[c(3, 6)] &lt;- NA
ts1 &lt;- ts(ts1, start = c(2000, 1), frequency = 4)
start_ts_after_internal_nas(ts1)
</code></pre>

<hr>
<h2 id='strip_ts_of_leading_nas'>Strip Leading / Trailing NAs from a Time Series Object</h2><span id='topic+strip_ts_of_leading_nas'></span><span id='topic+strip_ts_of_trailing_nas'></span>

<h3>Description</h3>

<p>Removes NAs to begin with and starts time series index at the first non-NA value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip_ts_of_leading_nas(s)

strip_ts_of_trailing_nas(s)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strip_ts_of_leading_nas_+3A_s">s</code></td>
<td>
<p>an object of class ts.</p>
</td></tr>
</table>

<hr>
<h2 id='tsplot'>Plot Time Series</h2><span id='topic+tsplot'></span>

<h3>Description</h3>

<p>Conveniently plot time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsplot(
  ...,
  tsr = NULL,
  ci = NULL,
  left_as_bar = FALSE,
  group_bar_chart = FALSE,
  relative_bar_chart = FALSE,
  left_as_band = FALSE,
  plot_title = NULL,
  plot_subtitle = NULL,
  plot_subtitle_r = NULL,
  find_ticks_function = "findTicks",
  overall_xlim = NULL,
  overall_ylim = NULL,
  manual_date_ticks = NULL,
  manual_value_ticks_l = NULL,
  manual_value_ticks_r = NULL,
  manual_ticks_x = NULL,
  theme = NULL,
  quiet = TRUE,
  auto_legend = TRUE,
  output_format = "plot",
  filename = "tsplot",
  close_graphics_device = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsplot_+3A_...">...</code></td>
<td>
<p>multiple objects of class ts or a list of time series. All objects passed through the ... parameter relate to the standard left y-axis.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_tsr">tsr</code></td>
<td>
<p>list of time series objects of class ts.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_ci">ci</code></td>
<td>
<p>list of confidence intervals for time series</p>
</td></tr>
<tr><td><code id="tsplot_+3A_left_as_bar">left_as_bar</code></td>
<td>
<p>logical should the series that relate to the left bar be drawn as (stacked) bar charts?</p>
</td></tr>
<tr><td><code id="tsplot_+3A_group_bar_chart">group_bar_chart</code></td>
<td>
<p>logical should a bar chart be grouped instead of stacked?</p>
</td></tr>
<tr><td><code id="tsplot_+3A_relative_bar_chart">relative_bar_chart</code></td>
<td>
<p>logical Should time series be normalized such that bars range from 0 to 1? Defaults to FALSE. That way every sub bar (time series) is related to the global max. Hence do not expect every single bar to reach 1. This works for stacked and grouped charts and does not change anything but the scale of the chart.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_left_as_band">left_as_band</code></td>
<td>
<p>logical Should the time series assigned to the left axis be displayed as stacked area charts?</p>
</td></tr>
<tr><td><code id="tsplot_+3A_plot_title">plot_title</code></td>
<td>
<p>character title to be added to the plot</p>
</td></tr>
<tr><td><code id="tsplot_+3A_plot_subtitle">plot_subtitle</code></td>
<td>
<p>character subtitle to be added to the plot</p>
</td></tr>
<tr><td><code id="tsplot_+3A_plot_subtitle_r">plot_subtitle_r</code></td>
<td>
<p>character second subtitle to be added at the top right</p>
</td></tr>
<tr><td><code id="tsplot_+3A_find_ticks_function">find_ticks_function</code></td>
<td>
<p>function to compute ticks.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_overall_xlim">overall_xlim</code></td>
<td>
<p>integer overall x-axis limits, defaults to NULL.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_overall_ylim">overall_ylim</code></td>
<td>
<p>integer overall y-axis limits, defaults to NULL.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_manual_date_ticks">manual_date_ticks</code></td>
<td>
<p>character vector of manual date ticks.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_manual_value_ticks_l">manual_value_ticks_l</code></td>
<td>
<p>numeric vector, forcing ticks to the left y-axis</p>
</td></tr>
<tr><td><code id="tsplot_+3A_manual_value_ticks_r">manual_value_ticks_r</code></td>
<td>
<p>numeric vector, forcing ticks to the right y-axis</p>
</td></tr>
<tr><td><code id="tsplot_+3A_manual_ticks_x">manual_ticks_x</code></td>
<td>
<p>numeric vector, forcing ticks on the x axis</p>
</td></tr>
<tr><td><code id="tsplot_+3A_theme">theme</code></td>
<td>
<p>list of default plot output parameters. Defaults to NULL, which leads to <code><a href="#topic+init_tsplot_theme">init_tsplot_theme</a></code> being called. Please see the vignette for details about tweaking themes.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_quiet">quiet</code></td>
<td>
<p>logical suppress output, defaults to TRUE.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_auto_legend">auto_legend</code></td>
<td>
<p>logical should legends be printed automatically, defaults to TRUE.</p>
</td></tr>
<tr><td><code id="tsplot_+3A_output_format">output_format</code></td>
<td>
<p>character Should the plot be drawn on screen or written to a file? Possible values are &quot;plot&quot; for screen output and &quot;pdf&quot;. Default &quot;plot&quot;</p>
</td></tr>
<tr><td><code id="tsplot_+3A_filename">filename</code></td>
<td>
<p>character Path to the file to be written if <code>output_format</code> is &quot;pdf&quot;. Default &quot;tsplot.pdf&quot;</p>
</td></tr>
<tr><td><code id="tsplot_+3A_close_graphics_device">close_graphics_device</code></td>
<td>
<p>logical Should the graphics device of the output file be closed after <code>tsplot</code>? Set this to FALSE to be able to make modifications to the plot after <code>tsplot</code> finishes. Default TRUE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The ci parameter is a 3-level list of the form
list(
ts1 = list(
ci_value_1 = list(
ub = upper_bound_ts_object,
lb = lower_bound_ts_object
),
...
),
...
)
</p>
<p>See <code>vignette("tstools")</code> for details.
</p>

<hr>
<h2 id='tsqm'>Interpolate quarterly time series into monthly</h2><span id='topic+tsqm'></span>

<h3>Description</h3>

<p>Repeat quarterly variables two times to generate a monthly variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsqm(qts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsqm_+3A_qts">qts</code></td>
<td>
<p>quarterly time series</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tsq &lt;- ts(1:20, start = c(1990, 1), frequency = 4)
tsqm(tsq)

</code></pre>

<hr>
<h2 id='tstools-deprecated'>Deprecated function(s) in tstools</h2><span id='topic+tstools-deprecated'></span><span id='topic+computeDecimalTime'></span><span id='topic+concatTs'></span><span id='topic+fillupYearWitnNAs'></span><span id='topic+importTimeSeries'></span><span id='topic+initDefaultTheme'></span><span id='topic+overlapSortedLists'></span><span id='topic+overlapTslByName'></span><span id='topic+resolveOverlap'></span><span id='topic+stripLeadingNAsFromTs'></span><span id='topic+stripTrailingNAsFromTs'></span><span id='topic+writeTimeSeries'></span>

<h3>Description</h3>

<p>These functions are provided for compatibility with older version of
the tstools package.  They may eventually be completely
removed.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="tstools-deprecated_+3A_...">...</code></td>
<td>
<p>Parameters to be passed to the modern version of the function</p>
</td></tr>
</table>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: right;">
  <code>computeDecimalTime</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+compute_decimal_time">compute_decimal_time</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>concatTs</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+concat_ts">concat_ts</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>fillupYearWitnNAs</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+fill_year_with_nas">fill_year_with_nas</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>importTimeSeries</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+read_ts">read_ts</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>init_tsplot_theme</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+init_tsplot_theme">init_tsplot_theme</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>overlapSortedLists</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+overlap_sorted_ts_lists">overlap_sorted_ts_lists</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>overlapTslByName</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+overlap_ts_lists_by_name">overlap_ts_lists_by_name</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>resolveOverlap</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+resolve_ts_overlap">resolve_ts_overlap</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>stripLeadingNAsFromTs</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+strip_ts_of_leading_nas">strip_ts_of_leading_nas</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>stripTrailingNAsFromTs</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+strip_ts_of_trailing_nas">strip_ts_of_trailing_nas</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>writeTimeSeries</code> </td><td style="text-align: left;"> now a synonym for <code><a href="#topic+write_ts">write_ts</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='wide_to_ts'>Transform a wide format data.frame into a tslist</h2><span id='topic+wide_to_ts'></span>

<h3>Description</h3>

<p>The time series in the data.frame may be stored either rowwise or columnswise.
The identifying column must be called date (for columnwise) or series (for rowwise)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wide_to_ts(data, keep_last_freq_only = FALSE, force_xts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wide_to_ts_+3A_data">data</code></td>
<td>
<p>data.frame The data.frame to be transformed</p>
</td></tr>
<tr><td><code id="wide_to_ts_+3A_keep_last_freq_only">keep_last_freq_only</code></td>
<td>
<p>in case there is a frequency change in a time series,
should only the part of the series be returned that has the same frequency as
the last observation. This is useful when data start out crappy and then stabilize
after a while. Defaults to FALSE. Hence only the last part of the series is returned.</p>
</td></tr>
<tr><td><code id="wide_to_ts_+3A_force_xts">force_xts</code></td>
<td>
<p>boolean force xts format? Defaults to FALSE.</p>
</td></tr>
</table>

<hr>
<h2 id='write_ts'>Export a list of time series to a file.</h2><span id='topic+write_ts'></span>

<h3>Description</h3>

<p>Export a list of time series to a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_ts(
  tl,
  fname = NULL,
  format = "csv",
  date_format = NULL,
  timestamp_to_fn = FALSE,
  round_digits = NULL,
  rdata_varname = "tslist",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_ts_+3A_tl">tl</code></td>
<td>
<p>list of time series</p>
</td></tr>
<tr><td><code id="write_ts_+3A_fname">fname</code></td>
<td>
<p>character file name. Defaults to NULL, displaying output on console. Set a file name without file extension in order to store a file. Default file names / location are not CRAN compliant which is why the file name defaults to NULL.</p>
</td></tr>
<tr><td><code id="write_ts_+3A_format">format</code></td>
<td>
<p>character denotes export formats. Defaults to .csv. &quot;csv&quot;, &quot;xlsx&quot;, &quot;json&quot;, &quot;rdata&quot; are available. Spreadsheet formats like csv allow for further optional parameters.</p>
</td></tr>
<tr><td><code id="write_ts_+3A_date_format">date_format</code></td>
<td>
<p>character denotes the date format. Defaults to NULL. If set to null the default is used: Jan 2010.</p>
</td></tr>
<tr><td><code id="write_ts_+3A_timestamp_to_fn">timestamp_to_fn</code></td>
<td>
<p>If TRUE, the current date will be appended to the file name. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="write_ts_+3A_round_digits">round_digits</code></td>
<td>
<p>integer, precision in digits.</p>
</td></tr>
<tr><td><code id="write_ts_+3A_rdata_varname">rdata_varname</code></td>
<td>
<p>character name of the list of time series within the store RData. Defaults to &quot;tslist&quot;.</p>
</td></tr>
<tr><td><code id="write_ts_+3A_...">...</code></td>
<td>
<p>additional arguments used by spedific formats.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Additional arguments covered by <code>...</code>
</p>

<table>
<tr>
 <td style="text-align: left;">
  <strong>Name</strong> </td><td style="text-align: left;"> <strong>Effect</strong> </td><td style="text-align: left;"> <strong>Format(s)</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>wide</code> </td><td style="text-align: left;"> Export data in a wide format (one column per series) </td><td style="text-align: left;"> CSV, XLSX </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>transpose</code> </td><td style="text-align: left;"> Transpose exported data (one row per series) </td><td style="text-align: left;"> CSV, XLSX, only if wide = TRUE </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>zip</code> </td><td style="text-align: left;"> If set to TRUE, the file is compressed into a zip archive after export </td><td style="text-align: left;"> any </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

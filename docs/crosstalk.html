<!DOCTYPE html><html><head><title>Help for package crosstalk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {crosstalk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bscols'><p>Arrange HTML elements or widgets in Bootstrap columns</p></a></li>
<li><a href='#ClientValue'><p>ClientValue object</p></a></li>
<li><a href='#crosstalkLibs'><p>Crosstalk dependencies</p></a></li>
<li><a href='#filter_select'><p>Categorical filter controls</p></a></li>
<li><a href='#filter_slider'><p>Range filter control</p></a></li>
<li><a href='#getDefaultReactiveDomain'><p>Get default reactive domain</p></a></li>
<li><a href='#is.SharedData'><p>Check if an object is <code>SharedData</code></p></a></li>
<li><a href='#maintain_selection'><p>Synchronize Shiny brush selection with shared data</p></a></li>
<li><a href='#scale_fill_selection'><p>ggplot2 helpers</p></a></li>
<li><a href='#SharedData'><p>Shared data frame</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Inter-Widget Interactivity for HTML Widgets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides building blocks for allowing HTML widgets to communicate
    with each other, with Shiny or without (i.e. static .html files). Currently
    supports linked brushing and filtering.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmltools (&ge; 0.3.6), jsonlite, lazyeval, R6</td>
</tr>
<tr>
<td>Suggests:</td>
<td>shiny, ggplot2, testthat (&ge; 2.1.0), sass, bslib</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rstudio.github.io/crosstalk/">https://rstudio.github.io/crosstalk/</a>,
<a href="https://github.com/rstudio/crosstalk">https://github.com/rstudio/crosstalk</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/crosstalk/issues">https://github.com/rstudio/crosstalk/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-22 16:29:50 UTC; cpsievert</td>
</tr>
<tr>
<td>Author:</td>
<td>Joe Cheng [aut],
  Carson Sievert <a href="https://orcid.org/0000-0002-4958-2844"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Posit Software, PBC [cph, fnd],
  jQuery Foundation [cph] (jQuery library and jQuery UI library),
  jQuery contributors [ctb, cph] (jQuery library; authors listed in
    inst/www/shared/jquery-AUTHORS.txt),
  Mark Otto [ctb] (Bootstrap library),
  Jacob Thornton [ctb] (Bootstrap library),
  Bootstrap contributors [ctb] (Bootstrap library),
  Twitter, Inc [cph] (Bootstrap library),
  Brian Reavis [ctb, cph] (selectize.js library),
  Kristopher Michael Kowal [ctb, cph] (es5-shim library),
  es5-shim contributors [ctb, cph] (es5-shim library),
  Denis Ineshin [ctb, cph] (ion.rangeSlider library),
  Sami Samhuri [ctb, cph] (Javascript strftime library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carson Sievert &lt;carson@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-23 08:50:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='bscols'>Arrange HTML elements or widgets in Bootstrap columns</h2><span id='topic+bscols'></span>

<h3>Description</h3>

<p>This helper function makes it easy to put HTML elements side by side. It can
be called directly from the console but is especially designed to work in an
R Markdown document. Warning: This will bring in all of Bootstrap!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bscols(..., widths = NA, device = c("xs", "sm", "md", "lg"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bscols_+3A_...">...</code></td>
<td>
<p><code>htmltools</code> tag objects, lists, text, HTML widgets, or
NULL. These arguments should be unnamed.</p>
</td></tr>
<tr><td><code id="bscols_+3A_widths">widths</code></td>
<td>
<p>The number of columns that should be assigned to each of the
<code>...</code> elements (the total number of columns available is always 12).
The width vector will be recycled if there are more <code>...</code> arguments.
<code>NA</code> columns will evenly split the remaining columns that are left
after the widths are recycled and non-<code>NA</code> values are subtracted.</p>
</td></tr>
<tr><td><code id="bscols_+3A_device">device</code></td>
<td>
<p>The class of device which is targeted by these widths; with
smaller screen sizes the layout will collapse to a one-column,
top-to-bottom display instead. xs: never collapse, sm: collapse below
768px, md: 992px, lg: 1200px.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="htmltools.html#topic+browsable">browsable</a></code> HTML element.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(htmltools)

# If width is unspecified, equal widths will be used
bscols(
  div(style = css(width="100%", height="400px", background_color="red")),
  div(style = css(width="100%", height="400px", background_color="blue"))
)

# Use NA to absorb remaining width
bscols(widths = c(2, NA, NA),
  div(style = css(width="100%", height="400px", background_color="red")),
  div(style = css(width="100%", height="400px", background_color="blue")),
  div(style = css(width="100%", height="400px", background_color="green"))
)

# Recycling widths
bscols(widths = c(2, 4),
  div(style = css(width="100%", height="400px", background_color="red")),
  div(style = css(width="100%", height="400px", background_color="blue")),
  div(style = css(width="100%", height="400px", background_color="red")),
  div(style = css(width="100%", height="400px", background_color="blue"))
)

</code></pre>

<hr>
<h2 id='ClientValue'>ClientValue object</h2><span id='topic+ClientValue'></span>

<h3>Description</h3>

<p>An object that can be used in a <a href="https://shiny.posit.co/">Shiny</a> server
function to get or set a crosstalk variable that exists on the client. The
client copy of the variable is the canonical copy, so there is no direct
&quot;set&quot; method that immediately changes the value; instead, there is a
'sendUpdate' method that sends a request to the browser to change the value,
which will then cause the new value to be relayed back to the server.
</p>
<p>This object is used to implement <code><a href="#topic+SharedData">SharedData</a></code> and should not need
to be used directly by users.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ClientValue-new"><code>ClientValue$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ClientValue-get"><code>ClientValue$get()</code></a>
</p>
</li>
<li> <p><a href="#method-ClientValue-sendUpdate"><code>ClientValue$sendUpdate()</code></a>
</p>
</li>
<li> <p><a href="#method-ClientValue-clone"><code>ClientValue$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-ClientValue-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates a new ClientValue object to reflect the crosstalk variable
specified by 'group' and 'name'.
</p>


<h5>Usage</h5>

<div class="r"><pre>ClientValue$new(
  name,
  group = "default",
  session = shiny::getDefaultReactiveDomain()
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>The name of the crosstalk variable.</p>
</dd>
<dt><code>group</code></dt><dd><p>The name of the crosstalk variable group.</p>
</dd>
<dt><code>session</code></dt><dd><p>The Shiny session to connect to; defaults to the current
session.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ClientValue-get"></a>



<h4>Method <code>get()</code></h4>

<p>Read the value. This is a reactive operation akin to reading a reactive
value, and so can only be done in a reactive context (e.g. in a
'shiny::reactive()', 'shiny::observe()', or 'shiny::isolate()' block).
</p>


<h5>Usage</h5>

<div class="r"><pre>ClientValue$get()</pre></div>


<hr>
<a id="method-ClientValue-sendUpdate"></a>



<h4>Method <code>sendUpdate()</code></h4>

<p>Send a message to the browser asking it to update the crosstalk var to
the given value. This update does not happen synchronously, that is, a
call to 'get()' immediately following 'sendUpdate(value)' will not
reflect the new value.
</p>


<h5>Usage</h5>

<div class="r"><pre>ClientValue$sendUpdate(value)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>value</code></dt><dd><p>The new value for the crosstalk variable. Must be
serializable as JSON using 'jsonlite'.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ClientValue-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ClientValue$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)

server &lt;- function(input, output, session) {
  cv &lt;- ClientValue$new("var1", "group1")

  r &lt;- reactive({
    # Don't proceed unless cv$get() is a non-NULL value
    validate(need(cv$get(), message = FALSE))

    runif(cv$get())
  })

  observeEvent(input$click, {
    cv$sendUpdate(NULL)
  })
}

</code></pre>

<hr>
<h2 id='crosstalkLibs'>Crosstalk dependencies</h2><span id='topic+crosstalkLibs'></span>

<h3>Description</h3>

<p>List of <code><a href="htmltools.html#topic+htmlDependency">htmlDependency</a></code> objects necessary for
Crosstalk to function. Intended for widget authors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crosstalkLibs()
</code></pre>

<hr>
<h2 id='filter_select'>Categorical filter controls</h2><span id='topic+filter_select'></span><span id='topic+filter_checkbox'></span>

<h3>Description</h3>

<p>Creates a select box or list of checkboxes, for filtering a
<code><a href="#topic+SharedData">SharedData</a></code> object based on categorical data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_select(id, label, sharedData, group, allLevels = FALSE, multiple = TRUE)

filter_checkbox(
  id,
  label,
  sharedData,
  group,
  allLevels = FALSE,
  inline = FALSE,
  columns = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_select_+3A_id">id</code></td>
<td>
<p>An HTML element ID; must be unique within the web page</p>
</td></tr>
<tr><td><code id="filter_select_+3A_label">label</code></td>
<td>
<p>A human-readable label</p>
</td></tr>
<tr><td><code id="filter_select_+3A_shareddata">sharedData</code></td>
<td>
<p><code>SharedData</code> object with the data to filter</p>
</td></tr>
<tr><td><code id="filter_select_+3A_group">group</code></td>
<td>
<p>A one-sided formula whose values will populate this select box.
Generally this should be a character or factor column; if not, it will be
coerced to character.</p>
</td></tr>
<tr><td><code id="filter_select_+3A_alllevels">allLevels</code></td>
<td>
<p>If the vector described by <code>group</code> is factor-based,
should all the levels be displayed as options, or only ones that are
present in the data?</p>
</td></tr>
<tr><td><code id="filter_select_+3A_multiple">multiple</code></td>
<td>
<p>Can multiple values be selected?</p>
</td></tr>
<tr><td><code id="filter_select_+3A_inline">inline</code></td>
<td>
<p>If <code>TRUE</code>, render checkbox options horizontally instead of vertically.</p>
</td></tr>
<tr><td><code id="filter_select_+3A_columns">columns</code></td>
<td>
<p>Number of columns the options should be arranged into.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Only run examples in interactive R sessions
if (interactive()) {

sd &lt;- SharedData$new(chickwts)
filter_select("feedtype", "Feed type", sd, "feed")

}

</code></pre>

<hr>
<h2 id='filter_slider'>Range filter control</h2><span id='topic+filter_slider'></span><span id='topic+animation_options'></span>

<h3>Description</h3>

<p>Creates a slider widget that lets users filter observations based on a range
of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_slider(
  id,
  label,
  sharedData,
  column,
  step = NULL,
  round = FALSE,
  ticks = TRUE,
  animate = FALSE,
  width = NULL,
  sep = ",",
  pre = NULL,
  post = NULL,
  timeFormat = NULL,
  timezone = NULL,
  dragRange = TRUE,
  min = NULL,
  max = NULL
)

animation_options(
  interval = 1000,
  loop = FALSE,
  playButton = NULL,
  pauseButton = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_slider_+3A_id">id</code></td>
<td>
<p>An HTML element ID; must be unique within the web page</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_label">label</code></td>
<td>
<p>A human-readable label</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_shareddata">sharedData</code></td>
<td>
<p><code>SharedData</code> object with the data to filter</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_column">column</code></td>
<td>
<p>A one-sided formula whose values will be used for this slider.
The column must be of type <code><a href="base.html#topic+Date">Date</a></code>, <code><a href="base.html#topic+POSIXt">POSIXt</a></code>, or
numeric.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_step">step</code></td>
<td>
<p>Specifies the interval between each selectable value on the
slider (if <code>NULL</code>, a heuristic is used to determine the step size). If
the values are dates, <code>step</code> is in days; if the values are times
(POSIXt), <code>step</code> is in seconds.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_round">round</code></td>
<td>
<p><code>TRUE</code> to round all values to the nearest integer;
<code>FALSE</code> if no rounding is desired; or an integer to round to that
number of decimal places (for example, 1 will round to the nearest 0.1, and
-2 will round to the nearest 100). Any rounding will be applied after
snapping to the nearest step.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_ticks">ticks</code></td>
<td>
<p><code>FALSE</code> to hide tick marks, <code>TRUE</code> to show them
according to some simple heuristics.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_animate">animate</code></td>
<td>
<p><code>TRUE</code> to show simple animation controls with default
settings; <code>FALSE</code> not to; or a custom settings list, such as those
created using <code><a href="shiny.html#topic+animationOptions">animationOptions</a></code>.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_width">width</code></td>
<td>
<p>The width of the slider control (see
<code><a href="htmltools.html#topic+validateCssUnit">validateCssUnit</a></code> for valid formats)</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_sep">sep</code></td>
<td>
<p>Separator between thousands places in numbers.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_pre">pre</code></td>
<td>
<p>A prefix string to put in front of the value.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_post">post</code></td>
<td>
<p>A suffix string to put after the value.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_timeformat">timeFormat</code></td>
<td>
<p>Only used if the values are Date or POSIXt objects. A time
format string, to be passed to the Javascript strftime library. See
<a href="https://github.com/samsonjs/strftime">https://github.com/samsonjs/strftime</a> for more details. The allowed
format specifications are very similar, but not identical, to those for R's
<code><a href="base.html#topic+strftime">strftime</a></code> function. For Dates, the default is <code>"%F"</code>
(like <code>"2015-07-01"</code>), and for POSIXt, the default is <code>"%F %T"</code>
(like <code>"2015-07-01 15:32:10"</code>).</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_timezone">timezone</code></td>
<td>
<p>Only used if the values are POSIXt objects. A string
specifying the time zone offset for the displayed times, in the format
<code>"+HHMM"</code> or <code>"-HHMM"</code>. If <code>NULL</code> (the default), times will
be displayed in the browser's time zone. The value <code>"+0000"</code> will
result in UTC time.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_dragrange">dragRange</code></td>
<td>
<p>This option is used only if it is a range slider (with two
values). If <code>TRUE</code> (the default), the range can be dragged. In other
words, the min and max can be dragged together. If <code>FALSE</code>, the range
cannot be dragged.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_min">min</code></td>
<td>
<p>The leftmost value of the slider. By default, set to the minimal
number in input data.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_max">max</code></td>
<td>
<p>The rightmost value of the slider. By default, set to the maximal
number in input data.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_interval">interval</code></td>
<td>
<p>The interval, in milliseconds, between each animation step.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_loop">loop</code></td>
<td>
<p><code>TRUE</code> to automatically restart the animation when it
reaches the end.</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_playbutton">playButton</code></td>
<td>
<p>Specifies the appearance of the play button. Valid values
are a one-element character vector (for a simple text label), an HTML tag
or list of tags (using <code><a href="htmltools.html#topic+tag">tag</a></code> and friends), or raw HTML (using
<code><a href="htmltools.html#topic+HTML">HTML</a></code>).</p>
</td></tr>
<tr><td><code id="filter_slider_+3A_pausebutton">pauseButton</code></td>
<td>
<p>Similar to <code>playButton</code>, but for the pause button.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Only run examples in interactive R sessions
if (interactive()) {

sd &lt;- SharedData$new(mtcars)
filter_slider("mpg", "Miles per gallon", sd, "mpg")

}
</code></pre>

<hr>
<h2 id='getDefaultReactiveDomain'>Get default reactive domain</h2><span id='topic+getDefaultReactiveDomain'></span>

<h3>Description</h3>

<p>Pass-through to [shiny::getDefaultReactiveDomain()], unless the shiny package
is not installed, in which case 'NULL' is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDefaultReactiveDomain()
</code></pre>

<hr>
<h2 id='is.SharedData'>Check if an object is <code>SharedData</code></h2><span id='topic+is.SharedData'></span>

<h3>Description</h3>

<p>Check if an object is an instance of <code><a href="#topic+SharedData">SharedData</a></code> or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.SharedData(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.SharedData_+3A_x">x</code></td>
<td>
<p>The object that may or may not be an instance of <code>SharedData</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical
</p>

<hr>
<h2 id='maintain_selection'>Synchronize Shiny brush selection with shared data</h2><span id='topic+maintain_selection'></span>

<h3>Description</h3>

<p>Waits for a brush to change, and propagates that change to the
<code>sharedData</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maintain_selection(sharedData, brushId, ownerId = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maintain_selection_+3A_shareddata">sharedData</code></td>
<td>
<p>The shared data instance</p>
</td></tr>
<tr><td><code id="maintain_selection_+3A_brushid">brushId</code></td>
<td>
<p>Character vector indicating the name of the <code>plotOutput</code>
brush</p>
</td></tr>
<tr><td><code id="maintain_selection_+3A_ownerid">ownerId</code></td>
<td>
<p>(TBD)</p>
</td></tr>
</table>

<hr>
<h2 id='scale_fill_selection'>ggplot2 helpers</h2><span id='topic+scale_fill_selection'></span><span id='topic+scale_color_selection'></span><span id='topic+selection_factor'></span>

<h3>Description</h3>

<p>Add <code>scale_fill_selection()</code> or <code>scale_color_selection</code> to a ggplot
to customize the scale for fill or color, respectively, for linked brushing.
Use <code>selection_factor</code> to turn logical vectors representing selection,
to a factor with the levels ordered for use with ggplot2 bar stacking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_selection(color_false, color_true)

scale_color_selection(color_false, color_true)

selection_factor(
  x,
  na.replace = c(FALSE, NA, TRUE),
  reverse = packageVersion("ggplot2") &lt; "2.2.0"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_fill_selection_+3A_color_false">color_false</code></td>
<td>
<p>The color that should be mapped to unselected rows</p>
</td></tr>
<tr><td><code id="scale_fill_selection_+3A_color_true">color_true</code></td>
<td>
<p>The color that should be mapped to selected rows</p>
</td></tr>
<tr><td><code id="scale_fill_selection_+3A_x">x</code></td>
<td>
<p>Either a data frame with a <code>selected_</code> column, or, a logical
vector indicating which rows are selected</p>
</td></tr>
<tr><td><code id="scale_fill_selection_+3A_na.replace">na.replace</code></td>
<td>
<p>The value to use to replace <code>NA</code> values; choose either
<code>FALSE</code>, <code>NA</code>, or <code>TRUE</code> based on how you want values to be
treated when no selection is active</p>
</td></tr>
<tr><td><code id="scale_fill_selection_+3A_reverse">reverse</code></td>
<td>
<p>Whether the factor level order should be <code>c(FALSE, TRUE)</code>
(normal) or <code>c(TRUE, FALSE)</code> (reverse). The former is required for
ggplot2 2.2.0+, the latter for earlier versions.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sd &lt;- SharedData$new(iris)
renderPlot({
  df &lt;- sd$data(withSelection = TRUE, withFilter = TRUE)
  ggplot(df, aes(Sepal.Length, Sepal.Width,
    color = selection_factor(df))) +
    geom_point() +
    scale_color_selection("#444444", "skyblue1")
})


## End(Not run)
</code></pre>

<hr>
<h2 id='SharedData'>Shared data frame</h2><span id='topic+SharedData'></span>

<h3>Description</h3>

<p>An R6 class that represents a shared data frame, or sufficiently data
frame-like object.
</p>
<p>The primary use for <code>SharedData</code> is to be passed to Crosstalk-compatible
widgets in place of a data frame. Each <code>SharedData$new(...)</code> call makes
a new &quot;group&quot; of widgets that link to each other, but not to widgets in other
groups. You can also use a <code>SharedData</code> object from Shiny code in order
to react to filtering and brushing from non-widget visualizations (like
ggplot2 plots).
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-SharedData-new"><code>SharedData$new()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-origData"><code>SharedData$origData()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-groupName"><code>SharedData$groupName()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-key"><code>SharedData$key()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-data"><code>SharedData$data()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-selection"><code>SharedData$selection()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-clearSelection"><code>SharedData$clearSelection()</code></a>
</p>
</li>
<li> <p><a href="#method-SharedData-clone"><code>SharedData$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-SharedData-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>SharedData$new(
  data,
  key = NULL,
  group = createUniqueId(4, prefix = "SharedData")
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data</code></dt><dd><p>A data frame-like object, or a Shiny
<a href="shiny.html#topic+reactive">reactive expression</a> that returns a data
frame-like object.</p>
</dd>
<dt><code>key</code></dt><dd><p>Character vector or one-sided formula that indicates the name
of the column that represents the key or ID of the data frame. These
<em>must</em> be unique, and ideally will be something intrinsic to the
data (a proper ID) rather than a transient property like row index.
</p>
<p>If <code>NULL</code>, then <code>row.names(data)</code> will be used.</p>
</dd>
<dt><code>group</code></dt><dd><p>The &quot;identity&quot; of the Crosstalk group that widgets will join
when you pass them this <code>SharedData</code> object. In some cases, you
will want to have multiple independent <code>SharedData</code> objects link
up to form a single web of widgets that all share selection and
filtering state; in those cases, you'll give those <code>SharedData</code>
objects the same group name. (One example: in Shiny, ui.R and server.R
might each need their own <code>SharedData</code> instance, even though
they're intended to represent a single group.)</p>
</dd>
</dl>

</div>


<hr>
<a id="method-SharedData-origData"></a>



<h4>Method <code>origData()</code></h4>

<p>Return the data frame that was used to create this
<code>SharedData</code> instance. If a reactive expression, evaluate the
reactive expression. Equivalent to <code>SharedData$data(FALSE, FALSE,
FALSE)</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$origData()</pre></div>


<hr>
<a id="method-SharedData-groupName"></a>



<h4>Method <code>groupName()</code></h4>

<p>Returns the value of <code>group</code> that was used to create
this instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$groupName()</pre></div>


<hr>
<a id="method-SharedData-key"></a>



<h4>Method <code>key()</code></h4>

<p>Returns the vector of key values. Filtering is not applied.
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$key()</pre></div>


<hr>
<a id="method-SharedData-data"></a>



<h4>Method <code>data()</code></h4>

<p>Return the data (or read and return the data if the data is a Shiny
reactive expression).
</p>
<p>When running in Shiny, calling <code>data()</code> is a reactive operation that
will invalidate if the selection or filter change (assuming that
information was requested), or if the original data is a reactive
expression that has invalidated.
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$data(withSelection = FALSE, withFilter = TRUE, withKey = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>withSelection</code></dt><dd><p>If 'TRUE', add a <code>selection_</code> column with
logical values indicating which rows are in the current selection, or
<code>NA</code> if no selection is currently active.</p>
</dd>
<dt><code>withFilter</code></dt><dd><p>If 'TRUE' (the default), only return rows that are part
of the current filter settings, if any.</p>
</dd>
<dt><code>withKey</code></dt><dd><p>If 'TRUE', add a <code>key_</code> column with the key values of
each row (normally not needed since the key is either one of the other
columns or else just the row names).</p>
</dd>
</dl>

</div>


<hr>
<a id="method-SharedData-selection"></a>



<h4>Method <code>selection()</code></h4>

<p>Get or set the current selection in the client.
</p>
<p>If called without arguments, returns a logical vector of rows that are
currently selected (brushed), or <code>NULL</code> if no selection exists.
Intended to be called from a Shiny reactive context, and invalidates
whenever the selection changes.
</p>
<p>If called with one or two arguments, sets the selection based on the
given value indirectly, by sending the value to the web browser (assumes
an active Shiny app or Shiny R Markdown document).
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$selection(value, ownerId = "")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>value</code></dt><dd><p>If provided, a logical vector of 'nrow(origData())' length,
indicating which rows are currently selected (brushed).</p>
</dd>
<dt><code>ownerId</code></dt><dd><p>Set this argument to the 'outputId' of a widget if
conceptually that widget &quot;initiated&quot; the selection (prevents that
widget from clearing its visual selection box, which is normally
cleared when the selection changes). For example, if setting the
selection based on a [shiny::plotOutput()] brush, then
'ownerId' should be the 'outputId' of that 'plotOutput'.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-SharedData-clearSelection"></a>



<h4>Method <code>clearSelection()</code></h4>

<p>Clears the selection indirectly, by sending an instruction
to the client that it should do so.
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$clearSelection(ownerId = "")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>ownerId</code></dt><dd><p>See the [SharedData$selection()] method.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-SharedData-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>SharedData$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

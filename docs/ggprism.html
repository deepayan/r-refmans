<!DOCTYPE html><html lang="en"><head><title>Help for package ggprism</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggprism}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggprism-package'><p>ggprism: A 'ggplot2' Extension Inspired by 'GraphPad Prism'</p></a></li>
<li><a href='#add_pvalue'><p>Add p-values to a ggplot</p></a></li>
<li><a href='#annotation_ticks'><p>Add ticks as ggplot annotation</p></a></li>
<li><a href='#draw_prism_bracket'><p>Grob for bracket axes</p></a></li>
<li><a href='#draw_prism_minor'><p>Grob for axes with minor ticks</p></a></li>
<li><a href='#draw_prism_offset'><p>Grob for offset axes</p></a></li>
<li><a href='#draw_prism_offset_minor'><p>Grob for offset axes with minor ticks</p></a></li>
<li><a href='#GeomTicks'><p>ggproto classes for ggprism</p></a></li>
<li><a href='#ggprism_data'><p>Palettes and theme data for ggprism</p></a></li>
<li><a href='#guide_prism_bracket'><p>Axis guide with brackets</p></a></li>
<li><a href='#guide_prism_minor'><p>Axis guide with minor ticks</p></a></li>
<li><a href='#guide_prism_offset'><p>Offset axis guide</p></a></li>
<li><a href='#guide_prism_offset_minor'><p>Offset axis guide with minor ticks</p></a></li>
<li><a href='#preview_theme'><p>Preview Prism themes</p></a></li>
<li><a href='#prism_colour_pal'><p>Prism colour palettes</p></a></li>
<li><a href='#prism_fill_pal'><p>Prism fill palettes</p></a></li>
<li><a href='#prism_shape_pal'><p>Prism shape palettes</p></a></li>
<li><a href='#scale_colour_prism'><p>Prism colour scales (discrete)</p></a></li>
<li><a href='#scale_fill_prism'><p>Prism fill scales (discrete)</p></a></li>
<li><a href='#scale_shape_prism'><p>Prism shape scales (discrete)</p></a></li>
<li><a href='#theme_prism'><p>Prism themes</p></a></li>
<li><a href='#wings'><p>Wing morphology of mutant flies</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A 'ggplot2' Extension Inspired by 'GraphPad Prism'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides various themes, palettes, and other functions
    that are used to customise ggplots to look like they were made in 'GraphPad 
    Prism'. The 'Prism'-look is achieved with theme_prism() and 
    scale_fill|colour_prism(), axes can be changed with custom guides like 
    guide_prism_minor(), and significance indicators added with add_pvalue().</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3.0)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://csdaw.github.io/ggprism/">https://csdaw.github.io/ggprism/</a>, <a href="https://github.com/csdaw/ggprism">https://github.com/csdaw/ggprism</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/csdaw/ggprism/issues">https://github.com/csdaw/ggprism/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>digest, ggplot2 (&ge; 3.2.0), glue, grid, gtable (&ge; 0.1.1),
rlang (&ge; 0.3.0), scales (&ge; 0.5.0), stats, tibble, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, dplyr, ggbeeswarm, ggnewscale, knitr, magrittr,
patchwork, rmarkdown, rstatix, tidyr, tinytest</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-21 10:15:34 UTC; csd51</td>
</tr>
<tr>
<td>Author:</td>
<td>Charlotte Dawson <a href="https://orcid.org/0000-0002-7151-5971"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Charlotte Dawson &lt;csdaw@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-21 10:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggprism-package'>ggprism: A 'ggplot2' Extension Inspired by 'GraphPad Prism'</h2><span id='topic+ggprism'></span><span id='topic+ggprism-package'></span>

<h3>Description</h3>

<p>Provides various themes, palettes, and other functions that are used to customise ggplots to look like they were made in 'GraphPad Prism'. The 'Prism'-look is achieved with theme_prism() and scale_fill|colour_prism(), axes can be changed with custom guides like guide_prism_minor(), and significance indicators added with add_pvalue().
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Charlotte Dawson <a href="mailto:csdaw@outlook.com">csdaw@outlook.com</a> (<a href="https://orcid.org/0000-0002-7151-5971">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://csdaw.github.io/ggprism/">https://csdaw.github.io/ggprism/</a>
</p>
</li>
<li> <p><a href="https://github.com/csdaw/ggprism">https://github.com/csdaw/ggprism</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/csdaw/ggprism/issues">https://github.com/csdaw/ggprism/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_pvalue'>Add p-values to a ggplot</h2><span id='topic+add_pvalue'></span>

<h3>Description</h3>

<p>Add p-values with or without brackets to a ggplot.
</p>
<p>See <a href="https://csdaw.github.io/ggprism/articles/pvalues.html">here</a>
or the examples section below for examples of how to use.
</p>
<p><code>add_pvalue</code> is a refactored version of
<code>stat_pvalue_manual</code> from
<a href="https://github.com/kassambara/ggpubr">kassambara/ggpubr</a>, altered to
have less dependencies, and more flexibility with input format and
aesthetics. Any examples using <code>stat_pvalue_manual</code> found on
<a href="https://www.datanovia.com/en/?s=p-value&amp;search-type=default">Datanovia</a>
will also work with <code>add_pvalue</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_pvalue(
  data,
  label = NULL,
  xmin = "group1",
  xmax = "group2",
  x = NULL,
  y.position = "y.position",
  parse = FALSE,
  label.size = 3.2,
  colour = NULL,
  color = NULL,
  tip.length = 0.03,
  bracket.size = 0.6,
  bracket.colour = NULL,
  bracket.color = NULL,
  bracket.shorten = 0,
  bracket.nudge.y = 0,
  step.increase = 0,
  step.group.by = NULL,
  remove.bracket = FALSE,
  coord.flip = FALSE,
  position = "identity",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_pvalue_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> with the statistics to plot. Default format
has the following columns: <code>group1 | group2 | p.adj | y.position | etc</code>.
<code>group1</code> and <code>group2</code> are the two groups that were compared.
<code>p.adj</code> is the adjusted p-value. <code>y.position</code> is the y coordinate
that specifies where on the plot the p-value should go. The column names
can differ from the default as long as their are specified when calling
the function.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_label">label</code></td>
<td>
<p><code>string</code>. Name of column in <code>data</code> that
contains the text to plot (e.g. <code>label = "p.adj"</code>).
Can also be an expression that can be formatted by
<code><a href="glue.html#topic+glue">glue</a></code> (e.g. <code>label = "p = {p.adj}"</code>).</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_xmin">xmin</code></td>
<td>
<p><code>string</code>. Name of column in <code>data</code>  that
contains the position of the left side of the brackets.
Default is <code>"group1"</code>.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_xmax">xmax</code></td>
<td>
<p>Optional. <code>string</code>. Name of column in <code>data</code> that
contains the position of the right side of the brackets.
Default is <code>"group2"</code>. If <code>NULL</code>, the p-values are plotted as
text only.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_x">x</code></td>
<td>
<p><code>string</code> or <code>numeric</code>. x coordinate of the p-value text.
Only use when plotting p-value as text only (no brackets).</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_y.position">y.position</code></td>
<td>
<p><code>string</code>. Name of column in
<code>data</code> containing the y coordinates (<code>numeric</code>) of each p-value to
be plotted. Can also be a single number to plot all p-values at the same
height or a <code>numeric</code> vector that will override <code>data</code>.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_parse">parse</code></td>
<td>
<p><code>logical</code>. Default is <code>FALSE</code>. If <code>TRUE</code> the text labels will
be parsed into expressions and displayed as described in <code>?plotmath</code>.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_label.size">label.size</code></td>
<td>
<p><code>numeric</code>. Size of text.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_colour">colour</code>, <code id="add_pvalue_+3A_color">color</code></td>
<td>
<p><code>string</code>. Colour of text.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_tip.length">tip.length</code></td>
<td>
<p><code>numeric</code> vector. Length of bracket tips.
Use <code>0</code> to remove tips.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_bracket.size">bracket.size</code></td>
<td>
<p><code>numeric</code>. Line width of bracket.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_bracket.colour">bracket.colour</code>, <code id="add_pvalue_+3A_bracket.color">bracket.color</code></td>
<td>
<p><code>string</code>. Colour of bracket. Default is
<code>NULL</code> which causes brackets to inherit the colour of the text.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_bracket.shorten">bracket.shorten</code></td>
<td>
<p><code>numeric</code>. Shortens the brackets slightly to
allow them to be plotted side-by-side at the same y position.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_bracket.nudge.y">bracket.nudge.y</code></td>
<td>
<p><code>numeric</code>. Changes the y position of
p-values. Useful for slightly adjusting p-values if the text is cut off.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_step.increase">step.increase</code></td>
<td>
<p><code>numeric</code>. Changes the space between brackets.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_step.group.by">step.group.by</code></td>
<td>
<p><code>string</code>. Variable to group brackets by.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_remove.bracket">remove.bracket</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> all brackets are
removed and p-value is shown as text only.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_coord.flip">coord.flip</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> p-values are rotated by
90 degrees. Should be used with <code><a href="ggplot2.html#topic+coord_flip">coord_flip</a></code></p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_position">position</code></td>
<td>
<p><code>string</code> or call to position function such as
<code><a href="ggplot2.html#topic+position_dodge">position_dodge</a></code>. Typically used for adjusting x
position of p-values to be in line with dodged data.</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_...">...</code></td>
<td>
<p>Additional aesthetics or arguments passed to
<code><a href="ggplot2.html#topic+layer">layer</a></code>. See below for allowed values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <em>layer</em> ggproto object with either <code>geom = GeomBracket</code> or
<code>geom = GeomText</code>.
</p>


<h3>Allowed ... values</h3>

<p><code>add_pvalue</code> understands the following additional aesthetics or arguments:
</p>

<dl>
<dt><code>fontface</code></dt><dd><p><code>string</code>. Fontface of text (e.g. <code>"bold"</code>).</p>
</dd>
<dt><code>fontfamily</code></dt><dd><p><code>string</code>. Fontfamily of text (e.g. <code>"Arial"</code>).</p>
</dd>
<dt><code>hjust</code></dt><dd><p><code>numeric</code>. Horizontal justification of text.</p>
</dd>
<dt><code>vjust</code></dt><dd><p><code>numeric</code>. Vertical justification of text.</p>
</dd>
<dt><code>alpha</code></dt><dd><p><code>numeric</code>. Transparency of text and/or brackets.</p>
</dd>
<dt><code>linetype</code></dt><dd><p><code>string</code> or <code>numeric</code>. Linetype of brackets
(e.g. <code>"dashed"</code>).</p>
</dd>
<dt><code>lineend</code></dt><dd><p><code>string</code>. Lineend of brackets (e.g. <code>"butt"</code>).</p>
</dd>
<dt><code>na.rm</code></dt><dd><p><code>logical</code>. If <code>FALSE</code> (default), removes
missing values with a warning. If <code>TRUE</code> silently removes missing
values.</p>
</dd>
<dt><code>show.legend</code></dt><dd><p><code>logical</code>. Should this layer be included in
the legends? If <code>NA</code> (default), include if any aesthetics are mapped.
If <code>FALSE</code>, never include or if <code>TRUE</code>, always include. It can
also be a named <code>logical</code> vector to finely select the aesthetics to
display.</p>
</dd>
<dt><code>inherit.aes</code></dt><dd><p><code>logical</code>. If <code>FALSE</code>, overrides the
default aesthetics, rather than combining with them.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## we will use the ToothGrowth dataset for all examples
tg &lt;- ToothGrowth
tg$dose &lt;- as.factor(tg$dose)
tg$group &lt;- factor(rep(c("grp1", "grp2"), 30))

## p-value bracket comparing two means
# p-value table (its best to use these column names)
two.means &lt;- tibble::tribble(
  ~group1, ~group2, ~p,     ~y.position,
  "OJ",    "VC",    0.0606, 36
)

# boxplot (or another geom...)
ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(two.means)

# if your table has special column names you will need to specify them
two.means &lt;- tibble::tribble(
  ~apple, ~banana, ~my.pval, ~some.y.position,
  "OJ",    "VC",    0.0606,  36
)

ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(
    two.means,
    xmin = "apple",
    xmax = "banana",
    label = "my.pval",
    y.position = "some.y.position"
  )

## you can make the label a glue expression
two.means &lt;- tibble::tribble(
  ~group1, ~group2, ~p,     ~y.position,
  "OJ",    "VC",    0.0606, 36
)

ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(two.means, label = "p = {p}")

## you can change aesthetics of the bracket and label
ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(
    two.means,
    label = "p = {p}",
    colour = "red", # label
    label.size = 6, # label
    fontface = "bold", # label
    fontfamily = "serif", # label
    angle = 45, # label
    bracket.colour = "blue", # bracket
    bracket.size = 1, # bracket
    linetype = "dashed", # bracket
    lineend = "round" # bracket
  )

## you can change the tip length of the bracket
# make them longer
ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(two.means, tip.length = 0.1)

# make them disappear
ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(two.means, tip.length = 0)

# make one side longer than the other
ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(two.means, tip.length = c(0.1, 0))

## p-value brackets with comparisons to a reference sample
each.vs.ref &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj,   ~y.position,
  "0.5",   "1",     8.80e-14, 35,
  "0.5",   "2",     1.27e-7,  38
)

ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = dose)) +
  add_pvalue(each.vs.ref)

## p-value brackets with pairwise comparisons
pairwise &lt;- tibble::tribble(
  ~group1, ~group2,  ~p.signif, ~y.position,
  "0.5",   "1",      "****",    38,
  "0.5",   "2",      "****",    36,
  "1",     "2",      "****",    38
)

# you can shorten the length of brackets that are close together
ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = dose)) +
  add_pvalue(
    pairwise,
    bracket.shorten = c(0.05, 0, 0.05)
  )

# you can nudge brackets that are not quite in the correct y position
# instead of changing the p-value table
ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = dose)) +
  add_pvalue(
    pairwise,
    bracket.shorten = c(0.05, 0, 0.05),
    bracket.nudge.y = c(0.5, 0, 0.5)
  )

## p-value brackets with pairwise comparisons of grouped data
pairwise.grouped &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj,  ~y.position, ~supp,
  "0.5",   "1",     2.63e-4, 33.5,        "OJ",
  "0.5",   "2",     3.96e-6, 37.6,        "OJ",
  "1",     "2",     1.18e-1, 41.6,        "OJ",
  "0.5",   "1",     2.04e-6, 36.5,        "VC",
  "0.5",   "2",     1.40e-7, 40.6,        "VC",
  "1",     "2",     2.75e-4, 44.6,        "VC"
)

# use step.increase to change the spacing between different brackets in the
# groups specified by step.group.by
ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = supp)) +
  add_pvalue(
    pairwise.grouped,
    colour = "supp",
    tip.length = 0,
    step.group.by = "supp",
    step.increase = 0.03
  )

## p-value (brackets) with single facet variable
two.means.grouped1 &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj,  ~y.position, ~dose,
  "OJ",    "VC",    0.0127,  24,          "0.5",
  "OJ",    "VC",    0.00312, 30,          "1",
  "OJ",    "VC",    0.964,   36.5,        "2"
)

ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  facet_wrap(~ dose, scales = "free") +
  add_pvalue(two.means.grouped1) # table must have dose column

## p-value (brackets) with single facet variable and multiple brackets per facet
pairwise.grouped &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj,  ~y.position, ~supp,
  "0.5",   "1",     2.63e-4, 33.5,        "OJ",
  "0.5",   "2",     3.96e-6, 37.6,        "OJ",
  "1",     "2",     1.18e-1, 41.6,        "OJ",
  "0.5",   "1",     2.04e-6, 36.5,        "VC",
  "0.5",   "2",     1.40e-7, 40.6,        "VC",
  "1",     "2",     2.75e-4, 44.6,        "VC"
)

ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = supp)) +
  facet_wrap(~ supp) +
  add_pvalue(pairwise.grouped)

## p-value (brackets) with two facet variables
two.means.grouped2 &lt;- tibble::tribble(
  ~group1, ~group2, ~p.signif, ~y.position, ~group, ~dose,
  "OJ",    "VC",    "*",       21,          "grp1", "0.5",
  "OJ",    "VC",    "**",      30,          "grp2", "1"
)

ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  facet_wrap(group ~ dose) +
  add_pvalue(two.means.grouped2) # table must have dose and group column

## p-value (text only) comparing two means
two.means &lt;- tibble::tribble(
  ~group1, ~group2, ~p,     ~y.position,
  "OJ",    "VC",    0.0606, 36
)

ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(two.means, remove.bracket = TRUE, x = 1.5)

## p-value (text only) with coord_flip, override y.position, change angle
ggplot(tg, aes(x = supp, y = len)) +
  geom_boxplot() +
  add_pvalue(
    two.means,
    remove.bracket = TRUE,
    x = 1.5,
    y.position = 32,
    angle = 45
  ) +
  coord_flip()

## p-value (text only) comparing to the null
one.mean &lt;- tibble::tribble(
  ~group1, ~group2,      ~p.signif, ~y.position, ~dose,
  "1",     "null model", "****",    35,          "0.5",
  "1",     "null model", "****",    35,          "1",
  "1",     "null model", "****",    35,          "2"
)

ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = dose)) +
  add_pvalue(one.mean, x = "dose")

## p-value (text only) with comparisons to a base mean
each.vs.basemean &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj, ~y.position,
  "all",   "0.5",   "****", 35,
  "all",   "1",     "ns",   35,
  "all",   "2",     "****", 35
)

ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = dose)) +
  add_pvalue(each.vs.basemean)

## p-value (text only) with comparison to reference sample
each.vs.ref &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj,   ~y.position,
  "0.5",   "1",     8.80e-14, 35,
  "0.5",   "2",     1.27e-7,  38
)

ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = dose)) +
  add_pvalue(each.vs.ref, coord.flip = TRUE, remove.bracket = TRUE)

## p-value (text only) with a grouping variable
two.means.grouped1 &lt;- tibble::tribble(
  ~group1, ~group2, ~p.adj,  ~y.position, ~dose,
  "OJ",    "VC",    0.0127,  24,          "0.5",
  "OJ",    "VC",    0.00312, 30,          "1",
  "OJ",    "VC",    0.964,   36.5,        "2"
)

ggplot(tg, aes(x = dose, y = len)) +
  geom_boxplot(aes(fill = supp)) +
  add_pvalue(two.means.grouped1, x = "dose")
</code></pre>

<hr>
<h2 id='annotation_ticks'>Add ticks as ggplot annotation</h2><span id='topic+annotation_ticks'></span>

<h3>Description</h3>

<p>This is an annotation function to add tick marks (major, minor, or both) to
a ggplot. Clipping must be turned off if the ticks are to appear outside the
plotting area, for example with: <code>coord_cartesian(clip = "off")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotation_ticks(
  sides = "b",
  type = "both",
  outside = FALSE,
  tick.length = unit(4.8, "pt"),
  minor.length = unit(2.4, "pt"),
  linewidth = 0.6,
  colour = "black",
  color = NULL,
  linetype = 1,
  lineend = "butt",
  alpha = 1,
  data = data.frame(x = NA)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotation_ticks_+3A_sides">sides</code></td>
<td>
<p><code>string</code>. Indicates which sides of the plot should ticks
appear. Can be any of <code>"trbl"</code>, for top, right, bottom, left.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_type">type</code></td>
<td>
<p><code>string</code>. Types of ticks that appear. One of
<code>"major"</code>, <code>"minor"</code>, or <code>"both"</code>. Control number of ticks
by controlling the <code>breaks</code> and <code>minor_breaks</code> arguments in the
various ggplot2 <code style="white-space: pre;">&#8288;scale_(x|y)_&#8288;</code> functions.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_outside">outside</code></td>
<td>
<p><code>logical</code>. Should the ticks point outside of the plotting
area? If <code>TRUE</code> clipping must be turned off.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_tick.length">tick.length</code></td>
<td>
<p>a <code><a href="grid.html#topic+unit">unit</a></code> object specifying the length
of major ticks.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_minor.length">minor.length</code></td>
<td>
<p>a <code><a href="grid.html#topic+unit">unit</a></code> object specifying the length
of minor ticks.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_linewidth">linewidth</code></td>
<td>
<p><code>numeric</code>. Linewidth of ticks.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_colour">colour</code>, <code id="annotation_ticks_+3A_color">color</code></td>
<td>
<p><code>string</code>. Colour of ticks.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_linetype">linetype</code></td>
<td>
<p><code>string</code> or <code>numeric</code>. Linetype of tick marks.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_lineend">lineend</code></td>
<td>
<p><code>string</code>. Lineend of ticks. One of <code>"square"</code>
(default), <code>"butt"</code>, or <code>"round"</code>.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_alpha">alpha</code></td>
<td>
<p><code>numeric</code>. Transparency of ticks.</p>
</td></tr>
<tr><td><code id="annotation_ticks_+3A_data">data</code></td>
<td>
<p><code>data.frame</code>. Use this argument to control the appearance of
ticks on different facets. Pass a data.frame containing the levels from the
faceting variable you want to annotate specifically.
See <a href="https://stackoverflow.com/questions/20128582">here</a> for an example.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <em>layer</em> ggproto object with <code>geom = GeomTicks</code>.
</p>


<h3>Source</h3>

<p>The code is a slightly modified version of the answer to this
<a href="https://stackoverflow.com/questions/58485334">Stack Overflow</a> question,
which is itself a refactored version of this
<a href="https://github.com/hrbrmstr/ggalt/blob/master/R/annotation_ticks.r"><code>annotation_ticks()</code></a>
function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Generally it is better to use the guide_prism_minor function.
## However annotation_ticks is useful in a few specific situations.
library(ggplot2)

## easily put ticks without labels around a plot with a border
ggplot(mtcars, aes(x = mpg, y = disp)) +
  geom_point() +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(sides = "tr", type = "major", outside = TRUE) +
  theme(plot.margin = unit(c(4, 4, 4, 4), "mm"))

# the same but with minor ticks as well
ggplot(mtcars, aes(x = mpg, y = disp)) +
  geom_point() +
  scale_x_continuous(guide = "prism_minor") +
  scale_y_continuous(guide = "prism_minor") +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(sides = "tr", type = "both", outside = TRUE) +
  theme(plot.margin = unit(c(4, 4, 4, 4), "mm"))

# you can adjust the appearance of annotation_ticks
ggplot(mtcars, aes(x = mpg, y = disp)) +
  geom_point() +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(
    sides = "tr",
    type = "major",
    outside = TRUE,
    tick.length = unit(10, "pt"),
    colour = "red",
    linewidth = 2,
    linetype = "dashed",
    lineend = "round"
  ) +
  theme(plot.margin = unit(c(4, 4, 4, 4), "mm"))

## Unfortunately, due to the way they work, secondary axes don't always play
## well with the minor tick axes guides in this package.
## So we can use annotation_ticks instead.
sample.data &lt;- data.frame(
  day = as.Date("2019-01-01") + 0:99,
  temperature = runif(100) + seq(1, 100)^2.5 / 10000,
  price = runif(100) + seq(100, 1)^1.5 / 10
)

# sample graph with secondary axis
ggplot(sample.data, aes(x = day)) +
  geom_line(aes(y = temperature), colour = "magenta") +
  geom_line(aes(y = price / 10), colour = "blue") +
  scale_y_continuous(sec.axis = sec_axis(~. * 10, name = "price")) +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off")

# guide_prism_minor only works with the main axis in this case
ggplot(sample.data, aes(x = day)) +
  geom_line(aes(y = temperature), colour = "magenta") +
  geom_line(aes(y = price / 10), colour = "blue") +
  scale_y_continuous(
    sec.axis = sec_axis(~. * 10, name = "price"),
    guide = "prism_minor"
  ) +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off")

# we use annotation_ticks to draw the minor ticks on the secondary axis
ggplot(sample.data, aes(x = day)) +
  geom_line(aes(y = temperature), colour = "magenta") +
  geom_line(aes(y = price / 10), colour = "blue") +
  scale_y_continuous(
    sec.axis = sec_axis(~. * 10, name = "price"),
    guide = "prism_minor"
  ) +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off") +
  annotation_ticks(sides = "r", type = "minor", outside = TRUE)
</code></pre>

<hr>
<h2 id='draw_prism_bracket'>Grob for bracket axes</h2><span id='topic+draw_prism_bracket'></span>

<h3>Description</h3>

<p>Grob for bracket axes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_prism_bracket(
  break_positions,
  break_labels,
  axis_position,
  theme,
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1,
  width = NULL,
  outside = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_prism_bracket_+3A_break_positions">break_positions</code></td>
<td>
<p>Position of bracket center and labels</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_break_labels">break_labels</code></td>
<td>
<p>Labels between ticks</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_axis_position">axis_position</code></td>
<td>
<p>Position of axis (top, bottom, left or right)</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_theme">theme</code></td>
<td>
<p>A complete <code><a href="ggplot2.html#topic+theme">theme</a></code> object</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_check.overlap">check.overlap</code></td>
<td>
<p>Silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in
<code><a href="ggplot2.html#topic+theme">theme</a></code> / <code>element_text</code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and
<code>vjust</code> that you probably want.</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_width">width</code></td>
<td>
<p><code>numeric</code>. Controls the width of the bracket. Try
values between 0 and 1.</p>
</td></tr>
<tr><td><code id="draw_prism_bracket_+3A_outside">outside</code></td>
<td>
<p><code>logical</code>. Default is <code>TRUE</code> and brackets point
outwards. If <code>FALSE</code> the bracket crossbar is moved so the ticks appear
to point inwards towards the plotting area.</p>
</td></tr>
</table>

<hr>
<h2 id='draw_prism_minor'>Grob for axes with minor ticks</h2><span id='topic+draw_prism_minor'></span>

<h3>Description</h3>

<p>Grob for axes with minor ticks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_prism_minor(
  break_positions,
  break_labels,
  breaks_major,
  axis_position,
  theme,
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_prism_minor_+3A_break_positions">break_positions</code></td>
<td>
<p>position of ticks</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_break_labels">break_labels</code></td>
<td>
<p>labels at ticks</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_breaks_major">breaks_major</code></td>
<td>
<p>logical vector indicating major ticks versus minor ticks</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_axis_position">axis_position</code></td>
<td>
<p>position of axis (top, bottom, left or right)</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_theme">theme</code></td>
<td>
<p>A complete <code><a href="ggplot2.html#topic+theme">theme</a></code> object</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in
<code><a href="ggplot2.html#topic+theme">theme</a></code> / <code>element_text</code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and
<code>vjust</code> that you probably want.</p>
</td></tr>
<tr><td><code id="draw_prism_minor_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
</table>

<hr>
<h2 id='draw_prism_offset'>Grob for offset axes</h2><span id='topic+draw_prism_offset'></span>

<h3>Description</h3>

<p>Grob for offset axes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_prism_offset(
  break_positions,
  break_labels,
  axis_position,
  theme,
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_prism_offset_+3A_break_positions">break_positions</code></td>
<td>
<p>position of ticks</p>
</td></tr>
<tr><td><code id="draw_prism_offset_+3A_break_labels">break_labels</code></td>
<td>
<p>labels at ticks</p>
</td></tr>
<tr><td><code id="draw_prism_offset_+3A_axis_position">axis_position</code></td>
<td>
<p>position of axis (top, bottom, left or right)</p>
</td></tr>
<tr><td><code id="draw_prism_offset_+3A_theme">theme</code></td>
<td>
<p>A complete <code><a href="ggplot2.html#topic+theme">theme</a></code> object</p>
</td></tr>
<tr><td><code id="draw_prism_offset_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="draw_prism_offset_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in
<code><a href="ggplot2.html#topic+theme">theme</a></code> / <code>element_text</code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and
<code>vjust</code> that you probably want.</p>
</td></tr>
<tr><td><code id="draw_prism_offset_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
</table>

<hr>
<h2 id='draw_prism_offset_minor'>Grob for offset axes with minor ticks</h2><span id='topic+draw_prism_offset_minor'></span>

<h3>Description</h3>

<p>Grob for offset axes with minor ticks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_prism_offset_minor(
  break_positions,
  break_labels,
  breaks_major,
  axis_position,
  theme,
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_prism_offset_minor_+3A_break_positions">break_positions</code></td>
<td>
<p>position of ticks</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_break_labels">break_labels</code></td>
<td>
<p>labels at ticks</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_breaks_major">breaks_major</code></td>
<td>
<p>logical vector indicating major ticks versus minor ticks</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_axis_position">axis_position</code></td>
<td>
<p>position of axis (top, bottom, left or right)</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_theme">theme</code></td>
<td>
<p>A complete <code><a href="ggplot2.html#topic+theme">theme</a></code> object</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in
<code><a href="ggplot2.html#topic+theme">theme</a></code> / <code>element_text</code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and
<code>vjust</code> that you probably want.</p>
</td></tr>
<tr><td><code id="draw_prism_offset_minor_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
</table>

<hr>
<h2 id='GeomTicks'>ggproto classes for ggprism</h2><span id='topic+GeomTicks'></span><span id='topic+StatBracket'></span><span id='topic+GeomBracket'></span>

<h3>Description</h3>

<p>ggproto classes for ggprism
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatBracket

GeomBracket
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatBracket</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.
</p>
<p>An object of class <code>GeomBracket</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>

<hr>
<h2 id='ggprism_data'>Palettes and theme data for ggprism</h2><span id='topic+ggprism_data'></span>

<h3>Description</h3>

<p>This list object contains the strings and values used in
ggprism themes and palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggprism_data
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 4.
</p>

<hr>
<h2 id='guide_prism_bracket'>Axis guide with brackets</h2><span id='topic+guide_prism_bracket'></span>

<h3>Description</h3>

<p>This guide turns the axis into brackets drawn around each axis label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_prism_bracket(
  title = waiver(),
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1,
  order = 0,
  position = waiver(),
  width = NULL,
  outside = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_prism_bracket_+3A_title">title</code></td>
<td>
<p>A character string or expression indicating a title of guide.
If <code>NULL</code>, the title is not shown. By default
(<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>), the name of the scale object or the name
specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> is used for the title.</p>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in <code><a href="ggplot2.html#topic+theme">theme()</a></code> / <code><a href="ggplot2.html#topic+element_text">element_text()</a></code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that
you probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take the angles and <code>hjust</code>/<code>vjust</code> directly from the theme.
</p>
</li>
<li> <p><code>waiver()</code> to allow reasonable defaults in special cases.
</p>
</li>
<li><p> A number representing the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_order">order</code></td>
<td>
<p>A positive <code>integer</code> of length 1 that specifies the order of
this guide among multiple guides. This controls in which order guides are
merged if there are multiple guides for the same position. If 0 (default),
the order is determined by a secret algorithm.</p>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of top, bottom,
left, or right.</p>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_width">width</code></td>
<td>
<p><code>numeric</code>. Controls the width of the bracket. Try
values between 0 and 1.</p>
</td></tr>
<tr><td><code id="guide_prism_bracket_+3A_outside">outside</code></td>
<td>
<p><code>logical</code>. Default is <code>TRUE</code> and brackets point
outwards. If <code>FALSE</code> the bracket crossbar is moved so the ticks appear
to point inwards towards the plotting area.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of brackets can be adjusted using the <code>breaks</code>
argument in <code style="white-space: pre;">&#8288;scale_(x|y)_continuous()&#8288;</code> or <code style="white-space: pre;">&#8288;scale_(x|y)_discrete()&#8288;</code>.
</p>


<h3>Value</h3>

<p>Returns a <em>prism_bracket</em> guide class object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## base plot
base &lt;- ggplot(mpg, aes(x = as.factor(cyl), y = hwy)) +
  geom_jitter(width = 0.2) +
  theme(axis.line = element_line(colour = "black"))

## use brackets on x axis
# if not specified, the width of the brackets is guessed
base + scale_x_discrete(guide = "prism_bracket")

# you can add brackets using the guide function as well
base + guides(x = "prism_bracket")

## works with coord_flip
base + scale_x_discrete(guide = "prism_bracket") +
  coord_flip()

## adjust bracket width
base + scale_x_discrete(guide = guide_prism_bracket(width = 0.12))

## make brackets point inward
base + scale_x_discrete(guide = guide_prism_bracket(width = 0.12, outside = FALSE))

## change colour with the usual axis.line, axis.ticks, axis.text elements
base + scale_x_discrete(guide = guide_prism_bracket(width = 0.12, outside = FALSE)) +
  theme(axis.line.x = element_line(colour = "red"),
        axis.ticks.x = element_line(colour = "blue"),
        axis.text.x = element_text(colour = "green"))
</code></pre>

<hr>
<h2 id='guide_prism_minor'>Axis guide with minor ticks</h2><span id='topic+guide_prism_minor'></span>

<h3>Description</h3>

<p>This guide is like the standard <code><a href="ggplot2.html#topic+guide_axis">guide_axis</a></code>, but
with minor ticks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_prism_minor(
  title = waiver(),
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1,
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_prism_minor_+3A_title">title</code></td>
<td>
<p>A character string or expression indicating a title of guide.
If <code>NULL</code>, the title is not shown. By default
(<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>), the name of the scale object or the name
specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> is used for the title.</p>
</td></tr>
<tr><td><code id="guide_prism_minor_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="guide_prism_minor_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in <code><a href="ggplot2.html#topic+theme">theme()</a></code> / <code><a href="ggplot2.html#topic+element_text">element_text()</a></code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that
you probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take the angles and <code>hjust</code>/<code>vjust</code> directly from the theme.
</p>
</li>
<li> <p><code>waiver()</code> to allow reasonable defaults in special cases.
</p>
</li>
<li><p> A number representing the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_prism_minor_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
<tr><td><code id="guide_prism_minor_+3A_order">order</code></td>
<td>
<p>A positive <code>integer</code> of length 1 that specifies the order of
this guide among multiple guides. This controls in which order guides are
merged if there are multiple guides for the same position. If 0 (default),
the order is determined by a secret algorithm.</p>
</td></tr>
<tr><td><code id="guide_prism_minor_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of top, bottom,
left, or right.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of minor ticks can be changed using the <code>minor_breaks</code>
argument. Control the length of minor ticks by setting
<code>prism.ticks.length</code> to a <code><a href="grid.html#topic+unit">unit</a></code> object using
<code><a href="ggplot2.html#topic+theme">theme</a></code>, for example:
<code>prism.ticks.length = unit(2, "pt")</code>. The major tick lengths
are adjusted using the standard <code>axis.ticks.length</code>.
</p>


<h3>Value</h3>

<p>Returns a <em>prism_minor</em> guide class object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## base plot
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point()

## add minor ticks to x and y axes
base +
  scale_x_continuous(
    limits = c(0, 6),
    guide = "prism_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    guide = "prism_minor"
  )

## you can also use the guides function to add minor ticks
base +
  guides(x = "prism_minor", y = "prism_minor")

## adjust number of minor ticks by adjusting minor breaks
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_minor"
  )

## adjust the length of major ticks with the usual axis.ticks.length element
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_minor"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt")
  )

## adjust the length of minor ticks with a new prism.ticks.length element
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_minor"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt"),
    prism.ticks.length = unit(5, "pt")
  )

## to get log10 minor ticks just use a log10 scale and set the minor breaks
ggplot(msleep, aes(bodywt, brainwt)) +
  geom_point(na.rm = TRUE) +
  scale_x_log10(limits = c(1e0, 1e4),
                minor_breaks = rep(1:9, 4)*(10^rep(0:3, each = 9)),
                guide = "prism_minor")

## change colour with the usual axis.ticks element
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_minor"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt"),
    prism.ticks.length = unit(5, "pt"),
    axis.ticks = element_line(colour = "red")
  )
</code></pre>

<hr>
<h2 id='guide_prism_offset'>Offset axis guide</h2><span id='topic+guide_prism_offset'></span>

<h3>Description</h3>

<p>This guide draws the axis only as wide as the outermost tick marks,
similar to offset axes from Prism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_prism_offset(
  title = waiver(),
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1,
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_prism_offset_+3A_title">title</code></td>
<td>
<p>A character string or expression indicating a title of guide.
If <code>NULL</code>, the title is not shown. By default
(<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>), the name of the scale object or the name
specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> is used for the title.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in <code><a href="ggplot2.html#topic+theme">theme()</a></code> / <code><a href="ggplot2.html#topic+element_text">element_text()</a></code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that
you probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take the angles and <code>hjust</code>/<code>vjust</code> directly from the theme.
</p>
</li>
<li> <p><code>waiver()</code> to allow reasonable defaults in special cases.
</p>
</li>
<li><p> A number representing the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_prism_offset_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_+3A_order">order</code></td>
<td>
<p>A positive <code>integer</code> of length 1 that specifies the order of
this guide among multiple guides. This controls in which order guides are
merged if there are multiple guides for the same position. If 0 (default),
the order is determined by a secret algorithm.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of top, bottom,
left, or right.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Control the length of the axis by adjusting the <code>breaks</code> argument in
<code style="white-space: pre;">&#8288;scale_(x|y)_continuous()&#8288;</code> or <code style="white-space: pre;">&#8288;scale_(x|y)_discrete()&#8288;</code>.
</p>


<h3>Value</h3>

<p>Returns a <em>prism_offset</em> guide class object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## base plot
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point() +
  theme(axis.line = element_line(colour = "black"))

## use offset guide via scale_x/y_continuous
base +
  scale_x_continuous(
    limits = c(1, 6),
    breaks = seq(1, 6, by = 1),
    guide = "prism_offset"
  ) +
  scale_y_continuous(
    guide = "prism_offset"
  )

## use offset guide via guides argument
base +
  guides(x = "prism_offset", y = "prism_offset") +
  scale_x_continuous(
    limits = c(1, 6),
    breaks = seq(1, 6, by = 1)
  )

## change colour and tick length with the usual elements
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_offset"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_offset"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt"),
    axis.ticks = element_line(colour = "red"),
    axis.line = element_line(colour = "blue")
  )
</code></pre>

<hr>
<h2 id='guide_prism_offset_minor'>Offset axis guide with minor ticks</h2><span id='topic+guide_prism_offset_minor'></span>

<h3>Description</h3>

<p>This guide draws the axis only as wide as the outermost tick marks,
similar to offset axes from Prism. It also adds minor ticks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_prism_offset_minor(
  title = waiver(),
  check.overlap = FALSE,
  angle = NULL,
  n.dodge = 1,
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_prism_offset_minor_+3A_title">title</code></td>
<td>
<p>A character string or expression indicating a title of guide.
If <code>NULL</code>, the title is not shown. By default
(<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>), the name of the scale object or the name
specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> is used for the title.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_minor_+3A_check.overlap">check.overlap</code></td>
<td>
<p>silently remove overlapping labels,
(recursively) prioritizing the first, last, and middle labels.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_minor_+3A_angle">angle</code></td>
<td>
<p>Compared to setting the angle in <code><a href="ggplot2.html#topic+theme">theme()</a></code> / <code><a href="ggplot2.html#topic+element_text">element_text()</a></code>,
this also uses some heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that
you probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take the angles and <code>hjust</code>/<code>vjust</code> directly from the theme.
</p>
</li>
<li> <p><code>waiver()</code> to allow reasonable defaults in special cases.
</p>
</li>
<li><p> A number representing the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_prism_offset_minor_+3A_n.dodge">n.dodge</code></td>
<td>
<p>The number of rows (for vertical axes) or columns (for
horizontal axes) that should be used to render the labels. This is
useful for displaying labels that would otherwise overlap.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_minor_+3A_order">order</code></td>
<td>
<p>A positive <code>integer</code> of length 1 that specifies the order of
this guide among multiple guides. This controls in which order guides are
merged if there are multiple guides for the same position. If 0 (default),
the order is determined by a secret algorithm.</p>
</td></tr>
<tr><td><code id="guide_prism_offset_minor_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of top, bottom,
left, or right.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Control the length of the axis by adjusting the <code>breaks</code> argument in
<code style="white-space: pre;">&#8288;scale_(x|y)_continuous()&#8288;</code> or <code style="white-space: pre;">&#8288;scale_(x|y)_discrete()&#8288;</code>. Similarly,
the number of minor ticks can be changed using the <code>minor_breaks</code>
argument.
</p>
<p>Control the length of minor ticks by setting <code>prism.ticks.length</code> to
a <code><a href="grid.html#topic+unit">unit</a></code> object using <code><a href="ggplot2.html#topic+theme">theme</a></code>,
for example: <code>prism.ticks.length = unit(2, "pt")</code>. The major tick
lengths are adjusted using the standard <code>axis.ticks.length</code>.
</p>


<h3>Value</h3>

<p>Returns a <em>prism_offset_minor</em> guide class object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## base plot
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point() +
  theme(axis.line = element_line(colour = "black"))

## add minor ticks to x and y axes
base +
  scale_x_continuous(
    limits = c(0, 6),
    guide = "prism_offset_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    guide = "prism_offset_minor"
  )

## you can also use the guides function to add minor ticks
base +
  guides(x = "prism_offset_minor", y = "prism_offset_minor")

## adjust number of minor ticks by adjusting minor breaks
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_offset_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_offset_minor"
  )

## adjust the length of major ticks with the usual axis.ticks.length element
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_offset_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_offset_minor"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt")
  )

## adjust the length of minor ticks with a new prism.ticks.length element
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_offset_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_offset_minor"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt"),
    prism.ticks.length = unit(5, "pt")
  )

## to get log10 minor ticks just use a log10 scale and set the minor breaks
ggplot(msleep, aes(bodywt, brainwt)) +
  geom_point(na.rm = TRUE) +
  scale_x_log10(limits = c(1e0, 1e4),
                minor_breaks = rep(1:9, 4)*(10^rep(0:3, each = 9)),
                guide = "prism_offset_minor") +
  theme(axis.line = element_line(colour = "black"))

## change colour and tick length with the usual elements
base +
  scale_x_continuous(
    limits = c(0, 6),
    minor_breaks = seq(0, 6, 0.5),
    guide = "prism_offset_minor"
  ) +
  scale_y_continuous(
    limits = c(10, 35),
    minor_breaks = seq(10, 35, 1.25),
    guide = "prism_offset_minor"
  ) +
  theme(
    axis.ticks.length = unit(10, "pt"),
    prism.ticks.length = unit(5, "pt"),
    axis.ticks = element_line(colour = "red"),
    axis.line = element_line(colour = "blue")
  )
</code></pre>

<hr>
<h2 id='preview_theme'>Preview Prism themes</h2><span id='topic+preview_theme'></span>

<h3>Description</h3>

<p>Quickly generate a preview of a ggprism theme.
See <code>names(ggprism_data$themes)</code> for valid palette names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>preview_theme(palette)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="preview_theme_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <em>ggplot</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## see names of available themes
names(ggprism_data$themes)

## preview a theme
preview_theme("floral")
</code></pre>

<hr>
<h2 id='prism_colour_pal'>Prism colour palettes</h2><span id='topic+prism_colour_pal'></span><span id='topic+prism_color_pal'></span>

<h3>Description</h3>

<p>A collection of colour palettes which mirror the
colour schemes available in GraphPad Prism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prism_colour_pal(palette = "colors")

prism_color_pal(palette = "colors")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prism_colour_pal_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, use
<code>lengths(ggprism_data$colour_palettes)</code> to show all valid palette names
and their number of values each palette supports.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a function which takes a single integer as its only argument
and returns a character vector of hexadecimal colours.
See the examples below for usage.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## list all available colour palettes and their lengths
lengths(ggprism_data$colour_palettes)

## select some colours from a palette
prism_colour_pal(palette = "starry")(4)

## see all the colours in a specific palette
# define a function for convenience
library(scales)

show_palette &lt;- function(palette) {
  scales::show_col(
    prism_colour_pal(palette = palette)(
      attr(prism_colour_pal(palette = palette), "max_n")
    )
  )
}

# show the colours in the palette "pearl"
show_palette("pearl")
</code></pre>

<hr>
<h2 id='prism_fill_pal'>Prism fill palettes</h2><span id='topic+prism_fill_pal'></span>

<h3>Description</h3>

<p>A collection of fill palettes which mirror the
colour schemes available in GraphPad Prism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prism_fill_pal(palette = "colors")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prism_fill_pal_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, see
<code>lengths(ggprism_data$fill_palettes)</code>
for valid palette names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a function which takes a single integer as its only argument
and returns a character vector of hexadecimal colours.
See the examples below for usage.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## list all available fill palettes and their lengths
lengths(ggprism_data$fill_palettes)

## select some colours from a palette
prism_fill_pal(palette = "summer")(4)

## see all the colours in a specific palette
# define a function for convenience
library(scales)

show_palette &lt;- function(palette) {
  scales::show_col(
    prism_fill_pal(palette = palette)(
      attr(prism_fill_pal(palette = palette), "max_n")
    )
  )
}

# show the colours in the palette "pearl"
show_palette("floral")
</code></pre>

<hr>
<h2 id='prism_shape_pal'>Prism shape palettes</h2><span id='topic+prism_shape_pal'></span>

<h3>Description</h3>

<p>Shape palettes that approximate those used in GraphPad Prism.
No unicode characters are used, only the default symbols available in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prism_shape_pal(palette = c("default", "filled", "complete"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prism_shape_pal_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, one of: <code>default</code>,
<code>filled</code>, or <code>complete</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>default</code> palette supports up to 9 values. It does not use
any symbols with a fill.
</p>
<p>The <code>filled</code> palette supports up to 10 values. The first 5 symbols
have a fill.
</p>
<p>The <code>complete</code> palette supports up to 14 values. Symbols 5 to 9
have a fill.
</p>


<h3>Value</h3>

<p>Returns a function which takes a single integer as its only argument
and returns a character vector of integers which correspond to R plot pch
symbols.
See the examples below for usage.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## list all available shape palettes
ggprism_data$shape_palettes

## select some shapes from a palette
prism_shape_pal(palette = "filled")(4)

## see all the shapes in a specific palette
# define a function for convenience
show_shapes &lt;- function(palette) {
  df_shapes &lt;- ggprism_data$shape_palettes[[palette]][, -1]
  df_shapes$pch_f &lt;- factor(df_shapes$pch, levels = df_shapes$pch)

  ggplot(df_shapes, aes(x = 0, y = 0, shape = pch)) +
    geom_point(aes(shape = pch), size = 5, fill = 'red') +
    scale_shape_identity() +
    facet_wrap(~ pch_f) +
    theme_void()
}

# show the shapes in the palette "complete"
show_shapes("complete")
</code></pre>

<hr>
<h2 id='scale_colour_prism'>Prism colour scales (discrete)</h2><span id='topic+scale_colour_prism'></span><span id='topic+scale_color_prism'></span>

<h3>Description</h3>

<p>A collection of discrete colour scales that use palettes which mirror the
colour schemes available in GraphPad Prism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_prism(palette = "colors", ...)

scale_color_prism(palette = "colors", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_colour_prism_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, use
<code>lengths(ggprism_data$colour_palettes)</code> to show all valid palette names
and their number of values each palette supports.</p>
</td></tr>
<tr><td><code id="scale_colour_prism_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale</a></code>
</p>

<dl>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>breaks</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (the scale limits)
</p>
</li>
<li><p> A character vector of breaks
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>limits</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale values
</p>
</li>
<li><p> A character vector that defines possible values of the scale and their
order
</p>
</li>
<li><p> A function that accepts the existing (automatic) values and returns
new ones. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>expand</code></dt><dd><p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code><a href="ggplot2.html#topic+expansion">expansion()</a></code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</dd>
<dt><code>na.translate</code></dt><dd><p>Unlike continuous scales, discrete scales can easily show
missing values, and do so by default. If you want to remove missing values
from a discrete scale, specify <code>na.translate = FALSE</code>.</p>
</dd>
<dt><code>na.value</code></dt><dd><p>If <code>na.translate = TRUE</code>, what aesthetic value should the
missing values be displayed as? Does not apply to position scales
where <code>NA</code> is always placed at the far right.</p>
</dd>
<dt><code>drop</code></dt><dd><p>Should unused factor levels be omitted from the scale?
The default, <code>TRUE</code>, uses the levels that appear in the data;
<code>FALSE</code> uses all the levels in the factor.</p>
</dd>
<dt><code>guide</code></dt><dd><p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</dd>
<dt><code>position</code></dt><dd><p>For position scales, The position of the axis.
<code>left</code> or <code>right</code> for y axes, <code>top</code> or <code>bottom</code> for x axes.</p>
</dd>
<dt><code>call</code></dt><dd><p>The <code>call</code> used to construct the scale for reporting messages.</p>
</dd>
<dt><code>super</code></dt><dd><p>The super class to use for the constructed scale</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a ggproto object of class <em>ScaleDiscrete</em> which works with
<em>colour</em> aesthetics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## base plot
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg, colour = factor(cyl))) +
  geom_point(size = 3)

## works pretty much the same as ggplot2 scale_colour_manual
base +
  scale_colour_prism(palette = "candy_bright")

## try combining the ggprism colour and fill scales
base2 &lt;- ggplot(mpg, aes(x = class, y = hwy, fill = class, colour = class)) +
  geom_boxplot()

base2 +
  scale_fill_prism(palette = "floral") +
  scale_colour_prism(palette = "floral")

## change colour scale title in legend
base +
  scale_colour_prism(
    palette = "candy_bright",
    name = "Cylinders"
  )

## change colour labels in legend
base +
  scale_colour_prism(
    palette = "candy_bright",
    name = "Cylinders",
    label = c("4 cyl", "6 cyl", "8 cyl")
  )

## change colour labels in legend with a function
base +
  scale_colour_prism(
    palette = "candy_bright",
    name = "Cylinders",
    label = function(x) paste(x, "cyl")
  )

## change order of colours in legend
base +
  scale_colour_prism(
    palette = "candy_bright",
    name = "Cylinders",
    label = function(x) paste(x, "cyl"),
    breaks = c(8, 4, 6)
  )

## to change which colour is assigned to which cyl
## you need to change the factor levels in the underlying data
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg,
                           colour = factor(cyl, levels = c(6, 4, 8)))) +
  geom_point(size = 3)

base +
  scale_colour_prism(
    palette = "candy_bright",
    name = "Cylinders"
  )
</code></pre>

<hr>
<h2 id='scale_fill_prism'>Prism fill scales (discrete)</h2><span id='topic+scale_fill_prism'></span>

<h3>Description</h3>

<p>A collection of discrete fill scales that use palettes which mirror the
colour schemes available in GraphPad Prism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_prism(palette = "colors", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_prism_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, see
<code>lengths(ggprism_data$fill_palettes)</code>
for valid palette names.</p>
</td></tr>
<tr><td><code id="scale_fill_prism_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale</a></code>
</p>

<dl>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>breaks</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (the scale limits)
</p>
</li>
<li><p> A character vector of breaks
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>limits</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale values
</p>
</li>
<li><p> A character vector that defines possible values of the scale and their
order
</p>
</li>
<li><p> A function that accepts the existing (automatic) values and returns
new ones. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>expand</code></dt><dd><p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code><a href="ggplot2.html#topic+expansion">expansion()</a></code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</dd>
<dt><code>na.translate</code></dt><dd><p>Unlike continuous scales, discrete scales can easily show
missing values, and do so by default. If you want to remove missing values
from a discrete scale, specify <code>na.translate = FALSE</code>.</p>
</dd>
<dt><code>na.value</code></dt><dd><p>If <code>na.translate = TRUE</code>, what aesthetic value should the
missing values be displayed as? Does not apply to position scales
where <code>NA</code> is always placed at the far right.</p>
</dd>
<dt><code>drop</code></dt><dd><p>Should unused factor levels be omitted from the scale?
The default, <code>TRUE</code>, uses the levels that appear in the data;
<code>FALSE</code> uses all the levels in the factor.</p>
</dd>
<dt><code>guide</code></dt><dd><p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</dd>
<dt><code>position</code></dt><dd><p>For position scales, The position of the axis.
<code>left</code> or <code>right</code> for y axes, <code>top</code> or <code>bottom</code> for x axes.</p>
</dd>
<dt><code>call</code></dt><dd><p>The <code>call</code> used to construct the scale for reporting messages.</p>
</dd>
<dt><code>super</code></dt><dd><p>The super class to use for the constructed scale</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a ggproto object of class <em>ScaleDiscrete</em> which works with
<em>fill</em> aesthetics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## base plot
base &lt;- ggplot(mtcars, aes(x = mpg, fill = factor(cyl))) +
  geom_density(alpha = 0.75)

## works pretty much the same as ggplot2 scale_fill_manual
base +
  scale_fill_prism(palette = "candy_bright")

## try combining the ggprism colour and fill scales
base2 &lt;- ggplot(mtcars, aes(x = mpg, fill = factor(cyl), colour = factor(cyl))) +
  geom_density(alpha = 0.75)

base2 +
  scale_fill_prism(palette = "floral") +
  scale_colour_prism(palette = "floral")

## change fill scale title in legend
base +
  scale_fill_prism(
    palette = "candy_bright",
    name = "Cylinders"
  )

## change fill labels in legend
base +
  scale_fill_prism(
    palette = "candy_bright",
    name = "Cylinders",
    label = c("4 cyl", "6 cyl", "8 cyl")
  )

## change fill labels in legend with a function
base +
  scale_fill_prism(
    palette = "candy_bright",
    name = "Cylinders",
    label = function(x) paste(x, "cyl")
  )

## change order of fills in legend
base +
  scale_fill_prism(
    palette = "candy_bright",
    name = "Cylinders",
    label = function(x) paste(x, "cyl"),
    breaks = c(8, 4, 6)
  )

## to change which fill is assigned to which cyl
## you need to change the factor levels in the underlying data
base &lt;- ggplot(mtcars, aes(x = mpg,
                           fill = factor(cyl, levels = c(6, 4, 8)))) +
  geom_density(alpha = 0.75)

base +
  scale_fill_prism(
    palette = "candy_bright",
    name = "Cylinders"
  )
</code></pre>

<hr>
<h2 id='scale_shape_prism'>Prism shape scales (discrete)</h2><span id='topic+scale_shape_prism'></span>

<h3>Description</h3>

<p>Shape scales that approximate those used in GraphPad Prism.
No unicode characters are used, only the default symbols available in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_shape_prism(palette = "default", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_shape_prism_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, one of: <code>default</code>,
<code>filled</code>, or <code>complete</code>.</p>
</td></tr>
<tr><td><code id="scale_shape_prism_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale</a></code>
</p>

<dl>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>breaks</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (the scale limits)
</p>
</li>
<li><p> A character vector of breaks
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>limits</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale values
</p>
</li>
<li><p> A character vector that defines possible values of the scale and their
order
</p>
</li>
<li><p> A function that accepts the existing (automatic) values and returns
new ones. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>expand</code></dt><dd><p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code><a href="ggplot2.html#topic+expansion">expansion()</a></code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</dd>
<dt><code>na.translate</code></dt><dd><p>Unlike continuous scales, discrete scales can easily show
missing values, and do so by default. If you want to remove missing values
from a discrete scale, specify <code>na.translate = FALSE</code>.</p>
</dd>
<dt><code>na.value</code></dt><dd><p>If <code>na.translate = TRUE</code>, what aesthetic value should the
missing values be displayed as? Does not apply to position scales
where <code>NA</code> is always placed at the far right.</p>
</dd>
<dt><code>drop</code></dt><dd><p>Should unused factor levels be omitted from the scale?
The default, <code>TRUE</code>, uses the levels that appear in the data;
<code>FALSE</code> uses all the levels in the factor.</p>
</dd>
<dt><code>guide</code></dt><dd><p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</dd>
<dt><code>position</code></dt><dd><p>For position scales, The position of the axis.
<code>left</code> or <code>right</code> for y axes, <code>top</code> or <code>bottom</code> for x axes.</p>
</dd>
<dt><code>call</code></dt><dd><p>The <code>call</code> used to construct the scale for reporting messages.</p>
</dd>
<dt><code>super</code></dt><dd><p>The super class to use for the constructed scale</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>default</code> palette supports up to 9 values. It does not use
any symbols with a fill.
</p>
<p>The <code>filled</code> palette supports up to 10 values. The first 5 symbols
have a fill.
</p>
<p>The <code>complete</code> palette supports up to 14 values. Symbols 5 to 9
have a fill.
</p>


<h3>Value</h3>

<p>Returns a ggproto object of class <em>ScaleDiscrete</em> which works with
<em>shape</em> aesthetics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

## list all available shape palettes
ggprism_data$shape_palettes

## define a base plot
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg,
                           shape = factor(cyl))) +
  geom_point(size = 3)

## works pretty much the same as ggplot2 scale_shape_manual
base +
  scale_shape_prism(palette = "complete")

## change shape scale title in legend
base +
  scale_shape_prism(
    palette = "default",
    name = "Cylinders"
  )

## change shape labels in legend
base +
  scale_shape_prism(
    palette = "default",
    name = "Cylinders",
    label = c("4 cyl", "6 cyl", "8 cyl")
  )

## change shape labels in legend with a function
base +
  scale_shape_prism(
    palette = "default",
    name = "Cylinders",
    label = function(x) paste(x, "cyl")
  )

## change order of shapes in legend
base +
  scale_shape_prism(
    palette = "default",
    name = "Cylinders",
    label = function(x) paste(x, "cyl"),
    breaks = c(8, 4, 6)
  )

## to change which shape is assigned to which cyl
## you need to change the factor levels in the underlying data
base &lt;- ggplot(mtcars, aes(x = wt, y = mpg,
                           shape = factor(cyl, levels = c(6, 4, 8)))) +
  geom_point(size = 3)

base +
  scale_shape_prism(
    palette = "default",
    name = "Cylinders"
  )

## see all the shapes in a specific palette
# define a function for convenience
show_shapes &lt;- function(palette) {
  df_shapes &lt;- ggprism_data$shape_palettes[[palette]][, -1]
  df_shapes$pch_f &lt;- factor(df_shapes$pch, levels = df_shapes$pch)

  ggplot(df_shapes, aes(x = 0, y = 0, shape = pch)) +
    geom_point(aes(shape = pch), size = 5, fill = 'red') +
    scale_shape_identity() +
    facet_wrap(~ pch_f) +
    theme_void()
}

# show the shapes in the palette "complete"
show_shapes("complete")
</code></pre>

<hr>
<h2 id='theme_prism'>Prism themes</h2><span id='topic+theme_prism'></span>

<h3>Description</h3>

<p>A collection of ggplot2 themes that use palettes which mirror the
colour schemes available in GraphPad Prism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_prism(
  palette = "black_and_white",
  base_size = 14,
  base_family = "sans",
  base_fontface = "bold",
  base_line_size = base_size/14,
  base_rect_size = base_size/14,
  axis_text_angle = 0,
  border = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_prism_+3A_palette">palette</code></td>
<td>
<p><code>string</code>. Palette name, use
<code>names(ggprism_data$themes)</code> to show all valid palette names.</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_base_size">base_size</code></td>
<td>
<p><code>numeric</code>. Base font size, given in <code>"pt"</code>.</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_base_family">base_family</code></td>
<td>
<p><code>string</code>. Base font family, default is <code>"sans"</code>.</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_base_fontface">base_fontface</code></td>
<td>
<p><code>string</code>. Base font face, default is <code>"bold"</code>.</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_base_line_size">base_line_size</code></td>
<td>
<p><code>numeric</code>. Base linewidth for line elements</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_base_rect_size">base_rect_size</code></td>
<td>
<p><code>numeric</code>. Base linewidth for rect elements</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_axis_text_angle">axis_text_angle</code></td>
<td>
<p><code>integer</code>. Angle of axis text in degrees.
One of: <code style="white-space: pre;">&#8288;0, 45, 90, 270&#8288;</code>.</p>
</td></tr>
<tr><td><code id="theme_prism_+3A_border">border</code></td>
<td>
<p><code>logical</code>. Should a border be drawn around the plot?
Clipping will occur unless e.g. <code>coord_cartesian(clip = "off")</code> is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list-like object of class <em>theme</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# see ?preview_theme for a convenient function to preview ggprism themes
# before using theme_prism

## base plot
base &lt;- ggplot(mpg, aes(x = displ, y = cty, colour = class)) +
  geom_point()

## default palette is "black_and_white"
## default base_size is 14 (compared with 11 for theme_grey)
base +
  theme_prism()

## try some other palettes
base +
  theme_prism(palette = "office")

base +
  theme_prism(palette = "flames")

## try matching the theme_prism palette with same colour palette
base +
  theme_prism(palette = "stained_glass") +
  scale_color_prism(palette = "stained_glass")

base +
  theme_prism(palette = "candy_bright") +
  scale_color_prism(palette = "candy_bright")

## change the font face
base +
  theme_prism(base_fontface = "plain")

## change the font family
base +
  theme_prism(base_family = "serif")

## base_line_size scales automatically as you change base_size
base +
  theme_prism(base_size = 10)

## but you can also change it manually
base +
  theme_prism(base_size = 16, base_line_size = 0.8)

## easily change x axis text angle
base +
  theme_prism(axis_text_angle = 45)

## add a border (need to turn off clipping)
base +
  theme_prism(border = TRUE) +
  coord_cartesian(clip = "off")

## change border thickness
base +
  theme_prism(border = TRUE, base_rect_size = 2) +
  coord_cartesian(clip = "off")
</code></pre>

<hr>
<h2 id='wings'>Wing morphology of mutant flies</h2><span id='topic+wings'></span>

<h3>Description</h3>

<p>Fold changes of different measures of wing morphology in heterozygous
(Tps1MIC/+) and homozygous (Tps1MIC) Tps1 mutant flies. Data are expressed
as percentage change relative to the mean of the heterozygous mutants.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wings
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 120 rows and 4 columns.
</p>


<h3>Details</h3>

<p>40 flies were measured in total, with 3 measurements taken per fly.
</p>

<dl>
<dt>sex</dt><dd><p><code>factor</code>. Male or female.</p>
</dd>
<dt>genotype</dt><dd><p><code>factor</code>. Heterozygous (Tps1MIC/+) or homozygous (Tps1MIC) mutant</p>
</dd>
<dt>measure</dt><dd><p><code>factor</code>. Type of wing measurement: wing size, cell size, or cell number</p>
</dd>
<dt>percent.change</dt><dd><p><code>double</code>. Value measured.</p>
</dd>
</dl>



<h3>References</h3>

<p>Matsushita, R, Nishimura, T. Trehalose
metabolism confers developmental robustness and stability in
<em>Drosophila</em> by regulating glucose homeostasis. Commun Biol 3, 170
(2020). <a href="https://doi.org/10.1038/s42003-020-0889-1">doi:10.1038/s42003-020-0889-1</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

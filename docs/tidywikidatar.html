<!DOCTYPE html><html><head><title>Help for package tidywikidatar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidywikidatar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
<li><a href='#tw_check_cache'><p>Check caching status in the current session, and override it upon request</p></a></li>
<li><a href='#tw_check_cache_folder'><p>Checks if cache folder exists, if not returns an informative message</p></a></li>
<li><a href='#tw_check_cache_index'><p>Check if cache table is indexed</p></a></li>
<li><a href='#tw_check_cached_items'><p>Check if given items are present in cache</p></a></li>
<li><a href='#tw_check_qid'><p>Ensures that input appears to be a valid Wikidata id</p></a></li>
<li><a href='#tw_check_search'><p>Checks if an input is a search; if not, it tries to return a search</p></a></li>
<li><a href='#tw_connect_to_cache'><p>Return a connection to be used for caching</p></a></li>
<li><a href='#tw_create_cache_folder'><p>Creates the base cache folder where <code>tidywikidatar</code> caches data.</p></a></li>
<li><a href='#tw_disable_cache'><p>Disable caching for the current session</p></a></li>
<li><a href='#tw_disconnect_from_cache'><p>Ensure that connection to cache is disconnected consistently</p></a></li>
<li><a href='#tw_empty_image_metadata'><p>A zero-rows tibble used internally when <code>tw_get_image_metadata()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_item'><p>A zero-rows tibble used internally when <code>tw_get()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_qualifiers'><p>A zero-rows tibble used internally when <code>tw_get_qualifiers()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_search'><p>A zero-rows tibble used internally when <code>tw_search()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_wikipedia_category_members'><p>A zero-rows tibble used internally when <code>tw_empty_wikipedia_category_members()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_wikipedia_page'><p>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_qid()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_wikipedia_page_links'><p>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_links()</code> would not return any value.</p></a></li>
<li><a href='#tw_empty_wikipedia_page_sections'><p>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_sections()</code> would not return any value.</p></a></li>
<li><a href='#tw_enable_cache'><p>Enable caching for the current session</p></a></li>
<li><a href='#tw_extract_qualifier'><p>Extract qualifiers from an object of class Wikidata created with <code>WikidataR</code></p></a></li>
<li><a href='#tw_extract_single'><p>Extract item data from an object of class Wikidata created with <code>WikidataR</code></p></a></li>
<li><a href='#tw_filter'><p>Filter search result and keep only items with matching property and Q identifier</p></a></li>
<li><a href='#tw_filter_first'><p>Filter search result and keep only and keep only the first match</p></a></li>
<li><a href='#tw_filter_people'><p>Filter search result and keep only people</p></a></li>
<li><a href='#tw_get'><p>Return (most) information from a Wikidata item in a tidy format</p></a></li>
<li><a href='#tw_get_all_with_p'><p>Get all items that have a given property (irrespective of the value)</p></a></li>
<li><a href='#tw_get_cache_db'><p>Get database connection settings from the environment</p></a></li>
<li><a href='#tw_get_cache_file'><p>Gets location of cache file</p></a></li>
<li><a href='#tw_get_cache_table_name'><p>Gets name of table inside the database</p></a></li>
<li><a href='#tw_get_cached_item'><p>Retrieve cached item</p></a></li>
<li><a href='#tw_get_cached_qualifiers'><p>Retrieve cached qualifier</p></a></li>
<li><a href='#tw_get_cached_search'><p>Retrieve cached search</p></a></li>
<li><a href='#tw_get_cached_wikipedia_category_members'><p>Gets members of Wikipedia categories from local cache</p></a></li>
<li><a href='#tw_get_cached_wikipedia_page_links'><p>Gets links of Wikipedia pages from local cache</p></a></li>
<li><a href='#tw_get_cached_wikipedia_page_qid'><p>Gets id of Wikipedia pages from local cache</p></a></li>
<li><a href='#tw_get_cached_wikipedia_page_sections'><p>Gets sections of Wikipedia pages from local cache</p></a></li>
<li><a href='#tw_get_description'><p>Get Wikidata description in given language</p></a></li>
<li><a href='#tw_get_field'><p>Gets a field such a label or description from a dataframe typically generated with <code>tw_get()</code></p></a></li>
<li><a href='#tw_get_image'><p>Get image from Wikimedia Commons</p></a></li>
<li><a href='#tw_get_image_metadata'><p>Get metadata for images from Wikimedia Commons</p></a></li>
<li><a href='#tw_get_image_metadata_single'><p>Get metadata for images from Wikimedia Commons</p></a></li>
<li><a href='#tw_get_image_same_length'><p>Get image from Wikimedia Commons</p></a></li>
<li><a href='#tw_get_label'><p>Get Wikidata label in given language</p></a></li>
<li><a href='#tw_get_p_wide'><p>Efficiently get a wide table with various properties of a given set of</p>
Wikidata identifiers</a></li>
<li><a href='#tw_get_p1'><p>Get Wikidata property of an item as a character vector of the same length as input</p></a></li>
<li><a href='#tw_get_property'><p>Get Wikidata property of one or more items as a tidy data frame</p></a></li>
<li><a href='#tw_get_property_description'><p>Get description of a Wikidata property in a given language</p></a></li>
<li><a href='#tw_get_property_label'><p>Get label of a Wikidata property in a given language</p></a></li>
<li><a href='#tw_get_property_label_single'><p>Get label of a Wikidata property in a given language</p></a></li>
<li><a href='#tw_get_property_same_length'><p>Get Wikidata property of an item as a vector or list of the same length as input</p></a></li>
<li><a href='#tw_get_property_with_details'><p>Gets all details of a property</p></a></li>
<li><a href='#tw_get_property_with_details_single'><p>Gets all details of a property</p></a></li>
<li><a href='#tw_get_qualifiers'><p>Get Wikidata qualifiers for a given property of a given item</p></a></li>
<li><a href='#tw_get_qualifiers_single'><p>Get Wikidata qualifiers for a given property of a given item</p></a></li>
<li><a href='#tw_get_single'><p>Return (most) information from a Wikidata item in a tidy format from a single Wikidata identifier</p></a></li>
<li><a href='#tw_get_wikipedia'><p>Get URL to a Wikipedia article corresponding to a Wikidata Q identifier in given language</p></a></li>
<li><a href='#tw_get_wikipedia_base_api_url'><p>Facilitates the creation of MediaWiki API base URLs</p></a></li>
<li><a href='#tw_get_wikipedia_category_members'><p>Get all Wikidata Q identifiers of all Wikipedia pages (or files, or subcategories) that are members of the given category,</p></a></li>
<li><a href='#tw_get_wikipedia_category_members_single'><p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page</p></a></li>
<li><a href='#tw_get_wikipedia_page_links'><p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in one or more pages</p></a></li>
<li><a href='#tw_get_wikipedia_page_links_single'><p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page</p></a></li>
<li><a href='#tw_get_wikipedia_page_qid'><p>Gets the Wikidata Q identifier of one or more Wikipedia pages</p></a></li>
<li><a href='#tw_get_wikipedia_page_qid_single'><p>Gets the Wikidata id of a Wikipedia page</p></a></li>
<li><a href='#tw_get_wikipedia_page_section_links'><p>Get links from a specific section of a Wikipedia page</p></a></li>
<li><a href='#tw_get_wikipedia_page_sections'><p>Get sections of a Wikipedia page</p></a></li>
<li><a href='#tw_get_wikipedia_page_sections_single'><p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page</p></a></li>
<li><a href='#tw_get_wikipedia_section_links_api_url'><p>Facilitates the creation of MediaWiki API base URLs to retrieve sections of a page</p></a></li>
<li><a href='#tw_get_wikipedia_sections_api_url'><p>Facilitates the creation of MediaWiki API base URLs to retrieve sections of a page</p></a></li>
<li><a href='#tw_index_cache_item'><p>Add index to caching table for search queries for increased speed</p></a></li>
<li><a href='#tw_index_cache_search'><p>Add index to caching table for search queries for increased speed</p></a></li>
<li><a href='#tw_label'><p>Gets labels for all columns with names such as &quot;id&quot; and &quot;property&quot;.</p></a></li>
<li><a href='#tw_qid_airports'><p>The Wikidata Q identifier of European airports found in Eurostat's <code>avia_par_</code> dataset</p></a></li>
<li><a href='#tw_qid_meps'><p>The Wikidata Q identifier of all members of the European Parliament since its establishment</p></a></li>
<li><a href='#tw_query'><p>Perform simple Wikidata queries</p></a></li>
<li><a href='#tw_reset_item_cache'><p>Reset qualifiers cache</p></a></li>
<li><a href='#tw_reset_qualifiers_cache'><p>Reset qualifiers cache</p></a></li>
<li><a href='#tw_reset_wikipedia_category_members_cache'><p>Reset Wikipedia category members cache</p></a></li>
<li><a href='#tw_reset_wikipedia_page_cache'><p>Reset Wikipedia page cache</p></a></li>
<li><a href='#tw_reset_wikipedia_page_links_cache'><p>Reset Wikipedia page link cache</p></a></li>
<li><a href='#tw_reset_wikipedia_page_sections_cache'><p>Reset Wikipedia page link cache</p></a></li>
<li><a href='#tw_search'><p>Search for Wikidata items or properties and return Wikidata id, label, and description.</p></a></li>
<li><a href='#tw_search_item'><p>Search for Wikidata properties in Wikidata and return Wikidata id, label, and description.</p></a></li>
<li><a href='#tw_search_property'><p>Search for Wikidata properties in Wikidata and return Wikidata id, label, and description.</p></a></li>
<li><a href='#tw_search_single'><p>Search for Wikidata items or properties and return Wikidata id, label, and description.</p></a></li>
<li><a href='#tw_set_cache_db'><p>Set database connection settings for the session</p></a></li>
<li><a href='#tw_set_cache_folder'><p>Set folder for caching data</p></a></li>
<li><a href='#tw_set_language'><p>Set language to be used by all functions</p></a></li>
<li><a href='#tw_test_items'><p>A list mostly used for testing with some Wikidata items in the format resulting from <code>WikidataR::get_item()</code></p></a></li>
<li><a href='#tw_write_item_to_cache'><p>Writes item to cache</p></a></li>
<li><a href='#tw_write_qid_of_wikipedia_page_to_cache'><p>Write Wikidata identifier (qid) of Wikipedia page to cache</p></a></li>
<li><a href='#tw_write_qualifiers_to_cache'><p>Write qualifiers to cache</p></a></li>
<li><a href='#tw_write_search_to_cache'><p>Writes search to cache</p></a></li>
<li><a href='#tw_write_wikipedia_category_members_to_cache'><p>Write Wikipedia page links to cache</p></a></li>
<li><a href='#tw_write_wikipedia_page_links_to_cache'><p>Write Wikipedia page links to cache</p></a></li>
<li><a href='#tw_write_wikipedia_page_sections_to_cache'><p>Write Wikipedia page links to cache</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Explore 'Wikidata' Through Tidy Data Frames</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Query 'Wikidata' API <a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">https://www.wikidata.org/wiki/Wikidata:Main_Page</a> with ease, get tidy data frames in response, and cache data in a local database.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, dplyr, tidyr, WikidataR, stringr, glue, DBI,
RSQLite, tibble, purrr, usethis, WikidataQueryServiceR, fs,
rlang (&ge; 0.1.2), progress, jsonlite, pool, WikipediR, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling, roxygen2, testthat (&ge; 3.0.0), knitr, rmarkdown,
odbc, assertthat</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://edjnet.github.io/tidywikidatar/">https://edjnet.github.io/tidywikidatar/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-10 07:55:38 UTC; g</td>
</tr>
<tr>
<td>Author:</td>
<td>Giorgio Comai <a href="https://orcid.org/0000-0002-0515-9542"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  EDJNet [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Giorgio Comai &lt;giorgio.comai@cci.tn.it&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-10 08:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span><span id='topic+expr'></span><span id='topic+enquo'></span><span id='topic+enquos'></span><span id='topic+sym'></span><span id='topic+syms'></span><span id='topic+.data'></span><span id='topic++3A+3D'></span><span id='topic+as_name'></span><span id='topic+as_label'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="rlang.html#topic+sym">sym</a>()</code> creates a symbol from a string and
<code><a href="rlang.html#topic+sym">syms</a>()</code> creates a list of symbols from a
character vector.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">enquo</a>()</code> and
<code><a href="rlang.html#topic+nse-defuse">enquos</a>()</code> delay the execution of one or
several function arguments. <code>enquo()</code> returns a single quoted
expression, which is like a blueprint for the delayed computation.
<code>enquos()</code> returns a list of such quoted expressions.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">expr</a>()</code> quotes a new expression <em>locally</em>. It
is mostly useful to build new expressions around arguments
captured with <code><a href="#topic+enquo">enquo()</a></code> or <code><a href="#topic+enquos">enquos()</a></code>:
<code>expr(mean(!!enquo(arg), na.rm = TRUE))</code>.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+as_name">as_name</a>()</code> transforms a quoted variable name
into a string. Supplying something else than a quoted variable
name is an error.
</p>
<p>That's unlike <code><a href="rlang.html#topic+as_label">as_label</a>()</code> which also returns
a single string but supports any kind of R object as input,
including quoted function calls and vectors. Its purpose is to
summarise that object into a single label. That label is often
suitable as a default name.
</p>
<p>If you don't know what a quoted expression contains (for instance
expressions captured with <code>enquo()</code> could be a variable
name, a call to a function, or an unquoted constant), then use
<code>as_label()</code>. If you know you have quoted a simple variable
name, or would like to enforce this, use <code>as_name()</code>.
</p>
</li></ul>


<hr>
<h2 id='tw_check_cache'>Check caching status in the current session, and override it upon request</h2><span id='topic+tw_check_cache'></span>

<h3>Description</h3>

<p>Mostly used internally in functions, exported for reference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_check_cache(cache = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_check_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If NULL, checks current cache settings. If given, returns given value, ignoring cache.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either TRUE or FALSE, depending on current cache settings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_check_cache()
}

</code></pre>

<hr>
<h2 id='tw_check_cache_folder'>Checks if cache folder exists, if not returns an informative message</h2><span id='topic+tw_check_cache_folder'></span>

<h3>Description</h3>

<p>Checks if cache folder exists, if not returns an informative message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_check_cache_folder()
</code></pre>


<h3>Value</h3>

<p>If the cache folder exists, returns TRUE. Otherwise throws an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# If cache folder does not exist, it throws an error
tryCatch(tw_check_cache_folder(),
  error = function(e) {
    return(e)
  }
)

# Create cache folder
tw_set_cache_folder(path = fs::path(
  tempdir(),
  "tw_cache_folder"
))
tw_create_cache_folder(ask = FALSE)

tw_check_cache_folder()
</code></pre>

<hr>
<h2 id='tw_check_cache_index'>Check if cache table is indexed</h2><span id='topic+tw_check_cache_index'></span>

<h3>Description</h3>

<p>Tested only with SQLite and MySql. May work with other drivers. Used to check if given cache table is indexed (if created with any version of <code>tidywikidatar</code> before 0.6, they are probably not indexed and less efficient).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_check_cache_index(
  table_name = NULL,
  type = "item",
  show_details = FALSE,
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_check_cache_index_+3A_table_name">table_name</code></td>
<td>
<p>Name of the table in the database. If given, it takes precedence over other parameters.</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Type of cache file to output. Values typically used by <code>tidywikidatar</code> include &quot;item&quot;, &quot;search_item&quot;, &quot;search_property&quot;, and &quot;qualifier&quot;.</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_show_details">show_details</code></td>
<td>
<p>Logical, defaults to FALSE. If FALSE, return a logical vector of length one (TRUE if the table was indexed, FALSE if it was not). If TRUE, returns a data frame with more details about the index.</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Used to limit the data to be cached. Use &quot;all_available&quot; to keep all data. For available values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_response_language">response_language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Relevant only when type is set to &quot;search_item&quot; or &quot;search_property&quot;. See <code>tw_search()</code> for details.</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_check_cache_index_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>show_details</code> is set to FALSE, return a logical vector of length one (TRUE if the table was indexed, FALSE if it was not). If <code>show_details</code> is set to TRUE, returns a data frame with more details about the index.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_enable_cache()
  tw_set_cache_folder(path = fs::path(
    fs::path_home_r(),
    "R",
    "tw_data"
  ))

  tw_set_language(language = "en")

  tw_check_cache_index()
}
</code></pre>

<hr>
<h2 id='tw_check_cached_items'>Check if given items are present in cache</h2><span id='topic+tw_check_cached_items'></span>

<h3>Description</h3>

<p>Check if given items are present in cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_check_cached_items(
  id,
  language = tidywikidatar::tw_get_language(),
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_check_cached_items_+3A_id">id</code></td>
<td>
<p>A character vector. Each element must start with Q, and correspond to a Wikidata identifier.</p>
</td></tr>
<tr><td><code id="tw_check_cached_items_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_check_cached_items_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_check_cached_items_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with IDs of items present in cache. If no item found in cache, returns NULL.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_set_cache_folder(path = tempdir())
  tw_enable_cache()
  tw_create_cache_folder(ask = FALSE)

  # add three items to local cache
  invisible(tw_get(id = "Q180099", language = "en"))
  invisible(tw_get(id = "Q228822", language = "en"))
  invisible(tw_get(id = "Q184992", language = "en"))

  # check if these other items are in cache
  items_in_cache &lt;- tw_check_cached_items(
    id = c(
      "Q180099",
      "Q228822",
      "Q76857"
    ),
    language = "en"
  )
  # it should return only the two items from the current list of id
  # but not other item already in cache
  items_in_cache
}
</code></pre>

<hr>
<h2 id='tw_check_qid'>Ensures that input appears to be a valid Wikidata id</h2><span id='topic+tw_check_qid'></span>

<h3>Description</h3>

<p>Mostly used internally by other functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_check_qid(id, logical_vector = FALSE, non_id_as_NA = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_check_qid_+3A_id">id</code></td>
<td>
<p>A character vector of one or more Wikidata id.</p>
</td></tr>
<tr><td><code id="tw_check_qid_+3A_logical_vector">logical_vector</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, returns a logical vector of the same length as input, where TRUE corresponds to seemingly meaningful Q identifiers.</p>
</td></tr>
<tr><td><code id="tw_check_qid_+3A_non_id_as_na">non_id_as_NA</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE (and if <code>logical_vector</code> is set to FALSE), a vector of the same length is returned, with NA replacing items that are seemingly not meaningful Q identifiers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with only strings appearing to be Wikidata identifiers; possibly shorter than input
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_check_qid(id = c("Q180099", "q228822", "Not an id", "00180099", NA, "Q5"))

tw_check_qid(
  id = c("Q180099", "q228822", "Not an id", "00180099", NA, "Q5"),
  logical_vector = TRUE
)

tw_check_qid(
  id = c("Q180099", "q228822", "Not an id", "00180099", NA, "Q5"),
  non_id_as_NA = TRUE
)
</code></pre>

<hr>
<h2 id='tw_check_search'>Checks if an input is a search; if not, it tries to return a search</h2><span id='topic+tw_check_search'></span>

<h3>Description</h3>

<p>Mostly used as a convenience function inside other functions to have consistent inputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_check_search(
  search,
  type = "item",
  language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  wait = 0,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_check_search_+3A_search">search</code></td>
<td>
<p>A string to be searched in Wikidata</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Either &quot;item&quot; or &quot;property&quot;.</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_check_search_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns, <code>id</code>, <code>label</code>, and <code>description</code>, filtered by the above criteria.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The following two lines should give the same result.

tw_check_search("Sylvia Pankhurst")
tw_check_search(tw_search("Sylvia Pankhurst"))
</code></pre>

<hr>
<h2 id='tw_connect_to_cache'>Return a connection to be used for caching</h2><span id='topic+tw_connect_to_cache'></span>

<h3>Description</h3>

<p>Return a connection to be used for caching
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_connect_to_cache(
  connection = NULL,
  RSQLite = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_connect_to_cache_+3A_connection">connection</code></td>
<td>
<p>Defaults to NULL. If NULL, uses local SQLite database. If given, must be a connection object or a list with relevant connection settings (see example).</p>
</td></tr>
<tr><td><code id="tw_connect_to_cache_+3A_rsqlite">RSQLite</code></td>
<td>
<p>Defaults to NULL, expected either NULL or logical. If set to <code>FALSE</code>, details on the database connection must be given either as a named list in the connection parameter, or with <code>tw_set_cache_db()</code> as environment variables.</p>
</td></tr>
<tr><td><code id="tw_connect_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_connect_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A connection object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  cache_connection &lt;- pool::dbPool(
    RSQLite::SQLite(), # or e.g. odbc::odbc(),
    Driver = ":memory:", # or e.g. "MariaDB",
    Host = "localhost",
    database = "example_db",
    UID = "example_user",
    PWD = "example_pwd"
  )
  tw_connect_to_cache(cache_connection)


  db_settings &lt;- list(
    driver = "MySQL",
    host = "localhost",
    server = "localhost",
    port = 3306,
    database = "tidywikidatar",
    user = "secret_username",
    pwd = "secret_password"
  )

  tw_connect_to_cache(db_settings)
}


</code></pre>

<hr>
<h2 id='tw_create_cache_folder'>Creates the base cache folder where <code>tidywikidatar</code> caches data.</h2><span id='topic+tw_create_cache_folder'></span>

<h3>Description</h3>

<p>Creates the base cache folder where <code>tidywikidatar</code> caches data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_create_cache_folder(ask = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_create_cache_folder_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_create_cache_folder()
}

</code></pre>

<hr>
<h2 id='tw_disable_cache'>Disable caching for the current session</h2><span id='topic+tw_disable_cache'></span>

<h3>Description</h3>

<p>Disable caching for the current session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_disable_cache()
</code></pre>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_disable_cache()
}

</code></pre>

<hr>
<h2 id='tw_disconnect_from_cache'>Ensure that connection to cache is disconnected consistently</h2><span id='topic+tw_disconnect_from_cache'></span>

<h3>Description</h3>

<p>Ensure that connection to cache is disconnected consistently
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_disconnect_from_cache(
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  language = tidywikidatar::tw_get_language()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_disconnect_from_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_disconnect_from_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_disconnect_from_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_disconnect_from_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get(
    id = c("Q180099"),
    language = "en"
  )
  tw_disconnect_from_cache()
}
</code></pre>

<hr>
<h2 id='tw_empty_image_metadata'>A zero-rows tibble used internally when <code>tw_get_image_metadata()</code> would not return any value.</h2><span id='topic+tw_empty_image_metadata'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_get_image_metadata()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_image_metadata
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 19 columns
</p>

<hr>
<h2 id='tw_empty_item'>A zero-rows tibble used internally when <code>tw_get()</code> would not return any value.</h2><span id='topic+tw_empty_item'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_get()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_item
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 3 columns
</p>

<hr>
<h2 id='tw_empty_qualifiers'>A zero-rows tibble used internally when <code>tw_get_qualifiers()</code> would not return any value.</h2><span id='topic+tw_empty_qualifiers'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_get_qualifiers()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_qualifiers
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 8 columns
</p>

<hr>
<h2 id='tw_empty_search'>A zero-rows tibble used internally when <code>tw_search()</code> would not return any value.</h2><span id='topic+tw_empty_search'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_search()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_search
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 4 columns
</p>

<hr>
<h2 id='tw_empty_wikipedia_category_members'>A zero-rows tibble used internally when <code>tw_empty_wikipedia_category_members()</code> would not return any value.</h2><span id='topic+tw_empty_wikipedia_category_members'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_empty_wikipedia_category_members()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_wikipedia_category_members
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 3 columns
</p>

<hr>
<h2 id='tw_empty_wikipedia_page'>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_qid()</code> would not return any value.</h2><span id='topic+tw_empty_wikipedia_page'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_qid()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_wikipedia_page
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 6 columns
</p>

<hr>
<h2 id='tw_empty_wikipedia_page_links'>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_links()</code> would not return any value.</h2><span id='topic+tw_empty_wikipedia_page_links'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_links()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_wikipedia_page_links
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 8 columns
</p>

<hr>
<h2 id='tw_empty_wikipedia_page_sections'>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_sections()</code> would not return any value.</h2><span id='topic+tw_empty_wikipedia_page_sections'></span>

<h3>Description</h3>

<p>A zero-rows tibble used internally when <code>tw_get_wikipedia_page_sections()</code> would not return any value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_empty_wikipedia_page_sections
</code></pre>


<h3>Format</h3>

<p>A data frame with 0 rows and 8 columns
</p>

<hr>
<h2 id='tw_enable_cache'>Enable caching for the current session</h2><span id='topic+tw_enable_cache'></span>

<h3>Description</h3>

<p>Enable caching for the current session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_enable_cache(SQLite = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_enable_cache_+3A_sqlite">SQLite</code></td>
<td>
<p>Logical, defaults to TRUE. Set to FALSE to use custom database options. See <code>tw_set_cache_db()</code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_enable_cache()
}

</code></pre>

<hr>
<h2 id='tw_extract_qualifier'>Extract qualifiers from an object of class Wikidata created with <code>WikidataR</code></h2><span id='topic+tw_extract_qualifier'></span>

<h3>Description</h3>

<p>This function is mostly used internally and for testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_extract_qualifier(id, p, w = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_extract_qualifier_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_extract_qualifier_+3A_p">p</code></td>
<td>
<p>A character vector of length 1, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_extract_qualifier_+3A_w">w</code></td>
<td>
<p>An object of class Wikidata created with <code>WikidataR</code>, typically created with <code>WikidataR::get_item(id = id)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with eight columns: <code>id</code> for the input id, <code>property</code>,  <code>qualifier_id</code>, <code>qualifier_property</code>, <code>qualifier_value</code>, <code>rank</code>, <code>qualifier_value_type</code>, and <code>set</code> (to distinguish sets of data when a property is present more than once)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>w &lt;- WikidataR::get_item(id = "Q180099")
tw_extract_qualifier(id = "Q180099", p = "P26", w = w)
</code></pre>

<hr>
<h2 id='tw_extract_single'>Extract item data from an object of class Wikidata created with <code>WikidataR</code></h2><span id='topic+tw_extract_single'></span>

<h3>Description</h3>

<p>This function is mostly used internally and for testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_extract_single(w, language = tidywikidatar::tw_get_language())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_extract_single_+3A_w">w</code></td>
<td>
<p>An object of class Wikidata created with <code>WikidataR</code>, typically created with <code>WikidataR::get_item(id = id)</code></p>
</td></tr>
<tr><td><code id="tw_extract_single_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with four columns, such as the one created by <code>tw_get</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>item &lt;- tryCatch(WikidataR::get_item(id = "Q180099"),
  error = function(e) {
    as.character(e[[1]])
  }
)

tidywikidatar:::tw_extract_single(w = item)
</code></pre>

<hr>
<h2 id='tw_filter'>Filter search result and keep only items with matching property and Q identifier</h2><span id='topic+tw_filter'></span>

<h3>Description</h3>

<p>Filter search result and keep only items with matching property and Q identifier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_filter(
  search,
  p,
  q,
  language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  wait = 0,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_filter_+3A_search">search</code></td>
<td>
<p>A data frame generated by <code>tw_search()</code>, or a search query. If a data frame is given, language and limits are ignore.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_p">p</code></td>
<td>
<p>A character vector of length 1, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_q">q</code></td>
<td>
<p>A character vector of length 1, a wikidata id. Must always start with the capital letter &quot;Q&quot;, e.g. &quot;Q5&quot; for &quot;human being&quot;.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_filter_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns, <code>id</code>, <code>label</code>, and <code>description</code>, filtered by the above criteria.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_search(search = "Margaret Mead", limit = 3) %&gt;%
  tw_filter(p = "P31", q = "Q5")
</code></pre>

<hr>
<h2 id='tw_filter_first'>Filter search result and keep only and keep only the first match</h2><span id='topic+tw_filter_first'></span>

<h3>Description</h3>

<p>Same as <code>tw_filter()</code>, but consistently returns data frames with a single row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_filter_first(
  search,
  p,
  q,
  language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  wait = 0,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_filter_first_+3A_search">search</code></td>
<td>
<p>A data frame generated by <code>tw_search()</code>, or a search query. If a data frame is given, language and limits are ignore.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_p">p</code></td>
<td>
<p>A character vector of length 1, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_q">q</code></td>
<td>
<p>A character vector of length 1, a wikidata id. Must always start with the capital letter &quot;Q&quot;, e.g. &quot;Q5&quot; for &quot;human being&quot;.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_language">language</code></td>
<td>
<p>Language to be used for the search.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code></p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_filter_first_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with one row and three columns, <code>id</code>, <code>label</code>, and <code>description</code>, filtered by the above criteria.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_search("Margaret Mead") %&gt;%
  tw_filter_first(p = "P31", q = "Q5")
</code></pre>

<hr>
<h2 id='tw_filter_people'>Filter search result and keep only people</h2><span id='topic+tw_filter_people'></span>

<h3>Description</h3>

<p>A wrapper of <code>tw_filter()</code> that defaults to keep only &quot;instance of&quot; (P31) &quot;human being&quot; (Q5).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_filter_people(
  search,
  language = tidywikidatar::tw_get_language(),
  limit = 10,
  stop_at_first = TRUE,
  wait = 0,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_filter_people_+3A_search">search</code></td>
<td>
<p>A data frame generated by <code>tw_search()</code>, or a search query. If a data frame is given, language and limits are ignore.</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_language">language</code></td>
<td>
<p>Language to be used for the search.</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_stop_at_first">stop_at_first</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, returns only the first match from the search that satisfies the criteria.</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_filter_people_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns, <code>id</code>, <code>label</code>, and <code>description</code>; all rows refer to a human being.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_search("Ruth Benedict")

tw_search("Ruth Benedict") %&gt;%
  tw_filter_people()
</code></pre>

<hr>
<h2 id='tw_get'>Return (most) information from a Wikidata item in a tidy format</h2><span id='topic+tw_get'></span>

<h3>Description</h3>

<p>Return (most) information from a Wikidata item in a tidy format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get(
  id,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0,
  id_l = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q180099&quot; for the anthropologist Margaret Mead. Can also be a data frame of one row, typically generated with <code>tw_search()</code> or a combination of <code>tw_search()</code> and <code>tw_filter_first()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_+3A_id_l">id_l</code></td>
<td>
<p>Defaults to NULL. If given, must be an object or list such as the one generated with <code>WikidataR::get_item()</code>. If given, and the requested id is actually present in <code>id_l</code>, then no query to Wikidata servers is made.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame (a tibble) with three columns (id, property, and value).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_get(
    id = c("Q180099", "Q228822"),
    language = "en"
  )
}

## using `tw_test_items` in examples in order to show output without calling
## on Wikidata servers

tw_get(
  id = c("Q180099", "Q228822"),
  language = "en",
  id_l = tw_test_items
)
</code></pre>

<hr>
<h2 id='tw_get_all_with_p'>Get all items that have a given property (irrespective of the value)</h2><span id='topic+tw_get_all_with_p'></span>

<h3>Description</h3>

<p>This function does not cache results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_all_with_p(
  p,
  fields = c("item", "itemLabel", "itemDescription"),
  language = tidywikidatar::tw_get_language(),
  method = "SPARQL",
  wait = 0.1,
  limit = Inf,
  return_as_tw_search = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_all_with_p_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_all_with_p_+3A_fields">fields</code></td>
<td>
<p>A character vector of Wikidata fields. Ignored if <code>return_as_tw_search</code> is set to TRUE (as per default). Defaults to <code style="white-space: pre;">&#8288;("item", "itemLabel", "itemDescription")&#8288;</code></p>
</td></tr>
<tr><td><code id="tw_get_all_with_p_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If more than one, can be set in order of preference, e.g. <code>c("it", "fr", "en")</code>. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_all_with_p_+3A_method">method</code></td>
<td>
<p>Defaults to &quot;SPARQL&quot;. The only accepted alternative value is &quot;JSON&quot;, to use instead json-based API.</p>
</td></tr>
<tr><td><code id="tw_get_all_with_p_+3A_wait">wait</code></td>
<td>
<p>Defaults to 0.1. Used only in method is set to &quot;JSON&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_all_with_p_+3A_limit">limit</code></td>
<td>
<p>Defaults to <code>Inf</code>. Set to smaller values for testing and cache locally when possible to reduce load on servers.</p>
</td></tr>
<tr><td><code id="tw_get_all_with_p_+3A_return_as_tw_search">return_as_tw_search</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, returns a data frame with three columns (id, label, and description) that can be piped to other <code>tw_</code> functions. If FALSE, a data frame with as many columns as fields.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns is method is set to &quot;SPARQL&quot;, or as many columns as fields if more are given and <code>return_as_tw_search</code> is set to FALSE. A single column with Wikidata identifier if method is set to &quot;JSON&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  # get all Wikidata items with an ICAO airport code ("P239")
  tw_get_all_with_p(p = "P239", limit = 10)
}
</code></pre>

<hr>
<h2 id='tw_get_cache_db'>Get database connection settings from the environment</h2><span id='topic+tw_get_cache_db'></span>

<h3>Description</h3>

<p>Typically set with <code>tw_set_cache_db()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cache_db()
</code></pre>


<h3>Value</h3>

<p>A list with all database parameters as stored in environment variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_get_cache_db()
</code></pre>

<hr>
<h2 id='tw_get_cache_file'>Gets location of cache file</h2><span id='topic+tw_get_cache_file'></span>

<h3>Description</h3>

<p>Gets location of cache file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cache_file(type = NULL, language = tidywikidatar::tw_get_language())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cache_file_+3A_type">type</code></td>
<td>
<p>Defaults to NULL. Deprecated. If given, type of cache file to output. Values typically used by <code>tidywikidatar</code> in versions up to 4.2 include &quot;item&quot;, &quot;search&quot;, and &quot;qualifier&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_cache_file_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length one with location of item cache file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_set_cache_folder(path = tempdir())
sqlite_cache_file_location &lt;- tw_get_cache_file() # outputs location of cache file
</code></pre>

<hr>
<h2 id='tw_get_cache_table_name'>Gets name of table inside the database</h2><span id='topic+tw_get_cache_table_name'></span>

<h3>Description</h3>

<p>Gets name of table inside the database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cache_table_name(
  type = "item",
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cache_table_name_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Type of cache file to output. Values typically used by <code>tidywikidatar</code> include &quot;item&quot;, &quot;search_item&quot;, &quot;search_property&quot;, and &quot;qualifier&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_cache_table_name_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Used to limit the data to be cached. Use &quot;all_available&quot; to keep all data. For available values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cache_table_name_+3A_response_language">response_language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Relevant only when type is set to &quot;search_item&quot; or &quot;search_property&quot;. See <code>tw_search()</code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length one with the name of the relevant table in the cache file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># outputs name of table used in the cache database
tw_get_cache_table_name(type = "item", language = "en")
</code></pre>

<hr>
<h2 id='tw_get_cached_item'>Retrieve cached item</h2><span id='topic+tw_get_cached_item'></span>

<h3>Description</h3>

<p>Retrieve cached item
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_item(
  id,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_item_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q180099&quot; for the anthropologist Margaret Mead. Can also be a data frame of one row, typically generated with <code>tw_search()</code> or a combination of <code>tw_search()</code> and <code>tw_filter_first()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_item_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_item_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_item_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_item_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

tw_set_cache_folder(path = tempdir())
tw_enable_cache()
tw_create_cache_folder(ask = FALSE)

df_from_api &lt;- tw_get(id = "Q180099", language = "en")

df_from_cache &lt;- tw_get_cached_item(
  id = "Q180099",
  language = "en"
)
</code></pre>

<hr>
<h2 id='tw_get_cached_qualifiers'>Retrieve cached qualifier</h2><span id='topic+tw_get_cached_qualifiers'></span>

<h3>Description</h3>

<p>Retrieve cached qualifier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_qualifiers(
  id,
  p,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_qualifiers_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q180099&quot; for the anthropologist Margaret Mead. Can also be a data frame of one row, typically generated with <code>tw_search()</code> or a combination of <code>tw_search()</code> and <code>tw_filter_first()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_qualifiers_+3A_p">p</code></td>
<td>
<p>A character vector of length 1, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_cached_qualifiers_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_qualifiers_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_qualifiers_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_qualifiers_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_set_cache_folder(path = tempdir())
tw_enable_cache()
tw_create_cache_folder(ask = FALSE)

df_from_api &lt;- tw_get_qualifiers(id = "Q180099", p = "P26", language = "en")

df_from_cache &lt;- tw_get_cached_qualifiers(
  id = "Q180099",
  p = "P26",
  language = "en"
)

df_from_cache
</code></pre>

<hr>
<h2 id='tw_get_cached_search'>Retrieve cached search</h2><span id='topic+tw_get_cached_search'></span>

<h3>Description</h3>

<p>Retrieve cached search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_search(
  search,
  type = "item",
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  cache = NULL,
  include_search = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_search_+3A_search">search</code></td>
<td>
<p>A string to be searched in Wikidata</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Either &quot;item&quot; or &quot;property&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_response_language">response_language</code></td>
<td>
<p>Language to be used for the returned labels and descriptions. Corresponds to the <code>uselang</code> parameter of the MediaWiki API: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_search_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

tw_set_cache_folder(path = tempdir())
tw_enable_cache()
tw_create_cache_folder(ask = FALSE)

search_from_api &lt;- tw_search("Sylvia Pankhurst")
search_from_api

df_from_cache &lt;- tw_get_cached_search("Sylvia Pankhurst")
df_from_cache
</code></pre>

<hr>
<h2 id='tw_get_cached_wikipedia_category_members'>Gets members of Wikipedia categories from local cache</h2><span id='topic+tw_get_cached_wikipedia_category_members'></span>

<h3>Description</h3>

<p>Mostly used internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_wikipedia_category_members(
  category,
  type = "page",
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_wikipedia_category_members_+3A_category">category</code></td>
<td>
<p>Title of a Wikipedia category page or final parts of its url. Must include &quot;Category:&quot;, or equivalent in other languages. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_category_members_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;page&quot;, defines which kind of members of a category are returned. Valid values include &quot;page&quot;, &quot;file&quot;, and &quot;subcat&quot; (for sub-category). Corresponds to <code>cmtype</code>. For details, see <a href="https://www.mediawiki.org/wiki/API:Categorymembers">https://www.mediawiki.org/wiki/API:Categorymembers</a></p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_category_members_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_category_members_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_category_members_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_category_members_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_set_cache_folder(path = tempdir())
  tw_enable_cache()
  tw_create_cache_folder(ask = FALSE)

  df_from_api &lt;- tw_get_wikipedia_page_qid(category = "Margaret Mead", language = "en")

  df_from_cache &lt;- tw_get_cached_wikipedia_category_members(
    category = "Margaret Mead",
    language = "en"
  )

  df_from_cache
}
</code></pre>

<hr>
<h2 id='tw_get_cached_wikipedia_page_links'>Gets links of Wikipedia pages from local cache</h2><span id='topic+tw_get_cached_wikipedia_page_links'></span>

<h3>Description</h3>

<p>Mostly used internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_wikipedia_page_links(
  title,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_wikipedia_page_links_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_links_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_links_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_links_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_links_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_set_cache_folder(path = tempdir())
  tw_enable_cache()
  tw_create_cache_folder(ask = FALSE)

  df_from_api &lt;- tw_get_wikipedia_page_qid(title = "Margaret Mead", language = "en")

  df_from_cache &lt;- tw_get_cached_wikipedia_page_links(
    title = "Margaret Mead",
    language = "en"
  )

  df_from_cache
}
</code></pre>

<hr>
<h2 id='tw_get_cached_wikipedia_page_qid'>Gets id of Wikipedia pages from local cache</h2><span id='topic+tw_get_cached_wikipedia_page_qid'></span>

<h3>Description</h3>

<p>Mostly used internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_wikipedia_page_qid(
  title,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_wikipedia_page_qid_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_qid_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_qid_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_qid_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_qid_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_set_cache_folder(path = tempdir())
  tw_enable_cache()
  tw_create_cache_folder(ask = FALSE)

  df_from_api &lt;- tw_get_wikipedia_page_qid(title = "Margaret Mead", language = "en")

  df_from_cache &lt;- tw_get_cached_wikipedia_page_qid(
    title = "Margaret Mead",
    language = "en"
  )

  df_from_cache
}
</code></pre>

<hr>
<h2 id='tw_get_cached_wikipedia_page_sections'>Gets sections of Wikipedia pages from local cache</h2><span id='topic+tw_get_cached_wikipedia_page_sections'></span>

<h3>Description</h3>

<p>Mostly used internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_cached_wikipedia_page_sections(
  title,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_cached_wikipedia_page_sections_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_sections_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_sections_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_sections_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_cached_wikipedia_page_sections_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If data present in cache, returns a data frame with cached data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_set_cache_folder(path = tempdir())
  tw_enable_cache()
  tw_create_cache_folder(ask = FALSE)

  df_from_api &lt;- tw_get_wikipedia_page_qid(title = "Margaret Mead", language = "en")

  df_from_cache &lt;- tw_get_cached_wikipedia_page_sections(
    title = "Margaret Mead",
    language = "en"
  )

  df_from_cache
}
</code></pre>

<hr>
<h2 id='tw_get_description'>Get Wikidata description in given language</h2><span id='topic+tw_get_description'></span>

<h3>Description</h3>

<p>Get Wikidata description in given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_description(
  id,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_description_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_description_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as the vector of id given, with the Wikidata description in the requested language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_description(
  id = c(
    "Q180099",
    "Q228822"
  ),
  language = "en"
)
</code></pre>

<hr>
<h2 id='tw_get_field'>Gets a field such a label or description from a dataframe typically generated with <code>tw_get()</code></h2><span id='topic+tw_get_field'></span>

<h3>Description</h3>

<p>Gets a field such a label or description from a dataframe typically generated with <code>tw_get()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_field(df, field, id, language = tidywikidatar::tw_get_language())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_field_+3A_df">df</code></td>
<td>
<p>A data frame typically generated with <code>tw_get()</code>. It should include data for the <code>id</code> included in the dedicated parameter.</p>
</td></tr>
<tr><td><code id="tw_get_field_+3A_field">field</code></td>
<td>
<p>A character vector of length one. Typically, either &quot;label&quot; or &quot;description&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_field_+3A_id">id</code></td>
<td>
<p>A character vector, typically of Wikidata identifiers. The output will be of the same length and in the same order as the identifiers provided with this parameter.</p>
</td></tr>
<tr><td><code id="tw_get_field_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length, and with data in the same order, as <code>id</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_get("Q180099") %&gt;%
  tw_get_field(field = "label", id = "Q180099")
</code></pre>

<hr>
<h2 id='tw_get_image'>Get image from Wikimedia Commons</h2><span id='topic+tw_get_image'></span>

<h3>Description</h3>

<p>Please consult the relevant documentation for reusing content outside Wikimedia: https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_image(
  id,
  format = "filename",
  width = NULL,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_image_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_format">format</code></td>
<td>
<p>A character vector, defaults to 'filename'. If set to 'commons', outputs the link to the Wikimedia Commons page. If set to &quot;embed&quot;, outputs a link that can be used to embed.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_width">width</code></td>
<td>
<p>A numeric value, defaults to NULL, relevant only if format is set to 'embed'. If not given, defaults to full resolution image.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_language">language</code></td>
<td>
<p>Needed for caching, defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_image_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of two columns, id and image, corresponding to reference to the image in the requested format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_image("Q180099",
  format = "filename"
)

if (interactive()) {
  tw_get_image("Q180099",
    format = "commons"
  )

  tw_get_image("Q180099",
    format = "embed",
    width = 300
  )
}
</code></pre>

<hr>
<h2 id='tw_get_image_metadata'>Get metadata for images from Wikimedia Commons</h2><span id='topic+tw_get_image_metadata'></span>

<h3>Description</h3>

<p>Please consult the relevant documentation for reusing content outside Wikimedia: https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_image_metadata(
  id,
  image_filename = NULL,
  only_first = TRUE,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_image_metadata_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_image_filename">image_filename</code></td>
<td>
<p>Defaults to NULL. If NULL, <code>image_filename</code> is obtained from the Wikidata id. If given, must be of the same length as id.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_only_first">only_first</code></td>
<td>
<p>Defaults to TRUE. If TRUE, returns metadata only for the first image associated with a given Wikidata id. If FALSE, returns all images available.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_language">language</code></td>
<td>
<p>Needed for caching, defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector, corresponding to reference to the image in the requested format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_image_metadata("Q180099")
}
</code></pre>

<hr>
<h2 id='tw_get_image_metadata_single'>Get metadata for images from Wikimedia Commons</h2><span id='topic+tw_get_image_metadata_single'></span>

<h3>Description</h3>

<p>Please consult the relevant documentation for reusing content outside Wikimedia: https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_image_metadata_single(
  id,
  image_filename = NULL,
  only_first = TRUE,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  read_cache = TRUE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_image_metadata_single_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_image_filename">image_filename</code></td>
<td>
<p>Defaults to NULL. If NULL, <code>image_filename</code> is obtained from the Wikidata id. If given, must be of the same length as id.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_only_first">only_first</code></td>
<td>
<p>Defaults to TRUE. If TRUE, returns metadata only for the first image associated with a given Wikidata id. If FALSE, returns all images available.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_language">language</code></td>
<td>
<p>Needed for caching, defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_read_cache">read_cache</code></td>
<td>
<p>Logical, defaults to TRUE. Mostly used internally to prevent checking if an item is in cache if it is already known that it is not in cache.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_image_metadata_single_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector, corresponding to reference to the image in the requested format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_image_metadata_single("Q180099")
}
</code></pre>

<hr>
<h2 id='tw_get_image_same_length'>Get image from Wikimedia Commons</h2><span id='topic+tw_get_image_same_length'></span>

<h3>Description</h3>

<p>Please consult the relevant documentation for reusing content outside Wikimedia: https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_image_same_length(
  id,
  format = "filename",
  as_tibble = FALSE,
  only_first = TRUE,
  width = NULL,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_image_same_length_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_format">format</code></td>
<td>
<p>A character vector, defaults to 'filename'. If set to 'commons', outputs the link to the Wikimedia Commons page. If set to &quot;embed&quot;, outputs a link that can be used to embed.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Defaults to FALSE. If TRUE, returns a data frame instead of a character vector.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_only_first">only_first</code></td>
<td>
<p>Defaults to TRUE. If TRUE, returns only the first image associated with a given Wikidata id. If FALSE, returns all images available.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_width">width</code></td>
<td>
<p>A numeric value, defaults to NULL, relevant only if format is set to 'embed'. If not given, defaults to full resolution image.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_language">language</code></td>
<td>
<p>Needed for caching, defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_image_same_length_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector, corresponding to reference to the image in the requested format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_image_same_length("Q180099",
  format = "filename"
)

if (interactive()) {
  tw_get_image_same_length("Q180099",
    format = "commons"
  )

  tw_get_image_same_length("Q180099",
    format = "embed",
    width = 300
  )
}
</code></pre>

<hr>
<h2 id='tw_get_label'>Get Wikidata label in given language</h2><span id='topic+tw_get_label'></span>

<h3>Description</h3>

<p>Get Wikidata label in given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_label(
  id,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_label_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_label_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as the vector of id given, with the Wikidata label in the requested language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_get_label(
  id = c(
    "Q180099",
    "Q228822"
  ),
  language = "en"
)

# If a label is not available, a NA value is returned
if (interactive()) {
  tw_get_label(
    id = c(
      "Q64733534",
      "Q4773904",
      "Q220480"
    ),
    language = "sc"
  )
}
</code></pre>

<hr>
<h2 id='tw_get_p_wide'>Efficiently get a wide table with various properties of a given set of
Wikidata identifiers</h2><span id='topic+tw_get_p_wide'></span>

<h3>Description</h3>

<p>Efficiently get a wide table with various properties of a given set of
Wikidata identifiers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_p_wide(
  id,
  p,
  label = FALSE,
  property_label_as_column_name = FALSE,
  both_id_and_label = FALSE,
  only_first = FALSE,
  preferred = FALSE,
  unlist = FALSE,
  collapse = ";",
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  id_df_label = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_p_wide_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_label">label</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE labels of Wikidata Q
identifiers are reported instead of the identifiers themselves (or labels
are presented along of them, if <code>both_id_and_label</code> is set to TRUE)</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_property_label_as_column_name">property_label_as_column_name</code></td>
<td>
<p>Logical, defaults to FALSE. If FALSE,
names of columns with properties are the &quot;P&quot; identifiers of the property.
If TRUE, the label of the correspondent property is assigned as column
name.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_both_id_and_label">both_id_and_label</code></td>
<td>
<p>Logical, defaults to FALSE. Relevant only if <code>label</code>
is set to TRUE, otherwise ignored. If TRUE, the label is added as a
separate column along the original one. Column name is the same as the
property column, followed by &quot;_label&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_only_first">only_first</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it just keeps the first relevant property value for each id (or NA if none is available), and returns a character vector. Warning: this likely discards valid values, so make sure this is really what you want. If FALSE, returns a list of the same length as input, with all values for each id stored in a list if more than one is found.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_preferred">preferred</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, returns properties that have rank &quot;preferred&quot; if available; if no &quot;preferred&quot; property is found, then it is ignored.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_unlist">unlist</code></td>
<td>
<p>Logical, defaults to FALSE. Typically used sharing or exporting
data as csv files. Collapses all properties in a single string. The
separator is defined by the <code>collapse</code> parameter. Relevant only when
<code>only_first</code> is set to FALSE.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_collapse">collapse</code></td>
<td>
<p>Defaults to &quot;;&quot;. Character used to separate results when
<code>unlist</code> is set to TRUE.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or replying on cache.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_id_df_label">id_df_label</code></td>
<td>
<p>Defaults to NULL. If given, it should be a dataframe
typically generated with <code>tw_get()</code> with <em>all</em> items for which labels will
be requested. It is used instead of calling Wikidata or relying on cache.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_p_wide_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, with a column for each given property.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_get_p_wide(
    id = c("Q180099", "Q228822", "Q191095"),
    p = c("P27", "P19", "P20"),
    label = TRUE,
    only_first = TRUE
  )
}
</code></pre>

<hr>
<h2 id='tw_get_p1'>Get Wikidata property of an item as a character vector of the same length as input</h2><span id='topic+tw_get_p1'></span>

<h3>Description</h3>

<p>This function wraps <code>tw_get_p()</code>, but always sets <code>only_first</code> and <code>preferred</code> to TRUE in order to give back always a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_p1(
  id,
  p,
  latest_start_time = FALSE,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_p1_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_latest_start_time">latest_start_time</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, returns the property that has the most recent start time (&quot;P580&quot;) as qualifier. If no such qualifier is found, then it is ignored.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or replying on cache.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_p1_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as the input.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_p1(id = "Q180099", "P26")
</code></pre>

<hr>
<h2 id='tw_get_property'>Get Wikidata property of one or more items as a tidy data frame</h2><span id='topic+tw_get_property'></span>

<h3>Description</h3>

<p>Get Wikidata property of one or more items as a tidy data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property(
  id,
  p,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache. Ignored when <code>id</code> is of length more than one.</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_property_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble, corresponding to the value for the given property. A tibble of zero rows if no relevant property found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Who were the doctoral advisors - P184 - of Margaret Mead - Q180099?
advisors &lt;- tw_get_property(id = "Q180099", p = "P184")
advisors

# tw_get_label(advisors)

# It is also possible to get one property for many id

if (interactive()) {
  tw_get_property(
    id = c(
      "Q180099",
      "Q228822"
    ),
    p = "P31"
  )

  # Or many properties for a single id

  tw_get_property(
    id = "Q180099",
    p = c("P21", "P31")
  )
}
</code></pre>

<hr>
<h2 id='tw_get_property_description'>Get description of a Wikidata property in a given language</h2><span id='topic+tw_get_property_description'></span>

<h3>Description</h3>

<p>Get description of a Wikidata property in a given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property_description(
  property,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_description_+3A_property">property</code></td>
<td>
<p>A character vector of length 1, must start with P, e.g. &quot;P31&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_property_description_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_property_description_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_property_description_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_property_description_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_property_description_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_property_description_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1, with the Wikidata label in the requested language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_property_description(property = "P31")
</code></pre>

<hr>
<h2 id='tw_get_property_label'>Get label of a Wikidata property in a given language</h2><span id='topic+tw_get_property_label'></span>

<h3>Description</h3>

<p>Get label of a Wikidata property in a given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property_label(
  property,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_label_+3A_property">property</code></td>
<td>
<p>A character vector. Each element must start with P, e.g. &quot;P31&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_property_label_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_property_label_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector, with the Wikidata label in the requested language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_property_label(property = "P31")
</code></pre>

<hr>
<h2 id='tw_get_property_label_single'>Get label of a Wikidata property in a given language</h2><span id='topic+tw_get_property_label_single'></span>

<h3>Description</h3>

<p>Get label of a Wikidata property in a given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property_label_single(
  property,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_label_single_+3A_property">property</code></td>
<td>
<p>A character vector. Each element must start with P, e.g. &quot;P31&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_single_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_property_label_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_property_label_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_property_label_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1, with the Wikidata label in the requested language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tidywikidatar:::tw_get_property_label_single(property = "P31")
</code></pre>

<hr>
<h2 id='tw_get_property_same_length'>Get Wikidata property of an item as a vector or list of the same length as input</h2><span id='topic+tw_get_property_same_length'></span><span id='topic+tw_get_p'></span>

<h3>Description</h3>

<p>Get Wikidata property of an item as a vector or list of the same length as input
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property_same_length(
  id,
  p,
  only_first = FALSE,
  preferred = FALSE,
  latest_start_time = FALSE,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)

tw_get_p(
  id,
  p,
  only_first = FALSE,
  preferred = FALSE,
  latest_start_time = FALSE,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_same_length_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_only_first">only_first</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it just keeps the first relevant property value for each id (or NA if none is available), and returns a character vector. Warning: this likely discards valid values, so make sure this is really what you want. If FALSE, returns a list of the same length as input, with all values for each id stored in a list if more than one is found.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_preferred">preferred</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, returns properties that have rank &quot;preferred&quot; if available; if no &quot;preferred&quot; property is found, then it is ignored.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_latest_start_time">latest_start_time</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, returns the property that has the most recent start time (&quot;P580&quot;) as qualifier. If no such qualifier is found, then it is ignored.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or replying on cache.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_property_same_length_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the same length of input (or a character vector is only_first is set to TRUE)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# By default, it returns a list of the same length as input,
# no matter how many values for each id/property


if (interactive()) {
  tw_get_property_same_length(
    id = c(
      "Q180099",
      "Q228822",
      "Q76857"
    ),
    p = "P26"
  )
  # Notice that if no relevant match is found, it returns a NA
  # This is useful for piped operations

  tibble::tibble(id = c(
    "Q180099",
    "Q228822",
    "Q76857"
  )) %&gt;%
    dplyr::mutate(spouse = tw_get_property_same_length(id, "P26"))

  # Consider unnesting for further analysis

  tibble::tibble(id = c(
    "Q180099",
    "Q228822",
    "Q76857"
  )) %&gt;%
    dplyr::mutate(spouse = tw_get_property_same_length(id, "P26")) %&gt;%
    tidyr::unnest(cols = spouse)

  # If you are sure that you are interested only in the first return value,
  # consider setting only_first=TRUE to get a character vector rather than a list
  # Be mindful: you may well be discarding valid values.
  tibble::tibble(id = c(
    "Q180099",
    "Q228822",
    "Q76857"
  )) %&gt;%
    dplyr::mutate(spouse = tw_get_property_same_length(id, "P26",
      only_first = TRUE
    ))
}
tw_get_p(id = "Q180099", "P26")
</code></pre>

<hr>
<h2 id='tw_get_property_with_details'>Gets all details of a property</h2><span id='topic+tw_get_property_with_details'></span>

<h3>Description</h3>

<p>Gets all details of a property
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property_with_details(id, p, wait = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_with_details_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_property_with_details_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_property_with_details_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble, corresponding to the details for the given property. NULL if no relevant property found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get "female form of label", including language
tw_get_property_with_details(id = "Q64733534", p = "P2521")
</code></pre>

<hr>
<h2 id='tw_get_property_with_details_single'>Gets all details of a property</h2><span id='topic+tw_get_property_with_details_single'></span>

<h3>Description</h3>

<p>Gets all details of a property
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_property_with_details_single(id, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_property_with_details_single_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_property_with_details_single_+3A_p">p</code></td>
<td>
<p>A character vector, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble, corresponding to the details for the given property. NULL if no relevant property found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get "female form of label", including language
tidywikidatar:::tw_get_property_with_details_single(id = "Q64733534", p = "P2521")
</code></pre>

<hr>
<h2 id='tw_get_qualifiers'>Get Wikidata qualifiers for a given property of a given item</h2><span id='topic+tw_get_qualifiers'></span>

<h3>Description</h3>

<p>N.B. In order to provide for consistently structured output, this function outputs either id or value for each  qualifier. The user should keep in mind that some of these come with additional detail (e.g. the unit, precision, or reference calendar).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_qualifiers(
  id,
  p,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0,
  id_l = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_qualifiers_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_p">p</code></td>
<td>
<p>A character vector of length 1, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_+3A_id_l">id_l</code></td>
<td>
<p>Defaults to NULL. If given, must be an object or list such as the one generated with <code>WikidataR::get_item()</code>. If given, and the requested id is actually present in <code>id_l</code>, then no query to Wikidata servers is made.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with eight columns: <code>id</code> for the input id, <code>property</code>,  <code>qualifier_id</code>, <code>qualifier_property</code>, <code>qualifier_value</code>, <code>rank</code>, <code>qualifier_value_type</code>, and <code>set</code> (to distinguish sets of data when a property is present more than once)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tidywikidatar::tw_get_qualifiers(id = "Q180099", p = "P26", language = "en")
}

#' ## using `tw_test_items` in examples in order to show output without calling
## on Wikidata servers

tidywikidatar::tw_get_qualifiers(
  id = "Q180099",
  p = "P26",
  language = "en",
  id_l = tw_test_items
)
</code></pre>

<hr>
<h2 id='tw_get_qualifiers_single'>Get Wikidata qualifiers for a given property of a given item</h2><span id='topic+tw_get_qualifiers_single'></span>

<h3>Description</h3>

<p>N.B. In order to provide for consistently structured output, this function outputs either id or value for each  qualifier. The user should keep in mind that some of these come with additional detail (e.g. the unit, precision, or reference calendar).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_qualifiers_single(
  id,
  p,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0,
  id_l = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_qualifiers_single_+3A_id">id</code></td>
<td>
<p>A character vector of length 1, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_p">p</code></td>
<td>
<p>A character vector of length 1, a property. Must always start with the capital letter &quot;P&quot;, e.g. &quot;P31&quot; for &quot;instance of&quot;.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_qualifiers_single_+3A_id_l">id_l</code></td>
<td>
<p>Defaults to NULL. If given, must be an object or list such as the one generated with <code>WikidataR::get_item()</code>. If given, and the requested id is actually present in <code>id_l</code>, then no query to Wikidata servers is made.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with eight columns: <code>id</code> for the input id, <code>property</code>,  <code>qualifier_id</code>, <code>qualifier_property</code>, <code>qualifier_value</code>, <code>rank</code>, <code>qualifier_value_type</code>, and <code>set</code> (to distinguish sets of data when a property is present more than once)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tidywikidatar:::tw_get_qualifiers_single(id = "Q180099", p = "P26", language = "en")
}

#' ## using `tw_test_items` in examples in order to show output without calling
## on Wikidata servers

tidywikidatar:::tw_get_qualifiers_single(
  id = "Q180099",
  p = "P26",
  language = "en",
  id_l = tw_test_items
)
</code></pre>

<hr>
<h2 id='tw_get_single'>Return (most) information from a Wikidata item in a tidy format from a single Wikidata identifier</h2><span id='topic+tw_get_single'></span>

<h3>Description</h3>

<p>Return (most) information from a Wikidata item in a tidy format from a single Wikidata identifier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_single(
  id,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  read_cache = TRUE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0,
  id_l = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_single_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q180099&quot; for the anthropologist Margaret Mead. Can also be a data frame of one row, typically generated with <code>tw_search()</code> or a combination of <code>tw_search()</code> and <code>tw_filter_first()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_read_cache">read_cache</code></td>
<td>
<p>Logical, defaults to TRUE. Mostly used internally to prevent checking if an item is in cache if it is already known that it is not in cache.</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_single_+3A_id_l">id_l</code></td>
<td>
<p>Defaults to NULL. If given, must be an object or list such as the one generated with <code>WikidataR::get_item()</code>. If given, and the requested id is actually present in <code>id_l</code>, then no query to Wikidata servers is made.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame (a tibble) with four columns (id, property, value, and rank). If item not found or trouble connecting with the server, a data frame with four columns and zero rows is returned, with the warning as an attribute, which can be retrieved with <code style="white-space: pre;">&#8288;attr(output, "warning"))&#8288;</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tidywikidatar:::tw_get_single(
    id = "Q180099",
    language = "en"
  )
}

#' ## using `tw_test_items` in examples in order to show output without calling
## on Wikidata servers

tidywikidatar:::tw_get_single(
  id = "Q180099",
  language = "en",
  id_l = tw_test_items
)
</code></pre>

<hr>
<h2 id='tw_get_wikipedia'>Get URL to a Wikipedia article corresponding to a Wikidata Q identifier in given language</h2><span id='topic+tw_get_wikipedia'></span>

<h3>Description</h3>

<p>Get URL to a Wikipedia article corresponding to a Wikidata Q identifier in given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia(
  id,
  full_link = TRUE,
  language = tidywikidatar::tw_get_language(),
  id_df = NULL,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_+3A_id">id</code></td>
<td>
<p>A character vector, must start with Q, e.g. &quot;Q254&quot; for Wolfgang Amadeus Mozart</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_full_link">full_link</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, returns only the part of the url that corresponds to the title.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_id_df">id_df</code></td>
<td>
<p>Default to NULL. If given, it should be a dataframe typically generated with <code>tw_get_()</code>, and is used instead of calling Wikidata or using SQLite cache.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as the vector of id given, with the Wikipedia link in the requested language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_wikipedia(id = "Q180099")
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_base_api_url'>Facilitates the creation of MediaWiki API base URLs</h2><span id='topic+tw_get_wikipedia_base_api_url'></span>

<h3>Description</h3>

<p>Mostly used internally
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_base_api_url(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language(),
  action = "query",
  type = "page"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_base_api_url_+3A_url">url</code></td>
<td>
<p>A character vector with the full URL to one or more Wikipedia pages. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_base_api_url_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_base_api_url_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_base_api_url_+3A_action">action</code></td>
<td>
<p>Defaults to &quot;query&quot;. Usually either &quot;query&quot; or &quot;parse&quot;. In principle, any valid action value, see: <a href="https://www.mediawiki.org/w/api.php">https://www.mediawiki.org/w/api.php</a></p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_base_api_url_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;page&quot;. Either &quot;page&quot; or &quot;category&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of base urls to be used with the MediaWiki API
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_wikipedia_base_api_url(title = "Margaret Mead", language = "en")
tw_get_wikipedia_base_api_url(
  title = "Category:American women anthropologists",
  type = "category",
  language = "en"
)
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_category_members'>Get all Wikidata Q identifiers of all Wikipedia pages (or files, or subcategories) that are members of the given category,</h2><span id='topic+tw_get_wikipedia_category_members'></span>

<h3>Description</h3>

<p>Get all Wikidata Q identifiers of all Wikipedia pages (or files, or subcategories) that are members of the given category,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_category_members(
  url = NULL,
  category = NULL,
  type = "page",
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia category page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_category">category</code></td>
<td>
<p>Title of a Wikipedia category page or final parts of its url. Must include &quot;Category:&quot;, or equivalent in other languages. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;page&quot;, defines which kind of members of a category are returned. Valid values include &quot;page&quot;, &quot;file&quot;, and &quot;subcat&quot; (for sub-category). Corresponds to <code>cmtype</code>. For details, see <a href="https://www.mediawiki.org/wiki/API:Categorymembers">https://www.mediawiki.org/wiki/API:Categorymembers</a></p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with eight columns: <code>source_title_url</code>, <code>source_wikipedia_title</code>, <code>source_qid</code>, <code>wikipedia_title</code>, <code>wikipedia_id</code>, <code>qid</code>, <code>description</code>, and <code>language</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  sub_categories &lt;- tw_get_wikipedia_category_members(
    category = "Category:American women anthropologists",
    type = "subcat"
  )

  sub_categories

  tw_get_wikipedia_category_members(
    category = sub_categories$wikipedia_title,
    type = "page"
  )
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_category_members_single'>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page</h2><span id='topic+tw_get_wikipedia_category_members_single'></span>

<h3>Description</h3>

<p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_category_members_single(
  url = NULL,
  category = NULL,
  type = "page",
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia category page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_category">category</code></td>
<td>
<p>Title of a Wikipedia category page or final parts of its url. Must include &quot;Category:&quot;, or equivalent in other languages. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;page&quot;, defines which kind of members of a category are returned. Valid values include &quot;page&quot;, &quot;file&quot;, and &quot;subcat&quot; (for sub-category). Corresponds to <code>cmtype</code>. For details, see <a href="https://www.mediawiki.org/wiki/API:Categorymembers">https://www.mediawiki.org/wiki/API:Categorymembers</a></p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_category_members_single_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with four columns: <code>wikipedia_title</code>, <code>wikipedia_id</code>, <code>wikidata_id</code>, <code>wikidata_description</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tidywikidatar:::tw_get_wikipedia_category_members_single(
    category = "Category:American women anthropologists",
    type = "subcat"
  )

  tidywikidatar:::tw_get_wikipedia_category_members_single(
    category = "Category:Puerto Rican women anthropologists",
    type = "page"
  )
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_links'>Get all Wikidata Q identifiers of all Wikipedia pages that appear in one or more pages</h2><span id='topic+tw_get_wikipedia_page_links'></span>

<h3>Description</h3>

<p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in one or more pages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_links(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with eight columns: <code>source_title_url</code>, <code>source_wikipedia_title</code>, <code>source_qid</code>, <code>wikipedia_title</code>, <code>wikipedia_id</code>, <code>qid</code>, <code>description</code>, and <code>language</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_links(title = "Margaret Mead", language = "en")
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_links_single'>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page</h2><span id='topic+tw_get_wikipedia_page_links_single'></span>

<h3>Description</h3>

<p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_links_single(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10,
  wikipedia_page_qid_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_links_single_+3A_wikipedia_page_qid_df">wikipedia_page_qid_df</code></td>
<td>
<p>Defaults to NULL. If given, used to reduce calls to cache. A data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with four columns: <code>wikipedia_title</code>, <code>wikipedia_id</code>, <code>wikidata_id</code>, <code>wikidata_description</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_links_single(title = "Margaret Mead", language = "en")
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_qid'>Gets the Wikidata Q identifier of one or more Wikipedia pages</h2><span id='topic+tw_get_wikipedia_page_qid'></span>

<h3>Description</h3>

<p>Gets the Wikidata Q identifier of one or more Wikipedia pages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_qid(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_url">url</code></td>
<td>
<p>A character vector with the full URL to one or more Wikipedia pages. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A a data frame with six columns, including <code>qid</code> with Wikidata identifiers, and a logical <code>disambiguation</code> to flag when disambiguation pages are returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_qid(title = "Margaret Mead", language = "en")

  # check when Wikipedia returns disambiguation page
  tw_get_wikipedia_page_qid(title = c("Rome", "London", "New York", "Vienna"))
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_qid_single'>Gets the Wikidata id of a Wikipedia page</h2><span id='topic+tw_get_wikipedia_page_qid_single'></span>

<h3>Description</h3>

<p>Gets the Wikidata id of a Wikipedia page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_qid_single(
  title = NULL,
  url = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_qid_single_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with eight columns: <code>title</code>, <code>wikipedia_title</code>, <code>wikipedia_id</code>, <code>qid</code>, <code>description</code>, <code>disambiguation</code>, and <code>language</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_qid_single(title = "Margaret Mead", language = "en")
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_section_links'>Get links from a specific section of a Wikipedia page</h2><span id='topic+tw_get_wikipedia_page_section_links'></span>

<h3>Description</h3>

<p>Get links from a specific section of a Wikipedia page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_section_links(
  url = NULL,
  title = NULL,
  section_title = NULL,
  section_index = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10,
  wikipedia_page_qid_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_section_title">section_title</code></td>
<td>
<p>Defaults to NULL. If given, it should correspond to the human-readable title of a section of the relevant Wikipedia page. See also <code>tw_get_wikipedia_page_sections()</code></p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_section_index">section_index</code></td>
<td>
<p>Defaults to NULL. If given, it should correspond to the ordinal of a section of the relevant Wikipedia page. See also <code>tw_get_wikipedia_page_sections()</code></p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_section_links_+3A_wikipedia_page_qid_df">wikipedia_page_qid_df</code></td>
<td>
<p>Defaults to NULL. If given, used to reduce calls to cache. A data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_section_links(title = "Margaret Mead", language = "en", section_index = 1)
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_sections'>Get sections of a Wikipedia page</h2><span id='topic+tw_get_wikipedia_page_sections'></span>

<h3>Description</h3>

<p>Get sections of a Wikipedia page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_sections(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble), with the same columns as <code>tw_empty_wikipedia_page_sections</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_sections(title = "Margaret Mead", language = "en")
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_page_sections_single'>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page</h2><span id='topic+tw_get_wikipedia_page_sections_single'></span>

<h3>Description</h3>

<p>Get all Wikidata Q identifiers of all Wikipedia pages that appear in a given page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_page_sections_single(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 1,
  attempts = 10,
  wikipedia_page_qid_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_url">url</code></td>
<td>
<p>Full URL to a Wikipedia page. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 1 due to time-outs with frequent queries. Time to wait between queries to the APIs. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_attempts">attempts</code></td>
<td>
<p>Defaults to 10. Number of times it re-attempts to reach the API before failing.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_page_sections_single_+3A_wikipedia_page_qid_df">wikipedia_page_qid_df</code></td>
<td>
<p>Defaults to NULL. If given, used to reduce calls to cache. A data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with four columns: <code>wikipedia_title</code>, <code>wikipedia_id</code>, <code>wikidata_id</code>, <code>wikidata_description</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_get_wikipedia_page_sections_single(title = "Margaret Mead", language = "en")
}
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_section_links_api_url'>Facilitates the creation of MediaWiki API base URLs to retrieve sections of a page</h2><span id='topic+tw_get_wikipedia_section_links_api_url'></span>

<h3>Description</h3>

<p>Mostly used internally
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_section_links_api_url(
  url = NULL,
  title = NULL,
  section_index,
  language = tidywikidatar::tw_get_language()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_section_links_api_url_+3A_url">url</code></td>
<td>
<p>A character vector with the full URL to one or more Wikipedia pages. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_section_links_api_url_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_section_links_api_url_+3A_section_index">section_index</code></td>
<td>
<p>Required. It should correspond to the ordinal of a section of the relevant Wikipedia page. See also <code>tw_get_wikipedia_page_sections()</code>.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_section_links_api_url_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of base urls to be used with the MediaWiki API
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_wikipedia_section_links_api_url(title = "Margaret Mead", section_index = 1, language = "en")
</code></pre>

<hr>
<h2 id='tw_get_wikipedia_sections_api_url'>Facilitates the creation of MediaWiki API base URLs to retrieve sections of a page</h2><span id='topic+tw_get_wikipedia_sections_api_url'></span>

<h3>Description</h3>

<p>Mostly used internally
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_get_wikipedia_sections_api_url(
  url = NULL,
  title = NULL,
  language = tidywikidatar::tw_get_language()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_get_wikipedia_sections_api_url_+3A_url">url</code></td>
<td>
<p>A character vector with the full URL to one or more Wikipedia pages. If given, title and language can be left empty.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_sections_api_url_+3A_title">title</code></td>
<td>
<p>Title of a Wikipedia page or final parts of its url. If given, url can be left empty, but language must be provided.</p>
</td></tr>
<tr><td><code id="tw_get_wikipedia_sections_api_url_+3A_language">language</code></td>
<td>
<p>Two-letter language code used to define the Wikipedia version to use. Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If url given, this can be left empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of base urls to be used with the MediaWiki API
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_get_wikipedia_sections_api_url(title = "Margaret Mead", language = "en")
</code></pre>

<hr>
<h2 id='tw_index_cache_item'>Add index to caching table for search queries for increased speed</h2><span id='topic+tw_index_cache_item'></span>

<h3>Description</h3>

<p>Tested only with SQLite and MySql. May work with other drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_index_cache_item(
  table_name = NULL,
  check_first = TRUE,
  type = "item",
  show_details = FALSE,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_index_cache_item_+3A_table_name">table_name</code></td>
<td>
<p>Name of the table in the database. If given, it takes precedence over other parameters.</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_check_first">check_first</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, then before executing anything on the database it checks if the given table has already been indexed. If it has, it does nothing and returns only an informative message.</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Type of cache file to output. Values typically used by <code>tidywikidatar</code> include &quot;item&quot;, &quot;search_item&quot;, &quot;search_property&quot;, and &quot;qualifier&quot;.</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_show_details">show_details</code></td>
<td>
<p>Logical, defaults to FALSE. If FALSE, return the function adds the index to the database, but does not return anything. If TRUE, returns a data frame with more details about the index.</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Used to limit the data to be cached. Use &quot;all_available&quot; to keep all data. For available values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_index_cache_item_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To ensure smooth functioning, the search column in the cache table is transformed into a column of type <code>varchar</code> and length 255.
</p>


<h3>Value</h3>

<p>If <code>show_details</code> is set to FALSE, nothing, used only for its side effects (add index to caching table). If TRUE, a data frame, same as the output of <code>tw_check_cache_index(show_details = TRUE)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_enable_cache()
  tw_set_cache_folder(path = fs::path(
    fs::path_home_r(),
    "R",
    "tw_data"
  ))

  tw_index_cache_search()
}
</code></pre>

<hr>
<h2 id='tw_index_cache_search'>Add index to caching table for search queries for increased speed</h2><span id='topic+tw_index_cache_search'></span>

<h3>Description</h3>

<p>Tested only with SQLite and MySql. May work with other drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_index_cache_search(
  table_name = NULL,
  check_first = TRUE,
  type = "item",
  show_details = FALSE,
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_index_cache_search_+3A_table_name">table_name</code></td>
<td>
<p>Name of the table in the database. If given, it takes precedence over other parameters.</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_check_first">check_first</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, then before executing anything on the database it checks if the given table has already been indexed. If it has, it does nothing and returns only an informative message.</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Type of cache file to output. Values typically used by <code>tidywikidatar</code> include &quot;item&quot;, &quot;search_item&quot;, &quot;search_property&quot;, and &quot;qualifier&quot;.</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_show_details">show_details</code></td>
<td>
<p>Logical, defaults to FALSE. If FALSE, return the function adds the index to the database, but does not return anything. If TRUE, returns a data frame with more details about the index.</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Used to limit the data to be cached. Use &quot;all_available&quot; to keep all data. For available values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_response_language">response_language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; &quot;en&quot; if not set. Relevant only when type is set to &quot;search_item&quot; or &quot;search_property&quot;. See <code>tw_search()</code> for details.</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_index_cache_search_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To ensure smooth functioning, the search column in the cache table is transformed into a column of type <code>varchar</code> and length 255.
</p>


<h3>Value</h3>

<p>If <code>show_details</code> is set to FALSE, nothing, used only for its side effects (add index to caching table). If TRUE, a data frame, same as the output of <code>tw_check_cache_index(show_details = TRUE)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_enable_cache()
  tw_set_cache_folder(path = fs::path(
    fs::path_home_r(),
    "R",
    "tw_data"
  ))

  tw_index_cache_search()
}
</code></pre>

<hr>
<h2 id='tw_label'>Gets labels for all columns with names such as &quot;id&quot; and &quot;property&quot;.</h2><span id='topic+tw_label'></span>

<h3>Description</h3>

<p>Gets labels for all columns with names such as &quot;id&quot; and &quot;property&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_label(
  df,
  value = TRUE,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_label_+3A_df">df</code></td>
<td>
<p>A data frame, typically generated with other <code>tidywikidatar</code> functions such as <code>tw_get_property()</code></p>
</td></tr>
<tr><td><code id="tw_label_+3A_value">value</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, it tries to get labels for all supposed id in the column called value. May break if the columns include some value which starts with Q and some digits, but is not a wikidata id.</p>
</td></tr>
<tr><td><code id="tw_label_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_label_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_label_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_label_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_label_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_label_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, with the same shape as the input data frame, but with labels instead of identifiers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_get_qualifiers(id = "Q180099", p = "P26", language = "en") %&gt;%
    head(2) %&gt;%
    tw_label()
}

</code></pre>

<hr>
<h2 id='tw_qid_airports'>The Wikidata Q identifier of European airports found in Eurostat's <code>avia_par_</code> dataset</h2><span id='topic+tw_qid_airports'></span>

<h3>Description</h3>

<p>The Wikidata Q identifier of European airports found in Eurostat's <code>avia_par_</code> dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_qid_airports
</code></pre>


<h3>Format</h3>

<p>A data frame with 429 rows and 1 column:
</p>

<dl>
<dt>id</dt><dd><p>Q identifiers</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">https://www.wikidata.org/wiki/Wikidata:Main_Page</a>
</p>

<hr>
<h2 id='tw_qid_meps'>The Wikidata Q identifier of all members of the European Parliament since its establishment</h2><span id='topic+tw_qid_meps'></span>

<h3>Description</h3>

<p>A dataset with all the Wikidata items that have &quot;Q27169&quot; (member of the European Parliament) for the property &quot;P39&quot; (position held).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_qid_meps
</code></pre>


<h3>Format</h3>

<p>A data frame with 4581 rows and 1 column:
</p>

<dl>
<dt>id</dt><dd><p>Q identifiers</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">https://www.wikidata.org/wiki/Wikidata:Main_Page</a>
</p>

<hr>
<h2 id='tw_query'>Perform simple Wikidata queries</h2><span id='topic+tw_query'></span>

<h3>Description</h3>

<p>This function aims to facilitate only the most basic type of queries: return which items have the following property pairs. For more details on Wikidata queries, consult: https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples. For complex queries, use <code>WikidataQueryServiceR::query_wikidata()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_query(
  query,
  fields = c("item", "itemLabel", "itemDescription"),
  language = tidywikidatar::tw_get_language(),
  return_as_tw_search = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_query_+3A_query">query</code></td>
<td>
<p>A list of named vectors, or a data frame (see example and readme).</p>
</td></tr>
<tr><td><code id="tw_query_+3A_fields">fields</code></td>
<td>
<p>A character vector of Wikidata fields. Ignored if <code>return_as_tw_search</code> is set to TRUE (as per default). Defaults to <code style="white-space: pre;">&#8288;("item", "itemLabel", "itemDescription")&#8288;</code></p>
</td></tr>
<tr><td><code id="tw_query_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. If more than one, can be set in order of preference, e.g. <code>c("it", "fr", "en")</code>. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_query_+3A_return_as_tw_search">return_as_tw_search</code></td>
<td>
<p>Logical, defaults to TRUE. If TRUE, returns a data frame with three columns (id, label, and description) that can be piped to other <code>tw_</code> functions. If FALSE, a data frame with as many columns as fields.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Consider <code>tw_get_all_with_p()</code> if you want to get all items with a given property, irrespective of the value.
</p>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  query &lt;- list(
    c(p = "P106", q = "Q1397808"),
    c(p = "P21", q = "Q6581072")
  )
  tw_query(query)
}
</code></pre>

<hr>
<h2 id='tw_reset_item_cache'>Reset qualifiers cache</h2><span id='topic+tw_reset_item_cache'></span>

<h3>Description</h3>

<p>Removes the table where qualifiers are cached
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_reset_item_cache(
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_reset_item_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_reset_item_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_reset_item_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_reset_item_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_reset_item_cache_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_reset_item_cache()
}
</code></pre>

<hr>
<h2 id='tw_reset_qualifiers_cache'>Reset qualifiers cache</h2><span id='topic+tw_reset_qualifiers_cache'></span>

<h3>Description</h3>

<p>Removes the table where qualifiers are cached
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_reset_qualifiers_cache(
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_reset_qualifiers_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_reset_qualifiers_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_reset_qualifiers_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_reset_qualifiers_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_reset_qualifiers_cache_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_reset_qualifiers_cache()
}
</code></pre>

<hr>
<h2 id='tw_reset_wikipedia_category_members_cache'>Reset Wikipedia category members cache</h2><span id='topic+tw_reset_wikipedia_category_members_cache'></span>

<h3>Description</h3>

<p>Removes from cache the table where data typically gathered with <code>tw_get_wikipedia_category_members()</code> are stored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_reset_wikipedia_category_members_cache(
  language = tidywikidatar::tw_get_language(),
  type = "page",
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_reset_wikipedia_category_members_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_category_members_cache_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;page&quot;, defines which kind of members of a category are returned. Valid values include &quot;page&quot;, &quot;file&quot;, and &quot;subcat&quot; (for sub-category). Corresponds to <code>cmtype</code>. For details, see <a href="https://www.mediawiki.org/wiki/API:Categorymembers">https://www.mediawiki.org/wiki/API:Categorymembers</a></p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_category_members_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_category_members_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database by default. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_category_members_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_category_members_cache_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_reset_wikipedia_category_members_cache()
}
</code></pre>

<hr>
<h2 id='tw_reset_wikipedia_page_cache'>Reset Wikipedia page cache</h2><span id='topic+tw_reset_wikipedia_page_cache'></span>

<h3>Description</h3>

<p>Removes the table where data typically gathered with <code>tw_get_wikipedia_page_qid()</code> from cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_reset_wikipedia_page_cache(
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_reset_wikipedia_page_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_cache_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_reset_wikipedia_page_cache()
}
</code></pre>

<hr>
<h2 id='tw_reset_wikipedia_page_links_cache'>Reset Wikipedia page link cache</h2><span id='topic+tw_reset_wikipedia_page_links_cache'></span>

<h3>Description</h3>

<p>Removes from cache the table where data typically gathered with <code>tw_get_wikipedia_page_links()</code> are stored
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_reset_wikipedia_page_links_cache(
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_reset_wikipedia_page_links_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_links_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_links_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database by default. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_links_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_links_cache_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_reset_wikipedia_page_links_cache()
}
</code></pre>

<hr>
<h2 id='tw_reset_wikipedia_page_sections_cache'>Reset Wikipedia page link cache</h2><span id='topic+tw_reset_wikipedia_page_sections_cache'></span>

<h3>Description</h3>

<p>Removes from cache the table where data typically gathered with <code>tw_get_wikipedia_page_sections()</code> are stored
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_reset_wikipedia_page_sections_cache(
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  cache_connection = NULL,
  disconnect_db = TRUE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_reset_wikipedia_page_sections_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_sections_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_sections_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database by default. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_sections_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_reset_wikipedia_page_sections_cache_+3A_ask">ask</code></td>
<td>
<p>Logical, defaults to TRUE. If FALSE, and cache folder does not exist, it just creates it without asking (useful for non-interactive sessions).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  tw_reset_wikipedia_page_sections_cache()
}
</code></pre>

<hr>
<h2 id='tw_search'>Search for Wikidata items or properties and return Wikidata id, label, and description.</h2><span id='topic+tw_search'></span>

<h3>Description</h3>

<p>By defaults, this search returns items. Set <code>type</code> to property or use <code>tw_search_property()</code> for properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_search(
  search,
  type = "item",
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  wait = 0,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_search_+3A_search">search</code></td>
<td>
<p>A string to be searched in Wikidata</p>
</td></tr>
<tr><td><code id="tw_search_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Either &quot;item&quot; or &quot;property&quot;.</p>
</td></tr>
<tr><td><code id="tw_search_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_+3A_response_language">response_language</code></td>
<td>
<p>Language to be used for the returned labels and descriptions. Corresponds to the <code>uselang</code> parameter of the MediaWiki API: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_search_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_search_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_search_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_search_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_search_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_search_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with three columns (id, label, and description), and as many rows as there are results (by default, limited to 10). Four columns when <code>include_search</code> is set to TRUE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_search(search = c("Margaret Mead", "Ruth Benedict"))
</code></pre>

<hr>
<h2 id='tw_search_item'>Search for Wikidata properties in Wikidata and return Wikidata id, label, and description.</h2><span id='topic+tw_search_item'></span>

<h3>Description</h3>

<p>This search returns only items, use <code>tw_search_property()</code> for properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_search_item(
  search,
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  wait = 0,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_search_item_+3A_search">search</code></td>
<td>
<p>A string to be searched in Wikidata</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_response_language">response_language</code></td>
<td>
<p>Language to be used for the returned labels and descriptions. Corresponds to the <code>uselang</code> parameter of the MediaWiki API: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_search_item_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with three columns (id, label, and description), and as many rows as there are results (by default, limited to 10).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_search_item(search = "Sylvia Pankhurst")
</code></pre>

<hr>
<h2 id='tw_search_property'>Search for Wikidata properties in Wikidata and return Wikidata id, label, and description.</h2><span id='topic+tw_search_property'></span>

<h3>Description</h3>

<p>This search returns only properties, use <code>tw_search_items()</code> for properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_search_property(
  search,
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  wait = 0,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_search_property_+3A_search">search</code></td>
<td>
<p>A string to be searched in Wikidata</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_response_language">response_language</code></td>
<td>
<p>Language to be used for the returned labels and descriptions. Corresponds to the <code>uselang</code> parameter of the MediaWiki API: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_search_property_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with three columns (id, label, and description), and as many rows as there are results (by default, limited to 10).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tw_search_property(search = "gender")
</code></pre>

<hr>
<h2 id='tw_search_single'>Search for Wikidata items or properties and return Wikidata id, label, and description.</h2><span id='topic+tw_search_single'></span>

<h3>Description</h3>

<p>This search returns only items, use <code>tw_search_property()</code> for properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_search_single(
  search,
  type = "item",
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  limit = 10,
  include_search = FALSE,
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE,
  wait = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_search_single_+3A_search">search</code></td>
<td>
<p>A string to be searched in Wikidata</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Either &quot;item&quot; or &quot;property&quot;.</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_response_language">response_language</code></td>
<td>
<p>Language to be used for the returned labels and descriptions. Corresponds to the <code>uselang</code> parameter of the MediaWiki API: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_limit">limit</code></td>
<td>
<p>Maximum numbers of responses to be given.</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_include_search">include_search</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, the search is returned as an additional column.</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
<tr><td><code id="tw_search_single_+3A_wait">wait</code></td>
<td>
<p>In seconds, defaults to 0. Time to wait between queries to Wikidata. If data are cached locally, wait time is not applied. If you are running many queries systematically you may want to add some waiting time between queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (a tibble) with three columns (id, label, and description), and as many rows as there are results (by default, limited to 10). Four columns when <code>include_search</code> is set to TRUE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tidywikidatar:::tw_search_single(search = "Sylvia Pankhurst")
</code></pre>

<hr>
<h2 id='tw_set_cache_db'>Set database connection settings for the session</h2><span id='topic+tw_set_cache_db'></span>

<h3>Description</h3>

<p>Set database connection settings for the session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_set_cache_db(
  db_settings = NULL,
  driver = NULL,
  host = NULL,
  server = NULL,
  port = NULL,
  database = NULL,
  user = NULL,
  pwd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_set_cache_db_+3A_db_settings">db_settings</code></td>
<td>
<p>A list of database connection settings (see example)</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_driver">driver</code></td>
<td>
<p>A database driver. Common database drivers include <code>MySQL</code>, <code>PostgreSQL</code>, and <code>MariaDB</code>. See <code>unique(odbc::odbcListDrivers()[[1]])</code> for a list of locally available drivers.</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_host">host</code></td>
<td>
<p>Host address, e.g. &quot;localhost&quot;. Different drivers use server or host parameter, only one of them is likely needed.</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_server">server</code></td>
<td>
<p>Server address, e.g. &quot;localhost&quot;. Different drivers use server or host parameter, only one of them is likely needed.</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_port">port</code></td>
<td>
<p>Port to use to connect to the database.</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_database">database</code></td>
<td>
<p>Database name.</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_user">user</code></td>
<td>
<p>Database user name.</p>
</td></tr>
<tr><td><code id="tw_set_cache_db_+3A_pwd">pwd</code></td>
<td>
<p>Password for the database user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with all given parameters (invisibly).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  # Settings can be provided either as a list
  db_settings &lt;- list(
    driver = "MySQL",
    host = "localhost",
    server = "localhost",
    port = 3306,
    database = "tidywikidatar",
    user = "secret_username",
    pwd = "secret_password"
  )

  tw_set_cache_db(db_settings)

  # or as parameters

  tw_set_cache_db(
    driver = "MySQL",
    host = "localhost",
    server = "localhost",
    port = 3306,
    database = "tidywikidatar",
    user = "secret_username",
    pwd = "secret_password"
  )

  # or ignoring fields that can be left to default values, such as "localhost" and port 3306

  tw_set_cache_db(
    driver = "MySQL",
    database = "tidywikidatar",
    user = "secret_username",
    pwd = "secret_password"
  )
}

</code></pre>

<hr>
<h2 id='tw_set_cache_folder'>Set folder for caching data</h2><span id='topic+tw_set_cache_folder'></span><span id='topic+tw_get_cache_folder'></span>

<h3>Description</h3>

<p>Consider using a folder out of your current project directory, e.g. <code>tw_set_cache_folder("~/R/tw_data/")</code>: you will be able to use the same cache in different projects, and prevent cached files from being sync-ed if you use services such as Nextcloud or Dropbox.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_set_cache_folder(path = NULL)

tw_get_cache_folder(path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_set_cache_folder_+3A_path">path</code></td>
<td>
<p>A path to a location used for caching data. If the folder does not exist, it will be created.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path to the caching folder, if previously set; the same path as given to the function; or the default, <code>tw_data</code> is none is given.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_set_cache_folder(fs::path(fs::path_home_r(), "R", "tw_data"))
}

tw_get_cache_folder()
</code></pre>

<hr>
<h2 id='tw_set_language'>Set language to be used by all functions</h2><span id='topic+tw_set_language'></span><span id='topic+tw_get_language'></span>

<h3>Description</h3>

<p>Defaults to &quot;en&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_set_language(language = NULL)

tw_get_language(language = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_set_language_+3A_language">language</code></td>
<td>
<p>A character vector of length one, with a string of two letters such as &quot;en&quot;. For a full list of available values, see: https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two letter code for the language, if previously set; the same language as given to the function; or the default, <code>en</code> is none is given.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  tw_set_language(language = "en")
}


tw_get_language()
</code></pre>

<hr>
<h2 id='tw_test_items'>A list mostly used for testing with some Wikidata items in the format resulting from <code>WikidataR::get_item()</code></h2><span id='topic+tw_test_items'></span>

<h3>Description</h3>

<p>A list mostly used for testing with some Wikidata items in the format resulting from <code>WikidataR::get_item()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_test_items
</code></pre>


<h3>Format</h3>

<p>A list, an object such as the one resulting from <code>WikidataR::get_item()</code>
</p>

<hr>
<h2 id='tw_write_item_to_cache'>Writes item to cache</h2><span id='topic+tw_write_item_to_cache'></span>

<h3>Description</h3>

<p>Writes item to cache. Typically used internally, but exported to enable custom caching solutions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_item_to_cache(
  item_df,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_item_to_cache_+3A_item_df">item_df</code></td>
<td>
<p>A data frame with three columns typically generated with <code>tw_get()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_item_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_item_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_item_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it first deletes all rows associated with the item(s) included in <code>item_df</code>. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_write_item_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_item_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_set_cache_folder(path = fs::path(tempdir(), paste(sample(letters, 24), collapse = "")))
tw_create_cache_folder(ask = FALSE)
tw_disable_cache()

df_from_api &lt;- tw_get(id = "Q180099", language = "en")

df_from_cache &lt;- tw_get_cached_item(
  id = "Q180099",
  language = "en"
)

is.null(df_from_cache) # expect TRUE, as nothing has yet been stored in cache

tw_write_item_to_cache(
  item_df = df_from_api,
  language = "en",
  cache = TRUE
)

df_from_cache &lt;- tw_get_cached_item(
  id = "Q180099",
  language = "en",
  cache = TRUE
)

is.null(df_from_cache) # expect a data frame, same as df_from_api
</code></pre>

<hr>
<h2 id='tw_write_qid_of_wikipedia_page_to_cache'>Write Wikidata identifier (qid) of Wikipedia page to cache</h2><span id='topic+tw_write_qid_of_wikipedia_page_to_cache'></span>

<h3>Description</h3>

<p>Mostly used internally by <code>tidywikidatar</code>, use with caution to keep caching consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_qid_of_wikipedia_page_to_cache(
  df,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_qid_of_wikipedia_page_to_cache_+3A_df">df</code></td>
<td>
<p>A data frame typically generated with <code>tw_get_wikipedia_page_qid()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_qid_of_wikipedia_page_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_qid_of_wikipedia_page_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_qid_of_wikipedia_page_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_write_qid_of_wikipedia_page_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_qid_of_wikipedia_page_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the same data frame provided as input. Mostly used internally for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  df &lt;- tw_get_wikipedia_page_qid(
    title = "Margaret Mead",
    language = "en",
    cache = FALSE
  )

  tw_write_qid_of_wikipedia_page_to_cache(
    df = df,
    language = "en"
  )
}
</code></pre>

<hr>
<h2 id='tw_write_qualifiers_to_cache'>Write qualifiers to cache</h2><span id='topic+tw_write_qualifiers_to_cache'></span>

<h3>Description</h3>

<p>Mostly to be used internally by <code>tidywikidatar</code>, use with caution to keep caching consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_qualifiers_to_cache(
  qualifiers_df,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_qualifiers_to_cache_+3A_qualifiers_df">qualifiers_df</code></td>
<td>
<p>A data frame typically generated with <code>tw_get_qualifiers()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_qualifiers_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_qualifiers_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_qualifiers_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_write_qualifiers_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_qualifiers_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the same data frame provided as input. Mostly used internally for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
q_df &lt;- tw_get_qualifiers(
  id = "Q180099",
  p = "P26",
  language = "en",
  cache = FALSE
)

tw_write_qualifiers_to_cache(
  qualifiers_df = q_df,
  language = "en",
  cache = TRUE
)
</code></pre>

<hr>
<h2 id='tw_write_search_to_cache'>Writes search to cache</h2><span id='topic+tw_write_search_to_cache'></span>

<h3>Description</h3>

<p>Writes search to cache. Typically used internally, but exported to enable custom caching solutions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_search_to_cache(
  search_df,
  type = "item",
  language = tidywikidatar::tw_get_language(),
  response_language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_search_to_cache_+3A_search_df">search_df</code></td>
<td>
<p>A data frame with four columns typically generated with <code>tw_search(include_search = TRUE)</code>.</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;item&quot;. Either &quot;item&quot; or &quot;property&quot;.</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_language">language</code></td>
<td>
<p>Language to be used for the search. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_response_language">response_language</code></td>
<td>
<p>Language to be used for the returned labels and descriptions. Corresponds to the <code>uselang</code> parameter of the MediaWiki API: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbsearchentities. Can be set once per session with <code>tw_set_language()</code>. If not set, defaults to &quot;en&quot;. For a full list, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Defaults to FALSE. If TRUE, overwrites cache.</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_search_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tw_set_cache_folder(path = fs::path(tempdir(), paste(sample(letters, 24), collapse = "")))
tw_create_cache_folder(ask = FALSE)
tw_disable_cache()

search_from_api &lt;- tw_search(search = "Sylvia Pankhurst", include_search = TRUE)

search_from_cache &lt;- tw_get_cached_search("Sylvia Pankhurst")

nrow(search_from_cache) == 0 # expect TRUE, as nothing has yet been stored in cache

tw_write_search_to_cache(search_df = search_from_api)

search_from_cache &lt;- tw_get_cached_search("Sylvia Pankhurst")

search_from_cache
</code></pre>

<hr>
<h2 id='tw_write_wikipedia_category_members_to_cache'>Write Wikipedia page links to cache</h2><span id='topic+tw_write_wikipedia_category_members_to_cache'></span>

<h3>Description</h3>

<p>Mostly used internally by <code>tidywikidatar</code>, use with caution to keep caching consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_wikipedia_category_members_to_cache(
  df,
  language = tidywikidatar::tw_get_language(),
  type = "page",
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_df">df</code></td>
<td>
<p>A data frame typically generated with <code>tw_get_wikipedia_category_members()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_type">type</code></td>
<td>
<p>Defaults to &quot;page&quot;, defines which kind of members of a category are returned. Valid values include &quot;page&quot;, &quot;file&quot;, and &quot;subcat&quot; (for sub-category). Corresponds to <code>cmtype</code>. For details, see <a href="https://www.mediawiki.org/wiki/API:Categorymembers">https://www.mediawiki.org/wiki/API:Categorymembers</a></p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_category_members_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the same data frame provided as input. Mostly used internally for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  df &lt;- tw_get_wikipedia_category_members(
    category = "American women anthropologists",
    language = "en",
    cache = FALSE
  )

  tw_write_wikipedia_category_members_to_cache(
    df = df,
    language = "en"
  )
}
</code></pre>

<hr>
<h2 id='tw_write_wikipedia_page_links_to_cache'>Write Wikipedia page links to cache</h2><span id='topic+tw_write_wikipedia_page_links_to_cache'></span>

<h3>Description</h3>

<p>Mostly used internally by <code>tidywikidatar</code>, use with caution to keep caching consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_wikipedia_page_links_to_cache(
  df,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_wikipedia_page_links_to_cache_+3A_df">df</code></td>
<td>
<p>A data frame typically generated with <code>tw_get_wikipedia_page_links()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_links_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_links_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_links_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_links_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_links_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the same data frame provided as input. Mostly used internally for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  df &lt;- tw_get_wikipedia_page_links(
    title = "Margaret Mead",
    language = "en",
    cache = FALSE
  )

  tw_write_wikipedia_page_links_to_cache(
    df = df,
    language = "en"
  )
}
</code></pre>

<hr>
<h2 id='tw_write_wikipedia_page_sections_to_cache'>Write Wikipedia page links to cache</h2><span id='topic+tw_write_wikipedia_page_sections_to_cache'></span>

<h3>Description</h3>

<p>Mostly used internally by <code>tidywikidatar</code>, use with caution to keep caching consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tw_write_wikipedia_page_sections_to_cache(
  df,
  language = tidywikidatar::tw_get_language(),
  cache = NULL,
  overwrite_cache = FALSE,
  cache_connection = NULL,
  disconnect_db = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tw_write_wikipedia_page_sections_to_cache_+3A_df">df</code></td>
<td>
<p>A data frame typically generated with <code>tw_get_wikipedia_page_sections()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_sections_to_cache_+3A_language">language</code></td>
<td>
<p>Defaults to language set with <code>tw_set_language()</code>; if not set, &quot;en&quot;. Use &quot;all_available&quot; to keep all languages. For available language values, see https://www.wikidata.org/wiki/Help:Wikimedia_language_codes/lists/all</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_sections_to_cache_+3A_cache">cache</code></td>
<td>
<p>Defaults to NULL. If given, it should be given either TRUE or FALSE. Typically set with <code>tw_enable_cache()</code> or <code>tw_disable_cache()</code>.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_sections_to_cache_+3A_overwrite_cache">overwrite_cache</code></td>
<td>
<p>Logical, defaults to FALSE. If TRUE, it overwrites the table in the local sqlite database. Useful if the original Wikidata object has been updated.</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_sections_to_cache_+3A_cache_connection">cache_connection</code></td>
<td>
<p>Defaults to NULL. If NULL, and caching is enabled, <code>tidywikidatar</code> will use a local sqlite database. A custom connection to other databases can be given (see vignette <code>caching</code> for details).</p>
</td></tr>
<tr><td><code id="tw_write_wikipedia_page_sections_to_cache_+3A_disconnect_db">disconnect_db</code></td>
<td>
<p>Defaults to TRUE. If FALSE, leaves the connection to cache open.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the same data frame provided as input. Mostly used internally for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  df &lt;- tw_get_wikipedia_page_sections(
    title = "Margaret Mead",
    language = "en",
    cache = FALSE
  )

  tw_write_wikipedia_page_sections_to_cache(
    df = df,
    language = "en"
  )
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

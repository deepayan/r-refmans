<!DOCTYPE html><html lang="en"><head><title>Help for package ppendemic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ppendemic}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#direct_match'><p>Direct Match</p></a></li>
<li><a href='#direct_match_species_within_genus_helper'><p>Direct Match Species within Genus</p></a></li>
<li><a href='#fuzzy_match_genus'><p>Fuzzy Match Genus Name</p></a></li>
<li><a href='#fuzzy_match_infraspecies_within_species'><p>Fuzzy Match Infraspecies within Species</p></a></li>
<li><a href='#fuzzy_match_species_within_genus_helper'><p>Fuzzy Match Species within Genus</p></a></li>
<li><a href='#genus_match'><p>Match Genus Name</p></a></li>
<li><a href='#is_ppendemic'><p>Check if species are endemic in the ppendemic database</p></a></li>
<li><a href='#matching_ppendemic'><p>Match Species Names to Endemic Plant List of Peru</p></a></li>
<li><a href='#ppendemic_tab13'><p>ppendemic_tab: Endemic Plant Database of Peru</p></a></li>
<li><a href='#suffix_match_species_within_genus_helper'><p>Suffix Match Species within Genus</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A Glimpse at the Diversity of Peru's Endemic Plants</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.8</td>
</tr>
<tr>
<td>Description:</td>
<td>Introducing a novel and updated database showcasing Peru's endemic plants. This meticulously compiled and revised botanical collection encompasses a remarkable assemblage of over 7,249 distinct species. The data for this resource was sourced from the work of Govaerts, R., Nic Lughadha, E., Black, N. et al., titled 'The World Checklist of Vascular Plants: A continuously updated resource for exploring global plant diversity', published in Sci Data 8, 215 (2021) &lt;<a href="https://doi.org/10.1038%2Fs41597-021-00997-6">doi:10.1038/s41597-021-00997-6</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/PaulESantos/ppendemic/">https://github.com/PaulESantos/ppendemic/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/PaulESantos/ppendemic/issues/">https://github.com/PaulESantos/ppendemic/issues/</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0),</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul E. Santos Andrade &lt;paulefrens@gmail.com&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, dplyr, fuzzyjoin, memoise, progress, purrr, readr,
stringr, tibble, tidyr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-14 04:31:52 UTC; PC</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul E. Santos Andrade
    <a href="https://orcid.org/0000-0002-6635-0375"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Lucely L. Vilca Bustamante
    <a href="https://orcid.org/0000-0002-5559-1296"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-14 04:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='direct_match'>Direct Match</h2><span id='topic+direct_match'></span>

<h3>Description</h3>

<p>This function performs a direct match of species names. It matches the genus and species if the name is binomial, and matches the genus, species, and infra species if the name includes a subspecies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>direct_match(df, target_df = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="direct_match_+3A_df">df</code></td>
<td>
<p>A tibble containing the species data to be matched.</p>
</td></tr>
<tr><td><code id="direct_match_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with an additional logical column direct_match indicating whether the binomial or trinomial name was successfully matched (<code>TRUE</code>) or not (<code>FALSE</code>).
</p>

<hr>
<h2 id='direct_match_species_within_genus_helper'>Direct Match Species within Genus</h2><span id='topic+direct_match_species_within_genus_helper'></span>

<h3>Description</h3>

<p>This function performs a direct match of specific epithets within an already matched genus from the list of endemic species in the ppendemic database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>direct_match_species_within_genus_helper(df, target_df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="direct_match_species_within_genus_helper_+3A_df">df</code></td>
<td>
<p>A tibble containing the species data to be matched.</p>
</td></tr>
<tr><td><code id="direct_match_species_within_genus_helper_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with an additional logical column indicating whether the specific epithet was successfully matched within the matched genus (<code>TRUE</code>) or not (<code>FALSE</code>).
</p>

<hr>
<h2 id='fuzzy_match_genus'>Fuzzy Match Genus Name</h2><span id='topic+fuzzy_match_genus'></span>

<h3>Description</h3>

<p>This function performs a fuzzy match of genus names against the ppendemic database using fuzzyjoin::stringdist() to account for slight variations in spelling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuzzy_match_genus(df, target_df = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fuzzy_match_genus_+3A_df">df</code></td>
<td>
<p>A tibble containing the genus names to be matched.</p>
</td></tr>
<tr><td><code id="fuzzy_match_genus_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with two additional columns:
</p>

<ul>
<li><p> fuzzy_match_genus: A logical column indicating whether the genus was successfully matched (<code>TRUE</code>) or not (<code>FALSE</code>).
</p>
</li>
<li><p> fuzzy_genus_dist: A numeric column representing the distance for each match.
</p>
</li></ul>


<hr>
<h2 id='fuzzy_match_infraspecies_within_species'>Fuzzy Match Infraspecies within Species</h2><span id='topic+fuzzy_match_infraspecies_within_species'></span>

<h3>Description</h3>

<p>This function performs a fuzzy match of specific infraspecies within an already matched epithet from the list of endemic species in the ppendemic database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuzzy_match_infraspecies_within_species(df, target_df = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fuzzy_match_infraspecies_within_species_+3A_df">df</code></td>
<td>
<p>A tibble containing the species data to be matched.</p>
</td></tr>
<tr><td><code id="fuzzy_match_infraspecies_within_species_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with an additional logical column fuzzy_match_infraspecies_within_species, indicating whether the specific infraspecies was successfully fuzzy matched within the matched species (<code>TRUE</code>) or not (<code>FALSE</code>).
</p>

<hr>
<h2 id='fuzzy_match_species_within_genus_helper'>Fuzzy Match Species within Genus</h2><span id='topic+fuzzy_match_species_within_genus_helper'></span>

<h3>Description</h3>

<p>This function attempts to fuzzy match species names within a genus to the ppendemic database using fuzzyjoin::stringdist for fuzzy matching.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuzzy_match_species_within_genus_helper(df, target_df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fuzzy_match_species_within_genus_helper_+3A_df">df</code></td>
<td>
<p>A tibble containing the species data to be matched.</p>
</td></tr>
<tr><td><code id="fuzzy_match_species_within_genus_helper_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with an additional logical column fuzzy_match_species_within_genus, indicating whether the specific epithet was successfully fuzzy matched within the matched genus (<code>TRUE</code>) or not (<code>FALSE</code>).
</p>

<hr>
<h2 id='genus_match'>Match Genus Name</h2><span id='topic+genus_match'></span>

<h3>Description</h3>

<p>This function performs a direct match of genus names against the genus names listed in the ppendemic database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genus_match(df, target_df = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="genus_match_+3A_df">df</code></td>
<td>
<p>A tibble containing the genus names to be matched.</p>
</td></tr>
<tr><td><code id="genus_match_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with an additional logical column genus_match indicating whether the genus was successfully matched (<code>TRUE</code>) or not (<code>FALSE</code>).
</p>

<hr>
<h2 id='is_ppendemic'>Check if species are endemic in the ppendemic database</h2><span id='topic+is_ppendemic'></span>

<h3>Description</h3>

<p>This function checks if a list of species names are endemic in the ppendemic database.
The function allows fuzzy matching for species names with a maximum distance threshold to handle potential typos or variations in species names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_ppendemic(splist)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_ppendemic_+3A_splist">splist</code></td>
<td>
<p>A character vector containing the list of species names to be checked for endemic in the ppendemic database.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector indicating if each species is endemic or not endemic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_ppendemic(c("Aa aurantiaca", "Aa aurantiaaia", "Werneria nubigena"))

</code></pre>

<hr>
<h2 id='matching_ppendemic'>Match Species Names to Endemic Plant List of Peru</h2><span id='topic+matching_ppendemic'></span>

<h3>Description</h3>

<p>This function matches given species names against the internal database of endemic plant species in Peru.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matching_ppendemic(splist)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matching_ppendemic_+3A_splist">splist</code></td>
<td>
<p>A vector containing the species list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function first attempts to directly match species names with exact
matches in the database (genus and specific epithet, or genus, specific
epithet, and infra species). If no exact match is found, the function
performs a fuzzy match using the fuzzyjoin package with an optimal string alignment distance of one, as implemented in stringdist.
</p>
<p>The maximum edit distance is intentionally set to one.
</p>
<p>The function matching_ppendemic returns a tibble with new columns Matched.Genus, Matched.Species, and Matched.Infraspecies, containing the matched names or NA if no match was found.
</p>
<p>Additionally, a logical column is added for each function called, allowing users to see which functions were applied to each name during the matching process. If a process column shows <code>NA</code>, the corresponding function was not called for that name because it was already matched by a preceding function.
</p>


<h3>Value</h3>

<p>Returns a tibble with the matched names in
Matched.Genus, Matched.Species for binomial names,
and Matched.Infraspecies for valid infra species names.
</p>

<hr>
<h2 id='ppendemic_tab13'>ppendemic_tab: Endemic Plant Database of Peru</h2><span id='topic+ppendemic_tab13'></span>

<h3>Description</h3>

<p>The ppendemic_tab dataset is a tibble (data frame) that provides easy access
to a comprehensive database of Peru's endemic plant species. It contains a total
of 7,249 records with essential botanical information, including the accepted
name, accepted family, accepted name author, publication author, place of
publication, volume and page, and first published details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ppendemic_tab13
</code></pre>


<h3>Format</h3>

<p>A tibble (data frame) with 7815 rows and 14 columns:
</p>

<dl>
<dt>version</dt><dd><p>Character vector. The version of ppendemic database, same id as POWO database.</p>
</dd>
<dt>version_date</dt><dd><p>Character vector. The version date of POWO database.</p>
</dd>
<dt>taxon_name</dt><dd><p>Character vector. The accepted name of the endemic
plant species.</p>
</dd>
<dt>taxon_status</dt><dd><p>Character vector.</p>
</dd>
<dt>family</dt><dd><p>Character vector. The family of the accepted name
of the endemic plant species.</p>
</dd>
<dt>Genus</dt><dd><p>Character vector.</p>
</dd>
<dt>Species</dt><dd><p>Character vector.</p>
</dd>
<dt>infraspecific_rank</dt><dd><p>Character vector.</p>
</dd>
<dt>infraspecies</dt><dd><p>Character vector.</p>
</dd>
<dt>taxon_authors</dt><dd><p>Character vector. The author(s) of the accepted
name of the endemic plant species.</p>
</dd>
<dt>prinmary_author</dt><dd><p>Character vector. The author(s) of the publication
containing the endemic plant species information.</p>
</dd>
<dt>place_of_publication</dt><dd><p>Character vector. The place of publication of
the endemic plant species information.</p>
</dd>
<dt>volume_and_page</dt><dd><p>Character vector. The volume and page number of the
publication containing the endemic plant species information.</p>
</dd>
<dt>first_published</dt><dd><p>Character vector. The first published year of the
publication containing the endemic plant species information.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset provides a curated and up-to-date collection of Peru's
endemic plant species, gathered from reputable botanical sources and publications.
The data for this database was extracted and compiled from the World Checklist
of Vascular Plants (WCVP) database, which is a comprehensive and reliable
repository of botanical information.
</p>
<p>Researchers, botanists, ecologists, and nature enthusiasts can use this dataset
to explore and study the unique and diverse flora exclusive to Peru. The dataset
is particularly valuable for conducting studies related to biodiversity,
conservation, and ecological research.
</p>


<h3>Source</h3>

<p>The dataset has been carefully compiled and updated to offer the latest
insights into Peru's endemic plant species. Original sources of the data include
authoritative botanical publications and research articles available in the WCVP
database.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load the package
library(ppendemic)

# Access the dataset
data("ppendemic_tab13")


</code></pre>

<hr>
<h2 id='suffix_match_species_within_genus_helper'>Suffix Match Species within Genus</h2><span id='topic+suffix_match_species_within_genus_helper'></span>

<h3>Description</h3>

<p>Function to match the specific epithet by exchanging common suffixes
within an already matched genus in the ppendemic database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suffix_match_species_within_genus_helper(df, target_df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="suffix_match_species_within_genus_helper_+3A_df">df</code></td>
<td>
<p>A tibble.</p>
</td></tr>
<tr><td><code id="suffix_match_species_within_genus_helper_+3A_target_df">target_df</code></td>
<td>
<p>A tibble representing the ppendemic database containing the reference list of endemic species.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble with the additional logical column
suffix_match_species_within_genus, indicating whether the specific
epithet was successfully matched within the matched genus (<code>TRUE</code>)
or not (<code>FALSE</code>).
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package diverse</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {diverse}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#diverse'><p>diverse: A package to compute diversity measures.</p></a></li>
<li><a href='#balance'><p>Balance or proportions</p></a></li>
<li><a href='#dis_categories'><p>A procedure to create a disparity matrix between categories.</p></a></li>
<li><a href='#dis_entities'><p>A procedure to create a disparity matrix between entities</p></a></li>
<li><a href='#disparity'><p>A procedure to compute the sum and average of disparities</p></a></li>
<li><a href='#diversity'><p><strong>Main</strong> function to compute diversity measures</p></a></li>
<li><a href='#geese'><p>Geese dataset</p></a></li>
<li><a href='#pantheon'><p>Pantheon dataset</p></a></li>
<li><a href='#read_data'><p>A procedure to read data of a data file in formats csv, dta or spss</p></a></li>
<li><a href='#scidat'><p>Scidat dataset</p></a></li>
<li><a href='#sim_dataset'><p>A procedure to simulate datasets</p></a></li>
<li><a href='#sim_entity'><p>A procedure to simulate entities</p></a></li>
<li><a href='#sim_individuals'><p>A procedure to simulate labeled individuals for one category</p></a></li>
<li><a href='#to_entropart'><p>Transforms data to be used in Entropart package</p></a></li>
<li><a href='#ubiquity'><p>Ubiquity of categories across entities</p></a></li>
<li><a href='#values'><p>Pre-process the raw data</p></a></li>
<li><a href='#variety'><p>Variety or Richness</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Diversity Measures for Complex Systems</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Author:</td>
<td>Miguel R. Guevara &lt;miguel.guevara@upla.cl&gt;, Dominik Hartmann
        &lt;d.hartmann@uni-hohenheim.de&gt;, Marcelo Mendoza
        &lt;marcelo.mendoza@usm.cl&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Miguel R. Guevara &lt;miguel.guevara@upla.cl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Computes the most common diversity measures used in social and other sciences, and includes new measures from interdisciplinary research.</td>
</tr>
<tr>
<td>Depends:</td>
<td>proxy, reshape2, foreign, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>pheatmap, igraph, entropart</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mguevara/diverse">https://github.com/mguevara/diverse</a></td>
</tr>
<tr>
<td>Date:</td>
<td>2017-03-23</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mguevara/diverse/issues">https://github.com/mguevara/diverse/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a></td>
</tr>
<tr>
<td>Note:</td>
<td>Supported by internal research project ING01-1516 from
'Universidad de Playa Ancha'</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-03-23 17:39:05 UTC; mguevara</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-03-23 17:49:56 UTC</td>
</tr>
</table>
<hr>
<h2 id='diverse'>diverse: A package to compute diversity measures.</h2><span id='topic+diverse'></span><span id='topic+diverse-package'></span>

<h3>Description</h3>

<p>The package <span class="pkg">diverse</span> allows the user to compute the most common measures of diversity.
</p>


<h3>Details</h3>

<p>The main function of the <span class="pkg">diverse</span> package is
<code><a href="#topic+diversity">diversity</a></code>. Other functions are useful according to user
needs, as <code><a href="#topic+variety">variety</a></code> to compute simple variety-richness or
<code><a href="#topic+balance">balance</a></code> to compute measures related to balance.
Also values and normalized values are accesible by using the function
<code><a href="#topic+values">values</a></code>.
</p>

<hr>
<h2 id='balance'>Balance or proportions</h2><span id='topic+balance'></span>

<h3>Description</h3>

<p>Computes the proportions or probabilities of raw values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>balance(data, category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="balance_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="balance_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of entities-categories with proportions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>balance(data=geese, category_row = TRUE)
</code></pre>

<hr>
<h2 id='dis_categories'>A procedure to create a disparity matrix between categories.</h2><span id='topic+dis_categories'></span>

<h3>Description</h3>

<p>Takes a data frame or a matrix to create a disparity matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dis_categories(data, method = "euclidean", category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dis_categories_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="dis_categories_+3A_method">method</code></td>
<td>
<p>A distance or dissimilarity method available in &quot;proxy&quot; package as for example &quot;Euclidean&quot;, &quot;Kullback&quot; or &quot;Canberra&quot;. This argument also accepts a similarity method available in the &quot;proxy&quot; package, as for example: &quot;cosine&quot;, &quot;correlation&quot; or &quot;Jaccard&quot; among others. In the latter case, a correspondent transformation to a dissimilarity measure will be retrieved. A list of available methods can be queried by using the function <code><a href="proxy.html#topic+pr_DB">pr_DB</a></code>. e.g. summary(pr_DB). The default value is Euclidean distance.</p>
</td></tr>
<tr><td><code id="dis_categories_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A distance or dissimilarity square matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Xdis &lt;- dis_categories(pantheon)
</code></pre>

<hr>
<h2 id='dis_entities'>A procedure to create a disparity matrix between entities</h2><span id='topic+dis_entities'></span>

<h3>Description</h3>

<p>Takes a data frame or a matrix to create a disparity matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dis_entities(data, method = "euclidean", category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dis_entities_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="dis_entities_+3A_method">method</code></td>
<td>
<p>A distance or dissimilarity method available in &quot;proxy&quot; package as for example &quot;Euclidean&quot;, &quot;Kullback&quot; or &quot;Canberra&quot;. This argument also accepts a similarity method available in the &quot;proxy&quot; package, as for example: &quot;cosine&quot;, &quot;correlation&quot; or &quot;Jaccard&quot; among others. In the latter case, a correspondent transformation to a dissimilarity measure will be retrieved. A list of available methods can be queried by using the function <code><a href="proxy.html#topic+pr_DB">pr_DB</a></code>. e.g. summary(pr_DB). The default value is Euclidean distance.</p>
</td></tr>
<tr><td><code id="dis_entities_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A distance or dissimilarity square matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Xdis &lt;- dis_entities(pantheon)
#for science dataset
dis_entities(scidat, method='cosine')
</code></pre>

<hr>
<h2 id='disparity'>A procedure to compute the sum and average of disparities</h2><span id='topic+disparity'></span>

<h3>Description</h3>

<p>Computes the sum and the average of distances or disparities between the categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disparity(data, method = "euclidean", category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="disparity_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="disparity_+3A_method">method</code></td>
<td>
<p>A distance or dissimilarity method available in &quot;proxy&quot; package as for example &quot;Euclidean&quot;, &quot;Kullback&quot; or &quot;Canberra&quot;. This argument also accepts a similarity method available in the &quot;proxy&quot; package, as for example: &quot;cosine&quot;, &quot;correlation&quot; or &quot;Jaccard&quot; among others. In the latter case, a correspondent transformation to a dissimilarity measure will be retrieved. A list of available methods can be queried by using the function <code><a href="proxy.html#topic+pr_DB">pr_DB</a></code>. e.g. summary(pr_DB). The default value is Euclidean distance.</p>
</td></tr>
<tr><td><code id="disparity_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with disparity measures for each entity in the dataset. Both the sum of disparities and the average of disparities are computed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pantheon)
disparity(data= pantheon)
disparity(data = pantheon, method='Canberra')
#For scientific publications
#Same disparities, since all countries authored all entities
disparity(scidat)
disparity(data= scidat, method='cosine')
#Creating differences by measuring Revealed Compartive Advantages
disparity(values(scidat, norm='rca', filter=1))
#Activity Index for scientometrics
disparity(values(scidat, norm='ai', filter=0), method='cosine')
#Using binarization of values and a binary metric for dissimilarities.
disparity(values(scidat, norm='ai', filter=0, binary=TRUE), method='jaccard')
</code></pre>

<hr>
<h2 id='diversity'><strong>Main</strong> function to compute diversity measures</h2><span id='topic+diversity'></span>

<h3>Description</h3>

<p><strong>Main</strong> function of the package. The diversity function computes diversity measures for a dataset with entities, categories and values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diversity(data, type = "all", category_row = FALSE, dis = NULL,
  method = "euclidean", q = 0, alpha = 1, beta = 1, base = exp(1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diversity_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="diversity_+3A_type">type</code></td>
<td>
<p>A string or a vector of strings of nemonic strings referencing to the available diversity measures. The available measures are: &quot;variety&quot;, (Shannon) &quot;entropy&quot;, &quot;blau&quot;,&quot;gini-simpson&quot;, &quot;simpson&quot;, &quot;hill-numbers&quot;, &quot;herfindahl-hirschman&quot;, &quot;berger-parker&quot;, &quot;renyi&quot;, (Pielou) &quot;evenness&quot;, &quot;rao&quot;, &quot;rao-stirling&quot;. A list of short mnemonics for each measure: &quot;v&quot;, &quot;e&quot;, &quot;gs&quot;, &quot;s&quot;, &quot;td&quot;, &quot;hh&quot;, &quot;bp&quot;, &quot;re&quot;, &quot;ev&quot;, &quot;r&quot;, and &quot;rs&quot;. The default for type is &quot;all&quot; which computes all available formulas.</p>
</td></tr>
<tr><td><code id="diversity_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
<tr><td><code id="diversity_+3A_dis">dis</code></td>
<td>
<p>Optional square matrix of distances or dissimilarities between categories. It allows the user to provide her own matrix of dissimilarities between categories. The category names have to be both in the rows and in the columns, and these must be the exact same names used by the categories in the argument &quot;data&quot;. Only the upper triangle will be used. If  the argument &quot;dis&quot; is not defined, and the user requires a measure that uses disparities (e.g. Rao), then a matrix of disparities is computed internally using the method defined by the argument 'method'. The default value is NULL.</p>
</td></tr>
<tr><td><code id="diversity_+3A_method">method</code></td>
<td>
<p>The &quot;rao-stirling&quot; and &quot;rao&quot;-diversity indices use a disparity function to measure the distance between objects. If the user does not provide a matrix with disparities by using the argument 'dis', then a matrix of disparities is computed using the method specified in this argument (method). Possible values for this argument are distance or dissimilarity methods available in &quot;proxy&quot; package as for example &quot;Euclidean&quot;, &quot;Kullback&quot; or &quot;Canberra&quot;. This argument also accepts a similarity method available in the &quot;proxy&quot; package, as for example: &quot;cosine&quot;, &quot;correlation&quot; or &quot;Jaccard&quot; among others. In the latter case, a correspondent transformation to a dissimilarity measure will be retrieved. A list of available methods can be queried by using the function <code><a href="proxy.html#topic+pr_DB">pr_DB</a></code>. e.g. summary(pr_DB). The default value is Euclidean distance.</p>
</td></tr>
<tr><td><code id="diversity_+3A_q">q</code></td>
<td>
<p>The parameter used for the hill numbers. This argument is also used for the Renyi entropy and HCDT entropy. The default value is 0.</p>
</td></tr>
<tr><td><code id="diversity_+3A_alpha">alpha</code></td>
<td>
<p>Parameter for Rao-Stirling diversity. The default value is 1.</p>
</td></tr>
<tr><td><code id="diversity_+3A_beta">beta</code></td>
<td>
<p>Parameter for Rao-Stirling diversity. The default value is 1.</p>
</td></tr>
<tr><td><code id="diversity_+3A_base">base</code></td>
<td>
<p>Base of the logarithm. Used in Entropy calculations. The default value is exp(1).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Notation used in the following formulas: <code class="reqn">N</code>, category count; <code class="reqn">p_i</code>, proportion of entity comprises category <code class="reqn">i</code>; <code class="reqn">d_{ij}</code>, disparity between <code class="reqn">i</code> and <code class="reqn">j</code>;  <code class="reqn">q</code>,<code class="reqn">\alpha</code> and <code class="reqn">\beta</code>, arguments.
</p>
<p>The available diversity measures included in the package are listed above. The titles of the formulas are the possible mnemonic values that the argument &quot;type&quot; might take to compute that formula (i.e. diversity(data, type='variety') or diversity(data, type='v'):
</p>
<p><strong>variety, v:</strong>
Category counts per entity [MacArthur 1965] </p>
<p style="text-align: center;"><code class="reqn">\sum_i(p_i^0)</code>
</p>
<p>.
</p>
<p><strong>entropy, e:</strong>
Shannon entropy per entity [Shannon 1948] </p>
<p style="text-align: center;"><code class="reqn">- \sum_i(p_i \log p_i)</code>
</p>

<p><strong>Herfindahl-Hirschman, hh, hhi:</strong> The Herfindahl-Hirschman Index used in economy to measure the concentration of markets. </p>
<p style="text-align: center;"><code class="reqn">\sum_i(p_i^2)</code>
</p>

<p><strong>gini-simpson, gs:</strong>
Gini-Simpson index per object [Gini 1912].  This measure is also known as the Gibbs-Martin index or the Blau index in sociology, psychology and management studies.  </p>
<p style="text-align: center;"><code class="reqn">1 - \sum_i(p_i^2)</code>
</p>

<p><strong>simpson, s:</strong>
Simpson index per entity [Simpson 1949].   </p>
<p style="text-align: center;"><code class="reqn"> D = \sum_i n_i(n_i-1) / N(N-1)</code>
</p>

<p>When this measure is required, then also associated variations Simpson's Index of Diversity <code class="reqn">1-D</code> and the Reciprocal Simpson <code class="reqn">1/D</code> will be computed.
</p>
<p><strong>hill-numbers, td,hn:</strong>
Hill Numbers [Hill 1973]. This measure is <code class="reqn">q</code> parameterized. When <code class="reqn">q=1</code>, it results in the exponential of Shannon Entropy. Default for <code class="reqn">q</code> is 0, this is the variety or richness. </p>
<p style="text-align: center;"><code class="reqn">(\sum_ip_{i}^q)^{1/(1-q)}</code>
</p>

<p><strong>berger-parker, bp:</strong>
Berger-Parker index is equals to the maximum <code class="reqn">p_i</code> value in the entity, i.e. the proportional abundance of the most abundant type. When this measure is required, the reciprocal measure is also computed.
</p>
<p><strong>renyi, re:</strong>
Renyi entropy per object. This measure is a generalization of the Shannon entropy parameterized by <code class="reqn">q</code>. It corresponds to the logarithm of the hill numbers. The default value for <code class="reqn">q</code> is 0. </p>
<p style="text-align: center;"><code class="reqn">(1-q)^{-1} \log(\sum_i p_i^q)</code>
</p>

<p><strong>evenness, ev:</strong>
Pielou evenness per object across categories [Pielou, 1969]. It is based in Shannon Entropy </p>
<p style="text-align: center;"><code class="reqn">-\sum_i(p_i \log p_i)/\log{v} </code>
</p>

<p><strong>rao:</strong>
Rao diversity. </p>
<p style="text-align: center;"><code class="reqn">\sum_{ij}d_{ij} p_i p_j </code>
</p>

<p><strong>rao-stirling, rs:</strong>
Rao-Stirling diversity per object across categories [Stirling, 2007]. Default values are <code class="reqn">\alpha=1</code> and <code class="reqn">\beta=1</code>.
For the pairwise disparities the measure allows to consider the Jaccard Index, Euclidean distances, Cosine Similarity among others. </p>
<p style="text-align: center;"><code class="reqn">\sum_{ij}{d_{ij}}^\alpha {(p_i p_j )}^\beta</code>
</p>



<h3>Value</h3>

<p>A data frame with diversity measures as columns for each entity.
</p>


<h3>References</h3>

<p>Gini, C. (1912). &quot;Italian: Variabilita e mutabilita&quot; 'Variability and Mutability', Memorie di metodologica statistica.
</p>
<p>Hill, M. (1973). &quot;Diversity and evenness: a unifying notation and its consequences&quot;. Ecology 54: 427-432.
</p>
<p>MacArthur, R. (1965). &quot;Patterns of Species Diversity&quot;. Biology Reviews 40: 510-533.
</p>
<p>Pielou, E. (1969). &quot;An Introduction to Mathematical Ecology&quot;. Wiley.
</p>
<p>Shannon, C. (1948). &quot;A Mathematical Theory of Communication&quot;. Bell entity Technical Journal 27 (3): 379-423.
</p>
<p>Simpson, A. (1949). &quot;Measurement of Diversity&quot;. Nature 163: 41-48.
</p>
<p>Stirling, A. (2007). &quot;A General Framework for Analysing Diversity in Science, Technology and Society&quot;. Journal of the Royal Society Interface 4: 707-719.
</p>
<p>Rafols, I., &amp; Meyer, M. (2009). Diversity and network coherence as indicators of interdisciplinarity: case studies in bionanoscience. Scientometrics, 82(2), 263-287.
</p>
<p>Rafols, I. (2014). Knowledge Integration and Diffusion: Measures and Mapping of Diversity and Coherence. In Y. Ding, R. Rousseau, &amp; D. Wolfram (Eds.), Measuring Scholarly Impact (pp. 169-190). Springer International Publishing.
</p>
<p>Chavarro, D., Tang, P., &amp; Rafols, I. (2014). Interdisciplinarity and research on local issues: evidence from a developing country. Research Evaluation, 23(3), 195-209.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pantheon)
diversity(pantheon)
diversity(pantheon, type='variety')
diversity(geese, type='berger-parker', category_row=TRUE)
#reading csv data matrix
path_to_file &lt;- system.file("extdata", "PantheonMatrix.csv", package = "diverse")
X &lt;- read_data(path = path_to_file)
diversity(data=X, type="gini")
diversity(data=X, type="rao-stirling", method="cosine")
diversity(data=X, type="all", method="jaccard")

#reading csv dataframe
path_to_file &lt;- system.file("extdata", "PantheonEdges.csv", package = "diverse")
X &lt;- read_data(path = path_to_file)
#hill numbers
diversity(data=X, type="td", q=1)
#rao stirling with differente arguments
diversity(data=X, type="rao-stirling", method="euclidean", alpha=0, beta=1)
#more than one diversity measure
diversity(data=X, type=c('e','ev','bp','s'))
</code></pre>

<hr>
<h2 id='geese'>Geese dataset</h2><span id='topic+geese'></span>

<h3>Description</h3>

<p>A matrix of species of geese.
The dataset includes the quantity of 4 species of geese observed by year in the Netherlands.
The data comes from the Dutch bird protection organisation Sovon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geese
</code></pre>


<h3>Format</h3>

<p>A matrix with the variables:
</p>

<dl>
<dt>Columns</dt><dd><p>Year of observation</p>
</dd>
<dt>Rows</dt><dd><p>Species</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://www.sovon.nl/en">https://www.sovon.nl/en</a>
</p>
<p><a href="http://www.compass-project.eu/applets/3/index_EN.html">http://www.compass-project.eu/applets/3/index_EN.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str(geese)
summary(geese)
geese[,"2000"]
geese["Mute Swan",]
</code></pre>

<hr>
<h2 id='pantheon'>Pantheon dataset</h2><span id='topic+pantheon'></span>

<h3>Description</h3>

<p>Dataframe of globally famous people according to MIT's Pantheon 1.0.
Dataset includes the number of globally famous people for a <strong>sample</strong>
of 10 countries and 53 different occupations.
The <strong>complete</strong> dataset is described in [Yu et al., 2015].
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pantheon
</code></pre>


<h3>Format</h3>

<p>A dataframe with the variables:
</p>

<dl>
<dt>Country</dt><dd><p>Name of the country</p>
</dd>
<dt>Occupation</dt><dd><p>Occupation according to the taxonomy of Pantheon</p>
</dd>
<dt>Value</dt><dd><p> Quantity of globally famous people that were born in that country</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://pantheon.media.mit.edu/">http://pantheon.media.mit.edu/</a>
</p>


<h3>References</h3>

<p>Yu, A. Z., Ronen, S., Hu, K., Lu, T., &amp; Hidalgo, C. A. (2016). Pantheon 1.0, a manually verified dataset of globally famous biographies. Scientific Data, 3.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pantheon)
str(pantheon)
summary(pantheon)
pantheon[pantheon$Country=="Chile",]
</code></pre>

<hr>
<h2 id='read_data'>A procedure to read data of a data file in formats csv, dta or spss</h2><span id='topic+read_data'></span>

<h3>Description</h3>

<p>This function reads a file with data shaped as a matrix or as edges list. Several types of formats are allowed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_data(path, type = "csv", sep = ",", category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_data_+3A_path">path</code></td>
<td>
<p>A string representing the path to data file. If the data contained in the file is shaped as a matrix, the first column must include the names of the categories. If the data is shaped as edges list, it must contain three columns: Entity, category and value.</p>
</td></tr>
<tr><td><code id="read_data_+3A_type">type</code></td>
<td>
<p>It indicates the type of data to be read. This argument facilitates the input of diverse types of data files, such as spss or stata. Possible options are the names of the mentioned software. The default value is csv.</p>
</td></tr>
<tr><td><code id="read_data_+3A_sep">sep</code></td>
<td>
<p>Separator character used in the file to separate columns. Only for CSV file. Default value is comma.</p>
</td></tr>
<tr><td><code id="read_data_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns (entity, category, value).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#reading an edges list or panel shape, source data must include three columns
path &lt;-   system.file("extdata", "PantheonEdges.csv", package = "diverse")
sep &lt;- ","
data &lt;- read_data(path)
#reading a table
path  &lt;- system.file("extdata", "PantheonMatrix.csv", package = "diverse")
sep &lt;- ","
data &lt;- read_data(path)
#reading a table which includes the entities in the columns
path &lt;- system.file("extdata", "Geese.csv", package = "diverse")
data &lt;- read_data(path, category_row=TRUE)
</code></pre>

<hr>
<h2 id='scidat'>Scidat dataset</h2><span id='topic+scidat'></span>

<h3>Description</h3>

<p>A matrix of the number of papers authored by 10 countries in 27 areas
of science in the year 2013. Data was retrieved and aggregated from SCimago.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scidat
</code></pre>


<h3>Format</h3>

<p>A matrix with the variables:
</p>

<dl>
<dt>Columns</dt><dd><p>Areas of Science according SCimago</p>
</dd>
<dt>Rows</dt><dd><p>Name of the country</p>
</dd>
</dl>


<h3>Source</h3>

<p>Raw data before the aggregation was queried from
<a href="http://www.scimagojr.com/">http://www.scimagojr.com/</a> in 2014.
</p>


<h3>References</h3>

<p>SCImago. (2007). SJR-SCImago Journal &amp; Country Rank.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str(scidat)
summary(scidat)
scidat["United States",]
scidat[,"Chemistry"]
</code></pre>

<hr>
<h2 id='sim_dataset'>A procedure to simulate datasets</h2><span id='topic+sim_dataset'></span>

<h3>Description</h3>

<p>Simulates a dataset with values of variety for each entity and possible values of abundance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_dataset(n_categ, category_prefix = "", entity_prefix = "",
  values = "log-normal", size = -1, mean = 0, sd = 1,
  category_random = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_dataset_+3A_n_categ">n_categ</code></td>
<td>
<p>a vector with number of categories for each entity. The number of entities to create is defined by the length of this vector.</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_category_prefix">category_prefix</code></td>
<td>
<p>a prefix to be used as part of the category label</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_entity_prefix">entity_prefix</code></td>
<td>
<p>a prefix to be used as part of the entity label</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_values">values</code></td>
<td>
<p>values of abundance. This argument can be both, a distribution name or a vector of integers. The distribution is used to simulate individuals that are aggregated in frequencies or values of abundance. Use 'log-normal' for log normal distribution or 'normal' for normal distribution.  In the second case, an integer or a vector of integers of possible values of abundance to be used randomly. Default value is 'log-normal'</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_size">size</code></td>
<td>
<p>number of individuals. A number or a vector of numbers for each entity. Default value is 7 times variety.</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_mean">mean</code></td>
<td>
<p>parameter for normal or log-normal distribution. Default value is 0.</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_sd">sd</code></td>
<td>
<p>parameter for normal or log-normal distribution. Default value is 1.</p>
</td></tr>
<tr><td><code id="sim_dataset_+3A_category_random">category_random</code></td>
<td>
<p>boolean argument to determine if categories should be taken randomly (TRUE) or sequentially (FALSE). Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns: entity, category and value of abundance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim_dataset(n_categ=50,  category_prefix='ctg', values=1) #equal value, just one entity
#Several entities with random values
n_entities &lt;- 50
v_n_c &lt;- sample(1:100, size = n_entities, replace=TRUE)
v_v &lt;- sample(10:5000, size= n_entities, replace=TRUE)
d &lt;- sim_dataset(n_categ = v_n_c, values= v_v, category_random = TRUE)
</code></pre>

<hr>
<h2 id='sim_entity'>A procedure to simulate entities</h2><span id='topic+sim_entity'></span>

<h3>Description</h3>

<p>Simulates an entity with values of abundance for some categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_entity(n_categ, category_prefix = "", values = "log-normal",
  size = -1, mean = 0, sd = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_entity_+3A_n_categ">n_categ</code></td>
<td>
<p>number of categories</p>
</td></tr>
<tr><td><code id="sim_entity_+3A_category_prefix">category_prefix</code></td>
<td>
<p>a prefix to be used as part of the category label</p>
</td></tr>
<tr><td><code id="sim_entity_+3A_values">values</code></td>
<td>
<p>values of abundance. This argument can be both, a distribution name or a vector of integers. The distribution is used to simulate individuals that are aggregated in frequencies or values of abundance. In the second case, an integer or a vector of integers of possible values of abundance to be used randomly. Default value is 'log-normal'</p>
</td></tr>
<tr><td><code id="sim_entity_+3A_size">size</code></td>
<td>
<p>number of individuals. Default value is 7 times n_categ.</p>
</td></tr>
<tr><td><code id="sim_entity_+3A_mean">mean</code></td>
<td>
<p>parameter for normal or log-normal distribution. Default value is 0.</p>
</td></tr>
<tr><td><code id="sim_entity_+3A_sd">sd</code></td>
<td>
<p>parameter for normal or log-normal distribution. Default value is 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with two columns: category and value of abundance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim_entity(n_categ=50,  category_prefix='ctg', values=1) #equal value
#random numbers for values of abundance
sim_entity(n_categ=50,  category_prefix='ctg', values=sample(1:100, replace=TRUE))
sim_entity(n_categ=50,  category_prefix='ctg', values='log-normal') #equal value
</code></pre>

<hr>
<h2 id='sim_individuals'>A procedure to simulate labeled individuals for one category</h2><span id='topic+sim_individuals'></span>

<h3>Description</h3>

<p>Simulates a number of individuals tagged in N different categories, given a distribution such as log normal or normal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_individuals(n_categ, size, category_prefix = "", type = "log-normal",
  mean = 0, sd = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_individuals_+3A_n_categ">n_categ</code></td>
<td>
<p>number of categories</p>
</td></tr>
<tr><td><code id="sim_individuals_+3A_size">size</code></td>
<td>
<p>number of individuals.</p>
</td></tr>
<tr><td><code id="sim_individuals_+3A_category_prefix">category_prefix</code></td>
<td>
<p>a prefix to be used as part of the category label</p>
</td></tr>
<tr><td><code id="sim_individuals_+3A_type">type</code></td>
<td>
<p>distribution name. The distribution is used to simulate how individuals are created. Use 'log-normal' for log normal distribution or 'normal' for normal distribution. Default value is 'log-normal'</p>
</td></tr>
<tr><td><code id="sim_individuals_+3A_mean">mean</code></td>
<td>
<p>parameter for normal or log-normal distribution. Default value is 0.</p>
</td></tr>
<tr><td><code id="sim_individuals_+3A_sd">sd</code></td>
<td>
<p>parameter for normal or log-normal distribution. Default value is 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of category labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sim_individuals(n_categ=50, size=10000, type='log-normal', mean=0.507, sd=1.183)
</code></pre>

<hr>
<h2 id='to_entropart'>Transforms data to be used in Entropart package</h2><span id='topic+to_entropart'></span>

<h3>Description</h3>

<p>Transform a dataframe used in diverse to values of abundance to be used in Entropart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_entropart(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_entropart_+3A_data">data</code></td>
<td>
<p>a dataframe used in diverse with three columns, entity, category and value of abundance.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of type matrix of abundance to be used in entropart to create metacommunities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ab &lt;- to_entropart(sim_dataset(c(1,2)))
</code></pre>

<hr>
<h2 id='ubiquity'>Ubiquity of categories across entities</h2><span id='topic+ubiquity'></span>

<h3>Description</h3>

<p>Computes the ubiquity or the rareness of the categories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ubiquity(data, category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ubiquity_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="ubiquity_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with values of number of entities where the category is present. Ordered in decreasing order.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ub &lt;- ubiquity(data=pantheon)
</code></pre>

<hr>
<h2 id='values'>Pre-process the raw data</h2><span id='topic+values'></span>

<h3>Description</h3>

<p>Allows to filter, binarize and/or normalize raw data.
Also filter and binarization is available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>values(data, category_row = FALSE, norm = NULL, filter = NULL,
  binary = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="values_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="values_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
<tr><td><code id="values_+3A_norm">norm</code></td>
<td>
<p>Methods to compute normalized values. Possible values are 'p', 'proportions', 'rca', 'rca_norm' and 'ai'. RCA refers to Revealed Comparative Advantages [Balassa 1986], rca_norm normalizes the RCAs between -1 and with 1, ai refers to the Activity Index.</p>
</td></tr>
<tr><td><code id="values_+3A_filter">filter</code></td>
<td>
<p>A threshold below which values are replaced with NA.</p>
</td></tr>
<tr><td><code id="values_+3A_binary">binary</code></td>
<td>
<p>A boolean value to indicate if values distinct from NA are replaced with 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the three arguments 'norm', 'filter' and 'binary' are used, then the same sequential order is applied in the calculations.
</p>


<h3>Value</h3>

<p>A matrix with the raw, normalized, filtered and\/or binarized data.
</p>


<h3>References</h3>

<p>Balassa, B. (1986). Comparative advantage in manufactured goods: a reappraisal. The Review of Economics and Statistics, 315-319.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#raw values
values(data=pantheon)
values(data = scidat)
#proportions
values(data = scidat, norm='p')
#revealed comparative advantages
values(data = scidat, norm='rca')
values(data = scidat, norm='rca', filter=1)
values(data = scidat, norm='rca', filter=1, binary=TRUE)
</code></pre>

<hr>
<h2 id='variety'>Variety or Richness</h2><span id='topic+variety'></span>

<h3>Description</h3>

<p>Computes the variety (number of distinct types) or simple diversity of an entity. It is also known as richness.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variety(data, sort = TRUE, decreasing = TRUE, category_row = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variety_+3A_data">data</code></td>
<td>
<p>A numeric matrix with entities <code class="reqn">i</code> in the rows and categories <code class="reqn">j</code> in the columns. Cells show the respective value (value of abundance) of entity <code class="reqn">i</code> in the category <code class="reqn">j</code>. It can also be a transpose of the previous matrix, that is, a matrix with categories in the rows and entities in the columns. Yet in that case, the argument &quot;category_row&quot; has to be set to TRUE. The matrix must include names for the rows and the columns. The argument &quot;data&quot;, also accepts a dataframe with three columns in the following order: entity, category and value.</p>
</td></tr>
<tr><td><code id="variety_+3A_sort">sort</code></td>
<td>
<p>Indicates whether results should be ordered or not. Define it to FALSE to avoid ordering.</p>
</td></tr>
<tr><td><code id="variety_+3A_decreasing">decreasing</code></td>
<td>
<p>If argument &quot;sort&quot; is set to TRUE, this argument indicates descending order. The default value is TRUE.</p>
</td></tr>
<tr><td><code id="variety_+3A_category_row">category_row</code></td>
<td>
<p>A flag to indicate that categories are in the rows. The analysis assumes that the categories are in the columns of the matrix. If the categories are in the rows and the entities in the columns, then the argument &quot;category_row&quot; has to be set to TRUE. The default value is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with values of variety for each entity.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>variety(data=pantheon)
variety(data=pantheon, sort=FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package WRestimates</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {WRestimates}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#wr.ci'><p>Confidence Interval (CI) for Win Ratio</p></a></li>
<li><a href='#wr.power'><p>Power of a Win Ratio</p></a></li>
<li><a href='#wr.sigma.sqr'><p>Assumed Population Variance of a Win Ratio</p></a></li>
<li><a href='#wr.ss'><p>Approximate Sample Size of a Win Ratio</p></a></li>
<li><a href='#wr.var'><p>Approximate Variance of the Natural Log (<code class="reqn">ln</code>) of the Win Ratio.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sample Size, Power and CI for the Win Ratio</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculates non-parametric estimates of the sample size, power and confidence intervals for the win-ratio. For more detail on the theory behind the methodologies implemented see Yu, R. X. and Ganju, J. (2022) &lt;<a href="https://doi.org/10.1002%2Fsim.9297">doi:10.1002/sim.9297</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-06 11:08:53 UTC; r2301007</td>
</tr>
<tr>
<td>Author:</td>
<td>Autumn O'Donnell [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Autumn O'Donnell &lt;autumn.research@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-06 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='wr.ci'>Confidence Interval (CI) for Win Ratio</h2><span id='topic+wr.ci'></span>

<h3>Description</h3>

<p>Calculate the confidence interval for a win ratio.
</p>
<p style="text-align: center;"><code class="reqn">CI = exp((ln(WR) +/- Z\sqrt{var})</code>
</p>

<p>Where;
</p>
<p><code class="reqn">ln(WR)</code> = Natural log of the true or assumed win ratio.
</p>
<p><code class="reqn">Z</code> = Z-score from normal distribution.
</p>
<p><code class="reqn">\sqrt{var}</code> = Standard deviation of the natural log of the win ratio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wr.ci(WR = 1, Z = 1.96, var.ln.WR, N, sigma.sqr, k, p.tie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wr.ci_+3A_wr">WR</code></td>
<td>
<p>Win ratio; Default: <code>WR</code> = 1 for an assumed true win ratio where H<sub>0</sub> is assumed true.</p>
</td></tr>
<tr><td><code id="wr.ci_+3A_z">Z</code></td>
<td>
<p>Z-score from normal distribution; Default: <code>Z</code> = 1.96 for a 95% CI.</p>
</td></tr>
<tr><td><code id="wr.ci_+3A_var.ln.wr">var.ln.WR</code></td>
<td>
<p>Variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code id="wr.ci_+3A_n">N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code id="wr.ci_+3A_sigma.sqr">sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code id="wr.ci_+3A_k">k</code></td>
<td>
<p>The proportion of subjects allocated to one group i.e. the proportion of patients allocated to treatment.</p>
</td></tr>
<tr><td><code id="wr.ci_+3A_p.tie">p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wr.ci</code> returns an object of <a href="base.html#topic+class">class</a> &quot;<code>list</code>&quot; containing the following components:
</p>
<table>
<tr><td><code>ci</code></td>
<td>
<p>The confidence interval of a win ratio.</p>
</td></tr>
<tr><td><code>WR</code></td>
<td>
<p>The win ratio.</p>
</td></tr>
<tr><td><code>Z</code></td>
<td>
<p>Z-score from normal distribution.</p>
</td></tr>
<tr><td><code>var.ln.WR</code></td>
<td>
<p>Variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code>sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The proportion of subjects allocated to one group.</p>
</td></tr>
<tr><td><code>p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Autumn O'Donnell <a href="mailto:autumn.research@gmail.com">autumn.research@gmail.com</a></p>


<h3>References</h3>

<p>Yu, R. X. and Ganju, J. (2022). Sample size formula for a win ratio endpoint. <em>Statistics in medicine</em>, <em>41</em>(6), 950-963. doi:10.1002/sim.9297.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wr.sigma.sqr">wr.sigma.sqr</a></code>; <code><a href="#topic+wr.var">wr.var</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## N = 100 patients, 1:1 allocation, one-sided alpha = 2.5%, power = 90%
## (beta = 10%), a small proportion of ties p.tie = 0.1, and 50% more wins
## on treatment than control.

### Calculation 95% CI
wr.ci(N = 100, WR = 1.5, k = 0.5, p.tie = 0.1)
</code></pre>

<hr>
<h2 id='wr.power'>Power of a Win Ratio</h2><span id='topic+wr.power'></span>

<h3>Description</h3>

<p>Calculate the power of a win ratio.
</p>
<p style="text-align: center;"><code class="reqn">Power = 1 - \Phi(Z[\alpha] - ln(WR[true])(\sqrt{N}/\sigma))</code>
</p>



<h3>Usage</h3>

<pre><code class='language-R'>wr.power(N, alpha = 0.025, WR.true = 1, sigma.sqr, k, p.tie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wr.power_+3A_n">N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code id="wr.power_+3A_alpha">alpha</code></td>
<td>
<p>Level of significance (Type I error rate); Default: <code class="reqn">\alpha</code> = 0.025.</p>
</td></tr>
<tr><td><code id="wr.power_+3A_wr.true">WR.true</code></td>
<td>
<p>True or assumed win ratio; Default: <code>WR.true</code> = 1 where H<sub>0</sub> is assumed true.</p>
</td></tr>
<tr><td><code id="wr.power_+3A_sigma.sqr">sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code id="wr.power_+3A_k">k</code></td>
<td>
<p>The proportion of subjects allocated to one group i.e. the proportion of patients allocated to treatment.</p>
</td></tr>
<tr><td><code id="wr.power_+3A_p.tie">p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wr.power</code> returns an object of <a href="base.html#topic+class">class</a> &quot;<code>list</code>&quot; containing the following components:
</p>
<table>
<tr><td><code>power</code></td>
<td>
<p>Power of the win ratio.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>Level of significance.</p>
</td></tr>
<tr><td><code>WR.true</code></td>
<td>
<p>True or assumed win ratio.</p>
</td></tr>
<tr><td><code>sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The proportion of subjects allocated to one group.</p>
</td></tr>
<tr><td><code>p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Autumn O'Donnell <a href="mailto:autumn.research@gmail.com">autumn.research@gmail.com</a></p>


<h3>References</h3>

<p>Yu, R. X. and Ganju, J. (2022). Sample size formula for a win ratio endpoint. <em>Statistics in medicine</em>, <em>41</em>(6), 950-963. doi: 10.1002/sim.9297.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wr.sigma.sqr">wr.sigma.sqr</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## N = 100 patients, 1:1 allocation, one-sided alpha = 2.5%, small
## proportion of ties p.tie = 0.1, and 50% more wins on treatment
## than control.

### Calculate the Power
wr.power(N = 100, WR.true = 1.5, k = 0.5, p.tie = 0.1)
</code></pre>

<hr>
<h2 id='wr.sigma.sqr'>Assumed Population Variance of a Win Ratio</h2><span id='topic+wr.sigma.sqr'></span>

<h3>Description</h3>

<p>Calculate the assumed population variance of a win ratio.
</p>
<p style="text-align: center;"><code class="reqn">\sigma^2 = (4 * (1 + p[tie]))/(3 * k * (1 - k) * (1 - p[tie])</code>
</p>

<p>Where;
</p>
<p style="text-align: center;"><code class="reqn">p[tie] = The proportion of ties.</code>
</p>

<p style="text-align: center;"><code class="reqn">k = The proportion of subjects allocated to one group.</code>
</p>



<h3>Usage</h3>

<pre><code class='language-R'>wr.sigma.sqr(k, p.tie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wr.sigma.sqr_+3A_k">k</code></td>
<td>
<p>The proportion of subjects allocated to one group i.e. the proportion of patients allocated to treatment.</p>
</td></tr>
<tr><td><code id="wr.sigma.sqr_+3A_p.tie">p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wr.sigma.sqr</code> returns an object of <a href="base.html#topic+class">class</a> &quot;<code>list</code>&quot; containing the following components:
</p>
<table>
<tr><td><code>sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The proportion of subjects allocated to one group.</p>
</td></tr>
<tr><td><code>p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Autumn O'Donnell <a href="mailto:autumn.research@gmail.com">autumn.research@gmail.com</a></p>


<h3>References</h3>

<p>Yu, R. X. and Ganju, J. (2022). Sample size formula for a win ratio endpoint. <em>Statistics in medicine</em>, <em>41</em>(6), 950-963. doi: 10.1002/sim.9297.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wr.var">wr.var</a></code></p>

<hr>
<h2 id='wr.ss'>Approximate Sample Size of a Win Ratio</h2><span id='topic+wr.ss'></span>

<h3>Description</h3>

<p>Calculates the approximate required sample size of a win ratio.
</p>
<p style="text-align: center;"><code class="reqn">N ~~ (\sigma^2 * (Z[1-\alpha] + Z[1-\beta])^2)/(ln^2(WR[true]))
</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wr.ss(alpha = 0.025, beta = 0.1, WR.true = 1, k, p.tie, sigma.sqr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wr.ss_+3A_alpha">alpha</code></td>
<td>
<p>Level of significance (Type I error rate); Default: <code class="reqn">\alpha</code> = 0.025.</p>
</td></tr>
<tr><td><code id="wr.ss_+3A_beta">beta</code></td>
<td>
<p>Type II error rate; Default: <code class="reqn">\beta</code> = 0.1.</p>
</td></tr>
<tr><td><code id="wr.ss_+3A_wr.true">WR.true</code></td>
<td>
<p>True or assumed win ratio; Default: <code>WR.true</code> = 1 where H<sub>0</sub> is assumed true.</p>
</td></tr>
<tr><td><code id="wr.ss_+3A_k">k</code></td>
<td>
<p>The proportion of subjects allocated to one group i.e. the proportion of patients allocated to treatment.</p>
</td></tr>
<tr><td><code id="wr.ss_+3A_p.tie">p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
<tr><td><code id="wr.ss_+3A_sigma.sqr">sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wr.ss</code> returns an object of <a href="base.html#topic+class">class</a> &quot;<code>list</code>&quot; containing the following components:
</p>
<table>
<tr><td><code>N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>Level of significance (Type I error rate).</p>
</td></tr>
<tr><td><code>beta</code></td>
<td>
<p>Type II error rate.</p>
</td></tr>
<tr><td><code>WR.true</code></td>
<td>
<p>True or assumed win ratio.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The proportion of subjects allocated to one group.</p>
</td></tr>
<tr><td><code>p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
<tr><td><code>sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Autumn O'Donnell <a href="mailto:autumn.research@gmail.com">autumn.research@gmail.com</a></p>


<h3>References</h3>

<p>Yu, R. X. and Ganju, J. (2022). Sample size formula for a win ratio endpoint. <em>Statistics in medicine</em>, <em>41</em>(6), 950-963. doi: 10.1002/sim.9297.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wr.sigma.sqr">wr.sigma.sqr</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## 1:1 allocation, one-sided alpha = 2.5%, power = 90% (beta = 10%),
## a small proportion of ties p.tie = 0.1, and 50% more wins on treatment
## than control

### Calculate Sample Size
wr.ss(WR.true = 1.5, k = 0.5, p.tie = 0.1)
</code></pre>

<hr>
<h2 id='wr.var'>Approximate Variance of the Natural Log (<code class="reqn">ln</code>) of the Win Ratio.</h2><span id='topic+wr.var'></span>

<h3>Description</h3>

<p>Calculating the approximate variance of the natural log (<code class="reqn">ln</code>) a win ratio.
</p>
<p style="text-align: center;"><code class="reqn">Var(ln(WR)) ~~ \sigma^2/N</code>
</p>

<p>Where;
</p>
<p style="text-align: center;"><code class="reqn">\sigma^2 = (4 * (1 + p[tie]))/(3 * k * (1 - k) * (1 - p[tie])</code>
</p>



<h3>Usage</h3>

<pre><code class='language-R'>wr.var(N, sigma.sqr, k, p.tie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wr.var_+3A_n">N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code id="wr.var_+3A_sigma.sqr">sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code id="wr.var_+3A_k">k</code></td>
<td>
<p>The proportion of subjects allocated to one group i.e. the proportion of patients allocated to treatment.</p>
</td></tr>
<tr><td><code id="wr.var_+3A_p.tie">p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wr.var</code> returns an object of <a href="base.html#topic+class">class</a> &quot;<code>list</code>&quot; containing the following components:
</p>
<table>
<tr><td><code>var.ln.WR</code></td>
<td>
<p>Approximate variance of the natural log (<code class="reqn">ln</code>) a win ratio.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Sample size.</p>
</td></tr>
<tr><td><code>sigma.sqr</code></td>
<td>
<p>Population variance of the natural log (<code class="reqn">ln</code>) of the win ratio.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The proportion of subjects allocated to one group.</p>
</td></tr>
<tr><td><code>p.tie</code></td>
<td>
<p>The proportion of ties.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Autumn O'Donnell <a href="mailto:autumn.research@gmail.com">autumn.research@gmail.com</a></p>


<h3>References</h3>

<p>Yu, R. X. and Ganju, J. (2022). Sample size formula for a win ratio endpoint. <em>Statistics in medicine</em>, <em>41</em>(6), 950-963. doi: 10.1002/sim.9297.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wr.sigma.sqr">wr.sigma.sqr</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

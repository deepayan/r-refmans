<!DOCTYPE html><html><head><title>Help for package gitcreds</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gitcreds}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gitcreds_cache_envvar'><p>Environment variable to cache the password for a URL</p></a></li>
<li><a href='#gitcreds_fill'><p>Access the low level credential API</p></a></li>
<li><a href='#gitcreds_get'><p>Query and set git credentials</p></a></li>
<li><a href='#gitcreds_list'><p>List all credentials stored by a git credential helper</p></a></li>
<li><a href='#gitcreds_parse_output'><p>Parse standard output from <code style="white-space: pre;">&#8288;git credential fill&#8288;</code></p></a></li>
<li><a href='#gitcreds-package'><p>gitcreds: Query 'git' Credentials from 'R'</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Query 'git' Credentials from 'R'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Query, set, delete credentials from the 'git' credential
    store. Manage 'GitHub' tokens and other 'git' credentials. This
    package is to be used by other packages that need to authenticate to
    'GitHub' and/or other 'git' repositories.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitcreds.r-lib.org/">https://gitcreds.r-lib.org/</a>, <a href="https://github.com/r-lib/gitcreds">https://github.com/r-lib/gitcreds</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/gitcreds/issues">https://github.com/r-lib/gitcreds/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>codetools, covr, knitr, mockery, oskeyring, rmarkdown,
testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1.9000</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>git</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-08 10:28:07 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>Gábor Csárdi [aut, cre],
  RStudio [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gábor Csárdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-08 10:42:55 UTC</td>
</tr>
</table>
<hr>
<h2 id='gitcreds_cache_envvar'>Environment variable to cache the password for a URL</h2><span id='topic+gitcreds_cache_envvar'></span>

<h3>Description</h3>

<p><code>gitcreds_get()</code> caches credentials in environment variables.
<code>gitcreds_cache_envvar()</code> calculates the environment variaable name
that is used as the cache, for a URL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gitcreds_cache_envvar(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gitcreds_cache_envvar_+3A_url">url</code></td>
<td>
<p>Character vector of URLs, they may contain user names
and paths as well. See details below.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of environment variables.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gitcreds_get">gitcreds_get()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gitcreds_cache_envvar("https://github.com")
gitcreds_cache_envvar("https://api.github.com/path/to/endpoint")
gitcreds_cache_envvar("https://jane@github.com")
gitcreds_cache_envvar("https://another.site.github.com")
</code></pre>

<hr>
<h2 id='gitcreds_fill'>Access the low level credential API</h2><span id='topic+gitcreds_fill'></span><span id='topic+gitcreds_approve'></span><span id='topic+gitcreds_reject'></span>

<h3>Description</h3>

<p>These function are primarily for package authors, who want more
control over the user interface, so they want to avoid calling
<code><a href="#topic+gitcreds_get">gitcreds_get()</a></code> and <code><a href="#topic+gitcreds_set">gitcreds_set()</a></code> directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gitcreds_fill(input, args = character(), dummy = TRUE)

gitcreds_approve(creds, args = character())

gitcreds_reject(creds, args = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gitcreds_fill_+3A_input">input</code></td>
<td>
<p>Named list to pass to <code style="white-space: pre;">&#8288;git credential fill&#8288;</code>.</p>
</td></tr>
<tr><td><code id="gitcreds_fill_+3A_args">args</code></td>
<td>
<p>Extra args, used <em>before</em> <code>fill</code>, to allow
<code style="white-space: pre;">&#8288;git -c ... fill&#8288;</code>.</p>
</td></tr>
<tr><td><code id="gitcreds_fill_+3A_dummy">dummy</code></td>
<td>
<p>Whether to append a dummy credential helper to the
list of credential helpers.</p>
</td></tr>
<tr><td><code id="gitcreds_fill_+3A_creds">creds</code></td>
<td>
<p><code>gitcreds</code> object (named list) to add or remove.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>gitcreds_fill()</code> calls <code style="white-space: pre;">&#8288;git credential fill&#8288;</code> to query git
credentials.
</p>
<p><code>gitcreds_approve()</code> calls <code style="white-space: pre;">&#8288;git credential approve&#8288;</code>
to add new credentials.
</p>


<h3>Value</h3>

<p>The standard output of the <code>git</code> command, line by line.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gitcreds_parse_output">gitcreds_parse_output()</a></code> to parse the output of
<code>gitcreds_fill()</code>.
</p>

<hr>
<h2 id='gitcreds_get'>Query and set git credentials</h2><span id='topic+gitcreds_get'></span><span id='topic+gitcreds'></span><span id='topic+gitcreds_set'></span><span id='topic+gitcreds_delete'></span><span id='topic+gitcreds_list_helpers'></span>

<h3>Description</h3>

<p>This manual page is for <em>users</em> of packages that depend on gitcreds
for managing tokens or passwords to GitHub or other git repositories.
If you are a package author and want to import gitcreds for this
functionality, see <code>vignette("package", package = "gitcreds")</code>.
Otherwise please start at 'Basics' below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gitcreds_get(url = "https://github.com", use_cache = TRUE, set_cache = TRUE)

gitcreds_set(url = "https://github.com")

gitcreds_delete(url = "https://github.com")

gitcreds_list_helpers()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gitcreds_get_+3A_url">url</code></td>
<td>
<p>URL to get, set or delete credentials for. It may contain a
user name, which is typically (but not always) used by the credential
helpers. It may also contain a path, which is typically (but not always)
ignored by the credential helpers.</p>
</td></tr>
<tr><td><code id="gitcreds_get_+3A_use_cache">use_cache</code></td>
<td>
<p>Whether to try to use the environment variable cache
before turning to git to look up the credentials for <code>url</code>.
See <code><a href="#topic+gitcreds_cache_envvar">gitcreds_cache_envvar()</a></code>.</p>
</td></tr>
<tr><td><code id="gitcreds_get_+3A_set_cache">set_cache</code></td>
<td>
<p>Whether to set the environment variable cache after
receiving the credentials from git. See <code><a href="#topic+gitcreds_cache_envvar">gitcreds_cache_envvar()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>gitcreds_get()</code> returns a <code>gitcreds</code> object, a named list
of strings, the fields returned by the git credential handler.
Typically the fields are <code>protocol</code>, <code>host</code>, <code>username</code>, <code>password</code>.
Some credential helpers support path-dependent credentials and also
return a <code>path</code> field.
</p>
<p><code>gitcreds_set()</code> returns nothing.
</p>
<p><code>gitcreds_delete()</code> returns <code>FALSE</code> if it did not find find any
credentials to delete, and thus it did not call <code style="white-space: pre;">&#8288;git credential reject&#8288;</code>.
Otherwise it returns <code>TRUE</code>.
</p>
<p><code>gitcreds_get()</code> errors if git is not installed, no credential helpers
are configured or no credentials are found. <code>gitcreds_set()</code> errors if
git is not installed, or setting the new credentials fails.
<code>gitcreds_delete()</code> errors if git is not installed or the git calls fail.
See <code>vignette("package", package = "gitcreds")</code> if you want to handle
these errors.
</p>
<p><code>gitcreds_list_helpers()</code> returns a character vector,
corresponding to the <code>credential.helper</code> git configuration key.
Usually it contains a single credential helper, but it is possible to
configure multiple helpers.
</p>


<h3>Basics</h3>

<p><code>gitcreds_get()</code> queries git credentials. It is typically used by package
code that needs to authenticate to GitHub or another git repository.
The end user might call <code>gitcreds_get()</code> directly to check that the
credentials are properly set up.
</p>
<p><code>gitcreds_set()</code> adds or updates git credentials in the credential store.
It is typically called by the user, and it only works in interactive
sessions. It always asks for acknowledgement before it overwrites
existing credentials.
</p>
<p><code>gitcreds_delete()</code> deletes git credentials from the credential store.
It is typically called by the user, and it only works in interactive
sessions. It always asks for acknowledgement.
</p>
<p><code>gitcreds_list_helpers()</code> lists the active credential helpers.
</p>


<h4>git versions</h4>

<p>These functions use the <code style="white-space: pre;">&#8288;git credential&#8288;</code> system command to query and set
git credentials. They need an external git installation. You can
download git from https://git-scm.com/downloads. A recent version is
best, but at least git 2.9 is suggested.
</p>
<p>gitcreds should work out of the box on macOS with git versions 2.9.2
or later, and on Windows with git versions 2.12.1 or later, using the
default git settings. On Windows, for git versions from 2.9.2 up until
2.12.1 you probably need to set the default credential helper to
<code>wincred</code>. It is usually simpler to update git to a recent version.
</p>
<p>To see your current git version run <code>git --version</code> from your shell.
Or from R:
</p>
<div class="sourceCode r"><pre>system("git --version")
</pre></div>
<p>If you need to avoid installing git, see 'Environment variables' below.
</p>



<h4>GitHub</h4>



<h5>New setup</h5>

<p>To set up password-less authentication to GitHub:
</p>

<ol>
<li><p> Create a personal access token (PAT). See
https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token.
</p>
</li>
<li><p> Call <code>gitcreds_set()</code> and give this token as the password.
</p>
</li>
<li><p> Run <code>gitcreds_get(use_cache = FALSE)</code> to check that the new
PAT is set up. To see the token, you can run
<code>gitcreds_get(use_cache = FALSE)$password</code>.
</p>
</li></ol>




<h5>Migrating from the <code>GITHUB_PAT</code> environment variable</h5>

<p>If you already have a GitHub token, and use the <code>GITHUB_PAT</code> or
<code>GITHUB_TOKEN</code> environment variable in your <code>.Renviron</code> file or
elsewhere, no changes are neccessary. gitcreds will automatically use
this variable.
</p>
<p>However, we still suggest that you add your token to the git credential
store with <code>gitcreds_set()</code> and remove <code>GITHUB_PAT</code> from your
<code>.Renviron</code> file. The credential store is more secure than storing
tokens in files, and command line git also uses the credential store
for password-less authentication.
</p>




<h3>Advanced topics</h3>



<h4>Cached credentials</h4>

<p>Because querying the git credential store might not be very fast,
<code>gitcreds_get()</code> caches credentials in environment variables by default.
Credentials for different URLs are stored in different environment
variables. The name of the environment variable is calculated with
<code><a href="#topic+gitcreds_cache_envvar">gitcreds_cache_envvar()</a></code>.
</p>
<p>To remove the cache, remove this environment variable with
<code><a href="base.html#topic+Sys.unsetenv">Sys.unsetenv()</a></code>.
</p>



<h4>Environment variables</h4>

<p>If you want to avoid installing git, or using the credential store for
some reason, you can supply credentials in environment variables, e.g.
via the <code>.Renviron</code> file. Use <code><a href="#topic+gitcreds_cache_envvar">gitcreds_cache_envvar()</a></code> to query the
environment variable you need to set for a URL:
</p>

<ol>
<li><p> You can set this environment variable to the token or password itself.
</p>
</li>
<li><p> If you also need a user name, then use the <code>user:password</code> form, i.e.
separate them with a colon. (If your user name or passwrd has <code>:</code>
characters, then you need to escape them with a preceding backslash.)
</p>
</li></ol>




<h4>Proxies</h4>

<p>git should pick up the proxy configuration from the <code>http_proxy</code>,
<code>https_proxy</code>, and <code>all_proxy</code> environment variables. To override
these, you can set the <code>http.proxy</code> git configuration key.
More info here: https://git-scm.com/docs/git-config#Documentation/git-config.txt-httpproxy
and here: https://github.com/microsoft/Git-Credential-Manager-Core/blob/master/docs/netconfig.md
</p>



<h4>Credential helpers</h4>

<p>git credential helpers are an extensible, configurable mechanism to
store credentials. Different git installations have different credentials
helpers. On Windows the default helper stores credentials in the system
credential store. On macOS, it stores them in the macOS Keychain.
Other helpers cache credentials in a server process or in a file on the
file system.
</p>
<p>gitcreds only works if a credential helper is configured. For the current
git version (2.29.0), this is the case by default on Windows and macOS
(for git from HomeBrew), but most Linux distributions do not set up a
default credential helper.
</p>
<p>You can use <code>gitcreds_list_helpers()</code> to see the <em>active</em> credential
helper(s) for a repository. Make sure you set the working directory
to the git tree before calling <code>gitcreds_list_helpers()</code>.
</p>



<h4>The current working directory</h4>

<p>git allows repository specific configuration, via the <code>.git/config</code> file.
The <code>config</code> file might specify a different credential helper, a
different user name, etc. This means that <code>gitcreds_get()</code> etc. will
potentially work differently depending on the current working
directory. This is especially relevant for package code that changes
the working directory temporarily.
</p>



<h4>Non-GitHub accounts</h4>

<p>Non-GitHub URLs work mostly the same way as GitHub URLs.
<code>gitcreds_get()</code> and <code>gitcreds_set()</code> default to GitHub, so you'll need
to explicitly set their <code>url</code> argument.
</p>
<p>Some credential helpers, e.g. Git Credential Manager for Windows
(<code>manager</code>) and Git Credential Manager Core (<code>manager-core</code>) work
slightly differently for GitHub and non-GitHub URLs, see their
documentation for details.
</p>



<h4>Multiple accounts</h4>

<p>The various credential helpers support having multiple accounts on the
same server in different ways. Here are our recommendations.
</p>


<h5>macOS</h5>


<ol>
<li><p> Use the (currently default) <code>osxkeychain</code> credential helper.
</p>
</li>
<li><p> In Keychain Access, remove all your current credentials for the
host(s) you are targeting. E.g. for GitHub, search for github.com
Internet Passwords.
</p>
</li>
<li><p> Then add the credential that you want to use for &quot;generic access&quot;.
This is the credential that will be used for URLs without user
names. The user name for this credential does not matter, but you
can choose something descriptive, e.g. &quot;token&quot;, or &quot;generic&quot;.
</p>
</li>
<li><p> Configure git to use this username by default. E.g. if you chose
&quot;generic&quot;, then run
</p>
<div class="sourceCode"><pre>git config --global credential.username generic
</pre></div>
</li>
<li><p> Add all the other credentials, with appropriate user names. These
are the user names that you need to put in the URLs for the
repositories or operations you want to use them for. (GitHub does
not actually use the user names if the password is a PAT, but they
are used to look up the correct token in the credential store.)
</p>
</li></ol>




<h5>Windows with git 2.29.0 or later</h5>


<ol>
<li><p> We suggest that you update to the latest git version, but at
least 2.29.0, and use the <code>manager-core</code> helper which is now default.
If you installed <code>manager-core</code> separately from git, we suggest that
you remove it, because it might cause confusion as to which helper is
actually used.
</p>
</li>
<li><p> Remove all current credentials first, for the host you are targeting.
You can do this in 'Credential Manager' or <code>gitcreds::gitcreds_list()</code>
to find them and 'Credential Manager' or the oskeyring package to
remove them. You can also use the oskeyring package to back up the
tokens and passwords.
</p>
</li>
<li><p> Then add the credential that you want to use for &quot;generic access&quot;.
This is the credential that will be used for URLs without user names.
The user name for this credential does not matter, but you can choose
something descriptive, e.g. &quot;PersonalAccessToken&quot;, &quot;token&quot;, or
&quot;generic&quot;.
</p>
</li>
<li><p> Configure git to use this username by default. E.g. if you chose
&quot;generic&quot;, then run
</p>
<div class="sourceCode"><pre>git config --global credential.username generic
</pre></div>
</li>
<li><p> Add all the other credentials, with appropriate user names.
These are the user names that you need to put in the URLs for the
repositories or operations you want to use them for. (GitHub does
not actually use the user names if the password is a PAT, but they
are used to look up the correct token from the credential store.)
</p>
</li></ol>




<h5>Windows with older git versions, 2.28.0 and before</h5>



<h6>A single GitHub account</h6>

<p>If you only need to manage a single github.com credential, together with
possibly multiple credentials to other hosts (including GitHub
Enterprise hosts), then you can use the default <code>manager</code> helper, and
get away with the default auto-detected GCM authority setting.
</p>
<p>In this case, you can add your github.com credential with an arbitrary
user name, and for each other host you can configure a default user
name, and/or include user names in the URLs to these hosts. This is how
to set a default user name for a host called <code style="white-space: pre;">&#8288;https://example.com&#8288;</code>:
</p>
<div class="sourceCode"><pre>git config --global credential.https://example.com.username myusername
</pre></div>



<h6>Multiple GitHub credentials</h6>

<p>If you need to manage multiple github.com credentials, then you can
still use the <code>manager</code> helper, but you need to change the GCM authority
by setting an option or an environment variable, see
<a href="https://github.com/microsoft/Git-Credential-Manager-for-Windows/blob/master/Docs/Configuration.md#authority.">https://github.com/microsoft/Git-Credential-Manager-for-Windows/blob/master/Docs/Configuration.md#authority.</a>
</p>
<p>This is how to change GCM authority in the config:
</p>
<div class="sourceCode"><pre>git config --global credential.authority Basic
</pre></div>
<p>You can also change it only for github.com:
</p>
<div class="sourceCode"><pre>git config --global credential.github.com.authority Basic
</pre></div>
<p>Then you can configure a default user name, this will be used for URLs
without a user name:
</p>
<div class="sourceCode"><pre>git config --global credential.username generic
</pre></div>
<p>Now you can add you credentials, the default one with the &quot;generic&quot; user
name, and all the others with their specific user and host names.
</p>
<p>Alternatively, you can install a newer version of Git Credential Manager
Core (GCM Core), at least version 2.0.252-beta, and use the
<code>manager-core</code> helper. You'll potentially need to delete the older
<code>manager-core</code> helper that came with git itself. With the newer version
of GCM Core, you can use the same method as for newer git versions, see
above.
</p>





<h4>Multiple credential helpers</h4>

<p>It is possible to configure multiple credential helpers. If multiple
helpers are configured for a repository, then <code>gitcreds_get()</code> will
go over them until a credential is found. <code>gitcreds_set()</code> will try to
set the new credentials in <em>every</em> configured credential helper.
</p>
<p>You can use <code><a href="#topic+gitcreds_list_helpers">gitcreds_list_helpers()</a></code> to list all configured helpers.
</p>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
gitcreds_get()
gitcreds_get("https://github.com")
gitcreds_get("https://myuser@github.com/myorg/myrepo")

## End(Not run)
</code></pre>

<hr>
<h2 id='gitcreds_list'>List all credentials stored by a git credential helper</h2><span id='topic+gitcreds_list'></span>

<h3>Description</h3>

<p>This function is meant to be used interactively, to help you when
configuring credential helpers. It is especially useful if you have
multiple accounts on a host.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gitcreds_list(
  url = "https://github.com",
  credential_helper = NULL,
  protocol = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gitcreds_list_+3A_url">url</code></td>
<td>
<p>URL to list credentials for. If <code>NULL</code> then the credentials
are listed for all URLs. Note that for a host the results might be
different if you specify or omit this argument. <code>gitcreds_list()</code>
uses heuristics when the <code>url</code> is not specified. If is always best to
specify the URL.</p>
</td></tr>
<tr><td><code id="gitcreds_list_+3A_credential_helper">credential_helper</code></td>
<td>
<p>Credential helper to use. If this is <code>NULL</code>,
then the configured credential helper is used. If multiple credential
helpers are configured, then the first one is used, with a warning.</p>
</td></tr>
<tr><td><code id="gitcreds_list_+3A_protocol">protocol</code></td>
<td>
<p>Protocol to list credentials for. If <code>NULL</code> and <code>url</code>
includes a protocol then that is used. Otherwise <code>"https"</code> is used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that this function does not use the credential helper itself,
so it does not have to be installed. But it may also give false
results, so interpret the results with caution, and also use the tool
provided by your OS, to look at the credentials: 'Keychain Access'
on macOS and 'Credential Manager' on Windows.
</p>
<p>Only a small number of credential helpers are supported currently.
Here is a brief description of each.
</p>


<h4><code>osxkeychain</code> on macOS</h4>

<p>This is the default credential helper on macOS.
</p>
<p>It has some peculiarities:
</p>

<ul>
<li><p> If you don't specify a username in the URL, then it will return the
<em>oldest</em> credentials that match the specified host name, with an
arbitrary user name.
</p>
</li>
<li><p> If the user name is specified in the URL, then it is used to look up
the credentials.
</p>
</li></ul>

<p>To change or delete the listed credentials, see the oskeyring package
or the 'Keychain Access' macOS app.
</p>



<h4><code>manager</code>, on Windows</h4>

<p>This is Git Credential Manager for Windows, see
https://github.com/microsoft/Git-Credential-Manager-for-Windows
</p>
<p>It is currently the default helper on Windows, included in the git
installer.
</p>
<p>It has some oddities, especially with multiple GitHub users:
</p>

<ul>
<li><p> The <code>github</code> authority (which is used by default for <code>github.com</code>
URLs) cannot handle multiple users. It always sets the <code>target_name</code>
of the Windows credential to <code style="white-space: pre;">&#8288;git:&lt;URL&gt;&#8288;</code> where <code style="white-space: pre;">&#8288;&lt;URL&gt;&#8288;</code> does not
contain the user name. Since <code>target_name</code> is a primary key, it is
not possible to add multiple GitHub users with the default
configuration.
</p>
</li>
<li><p> To support multiple users, switch to the <code>Basic</code> authority, e.g. by
setting the <code>GCM_AUTHORITY</code> env var to <code>Basic</code>. Then the user name
will be included in <code>target_name</code>, and everything works fine.
</p>
</li>
<li><p> For this helper <code>gitcreds_list()</code> lists all records with a matching
host name.
</p>
</li></ul>




<h4><code>manager-core</code> on Windows</h4>

<p>This is Git Credential Manager Core, see
https://github.com/microsoft/Git-Credential-Manager-Core
</p>
<p>On Windows it behaves almost the same way as <code>manager</code>, with some
differences:
</p>

<ul>
<li><p> Instead of <em>authorities</em>, it has providers. <code>github.com</code> URLs use the
<code>github</code> provider by default. For better support for multiple GitHub
accounts, switch to the <code>generic</code> provider by setting the
<code>GCM_PROVIDER</code> env var to <code>generic</code>.
</p>
</li>
<li> <p><code>gitcreds_list()</code> will list all credentials with a matching host,
irrespectively of the user name in the input URL.
</p>
</li></ul>




<h4><code>manager-core</code>, <em>before</em> version 2.0.246-beta, on macOS</h4>

<p>This is Git Credential Manager Core, see
https://github.com/microsoft/Git-Credential-Manager-Core
</p>
<p>This helper has some peculiarities w.r.t. user names:
</p>

<ul>
<li><p> If the &quot;github&quot; provider is used (which is the default for
<code>github.com</code> URLs), then it completely ignores user names, even if
they are explicitly specified in the query.
</p>
</li>
<li><p> For other providers, the user name (if specified) is saved in the
Keychain item.
</p>
</li>
<li><p> For this helper, <code>gitcreds_list()</code> always lists all records that
match the <em>host</em>, even if the user name does not match, because it
is impossible to tell if the user name would be used in a proper
git credential lookup.
</p>
</li></ul>

<p>To change or delete the listed credentials, see the oskeyring package
or the 'Keychain Access' macOS app.
</p>



<h4><code>manager-core</code>, version 2.0.246-beta or newer, on macOS</h4>

<p>This is a newer version of Git Credential Manager Core, that supports
multiple users better:
</p>

<ul>
<li><p> if a user name is provided, then it saves it in the credential store,
and it uses this user name for looking up credentials, even for the
<code>github</code> provider.
</p>
</li>
<li> <p><code>gitcreds_list()</code> always lists all records that match the host, even
if the user name does not match.
</p>
</li>
<li><p> Credentials that were created by an older version of <code>manager-core</code>,
with the <code>generic</code> provider, do not work with the newer version of
<code>manager-core</code>, because the format of the Keychain item is different.
</p>
</li></ul>




<h3>Value</h3>

<p>A list of <code>oskeyring_macos_item</code> objects. See
<code><a href="oskeyring.html#topic+macos_keychain">oskeyring::macos_item()</a></code>.
</p>

<hr>
<h2 id='gitcreds_parse_output'>Parse standard output from <code style="white-space: pre;">&#8288;git credential fill&#8288;</code></h2><span id='topic+gitcreds_parse_output'></span>

<h3>Description</h3>

<p>Parse standard output from <code style="white-space: pre;">&#8288;git credential fill&#8288;</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gitcreds_parse_output(txt, url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gitcreds_parse_output_+3A_txt">txt</code></td>
<td>
<p>Character vector, standard output lines from
<code style="white-space: pre;">&#8288;git credential fill&#8288;</code>.</p>
</td></tr>
<tr><td><code id="gitcreds_parse_output_+3A_url">url</code></td>
<td>
<p>URL we queried, to be able to create a better error message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For dummy credentials (i.e. the lack of credentials), it throws an
error of class <code>gitcreds_no_credentials</code>.
</p>


<h3>Value</h3>

<p><code>gitcreds</code> object.
</p>

<hr>
<h2 id='gitcreds-package'>gitcreds: Query 'git' Credentials from 'R'</h2><span id='topic+gitcreds-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Query, set, delete credentials from the 'git' credential store. Manage 'GitHub' tokens and other 'git' credentials. This package is to be used by other packages that need to authenticate to 'GitHub' and/or other 'git' repositories.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gábor Csárdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> RStudio [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gitcreds.r-lib.org/">https://gitcreds.r-lib.org/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/gitcreds">https://github.com/r-lib/gitcreds</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/gitcreds/issues">https://github.com/r-lib/gitcreds/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

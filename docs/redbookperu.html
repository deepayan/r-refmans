<!DOCTYPE html><html lang="en"><head><title>Help for package redbookperu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {redbookperu}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.match_algorithm'><p>The matching algorithm</p></a></li>
<li><a href='#check_redbooklist'><p>Check Species Names in the Red Book of Endemic Plants of Peru</p></a></li>
<li><a href='#get_redbook_data'><p>Get Red Book Data for Given Species List</p></a></li>
<li><a href='#redbook_position'><p>List of the number positions of the first 3 letters of the species name in</p>
the redbook_tab</a></li>
<li><a href='#redbook_sp_data'><p>Database of the Red Book of Endemic Plants of Peru</p></a></li>
<li><a href='#redbook_sps_class'><p>List of Species Names in redbook_sps_class Separated by Category</p></a></li>
<li><a href='#redbook_tab'><p>Species Names Listed in The Red Book of Endemic Plants of Peru</p></a></li>
<li><a href='#search_redbook'><p>Search Species Names in “The Red Book of Endemic Plants of Peru”</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Access and Analyze Data from the Red Book of Endemic Plants of
Peru</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides access to and analysis of data from "The Red Book of Endemic Plants of Peru" (León, B., Roque, J., Ulloa, C., Jorgensen, P.M., Pitman, N., Cano, A. 2006) &lt;<a href="https://doi.org/10.15381%2Frpb.v13i2.1782">doi:10.15381/rpb.v13i2.1782</a>&gt;. This package offers comprehensive taxonomic, geographic, and conservation information about Peru's endemic plant species. It includes functions to verify species inclusion, obtain updated taxonomic details, and explore the dataset.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/PaulESantos/redbookperu">https://github.com/PaulESantos/redbookperu</a>,
<a href="https://paulesantos.github.io/redbookperu/">https://paulesantos.github.io/redbookperu/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/PaulESantos/redbookperu/issues">https://github.com/PaulESantos/redbookperu/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul E. Santos Andrade &lt;paulefrens@gmail.com&gt;</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-02 01:20:14 UTC; PC</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul E. Santos Andrade
    <a href="https://orcid.org/0000-0002-6635-0375"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Lucely L. Vilca Bustamante
    <a href="https://orcid.org/0000-0002-5559-1296"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-02 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.match_algorithm'>The matching algorithm</h2><span id='topic+.match_algorithm'></span>

<h3>Description</h3>

<p>The matching algorithm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.match_algorithm(
  splist_class,
  max_distance,
  progress_bar = FALSE,
  keep_closest = TRUE,
  genus_fuzzy = TRUE,
  grammar_check = FALSE
)
</code></pre>

<hr>
<h2 id='check_redbooklist'>Check Species Names in the Red Book of Endemic Plants of Peru</h2><span id='topic+check_redbooklist'></span>

<h3>Description</h3>

<p>This function checks a list of species names against the Red Book of Endemic Plants
of Peru database and provides information about whether a species was recorded as endemic,
and checks for misspelling typos (fuzzy match).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_redbooklist(splist, dist = 0.02)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_redbooklist_+3A_splist">splist</code></td>
<td>
<p>A character vector containing the species names to be checked.</p>
</td></tr>
<tr><td><code id="check_redbooklist_+3A_dist">dist</code></td>
<td>
<p>Maximum allowed distance for fuzzy matching of species names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks each species name in the provided list against the
Red Book of Endemic Plants of Peru database using fuzzy matching based on
the specified maximum distance (<code>dist</code>). It provides information about the
endemic status of each species and flags if the recorded name needs updating.
It also counts the number of exact and fuzzy matches found.
</p>


<h3>Value</h3>

<p>A character vector indicating if each input species name is listed as &quot;endemic&quot;
in the Red Book of Endemic Plants of Peru database. Returns &quot;endemic&quot; if the species name
is listed and &quot;not endemic&quot; if no matching entry is found.
</p>


<h3>References</h3>

<p><a href="https://revistasinvestigacion.unmsm.edu.pe/index.php/rpb/issue/view/153">Red Book of Endemic Plants of Peru</a>
<a href="https://www.nature.com/articles/s41597-021-00997-6#citeas">The World Checklist of Vascular Plants, a continuously updated resource for exploring global plant diversity.</a>
<a href="https://tnrs.biendata.org/">Taxonomic Name Resolution Service - TNRS</a>
<a href="http://www.plantsoftheworldonline.org/">Plants of the World Online - Facilitated by the Royal Botanic Gardens - Kew.</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage of the function
splist &lt;- c("Aphelandra cuscoenses",
            "Piper stevensi",
            "Sanchezia ovata",
            "Verbesina andina",
            "Festuca dentiflora",
            "Eucrosia bicolor var. plowmanii",
            "Hydrocotyle bonplandii var. hirtipes",
            "Persea americana")

# Basic usage
check_redbooklist(splist = splist, dist = 0.2)

# Using base R with a data frame
plant_list &lt;- data.frame(splist = splist)
plant_list$label &lt;- check_redbooklist(plant_list$splist, dist = 0.2)
plant_list

</code></pre>

<hr>
<h2 id='get_redbook_data'>Get Red Book Data for Given Species List</h2><span id='topic+get_redbook_data'></span>

<h3>Description</h3>

<p>This function retrieves comprehensive information from the Red Book of Endemic Plants
of Peru database for a provided list of species. It associates the provided
species names with their corresponding updated taxonomic information and
descriptions recorded in the original publication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_redbook_data(splist, dist = 0.1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_redbook_data_+3A_splist">splist</code></td>
<td>
<p>A character vector containing the species names to be queried.</p>
</td></tr>
<tr><td><code id="get_redbook_data_+3A_dist">dist</code></td>
<td>
<p>Maximum allowed distance for fuzzy matching of species names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks each species name in the provided list against the
Red Book of Endemic Plants of Peru database using fuzzy matching based on
the specified maximum distance (<code>dist</code>). For each species, it retrieves and
combines taxonomic information (accepted name, accepted family, accepted name author)
with additional descriptive data recorded in the original publication, such as
IUCN conservation category, bibliographic reference, collector, herbariums,
common name, departmental registrations, ecological regions, protected natural
areas (SINANPE), Peruvian herbaria, and additional remarks.
</p>


<h3>Value</h3>

<p>A data frame containing comprehensive information about the provided
species, including updated taxonomic details and descriptions.
</p>


<h3>References</h3>

<p><a href="https://revistasinvestigacion.unmsm.edu.pe/index.php/rpb/issue/view/153">Red Book of Endemic Plants of Peru</a>
<a href="https://www.nature.com/articles/s41597-021-00997-6#citeas">The World Checklist of Vascular Plants, a continuously updated resource for exploring global plant diversity.</a>
<a href="https://tnrs.biendata.org/">Taxonomic Name Resolution Service - TNRS</a>
<a href="http://www.plantsoftheworldonline.org/">Plants of the World Online - Facilitated by the Royal Botanic Gardens - Kew.</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+check_redbooklist">check_redbooklist</a></code> function for a more focused check of species endemic status.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example illustrating how to use the get_redbook_data function
species_list &lt;- c("Aphelandra cuscoensis", "Sanchezia ovata", "Piper stevensii")
redbook_data &lt;- get_redbook_data(species_list)
head(redbook_data)

</code></pre>

<hr>
<h2 id='redbook_position'>List of the number positions of the first 3 letters of the species name in
the redbook_tab</h2><span id='topic+redbook_position'></span>

<h3>Description</h3>

<p>The 'redbook_position' reports the
position (in term of number of rows) of the first three letters (triphthong)
for the plant names stored in the variable 'accepted_name' of the table
'redbook_tab'. This indexing system speeds up of the search on the
largest list using the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>redbook_position
</code></pre>


<h3>Format</h3>

<p>A data frame with 978 observations on the following 3 variables:
</p>

<dl>
<dt>position</dt><dd><p>A character vector. The position of the first three letters of the species name in the <code>redbook_tab</code>.</p>
</dd>
<dt>triphthong</dt><dd><p>A character vector. The first three letters of the species name in the <code>redbook_tab</code>.</p>
</dd>
<dt>genus</dt><dd><p>A character vector. The corresponding genus name.</p>
</dd>
</dl>



<h3>Details</h3>

<p>Positions of Species Names in The Red Book of Endemic Plants of Peru
</p>
<p>The <code>redbook_position</code> dataset provides the positions of the first three letters of each species name listed in the <code>redbook_tab</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("redbook_position")
head(redbook_position)

</code></pre>

<hr>
<h2 id='redbook_sp_data'>Database of the Red Book of Endemic Plants of Peru</h2><span id='topic+redbook_sp_data'></span>

<h3>Description</h3>

<p>This database contains comprehensive information regarding the endemic plant species listed
in the Red Book of Endemic Plants of Peru. Each endemic taxon is accompanied by
corresponding variables that detail its taxonomic status, IUCN conservation category,
bibliographic references, type collection details, common names,
departmental registrations, ecological regions, protected natural areas (SINANPE),
and Peruvian herbaria where the specimens are deposited, as recorded in the original book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>redbook_sp_data
</code></pre>


<h3>Format</h3>

<p>A data frame with the following variables:
</p>

<dl>
<dt>redbook_id</dt><dd><p>Unique identifier for each species in the Red Book of Endemic Plants of Peru.</p>
</dd>
<dt>redbook_name</dt><dd><p>Scientific name of the endemic species.</p>
</dd>
<dt>iucn</dt><dd><p>Conservation category assigned according to IUCN.</p>
</dd>
<dt>publication</dt><dd><p>Bibliographic reference where the taxon was originally described.</p>
</dd>
<dt>collector</dt><dd><p>Name(s) of the collector(s) of the type specimen.</p>
</dd>
<dt>herbariums</dt><dd><p>Acronyms of the institutions where the type specimens of the taxon are deposited.</p>
</dd>
<dt>common_name</dt><dd><p>Common names of the species as mentioned in the literature.</p>
</dd>
<dt>dep_registry</dt><dd><p>Abbreviations of the departments where the taxon has been recorded.</p>
</dd>
<dt>ecological_regions</dt><dd><p>Abbreviations of the ecological regions proposed by Zamora (1996).</p>
</dd>
<dt>sinampe</dt><dd><p>Abbreviation of the Protected Natural Area where the taxon was recorded.</p>
</dd>
<dt>peruvian_herbariums</dt><dd><p>Acronyms of the Peruvian institutions where both type and non-type specimens are deposited.</p>
</dd>
<dt>remarks</dt><dd><p>Observations and additional information about the endemic taxon.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This database provides essential information for research and conservation
efforts related to Peru's endemic flora, offering access to the data presented in the corresponding book.
</p>


<h3>References</h3>

<p>León, Blanca, et.al. 2006. “The Red Book of Endemic Plants of Peru”. Revista Peruana De Biología 13 (2): 9s-22s. https://revistasinvestigacion.unmsm.edu.pe/index.php/rpb/issue/view/153
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example illustrating how to load and explore the database
data("redbook_sp_data")
head(redbook_sp_data)

</code></pre>

<hr>
<h2 id='redbook_sps_class'>List of Species Names in redbook_sps_class Separated by Category</h2><span id='topic+redbook_sps_class'></span>

<h3>Description</h3>

<p>The <code>redbook_sps_class</code> dataset includes all species names separated by genus,
epithet, author, subspecies, variety, and their position (ID) in the
<code>redbook_tab</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>redbook_sps_class
</code></pre>


<h3>Format</h3>

<p>A data.frame with the following columns:
</p>

<dl>
<dt>species</dt><dd><p>A character vector. The full species name.</p>
</dd>
<dt>genus</dt><dd><p>A character vector. The genus of the species.</p>
</dd>
<dt>epithet</dt><dd><p>A character vector. The specific epithet of the species.</p>
</dd>
<dt>input_subspecies_epitheton</dt><dd><p>A character vector. The infraspecific epithet of the species, if applicable.</p>
</dd>
<dt>rank</dt><dd><p>A character vector. The taxonomic rank (e.g., &quot;species&quot;, &quot;subspecies&quot;, &quot;variety&quot;).</p>
</dd>
<dt>subspecies</dt><dd><p>A character vector. The subspecies name, if applicable.</p>
</dd>
<dt>variety</dt><dd><p>A character vector. The variety name, if applicable.</p>
</dd>
<dt>hybrid</dt><dd><p>A character vector. Indicates if the species is a hybrid.</p>
</dd>
<dt>id</dt><dd><p>A character vector. The ID of the species in the <code>redbook_tab</code>.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
data("redbook_sps_class")
head(redbook_sps_class)

</code></pre>

<hr>
<h2 id='redbook_tab'>Species Names Listed in The Red Book of Endemic Plants of Peru</h2><span id='topic+redbook_tab'></span>

<h3>Description</h3>

<p>The <code>redbook_tab</code> contains records for all species listed in The Red Book of Endemic Plants of Peru.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>redbook_tab
</code></pre>


<h3>Format</h3>

<p>A tibble with the following columns:
</p>

<dl>
<dt>redbook_id</dt><dd><p>The fixed species ID of the input taxon in The Red Book of Endemic Plants of Peru.</p>
</dd>
<dt>redbook_name</dt><dd><p>A character vector. The species name as listed in The Red Book of Endemic Plants of Peru.</p>
</dd>
<dt>input_genus</dt><dd><p>A character vector. The input genus of the corresponding species name listed.</p>
</dd>
<dt>input_epitheton</dt><dd><p>A character vector. The specific epithet of the corresponding species name listed.</p>
</dd>
<dt>rank</dt><dd><p>A character vector. The taxonomic rank (e.g., &quot;species&quot;, &quot;subspecies&quot;, &quot;variety&quot;) of the corresponding species name listed.</p>
</dd>
<dt>input_subspecies_epitheton</dt><dd><p>A character vector. The infraspecific epithet of the corresponding species name listed, if applicable.</p>
</dd>
<dt>accepted_name</dt><dd><p>A character vector. The accepted plant taxa names according to the World Checklist of Vascular Plants (WCVP).</p>
</dd>
<dt>accepted_family</dt><dd><p>A character vector. The corresponding family name of the accepted name.</p>
</dd>
<dt>accepted_name_author</dt><dd><p>A character vector. The author of the accepted name.</p>
</dd>
<dt>accepted_name_rank</dt><dd><p>A character vector. The rank of the accepted name (e.g., species, subspecies).</p>
</dd>
<dt>tag_subsp_wcvp</dt><dd><p>A character vector. A tag indicating if the subspecies is recognized in the WCVP.</p>
</dd>
<dt>genus_ephitethon_wcvp</dt><dd><p>A character vector. The genus part of the name according to the WCVP.</p>
</dd>
<dt>species_ephitethon_wcvp</dt><dd><p>A character vector. The specific epithet part of the name according to the WCVP.</p>
</dd>
<dt>subspecies_ephitethon_wcvp</dt><dd><p>A character vector. The infraspecific epithet part of the name according to the WCVP, if applicable.</p>
</dd>
</dl>



<h3>References</h3>

<p>León, Blanca, et.al. 2006. “The Red Book of Endemic Plants of Peru”. Revista Peruana De Biología 13 (2): 9s-22s. https://doi.org/10.15381/rpb.v13i2.1782.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("redbook_tab")
head(redbook_tab)

</code></pre>

<hr>
<h2 id='search_redbook'>Search Species Names in “The Red Book of Endemic Plants of Peru”</h2><span id='topic+search_redbook'></span>

<h3>Description</h3>

<p>This function allows searching for plant taxa names listed in
&quot;The Red Book of Endemic Plants of Peru&quot;. It connects to the data
listed in the catalog and validates if the species is present, removing
orthographic errors in plant names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_redbook(
  splist,
  max_distance = 0.2,
  show_correct = FALSE,
  genus_fuzzy = FALSE,
  grammar_check = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="search_redbook_+3A_splist">splist</code></td>
<td>
<p>A character vector specifying the input taxon, each element
including genus and specific epithet and, potentially, infraspecific rank,
infraspecific name, and author name.
Only valid characters are allowed (see <code><a href="base.html#topic+validEnc">base::validEnc</a></code>).</p>
</td></tr>
<tr><td><code id="search_redbook_+3A_max_distance">max_distance</code></td>
<td>
<p>An integer or fraction specifying the maximum distance
allowed when comparing the submitted name with the closest
name matches in the species listed in &quot;The Red Book of Endemic Plants of Peru&quot;.
The distance used is a generalized
Levenshtein distance indicating the total number of insertions, deletions,
and substitutions allowed to match the two names. For example, a name with
a length of 10 and a max_distance = 0.1 allows only one change (insertion,
deletion, or substitution). A max_distance = 2 allows two changes.</p>
</td></tr>
<tr><td><code id="search_redbook_+3A_show_correct">show_correct</code></td>
<td>
<p>If TRUE, a column is added to the final result indicating
whether the binomial name was exactly matched (TRUE) or if it is misspelled (FALSE).</p>
</td></tr>
<tr><td><code id="search_redbook_+3A_genus_fuzzy">genus_fuzzy</code></td>
<td>
<p>If TRUE, allows fuzzy matching at the genus level.</p>
</td></tr>
<tr><td><code id="search_redbook_+3A_grammar_check">grammar_check</code></td>
<td>
<p>If TRUE, performs a grammar check on the species names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function tries to match names in &quot;The Red Book of Endemic Plants of Peru&quot;,
which has a corresponding
accepted valid name (accepted_name). If the input name is a valid name,
it will be duplicated in the accepted_name column.
</p>
<p>The algorithm will first try to exactly match the binomial names provided in
<code>splist</code>. If no match is found, it will try to find the closest name given the
maximum distance defined in <code>max_distance</code>.
Note that only binomial names with valid characters are allowed in this
function.
</p>


<h3>Value</h3>

<p>A data frame with the matched species names and additional
information from the redbook catalog.
If no match is found, a warning is issued suggesting to increase
the <code>max_distance</code> argument.
</p>


<h3>References</h3>

<p>León, Blanca, et.al. 2006. “The Red Book of Endemic Plants
of Peru”. Revista Peruana De Biología 13 (2): 9s-22s. https://doi.org/10.15381/rpb.v13i2.1782.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

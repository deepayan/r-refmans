<!DOCTYPE html><html lang="en"><head><title>Help for package bezier</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bezier}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bezier-package'><p>Bezier Curve and Spline Toolkit</p></a></li>
<li><a href='#bezier'><p>Generates points along a Bezier curve or spline</p></a></li>
<li><a href='#bezierArcLength'><p>Approximates the arc length of a Bezier curve or spline</p></a></li>
<li><a href='#bezierCurveFit'><p>Fits a Bezier curve to a set of points</p></a></li>
<li><a href='#compareBezierArcLength'><p>Returns difference between input length and a Bezier arc length</p></a></li>
<li><a href='#elevateBezierDegree'><p>Raises the degree of a Bezier curve</p></a></li>
<li><a href='#pointsOnBezier'><p>Generates points along a Bezier curve or spline</p></a></li>
<li><a href='#summary.bezierArcLength'><p>Summary of a Bezier arc length estimation</p></a></li>
<li><a href='#summary.bezierCurveFit'><p>Summary of a Bezier curve fit</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Date:</td>
<td>2018-12-08</td>
</tr>
<tr>
<td>Title:</td>
<td>Toolkit for Bezier Curves and Splines</td>
</tr>
<tr>
<td>Description:</td>
<td>The bezier package is a toolkit for working with Bezier curves and splines. The package provides functions for point generation, arc length estimation, degree elevation and curve fitting.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Aaron Olsen</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aaron Olsen &lt;aarolsen@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-12-08 14:58:40 UTC; aaron</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-12-14 21:30:20 UTC</td>
</tr>
</table>
<hr>
<h2 id='bezier-package'>Bezier Curve and Spline Toolkit</h2><span id='topic+bezier-package'></span>

<h3>Description</h3>

<p>The bezier package is a toolkit for working with Bezier curves and splines. The package provides functions for point generation, arc length estimation, degree elevation and curve fitting.</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> bezier</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2018-12-08</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Aaron Olsen</p>

<hr>
<h2 id='bezier'>Generates points along a Bezier curve or spline</h2><span id='topic+bezier'></span>

<h3>Description</h3>

<p>This function generates points along a Bezier curve or spline (concatenated Bezier curves) at specified parametric values. The Bezier curve can be of any degree and any number of dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bezier(t, p, start = NULL, end = NULL, deg = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bezier_+3A_t">t</code></td>
<td>
<p>a vector of parametric value(s), on the interval <code>[0, 1]</code> for a Bezier curve and on the interval <code>[0, n]</code> for a Bezier spline of <code>n</code> concatenated Bezier curves.</p>
</td></tr>
<tr><td><code id="bezier_+3A_p">p</code></td>
<td>
<p>control points, input either as vector, matrix or list.</p>
</td></tr>
<tr><td><code id="bezier_+3A_start">start</code></td>
<td>
<p>a vector giving an initial control point (must be of the same dimensionality as <code>p</code>). If provided, the first point of <code>p</code> is assumed to be the second control point.</p>
</td></tr>
<tr><td><code id="bezier_+3A_end">end</code></td>
<td>
<p>a vector giving an final control point (must be of the same dimensionality as <code>p</code>). If provided, the last point of <code>p</code> is assumed to be the second to last control point.</p>
</td></tr>
<tr><td><code id="bezier_+3A_deg">deg</code></td>
<td>
<p>a numeric indicating the degree (or order) of a Bezier spline. For Bezier curves, the degree is computed based on the number of control points.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses the generalized formula for a Bezier curve (see <a href="http://en.wikipedia.org/wiki/Bezier_curve#Explicit_definition">http://en.wikipedia.org/wiki/Bezier_curve#Explicit_definition</a>). If <code>deg</code> is <code>NULL</code>, <code>p</code> is assumed to be a Bezier curve and the degree (or order) is assumed to be the number of control points minus one. Thus, an input of two control points would return a linear Bezier curve, three control points would return a quadratic curve, four a cubic curve, etc.
</p>
<p>For a Bezier curve, the parametric values, <code>t</code>, should be on the interval <code>[0, 1]</code>. Values greater than one are used to generate points along a Bezier spline, treating these as concatenated Bezier curves. For example, points would be generated along a Bezier spline consisting of a single Bezier curve using the interval <code>[0, 1]</code>, for a spline consisting of two concatenated Bezier curves, the interval would be <code>[0, 2]</code>, three curves would be <code>[0, 3]</code>, etc. An interval of <code>[1, 2]</code> for a Bezier spline consisting of two concatenated Bezier curves would return points along the second Bezier curve in the spline.
</p>
<p>Note that evenly spaced parametric values for <code>t</code> does not produced evenly spaced points along a Bezier curve (except for a linear Bezier curve). Point density increases with sharper curvature along a Bezier. To generate evenly spaced points along a Bezier curve use the function <code><a href="#topic+pointsOnBezier">pointsOnBezier</a></code>.
</p>
<p>For <code>p</code>, the first and last values are the fixed, start and end points (through which the Bezier curve must pass) and the values in-between dictate the curvature of the Bezier between the start and end points. For a unidimensional Bezier curve, <code>p</code> is simply a vector in which <code>length(p) - 1</code> specifies the degree. For multidimensional Bezier curves, <code>p</code> can either be a matrix or a list. If <code>p</code> is a matrix, each row is a control point where <code>nrow(p) - 1</code> specifies the degree of the curve and <code>ncol(p)</code> specifies the dimensions. Thus, if <code>p</code> is a matrix of five rows and three columns, <code>bezier</code> would generate points along a four-degree, three-dimensional Bezier curve. If <code>p</code> is a list, each list element (<code>p[[1]]</code>, <code>p[[2]]</code>, etc.) is a dimension of the Bezier curve and the values of each list element (<code>p[[1]][1]</code>, <code>p[[1]][2]</code>, etc.) are the control points. The same control points can be input via either matrix or list (see <code>MATRIX VS. LIST INPUT</code> in Examples).
</p>
<p>Since a Bezier spline is a series of concatenated Bezier curves, the control points  alternate between end points (through which the Bezier must pass) and intermediate points (points to which the Bezier &quot;reaches&quot;). For a spline, the final end point of one Bezier curve is the starting end point for the next Bezier curve. Thus, for control point input the end point shared by two adjoining Bezier curves is listed just once. For example, a spline consisting of two Bezier curves with one intermediate point would require a total of five control points.
</p>
<p>Since Bezier curves are parametric, the degree of each dimension need not be the same (i.e. each dimension can be specified by a different number of control points). This scenario is encountered when fitting Bezier curves to points in two or more dimensions if the Bezier curves are fit to each dimension separately (as with <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code>). Since the Bezier formula requires that the control points be of the same degree along each dimension, <code>bezier</code> elevates the degree of each dimension to the maximum degree using the function <code><a href="#topic+elevateBezierDegree">elevateBezierDegree</a></code> (degree elevation does not change the shape of the Bezier curve). Inputs of this type (control points input as a list of non-uniform degrees along different dimensions) must be a single Bezier curve, not a Bezier spline.
</p>


<h3>Value</h3>

<p>a vector (unidimensional Bezier) or matrix of bezier curve or spline points.</p>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>References</h3>

<p><a href="http://en.wikipedia.org/wiki/Bezier_curve">http://en.wikipedia.org/wiki/Bezier_curve</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+elevateBezierDegree">elevateBezierDegree</a></code>, <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>, <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code>, <code><a href="#topic+pointsOnBezier">pointsOnBezier</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## BEZIER CURVES ##
## SPECIFY PARAMETRIC VALUES FROM 0 TO 1 FOR SAMLPING A BEZIER CURVE
t &lt;- seq(0, 1, length=100)

## BEZIER CONTROL POINTS
p &lt;- matrix(c(0,0,0, 1,4,3, 2,2,0, 3,0,2, 5,5,0), nrow=5, ncol=3, byrow=TRUE)

## CREATE A 1D, 3-POINT BEZIER CURVE
bezier_points &lt;- bezier(t=t, p=p[1:3, 1])

## CREATE THE SAME 1D, 3-POINT BEZIER CURVE, SPECIFYING THE START AND END POINTS SEPARATELY
bezier_points &lt;- bezier(t=t, p=p[2, 1], start=p[1, 1], end=p[3, 1])

## CREATE A 2D, 3-POINT BEZIER CURVE
bezier_points &lt;- bezier(t=t, p=p[1:3, 1:2])

## CREATE A 2D, 5-POINT BEZIER CURVE
bezier_points &lt;- bezier(t=t, p=p[, 1:2])

## PLOT A BEZIER CURVE
## NOTE THAT POINTS ARE NOT EVENLY SPACED ALONG THE CURVE
plot(bezier(t=t, p=p[, 1:2]))

## CREATE A 3D, 3-POINT BEZIER CURVE
bezier_points &lt;- bezier(t=t, p=p[1:3, ])

## CREATE A 3D, 5-POINT BEZIER CURVE
bezier_points &lt;- bezier(t=t, p=p)


## MATRIX VS. LIST INPUT ##
## BEZIER CURVE WITH MATRIX INPUT
p &lt;- matrix(c(0,0,0, 1,4,3, 2,2,0, 3,0,2, 5,5,0), nrow=5, ncol=3, byrow=TRUE)
bezier(t=seq(0, 1, length=10), p=p)

## THE SAME CONTROL POINTS INPUT AS LIST
p &lt;- list(c(0, 1, 2, 3, 5), c(0, 4, 2, 0, 5), c(0, 3, 0, 2, 0))
bezier(t=seq(0, 1, length=10), p=p)


## BEZIER SPLINES ##
## SPECIFY PARAMETRIC VALUES FROM 0 TO 3 FOR SAMLPING A BEZIER SPLINE
t &lt;- seq(0, 3, length=100)

## BEZIER CONTROL POINTS
p &lt;- matrix(c(0,0,0, 1,4,3, 2,2,0, 3,0,2, 5,5,0, 8,0,4, 8,3,7), nrow=7, ncol=3, byrow=TRUE)

## CREATE A 2D BEZIER SPLINE WITH 3, 2-DEGREE BEZIER CURVES
bezier_points &lt;- bezier(t=t, p=p[, 1:2], deg=2)

## PLOT BEZIER SPLINE
plot(bezier_points)

## PLOT FIXED POINTS ALONG SPLINE IN RED
points(rbind(p[1, ], p[3, ], p[5, ], p[7, ]), col="red", cex=0.75)

## CREATE A 3D BEZIER SPLINE WITH 3, 2-DEGREE BEZIER CURVES
bezier_points &lt;- bezier(t=t, p=p, deg=2)


## BEZIER CURVE WITH DIFFERENT DEGREES FOR EACH DIMENSION ##
## LIST OF CONTROL POINTS FOR TWO DIMENSIONS
p_list &lt;- list(c(0, 2, 1, 0), c(0, 4, 2, 0, 5, 0))

## CREATE 2D BEZIER CURVE WITH DIFFERENT NUMBERS OF CONTROL POINTS FOR EACH DIMENSION
bezier(t=seq(0, 1, length=100), p=p_list)
</code></pre>

<hr>
<h2 id='bezierArcLength'>Approximates the arc length of a Bezier curve or spline</h2><span id='topic+bezierArcLength'></span>

<h3>Description</h3>

<p>Approximates the arc length (the length along the curve) of a Bezier curve or spline over a specified parametric range. The Bezier curve can be of any degree and any number of dimensions. Either relative and/or absolute changes in arc length are used as criteria for convergence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bezierArcLength(p, t1 = 0, t2 = NULL, deg = NULL, relative.min.slope = 1e-06, 
                absolute.min.slope = 0, max.iter = 20, n = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bezierArcLength_+3A_p">p</code></td>
<td>
<p>control points, input either as vector, matrix or list (see <code><a href="#topic+bezier">bezier</a></code>).</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_t1">t1</code></td>
<td>
<p>an initial parametric value for a Bezier curve or spline.</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_t2">t2</code></td>
<td>
<p>a final parametric value for a Bezier curve or spline.</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_deg">deg</code></td>
<td>
<p>a numeric indicating the degree (or order) of a Bezier spline. For Bezier curves, the degree is computed automatically based on the number of control points.</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_relative.min.slope">relative.min.slope</code></td>
<td>
<p>a numeric indicating at which change in arc length relative to the instaneous length estimated length is considered sufficiently close to the actual length.</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_absolute.min.slope">absolute.min.slope</code></td>
<td>
<p>a numeric indicating at which absolute change in arc length estimated length is considered sufficiently close to the actual length.</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_max.iter">max.iter</code></td>
<td>
<p>the maximum number of iterations to reach the convergence criteria.</p>
</td></tr>
<tr><td><code id="bezierArcLength_+3A_n">n</code></td>
<td>
<p>a fixed number of points with which to calculate arc length.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There is not an exact solution for the arc length of a Bezier curve of any degree and dimension so a numerical estimation approach is needed. <code>bezierArcLength</code> estimates arc length by generating a number of points along a Bezier curve (using <code><a href="#topic+bezier">bezier</a></code>) and summing the interpoint distances. Given a sufficient number of points on the Bezier, the sum of interpoint distances should approximate the actual length of the Bezier. In the case of Bezier splines, the arc length of each constituent Bezier curve is estimated separately and then summed. In this case, the return values are vectors in which each element corresponds to a separate call to <code>bezierArcLength</code> for each Bezier curve.
</p>
<p>The function first generates five points along the curve and sums the interpoint distance. This is repeated ten times, increasing the number of points along the curve by one (to 15). In this way, the arc length is estimated for a Bezier curve along a ten point range. A linear regression (<code><a href="stats.html#topic+lm">lm</a></code>) is fit to these arc lengths in order find the slope of how arc length changes as a function of the number of points along the Bezier. This slope is tested against the convergence criteria and, if the arc length has not converged, the slope is also used to guess  the next range of values over which arc length will be estimated. This is repeated, measuring the change in arc length over a ten point interval, until the change in arc length reaches the convergence criteria or the function exceeds the maximum number of iterations.
</p>
<p><code>t1</code> and <code>t2</code> control the range of parameter values over which <code>bezierArcLength</code> will estimate arc length. In this way, arc length can be estimated for a portion of the entire Bezier curve or spline. The <code>deg</code> specifies the degree (or order) of the Bezier curve or spline (see <code><a href="#topic+bezier">bezier</a></code>).
</p>
<p>The <code>relative.min.slope</code> and <code>absolute.min.slope</code> are two criteria used to evaluate whether the function has converged on the actual arc length. At each iteration, the change in arc length as a function of points along the curve is calculated both absolutely (in the same units as the control points) and relative to the maximum estimated arc length at that iteration. If the absolute change in arc length is less than <code>absolute.min.slope</code> or the relative change in arc length less than <code>relative.min.slope</code>, estimation is stopped and the current arc length returned. Either of the convergence criteria can be ignored by setting them to 0. The default for <code>absolute.min.slope</code> is set to zero since the desired value will depend on the units of the control points input by the user. If both <code>absolute.min.slope</code> and <code>relative.min.slope</code> are equal to 0 then the function will proceed until reaching the maximum number of iterations (<code>max.iter</code>).
</p>
<p>A non-<code>NULL</code> input for <code>n</code> will simply return the sum of interpoint distances between <code>n</code> points along a Bezier curve or spline. No estimation is performed and the convergence criteria are ignored.
</p>


<h3>Value</h3>

<p>a list of class <code>"bezierArcLength"</code> with the following elements:
</p>
<table role = "presentation">
<tr><td><code>arc.length</code></td>
<td>
<p>the estimated arc length along a Bezier curve or spline.</p>
</td></tr>
<tr><td><code>slope.break</code></td>
<td>
<p>the change in arc length when the estimation is stopped.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>the number of points along the Bezier used to estimate arc length.</p>
</td></tr>
<tr><td><code>break.cause</code></td>
<td>
<p>the reason arc length estimation stopped.</p>
</td></tr>
<tr><td><code>n.iter</code></td>
<td>
<p>the number of iterations used in estimation.</p>
</td></tr>
</table>
<p>When the input arguments correspond to a Bezier spline, <code>slope.break</code>, <code>n</code>, <code>break.cause</code> and <code>n.iter</code> are vectors in which each element cooresponds to the output of <code>bezierArcLength</code> called for each constituent Bezier curve (see Details).
</p>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezier">bezier</a></code>, <code><a href="#topic+pointsOnBezier">pointsOnBezier</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## BEZIER CURVE ARC LENGTH ##
## BEZIER CURVE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2), nrow=3, ncol=2, byrow=TRUE)

## FIND THE ARC LENGTH ALONG THE BEZIER CURVE
bezierArcLength(p=p, t1=0, t2=1)

## FIND THE ARC LENGTH ALONG THE BEZIER CURVE
## HERE WE FIND THE ARC LENGTH OVER A SUBSET OF A BEZIER CURVE
bezierArcLength(p=p, t1=0.3, t2=0.8)


## BEZIER SPLINE ARC LENGTH ##
## BEZIER SPLINE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2, 3,0, 4,4), nrow=5, ncol=2, byrow=TRUE)

## FIND THE ARC LENGTH ALONG THE BEZIER SPLINE
## HERE t2 = 1 SO ARC LENGTH IS ONLY CALCULATED FOR THE
##   FIRST BEZIER CURVE OF THE SPLINE
bezierArcLength(p=p, t1=0, t2=1, deg=2)

## HERE t2 = 2 SO ARC LENGTH IS CALCULATED FOR BOTH THE
##   THE FIRST AND SECOND BEZIER CURVES
## SINCE THE TWO CURVES IN THE SPLINE ARE THE SAME -
##   JUST IN DIFFERENT ORIENTATIONS, THE ARC LENGTH
##   IS EXACTLY DOUBLE THE PREVIOUS ARC LENGTH
bezierArcLength(p=p, t1=0, t2=2, deg=2)


## COMPARE CONVERGENCE ##
## BEZIER SPLINE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2), nrow=3, ncol=2, byrow=TRUE)

## FIND ARC LENGTH BY ESTIMATION
bconv &lt;- bezierArcLength(p=p, t1=0, t2=1)

## FIND ARC LENGTH WITH DIFFERENT NUMBERS OF POINTS
b1000 &lt;- bezierArcLength(p=p, t1=0, t2=1, n=1000)
b10000 &lt;- bezierArcLength(p=p, t1=0, t2=1, n=10000)
b100000 &lt;- bezierArcLength(p=p, t1=0, t2=1, n=100000)

## COMPARE RESULTS
## ESTIMATION DIFFERS FROM 1000 PT SUM BY 0.0001311936
b1000$arc.length - bconv$arc.length

## ESTIMATION DIFFERS FROM 10000 PT SUM BY 0.0001321184
b10000$arc.length - bconv$arc.length

## ESTIMATION DIFFERS FROM 100000 PT SUM BY 0.0001321277
b100000$arc.length - bconv$arc.length
</code></pre>

<hr>
<h2 id='bezierCurveFit'>Fits a Bezier curve to a set of points</h2><span id='topic+bezierCurveFit'></span>

<h3>Description</h3>

<p>Fits a Bezier curve of any degree and dimension to a set of points. A range or particular number of control points can be specified. If a range of control points is input, <code>bezierCurveFit</code> will find the minimum number of control points required to reach a specified residual standard error threshold. <code>bezierCurveFit</code> is intended to fit a Bezier curve to a large number of sample points, at least double the number of expected Bezier control points, and therefore differs from Bezier curve interpolation, in which the number of sample points are approximately equal to the number of expected Bezier control points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bezierCurveFit(m, min.control.points = 3, max.control.points = 20, 
               fix.start.end = FALSE, max.rse = NULL, 
               max.rse.percent.change = 0.01, na.fill = FALSE,
               maxiter = 50, minFactor = 1/1024)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bezierCurveFit_+3A_m">m</code></td>
<td>
<p>a vector or matrix of points to which the Bezier curve is to be fit.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_min.control.points">min.control.points</code></td>
<td>
<p>the minimum number of control points to use in the curve fit.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_max.control.points">max.control.points</code></td>
<td>
<p>the maximum number of control points to use in the curve fit.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_fix.start.end">fix.start.end</code></td>
<td>
<p>whether the curve fit should be constrained to start and end at the first and last points in <code>m</code>, respectively.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_max.rse">max.rse</code></td>
<td>
<p>the threshold for residual standard error at which curve fitting is stopped.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_max.rse.percent.change">max.rse.percent.change</code></td>
<td>
<p>the threshold for percent change in residual standard error at which curve fitting is stopped.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_na.fill">na.fill</code></td>
<td>
<p>logical indicating whether missing points (value of <code>NA</code>) in <code>m</code> should be filled by linear interpolation between neighboring non-<code>NA</code> points. Start and end points cannot be NA.</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_maxiter">maxiter</code></td>
<td>
<p>a positive integer specifying the maximum number of iterations allowed (to be passed to <code>nls</code> function).</p>
</td></tr>
<tr><td><code id="bezierCurveFit_+3A_minfactor">minFactor</code></td>
<td>
<p>a positive numeric value specifying the minimum step-size factor allowed on any step in the iteration (to be passed to <code>nls</code> function).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function fits a Bezier curve to a vector or matrix of points. If <code>m</code> is a vector, the fitted curve is unidimensional. If <code>m</code> is a matrix, a multidimensional fitted curve is returned (where the number of dimensions is equal to <code>ncol(m)</code>). In either case, the curve fitting is performed on each dimension separately. This can produce different number of control points for each dimension; <code><a href="#topic+bezier">bezier</a></code> resolves this through degree elevation (<code><a href="#topic+elevateBezierDegree">elevateBezierDegree</a></code>).
</p>
<p><code>min.control.points</code> specifies the minimum number of control points used in the curve fitting while <code>max.control.points</code> specifies the maximum. The number of control points includes the start and end points. If <code>min.control.points</code> is not equal to <code>max.control.points</code>, <code>bezierCurveFit</code> will find the minimum number of control points needed to reach the specified residual standard error threshold. If <code>min.control.points</code> is equal to <code>max.control.points</code>, the number of control points is fixed and <code>bezierCurveFit</code> will perform a single fit using that number of control points. <code>bezierCurveFit</code> is intended to fit a Bezier curve to a large number of sample points, at least double the number of expected Bezier control points, and therefore differs from Bezier curve interpolation, in which the number of sample points are approximately equal to the number of expected Bezier control points.
</p>
<p>The <code>nls</code> function is used to find the control point coordinates that minimize the residual standard error (RSE) between the fitted Bezier curve and the input points <code>m</code>. If the number of control points is not fixed, the RSE is found for increasing numbers of control points and used to test for convergence. If the input convergence criteria are met, <code>bezierCurveFit</code> will return the control points at the current iteration. Thus, the number of control points may be less than <code>max.control.points</code>. The two convergence criteria are <code>max.rse</code> and <code>max.rse.percent.change</code>. If the absolute RSE reaches <code>max.rse</code>, <code>bezierCurveFit</code> stops increasing the number of control points and returns the fit at the current iteration.
</p>
<p>Once the number of control points exceeds three, regression is used to find the change in RSE as a function of the number of control points. A function is fit to RSE versus the number of control points (a linear function for 3-6 points and a three-parameter exponential function for 7 or more points) to find the rate of change in RSE (the slope). The slope at the current number of control points is divided by the current RSE to find the percent change in RSE. If the percent change in RSE reaches <code>max.rse.percent.change</code>, <code>bezierCurveFit</code> stops increasing the number of control points and returns the fit at the current iteration. If <code>max.rse</code> and <code>max.rse.percent.change</code> are both <code>NULL</code>, <code>bezierCurveFit</code> will continue fitting increasing numbers of control points until <code>max.control.points</code> is reached. 
</p>


<h3>Value</h3>

<p>a list of class <code>'bezierCurveFit'</code> with the following elements:
</p>
<table role = "presentation">
<tr><td><code>p</code></td>
<td>
<p>a list of the control points for the fitted Bezier curve with one element per dimension. <code>p</code> can be input into <code><a href="#topic+bezier">bezier</a></code> as the <code>p</code> parameter. See <code><a href="#topic+bezier">bezier</a></code> for details on Bezier control point formats.</p>
</td></tr>
<tr><td><code>rse</code></td>
<td>
<p>a vector of the final residual standard error for each dimension.</p>
</td></tr>
<tr><td><code>fit.stopped.by</code></td>
<td>
<p>a vector of the reason curve fitting was stopped (see &quot;Reasons iterations stop&quot; under &quot;Examples&quot;).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezier">bezier</a></code>, <code><a href="#topic+pointsOnBezier">pointsOnBezier</a></code>, <code><a href="#topic+elevateBezierDegree">elevateBezierDegree</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## RUN BEZIER CURVE FIT ON BEZIER CURVE ##
## BEZIER CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2, 3,0, 5,5), nrow=5, ncol=2, byrow=TRUE)

## POINTS ON BEZIER
m &lt;- bezier(t=seq(0, 1, length=300), p=p)

## RANDOM VARIATION (NOISE) AROUND POINTS
## SENDING EXACT POINTS WILL ISSUE WARNING IN NLM FUNCTION
mrnorm &lt;- m + cbind(rnorm(nrow(m), 1, 0.1), rnorm(nrow(m), 1, 0.1))

## RESTORE POSITION OF POINTS
mrnorm &lt;- mrnorm - cbind(rep(1, nrow(m)), rep(1, nrow(m)))

## RUN BEZIER CURVE FIT UNCONSTRAINED NUMBER OF CONTROL POINTS
## DEFAULT IS THAT CURVE FIT IS NOT CONSTRAINED TO START AND END POINTS
bfitu &lt;- bezierCurveFit(mrnorm)

## PLOT ORIGINAL BEZIER
plot(m, type="l")

## PLOT POINTS USED IN FITTING
points(mrnorm, col="green", cex=0.25)

## PLOT FIT CURVE
lines(bezier(t=seq(0, 1, length=500), p=bfitu$p), col="red", cex=0.25)
</code></pre>

<hr>
<h2 id='compareBezierArcLength'>Returns difference between input length and a Bezier arc length</h2><span id='topic+compareBezierArcLength'></span>

<h3>Description</h3>

<p>This function calls <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> and returns the absolute difference between the Bezier curve or spline arc length and an input length. The primary use of this function is to supply <code>optim</code> with a single value for identifying a parametric value at a particular arc length in <code><a href="#topic+pointsOnBezier">pointsOnBezier</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareBezierArcLength(p, l, t1 = 0, t2 = NULL, deg = NULL, 
                       relative.min.slope = 1e-6, absolute.min.slope = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compareBezierArcLength_+3A_p">p</code></td>
<td>
<p>control points, input either as vector, matrix or list (see <code><a href="#topic+bezier">bezier</a></code>).</p>
</td></tr>
<tr><td><code id="compareBezierArcLength_+3A_l">l</code></td>
<td>
<p>the length against which the arc length is compared.</p>
</td></tr>
<tr><td><code id="compareBezierArcLength_+3A_t1">t1</code></td>
<td>
<p>an initial parametric value for a Bezier curve or spline.</p>
</td></tr>
<tr><td><code id="compareBezierArcLength_+3A_t2">t2</code></td>
<td>
<p>a final parametric value for a Bezier curve or spline.</p>
</td></tr>
<tr><td><code id="compareBezierArcLength_+3A_deg">deg</code></td>
<td>
<p>a numeric indicating the degree (or order) of a Bezier spline. For Bezier curves, the degree is computed automatically based on the number of control points.</p>
</td></tr>
<tr><td><code id="compareBezierArcLength_+3A_relative.min.slope">relative.min.slope</code></td>
<td>
<p>a numeric indicating at which change in arc length relative to the instaneous length estimated length is considered sufficiently close to the actual length.</p>
</td></tr>
<tr><td><code id="compareBezierArcLength_+3A_absolute.min.slope">absolute.min.slope</code></td>
<td>
<p>a numeric indicating at which absolute change in arc length estimated length is considered sufficiently close to the actual length.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The performance of this function is identical to <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> except that fewer input parameters are available. See &quot;Details&quot; in <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>.
</p>


<h3>Value</h3>

<p>the absolute difference between the input length <code>l</code> and the Bezier arc length.
</p>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezier">bezier</a></code>, <code><a href="#topic+pointsOnBezier">pointsOnBezier</a></code>, <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## BEZIER CURVE ARC LENGTH COMPARISON ##
## BEZIER CURVE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2), nrow=3, ncol=2, byrow=TRUE)

## COMPARE THE BEZIER ARC LENGTH TO ZERO
## SIMPLY RETURNS ARC LENGTH
compareBezierArcLength(p=p, l=0)

## COMPARE THE BEZIER ARC LENGTH TO ONE
compareBezierArcLength(p=p, l=1)

## SPECIFYING DIFFERENT T PARAMETERS
compareBezierArcLength(p=p, l=1, t1=0.3, t2=0.8)


## BEZIER SPLINE ARC LENGTH COMPARISON ##
## BEZIER SPLINE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2, 3,0, 4,4), nrow=5, ncol=2, byrow=TRUE)

## COMPARE THE BEZIER ARC LENGTH TO ZERO
## SIMPLY RETURNS ARC LENGTH
compareBezierArcLength(p=p, l=0, deg=2)
</code></pre>

<hr>
<h2 id='elevateBezierDegree'>Raises the degree of a Bezier curve</h2><span id='topic+elevateBezierDegree'></span>

<h3>Description</h3>

<p>This function raises the degree (or order) of a Bezier curve to a specified degree. Degree elevation increases the number of control points describing the Bezier without changing its shape.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elevateBezierDegree(p, deg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elevateBezierDegree_+3A_p">p</code></td>
<td>
<p>a vector of unidimensional Bezier control points.</p>
</td></tr>
<tr><td><code id="elevateBezierDegree_+3A_deg">deg</code></td>
<td>
<p>the degree to which the Bezier curve is to be elevated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Degree elevation of a Bezier curve increases the number of control points without changing the curve shape. This is useful when the number of control points differs for different dimensions of the curve, such as when Bezier curves are fit separately to each dimension of a multidimensional point set (as in <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code>). In order to perform degree elevation on a matrix of control points (multidimensional control points), <code>elevateBezierDegree</code> can be called on each dimension individually (using <code>apply</code> as in the example below).
</p>
<p>The degree of a Bezier curve is one less than the number of control points (including the start and end point). If the input <code>deg</code> is equal to the current degree of the Bezier, the input control points are returned unmodified.
</p>


<h3>Value</h3>

<p>a vector of new Bezier control points of the specified degree.</p>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>References</h3>

<p><a href="http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/Bezier/bezier-elev.html">http://www.cs.mtu.edu/~shene/COURSES/cs3621/NOTES/spline/Bezier/bezier-elev.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezier">bezier</a></code>, <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>
## 4 DEGREE BEZIER CONTROL POINTS
p4 &lt;- matrix(c(0,0, 1,4, 2,2, 3,0, 5,5), nrow=5, ncol=2, byrow=TRUE)

## GENERATE BEZIER CURVE FOR 4TH DEGREE BEZIER
b4 &lt;- bezier(t=seq(0, 1, length=100), p=p4)

## ELEVATE BEZIER DEGREE
p5 &lt;- apply(p4, 2, elevateBezierDegree, deg=5)

## GENERATE BEZIER CURVE FOR 5TH DEGREE BEZIER
b5 &lt;- bezier(t=seq(0, 1, length=100), p=p5)

## ELEVATE BEZIER DEGREE
p6 &lt;- apply(p4, 2, elevateBezierDegree, deg=6)

## GENERATE BEZIER CURVE FOR 6TH DEGREE BEZIER
b6 &lt;- bezier(t=seq(0, 1, length=100), p=p6)

## PLOT ORIGINAL 4TH DEGREE BEZIER POINTS
plot(b4)

## PLOT 5TH DEGREE BEZIER POINTS WITHIN 4TH DEGREE POINTS
points(b5, col="red", cex=0.75)

## PLOT 6TH DEGREE BEZIER POINTS WITHIN 4TH DEGREE POINTS
## NOTE THAT POINTS COINCIDE EXACTLY WITH LOWER DEGREES
## THE CURVE IS UNCHANGED BY DEGREE ELEVATION
points(b6, col="green", cex=0.5)
</code></pre>

<hr>
<h2 id='pointsOnBezier'>Generates points along a Bezier curve or spline</h2><span id='topic+pointsOnBezier'></span>

<h3>Description</h3>

<p>This function provides three different functionalities for generating points along a Bezier curve or spline. The first generates approximately evenly spaced points along a Bezier, optimizing point position according to specified convergence criteria. The second functionality places points along a Bezier such that the distance between consecutive points does not exceed a specified Euclidean distance. This second functionality does not generate evenly spaced points along the curve, instead providing a more rapid routine for generating a large number of points on a Bezier more evenly spaced than with parametric point generation. The last functionality generates adjoining points along a Bezier as a series of integers and is intended for use with pixel coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pointsOnBezier(p, n = NULL, method = 'evenly_spaced', t1 = 0, t2 = NULL, 
               deg = NULL, max.dist = NULL, max.dist.factor = 0.1, 
               relative.min.slope = 1e-7, absolute.min.slope = 0, 
               sub.relative.min.slope = 1e-4, sub.absolute.min.slope = 0, 
               print.progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pointsOnBezier_+3A_p">p</code></td>
<td>
<p>control points, input either as vector, matrix or list (see <code><a href="#topic+bezier">bezier</a></code>).</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_n">n</code></td>
<td>
<p>the number of points to generate along the Bezier. Ignored if <code>method</code> is <code>'max_dist'</code> or <code>'adjoining'</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_method">method</code></td>
<td>
<p>the method to be used in generating the points. Either <code>'evenly_spaced'</code>, <code>'max_dist'</code> or <code>'adjoining'</code>. Does not need to be specified if <code>max.dist</code> or <code>n</code> are non-<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_t1">t1</code></td>
<td>
<p>a parametric value for a Bezier curve or spline at which the points will start.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_t2">t2</code></td>
<td>
<p>a parametric value for a Bezier curve or spline at which the points will end. Default is the end of the Bezier curve or spline.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_deg">deg</code></td>
<td>
<p>a numeric indicating the degree (or order) of a Bezier spline. For Bezier curves, the degree is computed based on the number of control points.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_max.dist">max.dist</code></td>
<td>
<p>the maximum Euclidean distance (not distance along the curve) between consecutive points for the more rapid routine.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_max.dist.factor">max.dist.factor</code></td>
<td>
<p>a factor used to approximate point position based on maximum distance criteria (see Details). Ignored if <code>max.dist</code> is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_relative.min.slope">relative.min.slope</code></td>
<td>
<p>parameter passed to <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> for estimating total arc length. Ignored if <code>max.dist</code> is non-<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_absolute.min.slope">absolute.min.slope</code></td>
<td>
<p>parameter passed to <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> for estimating total arc length. Ignored if <code>max.dist</code> is non-<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_sub.relative.min.slope">sub.relative.min.slope</code></td>
<td>
<p>parameter passed to <code><a href="#topic+compareBezierArcLength">compareBezierArcLength</a></code> for estimating total arc length (see <code><a href="#topic+compareBezierArcLength">compareBezierArcLength</a></code>). Ignored if <code>max.dist</code> is non-<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_sub.absolute.min.slope">sub.absolute.min.slope</code></td>
<td>
<p>parameter passed to <code><a href="#topic+compareBezierArcLength">compareBezierArcLength</a></code> for estimating total arc length (see <code><a href="#topic+compareBezierArcLength">compareBezierArcLength</a></code>). Ignored if <code>max.dist</code> is non-<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pointsOnBezier_+3A_print.progress">print.progress</code></td>
<td>
<p>logical indicating whether iterations should be printed for tracking function progress.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Points can easily be generated along a Bezier curve or spline using parametric values (provided by the function <code><a href="#topic+bezier">bezier</a></code>), however these points are not evenly spaced along the curve. Points generated by parametric values will be closer together in regions with the highest curvature and furthest apart in regions that approach a straight line. This function provides three different functionalities for generating points along a Bezier curve or spline that are more evenly spaced than those generated using parametric values. The <code>'evenly_spaced'</code> method generates <code>n</code> approximately evenly spaced points along a Bezier, optimizing point position according to specified convergence criteria. The <code>'max_dist'</code> method places points along a Bezier such that the distance between consecutive points does not exceed a specified Euclidean distance (<code>max.dist</code>). And the <code>'adjoining'</code> method generates points along a Bezier as a series of integers and is intended for use with pixel coordinates.
</p>
<p>The input of the control points <code>p</code> is identical to <code><a href="#topic+bezier">bezier</a></code> and can be a vector, matrix or list (see Details in <code><a href="#topic+bezier">bezier</a></code>). As with <code><a href="#topic+bezier">bezier</a></code>, when control points are input as a list and the number of control points differs for different dimensions, the degree will be elevated so that all dimensions are of uniform degree (see <code><a href="#topic+elevateBezierDegree">elevateBezierDegree</a></code>). <code>t1</code> and <code>t2</code> are parametric values along the Bezier curve or spline between which points will be generated. The default values for <code>t1</code> and <code>t2</code> are the start and end points of the Bezier curve or spline, respectively. For a Bezier spline, if <code>t2</code> is not specified, it is calculated based on the number of control points and the degree (<code>deg</code>). When using <code>pointsOnBezier</code> for Bezier splines, <code>deg</code> must be specified or else the points will be treated as a single Bezier curve.
</p>
<p>If <code>n</code> is non-<code>NULL</code>, <code>pointsOnBezier</code> generates <code>n</code> evenly spaced points along a Bezier curve or spline. This requires accurate approximation of Bezier arc length. An initial estimation of the total arc length between <code>t1</code> and <code>t2</code> is made (using <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>) to determine the interval at which points should be placed to equally subdivide the curve. <code>optim</code> is used to find the optimal position of each point, calling <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> via <code><a href="#topic+compareBezierArcLength">compareBezierArcLength</a></code>, such that the arc length between points is nearly equal to this interval. When positioning each point, the arc length is estimated from <code>t1</code> (rather than from the previous point) so that errors are not compounded. As a consequence of repeated calls to <code>optim</code> and <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>, this functionality can be rather slow.
</p>
<p>The parameters ending in <code>min.slope</code> are convergence criteria passed to <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>. The parameters <code>relative.min.slope</code> and <code>absolute.min.slope</code> are the criteria used in the initial arc length estimation, while <code>sub.relative.min.slope</code> and <code>sub.absolute.min.slope</code> are the criteria used to estimate arc length in placing each point along the curve. Larger convergence criteria values will cause <code>pointsOnBezier</code> to run faster but at lower accuracy. For a complete description of the convergence criteria, see Details in <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>.
</p>
<p><code>pointsOnBezier</code> runs an alternative routine when <code>max.dist</code> is non-<code>NULL</code>. In this case, <code>n</code> and the convergence criteria are ignored, <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> is not called and <code>pointsOnBezier</code> generates points along a Bezier such that the distance between consecutive points does not exceed the specified Euclidean distance <code>max.dist</code>. The parameter <code>max.dist.factor</code> is a factor that is used to iteratively increase the parametric value to reach the next point without exceeding <code>max.dist</code>. The lower <code>max.dist.factor</code> is, the closer the interpoint Euclidean distance will be to <code>max.dist</code> but the longer <code>pointsOnBezier</code> will take to run (see Examples). If <code>max.dist</code> does not evenly divide the total arc length between <code>t1</code> and <code>t2</code>, the interval between the second-to-last point and the end point may not be close to <code>max.dist</code>. If <code>max.dist</code> evenly divides the arc length, if <code>max.dist.factor</code> is low and if <code>max.dist</code> is small, the points will be more evenly spaced than with parametric point generation.
</p>
<p>When <code>method</code> is <code>'adjoining'</code>, <code>pointsOnBezier</code> will generate points as integers at adjoining positions along the Bezier curve or spline. The arc length is first measured (very roughly) to approximate the first parametric interval at which to find adjoining points. The function adds this initial interval to <code>t1</code> and finds the position of the next Bezier point, rounded to the nearest integer. The interval is decreased or increased depending on whether the point is too distant or too near until the next point adjoins the previous point. Adjoining is defined as two points whose positions (as integers) differ by one in either or both coordinates. Thus, 2D points adjoining on the diagonal are considered adjoining. For instance, the points [3,5] would be adjoining with [4,5], [3,4] and [4,6] but not [1,3]. The function continues to iterate through the parametric values up to <code>t2</code>, generating points adjoining to the previous point. This method is intended for use with pixel coordinates, such as when Bezier control points are used to trace Bezier curves and splines on an image. Unlike the previous two methods, most of the generated points will not fall exactly on the Bezier curve since they are rounded to the nearest integer. This method currently only works with curves or splines in two dimensions.
</p>
<p>In the case of Bezier splines, note that borders between spline segments are not respected and arc lengths are calculated across spline segments. In order to generate points within spline segments, <code>pointsOnBezier</code> should be called separately for each segment.
</p>


<h3>Value</h3>

<p>a list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>points</code></td>
<td>
<p>evenly spaced or nearly evenly spaced points along a Bezier curve or spline.</p>
</td></tr>
<tr><td><code>error</code></td>
<td>
<p>an vector of the error for each point along the curve or spline. If the <code>method</code> is <code>'evenly_spaced'</code>, this is the <code>value</code> output from <code>optim</code> for each point estimation. If <code>method</code> is <code>'max_dist'</code>, this is <code>max.dist</code> minus the actual Euclidean distance between consecutive points. If <code>method</code> is <code>'adjoining'</code>, this is the difference between the actual position on the Bezier minus the position to the nearest integer.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>the parametric values corresponding to each point in <code>points</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezier">bezier</a></code>, <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>, <code><a href="#topic+compareBezierArcLength">compareBezierArcLength</a></code>, <code><a href="#topic+elevateBezierDegree">elevateBezierDegree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## EVENLY_SPACED METHOD ##
## BEZIER CURVE CONTROL POINTS
p &lt;- matrix(c(3,2, 3,0, 5,5), nrow=3, ncol=2, byrow=TRUE)

## GET PARAMETRIC BEZIER POINTS
bp &lt;- bezier(t=seq(0, 1, length=100), p=p)

## GET EVENLY SPACED POINTS ALONG CURVE
pob &lt;- pointsOnBezier(p=p, n=10, method="evenly_spaced", print.progress=TRUE)

## FUNCTION WILL RUN FASTER BY INCREASING CONVERGENCE CRITERIA
pob_faster &lt;- pointsOnBezier(p=p, n=10, method="evenly_spaced", sub.relative.min.slope=1e-2, 
	print.progress=TRUE)

## PLOT PARAMETRIC BEZIER POINTS
## NOTE THAT THEY ARE NOT EVENLY SPACED ALONG THE CURVE
plot(bp, cex=0.5, asp=1)

## ADD POINTS TO PLOT
## NOTE THAT THESE POINTS ARE EVENLY SPACED ALONG CURVE
points(pob$points, col="red")

## WITH FASTER RUN, SOME DEVIATION BUT POINTS ARE NEARLY IDENTICAL
points(pob_faster$points, col="blue", cex=1.5)


## MAX_DIST METHOD ##
## BEZIER CURVE CONTROL POINTS
p &lt;- matrix(c(3,2, 3,0, 5,5), nrow=3, ncol=2, byrow=TRUE)

## GET PARAMETRIC BEZIER POINTS
bp &lt;- bezier(t=seq(0, 1, length=100), p=p)

## GET POINTS ALONG CURVE WITH INTERPOINT DISTANCE LESS THAN 0.1
pob &lt;- pointsOnBezier(p=p, max.dist=0.1, method="max_dist", print.progress=TRUE)

## PLOT PARAMETRIC BEZIER POINTS
plot(bp, cex=0.5, asp=1)

## ADD POINTS TO PLOT
points(pob$points, col="red")


## ADJOINING METHOD ##
## BEZIER CURVE CONTROL POINTS
p &lt;- matrix(c(300,200, 300,0, 500,500), nrow=3, ncol=2, byrow=TRUE)

## GET PARAMETRIC BEZIER POINTS
bp &lt;- bezier(t=seq(0, 1, length=100), p=p)

## GET POINTS ALONG CURVE WITH ROUNDED POSITIONS AT "PIXEL" SPACING
pob &lt;- pointsOnBezier(p=p, method="adjoining", print.progress=TRUE)

## PLOT PARAMETRIC BEZIER POINTS
plot(bp, cex=0.5, asp=1)

## ADD POINTS TO PLOT
points(pob$points, col="red", cex=0.2, pch=16)
</code></pre>

<hr>
<h2 id='summary.bezierArcLength'>Summary of a Bezier arc length estimation</h2><span id='topic+summary.bezierArcLength'></span><span id='topic+print.summary.bezierArcLength'></span>

<h3>Description</h3>

<p>Prints a summary of the output of <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> (a list of class <code>"bezierArcLength"</code>). This includes the change in arc length once arc length estimation is stopped, the number of iterations until convergence and the number of points along the Bezier used to estimate arc length. If the input is a Bezier spline then the results are printed separately for each curve in the spline. See <code><a href="#topic+bezierArcLength">bezierArcLength</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bezierArcLength'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.bezierArcLength_+3A_object">object</code></td>
<td>
<p>a list of class <code>"bezierArcLength"</code> (the output of <code><a href="#topic+bezierArcLength">bezierArcLength</a></code>).</p>
</td></tr>
<tr><td><code id="summary.bezierArcLength_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>NULL</code> value.</p>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezierArcLength">bezierArcLength</a></code>, <code><a href="#topic+bezier">bezier</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## BEZIER CURVE ARC LENGTH ESTIMATION ##
## BEZIER CURVE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2), nrow=3, ncol=2, byrow=TRUE)

## FIND THE ARC LENGTH ALONG THE BEZIER CURVE
bcurve &lt;- bezierArcLength(p=p, t1=0, t2=1)

## PRINT SUMMARY
print(summary(bcurve))


## BEZIER SPLINE ARC LENGTH ##
## BEZIER SPLINE CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2, 3,0, 4,4), nrow=5, ncol=2, byrow=TRUE)

## FIND THE ARC LENGTH ALONG THE BEZIER SPLINE
## HERE t2 = 1 SO ARC LENGTH IS ONLY CALCULATED FOR THE
##   FIRST BEZIER CURVE OF THE SPLINE
bspline &lt;- bezierArcLength(p=p, t1=0, t2=2, deg=2)

## PRINT SUMMARY
print(summary(bspline))
</code></pre>

<hr>
<h2 id='summary.bezierCurveFit'>Summary of a Bezier curve fit</h2><span id='topic+summary.bezierCurveFit'></span><span id='topic+print.summary.bezierCurveFit'></span>

<h3>Description</h3>

<p>Prints a summary of the output of <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code> (a list of class <code>"bezierCurveFit"</code>). For each dimension of the point set being fitted, this includes the number of parameters used in the fit, the residual standard error and the reason the fit iterations were stopped. See <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bezierCurveFit'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.bezierCurveFit_+3A_object">object</code></td>
<td>
<p>a list of class <code>"bezierCurveFit"</code> (the output of <code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code>).</p>
</td></tr>
<tr><td><code id="summary.bezierCurveFit_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>NULL</code> value.</p>


<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>See Also</h3>

<p><code><a href="#topic+bezierCurveFit">bezierCurveFit</a></code>, <code><a href="#topic+bezier">bezier</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## RUN BEZIER CURVE FIT ON BEZIER CURVE ##
## BEZIER CONTROL POINTS
p &lt;- matrix(c(0,0, 1,4, 2,2, 3,0, 5,5), nrow=5, ncol=2, byrow=TRUE)

## POINTS ON BEZIER
m &lt;- bezier(t=seq(0, 1, length=300), p=p)

## RANDOM VARIATION (NOISE) AROUND POINTS
## SENDING EXACT POINTS WILL ISSUE WARNING IN NLM FUNCTION
mrnorm &lt;- m + cbind(rnorm(nrow(m), 1, 0.1), rnorm(nrow(m), 1, 0.1))

## RESTORE POSITION OF POINTS
mrnorm &lt;- mrnorm - cbind(rep(1, nrow(m)), rep(1, nrow(m)))

## RUN BEZIER CURVE FIT UNCONSTRAINED NUMBER OF CONTROL POINTS
bfit &lt;- bezierCurveFit(mrnorm)

## GET CURVE FIT SUMMARY
print(summary(bfit))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

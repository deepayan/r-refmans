<!DOCTYPE html><html><head><title>Help for package cranly</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cranly}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.igraph.cranly_network'><p>Coerce a <code>cranly_network</code> to an <code>igraph::graph</code> object</p></a></li>
<li><a href='#build_dependence_tree'><p><code>build_dependence_tree</code> method for an object</p></a></li>
<li><a href='#build_dependence_tree.cranly_network'><p>Construct a <code>cranly_dependence_tree</code> object</p></a></li>
<li><a href='#build_network.cranly_db'><p>Compute edges and nodes of package directives and collaboration networks</p></a></li>
<li><a href='#clean_CRAN_db'><p>Clean and organize package and author names in the output of <code>tools::CRAN_package_db()</code></p></a></li>
<li><a href='#clean_up_author'><p>Clean up author names</p></a></li>
<li><a href='#clean_up_directives'><p>Clean up package directives</p></a></li>
<li><a href='#compute_dependence_tree'><p>Computes the dependence tree of a package</p></a></li>
<li><a href='#compute_term_frequency'><p>Compute term frequencies from a vector of text</p></a></li>
<li><a href='#cranly'><p>cranly: CRAN package database analytics and visualizations</p></a></li>
<li><a href='#extractor-functions'><p>Find packages, authors, maintainers, license, versions etc by authors, packages or names matching a specific string</p></a></li>
<li><a href='#plot.cranly_dependence_tree'><p>Interactive visualization of package(s) dependence tree from a <code>cranly_network</code></p></a></li>
<li><a href='#plot.cranly_network'><p>Interactive visualization of a package or author <code>cranly_network</code></p></a></li>
<li><a href='#plot.summary_cranly_network'><p>Top-n package or author barplots according to a range of network statistics</p></a></li>
<li><a href='#standardize_whitespace'><p>Standardize whitespace in strings</p></a></li>
<li><a href='#subset.cranly_network'><p>Subset a <code>cranly_network</code> according to author, package and/or directive</p></a></li>
<li><a href='#summary.cranly_dependence_tree'><p>summary method for <code>cranly_dependence_tree</code> objects</p></a></li>
<li><a href='#summary.cranly_network'><p>Compute a range of package directives and collaboration network statistics</p></a></li>
<li><a href='#word_cloud.cranly_network'><p>wordcloud of author names, package descriptions, and package titles</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Package Directives and Collaboration Networks in CRAN</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Core visualizations and summaries for the CRAN package database. The package provides comprehensive methods for cleaning up and organizing the information in the CRAN package database, for building package directives networks (depends, imports, suggests, enhances, linking to) and collaboration networks, producing package dependence trees, and for computing useful summaries and producing interactive visualizations from the resulting networks and summaries. The resulting networks can be coerced to 'igraph' <a href="https://CRAN.R-project.org/package=igraph">https://CRAN.R-project.org/package=igraph</a> objects for further analyses and modelling.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ikosmidis/cranly">https://github.com/ikosmidis/cranly</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ikosmidis/cranly/issues">https://github.com/ikosmidis/cranly/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>visNetwork, colorspace, igraph, stringr, ggplot2, countrycode,
wordcloud, tm</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-26 16:21:34 UTC; yiannis</td>
</tr>
<tr>
<td>Author:</td>
<td>Ioannis Kosmidis <a href="https://orcid.org/0000-0003-1556-0302"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ioannis Kosmidis &lt;ioannis.kosmidis@warwick.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-26 22:14:41 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.igraph.cranly_network'>Coerce a <code><a href="#topic+cranly_network">cranly_network</a></code> to an <code><a href="igraph.html#topic+make_graph">igraph::graph</a></code> object</h2><span id='topic+as.igraph.cranly_network'></span>

<h3>Description</h3>

<p>Coerce a <code><a href="#topic+cranly_network">cranly_network</a></code> to an <code><a href="igraph.html#topic+make_graph">igraph::graph</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
as.igraph(x, reverse = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.igraph.cranly_network_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="as.igraph.cranly_network_+3A_reverse">reverse</code></td>
<td>
<p>logical. Should the direction of the edges be reversed? See details. Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="as.igraph.cranly_network_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The convention for a <code><a href="#topic+cranly_network">cranly_network</a></code> object with <code>perspective = "package"</code> is that the direction of an edge is from the package
that is imported by, suggested by, enhances or is a dependency of
another package, to the latter package. <code>reverse</code> reverses that
direction to correctly compute relevant network summaries (see
<code>summary.cranly_network</code>). <code>reverse</code> is only relevant when the
<code>attr(x, "perspective")</code> is <code>"package"</code> and is ignored when
<code>attr(x, "perspective")</code> is <code>"author"</code>, in which case the resulting
<code><a href="igraph.html#topic+make_graph">igraph::graph</a></code> object represents an undirected network of
authors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Package directives network
cran_db &lt;- clean_CRAN_db()

package_network &lt;- build_network(cran_db)
igraph::as.igraph(package_network)

## Author collaboration network
author_network &lt;- build_network(cran_db, perspective = "author")
igraph::as.igraph(author_network)


</code></pre>

<hr>
<h2 id='build_dependence_tree'><code>build_dependence_tree</code> method for an object</h2><span id='topic+build_dependence_tree'></span>

<h3>Description</h3>

<p><code>build_dependence_tree</code> method for an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_dependence_tree(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_dependence_tree_+3A_x">x</code></td>
<td>
<p>an object to use for building a dependence tree</p>
</td></tr>
<tr><td><code id="build_dependence_tree_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to the method</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>build_network.cranly_network compute_dependence_tree
</p>

<hr>
<h2 id='build_dependence_tree.cranly_network'>Construct a <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> object</h2><span id='topic+build_dependence_tree.cranly_network'></span><span id='topic+cranly_dependence_tree'></span>

<h3>Description</h3>

<p>Construct a <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
build_dependence_tree(
  x,
  package = Inf,
  base = FALSE,
  recommended = TRUE,
  global = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_dependence_tree.cranly_network_+3A_x">x</code></td>
<td>
<p>a  <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="build_dependence_tree.cranly_network_+3A_package">package</code></td>
<td>
<p>a vector of character strings with the package names to be matched. Default is <code><a href="base.html#topic+Inf">Inf</a></code> which returns all available packages in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="build_dependence_tree.cranly_network_+3A_base">base</code></td>
<td>
<p>logical. Should we include base packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="build_dependence_tree.cranly_network_+3A_recommended">recommended</code></td>
<td>
<p>logical. Should we include recommended packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="build_dependence_tree.cranly_network_+3A_global">global</code></td>
<td>
<p>logical. If <code>TRUE</code> (default) the network summary statistics are computed on <code>object</code>, otherwise, on the subset of <code>object</code> according to <code>package</code>, <code>author</code>, <code>directive</code>, <code>base</code>, <code>recommended</code>.</p>
</td></tr>
<tr><td><code id="build_dependence_tree.cranly_network_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+compute_dependence_tree">compute_dependence_tree()</a></code> <code><a href="#topic+plot.cranly_dependence_tree">plot.cranly_dependence_tree()</a></code> <code><a href="#topic+summary.cranly_dependence_tree">summary.cranly_dependence_tree()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cran_db &lt;- clean_CRAN_db()
package_network &lt;- build_network(cran_db)
dep_tree &lt;- build_dependence_tree(package_network, package = "PlackettLuce")
plot(dep_tree)


</code></pre>

<hr>
<h2 id='build_network.cranly_db'>Compute edges and nodes of package directives and collaboration networks</h2><span id='topic+build_network.cranly_db'></span><span id='topic+cranly_network'></span><span id='topic+build_network'></span>

<h3>Description</h3>

<p>Compute edges and nodes of package directives and collaboration networks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_db'
build_network(object, trace = FALSE, perspective = "package", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_network.cranly_db_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+cranly_db">cranly_db</a></code> object. If missing (default) a call to <code><a href="#topic+clean_CRAN_db">clean_CRAN_db()</a></code> is issued.</p>
</td></tr>
<tr><td><code id="build_network.cranly_db_+3A_trace">trace</code></td>
<td>
<p>logical. Print progress information? Default is <code><a href="base.html#topic+FALSE">FALSE</a></code>.</p>
</td></tr>
<tr><td><code id="build_network.cranly_db_+3A_perspective">perspective</code></td>
<td>
<p>character. Should a <code>"package"</code> (default) or an <code>"author"</code> network be built?</p>
</td></tr>
<tr><td><code id="build_network.cranly_db_+3A_...">...</code></td>
<td>
<p>Other arguments passed in <code><a href="#topic+clean_CRAN_db">clean_CRAN_db()</a></code> when <code>object</code> is <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The convention for a <code><a href="#topic+cranly_network">cranly_network</a></code> object with
<code>perspective = "package"</code> is that the direction of an edge is
from the package that is imported by, suggested by, enhances or is
a dependency of another package, to the latter package. The author
collaboration network is analyzed and visualized as undirected by
all methods in <code>cranly</code>.
</p>


<h3>Value</h3>

<p>A list of 2 <code><a href="base.html#topic+data.frame">data.frame</a></code> objects with the <code>edges</code> and <code>nodes</code> of the network.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+clean_CRAN_db">clean_CRAN_db()</a></code> <code><a href="#topic+subset.cranly_network">subset.cranly_network()</a></code> <code><a href="#topic+plot.cranly_network">plot.cranly_network()</a></code> <code><a href="#topic+extractor-functions">extractor-functions</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cran_db &lt;- clean_CRAN_db()

## Build package directives network
package_network &lt;- build_network(object = cran_db, perspective = "package")
head(package_network$edges)
head(package_network$nodes)
attr(package_network, "timestamp")
class(package_network)

## Build author collaboration network
author_network &lt;- build_network(object = cran_db, perspective = "author")
head(author_network$edges)
head(author_network$nodes)
attr(author_network, "timestamp")
class(author_network)


</code></pre>

<hr>
<h2 id='clean_CRAN_db'>Clean and organize package and author names in the output of <code><a href="tools.html#topic+CRANtools">tools::CRAN_package_db()</a></code></h2><span id='topic+clean_CRAN_db'></span><span id='topic+cranly_db'></span>

<h3>Description</h3>

<p>Clean and organize package and author names in the output of <code><a href="tools.html#topic+CRANtools">tools::CRAN_package_db()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_CRAN_db(
  packages_db,
  clean_directives = clean_up_directives,
  clean_author = clean_up_author,
  clean_maintainer = standardize_whitespace
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_CRAN_db_+3A_packages_db">packages_db</code></td>
<td>
<p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> with the same structure to the
output of <code><a href="tools.html#topic+CRANtools">tools::CRAN_package_db()</a></code> (default) or
<code><a href="utils.html#topic+available.packages">utils::available.packages()</a></code>.</p>
</td></tr>
<tr><td><code id="clean_CRAN_db_+3A_clean_directives">clean_directives</code></td>
<td>
<p>a function that transforms the contents of
the various directives in the package descriptions to vectors
of package names. Default is <code><a href="#topic+clean_up_directives">clean_up_directives()</a></code>.</p>
</td></tr>
<tr><td><code id="clean_CRAN_db_+3A_clean_author">clean_author</code></td>
<td>
<p>a function that transforms the contents of
<code>Author</code> to vectors of package authors. Default is
<code><a href="#topic+clean_up_author">clean_up_author()</a></code>.</p>
</td></tr>
<tr><td><code id="clean_CRAN_db_+3A_clean_maintainer">clean_maintainer</code></td>
<td>
<p>a function that transforms the contents of
<code>Maintainer</code> to vectors of of maintainer names. Default is
<code><a href="#topic+standardize_whitespace">standardize_whitespace()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+clean_CRAN_db">clean_CRAN_db()</a></code> uses <code><a href="#topic+clean_up_directives">clean_up_directives()</a></code> and
<code><a href="#topic+clean_up_author">clean_up_author()</a></code> to clean up the author names and package names
in the various directives (like <code>Imports</code>, <code>Depends</code>, <code>Suggests</code>,
<code>Enhances</code>, <code>LinkingTo</code>) as in the <code><a href="base.html#topic+data.frame">data.frame</a></code> that results from
<code><a href="tools.html#topic+CRANtools">tools::CRAN_package_db()</a></code>  return an organized <code>data.frame</code> of
class <code><a href="#topic+cranly_db">cranly_db</a></code> that can be used for further analysis.
</p>
<p>The function tries hard to identify and eliminate mistakes in the
Author field of the description file, and extract a clean list of
only author names. The relevant operations are coded in the
<code><a href="#topic+clean_up_author">clean_up_author()</a></code> function. Specifically, some references to
copyright holders had to go because they were contaminating the
list of authors (most are not necessary anyway, but that is a
different story...). The current version of <code><a href="#topic+clean_up_author">clean_up_author()</a></code> is
far from best practice in using regex but it currently does a fair
job in cleaning up messy Author fields. It will be improving in
future versions.
</p>
<p>Custom clean-up functions can also be supplied via the
<code>clean_directives</code> and <code>clean_author</code> arguments.
</p>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with the same variables as <code>package_db</code> (but with
lower case names), that also inherits from <code>class_db</code>, and has a
<code>timestamp</code> attribute.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Download today's CRAN package database
cran_db &lt;- tools::CRAN_package_db()

## Before clean up
cran_db[cran_db$Package == "weights", "Author"]

## After clean up
package_db &lt;- clean_CRAN_db(cran_db)
package_db[package_db$package == "weights", "author"]

</code></pre>

<hr>
<h2 id='clean_up_author'>Clean up author names</h2><span id='topic+clean_up_author'></span>

<h3>Description</h3>

<p>Clean up author names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_up_author(variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_up_author_+3A_variable">variable</code></td>
<td>
<p>a character string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of one vector of character strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clean_up_author(paste("The R Core team, Brian &amp; with some assistance from Achim, Hadley;",
                           "Kurt\n Portugal; Ireland; Italy; Greece; Spain"))
</code></pre>

<hr>
<h2 id='clean_up_directives'>Clean up package directives</h2><span id='topic+clean_up_directives'></span>

<h3>Description</h3>

<p>Clean up package directives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_up_directives(variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_up_directives_+3A_variable">variable</code></td>
<td>
<p>a character string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of one vector of character strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clean_up_directives("R (234)\n stats (&gt;0.01),     base\n graphics")
</code></pre>

<hr>
<h2 id='compute_dependence_tree'>Computes the dependence tree of a package</h2><span id='topic+compute_dependence_tree'></span>

<h3>Description</h3>

<p>Computes the dependence tree of a package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_dependence_tree(x, package = NULL, generation = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_dependence_tree_+3A_x">x</code></td>
<td>
<p>a  <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="compute_dependence_tree_+3A_package">package</code></td>
<td>
<p>a vector of character strings with the package names to be matched. If <code>Inf</code> all available packages in <code>x</code> are returned. If <code>NULL</code> (default) nothing is matched.</p>
</td></tr>
<tr><td><code id="compute_dependence_tree_+3A_generation">generation</code></td>
<td>
<p>integer. The original generation for the package.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implements a recursion that computes the full dependence tree of a
<code>package</code> from <code>x</code>. Specifically, the packages that are
requirements for <code>package</code> (<code>Depends</code>, <code>Imports</code> or
<code>LinkingTo</code>) are found, then the requirements for those
packages are found, and so on.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+build_dependence_tree.cranly_network">build_dependence_tree.cranly_network()</a></code>
</p>

<hr>
<h2 id='compute_term_frequency'>Compute term frequencies from a vector of text</h2><span id='topic+compute_term_frequency'></span>

<h3>Description</h3>

<p>Compute term frequencies from a vector of text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_term_frequency(
  txt,
  ignore_words = c("www.jstor.org", "www.arxiv.org", "arxiv.org", "provides", "https"),
  stem = FALSE,
  remove_punctuation = TRUE,
  remove_stopwords = TRUE,
  remove_numbers = TRUE,
  to_lower = TRUE,
  frequency = "term"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_term_frequency_+3A_txt">txt</code></td>
<td>
<p>a vector of character strings.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_ignore_words">ignore_words</code></td>
<td>
<p>a vector of words to be ignored when forming the corpus.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_stem">stem</code></td>
<td>
<p>should words be stemmed using Porter's stemming algorithm? Default is <code>FALSE</code>. See <code><a href="tm.html#topic+stemDocument">tm::stemDocument()</a></code>.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_remove_punctuation">remove_punctuation</code></td>
<td>
<p>should punctuation be removed when forming the corpus? Default is <code>TRUE</code>. See <code><a href="tm.html#topic+removePunctuation">tm::removePunctuation()</a></code>.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_remove_stopwords">remove_stopwords</code></td>
<td>
<p>should english stopwords be removed when forming the corpus? Default is <code>TRUE</code>. See <a href="tm.html#topic+removeWords">tm::removeWords</a> and <a href="tm.html#topic+stopwords">tm::stopwords</a>.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_remove_numbers">remove_numbers</code></td>
<td>
<p>should numbers be removed when forming the corpus? Default is <code>TRUE</code>. See <a href="tm.html#topic+removeNumbers">tm::removeNumbers</a>.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_to_lower">to_lower</code></td>
<td>
<p>should all terms be coerced to lower-case when forming the corpus? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="compute_term_frequency_+3A_frequency">frequency</code></td>
<td>
<p>the type of term frequencies to return. Options are <code>"term"</code> (default; a named vector of term frequencies), <code>"document-term"</code> (a document-term frequency matrix; see <code><a href="tm.html#topic+matrix">tm::TermDocumentMatrix()</a></code>), <code>"term-document"</code> (a term-document frequency matrix; see <code><a href="tm.html#topic+matrix">tm::DocumentTermMatrix()</a></code>).
</p>
<p>The operations are taking place as follows: remove special
characters, covert to lower-case (depending on the values of
<code>to_lower</code>), remove numbers (depending on the value of
<code>remove_numbers</code>), remove stop words (depending on the value of
<code>remove_stopwords</code>), remove custom words (depending on the value of
<code>ignore_words</code>), remove punctuation (depending on the value of
<code>remove_punctuation</code>), clean up any leading or trailing whitespace,
and, finally stem words (depending on the value of <code>stem</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>txt</code> is a named vector then the names are used as document id's
when forming the corpus.
</p>


<h3>Value</h3>

<p>Either a named numeric vector (<code>frequency = "term"</code>), or an object of class <a href="tm.html#topic+matrix">tm::DocumentTermMatrix</a> (<code>frequency = "document-term"</code>), or or an object of class <code><a href="tm.html#topic+matrix">tm::TermDocumentMatrix</a></code> (<code>frequency = "term-document"</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+word_cloud">word_cloud()</a></code>
</p>

<hr>
<h2 id='cranly'>cranly: CRAN package database analytics and visualizations</h2><span id='topic+cranly'></span>

<h3>Description</h3>

<p><span class="pkg">cranly</span> provides core visualizations and summaries for the
CRAN package database. The package provides comprehensive methods
for cleaning up and organizing the information in the CRAN package
database, for building package directives networks (depends,
imports, suggests, enhances, linking to) and collaboration
networks, and for computing summaries and producing interactive
visualizations from the resulting networks. Network visualization
is through the <span class="pkg">visNetwork</span>
(<a href="https://CRAN.R-project.org/package=visNetwork">https://CRAN.R-project.org/package=visNetwork</a>) package. The
package also provides functions to coerce the networks to
<span class="pkg">igraph</span> <a href="https://CRAN.R-project.org/package=igraph">https://CRAN.R-project.org/package=igraph</a> objects
for further analyses and modelling.
</p>


<h3>Details</h3>

<p>Acknowledgements:
</p>

<ul>
<li><p> David Selby (<a href="https://selbydavid.com">https://selbydavid.com</a>) experimented with
and provided helpful comments and feedback on a pre-release version
of <span class="pkg">cranly</span>. His help is gratefully acknowledged.
</p>
</li>
<li><p> This work has been partially supported by the Alan Turing
Institute under the EPSRC grant EP/N510129/1 (Turing award number
TU/B/000082).
</p>
</li></ul>


<hr>
<h2 id='extractor-functions'>Find packages, authors, maintainers, license, versions etc by authors, packages or names matching a specific string</h2><span id='topic+extractor-functions'></span><span id='topic+package_by'></span><span id='topic+package_with'></span><span id='topic+author_with'></span><span id='topic+author_of'></span><span id='topic+suggested_by'></span><span id='topic+imported_by'></span><span id='topic+dependency_of'></span><span id='topic+linked_by'></span><span id='topic+enhanced_by'></span><span id='topic+suggesting'></span><span id='topic+importing'></span><span id='topic+depending_on'></span><span id='topic+linking_to'></span><span id='topic+enhancing'></span><span id='topic+maintainer_of'></span><span id='topic+maintained_by'></span><span id='topic+email_of'></span><span id='topic+email_with'></span><span id='topic+description_of'></span><span id='topic+title_of'></span><span id='topic+license_of'></span><span id='topic+version_of'></span><span id='topic+release_date_of'></span><span id='topic+package_by.cranly_network'></span><span id='topic+package_with.cranly_network'></span><span id='topic+author_of.cranly_network'></span><span id='topic+author_with.cranly_network'></span><span id='topic+suggested_by.cranly_network'></span><span id='topic+suggesting.cranly_network'></span><span id='topic+imported_by.cranly_network'></span><span id='topic+importing.cranly_network'></span><span id='topic+dependency_of.cranly_network'></span><span id='topic+depending_on.cranly_network'></span><span id='topic+linked_by.cranly_network'></span><span id='topic+linking_to.cranly_network'></span><span id='topic+enhanced_by.cranly_network'></span><span id='topic+enhancing.cranly_network'></span><span id='topic+maintainer_of.cranly_network'></span><span id='topic+maintained_by.cranly_network'></span><span id='topic+email_of.cranly_network'></span><span id='topic+email_with.cranly_network'></span><span id='topic+description_of.cranly_network'></span><span id='topic+title_of.cranly_network'></span><span id='topic+license_of.cranly_network'></span><span id='topic+version_of.cranly_network'></span><span id='topic+release_date_of.cranly_network'></span><span id='topic+packages_by'></span><span id='topic+packages_with'></span><span id='topic+authors_with'></span><span id='topic+authors_of'></span><span id='topic+emails_of'></span><span id='topic+emails_with'></span><span id='topic+descriptions_of'></span><span id='topic+titles_of'></span><span id='topic+licenses_of'></span><span id='topic+release_dates_of'></span><span id='topic+versions_of'></span>

<h3>Description</h3>

<p>Find packages, authors, maintainers, license, versions etc by authors, packages or names matching a specific string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
package_by(x, author = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
package_with(x, name = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
author_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
author_with(x, name = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
suggested_by(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
suggesting(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
imported_by(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
importing(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
dependency_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
depending_on(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
linked_by(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
linking_to(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
enhanced_by(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
enhancing(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
maintainer_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
maintained_by(x, author = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
email_of(x, author = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
email_with(x, name = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
description_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
title_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
license_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
version_of(x, package = NULL, exact = FALSE, flat = TRUE)

## S3 method for class 'cranly_network'
release_date_of(x, package = NULL, exact = FALSE, flat = TRUE)

packages_by(x, author, exact, flat)

packages_with(x, name = NULL, exact = FALSE, flat = TRUE)

authors_with(x, name = NULL, exact = FALSE, flat = TRUE)

authors_of(x, package = NULL, exact = FALSE, flat = TRUE)

emails_of(x, author = NULL, exact = FALSE, flat = TRUE)

emails_with(x, name = NULL, exact = FALSE, flat = TRUE)

descriptions_of(x, package = NULL, exact = FALSE, flat = TRUE)

titles_of(x, package = NULL, exact = FALSE, flat = TRUE)

licenses_of(x, package = NULL, exact = FALSE, flat = TRUE)

release_dates_of(x, package = NULL, exact = FALSE, flat = TRUE)

versions_of(x, package = NULL, exact = FALSE, flat = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractor-functions_+3A_x">x</code></td>
<td>
<p>a  <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="extractor-functions_+3A_author">author</code></td>
<td>
<p>a vector of character strings with the author names to be matched. If <code>Inf</code> all available authors in <code>x</code> are returned. If <code>NULL</code> (default) nothing is matched.</p>
</td></tr>
<tr><td><code id="extractor-functions_+3A_exact">exact</code></td>
<td>
<p>logical. Should we use exact matching? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="extractor-functions_+3A_flat">flat</code></td>
<td>
<p>if <code>TRUE</code> (default) then the result is an unnamed character vector. See Value for more details of what is returned.</p>
</td></tr>
<tr><td><code id="extractor-functions_+3A_name">name</code></td>
<td>
<p>a vector of character strings with the names to be matched. If <code>Inf</code> all available names in <code>x</code> are returned. If <code>NULL</code> (default) nothing is matched.</p>
</td></tr>
<tr><td><code id="extractor-functions_+3A_package">package</code></td>
<td>
<p>a vector of character strings with the package names to be matched. If <code>Inf</code> all available packages in <code>x</code> are returned. If <code>NULL</code> (default) nothing is matched.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The extractor functions all try to figure out what <code>y</code> is in the statement
</p>
<p><code>y</code> is (the) <code style="white-space: pre;">&#8288;extractor-function&#8288;</code> a <code>package</code>/<code>author</code>.
</p>
<p>For example, for
</p>

<ul>
<li><p> &quot;<code>y</code> is the package by <code>"Kurt Hornik"</code>&quot; we do <code>package_by(x, "Kurt Hornik")</code>
</p>
</li>
<li><p> &quot;<code>y</code> is the author of a package with a name matching <code>"MASS"</code>&quot; we do <code>author_of(x, "MASS")</code>
</p>
</li>
<li><p> &quot;<code>y</code> is the package enhanced by the <code>"prediction"</code> package we do <code>enhanced_by(x, "prediction", exact = TRUE)</code>
</p>
</li>
<li><p> &quot;<code>y</code> is the package linking to <code>"Rcpp"</code> we do <code>linking_to(x, "Rcpp", exact = TRUE)</code>
</p>
</li></ul>



<h3>Value</h3>

<p>If <code>flat = TRUE</code> then the result of the extraction function is a
<code>data.frame</code>, which is the subset of <code>x$nodes</code> matching <code>author</code>,
<code>name</code> or <code>package</code> (according to the value of <code>exact</code>). If <code>flat = FALSE</code> then the results is a vector.
</p>
<p>When <code>flat = TRUE</code> any <code><a href="base.html#topic+NA">NA</a></code>s are removed before the result is
returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+build_network.cranly_db">build_network.cranly_db()</a></code> <code><a href="#topic+subset.cranly_network">subset.cranly_network()</a></code> <code><a href="#topic+plot.cranly_network">plot.cranly_network()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Using a package directives network
cran_db &lt;- clean_CRAN_db()
package_network &lt;- build_network(cran_db)

## Find all packages containing glm in their name
package_with(package_network, name = "glm")
## Find all authors of packages containing brglm in their name
author_of(package_network, package = "rglm", exact = FALSE)
## Find all packages with brglm in their name
package_with(package_network, name = "rglm", exact = FALSE)
## Find all authors of the package brglm2
author_of(package_network, package = "brglm2", exact = TRUE)
## Find all authors with Ioannis in their name
author_with(package_network, name = "Ioannis", exact = FALSE)
## Find all packages suggested by Rcpp
suggested_by(package_network, package = "Rcpp", exact = TRUE)
## Find all packages imported by Rcpp
imported_by(package_network, package = "Rcpp", exact = TRUE)
## Find all packages enhacing brglm
enhancing(package_network, package = "brglm", exact = TRUE)
## Find all packages linking to RcppArmadillo
linking_to(package_network, package = "RcppArmadillo", exact = TRUE)
## Find the release date of RcppArmadillo
release_date_of(package_network, package = "RcppArmadillo", exact = TRUE)
## Find the release data of all packages with "brglm" in their name
release_date_of(package_network, package = "brglm", exact = FALSE)
## More information about packages with "brglm" in their name
release_date_of(package_network, package = "brglm", exact = FALSE,
                flat = FALSE)[c("package", "version")]

## Using an author collaboration network
author_network &lt;- build_network(cran_db, perspective = "author")
## Find all packages containing glm in their name
package_with(author_network, name = "glm")
## Find all authors of packages containing brglm in their name
author_of(author_network, package = "rglm", exact = FALSE)
## Find all packages with brglm in their name
package_with(author_network, name = "rglm", exact = FALSE)
## Find all authors of the package brglm2
author_of(author_network, package = "brglm2", exact = TRUE)
## Find all authors with Ioannis in their name
author_with(author_network, name = "Ioannis", exact = FALSE)



</code></pre>

<hr>
<h2 id='plot.cranly_dependence_tree'>Interactive visualization of package(s) dependence tree from a <code><a href="#topic+cranly_network">cranly_network</a></code></h2><span id='topic+plot.cranly_dependence_tree'></span>

<h3>Description</h3>

<p>Interactive visualization of package(s) dependence tree from a <code><a href="#topic+cranly_network">cranly_network</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_dependence_tree'
plot(
  x,
  physics_threshold = 200,
  height = NULL,
  width = NULL,
  dragNodes = TRUE,
  dragView = TRUE,
  zoomView = TRUE,
  legend = TRUE,
  title = TRUE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.cranly_dependence_tree_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_physics_threshold">physics_threshold</code></td>
<td>
<p>integer. How many nodes before switching off physics simulations for edges? Default is <code>200</code>. See, also <code><a href="visNetwork.html#topic+visEdges">visNetwork::visEdges()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_height">height</code></td>
<td>
<p>: Height (optional, defaults to automatic sizing)</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_width">width</code></td>
<td>
<p>: Width (optional, defaults to automatic sizing)</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_dragnodes">dragNodes</code></td>
<td>
<p>logical. Should the user be able to drag the nodes that are not fixed? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_dragview">dragView</code></td>
<td>
<p>logical. Should the user be able to drag the view around? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_zoomview">zoomView</code></td>
<td>
<p>logical. Should the user be able to zoom in? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_legend">legend</code></td>
<td>
<p>logical. Should a legend be added on the resulting visualization? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_title">title</code></td>
<td>
<p>logical. Should a title be added on the resulting visualization? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_plot">plot</code></td>
<td>
<p>logical. Should the visualization be returned? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_dependence_tree_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+compute_dependence_tree">compute_dependence_tree()</a></code> <code><a href="#topic+build_dependence_tree.cranly_network">build_dependence_tree.cranly_network()</a></code>
</p>

<hr>
<h2 id='plot.cranly_network'>Interactive visualization of a package or author <code><a href="#topic+cranly_network">cranly_network</a></code></h2><span id='topic+plot.cranly_network'></span>

<h3>Description</h3>

<p>Interactive visualization of a package or author <code><a href="#topic+cranly_network">cranly_network</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
plot(
  x,
  package = Inf,
  author = Inf,
  directive = c("imports", "suggests", "enhances", "depends", "linking_to"),
  base = TRUE,
  recommended = TRUE,
  exact = TRUE,
  global = TRUE,
  physics_threshold = 200,
  height = NULL,
  width = NULL,
  dragNodes = TRUE,
  dragView = TRUE,
  zoomView = TRUE,
  legend = TRUE,
  title = TRUE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.cranly_network_+3A_x">x</code></td>
<td>
<p>a  <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_package">package</code></td>
<td>
<p>a vector of character strings with the package names to be matched. Default is <code><a href="base.html#topic+Inf">Inf</a></code> which returns all available packages in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_author">author</code></td>
<td>
<p>a vector of character strings with the author names to be matched. Default is <code>Inf</code> which returns all available author in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_directive">directive</code></td>
<td>
<p>a vector of at least one of <code>"Imports"</code>, <code>"Suggests"</code>, <code>"Enhances"</code>, <code>"Depends"</code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_base">base</code></td>
<td>
<p>logical. Should we include base packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_recommended">recommended</code></td>
<td>
<p>logical. Should we include recommended packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_exact">exact</code></td>
<td>
<p>logical. Should we use exact matching? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_global">global</code></td>
<td>
<p>logical. If <code>TRUE</code> (default) the network summary statistics are computed on <code>object</code>, otherwise, on the subset of <code>object</code> according to <code>package</code>, <code>author</code>, <code>directive</code>, <code>base</code>, <code>recommended</code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_physics_threshold">physics_threshold</code></td>
<td>
<p>integer. How many nodes before switching off physics simulations for edges? Default is <code>200</code>. See, also <code><a href="visNetwork.html#topic+visEdges">visNetwork::visEdges()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_height">height</code></td>
<td>
<p>: Height (optional, defaults to automatic sizing)</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_width">width</code></td>
<td>
<p>: Width (optional, defaults to automatic sizing)</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_dragnodes">dragNodes</code></td>
<td>
<p>logical. Should the user be able to drag the nodes that are not fixed? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_dragview">dragView</code></td>
<td>
<p>logical. Should the user be able to drag the view around? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_zoomview">zoomView</code></td>
<td>
<p>logical. Should the user be able to zoom in? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_legend">legend</code></td>
<td>
<p>logical. Should a legend be added on the resulting visualization? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_title">title</code></td>
<td>
<p>logical. Should a title be added on the resulting visualization? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_plot">plot</code></td>
<td>
<p>logical. Should the visualization be returned? Default is <code><a href="base.html#topic+TRUE">TRUE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cranly_network_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
cran_db &lt;- clean_CRAN_db()
package_network &lt;- build_network(cran_db)

## The package directives network of all users with Ioannis in
## their name from the CRAN database subset crandb
plot(package_network, author = "Ioannis", exact = FALSE)
## The package directives network of "Achim Zeileis"
plot(package_network, author = "Achim Zeileis")

author_network &lt;- build_network(cran_db, perspective = "author")
plot(author_network, author = "Ioannis", exact = FALSE, title = TRUE)

</code></pre>

<hr>
<h2 id='plot.summary_cranly_network'>Top-n package or author barplots according to a range of network statistics</h2><span id='topic+plot.summary_cranly_network'></span>

<h3>Description</h3>

<p>Top-n package or author barplots according to a range of network statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary_cranly_network'
plot(x, top = 20, according_to = NULL, scale = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.summary_cranly_network_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+summary_cranly_network">summary_cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.summary_cranly_network_+3A_top">top</code></td>
<td>
<p>integer. How may top packages or authors should be plotted? Default is <code>20</code>.</p>
</td></tr>
<tr><td><code id="plot.summary_cranly_network_+3A_according_to">according_to</code></td>
<td>
<p>the statistic according to which the top-<code>top</code> list is produced. See <code><a href="#topic+summary.cranly_network">summary.cranly_network</a></code> for available statistics.</p>
</td></tr>
<tr><td><code id="plot.summary_cranly_network_+3A_scale">scale</code></td>
<td>
<p>logical. Should the statistics be scaled to lie between <code>0</code> and <code>1</code> before plotting? Default is <code><a href="base.html#topic+FALSE">FALSE</a></code>.</p>
</td></tr>
<tr><td><code id="plot.summary_cranly_network_+3A_...">...</code></td>
<td>
<p>currently not used</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

cran_db &lt;- clean_CRAN_db()
package_network &lt;- build_network(cran_db)

package_summaries &lt;- summary(package_network)
plot(package_summaries, according_to = "n_imported_by", top = 30)
plot(package_summaries, according_to = "n_depended_by", top = 30)
plot(package_summaries, according_to = "page_rank", top = 30)

## author network
author_network &lt;- build_network(cran_db, perspective = "author")
author_summaries &lt;- summary(author_network)
plot(author_summaries, according_to = "n_collaborators", top = 30)
plot(author_summaries, according_to = "n_packages", top = 30)
plot(author_summaries, according_to = "page_rank", top = 30)


</code></pre>

<hr>
<h2 id='standardize_whitespace'>Standardize whitespace in strings</h2><span id='topic+standardize_whitespace'></span>

<h3>Description</h3>

<p>Standardize whitespace in strings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>standardize_whitespace(variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="standardize_whitespace_+3A_variable">variable</code></td>
<td>
<p>a character string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of one vector of character strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>standardize_whitespace("  My spacebar         key is      broken.             ")

</code></pre>

<hr>
<h2 id='subset.cranly_network'>Subset a <code><a href="#topic+cranly_network">cranly_network</a></code> according to author, package and/or directive</h2><span id='topic+subset.cranly_network'></span>

<h3>Description</h3>

<p>Subset a <code><a href="#topic+cranly_network">cranly_network</a></code> according to author, package and/or directive
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
subset(
  x,
  package = Inf,
  author = Inf,
  maintainer = Inf,
  directive = c("imports", "suggests", "enhances", "depends", "linking_to"),
  base = TRUE,
  recommended = TRUE,
  exact = TRUE,
  only = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset.cranly_network_+3A_x">x</code></td>
<td>
<p>a  <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_package">package</code></td>
<td>
<p>a vector of character strings with the package names to be matched. Default is <code><a href="base.html#topic+Inf">Inf</a></code> which returns all available packages in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_author">author</code></td>
<td>
<p>a vector of character strings with the author names to be matched. Default is <code>Inf</code> which returns all available author in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_maintainer">maintainer</code></td>
<td>
<p>a vector of character strings with the maintainer names to be matched. Default is <code>Inf</code> which returns all available maintainers in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_directive">directive</code></td>
<td>
<p>a vector of at least one of <code>"Imports"</code>, <code>"Suggests"</code>, <code>"Enhances"</code>, <code>"Depends"</code>.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_base">base</code></td>
<td>
<p>logical. Should we include base packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_recommended">recommended</code></td>
<td>
<p>logical. Should we include recommended packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_exact">exact</code></td>
<td>
<p>logical. Should we use exact matching? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_only">only</code></td>
<td>
<p>logical. If <code>TRUE</code> the subset includes only the edges between packages named in <code>package</code> and/or authors named in <code>author</code>. If <code>FALSE</code> (default) edges to and from all other packages and/or authors that are linked to <code>package</code> and/or <code>author</code> are included in the subset.</p>
</td></tr>
<tr><td><code id="subset.cranly_network_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+cranly_network">cranly_network</a></code> object that is the subject of <code>x</code>.
</p>

<hr>
<h2 id='summary.cranly_dependence_tree'>summary method for <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> objects</h2><span id='topic+summary.cranly_dependence_tree'></span>

<h3>Description</h3>

<p>Hard dependence summaries for R packages from a <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_dependence_tree'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.cranly_dependence_tree_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> object.</p>
</td></tr>
<tr><td><code id="summary.cranly_dependence_tree_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The summary method for a <code><a href="#topic+cranly_dependence_tree">cranly_dependence_tree</a></code> object returns
the number of generations the R package(s) in the object inherit
from (<code>n_generations</code>), the immediate parents of the R package(s)
(<code>parents</code>), and a dependence index <code>dependence_index</code> defined as
</p>
<p style="text-align: center;"><code class="reqn"> -\frac{\sum_{i \in C_p; i \ne p} \frac{1}{N_i} g_i}{\sum_{i
\in C_p; i \ne p} \frac{1}{N_i}} </code>
</p>

<p>where <code class="reqn">C_p</code> is the dependence tree for the package(s) <code class="reqn">p</code>,
<code class="reqn">N_i</code> is the total number of packages that depend, link or
import package <code class="reqn">i</code>, and <code class="reqn">g_i</code> is the generation that
package <code class="reqn">i</code> appears in the dependence tree of package(s)
<code class="reqn">p</code>. The generation takes values on the non-positive integers,
with the package(s) <code class="reqn">p</code> being placed at generation <code>0</code>, the
packages that <code class="reqn">p</code> links to, depends or imports at generation
<code>-1</code> and so on.
</p>
<p>A dependence index of zero means that the <code class="reqn">p</code> only has
immediate parents. The dependence index weights the dependencies
based on how popular these are, in the sense that the index is
not penalized if the package depends on popular packages. The
greatest the dependence index is the more baggage the package
carries, and the maintainers may want to remove any dependencies
that are not necessary.
</p>


<h3>Value</h3>

<p>A list with components <code>n_generations</code>, <code>parents</code>, and <code>dependence_index</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+build_dependence_tree.cranly_network">build_dependence_tree.cranly_network()</a></code> <code><a href="#topic+compute_dependence_tree">compute_dependence_tree()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cran_db &lt;- clean_CRAN_db()
package_network &lt;- build_network(cran_db)

## Two light packages
dep_tree &lt;- build_dependence_tree(package_network, package = "brglm")
summary(dep_tree)

dep_tree &lt;- build_dependence_tree(package_network, package = "gnm")
summary(dep_tree)

## A somewhat heavier package (sorry)...
dep_tree &lt;- build_dependence_tree(package_network, package = "cranly")
summary(dep_tree)



</code></pre>

<hr>
<h2 id='summary.cranly_network'>Compute a range of package directives and collaboration network statistics</h2><span id='topic+summary.cranly_network'></span><span id='topic+summary_cranly_network'></span>

<h3>Description</h3>

<p>Compute a range of package directives and collaboration network statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
summary(object, advanced = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.cranly_network_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+cranly_network">cranly_network</a></code> object.</p>
</td></tr>
<tr><td><code id="summary.cranly_network_+3A_advanced">advanced</code></td>
<td>
<p>logical. If <code><a href="base.html#topic+FALSE">FALSE</a></code> (default) only basic network statistics are computed; if <code><a href="base.html#topic+TRUE">TRUE</a></code> advanced statistics are also included in the computation (see Details).</p>
</td></tr>
<tr><td><code id="summary.cranly_network_+3A_...">...</code></td>
<td>
<p>currently not used'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>attr(object, "perspective")</code> is <code>"package"</code> then the
resulting <code>data.frame</code> will have the following variables:
</p>

<ul>
<li><p> package. package name
</p>
</li>
<li><p> n_authors (basic). number of authors for the package
</p>
</li>
<li><p> n_imports (basic). number of packages the package imports
</p>
</li>
<li><p> n_imported_by (basic). number of times the package is imported by other packages
</p>
</li>
<li><p> n_suggests (basic). number of packages the package suggests
</p>
</li>
<li><p> n_suggested_by (basic). number of times the package is suggested by other packages
</p>
</li>
<li><p> n_depends (basic). number of packages the package depends on
</p>
</li>
<li><p> n_depended_by (basic). number of packages that have the package as a dependency
</p>
</li>
<li><p> n_enhances (basic). number of packages the package enhances
</p>
</li>
<li><p> n_enhanced_by (basic). number of packages the package is enhanced by
</p>
</li>
<li><p> n_linking_to (basic). number of packages the package links to
</p>
</li>
<li><p> n_linked_by (basic). number of packages the package is linked by
</p>
</li>
<li><p> betweenness (advanced). the package betweenness in the package network; as computed by <code><a href="igraph.html#topic+betweenness">igraph::betweenness()</a></code>
</p>
</li>
<li><p> closeness (advanced). the closeness centrality of the package in the package network; as computed by <code><a href="igraph.html#topic+closeness">igraph::closeness()</a></code>
</p>
</li>
<li><p> page_rank (advanced). the Google PageRank of the package in the package network; as computed by <code><a href="igraph.html#topic+page_rank">igraph::page_rank()</a></code>
</p>
</li>
<li><p> degree (advanced). the degree of the package in the package network;  as computed by <code><a href="igraph.html#topic+degree">igraph::degree()</a></code>
</p>
</li>
<li><p> eigen_centrality (advanced). the eigenvector centrality score of the package in the package network; as computed by <code><a href="igraph.html#topic+eigen_centrality">igraph::eigen_centrality()</a></code>
</p>
</li></ul>

<p>If <code>attr(object, "perspective")</code> is <code>"author"</code> then the
resulting <code>data.frame</code> will have the following variables:
</p>

<ul>
<li><p> author. author name
</p>
</li>
<li><p> n_packages (basic). number of packages the author appears in the package authors
</p>
</li>
<li><p> n_collaborators (basic). total number of co-authors the author has in CRAN
</p>
</li>
<li><p> betweenness (advanced). the author betweenness in the author network; as computed by <code><a href="igraph.html#topic+betweenness">igraph::betweenness()</a></code>
</p>
</li>
<li><p> closeness (advanced). the closeness centrality of the author in the author network; as computed by <code><a href="igraph.html#topic+closeness">igraph::closeness()</a></code>
</p>
</li>
<li><p> page_rank (advanced). the Google PageRank of the author in the author network; as computed by <code><a href="igraph.html#topic+page_rank">igraph::page_rank()</a></code>
</p>
</li>
<li><p> degree (advanced). the degree of the author in the author network;  as computed by <code><a href="igraph.html#topic+degree">igraph::degree()</a></code>; same as n_collaborators
</p>
</li>
<li><p> eigen_centrality (advanced). the eigenvector centrality score of the author in the author network; as computed by <code><a href="igraph.html#topic+eigen_centrality">igraph::eigen_centrality()</a></code>
</p>
</li></ul>



<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> of various statistics for the author collaboration
network or the package directives network, depending on whether
<code>attr(object, "perspective")</code> is <code>"author"</code> or <code>"package"</code>,
respectively. See Details for the current list of statistics
returned.
</p>

<hr>
<h2 id='word_cloud.cranly_network'>wordcloud of author names, package descriptions, and package titles</h2><span id='topic+word_cloud.cranly_network'></span><span id='topic+word_cloud'></span><span id='topic+word_cloud.numeric'></span>

<h3>Description</h3>

<p>wordcloud of author names, package descriptions, and package titles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cranly_network'
word_cloud(
  x,
  package = Inf,
  author = Inf,
  maintainer = Inf,
  base = TRUE,
  recommended = TRUE,
  exact = TRUE,
  perspective = "description",
  random_order = FALSE,
  ignore_words = c("www.jstor.org", "www.arxiv.org", "arxiv.org", "provides", "https"),
  stem = FALSE,
  colors = rev(colorspace::heat_hcl(10)),
  ...
)

## S3 method for class 'numeric'
word_cloud(
  x,
  random_order = FALSE,
  colors = rev(colorspace::heat_hcl(10)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="word_cloud.cranly_network_+3A_x">x</code></td>
<td>
<p>either a  <code><a href="#topic+cranly_network">cranly_network</a></code> object or a named vector of term frequencies (typically the output of <code><a href="#topic+compute_term_frequency">compute_term_frequency()</a></code> with <code>frequency = "term"</code>.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_package">package</code></td>
<td>
<p>a vector of character strings with the package names to be matched. Default is <code><a href="base.html#topic+Inf">Inf</a></code> which returns all available packages in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_author">author</code></td>
<td>
<p>a vector of character strings with the author names to be matched. Default is <code>Inf</code> which returns all available author in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_maintainer">maintainer</code></td>
<td>
<p>a vector of character strings with the maintainer names to be matched. Default is <code>Inf</code> which returns all available maintainers in <code>x</code> for further subsetting.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_base">base</code></td>
<td>
<p>logical. Should we include base packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_recommended">recommended</code></td>
<td>
<p>logical. Should we include recommended packages in the subset? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_exact">exact</code></td>
<td>
<p>logical. Should we use exact matching? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_perspective">perspective</code></td>
<td>
<p>should the wordcloud be that of package descriptions (<code>perspective = "description"</code>; default), of package titles (<code>perspective = "title"</code>) or of author names (<code>perspective = "author"</code>).</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_random_order">random_order</code></td>
<td>
<p>should words be plotted in random order? If <code>FALSE</code> (default) words are plotted in decreasing frequency.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_ignore_words">ignore_words</code></td>
<td>
<p>a vector of words to be ignored when forming the corpus.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_stem">stem</code></td>
<td>
<p>should words be stemmed using Porter's stemming algorithm? Default is <code>FALSE</code>. See <code><a href="tm.html#topic+stemDocument">tm::stemDocument()</a></code>.</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_colors">colors</code></td>
<td>
<p>color words from least to most frequent</p>
</td></tr>
<tr><td><code id="word_cloud.cranly_network_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to <a href="wordcloud.html#topic+wordcloud">wordcloud::wordcloud</a> (except <code>random.order</code> which is already defined through <code>random_order</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When applied to <code><a href="#topic+cranly_network">cranly_network</a></code> objects, <code><a href="#topic+word_cloud">word_cloud()</a></code> subsets
either according to <code>author</code> (using the intersection of the result
of <code><a href="#topic+author_of">author_of()</a></code> and <code><a href="#topic+author_with">author_with()</a></code>) or according to package
(using the intersection of the results of <code><a href="#topic+package_with">package_with()</a></code> and
<code><a href="#topic+package_by">package_by()</a></code>).
</p>
<p>For handling more complex queries, one can manually extract the #'
term frequencies from a supplied vector of character strings (see
<code><a href="#topic+compute_term_frequency">compute_term_frequency()</a></code>), and use <code><a href="#topic+word_cloud">word_cloud()</a></code> on them. See the
examples.
</p>


<h3>Value</h3>

<p>A word cloud.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compute_term_frequency">compute_term_frequency()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Package directives network
cran_db &lt;- clean_CRAN_db()
package_network &lt;- build_network(cran_db)
## Descriptions of all packages in tidyverse
tidyverse &lt;- imported_by(package_network, "tidyverse", exact = TRUE)
set.seed(123)
word_cloud(package_network, package = tidyverse, exact = TRUE, min.freq = 2)

## or by manually creating the term frequencies from descriptions
descriptions &lt;- descriptions_of(package_network, tidyverse, exact = TRUE)
term_freq &lt;- compute_term_frequency(descriptions)
set.seed(123)
word_cloud(term_freq, min.freq = 2)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

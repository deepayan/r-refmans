<!DOCTYPE html><html><head><title>Help for package simCAT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {simCAT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calc.info'><p>Compute item information</p></a></li>
<li><a href='#calc.prob'><p>Compute probability</p></a></li>
<li><a href='#cat.evaluation'><p>CAT Evaluation</p></a></li>
<li><a href='#content.balancing'><p>Content balancing</p></a></li>
<li><a href='#eap'><p>EAP estimation</p></a></li>
<li><a href='#exposure.rate'><p>Compute exposure rates</p></a></li>
<li><a href='#gen.resp'><p>Generate response pattern</p></a></li>
<li><a href='#rmse'><p>Root Mean square Error</p></a></li>
<li><a href='#select.item'><p>Select next item</p></a></li>
<li><a href='#sim.shiny'><p>CAT simulation in Shiny</p></a></li>
<li><a href='#simCAT'><p>CAT simulation</p></a></li>
<li><a href='#stop.cat'><p>Check if the CAT ended</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Implements Computerized Adaptive Testing Simulations</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexandre Jaloto &lt;alexandrejaloto@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Computerized Adaptive Testing simulations with dichotomous and polytomous items. Selects items with Maximum Fisher Information method or randomly, with or without constraints (content balancing and item exposure control). Evaluates the simulation results in terms of precision, item exposure, and test length. Inspired on Magis &amp; Barrada (2017) &lt;<a href="https://doi.org/10.18637%2Fjss.v076.c01">doi:10.18637/jss.v076.c01</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, mirt, mirtCAT, shiny, shinycssloaders</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alexandrejaloto/simCAT">https://github.com/alexandrejaloto/simCAT</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-08 00:24:04 UTC; alexa</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexandre Jaloto <a href="https://orcid.org/0000-0002-5291-1768"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Ricardo Primi <a href="https://orcid.org/0000-0003-4227-6745"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ths]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-08 21:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='calc.info'>Compute item information</h2><span id='topic+calc.info'></span>

<h3>Description</h3>

<p>Calculate information of each item in the bank for a theta
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc.info(bank, theta, model = "3PL")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc.info_+3A_bank">bank</code></td>
<td>
<p>matrix with item parameters (a, b, c)</p>
</td></tr>
<tr><td><code id="calc.info_+3A_theta">theta</code></td>
<td>
<p>current theta</p>
</td></tr>
<tr><td><code id="calc.info_+3A_model">model</code></td>
<td>
<p>may be <code style="white-space: pre;">&#8288;3PL&#8288;</code> or <code>graded</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the information of each item
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='calc.prob'>Compute probability</h2><span id='topic+calc.prob'></span>

<h3>Description</h3>

<p>Calculate probability of observing certain answer to a dichotomous item, given a theta
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc.prob(theta, bank, u = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc.prob_+3A_theta">theta</code></td>
<td>
<p>theta</p>
</td></tr>
<tr><td><code id="calc.prob_+3A_bank">bank</code></td>
<td>
<p>matrix with item parameters (a, b, c)</p>
</td></tr>
<tr><td><code id="calc.prob_+3A_u">u</code></td>
<td>
<p><code>1</code> for correct, <code>0</code> for wrong</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the probability of seeing determined response in each item
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='cat.evaluation'>CAT Evaluation</h2><span id='topic+cat.evaluation'></span>

<h3>Description</h3>

<p>Evaluate a CAT simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat.evaluation(results, true.scores, item.name, rmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat.evaluation_+3A_results">results</code></td>
<td>
<p>list with results of a CAT simulation from <code>simCAT</code></p>
</td></tr>
<tr><td><code id="cat.evaluation_+3A_true.scores">true.scores</code></td>
<td>
<p>true scores</p>
</td></tr>
<tr><td><code id="cat.evaluation_+3A_item.name">item.name</code></td>
<td>
<p>vector with the name of all items in the bank</p>
</td></tr>
<tr><td><code id="cat.evaluation_+3A_rmax">rmax</code></td>
<td>
<p>item maximum exposure rate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with two elements.
</p>
<p><code>evaluate</code> is a <code>data.frame</code>. Each line corresponds to a replication,
and the columns are the following variables:
</p>

<ul>
<li> <p><code>rmse</code> root mean square error between true and estimated score
</p>
</li>
<li> <p><code>se</code> standard error of measurement
</p>
</li>
<li> <p><code>correlation</code> correlation between true and estimated score
</p>
</li>
<li> <p><code>bias</code> bias between true and estimated score
</p>
</li>
<li> <p><code>overlap</code> overlap rate
</p>
</li>
<li> <p><code>min_exp</code> minimum exposure rate
</p>
</li>
<li> <p><code>max_exp</code> maximum exposure rate
</p>
</li>
<li> <p><code>n_exp0</code> number of items not administered
</p>
</li>
<li> <p><code>n_exp_rmax</code> number of items with exposure rate higher than rmax
</p>
</li>
<li> <p><code>length_mean</code> average mean of test length
</p>
</li>
<li> <p><code>length_sd</code> standard deviation of test length
</p>
</li>
<li> <p><code>length_median</code> average median of test length
</p>
</li>
<li> <p><code>min_length</code> minimum test length
</p>
</li>
<li> <p><code>max_length</code> maximum test length
</p>
</li></ul>

<p><code>conditional</code> is a data.frame with the same variables (except
for <code>length_sd</code> and <code>length_median</code>)
conditioned to the true scores. The <code>colnames</code> are the thetas
in each decile, that is,
<code>quantile(true.scores, probs = seq(.1, 1, length.out = 10))</code>. Each
line corresponds to the mean of the investigated variables for each
decile. If there are replications, values are the replication means
for each decile.
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

set.seed(1)
n.items &lt;- 50
pars &lt;- data.frame(
 a = rlnorm(n.items),
 b = rnorm(n.items),
 c = rbeta(n.items, 5, 17),
 d = 1)

# thetas
theta &lt;- rnorm(100)

# simulate responses
resps &lt;- gen.resp(theta, pars[,1:3])

results &lt;- simCAT(resps = resps,
 bank = pars[,1:3],
 start.theta = 0,
 sel.method = 'MFI',
 cat.type = 'variable',
 threshold = .3,
 stop = list(se = .3, max.items = 10))

eval &lt;- cat.evaluation(
 results = results,
 true.scores = theta,
 item.name = paste0('I', 1:nrow(pars)),
 rmax = 1)

#### 3 replications
replications &lt;- 3

# simulate responses
set.seed(1)
resps &lt;- list()
for(i in 1:replications)
 resps[[i]] &lt;- gen.resp(theta, pars[,1:3])

# CAT
results &lt;- list()
for (rep in 1:replications)
{
 print(paste0('replication: ', rep, '/', replications))
 results[[rep]] &lt;- simCAT(
  resps = resps[[rep]],
  bank = pars[,1:3],
  start.theta = 0,
  sel.method = 'MFI',
  cat.type = 'variable',
  threshold = .3,
  stop = list(se = .5, max.items = 10))
}

eval &lt;- cat.evaluation(
 results = results,
 true.scores = theta,
 item.name = paste0('I', 1:nrow(pars)),
 rmax = 1)


</code></pre>

<hr>
<h2 id='content.balancing'>Content balancing</h2><span id='topic+content.balancing'></span>

<h3>Description</h3>

<p>Constricts the selection with content balancing (CCAT or MCCAT)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>content.balancing(
  bank,
  administered = NULL,
  content.names,
  content.props,
  content.items,
  met.content = "MCCAT"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="content.balancing_+3A_bank">bank</code></td>
<td>
<p>matrix with item parameters (a, b, c)</p>
</td></tr>
<tr><td><code id="content.balancing_+3A_administered">administered</code></td>
<td>
<p>vector with administered items, <code>NULL</code> if it is the first
item (default)</p>
</td></tr>
<tr><td><code id="content.balancing_+3A_content.names">content.names</code></td>
<td>
<p>vector with the contents of the test</p>
</td></tr>
<tr><td><code id="content.balancing_+3A_content.props">content.props</code></td>
<td>
<p>desirable proportion of each content in test, in
the same order of <code>content.names</code></p>
</td></tr>
<tr><td><code id="content.balancing_+3A_content.items">content.items</code></td>
<td>
<p>vector indicating the content of each item</p>
</td></tr>
<tr><td><code id="content.balancing_+3A_met.content">met.content</code></td>
<td>
<p>content balancing method
</p>

<ul>
<li> <p><code>MCCAT</code> (default): the function picks all subgroups with
proportions most distant  from desirable.
</p>
</li>
<li> <p><code>CCAT</code>: if there is any subgroup without
administered item, the function will randomly pick one.
If all subgroups has at least one applied item, the
function randomly picks one from those with the proportions most
distant from desirable.
</p>
</li>
<li> <p><code>MMM</code>: based on the desired proportions of content, the algorithm
builds a sum-one cumulative distribution. Then, a random number with
uniform distribution between zero and one is drawn. This number
corresponds to an area in the cumulative distribution. It is from
the content located in this area that the content will be selected.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector with the items that will be excluded for
selection. That is, it returns the unavailable items. If all items
are available, it returns <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='eap'>EAP estimation</h2><span id='topic+eap'></span>

<h3>Description</h3>

<p>Estimates theta with Expected a Posteriori
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eap(pattern, bank)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eap_+3A_pattern">pattern</code></td>
<td>
<p>response pattern (0 and 1) with the number of columns
corresponding to the number of items</p>
</td></tr>
<tr><td><code id="eap_+3A_bank">bank</code></td>
<td>
<p>data.frame with item parameters (a, b, c)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>40 quadrature points, ranging from -4 to 4. Priori with normal distribution (mean = 0, sd = 1).
</p>


<h3>Value</h3>

<p>data.frame with estimated <code>theta</code> and <code>SE</code>.
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='exposure.rate'>Compute exposure rates</h2><span id='topic+exposure.rate'></span>

<h3>Description</h3>

<p>Calculate exposure rate of items in a bank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exposure.rate(previous, item.name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exposure.rate_+3A_previous">previous</code></td>
<td>
<p>list with previous responses. Each element corresponds to a person and has the names of the applied items.</p>
</td></tr>
<tr><td><code id="exposure.rate_+3A_item.name">item.name</code></td>
<td>
<p>vector with the name of all items in the bank</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> with
</p>

<ul>
<li> <p><code>items</code> name of the items
</p>
</li>
<li> <p><code>Freq</code> exposure rate
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='gen.resp'>Generate response pattern</h2><span id='topic+gen.resp'></span>

<h3>Description</h3>

<p>Generate response pattern based on probability of answering correct a dichotomous item, given a theta and an item bank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen.resp(theta, bank)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen.resp_+3A_theta">theta</code></td>
<td>
<p>theta</p>
</td></tr>
<tr><td><code id="gen.resp_+3A_bank">bank</code></td>
<td>
<p>matrix with item parameters (a, b, c)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the probability of seeing determined response in each item
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='rmse'>Root Mean square Error</h2><span id='topic+rmse'></span>

<h3>Description</h3>

<p>Calculate the root mean square error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmse(true, estimated)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmse_+3A_true">true</code></td>
<td>
<p>true values</p>
</td></tr>
<tr><td><code id="rmse_+3A_estimated">estimated</code></td>
<td>
<p>estimated values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='select.item'>Select next item</h2><span id='topic+select.item'></span>

<h3>Description</h3>

<p>Select next item to be administered
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select.item(
  bank,
  model = "3PL",
  theta,
  administered = NULL,
  sel.method = "MFI",
  cat.type = "variable",
  threshold = 0.3,
  SE,
  acceleration = 1,
  met.weight = "mcclarty",
  max.items = 45,
  content.names = NULL,
  content.props = NULL,
  content.items = NULL,
  met.content = "MCCAT"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select.item_+3A_bank">bank</code></td>
<td>
<p>matrix with item parameters (a, b, c)</p>
</td></tr>
<tr><td><code id="select.item_+3A_model">model</code></td>
<td>
<p>may be <code style="white-space: pre;">&#8288;3PL&#8288;</code> or <code>graded</code></p>
</td></tr>
<tr><td><code id="select.item_+3A_theta">theta</code></td>
<td>
<p>current theta</p>
</td></tr>
<tr><td><code id="select.item_+3A_administered">administered</code></td>
<td>
<p>vector with administered items, <code>NULL</code> if it is the first
item</p>
</td></tr>
<tr><td><code id="select.item_+3A_sel.method">sel.method</code></td>
<td>
<p>item selection method: may be <code>MFI</code>, <code>progressive</code>
or <code>random</code></p>
</td></tr>
<tr><td><code id="select.item_+3A_cat.type">cat.type</code></td>
<td>
<p>CAT with <code>variable</code> or <code>fixed</code> length.
Necessary only for progressive method.</p>
</td></tr>
<tr><td><code id="select.item_+3A_threshold">threshold</code></td>
<td>
<p>threshold for <code>cat.type</code>.
Necessary only for progressive method.</p>
</td></tr>
<tr><td><code id="select.item_+3A_se">SE</code></td>
<td>
<p>current standard error.
Necessary only for progressive method, with <code>cat.type = "variable"</code></p>
</td></tr>
<tr><td><code id="select.item_+3A_acceleration">acceleration</code></td>
<td>
<p>acceleration parameter.
Necessary only for progressive method.</p>
</td></tr>
<tr><td><code id="select.item_+3A_met.weight">met.weight</code></td>
<td>
<p>the procedure to calculate the <code>progressive</code>'s weight in variable-length
CAT. It can be <code>"magis"</code> or <code>"mcclarty"</code> (default). See details.</p>
</td></tr>
<tr><td><code id="select.item_+3A_max.items">max.items</code></td>
<td>
<p>maximum number of items to be administered.
Necessary only for progressive method, with <code>cat.type = "variable"</code></p>
</td></tr>
<tr><td><code id="select.item_+3A_content.names">content.names</code></td>
<td>
<p>vector with the contents of the test</p>
</td></tr>
<tr><td><code id="select.item_+3A_content.props">content.props</code></td>
<td>
<p>desirable proportion of each content in test, in
the same order of <code>content.names</code></p>
</td></tr>
<tr><td><code id="select.item_+3A_content.items">content.items</code></td>
<td>
<p>vector indicating the content of each item</p>
</td></tr>
<tr><td><code id="select.item_+3A_met.content">met.content</code></td>
<td>
<p>content balancing method: <code>MCCAT</code> (default), <code>CCAT</code>
or <code>MMM</code>. See <code>content.balancing</code> for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the progressive (Revuelta &amp; Ponsoda, 1998), the administered item is the one that has the highest weight. The weight of the
item <code>i</code> is calculated as following:
</p>
<p style="text-align: center;"><code class="reqn">W_i = (1-s)R_i+sI_i</code>
</p>

<p>where <code>R</code> is a random number between zero and the maximum information of an
item in the bank
for the current theta, <code>I</code> is the item information and <code>s</code> is the importance
of the component. As
the application progresses, the random component loses importance. There are some
ways to calculate <code>s</code>.
For fixed-length CAT, Barrada et al. (2008) uses
</p>
<p style="text-align: center;"><code class="reqn">s = 0</code>
</p>

<p>if it is the first item of the test. For the other administering items,
</p>
<p style="text-align: center;"><code class="reqn">s = \frac{\sum_{f=1}^{q}{(f-1)^k}}{\sum_{f=1}^{Q}{(f-1)^k}}</code>
</p>

<p>where <code>q</code> is the number of the item position in the test, <code>Q</code> is the
test length and <code>k</code> is the acceleration parameter. <code>simCAT</code> package uses these two
equations for fixed-length CAT. For variable-length, <code>simCAT</code> package can
use <code>"magis"</code> (Magis &amp; Barrada, 2017):
</p>
<p style="text-align: center;"><code class="reqn">s = max [ \frac{I(\theta)}{I_{stop}},\frac{q}{M-1}]^k</code>
</p>

<p>where <code class="reqn">I(\theta)</code> is the item information for the current theta,
<code class="reqn">I_{stop}</code> is the information corresponding to the stopping error
value, and <code>M</code> is the maximum length of the test. <code>simCAT</code> package uses as
default <code>"mcclarty"</code> (adapted from McClarty et al., 2006):
</p>
<p style="text-align: center;"><code class="reqn">s = (\frac{SE_{stop}}{SE})^k</code>
</p>

<p>where <code>SE</code> is the standard error for the current theta, <code class="reqn">SE_{stop}</code> is
the stopping error value.
</p>


<h3>Value</h3>

<p>A list with two elements
</p>

<ul>
<li> <p><code>item</code> the number o the selected item in item bank
</p>
</li>
<li> <p><code>name</code> name of the selected item (row name)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>


<h3>References</h3>

<p>Barrada, J. R., Olea, J., Ponsoda, V., &amp; Abad, F. J. (2008). <em>Incorporating randomness in the Fisher information for improving item-exposure control in CATs</em>. British Journal of Mathematical and Statistical Psychology, 61(2), 493–513. 10.1348/000711007X230937
</p>
<p>Leroux, A. J., &amp; Dodd, B. G. (2016). <em>A comparison of exposure control procedures in CATs using the GPC model</em>. The Journal of Experimental Education, 84(4), 666–685. 10.1080/00220973.2015.1099511
</p>
<p>Magis, D., &amp; Barrada, J. R. (2017). <em>Computerized adaptive testing with R: recent updates of the package catR</em>. Journal of Statistical Software, 76(Code Snippet 1). 10.18637/jss.v076.c01
</p>
<p>McClarty, K. L., Sperling, R. A., &amp; Dodd, B. G. (2006). <em>A variant of the progressive-restricted item exposure control procedure in computerized adaptive testing</em>. Annual Meeting of the American Educational Research Association, San Francisco
</p>
<p>Revuelta, J., &amp; Ponsoda, V. (1998). <em>A comparison of item exposure control methods in computerized adaptive testing</em>. Journal of Educational Measurement, 35(4), 311–327. http://www.jstor.org/stable/1435308
</p>

<hr>
<h2 id='sim.shiny'>CAT simulation in Shiny</h2><span id='topic+sim.shiny'></span>

<h3>Description</h3>

<p>CAT simulation in a Shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim.shiny()
</code></pre>


<h3>Details</h3>

<p>Uses <code>simCAT</code> function in a more friendly way. For now, this application
only supports simulation with dichotomous items and one replication.
</p>


<h3>Value</h3>

<p>This function does not return a value. Instead, it
generates a Shiny application for interactive
Computerized Adaptive Testing simulations.
</p>


<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

<hr>
<h2 id='simCAT'>CAT simulation</h2><span id='topic+simCAT'></span>

<h3>Description</h3>

<p>A CAT simulation with dichotomous items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simCAT(
  resps,
  bank,
  model = "3PL",
  start.theta = 0,
  sel.method = "MFI",
  cat.type = "variable",
  acceleration = 1,
  met.weight = "mcclarty",
  threshold = 0.3,
  rmax = 1,
  content.names = NULL,
  content.props = NULL,
  content.items = NULL,
  met.content = "MCCAT",
  stop = list(se = 0.3, hypo = 0.015, hyper = Inf),
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simCAT_+3A_resps">resps</code></td>
<td>
<p>a matrix with responses (0 and 1).
The number of columns
corresponds to the number of items</p>
</td></tr>
<tr><td><code id="simCAT_+3A_bank">bank</code></td>
<td>
<p>matrix with item parameters (a, b, c)</p>
</td></tr>
<tr><td><code id="simCAT_+3A_model">model</code></td>
<td>
<p>may be <code style="white-space: pre;">&#8288;3PL&#8288;</code> or <code>graded</code></p>
</td></tr>
<tr><td><code id="simCAT_+3A_start.theta">start.theta</code></td>
<td>
<p>first theta</p>
</td></tr>
<tr><td><code id="simCAT_+3A_sel.method">sel.method</code></td>
<td>
<p>item selection method: may be <code>MFI</code>, <code>progressive</code>
or <code>random</code></p>
</td></tr>
<tr><td><code id="simCAT_+3A_cat.type">cat.type</code></td>
<td>
<p>CAT with <code>variable</code> or <code>fixed</code> length
Necessary only for progressive method.</p>
</td></tr>
<tr><td><code id="simCAT_+3A_acceleration">acceleration</code></td>
<td>
<p>acceleration parameter.
Necessary only for progressive method.</p>
</td></tr>
<tr><td><code id="simCAT_+3A_met.weight">met.weight</code></td>
<td>
<p>the procedure to calculate the <code>progressive</code>'s weight in variable-length
CAT. It can be <code>"magis"</code> or <code>"mcclarty"</code> (default). See details.</p>
</td></tr>
<tr><td><code id="simCAT_+3A_threshold">threshold</code></td>
<td>
<p>threshold for <code>cat.type</code>.
Necessary only for progressive method.</p>
</td></tr>
<tr><td><code id="simCAT_+3A_rmax">rmax</code></td>
<td>
<p>item maximum exposure rate</p>
</td></tr>
<tr><td><code id="simCAT_+3A_content.names">content.names</code></td>
<td>
<p>vector with the contents of the test</p>
</td></tr>
<tr><td><code id="simCAT_+3A_content.props">content.props</code></td>
<td>
<p>desirable proportion of each content in test, in
the same order of <code>content.names</code></p>
</td></tr>
<tr><td><code id="simCAT_+3A_content.items">content.items</code></td>
<td>
<p>vector indicating the content of each item</p>
</td></tr>
<tr><td><code id="simCAT_+3A_met.content">met.content</code></td>
<td>
<p>content balancing method: <code>MCCAT</code> (default), <code>CCAT</code>
#' or <code>MMM</code>. See <code>content.balancing</code> for more information.</p>
</td></tr>
<tr><td><code id="simCAT_+3A_stop">stop</code></td>
<td>
<p>list with stopping rule and thresholds
</p>

<ul>
<li> <p><code>se</code> minimum standard error
</p>
</li>
<li> <p><code>delta.theta</code> minimum absolute difference between current and previous theta
</p>
</li>
<li> <p><code>hypo</code> minimum standard error reduction
</p>
</li>
<li> <p><code>hyper</code> minimum standard error reduction after achieving <code>se</code>
</p>
</li>
<li> <p><code>info</code> maximum information of an available item
</p>
</li>
<li> <p><code>max.items</code> maximum number of items
</p>
</li>
<li> <p><code>min.items</code> maximum number of items
</p>
</li>
<li> <p><code>fixed</code> fixed number of items
</p>
</li></ul>
</td></tr>
<tr><td><code id="simCAT_+3A_progress">progress</code></td>
<td>
<p>shows progress bar</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details about formula of selection methods, see <code><a href="#topic+select.item">select.item</a></code>.
</p>


<h3>Value</h3>

<p>a list with five elements
</p>

<ul>
<li> <p><code>score</code> estimated theta
</p>
</li>
<li> <p><code>convergence</code> <code>TRUE</code> if the application ended before reaching the maximum test length
</p>
</li>
<li> <p><code>theta.history</code> estimated theta after each item administration
</p>
</li>
<li> <p><code>se.history</code> standard error after each item administration
</p>
</li>
<li> <p><code>prev.resps</code> previous responses (administered items)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>


<h3>References</h3>

<p>Barrada, J. R., Olea, J., Ponsoda, V., &amp; Abad, F. J. (2008). <em>Incorporating randomness in the Fisher information for improving item-exposure control in CATs</em>. British Journal of Mathematical and Statistical Psychology, 61(2), 493–513. 10.1348/000711007X230937
</p>
<p>Leroux, A. J., &amp; Dodd, B. G. (2016). <em>A comparison of exposure control procedures in CATs using the GPC model</em>. The Journal of Experimental Education, 84(4), 666–685. 10.1080/00220973.2015.1099511
</p>
<p>Magis, D., &amp; Barrada, J. R. (2017). <em>Computerized adaptive testing with R: recent updates of the package catR</em>. Journal of Statistical Software, 76(Code Snippet 1). 10.18637/jss.v076.c01
</p>
<p>McClarty, K. L., Sperling, R. A., &amp; Dodd, B. G. (2006). <em>A variant of the progressive-restricted item exposure control procedure in computerized adaptive testing</em>. Annual Meeting of the American Educational Research Association, San Francisco
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

set.seed(1)
n.items &lt;- 50
pars &lt;- data.frame(
 a = rlnorm(n.items),
 b = rnorm(n.items),
 c = rbeta(n.items, 5, 17),
 d = 1)

# thetas
theta &lt;- rnorm(100)

# simulate responses
resps &lt;- gen.resp(theta, pars[,1:3])

results &lt;- simCAT(resps = resps,
 bank = pars[,1:3],
 start.theta = 0,
 sel.method = 'MFI',
 cat.type = 'variable',
 threshold = .3,
 stop = list(se = .3, max.items = 10))

eval &lt;- cat.evaluation(
 results = results,
 true.scores = theta,
 item.name = paste0('I', 1:nrow(pars)),
 rmax = 1)

#### 3 replications
replications &lt;- 3

# simulate responses
set.seed(1)
resps &lt;- list()
for(i in 1:replications)
 resps[[i]] &lt;- gen.resp(theta, pars[,1:3])

# CAT
results &lt;- list()
for (rep in 1:replications)
{
 print(paste0('replication: ', rep, '/', replications))
 results[[rep]] &lt;- simCAT(
  resps = resps[[rep]],
  bank = pars[,1:3],
  start.theta = 0,
  sel.method = 'MFI',
  cat.type = 'variable',
  threshold = .3,
  stop = list(se = .5, max.items = 10))
}

eval &lt;- cat.evaluation(
 results = results,
 true.scores = theta,
 item.name = paste0('I', 1:nrow(pars)),
 rmax = 1)


</code></pre>

<hr>
<h2 id='stop.cat'>Check if the CAT ended</h2><span id='topic+stop.cat'></span>

<h3>Description</h3>

<p>Check if any stopping rule has been achieved
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stop.cat(
  rule = list(se = NULL, delta.theta = NULL, hypo = NULL, hyper = NULL, info = NULL,
    max.items = NULL, min.items = NULL, fixed = NULL),
  current = list(se = NULL, delta.theta = NULL, info = NULL, applied = NULL, delta.se =
    NULL)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stop.cat_+3A_rule">rule</code></td>
<td>
<p>list with stopping rules
</p>

<ul>
<li> <p><code>se</code> minimum standard error
</p>
</li>
<li> <p><code>delta.theta</code> minimum absolute difference between current and previous theta
</p>
</li>
<li> <p><code>hypo</code> minimum standard error reduction
</p>
</li>
<li> <p><code>hyper</code> minimum standard error reduction after achieving <code>se</code>
</p>
</li>
<li> <p><code>info</code> maximum information of an available item
</p>
</li>
<li> <p><code>max.items</code> maximum number of items
</p>
</li>
<li> <p><code>min.items</code> maximum number of items
</p>
</li>
<li> <p><code>fixed</code> fixed number of items
</p>
</li></ul>
</td></tr>
<tr><td><code id="stop.cat_+3A_current">current</code></td>
<td>
<p>list with current values
</p>

<ul>
<li> <p><code>se</code> current standard error
</p>
</li>
<li> <p><code>delta.theta</code> absolute difference between current and previous theta
</p>
</li>
<li> <p><code>info</code> maximum information of an available item for current theta
</p>
</li>
<li> <p><code>applied</code> quantitative of applied items
</p>
</li>
<li> <p><code>delta.se</code> standard error reduction
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements:
</p>

<ul>
<li> <p><code>stop</code> <code>TRUE</code> if any stopping rule has been achieved
</p>
</li>
<li> <p><code>convergence</code> logical. <code>FALSE</code> if the CAT stopped because it
achieved the maximum number of items. <code>TRUE</code> for any other case.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alexandre Jaloto
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

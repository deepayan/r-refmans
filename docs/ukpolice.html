<!DOCTYPE html><html lang="en"><head><title>Help for package ukpolice</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ukpolice}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ukpolice-package'><p>ukpolice: Download Data on UK Police and Crime</p></a></li>
<li><a href='#ukc_available'><p>Available data</p></a></li>
<li><a href='#ukc_crime_category'><p>Crime categories</p></a></li>
<li><a href='#ukc_crime_loc'><p>Crimes at a specific location</p></a></li>
<li><a href='#ukc_crime_no_location'><p>Crimes without location</p></a></li>
<li><a href='#ukc_forces'><p>England and Wales Police Forces</p></a></li>
<li><a href='#ukc_last_update'><p>Latest crime update</p></a></li>
<li><a href='#ukc_neighbourhood_boundary'><p>Specific Neighbourhood Boundary</p></a></li>
<li><a href='#ukc_neighbourhood_location'><p>Neighbourhood Location</p></a></li>
<li><a href='#ukc_neighbourhood_specific'><p>Specific Neighbourhood</p></a></li>
<li><a href='#ukc_neighbourhoods'><p>Policing Neighbourhoods</p></a></li>
<li><a href='#ukc_specific_outcome'><p>Outcomes for a specific crime</p></a></li>
<li><a href='#ukc_stop_search_force'><p>Stop and Searches by Police Force</p></a></li>
<li><a href='#ukc_stop_search_loc'><p>Stop and search</p></a></li>
<li><a href='#ukc_stop_search_no_location'><p>Stop and Searches without location</p></a></li>
<li><a href='#ukc_street_crime'><p>Street level crime</p></a></li>
<li><a href='#ukc_street_crime_outcome'><p>Street level crime outcomes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Download Data on UK Police and Crime</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Downloads data from the 'UK Police' public data API, 
    the full docs of which are available at <a href="https://data.police.uk/docs/">https://data.police.uk/docs/</a>. 
    Includes data on police forces and police force areas, crime reports, 
    and the use of stop-and-search powers.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/EvanOdell/ukpolice/">https://github.com/EvanOdell/ukpolice/</a>,
<a href="https://docs.evanodell.com/ukpolice">https://docs.evanodell.com/ukpolice</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/EvanOdell/ukpolice/issues">https://github.com/EvanOdell/ukpolice/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite, tibble, purrr, httr, snakecase</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr, knitr, rmarkdown, ggplot2, dplyr, leaflet,
htmltools, scales, sf, sp</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-07-21 10:52:45 UTC; evanodell</td>
</tr>
<tr>
<td>Author:</td>
<td>Evan Odell <a href="https://orcid.org/0000-0003-1845-808X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Tierney Nicholas <a href="https://orcid.org/0000-0003-1460-8722"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Evan Odell &lt;evanodell91@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-08-03 10:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ukpolice-package'>ukpolice: Download Data on UK Police and Crime</h2><span id='topic+ukpolice-package'></span>

<h3>Description</h3>

<p>Downloads data from the 'UK Police' public data API. Includes data on UK
police forces and police force areas, crime reports, and the use of
stop-and-search powers.
</p>


<h3>Details</h3>

<p>Most functions return a <code>tibble</code> with the requested data, with the exception
of <code><a href="#topic+ukc_specific_outcome">ukc_specific_outcome()</a></code> in some cases, which returns a list containing a
list and a <code>tibble</code>.
</p>
<p>Data accessed through <code>ukpolice</code> is licenced with
<a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>.
</p>
<p>The API allows for 15 requests each second, but up to 30 in a single second
if in a single burst. The API does not require authentication.
See the <a href="https://data.police.uk/docs/">API documentation</a> for more details.
</p>

<hr>
<h2 id='ukc_available'>Available data</h2><span id='topic+ukc_available'></span>

<h3>Description</h3>

<p>Returns a <code>tibble</code> with all available datasets. The <code>id</code> column contains the
year and month, and other columns contain a list with all police forces
reporting data for that month. As of 2019-04-02 only information on
stop and search data is returned by this endpoint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_available()
</code></pre>

<hr>
<h2 id='ukc_crime_category'>Crime categories</h2><span id='topic+ukc_crime_category'></span>

<h3>Description</h3>

<p>Crime categories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_crime_category()
</code></pre>


<h3>Value</h3>

<p>A <code>tibble</code> with all available categories of crime.
</p>

<hr>
<h2 id='ukc_crime_loc'>Crimes at a specific location</h2><span id='topic+ukc_crime_loc'></span><span id='topic+ukc_crime_coord'></span><span id='topic+ukc_crime_poly'></span><span id='topic+ukc_crime_location'></span>

<h3>Description</h3>

<p>Returns details of crimes within a one mile radius of a given point, at a
specific location ID, or from within a custom polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_crime_loc(location, date = NULL, ...)

ukc_crime_coord(lat, lng, date = NULL, ...)

ukc_crime_poly(poly_df, date = NULL, ...)

ukc_crime_location(lat, lng, location, date = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_crime_loc_+3A_location">location</code></td>
<td>
<p>If specified, <code>lat</code> and <code>lng</code> are ignored. Location IDs are
available through other methods including <code><a href="#topic+ukc_street_crime">ukc_street_crime()</a></code>.</p>
</td></tr>
<tr><td><code id="ukc_crime_loc_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. If <code>NULL</code>, latest
available month will be returned. Also accepts dates in formats that can be
coerced to <code>Date</code> class with <code>as.Date()</code>.</p>
</td></tr>
<tr><td><code id="ukc_crime_loc_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="httr.html#topic+GET">httr::GET</a></code>.</p>
</td></tr>
<tr><td><code id="ukc_crime_loc_+3A_lat">lat</code></td>
<td>
<p>Latitude. Accepts a single value.</p>
</td></tr>
<tr><td><code id="ukc_crime_loc_+3A_lng">lng</code></td>
<td>
<p>Longitude. Accepts a single value.</p>
</td></tr>
<tr><td><code id="ukc_crime_loc_+3A_poly_df">poly_df</code></td>
<td>
<p>a dataframe containing the lat/lng pairs which define
the boundary of the custom area, or a <code><a href="sf.html#topic+sf">sf</a></code> or
<code><a href="sp.html#topic+SpatialPointsDataFrame">SpatialPointsDataFrame</a></code> object.
The first and last coordinates need not be the same — they will be joined
by a straight line once the request is made. If a dataframe, the lat/lng
must be the first two columns, or named <code>"lat"</code> and <code>"lng"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If specified, <code>lat</code> and <code>lng</code> must be the same length. <code>location</code>
or both <code>lat</code> and <code>lng</code> must be specified.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with details of crimes at a given location.
</p>


<h3>Note</h3>

<p>The API will return a 400 status code in response to a GET request
longer than 4094 characters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- ukc_crime_location(lat = 52, lng = 0)

y &lt;- ukc_crime_location(location = 802171)

poly_df_3 &lt;- data.frame(
  lat = c(52.268, 52.794, 52.130),
  lng = c(0.543, 0.238, 0.478)
)

z &lt;- ukc_crime_poly(poly_df_3)

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_crime_no_location'>Crimes without location</h2><span id='topic+ukc_crime_no_location'></span>

<h3>Description</h3>

<p>Returns details of crimes that cannot be mapped to a particular location.
Note that the police force must be specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_crime_no_location(force, crime_category = NULL, date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_crime_no_location_+3A_force">force</code></td>
<td>
<p>A string containing the name of the police force to return data
for. Must be specified, and is not case sensitive.</p>
</td></tr>
<tr><td><code id="ukc_crime_no_location_+3A_crime_category">crime_category</code></td>
<td>
<p>The category of crime to return. Defaults to
returning all crimes. See <code><a href="#topic+ukc_crime_category">ukc_crime_category()</a></code> for details.
See <code><a href="#topic+ukc_forces">ukc_forces()</a></code> for details.</p>
</td></tr>
<tr><td><code id="ukc_crime_no_location_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. If <code>NULL</code>, latest
available month will be returned. Also accepts dates in formats that can be
coerced to <code>Date</code> class with <code>as.Date()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with details of crimes without a specific location.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
no_location &lt;- ukc_crime_no_location(force = "city-of-london")

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_forces'>England and Wales Police Forces</h2><span id='topic+ukc_forces'></span><span id='topic+ukc_force_details'></span><span id='topic+ukc_officers'></span>

<h3>Description</h3>

<p>Returns available police forces, details on a specific police force, or
officers on that force.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_forces()

ukc_force_details(force = NULL)

ukc_officers(force)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_forces_+3A_force">force</code></td>
<td>
<p>The id of the police force, available from the <code>id</code> column
returned by <code>ukc_forces</code>. Not case sensitive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ukc_forces</code> returns a <code>tibble</code> with all police forces in England
and Wales, <code>ukc_force_details</code> returns details on a given police force and
<code>ukc_officers</code> returns details on senior officers for a given police force.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
forces &lt;- ukc_forces()

cops &lt;- ukc_officers("cumbria")

details &lt;- ukc_force_details("thames-valley")

## End(Not run)
</code></pre>

<hr>
<h2 id='ukc_last_update'>Latest crime update</h2><span id='topic+ukc_last_update'></span>

<h3>Description</h3>

<p>Returns the latest month crime data was updated for. The date is in standard
ISO format but the actual day is not relevant.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_last_update()
</code></pre>

<hr>
<h2 id='ukc_neighbourhood_boundary'>Specific Neighbourhood Boundary</h2><span id='topic+ukc_neighbourhood_boundary'></span>

<h3>Description</h3>

<p>Data on a specific neighbourhood boundary, using lat/lng pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_neighbourhood_boundary(force, neighbourhood_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_neighbourhood_boundary_+3A_force">force</code></td>
<td>
<p>A string containing the name of the police force to return
neighbourhoods for. Must be specified, and is not case sensitive.</p>
</td></tr>
<tr><td><code id="ukc_neighbourhood_boundary_+3A_neighbourhood_id">neighbourhood_id</code></td>
<td>
<p>A string containing the ID of a given neighbourhood,
returned from <code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>. If missing, returns all neighbourhoods
for the specified police force, using <code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with the lat/lng boundaries for a specific neighbourhood.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhood_specific">ukc_neighbourhood_specific()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhood_location">ukc_neighbourhood_location()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
borders &lt;- ukc_neighbourhood_boundary("dorset", "55.CR3001")

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_neighbourhood_location'>Neighbourhood Location</h2><span id='topic+ukc_neighbourhood_location'></span>

<h3>Description</h3>

<p>Find the neighbourhood policing team responsible for a given area, by
a set of coordinates. Accepts only a single pair of latitude and longitude.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_neighbourhood_location(lat, lng)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_neighbourhood_location_+3A_lat">lat</code></td>
<td>
<p>Latitude</p>
</td></tr>
<tr><td><code id="ukc_neighbourhood_location_+3A_lng">lng</code></td>
<td>
<p>Longitude</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The police force and neighbourhood code of the given coordinates.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_neighbourhood_boundary">ukc_neighbourhood_boundary()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
find &lt;- ukc_neighbourhood_location(lat = 51.500617, lng = -0.124629)

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_neighbourhood_specific'>Specific Neighbourhood</h2><span id='topic+ukc_neighbourhood_specific'></span><span id='topic+ukc_neighbourhood_events'></span><span id='topic+ukc_neighbourhood_priorities'></span><span id='topic+ukc_neighbourhood_team'></span>

<h3>Description</h3>

<p>Data on a specific neighbourhood within a given police force area.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_neighbourhood_specific(force, neighbourhood_id)

ukc_neighbourhood_events(force, neighbourhood_id)

ukc_neighbourhood_priorities(force, neighbourhood_id)

ukc_neighbourhood_team(force, neighbourhood_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_neighbourhood_specific_+3A_force">force</code></td>
<td>
<p>A string containing the name of the police force to return
neighbourhoods for. Must be specified, and is not case sensitive.</p>
</td></tr>
<tr><td><code id="ukc_neighbourhood_specific_+3A_neighbourhood_id">neighbourhood_id</code></td>
<td>
<p>A string containing the ID of a given neighbourhood,
returned from <code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>. If missing, returns all neighbourhoods
for the specified police force, using <code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ukpolice</code> contains the following functions for specific neighbourhoods:
</p>

<ul>
<li> <p><code>ukc_neighbourhood_specific</code> &ndash; Basic information and description of a
specific neighbourhood.
</p>
</li>
<li> <p><code>ukc_neighbourhood_team</code> &ndash; Brief biographies of police officers
responsible for the specified neighbourhood.
</p>
</li>
<li> <p><code>ukc_neighbourhood_events</code> &ndash; Police public engagement events taking
place in the specified neighbourhood.
</p>
</li>
<li> <p><code>ukc_neighbourhood_priorities</code> &ndash; Policing priorities for the
specified neighbourhood.
</p>
</li></ul>



<h3>Value</h3>

<p>A list with data for a specific neighbourhood, or a tibble with all
neighbourhood IDs if no neighbourhood is specified.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_neighbourhood_boundary">ukc_neighbourhood_boundary()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhoods">ukc_neighbourhoods()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhood_location">ukc_neighbourhood_location()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# returns a specific neighbourood
places4 &lt;- ukc_neighbourhood_specific("dorset", "55.CR3001")

# returns all neighbourhoods as specific neighbourhood is unspecified.
places3 &lt;- ukc_neighbourhood_specific("dorset")

## End(Not run)

## Not run: 
events &lt;- ukc_neighbourhood_events("dorset", "55.CR3001")

## End(Not run)

## Not run: 
priorities &lt;- ukc_neighbourhood_team("dorset", "55.CR3001")

## End(Not run)

## Not run: 
people &lt;- ukc_neighbourhood_team("dorset", "55.CR3001")

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_neighbourhoods'>Policing Neighbourhoods</h2><span id='topic+ukc_neighbourhoods'></span>

<h3>Description</h3>

<p>All the neighbourhoods within a given police force area.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_neighbourhoods(force)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_neighbourhoods_+3A_force">force</code></td>
<td>
<p>A string containing the name of the police force to return
neighbourhoods for. Must be specified, and is not case sensitive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with data for neighbourhoods within the area of the
given police force.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_neighbourhood_boundary">ukc_neighbourhood_boundary()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhood_specific">ukc_neighbourhood_specific()</a></code>
</p>
<p><code><a href="#topic+ukc_neighbourhood_location">ukc_neighbourhood_location()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
places &lt;- ukc_neighbourhoods("dorset")

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_specific_outcome'>Outcomes for a specific crime</h2><span id='topic+ukc_specific_outcome'></span>

<h3>Description</h3>

<p>Returns the outcomes (case history) for a specified crime.
The ID of a crime is a 64-character string, named <code>persistent_id</code> and
returned by other methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_specific_outcome(persistent_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_specific_outcome_+3A_persistent_id">persistent_id</code></td>
<td>
<p>The 64 character string that is the unique ID of a
particular crime.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a <code>tibble</code> with basic details of a crime if no outcome
is available, or a list with basic details and a <code>tibble</code> containing
the outcome if one is available.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
no_location &lt;- ukc_crime_no_location(force = "city-of-london")

crime_id &lt;- no_location$persistent_id[[1]]

outcome &lt;- ukc_specific_outcome(crime_id)

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_stop_search_force'>Stop and Searches by Police Force</h2><span id='topic+ukc_stop_search_force'></span>

<h3>Description</h3>

<p>Returns details of stop and searches carried out by a particular police
force. Note that the police force must be specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_stop_search_force(force, date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_stop_search_force_+3A_force">force</code></td>
<td>
<p>A string containing the name of the police force to return data
for. Must be specified, and is not case sensitive.
See <code><a href="#topic+ukc_forces">ukc_forces()</a></code> for details.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_force_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. Also accepts dates in
formats that can be coerced to <code>Date</code> class with <code>as.Date()</code>. If <code>NULL</code>,
the latest available month will be returned. Note that not all forces
will necessarily have reported stop and search data for the latest month;
check availability with the <code><a href="#topic+ukc_available">ukc_available()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with details of stop and searches by a given police force.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_stop_search_location">ukc_stop_search_location()</a></code>
</p>
<p><code><a href="#topic+ukc_stop_search_no_location">ukc_stop_search_no_location()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ss_dorset &lt;- ukc_stop_search_force(force = "dorset")

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_stop_search_loc'>Stop and search</h2><span id='topic+ukc_stop_search_loc'></span><span id='topic+ukc_stop_search_coord'></span><span id='topic+ukc_stop_search_poly'></span><span id='topic+ukc_stop_search_location'></span>

<h3>Description</h3>

<p>Returns details on stops and searches at a given location. The stop and
searches returned in the API, like the crimes, are only an approximation
of where the actual stop and searches occurred, they are not the exact
locations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_stop_search_loc(location, date = NULL, ...)

ukc_stop_search_coord(lat, lng, date = NULL, ...)

ukc_stop_search_poly(poly_df, date = NULL, ...)

ukc_stop_search_location(lat, lng, location, date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_stop_search_loc_+3A_location">location</code></td>
<td>
<p>If specified, <code>lat</code> and <code>lng</code> are ignored. Location IDs are
available through other methods including <code><a href="#topic+ukc_street_crime">ukc_street_crime()</a></code>.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_loc_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. If <code>NULL</code>, latest
available month will be returned. Also accepts dates in formats that can be
coerced to <code>Date</code> class with <code>as.Date()</code>.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_loc_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="httr.html#topic+GET">httr::GET</a></code>.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_loc_+3A_lat">lat</code></td>
<td>
<p>Latitude. Accepts a single value or a vector of values to create
a custom polygon.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_loc_+3A_lng">lng</code></td>
<td>
<p>Longitude. Accepts a single value or a vector of values to create
a custom polygon.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_loc_+3A_poly_df">poly_df</code></td>
<td>
<p>a dataframe containing the lat/lng pairs which define
the boundary of the custom area, or a <code><a href="sf.html#topic+sf">sf</a></code> or
<code><a href="sp.html#topic+SpatialPointsDataFrame">SpatialPointsDataFrame</a></code> object.
The first and last coordinates need not be the same — they will be joined
by a straight line once the request is made. If a dataframe, the lat/lng
must be the first two columns, or named <code>"lat"</code> and <code>"lng"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions accept one of <code>lat</code> and <code>lng</code> pairs, <code>location</code> IDs or
a dataframe containing lat/lng pairs defining the boundary of a custom area.
</p>
<p>If specified, <code>lat</code> and <code>lng</code> must be the same length. If only one
set of coordinates are given, all recorded stop and searches within a one
mile radius are returned. If multiple pairs, all recorded stop and searches
within a custom drawn polygon will be returned.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with details of stop and searches outcomes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_stop_search_force">ukc_stop_search_force()</a></code>
</p>
<p><code><a href="#topic+ukc_stop_search_no_location">ukc_stop_search_no_location()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

ukc_stop_search2 &lt;- ukc_stop_search_coord(
  lat = c(52.268, 53.194, 52.130),
  lng = c(0.543, 0.238, 0.478)
)


poly_df_4 &lt;- data.frame(
  lat = c(52.268, 52.794, 52.130, 52.000),
  long = c(0.543, 0.238, 0.478, 0.400)
)

ukc_data_poly_4 &lt;- ukc_stop_search_poly(poly_df = poly_df_4)

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_stop_search_no_location'>Stop and Searches without location</h2><span id='topic+ukc_stop_search_no_location'></span>

<h3>Description</h3>

<p>Returns details of stop and searches that cannot be mapped to a particular
location. Note that the police force must be specified. For all stop and
searches carried out by a police force, use <code><a href="#topic+ukc_stop_search_force">ukc_stop_search_force()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_stop_search_no_location(force, date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_stop_search_no_location_+3A_force">force</code></td>
<td>
<p>A string containing the name of the police force to return data
for. Must be specified, and is not case sensitive.
See <code><a href="#topic+ukc_forces">ukc_forces()</a></code> for details.</p>
</td></tr>
<tr><td><code id="ukc_stop_search_no_location_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. Also accepts dates in
formats that can be coerced to <code>Date</code> class with <code>as.Date()</code>. If <code>NULL</code>,
the latest available month will be returned. Note that not all forces
will necessarily have reported stop and search data for the latest month;
check availability with the <code><a href="#topic+ukc_available">ukc_available()</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with details of stop and searches without a specific
location.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ukc_stop_search_force">ukc_stop_search_force()</a></code>
</p>
<p><code><a href="#topic+ukc_stop_search_location">ukc_stop_search_location()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ss_no_location &lt;- ukc_stop_search_no_location(force = "city-of-london")

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_street_crime'>Street level crime</h2><span id='topic+ukc_street_crime'></span>

<h3>Description</h3>

<p>Street level crime
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_street_crime(lat, lng, date = NULL, crime_category = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_street_crime_+3A_lat">lat</code></td>
<td>
<p>Latitude. Accepts a single value or a vector of values to create
a custom polygon.</p>
</td></tr>
<tr><td><code id="ukc_street_crime_+3A_lng">lng</code></td>
<td>
<p>Longitude. Accepts a single value or a vector of values to create
a custom polygon.</p>
</td></tr>
<tr><td><code id="ukc_street_crime_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. If <code>NULL</code>, latest
available month will be returned.</p>
</td></tr>
<tr><td><code id="ukc_street_crime_+3A_crime_category">crime_category</code></td>
<td>
<p>The category of crime to return. Defaults to
returning all crimes. See <code><a href="#topic+ukc_crime_category">ukc_crime_category()</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>lat</code> and <code>lng</code> must be the same length.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with details of street crimes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
crime &lt;- ukc_street_crime(
  lat = 51.5, lng = -0.6,
  crime_category = "bicycle-theft"
)

crime_poly &lt;- ukc_street_crime(
  lat = c(52.268, 52.794, 52.130),
  lng = c(0.543, 0.238, 0.478)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='ukc_street_crime_outcome'>Street level crime outcomes</h2><span id='topic+ukc_street_crime_outcome'></span>

<h3>Description</h3>

<p>Returns details on crimes at a given location, if given the id of a specific
location. If given latitude and longitude, finds the nearest pre-defined
location and returns the crimes which occurred there.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukc_street_crime_outcome(lat, lng, location, date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukc_street_crime_outcome_+3A_lat">lat</code></td>
<td>
<p>Latitude. Accepts a single value or a vector of values to create
a custom polygon.</p>
</td></tr>
<tr><td><code id="ukc_street_crime_outcome_+3A_lng">lng</code></td>
<td>
<p>Longitude. Accepts a single value or a vector of values to create
a custom polygon.</p>
</td></tr>
<tr><td><code id="ukc_street_crime_outcome_+3A_location">location</code></td>
<td>
<p>If specified, <code>lat</code> and <code>lng</code> are ignored. Location IDs are
available through other methods including <code><a href="#topic+ukc_street_crime">ukc_street_crime()</a></code>.</p>
</td></tr>
<tr><td><code id="ukc_street_crime_outcome_+3A_date">date</code></td>
<td>
<p>The year and month in &quot;YYYY-MM&quot; form. If <code>NULL</code>, latest
available month will be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If specified, <code>lat</code> and <code>lng</code> must be the same length. <code>location</code>
or both <code>lat</code> and <code>lng</code> must be specified.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with details of street crime outcomes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
street_crime_outcome1 &lt;- ukc_street_crime_outcome(location = 883498)

street_crime_outcome2 &lt;- ukc_street_crime_outcome(lat = 52, lng = 0)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

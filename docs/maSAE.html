<!DOCTYPE html><html><head><title>Help for package maSAE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {maSAE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#maSAE-package'><p>Mandallaz' Model-Assisted Small Area Estimators</p></a></li>
<li><a href='#bind_data'><p>Merge Data Sets</p></a></li>
<li><a href='#characterOrNULL-class'><p>Class <code>"characterOrNULL"</code></p></a></li>
<li><a href='#predict'><p>Methods for Function <code>predict</code></p></a></li>
<li><a href='#s0'><p>Example s0 Data Set</p></a></li>
<li><a href='#s1'><p>Example s1 Data Set</p></a></li>
<li><a href='#s2'><p>Example s2 Data Set</p></a></li>
<li><a href='#sadObj-class'><p>Small Area Design-based Objects</p></a></li>
<li><a href='#saeObj-class'><p>Small Area Estimation Objects</p></a></li>
<li><a href='#saObj'><p>A Constructor for Objects of Class <code>sadObj</code> and <code>saeObj</code></p></a></li>
<li><a href='#savObj-class'><p>Small Area Virtual Object Class</p></a></li>
<li><a href='#throw'><p>Throw a Condition</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Mandallaz' Model-Assisted Small Area Estimators</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>An S4 implementation of the unbiased extension of
    the model- assisted synthetic-regression estimator proposed by
    Mandallaz (2013) &lt;<a href="https://doi.org/10.1139%2Fcjfr-2012-0381">doi:10.1139/cjfr-2012-0381</a>&gt;, Mandallaz et al. (2013)
    &lt;<a href="https://doi.org/10.1139%2Fcjfr-2013-0181">doi:10.1139/cjfr-2013-0181</a>&gt; and Mandallaz (2014)
    &lt;<a href="https://doi.org/10.1139%2Fcjfr-2013-0449">doi:10.1139/cjfr-2013-0449</a>&gt;.  It yields smaller variances than the
    standard bias correction, the generalised regression estimator.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitlab.com/fvafrCU/maSAE">https://gitlab.com/fvafrCU/maSAE</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, forestinventory, JoSAE, knitr, microbenchmark,
nlme, pkgload, rmarkdown, rprojroot, rsae, RUnit, R.rsp, sae,
testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>utils, knitr, R.rsp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-12 09:20:38 UTC; qwer</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Dominik Cullmann [aut, cre],
  Daniel Mandallaz [ctb],
  Alexander Francis Massey [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Dominik Cullmann &lt;fvafrcu@mailbox.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-12 09:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='maSAE-package'>Mandallaz' Model-Assisted Small Area Estimators</h2><span id='topic+maSAE-package'></span>

<h3>Description</h3>

<p>An S4 implementation of the unbiased extension of the
model-assisted' synthetic-regression estimator proposed by
Mandallaz (2013), Mandallaz et al. (2013) and Mandallaz (2014).<br />
It yields smaller variances than the standard bias correction,
the generalised regression estimator.
</p>


<h3>Details</h3>

<p>This package provides Mandallaz' extended synthetic-regression estimator for two- and
three-phase sampling designs with or without clustering.<br />
See vignette(&quot;maSAE&quot;, package = &quot;maSAE&quot;) and demo(&quot;maSAE&quot;, package = &quot;maSAE&quot;) for
introductions, <code>"<a href="#topic+saeObj-class">class?maSAE::saeObj</a>"</code> and
<code>"<a href="#topic+predict">?maSAE::predict</a>"</code> for help on the main feature.
</p>


<h3>Note</h3>

<p>Model-assisted estimators use models to improve the efficiency (i.e. reduce
prediction error compared to design-based estimators) but need not assume them to be
correct as in the model-based approach, which is advantageous in official
statistics.
</p>


<h3>References</h3>

<p><cite>
Mandallaz, D. 2013
Design-based properties of some small-area estimators in forest
inventory with two-phase sampling.
Canadian Journal of Forest Research <b>43</b>(5), pp. 441&ndash;449.
doi: <a href="https://doi.org/10.1139/cjfr-2012-0381">10.1139/cjfr-2012-0381</a>.
</cite>
</p>
<p><cite>
Mandallaz, and Breschan, J.  and  Hill, A. 2013
New regression estimators in forest inventories with two-phase sampling and partially
exhaustive information: a design-based Monte Carlo approach with applications to
small-area estimation.
Canadian Journal of Forest Research <b>43</b>(11), pp. 1023&ndash;1031.
doi: <a href="https://doi.org/10.1139/cjfr-2013-0181">10.1139/cjfr-2013-0181</a>.
</cite>
</p>
<p><cite>
Mandallaz, D. 2014
A three-phase sampling extension of the generalized regression
estimator with partially exhaustive information.
Canadian Journal of Forest Research <b>44</b>(4), pp. 383&ndash;388.
doi: <a href="https://doi.org/10.1139/cjfr-2013-0449">10.1139/cjfr-2013-0449</a>.
</cite>
</p>


<h3>See Also</h3>

<p>There are a couple packages for model-<strong>based</strong> small area estimation, see
<code><a href="sae.html#topic+sae-package">sae</a></code>,
<code><a href="rsae.html#topic+rsae-package">rsae</a></code>,
hbsae and
<code><a href="JoSAE.html#topic+JoSAE-package">JoSAE</a></code>.
In 2016, Andreas Hill published
<code><a href="forestinventory.html#topic+forestinventory">forestinventory</a></code>, another
implementation of Mandallaz' model-assisted small area estimators (see
<code>vignette("forestinventory_and_maASE", package = "maSAE")</code> for a comparison).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vignette("maSAE", package = "maSAE")

## End(Not run)
## Not run: 
demo("design", package = "maSAE")

## End(Not run)
## Not run: 
demo("maSAE", package = "maSAE")

## End(Not run)

</code></pre>

<hr>
<h2 id='bind_data'>Merge Data Sets</h2><span id='topic+bind_data'></span>

<h3>Description</h3>

<p>You will usually have different data sets for the first, second and possibly
a null phase. This functions binds them into a data sets suitable to create
an object of class <code><a href="#topic+saeObj-class">saeObj</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_data(s1, s2, s0 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_data_+3A_s1">s1</code></td>
<td>
<p>The first phase <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="bind_data_+3A_s2">s2</code></td>
<td>
<p>The second phase <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="bind_data_+3A_s0">s0</code></td>
<td>
<p>Possibly a null phase <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with added boolean variables <code>phase1</code>
and <code>phase2</code>.
</p>


<h3>Note</h3>

<p>This is experimental!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(list= paste0("s", 1:2), package = "maSAE")
str(s1)
str(s2)
str(bind_data(s1, s2))
</code></pre>

<hr>
<h2 id='characterOrNULL-class'>Class <code>"characterOrNULL"</code></h2><span id='topic+characterOrNULL-class'></span><span id='topic+data.frameOrNULL-class'></span><span id='topic+references'></span>

<h3>Description</h3>

<p>the  _union_ of classes <code>character</code> and  <code>NULL</code>
</p>
<p>the  _union_ of classes <code>data.frame</code> and  <code>NULL</code>
</p>
<p>internal character object to store information about the literature used
in the reference-attribute of the objects returned by
<code><a href="#topic+predict">?maSAE::predict</a></code>.
</p>


<h3>Format</h3>

<p>chr
</p>


<h3>Details</h3>

<p>used by <a href="#topic+savObj-class">savObj</a>, <a href="#topic+saeObj-class">saeObj</a>
</p>
<p>used by <a href="#topic+saeObj-class">saeObj</a>
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created
from it.
</p>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+setClassUnion">?methods::setClassUnion</a></code>
</p>
<p><code><a href="methods.html#topic+setClassUnion">?methods::setClassUnion</a></code>
</p>
<p>Other classes: 
<code><a href="#topic+sadObj-class">sadObj-class</a></code>,
<code><a href="#topic+saeObj-class">saeObj-class</a></code>,
<code><a href="#topic+savObj-class">savObj-class</a></code>
</p>
<p>Other classes: 
<code><a href="#topic+sadObj-class">sadObj-class</a></code>,
<code><a href="#topic+saeObj-class">saeObj-class</a></code>,
<code><a href="#topic+savObj-class">savObj-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("characterOrNULL")

showClass("data.frameOrNULL")
</code></pre>

<hr>
<h2 id='predict'>Methods for Function <code>predict</code></h2><span id='topic+predict'></span><span id='topic+predict-methods'></span><span id='topic+predict+2CsaeObj-method'></span><span id='topic+predict+2CsadObj-method'></span>

<h3>Description</h3>

<p>Calculate small area predictions and their variances.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict(object, ...)

## S4 method for signature 'sadObj'
predict(object)

## S4 method for signature 'saeObj'
predict(object, version = NULL, use_lm = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_+3A_object">object</code></td>
<td>
<p>a model object for which prediction is desired.</p>
</td></tr>
<tr><td><code id="predict_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods.</p>
</td></tr>
<tr><td><code id="predict_+3A_version">version</code></td>
<td>
<p>set to &quot;1.0.0&quot; or set options(maSAE_version = &quot;1.0.0&quot;)
to use the functions from maSAE 1.0.0. See NEWS.md for 2.0.0.</p>
</td></tr>
<tr><td><code id="predict_+3A_use_lm">use_lm</code></td>
<td>
<p>Rather for internal use, stick with the default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Based on the structure of the <code>saeObj</code> given, <code>predict</code> decides,
which
predictor to use:<br />
If a smallAreaMeans-data.frame covering all fixed effects is given, the
exhaustive
estimator <code class="reqn">\hat{\tilde{y}}_{g, synth}</code> is calculated.  <br />
If a smallAreaMeans-data.frame not covering all fixed effects is given, the
partially
exhaustive
estimator <code class="reqn">\hat{\tilde{y}}_{g, greg}</code> is calculated.  <br />
If no smallAreaMeans-data.frame but s1 is given, the three-phase
estimator <code class="reqn">\hat{\tilde{y}}_{g, g3reg}</code> is calculated.  <br />
If neither smallAreaMeans nor s1 are given, the non-exhaustive
estimator <code class="reqn">\hat{\tilde{y}}_{g, psynth}</code> is calculated.  <br />
If a clustering variable is given, the cluster sampling design equivalents
of the
above estimators are used.<br />
If <code>version</code> is not set to &quot;1.0.0&quot;, the (pseudo) small and synthetic
estimations and their variances are also calculated (see
<code>vignette("A_Taxonomy_of_Estimators", package = "maSAE")</code>)
</p>


<h3>Value</h3>

<p>A data frame containing predictions and variances for each small
area, see <b>Details</b> above.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(object = saeObj)</code></dt><dd><p>Calculate predictions and variances
according to the auxiliary information given, see <b>Details</b> above.</p>
</dd>
<dt><code>signature(object = sadObj)</code></dt><dd><p>Calculate design-based predictions
and
variances.</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code>vignette(package = "maSAE")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## ## design-based estimation
## load data
data("s2", package = "maSAE")
## create object
saeO &lt;- maSAE::saObj(data = s2, f = y ~ NULL | g)
## design-based estimation for all small areas given by g
maSAE::predict(saeO)
## ## model-assisted estimation
## load  data
data("s1", "s2", package = "maSAE")
str(s1)
s12 &lt;- maSAE::bind_data(s1, s2)
## create object
saeO &lt;- maSAE::saObj(data = s12, f = y ~ x1 + x2 + x3 | g, s2 = "phase2")
## small area estimation
maSAE::predict(saeO)
</code></pre>

<hr>
<h2 id='s0'>Example s0 Data Set</h2><span id='topic+s0'></span>

<h3>Description</h3>

<p>Artificial null phase sampling data used for examples in <span class="pkg">maSAE</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(s0, package = "maSAE")
</code></pre>


<h3>Format</h3>

<p>A data frame with 9008 observations on the following 6 variables.
</p>


<h3>Details</h3>


<dl>
<dt><code>clustid</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>x1</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>x2</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>x3</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>inclusion</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>g</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
</dl>


<hr>
<h2 id='s1'>Example s1 Data Set</h2><span id='topic+s1'></span>

<h3>Description</h3>

<p>Artificial first phase sampling data  used for examples  in <span class="pkg">maSAE</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(s1, package = "maSAE")
</code></pre>


<h3>Format</h3>

<p>A data frame with 786 observations on the following 6 variables.
</p>


<h3>Details</h3>


<dl>
<dt><code>clustid</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>x1</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>x2</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>x3</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>inclusion</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
<dt><code>g</code></dt><dd><p>See <code>"<a href="#topic+s2">?maSAE::s2</a>"</code></p>
</dd>
</dl>


<hr>
<h2 id='s2'>Example s2 Data Set</h2><span id='topic+s2'></span>

<h3>Description</h3>

<p>Artificial second phase sampling data  used for examples in <span class="pkg">maSAE</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(s2, package = "maSAE")
</code></pre>


<h3>Format</h3>

<p>A data frame with 206 observations on the following 7 variables.
</p>


<h3>Details</h3>


<dl>
<dt><code>clustid</code></dt><dd><p>index giving the clusters</p>
</dd></dl>
<p>.
</p>
<dl>
<dt><code>x1</code></dt><dd><p>a potential fixed effect.</p>
</dd>
<dt><code>x2</code></dt><dd><p>another potential fixed effect.</p>
</dd>
<dt><code>x3</code></dt><dd><p>yet another potential fixed effect.</p>
</dd>
<dt><code>y</code></dt><dd><p>the predictand</p>
</dd>
<dt><code>inclusion</code></dt><dd><p>a logical vector indicating whether or not to include the
current observation. All TRUE.</p>
</dd>
<dt><code>g</code></dt><dd><p>A factor defining the small areas 'a' and 'b'</p>
</dd>
</dl>


<hr>
<h2 id='sadObj-class'>Small Area Design-based Objects</h2><span id='topic+sadObj-class'></span>

<h3>Description</h3>

<p>A class for design-based estimation only.
</p>


<h3>Details</h3>

<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>. The fixed effects part of
<code>f</code> has to be NULL: design-based estimation knows no fixed effects.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
<dt><code>f</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
<dt><code>cluster</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
<dt><code>include</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
</dl>


<h3>Extends</h3>

<p>Class <code>"<a href="#topic+savObj-class">savObj</a>"</code>, directly.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("sadObj", ...)</code> or via the constructor function  <code>"<a href="#topic+saObj">?maSAE::saObj</a>"</code>.
</p>


<h3>Methods</h3>

<p><code><a href="#topic+predict">predict</a></code>
</p>


<h3>Note</h3>

<p>The slots are described in
<code>"<a href="#topic+saeObj-class">class?maSAE::saeObj</a>"</code>, since this is the main class
of the package.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+saeObj-class">saeObj</a>"</code>
<code>"<a href="#topic+saObj">?maSAE::saObj</a>"</code>
</p>
<p>Other classes: 
<code><a href="#topic+characterOrNULL-class">characterOrNULL-class</a></code>,
<code><a href="#topic+saeObj-class">saeObj-class</a></code>,
<code><a href="#topic+savObj-class">savObj-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("sadObj")
</code></pre>

<hr>
<h2 id='saeObj-class'>Small Area Estimation Objects</h2><span id='topic+saeObj-class'></span>

<h3>Description</h3>

<p>Class for small area estimation, the one you're probably looking for.
</p>


<h3>Details</h3>

<p><code>cluster</code> optionally gives the name of a variable in slot <code>data</code>
from which the cluster information for clustered sample designs is to be
read.
See Manadallaz 2013, p. 445 for Details.<br />
<code>include</code> optionally gives the name of a variable in slot <code>data</code>
from which the inclusion indicator for cluster points is to be read.
See Manadallaz 2013, p. 445 for Details on <code class="reqn">I_f</code>.<br />
Also see the <b>Details</b> for <code><a href="#topic+predict">predict</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>smallAreaMeans</code></dt><dd><p>An <em>optional</em> <code>"data.frame"</code>
giving the true means of fixed effects for the small areas.
Must have a column with the random effect defining the small areas in
slot
<code>data</code>.</p>
</dd>
<dt><code>s1</code></dt><dd><p>An <em>optional</em> <code>"character"</code> string giving the name of a
variable in slot <code>data</code> indicating that an observation (a row in
slot
<code>data</code>) belongs to subset 1.</p>
</dd>
<dt><code>s2</code></dt><dd><p>An <em>optional</em> <code>"character"</code> string giving the name of a
variable in slot <code>data</code> indicating that an observation (a row in
slot
<code>data</code>) belongs to subset 2.</p>
</dd>
<dt><code>data</code></dt><dd><p>Object of class <code>"data.frame"</code> to use for prediction,
typically
consisting of a predictand and one or more predictors (zero or more fixed
effects and one random effect defining the small areas).
See <b>Details</b> for optional clustering variable and/or inclusion
indicator.</p>
</dd>
<dt><code>f</code></dt><dd><p>Object of class <code>"formula"</code> a linear mixed effects model
formula.</p>
</dd>
<dt><code>cluster</code></dt><dd><p>An <em>optional</em> <code>"character"</code> string giving the name of
the
clustering variable in slot <code>data</code>.</p>
</dd>
<dt><code>include</code></dt><dd><p>An <em>optional</em> <code>"character"</code> string giving the name of
the
inclusion indicator in slot <code>data</code>.</p>
</dd>
<dt><code>auxiliaryWeights</code></dt><dd><p>An <em>optional</em> <code>"character"</code> string giving
the name of the
auxiliary weights in slot <code>data</code>. You will need it, if your
auxiliary
data does not have full spatial support for each observation (for example
when a shapefile does not completely cover all gird cells used to compute
auxiliary data on).
See
<code>vignette("forestinventory_vignette", package = "forestinventory")</code>
for details.</p>
</dd>
</dl>


<h3>Extends</h3>

<p>Class <code>"<a href="#topic+savObj-class">savObj</a>"</code>, directly.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("saeObj", ...)</code> or via the constructor function
<code>"<a href="#topic+saObj">?maSAE::saObj</a>"</code> (recommended).
</p>


<h3>Methods</h3>

<p><code><a href="#topic+predict">predict</a></code>
</p>


<h3>References</h3>

<p><cite>
Mandallaz, D. 2013
Design-based properties of some small-area estimators in forest
inventory with two-phase sampling.
Canadian Journal of Forest Research <b>43</b>(5), pp. 441&ndash;449.
doi: <a href="https://doi.org/10.1139/cjfr-2012-0381">10.1139/cjfr-2012-0381</a>.
</cite>
</p>


<h3>See Also</h3>

<p><code>"<a href="stats.html#topic+formula">?stats::formula</a>"</code>,
<code>"<a href="#topic+sadObj-class">class?maSAE::saObj</a>"</code>,
<code>"<a href="#topic+savObj-class">class?maSAE::savObj</a>"</code>,
<code>"<a href="#topic+saObj">?maSAE::saObj</a>"</code> and
<code>"<a href="#topic+predict">?maSAE::predict</a>"</code>
</p>
<p>Other classes: 
<code><a href="#topic+characterOrNULL-class">characterOrNULL-class</a></code>,
<code><a href="#topic+sadObj-class">sadObj-class</a></code>,
<code><a href="#topic+savObj-class">savObj-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("saeObj")
</code></pre>

<hr>
<h2 id='saObj'>A Constructor for Objects of Class <code>sadObj</code> and <code>saeObj</code></h2><span id='topic+saObj'></span>

<h3>Description</h3>

<p>Simple wrapper to <code>new("sa[de]Obj")</code>.
If missing, it adds an inclusion variable to <code>data</code>;
it checks for missing in the clustering variable.
Adds comments documenting changes made to the returned object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saObj(
  data,
  f,
  smallAreaMeans = NULL,
  s1 = NULL,
  s2 = NULL,
  cluster = NULL,
  include = NULL,
  auxiliaryWeights = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saObj_+3A_data">data</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_f">f</code></td>
<td>
<p>a linear mixed effects formula, but see <b>Value</b>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_smallareameans">smallAreaMeans</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_s1">s1</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_s2">s2</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_cluster">cluster</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_include">include</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
<tr><td><code id="saObj_+3A_auxiliaryweights">auxiliaryWeights</code></td>
<td>
<p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>sadObj</code> if <code>f</code> is of structure &lsquo;x ~ NULL | g&rsquo;,
an object of class <code>saeObj</code> otherwise.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+saeObj-class">saeObj</a>"</code>, <code>"<a href="#topic+sadObj-class">sadObj</a>"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## load data
data("s2", package = "maSAE")
## create sadObj object
sad &lt;- maSAE::saObj(data = s2, f = y ~ NULL | g)
class(sad)
## create saeObj object
s2$s2 &lt;- TRUE
sae &lt;- maSAE::saObj(data = s2, f = y ~ x1 + x2 + x3 | g, s2 = "s2")
class(sae)
</code></pre>

<hr>
<h2 id='savObj-class'>Small Area Virtual Object Class</h2><span id='topic+savObj-class'></span>

<h3>Description</h3>

<p>Common slots for classes <code>sadObj</code> and <code>saeObj</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
<dt><code>f</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
<dt><code>cluster</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
<dt><code>include</code></dt><dd><p>See <code>"<a href="#topic+saeObj-class">saeObj</a>"</code>.</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created
from it.
</p>


<h3>Note</h3>

<p>The slots are described in
<code>"<a href="#topic+saeObj-class">class?maSAE::saeObj</a>"</code>, since this is the main class
of the package.
</p>


<h3>See Also</h3>

<p><code>"<a href="stats.html#topic+formula">?stats::formula</a>"</code>,
<code>"<a href="#topic+sadObj-class">class?maSAE::sadObj</a>"</code> and
<code>"<a href="#topic+saeObj-class">class?maSAE::saeObj</a>"</code>.
</p>
<p>Other classes: 
<code><a href="#topic+characterOrNULL-class">characterOrNULL-class</a></code>,
<code><a href="#topic+sadObj-class">sadObj-class</a></code>,
<code><a href="#topic+saeObj-class">saeObj-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("savObj")
</code></pre>

<hr>
<h2 id='throw'>Throw a Condition</h2><span id='topic+throw'></span>

<h3>Description</h3>

<p>Throws a condition of class c(&quot;error&quot;, &quot;maSAE&quot;, &quot;condition&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>throw(message_string, system_call = sys.call(-1), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="throw_+3A_message_string">message_string</code></td>
<td>
<p>The message to be thrown.</p>
</td></tr>
<tr><td><code id="throw_+3A_system_call">system_call</code></td>
<td>
<p>The call to be thrown.</p>
</td></tr>
<tr><td><code id="throw_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to
<code><a href="base.html#topic+structure">base::structure</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We use this condition as an error dedicated to <span class="pkg"> maSAE.</span>
</p>


<h3>Value</h3>

<p>The function does never return anything, it stops with a
condition of class c(&quot;error&quot;, &quot;maSAE&quot;, &quot;condition&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tryCatch(maSAE:::throw("Hello error!"), maSAE = function(e) {
  return(e)
})
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

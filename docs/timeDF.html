<!DOCTYPE html><html><head><title>Help for package timeDF</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {timeDF}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#timeDF-package'>
<p>Subset and Flag Data Frames with Times by the Use of Periods</p></a></li>
<li><a href='#adjust_periodDF'>
<p>Function to adjust starts and ends for periods in periodDF object</p></a></li>
<li><a href='#as.data.frame.timeDF'>
<p>Convert timeDF object to a plain dataframe</p></a></li>
<li><a href='#as.periodDF'>
<p>Function to construct periodDF object from dataframe</p></a></li>
<li><a href='#as.timeDF'>
<p>Function to construct timeDF object from dataframe</p></a></li>
<li><a href='#condense_periodDF'>
<p>Function to condense periods in periodDF object</p></a></li>
<li><a href='#convert_periodDF'>
<p>Function to convert type of periodDF object</p></a></li>
<li><a href='#extract_with_periodDF'>
<p>Extract time records from timeDF object within periods of periodDF object</p></a></li>
<li><a href='#flag_with_periodDF'>
<p>Flag time records from timeDF object within periods of periodDF object</p></a></li>
<li><a href='#listTimeDF_to_timeDF'>
<p>converts a list of timeDF objects into a timeDF object</p></a></li>
<li><a href='#period_type'>
<p>Function to obtain period type of periodDF object</p></a></li>
<li><a href='#periodDF-class'>
<p>periodDF S3 class</p></a></li>
<li><a href='#select_timeDF'>
<p>Function to select columns in timeDF object</p></a></li>
<li><a href='#sort_periodDF'>
<p>Function to sort periods in  periodDF object</p></a></li>
<li><a href='#sort_timeDF'>
<p>Function to sort records in timeDF object</p></a></li>
<li><a href='#split_timeDF_by_intervals'>
<p>Function to split timeDF into a list by regular intervals</p></a></li>
<li><a href='#summary.periodDF'>
<p>Summarize periodDF S3 object</p></a></li>
<li><a href='#summary.timeDF'>
<p>Summarize timeDF S3 object</p></a></li>
<li><a href='#time_vec'>
<p>time vector and column name for times of timeDF</p></a></li>
<li><a href='#timeDF-class'>
<p>timeDF S3 class</p></a></li>
<li><a href='#validate_listTimeDF'>
<p>Checks whether the object is a list of timeDF objects</p></a></li>
<li><a href='#validate_sorted_timeDF'>
<p>Checks whether the object is a valid sorted timeDF object</p></a></li>
<li><a href='#validate_timeDF'>
<p>Checks whether the object is a valid timeDF object</p></a></li>
<li><a href='#vec_to_periodDF'>
<p>Function to construct periodDF object from vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Subset and Flag Data Frames with Times by the Use of Periods</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-29</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Toshihiro Umehara &lt;toshi@niceume.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Data frames with time information are subset and flagged with period information. Data frames with times are dealt as timeDF objects and periods are represented as periodDF objects.</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.11.0), methods</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/niceume/timeDF">https://github.com/niceume/timeDF</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/niceume/timeDF">https://github.com/niceume/timeDF</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-29 01:46:00 UTC; toshihiro</td>
</tr>
<tr>
<td>Author:</td>
<td>Toshihiro Umehara [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-29 02:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='timeDF-package'>
Subset and Flag Data Frames with Times by the Use of Periods
</h2><span id='topic+timeDF-package'></span><span id='topic+timeDF'></span>

<h3>Description</h3>

<p>Data frames with time information are subset and flagged with period information. Data frames with times are dealt as timeDF objects and periods are represented as periodDF objects.
</p>


<h3>Details</h3>

<p>Package timeDF provides functionality to deal with times with the use
of periods. With period information, data frames with time information
are subset and flagged.
</p>


<h3>Author(s)</h3>

<p>Toshihiro Umehara [aut, cre]
Maintainer: Toshihiro Umehara &lt;toshi@niceume.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
<code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+as.timeDF">as.timeDF</a></code>
<code><a href="#topic+as.periodDF">as.periodDF</a></code>
<code><a href="#topic+vec_to_periodDF">vec_to_periodDF</a></code>
<code><a href="#topic+extract_with_periodDF">extract_with_periodDF</a></code>
<code><a href="#topic+flag_with_periodDF">flag_with_periodDF</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(timeDF)
time_df = data.frame(
    time = c("2023-01-01 12:00:00",
             "2023-01-21 12:00:00",
             "2023-02-10 12:00:00",
             "2023-03-02 12:00:00",
             "2023-03-22 12:00:00",
             "2023-04-11 12:00:00"
    ),
    value = c(123, 144, 150, 100, 130, 145)
)

timeDF = as.timeDF(time_df)

period_df = data.frame(
    start = c("2023-01-01",
              "2023-03-01"),
    end = c("2023-01-31",
            "2023-03-31")
)
periodDF = as.periodDF(period_df, "date")

extract_with_periodDF(timeDF, periodDF, "both")
</code></pre>

<hr>
<h2 id='adjust_periodDF'>
Function to adjust starts and ends for periods in periodDF object
</h2><span id='topic+adjust_periodDF'></span>

<h3>Description</h3>

<p>adjust_periodDF function 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjust_periodDF(periodDF, adjStart, adjEnd, units)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjust_periodDF_+3A_perioddf">periodDF</code></td>
<td>
<p>S3 periodDF class</p>
</td></tr>
<tr><td><code id="adjust_periodDF_+3A_adjstart">adjStart</code></td>
<td>
<p>values to be added for starts.</p>
</td></tr>
<tr><td><code id="adjust_periodDF_+3A_adjend">adjEnd</code></td>
<td>
<p>values to be added for ends.</p>
</td></tr>
<tr><td><code id="adjust_periodDF_+3A_units">units</code></td>
<td>
<p>units for values of adjStart and adjEnd</p>
</td></tr>
</table>


<h3>Details</h3>

<p>adjust_periodDF function adjust starts and ends for periods in
periodDF objects.</p>


<h3>Value</h3>

<p>periodDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>period_time = data.frame(
     start = c("2023-12-01 03:00:00",
               "2023-12-01 20:00:00",
               "2023-12-02 05:00:00",
               "2023-12-03 21:00:00"),
     end = c("2023-12-01 04:00:00",
             "2023-12-01 21:00:00",
             "2023-12-02 06:00:00",
             "2023-12-03 22:00:00")
)
periodTime = as.periodDF(period_time, "time")
adjust_periodDF(periodTime, -1, 3, units="hours")

period_date = data.frame(
    start = c("2023-01-01",
              "2023-02-01",
              "2023-03-01",
              "2023-04-01"),
    end = c("2023-01-14",
            "2023-02-14",
            "2023-03-14",
            "2023-04-14"),
    label = c("One", "Two", "Three", "Four")
)
periodDate = as.periodDF(period_date, "date")
adjust_periodDF(periodDate, -1, 1, units="days")

period_time_in_a_day = data.frame(
    start = c("04:00",
              "11:00",
              "17:00"),
    end = c("11:00",
            "17:00",
            "24:00"),
    label = c("morning",
              "afternoon",
              "evening")
)
periodTimeInDay = as.periodDF(period_time_in_a_day, "time_in_a_day", label_var = "label")
adjust_periodDF( periodTimeInDay, 1, 1, "hours")
</code></pre>

<hr>
<h2 id='as.data.frame.timeDF'>
Convert timeDF object to a plain dataframe
</h2><span id='topic+as.data.frame.timeDF'></span>

<h3>Description</h3>

<p>Convert timeDF object to a plain dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeDF'
as.data.frame(x,row.names=NULL,optional=FALSE,format =
"%Y-%m-%d %H:%M:%S",...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.timeDF_+3A_x">x</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="as.data.frame.timeDF_+3A_row.names">row.names</code></td>
<td>
<p>same as as.data.frame in base</p>
</td></tr>
<tr><td><code id="as.data.frame.timeDF_+3A_optional">optional</code></td>
<td>
<p>same as as.data.frame in base</p>
</td></tr>
<tr><td><code id="as.data.frame.timeDF_+3A_format">format</code></td>
<td>
<p>character element that describes how times in timeDF are
converted to chracters. If &quot;as_is&quot; is specified, time objects are not
preserved without converting to characters.</p>
</td></tr>
<tr><td><code id="as.data.frame.timeDF_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert timeDF object to a plain dataframe.
</p>


<h3>Value</h3>

<p>dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
as.data.frame(timeDF)
</code></pre>

<hr>
<h2 id='as.periodDF'>
Function to construct periodDF object from dataframe
</h2><span id='topic+as.periodDF'></span>

<h3>Description</h3>

<p>as.periodDF function interpret dataframe and convert it into
periodDF class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.periodDF(df, period_type, format = "auto", start_var =
"start", end_var = "end", label_var = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.periodDF_+3A_df">df</code></td>
<td>
<p>dataframe that holds columns for starts and ends of periods
which are defined by start_var and end_var arguments. Column for labels
is optional.</p>
</td></tr>
<tr><td><code id="as.periodDF_+3A_period_type">period_type</code></td>
<td>
<p>character element that defines what kind of periods
are specified. &quot;time&quot;, &quot;date&quot; or &quot;time_in_a_day&quot; is available.</p>
</td></tr>
<tr><td><code id="as.periodDF_+3A_format">format</code></td>
<td>
<p>character element that defines the formats of starts and
end columns. If &quot;auto&quot; is specified, format that corresponds to
period_type is automatically selected. If &quot;as_is&quot; is specified, columns
for start and end are used as they are without conversion. In this case,
column objects need to be compatible with objects that period_type
requires. Time requires POSIXlt or POSIXct with UTC timezone, date
requires Date, and time_in_a_day requires numeric values from 0 to 24 *
60 * 60. </p>
</td></tr>
<tr><td><code id="as.periodDF_+3A_start_var">start_var</code></td>
<td>
<p>character element that specifies the column name for
starts.</p>
</td></tr>
<tr><td><code id="as.periodDF_+3A_end_var">end_var</code></td>
<td>
<p>character element that specifies the column name for
ends.</p>
</td></tr>
<tr><td><code id="as.periodDF_+3A_label_var">label_var</code></td>
<td>
<p>character element that specifies the column name for
labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>as.periodDF function constructs periodDF object from
dataframe. Types of periodDF are described in <code><a href="#topic+periodDF-class">periodDF-class</a></code>.
</p>


<h3>Value</h3>

<p>periodDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>period_time = data.frame(
     start = c("2023-12-01 01:00:00",
               "2023-12-01 02:00:00",
               "2023-12-01 03:00:00",
               "2023-12-02 04:00:00"),
     end = c("2023-12-01 02:00:00",
             "2023-12-01 03:00:00",
             "2023-12-01 04:00:00",
             "2023-12-02 05:00:00")
)
as.periodDF(period_time, "time")

period_date = data.frame(
    start = c("2023-01-01",
              "2023-02-01",
              "2023-03-01"),
    end = c("2023-01-14",
            "2023-02-14",
            "2023-03-14"),
    label = c("Jan", "Feb", "Mar")
)
as.periodDF(period_date, "date")

period_time_in_a_day = data.frame(
    start = c("04:00",
              "11:00",
              "17:00"),
    end = c("11:00",
            "17:00",
            "24:00"),
    label = c("morning",
              "afternoon",
              "evening")
)
as.periodDF( period_time_in_a_day,
             "time_in_a_day",
              label_var = "label")
</code></pre>

<hr>
<h2 id='as.timeDF'>
Function to construct timeDF object from dataframe
</h2><span id='topic+as.timeDF'></span>

<h3>Description</h3>

<p>as.timeDF function converts dataframe into timeDF class object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.timeDF(df, time_var = "time", format = "%Y-%m-%d %H:%M:%S")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.timeDF_+3A_df">df</code></td>
<td>
<p>dataframe that holds a column for time as character.</p>
</td></tr>
<tr><td><code id="as.timeDF_+3A_time_var">time_var</code></td>
<td>
<p>character element that specifies column name for time
in the dataframe.</p>
</td></tr>
<tr><td><code id="as.timeDF_+3A_format">format</code></td>
<td>
<p>character element that specifies a format for times. If
&quot;as_is&quot; is specified, column for start is used as it is without
conversion. In this case, column needs to be POSIXlt with UTC timezone.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>as.timeDF function constructs timeDF object from dataframe.
</p>


<h3>Value</h3>

<p>timeDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_df = data.frame(
    time = c("2023-12-01 01:00:00",
             "2023-12-01 02:00:00",
             "2023-12-01 03:00:00",
             "2023-12-01 04:00:00"),
    value = c(123,
              144,
              150,
              100)
)
as.timeDF(time_df)
</code></pre>

<hr>
<h2 id='condense_periodDF'>
Function to condense periods in periodDF object
</h2><span id='topic+condense_periodDF'></span>

<h3>Description</h3>

<p>condense_periodDF function 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condense_periodDF(periodDF, open = TRUE, useData = "start")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condense_periodDF_+3A_perioddf">periodDF</code></td>
<td>
<p>S3 periodDF class</p>
</td></tr>
<tr><td><code id="condense_periodDF_+3A_open">open</code></td>
<td>
<p>If this is set TRUE, periods are dealt as open
intervals. If FALSE is set, periods are dealt as closed intervals.</p>
</td></tr>
<tr><td><code id="condense_periodDF_+3A_usedata">useData</code></td>
<td>
<p>&quot;start&quot; or &quot;end&quot; is specified. This decides how columns
other than start and end are combined. If &quot;start&quot; is specified, data
of a period that contains start timing is used for the combined
period. If &quot;end&quot; is specified, data of end period is used. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>condense_periodDF function condenses periods in a periodDF object. If
periods are overlapped, they are condensed into one period. When
periods share the same timing with their start and end, whether they
are combined into one period or are dealt separately depends on
an argument of open.
</p>


<h3>Value</h3>

<p>periodDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>period_time = data.frame(
     start = c("2023-12-01 01:00:00",
               "2023-12-01 02:00:00",
               "2023-12-01 03:00:00",
               "2023-12-02 04:00:00"),
     end = c("2023-12-01 02:00:00",
             "2023-12-01 03:00:00",
             "2023-12-01 04:00:00",
             "2023-12-02 05:00:00")
)
periodTime = as.periodDF(period_time, "time")
condense_periodDF(periodTime, open = TRUE)
condense_periodDF(periodTime, open = FALSE)

period_date = data.frame(
    start = c("2023-01-01",
              "2023-01-14",
              "2023-02-14",
              "2023-03-14"),
    end = c("2023-01-31",
            "2023-02-14",
            "2023-03-14",
            "2023-04-14"),
    label = c("One", "Two", "Three", "Four")
)
periodDate = as.periodDF(period_date, "date")
condense_periodDF(periodDate, open=TRUE)
condense_periodDF(periodDate, open=FALSE)

period_time_in_a_day = data.frame(
    start = c("04:00",
              "11:00",
              "17:00"),
    end = c("11:00",
            "17:00",
            "24:00"),
    label = c("morning",
              "afternoon",
              "evening")
)
periodTimeInDay = as.periodDF(period_time_in_a_day, "time_in_a_day", label_var = "label")
condense_periodDF( periodTimeInDay, open = TRUE)
condense_periodDF( periodTimeInDay, open = FALSE)
</code></pre>

<hr>
<h2 id='convert_periodDF'>
Function to convert type of periodDF object
</h2><span id='topic+convert_periodDF'></span>

<h3>Description</h3>

<p>convert_periodDF function 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_periodDF(periodDF, period_type, base_date = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_periodDF_+3A_perioddf">periodDF</code></td>
<td>
<p>S3 periodDF class</p>
</td></tr>
<tr><td><code id="convert_periodDF_+3A_period_type">period_type</code></td>
<td>
<p>period_type to be conveted to</p>
</td></tr>
<tr><td><code id="convert_periodDF_+3A_base_date">base_date</code></td>
<td>
<p>only used when converting time_in_a_day into time type</p>
</td></tr>
</table>


<h3>Details</h3>

<p>convert_periodDF function converts period types of periodDF
object. Conversions from &quot;date&quot; to &quot;time&quot;, &quot;time&quot; to &quot;date&quot;, &quot;time&quot; to
&quot;time_in_a_day&quot; and &quot;time_in_a_day&quot; to &quot;time&quot; are supported.</p>


<h3>Value</h3>

<p>periodDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>period_date = data.frame(
    start = c("2023-01-01",
              "2023-02-01",
              "2023-03-01",
              "2023-04-01"),
    end = c("2023-01-14",
            "2023-02-14",
            "2023-03-14",
            "2023-04-14"),
    label = c("One", "Two", "Three", "Four")
)
periodDate = as.periodDF(period_date, "date")
convert_periodDF(periodDate, "time")

period_time = data.frame(
     start = c("2023-12-01 03:00:00",
               "2023-12-01 20:00:00",
               "2023-12-02 05:00:00",
               "2023-12-03 21:00:00"),
     end = c("2023-12-01 04:00:00",
             "2023-12-01 21:00:00",
             "2023-12-02 06:00:00",
             "2023-12-03 22:00:00")
)
periodTime = as.periodDF(period_time, "time")
convert_periodDF(periodTime, "date")

period_time_in_a_day = data.frame(
    start = c("04:00",
              "11:00",
              "17:00"),
    end = c("11:00",
            "17:00",
            "24:00"),
    label = c("morning",
              "afternoon",
              "evening")
)
periodTimeInDay = as.periodDF(period_time_in_a_day, "time_in_a_day", label_var = "label")
convert_periodDF( periodTimeInDay, "time", base_date = "2023-12-01")
</code></pre>

<hr>
<h2 id='extract_with_periodDF'>
Extract time records from timeDF object within periods of periodDF object
</h2><span id='topic+extract_with_periodDF'></span>

<h3>Description</h3>

<p>Extract time records from timeDF object that are included within periods
of periodDF object. periodDF object has one of some timescales, and how
this function extracts time records depends on the timescale. Also, when
the time is on either end of a time period, whether the time record is
extracted or not depends on the include argument. &quot;both&quot; means including
both sides, &quot;right&quot; means including only the right side, &quot;left&quot; means
including only the left side, and &quot;none&quot; does not include any sides.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_with_periodDF(timeDF, periodDF, include, modStart = 0, modEnd = 0,
units = NULL, outputAsBool = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_with_periodDF_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="extract_with_periodDF_+3A_perioddf">periodDF</code></td>
<td>
<p>periodDF object</p>
</td></tr>
<tr><td><code id="extract_with_periodDF_+3A_include">include</code></td>
<td>
<p>character element that specifies whether each end of
periods is included or not</p>
</td></tr>
<tr><td><code id="extract_with_periodDF_+3A_modstart">modStart</code></td>
<td>
<p>values to be added for starts of periods.</p>
</td></tr>
<tr><td><code id="extract_with_periodDF_+3A_modend">modEnd</code></td>
<td>
<p>values to be added for ends of periods.</p>
</td></tr>
<tr><td><code id="extract_with_periodDF_+3A_units">units</code></td>
<td>
<p>units for values of modStart and modEnd</p>
</td></tr>
<tr><td><code id="extract_with_periodDF_+3A_outputasbool">outputAsBool</code></td>
<td>
<p>boolean value; if this is TRUE, the return value is
a boolean vector or boolean vectors that represent(s) records to be
extracted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If periodDF does not have labels, timeDF object or a boolean object is
returned. If periodDF has labels, a list of timeDF objects with keys
of label names or a list of boolean vectors with label name keys is retruned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
<code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_df = data.frame(
    time = c("2023-01-01 12:00:00",
             "2023-01-21 12:00:00",
             "2023-02-10 12:00:00",
             "2023-03-02 12:00:00",
             "2023-03-22 12:00:00",
             "2023-04-11 12:00:00"
    ),
    value = c(123, 144, 150, 100, 130, 145)
)
timeDF = as.timeDF(time_df)

period_df = data.frame(
    start = c("2023-01-01",
              "2023-02-01",
              "2023-03-01"),
    end = c("2023-01-31",
            "2023-02-28",
            "2023-03-31"),
    label = c("Jan", "Feb", "Mar")
)
periodDF = as.periodDF(period_df, "date", label_var = "label")

extract_with_periodDF(timeDF, periodDF, "both")
</code></pre>

<hr>
<h2 id='flag_with_periodDF'>
Flag time records from timeDF object within periods of periodDF object
</h2><span id='topic+flag_with_periodDF'></span>

<h3>Description</h3>

<p>Flag time records of timeDF object that are included within periods
of periodDF object. Which time records are flagged follows the same rule
as <code><a href="#topic+extract_with_periodDF">extract_with_periodDF</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flag_with_periodDF(timeDF, periodDF, flag_var, include, modStart = 0,
modEnd = 0, units = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flag_with_periodDF_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="flag_with_periodDF_+3A_perioddf">periodDF</code></td>
<td>
<p>periodDF object</p>
</td></tr>
<tr><td><code id="flag_with_periodDF_+3A_flag_var">flag_var</code></td>
<td>
<p>character element that specifies the column name to
which flaggs are added</p>
</td></tr>
<tr><td><code id="flag_with_periodDF_+3A_include">include</code></td>
<td>
<p>character element that specifies whether each end of
periods is included or not</p>
</td></tr>
<tr><td><code id="flag_with_periodDF_+3A_modstart">modStart</code></td>
<td>
<p>values to be added for starts of periods.</p>
</td></tr>
<tr><td><code id="flag_with_periodDF_+3A_modend">modEnd</code></td>
<td>
<p>values to be added for ends of periods.</p>
</td></tr>
<tr><td><code id="flag_with_periodDF_+3A_units">units</code></td>
<td>
<p>units for values of modStart and modEnd</p>
</td></tr>
</table>


<h3>Value</h3>

<p>timeDF object flagged with labels
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
<code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_df = data.frame(
    time = c("2023-01-01 12:00:00",
             "2023-01-21 12:00:00",
             "2023-02-10 12:00:00",
             "2023-03-02 12:00:00",
             "2023-03-22 12:00:00",
             "2023-04-11 12:00:00"
    ),
    value = c(123, 144, 150, 100, 130, 145)
)
timeDF = as.timeDF(time_df)

period_df = data.frame(
    start = c("2023-01-01",
              "2023-02-01",
              "2023-03-01"),
    end = c("2023-01-31",
            "2023-02-28",
            "2023-03-31"),
    label = c("Jan", "Feb", "Mar")
)
periodDF = as.periodDF(period_df, "date", label_var = "label")

flag_with_periodDF(timeDF, periodDF, "month_label", "both")
</code></pre>

<hr>
<h2 id='listTimeDF_to_timeDF'>
converts a list of timeDF objects into a timeDF object
</h2><span id='topic+listTimeDF_to_timeDF'></span>

<h3>Description</h3>

<p>listTimeDF_to_timeDF function combines timeDF objects in the original
list. Each timeDF name in the original list is assigned to a column
specified by name_var argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listTimeDF_to_timeDF(listTimeDF, name_var = "name")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listTimeDF_to_timeDF_+3A_listtimedf">listTimeDF</code></td>
<td>
<p>a list of timeDF objects</p>
</td></tr>
<tr><td><code id="listTimeDF_to_timeDF_+3A_name_var">name_var</code></td>
<td>
<p>column name holding names from the original list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>timeDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  
    listTimeDF = extract_with_periodDF(
                     time_df,
                     period_df,
                     include="both")
    listTimeDF_to_timeDF(listTimeDF)
</code></pre>

<hr>
<h2 id='period_type'>
Function to obtain period type of periodDF object
</h2><span id='topic+period_type'></span>

<h3>Description</h3>

<p>period_type function returns the period type of periodDF object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>period_type(periodDF)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="period_type_+3A_perioddf">periodDF</code></td>
<td>
<p>periodDF object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>period_type function returns the period type of periodDF object.
</p>


<h3>Value</h3>

<p>string
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>period_time = data.frame(
     start = c("2023-12-01 01:00:00",
               "2023-12-01 02:00:00",
               "2023-12-01 03:00:00",
               "2023-12-02 04:00:00"),
     end = c("2023-12-01 02:00:00",
             "2023-12-01 03:00:00",
             "2023-12-01 04:00:00",
             "2023-12-02 05:00:00")
)
periodTime = as.periodDF(period_time, "time")
period_type(periodTime)

period_date = data.frame(
    start = c("2023-01-01",
              "2023-01-14",
              "2023-02-14",
              "2023-03-14"),
    end = c("2023-01-31",
            "2023-02-14",
            "2023-03-14",
            "2023-04-14"),
    label = c("One", "Two", "Three", "Four")
)
periodDate = as.periodDF(period_date, "date",
label_var = "label")
period_type(periodDate)

period_time_in_a_day = data.frame(
    start = c("04:00",
              "11:00",
              "17:00"),
    end = c("11:00",
            "17:00",
            "24:00"),
    label = c("morning",
              "afternoon",
              "evening")
)
periodTimeInDay = as.periodDF(period_time_in_a_day,
"time_in_a_day", label_var = "label")
period_type(periodTimeInDay)
</code></pre>

<hr>
<h2 id='periodDF-class'>
periodDF S3 class
</h2><span id='topic+periodDF-class'></span><span id='topic+periodDF'></span>

<h3>Description</h3>

<p>periodDF object stores definitions of periods.
</p>


<h3>Details</h3>

<p>periodDF object stores definitions of periods and the periods can be
defined in one of some timescales, &quot;time&quot;, &quot;date&quot; or
&quot;time_in_a_day&quot;. If &quot;time&quot; is specified, each period means period
between two timepoints. If &quot;date&quot; is specified, each period represents
period between two dates. If &quot;time_in_a_day&quot; is used, each period
means period between two timepoints in a day. periodDF object is used
with functions in <code><a href="#topic+timeDF-package">timeDF-package</a></code>, and those functions
behave diffrently based on the timescale.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.periodDF">as.periodDF</a></code>
<code><a href="#topic+vec_to_periodDF">vec_to_periodDF</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>

<hr>
<h2 id='select_timeDF'>
Function to select columns in timeDF object
</h2><span id='topic+select_timeDF'></span>

<h3>Description</h3>

<p>select_timeDF function 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_timeDF(timeDF, colnames)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_timeDF_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="select_timeDF_+3A_colnames">colnames</code></td>
<td>
<p>column names to be selected, chracter vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>select_timeDF function returns a new timeDF object with columns
specified and the column holding time information.
</p>


<h3>Value</h3>

<p>timeDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_df = data.frame(
    time = c("2023-12-01 01:00:00",
             "2023-12-01 05:00:00",
             "2023-12-01 09:00:00",
             "2023-12-01 13:00:00",
             "2023-12-01 17:00:00",
             "2023-12-01 21:00:00"),
    value = c(123,
              144,
              150,
              100,
              200,
              180),
    phase = c("A",
              "A",
              "B",
              "B",
              "C",
              "C")
)
timeDF = as.timeDF(time_df)
select_timeDF(timeDF, c("phase"))
</code></pre>

<hr>
<h2 id='sort_periodDF'>
Function to sort periods in  periodDF object
</h2><span id='topic+sort_periodDF'></span>

<h3>Description</h3>

<p>sort_periodDF function 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort_periodDF(periodDF, by="start")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_periodDF_+3A_perioddf">periodDF</code></td>
<td>
<p>S3 periodDF class</p>
</td></tr>
<tr><td><code id="sort_periodDF_+3A_by">by</code></td>
<td>
<p>&quot;start&quot; or &quot;end&quot; is set. Periods are sorted by start_var or
end_var in periodDF.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>sort_periodDF function sort periods in a periodDF object.
</p>


<h3>Value</h3>

<p>periodDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>period_time = data.frame(
     start = c("2023-12-01 01:00:00",
               "2023-12-01 02:00:00",
               "2023-12-01 03:00:00",
               "2023-12-02 04:00:00"),
     end = c("2023-12-01 02:00:00",
             "2023-12-01 03:00:00",
             "2023-12-01 04:00:00",
             "2023-12-02 05:00:00")
)
periodTime = as.periodDF(period_time, "time")
sort_periodDF(periodTime)

period_date = data.frame(
    start = c("2023-01-01",
              "2023-01-14",
              "2023-02-14",
              "2023-03-14"),
    end = c("2023-01-31",
            "2023-02-14",
            "2023-03-14",
            "2023-04-14"),
    label = c("One", "Two", "Three", "Four")
)
periodDate = as.periodDF(period_date, "date")
sort_periodDF(periodDate)

period_time_in_a_day = data.frame(
    start = c("04:00",
              "11:00",
              "17:00"),
    end = c("11:00",
            "17:00",
            "24:00"),
    label = c("morning",
              "afternoon",
              "evening")
)
periodTimeInDay = as.periodDF(period_time_in_a_day, "time_in_a_day", label_var = "label")
sort_periodDF(periodTimeInDay)
</code></pre>

<hr>
<h2 id='sort_timeDF'>
Function to sort records in timeDF object
</h2><span id='topic+sort_timeDF'></span>

<h3>Description</h3>

<p>sort_timeDF function 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort_timeDF(timeDF, decreasing=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_timeDF_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="sort_timeDF_+3A_decreasing">decreasing</code></td>
<td>
<p>boolean value to specify whether the sorting is
conducted in decreasing order or not.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>sort_timeDF function sorts records in timeDF object.
</p>


<h3>Value</h3>

<p>timeDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sort_timeDF(timeDF)
</code></pre>

<hr>
<h2 id='split_timeDF_by_intervals'>
Function to split timeDF into a list by regular intervals
</h2><span id='topic+split_timeDF_by_intervals'></span>

<h3>Description</h3>

<p>split_timeDF_by_intervals splits timeDF into a list of timeDF objects
by regular intervals. Intervals can be spcified by numeric value and
its unit. For example, if the interval is specified as two days,
timeDF object is split by two day interval. The start time for this
interval is decided by the minimum time and the interval unit in the
original timeDF. If there are no records present for some intervals,
their corresponding results are timeDF objects with zero rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_timeDF_by_intervals(timeDF,byN,byUnits,
                          modStart=0,modEnd=0,modUnits = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="split_timeDF_by_intervals_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="split_timeDF_by_intervals_+3A_byn">byN</code></td>
<td>
<p>interval value, numeric</p>
</td></tr>
<tr><td><code id="split_timeDF_by_intervals_+3A_byunits">byUnits</code></td>
<td>
<p>interval unit, &quot;days&quot;, &quot;hours&quot; or &quot;mins&quot;</p>
</td></tr>
<tr><td><code id="split_timeDF_by_intervals_+3A_modstart">modStart</code></td>
<td>
<p>values to be added for starts of intervals</p>
</td></tr>
<tr><td><code id="split_timeDF_by_intervals_+3A_modend">modEnd</code></td>
<td>
<p>values to be added for ends of intervals</p>
</td></tr>
<tr><td><code id="split_timeDF_by_intervals_+3A_modunits">modUnits</code></td>
<td>
<p>units for values of modStart and modEnd</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of timeDF objects
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_df = data.frame(
    time = c("2023-01-01 08:00:00",
             "2023-01-01 12:00:00",
             "2023-01-01 16:00:00",
             "2023-01-02 08:00:00",
             "2023-02-02 10:00:00",
             "2023-03-03 11:00:00",
             "2023-03-03 16:00:00",
             "2023-03-05 12:00:00"
    ),
    value = c(123, 144, 150, 100,
              130, 145, 180, 100)
)
timeDF = as.timeDF(time_df)

split_timeDF_by_intervals(timeDF, 1, "days")
</code></pre>

<hr>
<h2 id='summary.periodDF'>
Summarize periodDF S3 object
</h2><span id='topic+summary.periodDF'></span>

<h3>Description</h3>

<p>summary function for periodDF S3 object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'periodDF'
summary(object,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.periodDF_+3A_object">object</code></td>
<td>
<p>S3 periodDF class</p>
</td></tr>
<tr><td><code id="summary.periodDF_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>summary function for periodDF S3 object. This enables users to obtain the
summary of periods.
</p>


<h3>Value</h3>

<p>List that have properties of periodDF object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
summary(periodDF)
</code></pre>

<hr>
<h2 id='summary.timeDF'>
Summarize timeDF S3 object
</h2><span id='topic+summary.timeDF'></span>

<h3>Description</h3>

<p>summary function for timeDF S3 object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeDF'
summary(object,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.timeDF_+3A_object">object</code></td>
<td>
<p>S3 timeDF class</p>
</td></tr>
<tr><td><code id="summary.timeDF_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>summary function for timeDF S3 object. This enables users to obtain the
summary of periods.
</p>


<h3>Value</h3>

<p>List that have properties of timeDF object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
summary(timeDF)
</code></pre>

<hr>
<h2 id='time_vec'>
time vector and column name for times of timeDF
</h2><span id='topic+time_vec'></span><span id='topic+time_var'></span>

<h3>Description</h3>

<p>Functions to obtain time vector and column name for times of timeDF
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_vec(timeDF)

time_var(timeDF)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_vec_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>time_vec</code> function returns times in timeDF object.
</p>
<p><code>time_var</code> function returns the column name for times in timeDF
object, i.e. returns the value of time_var attribute.
</p>


<h3>Value</h3>

<p>For <code>time_vec</code>, a vector of time objects
</p>
<p>For <code>time_var</code>, a string of the column name for tiems
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
time_vec(timeDF)
time_var(timeDF)
</code></pre>

<hr>
<h2 id='timeDF-class'>
timeDF S3 class
</h2><span id='topic+timeDF-class'></span>

<h3>Description</h3>

<p>timeDF object stores definitions of periods.
</p>


<h3>Details</h3>

<p>timeDF object stores records with time information. The column to hold
time information can be specified as &quot;time_var&quot; attribute.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.timeDF">as.timeDF</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>

<hr>
<h2 id='validate_listTimeDF'>
Checks whether the object is a list of timeDF objects
</h2><span id='topic+validate_listTimeDF'></span>

<h3>Description</h3>

<p>Checks whether the object is list of timeDF objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_listTimeDF(listTimeDF, noerror=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_listTimeDF_+3A_listtimedf">listTimeDF</code></td>
<td>
<p>is expected to be a list of timeDF objects</p>
</td></tr>
<tr><td><code id="validate_listTimeDF_+3A_noerror">noerror</code></td>
<td>
<p>boolean value determins whether the function raises an
error or returns FALSE when the object is not a valid timeDF
object. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>validate_listTimeDF function checks whether the object is a list of
timeDF objects. If noerror is FALSE and the object is not a list of
timeDF objects, this function raises an error. If noerror is TRUE, this
function returns FALSE when the object is not a list of timeDF objects.
</p>


<h3>Value</h3>

<p>boolean
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_df = as.timeDF(
    data.frame(
        time = c("2024-01-01 01:00:00",
                 "2024-02-02 02:00:00",
                 "2024-03-03 03:00:00",
                 "2024-04-04 04:00:00",
                 "2024-05-05 05:00:00"),
        value = c(123,
                  144,
                  150,
                  100,
                  180)
    ))
period_df = as.periodDF(
    data.frame(
        start = c(
            "2024-01-01",
            "2024-02-01",
            "2024-03-01",
            "2024-04-01",
            "2024-05-01"
        ),
        end = c(
            "2024-01-31",
            "2024-02-29",
            "2024-03-31",
            "2024-04-30",
            "2024-05-31"
        ),
        label = c(
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May"
        )
    ),
    period_type = "date",
    label_var = "label"
)
listTimeDF = extract_with_periodDF(time_df,
                                   period_df,
                                   include="both")
validate_listTimeDF(listTimeDF, noerror=TRUE)
</code></pre>

<hr>
<h2 id='validate_sorted_timeDF'>
Checks whether the object is a valid sorted timeDF object
</h2><span id='topic+validate_sorted_timeDF'></span>

<h3>Description</h3>

<p>Checks whether the object is a timeDF object sorted by its time information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_sorted_timeDF(timeDF, noerror=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_sorted_timeDF_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="validate_sorted_timeDF_+3A_noerror">noerror</code></td>
<td>
<p>boolean value determins whether the function raises an
error or returns FALSE when the object is not a valid sorted timeDF
object. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>validate_sorted_timeDF function checks whether the object is a timeDF
object sorted by its time information. If noerror is FALSE and the
object is not a valid sorted timeDF object, this function raises an
error. If noerror is TRUE, this function returns FALSE when the object
is not a valid sorted timeDF object.
</p>


<h3>Value</h3>

<p>boolean
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
validate_sorted_timeDF(timeDF)
</code></pre>

<hr>
<h2 id='validate_timeDF'>
Checks whether the object is a valid timeDF object
</h2><span id='topic+validate_timeDF'></span>

<h3>Description</h3>

<p>Checks whether the object is a valid timeDF object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_timeDF(timeDF, noerror=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_timeDF_+3A_timedf">timeDF</code></td>
<td>
<p>timeDF object</p>
</td></tr>
<tr><td><code id="validate_timeDF_+3A_noerror">noerror</code></td>
<td>
<p>boolean value determins whether the function raises an
error or returns FALSE when the object is not a valid timeDF
object. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>validate_timeDF function checks whether the object is a valid timeDF
object. If noerror is FALSE and the object is not a valid timeDF
object, this function raises an error. If noerror is TRUE, this
function returns FALSE when the object is not a valid timeDF object.
</p>


<h3>Value</h3>

<p>boolean
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeDF-class">timeDF-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
validate_timeDF(timeDF)
</code></pre>

<hr>
<h2 id='vec_to_periodDF'>
Function to construct periodDF object from vector
</h2><span id='topic+vec_to_periodDF'></span>

<h3>Description</h3>

<p>vec_to_periodDF function takes a vector of timepoints or dates
to start and each duration, and constructs periodDF class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_to_periodDF(vec, period_type, duration, units, format = "auto",
labels = NULL, pre_margin = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_to_periodDF_+3A_vec">vec</code></td>
<td>
<p>vector that represents starts of periods. If pre_margin
argument is specified, each period extends forward from the starts.</p>
</td></tr>
<tr><td><code id="vec_to_periodDF_+3A_period_type">period_type</code></td>
<td>
<p>character element that defines what kind of periods are
specified. &quot;time&quot;, &quot;date&quot; or &quot;time_in_a_day&quot; is available.</p>
</td></tr>
<tr><td><code id="vec_to_periodDF_+3A_duration">duration</code></td>
<td>
<p>numeric values represent duration of each period.</p>
</td></tr>
<tr><td><code id="vec_to_periodDF_+3A_units">units</code></td>
<td>
<p>character element represents unit of duration.</p>
</td></tr>
<tr><td><code id="vec_to_periodDF_+3A_labels">labels</code></td>
<td>
<p>labels that are used for each period.</p>
</td></tr>
<tr><td><code id="vec_to_periodDF_+3A_format">format</code></td>
<td>
<p>character element that defines the formats of vec. If
&quot;auto&quot; is specified, format that corresponds to period_type is
automatically selected. If &quot;as_is&quot; is specified, the vector is used
for starts of periods as it is without conversion. In this case, the
vector needs to be compatible with objects that period_type
requires. Time requires POSIXlt or POSIXct with UTC timezone, date
requires Date, and time_in_a_day requires numeric values from 0 to
24 * 60 * 60. </p>
</td></tr>
<tr><td><code id="vec_to_periodDF_+3A_pre_margin">pre_margin</code></td>
<td>
<p>numeric values; if values are set, each period
extends forward from the starts specified in vec argument. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>vec_to_periodDF function takes a vector of timepoints or dates to
start and each duration, and constructs periodDF class object. Types of
periodDF are described in <code><a href="#topic+periodDF-class">periodDF-class</a></code>.
</p>


<h3>Value</h3>

<p>periodDF object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+periodDF-class">periodDF-class</a></code>
<code><a href="#topic+timeDF-package">timeDF-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>start_time = c("2023-12-01 01:00:00",
               "2023-12-02 02:00:00",
               "2023-12-03 03:00:00",
               "2023-12-04 04:00:00")
vec_to_periodDF(start_time, "time", 1, "hours")

start_date = c("2023-01-01",
               "2023-02-01",
               "2023-03-01")
vec_to_periodDF(start_date, "date", 14, "days",
                      labels = c("Jan", "Feb", "Mar"))

start_time_in_a_day = c("06:00",
                        "11:00",
                        "18:00")
vec_to_periodDF(start_time_in_a_day, "time_in_a_day",
                      4, "hours",
                      labels = c("morning", "afternoon", "evening"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

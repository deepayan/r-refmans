<!DOCTYPE html><html><head><title>Help for package polypharmacy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {polypharmacy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#polypharmacy-package'><p>Calculate several polypharmacy indicators</p></a></li>
<li><a href='#addError'><p>Argcheck</p></a></li>
<li><a href='#addMessage'><p>Argcheck</p></a></li>
<li><a href='#addWarning'><p>Argcheck</p></a></li>
<li><a href='#cst_deliv_duration'><p>Constant delivery duration drugs</p></a></li>
<li><a href='#cst_deliv_duration.verif_args'><p>Verification</p></a></li>
<li><a href='#data_process'><p>Create the table of the drug treatments</p></a></li>
<li><a href='#data_process.1_core'><p>Data Process</p></a></li>
<li><a href='#data_process.verif_args'><p>Verification</p></a></li>
<li><a href='#drug_bkdn'><p>Translate combination drug deliveries into several single active ingredients</p></a></li>
<li><a href='#drug_bkdn.verif_args'><p>Verification</p></a></li>
<li><a href='#finishArgCheck'><p>Argcheck</p></a></li>
<li><a href='#ind_simult'><p>Assess polypharmacy based on the daily simultaneous consumption of medications</p></a></li>
<li><a href='#ind_stdcontinuous'><p>Assess polypharmacy based on the number of medications that is consumed both during the initial and the final period of the study period</p></a></li>
<li><a href='#ind_stdcumul'><p>Assess polypharmacy based on the average number of distinct medications consumed over successive periods of time of equal length</p></a></li>
<li><a href='#ind_ucontinuous'><p>Assess polypharmacy based on the uninterrupted consumption of distinct medications over the study period</p></a></li>
<li><a href='#ind_wcumul'><p>Assess polypharmacy based on the number of distinct medications consumed weighted to their respective duration of consumption</p></a></li>
<li><a href='#indicators'><p>Provide several polypharmacy indicators at once</p></a></li>
<li><a href='#newArgCheck'><p>Argcheck</p></a></li>
<li><a href='#rmNA'><p>Utils</p></a></li>
<li><a href='#sample_Rx_processed'><p>Table: Processed <em>unprocessed table</em></p></a></li>
<li><a href='#sample_Rx_unprocessed'><p>Table: Prescription drugs deliveries</p></a></li>
<li><a href='#stat_quantile_prob'><p>Statistic functions</p></a></li>
<li><a href='#sunique'><p>Utils</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Several Polypharmacy Indicators</td>
</tr>
<tr>
<td>Description:</td>
<td>Analyse prescription drug deliveries to calculate several indicators of polypharmacy corresponding to the various definitions found in the literature.
  Bjerrum, L., Rosholm, J. U., Hallas, J., &amp; Kragstrup, J. (1997) &lt;<a href="https://doi.org/10.1007%2Fs002280050329">doi:10.1007/s002280050329</a>&gt;.
  Chan, D.-C., Hao, Y.-T., &amp; Wu, S.-C. (2009a) &lt;<a href="https://doi.org/10.1002%2Fpds.1712">doi:10.1002/pds.1712</a>&gt;.
  Fincke, B. G., Snyder, K., Cantillon, C., Gaehde, S., Standring, P., Fiore, L., ... Gagnon, D.R. (2005) &lt;<a href="https://doi.org/10.1002%2Fpds.966">doi:10.1002/pds.966</a>&gt;.
  Hovstadius, B., Astrand, B., &amp; Petersson, G. (2009) &lt;<a href="https://doi.org/10.1186%2F1472-6904-9-11">doi:10.1186/1472-6904-9-11</a>&gt;.
  Hovstadius, B., Astrand, B., &amp; Petersson, G. (2010) &lt;<a href="https://doi.org/10.1002%2Fpds.1921">doi:10.1002/pds.1921</a>&gt;.
  Kennerfalk, A., Ruigómez, A., Wallander, M.-A., Wilhelmsen, L., &amp; Johansson, S. (2002) &lt;<a href="https://doi.org/10.1345%2Faph.1A226">doi:10.1345/aph.1A226</a>&gt;.
  Masnoon, N., Shakib, S., Kalisch-Ellett, L., &amp; Caughey, G. E. (2017) &lt;<a href="https://doi.org/10.1186%2Fs12877-017-0621-2">doi:10.1186/s12877-017-0621-2</a>&gt;.
  Narayan, S. W., &amp; Nishtala, P. S. (2015) &lt;<a href="https://doi.org/10.1007%2Fs40801-015-0020-y">doi:10.1007/s40801-015-0020-y</a>&gt;.
  Nishtala, P. S., &amp; Salahudeen, M. S. (2015) &lt;<a href="https://doi.org/10.1159%2F000368191">doi:10.1159/000368191</a>&gt;.
  Park, H. Y., Ryu, H. N., Shim, M. K., Sohn, H. S., &amp; Kwon, J. W. (2016) &lt;<a href="https://doi.org/10.5414%2Fcp202484">doi:10.5414/cp202484</a>&gt;.
  Veehof, L., Stewart, R., Haaijer-Ruskamp, F., &amp; Jong, B. M. (2000) &lt;<a href="https://doi.org/10.1093%2Ffampra%2F17.3.261">doi:10.1093/fampra/17.3.261</a>&gt;.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillaume Boucher &lt;guiboucher8@gmail.com&gt;</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/guiboucher/polypharmacy/issues">https://github.com/guiboucher/polypharmacy/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, doParallel, foreach, itertools, lubridate,
parallel, stringr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-12 03:13:21 UTC; Guillaume Boucher</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillaume Boucher [aut, cre],
  Bernard Candas [aut],
  Houssem Missaoui [aut],
  Caroline Sirois [sad],
  Marc Simard [sad]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-12 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='polypharmacy-package'>Calculate several polypharmacy indicators</h2><span id='topic+polypharmacy'></span><span id='topic+polypharmacy-package'></span>

<h3>Description</h3>

<p>This package analyses prescription drug deliveries to calculate several indicators of polypharmacy corresponding to the various definitions found in the literature.
</p>


<h3>Details</h3>

<p>It is essential to understand the underlying concepts used to calculate the various polypharmacy indicators to adequately use this package.<br />
The core of the package is the <code>data_process()</code> function that creates a <code>data.table</code> of drug treatments by restructuring the drug delivery records (usually extracted from a pharmacy or a health insurance information system) into continuous periods of drug availability (called drug treatments) for every individual over the whole period of the study period. This process relies on several user-defined arguments such as the grace periods between renewals or the longest treatment duration that an individual may accumulate through successive early renewals.<br /><br />
Then, each polypharmacy indicator can be computed using the corresponding function (<code>ind_simult()</code>, <code>ind_stdcumul()</code>, <code>ind_wcumul()</code>, <code>ind_stdcontinuous()</code>, <code>ind_ucontinuous()</code>) or using the wrapper function <code>indicators()</code> to select the desired indicator(s) to be calculated at once.<br /><br />
Prior to running <code>data_process()</code> the user may need to pre-process the table of original drug delivery records to break down combination drug into their individual components (<code>drugs_bkdn()</code>) and/or to overwrite the delivery durations of some specified drugs with constant user-defined durations (<code>cst_trt_dur()</code>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Guillaume Boucher <a href="mailto:guiboucher8@gmail.com">guiboucher8@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Bernard Candas <a href="mailto:bernard.candas.1@gmail.com">bernard.candas.1@gmail.com</a>
</p>
</li>
<li><p> Houssem Missaoui <a href="mailto:missaoui_houssem@hotmail.fr">missaoui_houssem@hotmail.fr</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Caroline Sirois <a href="mailto:caroline.sirois@pha.ulaval.ca">caroline.sirois@pha.ulaval.ca</a> [scientific advisor]
</p>
</li>
<li><p> Marc Simard <a href="mailto:marc.simard@inspq.qc.ca">marc.simard@inspq.qc.ca</a> [scientific advisor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li><p> Report bugs at <a href="https://github.com/guiboucher/polypharmacy/issues">https://github.com/guiboucher/polypharmacy/issues</a>
</p>
</li></ul>


<hr>
<h2 id='addError'>Argcheck</h2><span id='topic+addError'></span>

<h3>Description</h3>

<p>Add an error in the environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addError(msg, argcheck)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addError_+3A_msg">msg</code></td>
<td>
<p>Text to show.</p>
</td></tr>
<tr><td><code id="addError_+3A_argcheck">argcheck</code></td>
<td>
<p>Environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Add an error in the environment <code>argcheck</code>.
</p>

<hr>
<h2 id='addMessage'>Argcheck</h2><span id='topic+addMessage'></span>

<h3>Description</h3>

<p>Add a message in the environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMessage(msg, argcheck)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addMessage_+3A_msg">msg</code></td>
<td>
<p>Text to show.</p>
</td></tr>
<tr><td><code id="addMessage_+3A_argcheck">argcheck</code></td>
<td>
<p>Environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Add a message in the environment <code>argcheck</code>.
</p>

<hr>
<h2 id='addWarning'>Argcheck</h2><span id='topic+addWarning'></span>

<h3>Description</h3>

<p>Add a warning in the environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addWarning(msg, argcheck)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addWarning_+3A_msg">msg</code></td>
<td>
<p>Text to show.</p>
</td></tr>
<tr><td><code id="addWarning_+3A_argcheck">argcheck</code></td>
<td>
<p>Environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Add a warning in the environment <code>argcheck</code>.
</p>

<hr>
<h2 id='cst_deliv_duration'>Constant delivery duration drugs</h2><span id='topic+cst_deliv_duration'></span>

<h3>Description</h3>

<p>Overwrites the recorded delivery durations of specific drugs with constant durations as specified in a user-provided table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cst_deliv_duration(
  Rx_deliv,
  Rx_drug_code,
  Rx_deliv_dur,
  Cst_deliv_dur,
  Cst_drug_code,
  Cst_duration
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cst_deliv_duration_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs delivered.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the drug unique identifier.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration_+3A_rx_deliv_dur">Rx_deliv_dur</code></td>
<td>
<p>Column name of the constant treatment duration in the <code>Rx_deliv</code> table.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration_+3A_cst_deliv_dur">Cst_deliv_dur</code></td>
<td>
<p>Name of the table that contains the constant delivery durations that will overwrite that in the <code>Rx_deliv</code> table for the specified drug codes.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration_+3A_cst_drug_code">Cst_drug_code</code></td>
<td>
<p>Column name of <code>Cst_deliv_dur</code> that contains the drug unique identifier (same format as <code>Rx_drug_code</code>).</p>
</td></tr>
<tr><td><code id="cst_deliv_duration_+3A_cst_duration">Cst_duration</code></td>
<td>
<p>Column name of the constant treatment duration in the <code>Cst_deliv_dur</code> table (same format as <code>Rx_deliv_dur</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.table</code> of the same structure as <code>Rx_deliv</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># With matches
rx1 &lt;- data.frame(id = c(1, 1, 2, 2, 2), code = c("A", "B", "B", "C", "D"),
                  duration = as.integer(c(30, 15, 15, 7, 90)))
cst1 &lt;- data.frame(CODES = c("B", "D"), DURATION = as.integer(c(45, 60)))
cst_deliv_duration(
  Rx_deliv = rx1, Rx_drug_code = "code", Rx_deliv_dur = "duration",
  Cst_deliv_dur = cst1, Cst_drug_code = "CODES", Cst_duration = "DURATION"
)

# No matches
rx2 &lt;- data.frame(id = c(1, 1, 2, 2, 2), code = c("A", "B", "B", "C", "D"),
                  duration = as.integer(c(30, 15, 15, 7, 90)))
cst2 &lt;- data.frame(CODES = c("E", "F"), DURATION = as.integer(c(45, 60)))
cst_deliv_duration(
  Rx_deliv = rx2, Rx_drug_code = "code", Rx_deliv_dur = "duration",
  Cst_deliv_dur = cst2, Cst_drug_code = "CODES", Cst_duration = "DURATION"
)
</code></pre>

<hr>
<h2 id='cst_deliv_duration.verif_args'>Verification</h2><span id='topic+cst_deliv_duration.verif_args'></span>

<h3>Description</h3>

<p>Arguments verification for <code><a href="#topic+cst_deliv_duration">cst_deliv_duration</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cst_deliv_duration.verif_args(
  Rx_deliv,
  Rx_drug_code,
  Rx_deliv_dur,
  Cst_deliv_dur,
  Cst_drug_code,
  Cst_duration
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cst_deliv_duration.verif_args_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs delivered.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration.verif_args_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the drug unique identifier.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration.verif_args_+3A_rx_deliv_dur">Rx_deliv_dur</code></td>
<td>
<p>Column name of the constant treatment duration in the <code>Rx_deliv</code> table.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration.verif_args_+3A_cst_deliv_dur">Cst_deliv_dur</code></td>
<td>
<p>Name of the table that contains the constant delivery durations that will overwrite that in the <code>Rx_deliv</code> table for the specified drug codes.</p>
</td></tr>
<tr><td><code id="cst_deliv_duration.verif_args_+3A_cst_drug_code">Cst_drug_code</code></td>
<td>
<p>Column name of <code>Cst_deliv_dur</code> that contains the drug unique identifier (same format as <code>Rx_drug_code</code>).</p>
</td></tr>
<tr><td><code id="cst_deliv_duration.verif_args_+3A_cst_duration">Cst_duration</code></td>
<td>
<p>Column name of the constant treatment duration in the <code>Cst_deliv_dur</code> table (same format as <code>Rx_deliv_dur</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Messages, warnings or errors
</p>

<hr>
<h2 id='data_process'>Create the table of the drug treatments</h2><span id='topic+data_process'></span>

<h3>Description</h3>

<p>Reads a table of successive drug delivery records (usually extracted from a pharmacy or a health insurance information system) and creates the table required for the calculation of the polypharmacy indicators by applying various user-defined arguments, incorporating hospital stays into the treatment periods and reconstruct continuous treatment periods by merging quasi continuous and/or overlapping drugs deliveries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_process(
  Rx_deliv,
  Rx_id,
  Rx_drug_code,
  Rx_drug_deliv,
  Rx_deliv_dur,
  Cohort = NULL,
  Cohort_id = NULL,
  Hosp_stays = NULL,
  Hosp_id = NULL,
  Hosp_admis = NULL,
  Hosp_discharge = NULL,
  study_start = NULL,
  study_end = NULL,
  grace_fctr = 0.5,
  grace_cst = 0,
  max_reserve = NULL,
  cores = parallel::detectCores(logical = FALSE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_process_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs deliveries including the run-in period. See <em>Details</em>.</p>
</td></tr>
<tr><td><code id="data_process_+3A_rx_id">Rx_id</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> containing individual unique identifier (any format).</p>
</td></tr>
<tr><td><code id="data_process_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the drug unique identifier (any format).</p>
</td></tr>
<tr><td><code id="data_process_+3A_rx_drug_deliv">Rx_drug_deliv</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the dates of the drug delivery (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process_+3A_rx_deliv_dur">Rx_deliv_dur</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the duration of the delivery (integer number).</p>
</td></tr>
<tr><td><code id="data_process_+3A_cohort">Cohort</code></td>
<td>
<p>Name of the table providing the unique identifiers of the study cohort. Only the ids listed in both the <code>Cohort</code> and the <code>Rx_deliv</code> tables will be returned. if <code>Cohort = NULL</code>, all ids of the <code>Rx_deliv</code> table will be returned.</p>
</td></tr>
<tr><td><code id="data_process_+3A_cohort_id">Cohort_id</code></td>
<td>
<p>Column name of <code>Cohort</code> containing individual’s unique identifiers (same format as <code>Rx_id</code>). If <code>Cohort</code> is not <code>NULL</code> and <code>Cohort_id</code> is <code>NULL</code>, <code>Cohort_id</code> will take the same value as <code>Rx_id</code>.</p>
</td></tr>
<tr><td><code id="data_process_+3A_hosp_stays">Hosp_stays</code></td>
<td>
<p>Name of the table listing all hospital stays. (see <em>Details</em> for possible format).</p>
</td></tr>
<tr><td><code id="data_process_+3A_hosp_id">Hosp_id</code></td>
<td>
<p>Column name of <code>Hosp_stays</code> containing individual’s unique identifier (same format as <code>Rx_id</code>). If <code>Hosp_stays</code> is not <code>NULL</code> and <code>Hosp_id</code> is <code>NULL</code>, <code>Hosp_id</code> will take the same value as <code>Rx_id</code>.</p>
</td></tr>
<tr><td><code id="data_process_+3A_hosp_admis">Hosp_admis</code></td>
<td>
<p>Column name of <code>Hosp_stays</code> that contains the date of admission in hospital (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process_+3A_hosp_discharge">Hosp_discharge</code></td>
<td>
<p>Column name of Hosp_stays that contains the date of discharge from hospital (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process_+3A_study_start">study_start</code>, <code id="data_process_+3A_study_end">study_end</code></td>
<td>
<p>Defines the first and last day of the study period for which the polypharmacy indicator(s) need to be calculated. All treatment periods prior to <code>study_start</code> and past <code>study_end</code> are not transcribed into the result table (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process_+3A_grace_fctr">grace_fctr</code>, <code id="data_process_+3A_grace_cst">grace_cst</code></td>
<td>
<p>Numbers <code class="reqn">\ge</code> 0. Two types of grace periods can be applied. One is proportional to the treatment duration of the latest delivery (<code>grace_fctr</code>) and the other is a constant number of days (<code>grace_cst</code>).</p>
</td></tr>
<tr><td><code id="data_process_+3A_max_reserve">max_reserve</code></td>
<td>
<p>An integer number <code class="reqn">\ge</code> 0 or <code>NULL</code>. Longest treatment duration, in days, that can be stored from successive overlapping deliveries. When <code>max_reserve = NULL</code> no limit is applied. When <code>max_reserve = 0</code> no accumulation of extra treatment duration is accounted for.</p>
</td></tr>
<tr><td><code id="data_process_+3A_cores">cores</code></td>
<td>
<p>The number of cores to use when executing <code>data_process()</code>. See <code><a href="parallel.html#topic+detectCores">detectCores</a></code>.</p>
</td></tr>
<tr><td><code id="data_process_+3A_...">...</code></td>
<td>
<p>Additional arguments. See <em>Details</em>. Should not be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Variables</strong>:
</p>

<ul>
<li> <p><code>Rx_id</code>, <code>Cohort_id</code> and <code>Hosp_id</code> columns must be of the same class (integer, numeric, character, ...).
</p>
</li>
<li> <p><code>Rx_drug_deliv</code>, <code>Hosp_admis</code> and <code>Hosp_discharge</code> can be 1) <code>as.Date('yyyy-mm-dd')</code>, 2) <code>as.character('yyyy-mm-dd')</code> or 3) <code>as.integer()</code> where 0 is January 1<sup>st</sup>, 1970.
</p>
</li></ul>

<p><strong>Arguments</strong>:
</p>

<ul>
<li> <p><code>study_start</code> and <code>study_end</code> can be 1) <code>as.Date('yyyy-mm-dd')</code>, 2) <code>as.character('yyyy-mm-dd')</code> or 3) <code>as.integer()</code> where 0 is January 1<sup>st</sup>, 1970.
</p>
</li></ul>

<p><strong>Hospital stays</strong>:<br />
Drug availability is assumed to continue during the hospital stay as it is on the day prior admission. The patient is assumed to resume the consumption of the drugs delivered by community pharmacists (as recorded in <code>Rx_deliv</code>) the day after <code>hosp_discharge</code>.<br />
Grace period is always zero (0) for hospital stays.
</p>
<p><strong>Run-in period</strong>:<br />
A run-in period is necessary to account for the medications that are available to the individuals on the day of <code>study_start</code>. It is recommended to include a run-in period of about 6 months (e.g. 7 months to account for possible delays) as some drugs are delivered for up to 6 months at once.
</p>
<p><strong>Grace period</strong>:<br />
The grace period is used to determine if two successive deliveries can be considered as a continuous treatment even if there is a gap of several days for which no treatment is apparently available. Two successive deliveries of an identical drug are considered part of a single continuous treatment if the next delivery doesn’t occur more than <code>grace_cst</code> + (<code>grace_fctr</code> × <code>Rx_deliv_dur</code>) days after the end of the latest drug delivery. The availability of extra drugs accumulated over the successive deliveries is accounted for prior to evaluating the duration of the gap between deliveries.
</p>
<p><strong>Performance</strong><br />
For better performance, date columns are converted to integer numbers.
</p>
<p><strong>...</strong><br />
<code>verif_cols=FALSE</code> : For better performance, you can avoid columns class checking with <code>verif_cols=FALSE</code>. <strong>Not recommended</strong>.
</p>


<h3>Value</h3>

<p><code>data.table</code> with four (4) variables:
</p>

<ul>
<li><p> The individual unique identifier which name is defined by <code>Rx_id</code>.
</p>
</li>
<li><p> The drug unique identifier which name is defined by <code>Rx_drug_code</code>.
</p>
</li>
<li> <p><code>tx_start</code>: The date of initiation of the reconstructed continued treatment (format as date).
</p>
</li>
<li> <p><code>tx_end</code>: The date of the last day of the reconstructed continued treatment (format as date).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
### Standard evaluation
data_process(
  Rx_deliv = sample_Rx_unprocessed, Rx_id = "id", Rx_drug_code = "code",
  Rx_drug_deliv = "start", Rx_deliv_dur = "duration",
  cores = 1L
)

### Hospitalisation stays
rx1 &lt;- data.frame(
  id = c(1L, 3:8),
  code = LETTERS[c(1, 3:8)],
  date = as.Date(c("2001-01-15", "2003-03-15", "2004-04-15", "2005-05-15",
                   "2006-06-15", "2007-07-15", "2008-08-15")),
  duration = 10L
)
hosp1 &lt;- data.frame(
  ID = 3:8,
  ADM = as.Date(c("2003-03-10", "2004-04-25", "2005-05-12",
                  "2006-06-20", "2007-07-26", "2008-08-01")),
  DEP = as.Date(c("2003-03-14", "2004-04-30", "2005-05-17",
                  "2006-06-30", "2007-07-30", "2008-08-13"))
)
data_process(
  Rx_deliv = rx1, Rx_id = "id", Rx_drug_code = "code",
  Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
  Hosp_stays = hosp1, Hosp_id = "ID", Hosp_admis = "ADM", Hosp_discharge = "DEP",
  study_start = "2001-01-01", study_end = "2008-12-31",
  cores = 1L
)
# Many drug codes
rx2 &lt;- data.frame(
  id = 1L,
  code = c(111L, 222L, 222L, 333L, 444L),
  date = as.Date(c("2001-01-15", "2002-02-15", "2002-03-01", "2004-04-07", "2004-05-05")),
  duration = as.integer(c(10, 10, 10, 30, 10))
)
hosp2 &lt;- data.frame(
  id = 1L,
  adm = as.Date(c("2000-01-01", "2000-01-15", "2001-01-01", "2002-02-23", "2004-04-15")),
  dep = as.Date(c("2000-01-31", "2000-01-31", "2001-01-10", "2002-02-28", "2004-05-15"))
)
data_process(
  Rx_deliv = rx2, Rx_id = "id", Rx_drug_code = "code",
  Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
  Hosp_stays = hosp2, Hosp_id = "id", Hosp_admis = "adm", Hosp_discharge = "dep",
  study_start = "2001-01-01", study_end = "2008-12-31",
  cores = 1L
)

### Study dates - start and end
rx3 &lt;- data.frame(id = 1:3,
                  code = "A",
                  date = as.Date(c("2020-01-01", "2020-06-06", "2020-12-22")),
                  duration = 10L)
# NULLs
data_process(Rx_deliv = rx3, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = NULL, study_end = NULL,
             cores = 1)
# Not NULLs
data_process(Rx_deliv = rx3, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = "2020-06-10", study_end = NULL,
             cores = 1)
data_process(Rx_deliv = rx3, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = NULL, study_end = "2020-06-10",
             cores = 1)
data_process(Rx_deliv = rx3, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = "2020-01-05", study_end = "2020-12-25",
             cores = 1)

### Grace factor
rx4 &lt;- data.frame(id = c(rep(1, 3), rep(2, 3)),
                  code = "A",
                  date = as.Date(c("2000-01-01", "2000-01-17", "2000-01-31",
                                   "2000-06-01", "2000-06-23", "2000-07-16")),
                  duration = as.integer(c(10, 10, 10, 15, 15, 15)))
# 50% of duration
data_process(Rx_deliv = rx4, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             grace_fctr = 0.5,
             cores = 1)
# 0% of duration
data_process(Rx_deliv = rx4, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             grace_fctr = 0,
             cores = 1)

### Grace constant
rx5 &lt;- data.frame(id = 1,
                  code = "A",
                  date = as.Date(c("2000-01-01", "2000-01-14", "2000-01-25")),
                  duration = as.integer(c(10, 10, 6)))
# 2 days
data_process(Rx_deliv = rx5, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             grace_fctr = 0, grace_cst = 2,
             cores = 1)
# 3 days
data_process(Rx_deliv = rx5, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             grace_fctr = 0, grace_cst = 3,
             cores = 1)

### Max reserve
rx6 &lt;- data.frame(id = as.integer(c(1, 1, 3, 3, 3, 5, 5)),
                  code = "A",
                  date = as.Date(c("2000-01-01", "2000-01-31",
                                   "2000-03-03", "2000-03-15", "2000-03-30",
                                   "2000-05-05", "2000-05-05")),
                  duration = as.integer(c(30, 30,
                                          30, 30, 30,
                                          90, 90)))
# 0 days
data_process(Rx_deliv = rx6, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = NULL, study_end = "2000-12-31",
             grace_fctr = 0, grace_cst = 0,
             max_reserve = 0,
             cores = 1)
# 60 days
data_process(Rx_deliv = rx6, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = NULL, study_end = "2000-12-31",
             grace_fctr = 0, grace_cst = 0,
             max_reserve = 60,
             cores = 1)
# Inf days
data_process(Rx_deliv = rx6, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             study_start = NULL, study_end = "2000-12-31",
             grace_fctr = 0, grace_cst = 0,
             max_reserve = NULL,
             cores = 1)

### Combine Hospital stays and Grace factor
rx7 &lt;- data.frame(id = c(1L, 1L, 1L, 2L),
                  code = "A",
                  date = c("2000-01-01", "2000-02-20", "2000-04-11", "2002-02-02"),
                  duration = as.integer(c(30, 30, 30, 15)))
hosp7 &lt;- data.frame(id = 1L,
                    adm = c("2000-01-11", "2000-02-21"),
                    dep = c("2000-01-15", "2000-02-25"))
data_process(Rx_deliv = rx7, Rx_id = "id", Rx_drug_code = "code",
             Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
             Hosp_stays = hosp7, Hosp_id = "id",
             Hosp_admis = "adm", Hosp_discharge = "dep",
             study_start = "2000-01-01", study_end = "2002-12-31",
             grace_fctr = 0.5, grace_cst = 0, max_reserve = NULL,
             cores = 1)

</code></pre>

<hr>
<h2 id='data_process.1_core'>Data Process</h2><span id='topic+data_process.1_core'></span>

<h3>Description</h3>

<p><code><a href="#topic+data_process">data_process</a></code> but with only 1 core. To use in the multicores process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_process.1_core(
  Rx_deliv,
  Rx_id,
  Rx_drug_code,
  Rx_drug_deliv,
  Rx_deliv_dur,
  Cohort = NULL,
  Cohort_id = NULL,
  Hosp_stays = NULL,
  Hosp_id = NULL,
  Hosp_admis = NULL,
  Hosp_discharge = NULL,
  study_start = NULL,
  study_end = NULL,
  grace_fctr = 0.5,
  grace_cst = 0,
  max_reserve = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_process.1_core_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs deliveries including the run-in period. See <em>Details</em>.</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_rx_id">Rx_id</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> containing individual unique identifier (any format).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the drug unique identifier (any format).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_rx_drug_deliv">Rx_drug_deliv</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the dates of the drug delivery (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_rx_deliv_dur">Rx_deliv_dur</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the duration of the delivery (integer number).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_cohort">Cohort</code></td>
<td>
<p>Name of the table providing the unique identifiers of the study cohort. Only the ids listed in both the <code>Cohort</code> and the <code>Rx_deliv</code> tables will be returned. if <code>Cohort = NULL</code>, all ids of the <code>Rx_deliv</code> table will be returned.</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_cohort_id">Cohort_id</code></td>
<td>
<p>Column name of <code>Cohort</code> containing individual’s unique identifiers (same format as <code>Rx_id</code>). If <code>Cohort</code> is not <code>NULL</code> and <code>Cohort_id</code> is <code>NULL</code>, <code>Cohort_id</code> will take the same value as <code>Rx_id</code>.</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_hosp_stays">Hosp_stays</code></td>
<td>
<p>Name of the table listing all hospital stays. (see <em>Details</em> for possible format).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_hosp_id">Hosp_id</code></td>
<td>
<p>Column name of <code>Hosp_stays</code> containing individual’s unique identifier (same format as <code>Rx_id</code>). If <code>Hosp_stays</code> is not <code>NULL</code> and <code>Hosp_id</code> is <code>NULL</code>, <code>Hosp_id</code> will take the same value as <code>Rx_id</code>.</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_hosp_admis">Hosp_admis</code></td>
<td>
<p>Column name of <code>Hosp_stays</code> that contains the date of admission in hospital (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_hosp_discharge">Hosp_discharge</code></td>
<td>
<p>Column name of Hosp_stays that contains the date of discharge from hospital (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_study_start">study_start</code></td>
<td>
<p>Defines the first and last day of the study period for which the polypharmacy indicator(s) need to be calculated. All treatment periods prior to <code>study_start</code> and past <code>study_end</code> are not transcribed into the result table (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_study_end">study_end</code></td>
<td>
<p>Defines the first and last day of the study period for which the polypharmacy indicator(s) need to be calculated. All treatment periods prior to <code>study_start</code> and past <code>study_end</code> are not transcribed into the result table (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_grace_fctr">grace_fctr</code></td>
<td>
<p>Numbers <code class="reqn">\ge</code> 0. Two types of grace periods can be applied. One is proportional to the treatment duration of the latest delivery (<code>grace_fctr</code>) and the other is a constant number of days (<code>grace_cst</code>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_grace_cst">grace_cst</code></td>
<td>
<p>Numbers <code class="reqn">\ge</code> 0. Two types of grace periods can be applied. One is proportional to the treatment duration of the latest delivery (<code>grace_fctr</code>) and the other is a constant number of days (<code>grace_cst</code>).</p>
</td></tr>
<tr><td><code id="data_process.1_core_+3A_max_reserve">max_reserve</code></td>
<td>
<p>An integer number <code class="reqn">\ge</code> 0 or <code>NULL</code>. Longest treatment duration, in days, that can be stored from successive overlapping deliveries. When <code>max_reserve = NULL</code> no limit is applied. When <code>max_reserve = 0</code> no accumulation of extra treatment duration is accounted for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.table</code> with four (4) variables:
</p>

<ul>
<li><p> The individual unique identifier which name is defined by <code>Rx_id</code>.
</p>
</li>
<li><p> The drug unique identifier which name is defined by <code>Rx_drug_code</code>.
</p>
</li>
<li> <p><code>tx_start</code>: The date of initiation of the reconstructed continued treatment (format as date).
</p>
</li>
<li> <p><code>tx_end</code>: The date of the last day of the reconstructed continued treatment (format as date).
</p>
</li></ul>


<hr>
<h2 id='data_process.verif_args'>Verification</h2><span id='topic+data_process.verif_args'></span>

<h3>Description</h3>

<p>Arguments verification for <code><a href="#topic+data_process">data_process</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_process.verif_args(
  Rx_deliv,
  Rx_id,
  Rx_drug_code,
  Rx_drug_deliv,
  Rx_deliv_dur,
  Cohort,
  Cohort_id,
  Hosp_stays,
  Hosp_id,
  Hosp_admis,
  Hosp_discharge,
  study_start,
  study_end,
  grace_fctr,
  grace_cst,
  max_reserve,
  verif_cols,
  cores
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_process.verif_args_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs deliveries including the run-in period. See <em>Details</em>.</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_rx_id">Rx_id</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> containing individual unique identifier (any format).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the drug unique identifier (any format).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_rx_drug_deliv">Rx_drug_deliv</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the dates of the drug delivery (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_rx_deliv_dur">Rx_deliv_dur</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the duration of the delivery (integer number).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_cohort">Cohort</code></td>
<td>
<p>Name of the table providing the unique identifiers of the study cohort. Only the ids listed in both the <code>Cohort</code> and the <code>Rx_deliv</code> tables will be returned. if <code>Cohort = NULL</code>, all ids of the <code>Rx_deliv</code> table will be returned.</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_cohort_id">Cohort_id</code></td>
<td>
<p>Column name of <code>Cohort</code> containing individual’s unique identifiers (same format as <code>Rx_id</code>). If <code>Cohort</code> is not <code>NULL</code> and <code>Cohort_id</code> is <code>NULL</code>, <code>Cohort_id</code> will take the same value as <code>Rx_id</code>.</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_hosp_stays">Hosp_stays</code></td>
<td>
<p>Name of the table listing all hospital stays. (see <em>Details</em> for possible format).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_hosp_id">Hosp_id</code></td>
<td>
<p>Column name of <code>Hosp_stays</code> containing individual’s unique identifier (same format as <code>Rx_id</code>). If <code>Hosp_stays</code> is not <code>NULL</code> and <code>Hosp_id</code> is <code>NULL</code>, <code>Hosp_id</code> will take the same value as <code>Rx_id</code>.</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_hosp_admis">Hosp_admis</code></td>
<td>
<p>Column name of <code>Hosp_stays</code> that contains the date of admission in hospital (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_hosp_discharge">Hosp_discharge</code></td>
<td>
<p>Column name of Hosp_stays that contains the date of discharge from hospital (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_study_start">study_start</code></td>
<td>
<p>Defines the first and last day of the study period for which the polypharmacy indicator(s) need to be calculated. All treatment periods prior to <code>study_start</code> and past <code>study_end</code> are not transcribed into the result table (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_study_end">study_end</code></td>
<td>
<p>Defines the first and last day of the study period for which the polypharmacy indicator(s) need to be calculated. All treatment periods prior to <code>study_start</code> and past <code>study_end</code> are not transcribed into the result table (Date format, see <em>Details</em>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_grace_fctr">grace_fctr</code></td>
<td>
<p>Numbers <code class="reqn">\ge</code> 0. Two types of grace periods can be applied. One is proportional to the treatment duration of the latest delivery (<code>grace_fctr</code>) and the other is a constant number of days (<code>grace_cst</code>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_grace_cst">grace_cst</code></td>
<td>
<p>Numbers <code class="reqn">\ge</code> 0. Two types of grace periods can be applied. One is proportional to the treatment duration of the latest delivery (<code>grace_fctr</code>) and the other is a constant number of days (<code>grace_cst</code>).</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_max_reserve">max_reserve</code></td>
<td>
<p>An integer number <code class="reqn">\ge</code> 0 or <code>NULL</code>. Longest treatment duration, in days, that can be stored from successive overlapping deliveries. When <code>max_reserve = NULL</code> no limit is applied. When <code>max_reserve = 0</code> no accumulation of extra treatment duration is accounted for.</p>
</td></tr>
<tr><td><code id="data_process.verif_args_+3A_cores">cores</code></td>
<td>
<p>The number of cores to use when executing <code>data_process()</code>. See <code><a href="parallel.html#topic+detectCores">detectCores</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Messages, warnings or errors
</p>

<hr>
<h2 id='drug_bkdn'>Translate combination drug deliveries into several single active ingredients</h2><span id='topic+drug_bkdn'></span>

<h3>Description</h3>

<p>Replaces each combination drug into several deliveries of elementary active ingredients according to a user-provided correspondence table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drug_bkdn(Rx_deliv, Rx_drug_code, Combn_drugs, Combn_drug_code, Combn_act_code)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drug_bkdn_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs deliveries.</p>
</td></tr>
<tr><td><code id="drug_bkdn_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the combination drug unique identifiers (any format).</p>
</td></tr>
<tr><td><code id="drug_bkdn_+3A_combn_drugs">Combn_drugs</code></td>
<td>
<p>Name of the correspondence table listing all elementary active ingredients that make up each combination drug.</p>
</td></tr>
<tr><td><code id="drug_bkdn_+3A_combn_drug_code">Combn_drug_code</code></td>
<td>
<p>Column name of <code>Combn_drugs</code> that contains the combination drug unique identifiers (same format as <code>Rx_drug_code</code>).</p>
</td></tr>
<tr><td><code id="drug_bkdn_+3A_combn_act_code">Combn_act_code</code></td>
<td>
<p>Column name of elementary active ingredients that is present in <code>Combn_drugs</code> (same format as <code>Rx_drug_code</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.table</code> of the same structure as <code>Rx_deliv</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### With matches
rx1 &lt;- data.frame(id = c(1L, 1L, 2L, 2L, 2L),
                  code = c(159L, 753L, 123L, 456L, 789L))
split1 &lt;- data.frame(code = c(159L, 159L, 456L, 456L, 456L),
                     splitcode = c(1591L, 1592L, 4567L, 4568L, 4569L))
drug_bkdn(Rx_deliv = rx1, Rx_drug_code = "code",
          Combn_drugs = split1, Combn_drug_code = "code", Combn_act_code = "splitcode")

### No matches
rx2 &lt;- data.frame(id = c(1L, 1L, 2L, 2L, 2L),
                  code = c(159L, 753L, 123L, 456L, 789L))
split2 &lt;- data.frame(CODE = c(147L, 147L, 963L, 963L, 963L),
                     SPLITCODE = c(1471L, 1472L, 9637L, 9638L, 9639L))
drug_bkdn(Rx_deliv = rx2, Rx_drug_code = "code",
          Combn_drugs = split2, Combn_drug_code = "CODE", Combn_act_code = "SPLITCODE")
</code></pre>

<hr>
<h2 id='drug_bkdn.verif_args'>Verification</h2><span id='topic+drug_bkdn.verif_args'></span>

<h3>Description</h3>

<p>Arguments verification for <code><a href="#topic+drug_bkdn">drug_bkdn</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drug_bkdn.verif_args(
  Rx_deliv,
  Rx_drug_code,
  Combn_drugs,
  Combn_drug_code,
  Combn_act_code
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drug_bkdn.verif_args_+3A_rx_deliv">Rx_deliv</code></td>
<td>
<p>Name of the table listing all prescription drugs deliveries.</p>
</td></tr>
<tr><td><code id="drug_bkdn.verif_args_+3A_rx_drug_code">Rx_drug_code</code></td>
<td>
<p>Column name of <code>Rx_deliv</code> that contains the combination drug unique identifiers (any format).</p>
</td></tr>
<tr><td><code id="drug_bkdn.verif_args_+3A_combn_drugs">Combn_drugs</code></td>
<td>
<p>Name of the correspondence table listing all elementary active ingredients that make up each combination drug.</p>
</td></tr>
<tr><td><code id="drug_bkdn.verif_args_+3A_combn_drug_code">Combn_drug_code</code></td>
<td>
<p>Column name of <code>Combn_drugs</code> that contains the combination drug unique identifiers (same format as <code>Rx_drug_code</code>).</p>
</td></tr>
<tr><td><code id="drug_bkdn.verif_args_+3A_combn_act_code">Combn_act_code</code></td>
<td>
<p>Column name of elementary active ingredients that is present in <code>Combn_drugs</code> (same format as <code>Rx_drug_code</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Messages, warnings or errors
</p>

<hr>
<h2 id='finishArgCheck'>Argcheck</h2><span id='topic+finishArgCheck'></span>

<h3>Description</h3>

<p>Create an environment where to put errors, messages or warnings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>finishArgCheck(argcheck)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="finishArgCheck_+3A_argcheck">argcheck</code></td>
<td>
<p>Environment created by <code><a href="#topic+newArgCheck">newArgCheck</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Messages, warnings or errors inserted in <code><a href="#topic+newArgCheck">newArgCheck</a></code>.
</p>

<hr>
<h2 id='ind_simult'>Assess polypharmacy based on the daily simultaneous consumption of medications</h2><span id='topic+ind_simult'></span>

<h3>Description</h3>

<p>Calculates various metrics measuring the number of distinct medications consumed daily for every individual of the study cohort over the study period and provides cohort descriptive statistics on those metrics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_simult(
  processed_tab,
  individual_stats = c("mean", "min", "median", "max"),
  stats = c("mean", "sd", "min", "p5", "p10", "p25", "median", "p75", "p90", "p95",
    "max"),
  calendar = FALSE,
  cores = parallel::detectCores()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_simult_+3A_processed_tab">processed_tab</code></td>
<td>
<p>Table of individual drug treatments over the study period. Created by <code><a href="#topic+data_process">data_process</a></code> function.</p>
</td></tr>
<tr><td><code id="ind_simult_+3A_individual_stats">individual_stats</code></td>
<td>
<p>Descriptive statistics of daily consumption over the study period to calculate for every individual. See <em>Details</em> for possible values.</p>
</td></tr>
<tr><td><code id="ind_simult_+3A_stats">stats</code></td>
<td>
<p>Cohort descriptive statistics to calculate on the polypharmacy indicator. See <em>Details</em> for possible values.</p>
</td></tr>
<tr><td><code id="ind_simult_+3A_calendar">calendar</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>. Create a table of the number of drugs consumed everyday by every individual (<code>FALSE</code> by default).</p>
</td></tr>
<tr><td><code id="ind_simult_+3A_cores">cores</code></td>
<td>
<p>The number of CPU cores to use. See <code><a href="parallel.html#topic+detectCores">detectCores</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>individual_stats &amp; stats:</strong> Possible values are
</p>

<ul>
<li> <p><code>'mean'</code>, <code>'min'</code>, <code>'median'</code>, <code>'max'</code>, <code>'sd'</code>;
</p>
</li>
<li> <p><code>'pX'</code> where <em>X</em> is an integer value in ]0, 100];
</p>
</li>
<li> <p><code>'q1'</code>=<code>'p25'</code>, <code>'q2'</code>=<code>'p50'</code>=<code>'median'</code>, <code>q3</code>=<code>'p75'</code>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>list</code>:
</p>

<ul>
<li> <p><code>indic</code>: <code>data.table</code> indicating each <code>stats</code> (columns) for each <code>individual_stats</code> (rows).
</p>
</li>
<li> <p><code>stats_id</code>: <code>data.table</code> indicating each <code>individual_stats</code> for each individuals (all cohort).
</p>
</li>
<li> <p><code>min_conso</code>: <code>data.table</code> indicating each <code>stats</code> for the number of days where an individual consume at least <code>X</code> drugs.
</p>
</li>
<li> <p><code>calendar</code>: If <code>calendar=TRUE</code>, <code>data.table</code> indicating the number of drugs consumed for each day (only for individuals who has at least 1 day with 1 drug consumption).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>rx1 &lt;- data.frame(id = c(1, 1, 2),
                  code = c("A", "B", "A"),
                  date = c("2000-01-01", "2000-01-04", "2000-01-08"),
                  duration = c(5, 7, 5))
cohort1 &lt;- data.frame(id = as.numeric(1:3),
                      age = c(45, 12, 89),
                      sex = c("F", "F", "M"))
rx_proc1 &lt;- data_process(Rx_deliv = rx1, Rx_id = "id", Rx_drug_code = "code",
                         Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
                         Cohort = cohort1, Cohort_id = "id",
                         study_start = "2000-01-01", study_end = "2000-01-15",
                         cores = 1)
dt_ind_simult &lt;- ind_simult(rx_proc1, calendar = TRUE, cores = 1)
</code></pre>

<hr>
<h2 id='ind_stdcontinuous'>Assess polypharmacy based on the number of medications that is consumed both during the initial and the final period of the study period</h2><span id='topic+ind_stdcontinuous'></span>

<h3>Description</h3>

<p>Calculates the number of distinct medications that are consumed both during the initial and the final period of the overall study period by every individual of the study cohort and provides cohort descriptive statistics on this indicator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_stdcontinuous(
  processed_tab,
  pdays,
  stats = c("mean", "sd", "min", "p5", "p10", "p25", "median", "p75", "p90", "p95",
    "max")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_stdcontinuous_+3A_processed_tab">processed_tab</code></td>
<td>
<p>Table of individual drug treatments over the study period. Created by <code><a href="#topic+data_process">data_process</a></code> function.</p>
</td></tr>
<tr><td><code id="ind_stdcontinuous_+3A_pdays">pdays</code></td>
<td>
<p>Duration (in days) of the initial and final periods of time . The initial period = [min; min+<code>pdays</code>] and the final period = [max-<code>pdays</code>; max], where <em>min</em> and <em>max</em> are the <code>study_start</code> and <code>study_end</code> arguments. See <code><a href="#topic+data_process">data_process</a></code>.</p>
</td></tr>
<tr><td><code id="ind_stdcontinuous_+3A_stats">stats</code></td>
<td>
<p>Cohort descriptive statistics to calculate on the polypharmacy indicator. See <em>Details</em> for possible values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>stats:</strong> Possible values are
</p>

<ul>
<li> <p><code>'mean'</code>, <code>'min'</code>, <code>'median'</code>, <code>'max'</code>, <code>'sd'</code>;
</p>
</li>
<li> <p><code>'pX'</code> where <em>X</em> is an integer value in ]0, 100];
</p>
</li>
<li> <p><code>'q1'</code>=<code>'p25'</code>, <code>'q2'</code>=<code>'p50'</code>=<code>'median'</code>, <code>q3</code>=<code>'p75'</code>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>list</code>:
</p>

<ul>
<li> <p><code>indic</code>: <code>data.table</code> indicating each <code>stats</code> (columns).
</p>
</li>
<li> <p><code>stats_id</code>: <code>data.table</code> indicating the number of drugs use for each individual (all cohort).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>rx1 &lt;- data.frame(id = c(1, 1, 1, 2, 3),
                  code = c("A", "A", "B", "A", "A"),
                  date = c("2000-01-01", "2000-01-22", "2000-01-10", "2000-01-01", "2000-01-20"),
                  duration = c(10, 10, 22, 31, 12))
cohort1 &lt;- data.frame(id = as.numeric(1:4),
                      age = c(45, 12, 89, 31),
                      sex = c("F", "F", "M", "M"))
rx_proc1 &lt;- data_process(Rx_deliv = rx1, Rx_id = "id", Rx_drug_code = "code",
                         Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
                         Cohort = cohort1, Cohort_id = "id",
                         study_start = "2000-01-01", study_end = "2000-01-31",
                         cores = 1)
dt_ind_stdcontinuous &lt;- ind_stdcontinuous(processed_tab = rx_proc1, pdays = 10)
</code></pre>

<hr>
<h2 id='ind_stdcumul'>Assess polypharmacy based on the average number of distinct medications consumed over successive periods of time of equal length</h2><span id='topic+ind_stdcumul'></span>

<h3>Description</h3>

<p>Averages the number of distinct medications that are consumed by every individual during successive periods of time of equal length and provides cohort descriptive statistics on this indicator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_stdcumul(
  processed_tab,
  nPeriod = 1,
  stats = c("mean", "sd", "min", "p5", "p10", "p25", "median", "p75", "p90", "p95",
    "max")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_stdcumul_+3A_processed_tab">processed_tab</code></td>
<td>
<p>Table of individual drug treatments over the study period. Created by <code><a href="#topic+data_process">data_process</a></code> function.</p>
</td></tr>
<tr><td><code id="ind_stdcumul_+3A_nperiod">nPeriod</code></td>
<td>
<p>Number of subperiods of equal time length in which the study period will be subdivided: Integer value greater or equal to 1 and lesser or equal to the total number of days in the study period. If <code>nPeriod</code> is greater than 1, the study period is divided in <code>nPeriod</code> subperiods and the number of medications consumed in each subperiod is averaged over the number of subperiods.</p>
</td></tr>
<tr><td><code id="ind_stdcumul_+3A_stats">stats</code></td>
<td>
<p>Cohort descriptive statistics to calculate on the polypharmacy indicator. See <em>Details</em> for possible values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>stats:</strong> Possible values are
</p>

<ul>
<li> <p><code>'mean'</code>, <code>'min'</code>, <code>'median'</code>, <code>'max'</code>, <code>'sd'</code>;
</p>
</li>
<li> <p><code>'pX'</code> where <em>X</em> is an integer value in ]0, 100];
</p>
</li>
<li> <p><code>'q1'</code>=<code>'p25'</code>, <code>'q2'</code>=<code>'p50'</code>=<code>'median'</code>, <code>q3</code>=<code>'p75'</code>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>list</code>:
</p>

<ul>
<li> <p><code>indic</code>: <code>data.table</code> indicating each <code>stats</code> (columns).
</p>
</li>
<li> <p><code>stats_id</code>: <code>data.table</code>. For each individual (all cohort), indicate the number of drug use per period (<code>perX</code> where <code>X</code> is a number between 1 and <code>nPeriod</code>) and the mean of the periods (<code>nRx</code>).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>rx1 &lt;- data.frame(id = c(1, 1, 1, 2),
                  code = c("A", "B", "C", "A"),
                  date = c("2000-01-01", "2000-01-01", "2000-01-26", "2000-01-17"),
                  duration = c(30, 5, 5, 10))
cohort1 &lt;- data.frame(id = as.numeric(1:3),
                      age = c(45, 12, 89),
                      sex = c("F", "F", "M"))
rx_proc1 &lt;- data_process(Rx_deliv = rx1, Rx_id = "id", Rx_drug_code = "code",
                         Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
                         Cohort = cohort1, Cohort_id = "id",
                         study_start = "2000-01-01", study_end = "2000-01-30",
                         cores = 1)
# 1 period
dt_ind_stdcumul_per1 &lt;- ind_stdcumul(processed_tab = rx_proc1, nPeriod = 1)
# 3 periods
dt_ind_stdcumul_per3 &lt;- ind_stdcumul(processed_tab = rx_proc1, nPeriod = 3)
</code></pre>

<hr>
<h2 id='ind_ucontinuous'>Assess polypharmacy based on the uninterrupted consumption of distinct medications over the study period</h2><span id='topic+ind_ucontinuous'></span>

<h3>Description</h3>

<p>Calculates the number of distinct medications that are consumed everyday with no interruption over the study period by every individual and provides cohort descriptive statistics on this indicator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_ucontinuous(
  processed_tab,
  stats = c("mean", "sd", "min", "p5", "p10", "p25", "median", "p75", "p90", "p95",
    "max")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_ucontinuous_+3A_processed_tab">processed_tab</code></td>
<td>
<p>Table of individual drug treatments over the study period. Created by <code><a href="#topic+data_process">data_process</a></code> function.</p>
</td></tr>
<tr><td><code id="ind_ucontinuous_+3A_stats">stats</code></td>
<td>
<p>Cohort descriptive statistics to calculate on the polypharmacy indicator. See <em>Details</em> for possible values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>stats:</strong> Possible values are
</p>

<ul>
<li> <p><code>'mean'</code>, <code>'min'</code>, <code>'median'</code>, <code>'max'</code>, <code>'sd'</code>;
</p>
</li>
<li> <p><code>'pX'</code> where <em>X</em> is an integer value in ]0, 100];
</p>
</li>
<li> <p><code>'q1'</code>=<code>'p25'</code>, <code>'q2'</code>=<code>'p50'</code>=<code>'median'</code>, <code>q3</code>=<code>'p75'</code>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>list</code>:
</p>

<ul>
<li> <p><code>indic</code>: <code>data.table</code> indicating each <code>stats</code> (columns).
</p>
</li>
<li> <p><code>stats_id</code>: <code>data.table</code> indicating the number of drugs use for each individual (all cohort).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>rx1 &lt;- data.frame(id = c(1, 1, 1, 2),
                  code = c("A", "B", "C", "A"),
                  date = c("2000-01-01", "2000-01-01", "2000-01-26", "2000-01-17"),
                  duration = c(30, 29, 5, 10))
cohort1 &lt;- data.frame(id = as.numeric(1:3),
                      age = c(45, 12, 89),
                      sex = c("F", "F", "M"))
rx_proc1 &lt;- data_process(Rx_deliv = rx1, Rx_id = "id", Rx_drug_code = "code",
                         Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
                         Cohort = cohort1, Cohort_id = "id",
                         study_start = "2000-01-01", study_end = "2000-01-30",
                         cores = 1)
dt_ind_ucontinuous &lt;- ind_ucontinuous(processed_tab = rx_proc1)
</code></pre>

<hr>
<h2 id='ind_wcumul'>Assess polypharmacy based on the number of distinct medications consumed weighted to their respective duration of consumption</h2><span id='topic+ind_wcumul'></span>

<h3>Description</h3>

<p>Calculates the number of distinct medications weighted by the duration of consumption that are consumed by every individual and provides cohort descriptive statistics on this indicator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_wcumul(
  processed_tab,
  stats = c("mean", "sd", "min", "p5", "p10", "p25", "median", "p75", "p90", "p95",
    "max")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_wcumul_+3A_processed_tab">processed_tab</code></td>
<td>
<p>Table of individual drug treatments over the study period. Created by <code><a href="#topic+data_process">data_process</a></code> function.</p>
</td></tr>
<tr><td><code id="ind_wcumul_+3A_stats">stats</code></td>
<td>
<p>Cohort descriptive statistics to calculate on the polypharmacy indicator. See <em>Details</em> for possible values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>stats:</strong> Possible values are
</p>

<ul>
<li> <p><code>'mean'</code>, <code>'min'</code>, <code>'median'</code>, <code>'max'</code>, <code>'sd'</code>;
</p>
</li>
<li> <p><code>'pX'</code> where <em>X</em> is an integer value in ]0, 100];
</p>
</li>
<li> <p><code>'q1'</code>=<code>'p25'</code>, <code>'q2'</code>=<code>'p50'</code>=<code>'median'</code>, <code>q3</code>=<code>'p75'</code>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>list</code>:
</p>

<ul>
<li> <p><code>indic</code>: <code>data.table</code> indicating each <code>stats</code> (columns).
</p>
</li>
<li> <p><code>stats_id</code>: <code>data.table</code> indicating the number of drugs use for each individual (all cohort).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>rx1 &lt;- data.frame(id = c(1, 1, 1, 2),
                  code = c("A", "B", "C", "A"),
                  date = c("2000-01-01", "2000-01-01", "2000-01-26", "2000-01-17"),
                  duration = c(30, 5, 5, 10))
cohort1 &lt;- data.frame(id = as.numeric(1:3),
                      age = c(45, 12, 89),
                      sex = c("F", "F", "M"))
rx_proc1 &lt;- data_process(Rx_deliv = rx1, Rx_id = "id", Rx_drug_code = "code",
                         Rx_drug_deliv = "date", Rx_deliv_dur = "duration",
                         Cohort = cohort1, Cohort_id = "id",
                         study_start = "2000-01-01", study_end = "2000-01-30",
                         cores = 1)
dt_ind_wcumul &lt;- ind_wcumul(processed_tab = rx_proc1)
</code></pre>

<hr>
<h2 id='indicators'>Provide several polypharmacy indicators at once</h2><span id='topic+indicators'></span>

<h3>Description</h3>

<p>Wrapper function to run sequentially various polypharmacy functions on a single set of data. Each function corresponds to a different definition of polypharmacy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indicators(
  processed_tab,
  stats = c("mean", "sd", "min", "p5", "p10", "p25", "median", "p75", "p90", "p95",
    "max"),
  method = c("ind_simult", "ind_stdcumul", "ind_wcumul", "ind_stdcontinuous",
    "ind_ucontinuous"),
  stdconti_pdays = 90,
  simult_ind_stats = c("mean", "min", "median", "max"),
  simult_calendar = FALSE,
  stdcumul_nPeriod = c(1, 3),
  cores = parallel::detectCores()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="indicators_+3A_processed_tab">processed_tab</code></td>
<td>
<p>Name of the table of individual drug treatments to analyze. Created by the <code><a href="#topic+data_process">data_process</a></code> function.</p>
</td></tr>
<tr><td><code id="indicators_+3A_stats">stats</code></td>
<td>
<p>Polypharmacy cohort descriptive statistics to calculate on every polypharmacy indicator requested. See <em>Details</em> for possible values.</p>
</td></tr>
<tr><td><code id="indicators_+3A_method">method</code></td>
<td>
<p>Names of the functions corresponding to each of the polypharmacy indicators to be calculated.. See <em>Details</em> for possible values.</p>
</td></tr>
<tr><td><code id="indicators_+3A_stdconti_pdays">stdconti_pdays</code></td>
<td>
<p><code>pdays</code> argument of the <code><a href="#topic+ind_stdcontinuous">ind_stdcontinuous</a></code> function. Can contain multiple values. See <em>examples</em>.</p>
</td></tr>
<tr><td><code id="indicators_+3A_simult_ind_stats">simult_ind_stats</code></td>
<td>
<p><code>stats</code> argument of the <code><a href="#topic+ind_simult">ind_simult</a></code> function.</p>
</td></tr>
<tr><td><code id="indicators_+3A_simult_calendar">simult_calendar</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>. <code>calendar</code> argument of the <code><a href="#topic+ind_simult">ind_simult</a></code> function.</p>
</td></tr>
<tr><td><code id="indicators_+3A_stdcumul_nperiod">stdcumul_nPeriod</code></td>
<td>
<p><code>nPeriod</code> argument of the <code><a href="#topic+ind_stdcumul">ind_stdcumul</a></code> function. Can contain multiple values. See <em>examples</em>.</p>
</td></tr>
<tr><td><code id="indicators_+3A_cores">cores</code></td>
<td>
<p>The number of CPU cores to use when executing <code><a href="#topic+ind_simult">ind_simult</a></code>. See <code><a href="parallel.html#topic+detectCores">detectCores</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>stats &amp; simult_ind_stats:</strong> Possible values are
</p>

<ul>
<li> <p><code>'mean'</code>, <code>'min'</code>, <code>'median'</code>, <code>'max'</code>, <code>'sd'</code>;
</p>
</li>
<li> <p><code>'pX'</code> where <em>X</em> is an integer value in ]0, 100];
</p>
</li>
<li> <p><code>'q1'</code>=<code>'p25'</code>, <code>'q2'</code>=<code>'p50'</code>=<code>'median'</code>, <code>q3</code>=<code>'p75'</code>.
</p>
</li></ul>

<p><strong>method:</strong> Possible values are
</p>

<ul>
<li> <p><code>'ind_simult'</code> to assess polypharmacy based on the daily simultaneous consumption of medication.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;'ind_stdcumul&#8288;</code> to assess polypharmacy based on the cumulative number of distinct medications consumed over a given period of time (i.e. the standard definition).
</p>
</li>
<li> <p><code>'ind_wcumul'</code> to assess polypharmacy based on the cumulative number of distinct medication consumed over a given period of time, weighted by the duration of consumption of each medication.
</p>
</li>
<li> <p><code>'ind_stdcontinuous'</code> to assess polypharmacy based on the number of medications that are consumed both during the initial and the final period of the study period.
</p>
</li>
<li> <p><code>'ind_ucontinuous'</code> to assess polypharmacy based on the uninterrupted consumption of distinct medications over the study period.
</p>
</li></ul>



<h3>Value</h3>

<p><code>list</code> of the values returned by every function listed in the <code>method</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt_indic &lt;- indicators(
  processed_tab = sample_Rx_processed,
  stats = c('mean', 'sd', 'min', 'p5', 'p10', 'p25', 'median', 'p75', 'p90', 'p95', 'max'),
  method = c('ind_simult', 'ind_stdcumul', 'ind_wcumul', 'ind_stdcontinuous', 'ind_ucontinuous'),
  stdconti_pdays = c(30, 90),
  simult_ind_stats = c('mean', 'min', 'median', 'max'),
  simult_calendar = TRUE,
  stdcumul_nPeriod = c(1, 3),
  cores = 1
)

</code></pre>

<hr>
<h2 id='newArgCheck'>Argcheck</h2><span id='topic+newArgCheck'></span>

<h3>Description</h3>

<p>Create an environment where to put errors, messages or warnings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>newArgCheck()
</code></pre>


<h3>Value</h3>

<p>environment
</p>

<hr>
<h2 id='rmNA'>Utils</h2><span id='topic+rmNA'></span>

<h3>Description</h3>

<p>Delete <code>NA</code>s and <code>NaN</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmNA(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmNA_+3A_x">x</code></td>
<td>
<p>Vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> without <code>NA</code>s or <code>NaN</code>s.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1:10, NA, NaN)
rmNA(x)
</code></pre>

<hr>
<h2 id='sample_Rx_processed'>Table: Processed <em>unprocessed table</em></h2><span id='topic+sample_Rx_processed'></span>

<h3>Description</h3>

<p>This table is provided to users of this package for training purposes. It is created by using <code><a href="#topic+data_process">data_process</a></code> function on <code><a href="#topic+sample_Rx_unprocessed">sample_Rx_unprocessed</a></code> data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_Rx_processed
</code></pre>


<h3>Format</h3>

<p>A <code>data.table</code> with 6792 obs and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Individual unique identifier.</p>
</dd>
<dt>code</dt><dd><p>Medication unique identifier.</p>
</dd>
<dt>tx_start</dt><dd><p>The date of initiation of the reconstructed continued treatment (format as date).</p>
</dd>
<dt>tx_end</dt><dd><p>The end date of the reconstructed continued treatment (format as date).</p>
</dd>
</dl>


<hr>
<h2 id='sample_Rx_unprocessed'>Table: Prescription drugs deliveries</h2><span id='topic+sample_Rx_unprocessed'></span>

<h3>Description</h3>

<p>A sample table of prescription drugs deliveries provided to users of this package for training purposes. It contains the raw information that leads to <code><a href="#topic+sample_Rx_processed">sample_Rx_processed</a></code> when processes by the <code><a href="#topic+data_process">data_process</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_Rx_unprocessed
</code></pre>


<h3>Format</h3>

<p>A <code>data.table</code> with 17060 obs and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Individual unique identifier.</p>
</dd>
<dt>code</dt><dd><p>Medication unique identifier.</p>
</dd>
<dt>start</dt><dd><p>Date of the medication delivery.</p>
</dd>
<dt>duration</dt><dd><p>Treatment duration of the delivery.</p>
</dd>
</dl>


<hr>
<h2 id='stat_quantile_prob'>Statistic functions</h2><span id='topic+stat_quantile_prob'></span>

<h3>Description</h3>

<p>Determine the percentile from a <em>qX</em> value where <em>X</em> is a number from 1 to 3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_quantile_prob(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_quantile_prob_+3A_x">x</code></td>
<td>
<p>Character string, a quantile function, quarter values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Number 25, 50, 75
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stat_quantile_prob("q1")
stat_quantile_prob("q2")
stat_quantile_prob("q3")
</code></pre>

<hr>
<h2 id='sunique'>Utils</h2><span id='topic+sunique'></span>

<h3>Description</h3>

<p>Combination of <code>sort()</code> and <code>unique()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sunique(x, decreasing = FALSE, na.last = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sunique_+3A_x">x</code></td>
<td>
<p>Vector to sort and remove duplicates.</p>
</td></tr>
<tr><td><code id="sunique_+3A_decreasing">decreasing</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sunique_+3A_na.last">na.last</code></td>
<td>
<p><code>NA</code> removes <code>NA</code>s, <code>TRUE</code> show <code>NA</code>s at the end and <code>FALSE</code> show <code>NA</code>s at the beginning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> sorted and without duplicates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sunique(c(1, 1, 1, 2, 2, NA, NA))
sunique(c(1, 1, 1, 2, 2, NA, NA), na.last = TRUE)
sunique(c(1, 1, 1, 2, 2, NA, NA), na.last = NA)
sunique(c(1, 1, 1, 2, 2, NA, NA), decreasing = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

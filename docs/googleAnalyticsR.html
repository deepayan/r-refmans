<!DOCTYPE html><html><head><title>Help for package googleAnalyticsR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {googleAnalyticsR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.filter_clauses_ga4-class'><p><code>.filter_clauses_ga4</code> class.</p></a></li>
<li><a href='#accountPickerUI'><p>accountPicker UI Shiny Module - pick GA4 accounts/webProperties in Shiny</p></a></li>
<li><a href='#authDropdown'><p>authDropdown Shiny Module</p></a></li>
<li><a href='#authDropdownUI'><p>authDropdown UI Shiny Module</p></a></li>
<li><a href='#dim_fil_ga4-class'><p><code>dim_fil_ga4</code> class.</p></a></li>
<li><a href='#dim_filter'><p>Make a dimension filter object</p></a></li>
<li><a href='#dim_ga4-class'><p><code>dim_ga4</code> class.</p></a></li>
<li><a href='#dynamicSegment_ga4-class'><p><code>dynamicSegment_ga4</code> class.</p></a></li>
<li><a href='#filter_clause_ga4'><p>Make a dimension or metric filter clause object</p></a></li>
<li><a href='#ga_account_list'><p>Account summary for all accounts available to your user</p></a></li>
<li><a href='#ga_accounts'><p>List account metadata</p></a></li>
<li><a href='#ga_adwords'><p>Get AdWords Link meta data</p></a></li>
<li><a href='#ga_adwords_add_linkid'><p>Creates a Google Analytics webProperty-Google Ads link</p></a></li>
<li><a href='#ga_adwords_delete_linkid'><p>Deletes a Google Analytics webProperty-Google Ads link</p></a></li>
<li><a href='#ga_adwords_list'><p>List AdWords</p></a></li>
<li><a href='#ga_aggregate'><p>Aggregate a Google Analytics dataframe over inputted columns</p></a></li>
<li><a href='#ga_allowed_metric_dim'><p>Create named list of allowed GA metrics/dimensions</p></a></li>
<li><a href='#ga_auth'><p>Authenticate with Google Analytics OAuth2</p></a></li>
<li><a href='#ga_auth_setup'><p>Setup wizard for authentication options</p></a></li>
<li><a href='#ga_cache_call'><p>Setup caching of API calls</p></a></li>
<li><a href='#ga_clientid_activity'><p>User Activity Request</p></a></li>
<li><a href='#ga_clientid_activity_unnest'><p>Unnest user activity columns</p></a></li>
<li><a href='#ga_clientid_deletion'><p>Create or update a user deletion request</p></a></li>
<li><a href='#ga_clientid_hash'><p>Get hashed version of client id (also known as hashClientId, hashedClientId, or BigQuery's fullVisitorId)</p></a></li>
<li><a href='#ga_custom_datasource'><p>List Custom Data Sources</p></a></li>
<li><a href='#ga_custom_upload'><p>Custom Data Source Upload Status</p></a></li>
<li><a href='#ga_custom_upload_delete'><p>Deletes custom upload files for a given ids vector</p></a></li>
<li><a href='#ga_custom_upload_file'><p>Upload data to Google Analytics</p></a></li>
<li><a href='#ga_custom_upload_list'><p>List Custom Data Source Uploads</p></a></li>
<li><a href='#ga_custom_vars'><p>Get Custom Dimensions or Metrics</p></a></li>
<li><a href='#ga_custom_vars_create'><p>Create a custom dimension</p></a></li>
<li><a href='#ga_custom_vars_list'><p>List Custom Dimensions or Metrics</p></a></li>
<li><a href='#ga_custom_vars_patch'><p>Modify a custom dimension</p></a></li>
<li><a href='#ga_data'><p>Google Analytics Data for GA4 (App+Web)</p></a></li>
<li><a href='#ga_data_aggregations'><p>Extract metric aggregations from a ga_data result</p></a></li>
<li><a href='#ga_data_filter'><p>Filter DSL for GA4 filters</p></a></li>
<li><a href='#ga_data_order'><p>Order DSL for GA4 OrderBy</p></a></li>
<li><a href='#ga_experiment'><p>Experiments Meta data</p></a></li>
<li><a href='#ga_experiment_list'><p>List Experiments</p></a></li>
<li><a href='#ga_filter'><p>Get specific filter for account</p></a></li>
<li><a href='#ga_filter_add'><p>Create a new filter and add it to the view (optional).</p></a></li>
<li><a href='#ga_filter_apply_to_view'><p>Apply an existing filter to view.</p></a></li>
<li><a href='#ga_filter_delete'><p>Delete a filter from account or remove from view.</p></a></li>
<li><a href='#ga_filter_list'><p>List filters for account</p></a></li>
<li><a href='#ga_filter_update'><p>Updates an existing filter.</p></a></li>
<li><a href='#ga_filter_update_filter_link'><p>Update an existing profile filter link. Patch semantics supported</p></a></li>
<li><a href='#ga_filter_view'><p>Get specific filter for view (profile)</p></a></li>
<li><a href='#ga_filter_view_list'><p>List filters for view (profile)</p></a></li>
<li><a href='#ga_goal'><p>Get goal</p></a></li>
<li><a href='#ga_goal_add'><p>Create a new goal.</p></a></li>
<li><a href='#ga_goal_list'><p>List goals</p></a></li>
<li><a href='#ga_goal_update'><p>Updates an existing goal.</p></a></li>
<li><a href='#ga_meta'><p>Get current dimensions and metrics available in GA API.</p></a></li>
<li><a href='#ga_model'><p>Use a model</p></a></li>
<li><a href='#ga_model_edit'><p>Edit a created ga_model</p></a></li>
<li><a href='#ga_model_example'><p>Load an example model</p></a></li>
<li><a href='#ga_model_load'><p>Load a created model</p></a></li>
<li><a href='#ga_model_make'><p>Modelling function factory for Google Analytics data</p></a></li>
<li><a href='#ga_model_refresh'><p>Refresh a model</p></a></li>
<li><a href='#ga_model_save'><p>Save a created model</p></a></li>
<li><a href='#ga_model_shiny'><p>Create a Shiny app from a ga_model file</p></a></li>
<li><a href='#ga_model_shiny_load'><p>Load one model into a Shiny template</p></a></li>
<li><a href='#ga_model_shiny_template'><p>Get a Shiny template file</p></a></li>
<li><a href='#ga_model_write'><p>Write the ga_model functions to a file</p></a></li>
<li><a href='#ga_mp_cid'><p>Generate a random client_id</p></a></li>
<li><a href='#ga_mp_event'><p>Create a Measurement Protocol Event</p></a></li>
<li><a href='#ga_mp_event_item'><p>Create an Measurement Protocol Item Property for an Event</p></a></li>
<li><a href='#ga_mp_send'><p>Make a Measurement Protocol v2 request</p></a></li>
<li><a href='#ga_remarketing_build'><p>Create a remarketing audience for creation</p></a></li>
<li><a href='#ga_remarketing_create'><p>Create a new remarketing audience</p></a></li>
<li><a href='#ga_remarketing_estimate'><p>Estimate number of users added to the segment yesterday</p></a></li>
<li><a href='#ga_remarketing_get'><p>Get a remarketing audience</p></a></li>
<li><a href='#ga_remarketing_list'><p>List remarketing audiences</p></a></li>
<li><a href='#ga_segment_list'><p>Get segments user has access to</p></a></li>
<li><a href='#ga_trackme'><p>Opt in or out of googleAnalyticsR usage tracking</p></a></li>
<li><a href='#ga_unsampled'><p>Get Unsampled Report Meta Data</p></a></li>
<li><a href='#ga_unsampled_download'><p>Download Unsampled Report from Google Drive. You must be authenticated with the</p>
same account that you setup the unsampled report. This means service account
authentication is not supported.</a></li>
<li><a href='#ga_unsampled_list'><p>List Unsampled Reports</p></a></li>
<li><a href='#ga_users_add'><p>Create or update user access to Google Analytics</p></a></li>
<li><a href='#ga_users_delete'><p>Delete all user access for an email</p></a></li>
<li><a href='#ga_users_delete_linkid'><p>Delete users access from account, webproperty or view level</p></a></li>
<li><a href='#ga_users_list'><p>List Users</p></a></li>
<li><a href='#ga_users_update'><p>Update a user access in Google Analytics</p></a></li>
<li><a href='#ga_view'><p>Get single View (Profile)</p></a></li>
<li><a href='#ga_view_list'><p>List View (Profile)</p></a></li>
<li><a href='#ga_webproperty'><p>Get a web property</p></a></li>
<li><a href='#ga_webproperty_list'><p>List web properties</p></a></li>
<li><a href='#google_analytics'><p>Get Google Analytics v4 data</p></a></li>
<li><a href='#google_analytics_3'><p>Get Google Analytics v3 data (formerly google_analytics())</p></a></li>
<li><a href='#google_analytics_bq'><p>Get Google Analytics 360 BigQuery data</p></a></li>
<li><a href='#google_analytics_bq_asynch'><p>Asynch fetch</p></a></li>
<li><a href='#googleAnalyticsR'><p>Library for getting Google Analytics data into R</p></a></li>
<li><a href='#make_cohort_group'><p>Create a cohort group</p></a></li>
<li><a href='#met_fil_ga4-class'><p><code>met_fil_ga4</code> class.</p></a></li>
<li><a href='#met_filter'><p>Make a metric filter object</p></a></li>
<li><a href='#met_ga4-class'><p><code>met_ga4</code> class.</p></a></li>
<li><a href='#meta'><p>Google Analytics API metadata</p></a></li>
<li><a href='#meta4'><p>Google Analytics API metadata</p></a></li>
<li><a href='#metricDimensionSelectUI'><p>metricDimensionSelectUI - GA4 Shiny Module</p></a></li>
<li><a href='#multi_select'><p>multi_select Shiny Module</p></a></li>
<li><a href='#multi_selectUI'><p>multi_select UI Shiny Module</p></a></li>
<li><a href='#order_type'><p>Make an OrderType object</p></a></li>
<li><a href='#order_type_ga4-class'><p><code>order_type_ga4</code> class.</p></a></li>
<li><a href='#orFiltersForSegment_ga4-class'><p><code>orFiltersForSegment_ga4</code> class.</p></a></li>
<li><a href='#parse_ga_account_summary'><p>New parse GA account summary</p></a></li>
<li><a href='#pivot_ga4'><p>Make a pivot object</p></a></li>
<li><a href='#segment_define'><p>Make a segment definition</p></a></li>
<li><a href='#segment_element'><p>Make a segment element</p></a></li>
<li><a href='#segment_ga4'><p>Make a segment object for use</p></a></li>
<li><a href='#segment_ga4-class'><p><code>segment_ga4</code> class.</p></a></li>
<li><a href='#segment_vector_sequence'><p>Make sequenceSegment</p></a></li>
<li><a href='#segment_vector_simple'><p>Make a simple segment vector</p></a></li>
<li><a href='#segmentBuilder'><p>Create a GAv4 Segment Builder</p></a></li>
<li><a href='#segmentBuilderUI'><p>Create a GAv4 Segment Builder</p></a></li>
<li><a href='#segmentDef_ga4-class'><p><code>segmentDef_ga4</code> class.</p></a></li>
<li><a href='#segmentFilter_ga4-class'><p><code>segmentFilter_ga4</code> class.</p></a></li>
<li><a href='#segmentFilterClause_ga4-class'><p><code>segmentFilterClause_ga4</code> class.</p></a></li>
<li><a href='#segmentSequenceStep_ga4-class'><p><code>segmentSequenceStep_ga4</code> class.</p></a></li>
<li><a href='#sequenceSegment_ga4-class'><p><code>sequenceSegment_ga4</code> class.</p></a></li>
<li><a href='#simpleSegment_ga4-class'><p><code>simpleSegment_ga4</code> class.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Title:</td>
<td>Google Analytics API into R</td>
</tr>
<tr>
<td>Description:</td>
<td>Interact with the Google Analytics 
  APIs <a href="https://developers.google.com/analytics/">https://developers.google.com/analytics/</a>, including 
  the Core Reporting API (v3 and v4), Management API, User Activity API
  GA4's Data API and Admin API and Multi-Channel Funnel API.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://code.markedmondson.me/googleAnalyticsR/">https://code.markedmondson.me/googleAnalyticsR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/MarkEdmondson1234/googleAnalyticsR/issues">https://github.com/MarkEdmondson1234/googleAnalyticsR/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat (&ge; 0.2.0), cli (&ge; 2.0.2), dplyr (&ge; 0.8.0),
googleAuthR (&ge; 1.4.0), httr (&ge; 1.3.1), jsonlite (&ge; 1.5),
magrittr (&ge; 1.5), measurementProtocol, memoise, methods, purrr
(&ge; 0.2.2), rlang (&ge; 0.4.7), stats, tibble (&ge; 2.0.1), tidyr
(&ge; 1.0.0), usethis, utils, whisker</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bigQueryR (&ge; 0.3.1), covr, formatR, ganalytics,
googleCloudStorageR (&ge; 0.2.0), htmlwidgets, knitr, lifecycle
(&ge; 1.0.0), miniUI (&ge; 0.1.1), rmarkdown, shiny (&ge; 1.6.0),
testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-13 14:59:00 UTC; mark</td>
</tr>
<tr>
<td>Author:</td>
<td>Mark Edmondson <a href="https://orcid.org/0000-0002-8434-3881"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Artem Klevtsov [ctb],
  Johann deBoer [ctb],
  David Watkins [ctb],
  Olivia Brode-Roger [ctb],
  Jas Sohi [ctb],
  Zoran Selinger [ctb],
  Octavian Corlade [ctb],
  Maegan Whytock [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mark Edmondson &lt;m@sunholo.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-15 22:12:34 UTC</td>
</tr>
</table>
<hr>
<h2 id='.filter_clauses_ga4-class'><code>.filter_clauses_ga4</code> class.</h2><span id='topic+.filter_clauses_ga4-class'></span>

<h3>Description</h3>

<p>Filter clauses class union.
</p>

<hr>
<h2 id='accountPickerUI'>accountPicker UI Shiny Module - pick GA4 accounts/webProperties in Shiny</h2><span id='topic+accountPickerUI'></span><span id='topic+accountPicker'></span>

<h3>Description</h3>

<p>Makes a dropdown row for use for authentication with GA4 web properties.
</p>
<p>Shiny Module for use with <a href="#topic+accountPickerUI">accountPickerUI</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>accountPickerUI(id, width = NULL, inColumns = FALSE)

accountPicker(id, ga_table, id_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accountPickerUI_+3A_id">id</code></td>
<td>
<p>Shiny id</p>
</td></tr>
<tr><td><code id="accountPickerUI_+3A_width">width</code></td>
<td>
<p>The width of the input</p>
</td></tr>
<tr><td><code id="accountPickerUI_+3A_incolumns">inColumns</code></td>
<td>
<p>Whether to wrap selectInputs in width=4 columns</p>
</td></tr>
<tr><td><code id="accountPickerUI_+3A_ga_table">ga_table</code></td>
<td>
<p>A table GA4 accounts/web properties from <code>ga_account_summary("ga4")</code></p>
</td></tr>
<tr><td><code id="accountPickerUI_+3A_id_only">id_only</code></td>
<td>
<p>Whether to return just the id, not the row</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If id_only=FALSE, the row of ga_table for the selected GA4 web property e.g. use <code>ga_table$propertyId</code> to send to <a href="#topic+ga_data">ga_data</a> calls.  If id_only=TRUE, just the propertyId
</p>


<h3>See Also</h3>

<p>Other Shiny modules: 
<code><a href="#topic+authDropdownUI">authDropdownUI</a>()</code>,
<code><a href="#topic+authDropdown">authDropdown</a>()</code>,
<code><a href="#topic+metricDimensionSelectUI">metricDimensionSelectUI</a>()</code>,
<code><a href="#topic+multi_selectUI">multi_selectUI</a>()</code>,
<code><a href="#topic+multi_select">multi_select</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

ui &lt;- fluidPage(title = "Shiny App",
                 accountPickerUI("auth_menu", inColumns = TRUE))
server &lt;- function(input, output, session){
  token &lt;- gar_shiny_auth(session)
  
  accs &lt;- reactive({
    req(token)
    ga_account_list("ga4")
   })
   
  # module for authentication
  property_id &lt;- accountPicker("auth_menu", ga_table = accs, id_only = TRUE)
 }
 
 shinyApp(gar_shiny_ui(ui, login_ui = silent_auth), server)


## End(Not run)
</code></pre>

<hr>
<h2 id='authDropdown'>authDropdown Shiny Module</h2><span id='topic+authDropdown'></span>

<h3>Description</h3>

<p>Shiny Module for use with <a href="#topic+authDropdownUI">authDropdownUI</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>authDropdown(input, output, session, ga.table, viewIdOnly = TRUE, rmNA = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="authDropdown_+3A_input">input</code></td>
<td>
<p>shiny input</p>
</td></tr>
<tr><td><code id="authDropdown_+3A_output">output</code></td>
<td>
<p>shiny output</p>
</td></tr>
<tr><td><code id="authDropdown_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
<tr><td><code id="authDropdown_+3A_ga.table">ga.table</code></td>
<td>
<p>A table of GA tables</p>
</td></tr>
<tr><td><code id="authDropdown_+3A_viewidonly">viewIdOnly</code></td>
<td>
<p>Default only returns the viewId, set to FALSE to return the row of ga.table satisfying the selections</p>
</td></tr>
<tr><td><code id="authDropdown_+3A_rmna">rmNA</code></td>
<td>
<p>Will remove any rows that have NA listed for the columns.  Set to FALSE to return all rows.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Call via <code>shiny::callModule(authDropdown, "your_id")</code>
</p>


<h3>Value</h3>

<p>GA View Id selected
</p>


<h3>See Also</h3>

<p>Other Shiny modules: 
<code><a href="#topic+accountPickerUI">accountPickerUI</a>()</code>,
<code><a href="#topic+authDropdownUI">authDropdownUI</a>()</code>,
<code><a href="#topic+metricDimensionSelectUI">metricDimensionSelectUI</a>()</code>,
<code><a href="#topic+multi_selectUI">multi_selectUI</a>()</code>,
<code><a href="#topic+multi_select">multi_select</a>()</code>
</p>

<hr>
<h2 id='authDropdownUI'>authDropdown UI Shiny Module</h2><span id='topic+authDropdownUI'></span>

<h3>Description</h3>

<p>Makes a dropdown row for use for authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>authDropdownUI(id, width = NULL, inColumns = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="authDropdownUI_+3A_id">id</code></td>
<td>
<p>Shiny id.</p>
</td></tr>
<tr><td><code id="authDropdownUI_+3A_width">width</code></td>
<td>
<p>The width of the input</p>
</td></tr>
<tr><td><code id="authDropdownUI_+3A_incolumns">inColumns</code></td>
<td>
<p>whether to wrap selectInputs in width=4 columns.
</p>
<p>Shiny Module for use with <a href="#topic+authDropdown">authDropdown</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny UI
</p>


<h3>See Also</h3>

<p>Other Shiny modules: 
<code><a href="#topic+accountPickerUI">accountPickerUI</a>()</code>,
<code><a href="#topic+authDropdown">authDropdown</a>()</code>,
<code><a href="#topic+metricDimensionSelectUI">metricDimensionSelectUI</a>()</code>,
<code><a href="#topic+multi_selectUI">multi_selectUI</a>()</code>,
<code><a href="#topic+multi_select">multi_select</a>()</code>
</p>

<hr>
<h2 id='dim_fil_ga4-class'><code>dim_fil_ga4</code> class.</h2><span id='topic+dim_fil_ga4-class'></span>

<h3>Description</h3>

<p>Dimension filter.
</p>

<hr>
<h2 id='dim_filter'>Make a dimension filter object</h2><span id='topic+dim_filter'></span>

<h3>Description</h3>

<p>Make a dimension filter object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dim_filter(
  dimension,
  operator = c("REGEXP", "BEGINS_WITH", "ENDS_WITH", "PARTIAL", "EXACT", "NUMERIC_EQUAL",
    "NUMERIC_GREATER_THAN", "NUMERIC_LESS_THAN", "IN_LIST"),
  expressions,
  caseSensitive = FALSE,
  not = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim_filter_+3A_dimension">dimension</code></td>
<td>
<p>dimension name to filter on.</p>
</td></tr>
<tr><td><code id="dim_filter_+3A_operator">operator</code></td>
<td>
<p>How to match the dimension.</p>
</td></tr>
<tr><td><code id="dim_filter_+3A_expressions">expressions</code></td>
<td>
<p>What to match.  A character vector if operator is &quot;IN_LIST&quot;</p>
</td></tr>
<tr><td><code id="dim_filter_+3A_casesensitive">caseSensitive</code></td>
<td>
<p>Boolean.</p>
</td></tr>
<tr><td><code id="dim_filter_+3A_not">not</code></td>
<td>
<p>Logical NOT operator. Boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>dim_fil_ga4</code> for use in <code><a href="#topic+filter_clause_ga4">filter_clause_ga4()</a></code>
</p>


<h3>See Also</h3>

<p>Other filter functions: 
<code><a href="#topic+filter_clause_ga4">filter_clause_ga4</a>()</code>,
<code><a href="#topic+met_filter">met_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate,
## or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()

## get your accounts
account_list &lt;- google_analytics_account_list()

## pick a profile with data to query

ga_id &lt;- account_list[23,'viewId']

## create filters on metrics
mf &lt;- met_filter("bounces", "GREATER_THAN", 0)
mf2 &lt;- met_filter("sessions", "GREATER", 2)

## create filters on dimensions
df &lt;- dim_filter("source","BEGINS_WITH","1",not = TRUE)
df2 &lt;- dim_filter("source","BEGINS_WITH","a",not = TRUE)

## construct filter objects
fc2 &lt;- filter_clause_ga4(list(df, df2), operator = "AND")
fc &lt;- filter_clause_ga4(list(mf, mf2), operator = "AND")

## make v4 request
ga_data1 &lt;- google_analytics_4(ga_id,
                               date_range = c("2015-07-30","2015-10-01"),
                               dimensions=c('source','medium'),
                               metrics = c('sessions','bounces'),
                               met_filters = fc,
                               dim_filters = fc2,
                               filtersExpression = "ga:source!=(direct)")


## End(Not run)

</code></pre>

<hr>
<h2 id='dim_ga4-class'><code>dim_ga4</code> class.</h2><span id='topic+dim_ga4-class'></span>

<h3>Description</h3>

<p>Dimension.
</p>

<hr>
<h2 id='dynamicSegment_ga4-class'><code>dynamicSegment_ga4</code> class.</h2><span id='topic+dynamicSegment_ga4-class'></span>

<h3>Description</h3>

<p>Dynamic Segment.
</p>

<hr>
<h2 id='filter_clause_ga4'>Make a dimension or metric filter clause object</h2><span id='topic+filter_clause_ga4'></span>

<h3>Description</h3>

<p>Make a dimension or metric filter clause object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_clause_ga4(filters, operator = c("OR", "AND"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_clause_ga4_+3A_filters">filters</code></td>
<td>
<p>a list of <a href="#topic+dim_filter">dim_filter</a> or <a href="#topic+met_filter">met_filter</a>. Only one type allowed.</p>
</td></tr>
<tr><td><code id="filter_clause_ga4_+3A_operator">operator</code></td>
<td>
<p>combination of filter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you have dimension and metric filters,
make the clauses in two separate calls
</p>


<h3>Value</h3>

<p>An object of class <code>dim_fil_ga4</code> or <code>met_fil_ga4</code>
</p>


<h3>See Also</h3>

<p>Other filter functions: 
<code><a href="#topic+dim_filter">dim_filter</a>()</code>,
<code><a href="#topic+met_filter">met_filter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate,
## or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()

## get your accounts
account_list &lt;- google_analytics_account_list()

## pick a profile with data to query

ga_id &lt;- account_list[23,'viewId']

## create filters on metrics
mf &lt;- met_filter("bounces", "GREATER_THAN", 0)
mf2 &lt;- met_filter("sessions", "GREATER", 2)

## create filters on dimensions
df &lt;- dim_filter("source","BEGINS_WITH","1",not = TRUE)
df2 &lt;- dim_filter("source","BEGINS_WITH","a",not = TRUE)

## construct filter objects
fc2 &lt;- filter_clause_ga4(list(df, df2), operator = "AND")
fc &lt;- filter_clause_ga4(list(mf, mf2), operator = "AND")

## make v4 request
ga_data1 &lt;- google_analytics(ga_id,
                             date_range = c("2015-07-30","2015-10-01"),
                             dimensions=c('source','medium'),
                             metrics = c('sessions','bounces'),
                             met_filters = fc,
                             dim_filters = fc2,
                             filtersExpression = "ga:source!=(direct)")


## End(Not run)


</code></pre>

<hr>
<h2 id='ga_account_list'>Account summary for all accounts available to your user</h2><span id='topic+ga_account_list'></span>

<h3>Description</h3>

<p>This is the recommended way to get all your account details for your user, including the web property and View IDs.  The <code style="white-space: pre;">&#8288;$viewId&#8288;</code> column contains the ID you need for the data fetching functions such as <a href="#topic+google_analytics">google_analytics</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_account_list(type = c("universal", "ga4", "data"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_account_list_+3A_type">type</code></td>
<td>
<p>Whether to get account summary from universal analytics of GA4 (App_Web) properties</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Get a summary of all your accounts, web properties and views your authenticated user can see.
</p>


<h3>Value</h3>

<p>a dataframe of all account, webproperty and view data
</p>


<h3>See Also</h3>

<p>https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/accountSummaries/list
</p>
<p>Other account structure functions: 
<code><a href="#topic+ga_accounts">ga_accounts</a>()</code>,
<code><a href="#topic+ga_view_list">ga_view_list</a>()</code>,
<code><a href="#topic+ga_view">ga_view</a>()</code>,
<code><a href="#topic+ga_webproperty_list">ga_webproperty_list</a>()</code>,
<code><a href="#topic+ga_webproperty">ga_webproperty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()
al &lt;- ga_account_list()
al$viewId

## get account summary of GA4 properties
ga_account_list("ga4")

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_accounts'>List account metadata</h2><span id='topic+ga_accounts'></span>

<h3>Description</h3>

<p>This gets a list of account meta data, that can be used in other management API functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_accounts()
</code></pre>


<h3>Details</h3>

<p>This gets the meta data associated with the accounts you have access to with your user.
If you want all information such as web properties and viewIds, use <a href="#topic+ga_account_list">ga_account_list</a> instead.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with accountid, name, an R datetime object (<code>POSIXct</code>) when the account was created and last updated, and the effective permissions your user has for those accounts.
</p>


<h3>See Also</h3>

<p>Other account structure functions: 
<code><a href="#topic+ga_account_list">ga_account_list</a>()</code>,
<code><a href="#topic+ga_view_list">ga_view_list</a>()</code>,
<code><a href="#topic+ga_view">ga_view</a>()</code>,
<code><a href="#topic+ga_webproperty_list">ga_webproperty_list</a>()</code>,
<code><a href="#topic+ga_webproperty">ga_webproperty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()
ga_accounts()


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_adwords'>Get AdWords Link meta data</h2><span id='topic+ga_adwords'></span>

<h3>Description</h3>

<p>Get AdWords Link meta data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_adwords(accountId, webPropertyId, webPropertyAdWordsLinkId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_adwords_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_adwords_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_adwords_+3A_webpropertyadwordslinkid">webPropertyAdWordsLinkId</code></td>
<td>
<p>AdWords Link Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>AdWords Meta data
</p>


<h3>See Also</h3>

<p>Other Google Ad management functions: 
<code><a href="#topic+ga_adwords_add_linkid">ga_adwords_add_linkid</a>()</code>,
<code><a href="#topic+ga_adwords_delete_linkid">ga_adwords_delete_linkid</a>()</code>,
<code><a href="#topic+ga_adwords_list">ga_adwords_list</a>()</code>
</p>

<hr>
<h2 id='ga_adwords_add_linkid'>Creates a Google Analytics webProperty-Google Ads link</h2><span id='topic+ga_adwords_add_linkid'></span>

<h3>Description</h3>

<p>Creates a link between and Adwords (Google ads) account and a Google Analytics property so that Adwords data can be accessed via Google Analytics and vice versa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_adwords_add_linkid(adwordsAccountId, linkName, accountId, webPropertyId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_adwords_add_linkid_+3A_adwordsaccountid">adwordsAccountId</code></td>
<td>
<p>the customer id of the Adwords account visible within the Adwords account UI on the top right corner -or accessible via the Adwords API</p>
</td></tr>
<tr><td><code id="ga_adwords_add_linkid_+3A_linkname">linkName</code></td>
<td>
<p>a user defined way to call the link between the Adwords and Google Analytics accounts</p>
</td></tr>
<tr><td><code id="ga_adwords_add_linkid_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_adwords_add_linkid_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>confirmation message if successful
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/webPropertyAdWordsLinks/insert">Google documentation</a>
</p>
<p>Other Google Ad management functions: 
<code><a href="#topic+ga_adwords_delete_linkid">ga_adwords_delete_linkid</a>()</code>,
<code><a href="#topic+ga_adwords_list">ga_adwords_list</a>()</code>,
<code><a href="#topic+ga_adwords">ga_adwords</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()

ga_adwords_add_linkid("280-234-7592", "Google Ads Link", "65973592", "UA-65973592-1")

## End(Not run)

</code></pre>

<hr>
<h2 id='ga_adwords_delete_linkid'>Deletes a Google Analytics webProperty-Google Ads link</h2><span id='topic+ga_adwords_delete_linkid'></span>

<h3>Description</h3>

<p>Removes a link between and Adwords (Google ads) account and a Google Analytics property
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_adwords_delete_linkid(accountId, webPropertyId, webPropertyAdWordsLinkId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_adwords_delete_linkid_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_adwords_delete_linkid_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_adwords_delete_linkid_+3A_webpropertyadwordslinkid">webPropertyAdWordsLinkId</code></td>
<td>
<p>webPropertyAdWordsLinkId</p>
</td></tr>
</table>


<h3>Value</h3>

<p>HTTP Status Code 204 with empty response body, if successful
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/webPropertyAdWordsLinks/delete">Google documentation</a>
</p>
<p>Other Google Ad management functions: 
<code><a href="#topic+ga_adwords_add_linkid">ga_adwords_add_linkid</a>()</code>,
<code><a href="#topic+ga_adwords_list">ga_adwords_list</a>()</code>,
<code><a href="#topic+ga_adwords">ga_adwords</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()

# get the ID of the Adwords- Google Analytics link that you want to delete 
# ID corresponding to the webPropertyAdWordsLinkId field
ga_adwords_list(65973592, "UA-65973592-1") 
 
ga_adwords_delete_linkid(65973592, "UA-65973592-1", "ezW2dyaiQcGheWRAo69nCw")


# check its gone
ga_adwords_list(65973592, "UA-65973592-1")

## End(Not run)

</code></pre>

<hr>
<h2 id='ga_adwords_list'>List AdWords</h2><span id='topic+ga_adwords_list'></span>

<h3>Description</h3>

<p>List AdWords
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_adwords_list(accountId, webPropertyId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_adwords_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_adwords_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>AdWords Links
</p>


<h3>See Also</h3>

<p>Other Google Ad management functions: 
<code><a href="#topic+ga_adwords_add_linkid">ga_adwords_add_linkid</a>()</code>,
<code><a href="#topic+ga_adwords_delete_linkid">ga_adwords_delete_linkid</a>()</code>,
<code><a href="#topic+ga_adwords">ga_adwords</a>()</code>
</p>

<hr>
<h2 id='ga_aggregate'>Aggregate a Google Analytics dataframe over inputted columns</h2><span id='topic+ga_aggregate'></span>

<h3>Description</h3>

<p>A helper function to aggregate over dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_aggregate(
  ga_data,
  agg_names = NULL,
  mean_regex = "^avg|^percent|Rate$|^CPC$|^CTR$|^CPM$|^RPC$|^ROI$|^ROAS$|Per"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_aggregate_+3A_ga_data">ga_data</code></td>
<td>
<p>A dataframe of data to aggregate</p>
</td></tr>
<tr><td><code id="ga_aggregate_+3A_agg_names">agg_names</code></td>
<td>
<p>The columns to aggregate over</p>
</td></tr>
<tr><td><code id="ga_aggregate_+3A_mean_regex">mean_regex</code></td>
<td>
<p>The regex for column names to do mean() rather than sum()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Will auto select metrics if they are numeric class columns.
Will auto perform mean aggregation it metric names match <code>mean_regex</code> argument
If agg_names is NULL will aggregate over all
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# use `aggregateGAData` so you can on the fly create summary data
ga_data &lt;- google_analytics(81416156, 
                            date_range = c("10daysAgo", "yesterday"),
                            metrics = "sessions", dimensions = c("hour","date"))
                            
# if we want totals per hour over the dates:
ga_aggregate(ga_data[,c("hour","sessions")], agg_names = "hour")

# it knows not to sum metrics that are rates:
ga_aggregate(ga_data[,c("hour","bounceRate")], agg_names = "hour")



## End(Not run)
</code></pre>

<hr>
<h2 id='ga_allowed_metric_dim'>Create named list of allowed GA metrics/dimensions</h2><span id='topic+ga_allowed_metric_dim'></span>

<h3>Description</h3>

<p>Create named list of allowed GA metrics/dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_allowed_metric_dim(
  type = c("METRIC", "DIMENSION"),
  subType = c("all", "segment", "cohort"),
  callAPI = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_allowed_metric_dim_+3A_type">type</code></td>
<td>
<p>Type of parameter to create</p>
</td></tr>
<tr><td><code id="ga_allowed_metric_dim_+3A_subtype">subType</code></td>
<td>
<p>to restrict to only those in this type</p>
</td></tr>
<tr><td><code id="ga_allowed_metric_dim_+3A_callapi">callAPI</code></td>
<td>
<p>This will update the meta table (Requires online authorization)
</p>
<p>This is useful to expand goalXCompletions to all the possibilities,
as well as restricting to those that variables that work with your API call.
</p>
<p>Use internal meta table, but you have option to update to the latest version.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of parameters for use in API calls
</p>

<hr>
<h2 id='ga_auth'>Authenticate with Google Analytics OAuth2</h2><span id='topic+ga_auth'></span>

<h3>Description</h3>

<p>A wrapper for <a href="googleAuthR.html#topic+gar_auth">gar_auth</a> and <a href="googleAuthR.html#topic+gar_auth_service">gar_auth_service</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_auth(token = NULL, email = NULL, json_file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_auth_+3A_token">token</code></td>
<td>
<p>An existing token or file location of a token to authenticate with</p>
</td></tr>
<tr><td><code id="ga_auth_+3A_email">email</code></td>
<td>
<p>An existing cached email to authenticate with or <code>TRUE</code> to authenticate with only email available.  If not set then you will get an interactive prompt asking you to choose which email to authenticate with.</p>
</td></tr>
<tr><td><code id="ga_auth_+3A_json_file">json_file</code></td>
<td>
<p>Authentication service key you have downloaded from your Google Project - an alternative to OAuth2 email authentication</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Run this function first time to authenticate with Google in your browser.
</p>
<p>After initial authentication, your authentication details will be kept globally for use later, tied to your email, and the next time you authenticate you will be given a prompt to choose which email to authentcate from.  Set <code>email="your@email.com"</code> to skip the interactive prompt.
</p>


<h3>Value</h3>

<p>Invisibly, the token that has been saved to the session
</p>


<h3>Multiple accounts</h3>

<p>You can authenticate with a new email for each account. Supply a different email to use those details for your session.
</p>


<h3>Service accounts</h3>

<p>If you use the service account JSON, you will need to add the service account email
to your Google Analytics users to see data e.g. <code>xxxx@yyyyyy.iam.gserviceaccount.com</code>
</p>


<h3>Auto-authentication</h3>

<p>You can choose to auto-authenticate by creating a Google OAuth service account JSON file.
</p>
<p>Specify an environment variable in R via a <code>.Renviron</code> file or using <a href="base.html#topic+Sys.setenv">Sys.setenv</a> which points to the file location of your chosen authentication file.  See <a href="base.html#topic+Startup">Startup</a>
</p>
<p>Once you have set the environment variable <code>GA_AUTH_FILE</code> to a valid file location,
the function will look there for authentication details upon loading the library meaning
you will not need to call <code>ga_auth()</code> yourself as you would normally.
</p>
<p>An example <code>.Renviron</code> file is below:
</p>
<p><code>GA_AUTH_FILE = "/Users/bob/auth/googleAnalyticsR.json"</code>
</p>
<p><code>GA_AUTH_FILE</code> can be a service account JSON ending with file extension <code>.json</code>.  Make sure to give the service account email access to your Google Analytics account as mentioned above.
</p>


<h3>Your own Google Project</h3>

<p>Be default the Google Project used is shared by all users, so you may find it runs out of API calls.
To mitigate that, create your own Google Project and turn on the Analytics APIs.
</p>
<p>The best way to do this is to use <a href="googleAuthR.html#topic+gar_set_client">gar_set_client</a> by downloading your JSON client credentials and setting them to be found on package startup via the <code>GAR_CLIENT_JSON</code> environment argument.  See <code>?googleAuthR::gar_set_client</code> function help pages for details.
</p>
<p>Or you can then copy your Google Cloud Project's client ID and client secret, to place in options or environment arguments (whichever is easiest)
</p>
<p>The environment args are below.  Similar to auto-authentication, you can place your entries in an <code>.Renviron</code> file
</p>
<p><code style="white-space: pre;">&#8288;GA_CLIENT_ID="XXXX" GA_CLIENT_SECRET="XXX" GA_WEB_CLIENT_ID="XXX" GA_WEB_CLIENT_SECRET="XXX"&#8288;</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# to use default package credentials (for testing)
library(googleAnalyticsR)
ga_auth()

# to use your own Google Cloud Project credentials
# go to GCP console and download client credentials JSON 
# ideally set this in .Renviron file, not here but just for demonstration
Sys.setenv("GAR_CLIENT_JSON" = "location/of/file.json")
library(googleAnalyticsR)
# should now be able to log in via your own GCP project
ga_auth()

# reauthentication
# Once you have authenticated, set email to skip the interactive message
ga_auth(email = "my@email.com")

# or leave unset to bring up menu on which email to auth with
ga_auth()
# The googleAnalyticsR package is requesting access to your Google account. 
# Select a pre-authorised account or enter '0' to obtain a new token.
# Press Esc/Ctrl + C to abort.
#1: my@email.com
#2: work@mybusiness.com
# you can set authentication for many emails, then switch between them e.g.
ga_auth(email = "my@email.com")
ga_account_list() # lists one set of accounts
ga_auth(email = "work@mybusiness.com") 
ga_account_list() # lists second set of accounts

# or authenticate via the service key, that has been added to the GA as a user
ga_auth(json_file = "service-key.json")


## End(Not run)

</code></pre>

<hr>
<h2 id='ga_auth_setup'>Setup wizard for authentication options</h2><span id='topic+ga_auth_setup'></span>

<h3>Description</h3>

<p>Setup wizard for authentication options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_auth_setup()
</code></pre>

<hr>
<h2 id='ga_cache_call'>Setup caching of API calls</h2><span id='topic+ga_cache_call'></span>

<h3>Description</h3>

<p>Lets you cache API calls to disk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_cache_call(cache_location)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_cache_call_+3A_cache_location">cache_location</code></td>
<td>
<p>If <code>RAM</code> will save to memory, or specify a file folder location</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default this is turned on upon package load to <code>RAM</code>.
Should you want to cache calls to a folder then run this function to specify where.
</p>

<hr>
<h2 id='ga_clientid_activity'>User Activity Request</h2><span id='topic+ga_clientid_activity'></span>

<h3>Description</h3>

<p>Get activity on an individual user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_clientid_activity(
  ids,
  viewId,
  id_type = c("CLIENT_ID", "USER_ID"),
  activity_type = NULL,
  date_range = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_clientid_activity_+3A_ids">ids</code></td>
<td>
<p>The userId or clientId.  You can send in a vector of them</p>
</td></tr>
<tr><td><code id="ga_clientid_activity_+3A_viewid">viewId</code></td>
<td>
<p>The viewId</p>
</td></tr>
<tr><td><code id="ga_clientid_activity_+3A_id_type">id_type</code></td>
<td>
<p>Whether its userId or clientId</p>
</td></tr>
<tr><td><code id="ga_clientid_activity_+3A_activity_type">activity_type</code></td>
<td>
<p>If specified, filters down response to the activity type.  Choice between <code style="white-space: pre;">&#8288;"PAGEVIEW","SCREENVIEW","GOAL","ECOMMERCE","EVENT"&#8288;</code></p>
</td></tr>
<tr><td><code id="ga_clientid_activity_+3A_date_range">date_range</code></td>
<td>
<p>A vector of start and end dates.  If not used will default to a week.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The User Activity API lets you query an individual user's movement through your website, by sending in the individual <code>clientId</code> or <code>userId</code>.
</p>
<p>Bear in mind each call will count against your API quota, so fetching a large amount of client ids will be limited by that.
</p>
<p>Use <a href="#topic+ga_clientid_activity_unnest">ga_clientid_activity_unnest</a> to unnest deeply nested data in the hits data.
</p>
<p>The timestamps are available to millisecond level but you will need to set your R options to see them e.g. <code>options(digits.secs=3)</code>
</p>


<h3>Value</h3>

<p>A list of data.frames: <code style="white-space: pre;">&#8288;$sessions&#8288;</code> contains session level data. <code style="white-space: pre;">&#8288;$hits&#8288;</code> contains individual activity data
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/userActivity/search">https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/userActivity/search</a>
</p>
<p>Other clientid functions: 
<code><a href="#topic+ga_clientid_activity_unnest">ga_clientid_activity_unnest</a>()</code>,
<code><a href="#topic+ga_clientid_deletion">ga_clientid_deletion</a>()</code>,
<code><a href="#topic+ga_clientid_hash">ga_clientid_hash</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# access data for individual users
uar &lt;- ga_clientid_activity(c("1106980347.1461227730", "476443645.1541099566"),
                         viewId = 81416156, 
                         date_range = c("2019-01-01","2019-02-01"))
                         
# access clientIds for users who have transacted
viewId &lt;- 106249469
date_range &lt;- c("2019-01-01","2019-02-01")
cids &lt;- google_analytics(viewId, 
                         date_range = date_range, 
                         metrics = "sessions", 
                         dimensions = "clientId", 
                         met_filters = filter_clause_ga4(
                           list(met_filter("transactions", 
                                           "GREATER_THAN", 
                                           0)
                                )))
transactors &lt;- ga_clientid_activity(cids$clientId,
                                    viewId = viewId, 
                                    date_range = date_range)

# access the data.frames returned:

# the session level data for the users passed in
uar$sessions

# the hit level activity for the users passed in
uar$hits

# filter the response to only include certain activity types, such as goals:

only_goals &lt;- ga_clientid_activity(c("1106980347.1461227730", 
                                     "476443645.1541099566"),
                     viewId = 81416156, 
                     date_range = c("2019-01-01","2019-02-01"),
                     activity_types = "GOAL") 




## End(Not run)
</code></pre>

<hr>
<h2 id='ga_clientid_activity_unnest'>Unnest user activity columns</h2><span id='topic+ga_clientid_activity_unnest'></span>

<h3>Description</h3>

<p>This helper function works with the output of user activity and parses out inner nested structure you may require.
</p>
<p>Thanks to @jimmyg3g on GitHub for help with the ecommerce parsing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_clientid_activity_unnest(
  hits,
  column = c("customDimension", "ecommerce", "goals")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_clientid_activity_unnest_+3A_hits">hits</code></td>
<td>
<p>The hits data.frame with the columns to expand</p>
</td></tr>
<tr><td><code id="ga_clientid_activity_unnest_+3A_column">column</code></td>
<td>
<p>Which column to expand - one of <code style="white-space: pre;">&#8288;"customDimension","ecommerce","goals"&#8288;</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A function to help expand data out of nested columns returned by <a href="#topic+ga_clientid_activity">ga_clientid_activity</a>
</p>


<h3>Value</h3>

<p>An unnested data.frame tibble for all hits that matches the column
</p>


<h3>See Also</h3>

<p>Other clientid functions: 
<code><a href="#topic+ga_clientid_activity">ga_clientid_activity</a>()</code>,
<code><a href="#topic+ga_clientid_deletion">ga_clientid_deletion</a>()</code>,
<code><a href="#topic+ga_clientid_hash">ga_clientid_hash</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
# access clientIds for users who have transacted
viewId &lt;- 106249469
date_range &lt;- c("2019-01-01","2019-02-01")
cids &lt;- google_analytics(viewId, 
                         date_range = date_range, 
                         metrics = "sessions", 
                         dimensions = "clientId", 
                         met_filters = filter_clause_ga4(
                           list(met_filter("transactions", 
                                           "GREATER_THAN", 
                                           0)
                                )))
                                
transactors &lt;- ga_clientid_activity(cids$clientId,
                                    viewId = viewId, 
                                    date_range = date_range)

# unnest ecommerce activity hits from users
ga_clientid_activity_unnest(transactors$hits, "ecommerce")   

# unnest goal activity hits from users
ga_clientid_activity_unnest(transactors$hits, "goals") 

# unnest custom dimension activity hits from users
ga_clientid_activity_unnest(transactors$hits, "customDimension") 


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_clientid_deletion'>Create or update a user deletion request</h2><span id='topic+ga_clientid_deletion'></span>

<h3>Description</h3>

<p>The Google Analytics User Deletion API allows customers to process deletions of data associated with a given user identifier.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_clientid_deletion(
  userId,
  propertyId,
  idType = c("CLIENT_ID", "USER_ID", "APP_INSTANCE_ID"),
  propertyType = c("ga", "firebase")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_clientid_deletion_+3A_userid">userId</code></td>
<td>
<p>A character vector of user ID's</p>
</td></tr>
<tr><td><code id="ga_clientid_deletion_+3A_propertyid">propertyId</code></td>
<td>
<p>The Google Analytics Web property or Firebase ProjectId you are deleting the user from.</p>
</td></tr>
<tr><td><code id="ga_clientid_deletion_+3A_idtype">idType</code></td>
<td>
<p>Type of user. One of <code style="white-space: pre;">&#8288;APP_INSTANCE_ID, CLIENT_ID or USER_ID&#8288;</code>.</p>
</td></tr>
<tr><td><code id="ga_clientid_deletion_+3A_propertytype">propertyType</code></td>
<td>
<p>Firebase or Google Analytics</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The user explorer report in Google Analytics can give you the client.id you need to test.
</p>
<p>A data deletion request can be applied to either a Google Analytics web property (specified by <code>propertyType="ga"</code>) or Firebase application (<code>propertyType="firebase"</code>). A user whose data will be deleted can be specified by setting one of the identifiers the <code>userId</code> field. The type of the identifier must be specified inside <code>idType</code> field.
</p>
<p>There is a quota of 500 queries per day per cloud project.
</p>
<p>The API returns a User Deletion Request Resource with <code>deletionRequestTime</code> field set. This field is the point in time up to which all user data will be deleted. This means that all user data for the specified user identifier and Google Analytics property or Firebase project will be deleted up to this date and time - if the user with the same identifier returns after this date/time, they will reappear in reporting.
</p>


<h3>Value</h3>

<p>a data.frame with a row for each userID you sent in, plus a column with its <code>deletionRequestTime</code>
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/userdeletion/v3/">https://developers.google.com/analytics/devguides/config/userdeletion/v3/</a>
</p>
<p>Other clientid functions: 
<code><a href="#topic+ga_clientid_activity_unnest">ga_clientid_activity_unnest</a>()</code>,
<code><a href="#topic+ga_clientid_activity">ga_clientid_activity</a>()</code>,
<code><a href="#topic+ga_clientid_hash">ga_clientid_hash</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# make sure you are authenticated with user deletion scopes
options(googleAuthR.scopes.selected = "https://www.googleapis.com/auth/analytics.user.deletion")
ga_auth()

# a vector of ids
ids &lt;- c("1489547420.1526330722", "1138076389.1526568883")

# do the deletions
ga_clientid_deletion(ids, "UA-1234-2")
#                 userId   id_type  property      deletionRequestTime
#1 1489547420.1526330722 CLIENT_ID UA-1234-2 2018-05-20T19:43:33.540Z
#2 1138076389.1526568883 CLIENT_ID UA-1234-2 2018-05-20T19:43:36.218Z


## End(Not run)

</code></pre>

<hr>
<h2 id='ga_clientid_hash'>Get hashed version of client id (also known as hashClientId, hashedClientId, or BigQuery's fullVisitorId)</h2><span id='topic+ga_clientid_hash'></span>

<h3>Description</h3>

<p>Get hashed version of client id (also known as hashClientId, hashedClientId, or BigQuery's fullVisitorId)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_clientid_hash(webPropertyId, clientId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_clientid_hash_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_clientid_hash_+3A_clientid">clientId</code></td>
<td>
<p>Client Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>hashedClientId object list
</p>


<h3>See Also</h3>

<p>Other clientid functions: 
<code><a href="#topic+ga_clientid_activity_unnest">ga_clientid_activity_unnest</a>()</code>,
<code><a href="#topic+ga_clientid_activity">ga_clientid_activity</a>()</code>,
<code><a href="#topic+ga_clientid_deletion">ga_clientid_deletion</a>()</code>
</p>

<hr>
<h2 id='ga_custom_datasource'>List Custom Data Sources</h2><span id='topic+ga_custom_datasource'></span>

<h3>Description</h3>

<p>Get a list of custom data sources you have configured in Google Analytics web UI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_datasource(accountId, webPropertyId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_datasource_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_datasource_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You primarily need this to get the <code>customDataSourceId</code> for the uploads via <a href="#topic+ga_custom_upload_file">ga_custom_upload_file</a>
</p>


<h3>Value</h3>

<p>Custom Data Source
</p>


<h3>See Also</h3>

<p>Other custom datasource functions: 
<code><a href="#topic+ga_custom_upload_delete">ga_custom_upload_delete</a>()</code>,
<code><a href="#topic+ga_custom_upload_file">ga_custom_upload_file</a>()</code>,
<code><a href="#topic+ga_custom_upload_list">ga_custom_upload_list</a>()</code>,
<code><a href="#topic+ga_custom_upload">ga_custom_upload</a>()</code>
</p>

<hr>
<h2 id='ga_custom_upload'>Custom Data Source Upload Status</h2><span id='topic+ga_custom_upload'></span>

<h3>Description</h3>

<p>Get the status of a custom upload
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_upload(
  accountId,
  webPropertyId,
  customDataSourceId,
  uploadId,
  upload_object
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_upload_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_+3A_customdatasourceid">customDataSourceId</code></td>
<td>
<p>Custom data source Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_+3A_uploadid">uploadId</code></td>
<td>
<p>upload Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_+3A_upload_object">upload_object</code></td>
<td>
<p>A custom upload Id object. Supply this or the other arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can supply either <code>upload_object</code> generated via function or <a href="#topic+ga_custom_upload_file">ga_custom_upload_file</a>, or make an 
</p>


<h3>Value</h3>

<p>An object of class <code>ga_custom_data_source_upload</code>
</p>


<h3>See Also</h3>

<p>Other custom datasource functions: 
<code><a href="#topic+ga_custom_datasource">ga_custom_datasource</a>()</code>,
<code><a href="#topic+ga_custom_upload_delete">ga_custom_upload_delete</a>()</code>,
<code><a href="#topic+ga_custom_upload_file">ga_custom_upload_file</a>()</code>,
<code><a href="#topic+ga_custom_upload_list">ga_custom_upload_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

upload_me &lt;- data.frame(medium = "shinyapps", 
                        source = "referral", 
                        adCost = 1, 
                        date = "20160801")
                        
obj &lt;- ga_custom_upload_file(47850439, 
                             "UA-4748043-2", 
                             "_jDsJHSFSU-uw038Bh8fUg", 
                             upload_me)
                             
## obj will initially have status = PENDING
obj
==Google Analytics Custom Data Source Upload==
Custom Data Source ID:  _jDsJHSFSU-uw038Bh8fUg 
Account ID:             47850439 
Web Property Id:        UA-4748043-2 
Upload ID:              7yHLAkeLSiK1zveVTiWZwA 
Status:                 PENDING 

## Send obj to ga_custom_upload() to check and renew status
obj &lt;- ga_custom_upload(upload_object = obj)
obj

==Google Analytics Custom Data Source Upload==
Custom Data Source ID:  _jDsJHSFSU-uw038Bh8fUg 
Account ID:             47850439 
Web Property Id:        UA-4748043-2 
Upload ID:              7yHLAkeLSiK1zveVTiWZwA 
Status:                 COMPLETED 


## End(Not run)

</code></pre>

<hr>
<h2 id='ga_custom_upload_delete'>Deletes custom upload files for a given ids vector</h2><span id='topic+ga_custom_upload_delete'></span>

<h3>Description</h3>

<p>Deletes custom upload files for a given ids vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_upload_delete(
  accountId,
  webPropertyId,
  customDataSourceId,
  customDataImportUids
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_upload_delete_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_delete_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_delete_+3A_customdatasourceid">customDataSourceId</code></td>
<td>
<p>Custom data source Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_delete_+3A_customdataimportuids">customDataImportUids</code></td>
<td>
<p>vector of file upload ids.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/uploads/deleteUploadData
</p>
<p>Other custom datasource functions: 
<code><a href="#topic+ga_custom_datasource">ga_custom_datasource</a>()</code>,
<code><a href="#topic+ga_custom_upload_file">ga_custom_upload_file</a>()</code>,
<code><a href="#topic+ga_custom_upload_list">ga_custom_upload_list</a>()</code>,
<code><a href="#topic+ga_custom_upload">ga_custom_upload</a>()</code>
</p>

<hr>
<h2 id='ga_custom_upload_file'>Upload data to Google Analytics</h2><span id='topic+ga_custom_upload_file'></span>

<h3>Description</h3>

<p>Upload external data up to 1GB to Google Analytics via the management API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_upload_file(accountId, webPropertyId, customDataSourceId, upload)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_upload_file_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_file_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_file_+3A_customdatasourceid">customDataSourceId</code></td>
<td>
<p>Custom data source Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_file_+3A_upload">upload</code></td>
<td>
<p>An R data.frame or a file path location (character)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You need to create a custom data source in the web UI first.
</p>
<p>If you are uploading an R data frame, the function will prefix the column names with <code>"ga:"</code> for you if necessary.
</p>
<p>After upload check the status by querying data sources using <a href="#topic+ga_custom_upload">ga_custom_upload</a>
and examining the <code>status</code> field.
</p>
<p>Currently only supports simple uploads (not resumable).
</p>


<h3>Value</h3>

<p>An object of class <code>ga_custom_data_source_upload</code>
</p>


<h3>See Also</h3>

<p>A guide for preparing the data is available: <a href="https://developers.google.com/analytics/solutions/data-import-cost">from Google here</a>.
</p>
<p>The dev guide for this function: <a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/data-import#format">Data Import Developer Guide</a>
</p>
<p>Other custom datasource functions: 
<code><a href="#topic+ga_custom_datasource">ga_custom_datasource</a>()</code>,
<code><a href="#topic+ga_custom_upload_delete">ga_custom_upload_delete</a>()</code>,
<code><a href="#topic+ga_custom_upload_list">ga_custom_upload_list</a>()</code>,
<code><a href="#topic+ga_custom_upload">ga_custom_upload</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

upload_me &lt;- data.frame(medium = "shinyapps", 
                        source = "referral", 
                        adCost = 1, 
                        date = "20160801")
                        
obj &lt;- ga_custom_upload_file(47850439, 
                             "UA-4748043-2", 
                             "_jDsJHSFSU-uw038Bh8fUg", 
                             upload_me)
                             
## obj will initially have status = PENDING
obj
==Google Analytics Custom Data Source Upload==
Custom Data Source ID:  _jDsJHSFSU-uw038Bh8fUg 
Account ID:             47850439 
Web Property Id:        UA-4748043-2 
Upload ID:              7yHLAkeLSiK1zveVTiWZwA 
Status:                 PENDING 

## Send obj to ga_custom_upload() to check and renew status
obj &lt;- ga_custom_upload(upload_object = obj)
obj

==Google Analytics Custom Data Source Upload==
Custom Data Source ID:  _jDsJHSFSU-uw038Bh8fUg 
Account ID:             47850439 
Web Property Id:        UA-4748043-2 
Upload ID:              7yHLAkeLSiK1zveVTiWZwA 
Status:                 COMPLETED 


## End(Not run)


</code></pre>

<hr>
<h2 id='ga_custom_upload_list'>List Custom Data Source Uploads</h2><span id='topic+ga_custom_upload_list'></span>

<h3>Description</h3>

<p>List Custom Data Source Uploads
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_upload_list(accountId, webPropertyId, customDataSourceId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_upload_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_custom_upload_list_+3A_customdatasourceid">customDataSourceId</code></td>
<td>
<p>Custom data source Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Custom Data Source Uploads List
</p>


<h3>See Also</h3>

<p>Other custom datasource functions: 
<code><a href="#topic+ga_custom_datasource">ga_custom_datasource</a>()</code>,
<code><a href="#topic+ga_custom_upload_delete">ga_custom_upload_delete</a>()</code>,
<code><a href="#topic+ga_custom_upload_file">ga_custom_upload_file</a>()</code>,
<code><a href="#topic+ga_custom_upload">ga_custom_upload</a>()</code>
</p>

<hr>
<h2 id='ga_custom_vars'>Get Custom Dimensions or Metrics</h2><span id='topic+ga_custom_vars'></span>

<h3>Description</h3>

<p>Get Custom Dimensions or Metrics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_vars(
  accountId,
  webPropertyId,
  type = c("customMetrics", "customDimensions"),
  customId
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_vars_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_vars_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_custom_vars_+3A_type">type</code></td>
<td>
<p>A customMetric or customDimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_+3A_customid">customId</code></td>
<td>
<p>The customMetricId or customDimensionId</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Custom Metric or Dimension meta data
</p>


<h3>See Also</h3>

<p>Other custom variable functions: 
<code><a href="#topic+ga_custom_vars_create">ga_custom_vars_create</a>()</code>,
<code><a href="#topic+ga_custom_vars_list">ga_custom_vars_list</a>()</code>,
<code><a href="#topic+ga_custom_vars_patch">ga_custom_vars_patch</a>()</code>
</p>

<hr>
<h2 id='ga_custom_vars_create'>Create a custom dimension</h2><span id='topic+ga_custom_vars_create'></span>

<h3>Description</h3>

<p>Create a dimension by specifying its attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_vars_create(
  name,
  index,
  accountId,
  webPropertyId,
  active,
  scope = c("HIT", "SESSION", "USER", "PRODUCT")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_vars_create_+3A_name">name</code></td>
<td>
<p>Name of custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_create_+3A_index">index</code></td>
<td>
<p>Index of custom dimension - integer between 1 and 20 (200 for GA360)</p>
</td></tr>
<tr><td><code id="ga_custom_vars_create_+3A_accountid">accountId</code></td>
<td>
<p>AccountId of the custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_create_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>WebPropertyId of the custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_create_+3A_active">active</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> if custom dimension is active or not</p>
</td></tr>
<tr><td><code id="ga_custom_vars_create_+3A_scope">scope</code></td>
<td>
<p>Scope of custom dimension - one of <code style="white-space: pre;">&#8288;"HIT","SESSION","USER","PRODUCT"&#8288;</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://support.google.com/analytics/answer/2709828">Custom dimensions support article</a>
</p>
<p>Other custom variable functions: 
<code><a href="#topic+ga_custom_vars_list">ga_custom_vars_list</a>()</code>,
<code><a href="#topic+ga_custom_vars_patch">ga_custom_vars_patch</a>()</code>,
<code><a href="#topic+ga_custom_vars">ga_custom_vars</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()

# create custom var
ga_custom_vars_create("my_custom_dim",
                      index = 15,
                      accountId = 54019251,
                      webPropertyId = "UA-54019251-4",
                      scope = "HIT",
                      active = FALSE)

# view custom dimension in list
ga_custom_vars_list(54019251, webPropertyId = "UA-54019251-4", type = "customDimensions")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_custom_vars_list'>List Custom Dimensions or Metrics</h2><span id='topic+ga_custom_vars_list'></span>

<h3>Description</h3>

<p>List Custom Dimensions or Metrics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_vars_list(
  accountId,
  webPropertyId,
  type = c("customDimensions", "customMetrics")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_vars_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_custom_vars_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_custom_vars_list_+3A_type">type</code></td>
<td>
<p>A customMetric or customDimension</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function lists all the existing custom dimensions or metrics for the web property.
</p>


<h3>Value</h3>

<p>Custom Metric or Dimension List
</p>


<h3>See Also</h3>

<p>Other custom variable functions: 
<code><a href="#topic+ga_custom_vars_create">ga_custom_vars_create</a>()</code>,
<code><a href="#topic+ga_custom_vars_patch">ga_custom_vars_patch</a>()</code>,
<code><a href="#topic+ga_custom_vars">ga_custom_vars</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()

ga_custom_vars_list(54019251, webPropertyId = "UA-54019251-4", type = "customDimensions")

ga_custom_vars_list(54019251, webPropertyId = "UA-54019251-4", type = "customMetrics")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_custom_vars_patch'>Modify a custom dimension</h2><span id='topic+ga_custom_vars_patch'></span>

<h3>Description</h3>

<p>Modify existing custom dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_custom_vars_patch(
  id,
  accountId,
  webPropertyId,
  name = NULL,
  active = NULL,
  scope = NULL,
  ignoreCustomDataSourceLinks = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_custom_vars_patch_+3A_id">id</code></td>
<td>
<p>The id of the custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_patch_+3A_accountid">accountId</code></td>
<td>
<p>AccountId of the custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_patch_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>WebPropertyId of the custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_patch_+3A_name">name</code></td>
<td>
<p>Name of custom dimension</p>
</td></tr>
<tr><td><code id="ga_custom_vars_patch_+3A_active">active</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> if custom dimension is active or not</p>
</td></tr>
<tr><td><code id="ga_custom_vars_patch_+3A_scope">scope</code></td>
<td>
<p>Scope of custom dimension - one of <code style="white-space: pre;">&#8288;"HIT","SESSION","USER","PRODUCT"&#8288;</code></p>
</td></tr>
<tr><td><code id="ga_custom_vars_patch_+3A_ignorecustomdatasourcelinks">ignoreCustomDataSourceLinks</code></td>
<td>
<p>Force the update and ignore any warnings related to the custom dimension being linked to a custom data source / data set.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://support.google.com/analytics/answer/2709828">Custom dimensions support article</a>
</p>
<p>Other custom variable functions: 
<code><a href="#topic+ga_custom_vars_create">ga_custom_vars_create</a>()</code>,
<code><a href="#topic+ga_custom_vars_list">ga_custom_vars_list</a>()</code>,
<code><a href="#topic+ga_custom_vars">ga_custom_vars</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()

# create custom var
ga_custom_vars_create("my_custom_dim",
                      index = 7,
                      accountId = 54019251,
                      webPropertyId = "UA-54019251-4",
                      scope = "HIT",
                      active = FALSE)

# view custom dimension in list
ga_custom_vars_list(54019251, webPropertyId = "UA-54019251-4", type = "customDimensions")

# change a custom dimension
ga_custom_vars_patch("ga:dimension7",
                     accountId = 54019251,
                     webPropertyId = "UA-54019251-4",
                     name = "my_custom_dim2",
                     active = TRUE)
                     
# view custom dimensions again to see change
ga_custom_vars_list(54019251, webPropertyId = "UA-54019251-4", type = "customDimensions")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_data'>Google Analytics Data for GA4 (App+Web)</h2><span id='topic+ga_data'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Fetches Google Analytics from the Data API for Google Analytics 4 (Previously App+Web)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_data(
  propertyId,
  metrics,
  date_range = NULL,
  dimensions = NULL,
  dim_filters = NULL,
  dimensionDelimiter = "/",
  met_filters = NULL,
  orderBys = NULL,
  limit = 100,
  page_size = 100000L,
  realtime = FALSE,
  metricAggregations = NULL,
  raw_json = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_data_+3A_propertyid">propertyId</code></td>
<td>
<p>A GA4 property Id</p>
</td></tr>
<tr><td><code id="ga_data_+3A_metrics">metrics</code></td>
<td>
<p>The metrics to request - see <a href="#topic+ga_meta">ga_meta</a> - set to NULL to only see dimensions</p>
</td></tr>
<tr><td><code id="ga_data_+3A_date_range">date_range</code></td>
<td>
<p>A vector with start and end dates in YYYY-MM-DD format - can send in up to four date ranges at once</p>
</td></tr>
<tr><td><code id="ga_data_+3A_dimensions">dimensions</code></td>
<td>
<p>The dimensions to request - see <a href="#topic+ga_meta">ga_meta</a></p>
</td></tr>
<tr><td><code id="ga_data_+3A_dim_filters">dim_filters</code></td>
<td>
<p>Filter on the dimensions of the request - a filter object created by <a href="#topic+ga_data_filter">ga_data_filter</a></p>
</td></tr>
<tr><td><code id="ga_data_+3A_dimensiondelimiter">dimensionDelimiter</code></td>
<td>
<p>If combining dimensions in one column, the delimiter for the value field</p>
</td></tr>
<tr><td><code id="ga_data_+3A_met_filters">met_filters</code></td>
<td>
<p>Filter on the metrics of the request - a filter object created by <a href="#topic+ga_data_filter">ga_data_filter</a></p>
</td></tr>
<tr><td><code id="ga_data_+3A_orderbys">orderBys</code></td>
<td>
<p>How to order the response - an order object created by <a href="#topic+ga_data_order">ga_data_order</a></p>
</td></tr>
<tr><td><code id="ga_data_+3A_limit">limit</code></td>
<td>
<p>The number of rows to return - use -1 to return all rows</p>
</td></tr>
<tr><td><code id="ga_data_+3A_page_size">page_size</code></td>
<td>
<p>The size of API pages - default is 100000L rows</p>
</td></tr>
<tr><td><code id="ga_data_+3A_realtime">realtime</code></td>
<td>
<p>If TRUE then will call the real-time reports, that have a more limited set of dimensions/metrics - see <a href="https://developers.google.com/analytics/devguides/reporting/data/v1/realtime-basics">valid real-time dimensions</a></p>
</td></tr>
<tr><td><code id="ga_data_+3A_metricaggregations">metricAggregations</code></td>
<td>
<p>Default NULL, pass in character vector of one or multiple of <code>c("TOTAL","MAXIMUM","MINIMUM","COUNT")</code> to return extra metadata</p>
</td></tr>
<tr><td><code id="ga_data_+3A_raw_json">raw_json</code></td>
<td>
<p>You can send in the raw JSON string for a Data API request which will skip all checks</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the main function to call the Google Analytics 4 Data API.
</p>


<h3>Value</h3>

<p>A data.frame tibble, including attributes metadata, metricAggregations and rowCount.  Use <a href="#topic+ga_data_aggregations">ga_data_aggregations</a> to extract the data.frames of metricAggregations
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/data/v1">Documentation on Data API</a>
</p>
<p>Other GA4 functions: 
<code><a href="#topic+ga_data_filter">ga_data_filter</a>()</code>,
<code><a href="#topic+ga_data_order">ga_data_order</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# send up to 4 date ranges
multi_date &lt;- ga_data(
  206670707,
  metrics = c("activeUsers","sessions"),
  dimensions = c("date","city","dayOfWeek"),
  date_range = c("2020-03-31", "2020-04-27", "2020-04-30", "2020-05-27"),
  dim_filters = ga_data_filter("city"=="Copenhagen"),
  limit = 100
  )


# metric and dimension expressions

# create your own named metrics
met_expression &lt;- ga_data(
  206670707,
  metrics = c("activeUsers","sessions",sessionsPerUser = "sessions/activeUsers"),
  dimensions = c("date","city","dayOfWeek"),
  date_range = c("2020-03-31", "2020-04-27"),
  limit = 100
  )

# create your own aggregation dimensions
dim_expression &lt;- ga_data(
  206670707,
  metrics = c("activeUsers","sessions"),
  dimensions = c("date","city","dayOfWeek", cdow = "city/dayOfWeek"),
  date_range = c("2020-03-31", "2020-04-27"),
  limit = 100
  )
  
# run a real-time report (no date dimension allowed) 
# includes metricAggregation metadata
realtime &lt;- ga_data(
  206670707,
  metrics = "activeUsers",
  dimensions = c("city","unifiedScreenName"),
  limit = 100,
  realtime = TRUE,
  metricAggregations = c("TOTAL","MAXIMUM","MINIMUM"))

# extract meta data from the table
ga_data_aggregations(realtime)

# add ordering
a &lt;- ga_data_order(-sessions)
b &lt;- ga_data_order(-dayOfWeek, type = "NUMERIC")

ga_data(
  206670707,
  metrics = c("activeUsers","sessions"),
  dimensions = c("date","city","dayOfWeek"),
  date_range = c("2020-03-31", "2020-04-27"),
  orderBys = c(a, b)
  )

## End(Not run)


</code></pre>

<hr>
<h2 id='ga_data_aggregations'>Extract metric aggregations from a <a href="#topic+ga_data">ga_data</a> result</h2><span id='topic+ga_data_aggregations'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Metric aggregations are available in all requests.  This function lets you easily access the data.frames
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_data_aggregations(
  df,
  type = c("all", "totals", "maximums", "minimums", "count")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_data_aggregations_+3A_df">df</code></td>
<td>
<p>A data.frame result from <a href="#topic+ga_data">ga_data</a></p>
</td></tr>
<tr><td><code id="ga_data_aggregations_+3A_type">type</code></td>
<td>
<p>totals, maximums, minimums, counts (if available) or all</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
#' # send up to 4 date ranges
multi_date &lt;- ga_data(
  206670707,
  metrics = c("activeUsers","sessions"),
  dimensions = c("date","city","dayOfWeek"),
  date_range = c("2020-03-31", "2020-04-27", "2020-04-30", "2020-05-27"),
  dim_filters = ga_data_filter("city"=="Copenhagen"),
  limit = 100
  )

# metric aggregations for each date range
ga_data_aggregations(multi_date, type = "all")

# specify type
ga_data_aggregations(multi_date, type = "maximums")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_data_filter'>Filter DSL for GA4 filters</h2><span id='topic+ga_data_filter'></span>

<h3>Description</h3>

<p>Use with <a href="#topic+ga_data">ga_data</a> to create filters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_data_filter(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_data_filter_+3A_x">x</code></td>
<td>
<p>Filter DSL enabled syntax or the output of a previous call to this function - see examples</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This uses a specific filter DSL syntax to create GA4 filters that can be passed to <a href="#topic+ga_data">ga_data</a> arguments <code>dim_filters</code> or <code>met_filters</code>. Ensure that the fields you use are either all metrics or all dimensions.
</p>
<p>The syntax uses operators and the class of the value you are setting (string, numeric or logical) to construct the filter expression object.
</p>
<p>Fields including custom fields for your propertyId can be imported if you fetch them via <code>ga_meta("data", propertyId = 12345)</code> before you construct a filter.  If you do not want filters to be validated, then send them in as strings (&quot;field&quot;).
</p>
<p>The DSL rules are:
</p>

<ul>
<li><p> Single filters can be used without wrapping in filter expressions
</p>
</li>
<li><p> A single filter syntax is <code>(field) (operator) (value)</code>
</p>
</li>
<li><p> (field) is a dimension or metric for your web property, which you can review via <a href="#topic+ga_meta">ga_meta</a>
</p>
</li>
<li><p> (field) can be validated if you fetch metadata before you construct the filter.  If you do this, you can call the fields without quote strings e.g. <code>city</code> and not <code>"city"</code>
</p>
</li>
<li><p> (operator) for metrics can be one of: <code style="white-space: pre;">&#8288;==, &gt;, &gt;=, &lt;, &lt;=&#8288;</code>
</p>
</li>
<li><p> (operator) for dimensions can be one of: <code style="white-space: pre;">&#8288;==, \%begins\%, \%ends\%, \%contains\%, \%in\%, \%regex\%, \%regex_partial\%&#8288;</code> for dimensions
</p>
</li>
<li><p> dimension (operator) are by default case sensitive.  Make them case insensitive by using UPPER case variations <code style="white-space: pre;">&#8288;\%BEGINS\%, \%ENDS\%, ...&#8288;</code> or <code style="white-space: pre;">&#8288;===&#8288;</code> for exact matches
</p>
</li>
<li> <p>(value) can be strings (<code>"dim1"</code>), numerics (<code>55</code>), string vectors (<code>c("dim1", "dim2")</code>), numeric vectors (<code>c(1,2,3)</code>) or boolean (<code>TRUE</code>) - the type will created different types of filters - see examples
</p>
</li>
<li><p>Create filter expressions for multiple filters when using the operators: <code style="white-space: pre;">&#8288;&amp;, |, !&#8288;</code> for logical combinations of AND, OR and NOT respectively. 
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>FilterExpression</code> object suitable for use in <a href="#topic+ga_data">ga_data</a>
</p>


<h3>See Also</h3>

<p>Other GA4 functions: 
<code><a href="#topic+ga_data_order">ga_data_order</a>()</code>,
<code><a href="#topic+ga_data">ga_data</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
# start by calling ga_meta("data") to put valid field names in your environment
meta &lt;- ga_meta("data")

# if you have custom fields, supply your propertyId to ga_meta()
custom_meta &lt;- ga_meta("data", propertyId = 206670707)
custom_meta[grepl("^customEvent", custom_meta$apiName),]

## End(Not run)
## filter clauses
# OR string filter
ga_data_filter(city=="Copenhagen" | city == "London")
# inlist string filter
ga_data_filter(city==c("Copenhagen","London"))
# AND string filters
ga_data_filter(city=="Copenhagen" &amp; dayOfWeek == "5")
# ! - invert string filter
ga_data_filter(!(city=="Copenhagen" | city == "London"))

# multiple filter clauses
f1 &lt;- ga_data_filter(city==c("Copenhagen","London","Paris","New York") &amp;
               (dayOfWeek=="5" | dayOfWeek=="6")) 
               
# build up complicated filters
f2 &lt;- ga_data_filter(f1 | sessionSource=="google")
f3 &lt;- ga_data_filter(f2 &amp; !sessionMedium=="cpc")
f3

## numeric filter types
# numeric equal filter
ga_data_filter(sessions==5)
# between numeric filter
ga_data_filter(sessions==c(5,6))
# greater than numeric
ga_data_filter(sessions &gt; 0)
# greater than or equal
ga_data_filter(sessions &gt;= 1)
# less than numeric
ga_data_filter(sessions &lt; 100)
# less than or equal numeric
ga_data_filter(sessions &lt;= 100)

## string filter types
# begins with string
ga_data_filter(city %begins% "Cope")
# ends with string
ga_data_filter(city %ends% "hagen")
# contains string
ga_data_filter(city %contains% "ope")
# regex (full) string
ga_data_filter(city %regex% "^Cope")
# regex (partial) string
ga_data_filter(city %regex_partial% "ope")

# by default string filters are case sensitive.  
# Use UPPERCASE operator to make then case insensitive

# begins with string (case insensitive)
ga_data_filter(city %BEGINS% "cope")
# ends with string (case insensitive)
ga_data_filter(city %ENDS% "Hagen")
# case insensitive exact
ga_data_filter(city %==%"coPENGhagen")

# avoid validation by making fields strings
ga_data_filter("city" %==%"coPENGhagen")

</code></pre>

<hr>
<h2 id='ga_data_order'>Order DSL for GA4 OrderBy</h2><span id='topic+ga_data_order'></span>

<h3>Description</h3>

<p>Use with <a href="#topic+ga_data">ga_data</a> to create orderBys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_data_order(
  x,
  type = c("ALPHANUMERIC", "CASE_INSENSITIVE_ALPHANUMERIC", "NUMERIC")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_data_order_+3A_x">x</code></td>
<td>
<p>Order DSL enabled syntax</p>
</td></tr>
<tr><td><code id="ga_data_order_+3A_type">type</code></td>
<td>
<p>Order Type</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The DSL rules are:
</p>

<ul>
<li><p>Fields can be quoted or unquoted.  If unquoted they will be validated
</p>
</li>
<li><p>Use + as a prefix to indicate ascending order e.g. <code>+sessions</code>
</p>
</li>
<li><p>Use - as a prefix to indicate decreasing order e.g. <code>-sessions</code>
</p>
</li>
<li><p>Combine order fields without commas e.g. <code>+sessions -city</code>
</p>
</li>
<li><p>Ordering of dimensions can also specify a type of ordering: ALPHANUMERIC, CASE_INSENSITIVE_ALPHANUMERIC, NUMERIC
</p>
</li></ul>

<p>The dimension ordering have these effects:
</p>

<ul>
<li><p>ALPHANUMERIC For example, &quot;2&quot; &lt; &quot;A&quot; &lt; &quot;X&quot; &lt; &quot;b&quot; &lt; &quot;z&quot;
</p>
</li>
<li><p>CASE_INSENSITIVE_ALPHANUMERIC Case insensitive alphanumeric sort by lower case Unicode code point. For example, &quot;2&quot; &lt; &quot;A&quot; &lt; &quot;b&quot; &lt; &quot;X&quot; &lt; &quot;z&quot;
</p>
</li>
<li><p>NUMERIC Dimension values are converted to numbers before sorting. For example in NUMERIC sort, &quot;25&quot; &lt; &quot;100&quot;, and in ALPHANUMERIC sort, &quot;100&quot; &lt; &quot;25&quot;. Non-numeric dimension values all have equal ordering value below all numeric values
</p>
</li></ul>



<h3>Value</h3>

<p>A list of <code>OrderBy</code> objects suitable for use in <a href="#topic+ga_data">ga_data</a>
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/data/v1/rest/v1alpha/OrderBy">https://developers.google.com/analytics/devguides/reporting/data/v1/rest/v1alpha/OrderBy</a>
</p>
<p>Other GA4 functions: 
<code><a href="#topic+ga_data_filter">ga_data_filter</a>()</code>,
<code><a href="#topic+ga_data">ga_data</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# session in descending order
ga_data_order(-sessions)

# city dimension in ascending alphanumeric order
ga_data_order(+city)

# as above plus sessions in descending order
ga_data_order(+city -sessions)

# as above plus activeUsers in ascending order
ga_data_order(+city -sessions +activeUsers)

# dayOfWeek dimension in ascending numeric order
ga_data_order(+dayOfWeek, type = "NUMERIC")

# you can also combine them with c()
a &lt;- ga_data_order(-sessions)
b &lt;- ga_data_order(-dayOfWeek, type = "NUMERIC")
c(a, b)

## Not run: 
# example of use
ga_data(
  206670707,
  metrics = c("activeUsers","sessions"),
  dimensions = c("date","city","dayOfWeek"),
  date_range = c("2020-03-31", "2020-04-27"),
  orderBys = ga_data_order(-sessions -dayOfWeek)
  )



## End(Not run)


</code></pre>

<hr>
<h2 id='ga_experiment'>Experiments Meta data</h2><span id='topic+ga_experiment'></span>

<h3>Description</h3>

<p>Experiments Meta data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_experiment(accountId, webPropertyId, profileId, experimentId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_experiment_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_experiment_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_experiment_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
<tr><td><code id="ga_experiment_+3A_experimentid">experimentId</code></td>
<td>
<p>Experiment Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Experiment Meta Data
</p>


<h3>See Also</h3>

<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment_list">ga_experiment_list</a>()</code>,
<code><a href="#topic+ga_filter_add">ga_filter_add</a>()</code>,
<code><a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a>()</code>,
<code><a href="#topic+ga_filter_update_filter_link">ga_filter_update_filter_link</a>()</code>,
<code><a href="#topic+ga_filter_update">ga_filter_update</a>()</code>,
<code><a href="#topic+ga_segment_list">ga_segment_list</a>()</code>
</p>

<hr>
<h2 id='ga_experiment_list'>List Experiments</h2><span id='topic+ga_experiment_list'></span>

<h3>Description</h3>

<p>List Experiments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_experiment_list(accountId, webPropertyId, profileId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_experiment_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_experiment_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_experiment_list_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Experiments List
</p>


<h3>See Also</h3>

<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment">ga_experiment</a>()</code>,
<code><a href="#topic+ga_filter_add">ga_filter_add</a>()</code>,
<code><a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a>()</code>,
<code><a href="#topic+ga_filter_update_filter_link">ga_filter_update_filter_link</a>()</code>,
<code><a href="#topic+ga_filter_update">ga_filter_update</a>()</code>,
<code><a href="#topic+ga_segment_list">ga_segment_list</a>()</code>
</p>

<hr>
<h2 id='ga_filter'>Get specific filter for account</h2><span id='topic+ga_filter'></span>

<h3>Description</h3>

<p>Get specific filter for account
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter(accountId, filterId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_filter_+3A_filterid">filterId</code></td>
<td>
<p>Filter Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filter list
</p>


<h3>See Also</h3>

<p>Other filter management functions: 
<code><a href="#topic+ga_filter_delete">ga_filter_delete</a>()</code>,
<code><a href="#topic+ga_filter_list">ga_filter_list</a>()</code>,
<code><a href="#topic+ga_filter_view_list">ga_filter_view_list</a>()</code>,
<code><a href="#topic+ga_filter_view">ga_filter_view</a>()</code>
</p>

<hr>
<h2 id='ga_filter_add'>Create a new filter and add it to the view (optional).</h2><span id='topic+ga_filter_add'></span>

<h3>Description</h3>

<p>Take a filter object and add and/or apply it so its live.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_add(
  Filter,
  accountId,
  webPropertyId = NULL,
  viewId = NULL,
  linkFilter = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_add_+3A_filter">Filter</code></td>
<td>
<p>The Filter object to be added to the account or view.  See examples.</p>
</td></tr>
<tr><td><code id="ga_filter_add_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account to add the Filter to</p>
</td></tr>
<tr><td><code id="ga_filter_add_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Property Id of the property to add the Filter to</p>
</td></tr>
<tr><td><code id="ga_filter_add_+3A_viewid">viewId</code></td>
<td>
<p>View Id of the view to add the Filter to</p>
</td></tr>
<tr><td><code id="ga_filter_add_+3A_linkfilter">linkFilter</code></td>
<td>
<p>If TRUE will apply the Filter to the view. Needs propetyId and viewId to be set.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you don't set <code>linkFilter=TRUE</code> then the filter will only be created but not applied.
You will find it listed in the admin panel Account &gt; All Filters.  You can then use <a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a> to apply later on.
</p>


<h3>Value</h3>

<p>The filterId created if <code>linkFilter=FALSE</code> or a Filter object if <code>linkFilter=TRUE</code>
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Filters">https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Filters</a>
</p>
<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment_list">ga_experiment_list</a>()</code>,
<code><a href="#topic+ga_experiment">ga_experiment</a>()</code>,
<code><a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a>()</code>,
<code><a href="#topic+ga_filter_update_filter_link">ga_filter_update_filter_link</a>()</code>,
<code><a href="#topic+ga_filter_update">ga_filter_update</a>()</code>,
<code><a href="#topic+ga_segment_list">ga_segment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Create a filter object for adding an IP exclusion:
Filter &lt;- list(
               name = 'Exclude Internal Traffic',
               type = 'EXCLUDE',
               excludeDetails = list(
                   field = 'GEO_IP_ADDRESS',
                   matchType = 'EQUAL',
                   expressionValue = '199.04.123.1',
                   caseSensitive = 'False'
                                    )
              )

# create and add the filter to the view specified      
my_filter &lt;- ga_filter_add(Filter, 
                           accountId = 12345, 
                           webPropertyId = "UA-12345-1", 
                           viewId = 654321,
                           linkFilter = TRUE)

# only create the filter, don't apply it to any view - returns filterId for use later
my_filter &lt;- ga_filter_add(Filter, 
                           accountId = 12345, 
                           linkFilter = FALSE)                          

## Other examples of filters you can create below:
## Create a filter object for making campaign medium lowercase
Filter &lt;- list(
               name = 'Lowercase Campaign Medium',
               type = 'LOWERCASE',
               lowercaseDetails = list(
                   field = 'CAMPAIGN_MEDIUM'
                                    )
              )

## Create a filter object to append hostname to URI
Filter &lt;- list(
               name = 'Append hostname to URI',
               type = 'ADVANCED',
               advancedDetails = list(
                   fieldA = 'PAGE_HOSTNAME',
                   extractA = '(.*)',
                   fieldARequired = 'True',
                   fieldB = 'PAGE_REQUEST_URI',
                   extractB = '(.*)',
                   fieldBRequired = 'False',
                   outputConstructor = '$A1$B1',
                   outputToField = 'PAGE_REQUEST_URI',
                   caseSensitive = 'False',
                   overrideOutputField = 'True'
                                    )
              )

## Create a filter object to add www hostname without it
Filter &lt;- list(
               name = 'Search and Replace www',
               type = 'SEARCH_AND_REPLACE',
               searchAndReplaceDetails = list(
                   field = 'PAGE_HOSTNAME',
                   searchString = '^exampleUSA\\.com$',
                   replaceString = 'www.exampleUSA.com',
                   caseSensitive = 'False'
                                    )
              )


## End(Not run)

</code></pre>

<hr>
<h2 id='ga_filter_apply_to_view'>Apply an existing filter to view.</h2><span id='topic+ga_filter_apply_to_view'></span>

<h3>Description</h3>

<p>Apply an existing filter to view.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_apply_to_view(filterId, accountId, webPropertyId, viewId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_apply_to_view_+3A_filterid">filterId</code></td>
<td>
<p>The id of the filter to be added to profile/view</p>
</td></tr>
<tr><td><code id="ga_filter_apply_to_view_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account that contains the filter</p>
</td></tr>
<tr><td><code id="ga_filter_apply_to_view_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web property Id to create profile filter link for</p>
</td></tr>
<tr><td><code id="ga_filter_apply_to_view_+3A_viewid">viewId</code></td>
<td>
<p>Profile/view Id to create profile filter link for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A profileFilterLink object
</p>


<h3>See Also</h3>

<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment_list">ga_experiment_list</a>()</code>,
<code><a href="#topic+ga_experiment">ga_experiment</a>()</code>,
<code><a href="#topic+ga_filter_add">ga_filter_add</a>()</code>,
<code><a href="#topic+ga_filter_update_filter_link">ga_filter_update_filter_link</a>()</code>,
<code><a href="#topic+ga_filter_update">ga_filter_update</a>()</code>,
<code><a href="#topic+ga_segment_list">ga_segment_list</a>()</code>
</p>

<hr>
<h2 id='ga_filter_delete'>Delete a filter from account or remove from view.</h2><span id='topic+ga_filter_delete'></span>

<h3>Description</h3>

<p>Delete a filter from account or remove from view.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_delete(
  accountId,
  webPropertyId = NULL,
  viewId = NULL,
  filterId,
  removeFromView = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_delete_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account that contains the filter</p>
</td></tr>
<tr><td><code id="ga_filter_delete_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Property Id of the property that contains the filter</p>
</td></tr>
<tr><td><code id="ga_filter_delete_+3A_viewid">viewId</code></td>
<td>
<p>View Id of the view that contains the filter</p>
</td></tr>
<tr><td><code id="ga_filter_delete_+3A_filterid">filterId</code></td>
<td>
<p>Filter Id of the filter to be deleted</p>
</td></tr>
<tr><td><code id="ga_filter_delete_+3A_removefromview">removeFromView</code></td>
<td>
<p>Default if FALSE. If TRUE, deletes the filter from the view</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if successful
</p>


<h3>See Also</h3>

<p>Other filter management functions: 
<code><a href="#topic+ga_filter_list">ga_filter_list</a>()</code>,
<code><a href="#topic+ga_filter_view_list">ga_filter_view_list</a>()</code>,
<code><a href="#topic+ga_filter_view">ga_filter_view</a>()</code>,
<code><a href="#topic+ga_filter">ga_filter</a>()</code>
</p>

<hr>
<h2 id='ga_filter_list'>List filters for account</h2><span id='topic+ga_filter_list'></span>

<h3>Description</h3>

<p>List filters for account
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_list(accountId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filter list
</p>


<h3>See Also</h3>

<p>Other filter management functions: 
<code><a href="#topic+ga_filter_delete">ga_filter_delete</a>()</code>,
<code><a href="#topic+ga_filter_view_list">ga_filter_view_list</a>()</code>,
<code><a href="#topic+ga_filter_view">ga_filter_view</a>()</code>,
<code><a href="#topic+ga_filter">ga_filter</a>()</code>
</p>

<hr>
<h2 id='ga_filter_update'>Updates an existing filter.</h2><span id='topic+ga_filter_update'></span>

<h3>Description</h3>

<p>Updates an existing filter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_update(Filter, accountId, filterId, method = c("PUT", "PATCH"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_update_+3A_filter">Filter</code></td>
<td>
<p>The Filter object to be updated
See examples from ga_filter_add()</p>
</td></tr>
<tr><td><code id="ga_filter_update_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account that contains the filter</p>
</td></tr>
<tr><td><code id="ga_filter_update_+3A_filterid">filterId</code></td>
<td>
<p>The id of the filter to be modified</p>
</td></tr>
<tr><td><code id="ga_filter_update_+3A_method">method</code></td>
<td>
<p>PUT by default. For patch semantics use PATCH</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A filterManagement object
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Filters">https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Filters</a>
</p>
<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment_list">ga_experiment_list</a>()</code>,
<code><a href="#topic+ga_experiment">ga_experiment</a>()</code>,
<code><a href="#topic+ga_filter_add">ga_filter_add</a>()</code>,
<code><a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a>()</code>,
<code><a href="#topic+ga_filter_update_filter_link">ga_filter_update_filter_link</a>()</code>,
<code><a href="#topic+ga_segment_list">ga_segment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# create a filter object
Filter &lt;- list(
    name = 'googleAnalyticsR test1: Exclude Internal Traffic',
    type = 'EXCLUDE',
    excludeDetails = list(
                      field = 'GEO_IP_ADDRESS',
                      matchType = 'EQUAL',
                      expressionValue = '199.04.123.1',
                      caseSensitive = 'False'
                      )
                 )
 # add a filter (but don't link to a View)               
 filterId &lt;- ga_filter_add(Filter, 
                           accountId = 123456, 
                           linkFilter = FALSE)
 
 # change the name of the filter                    
 change_name &lt;- "googleAnalyticsR test2: Changed name via PATCH"
 
 # using PATCH semantics, only need to construct what you want to change
 filter_to_update &lt;- list(name = test_name)
 
 # update the filter using the filterId 
 ga_filter_update(filter_to_update, accountId2, filterId, method = "PATCH")


## End(Not run)

</code></pre>

<hr>
<h2 id='ga_filter_update_filter_link'>Update an existing profile filter link. Patch semantics supported</h2><span id='topic+ga_filter_update_filter_link'></span>

<h3>Description</h3>

<p>Update an existing profile filter link. Patch semantics supported
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_update_filter_link(
  viewFilterLink,
  accountId,
  webPropertyId,
  viewId,
  linkId,
  method = c("PUT", "PATCH")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_update_filter_link_+3A_viewfilterlink">viewFilterLink</code></td>
<td>
<p>The profileFilterLink object</p>
</td></tr>
<tr><td><code id="ga_filter_update_filter_link_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account that contains the filter</p>
</td></tr>
<tr><td><code id="ga_filter_update_filter_link_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web property Id to which the profile filter link belongs</p>
</td></tr>
<tr><td><code id="ga_filter_update_filter_link_+3A_viewid">viewId</code></td>
<td>
<p>View Id to which the profile filter link belongs</p>
</td></tr>
<tr><td><code id="ga_filter_update_filter_link_+3A_linkid">linkId</code></td>
<td>
<p>The id of the profile filter link to be updated</p>
</td></tr>
<tr><td><code id="ga_filter_update_filter_link_+3A_method">method</code></td>
<td>
<p>PUT by default. Supports patch semantics when set to PATCH</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/profileFilterLinks">https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/profileFilterLinks</a>
</p>
<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment_list">ga_experiment_list</a>()</code>,
<code><a href="#topic+ga_experiment">ga_experiment</a>()</code>,
<code><a href="#topic+ga_filter_add">ga_filter_add</a>()</code>,
<code><a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a>()</code>,
<code><a href="#topic+ga_filter_update">ga_filter_update</a>()</code>,
<code><a href="#topic+ga_segment_list">ga_segment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# create a filter object
Filter &lt;- list(
 name = 'googleAnalyticsR test: Exclude Internal Traffic',
 type = 'EXCLUDE',
 excludeDetails = list(
   field = 'GEO_IP_ADDRESS',
   matchType = 'EQUAL',
   expressionValue = '199.04.123.1',
   caseSensitive = 'False'
   )
 )
 
 # link Filter to a View
 response &lt;- ga_filter_add(Filter, 
                           accountId = 12345, 
                           webPropertyId = "UA-12345-1", 
                           viewId = 654321, 
                           linkFilter = TRUE)
                           
# create Filter patch to move existing filter up to rank 1
viewFilterLink &lt;- list(rank = 1)

# use the linkId given in response$id to update to new rank 1
response2 &lt;- ga_filter_update_filter_link(viewFilterLink, 
                                          accountId = 12345, 
                                          webPropertyId = "UA-12345-1", 
                                          viewId = 654321,  
                                          linkId = response$id)


## End(Not run)

</code></pre>

<hr>
<h2 id='ga_filter_view'>Get specific filter for view (profile)</h2><span id='topic+ga_filter_view'></span>

<h3>Description</h3>

<p>Get specific filter for view (profile)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_view(accountId, webPropertyId, viewId, linkId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_view_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_filter_view_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_filter_view_+3A_viewid">viewId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
<tr><td><code id="ga_filter_view_+3A_linkid">linkId</code></td>
<td>
<p>Link Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filter list
</p>


<h3>See Also</h3>

<p>Other filter management functions: 
<code><a href="#topic+ga_filter_delete">ga_filter_delete</a>()</code>,
<code><a href="#topic+ga_filter_list">ga_filter_list</a>()</code>,
<code><a href="#topic+ga_filter_view_list">ga_filter_view_list</a>()</code>,
<code><a href="#topic+ga_filter">ga_filter</a>()</code>
</p>

<hr>
<h2 id='ga_filter_view_list'>List filters for view (profile)</h2><span id='topic+ga_filter_view_list'></span>

<h3>Description</h3>

<p>List filters for view (profile)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_filter_view_list(accountId, webPropertyId, viewId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_filter_view_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_filter_view_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_filter_view_list_+3A_viewid">viewId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filter list
</p>


<h3>See Also</h3>

<p>Other filter management functions: 
<code><a href="#topic+ga_filter_delete">ga_filter_delete</a>()</code>,
<code><a href="#topic+ga_filter_list">ga_filter_list</a>()</code>,
<code><a href="#topic+ga_filter_view">ga_filter_view</a>()</code>,
<code><a href="#topic+ga_filter">ga_filter</a>()</code>
</p>

<hr>
<h2 id='ga_goal'>Get goal</h2><span id='topic+ga_goal'></span>

<h3>Description</h3>

<p>Get goal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_goal(accountId, webPropertyId, profileId, goalId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_goal_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_goal_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_goal_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
<tr><td><code id="ga_goal_+3A_goalid">goalId</code></td>
<td>
<p>Goal Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Goal meta data
</p>


<h3>See Also</h3>

<p>Other goal management functions: 
<code><a href="#topic+ga_goal_add">ga_goal_add</a>()</code>,
<code><a href="#topic+ga_goal_list">ga_goal_list</a>()</code>,
<code><a href="#topic+ga_goal_update">ga_goal_update</a>()</code>
</p>

<hr>
<h2 id='ga_goal_add'>Create a new goal.</h2><span id='topic+ga_goal_add'></span>

<h3>Description</h3>

<p>Create a new goal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_goal_add(Goal, accountId, webPropertyId, viewId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_goal_add_+3A_goal">Goal</code></td>
<td>
<p>The Goal object to be added to the view.  See examples.</p>
</td></tr>
<tr><td><code id="ga_goal_add_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account to add the Goal to</p>
</td></tr>
<tr><td><code id="ga_goal_add_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Property Id of the property to add the Goal to</p>
</td></tr>
<tr><td><code id="ga_goal_add_+3A_viewid">viewId</code></td>
<td>
<p>View Id of the view to add the Goal to</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Goal object
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Goals">https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Goals</a>
</p>
<p>Other goal management functions: 
<code><a href="#topic+ga_goal_list">ga_goal_list</a>()</code>,
<code><a href="#topic+ga_goal_update">ga_goal_update</a>()</code>,
<code><a href="#topic+ga_goal">ga_goal</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

## Create a Goal object based on destination:
Goal &lt;- list(
  id = '17',
  active = TRUE,
  name = 'Checkout',
  type = 'URL_DESTINATION',
  urlDestinationDetails = list(
    url = '\\/checkout\\/thank_you',
    matchType = 'REGEX',
    caseSensitive = FALSE,
    firstStepRequired = FALSE,
    steps = list(
      list(
        number = 1,
        name = 'Product',
        url = '\\/products\\/'
      ),
      list(
        number = 2,
        name = 'Cart',
        url = '\\/cart'
      ),
      list(
        number = 3,
        name = 'Contact',
        url = '\\/checkout\\/contact_information'
      ),
      list(
        number = 4,
        name = 'Shipping',
        url = '\\/checkout\\/shipping'
      ),
      list(
        number = 5,
        name = 'Payment',
        url = '\\/checkout\\/payment'
      ),
      list(
        number = 6,
        name = 'Processing',
        url = '\\/checkout\\/processing'
      )
    )
  )
)

## Create a Goal object based on an event:
Goal &lt;- list(
  id = '9',
  active = TRUE,
  name = 'PDF Download',
  type = 'EVENT',
  eventDetails = list(
    useEventValue = TRUE,
    eventConditions = list(
      list(
        type = 'CATEGORY',
        matchType = 'EXACT',
        expression = 'PDF Download'
        ),
      list(
        type = 'LABEL',
        matchType = 'EXACT',
        expression = 'January brochure'
        )
      )
    )
  )
  
## Create a Goal object based on a number of pages visitied in a session:  
Goal &lt;- list(
  id = '10',
  active = TRUE,
  name = 'Visited more than 3 pages',
  type = 'VISIT_NUM_PAGES',
  visitNumPagesDetails = list(
    comparisonType = 'GREATER_THAN',
    comparisonValue = 3
  )
)
  
## Create a Goal object based on the number of seconds spent on the site  
Goal &lt;- list(
  id = '11',
  active = TRUE,
  name = 'Stayed for more than 2 minutes',
  type = 'VISIT_TIME_ON_SITE',
  visitTimeOnSiteDetails = list(
    comparisonType = 'GREATER_THAN',
    comparisonValue = 120
  )
)

## End(Not run)
  
</code></pre>

<hr>
<h2 id='ga_goal_list'>List goals</h2><span id='topic+ga_goal_list'></span>

<h3>Description</h3>

<p>List goals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_goal_list(accountId, webPropertyId, profileId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_goal_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_goal_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_goal_list_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Goal list
</p>


<h3>See Also</h3>

<p>Other goal management functions: 
<code><a href="#topic+ga_goal_add">ga_goal_add</a>()</code>,
<code><a href="#topic+ga_goal_update">ga_goal_update</a>()</code>,
<code><a href="#topic+ga_goal">ga_goal</a>()</code>
</p>

<hr>
<h2 id='ga_goal_update'>Updates an existing goal.</h2><span id='topic+ga_goal_update'></span>

<h3>Description</h3>

<p>Updates an existing goal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_goal_update(
  Goal,
  accountId,
  webPropertyId,
  viewId,
  goalId,
  method = c("PUT", "PATCH")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_goal_update_+3A_goal">Goal</code></td>
<td>
<p>The Goal object to be updated
See examples from ga_goal_add()</p>
</td></tr>
<tr><td><code id="ga_goal_update_+3A_accountid">accountId</code></td>
<td>
<p>Account Id of the account in which to modify the Goal</p>
</td></tr>
<tr><td><code id="ga_goal_update_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Property Id of the property in which to modify the Goal</p>
</td></tr>
<tr><td><code id="ga_goal_update_+3A_viewid">viewId</code></td>
<td>
<p>View Id of the view in which to modify the Goal</p>
</td></tr>
<tr><td><code id="ga_goal_update_+3A_goalid">goalId</code></td>
<td>
<p>The id of the goal to be modified</p>
</td></tr>
<tr><td><code id="ga_goal_update_+3A_method">method</code></td>
<td>
<p>PUT by default. For patch semantics use PATCH</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A goalManagement object
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Goals">https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/#Goals</a>
</p>
<p>Other goal management functions: 
<code><a href="#topic+ga_goal_add">ga_goal_add</a>()</code>,
<code><a href="#topic+ga_goal_list">ga_goal_list</a>()</code>,
<code><a href="#topic+ga_goal">ga_goal</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# Change the goal 11 to visits over 3 minutes
Goal &lt;- list(
  active = TRUE,
  name = 'Stayed for more than 3 minutes',
  type = 'VISIT_TIME_ON_SITE',
  visitTimeOnSiteDetails = list(
    comparisonType = 'GREATER_THAN',
    comparisonValue = 180
  )
)
ga_goal_update(Goal, accountId, propertyId, viewId, 11)

# Change destination url for goal 17
Goal &lt;- list(
    urlDestinationDetails = list(
      url = '\\/checkout\\/success'
    )
  )

# Only the fields we're changing required because we're using PATCH method  
ga_goal_update(Goal, accountId, propertyId, viewId, 17, method = "PATCH")
  

## End(Not run)
  
</code></pre>

<hr>
<h2 id='ga_meta'>Get current dimensions and metrics available in GA API.</h2><span id='topic+ga_meta'></span>

<h3>Description</h3>

<p>Get current dimensions and metrics available in GA API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_meta(
  version = c("universal", "data"),
  propertyId = NULL,
  cached = TRUE,
  no_api = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_meta_+3A_version">version</code></td>
<td>
<p>The Google Analytics API metadata to fetch - &quot;universal&quot; for Universal and earlier versions, &quot;data&quot; for Google Analytics 4</p>
</td></tr>
<tr><td><code id="ga_meta_+3A_propertyid">propertyId</code></td>
<td>
<p>If requesting from Google Analytics 4, pass the propertyId to get metadata specific to that property.  Leaving it NULL or 0 will return universal metadata</p>
</td></tr>
<tr><td><code id="ga_meta_+3A_cached">cached</code></td>
<td>
<p>Whether to use a cached version or to use the API to fetch the results again</p>
</td></tr>
<tr><td><code id="ga_meta_+3A_no_api">no_api</code></td>
<td>
<p>Don't call the API, just return <code>googleAnalyticsR::meta4</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe of dimensions and metrics available to use
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/metadata/v3/reference/metadata/columns/list">https://developers.google.com/analytics/devguides/reporting/metadata/v3/reference/metadata/columns/list</a>, <a href="https://developers.google.com/analytics/devguides/reporting/data/v1/rest/v1alpha/properties/getMetadata">https://developers.google.com/analytics/devguides/reporting/data/v1/rest/v1alpha/properties/getMetadata</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# universal analytics
ga_meta()

# Google Analytics 4 metadata from the Data API
ga_meta("data")

# Google Analytics 4 metadata for a particular Web Property
ga_meta("data", propertyId = 206670707)


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_model'>Use a model</h2><span id='topic+ga_model'></span>

<h3>Description</h3>

<p>Use a model created by <a href="#topic+ga_model_make">ga_model_make</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model(viewId, model, load_libs = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_+3A_viewid">viewId</code></td>
<td>
<p>The GA viewId to operate on</p>
</td></tr>
<tr><td><code id="ga_model_+3A_model">model</code></td>
<td>
<p>A file location of a model object or a model object
created by <a href="#topic+ga_model_make">ga_model_make</a></p>
</td></tr>
<tr><td><code id="ga_model_+3A_load_libs">load_libs</code></td>
<td>
<p>Whether to load the library requirements into your namespace</p>
</td></tr>
<tr><td><code id="ga_model_+3A_...">...</code></td>
<td>
<p>Other arguments to pass into the model as needed</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# models that come with the package
ga_model_example()
## Not run: 

# your own Google Analytics viewID
my_viewid &lt;- 81416156

# load the model (equivalent to ga_model_load())
decomp_ga &lt;- ga_model_example("decomp_ga.gamr")

# apply model to your data
d1 &lt;- ga_model(my_viewid, model = decomp_ga)

# change default date range to 20 days ago to yesterday
d2 &lt;- ga_model(my_viewid, model = decomp_ga, 
               date_range = c("20daysAgo","yesterday"))



## End(Not run)
</code></pre>

<hr>
<h2 id='ga_model_edit'>Edit a created ga_model</h2><span id='topic+ga_model_edit'></span>

<h3>Description</h3>

<p>Change features of a model by changing the functions within it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_edit(
  model,
  data_f = NULL,
  required_columns = NULL,
  model_f = NULL,
  required_packages = NULL,
  description = NULL,
  outputShiny = shiny::plotOutput,
  renderShiny = shiny::renderPlot,
  inputShiny = NULL,
  output_f = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_edit_+3A_model">model</code></td>
<td>
<p>The model to edit - if a filepath will load model and
save back edited model to the same file</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_data_f">data_f</code></td>
<td>
<p>A function that gets the data</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_required_columns">required_columns</code></td>
<td>
<p>What dimensions and metrics are required</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_model_f">model_f</code></td>
<td>
<p>A function that inputs data, and outputs a list of assets -
must take data from result of <code>data_f</code> in first argument</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_required_packages">required_packages</code></td>
<td>
<p>The packages needed for <code>data_f</code> and <code>model_f</code> to work</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_description">description</code></td>
<td>
<p>An optional description of what the model does</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_outputshiny">outputShiny</code></td>
<td>
<p>A shiny UI output function that will display the results <code>renderShiny</code></p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_rendershiny">renderShiny</code></td>
<td>
<p>A shiny render function that will create the output for <code>outputShiny</code> from <code>output_f</code></p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_inputshiny">inputShiny</code></td>
<td>
<p>Optional input shiny functions (like <code>dateInput()</code>) that will be used within the model's Shiny module.  The id should be exactly the same as one of the variables in the model functions.</p>
</td></tr>
<tr><td><code id="ga_model_edit_+3A_output_f">output_f</code></td>
<td>
<p>A function that inputs the output from <code>model_f</code>, outputs a visualisation</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

decomp_ga &lt;- ga_model_example("decomp_ga.gamr")
decomp_ga

# edit its description
ga_model_edit(decomp_ga, description = "Changed")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_model_example'>Load an example model</h2><span id='topic+ga_model_example'></span>

<h3>Description</h3>

<p>Load an example model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_example(name = "list")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_example_+3A_name">name</code></td>
<td>
<p>name of the model - set to &quot;list&quot; to show available files</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# example .gamr files included with the package
ga_model_example()

# load one example
ga_model_example("ga4-trend.gamr")
</code></pre>

<hr>
<h2 id='ga_model_load'>Load a created model</h2><span id='topic+ga_model_load'></span>

<h3>Description</h3>

<p>Load a created model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_load(filename = "my-model.gamr")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_load_+3A_filename">filename</code></td>
<td>
<p>name to load model from</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# models used in ga_model_example() are here:
location &lt;- system.file("models","examples","decomp_ga.gamr", 
                        package = "googleAnalyticsR")

ga_model_load(location)
</code></pre>

<hr>
<h2 id='ga_model_make'>Modelling function factory for Google Analytics data</h2><span id='topic+ga_model_make'></span>

<h3>Description</h3>

<p>Create ga_model objects for easy application of models to data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_make(
  data_f,
  required_columns,
  model_f,
  output_f = function(df, ...) {
     plot(df)
 },
  required_packages = NULL,
  description = NULL,
  outputShiny = shiny::plotOutput,
  renderShiny = shiny::renderPlot,
  inputShiny = shiny::tagList()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_make_+3A_data_f">data_f</code></td>
<td>
<p>A function that gets the data</p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_required_columns">required_columns</code></td>
<td>
<p>What dimensions and metrics are required</p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_model_f">model_f</code></td>
<td>
<p>A function that inputs data, and outputs a list of assets -
must take data from result of <code>data_f</code> in first argument</p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_output_f">output_f</code></td>
<td>
<p>A function that inputs the output from <code>model_f</code>, outputs a visualisation</p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_required_packages">required_packages</code></td>
<td>
<p>The packages needed for <code>data_f</code> and <code>model_f</code> to work</p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_description">description</code></td>
<td>
<p>An optional description of what the model does</p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_outputshiny">outputShiny</code></td>
<td>
<p>A shiny UI output function that will display the results <code>renderShiny</code></p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_rendershiny">renderShiny</code></td>
<td>
<p>A shiny render function that will create the output for <code>outputShiny</code> from <code>output_f</code></p>
</td></tr>
<tr><td><code id="ga_model_make_+3A_inputshiny">inputShiny</code></td>
<td>
<p>Optional input shiny functions (like <code>dateInput()</code>) that will be used within the model's Shiny module.  The id should be exactly the same as one of the variables in the model functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The passed functions should all have <code>...</code> to make them flexible
in what arguments can be added.  Do not have the same argument names in both functions.
The <code>data_f</code> function result will feed to <code>model_f</code>
</p>


<h3>Value</h3>

<p>A <code>ga_model</code> object to pass to <a href="#topic+ga_model">ga_model</a>
</p>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

 get_model_data &lt;- function(viewId,
                           date_range = c(Sys.Date()- 300, Sys.Date()),
                           ...){
   google_analytics(viewId,
                    date_range = date_range,
                    metrics = "sessions",
                    dimensions = "date",
                    max = -1)
 }

 decompose_sessions &lt;- function(df, ...){
   decompose(ts(df$sessions, frequency = 7))
 }

 decomp_ga &lt;- ga_model_make(get_model_data,
                            required_columns = c("date", "sessions"),
                            model_f = decompose_sessions,
                            description = "Performs decomposition and creates plot")

 # fetches data and outputs decomposition
 ga_model(81416156, decomp_ga)

 # save the model for later
 model_location &lt;- "decomp_ga.gamr"
 ga_model_save(decomp_ga, filename = model_location)

 # can load model from file
 ga_model(81416156, model_location)

 # or load model to an object and use 
 model2 &lt;- ga_model_load(model_location)

 ga_model(81416156, model2)
 
 # for shiny include functions for the UI and server rendering
 decomp_ga &lt;- ga_model_make(get_model_data,
                            required_columns = c("date", "sessions"),
                            model_f = decompose_sessions,
                            output_f = function(df, ...){graphics::plot(df)},
                            description = "Performs decomposition and creates a plot",
                            outputShiny = shiny::plotOutput,
                            renderShiny = shiny::renderPlot)


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_model_refresh'>Refresh a model</h2><span id='topic+ga_model_refresh'></span>

<h3>Description</h3>

<p>Sometimes necessary if functions were created under differing package versions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_refresh(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_refresh_+3A_model">model</code></td>
<td>
<p>Model or file location of model .gamr file</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

decomp_ga &lt;- ga_model_example("decomp_ga.gamr")
decomp_ga &lt;- ga_model_refresh(decomp_ga)


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_model_save'>Save a created model</h2><span id='topic+ga_model_save'></span>

<h3>Description</h3>

<p>Save a created model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_save(model, filename = "my-model.gamr")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_save_+3A_model">model</code></td>
<td>
<p>model to save</p>
</td></tr>
<tr><td><code id="ga_model_save_+3A_filename">filename</code></td>
<td>
<p>name to save model under</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
# load the model (equivalent to ga_model_load())
decomp_ga &lt;- ga_model_example("decomp_ga.gamr")

# save it somewhere else
ga_model_save(decomp_ga, "somewhereelse.gamr")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_model_shiny'>Create a Shiny app from a ga_model file</h2><span id='topic+ga_model_shiny'></span>

<h3>Description</h3>

<p>Create a Shiny app from a ga_model file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_shiny(
  models,
  template = ga_model_shiny_template("basic"),
  header_boilerplate = TRUE,
  title = "ga_model_shiny",
  auth_dropdown = c("ga4", "universal", "none"),
  web_json = Sys.getenv("GAR_CLIENT_WEB_JSON"),
  date_range = TRUE,
  scopes = "https://www.googleapis.com/auth/analytics.readonly",
  deployed_url = "",
  local_folder = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_shiny_+3A_models">models</code></td>
<td>
<p>The <a href="#topic+ga_model">ga_model</a> file location (&quot;my_model.gamr&quot;) or a <a href="#topic+ga_model">ga_model</a> object - can pass in multiple as a list</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_template">template</code></td>
<td>
<p>The template Shiny files for the Shiny app - passed to <code>shiny::runApp()</code></p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_header_boilerplate">header_boilerplate</code></td>
<td>
<p>Whether to add header boilerplate to the template</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_title">title</code></td>
<td>
<p>The title of the Shiny app</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_auth_dropdown">auth_dropdown</code></td>
<td>
<p>What type of account picker to include</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_web_json">web_json</code></td>
<td>
<p>The client.id json file for Web</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_date_range">date_range</code></td>
<td>
<p>Most templates support a  date_range  global input for the data import functions, set this to FALSE to remove it</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_scopes">scopes</code></td>
<td>
<p>The scope the API requests will be under</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_deployed_url">deployed_url</code></td>
<td>
<p>If deploying Shiny app to a server, put the URL of the deployed app here so the authentication will redirect to the correct place</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_local_folder">local_folder</code></td>
<td>
<p>If not empty, will not launch Shiny app but write code to the folder location you put here</p>
</td></tr>
<tr><td><code id="ga_model_shiny_+3A_...">...</code></td>
<td>
<p>Extra macro variables the template may support: a named list with the name being a template variable</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As <a href="#topic+ga_model">ga_model</a> objects have standardised code, they can be used to build standard templated Shiny apps.  Templates are made using the <a href="whisker.html#topic+whisker.render">whisker.render</a> function
</p>
<p>Some templates are included with the package, seen via <code>ga_model_shiny_template("list")</code>
</p>
<p>Templates hold macro variables indicated via <code> {{ macro_name }} </code> in the Shiny app template code. See <code>ga_model_shiny_template("basic_app", TRUE)</code> for an example showing a minimal viable app.  Templates can be files such as ui.R or app.R files; folders containing ui.R, app.R files; or ui.R with html files for advanced themes - see <a href="https://shiny.rstudio.com/articles/templates.html">Shiny HTML templates</a>. All additional files that may be in the folder are also copied over (such as global.R or www/ folders)
</p>
<p>Templates contain code to allow multi-user login via Google OAuth2.
</p>
<p>If your template is pointing at a file such as ui.R or app.R it will create an app.R Shiny object.  If your template is pointing at a directory it will check for the presence of ui.R within the folder.  In either case if the server.R is missing it will use the boilerplate version from <code>ga_model_shiny_template("boilerplate")</code>
</p>
<p>By default the Shiny app is launched which in most cases will prompt authorisation for your Google Analytics.  You can instead write the app out using <code>local_folder</code> to a valid location for deployment later.
</p>


<h3>Template macro variables</h3>


<ul>
<li><p><code>{{{ model_libraries }}}</code>- Adds <code>library()</code> calls based on models$required_packages
</p>
</li>
<li><p><code>{{{ web_json }}}</code>- Adds Google OAuth2 client for web applications
</p>
</li>
<li><p><code>{{{ scopes }}}</code>- Adds Google OAuth2 scopes for the API calls
</p>
</li>
<li><p><code>{{{ deployed_url }}}</code>- Adds <code>option(googleAuthR.redirect)</code> option for deployed Shiny apps
</p>
</li>
<li><p><code>{{{ model_load }}}</code>- Adds <a href="#topic+ga_model_load">ga_model_load</a> calls loading all models in the list passed to this function's <code>models</code> argument.  It creates R objects called 'model1', 'model2' etc. in the Shiny app code
</p>
</li>
<li><p><code>{{{ model_list }}}</code>- Adds a list of the model objects after model_load.  Useful for creating custom functions in themes that can loop over model objects
</p>
</li>
<li><p><code>{{{ shiny_title }}}</code>- Adds the title to the Shiny app
</p>
</li>
<li><p><code>{{{ auth_ui }}}</code>- Adds the correct dropdown Shiny module for picking a GA4 or Universal Analytics properties
</p>
</li>
<li><p><code>{{{ date_range }}}</code>- Adds a <code>shiny::dateInput()</code> date selector with id &quot;date_range&quot; for use in model's data fetching functions
</p>
</li>
<li><p><code>{{{ model_ui }}}</code>- Adds the models UI elements as configured in the <a href="#topic+ga_model">ga_model</a> object.  It uses the object loaded above via the model_load macro.  It looks like <code>model1$ui('model1')</code> in the code.
</p>
</li>
<li><p><code>{{{ auth_server }}}</code>- Adds the authentication module's server side function
</p>
</li>
<li><p><code>{{{ auth_accounts }}}</code>- Adds a call to <a href="#topic+ga_account_list">ga_account_list</a> for the appropriate GA account type (GA4 or Universal)
</p>
</li>
<li><p><code>{{{ model_server }}}</code>- Adds the server side module for the models as configured in the <a href="#topic+ga_model">ga_model</a> configuration. It uses the object loaded above via the model_load macro.  It looks like <code>model1$server('model1')</code> in the code.
</p>
</li>
<li><p><code>{{{ model1 }}}</code>- Alternative to <code>model_load</code>, this will load the model file location instead, which you can pass to <code>ga_model_load()</code> in the template.  model1 is the first model passed, model2 the second, etc.
</p>
</li>
<li><p><code>{{{ your_argument }}}</code>- You can pass in your own custom variables to the template via the <code>...</code> argument of this function if they are named the same as the template macro variable
</p>
</li></ul>



<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# see Shiny templates included with the package
ga_model_shiny_template("list")

# see an example of an ui.R template with macros
ga_model_shiny_template("basic/ui.R", read_lines = TRUE)

# see an example of an app.R template with macros
ga_model_shiny_template("basic_app/app.R", read_lines = TRUE)

## Not run: 

# a universal analytics model using default template "basic"
ga_model_shiny(
  ga_model_example("decomp_ga.gamr"), 
  auth_dropdown = "universal")

# a template from a directory holding an app.R file
ga_model_shiny(
  ga_model_example("decomp_ga.gamr"), 
  auth_dropdown = "universal",
  template = ga_model_shiny_template("basic_app"))
  
  
# a template from only an ui.R file that will import boilerplate server.R
ga_model_shiny(
  ga_model_example("decomp_ga.gamr"), 
  auth_dropdown = "universal",
  template = ga_model_shiny_template("basic/ui.R"))

# a template from a custom html based theme
ga_model_shiny(
  ga_model_example("decomp_ga.gamr"), 
  auth_dropdown = "universal",
  template = ga_model_shiny_template("html_based"))

# a template using library(argonDash)
ga_model_shiny(
  ga_model_example("ga-effect.gamr"), 
  title = "Argon Demo",
  auth_dropdown = "universal",
  template = ga_model_shiny_template("argonDash") )

# multiple models
m3 &lt;- ga_model_example("time-normalised.gamr")
m4 &lt;- ga_model_example("ga-effect.gamr")

# launch in gentelella template
ga_model_shiny(list(m4, m3), auth_dropdown = "universal",
              template = ga_model_shiny_template("gentelella"))

     
# you can make custom ui embedded within the template file
# use {{{ model_list }}} to work with the models in the ui.R

# below adds custom macro 'theme' and a custom ui in box tabs
ga_model_shiny(list(m4, m3), auth_dropdown = "universal", 
               template = ga_model_shiny_template("shinythemes"), 
               theme = "yeti")

# shinydashboard's custom ui functions put a model in each side tab      
ga_model_shiny(list(m4, m3), auth_dropdown = "universal", 
               template = ga_model_shiny_template("shinydashboard"), 
               skin = "green")
               
# send in lots of theme variables to bslib in shiny &gt; 1.6.0
ga_model_shiny(list(m4, m3), auth_dropdown = "universal",
               template = ga_model_shiny_template("basic_bslib"), 
               bg = "white", fg = "red", primary = "grey")
 
# write out an app to a local folder
ga_model_shiny(list(m4, m3), auth_dropdown = "universal",
               template = ga_model_shiny_template("basic_bslib"), 
               bg = "white", fg = "red", primary = "grey",
               local_folder = "deploy_shiny")

## End(Not run)



</code></pre>

<hr>
<h2 id='ga_model_shiny_load'>Load one model into a Shiny template</h2><span id='topic+ga_model_shiny_load'></span>

<h3>Description</h3>

<p>Load one model into a Shiny template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_shiny_load(model_n, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_shiny_load_+3A_model_n">model_n</code></td>
<td>
<p>The templated name of a model e.g. 'model1'</p>
</td></tr>
<tr><td><code id="ga_model_shiny_load_+3A_...">...</code></td>
<td>
<p>Other arguments passed from shiny server</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>

<hr>
<h2 id='ga_model_shiny_template'>Get a Shiny template file</h2><span id='topic+ga_model_shiny_template'></span>

<h3>Description</h3>

<p>Gets a pre-created template from the googleAnalyticsR samples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_shiny_template(name = "list", read_lines = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_shiny_template_+3A_name">name</code></td>
<td>
<p>the template name</p>
</td></tr>
<tr><td><code id="ga_model_shiny_template_+3A_read_lines">read_lines</code></td>
<td>
<p>If TRUE will use <code>readLines()</code> to print out the template contents</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model_write">ga_model_write</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>

<hr>
<h2 id='ga_model_write'>Write the ga_model functions to a file</h2><span id='topic+ga_model_write'></span>

<h3>Description</h3>

<p>Write the ga_model functions to a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_model_write(model, filepath = "ga_model.R")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_model_write_+3A_model">model</code></td>
<td>
<p>The <code>ga_model</code> object to extract functions from to write, or a filepath to a model</p>
</td></tr>
<tr><td><code id="ga_model_write_+3A_filepath">filepath</code></td>
<td>
<p>The filepath to write the functions to</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other GA modelling functions: 
<code><a href="#topic+ga_model_edit">ga_model_edit</a>()</code>,
<code><a href="#topic+ga_model_example">ga_model_example</a>()</code>,
<code><a href="#topic+ga_model_load">ga_model_load</a>()</code>,
<code><a href="#topic+ga_model_make">ga_model_make</a>()</code>,
<code><a href="#topic+ga_model_save">ga_model_save</a>()</code>,
<code><a href="#topic+ga_model_shiny_load">ga_model_shiny_load</a>()</code>,
<code><a href="#topic+ga_model_shiny_template">ga_model_shiny_template</a>()</code>,
<code><a href="#topic+ga_model_shiny">ga_model_shiny</a>()</code>,
<code><a href="#topic+ga_model">ga_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

decomp_ga &lt;- ga_model_example("decomp_ga.gamr")
ga_model_write(decomp_ga, "a_file.R")

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_mp_cid'>Generate a random client_id</h2><span id='topic+ga_mp_cid'></span>

<h3>Description</h3>

<p>This has a random number plus a timestamp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_mp_cid(seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_mp_cid_+3A_seed">seed</code></td>
<td>
<p>If you set a seed, then the random number will be the same for each value</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Measurement Protocol functions: 
<code><a href="#topic+ga_mp_event_item">ga_mp_event_item</a>()</code>,
<code><a href="#topic+ga_mp_event">ga_mp_event</a>()</code>,
<code><a href="#topic+ga_mp_send">ga_mp_send</a>()</code>
</p>

<hr>
<h2 id='ga_mp_event'>Create a Measurement Protocol Event</h2><span id='topic+ga_mp_event'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
This creates an event to send via <a href="#topic+ga_mp_send">ga_mp_send</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_mp_event(name, params = NULL, items = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_mp_event_+3A_name">name</code></td>
<td>
<p>The event name to send in</p>
</td></tr>
<tr><td><code id="ga_mp_event_+3A_params">params</code></td>
<td>
<p>Optional event parameters sent in as a named list</p>
</td></tr>
<tr><td><code id="ga_mp_event_+3A_items">items</code></td>
<td>
<p>Optional items created via <a href="#topic+ga_mp_event_item">ga_mp_event_item</a></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Measurement Protocol functions: 
<code><a href="#topic+ga_mp_cid">ga_mp_cid</a>()</code>,
<code><a href="#topic+ga_mp_event_item">ga_mp_event_item</a>()</code>,
<code><a href="#topic+ga_mp_send">ga_mp_send</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ga_mp_event("custom_event")
ga_mp_event("custom_event", params = list(my_param = "SUPER"))
</code></pre>

<hr>
<h2 id='ga_mp_event_item'>Create an Measurement Protocol Item Property for an Event</h2><span id='topic+ga_mp_event_item'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Some events work with item properties
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_mp_event_item(
  item_id = NULL,
  item_name = NULL,
  coupon = NULL,
  discount = NULL,
  affiliation = NULL,
  item_brand = NULL,
  item_category = NULL,
  item_variant = NULL,
  price = NULL,
  currency = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_mp_event_item_+3A_item_id">item_id</code></td>
<td>
<p>Item ID</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_item_name">item_name</code></td>
<td>
<p>Item Name</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_coupon">coupon</code></td>
<td>
<p>Coupon</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_discount">discount</code></td>
<td>
<p>Discount</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_affiliation">affiliation</code></td>
<td>
<p>Affiliation</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_item_brand">item_brand</code></td>
<td>
<p>Brand</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_item_category">item_category</code></td>
<td>
<p>Category</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_item_variant">item_variant</code></td>
<td>
<p>Variant</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_price">price</code></td>
<td>
<p>Price</p>
</td></tr>
<tr><td><code id="ga_mp_event_item_+3A_currency">currency</code></td>
<td>
<p>Currency</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other Measurement Protocol functions: 
<code><a href="#topic+ga_mp_cid">ga_mp_cid</a>()</code>,
<code><a href="#topic+ga_mp_event">ga_mp_event</a>()</code>,
<code><a href="#topic+ga_mp_send">ga_mp_send</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># one item
ga_mp_event_item(item_name = "jeggings", 
                 price = 8.88, 
                 item_variant = "Black")
                 
# many items in a list
items &lt;- list(
  ga_mp_event_item(item_id = "SKU_12345", 
                   price = 9.99, 
                   item_brand = "Gucci"), 
  ga_mp_event_item(item_name = "jeggings", 
                   price = 8.88, 
                   item_variant = "Black"))
                   
# construct an event with its own fields
ga_mp_event("add_payment_info", 
            params = list(coupon = "SUMMER_FUN", 
                          payment_type = "Credit Card", 
                          value = 7.77, 
                          currency = "USD"), 
            items = items)
</code></pre>

<hr>
<h2 id='ga_mp_send'>Make a Measurement Protocol v2 request</h2><span id='topic+ga_mp_send'></span><span id='topic+ga_mp_connection'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Create a server side call to Google Analytics 4 via its Measurement Protocol
</p>
<p>Use <a href="#topic+ga_mp_connection">ga_mp_connection</a> to set up the Measurement Protocol connections to pass to <a href="#topic+ga_mp_send">ga_mp_send</a>.  If using Google Tag Manager Server-Side, you can also set up a custom endpoint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_mp_send(
  events,
  client_id,
  connection,
  user_id = NULL,
  debug_call = FALSE,
  timestamp_micros = NULL,
  user_properties = NULL,
  non_personalized_ads = TRUE
)

ga_mp_connection(
  measurement_id,
  api_secret = Sys.getenv("MP_SECRET"),
  endpoint = NULL,
  preview_header = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_mp_send_+3A_events">events</code></td>
<td>
<p>The events to send</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_client_id">client_id</code></td>
<td>
<p>The client_id to associate with the event</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_connection">connection</code></td>
<td>
<p>The connection details created by <a href="#topic+ga_mp_connection">ga_mp_connection</a></p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_user_id">user_id</code></td>
<td>
<p>Optional. Unique id for the user</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_debug_call">debug_call</code></td>
<td>
<p>Send hits to the Google debug endpoint to validate hits.</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_timestamp_micros">timestamp_micros</code></td>
<td>
<p>Optional. A Unix timestamp (in microseconds) for the time to associate with the event.</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_user_properties">user_properties</code></td>
<td>
<p>Optional. The user properties for the measurement sent in as a named list.</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_non_personalized_ads">non_personalized_ads</code></td>
<td>
<p>Optional. Set to true to indicate these events should not be used for personalized ads.</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_measurement_id">measurement_id</code></td>
<td>
<p>The measurement ID associated with a stream</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_api_secret">api_secret</code></td>
<td>
<p>The secret generated in the GA4 UI - by default will look for environment arg <code>MP_SECRET</code></p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_endpoint">endpoint</code></td>
<td>
<p>If NULL will use Google default, otherwise set to the URL of your Measurement Protocol custom endpoint</p>
</td></tr>
<tr><td><code id="ga_mp_send_+3A_preview_header">preview_header</code></td>
<td>
<p>Only needed for custom endpoints. The <code>X-Gtm-Server-Preview</code> HTTP Header found in your GTM debugger</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create an API secret via <code style="white-space: pre;">&#8288;Admin &gt; Data Streams &gt; choose your stream &gt; Measurement Protocol &gt; Create&#8288;</code>
</p>
<p>To see event parameters, create custom fields in your GA4 account first, to see them in your reports 24hrs after you send them in with this function via <code style="white-space: pre;">&#8288;Custom definitions &gt; Create custom dimensions&#8288;</code> - <code style="white-space: pre;">&#8288;dimension name&#8288;</code> will be how it looks like in the reports, <code style="white-space: pre;">&#8288;event parameter&#8288;</code> will be the parameter you have sent in with the event.
</p>
<p><code>user_id</code> can be used for <a href="https://support.google.com/analytics/answer/9213390">cross-platform analysis</a>
</p>
<p><code>timestamp_micros</code> should only be set to record events that happened in the past. This value can be overridden via user_property or event timestamps. Events can be backdated up to 48 hours. Note microseconds, not milliseconds.
</p>
<p><code>user_properties</code> - describe segments of your user base, such as language preference or geographic location.  See <a href="https://developers.google.com/analytics/devguides/collection/protocol/ga4/user-properties?client_type=gtag">User properties</a>
</p>
<p>Ensure you also have user permission as specified in the <a href="https://developers.google.com/analytics/devguides/collection/protocol/ga4/policy">feature policy</a>
</p>
<p>Invalid events are silently rejected with a 204 response, so use <code>debug_call=TRUE</code> to validate your events first.
</p>


<h3>Value</h3>

<p><code>TRUE</code> if successful, if <code>debug_call=TRUE</code> then validation messages if not a valid hit.
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/collection/protocol/ga4">Measurement Protocol (Google Analytics 4)</a>
</p>
<p>Other Measurement Protocol functions: 
<code><a href="#topic+ga_mp_cid">ga_mp_cid</a>()</code>,
<code><a href="#topic+ga_mp_event_item">ga_mp_event_item</a>()</code>,
<code><a href="#topic+ga_mp_event">ga_mp_event</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># preferably set this in .Renviron
Sys.setenv(MP_SECRET="MY_SECRET")

# your GA4 settings
my_measurement_id &lt;- "G-1234"

my_connection &lt;- ga_mp_connection(my_measurement_id)

a_client_id &lt;- 123.456
event &lt;- ga_mp_event("an_event")

## Not run: 
#' ga_mp_send(event, a_client_id, my_connection, debug_call = TRUE)

# multiple events at same time in a batch
another &lt;- ga_mp_event("another_event")

ga_mp_send(list(event, another), 
           a_client_id, 
           my_connection,
           debug_call = TRUE)
           
# you can see sent events in the real-time reports
my_property_id &lt;- 206670707
ga_data(my_property_id, 
        dimensions = "eventName", 
        metrics = "eventCount", 
        dim_filters = ga_data_filter(
           eventName == c("an_event","another_event")),
        realtime = TRUE)


## End(Not run)

# custom GTM server side endpoint
my_custom_connection &lt;- ga_mp_connection(
   my_measurement_id,
   endpoint = "https://gtm.example.com",
   preview_header = "ZW52LTV8OWdPOExNWFkYjA0Njk4NmQ="
 )
 
</code></pre>

<hr>
<h2 id='ga_remarketing_build'>Create a remarketing audience for creation</h2><span id='topic+ga_remarketing_build'></span>

<h3>Description</h3>

<p>Create definitions to be used within <a href="#topic+ga_remarketing_create">ga_remarketing_create</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_remarketing_build(
  segment,
  membershipDurationDays = NULL,
  daysToLookBack = NULL,
  state_duration = c("TEMPORARY", "PERMANENT")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_remarketing_build_+3A_segment">segment</code></td>
<td>
<p>The definition of the segment (v3 syntax)</p>
</td></tr>
<tr><td><code id="ga_remarketing_build_+3A_membershipdurationdays">membershipDurationDays</code></td>
<td>
<p>Number of days (in the range 1 to 540) a user remains in the audience.</p>
</td></tr>
<tr><td><code id="ga_remarketing_build_+3A_daystolookback">daysToLookBack</code></td>
<td>
<p>The look-back window lets you specify a time frame for evaluating the behavior that qualifies users for your audience.</p>
</td></tr>
<tr><td><code id="ga_remarketing_build_+3A_state_duration">state_duration</code></td>
<td>
<p>If to be used in a state based audience, whether to make the segment temporary or permanent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The look-back window lets you specify a time frame for evaluating the behavior that qualifies users for your audience. For example, if your filters include users from Central Asia, and Transactions Greater than 2, and you set the look-back window to 14 days, then any user from Central Asia whose cumulative transactions exceed 2 during the last 14 days is added to the audience.
</p>


<h3>See Also</h3>

<p>Other remarketing management functions: 
<code><a href="#topic+ga_remarketing_create">ga_remarketing_create</a>()</code>,
<code><a href="#topic+ga_remarketing_estimate">ga_remarketing_estimate</a>()</code>,
<code><a href="#topic+ga_remarketing_get">ga_remarketing_get</a>()</code>,
<code><a href="#topic+ga_remarketing_list">ga_remarketing_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
adword_list &lt;- ga_adwords_list(123456, "UA-123456-1")

adword_link &lt;- ga_adword(adword_list$id[[1]])

segment_list &lt;- ga_segment_list()$items$definition

my_remarketing1 &lt;- ga_remarketing_build(segment_list[[1]], 
                    state_duration = "TEMPORARY",
                    membershipDurationDays = 90, 
                    daysToLookBack = 14)
                    
my_remarketing2 &lt;- ga_remarketing_build(segment_list[[2]], 
                     state_duration = "PERMANENT",
                     membershipDurationDays = 7, 
                     daysToLookBack = 31)
                     
# state based only can include exclusions
ga_remarketing_create(adwords_link = adword_link,
                     include = my_remarketing1, 
                     exclude = my_remarketing2,
                     audienceType = "STATE_BASED", 
                     name = "my_remarketing_seg1")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_remarketing_create'>Create a new remarketing audience</h2><span id='topic+ga_remarketing_create'></span>

<h3>Description</h3>

<p>Create a remarketing audiences built via <a href="#topic+ga_remarketing_build">ga_remarketing_build</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_remarketing_create(
  adwordsLinkId,
  include,
  exclude = NULL,
  audienceType = c("SIMPLE", "STATE_BASED"),
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_remarketing_create_+3A_adwordslinkid">adwordsLinkId</code></td>
<td>
<p>The adwords link to add the remarketing audience to</p>
</td></tr>
<tr><td><code id="ga_remarketing_create_+3A_include">include</code></td>
<td>
<p>A <code>ga4_remarketing_segment</code> object to include via <a href="#topic+ga_remarketing_build">ga_remarketing_build</a></p>
</td></tr>
<tr><td><code id="ga_remarketing_create_+3A_exclude">exclude</code></td>
<td>
<p>If <code>audienceType="STATE_BASED"</code>, a <code>ga4_remarketing_segment</code> object to exclude via <a href="#topic+ga_remarketing_build">ga_remarketing_build</a></p>
</td></tr>
<tr><td><code id="ga_remarketing_create_+3A_audiencetype">audienceType</code></td>
<td>
<p><code>SIMPLE</code> or <code>STATE_BASED</code></p>
</td></tr>
<tr><td><code id="ga_remarketing_create_+3A_name">name</code></td>
<td>
<p>An optional name, if not supplied one will be generated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This builds and calls the API to create the remarketing audience based on the segments you have defined.
</p>


<h3>See Also</h3>

<p>Other remarketing management functions: 
<code><a href="#topic+ga_remarketing_build">ga_remarketing_build</a>()</code>,
<code><a href="#topic+ga_remarketing_estimate">ga_remarketing_estimate</a>()</code>,
<code><a href="#topic+ga_remarketing_get">ga_remarketing_get</a>()</code>,
<code><a href="#topic+ga_remarketing_list">ga_remarketing_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
adword_list &lt;- ga_adwords_list(123456, "UA-123456-1")

adword_link &lt;- ga_adword(adword_list$id[[1]])

segment_list &lt;- ga_segment_list()$items$definition

my_remarketing1 &lt;- ga_remarketing_build(segment_list[[1]], 
                    state_duration = "TEMPORARY",
                    membershipDurationDays = 90, 
                    daysToLookBack = 14)
                    
my_remarketing2 &lt;- ga_remarketing_build(segment_list[[2]], 
                     state_duration = "PERMANENT",
                     membershipDurationDays = 7, 
                     daysToLookBack = 31)
                     
# state based only can include exclusions
ga_remarketing_create(adwords_link = adword_link,
                     include = my_remarketing1, 
                     exclude = my_remarketing2,
                     audienceType = "STATE_BASED", 
                     name = "my_remarketing_seg1")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_remarketing_estimate'>Estimate number of users added to the segment yesterday</h2><span id='topic+ga_remarketing_estimate'></span>

<h3>Description</h3>

<p>Estimate number of users added to the segment yesterday
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_remarketing_estimate(remarketingAudience)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_remarketing_estimate_+3A_remarketingaudience">remarketingAudience</code></td>
<td>
<p>A remarketing audience object from <a href="#topic+ga_remarketing_get">ga_remarketing_get</a>
</p>
<p>Takes the segment definition from a remarketing audiences and runs
it against the viewId to see current estimated users
</p>
<p>The total audience size is this figure for every membershipDurationDay from yesterday</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>See Also</h3>

<p><a href="https://support.google.com/analytics/answer/2611268?hl=en">About remarketing audiences</a>
</p>
<p>Other remarketing management functions: 
<code><a href="#topic+ga_remarketing_build">ga_remarketing_build</a>()</code>,
<code><a href="#topic+ga_remarketing_create">ga_remarketing_create</a>()</code>,
<code><a href="#topic+ga_remarketing_get">ga_remarketing_get</a>()</code>,
<code><a href="#topic+ga_remarketing_list">ga_remarketing_list</a>()</code>
</p>

<hr>
<h2 id='ga_remarketing_get'>Get a remarketing audience</h2><span id='topic+ga_remarketing_get'></span>

<h3>Description</h3>

<p>Get a remarketing audience
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_remarketing_get(accountId, webPropertyId, remarketingAudienceId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_remarketing_get_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_remarketing_get_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_remarketing_get_+3A_remarketingaudienceid">remarketingAudienceId</code></td>
<td>
<p>The ID of the remarketing audience to retrieve.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Remarketing Audience object
</p>


<h3>See Also</h3>

<p><a href="https://support.google.com/analytics/answer/2611268?hl=en">About remarketing audiences</a>
</p>
<p>Other remarketing management functions: 
<code><a href="#topic+ga_remarketing_build">ga_remarketing_build</a>()</code>,
<code><a href="#topic+ga_remarketing_create">ga_remarketing_create</a>()</code>,
<code><a href="#topic+ga_remarketing_estimate">ga_remarketing_estimate</a>()</code>,
<code><a href="#topic+ga_remarketing_list">ga_remarketing_list</a>()</code>
</p>

<hr>
<h2 id='ga_remarketing_list'>List remarketing audiences</h2><span id='topic+ga_remarketing_list'></span>

<h3>Description</h3>

<p>List remarketing audiences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_remarketing_list(accountId, webPropertyId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_remarketing_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_remarketing_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Remarketing audience list
</p>


<h3>See Also</h3>

<p><a href="https://support.google.com/analytics/answer/2611268?hl=en">About remarketing audiences</a>
</p>
<p>Other remarketing management functions: 
<code><a href="#topic+ga_remarketing_build">ga_remarketing_build</a>()</code>,
<code><a href="#topic+ga_remarketing_create">ga_remarketing_create</a>()</code>,
<code><a href="#topic+ga_remarketing_estimate">ga_remarketing_estimate</a>()</code>,
<code><a href="#topic+ga_remarketing_get">ga_remarketing_get</a>()</code>
</p>

<hr>
<h2 id='ga_segment_list'>Get segments user has access to</h2><span id='topic+ga_segment_list'></span>

<h3>Description</h3>

<p>Get segments user has access to
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_segment_list()
</code></pre>


<h3>Value</h3>

<p>Segment list
</p>


<h3>See Also</h3>

<p>Other managementAPI functions: 
<code><a href="#topic+ga_experiment_list">ga_experiment_list</a>()</code>,
<code><a href="#topic+ga_experiment">ga_experiment</a>()</code>,
<code><a href="#topic+ga_filter_add">ga_filter_add</a>()</code>,
<code><a href="#topic+ga_filter_apply_to_view">ga_filter_apply_to_view</a>()</code>,
<code><a href="#topic+ga_filter_update_filter_link">ga_filter_update_filter_link</a>()</code>,
<code><a href="#topic+ga_filter_update">ga_filter_update</a>()</code>
</p>

<hr>
<h2 id='ga_trackme'>Opt in or out of googleAnalyticsR usage tracking</h2><span id='topic+ga_trackme'></span><span id='topic+ga_trackme_event'></span>

<h3>Description</h3>

<p>You can opt-in or out to sending a measurement protocol hit when you load the package for use in the package's statistics via this function.  No personal data is collected.
</p>
<p>If you opt in, <code>ga_trackme_event()</code> is the function that fires.  You can use <code>debug_call=TRUE</code> to see what would be sent before opting in or out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_trackme()

ga_trackme_event(debug_call = FALSE, say_hello = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_trackme_+3A_debug_call">debug_call</code></td>
<td>
<p>Set as a debug event to see what would be sent</p>
</td></tr>
<tr><td><code id="ga_trackme_+3A_say_hello">say_hello</code></td>
<td>
<p>If you want to add your own custom message to the event sent, add it here!</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Running <code>ga_trackme_event()</code> function will send a Measurement Protocol hit via <a href="#topic+ga_mp_send">ga_mp_send</a> only if the <code style="white-space: pre;">&#8288;~/.R/optin-googleanalyticsr&#8288;</code> file is present
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# control your tracking choices via a menu if in interactive session
if(interactive()){
  ga_trackme()
}

# this only works with a valid opt-in file present 
ga_trackme_event()

# see what data is sent
ga_trackme_event(debug_call=TRUE)

# add your own message!
ga_trackme_event(debug_call = TRUE, say_hello = "err hello Mark")
</code></pre>

<hr>
<h2 id='ga_unsampled'>Get Unsampled Report Meta Data</h2><span id='topic+ga_unsampled'></span>

<h3>Description</h3>

<p>Get Unsampled Report Meta Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_unsampled(accountId, webPropertyId, profileId, unsampledReportId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_unsampled_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_+3A_unsampledreportid">unsampledReportId</code></td>
<td>
<p>Unsampled Report Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unsampled Report Meta Data
</p>


<h3>See Also</h3>

<p>Other unsampled download functions: 
<code><a href="#topic+ga_unsampled_download">ga_unsampled_download</a>()</code>,
<code><a href="#topic+ga_unsampled_list">ga_unsampled_list</a>()</code>
</p>

<hr>
<h2 id='ga_unsampled_download'>Download Unsampled Report from Google Drive. You must be authenticated with the
same account that you setup the unsampled report. This means service account
authentication is not supported.</h2><span id='topic+ga_unsampled_download'></span>

<h3>Description</h3>

<p>Download Unsampled Report from Google Drive. You must be authenticated with the
same account that you setup the unsampled report. This means service account
authentication is not supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_unsampled_download(
  reportTitle,
  accountId,
  webPropertyId,
  profileId,
  downloadFile = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_unsampled_download_+3A_reporttitle">reportTitle</code></td>
<td>
<p>Title of Unsampled Report (case-sensitive)</p>
</td></tr>
<tr><td><code id="ga_unsampled_download_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_download_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_download_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_download_+3A_downloadfile">downloadFile</code></td>
<td>
<p>Default TRUE, whether to download, if FALSE returns a dataframe instead</p>
</td></tr>
</table>


<h3>Value</h3>

<p>file location if <code>downloadFile</code> is TRUE, else a <code>data.frame</code> of download
</p>


<h3>See Also</h3>

<p>Other unsampled download functions: 
<code><a href="#topic+ga_unsampled_list">ga_unsampled_list</a>()</code>,
<code><a href="#topic+ga_unsampled">ga_unsampled</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

    # get data.frame of unsampled reports you have available
    unsample_list &lt;- ga_unsampled_list(accountId = "12345", 
                                       webPropertyId = "UA-12345-4", 
                                       profileId = "129371234")
                                       
    # loop through unsampled reports and download as a list of data.frames
    dl &lt;- lapply(unsample_list$title, ga_unsampled_download, 
                 accountId = "12345", 
                 webPropertyId = "UA-12345-4", 
                 profileId = "129371234", 
                 downloadFile = FALSE)
                 
    # inspect first data.frame
    dl[[1]]
    
    # download unsampled report to csv file
    ga_unsampled_download("my_report_title", 
                          accountId = "12345", 
                          webPropertyId = "UA-12345-4", 
                          profileId = "129371234")


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_unsampled_list'>List Unsampled Reports</h2><span id='topic+ga_unsampled_list'></span>

<h3>Description</h3>

<p>List Unsampled Reports
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_unsampled_list(accountId, webPropertyId, profileId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_unsampled_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_unsampled_list_+3A_profileid">profileId</code></td>
<td>
<p>Profile Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unsampled Reports List
</p>


<h3>See Also</h3>

<p>Other unsampled download functions: 
<code><a href="#topic+ga_unsampled_download">ga_unsampled_download</a>()</code>,
<code><a href="#topic+ga_unsampled">ga_unsampled</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

    # get data.frame of unsampled reports you have available
    unsample_list &lt;- ga_unsampled_list(accountId = "12345", 
                                       webPropertyId = "UA-12345-4", 
                                       profileId = "129371234")
                                       
    # loop through unsampled reports and download as a list of data.frames
    dl &lt;- lapply(unsample_list$title, ga_unsampled_download, 
                 accountId = "12345", 
                 webPropertyId = "UA-12345-4", 
                 profileId = "129371234", 
                 downloadFile = FALSE)
                 
    # inspect first data.frame
    dl[[1]]
    
    # download unsampled report to csv file
    ga_unsampled_download("my_report_title", 
                          accountId = "12345", 
                          webPropertyId = "UA-12345-4", 
                          profileId = "129371234")


## End(Not run)



</code></pre>

<hr>
<h2 id='ga_users_add'>Create or update user access to Google Analytics</h2><span id='topic+ga_users_add'></span>

<h3>Description</h3>

<p>If you supply more than one <code>email</code>, then batch processing will be applied.  Batching has special rules that give you 30 operations for the cost of one API call against your quota. When batching you will only get a <code>TRUE</code> result on successful batch, but individual entries may have failed.  Check via <a href="#topic+ga_users_list">ga_users_list</a> afterwards and try to add individual linkIds to get more descriptive error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_users_add(
  email,
  permissions,
  accountId,
  webPropertyId = NULL,
  viewId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_users_add_+3A_email">email</code></td>
<td>
<p>The email(s) of the user(s) to add.  Has to have a Google account.</p>
</td></tr>
<tr><td><code id="ga_users_add_+3A_permissions">permissions</code></td>
<td>
<p>Which permissions to add as a vector - <code>"MANAGE_USERS"</code>,<code>"EDIT"</code>,<code>"COLLABORATE"</code>,<code>"READ_AND_ANALYZE"</code></p>
</td></tr>
<tr><td><code id="ga_users_add_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_users_add_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id - set to NULL to operate on account level only</p>
</td></tr>
<tr><td><code id="ga_users_add_+3A_viewid">viewId</code></td>
<td>
<p>viewId - set to NULL to operate on webProperty level only</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if successful
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/user-management">Google help article on user permissions</a>
</p>
<p>Other User management functions: 
<code><a href="#topic+ga_users_delete_linkid">ga_users_delete_linkid</a>()</code>,
<code><a href="#topic+ga_users_delete">ga_users_delete</a>()</code>,
<code><a href="#topic+ga_users_list">ga_users_list</a>()</code>,
<code><a href="#topic+ga_users_update">ga_users_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()

ga_users_add(c("the_email@company.com", "another_email@company.com"), 
             permissions = "EDIT", accountId = 47480439)


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_users_delete'>Delete all user access for an email</h2><span id='topic+ga_users_delete'></span>

<h3>Description</h3>

<p>This is a wrapper around calls to <a href="#topic+ga_users_list">ga_users_list</a> and <a href="#topic+ga_users_delete_linkid">ga_users_delete_linkid</a>.  If you want more fine-grained control look at those functions.
</p>
<p>The user email is deleted from all web properties and views underneath the accountId you provide.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_users_delete(email, accountId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_users_delete_+3A_email">email</code></td>
<td>
<p>The email of the user to delete</p>
</td></tr>
<tr><td><code id="ga_users_delete_+3A_accountid">accountId</code></td>
<td>
<p>The accountId that the user will be deleted from including all web properties and Views underneath.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This deletes a user via their email reference for all webproperties and views for the account given.
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/accountUserLinks/delete">Google Documentation</a>
</p>
<p>Other User management functions: 
<code><a href="#topic+ga_users_add">ga_users_add</a>()</code>,
<code><a href="#topic+ga_users_delete_linkid">ga_users_delete_linkid</a>()</code>,
<code><a href="#topic+ga_users_list">ga_users_list</a>()</code>,
<code><a href="#topic+ga_users_update">ga_users_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()
ga_users_delete("brian@agency.com", 12345678)

# multiple emails
ga_users_delete(c("brian@agency.com", "bill@benland.com"), 1234567)


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_users_delete_linkid'>Delete users access from account, webproperty or view level</h2><span id='topic+ga_users_delete_linkid'></span>

<h3>Description</h3>

<p>The <code>linkId</code> is in the form of the accountId/webPropertyId/viewId colon separated from a link unique Id.
</p>
<p>Delete user access by supplying the linkId for that user at the level they have been given access.  It won't work to delete user links at account level if they have been assigned at web property or view level - you will need to get the linkId for that level instead. e.g. a user needs <code>permissions.local</code> to be non-NULL to be deleted at that level.  The parameter <code>check</code> will do this check before deletion and throw an error if they can not be deleted.   Set this to <code>check=FALSE</code> to suppress this behaviour.
</p>
<p>If you supply more than one <code>linkId</code>, then batch processing will be applied.  Batching has special rules that give you 30 operations for the cost of one API call against your quota. When batching you will only get a <code>TRUE</code> result on successful batch, but individual <code>linkId</code>s may have failed.  Check via <a href="#topic+ga_users_list">ga_users_list</a> afterwards and try to delete individual linkIds to get more descriptive error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_users_delete_linkid(
  linkId,
  accountId,
  webPropertyId = NULL,
  viewId = NULL,
  check = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_users_delete_linkid_+3A_linkid">linkId</code></td>
<td>
<p>The linkId(s) that is available using <a href="#topic+ga_users_list">ga_users_list</a> e.g. <code>47480439:104185380183364788718</code></p>
</td></tr>
<tr><td><code id="ga_users_delete_linkid_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_users_delete_linkid_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id - set to NULL to operate on account level only</p>
</td></tr>
<tr><td><code id="ga_users_delete_linkid_+3A_viewid">viewId</code></td>
<td>
<p>viewId - set to NULL to operate on webProperty level only</p>
</td></tr>
<tr><td><code id="ga_users_delete_linkid_+3A_check">check</code></td>
<td>
<p>If the default <code>TRUE</code> will check that the user has user access at the level you are trying to delete them from - if not will throw an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the deletion is successful, an error if not.
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/accountUserLinks/delete">Google Documentation</a>
</p>
<p>Other User management functions: 
<code><a href="#topic+ga_users_add">ga_users_add</a>()</code>,
<code><a href="#topic+ga_users_delete">ga_users_delete</a>()</code>,
<code><a href="#topic+ga_users_list">ga_users_list</a>()</code>,
<code><a href="#topic+ga_users_update">ga_users_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()

# get the linkId for the user you want to delete
ga_users_list(47480439, webPropertyId = "UA-47480439-2", viewId = 81416156)
ga_users_delete_linkid("81416156:114834495587136933146", 
                       accountId = 47480439, 
                       webPropertyId = "UA-47480439-2", 
                       viewId = 81416156)

# check its gone
ga_users_list(47480439, webPropertyId = "UA-47480439-2", viewId = 81416156)

# can only delete at level user has access, the above deletion woud have failed if via:
ga_users_delete_linkid("47480439:114834495587136933146", 47480439)


## End(Not run)
</code></pre>

<hr>
<h2 id='ga_users_list'>List Users</h2><span id='topic+ga_users_list'></span>

<h3>Description</h3>

<p>Get a list of Account level user links, or if you supply the webPropertyId or viewId it will show user links at that level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_users_list(accountId, webPropertyId = "~all", viewId = "~all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_users_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_users_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id - set to NULL to operate on account level only</p>
</td></tr>
<tr><td><code id="ga_users_list_+3A_viewid">viewId</code></td>
<td>
<p>viewId - set to NULL to operate on webProperty level only</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Will list users on an account, webproperty or view level
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> of user entity links including the linkId, email and permissions
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference/management/accountUserLinks">Account User Links Google Documentation</a>
</p>
<p>Other User management functions: 
<code><a href="#topic+ga_users_add">ga_users_add</a>()</code>,
<code><a href="#topic+ga_users_delete_linkid">ga_users_delete_linkid</a>()</code>,
<code><a href="#topic+ga_users_delete">ga_users_delete</a>()</code>,
<code><a href="#topic+ga_users_update">ga_users_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()
ga_users_list(47480439)
ga_users_list(47480439, webPropertyId = "UA-47480439-2")
ga_users_list(47480439, webPropertyId = "UA-47480439-2", viewId = 81416156)

# use NULL to only list linkids for that level
ga_users_list(47480439, webPropertyId = NULL, viewId = NULL)

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_users_update'>Update a user access in Google Analytics</h2><span id='topic+ga_users_update'></span>

<h3>Description</h3>

<p>This is for altering existing user access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_users_update(
  linkId,
  update_object,
  accountId,
  webPropertyId = NULL,
  viewId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_users_update_+3A_linkid">linkId</code></td>
<td>
<p>The linkId to update</p>
</td></tr>
<tr><td><code id="ga_users_update_+3A_update_object">update_object</code></td>
<td>
<p>A list that will be turned into JSON that represents the new configuration for this linkId</p>
</td></tr>
<tr><td><code id="ga_users_update_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_users_update_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id - set to NULL to operate on account level only</p>
</td></tr>
<tr><td><code id="ga_users_update_+3A_viewid">viewId</code></td>
<td>
<p>viewId - set to NULL to operate on webProperty level only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The new user object that has been altered.
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/config/mgmt/v3/user-management">Google help article on user permissions</a>
</p>
<p>Other User management functions: 
<code><a href="#topic+ga_users_add">ga_users_add</a>()</code>,
<code><a href="#topic+ga_users_delete_linkid">ga_users_delete_linkid</a>()</code>,
<code><a href="#topic+ga_users_delete">ga_users_delete</a>()</code>,
<code><a href="#topic+ga_users_list">ga_users_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()

# the update to perform
o &lt;- list(permissions = list(local = list("EDIT")))

ga_users_update("UA-123456-1:1111222233334444",
                update_object = o,
                accountId = 47480439,
                webPropertyId = "UA-123456-1")
                

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_view'>Get single View (Profile)</h2><span id='topic+ga_view'></span>

<h3>Description</h3>

<p>Gets meta-data for a particular View/Profile
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_view(accountId, webPropertyId, profileId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_view_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_view_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id</p>
</td></tr>
<tr><td><code id="ga_view_+3A_profileid">profileId</code></td>
<td>
<p>Profile (View) Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the Views meta-data.
</p>


<h3>See Also</h3>

<p>Other account structure functions: 
<code><a href="#topic+ga_account_list">ga_account_list</a>()</code>,
<code><a href="#topic+ga_accounts">ga_accounts</a>()</code>,
<code><a href="#topic+ga_view_list">ga_view_list</a>()</code>,
<code><a href="#topic+ga_webproperty_list">ga_webproperty_list</a>()</code>,
<code><a href="#topic+ga_webproperty">ga_webproperty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)
ga_auth()
ga_view(1058095, webPropertyId = "UA-1058095-1", profileId = 1855267)

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_view_list'>List View (Profile)</h2><span id='topic+ga_view_list'></span>

<h3>Description</h3>

<p>This gets the meta data associated with the Google Analytics Views for a particular accountId and webPropertyId.
If you want all viewId information for all accounts you have access to, use <a href="#topic+ga_account_list">ga_account_list</a> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_view_list(accountId, webPropertyId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_view_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_view_list_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id e.g. <code>UA-12345-1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> of meta-data for the views
</p>


<h3>See Also</h3>

<p>Other account structure functions: 
<code><a href="#topic+ga_account_list">ga_account_list</a>()</code>,
<code><a href="#topic+ga_accounts">ga_accounts</a>()</code>,
<code><a href="#topic+ga_view">ga_view</a>()</code>,
<code><a href="#topic+ga_webproperty_list">ga_webproperty_list</a>()</code>,
<code><a href="#topic+ga_webproperty">ga_webproperty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()
views &lt;- ga_view_list(1058095, "UA-1058095-1")

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_webproperty'>Get a web property</h2><span id='topic+ga_webproperty'></span>

<h3>Description</h3>

<p>Gets metadata for one particular web property
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_webproperty(accountId, webPropertyId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_webproperty_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
<tr><td><code id="ga_webproperty_+3A_webpropertyid">webPropertyId</code></td>
<td>
<p>Web Property Id e.g. <code>UA-12345-1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>webproperty
</p>


<h3>See Also</h3>

<p>Other account structure functions: 
<code><a href="#topic+ga_account_list">ga_account_list</a>()</code>,
<code><a href="#topic+ga_accounts">ga_accounts</a>()</code>,
<code><a href="#topic+ga_view_list">ga_view_list</a>()</code>,
<code><a href="#topic+ga_view">ga_view</a>()</code>,
<code><a href="#topic+ga_webproperty_list">ga_webproperty_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()
wp &lt;- ga_webproperty(1058095, "UA-1058095-1")

## End(Not run)
</code></pre>

<hr>
<h2 id='ga_webproperty_list'>List web properties</h2><span id='topic+ga_webproperty_list'></span>

<h3>Description</h3>

<p>This gets the meta data for web properties associated with a particular accountId.
If you want all information available to your user, use <a href="#topic+ga_account_list">ga_account_list</a> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ga_webproperty_list(accountId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ga_webproperty_list_+3A_accountid">accountId</code></td>
<td>
<p>Account Id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> of webproperty meta-data
</p>


<h3>See Also</h3>

<p>Other account structure functions: 
<code><a href="#topic+ga_account_list">ga_account_list</a>()</code>,
<code><a href="#topic+ga_accounts">ga_accounts</a>()</code>,
<code><a href="#topic+ga_view_list">ga_view_list</a>()</code>,
<code><a href="#topic+ga_view">ga_view</a>()</code>,
<code><a href="#topic+ga_webproperty">ga_webproperty</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)
ga_auth()
aa &lt;- ga_accounts()
wp &lt;- ga_webproperty_list(aa$id[1])

## End(Not run)
</code></pre>

<hr>
<h2 id='google_analytics'>Get Google Analytics v4 data</h2><span id='topic+google_analytics'></span><span id='topic+google_analytics_4'></span>

<h3>Description</h3>

<p>Fetch Google Analytics data using the v4 API.  For the v3 API use <a href="#topic+google_analytics_3">google_analytics_3</a>, for GA4's Data API use <a href="#topic+ga_data">ga_data</a>.  See website help for lots of examples: <a href="http://code.markedmondson.me/googleAnalyticsR/articles/v4.html">Google Analytics Reporting API v4 in R</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_analytics(
  viewId,
  date_range = NULL,
  metrics = NULL,
  dimensions = NULL,
  dim_filters = NULL,
  met_filters = NULL,
  filtersExpression = NULL,
  order = NULL,
  segments = NULL,
  pivots = NULL,
  cohorts = NULL,
  max = 1000,
  samplingLevel = c("DEFAULT", "SMALL", "LARGE"),
  metricFormat = NULL,
  histogramBuckets = NULL,
  anti_sample = FALSE,
  anti_sample_batches = "auto",
  slow_fetch = FALSE,
  useResourceQuotas = NULL,
  rows_per_call = 10000L
)

google_analytics_4(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_analytics_+3A_viewid">viewId</code></td>
<td>
<p>viewId of data to get.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_date_range">date_range</code></td>
<td>
<p>character or date vector of format <code>c(start, end)</code> or
for two date ranges: <code>c(start1,end1,start2,end2)</code></p>
</td></tr>
<tr><td><code id="google_analytics_+3A_metrics">metrics</code></td>
<td>
<p>Metric(s) to fetch as a character vector.  You do not need to
supply the <code>"ga:"</code> prefix.  See <a href="#topic+meta">meta</a> for a list of dimensons
and metrics the API supports. Also supports your own calculated metrics.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_dimensions">dimensions</code></td>
<td>
<p>Dimension(s) to fetch as a character vector. You do not need to
supply the <code>"ga:"</code> prefix. See <a href="#topic+meta">meta</a> for a list of dimensons
and metrics the API supports.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_dim_filters">dim_filters</code></td>
<td>
<p>A <a href="#topic+filter_clause_ga4">filter_clause_ga4</a> wrapping <a href="#topic+dim_filter">dim_filter</a></p>
</td></tr>
<tr><td><code id="google_analytics_+3A_met_filters">met_filters</code></td>
<td>
<p>A <a href="#topic+filter_clause_ga4">filter_clause_ga4</a> wrapping <a href="#topic+met_filter">met_filter</a></p>
</td></tr>
<tr><td><code id="google_analytics_+3A_filtersexpression">filtersExpression</code></td>
<td>
<p>A v3 API style simple filter string. Not used with other filters.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_order">order</code></td>
<td>
<p>An <a href="#topic+order_type">order_type</a> object</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_segments">segments</code></td>
<td>
<p>List of segments as created by <a href="#topic+segment_ga4">segment_ga4</a></p>
</td></tr>
<tr><td><code id="google_analytics_+3A_pivots">pivots</code></td>
<td>
<p>Pivots of the data as created by <a href="#topic+pivot_ga4">pivot_ga4</a></p>
</td></tr>
<tr><td><code id="google_analytics_+3A_cohorts">cohorts</code></td>
<td>
<p>Cohorts created by <a href="#topic+make_cohort_group">make_cohort_group</a></p>
</td></tr>
<tr><td><code id="google_analytics_+3A_max">max</code></td>
<td>
<p>Maximum number of rows to fetch. Defaults at 1000. Use -1 to fetch all results. Ignored when <code>anti_sample=TRUE</code>.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_samplinglevel">samplingLevel</code></td>
<td>
<p>Sample level</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_metricformat">metricFormat</code></td>
<td>
<p>If supplying calculated metrics, specify the metric type</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_histogrambuckets">histogramBuckets</code></td>
<td>
<p>For numeric dimensions such as hour, a list of buckets of data.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_anti_sample">anti_sample</code></td>
<td>
<p>If TRUE will split up the call to avoid sampling.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_anti_sample_batches">anti_sample_batches</code></td>
<td>
<p>&quot;auto&quot; default, or set to number of days per batch. 1 = daily.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_slow_fetch">slow_fetch</code></td>
<td>
<p>For large, complicated API requests this bypasses some API hacks that may result in 500 errors.  For smaller queries, leave this as <code>FALSE</code> for quicker data fetching.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_useresourcequotas">useResourceQuotas</code></td>
<td>
<p>If using GA360, access increased sampling limits.
Default <code>NULL</code>, set to <code>TRUE</code> or <code>FALSE</code> if you have access to this feature.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_rows_per_call">rows_per_call</code></td>
<td>
<p>Set how many rows are requested by the API per call, up to a maximum of 100000.</p>
</td></tr>
<tr><td><code id="google_analytics_+3A_...">...</code></td>
<td>
<p>Arguments passed to <a href="#topic+google_analytics">google_analytics</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Google Analytics data.frame, with attributes showing row totals, sampling etc.
</p>


<h3>Row requests</h3>

<p>By default the API call will use v4 batching that splits requests into 5 separate calls of 10k rows each.  This can go up to 100k, so this means up to 500k rows can be fetched per API call, however the API servers will fail with a 500 error if the query is too complicated as the processing time at Google's end gets too long.  In this case, you may want to tweak the <code>rows_per_call</code> argument downwards, or fall back to using <code>slow_fetch = FALSE</code> which will send an API request one at a time.  If fetching data via scheduled scripts this is recommended as the default.
</p>


<h3>Anti-sampling</h3>

<p><code>anti_sample</code> being TRUE ignores <code>max</code> as the API call is split over days
to mitigate the sampling session limit, in which case a row limit won't work.  Take the top rows
of the result yourself instead e.g. <code>head(ga_data_unsampled, 50300)</code>
</p>
<p><code>anti_sample</code> being TRUE will also set <code>samplingLevel='LARGE'</code> to minimise
the number of calls.
</p>


<h3>Resource Quotas</h3>

<p>If you are on GA360 and have access to resource quotas,
set the <code>useResourceQuotas=TRUE</code> and set the Google Cloud
client ID to the project that has resource quotas activated,
via <a href="googleAuthR.html#topic+gar_set_client">gar_set_client</a> or options.
</p>


<h3>Caching</h3>

<p>By default local caching is turned on for v4 API requests.  This means that
making the same request as one this session will read from memory and not
make an API call. You can also set the cache to disk via
the <a href="#topic+ga_cache_call">ga_cache_call</a> function.  This can be useful
when running RMarkdown reports using data.
</p>


<h3>Metrics</h3>

<p>Metrics support calculated metrics like ga:users / ga:sessions if you supply
them in a named vector.
</p>
<p>You must supply the correct 'ga:' prefix unlike normal metrics
</p>
<p>You can mix calculated and normal metrics like so:
</p>
<p><code>customMetric &lt;- c(sessionPerVisitor = "ga:sessions / ga:visitors", "bounceRate", "entrances")</code>
</p>
<p>You can also optionally supply a <code>metricFormat</code> parameter that must be
the same length as the metrics.  <code>metricFormat</code> can be:
<code style="white-space: pre;">&#8288;METRIC_TYPE_UNSPECIFIED, INTEGER, FLOAT, CURRENCY, PERCENT, TIME&#8288;</code>
</p>
<p>All metrics are currently parsed to as.numeric when in R.
</p>


<h3>Dimensions</h3>

<p>Supply a character vector of dimensions, with or without <code style="white-space: pre;">&#8288;ga:&#8288;</code> prefix.
</p>
<p>Optionally for numeric dimension types such as
<code style="white-space: pre;">&#8288;ga:hour, ga:browserVersion, ga:sessionsToTransaction&#8288;</code>, etc. supply
histogram buckets suitable for histogram plots.
</p>
<p>If non-empty, we place dimension values into buckets after string to int64.
Dimension values that are not the string representation of an integral value
will be converted to zero. The bucket values have to be in increasing order.
Each bucket is closed on the lower end, and open on the upper end.
The &quot;first&quot; bucket includes all values less than the first boundary,
the &quot;last&quot; bucket includes all values up to infinity.
Dimension values that fall in a bucket get transformed to a new dimension
value. For example, if one gives a list of &quot;0, 1, 3, 4, 7&quot;, then we
return the following buckets: -
</p>

<ul>
<li><p> bucket #1: values &lt; 0, dimension value &quot;&lt;0&quot;
</p>
</li>
<li><p> bucket #2: values in [0,1), dimension value &quot;0&quot;
</p>
</li>
<li><p> bucket #3: values in [1,3), dimension value &quot;1-2&quot;
</p>
</li>
<li><p> bucket #4: values in [3,4), dimension value &quot;3&quot;
</p>
</li>
<li><p> bucket #5: values in [4,7), dimension value &quot;4-6&quot;
</p>
</li>
<li><p> bucket #6: values &gt;= 7, dimension value &quot;7+&quot;
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate, or use the RStudio Addin "Google API Auth" with analytics scopes set

ga_auth()

## get your accounts

account_list &lt;- ga_account_list()

## account_list will have a column called "viewId"
account_list$viewId

## View account_list and pick the viewId you want to extract data from
ga_id &lt;- 123456

# examine the meta table to see metrics and dimensions you can query
meta

## simple query to test connection
google_analytics(ga_id, 
                 date_range = c("2017-01-01", "2017-03-01"), 
                 metrics = "sessions", 
                 dimensions = "date")

## change the quotaUser to fetch under
google_analytics(1234567, date_range = c("30daysAgo", "yesterday"), metrics = "sessions")

options("googleAnalyticsR.quotaUser" = "test_user")
google_analytics(1234567, date_range = c("30daysAgo", "yesterday"), metrics = "sessions")


## End(Not run)

</code></pre>

<hr>
<h2 id='google_analytics_3'>Get Google Analytics v3 data (formerly google_analytics())</h2><span id='topic+google_analytics_3'></span>

<h3>Description</h3>

<p>Legacy v3 API, for more modern API use <a href="#topic+google_analytics">google_analytics</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_analytics_3(
  id,
  start,
  end,
  metrics = c("sessions", "bounceRate"),
  dimensions = NULL,
  sort = NULL,
  filters = NULL,
  segment = NULL,
  samplingLevel = c("DEFAULT", "FASTER", "HIGHER_PRECISION"),
  max_results = 100,
  type = c("ga", "mcf")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_analytics_3_+3A_id">id</code></td>
<td>
<p>A character vector of View Ids to fetch from.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_start">start</code></td>
<td>
<p>Start date in YYY-MM-DD format.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_end">end</code></td>
<td>
<p>End date in YYY-MM-DD format.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_metrics">metrics</code></td>
<td>
<p>A character vector of metrics. With or without ga: prefix.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_dimensions">dimensions</code></td>
<td>
<p>A character vector of dimensions. With or without ga: prefix.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_sort">sort</code></td>
<td>
<p>How to sort the results, in form 'ga:sessions,-ga:bounceRate'</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_filters">filters</code></td>
<td>
<p>Filters for the result, in form 'ga:sessions&gt;0;ga:pagePath=~blah'</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_segment">segment</code></td>
<td>
<p>How to segment.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_samplinglevel">samplingLevel</code></td>
<td>
<p>Level of precision of the API requests</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_max_results">max_results</code></td>
<td>
<p>Default 100. If greater than 10,000 then will batch GA calls.</p>
</td></tr>
<tr><td><code id="google_analytics_3_+3A_type">type</code></td>
<td>
<p>ga = Google Analytics v3; mcf = Multi-Channel Funels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For one id a data.frame of data, with meta-data in attributes.
</p>


<h3>See Also</h3>

<p>https://developers.google.com/analytics/devguides/reporting/core/v3/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(googleAnalyticsR)

## Authenticate in Google OAuth2
## this also sets options
ga_auth()

## if you need to re-authenticate use ga_auth(new_user=TRUE)
## if you have your own Google Dev console project keys,
## then don't run ga_auth() as that will set to the defaults.
## instead put your options here, and run googleAuthR::gar_auth()

## get account info, including View Ids
account_list &lt;- ga_account_list()
ga_id &lt;- account_list$viewId[1]

## get a list of what metrics and dimensions you can use

meta &lt;- ga_meta()
head(meta)

## pick the account_list$viewId you want to see data for.
## metrics and dimensions can have or have not "ga:" prefix

gadata &lt;- google_analytics_3(id = ga_id,
                           start="2015-08-01", end="2015-08-02",
                           metrics = c("sessions", "bounceRate"),
                           dimensions = c("source", "medium"))
                       
                                
## if more than 10000 rows in results, auto batching
## example is setting lots of dimensions to try and create big sampled data
batch_gadata &lt;- google_analytics_3(id = ga_id,
                                 start="2014-08-01", end="2015-08-02",
                                 metrics = c("sessions", "bounceRate"),
                                 dimensions = c("source", "medium", 
                                               "landingPagePath",
                                               "hour","minute"),
                                max=99999999)

## mitigate sampling by setting samplingLevel="WALK"
## this will send lots and lots of calls to the Google API limits, beware
walk_gadata &lt;- google_analytics_3(id = ga_id,
                                start="2014-08-01", end="2015-08-02",
                                metrics = c("sessions", "bounceRate"),
                                dimensions = c("source", "medium", "landingPagePath"),
                                max=99999999, samplingLevel="WALK")
                                
## multi-channel funnels set type="mcf"
mcf_gadata &lt;- google_analytics_3(id = ga_id,
                               start="2015-08-01", end="2015-08-02",
                               metrics = c("totalConversions"),
                               dimensions = c("sourcePath"),
                               type="mcf")


## reach meta-data via attr()
attr(gadata, "profileInfo")
attr(gadata, "dateRange")



## End(Not run)

</code></pre>

<hr>
<h2 id='google_analytics_bq'>Get Google Analytics 360 BigQuery data</h2><span id='topic+google_analytics_bq'></span>

<h3>Description</h3>

<p>Turn a google_analytics style call into BigQuery SQL.
Used with Google Analytics 360 BigQuery exports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_analytics_bq(
  projectId,
  datasetId,
  start = NULL,
  end = NULL,
  metrics = NULL,
  dimensions = NULL,
  sort = NULL,
  filters = NULL,
  max_results = 100,
  query = NULL,
  return_query_only = FALSE,
  bucket = NULL,
  download_file = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_analytics_bq_+3A_projectid">projectId</code></td>
<td>
<p>The Google project Id where the BigQuery exports sit</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_datasetid">datasetId</code></td>
<td>
<p>DatasetId of GA export.  This should match the GA View ID</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_start">start</code></td>
<td>
<p>start date</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_end">end</code></td>
<td>
<p>end date</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_metrics">metrics</code></td>
<td>
<p>metrics to query</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_dimensions">dimensions</code></td>
<td>
<p>dimensions to query</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_sort">sort</code></td>
<td>
<p>metric to sort by</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_filters">filters</code></td>
<td>
<p>filter results</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_max_results">max_results</code></td>
<td>
<p>How many results to fetch</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_query">query</code></td>
<td>
<p>If query is non-NULL then it will use that and ignore above</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_return_query_only">return_query_only</code></td>
<td>
<p>Only return the constructed query, don't call BigQuery</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_bucket">bucket</code></td>
<td>
<p>if over 100000 results, specify a Google Cloud bucket to send data to</p>
</td></tr>
<tr><td><code id="google_analytics_bq_+3A_download_file">download_file</code></td>
<td>
<p>Where to save asynch files.  If NULL saves to current working directory.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All data will be unsampled, and requests will cost money against your BigQuery quota.
</p>
<p>Requires installation of bigQueryR and authentication under ga_bq_auth()
or googleAuthR::gar_auth() with BigQuery scope set.
View your projectIds upon authentication via <code><a href="bigQueryR.html#topic+bqr_list_projects">bigQueryR::bqr_list_projects()</a></code>
</p>
<p>No segments for now.
</p>
<p>Goals are not specified in BQ exports, so you need to look at how you define them and replicate per view
e.g. unique pageviews or unique events.
</p>
<p>Custom dimensions can be specified as session or hit level, so ignoring the setting in GA interface.
</p>
<p>You can get a sample Google Analytics dataset in bigquery by following the instructions
here: <a href="https://support.google.com/analytics/answer/3416091?hl=en">https://support.google.com/analytics/answer/3416091?hl=en</a>
</p>


<h3>Value</h3>

<p>data.frame of results
</p>


<h3>See Also</h3>

<p><a href="https://support.google.com/analytics/answer/4419694?hl=en">https://support.google.com/analytics/answer/4419694?hl=en</a>
<a href="https://support.google.com/analytics/answer/3437719?hl=en">https://support.google.com/analytics/answer/3437719?hl=en</a>
</p>

<hr>
<h2 id='google_analytics_bq_asynch'>Asynch fetch</h2><span id='topic+google_analytics_bq_asynch'></span>

<h3>Description</h3>

<p>Asynch fetch
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_analytics_bq_asynch(projectId, datasetId, query, bucket, download_file)
</code></pre>

<hr>
<h2 id='googleAnalyticsR'>Library for getting Google Analytics data into R</h2><span id='topic+googleAnalyticsR'></span>

<h3>Description</h3>


<p><img src="../help/figures/logo.png" alt="googleAnalyticsR" />

</p>
<p>Follow the online documentation here: <a href="https://code.markedmondson.me/googleAnalyticsR/">https://code.markedmondson.me/googleAnalyticsR/</a>
</p>

<hr>
<h2 id='make_cohort_group'>Create a cohort group</h2><span id='topic+make_cohort_group'></span>

<h3>Description</h3>

<p>Create a cohort group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_cohort_group(cohorts, lifetimeValue = FALSE, cohort_types = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_cohort_group_+3A_cohorts">cohorts</code></td>
<td>
<p>A named list of start/end date pairs</p>
</td></tr>
<tr><td><code id="make_cohort_group_+3A_lifetimevalue">lifetimeValue</code></td>
<td>
<p>lifetimeValue TRUE or FALSE.  Only works for webapps.</p>
</td></tr>
<tr><td><code id="make_cohort_group_+3A_cohort_types">cohort_types</code></td>
<td>
<p>placeholder, does nothing as only FIRST_VISIT_DATE supported.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Example: <code>list("cohort 1" = c("2015-08-01", "2015-08-01"),  "cohort 2" = c("2015-07-01","2015-07-01"))</code>
</p>


<h3>Value</h3>

<p>A cohortGroup object
</p>


<h3>See Also</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/core/v4/advanced#cohort_and_lifetime_value_ltv_dimensions_and_metrics">https://developers.google.com/analytics/devguides/reporting/core/v4/advanced#cohort_and_lifetime_value_ltv_dimensions_and_metrics</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate, 
## or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()

## get your accounts
account_list &lt;- google_analytics_account_list()

## pick a profile with data to query

ga_id &lt;- account_list[23,'viewId']


## first make a cohort group

cohort4 &lt;- make_cohort_group(list("cohort 1" = c("2015-08-01", "2015-08-01"), 
                                  "cohort 2" = c("2015-07-01","2015-07-01")))
                                  
## then call cohort report.  No date_range and must include metrics and dimensions
##   from the cohort list
cohort_example &lt;- google_analytics(ga_id, 
                                   dimensions=c('cohort'), 
                                   cohort = cohort4, 
                                   metrics = c('cohortTotalUsers'))
                                     
                                     
### Lifetime Value report - just a variation of the cohort report 
# with lifetimeValue = TRUE
### and ltv specific metrics
### The view MUST be an app view at the moment
 
## make a cohort group with lifetimeValue = TRUE
 
cohort_ltv &lt;- make_cohort_group(list("cohort 1" = c("2018-12-01", "2018-12-31"), 
                                     "cohort 2" = c("2019-01-01", "2019-01-31")),
                                     lifetimeValue = TRUE)
                                     
## call a cohort report with ltv metrics

ltv_example &lt;- google_analytics(ga_id, 
     dimensions = c('cohort', "acquisitionTrafficChannel"), 
     cohorts = cohort_ltv, 
     metrics = c("cohortGoalCompletionsPerUserWithLifetimeCriteria"))              
                                    

## End(Not run)

</code></pre>

<hr>
<h2 id='met_fil_ga4-class'><code>met_fil_ga4</code> class.</h2><span id='topic+met_fil_ga4-class'></span>

<h3>Description</h3>

<p>Metric filter.
</p>

<hr>
<h2 id='met_filter'>Make a metric filter object</h2><span id='topic+met_filter'></span>

<h3>Description</h3>

<p>Make a metric filter object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>met_filter(
  metric,
  operator = c("EQUAL", "LESS_THAN", "GREATER_THAN", "IS_MISSING"),
  comparisonValue,
  not = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="met_filter_+3A_metric">metric</code></td>
<td>
<p>metric name to filter on.</p>
</td></tr>
<tr><td><code id="met_filter_+3A_operator">operator</code></td>
<td>
<p>How to match the dimension.</p>
</td></tr>
<tr><td><code id="met_filter_+3A_comparisonvalue">comparisonValue</code></td>
<td>
<p>What to match.</p>
</td></tr>
<tr><td><code id="met_filter_+3A_not">not</code></td>
<td>
<p>Logical NOT operator. Boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>met_fil_ga4</code> for use in <code><a href="#topic+filter_clause_ga4">filter_clause_ga4()</a></code>
</p>


<h3>See Also</h3>

<p>Other filter functions: 
<code><a href="#topic+dim_filter">dim_filter</a>()</code>,
<code><a href="#topic+filter_clause_ga4">filter_clause_ga4</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate,
## or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()

## get your accounts
account_list &lt;- google_analytics_account_list()

## pick a profile with data to query

ga_id &lt;- account_list[23,'viewId']

## create filters on metrics
mf &lt;- met_filter("bounces", "GREATER_THAN", 0)
mf2 &lt;- met_filter("sessions", "GREATER", 2)

## create filters on dimensions
df &lt;- dim_filter("source","BEGINS_WITH","1",not = TRUE)
df2 &lt;- dim_filter("source","BEGINS_WITH","a",not = TRUE)

## construct filter objects
fc2 &lt;- filter_clause_ga4(list(df, df2), operator = "AND")
fc &lt;- filter_clause_ga4(list(mf, mf2), operator = "AND")

## make v4 request
ga_data1 &lt;- google_analytics_4(ga_id,
                               date_range = c("2015-07-30","2015-10-01"),
                               dimensions=c('source','medium'),
                               metrics = c('sessions','bounces'),
                               met_filters = fc,
                               dim_filters = fc2,
                               filtersExpression = "ga:source!=(direct)")


## End(Not run)

</code></pre>

<hr>
<h2 id='met_ga4-class'><code>met_ga4</code> class.</h2><span id='topic+met_ga4-class'></span>

<h3>Description</h3>

<p>Metric.
</p>

<hr>
<h2 id='meta'>Google Analytics API metadata</h2><span id='topic+meta'></span>

<h3>Description</h3>

<p>This is a local copy of the data provided by <a href="#topic+ga_meta">ga_meta</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meta
</code></pre>


<h3>Format</h3>

<p>A data frame containing metric and dimensions that
you can query the Reporting API with.
</p>


<h3>Details</h3>

<p>Running your own call will be more up to date, but this is here in case.
</p>
<p>It does not include the multi-channel or cohort variables.
</p>


<h3>Source</h3>

<p><a href="https://ga-dev-tools.appspot.com/dimensions-metrics-explorer/">https://ga-dev-tools.appspot.com/dimensions-metrics-explorer/</a>
</p>

<hr>
<h2 id='meta4'>Google Analytics API metadata</h2><span id='topic+meta4'></span>

<h3>Description</h3>

<p>This is a local copy of the data provided by <code>ga_meta("data")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meta4
</code></pre>


<h3>Format</h3>

<p>A data frame containing metric and dimensions that
you can query the Data API with.
</p>


<h3>Details</h3>

<p>Running your own call will be more up to date, but this is here in case.
</p>


<h3>Source</h3>

<p><a href="https://developers.google.com/analytics/devguides/reporting/data/v1/api-schema">https://developers.google.com/analytics/devguides/reporting/data/v1/api-schema</a>
</p>

<hr>
<h2 id='metricDimensionSelectUI'>metricDimensionSelectUI - GA4 Shiny Module</h2><span id='topic+metricDimensionSelectUI'></span><span id='topic+metricDimensionSelect'></span>

<h3>Description</h3>

<p>Create a Google Analytics variable selector
</p>
<p>Shiny Module for use with GA4 metric and dimension fields fetched via <code>ga_meta("ga4")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metricDimensionSelectUI(id, label = "Metric", multiple = TRUE, width = NULL)

metricDimensionSelect(
  id,
  field_type = c("metric", "dimension"),
  custom_meta = NULL,
  default = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metricDimensionSelectUI_+3A_id">id</code></td>
<td>
<p>The Shiny id</p>
</td></tr>
<tr><td><code id="metricDimensionSelectUI_+3A_label">label</code></td>
<td>
<p>label</p>
</td></tr>
<tr><td><code id="metricDimensionSelectUI_+3A_multiple">multiple</code></td>
<td>
<p>multiple select</p>
</td></tr>
<tr><td><code id="metricDimensionSelectUI_+3A_width">width</code></td>
<td>
<p>width of select</p>
</td></tr>
<tr><td><code id="metricDimensionSelectUI_+3A_field_type">field_type</code></td>
<td>
<p>metric or dimension</p>
</td></tr>
<tr><td><code id="metricDimensionSelectUI_+3A_custom_meta">custom_meta</code></td>
<td>
<p>Pass a meta field table from <code>ga_meta("ga4")</code> to get custom fields from GA4 (reactive)</p>
</td></tr>
<tr><td><code id="metricDimensionSelectUI_+3A_default">default</code></td>
<td>
<p>The default selected choice. First element if NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny UI
</p>
<p>the selected variable
</p>


<h3>See Also</h3>

<p>Other Shiny modules: 
<code><a href="#topic+accountPickerUI">accountPickerUI</a>()</code>,
<code><a href="#topic+authDropdownUI">authDropdownUI</a>()</code>,
<code><a href="#topic+authDropdown">authDropdown</a>()</code>,
<code><a href="#topic+multi_selectUI">multi_selectUI</a>()</code>,
<code><a href="#topic+multi_select">multi_select</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

# ui.R
metricDimensionSelect("mets1")
metricDimensionSelect("dims1")

#server.R
metrics &lt;- metricDimensionSelect("mets1", "metric")
dims &lt;- metricDimensionSelect("dims1", "dimension")



# use in app with custom fields
#' ui &lt;- fluidPage(title = "Shiny App",
                 accountPickerUI("auth_menu", inColumns = TRUE),
                 metricDimensionSelectUI("mets1"),
                 metricDimensionSelectUI("dims_custom")
                 )
server &lt;- function(input, output, session){
  token &lt;- gar_shiny_auth(session)
  
  accs &lt;- reactive({
    req(token)
    ga_account_list("ga4")
   })
   
  # no custom data
  metrics &lt;- metricDimensionSelect("mets1")
   
  # module for authentication
  property_id &lt;- accountPicker("auth_menu", ga_table = accs, id_only = TRUE)
  
  meta &lt;- reactive({
      req(property_id())
      ga_meta("data", propertyId = property_id())
  })
 
  
  # custom data
  dims_custom &lt;- metricDimensionSelect("dims_custom", 
                                       type = "dimension", 
                                       custom_meta = meta())
 }
 
 shinyApp(gar_shiny_ui(ui, login_ui = silent_auth), server)
 



## End(Not run)
</code></pre>

<hr>
<h2 id='multi_select'>multi_select Shiny Module</h2><span id='topic+multi_select'></span>

<h3>Description</h3>

<p>Shiny Module for use with <a href="#topic+multi_selectUI">multi_selectUI</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_select(
  input,
  output,
  session,
  type = c("METRIC", "DIMENSION"),
  subType = c("all", "segment", "cohort"),
  default = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multi_select_+3A_input">input</code></td>
<td>
<p>shiny input</p>
</td></tr>
<tr><td><code id="multi_select_+3A_output">output</code></td>
<td>
<p>shiny output</p>
</td></tr>
<tr><td><code id="multi_select_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
<tr><td><code id="multi_select_+3A_type">type</code></td>
<td>
<p>metric or dimension</p>
</td></tr>
<tr><td><code id="multi_select_+3A_subtype">subType</code></td>
<td>
<p>Limit selections to those relevant</p>
</td></tr>
<tr><td><code id="multi_select_+3A_default">default</code></td>
<td>
<p>The default selected choice. First element if NULL</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Call via <code>shiny::callModule(multi_select, "your_id")</code>
</p>


<h3>Value</h3>

<p>the selected variable
</p>


<h3>See Also</h3>

<p>Other Shiny modules: 
<code><a href="#topic+accountPickerUI">accountPickerUI</a>()</code>,
<code><a href="#topic+authDropdownUI">authDropdownUI</a>()</code>,
<code><a href="#topic+authDropdown">authDropdown</a>()</code>,
<code><a href="#topic+metricDimensionSelectUI">metricDimensionSelectUI</a>()</code>,
<code><a href="#topic+multi_selectUI">multi_selectUI</a>()</code>
</p>

<hr>
<h2 id='multi_selectUI'>multi_select UI Shiny Module</h2><span id='topic+multi_selectUI'></span>

<h3>Description</h3>

<p>Shiny Module for use with <a href="#topic+multi_select">multi_select</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_selectUI(id, label = "Metric", multiple = TRUE, width = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multi_selectUI_+3A_id">id</code></td>
<td>
<p>Shiny id</p>
</td></tr>
<tr><td><code id="multi_selectUI_+3A_label">label</code></td>
<td>
<p>label</p>
</td></tr>
<tr><td><code id="multi_selectUI_+3A_multiple">multiple</code></td>
<td>
<p>multiple select</p>
</td></tr>
<tr><td><code id="multi_selectUI_+3A_width">width</code></td>
<td>
<p>width of select</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create a Google Analytics variable selector
</p>


<h3>Value</h3>

<p>Shiny UI
</p>


<h3>See Also</h3>

<p>Other Shiny modules: 
<code><a href="#topic+accountPickerUI">accountPickerUI</a>()</code>,
<code><a href="#topic+authDropdownUI">authDropdownUI</a>()</code>,
<code><a href="#topic+authDropdown">authDropdown</a>()</code>,
<code><a href="#topic+metricDimensionSelectUI">metricDimensionSelectUI</a>()</code>,
<code><a href="#topic+multi_select">multi_select</a>()</code>
</p>

<hr>
<h2 id='order_type'>Make an OrderType object</h2><span id='topic+order_type'></span>

<h3>Description</h3>

<p>Make an OrderType object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>order_type(
  field,
  sort_order = c("ASCENDING", "DESCENDING"),
  orderType = c("VALUE", "DELTA", "SMART", "HISTOGRAM_BUCKET", "DIMENSION_AS_INTEGER")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="order_type_+3A_field">field</code></td>
<td>
<p>One field to sort by</p>
</td></tr>
<tr><td><code id="order_type_+3A_sort_order">sort_order</code></td>
<td>
<p>ASCENDING or DESCENDING</p>
</td></tr>
<tr><td><code id="order_type_+3A_ordertype">orderType</code></td>
<td>
<p>Type of ordering</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For multiple order sorting, create separate OrderType objects to pass
</p>


<h3>Value</h3>

<p>A order_type_ga4 object for use in GAv4 fetch
</p>

<hr>
<h2 id='order_type_ga4-class'><code>order_type_ga4</code> class.</h2><span id='topic+order_type_ga4-class'></span>

<h3>Description</h3>

<p>Order type.
</p>

<hr>
<h2 id='orFiltersForSegment_ga4-class'><code>orFiltersForSegment_ga4</code> class.</h2><span id='topic+orFiltersForSegment_ga4-class'></span>

<h3>Description</h3>

<p>Or-filter for segment.
</p>

<hr>
<h2 id='parse_ga_account_summary'>New parse GA account summary</h2><span id='topic+parse_ga_account_summary'></span>

<h3>Description</h3>

<p>New parse GA account summary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_ga_account_summary(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_ga_account_summary_+3A_x">x</code></td>
<td>
<p>The account summary items</p>
</td></tr>
</table>

<hr>
<h2 id='pivot_ga4'>Make a pivot object</h2><span id='topic+pivot_ga4'></span>

<h3>Description</h3>

<p>Make a pivot object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pivot_ga4(
  pivot_dim,
  metrics,
  dim_filter_clause = NULL,
  startGroup = 0,
  maxGroupCount = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pivot_ga4_+3A_pivot_dim">pivot_dim</code></td>
<td>
<p>A character vector of dimensions</p>
</td></tr>
<tr><td><code id="pivot_ga4_+3A_metrics">metrics</code></td>
<td>
<p>Metrics to aggregate and return.</p>
</td></tr>
<tr><td><code id="pivot_ga4_+3A_dim_filter_clause">dim_filter_clause</code></td>
<td>
<p>Only data included in filter included.</p>
</td></tr>
<tr><td><code id="pivot_ga4_+3A_startgroup">startGroup</code></td>
<td>
<p>which groups of k columns are included in response (0 indexed).</p>
</td></tr>
<tr><td><code id="pivot_ga4_+3A_maxgroupcount">maxGroupCount</code></td>
<td>
<p>Maximum number of groups to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If maxGroupCount is set to -1 returns all groups.
</p>


<h3>Value</h3>

<p>pivot object of class <code>pivot_ga4</code> for use in <code><a href="#topic+filter_clause_ga4">filter_clause_ga4()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate, 
## or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()

## get your accounts
account_list &lt;- google_analytics_account_list()

## pick a profile with data to query

ga_id &lt;- account_list[23,'viewId']

## filter pivot results to 
pivot_dim_filter1 &lt;- dim_filter("medium",
                                "REGEXP",
                                "organic|social|email|cpc")
                                
                                
pivot_dim_clause &lt;- filter_clause_ga4(list(pivot_dim_filter1))

pivme &lt;- pivot_ga4("medium",
                   metrics = c("sessions"), 
                   maxGroupCount = 4, 
                  dim_filter_clause = pivot_dim_clause)
                  
                  
pivtest &lt;- google_analytics(ga_id, 
                            c("2016-01-30","2016-10-01"), 
                            dimensions=c('source'), 
                            metrics = c('sessions'), 
                            pivots = list(pivme))


## End(Not run)


</code></pre>

<hr>
<h2 id='segment_define'>Make a segment definition</h2><span id='topic+segment_define'></span>

<h3>Description</h3>

<p>Defines the segment to be a set of SegmentFilters
which are combined together with a logical AND operation.
</p>
<p><code>segment_define</code> is in the hierarchy of segment creation, for which you will also need:
</p>

<ul>
<li> <p><a href="#topic+segment_define">segment_define</a> : AND combination of segmentFilters
</p>
</li>
<li> <p><a href="#topic+segment_vector_simple">segment_vector_simple</a> or <a href="#topic+segment_vector_sequence">segment_vector_sequence</a>
</p>
</li>
<li> <p><a href="#topic+segment_element">segment_element</a> that are combined in OR lists for <code style="white-space: pre;">&#8288;segment_vectors_*&#8288;</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>segment_define(segment_filters, not_vector = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segment_define_+3A_segment_filters">segment_filters</code></td>
<td>
<p>A list of <a href="#topic+segment_vector_simple">segment_vector_simple</a> and <a href="#topic+segment_vector_sequence">segment_vector_sequence</a></p>
</td></tr>
<tr><td><code id="segment_define_+3A_not_vector">not_vector</code></td>
<td>
<p>Boolean applied to each segmentFilter step.
If NULL, assumed FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>segmentDefinition object for <a href="#topic+segment_ga4">segment_ga4</a>
</p>


<h3>See Also</h3>

<p>Other v4 segment functions: 
<code><a href="#topic+segment_element">segment_element</a>()</code>,
<code><a href="#topic+segment_ga4">segment_ga4</a></code>,
<code><a href="#topic+segment_vector_sequence">segment_vector_sequence</a>()</code>,
<code><a href="#topic+segment_vector_simple">segment_vector_simple</a>()</code>
</p>

<hr>
<h2 id='segment_element'>Make a segment element</h2><span id='topic+segment_element'></span>

<h3>Description</h3>

<p><code>segment_element</code> is the lowest hierarchy of segment creation, for which you will also need:
</p>

<ul>
<li> <p><a href="#topic+segment_define">segment_define</a> : AND combination of segmentFilters
</p>
</li>
<li> <p><a href="#topic+segment_vector_simple">segment_vector_simple</a> or <a href="#topic+segment_vector_sequence">segment_vector_sequence</a>
</p>
</li>
<li> <p><a href="#topic+segment_element">segment_element</a> that are combined in OR lists for <code style="white-space: pre;">&#8288;segment_vectors_*&#8288;</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>segment_element(
  name,
  operator = c("REGEXP", "BEGINS_WITH", "ENDS_WITH", "PARTIAL", "EXACT", "IN_LIST",
    "NUMERIC_LESS_THAN", "NUMERIC_GREATER_THAN", "NUMERIC_BETWEEN", "LESS_THAN",
    "GREATER_THAN", "EQUAL", "BETWEEN"),
  type = c("METRIC", "DIMENSION"),
  not = FALSE,
  expressions = NULL,
  caseSensitive = NULL,
  minComparisonValue = NULL,
  maxComparisonValue = NULL,
  scope = c("SESSION", "USER", "HIT", "PRODUCT"),
  comparisonValue = NULL,
  matchType = c("PRECEDES", "IMMEDIATELY_PRECEDES")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segment_element_+3A_name">name</code></td>
<td>
<p>Name of the GA metric or dimension to segment on</p>
</td></tr>
<tr><td><code id="segment_element_+3A_operator">operator</code></td>
<td>
<p>How name shall operate on expression or comparisonValue</p>
</td></tr>
<tr><td><code id="segment_element_+3A_type">type</code></td>
<td>
<p>A metric or dimension based segment element</p>
</td></tr>
<tr><td><code id="segment_element_+3A_not">not</code></td>
<td>
<p>Should the element be the negation of what is defined</p>
</td></tr>
<tr><td><code id="segment_element_+3A_expressions">expressions</code></td>
<td>
<p><code>dim</code> What the name shall compare to</p>
</td></tr>
<tr><td><code id="segment_element_+3A_casesensitive">caseSensitive</code></td>
<td>
<p><code>dim</code> Whether to be case sensitive</p>
</td></tr>
<tr><td><code id="segment_element_+3A_mincomparisonvalue">minComparisonValue</code></td>
<td>
<p><code>dim</code> Minimum comparison values for BETWEEN</p>
</td></tr>
<tr><td><code id="segment_element_+3A_maxcomparisonvalue">maxComparisonValue</code></td>
<td>
<p>Max comparison value for BETWEEN operator</p>
</td></tr>
<tr><td><code id="segment_element_+3A_scope">scope</code></td>
<td>
<p><code>met</code> Scope of the metric value</p>
</td></tr>
<tr><td><code id="segment_element_+3A_comparisonvalue">comparisonValue</code></td>
<td>
<p><code>met</code> What the name shall compare to</p>
</td></tr>
<tr><td><code id="segment_element_+3A_matchtype">matchType</code></td>
<td>
<p>If used in sequence segment, what behaviour</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A SegmentFilterClause object
</p>


<h3>See Also</h3>

<p>Other v4 segment functions: 
<code><a href="#topic+segment_define">segment_define</a>()</code>,
<code><a href="#topic+segment_ga4">segment_ga4</a></code>,
<code><a href="#topic+segment_vector_sequence">segment_vector_sequence</a>()</code>,
<code><a href="#topic+segment_vector_simple">segment_vector_simple</a>()</code>
</p>

<hr>
<h2 id='segment_ga4'>Make a segment object for use</h2><span id='topic+segment_ga4'></span>

<h3>Description</h3>

<p>A Segment is a subset of the Analytics data.
For example, of the entire set of users, one Segment
might be users from a particular country or city.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segment_ga4(
  name,
  segment_id = NULL,
  user_segment = NULL,
  session_segment = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segment_ga4_+3A_name">name</code></td>
<td>
<p>The name of the segment for the reports.</p>
</td></tr>
<tr><td><code id="segment_ga4_+3A_segment_id">segment_id</code></td>
<td>
<p>The segment ID of a built in or custom segment e.g. gaid::-3</p>
</td></tr>
<tr><td><code id="segment_ga4_+3A_user_segment">user_segment</code></td>
<td>
<p>A list of <code>segment_define</code>'s that apply to users</p>
</td></tr>
<tr><td><code id="segment_ga4_+3A_session_segment">session_segment</code></td>
<td>
<p>A list of <code>segment_define</code>'s that apply to sessions</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>segment_ga4</code> is the top hierarchy of segment creation, for which you will also need:
</p>

<ul>
<li> <p><a href="#topic+segment_define">segment_define</a> : AND combination of segmentFilters
</p>
</li>
<li> <p><a href="#topic+segment_vector_simple">segment_vector_simple</a> or <a href="#topic+segment_vector_sequence">segment_vector_sequence</a>
</p>
</li>
<li> <p><a href="#topic+segment_element">segment_element</a> that are combined in OR lists for <code style="white-space: pre;">&#8288;segment_vectors_*&#8288;</code>
</p>
</li></ul>



<h3>Value</h3>

<p>a segmentFilter object. You can pass a list of these to the request.
</p>


<h3>See Also</h3>

<p>Other v4 segment functions: 
<code><a href="#topic+segment_define">segment_define</a>()</code>,
<code><a href="#topic+segment_element">segment_element</a>()</code>,
<code><a href="#topic+segment_vector_sequence">segment_vector_sequence</a>()</code>,
<code><a href="#topic+segment_vector_simple">segment_vector_simple</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(googleAnalyticsR)

## authenticate, 
## or use the RStudio Addin "Google API Auth" with analytics scopes set
ga_auth()

## get your accounts
account_list &lt;- google_analytics_account_list()

## pick a profile with data to query

ga_id &lt;- account_list[23,'viewId']


## make a segment element
se &lt;- segment_element("sessions", 
                      operator = "GREATER_THAN", 
                      type = "METRIC", 
                      comparisonValue = 1, 
                      scope = "USER")
                      
                      
se2 &lt;- segment_element("medium", 
                       operator = "EXACT", 
                       type = "DIMENSION", 
                       expressions = "organic")
                       
                       
## choose between segment_vector_simple or segment_vector_sequence
## Elements can be combined into clauses, which can then be 
##    combined into OR filter clauses
sv_simple &lt;- segment_vector_simple(list(list(se)))

sv_simple2 &lt;- segment_vector_simple(list(list(se2)))

## Each segment vector can then be combined into a logical AND

seg_defined &lt;- segment_define(list(sv_simple, sv_simple2))

## if only one AND definition, you can leave out wrapper list()

seg_defined_one &lt;- segment_define(sv_simple)

## Each segement defintion can apply to users, sessions or both.
## You can pass a list of several segments

segment4 &lt;- segment_ga4("simple", user_segment = seg_defined)
## Add the segments to the segments param

segment_example &lt;- google_analytics(ga_id, 
                                    c("2015-07-30","2015-10-01"), 
                                    dimensions=c('source','medium','segment'), 
                                    segments = segment4, 
                                    metrics = c('sessions','bounces')
                                     )
                                     
                                     
## Sequence segment

se2 &lt;- segment_element("medium", 
                       operator = "EXACT", 
                       type = "DIMENSION", 
                       expressions = "organic")
                       
se3 &lt;- segment_element("medium",
                       operator = "EXACT",
                       type = "DIMENSION",
                       not = TRUE,
                      expressions = "organic")
                      
## step sequence
## users who arrived via organic then via referral
sv_sequence &lt;- segment_vector_sequence(list(list(se2), 
                                            list(se3)))
                                            
seq_defined2 &lt;- segment_define(list(sv_sequence))

segment4_seq &lt;- segment_ga4("sequence", user_segment = seq_defined2)

## Add the segments to the segments param

segment_seq_example &lt;- google_analytics(ga_id, 
                                        c("2016-04-01","2016-05-01"), 
                                        dimensions=c('source','segment'), 
                                        segments = segment4_seq,
                                        metrics = c('sessions','bounces')
                                         )
                                     

## End(Not run)

</code></pre>

<hr>
<h2 id='segment_ga4-class'><code>segment_ga4</code> class.</h2><span id='topic+segment_ga4-class'></span>

<h3>Description</h3>

<p>Segments list.
</p>

<hr>
<h2 id='segment_vector_sequence'>Make sequenceSegment</h2><span id='topic+segment_vector_sequence'></span>

<h3>Description</h3>

<p><code>segment_vector_sequence</code> is in the hierarchy of segment creation, for which you will also need:
</p>

<ul>
<li> <p><a href="#topic+segment_define">segment_define</a> : AND combination of segmentFilters
</p>
</li>
<li> <p><a href="#topic+segment_vector_simple">segment_vector_simple</a> or <a href="#topic+segment_vector_sequence">segment_vector_sequence</a>
</p>
</li>
<li> <p><a href="#topic+segment_element">segment_element</a> that are combined in OR lists for <code style="white-space: pre;">&#8288;segment_vectors_*&#8288;</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>segment_vector_sequence(segment_elements, firstStepMatch = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segment_vector_sequence_+3A_segment_elements">segment_elements</code></td>
<td>
<p>a list of OR lists of segment elements</p>
</td></tr>
<tr><td><code id="segment_vector_sequence_+3A_firststepmatch">firstStepMatch</code></td>
<td>
<p>FALSE default</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other v4 segment functions: 
<code><a href="#topic+segment_define">segment_define</a>()</code>,
<code><a href="#topic+segment_element">segment_element</a>()</code>,
<code><a href="#topic+segment_ga4">segment_ga4</a></code>,
<code><a href="#topic+segment_vector_simple">segment_vector_simple</a>()</code>
</p>

<hr>
<h2 id='segment_vector_simple'>Make a simple segment vector</h2><span id='topic+segment_vector_simple'></span>

<h3>Description</h3>

<p><code>segment_vector_simple</code> is in the hierarchy of segment creation, for which you will also need:
</p>

<ul>
<li> <p><a href="#topic+segment_define">segment_define</a> : AND combination of segmentFilters
</p>
</li>
<li> <p><a href="#topic+segment_vector_simple">segment_vector_simple</a> or <a href="#topic+segment_vector_sequence">segment_vector_sequence</a>
</p>
</li>
<li> <p><a href="#topic+segment_element">segment_element</a> that are combined in OR lists for <code style="white-space: pre;">&#8288;segment_vectors_*&#8288;</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>segment_vector_simple(segment_elements)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segment_vector_simple_+3A_segment_elements">segment_elements</code></td>
<td>
<p>A list of OR lists of <a href="#topic+segment_element">segment_element</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A segment vector you can put in a list for use in <a href="#topic+segment_ga4">segment_ga4</a>
</p>


<h3>See Also</h3>

<p>Other v4 segment functions: 
<code><a href="#topic+segment_define">segment_define</a>()</code>,
<code><a href="#topic+segment_element">segment_element</a>()</code>,
<code><a href="#topic+segment_ga4">segment_ga4</a></code>,
<code><a href="#topic+segment_vector_sequence">segment_vector_sequence</a>()</code>
</p>

<hr>
<h2 id='segmentBuilder'>Create a GAv4 Segment Builder</h2><span id='topic+segmentBuilder'></span>

<h3>Description</h3>

<p>Shiny Module for use with <a href="#topic+segmentBuilderUI">segmentBuilderUI</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segmentBuilder(input, output, session)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segmentBuilder_+3A_input">input</code></td>
<td>
<p>shiny input</p>
</td></tr>
<tr><td><code id="segmentBuilder_+3A_output">output</code></td>
<td>
<p>shiny output</p>
</td></tr>
<tr><td><code id="segmentBuilder_+3A_session">session</code></td>
<td>
<p>shiny session</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Call via <code>shiny::callModule(segmentBuilder, "your_id")</code>
</p>


<h3>Value</h3>

<p>A segment definition
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(shiny)
library(googleAnalyticsR)

ui &lt;- shinyUI(fluidPage(
               segmentBuilderUI("test1")
               ))
               
               
server &lt;- shinyServer(function(input, output, session) {

segment &lt;- callModule(segmentBuilder, "test1")

  .. use segment() in further gav4 calls.
  
})


# Run the application 
shinyApp(ui = ui, server = server)

## End(Not run)

</code></pre>

<hr>
<h2 id='segmentBuilderUI'>Create a GAv4 Segment Builder</h2><span id='topic+segmentBuilderUI'></span>

<h3>Description</h3>

<p>Shiny Module for use with <a href="#topic+segmentBuilder">segmentBuilder</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segmentBuilderUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segmentBuilderUI_+3A_id">id</code></td>
<td>
<p>Shiny id</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny UI for use in app
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(shiny)
library(googleAnalyticsR)

ui &lt;- shinyUI(fluidPage(
               segmentBuilderUI("test1")
               ))
               
               
server &lt;- shinyServer(function(input, output, session) {

segment &lt;- callModule(segmentBuilder, "test1")

  .. use segment() in further gav4 calls.
  
})


# Run the application 
shinyApp(ui = ui, server = server)

## End(Not run)
</code></pre>

<hr>
<h2 id='segmentDef_ga4-class'><code>segmentDef_ga4</code> class.</h2><span id='topic+segmentDef_ga4-class'></span>

<h3>Description</h3>

<p>Segment definition.
</p>

<hr>
<h2 id='segmentFilter_ga4-class'><code>segmentFilter_ga4</code> class.</h2><span id='topic+segmentFilter_ga4-class'></span>

<h3>Description</h3>

<p>Segment filter.
</p>

<hr>
<h2 id='segmentFilterClause_ga4-class'><code>segmentFilterClause_ga4</code> class.</h2><span id='topic+segmentFilterClause_ga4-class'></span>

<h3>Description</h3>

<p>Segment filter clause.
</p>

<hr>
<h2 id='segmentSequenceStep_ga4-class'><code>segmentSequenceStep_ga4</code> class.</h2><span id='topic+segmentSequenceStep_ga4-class'></span>

<h3>Description</h3>

<p>Segment sequence step.
</p>

<hr>
<h2 id='sequenceSegment_ga4-class'><code>sequenceSegment_ga4</code> class.</h2><span id='topic+sequenceSegment_ga4-class'></span>

<h3>Description</h3>

<p>Sequence segment.
</p>

<hr>
<h2 id='simpleSegment_ga4-class'><code>simpleSegment_ga4</code> class.</h2><span id='topic+simpleSegment_ga4-class'></span>

<h3>Description</h3>

<p>Simple segment.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

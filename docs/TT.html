<!DOCTYPE html><html><head><title>Help for package TT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#col_order'><p>Example data for TT package</p></a></li>
<li><a href='#formatCurrency'><p>Format table columns</p></a></li>
<li><a href='#org'><p>Example data for TT package</p></a></li>
<li><a href='#treetable'><p>Display tree structured data using 'datatable' widget</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Display Tree Structured Data using Datatable Widget (DT)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.98</td>
</tr>
<tr>
<td>Description:</td>
<td>Wrapper of datatable widget, allowing display of data.tree objects.
            All arguments of the data.tree become columns and each node is a row.
            Adds column with buttons allowing folding and unfolding the levels.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>DT, dplyr (&ge; 1.0.0), magrittr, purrr, data.tree, htmlwidgets</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-05 20:17:36 UTC; mi</td>
</tr>
<tr>
<td>Author:</td>
<td>Michal Zielaskowski [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michal Zielaskowski &lt;michal.zielaskowski@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-05 20:42:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='col_order'>Example data for TT package</h2><span id='topic+col_order'></span>

<h3>Description</h3>

<p>character vector to demonstrate ordering option. See example of <a href="#topic+treetable">treetable</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_order
</code></pre>


<h3>Format</h3>

<p>character vector
</p>

<hr>
<h2 id='formatCurrency'>Format table columns</h2><span id='topic+formatCurrency'></span><span id='topic+formatDate'></span><span id='topic+formatPercentage'></span><span id='topic+formatRound'></span><span id='topic+formatSignif'></span><span id='topic+formatString'></span><span id='topic+formatStyle'></span>

<h3>Description</h3>

<p>Simply wrapper on format... family functions of 'DT' package.
For details see: <code><a href="DT.html#topic+formatCurrency">formatCurrency</a></code><br />
The wrappers are not affecting behavior of original format... functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatCurrency(
  table,
  columns,
  currency = "$",
  interval = 3,
  mark = ",",
  digits = 2,
  dec.mark = getOption("OutDec"),
  before = TRUE
)

formatDate(table, columns, method = "toDateString", params = NULL)

formatPercentage(
  table,
  columns,
  digits = 0,
  interval = 3,
  mark = ",",
  dec.mark = getOption("OutDec")
)

formatRound(
  table,
  columns,
  digits = 2,
  interval = 3,
  mark = ",",
  dec.mark = getOption("OutDec")
)

formatSignif(
  table,
  columns,
  digits = 2,
  interval = 3,
  mark = ",",
  dec.mark = getOption("OutDec")
)

formatString(table, columns, prefix = "", suffix = "")

formatStyle(
  table,
  columns,
  valueColumns = columns,
  target = c("cell", "row"),
  fontWeight = NULL,
  color = NULL,
  backgroundColor = NULL,
  background = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatCurrency_+3A_table">table</code></td>
<td>
<p>a table object created from <code><a href="DT.html#topic+datatable">datatable</a>()</code></p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_columns">columns</code></td>
<td>
<p>the indices of the columns to be formatted (can be character,
numeric, logical, or a formula of the form <code>~ V1 + V2</code>, which is
equivalent to <code>c('V1', 'V2')</code>)</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_currency">currency</code></td>
<td>
<p>the currency symbol</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_interval">interval</code></td>
<td>
<p>put a marker after how many digits of the numbers</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_mark">mark</code></td>
<td>
<p>the marker after every <code>interval</code> decimals in the numbers</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_digits">digits</code></td>
<td>
<p>the number of decimal places to round to</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_dec.mark">dec.mark</code></td>
<td>
<p>a character to indicate the decimal point</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_before">before</code></td>
<td>
<p>whether to place the currency symbol before or after the values</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_method">method</code></td>
<td>
<p>the method(s) to convert a date to string in JavaScript; see
<code>DT:::DateMethods</code> for a list of possible methods, and
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date</a>
for a full reference</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_params">params</code></td>
<td>
<p>a list parameters for the specific date conversion method,
e.g., for the <code>toLocaleDateString()</code> method, your browser may support
<code>params = list('ko-KR', list(year = 'numeric', month = 'long', day =
'numeric'))</code></p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_prefix">prefix</code></td>
<td>
<p>string to put in front of the column values</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_suffix">suffix</code></td>
<td>
<p>string to put after the column values</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_valuecolumns">valueColumns</code></td>
<td>
<p>indices of the columns from which the cell values are
obtained; this can be different with the <code>columns</code> argument, e.g. you
may style one column based on the values of a different column</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_target">target</code></td>
<td>
<p>the target to apply the CSS styles to (the current cell or the
full row)</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_fontweight">fontWeight</code></td>
<td>
<p>the font weight, e.g. <code>'bold'</code> and <code>'normal'</code></p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_color">color</code></td>
<td>
<p>the font color, e.g. <code>'red'</code> and <code>'#ee00aa'</code></p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_backgroundcolor">backgroundColor</code></td>
<td>
<p>the background color of table cells</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_background">background</code></td>
<td>
<p>the background of table cells</p>
</td></tr>
<tr><td><code id="formatCurrency_+3A_...">...</code></td>
<td>
<p>other CSS properties, e.g. <code>'border'</code>, <code>'font-size'</code>,
<code>'text-align'</code>, and so on; if you want to condition CSS styles on the
cell values, you may use the helper functions such as
<code><a href="DT.html#topic+styleInterval">styleInterval</a>()</code>; note the actual CSS property names are
dash-separated, but you can use camelCase names in this function (otherwise
you will have to use backticks to quote the names, e.g. <code>`font-size` =
'12px'</code>), and this function will automatically convert camelCase names to
dash-separated names (e.g. <code>'fontWeight'</code> will be converted to
<code>'font-weight'</code> internally)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return formatted 'HTML' widget of 'DataTables'
</p>

<hr>
<h2 id='org'>Example data for TT package</h2><span id='topic+org'></span>

<h3>Description</h3>

<p>'data.tree' object that can be used as an example to see how table widget looks like.
Each node of 'data.tree' store attributes (dates) with some numbers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>org
</code></pre>


<h3>Format</h3>

<p>'data.tree' object with 7 attributes in each node, value of the leaf attributes is some random number, parents value is cumulative sum of children
The attributes are:<br />
</p>

<ul>
<li><p> name of the node<br />
</p>
</li>
<li><p> six consecutive months of the year (<code>Jan-2021, Feb-2021....</code>)<br />
</p>
</li></ul>


<hr>
<h2 id='treetable'>Display tree structured data using 'datatable' widget</h2><span id='topic+treetable'></span>

<h3>Description</h3>

<p>Wrapper of 'datatable' widget, allowing display of 'data.tree'
objects. All arguments of the 'data.tree' become columns and each node is a
row. Adds column with buttons allowing folding and unfolding the levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treetable(data, color = "#0177A5", colnames = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treetable_+3A_data">data</code></td>
<td>
<p>data.tree object. <code>treetable</code> will extract all arguments in
alphabetical order - these will be a columns. For renaming and ordering of
the columns see colnames.</p>
</td></tr>
<tr><td><code id="treetable_+3A_color">color</code></td>
<td>
<p>base color (hue) to color the table. Each level will differ with
saturation and luminosity.</p>
</td></tr>
<tr><td><code id="treetable_+3A_colnames">colnames</code></td>
<td>
<p>if <code>list()</code> of characters provided, arguments of
data.tree (columns) will be renamed. If <code>vector()</code> provided, columns
will be renamed as for list input, additionally columns will be reordered
according to vector level after renaming.</p>
</td></tr>
<tr><td><code id="treetable_+3A_...">...</code></td>
<td>
<p><a href="DT.html#topic+datatable">datatable</a> parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Package consist of treetable function (wrapper of 'datatable') that
convert data.tree object to 'dataframe' and 'JS' callback function called
after creating the table. Treetable function ads hidden columns used by 'JS'
for formatting and folding/unfolding level rows. Hidden columns shall be
completely transparent for user <br />
Package also include 'DT::format...' functions wrappers, which are working
exactly as originals, but are necessary to protect special (helper) columns
used by 'JS' callback function for formatting.
</p>
<p>Color formatting is done by 'kolorWheel' 'JS' script done by Zalka Erno<br />
e-mail: ern0[at]linkbroker.hu<br />
<a href="http://linkbroker.hu/stuff/kolorwheel.js/">http://linkbroker.hu/stuff/kolorwheel.js/</a>
</p>


<h3>Value</h3>

<p>Return 'HTML' widget using the 'JavaScript' library 'DataTables'
</p>


<h3>References</h3>

<p><a href="https://github.com/zielaskowski/tree-table">https://github.com/zielaskowski/tree-table</a>
</p>


<h3>See Also</h3>

<p><code><a href="DT.html#topic+datatable">datatable</a></code><br />
<code><a href="data.tree.html#topic+data.tree">data.tree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("org")
data("col_order")
colnames &lt;- factor(c("org",org$attributesAll),
                   levels =  col_order)
treetable(org, color="#FFFFFF", colnames=colnames)

# still datatable works as expected when data.frame provided
treetable(data.frame(
     date = seq(as.Date("2015-01-01"), by = "day", length.out = 5), x = 1:5))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

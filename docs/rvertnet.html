<!DOCTYPE html><html><head><title>Help for package rvertnet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rvertnet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bigsearch'><p>Request to download a large number of VertNet records.</p></a></li>
<li><a href='#dump-defunct'><p>These functions are defunct</p></a></li>
<li><a href='#rvertnet-defunct'><p>Defunct functions in rvertnet</p></a></li>
<li><a href='#rvertnet-package'><p>Search VertNet archives using R</p></a></li>
<li><a href='#searchbyterm'><p>Search by term</p></a></li>
<li><a href='#simple_dwc_terms'><p>Darwin core terms</p></a></li>
<li><a href='#spatialsearch'><p>Find records within some distance of a point given latitude and longitude.</p></a></li>
<li><a href='#traitsearch'><p>Trait focused search</p></a></li>
<li><a href='#vert_id'><p>Search by Vertnet occurrence ID</p></a></li>
<li><a href='#vertavailablemaps'><p>This function is defunct.</p></a></li>
<li><a href='#vertlocations'><p>This function is defunct.</p></a></li>
<li><a href='#vertmap'><p>Make a simple map to visualize VertNet data.</p></a></li>
<li><a href='#vertoccurrence'><p>This function is defunct.</p></a></li>
<li><a href='#vertoccurrencecount'><p>This function is defunct.</p></a></li>
<li><a href='#vertproviders'><p>This function is defunct.</p></a></li>
<li><a href='#vertsearch'><p>Find records using a global full-text search of VertNet archives.</p></a></li>
<li><a href='#vertsummary'><p>Summarize a set of records downloaded from VertNet.</p></a></li>
<li><a href='#verttaxa'><p>This function is defunct.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Search 'Vertnet', a 'Database' of Vertebrate Specimen Records</td>
</tr>
<tr>
<td>Description:</td>
<td>Retrieve, map and summarize data from the 'VertNet.org' 
    archives (<a href="https://vertnet.org/">https://vertnet.org/</a>).  Functions allow searching by many 
    parameters, including 'taxonomic' names, places, and dates. In addition, 
    there is an interface for conducting spatially delimited searches, and 
    another for requesting large 'datasets' via email.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.4</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ropensci/rvertnet">https://github.com/ropensci/rvertnet</a>,
<a href="https://docs.ropensci.org/rvertnet/">https://docs.ropensci.org/rvertnet/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/rvertnet/issues">https://github.com/ropensci/rvertnet/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite (&ge; 1.5), crul (&ge; 0.5.2), dplyr (&ge; 0.5.0), tibble,
ggplot2, maps</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, vcr, withr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>Data Access</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>species, occurrences, biodiversity, maps,
vertnet, mammals, mammalia, specimens</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>"https://ropensci.org"</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-15 17:15:18 UTC; dave</td>
</tr>
<tr>
<td>Author:</td>
<td>Scott Chamberlain [aut, cph] (0000-0003-1444-9135),
  Chris Ray [ctb],
  Vijay Barve [ctb],
  Dave Slager [aut, cre, cph] (0000-0003-2525-2039)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dave Slager &lt;slager@uw.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-15 23:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bigsearch'>Request to download a large number of VertNet records.</h2><span id='topic+bigsearch'></span>

<h3>Description</h3>

<p>Specifies a term-wise search (like <code><a href="#topic+searchbyterm">searchbyterm</a></code>) and requests
that all available  records be made available for download as a
tab-delimited text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bigsearch(..., rfile, email, messages = TRUE, callopts = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bigsearch_+3A_...">...</code></td>
<td>
<p>arguments, must be named, see <code><a href="#topic+searchbyterm">searchbyterm()</a></code> for details</p>
</td></tr>
<tr><td><code id="bigsearch_+3A_rfile">rfile</code></td>
<td>
<p>A name for the results file that you will download (character).
Required.</p>
</td></tr>
<tr><td><code id="bigsearch_+3A_email">email</code></td>
<td>
<p>An email address where you can be contacted when your records
are ready for download (character). Required.</p>
</td></tr>
<tr><td><code id="bigsearch_+3A_messages">messages</code></td>
<td>
<p>(logical) Print progress and information messages.
Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="bigsearch_+3A_callopts">callopts</code></td>
<td>
<p>(named list) Curl arguments passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+bigsearch">bigsearch</a></code> allows you to request records as a
tab-delimited text file. This is the best way to access a large number of
records, such as when your search results indicate that &gt;1000 records are
available. You will be notified by email when your records are ready
for download.
</p>


<h3>Value</h3>

<p>Prints messages on progress, but returns NULL
</p>


<h3>Reading data</h3>

<p>We suggest reading data in with <code>data.table::fread()</code> - as it's very
fast for the sometimes large datasets
you will get from using this function, and is usually robust to
formatting issues.
</p>


<h3>References</h3>

<p>https://github.com/VertNet/webapp/wiki/The-API-search-function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# replace "big@search.luv" with your own email address
bigsearch(genus = "ochotona", rfile = "pikaRecords", email = "big@search.luv")

# Pass in curl options for curl debugging
bigsearch(genus = "ochotona", rfile = "pikaRecords",
  email = "big@search.luv", verbose = TRUE)

# Use more than one year query
bigsearch(class = "aves", year = c("&gt;=1976", "&lt;=1986"),
          rfile = "test-bigsearch1", email = "big@search.luv")

## End(Not run)
</code></pre>

<hr>
<h2 id='dump-defunct'>These functions are defunct</h2><span id='topic+dump-defunct'></span><span id='topic+dump_init'></span><span id='topic+dump_tbl'></span><span id='topic+dump_links'></span>

<h3>Description</h3>

<p>These functions are defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dump_init(...)

dump_tbl(...)

dump_links(...)
</code></pre>


<h3>Details</h3>

<p>The Vertnet dumps are too complicated to setup. Please get in
touch with Vertnet or maintainers of this package if you want help using
bulk data.
</p>

<hr>
<h2 id='rvertnet-defunct'>Defunct functions in rvertnet</h2><span id='topic+rvertnet-defunct'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="#topic+vertavailablemaps">vertavailablemaps</a></code>: Function is now defunct, i.e., not available anymore.
</p>
</li>
<li> <p><code><a href="#topic+vertlocations">vertlocations</a></code>: Function is now defunct, i.e., not available anymore.
</p>
</li>
<li> <p><code><a href="#topic+vertoccurrence">vertoccurrence</a></code>: Function is now defunct, i.e., not available anymore.
</p>
</li>
<li> <p><code><a href="#topic+vertoccurrencecount">vertoccurrencecount</a></code>: Function is now defunct, i.e., not available anymore.
</p>
</li>
<li> <p><code><a href="#topic+vertproviders">vertproviders</a></code>: Function is now defunct, i.e., not available anymore.
</p>
</li>
<li> <p><code><a href="#topic+verttaxa">verttaxa</a></code>: Function is now defunct, i.e., not available anymore.
</p>
</li></ul>


<hr>
<h2 id='rvertnet-package'>Search VertNet archives using R</h2><span id='topic+rvertnet-package'></span><span id='topic+rvertnet'></span>

<h3>Description</h3>

<p>There are a variety of ways to search VertNet
</p>


<h3>Search by term</h3>

<p>Search for <em>Aves</em> in the state of <em>California</em>, limit to 10 records, e.g.:
</p>
<p><code>searchbyterm(class = "Aves", state = "California", lim = 10, 
verbose = FALSE)</code>
</p>
<p>Search for <em>Mustela nigripes</em> in the states of <em>Wyoming</em> or <em>South Dakota</em>,
limit to 20 records, e.g.:
</p>
<p><code>searchbyterm(genus = "Mustela", specificepithet = "nigripes", 
   state = "(wyoming OR south dakota)", limit = 20, verbose=FALSE)</code>
</p>


<h3>Big data</h3>

<p>Specifies a termwise search (like <code>searchbyterm()</code>), but requests that all
available records  be made available for download as a tab-delimited
text file.
</p>
<p><code>bigsearch(genus = "ochotona", rf = "pikaRecords", 
email = "big@search.luv")</code>
</p>


<h3>Spatial search</h3>

<p><code>spatialsearch(lat = 33.529, lon = -105.694, radius = 2000, limit = 10, 
verbose = FALSE)</code>
</p>


<h3>Full text search</h3>

<p>Find records using a global full-text search of VertNet archives.
</p>
<p><code>vertsearch(taxon = "aves", state = "california")</code>
</p>


<h3>No results?</h3>

<p>It's possible to get no results when requesting data from VertNet,
then run the same function again 10 seconds later, and you do get a result.
I'm not sure why this is, something having to do with Vertnet's
infrastucture that I'm not aware of. Point is, if you are sure
you haven't made any mistakes with the parameters, etc., then
simply run the function call again.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dave Slager <a href="mailto:slager@uw.edu">slager@uw.edu</a> (0000-0003-2525-2039) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Scott Chamberlain <a href="mailto:myrmecocystus@gmail.com">myrmecocystus@gmail.com</a> (0000-0003-1444-9135) [copyright holder]
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Chris Ray [contributor]
</p>
</li>
<li><p> Vijay Barve [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ropensci/rvertnet">https://github.com/ropensci/rvertnet</a>
</p>
</li>
<li> <p><a href="https://docs.ropensci.org/rvertnet/">https://docs.ropensci.org/rvertnet/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/rvertnet/issues">https://github.com/ropensci/rvertnet/issues</a>
</p>
</li></ul>


<hr>
<h2 id='searchbyterm'>Search by term</h2><span id='topic+searchbyterm'></span>

<h3>Description</h3>

<p>Flexible search for records using keywords/terms
</p>


<h3>Usage</h3>

<pre><code class='language-R'>searchbyterm(
  ...,
  limit = 1000,
  compact = TRUE,
  messages = TRUE,
  only_dwc = TRUE,
  callopts = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="searchbyterm_+3A_...">...</code></td>
<td>
<p>arguments, must be named, see section <code>Parameters</code> for details.
Multiple inputs to a single parameter are supported, but you have to
construct that string yourself with <code>AND</code> or <code>OR</code> operators; see
examples below.</p>
</td></tr>
<tr><td><code id="searchbyterm_+3A_limit">limit</code></td>
<td>
<p>(numeric) Limit on the number of records returned. If &gt;1000
results, we use a cursor internally, but you should still get up to the
results you asked for. See also <code><a href="#topic+bigsearch">bigsearch()</a></code> to get larger
result sets in a text file via email.</p>
</td></tr>
<tr><td><code id="searchbyterm_+3A_compact">compact</code></td>
<td>
<p>(logical) Return a compact data frame</p>
</td></tr>
<tr><td><code id="searchbyterm_+3A_messages">messages</code></td>
<td>
<p>(logical) Print progress and information messages.
Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="searchbyterm_+3A_only_dwc">only_dwc</code></td>
<td>
<p>(logical) whether or not to return only Darwin Core term
fields. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="searchbyterm_+3A_callopts">callopts</code></td>
<td>
<p>(named list) Curl arguments passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>searchbyterm()</code> builds a query from input parameters
based on Darwin Core (dwc) terms (for the full list of terms, see
https://code.google.com/p/darwincore/wiki/DarwinCoreTerms).
</p>


<h3>Value</h3>

<p>A list with two slots:
</p>

<ul>
<li><p> meta: a named list of metadata for the search results
</p>
</li>
<li><p> data: a data frame of search results, columns vary
</p>
</li></ul>



<h3>Parameters</h3>

<p>All these parameters can be passed in to <code>searchbyterm()</code>. All others
will be silently dropped.
</p>
<p>See https://github.com/VertNet/webapp/wiki/The-API-search-function
for more details
</p>
<p><strong>taxon</strong>
</p>

<ul>
<li><p> kingdom (character) Taxonomic kingdom
</p>
</li>
<li><p> phylum (character) Taxonomic phylum
</p>
</li>
<li><p> class (character) Taxonomic class
</p>
</li>
<li><p> order (character) Taxonomic order
</p>
</li>
<li><p> family (character) Taxonomic family
</p>
</li>
<li><p> genus (character) Taxonomic genus
</p>
</li>
<li><p> specificepithet (character) Taxonomic specific epithet, e.g. (sapiens
in Homo sapiens)
</p>
</li>
<li><p> infraspecificepithet (character) Taxonomic infraspecific epithet
</p>
</li>
<li><p> scientificname (character) scientific name
</p>
</li>
<li><p> vernacularname (character) a verncular name
</p>
</li></ul>

<p><strong>event</strong>
</p>

<ul>
<li><p> year (numeric) Year or range of years designated by comparison
operators &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot; or &quot;&gt;=&quot;. You can pass in more than one of these
queries, in a vector. See example below
</p>
</li>
<li><p> month (numeric) month or range of months designated by comparison
operators &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot; or &quot;&gt;=&quot;. You can pass in more than one of these
queries, in a vector. See example below
</p>
</li>
<li><p> day (numeric) day or range of days designated by comparison
operators &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot; or &quot;&gt;=&quot;. You can pass in more than one of these
queries, in a vector. See example below
</p>
</li>
<li><p> eventdate Event date associated with this occurrence record; yyyy-mm-dd
or the range yyyy-mm-dd/yyyy-mm-dd (character)
</p>
</li></ul>

<p><strong>record level</strong>
</p>

<ul>
<li><p> institutioncode (character) Code name for the provider/institution
of record
</p>
</li>
<li><p> occurrenceid (character) Provider's unique identifier for this
occurrence record
</p>
</li>
<li><p> catalognumber (character) Provider's catalog number or other ID for
this record
</p>
</li>
<li><p> collectioncode (character) collection code
</p>
</li>
<li><p> license (dcterms:license) license string
</p>
</li>
<li><p> iptlicense (eml:intellectualRights) license string
</p>
</li>
<li><p> basisofrecord (character) one of PreservedSpecimen, FossilSpecimen,
MaterialSample, Occurrence, MachineObservation, HumanObservation
</p>
</li>
<li><p> hasmedia (logical) Record also references associated media, such as a
film or video
</p>
</li>
<li><p> isfossil (logical) <code>dwc:basisOfRecord</code> is FossilSpecimen or collection
is a paleo collection
</p>
</li>
<li><p> haslicense (logical) <code>dcterms:license</code> or <code>eml:intellectualRights</code> has a
license designated
</p>
</li></ul>

<p><strong>identification</strong>
</p>

<ul>
<li><p> typestatus (character) a type status
</p>
</li>
<li><p> hastypestatus (logical) type status known or not
</p>
</li></ul>

<p><strong>occurrence</strong>
</p>

<ul>
<li><p> iptrecordid (character) (same as <code>dwc:occurrenceID</code>)
</p>
</li>
<li><p> recordedby (character) Collector name
</p>
</li>
<li><p> recordnumber (character) record number
</p>
</li>
<li><p> fieldnumber (character) field number
</p>
</li>
<li><p> establishmentmeans (character) establishment means
</p>
</li>
<li><p> wascaptive (logical) (<code>dwc:establishmentMeans</code> or occurrenceRemarks suggests
it was captive)
</p>
</li>
<li><p> wasinvasive (logical) (was the organism recorded to be invasive where
and when it occurred)
</p>
</li>
<li><p> sex (character) standardized sex from original sex field or extracted
from elsewhere in the record
</p>
</li>
<li><p> lifestage (character) lifeStage from original sex field or extracted
from elsewhere in the record
</p>
</li>
<li><p> preparations (not sure what this means)
</p>
</li>
<li><p> hastissue (logical) Record is likely to reference tissues
</p>
</li>
<li><p> reproductivecondition (not sure what this means)
</p>
</li></ul>

<p><strong>location</strong>
</p>

<ul>
<li><p> continent (character) Continent to search for occurrence
</p>
</li>
<li><p> country (character) Country to search for occurrence
</p>
</li>
<li><p> stateprovince (character) State or province to search for occurrence
</p>
</li>
<li><p> county (character) County to search for occurrence
</p>
</li>
<li><p> island (character) Island to search for occurrence
</p>
</li>
<li><p> igroup (character) Island group to search for occurrence
</p>
</li>
<li><p> municipality (character)
</p>
</li>
<li><p> waterbody (character)
</p>
</li>
<li><p> geodeticdatum (character)
</p>
</li>
<li><p> georeferencedby (character)
</p>
</li>
<li><p> georeferenceverificationstatus (character)
</p>
</li>
<li><p> location a Google GeoField of the <code>dwc:decimalLatitude</code>,
<code>dwc:decimalLongitude</code>
</p>
</li>
<li><p> mappable (logical) Record includes valid coordinates in decimal latitude
and decimal longitude
</p>
</li></ul>

<p><strong>geological context</strong>
</p>

<ul>
<li><p> bed (character) geological bed
</p>
</li>
<li><p> formation (character) geological formation
</p>
</li>
<li><p> group (character) geological group
</p>
</li>
<li><p> member (character) geological member
</p>
</li></ul>

<p><strong>traits</strong>
</p>

<ul>
<li><p> haslength (logical) (was a value for length extracted?)
</p>
</li>
<li><p> hasmass (logical) (was a value for mass extraccted?)
</p>
</li>
<li><p> hassex (logical) (does the record have sex?)
</p>
</li>
<li><p> haslifestage (logical) (does the record have life stage?)
</p>
</li>
<li><p> lengthtype (character) type of length measurement extracted from the
record, can refer to a number or to a range) ('total length',
'standard length', 'snout-vent length','head-body length', 'fork length',
'total length range', 'standard length range', 'snout-vent length range',
'head-body length range', 'fork length range'
</p>
</li>
<li><p> lengthinmm (numeric) length measurement extracted from the record
</p>
</li>
<li><p> massing (numeric) mass measurement extracted from the record (For
detailed information about trait extraction and aggregation and querying
via the VertNet portal, see http://vertnet.org/resources/traitsguide.html
</p>
</li></ul>

<p><strong>data set</strong>
</p>

<ul>
<li><p> gbifdatasetid (character) GBIF identifier for the data set
</p>
</li>
<li><p> gbifpublisherid (character) GBIF identifier for the data publishing
organization
</p>
</li>
<li><p> lastindexed (character) date (YYYY-MM-DD) the record was most recently
indexed into VertNet
</p>
</li>
<li><p> networks (character) one of MaNIS, ORNIS, HerpNET, FishNet, VertNet,
Arctos, Paleo
</p>
</li>
<li><p> migrator (character) the version of the migrator used to process the
data set, a date of form (YYYY-MM-DD)
</p>
</li>
<li><p> orgcountry (character) the country where the organization is located
</p>
</li>
<li><p> orgstateprovince (character) the first-level administrative unit where
the organization is located
</p>
</li></ul>

<p><strong>index</strong>
</p>

<ul>
<li><p> rank (character) a higher number means the record is more complete
with respect to georeferences, scientific names, and event dates
</p>
</li>
<li><p> vntype (character) Type of record; &quot;specimen&quot; or &quot;observation&quot;
</p>
</li>
<li><p> hashid (integer) a value to distribute records in 10k bins; 0-9998
</p>
</li></ul>

<p><strong>other</strong>
</p>

<ul>
<li><p> coordinateuncertaintyinmeters (character) Coordinate uncertainty
in meters (numeric) or range of uncertainty values designated by
comparison operators &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, or &quot;&gt;=&quot;
</p>
</li></ul>



<h3>No results?</h3>

<p>It's possible to get no results with a call to <code>searchbyterm()</code>,
then run it again 10 seconds later, and you do get a result.
I'm not sure why this is, something having to do with Vertnet's
infrastucture that I'm not aware of. Point is, if you are sure
you haven't made any mistakes with the parameters, etc., then
simply run the function call again.
</p>


<h3>References</h3>

<p>https://github.com/VertNet/webapp/wiki/The-API-search-function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Find multiple species
out &lt;- searchbyterm(genus = "ochotona",
  specificepithet = "(princeps OR collaris)", limit=10)

# iptrecordid
searchbyterm(iptrecordid = "7108667e-1483-4d04-b204-6a44a73a5219")

# you can pass more than one, as above, in a single string in parens
records &lt;- "(7108667e-1483-4d04-b204-6a44a73a5219 OR 1efe900e-bde2-45e7-9747-2b2c3e5f36c3)"
searchbyterm(iptrecordid = records, callopts = list(verbose = TRUE))

# Specifying a range (in meters) for uncertainty in spatial location
# (use quotes)
out &lt;- searchbyterm(class = "aves", stateprovince = "nevada", 
  coordinateuncertaintyinmeters = "&lt;25")
out &lt;- searchbyterm(class = "aves", stateprovince = "california", year = 1976,
  coordinateuncertaintyinmeters = "&lt;=1000")

# Specifying records by event date (use quotes)
out &lt;- searchbyterm(class = "aves", stateprovince = "california",
  eventdate = "2009-03-25")
# ...but specifying a date range may not work
out &lt;- searchbyterm(specificepithet = "nigripes",
  eventdate = "1935-09-01/1935-09-30")

# Pass in curl options for curl debugging
out &lt;- searchbyterm(class = "aves", limit = 10,
 callopts = list(verbose = TRUE))

# Use more than one year query
searchbyterm(genus = "mustela", specificepithet = "nigripes",
   year = c('&gt;=1900', '&lt;=1940'))

searchbyterm(sex  = "male", limit = 30)$data$sex
searchbyterm(lifestage  = "juvenile", limit = 30)$data$lifestage

## End(Not run)
</code></pre>

<hr>
<h2 id='simple_dwc_terms'>Darwin core terms</h2><span id='topic+simple_dwc_terms'></span>

<h3>Description</h3>

<p>Used internally by <code><a href="#topic+vert_id">vert_id()</a></code> to filter data to Darwin core terms only. Get in touch with us if these terms need correcting or are out of date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_dwc_terms
</code></pre>


<h3>Format</h3>



<h4><code>simple_dwc_terms</code></h4>

<p>A character vector
</p>



<h3>Source</h3>

<p><a href="https://raw.githubusercontent.com/tdwg/dwc/master/dist/simple_dwc_vertical.csv">https://raw.githubusercontent.com/tdwg/dwc/master/dist/simple_dwc_vertical.csv</a>
</p>

<hr>
<h2 id='spatialsearch'>Find records within some distance of a point given latitude and longitude.</h2><span id='topic+spatialsearch'></span>

<h3>Description</h3>

<p>Searches by decimal latitude and longitude to return any occurrence record
within the input distance (radius) of the input point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spatialsearch(
  lat,
  long,
  radius,
  limit = 1000,
  compact = TRUE,
  messages = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spatialsearch_+3A_lat">lat</code></td>
<td>
<p>(numeric) Latitude of the central point, in decimal degrees
required.</p>
</td></tr>
<tr><td><code id="spatialsearch_+3A_long">long</code></td>
<td>
<p>(numeric) Longitude of the central point, in decimal degrees
required.</p>
</td></tr>
<tr><td><code id="spatialsearch_+3A_radius">radius</code></td>
<td>
<p>(numeric) Radius to search, in meters. There is no default
value for this parameter. required.</p>
</td></tr>
<tr><td><code id="spatialsearch_+3A_limit">limit</code></td>
<td>
<p>(integer) Limit on the number of records returned. If &gt;1000
results, we use a cursor internally, but you should still get up to the
results you asked for. See also <code><a href="#topic+bigsearch">bigsearch()</a></code> to get larger result
sets in a text file via email.</p>
</td></tr>
<tr><td><code id="spatialsearch_+3A_compact">compact</code></td>
<td>
<p>(logical) Return a compact data frame. default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="spatialsearch_+3A_messages">messages</code></td>
<td>
<p>(logical) Print progress and information messages.
Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="spatialsearch_+3A_...">...</code></td>
<td>
<p>Curl arguments passed on to <a href="crul.html#topic+HttpClient">crul::HttpClient</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+spatialsearch">spatialsearch()</a></code> finds all records of any taxa having
decimal lat/long coordinates within a given radius (in meters) of
your coordinates.
</p>


<h3>Value</h3>

<p>A list with two slots:
</p>

<ul>
<li><p> meta: a named list of metadata for the search results
</p>
</li>
<li><p> data: a data frame of search results, columns vary
</p>
</li></ul>



<h3>References</h3>

<p>https://github.com/VertNet/webapp/wiki/The-API-search-function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
res &lt;- spatialsearch(lat = 33.529, long = -105.694, radius = 2000,
  limit = 10)

# Pass in curl options for curl debugging
out &lt;- spatialsearch(lat = 33.529, long = -105.694, radius = 2000,
  limit = 10, verbose = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='traitsearch'>Trait focused search</h2><span id='topic+traitsearch'></span>

<h3>Description</h3>

<p>Trait focused search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>traitsearch(
  taxon = NULL,
  has_mass = FALSE,
  has_length = FALSE,
  has_sex = FALSE,
  has_lifestage = FALSE,
  length_type = NULL,
  length = NULL,
  mass = NULL,
  limit = 1000,
  compact = TRUE,
  messages = TRUE,
  callopts = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="traitsearch_+3A_taxon">taxon</code></td>
<td>
<p>(character) Taxonomic identifier or other text to search for</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_has_mass">has_mass</code></td>
<td>
<p>(logical) limit to records that have mass data (stored in
<code>massing</code>). Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="traitsearch_+3A_has_length">has_length</code></td>
<td>
<p>(logical) limit to records that have length data (stored
in <code>lengthinmm</code>). Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="traitsearch_+3A_has_sex">has_sex</code></td>
<td>
<p>(logical) limit to records that have sex data (stored in
<code>sex</code>). Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="traitsearch_+3A_has_lifestage">has_lifestage</code></td>
<td>
<p>(logical) limit to records that have lifestage data
(stored in <code>lifestage</code>). Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="traitsearch_+3A_length_type">length_type</code></td>
<td>
<p>(character) length type, one of 'total length',
'standard length', 'snout-vent length', 'head-body length', 'fork length',
'total length range', 'standard length range', 'snout-vent length range',
'head-body length range', 'fork length range'. (stored in <code>lengthtype</code>)
Default: <code>NULL</code></p>
</td></tr>
<tr><td><code id="traitsearch_+3A_length">length</code></td>
<td>
<p>(list) list of query terms for length, e.g., &quot;&lt; 100&quot;</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_mass">mass</code></td>
<td>
<p>(list) list of query terms for mass, e.g., &quot;&lt; 100&quot;</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_limit">limit</code></td>
<td>
<p>(numeric) Limit on the number of records returned. If &gt;1000
results, we use a cursor internally, but you should still get up to the
results you asked for. See also
<code><a href="#topic+bigsearch">bigsearch</a></code> to get larger result sets in a text file via email.</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_compact">compact</code></td>
<td>
<p>Return a compact data frame (boolean)</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_messages">messages</code></td>
<td>
<p>Print progress and information messages. Default: TRUE</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_callopts">callopts</code></td>
<td>
<p>curl options in a list passed on to
<code><a href="crul.html#topic+HttpClient">HttpClient</a></code>, see examples</p>
</td></tr>
<tr><td><code id="traitsearch_+3A_...">...</code></td>
<td>
<p>(character) Additional search terms. These must be unnamed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Wraps <code><a href="#topic+vertsearch">vertsearch</a></code>, with some of the same parameters,
but with additional parameters added to make querying for traits easy.
</p>


<h3>Value</h3>

<p>a list, same as returned by <code><a href="#topic+vertsearch">vertsearch</a></code>, with data
in the <code>data</code> slot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
traitsearch(has_mass = TRUE, limit = 3)
traitsearch(has_lifestage = TRUE)
traitsearch(has_mass = TRUE, has_length = TRUE)
res &lt;- traitsearch(length_type = "total length",
  length = list("&gt;= 300", "&lt;= 1000"))
summary(as.numeric(res$data$lengthinmm))
res &lt;- traitsearch(has_mass = TRUE, mass = list("&gt;= 20", "&lt;= 500"))
summary(as.numeric(res$data$massing))

traitsearch(taxon = "aves", has_mass = TRUE, limit = 100)

## End(Not run)
</code></pre>

<hr>
<h2 id='vert_id'>Search by Vertnet occurrence ID</h2><span id='topic+vert_id'></span>

<h3>Description</h3>

<p>Search by Vertnet occurrence ID
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vert_id(ids, compact = TRUE, messages = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vert_id_+3A_ids">ids</code></td>
<td>
<p>(character) VertNet IDs, one or more. Required.</p>
</td></tr>
<tr><td><code id="vert_id_+3A_compact">compact</code></td>
<td>
<p>(logical) Return a compact data frame. That is, remove
empty columns. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="vert_id_+3A_messages">messages</code></td>
<td>
<p>(logical) Print progress and information messages.
Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="vert_id_+3A_...">...</code></td>
<td>
<p>Curl arguments passed on to <a href="crul.html#topic+HttpClient">crul::HttpClient</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>VertNet IDs can be a variety of things, some URIs
(i.e., with http://...), while others start with <code>urn</code>.
</p>
<p>Internally in this function we filter data to darwin core terms only. To
see what terms we use, see:
<code>print(simple_dwc_terms)</code>.
</p>
<p>See documentation for more information:
<code>?simple_dwc_terms</code>
</p>


<h3>Value</h3>

<p>A list, with data frame of search results, and list of metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vert_id(ids = "urn:catalog:CM:Herps:116520")
ids &lt;- c("http://arctos.database.museum/guid/MSB:Mamm:56979?seid=1643089", 
         "urn:catalog:CM:Herps:116520",
         "urn:catalog:AUM:Fish:13271")
res &lt;- vert_id(ids)
res$data$occurrenceid

out &lt;- vertsearch(taxon = "aves", state = "california", limit = 5)
(ids &lt;- out$data$occurrenceid)
res &lt;- vert_id(ids)
identical(sort(res$data$occurrenceid), sort(ids))

## End(Not run)
</code></pre>

<hr>
<h2 id='vertavailablemaps'>This function is defunct.</h2><span id='topic+vertavailablemaps'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertavailablemaps(...)
</code></pre>

<hr>
<h2 id='vertlocations'>This function is defunct.</h2><span id='topic+vertlocations'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertlocations(...)
</code></pre>

<hr>
<h2 id='vertmap'>Make a simple map to visualize VertNet data.</h2><span id='topic+vertmap'></span>

<h3>Description</h3>

<p>Plots record locations on a world or regional map using latitude/longitude
data returned by a VertNet search.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertmap(
  input = NULL,
  mapdatabase = "world",
  region = ".",
  geom = geom_point,
  jitter = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vertmap_+3A_input">input</code></td>
<td>
<p>Output from <code><a href="#topic+vertsearch">vertsearch</a></code>,
<code><a href="#topic+searchbyterm">searchbyterm</a></code>, or <code><a href="#topic+spatialsearch">spatialsearch</a></code>. Must
include columns &quot;decimallatitude&quot; and &quot;decimallongitude&quot;</p>
</td></tr>
<tr><td><code id="vertmap_+3A_mapdatabase">mapdatabase</code></td>
<td>
<p>The base map on which your data are displayed; what you
choose here determines what you can choose in the region parameter; one
of: county, state, usa, world, world2, france, italy, or nz</p>
</td></tr>
<tr><td><code id="vertmap_+3A_region">region</code></td>
<td>
<p>The region in which your data are displayed; to see region names
for the &quot;world&quot; database layer, run
<code>sort(unique(map_data("world")$region))</code> after loading packages maps
and ggplot2; to see region names for the US &quot;state&quot; layer, run
<code>sort(unique(map_data("state")$region))</code></p>
</td></tr>
<tr><td><code id="vertmap_+3A_geom">geom</code></td>
<td>
<p>Specifies the type of object being plotted; one of: <code>geom_point</code> or
<code>geom_jitter</code> (do not use quotes)</p>
</td></tr>
<tr><td><code id="vertmap_+3A_jitter">jitter</code></td>
<td>
<p>If <code>geom = geom_jitter</code>, the amount by which to jitter points in
width, height, or both. Default</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>vertmap</code> uses decimal latitude and longitude data in records generated by
an rvertnet search to display returned records on a specified base map. Taxa
are color-coded by scientific name, if available. Adapt the vertmap code to
construct maps according to your own specifications.
</p>


<h3>Value</h3>

<p>Map of record locations displayed on the selected base map
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
out &lt;- vertsearch("Junco hyemalis") # get occurrence records
vertmap(out)                        # map occurrence records

# Records are color coded by dwc term "scientificname" - sometimes unavailble
out &lt;- vertsearch("mustela nigripes")
vertmap(input = out, mapdatabase = "state")

# Use searchbyterm() to match records with mapped region
spec &lt;- searchbyterm(genus = "ochotona", specificepithet = "princeps", state = "california",
limit = 200)
vertmap(input = spec, mapdatabase = "state", region = "california")

# Many species
splist &lt;- c("Accipiter erythronemius", "Aix sponsa", "Haliaeetus leucocephalus",
		"Corvus corone", "Threskiornis molucca", "Merops malimbicus")
out &lt;- lapply(splist, function(x) vertsearch(t=x, lim=100))
out &lt;- dplyr::bind_rows(lapply(out, "[[", "data"))
vertmap(out)
## jitter points
library("ggplot2")
vertmap(out, geom = geom_jitter, jitter = position_jitter(1, 6))

## End(Not run)
</code></pre>

<hr>
<h2 id='vertoccurrence'>This function is defunct.</h2><span id='topic+vertoccurrence'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertoccurrence(...)
</code></pre>

<hr>
<h2 id='vertoccurrencecount'>This function is defunct.</h2><span id='topic+vertoccurrencecount'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertoccurrencecount(...)
</code></pre>

<hr>
<h2 id='vertproviders'>This function is defunct.</h2><span id='topic+vertproviders'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertproviders(...)
</code></pre>

<hr>
<h2 id='vertsearch'>Find records using a global full-text search of VertNet archives.</h2><span id='topic+vertsearch'></span>

<h3>Description</h3>

<p>Returns any record containing your target text in any field of the record.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertsearch(
  taxon = NULL,
  ...,
  limit = 1000,
  compact = TRUE,
  messages = TRUE,
  only_dwc = TRUE,
  callopts = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vertsearch_+3A_taxon">taxon</code></td>
<td>
<p>(character) Taxonomic identifier or other text to search for</p>
</td></tr>
<tr><td><code id="vertsearch_+3A_...">...</code></td>
<td>
<p>(character) Additional search terms. These must be unnamed</p>
</td></tr>
<tr><td><code id="vertsearch_+3A_limit">limit</code></td>
<td>
<p>(numeric) Limit on the number of records returned. If &gt;1000
results, we use a cursor internally, but you should still get up to the
results you asked for. See also
<code><a href="#topic+bigsearch">bigsearch</a></code> to get larger result sets in a text file via email.</p>
</td></tr>
<tr><td><code id="vertsearch_+3A_compact">compact</code></td>
<td>
<p>Return a compact data frame (boolean)</p>
</td></tr>
<tr><td><code id="vertsearch_+3A_messages">messages</code></td>
<td>
<p>Print progress and information messages. Default: TRUE</p>
</td></tr>
<tr><td><code id="vertsearch_+3A_only_dwc">only_dwc</code></td>
<td>
<p>(logical) whether or not to return only Darwin Core term
fields. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="vertsearch_+3A_callopts">callopts</code></td>
<td>
<p>curl options in a list passed on to
<code><a href="crul.html#topic+HttpClient">HttpClient</a></code>, see examples</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+vertsearch">vertsearch</a></code> performs a nonspecific search for your
input within every record and field of the VertNet archives. For a more
specific search, try <code><a href="#topic+searchbyterm">searchbyterm</a></code>
</p>


<h3>Value</h3>

<p>A data frame of search results
</p>


<h3>References</h3>

<p><a href="https://github.com/VertNet/webapp/wiki/The-API-search-function">https://github.com/VertNet/webapp/wiki/The-API-search-function</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
out &lt;- vertsearch(taxon = "aves", "california", limit=3)

# Limit the number of records returned (under 1000)
out &lt;- vertsearch("(kansas state OR KSU)", limit = 200)
# Use bigsearch() to retrieve &gt;1000 records

# Find multiple species using searchbyterm():
# a) returns a specific result
out &lt;- searchbyterm(genus = "mustela", species = "(nivalis OR erminea)")
vertmap(out)

# b) returns a non-specific result
out &lt;- vertsearch(taxon = "(mustela nivalis OR mustela erminea)")
vertmap(out)

# c) returns a non-specific result
splist &lt;- c("mustela nivalis", "mustela erminea")
out &lt;- lapply(splist, function(x) vertsearch(taxon = x, lim = 500))
out &lt;- dplyr::bind_rows(lapply(out, "[[", "data"))
vertmap(out)

# curl options
vertsearch(taxon = "Aves", limit = 10, callopts = list(verbose = TRUE))
# vertsearch(taxon = "Aves", limit = 10, callopts = list(timeout_ms = 10))

## End(Not run)
</code></pre>

<hr>
<h2 id='vertsummary'>Summarize a set of records downloaded from VertNet.</h2><span id='topic+vertsummary'></span>

<h3>Description</h3>

<p>Creates a simple summary of data returned by a VertNet search.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertsummary(input, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vertsummary_+3A_input">input</code></td>
<td>
<p>Output from <code><a href="#topic+vertsearch">vertsearch</a></code>,
<code><a href="#topic+searchbyterm">searchbyterm</a></code>, or <code><a href="#topic+spatialsearch">spatialsearch</a></code>. Required.</p>
</td></tr>
<tr><td><code id="vertsummary_+3A_verbose">verbose</code></td>
<td>
<p>Print progress and information messages. Default: TRUE</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+vertsummary">vertsummary</a></code> provides information on the sources,
types and extent of data returned by a VertNet search.
</p>


<h3>Value</h3>

<p>A list of summary statistics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get occurrence records
recs &lt;- vertsearch("Junco hyemalis", limit = 10)

# summarize occurrence records
vertsummary(recs)

vertsummary(vertsearch("Oncorhynchus clarki henshawi"))

## End(Not run)
</code></pre>

<hr>
<h2 id='verttaxa'>This function is defunct.</h2><span id='topic+verttaxa'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verttaxa(...)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

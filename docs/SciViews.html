<!DOCTYPE html><html lang="en"><head><title>Help for package SciViews</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SciViews}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#SciViews-package'><p>SciViews - Main package</p></a></li>
<li><a href='#colors'><p>Various color palettes.</p></a></li>
<li><a href='#correlation'><p>Correlation matrices.</p></a></li>
<li><a href='#enum'><p>Enumerate items in an object.</p></a></li>
<li><a href='#ln'><p>Logarithms.</p></a></li>
<li><a href='#nr'><p>Convenience functions for rows or columns manipulations.</p></a></li>
<li><a href='#panels'><p>More panel plots.</p></a></li>
<li><a href='#panels.diag'><p>More univariate panel plots.</p></a></li>
<li><a href='#pcomp'><p>Principal Components Analysis.</p></a></li>
<li><a href='#timing'><p>Timing of R expressions.</p></a></li>
<li><a href='#vectorplot'><p>Plot vectors inside a unit circle (PCA loadings or correlations plots).</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9-13.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-01-05</td>
</tr>
<tr>
<td>Title:</td>
<td>SciViews - Main package</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to install SciViews additions to R, and more
        tools.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philippe Grosjean &lt;phgrosjean@sciviews.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ellipse, grDevices, graphics, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>MASS, covr, knitr, testthat</td>
</tr>
<tr>
<td>Enhances:</td>
<td>base</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SciViews/SciViews">https://github.com/SciViews/SciViews</a>,
<a href="http://www.sciviews.org/SciViews-R">http://www.sciviews.org/SciViews-R</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SciViews/SciViews/issues">https://github.com/SciViews/SciViews/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-11-16 13:51:40 UTC; hornik</td>
</tr>
<tr>
<td>Author:</td>
<td>Philippe Grosjean [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-11-16 20:17:58 UTC</td>
</tr>
</table>
<hr>
<h2 id='SciViews-package'>SciViews - Main package</h2><span id='topic+SciViews-package'></span>

<h3>Description</h3>

<p>The SciViews package provides various functions to install the SciViews::R
dialect. It also provides additional utilites besides base, recommended and
tidyverse.
</p>


<h3>Important functions</h3>

<p>TODO...
</p>

<hr>
<h2 id='colors'>Various color palettes.</h2><span id='topic+colors'></span><span id='topic+rwb_colors'></span><span id='topic+rwb.colors'></span><span id='topic+rwg_colors'></span><span id='topic+rwg.colors'></span><span id='topic+ryg_colors'></span><span id='topic+ryg.colors'></span><span id='topic+cwm_colors'></span><span id='topic+cwm.colors'></span>

<h3>Description</h3>

<p>Create vectors of <code>n</code> contiguous colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rwb_colors(n, alpha = 1, s = 0.9, v = 0.9)

rwb.colors(n, alpha = 1, s = 0.9, v = 0.9)

rwg_colors(n, alpha = 1, s = 0.9, v = 0.9)

rwg.colors(n, alpha = 1, s = 0.9, v = 0.9)

ryg_colors(n, alpha = 1, s = 0.9, v = 0.9)

ryg.colors(n, alpha = 1, s = 0.9, v = 0.9)

cwm_colors(n, alpha = 1, s = 0.9, v = 0.9)

cwm.colors(n, alpha = 1, s = 0.9, v = 0.9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="colors_+3A_n">n</code></td>
<td>
<p>The number of colors (&gt;= 1) to be in the palette.</p>
</td></tr>
<tr><td><code id="colors_+3A_alpha">alpha</code></td>
<td>
<p>The alpha transparency, a number in [0, 1], see argument
<code>alpha =</code> in [hsv()].
</p>
<p>[0, 1]: R:0,
[hsv()]: R:hsv()</p>
</td></tr>
<tr><td><code id="colors_+3A_s">s</code></td>
<td>
<p>The 'saturation' to be used to complete the HSV color descriptions.</p>
</td></tr>
<tr><td><code id="colors_+3A_v">v</code></td>
<td>
<p>The 'value' to use for the HSV color descriptions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cwm_colors(s = 0.5, v = 1)</code> gives very similar colors to
<code>cm.colors()</code>.
<code>ryg_colors()</code> is similar to <code>rainbow(start = 0, end = 2/6)</code>.
The <code>xxx_colors()</code> (tidyverse name-compatible) and 'xxx.colors()&ldquo;
(grDevices name-compatible) functions are synonyms.
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+cm.colors">cm.colors()</a></code>, <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Draw color wheels with various palettes
opar &lt;- par(mfrow = c(2, 2))
pie(rep(1, 11), col = cwm.colors(11), main = "Cyan - white - magenta")
pie(rep(1, 11), col = rwb.colors(11), main = "Red - white - blue")
pie(rep(1, 11), col = rwg.colors(11), main = "Red - white - green")
pie(rep(1, 11), col = ryg.colors(11), main = "Red - yellow - green")
par(opar)
</code></pre>

<hr>
<h2 id='correlation'>Correlation matrices.</h2><span id='topic+correlation'></span><span id='topic+Correlation'></span><span id='topic+correlation.formula'></span><span id='topic+correlation.default'></span><span id='topic+is.Correlation'></span><span id='topic+is.correlation'></span><span id='topic+as.Correlation'></span><span id='topic+as.correlation'></span><span id='topic+print.Correlation'></span><span id='topic+summary.Correlation'></span><span id='topic+print.summary.Correlation'></span><span id='topic+plot.Correlation'></span><span id='topic+lines.Correlation'></span>

<h3>Description</h3>

<p>Compute the correlation matrix between two variables, or more (between all
columns of a matrix or data frame).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>correlation(x, ...)

Correlation(x, ...)

## S3 method for class 'formula'
correlation(formula, data = NULL, subset, na.action, ...)

## Default S3 method:
correlation(x, y = NULL, use = "everything",
  method = c("pearson", "kendall", "spearman"), ...)

is.Correlation(x)

is.correlation(x)

as.Correlation(x)

as.correlation(x)

## S3 method for class 'Correlation'
print(x, digits = 3, cutoff = 0, ...)

## S3 method for class 'Correlation'
summary(object, cutpoints = c(0.3, 0.6, 0.8, 0.9, 0.95),
  symbols = c(" ", ".", ",", "+", "*", "B"), ...)

## S3 method for class 'summary.Correlation'
print(x, ...)

## S3 method for class 'Correlation'
plot(x, y = NULL, outline = TRUE, cutpoints = c(0.3,
  0.6, 0.8, 0.9, 0.95), palette = rwb.colors, col = NULL, numbers = TRUE,
  digits = 2, type = c("full", "lower", "upper"), diag = (type == "full"),
  cex.lab = par("cex.lab"), cex = 0.75 * par("cex"), ...)

## S3 method for class 'Correlation'
lines(x, choices = 1L:2L, col = par("col"), lty = 2,
  ar.length = 0.1, pos = NULL, cex = par("cex"), labels = rownames(x),
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="correlation_+3A_x">x</code></td>
<td>
<p>A numeric vector, matrix or data frame (or any object for
<code>is.Correlation()</code>, <code>as.Correlation()</code>.</p>
</td></tr>
<tr><td><code id="correlation_+3A_...">...</code></td>
<td>
<p>Further arguments passed to functions.</p>
</td></tr>
<tr><td><code id="correlation_+3A_formula">formula</code></td>
<td>
<p>A formula with no response variable, referring only to numeric
variables.</p>
</td></tr>
<tr><td><code id="correlation_+3A_data">data</code></td>
<td>
<p>An optional data frame (or similar: see <code><a href="stats.html#topic+model.frame">model.frame()</a></code>)
containing the variables in the formula <code>formula</code>. By default the variables
are taken from <code>environment(formula)</code>.</p>
</td></tr>
<tr><td><code id="correlation_+3A_subset">subset</code></td>
<td>
<p>An optional vector used to select rows (observations) of the
data matrix <code>x</code>.</p>
</td></tr>
<tr><td><code id="correlation_+3A_na.action">na.action</code></td>
<td>
<p>A function which indicates what should happen when the data
contain <code>NA</code>s. The default is set by the <code>na.action =</code> setting of <code>options()</code>
and <code>na.fail()</code> is used if that is not set. The 'factory-fresh' default is
<code>na.omit()</code>.</p>
</td></tr>
<tr><td><code id="correlation_+3A_y">y</code></td>
<td>
<p><code>NULL</code> (default), or a vector, matrix or data frame with compatible
dimensions to <code>x</code> for <code>Correlation()</code>. The default is equivalent to <code>x = y</code>,
but more efficient.</p>
</td></tr>
<tr><td><code id="correlation_+3A_use">use</code></td>
<td>
<p>An optional character string giving a method for computing
correlations in the presence of missing values. This must be (an abbreviation
of) one of the strings <code>"everything"</code>, <code>"all.obs"</code>, <code>"complete.obs"</code>,
<code>"na.or.complete"</code>, or <code>"pairwise.complete.obs"</code>.</p>
</td></tr>
<tr><td><code id="correlation_+3A_method">method</code></td>
<td>
<p>A character string indicating which correlation coefficient is
to be computed. One of <code>"pearson"</code> (default), <code>"kendall"</code>, or <code>"spearman"</code>,
can be abbreviated.</p>
</td></tr>
<tr><td><code id="correlation_+3A_digits">digits</code></td>
<td>
<p>Digits to print after the decimal separator.</p>
</td></tr>
<tr><td><code id="correlation_+3A_cutoff">cutoff</code></td>
<td>
<p>Correlation coefficients lower than this (in absolute value)
are suppressed.</p>
</td></tr>
<tr><td><code id="correlation_+3A_object">object</code></td>
<td>
<p>A 'Correlation' object.</p>
</td></tr>
<tr><td><code id="correlation_+3A_cutpoints">cutpoints</code></td>
<td>
<p>The cut points to use for categories. Specify only positive
values (absolute value of correlation coefficients are summarized, or
negative equivalents are automatically computed for the graph. Do not include
0 or 1 in the cutpoints).</p>
</td></tr>
<tr><td><code id="correlation_+3A_symbols">symbols</code></td>
<td>
<p>The symbols to use to summarize the correlation matrix.</p>
</td></tr>
<tr><td><code id="correlation_+3A_outline">outline</code></td>
<td>
<p>Do we draw the outline of the ellipse?</p>
</td></tr>
<tr><td><code id="correlation_+3A_palette">palette</code></td>
<td>
<p>A function that can produce a palette of colors.</p>
</td></tr>
<tr><td><code id="correlation_+3A_col">col</code></td>
<td>
<p>Color of the ellipse. If <code>NULL</code> (default), the colors will be
computed using <code>cutpoints =</code> and <code>palette =</code>.</p>
</td></tr>
<tr><td><code id="correlation_+3A_numbers">numbers</code></td>
<td>
<p>Do we print correlation values in the center of the ellipses?</p>
</td></tr>
<tr><td><code id="correlation_+3A_type">type</code></td>
<td>
<p>Do we plot a complete matrix, or only lower or upper triangle?</p>
</td></tr>
<tr><td><code id="correlation_+3A_diag">diag</code></td>
<td>
<p>Do we plot items on the diagonal? They have always a correlation
of one.</p>
</td></tr>
<tr><td><code id="correlation_+3A_cex.lab">cex.lab</code></td>
<td>
<p>The expansion factor for labels.</p>
</td></tr>
<tr><td><code id="correlation_+3A_cex">cex</code></td>
<td>
<p>The expansion factor for text.</p>
</td></tr>
<tr><td><code id="correlation_+3A_choices">choices</code></td>
<td>
<p>The items to select</p>
</td></tr>
<tr><td><code id="correlation_+3A_lty">lty</code></td>
<td>
<p>The line type to draw.</p>
</td></tr>
<tr><td><code id="correlation_+3A_ar.length">ar.length</code></td>
<td>
<p>The length of the arrow head.</p>
</td></tr>
<tr><td><code id="correlation_+3A_pos">pos</code></td>
<td>
<p>The position relative to arrows.</p>
</td></tr>
<tr><td><code id="correlation_+3A_labels">labels</code></td>
<td>
<p>The label to draw nead arrows.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>Correlation()</code> and <code>as.Correlation()`` create a 'Correlation' object, while</code>is.Correlation()&ldquo; tests for it.
</p>
<p>There are <code>print()</code> and <code>summary()</code> methods for the 'Correlation' object
that differ in the symbolic encoding of the correlations in <code>summary()</code>,
using5 symnum()], which makes large correlation matrices more readable.
</p>
<p>The method <code>plot()</code> returns nothing, but it draws ellipses on a graph that
represent the correlation matrix visually. This is essentially the
<code><a href="ellipse.html#topic+plotcorr">plotcorr()</a></code> function from package <strong>ellipse</strong>, with slightly different
default arguments and with default <code>cutpoints</code> equivalent to those used in
the <code>summary()</code> method.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>, wrapping code in package
ellipse, function <code><a href="ellipse.html#topic+plotcorr">plotcorr()</a></code> for the <code>plot.Correlation()</code> method.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+cov">cov()</a></code>, <code><a href="stats.html#topic+cov2cor">cov2cor()</a></code>, <code><a href="stats.html#topic+cov.wt">cov.wt()</a></code>, <code><a href="stats.html#topic+symnum">symnum()</a></code>, <code><a href="ellipse.html#topic+plotcorr">plotcorr()</a></code> and look
at <code><a href="#topic+panel_cor">panel_cor()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This is a simple correlation coefficient
cor(rnorm(10), runif(10))
Correlation(rnorm(10), runif(10))

# 'Correlation' objects allow better inspection of the correlation matrices
# than the output of default R cor() function
(longley.cor &lt;- Correlation(longley))
summary(longley.cor) # Synthetic view of the correlation matrix
plot(longley.cor)    # Graphical representation

# Use of the formula interface
(mtcars.cor &lt;- Correlation(~ mpg + cyl + disp + hp, data = mtcars,
  method = "spearman", na.action = "na.omit"))

mtcars.cor2 &lt;- Correlation(mtcars, method = "spearman")
print(mtcars.cor2, cutoff = 0.6)
summary(mtcars.cor2)
plot(mtcars.cor2, type = "lower")

mtcars.cor2["mpg", "cyl"] # Extract a correlation from the correlation matrix
</code></pre>

<hr>
<h2 id='enum'>Enumerate items in an object.</h2><span id='topic+enum'></span>

<h3>Description</h3>

<p><code>enum()</code> is creating a vector of integers to enumarate items in an object. It
is particularly useful in the <code>for(i in enum(object))</code> construct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enum(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enum_+3A_x">x</code></td>
<td>
<p>Any object.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The pattern <code>for(i in 1:length(object))</code> is often found, but it fails
in case <code>length(object) == 0</code>! <code>enum()</code> is indeed a synonym of <code>seq_along()</code>,
but the later one is less  expressive in the context.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+seq_along">seq_along()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>enum(letters)
enum(numeric(0))
# Compare with:
1:length(numeric(0))
enum(NULL)
letters5 &lt;- letters[1:5]
for (i in enum(letters5)) cat("letter", i, "=", letters5[i], "\n")
</code></pre>

<hr>
<h2 id='ln'>Logarithms.</h2><span id='topic+ln'></span><span id='topic+ln1p'></span><span id='topic+lg'></span><span id='topic+lg1p'></span><span id='topic+E'></span><span id='topic+lb'></span>

<h3>Description</h3>

<p>To avoid confusion using the default <code>log()</code> function, which is natural
logarithm, but spells out like base 10 logarithm in the mind of some
beginneRs, we define <code>ln()</code> and <code>ln1p()</code> as wrappers for <code>log()`` with default</code>base = exp(1)<code>argument and for</code>log1p()<code>, respectively. For similar reasons,</code>lg()<code>is a wrapper of</code>log10()<code>(there is no possible confusion here, but 'lg' is another common notation for base 10 logarithm).</code>lg1p()<code>is a convenient way to use the optimized code to calculate the logarithm of x + 1, but returning the result in base 10 logarithm.</code>E<code>is the Euler constant and is provided for convenience as</code>exp(1)<code>. Finally</code>lb()<code>is a synonym of</code>log2()'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ln(x)

ln1p()

lg()

lg1p(x)

E

lb()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ln_+3A_x">x</code></td>
<td>
<p>A numeric or complex vector.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>numeric</code> of length 1.</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+log">log()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ln(exp(3))              # Same as log(exp(3))
ln1p(c(0, 1, 10, 100))  # Wrapper for log1p()
lg(10^3)                # Same as log10(10^3)
lg1p(c(0, 1, 10, 100))  # log10(x + 1), but optimized for x &lt;&lt; 1
E^4                     # Similar to exp(4), but different calculation!
lb(1:3)                 # Wrapper for log2()
</code></pre>

<hr>
<h2 id='nr'>Convenience functions for rows or columns manipulations.</h2><span id='topic+nr'></span><span id='topic+nc'></span><span id='topic+ROWS'></span><span id='topic+COLS'></span>

<h3>Description</h3>

<p><code>nr()</code> and <code>nc()</code> are synonyms of the ugly <code>NROW()</code> or <code>NCOL()</code> that still
provide a result, even if <code>dim</code> attribute of the object is not set, on the
contrary to <code>nrow()</code>or <code>ncol()</code>. <code>ROWS</code> and <code>COLS</code> are constants that makes
call to <code>apply()</code> more expressive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nr(x)

nc(x)

ROWS

COLS
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nr_+3A_x">x</code></td>
<td>
<p>Any object.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>numeric</code> of length 1.</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+NROW">NROW()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mm &lt;- matrix(1:6, nrow = 3)
nr(mm)
nc(mm)
vv &lt;- 1:6
nr(vv)
nc(vv)
# ROWS and COLS constants used with apply()
apply(mm, ROWS, mean) # Idem apply(mm, 1, mean)
apply(mm, COLS, mean) # Idem apply(mm, 2, mean)
</code></pre>

<hr>
<h2 id='panels'>More panel plots.</h2><span id='topic+panels'></span><span id='topic+panel_reg'></span><span id='topic+panel.reg'></span><span id='topic+panel_ellipse'></span><span id='topic+panel.ellipse'></span><span id='topic+panel_cor'></span><span id='topic+panel.cor'></span><span id='topic+panel_smooth'></span>

<h3>Description</h3>

<p>Several panel plots that can be used with functions like <code><a href="graphics.html#topic+coplot">coplot()</a></code> and
[pairs))].
</p>
<p>[pairs))]: R:pairs))
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel_reg(x, y, col = par("col"), bg = par("bg"), pch = par("pch"),
  cex = par("cex"), lwd = par("lwd"), line.reg = lm, line.col = "red",
  line.lwd = lwd, untf = TRUE, ...)

panel.reg(x, y, col = par("col"), bg = par("bg"), pch = par("pch"),
  cex = par("cex"), lwd = par("lwd"), line.reg = lm, line.col = "red",
  line.lwd = lwd, untf = TRUE, ...)

panel_ellipse(x, y, col = par("col"), bg = par("bg"), pch = par("pch"),
  cex = par("cex"), el.level = 0.7, el.col = "cornsilk",
  el.border = "red", major = TRUE, ...)

panel.ellipse(x, y, col = par("col"), bg = par("bg"), pch = par("pch"),
  cex = par("cex"), el.level = 0.7, el.col = "cornsilk",
  el.border = "red", major = TRUE, ...)

panel_cor(x, y, use = "everything", method = c("pearson", "kendall",
  "spearman"), alternative = c("two.sided", "less", "greater"), digits = 2,
  prefix = "", cex = par("cex"), cor.cex = cex, stars.col = "red", ...)

panel.cor(x, y, use = "everything", method = c("pearson", "kendall",
  "spearman"), alternative = c("two.sided", "less", "greater"), digits = 2,
  prefix = "", cex = par("cex"), cor.cex = cex, stars.col = "red", ...)

panel_smooth(x, y, col = par("col"), bg = NA, pch = par("pch"), cex = 1,
  col.smooth = "red", span = 2/3, iter = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panels_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="panels_+3A_y">y</code></td>
<td>
<p>A numeric vector of same length as <code>x</code>.</p>
</td></tr>
<tr><td><code id="panels_+3A_col">col</code></td>
<td>
<p>The color of the points.</p>
</td></tr>
<tr><td><code id="panels_+3A_bg">bg</code></td>
<td>
<p>The background color for symbol used for the points.</p>
</td></tr>
<tr><td><code id="panels_+3A_pch">pch</code></td>
<td>
<p>The symbol used for the points.</p>
</td></tr>
<tr><td><code id="panels_+3A_cex">cex</code></td>
<td>
<p>The expansion factor used for the points.</p>
</td></tr>
<tr><td><code id="panels_+3A_lwd">lwd</code></td>
<td>
<p>The line width.</p>
</td></tr>
<tr><td><code id="panels_+3A_line.reg">line.reg</code></td>
<td>
<p>A function that calculates coefficients of a straight line,
for instance, <code><a href="stats.html#topic+lm">lm()</a></code>, or <code><a href="MASS.html#topic+rlm">rlm()</a></code> for robust linear regression.</p>
</td></tr>
<tr><td><code id="panels_+3A_line.col">line.col</code></td>
<td>
<p>The color of the line.</p>
</td></tr>
<tr><td><code id="panels_+3A_line.lwd">line.lwd</code></td>
<td>
<p>The width of the line.</p>
</td></tr>
<tr><td><code id="panels_+3A_untf">untf</code></td>
<td>
<p>Logical asking whether to untransform the straight line in case
one or both axis are in log scale.</p>
</td></tr>
<tr><td><code id="panels_+3A_...">...</code></td>
<td>
<p>Further arguments to plot functions.</p>
</td></tr>
<tr><td><code id="panels_+3A_el.level">el.level</code></td>
<td>
<p>The confidence level for the bivariate normal ellipse around
data; the default value of 0.7 draws an ellipse of roughly +/-1 sd.</p>
</td></tr>
<tr><td><code id="panels_+3A_el.col">el.col</code></td>
<td>
<p>The color used to fill the ellipse.</p>
</td></tr>
<tr><td><code id="panels_+3A_el.border">el.border</code></td>
<td>
<p>The color used to draw the border of the ellipse and the
standardized major axis.</p>
</td></tr>
<tr><td><code id="panels_+3A_major">major</code></td>
<td>
<p>If <code>TRUE</code>, the standardized major axis is also drawn.</p>
</td></tr>
<tr><td><code id="panels_+3A_use">use</code></td>
<td>
<p>One of <code>"everything"</code>, <code>"all.obs"</code>, <code>"complete.obs"</code>,
<code>"na.or.complete"</code>, or <code>"pairwise.complete.obs"</code> (can be abbreviated).
Defines how the <code><a href="stats.html#topic+cor">cor()</a></code> function behaves with missing observations.</p>
</td></tr>
<tr><td><code id="panels_+3A_method">method</code></td>
<td>
<p>One of the three correlation coefficients <code>"pearson"</code>
(default), <code>"kendall"</code>, or <code>"spearman"</code>. Can be abbreviated.</p>
</td></tr>
<tr><td><code id="panels_+3A_alternative">alternative</code></td>
<td>
<p>The alternative hypothesis in correlation test, see
<code><a href="stats.html#topic+cor.test">cor.test()</a></code>.</p>
</td></tr>
<tr><td><code id="panels_+3A_digits">digits</code></td>
<td>
<p>The number of decimal digits to print when the correlation
coefficient is printed in the graph.</p>
</td></tr>
<tr><td><code id="panels_+3A_prefix">prefix</code></td>
<td>
<p>A prefix (character string) to use before the correlation
coefficient printed in the graph.</p>
</td></tr>
<tr><td><code id="panels_+3A_cor.cex">cor.cex</code></td>
<td>
<p>Expansion coefficient for text in printing correlation
coefficients.</p>
</td></tr>
<tr><td><code id="panels_+3A_stars.col">stars.col</code></td>
<td>
<p>The color used for significance stars (with: *** p &lt; 0.001,
** p &lt; 0.1, * p &lt; 0.05, . p &lt; 0.1.</p>
</td></tr>
<tr><td><code id="panels_+3A_col.smooth">col.smooth</code></td>
<td>
<p>Color to be used by lines for drawing the smooths.</p>
</td></tr>
<tr><td><code id="panels_+3A_span">span</code></td>
<td>
<p>Smoothing parameter f for <code><a href="stats.html#topic+lowess">lowess()</a></code>, see there.</p>
</td></tr>
<tr><td><code id="panels_+3A_iter">iter</code></td>
<td>
<p>Number of robustness iterations for <code><a href="stats.html#topic+lowess">lowess()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Theses functions should be used outside of the diagonal in
<code><a href="graphics.html#topic+pairs">pairs()</a></code>, or with <code><a href="graphics.html#topic+coplot">coplot()</a></code>, as they are bivariate plots.
</p>


<h3>Value</h3>

<p>These functions return nothing and are used for their side effect of
plotting in panels of composite plots.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>, but code inspired from
<code><a href="graphics.html#topic+panel.smooth">panel.smooth()</a></code> in <strong>graphics</strong> and <code>panel.car()</code> in package <strong>car</strong>.
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+coplot">coplot()</a></code>, <code><a href="graphics.html#topic+pairs">pairs()</a></code>, <code><a href="graphics.html#topic+panel.smooth">panel.smooth()</a></code>, <code><a href="stats.html#topic+lm">lm()</a></code>, <code><a href="ellipse.html#topic+ellipse">ellipse()</a></code>,
<code><a href="stats.html#topic+cor">cor()</a></code> and <code><a href="stats.html#topic+cor.test">cor.test()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Smooth lines in lower graphs and straight lines in upper graphs
pairs(trees, lower.panel = panel_smooth, upper.panel = panel_reg)
# Robust regression lines
library(MASS)  # For rlm()
pairs(trees, panel = panel_reg, diag.panel = panel_boxplot,
  reg.line = rlm, line.col = "blue", line.lwd = 2)
# A Double log graph
pairs(trees, lower.panel = panel_smooth, upper.panel = panel_reg, log = "xy")

# Graph suitables to explore correlations (take care there are potentially
# many simultaneous tests done here... So, you loose much power in the whole
# analysis... use it just as an indication!)
# Pearson's r
pairs(trees, lower.panel = panel_ellipse, upper.panel = panel_cor)
# Spearman's rho (ellipse and straight lines not suitable here!)
pairs(trees, lower.panel = panel_smooth, upper.panel = panel_cor,
  method = "spearman", span = 1)
# Several groups (visualize how bad it is to consider the whole set at once!)
pairs(iris[, -5], lower.panel = panel_smooth, upper.panel = panel_cor,
  method = "kendall", span = 1,
  col = c("red3", "blue3", "green3")[iris$Species])
# Now analyze correlation for one species only
pairs(iris[iris$Species == "virginica", -5], lower.panel = panel_ellipse,
  upper.panel = panel_cor)

# A coplot with custom panes
coplot(Petal.Length ~ Sepal.Length | Species, data = iris,
  panel = panel_ellipse)
</code></pre>

<hr>
<h2 id='panels.diag'>More univariate panel plots.</h2><span id='topic+panels.diag'></span><span id='topic+panel_boxplot'></span><span id='topic+panel.boxplot'></span><span id='topic+panel_density'></span><span id='topic+panel.density'></span><span id='topic+panel_hist'></span><span id='topic+panel.hist'></span><span id='topic+panel_qqnorm'></span><span id='topic+panel.qqnorm'></span>

<h3>Description</h3>

<p>Several panel plots that can be used with <code><a href="graphics.html#topic+pairs">pairs()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel_boxplot(x, col = par("col"), box.col = "cornsilk", ...)

panel.boxplot(x, col = par("col"), box.col = "cornsilk", ...)

panel_density(x, adjust = 1, rug = TRUE, col = par("col"),
  lwd = par("lwd"), line.col = col, line.lwd = lwd, ...)

panel.density(x, adjust = 1, rug = TRUE, col = par("col"),
  lwd = par("lwd"), line.col = col, line.lwd = lwd, ...)

panel_hist(x, breaks = "Sturges", hist.col = "cornsilk",
  hist.border = NULL, hist.density = NULL, hist.angle = 45, ...)

panel.hist(x, breaks = "Sturges", hist.col = "cornsilk",
  hist.border = NULL, hist.density = NULL, hist.angle = 45, ...)

panel_qqnorm(x, pch = par("pch"), col = par("col"), bg = par("bg"),
  cex = par("cex"), lwd = par("lwd"), qq.pch = pch, qq.col = col,
  qq.bg = bg, qq.cex = cex, qqline.col = qq.col, qqline.lwd = lwd, ...)

panel.qqnorm(x, pch = par("pch"), col = par("col"), bg = par("bg"),
  cex = par("cex"), lwd = par("lwd"), qq.pch = pch, qq.col = col,
  qq.bg = bg, qq.cex = cex, qqline.col = qq.col, qqline.lwd = lwd, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panels.diag_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_col">col</code></td>
<td>
<p>The color of the points.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_box.col">box.col</code></td>
<td>
<p>The filling color of the boxplots.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_...">...</code></td>
<td>
<p>Further arguments to plot functions, or functions that construct
items, like <code><a href="stats.html#topic+density">density()</a></code>, depending on the context.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_adjust">adjust</code></td>
<td>
<p>The bandwidth adjustment factor, see <code><a href="stats.html#topic+density">density()</a></code>.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_rug">rug</code></td>
<td>
<p>Do we add a rug representation (1-d plot) of the points too?</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_lwd">lwd</code></td>
<td>
<p>The line width.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_line.col">line.col</code></td>
<td>
<p>The color of the line.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_line.lwd">line.lwd</code></td>
<td>
<p>The width of the line.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_breaks">breaks</code></td>
<td>
<p>The number of breaks, the name of a break algorithm, a vector
of breakpoints, or any other acceptable value for <code>breaks =</code> argument of
<code><a href="graphics.html#topic+hist">hist()</a></code>.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_hist.col">hist.col</code></td>
<td>
<p>The filling color for the histograms.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_hist.border">hist.border</code></td>
<td>
<p>The border color for the histograms.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_hist.density">hist.density</code></td>
<td>
<p>The density for filling lines in the histograms.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_hist.angle">hist.angle</code></td>
<td>
<p>The angle for filling lines in the histograms.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_pch">pch</code></td>
<td>
<p>The symbol used for the points.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_bg">bg</code></td>
<td>
<p>The background color for symbol used for the points.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_cex">cex</code></td>
<td>
<p>The expansion factor used for the points.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_qq.pch">qq.pch</code></td>
<td>
<p>The symbol used to plot points in the QQ-plots.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_qq.col">qq.col</code></td>
<td>
<p>The color of the symbol used to plot points in the QQ-plots.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_qq.bg">qq.bg</code></td>
<td>
<p>The background color of the symbol used to plot points in the
QQ-plots.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_qq.cex">qq.cex</code></td>
<td>
<p>The expansion factor for points in the QQ-plots.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_qqline.col">qqline.col</code></td>
<td>
<p>The color for the QQ-plot lines.</p>
</td></tr>
<tr><td><code id="panels.diag_+3A_qqline.lwd">qqline.lwd</code></td>
<td>
<p>The width for the QQ-plot lines.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Panel functions <code><a href="#topic+panel_boxplot">panel_boxplot()</a></code>, <code><a href="#topic+panel_density">panel_density()</a></code>, <code><a href="#topic+panel_hist">panel_hist()</a></code>
and <code><a href="#topic+panel_qqnorm">panel_qqnorm()</a></code> should be used only to plot univariate data on the
diagonals of pair plots (or scatterplot matrix).
</p>


<h3>Value</h3>

<p>These functions return nothing and are used for their side effect of
plotting in panels of composite plots.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>, but code inspired from
<code>spm()</code> in package <strong>car</strong>.
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+pairs">pairs()</a></code>, <code><a href="graphics.html#topic+boxplot">boxplot()</a></code>, <code><a href="graphics.html#topic+hist">hist()</a></code>, <code><a href="stats.html#topic+density">density()</a></code>, <code><a href="stats.html#topic+qqnorm">qqnorm()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example of scatterplot matrices with custom plots on the diagonal
# Boxplots
pairs(trees, panel = panel_smooth, diag.panel = panel_boxplot)
pairs(trees, diag.panel = panel_boxplot, box.col = "gray")
# Densities
pairs(trees, panel = panel_smooth, diag.panel = panel_density)
pairs(trees, diag.panel = panel_density, line.col = "red", adjust = 0.5)
# Histograms
pairs(trees, panel = panel_smooth, diag.panel = panel_hist)
pairs(trees, diag.panel = panel_hist, hist.col = "gray", breaks = "Scott")
# QQ-plots against Normal theoretical distribution
pairs(trees, panel = panel_smooth, diag.panel = panel_qqnorm)
pairs(trees, diag.panel = panel_qqnorm, qqline.col = 2, qq.cex = .5, qq.pch = 3)
</code></pre>

<hr>
<h2 id='pcomp'>Principal Components Analysis.</h2><span id='topic+pcomp'></span><span id='topic+pcomp.formula'></span><span id='topic+pcomp.default'></span><span id='topic+print.pcomp'></span><span id='topic+summary.pcomp'></span><span id='topic+print.summary.pcomp'></span><span id='topic+plot.pcomp'></span><span id='topic+screeplot.pcomp'></span><span id='topic+points.pcomp'></span><span id='topic+lines.pcomp'></span><span id='topic+text.pcomp'></span><span id='topic+biplot.pcomp'></span><span id='topic+pairs.pcomp'></span><span id='topic+predict.pcomp'></span><span id='topic+correlation.pcomp'></span><span id='topic+scores'></span><span id='topic+scores.pcomp'></span>

<h3>Description</h3>

<p>Perform a principal components analysis on a matrix or data frame and return
a <code>pcomp</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pcomp(x, ...)

## S3 method for class 'formula'
pcomp(formula, data = NULL, subset, na.action,
  method = c("svd", "eigen"), ...)

## Default S3 method:
pcomp(x, method = c("svd", "eigen"), scores = TRUE,
  center = TRUE, scale = TRUE, tol = NULL, covmat = NULL,
  subset = rep(TRUE, nrow(as.matrix(x))), ...)

## S3 method for class 'pcomp'
print(x, ...)

## S3 method for class 'pcomp'
summary(object, loadings = TRUE, cutoff = 0.1, ...)

## S3 method for class 'summary.pcomp'
print(x, digits = 3, loadings = x$print.loadings,
  cutoff = x$cutoff, ...)

## S3 method for class 'pcomp'
plot(x, which = c("screeplot", "loadings", "correlations",
  "scores"), choices = 1L:2L, col = par("col"), bar.col = "gray",
  circle.col = "gray", ar.length = 0.1, pos = NULL, labels = NULL,
  cex = par("cex"), main = paste(deparse(substitute(x)), which, sep =
  " - "), xlab, ylab, ...)

## S3 method for class 'pcomp'
screeplot(x, npcs = min(10, length(x$sdev)),
  type = c("barplot", "lines"), col = "cornsilk",
  main = deparse(substitute(x)), ...)

## S3 method for class 'pcomp'
points(x, choices = 1L:2L, type = "p", pch = par("pch"),
  col = par("col"), bg = par("bg"), cex = par("cex"), ...)

## S3 method for class 'pcomp'
lines(x, choices = 1L:2L, groups, type = c("p", "e"),
  col = par("col"), border = par("fg"), level = 0.9, ...)

## S3 method for class 'pcomp'
text(x, choices = 1L:2L, labels = NULL, col = par("col"),
  cex = par("cex"), pos = NULL, ...)

## S3 method for class 'pcomp'
biplot(x, choices = 1L:2L, scale = 1, pc.biplot = FALSE,
  ...)

## S3 method for class 'pcomp'
pairs(x, choices = 1L:3L, type = c("loadings",
  "correlations"), col = par("col"), circle.col = "gray",
  ar.col = par("col"), ar.length = 0.05, pos = NULL,
  ar.cex = par("cex"), cex = par("cex"), ...)

## S3 method for class 'pcomp'
predict(object, newdata, dim = length(object$sdev), ...)

## S3 method for class 'pcomp'
correlation(x, newvars, dim = length(x$sdev), ...)

scores(x, ...)

## S3 method for class 'pcomp'
scores(x, labels = NULL, dim = length(x$sdev), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pcomp_+3A_x">x</code></td>
<td>
<p>A matrix or data frame with numeric data.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_...">...</code></td>
<td>
<p>Arguments passed to or from other methods. If 'x<code>is a formula one might specify</code>scale =<code>,</code>tol =<code>or</code>covmat ='.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_formula">formula</code></td>
<td>
<p>A formula with no response variable, referring only to numeric
variables.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_data">data</code></td>
<td>
<p>An optional data frame (or similar: see <code><a href="stats.html#topic+model.frame">model.frame()</a></code>)
containing the variables in the formula <code>formula =</code>. By default the variables
are taken from <code>environment(formula)</code>.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_subset">subset</code></td>
<td>
<p>An optional vector used to select rows (observations) of the
data matrix <code>x</code>.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_na.action">na.action</code></td>
<td>
<p>A function which indicates what should happen when the data
contain <code>NA</code>s. The default is set by the <code>na.action =</code> setting of
<code><a href="base.html#topic+options">options()</a></code>, and is <code><a href="stats.html#topic+na.fail">na.fail()</a></code> if that is  not set. The 'factory-fresh'
default is <code><a href="stats.html#topic+na.omit">na.omit()</a></code>.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_method">method</code></td>
<td>
<p>Either <code>"svd"</code> (using <code><a href="stats.html#topic+prcomp">prcomp()</a></code>), <code>"eigen"</code> (using
<code><a href="stats.html#topic+princomp">princomp()</a></code>), or an abbreviation.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_scores">scores</code></td>
<td>
<p>A logical value indicating whether the score on each principal
component should be calculated.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_center">center</code></td>
<td>
<p>A logical value indicating whether the variables should be
shifted to be zero centered. Alternately, a vector of length equal the
number of columns of <code>x</code> can be supplied. The value is passed to <code>scale =</code>.
Note that this argument is ignored for <code>method = "eigen"</code> and the dataset is
always centered in this case.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_scale">scale</code></td>
<td>
<p>A logical value indicating whether the variables should be
scaled to have unit variance before the analysis takes place. The default is
<code>TRUE</code>, which in general, is advisable. Alternatively, a vector of length
equal the number of columns of <code>x</code> can be supplied. The value is passed to
<code><a href="base.html#topic+scale">scale()</a></code>.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_tol">tol</code></td>
<td>
<p>Only when <code>method = "svd"</code>. A value indicating the magnitude
below which components should be omitted. (Components are omitted if their
standard deviations are less than or equal to <code>tol</code> times the standard
deviation of the first component.) With the default null setting, no
components are omitted. Other settings for <code>tol =</code> could be <code>tol = 0</code> or
<code>tol = sqrt(.Machine$double.eps)</code>, which would omit essentially constant
components.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_covmat">covmat</code></td>
<td>
<p>A covariance matrix, or a covariance list as returned by
<code><a href="stats.html#topic+cov.wt">cov.wt()</a></code> (and <code><a href="MASS.html#topic+cov.mve">cov.mve()</a></code> or <code><a href="MASS.html#topic+cov.mcd">cov.mcd()</a></code> from package <strong>MASS</strong>). If
supplied, this is used rather than the covariance matrix of <code>x</code>.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_object">object</code></td>
<td>
<p>A 'pcomp' object.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_loadings">loadings</code></td>
<td>
<p>Do we also summarize the loadings?</p>
</td></tr>
<tr><td><code id="pcomp_+3A_cutoff">cutoff</code></td>
<td>
<p>The cutoff value below which loadings are replaced by white
spaces in the table. That way, larger values are easier to spot and to read
in large tables.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_digits">digits</code></td>
<td>
<p>The number of digits to print.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_which">which</code></td>
<td>
<p>The graph to plot.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_choices">choices</code></td>
<td>
<p>Which principal axes to plot. For 2D graphs, specify two
integers.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_col">col</code></td>
<td>
<p>The color to use in graphs.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_bar.col">bar.col</code></td>
<td>
<p>The color of bars in the screeplot.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_circle.col">circle.col</code></td>
<td>
<p>The color for the circle in the loadings or correlations
plots.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_ar.length">ar.length</code></td>
<td>
<p>The length of the arrows in the loadings and correlations
plots.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_pos">pos</code></td>
<td>
<p>The position of text relative to arrows in loadings and
correlation plots.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_labels">labels</code></td>
<td>
<p>The labels to write. If <code>NULL</code> default values are computed.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_cex">cex</code></td>
<td>
<p>The factor of expansion for text (labels) in the graphs.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_main">main</code></td>
<td>
<p>The title of the graph.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_xlab">xlab</code></td>
<td>
<p>The label of the x-axis.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_ylab">ylab</code></td>
<td>
<p>The label of the y-axis.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_npcs">npcs</code></td>
<td>
<p>The number of principal components to represent in the screeplot.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_type">type</code></td>
<td>
<p>The type of screeplot (<code>"barplot"</code> or <code>"lines"</code>) or pairs plot
(<code>"loadings"</code> or <code>"correlations"</code>).</p>
</td></tr>
<tr><td><code id="pcomp_+3A_pch">pch</code></td>
<td>
<p>The type of symbol to use.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_bg">bg</code></td>
<td>
<p>The background color for symbols.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_groups">groups</code></td>
<td>
<p>A grouping factor.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_border">border</code></td>
<td>
<p>The color of the border.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_level">level</code></td>
<td>
<p>The probability level to use to draw the ellipse.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_pc.biplot">pc.biplot</code></td>
<td>
<p>Do we create a Gabriel's biplot (see <code><a href="stats.html#topic+biplot">biplot()</a></code>)?</p>
</td></tr>
<tr><td><code id="pcomp_+3A_ar.col">ar.col</code></td>
<td>
<p>Color of arrows.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_ar.cex">ar.cex</code></td>
<td>
<p>Expansion factor for terxt on arrows.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_newdata">newdata</code></td>
<td>
<p>New individuals with observations for the same variables as
those used for calculating the PCA. You can then plot these additional
individuals in the scores plot.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_dim">dim</code></td>
<td>
<p>The number of principal components to keep.</p>
</td></tr>
<tr><td><code id="pcomp_+3A_newvars">newvars</code></td>
<td>
<p>New variables with observations for same individuals as those
used for mcalculating the PCA. Correlation with PCs is calculated. You can
then plot these additional variables in the correlation plot.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pcomp()</code> is a generic function with <code>"formula"</code> and <code>"default"</code>
methods. It is essentially a wrapper around <code><a href="stats.html#topic+prcomp">prcomp()</a></code> and <code><a href="stats.html#topic+princomp">princomp()</a></code> to
provide a coherent interface and object for both methods.
</p>
<p>A 'pcomp' object is created. It inherits from 'pca' (as in <strong>labdsv</strong>
package, but not compatible with the 'pca' object of package <strong>ade4</strong>) and of
'princomp'.
</p>
<p>For more information on calculation done, refer to <code><a href="stats.html#topic+prcomp">prcomp()</a></code> for
<code>method = "svd"</code> or <code><a href="stats.html#topic+princomp">princomp()</a></code> for <code>method = "eigen"</code>.
</p>


<h3>Value</h3>

<p>A <code>c("pcomp", "pca", "princomp")</code> object.
</p>


<h3>Note</h3>

<p>The signs of the columns of the loadings and scores are arbitrary, and
so may differ between functions for PCA, and even between different builds of
<span class="rlang"><b>R</b></span>.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>, but the core code is
indeed in package <strong>stats</strong>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+vectorplot">vectorplot()</a></code>, <code><a href="stats.html#topic+prcomp">prcomp()</a></code>, <code><a href="stats.html#topic+princomp">princomp()</a></code>, <code><a href="stats.html#topic+loadings">loadings()</a></code>,
<code><a href="#topic+Correlation">Correlation()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># We will analyze mtcars without the Mercedes data (rows 8:14)
data(mtcars)
cars.pca &lt;- pcomp(~ mpg + cyl + disp + hp + drat + wt + qsec, data = mtcars,
  subset = -(8:14))
cars.pca
summary(cars.pca)
screeplot(cars.pca)

# Loadings are extracted and plotted like this
(cars.ldg &lt;- loadings(cars.pca))
plot(cars.pca, which = "loadings") # Equivalent to vectorplot(cars.ldg)

# Similarly, correlations of variables with PCs are extracted and plotted
(cars.cor &lt;- Correlation(cars.pca))
plot(cars.pca, which = "correlations") # Equivalent to vectorplot(cars.cor)
# One can add supplementary variables on this graph
lines(Correlation(cars.pca,
  newvars = mtcars[-(8:14), c("vs", "am", "gear", "carb")]))

# Plot the scores
plot(cars.pca, which = "scores", cex = 0.8) # Similar to plot(scores(x)[, 1:2])
# Add supplementary individuals to this plot (labels), also points() or lines()
text(predict(cars.pca, newdata = mtcars[8:14, ]), col = "gray", cex = 0.8)

# Pairs plot for 3 PCs
iris.pca &lt;- pcomp(iris[, -5])
pairs(iris.pca, col = (2:4)[iris$Species])
</code></pre>

<hr>
<h2 id='timing'>Timing of R expressions.</h2><span id='topic+timing'></span>

<h3>Description</h3>

<p>Similar to <code>system.time()</code> but returns a more convenient 'difftime' object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timing(expr, gc.first = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="timing_+3A_expr">expr</code></td>
<td>
<p>Valid <span class="rlang"><b>R</b></span> expression to be timed. If missing, <code><a href="base.html#topic+proc.time">proc.time()</a></code> is
used instead.</p>
</td></tr>
<tr><td><code id="timing_+3A_gc.first">gc.first</code></td>
<td>
<p>Logical - should a garbage collection be performed immediately
before the timing? Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="base.html#topic+system.time">system.time()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test &lt;- timing(Sys.sleep(0.5))
test
attr(test, "details")
</code></pre>

<hr>
<h2 id='vectorplot'>Plot vectors inside a unit circle (PCA loadings or correlations plots).</h2><span id='topic+vectorplot'></span><span id='topic+vectorplot.default'></span><span id='topic+vectorplot.loadings'></span><span id='topic+vectorplot.Correlation'></span>

<h3>Description</h3>

<p>Plots vectors with 0 &lt; norms &lt; 1 inside a circle. These plots are mainly
designed to represent variables in principal components space for PCAs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vectorplot(x, ...)

## Default S3 method:
vectorplot(x, y, col = par("col"), circle.col = "gray",
  ar.length = 0.1, pos = NULL, cex = par("cex"), labels = NULL, ...)

## S3 method for class 'loadings'
vectorplot(x, choices = 1L:2L, col = par("col"),
  circle.col = "gray", ar.length = 0.1, pos = NULL, cex = par("cex"),
  labels = rownames(x), main = deparse(substitute(x)), ...)

## S3 method for class 'Correlation'
vectorplot(x, choices = 1L:2L, col = par("col"),
  circle.col = "gray", ar.length = 0.1, pos = NULL, cex = par("cex"),
  labels = rownames(x), main = deparse(substitute(x)), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vectorplot_+3A_x">x</code></td>
<td>
<p>An object that has a <code><a href="#topic+vectorplot">vectorplot()</a></code> method, like 'loadings'
or 'correlation', or a numeric vector with 0 &lt; values &lt; 1.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_...">...</code></td>
<td>
<p>Further arguments passed to plot functions.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_y">y</code></td>
<td>
<p>A numeric vector with 0 &lt; values &lt; 1 of same length as 'x.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_col">col</code></td>
<td>
<p>Color of the arrows and labels.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_circle.col">circle.col</code></td>
<td>
<p>The color for the circle around the vector plot.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_ar.length">ar.length</code></td>
<td>
<p>The length of the arrows.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_pos">pos</code></td>
<td>
<p>The position of text relative to arrows. If <code>NULL</code>, a suitable
position is calculated according to the direction where the arrows are
pointing.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_cex">cex</code></td>
<td>
<p>The factor of expansion for labels in the graph.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_labels">labels</code></td>
<td>
<p>The labels to draw near the arrows.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_choices">choices</code></td>
<td>
<p>A vector of two integers indicating the axes to plot.</p>
</td></tr>
<tr><td><code id="vectorplot_+3A_main">main</code></td>
<td>
<p>The title of the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object 'x' is returned invisibly. These functions are called for
their side-effect of drawing a vector plot.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pcomp">pcomp()</a></code>, <code><a href="stats.html#topic+loadings">loadings()</a></code>, <code><a href="#topic+Correlation">Correlation()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a PCA and plot loadings and correlations
iris.pca &lt;- pcomp(iris[, -5])
vectorplot(loadings(iris.pca))
vectorplot(Correlation(iris.pca))
# Note: on screen devices, change aspect ratio of the graph by resizing
# the window to reveal cropped labels...
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

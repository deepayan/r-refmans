<!DOCTYPE html><html><head><title>Help for package shinyLottie</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinyLottie}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#include_lottie'><p>Include 'Lottie' Functionality within 'shiny'</p></a></li>
<li><a href='#lottie_addEventListener'><p>Add Event Listener to 'Lottie' Animation</p></a></li>
<li><a href='#lottie_animation'><p>Generate 'Lottie' Animation for a 'shiny' application</p></a></li>
<li><a href='#lottie_animation_methods'><p>'Lottie' Animation Methods</p></a></li>
<li><a href='#lottie_button'><p>Convert a 'Lottie' Animation to a Button</p></a></li>
<li><a href='#lottie_callMethod'><p>Call a 'Lottie' Method</p></a></li>
<li><a href='#lottie_destroy'><p>Destroy a 'Lottie' Animation</p></a></li>
<li><a href='#lottie_getProperty'><p>Get a Property of a 'Lottie' Animation</p></a></li>
<li><a href='#lottie_navigate_frame'><p>Navigate to a Specific Animation Frame</p></a></li>
<li><a href='#lottie_playback_controls'><p>Control Playback of 'Lottie' Animations</p></a></li>
<li><a href='#lottie_playSegments'><p>Play Specific Segments of a 'Lottie' Animation</p></a></li>
<li><a href='#lottie_removeEventListener'><p>Remove Event Listener from 'Lottie' Animation</p></a></li>
<li><a href='#lottie_setDirection'><p>Adjust 'Lottie' Animation Direction</p></a></li>
<li><a href='#lottie_setLoop'><p>Adjust 'Lottie' Animation Looping</p></a></li>
<li><a href='#lottie_setSpeed'><p>Adjust 'Lottie' Animation Speed</p></a></li>
<li><a href='#lottie_setSubframe'><p>Set 'Lottie' Animation Subframe Rendering</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Seamlessly Integrate 'Lottie' Animations into 'shiny'
Applications</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Easily integrate and control 'Lottie' animations within 'shiny' applications', without the need for idiosyncratic expression or use of 'JavaScript'. This includes utilities for generating animation instances, controlling playback, manipulating animation properties, and more. For more information on 'Lottie', see: <a href="https://airbnb.io/lottie/#/">https://airbnb.io/lottie/#/</a>. Additionally, see the official 'Lottie' GitHub repository at <a href="https://github.com/airbnb/lottie">https://github.com/airbnb/lottie</a>.</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny, jsonlite, glue, htmltools</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://camhowitt.github.io/shinyLottie/">https://camhowitt.github.io/shinyLottie/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-20 19:42:08 UTC; camho</td>
</tr>
<tr>
<td>Author:</td>
<td>Cameron Howitt [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Cameron Howitt &lt;shinylottie@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-21 10:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='include_lottie'>Include 'Lottie' Functionality within 'shiny'</h2><span id='topic+include_lottie'></span>

<h3>Description</h3>

<p>Responsible for retrieving the 'Lottie' library and initialising the necessary 'JavaScript' library.
As such, this function <strong>must</strong> be included within the UI object of a <code><a href="shiny.html#topic+shinyApp">shinyApp</a></code> in order to enable 'shinyLottie' functionality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>include_lottie(version = "5.12.2")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="include_lottie_+3A_version">version</code></td>
<td>
<p>A character string specifying the version of the 'Lottie' library to source via CDN.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of HTML tags to be included within the head element of a 'shiny' application.
</p>


<h3>Note</h3>

<p>Calling this function initialises a global object &quot;<code>window.lottieInstances</code>&quot; once the DOM content is fully loaded.
This is used to store the 'Lottie' animations that are created using <code><a href="#topic+lottie_animation">lottie_animation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  )
)

server &lt;- function(input, output, session) {}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_addEventListener'>Add Event Listener to 'Lottie' Animation</h2><span id='topic+lottie_addEventListener'></span>

<h3>Description</h3>

<p>Adds an event listener to a 'Lottie' animation within a 'shiny' application.
It is also possible to apply multiple event listeners to a single animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_addEventListener(
  animation,
  event,
  target,
  ...,
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_addEventListener_+3A_animation">animation</code></td>
<td>
<p>A 'Lottie' animation object created by the <code>lottie_animation</code> function or its name.</p>
</td></tr>
<tr><td><code id="lottie_addEventListener_+3A_event">event</code></td>
<td>
<p>The event to listen for (e.g. <code>"mouseenter"</code>, <code>"mouseleave"</code> etc.).</p>
</td></tr>
<tr><td><code id="lottie_addEventListener_+3A_target">target</code></td>
<td>
<p>The target for the event listener, either <code>"animation"</code> or <code>"container"</code>.</p>
</td></tr>
<tr><td><code id="lottie_addEventListener_+3A_...">...</code></td>
<td>
<p>Additional optional event listener properties, including:
</p>

<dl>
<dt><code>state</code></dt><dd><p>A character string corresponding to an animation state (either <code>"play"</code>, <code>"pause"</code>, or <code>"stop"</code>).</p>
</dd>
<dt><code>loop</code></dt><dd><p>Logical value indicating whether the animation should loop.</p>
</dd>
<dt><code>speed</code></dt><dd><p>A numeric specifying the desired animation speed.</p>
</dd>
<dt><code>direction</code></dt><dd><p>Either <code>1</code> for forward playback or <code>-1</code> for reverse playback.</p>
</dd>
<dt><code>setSubFrame</code></dt><dd><p>A logical value specifying whether a 'Lottie' animation should loop (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</dd>
<dt><code>playSegments</code></dt><dd><p>A numeric vector or list of numeric vectors indicating the segment(s) to be played.</p>
</dd>
<dt><code>forceFlag</code></dt><dd><p>Logical value indicating whether to force the animation to play the specified segments immediately (<code>TRUE</code>) or wait until the current animation completes (<code>FALSE</code>).</p>
</dd>
<dt><code>custom_js</code></dt><dd><p>Custom 'JavaScript' to execute when the event is triggered.</p>
</dd>
<dt><code>functionName</code></dt><dd><p>Optional name for the event handler function (can be useful when referencing the event listener, such as with <code><a href="#topic+lottie_removeEventListener">lottie_removeEventListener</a></code>).</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="lottie_addEventListener_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function has several usage options:
</p>

<ul>
<li><p> Supplying an animation object created by the <code><a href="#topic+lottie_animation">lottie_animation</a></code> function, and placing the resultant list object in the 'shiny' UI.
</p>
</li>
<li><p> Outside of a reactive context, supplying the name of the animation and placing the resultant <code>script</code> object in the 'shiny' UI.
</p>
</li>
<li><p> Within a reactive context, supplying the name of the animation.
</p>
</li></ul>

<p>When run within a reactive context, sends a custom session message <code>"lottie_js_runJS"</code> containing the function arguments.
</p>
<p><strong>Target Options</strong>
</p>

<ul>
<li> <p><code>"animation"</code>: Attaches the event listener directly to the 'Lottie' animation instance. This is necessary when using a Lottie-specific event (e.g. &quot;onComplete&quot;). See <a href="https://airbnb.io/lottie/#/web">https://airbnb.io/lottie/#/web</a> for further details.
</p>
</li>
<li> <p><code>"container"</code>: Attaches the event listener to the container div of the 'Lottie' animation. This should be used when using a generic HTML event, such as &quot;mouseenter&quot; or &quot;mouseleave&quot;.
</p>
</li></ul>



<h3>Value</h3>

<p>If used within a reactive context, the function will execute the necessary 'JavaScript'. Otherwise, it will return a <code>script</code> tag containing the 'JavaScript'.
</p>


<h3>Note</h3>

<p>Using the <code>custom_js</code> argument, it is possible to assign 'shiny' input values when an event is triggered, see <code><a href="#topic+lottie_removeEventListener">lottie_removeEventListener</a></code> for an example.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  # Create an 'animation' event listener that prints a message to the
  # browser console after each loop
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ) |&gt;
  lottie_addEventListener(
    event = "loopComplete",
    target = "animation",
    custom_js = "console.log('Animation Complete!');"
  ),
  # Create a 'container' event listener that plays an animation when
  # hovering over the button, and another that pauses the animation
  # when hovering stops
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "button",
    width = "200px",
    height = "100px",
    loop = TRUE,
    autoplay = FALSE,
  ) |&gt; lottie_button(inputId = "lottieButton", label = "Lottie",
                     height = "200px", width = "200px") |&gt;
    lottie_addEventListener("mouseenter", "container", state = "play") |&gt;
    lottie_addEventListener("mouseleave", "container", state = "pause")
)

server &lt;- function(input, output, session) {}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_animation'>Generate 'Lottie' Animation for a 'shiny' application</h2><span id='topic+lottie_animation'></span>

<h3>Description</h3>

<p>Generates a 'Lottie' animation for use within a 'shiny' application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_animation(
  path,
  name,
  loop = TRUE,
  autoplay = TRUE,
  renderer = "svg",
  width = "400px",
  height = "400px",
  ...,
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_animation_+3A_path">path</code></td>
<td>
<p>Either a URL or local file path (see Note).</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_name">name</code></td>
<td>
<p>A character string specifying the name to give to the animation.</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_loop">loop</code></td>
<td>
<p>Logical indicating whether the animation should loop.</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_autoplay">autoplay</code></td>
<td>
<p>Logical indicating whether the animation should autoplay.</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_renderer">renderer</code></td>
<td>
<p>The renderer to use for the animation, either <code>"svg"</code>, <code>"canvas"</code>, or <code>"html"</code>.</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_width">width</code></td>
<td>
<p>The width of the animation container. This is validated using <code><a href="htmltools.html#topic+validateCssUnit">validateCssUnit</a></code>.</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_height">height</code></td>
<td>
<p>The height of the animation container. This is validated using <code><a href="htmltools.html#topic+validateCssUnit">validateCssUnit</a></code>.</p>
</td></tr>
<tr><td><code id="lottie_animation_+3A_...">...</code></td>
<td>
<p>Additional animation options, including:
</p>

<dl>
<dt><code>speed</code></dt><dd><p>A numeric specifying the desired animation speed.</p>
</dd>
<dt><code>direction</code></dt><dd><p>Either <code>1</code> for forward playback or <code>-1</code> for reverse playback.</p>
</dd>
<dt><code>setSubFrame</code></dt><dd><p>A logical value specifying whether a 'Lottie' animation should loop (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</dd>
<dt><code>playSegments</code></dt><dd><p>A numeric vector or list of numeric vectors indicating the segment(s) to be played.</p>
</dd>
<dt><code>forceFlag</code></dt><dd><p>Logical value indicating whether to force the animation to play the specified segments immediately (<code>TRUE</code>) or wait until the current animation completes (<code>FALSE</code>).</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="lottie_animation_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following elements:
</p>

<dl>
<dt><code>div</code></dt><dd><p>An HTML <code>div</code> element serving as the 'Lottie' animation container.</p>
</dd>
<dt><code>script</code></dt><dd><p>A <code>script</code> tag containing the 'JavaScript' to initialise the 'Lottie' animation.</p>
</dd>
</dl>



<h3>Note</h3>

<p>When using a local file path, you may need to use <code><a href="shiny.html#topic+addResourcePath">addResourcePath</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  )
)

server &lt;- function(input, output, session) {}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_animation_methods'>'Lottie' Animation Methods</h2><span id='topic+lottie_animation_methods'></span>

<h3>Description</h3>

<p>These functions provide methods for modifying the playback options of existing 'Lottie' animations.
</p>


<h3>Details</h3>


<ul>
<li> <p><code><a href="#topic+lottie_setSpeed">lottie_setSpeed</a></code>: Set the speed of the animation.
</p>
</li>
<li> <p><code><a href="#topic+lottie_setDirection">lottie_setDirection</a></code>: Set the direction of the animation.
</p>
</li>
<li> <p><code><a href="#topic+lottie_setLoop">lottie_setLoop</a></code>: Set whether the animation should loop.
</p>
</li>
<li> <p><code><a href="#topic+lottie_goToAndStop">lottie_goToAndStop</a></code>: Move to a specific frame or time and stop.
</p>
</li>
<li> <p><code><a href="#topic+lottie_goToAndPlay">lottie_goToAndPlay</a></code>: Move to a specific frame or time and play.
</p>
</li>
<li> <p><code><a href="#topic+lottie_playSegments">lottie_playSegments</a></code>: Play specific segments of the animation.
</p>
</li>
<li> <p><code><a href="#topic+lottie_setSubframe">lottie_setSubframe</a></code>: Set whether to use subframes when rendering the animation.
</p>
</li>
<li> <p><code><a href="#topic+lottie_destroy">lottie_destroy</a></code>: Destroy the specified animation instance.
</p>
</li></ul>


<hr>
<h2 id='lottie_button'>Convert a 'Lottie' Animation to a Button</h2><span id='topic+lottie_button'></span>

<h3>Description</h3>

<p>Wraps a 'Lottie' animation within a button element for use in 'shiny' applications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_button(
  animation,
  inputId,
  label = NULL,
  width = NULL,
  height = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_button_+3A_animation">animation</code></td>
<td>
<p>A 'Lottie' animation created by <code><a href="#topic+lottie_animation">lottie_animation</a></code>.</p>
</td></tr>
<tr><td><code id="lottie_button_+3A_inputid">inputId</code></td>
<td>
<p>The 'shiny' <code>input</code> slot that will be used to access the value.</p>
</td></tr>
<tr><td><code id="lottie_button_+3A_label">label</code></td>
<td>
<p>Optional text label to display below the animation inside the button.</p>
</td></tr>
<tr><td><code id="lottie_button_+3A_width">width</code></td>
<td>
<p>Width of the button. This is validated using <code><a href="htmltools.html#topic+validateCssUnit">validateCssUnit</a></code>.</p>
</td></tr>
<tr><td><code id="lottie_button_+3A_height">height</code></td>
<td>
<p>Height of the button. This is validated using <code><a href="htmltools.html#topic+validateCssUnit">validateCssUnit</a></code>.</p>
</td></tr>
<tr><td><code id="lottie_button_+3A_...">...</code></td>
<td>
<p>Additional named attributes to pass to the button element. Same behaviour as <code><a href="shiny.html#topic+actionButton">actionButton</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An HTML button element enclosing the <code>animation</code> input object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation",
    height = "100px",
    width = "100px"
  ) |&gt; lottie_button(inputId = "my_button")
)

server &lt;- function(input, output, session) {
  observeEvent(input$my_button, {
    print("Button pressed")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_callMethod'>Call a 'Lottie' Method</h2><span id='topic+lottie_callMethod'></span>

<h3>Description</h3>

<p>Call a method for a specific 'Lottie' animation or all 'Lottie' animations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_callMethod(
  name = "all",
  method,
  argument = "",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_callMethod_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to query.
The default of &quot;<code>all</code>&quot; will retrieve the specified property from all 'Lottie' animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_callMethod_+3A_method">method</code></td>
<td>
<p>A character string specifying the name of the method to call.</p>
</td></tr>
<tr><td><code id="lottie_callMethod_+3A_argument">argument</code></td>
<td>
<p>A character string specifying any optional arguments to pass to the method.</p>
</td></tr>
<tr><td><code id="lottie_callMethod_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_callMethod"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("callMethod", "Call Method (Reverse Direction)")
)

server &lt;- function(input, output, session) {
  observeEvent(input$callMethod, {
    lottie_callMethod(name = "my_animation", method = "setDirection", argument = "-1")
  })
}
shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_destroy'>Destroy a 'Lottie' Animation</h2><span id='topic+lottie_destroy'></span>

<h3>Description</h3>

<p>Permanently destroy a specific 'Lottie' animation or all 'Lottie' animations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_destroy(name = "all", session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_destroy_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to destroy.
The default of &quot;<code>all</code>&quot; will destroy all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_destroy_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_destroy"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("destroy", "Destroy Animation")
)

server &lt;- function(input, output, session) {
  observeEvent(input$destroy, {
    lottie_destroy("my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_getProperty'>Get a Property of a 'Lottie' Animation</h2><span id='topic+lottie_getProperty'></span>

<h3>Description</h3>

<p>Get a property from a specific 'Lottie' animation or all 'Lottie' animations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_getProperty(
  property,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_getProperty_+3A_property">property</code></td>
<td>
<p>A character string specifying the name of the property to retrieve.</p>
</td></tr>
<tr><td><code id="lottie_getProperty_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to query.
The default of &quot;<code>all</code>&quot; will retrieve the specified property from all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_getProperty_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_getProperty"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>The return value(s) can be retrieved from within a reactive context by accessing the input
object of the 'shiny' session, where the value has been assigned as the property name. For example, if accessing the
<code>playCount</code> property, the return value can be retrieved via <code>input$playCount</code>.
</p>
<p>If <code>name = "all"</code> has been specified, then the return object will be a list, with named elements
corresponding to the animation names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("getProperty", "Update Play Count"),
  textOutput("playCountOutput")
)

server &lt;- function(input, output, session) {
  observeEvent(input$getProperty, {
    lottie_getProperty(name = "my_animation", property = "playCount")
  })

  observe({
    req(input$playCount)
    output$playCountOutput &lt;- renderText({
      paste("Play Count:", input$playCount)
    })
  })
}

 shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_navigate_frame'>Navigate to a Specific Animation Frame</h2><span id='topic+lottie_navigate_frame'></span><span id='topic+lottie_goToAndStop'></span><span id='topic+lottie_goToAndPlay'></span>

<h3>Description</h3>

<p>Navigate to a specific frame or time and either stop or play the animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_goToAndStop(
  value,
  isFrame = TRUE,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)

lottie_goToAndPlay(
  value,
  isFrame = TRUE,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_navigate_frame_+3A_value">value</code></td>
<td>
<p>A numeric value specifying the frame or time to go to.</p>
</td></tr>
<tr><td><code id="lottie_navigate_frame_+3A_isframe">isFrame</code></td>
<td>
<p>A logical value indicating whether <code>value</code> is a frame number (<code>TRUE</code>) or time (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lottie_navigate_frame_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_navigate_frame_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>lottie_goToAndStop</code> moves the animation to a specific frame or time, then stops it.
Sends a custom session message <code>"lottie_js_goToAndStop"</code> containing the function arguments.
</p>
<p><code>lottie_goToAndPlay</code> moves the animation to a specific frame or time, then continues playback.
Sends a custom session message <code>"lottie_js_goToAndPlay"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>These functions are called for a side effect, and so there is no return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("goToAndStop", "Go To Frame 10 And Stop"),
  actionButton("goToAndPlay", "Go To Frame 10 And Play")
)

server &lt;- function(input, output, session) {
  observeEvent(input$goToAndStop, {
    lottie_goToAndStop(value = 10, isFrame = TRUE, name = "my_animation")
  })

  observeEvent(input$goToAndPlay, {
    lottie_goToAndPlay(value = 10, isFrame = TRUE, name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_playback_controls'>Control Playback of 'Lottie' Animations</h2><span id='topic+lottie_playback_controls'></span><span id='topic+lottie_play'></span><span id='topic+lottie_pause'></span><span id='topic+lottie_stop'></span>

<h3>Description</h3>

<p>Control the playback of 'Lottie' animations within a 'shiny' application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_play(name = "all", session = shiny::getDefaultReactiveDomain())

lottie_pause(name = "all", session = shiny::getDefaultReactiveDomain())

lottie_stop(name = "all", session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_playback_controls_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_playback_controls_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each function sends a corresponding custom session message containing the function arguments:
</p>

<ul>
<li><p> Play: &quot;<code>lottie_js_play</code>&quot;
</p>
</li>
<li><p> Pause: &quot;<code>lottie_js_pause</code>&quot;
</p>
</li>
<li><p> Stop: &quot;<code>lottie_js_stop</code>&quot;
</p>
</li></ul>



<h3>Value</h3>

<p>These functions are called for a side effect, and so there is no return value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("play", "Play Animation"),
  actionButton("pause", "Pause Animation"),
  actionButton("stop", "Stop Animation")
)

server &lt;- function(input, output, session) {
  observeEvent(input$play, {
    lottie_play(name = "my_animation")
  })

  observeEvent(input$pause, {
    lottie_pause(name = "my_animation")
  })

  observeEvent(input$stop, {
    lottie_stop(name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_playSegments'>Play Specific Segments of a 'Lottie' Animation</h2><span id='topic+lottie_playSegments'></span>

<h3>Description</h3>

<p>Play specific segments of a 'Lottie' animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_playSegments(
  segments,
  forceFlag = TRUE,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_playSegments_+3A_segments">segments</code></td>
<td>
<p>A numeric vector or list of numeric vectors indicating the segment(s) to be played.</p>
</td></tr>
<tr><td><code id="lottie_playSegments_+3A_forceflag">forceFlag</code></td>
<td>
<p>Logical value indicating whether to force the animation to play the specified segments immediately (<code>TRUE</code>) or wait until the current animation completes (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lottie_playSegments_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_playSegments_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_playSegments"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>Note</h3>

<p>To play a single segment, <code>segments</code> should be a numeric vector of length 2 that represents the start and end frames.
To play multiple segments, provide a list containing multiple numeric vectors of length 2. Note that if the animation
is set to be looped, only the final segment will be repeated.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation",
    loop = FALSE,
    speed = 0.5 # Slowed to make effects clearer
  ),
  actionButton("playSegments1", "Play Frames 1 - 10"),
  # Will not work if animation has less than 40 frames
  actionButton("playSegments2", "Play Frames 1 - 10 and 30 - 40")
)

server &lt;- function(input, output, session) {
  observeEvent(input$playSegments1, {
    lottie_playSegments(segments = c(1, 10), forceFlag = TRUE,
      name = "my_animation")
  })

  observeEvent(input$playSegments2, {
    lottie_playSegments(segments = list(c(1, 10), c(30, 40)),
      forceFlag = TRUE, name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_removeEventListener'>Remove Event Listener from 'Lottie' Animation</h2><span id='topic+lottie_removeEventListener'></span>

<h3>Description</h3>

<p>Removes an event listener from a 'Lottie' animation within a 'shiny' application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_removeEventListener(
  name,
  event,
  target,
  functionName = NULL,
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_removeEventListener_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation.</p>
</td></tr>
<tr><td><code id="lottie_removeEventListener_+3A_event">event</code></td>
<td>
<p>The event to listen for (e.g. &quot;<code>mouseenter</code>&quot;, &quot;<code>mouseleave</code>&quot; etc.).</p>
</td></tr>
<tr><td><code id="lottie_removeEventListener_+3A_target">target</code></td>
<td>
<p>The target for the event listener, either <code>"animation"</code> or <code>"container"</code>.</p>
</td></tr>
<tr><td><code id="lottie_removeEventListener_+3A_functionname">functionName</code></td>
<td>
<p>Optional name of the event handler function to remove. Should only be used if a <code>functionName</code> was specified when calling <code><a href="#topic+lottie_addEventListener">lottie_addEventListener</a></code>.</p>
</td></tr>
<tr><td><code id="lottie_removeEventListener_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When run within a reactive context, sends a custom session message <code>"lottie_js_runJS"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  # Create an 'animation' event that updates the 'playCount' input value
  # value after each loop
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ) |&gt;
    lottie_addEventListener(
      event = "loopComplete",
      target = "animation",
      custom_js = "Shiny.setInputValue('playCount',
      lottieInstances.my_animation.playCount, {priority: 'event'});"
    ),
  actionButton("removeEventListener", "Remove Event Listener")
)

server &lt;- function(input, output, session) {
  # Notifications demonstrate that eventListener is active
  observeEvent(input$playCount, {
    showNotification(paste("Animation played", input$playCount, "times"), duration = 1)
  })

  # Removing the event listener ceases the notifications
  observeEvent(input$removeEventListener, {
    lottie_removeEventListener(name = "my_animation", event = "loopComplete",
                               target = "animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_setDirection'>Adjust 'Lottie' Animation Direction</h2><span id='topic+lottie_setDirection'></span>

<h3>Description</h3>

<p>Adjust the playback direction of an existing 'Lottie' animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_setDirection(
  direction = 1,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_setDirection_+3A_direction">direction</code></td>
<td>
<p>Either <code>1</code> for forward playback or <code>-1</code> for reverse playback.</p>
</td></tr>
<tr><td><code id="lottie_setDirection_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_setDirection_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_setDirection"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("forwards", "Play Forwards"),
  actionButton("backwards", "Play Backwards")
)

server &lt;- function(input, output, session) {
  observeEvent(input$forwards, {
    lottie_setDirection(direction = 1, name = "my_animation")
  })

  observeEvent(input$backwards, {
    lottie_setDirection(direction = -1, name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_setLoop'>Adjust 'Lottie' Animation Looping</h2><span id='topic+lottie_setLoop'></span>

<h3>Description</h3>

<p>Adjust the looping behaviour of a 'Lottie' animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_setLoop(flag, name = "all", session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_setLoop_+3A_flag">flag</code></td>
<td>
<p>Logical value specifying whether a 'Lottie' animation should loop (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lottie_setLoop_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_setLoop_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_setLoop"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("play", "Play"),
  actionButton("loopOn", "Loop On"),
  actionButton("loopOff", "Loop Off")
)

server &lt;- function(input, output, session) {
  observeEvent(input$play, {
    # Non-looped animations can not be resumed without first being stopped
    lottie_stop(name = "my_animation")
    lottie_play(name = "my_animation")
  })

  observeEvent(input$loopOn, {
    lottie_setLoop(flag = TRUE, name = "my_animation")
  })

  observeEvent(input$loopOff, {
    lottie_setLoop(flag = FALSE, name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_setSpeed'>Adjust 'Lottie' Animation Speed</h2><span id='topic+lottie_setSpeed'></span>

<h3>Description</h3>

<p>Adjust the speed of an existing 'Lottie' animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_setSpeed(
  speed = 1,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_setSpeed_+3A_speed">speed</code></td>
<td>
<p>A numeric specifying the desired animation speed.</p>
</td></tr>
<tr><td><code id="lottie_setSpeed_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_setSpeed_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_setSpeed"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>Note</h3>

<p>A speed of 1 will apply the default animation speed. Use a value between 0 and 1 for a slower animation speed.
Applying a negative speed will also reverse the playback direction.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  numericInput("speed", "Speed", value = 1),
  actionButton("updateSpeed", "Update Speed")
)

server &lt;- function(input, output, session) {
  observeEvent(input$updateSpeed, {
    lottie_setSpeed(speed = input$speed, name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

<hr>
<h2 id='lottie_setSubframe'>Set 'Lottie' Animation Subframe Rendering</h2><span id='topic+lottie_setSubframe'></span>

<h3>Description</h3>

<p>Adjust the subframe rendering of a 'Lottie' animation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lottie_setSubframe(
  flag,
  name = "all",
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lottie_setSubframe_+3A_flag">flag</code></td>
<td>
<p>A logical value specifying whether a 'Lottie' animation should use subframe rendering (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="lottie_setSubframe_+3A_name">name</code></td>
<td>
<p>A character string specifying the name of the 'Lottie' animation to control.
The default of &quot;<code>all</code>&quot; will control all animations within the 'shiny' application.</p>
</td></tr>
<tr><td><code id="lottie_setSubframe_+3A_session">session</code></td>
<td>
<p>The 'shiny' session object. Defaults to the current reactive domain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sends a custom session message <code>"lottie_js_setSubframe"</code> containing the function arguments.
</p>


<h3>Value</h3>

<p>This function is called for a side effect, and so there is no return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lottie_animation_methods">lottie_animation_methods</a></code> for similar methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyLottie)

ui &lt;- fluidPage(
  include_lottie(),
  lottie_animation(
    path = "shinyLottie/example.json",
    name = "my_animation"
  ),
  actionButton("subframeOn", "Subframe On"),
  actionButton("subframeOff", "Subframe Off")
)

server &lt;- function(input, output, session) {
  observeEvent(input$subframeOn, {
    lottie_setSubframe(flag = TRUE, name = "my_animation")
  })

  observeEvent(input$subframeOff, {
    lottie_setSubframe(flag = FALSE, name = "my_animation")
  })
}

shinyApp(ui, server)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

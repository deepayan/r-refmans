<!DOCTYPE html><html lang="en"><head><title>Help for package aire.zmvm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {aire.zmvm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aire.zmvm-package'><p><code>aire.zmvm</code> package</p></a></li>
<li><a href='#.clean_archive'><p>Clean archive files</p></a></li>
<li><a href='#.get_archive_wsp'><p>Hack to download 2016 WSP HORARIO data since the csv files were converted</p>
from mph to m/s (when the original data were already in m/s)</a></li>
<li><a href='#.recode_pollutant'><p>Recode pollutant abbreviations</p></a></li>
<li><a href='#.recode_unit'><p>Recode numeric codes to concentration units</p></a></li>
<li><a href='#.recode_unit_code'><p>Recode numeric codes to concentration units (extended)</p></a></li>
<li><a href='#convert_to_imeca'><p>Convert pollution values to IMECA</p></a></li>
<li><a href='#convert_to_index'><p>Convert a pollutant concentration to its air quality category</p></a></li>
<li><a href='#deprecated'><p>Deprecated functions in package <span class="pkg">aire.zmvm</span>.</p></a></li>
<li><a href='#download_24hr_average'><p>Download archives of the 24 hour averages of pollutants</p></a></li>
<li><a href='#download_deposition'><p>Download Acid Rain Measurements Archives</p></a></li>
<li><a href='#download_lead'><p>Download Lead Pollution Archives</p></a></li>
<li><a href='#download_meteorological'><p>Download Meteorological Data Archives</p></a></li>
<li><a href='#download_pollution'><p>Download Pollution Archives</p></a></li>
<li><a href='#download_pressure'><p>Download Atmospheric Pressure Archives</p></a></li>
<li><a href='#download_radiation'><p>Download Ultraviolet Radiation Archives</p></a></li>
<li><a href='#get_latest_imeca'><p>Get the latest pollution values for each station</p></a></li>
<li><a href='#get_station_data'><p>Download pollution data by station</p></a></li>
<li><a href='#get_station_imeca'><p>Download pollution data by station in IMECAs</p></a></li>
<li><a href='#get_station_month_data'><p>Download monthly pollution data</p></a></li>
<li><a href='#get_zone_imeca'><p>Download pollution data by zone in IMECAs</p></a></li>
<li><a href='#idw360'><p>Inverse Distance Weighting with Directional Data</p></a></li>
<li><a href='#stations'><p>Pollution measuring stations in Mexico City</p></a></li>
<li><a href='#zones'><p>Pollution zones in Mexico City</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Download Mexico City Pollution, Wind, and Temperature Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for downloading hourly averages, daily maximums and
    minimums from each of the pollution, wind, and temperature measuring
    stations or geographic zones in the Mexico City metro area. The
    package also includes the locations of each of the stations and zones.
    See <a href="http://aire.cdmx.gob.mx/">http://aire.cdmx.gob.mx/</a> for more information.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://hoyodesmog.diegovalle.net/aire.zmvm/">https://hoyodesmog.diegovalle.net/aire.zmvm/</a>,
<a href="https://github.com/diegovalle/aire.zmvm">https://github.com/diegovalle/aire.zmvm</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/diegovalle/aire.zmvm/issues">https://github.com/diegovalle/aire.zmvm/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, lubridate, progress, readr, readxl, rvest, sp,
stats, stringr, tidyr, utils, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-26 12:07:59 UTC; diego</td>
</tr>
<tr>
<td>Author:</td>
<td>Diego Valle-Jones [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Diego Valle-Jones &lt;diego@diegovalle.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-26 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='aire.zmvm-package'><code>aire.zmvm</code> package</h2><span id='topic+aire.zmvm'></span><span id='topic+aire.zmvm-package'></span>

<h3>Description</h3>

<p>Tools for downloading data from each of the pollution, wind and temperature
measuring stations in the Zona Metropolitana del Valle de México
(greater Mexico City).
</p>


<h3>Details</h3>

<p>See the README on
<a href="https://github.com/diegovalle/aire.zmvm#readme">GitHub</a>
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Diego Valle-Jones <a href="mailto:diego@diegovalle.net">diego@diegovalle.net</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://hoyodesmog.diegovalle.net/aire.zmvm/">https://hoyodesmog.diegovalle.net/aire.zmvm/</a>
</p>
</li>
<li> <p><a href="https://github.com/diegovalle/aire.zmvm">https://github.com/diegovalle/aire.zmvm</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/diegovalle/aire.zmvm/issues">https://github.com/diegovalle/aire.zmvm/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.clean_archive'>Clean archive files</h2><span id='topic+.clean_archive'></span>

<h3>Description</h3>

<p>Clean archive files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.clean_archive(df, include_hour)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".clean_archive_+3A_df">df</code></td>
<td>
<p>data.frame to clean</p>
</td></tr>
<tr><td><code id=".clean_archive_+3A_include_hour">include_hour</code></td>
<td>
<p>is the data hourly</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='.get_archive_wsp'>Hack to download 2016 WSP HORARIO data since the csv files were converted
from mph to m/s (when the original data were already in m/s)</h2><span id='topic+.get_archive_wsp'></span>

<h3>Description</h3>

<p>Hack to download 2016 WSP HORARIO data since the csv files were converted
from mph to m/s (when the original data were already in m/s)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.get_archive_wsp(syear)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".get_archive_wsp_+3A_syear">syear</code></td>
<td>
<p>shortyear in YY format</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='.recode_pollutant'>Recode pollutant abbreviations</h2><span id='topic+.recode_pollutant'></span>

<h3>Description</h3>

<p>Recode pollutant abbreviations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.recode_pollutant(pollutant)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".recode_pollutant_+3A_pollutant">pollutant</code></td>
<td>
<p>type of pollutant (O3, SO2, etc)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='.recode_unit'>Recode numeric codes to concentration units</h2><span id='topic+.recode_unit'></span>

<h3>Description</h3>

<p>Recode numeric codes to concentration units
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.recode_unit(pollutant)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".recode_unit_+3A_pollutant">pollutant</code></td>
<td>
<p>type of pollutant (O3, SO2, etc)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='.recode_unit_code'>Recode numeric codes to concentration units (extended)</h2><span id='topic+.recode_unit_code'></span>

<h3>Description</h3>

<p>Recode numeric codes to concentration units (extended)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.recode_unit_code(code)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".recode_unit_code_+3A_code">code</code></td>
<td>
<p>numeric code for the the units</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='convert_to_imeca'>Convert pollution values to IMECA</h2><span id='topic+convert_to_imeca'></span>

<h3>Description</h3>

<p>This function converts pollution running averages in the original
units (ppb, µg/m³, etc) to
<a href="https://en.wikipedia.org/wiki/%C3%8Dndice_Metropolitano_de_la_Calidad_del_Aire">IMECA</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_imeca(value, pollutant, showWarnings = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_to_imeca_+3A_value">value</code></td>
<td>
<p>a numeric vector of values to convert to IMECAs. Note that the
concentration of pollutants can be measured in different ways, for NO2, and
O3 a 1 hour average is used, for CO, an 8 hour average, and for SO2, PM10
and PM25 a 24 hour average is used.</p>
</td></tr>
<tr><td><code id="convert_to_imeca_+3A_pollutant">pollutant</code></td>
<td>
<p>type of pollutant. A vector of one or more of the following
options: </p>
 <ul>
<li><p> SO2 - Sulfur Dioxide - ppb (24 hour average)
</p>
</li>
<li><p> CO - Carbon Monoxide - ppm (8 hour average) </p>
</li>
<li><p> NO2 - Nitrogen
Dioxide - pbb (1 hour average) </p>
</li>
<li><p> O3 - Ozone ppb (1 hour average)
</p>
</li>
<li><p> PM10 - Particulate matter 10 micrometers or less (24 hour
average) </p>
</li>
<li><p> PM25 - Particulate matter 2.5 micrometers or less (24
hour average) </p>
</li></ul>
</td></tr>
<tr><td><code id="convert_to_imeca_+3A_showwarnings">showWarnings</code></td>
<td>
<p>deprecated; you can use the function
<code><a href="base.html#topic+suppressWarnings">suppressWarnings</a></code> instead.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Air quality in Mexico City is reported in IMECAs (Índice Metropolitano de la
Calidad del Aire), a dimensionless scale where all pollutants can be
compared.
</p>
<p>Note that each pollutant has different averaging periods (see the arguments
section). Because of rounding error results may be off by a couple of points.
</p>


<h3>Value</h3>

<p>A vector containing the converted value in IMECAs
</p>


<h3>See Also</h3>

<p>For the formulas on how to convert visit:
<a href="http://www.aire.cdmx.gob.mx/descargas/monitoreo/normatividad/NADF-009-AIRE-2017.pdf">AVISO POR EL QUE SE DA A CONOCER EL PROYECTO DE NORMA AMBIENTAL PARA EL DISTRITO FEDERAL</a>
</p>
<p>Other convert functions: 
<code><a href="#topic+convert_to_index">convert_to_index</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## IMECA is a dimensionless scale that allows for the comparison of
## different pollutants
convert_to_imeca(157, "O3")
convert_to_imeca(c(450, 350, 250), rep("NO2", 3))
## Since this is PM10 the 80 is supposed to be the 24 hour average
convert_to_imeca(80, "PM10")

## warning about recycling elements in a vector
convert_to_imeca(c(157, 200), c("O3", "O3"))

convert_to_imeca(67, "O3")
convert_to_imeca(77, "O3")
convert_to_imeca(205, "O3")
convert_to_imeca(72, "O3")
convert_to_imeca(98, "O3")

</code></pre>

<hr>
<h2 id='convert_to_index'>Convert a pollutant concentration to its air quality category</h2><span id='topic+convert_to_index'></span>

<h3>Description</h3>

<p>This functions converts a pollutant value in its original units into one of the 5
categories used by the Mexican government to communicate to the public how
polluted the air currently is and its health risks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_index(value, pollutant)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_to_index_+3A_value">value</code></td>
<td>
<p>a numeric vector of values to convert to index</p>
</td></tr>
<tr><td><code id="convert_to_index_+3A_pollutant">pollutant</code></td>
<td>
<p>type of pollutant. A vector of one or more of the following
options: </p>
 <ul>
<li><p> SO2 - Sulfur Dioxide - ppb (24 hour average)
</p>
</li>
<li><p> CO - Carbon Monoxide - ppm (8 hour average) </p>
</li>
<li><p> NO2 - Nitrogen
Dioxide - pbb (1 hour average) </p>
</li>
<li><p> O3 - Ozone ppb (1 hour average)
</p>
</li>
<li><p> PM10 - Particulate matter 10 micrometers or less (24 hour
average) </p>
</li>
<li><p> PM25 - Particulate matter 2.5 micrometers or less (24
hour average) </p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>the IMECA value of the concentration indexed into 5 categories
</p>

<ul>
<li><p> BUENA - Good: 0-50 minimal health risk
</p>
</li>
<li><p> REGULAR - Regular: 51-100 moderate health effects
</p>
</li>
<li><p> MALA - Bad: 101-150 sensitive groups may suffer adverse heatlh effects
</p>
</li>
<li><p> MUY MALA - Very Bad: 151-200 everyone can experience negative health effects
</p>
</li>
<li><p> EXTREMADAMENTE MALA - Extremely Bad: &gt; 200 serious health issues
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="http://www.aire.cdmx.gob.mx/descargas/monitoreo/normatividad/NADF-009-AIRE-2006.pdf">NADF-009-AIRE-2006</a>
</p>
<p>Other convert functions: 
<code><a href="#topic+convert_to_imeca">convert_to_imeca</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_to_index(c(12.1, 215, 355), c("PM25", "PM10", "PM10"))
</code></pre>

<hr>
<h2 id='deprecated'>Deprecated functions in package <span class="pkg">aire.zmvm</span>.</h2><span id='topic+deprecated'></span><span id='topic+get_latest_data'></span><span id='topic+get_zone_data'></span><span id='topic+get_station_single_month'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_zone_data(...)
get_latest_data(...)
get_station_single_month(...)

get_latest_data(...)

get_zone_data(...)

get_station_single_month(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deprecated_+3A_...">...</code></td>
<td>
<p>Parameters to be passed to the modern version of the function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame
</p>
<p>A data.frame
</p>
<p>A data.frame
</p>
<p>A data.frame
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: right;">
  <code>get_zone_data</code> </td><td style="text-align: left;"> now a synonym for
  <code><a href="#topic+get_zone_imeca">get_zone_imeca</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>get_latest_data</code> </td><td style="text-align: left;"> now a synonym for
  <code><a href="#topic+get_latest_imeca">get_latest_imeca</a></code></td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>get_station_single_month</code> </td><td style="text-align: left;"> now a synonym for
  <code><a href="#topic+get_station_month_data">get_station_month_data</a>(criterion = "HORARIOS", ...)</code></td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='download_24hr_average'>Download archives of the 24 hour averages of pollutants</h2><span id='topic+download_24hr_average'></span>

<h3>Description</h3>

<p>Data comes from
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=ag==">Promedios de 24 horas de partículas suspendidas(PM10 Y PM2.5)</a> and
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=aQ==">Promedios de 24 horas de Dióxido azufre</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_24hr_average(type, year, progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_24hr_average_+3A_type">type</code></td>
<td>
<p>type of data to download.
</p>

<ul>
<li><p> SO2 - Sulfur Dioxide (parts per billion)
</p>
</li>
<li><p> PS - Suspended solids
</p>
</li></ul>
</td></tr>
<tr><td><code id="download_24hr_average_+3A_year">year</code></td>
<td>
<p>a numeric vector containing the years for which to download data
(the earliest possible value is 1986 for SO2 and 1995 for PS)</p>
</td></tr>
<tr><td><code id="download_24hr_average_+3A_progress">progress</code></td>
<td>
<p>whether to display a progress bar (TRUE or FALSE).
By default it will only display in an interactive session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with pollution data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head(download_24hr_average("PS", 2017))

## End(Not run)
</code></pre>

<hr>
<h2 id='download_deposition'>Download Acid Rain Measurements Archives</h2><span id='topic+download_deposition'></span>

<h3>Description</h3>

<p>Download data on rainfall samples collected weekly during the rainy season, available at
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmE=%27&amp;r=aHR0cDovLzE0OC4yNDMuMjMyLjExMjo4MDgwL29wZW5kYXRhL3JlZGRhL2RlcG9zaXRvLmNzdg==">Depósito</a>
and
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmE=%27&amp;r=aHR0cDovLzE0OC4yNDMuMjMyLjExMjo4MDgwL29wZW5kYXRhL3JlZGRhL2RlcG9zaXRvVC5jc3Y=">Depósito</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_deposition(deposition, type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_deposition_+3A_deposition">deposition</code></td>
<td>
<p>type of deposition to download
</p>

<ul>
<li><p> TOTAL - Total deposition (1988-2000)
</p>
</li>
<li><p> HUMEDO - Wet and dry deposition (1997-)
</p>
</li></ul>
</td></tr>
<tr><td><code id="download_deposition_+3A_type">type</code></td>
<td>
<p>type of ion measurement
</p>

<ul>
<li><p> DEPOSITO -  ion quantity deposition
</p>
</li>
<li><p> CONCENTRACION - ion concentration
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with deposition data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Download rainfall in mm
df &lt;- download_deposition(deposition = "HUMEDO", type = "CONCENTRACION") %&gt;%
        filter(pollutant == "PP")
head(df)

## End(Not run)
</code></pre>

<hr>
<h2 id='download_lead'>Download Lead Pollution Archives</h2><span id='topic+download_lead'></span>

<h3>Description</h3>

<p>Download data on lead pollution from the archives available at
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmE=%27&amp;r=aHR0cDovLzE0OC4yNDMuMjMyLjExMjo4MDgwL29wZW5kYXRhL3JlZF9tYW51YWwvcmVkX21hbnVhbF9wbG9tby5jc3Y=">Plomo</a>
and
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmE=%27&amp;r=aHR0cDovLzE0OC4yNDMuMjMyLjExMjo4MDgwL29wZW5kYXRhL3JlZF9tYW51YWwvcmVkX21hbnVhbF9wYXJ0aWN1bGFzX3N1c3AuY3N2">Partículas suspendidas</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_lead(type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_lead_+3A_type">type</code></td>
<td>
<p>type of data to download.
</p>

<ul>
<li><p> PbPST
</p>
</li>
<li><p> PST, PM10, PM25
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with pollution data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head(download_lead("PbPST"))

## End(Not run)
</code></pre>

<hr>
<h2 id='download_meteorological'>Download Meteorological Data Archives</h2><span id='topic+download_meteorological'></span>

<h3>Description</h3>

<p>Download the files available at
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=Zw==">Meteorología</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_meteorological(year, progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_meteorological_+3A_year">year</code></td>
<td>
<p>a numeric vector containing the years for which to download data
(the earliest possible value is 1986)</p>
</td></tr>
<tr><td><code id="download_meteorological_+3A_progress">progress</code></td>
<td>
<p>whether to display a progress bar (TRUE or FALSE).
By default it will only display in an interactive session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with meterological information:
&quot;RH&quot;,&quot;TMP&quot;,&quot;WDR&quot;,&quot;WSP&quot;,&quot;PBa&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head(download_meteorological(2017))

## End(Not run)
</code></pre>

<hr>
<h2 id='download_pollution'>Download Pollution Archives</h2><span id='topic+download_pollution'></span>

<h3>Description</h3>

<p>Download the pollution files available at
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=Zg==">Contaminante</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_pollution(year, progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_pollution_+3A_year">year</code></td>
<td>
<p>a numeric vector containing the years for which to download data
(the earliest possible value is 2009)</p>
</td></tr>
<tr><td><code id="download_pollution_+3A_progress">progress</code></td>
<td>
<p>whether to display a progress bar (TRUE or FALSE).
By default it will only display in an interactive session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with pollution information for the following pollutants
&quot;CO&quot;, &quot;NO&quot;, &quot;NO2&quot;, &quot;NOX&quot;, &quot;O3&quot;, &quot;PM10&quot;, &quot;SO2&quot;, &quot;PM25&quot;, and &quot;PMCO&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head(download_pollution(2017))

## End(Not run)
</code></pre>

<hr>
<h2 id='download_pressure'>Download Atmospheric Pressure Archives</h2><span id='topic+download_pressure'></span>

<h3>Description</h3>

<p>The data comes from <a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=bg==">Presión Atmosférica</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_pressure(year, progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_pressure_+3A_year">year</code></td>
<td>
<p>a numeric vector containing the years for which to download data
(the earliest possible value is 2009)</p>
</td></tr>
<tr><td><code id="download_pressure_+3A_progress">progress</code></td>
<td>
<p>whether to display a progress bar (TRUE or FALSE).
By default it will only display in an interactive session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with atmospheric pressure data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head(download_pressure(2017))

## End(Not run)
</code></pre>

<hr>
<h2 id='download_radiation'>Download Ultraviolet Radiation Archives</h2><span id='topic+download_radiation'></span>

<h3>Description</h3>

<p>Download data on UVA and UVB from the pollution archives available at
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=bA==">Radiación Solar (UVA)</a>
and
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=bQ==">Radiación Solar (UVB)</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_radiation(type, year, progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_radiation_+3A_type">type</code></td>
<td>
<p>type of data to download.
</p>

<ul>
<li><p> UVA - long wave ultraviolet A
</p>
</li>
<li><p> UVB - short wave ultraviolet B
</p>
</li></ul>
</td></tr>
<tr><td><code id="download_radiation_+3A_year">year</code></td>
<td>
<p>a numeric vector containing the years for which to download data
(the earliest possible value is 2000)</p>
</td></tr>
<tr><td><code id="download_radiation_+3A_progress">progress</code></td>
<td>
<p>whether to display a progress bar (TRUE or FALSE).
By default it will only display in an interactive session.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with pollution data. The
hours correspond to the
<em>Etc/GMT+6</em> timezone, with no daylight saving time
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
head(download_radiation("UVA", 2017))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_latest_imeca'>Get the latest pollution values for each station</h2><span id='topic+get_latest_imeca'></span>

<h3>Description</h3>

<p>Download the latest hourly values for the pollutants with the highest values
for each station as measured in
<a href="https://en.wikipedia.org/wiki/%C3%8Dndice_Metropolitano_de_la_Calidad_del_Aire">IMECAs</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_latest_imeca()
</code></pre>


<h3>Details</h3>

<p>Note that in 2015 it was determined that the stations with codes ACO, AJU,
INN, MON and MPA would no longer be taken into consideration when computing
the pollution index because they didn't meet the
<a href="http://www.aire.cdmx.gob.mx/objetivos-monitoreo-calidad-aire.html">objectives
of monitoring air quality</a>, and are no longer included in the index, even if
they are still part of the SIMAT (Sistema de Monitoreo Atmosférico de la
Ciudad de México). Thus, even if they are located inside a zone, they are not
included in the pollution values for that zone.
</p>


<h3>Value</h3>

<p>A data.frame with pollution values in IMECAs, the hour corresponds to
the <em>America/Mexico_City</em> timezone (which changes with daylight
saving time)
</p>


<h3>See Also</h3>

<p><a href="http://www.aire.cdmx.gob.mx/ultima-hora-reporte.php">Reporte
de calidad del aire</a>
</p>
<p>Other IMECA functions: 
<code><a href="#topic+get_station_imeca">get_station_imeca</a>()</code>,
<code><a href="#topic+get_zone_imeca">get_zone_imeca</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- get_latest_imeca()
head(df)

</code></pre>

<hr>
<h2 id='get_station_data'>Download pollution data by station</h2><span id='topic+get_station_data'></span>

<h3>Description</h3>

<p>Retrieve pollution data by station, in the original units, from the air quality
server at
<a href="http://www.aire.cdmx.gob.mx/estadisticas-consultas/concentraciones/index.php">Consulta de Concentraciones</a>,
or for earlier years use the archive files available from
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI%27&amp;opcion=Zg==">Contaminante</a>, or
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBhnmI=%27&amp;opcion=Zw==">Meteorología</a> for
meteorological data. There's a mistake in the 2016 wind speed data, so for this year, and
only this year, the alternative <a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aKBi%27">Excel</a> file was used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_station_data(criterion, pollutant, year, progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_station_data_+3A_criterion">criterion</code></td>
<td>
<p>Type of data to download.
</p>

<ul>
<li><p> HORARIOS - Hourly data
</p>
</li>
<li><p> MAXIMOS - Daily maximums
</p>
</li>
<li><p> MINIMOS - Daily minimums
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_station_data_+3A_pollutant">pollutant</code></td>
<td>
<p>The type of pollutant to download.
</p>

<ul>
<li><p> SO2 - Sulfur Dioxide (parts per billion)
</p>
</li>
<li><p> CO - Carbon Monoxide (parts per million)
</p>
</li>
<li><p> NOX - Nitrogen Oxides (parts per billion)
</p>
</li>
<li><p> NO2 - Nitrogen Dioxide (parts per billion)
</p>
</li>
<li><p> NO - Nitric Oxide (parts per billion)
</p>
</li>
<li><p> O3 - Ozone (parts per billion)
</p>
</li>
<li><p> PM10 - Particulate matter 10 micrometers or less
(micrograms per cubic meter)
</p>
</li>
<li><p> PM25 - Particulate matter 2.5 micrometers or less
(micrograms per cubic meter)
</p>
</li>
<li><p> WSP - Wind velocity (meters per second)
</p>
</li>
<li><p> WDR - Wind direction (degrees)
</p>
</li>
<li><p> TMP - Temperature (degrees Celsius)
</p>
</li>
<li><p> RH - Relative humidity (percentage)
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_station_data_+3A_year">year</code></td>
<td>
<p>a numeric vector containing the years for which to download data
(the earliest possible value is 1986)</p>
</td></tr>
<tr><td><code id="get_station_data_+3A_progress">progress</code></td>
<td>
<p>whether to display a progress bar (TRUE or FALSE).
By default it will only display in an interactive session.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Temperature (TMP) archive values are correct to one decimal place, but the
most recent data is only available rounded to the nearest integer.
</p>


<h3>Value</h3>

<p>A data.frame with pollution data. When downloading &quot;HORARIOS&quot; the
hours correspond to the
<em>Etc/GMT+6</em> timezone, with no daylight saving time
</p>


<h3>Warning</h3>

<p>The data for the current month is in the process of being validated
</p>


<h3>See Also</h3>

<p><code><a href="#topic+stations">stations</a></code> for a data.frame with the location and names
of all pollution measuring stations,
</p>
<p>Other raw data functions: 
<code><a href="#topic+get_station_month_data">get_station_month_data</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Download daily maximum PM10 data (particulate matter 10 micrometers or
## less in diameter) from 2015 to 2016
df &lt;- get_station_data("MAXIMOS", "PM10", 2015:2016)
head(df)

## Download ozone concentration hourly data for 2016
df2 &lt;- get_station_data("HORARIOS", "O3", 2016)

## Convert to local Mexico City time
df2$mxc_time &lt;- format(as.POSIXct(paste0(df2$date, " ", df2$hour, ":00"),
                                  tz = "Etc/GMT+6"),
                       tz = "America/Mexico_City")
head(df2)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_station_imeca'>Download pollution data by station in IMECAs</h2><span id='topic+get_station_imeca'></span>

<h3>Description</h3>

<p>Retrieve hourly averages of pollution data, by station, measured in
<a href="https://en.wikipedia.org/wiki/%C3%8Dndice_Metropolitano_de_la_Calidad_del_Aire">IMECAs</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_station_imeca(pollutant, date, show_messages = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_station_imeca_+3A_pollutant">pollutant</code></td>
<td>
<p>The type of pollutant to download
</p>

<ul>
<li><p> SO2 - Sulfur Dioxide
</p>
</li>
<li><p> CO - Carbon Monoxide
</p>
</li>
<li><p> NO2 - Nitrogen Dioxide
</p>
</li>
<li><p> O3 - Ozone
</p>
</li>
<li><p> PM10 - Particulate matter 10 micrometers or less
</p>
</li>
<li><p> PM25 - Particulate matter 2.5 micrometers or less
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_station_imeca_+3A_date">date</code></td>
<td>
<p>The date for which to download data in YYYY-MM-DD format
(the earliest possible date is 2009-01-01).</p>
</td></tr>
<tr><td><code id="get_station_imeca_+3A_show_messages">show_messages</code></td>
<td>
<p>show a message about issues with excluded stations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that in 2015 it was determined that the stations with codes ACO, AJU,
INN, MON and MPA would no longer be taken into consideration when computing
the pollution index because they didn't meet the
<a href="http://www.aire.cdmx.gob.mx/objetivos-monitoreo-calidad-aire.html">objectives
of monitoring air quality</a>, and are no longer included in the index, even if
they are still part of the SIMAT (Sistema de Monitoreo Atmosférico de la
Ciudad de México). Thus, even if they are located inside a zone, they are not
included in the pollution values for that zone.
</p>


<h3>Value</h3>

<p>A data.frame with pollution data measured in IMECAs, by station.
The hours correspond to the <em>Etc/GMT+6</em> timezone, with no daylight
saving time
</p>


<h3>See Also</h3>

<p><a href="http://www.aire.cdmx.gob.mx/default.php?opc='aqBjnmc='">Índice de calidad del aire por estaciones</a>
</p>
<p>Other IMECA functions: 
<code><a href="#topic+get_latest_imeca">get_latest_imeca</a>()</code>,
<code><a href="#topic+get_zone_imeca">get_zone_imeca</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## There was an ozone pollution emergency on May 15, 2017
df_o3 &lt;- get_station_imeca("O3", "2017-05-15", show_messages = FALSE)

## Convert to local Mexico City time
df_o3$mxc_time &lt;- format(as.POSIXct(paste0(df_o3$date,
                                           " ",
                                           df_o3$hour,
                                           ":00"),
                                    tz = "Etc/GMT+6"),
                         tz = "America/Mexico_City")
head(df_o3[order(-df_o3$value), ])

## End(Not run)
</code></pre>

<hr>
<h2 id='get_station_month_data'>Download monthly pollution data</h2><span id='topic+get_station_month_data'></span>

<h3>Description</h3>

<p>Retrieve hourly averages, daily maximums, or daily minimums of pollution data
in the original units, by station, from the air quality server at
<a href="http://www.aire.cdmx.gob.mx/estadisticas-consultas/concentraciones/index.php">Consulta de Concentraciones</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_station_month_data(criterion, pollutant, year, month)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_station_month_data_+3A_criterion">criterion</code></td>
<td>
<p>Type of data to download.
</p>

<ul>
<li><p> HORARIOS - Hourly data
</p>
</li>
<li><p> MAXIMOS&quot; - Daily maximums
</p>
</li>
<li><p> MINIMOS - Daily minimums
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_station_month_data_+3A_pollutant">pollutant</code></td>
<td>
<p>The type of pollutant to download.
</p>

<ul>
<li><p> SO2 - Sulfur Dioxide (parts per billion)
</p>
</li>
<li><p> CO - Carbon Monoxide (parts per million)
</p>
</li>
<li><p> NOX - Nitrogen Oxides (parts per billion)
</p>
</li>
<li><p> NO2 - Nitrogen Dioxide (parts per billion)
</p>
</li>
<li><p> NO - Nitric Oxide (parts per billion)
</p>
</li>
<li><p> O3 - Ozone (parts per billion)
</p>
</li>
<li><p> PM10 - Particulate matter 10 micrometers or less
(micrograms per cubic meter)
</p>
</li>
<li><p> PM25 - Particulate matter 2.5 micrometers or less
(micrograms per cubic meter)
</p>
</li>
<li><p> WSP - Wind velocity (meters per second)
</p>
</li>
<li><p> WDR - Wind direction (degrees)
</p>
</li>
<li><p> TMP - Temperature (degrees Celsius)
</p>
</li>
<li><p> RH - Relative humidity (percentage)
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_station_month_data_+3A_year">year</code></td>
<td>
<p>an integer indicating the year for which to download data
(the earliest possible value is 1986)</p>
</td></tr>
<tr><td><code id="get_station_month_data_+3A_month">month</code></td>
<td>
<p>month number to download</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Temperature (TMP) data was rounded to the nearest integer, but the
<code><a href="#topic+get_station_data">get_station_data</a></code> function allows you to download data accurate
to one decimal point in some cases (i.e. for old data).
</p>


<h3>Value</h3>

<p>A data.frame with pollution data, the hours correspond to the
<em>Etc/GMT+6</em> timezone, with no daylight saving time
</p>


<h3>Warning</h3>

<p>The data for the current month is in the process of being validated
</p>


<h3>See Also</h3>

<p><code><a href="#topic+stations">stations</a></code> for a data.frame with the location and names
of all pollution measuring stations
</p>
<p>Other raw data functions: 
<code><a href="#topic+get_station_data">get_station_data</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Download daily hourly PM10 data (particulate matter 10 micrometers or
## less in diameter) from March 2016
df_pm10 &lt;- get_station_month_data("HORARIOS", "PM10", 2016, 3)
head(df_pm10)

## Download daily hourly O3 data from October 2017
df_o3 &lt;- get_station_month_data("HORARIOS", "O3", 2018, 1)
## Convert to local Mexico City time
df_o3$mxc_time &lt;- format(as.POSIXct(paste0(df_o3$date,
                                           " ",
                                           df_o3$hour, ":00"),
                                    tz = "Etc/GMT+6"),
                         tz = "America/Mexico_City")
head(df_o3)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_zone_imeca'>Download pollution data by zone in IMECAs</h2><span id='topic+get_zone_imeca'></span>

<h3>Description</h3>

<p>Retrieve pollution data in IMECAs by geographic zone from the air quality
server at <a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aqBjnmU=%27">Consultas</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_zone_imeca(
  criterion,
  pollutant,
  zone,
  start_date,
  end_date,
  showWarnings = TRUE,
  show_messages = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_zone_imeca_+3A_criterion">criterion</code></td>
<td>
<p>The type of data to download. One of the following options:
</p>

<ul>
<li><p> HORARIOS - Hourly data
</p>
</li>
<li><p> MAXIMOS&quot; - Daily maximums
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_zone_imeca_+3A_pollutant">pollutant</code></td>
<td>
<p>The type of pollutant to download. One or more of the
following options:
</p>

<ul>
<li><p> SO2 - Sulfur Dioxide
</p>
</li>
<li><p> CO - Carbon Monoxide
</p>
</li>
<li><p> NO2 - Nitrogen Dioxide
</p>
</li>
<li><p> O3 - Ozone
</p>
</li>
<li><p> PM10 - Particulate matter 10 micrometers or less
</p>
</li>
<li><p> TC - All the pollutants
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_zone_imeca_+3A_zone">zone</code></td>
<td>
<p>The geographic zone for which to download data. One or more of
the following:
</p>

<ul>
<li><p> NO - Noroeste
</p>
</li>
<li><p> NE - Noreste
</p>
</li>
<li><p> CE - Centro
</p>
</li>
<li><p> SO - Suroeste
</p>
</li>
<li><p> SE - Sureste
</p>
</li>
<li><p> TZ - All zones
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_zone_imeca_+3A_start_date">start_date</code></td>
<td>
<p>The start date in YYYY-MM-DD format (earliest possible
value is 2008-01-01).</p>
</td></tr>
<tr><td><code id="get_zone_imeca_+3A_end_date">end_date</code></td>
<td>
<p>The end date in YYYY-MM-DD format.</p>
</td></tr>
<tr><td><code id="get_zone_imeca_+3A_showwarnings">showWarnings</code></td>
<td>
<p>deprecated; you can use the function
<code><a href="base.html#topic+suppressWarnings">suppressWarnings</a></code> instead.</p>
</td></tr>
<tr><td><code id="get_zone_imeca_+3A_show_messages">show_messages</code></td>
<td>
<p>show a message about issues with performing the
conversion</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that in 2015 it was determined that the stations with codes ACO, AJU,
INN, MON and MPA would no longer be taken into consideration when computing
the pollution index because they didn't meet the
<a href="http://www.aire.cdmx.gob.mx/objetivos-monitoreo-calidad-aire.html">objectives
of monitoring air quality</a>. They are no longer included in the index, even if
they are still part of the SIMAT (Sistema de Monitoreo Atmosférico de la
Ciudad de México). Thus, even if they are located inside a zone, they are not
included in the pollution values for that zone.
</p>
<p>The different geographic zones were defined in the
<a href="http://www.aire.cdmx.gob.mx/descargas/ultima-hora/calidad-aire/pcaa/Gaceta_Oficial_CDMX.pdf"> Gaceta Oficial de la Ciudad de México</a>
No. 230, 27 de Diciembre de 2016.
</p>
<p><strong>Zona Centro</strong>: Benito Juárez,
Cuauhtémoc, Iztacalco and Venustiano Carranza.
</p>
<p><strong>Zona Noreste</strong>: Gustavo A. Madero, Coacalco de Berriozábal,
Chicoloapan, Chimalhuacán,
Ecatepec de Morelos, Ixtapaluca, La Paz,
Nezahualcóyotl and Tecámac.
</p>
<p><strong>Zona Noroeste</strong>: Azcapotzalco,
Miguel Hidalgo, Atizapán de Zaragoza, Cuautitlán, Cuautitlán Izcalli,
Naucalpan de Juárez, Nicolás
Romero, Tlalnepantla de Baz and Tultitlán.
</p>
<p><strong>Zona Sureste</strong>: Iztapalapa, Milpa
Alta, Tláhuac, Xochimilco, Chalco and Valle de Chalco.
</p>
<p><strong>Zona Suroeste</strong>: Álvaro Obregón,
Coyoacán, Cuajimalpa, Magdalena Contreras, Tlalpan and Huixquilucan.
</p>


<h3>Value</h3>

<p>A data.frame with pollution data measured in IMECAs, by geographic
zone. The hours correspond to the <em>Etc/GMT+6</em> timezone, with no
daylight saving time
</p>


<h3>See Also</h3>

<p><code><a href="#topic+zones">zones</a></code> a data.frame containing the municipios
belonging to each zone, and
<a href="http://www.aire.cdmx.gob.mx/default.php?opc=%27aqBjnmI=%27">Índice de
calidad del aire por zonas</a>
</p>
<p>Other IMECA functions: 
<code><a href="#topic+get_latest_imeca">get_latest_imeca</a>()</code>,
<code><a href="#topic+get_station_imeca">get_station_imeca</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## There was a regional (NE) PM10 pollution emergency on Jan 6, 2017
get_zone_imeca("MAXIMOS", "PM10", "NE", "2017-01-05", "2017-01-08",
               show_messages = FALSE)

## There was an ozone pollution emergency on May 15, 2017
get_zone_imeca("MAXIMOS", "O3", "TZ", "2017-05-15", "2017-05-15",
               show_messages = FALSE)


## Not run: 
## Download daily maximum PM10 data (particulate matter 10 micrometers or
## less in diameter) from 2015-01-01 to 2016-03-20 for all geographic zones
df &lt;- get_zone_imeca("MAXIMOS", "PM10", "TZ", "2015-01-01", "2016-03-20")
head(df)

## Download hourly O3 pollution data for May 15, 2017. Only the suroeste zone
df2 &lt;- get_zone_imeca("HORARIOS", "O3", "SO", "2017-05-15", "2017-05-15")

## Convert to local Mexico City time
df2$mxc_time &lt;- format(as.POSIXct(paste0(df2$date, " ", df2$hour, ":00"),
                                  tz = "Etc/GMT+6"),
                       tz = "America/Mexico_City")

head(df2)

## End(Not run)

</code></pre>

<hr>
<h2 id='idw360'>Inverse Distance Weighting with Directional Data</h2><span id='topic+idw360'></span>

<h3>Description</h3>

<p>Function for inverse distance weighted interpolation with directional data.
Useful for when you are working with data whose unit of measurement is
degrees (i.e. the average of 35 degrees and 355 degrees should be 15
degrees). It works by finding the shortest distance between two degree
marks on a circle.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>idw360(values, coords, grid, idp = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="idw360_+3A_values">values</code></td>
<td>
<p>the dependent variable</p>
</td></tr>
<tr><td><code id="idw360_+3A_coords">coords</code></td>
<td>
<p>the spatial data locations where the values were measured.
First column x/longitude, second y/latitude</p>
</td></tr>
<tr><td><code id="idw360_+3A_grid">grid</code></td>
<td>
<p>data frame or Spatial object with the locations to predict.
First column x/longitude, second y/latitude</p>
</td></tr>
<tr><td><code id="idw360_+3A_idp">idp</code></td>
<td>
<p>The inverse distance weighting power</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with the interpolated values for each of the grid points
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("sp")
library("ggplot2")

## Could be wind direction values in degrees
values &lt;- c(55, 355)

## Location of sensors. First column x/longitud, second y/latitude
locations &lt;- data.frame(lon = c(1, 2), lat = c(1, 2))
coordinates(locations) &lt;- ~lon+lat

## The grid for which to extrapolate values
grid &lt;- data.frame(lon = c(1, 2, 1, 2), lat = c(1, 2, 2, 1))
coordinates(grid) &lt;- ~lon+lat

## Perform the inverse distance weighted interpolation
res &lt;- idw360(values, locations, grid)
head(res)

## Not run: 
df &lt;- cbind(res, as.data.frame(grid))
## The wind direction compass starts where the 90 degree mark is located
ggplot(df, aes(lon, lat)) +
  geom_point() +
  geom_spoke(aes(angle = ((90 - pred) %% 360) * pi / 180),
             radius = 1,
             arrow=arrow(length = unit(0.2, "npc")))

library("mapproj")
## Random values in each of the measuring stations
locations &lt;- stations[, c("lon", "lat")]
coordinates(locations) &lt;- ~lon+lat
crs_string &lt;- "+proj=longlat +ellps=WGS84 +no_defs +towgs84=0,0,0"
proj4string(locations) &lt;- CRS(crs_string)
values &lt;- runif(length(locations), 0, 360)
pixels &lt;- 10
grid &lt;- expand.grid(lon = seq((min(coordinates(locations)[, 1]) - .1),
                              (max(coordinates(locations)[, 1]) + .1),
                              length.out = pixels),
                    lat = seq((min(coordinates(locations)[, 2]) - .1),
                              (max(coordinates(locations)[, 2]) + .1),
                              length.out = pixels))
grid &lt;- SpatialPoints(grid)
proj4string(grid) &lt;- CRS(crs_string)
## bind the extrapolated values for plotting
df &lt;- cbind(idw360(values, locations, grid), as.data.frame(grid))
ggplot(df, aes(lon, lat)) +
  geom_point(size = .1) +
  geom_spoke(aes(angle = ((90 - pred) %% 360) * pi / 180),
             radius = .07,
             arrow=arrow(length = unit(0.2,"cm"))) +
  coord_map()

## End(Not run)
</code></pre>

<hr>
<h2 id='stations'>Pollution measuring stations in Mexico City</h2><span id='topic+stations'></span>

<h3>Description</h3>

<p>This dataset contains all pollution measuring stations in Mexico City. The
station with code SS1 was added manually since it was missing from the
official source dataset (its location was found in the
<a href="http://www.aire.cdmx.gob.mx/descargas/monitoreo/GDF_2015_audit_report_final_v2.pdf">Audit
of Ambient Air Monitoring Stations for the Sistema de Monitoreo Atmosférico
de la Ciudad de México</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stations
</code></pre>


<h3>Format</h3>

<p>A data frame with 63 rows and 7 variables:
</p>

<dl>
<dt>station_code</dt><dd><p>abbreviation of the station</p>
</dd>
<dt>station_name</dt><dd><p>name of the station</p>
</dd>
<dt>lon</dt><dd><p>longitude of the station</p>
</dd>
<dt>lat</dt><dd><p>latitude of the station</p>
</dd>
<dt>altitude</dt><dd><p>altitude of the station</p>
</dd>
<dt>comment</dt><dd><p>comment</p>
</dd>
<dt>station_id</dt><dd><p>id of the station</p>
</dd>
</dl>



<h3>Source</h3>

<p>&lsquo;<span class="samp">&#8288;http://148.243.232.112:8080/opendata/catalogos/cat_estacion.csv&#8288;</span>&rsquo;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(stations)
</code></pre>

<hr>
<h2 id='zones'>Pollution zones in Mexico City</h2><span id='topic+zones'></span>

<h3>Description</h3>

<p>This data set contains the municipios (counties) that make up the 5
geographic zones into which Mexico City was divided for the purpose of
disseminating information about the
<a href="https://en.wikipedia.org/wiki/%C3%8Dndice_Metropolitano_de_la_Calidad_del_Aire">IMECA</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zones
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 rows and 6 variables:
</p>

<dl>
<dt>region</dt><dd><p>INEGI code of the region (state_code + municipio_code)</p>
</dd>
<dt>state_code</dt><dd><p>INEGI code of the state</p>
</dd>
<dt>state_abbr</dt><dd><p>state abbreviation</p>
</dd>
<dt>municipio_code</dt><dd><p>INEGI code of the municipio</p>
</dd>
<dt>municipio_name</dt><dd><p>name of the municipio</p>
</dd>
<dt>zone</dt><dd><p>zone</p>
</dd>
</dl>



<h3>Details</h3>

<p>Note that in 2015 it was determined that the stations with codes ACO, AJU,
INN, MON and MPA would no longer be taken into consideration when computing
the pollution index because they didn't meet the
<a href="http://www.aire.cdmx.gob.mx/objetivos-monitoreo-calidad-aire.html">objectives
of monitoring air quality</a>, and are no longer included in the index, even if
they are still part of the SIMAT (Sistema de Monitoreo Atmosférico de la
Ciudad de México). Thus, even if they are located inside a zone, they are not
included in the pollution values for that zone.
</p>
<p>A transparency request was used to determine the zone to which the
municipios of Acolman, Texcoco and Atenco belong.
</p>


<h3>Source</h3>

<p><a href="http://www.aire.cdmx.gob.mx/descargas/ultima-hora/calidad-aire/pcaa/Gaceta_Oficial_CDMX.pdf"> Gaceta Oficial de la Ciudad de México</a>
No. 230, 27 de Diciembre de 2016, and
<em>Solicitud de Información</em> FOLIO 0112000033818
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(zones)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

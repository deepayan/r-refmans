<!DOCTYPE html><html><head><title>Help for package rATTAINS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rATTAINS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rATTAINS-package'><p>rATTAINS: Access EPA 'ATTAINS' Data</p></a></li>
<li><a href='#actions'><p>Download Actions Data</p></a></li>
<li><a href='#assessment_units'><p>Download Assessment Unit Summary</p></a></li>
<li><a href='#assessments'><p>Download Assessment Decisions</p></a></li>
<li><a href='#domain_values'><p>Download Domain Values</p></a></li>
<li><a href='#huc12_summary'><p>Download HUC12 Summary</p></a></li>
<li><a href='#plans'><p>Download Plans and Actions by HUC</p></a></li>
<li><a href='#state_summary'><p>Download State Summaries</p></a></li>
<li><a href='#surveys'><p>Download State Survey Results</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Access EPA 'ATTAINS' Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An R interface to United States Environmental Protection Agency (EPA)  
    Assessment, Total Maximum Daily Load (TMDL) Tracking and Implementation System 
    ('ATTAINS') data. 'ATTAINS' is the EPA database used to track information 
    provided by states about water quality assessments conducted under federal 
    Clean Water Act requirements. ATTAINS information and API information is available at <a href="https://www.epa.gov/waterdata/attains">https://www.epa.gov/waterdata/attains</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, crul, curl, dplyr, fauxpas, fs, jsonlite,
lifecycle, rlang, rlist, tibblify, tidyr, tidyselect</td>
</tr>
<tr>
<td>Suggests:</td>
<td>vcr (&ge; 0.6.0), testthat (&ge; 3.0.0), knitr, rmarkdown,
webmockr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mps9506/rATTAINS/issues">https://github.com/mps9506/rATTAINS/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mps9506/rATTAINS">https://github.com/mps9506/rATTAINS</a>,
<a href="https://mps9506.github.io/rATTAINS/">https://mps9506.github.io/rATTAINS/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>mps9506/mpsTemplates, ggrepel, ggplot2, ggtext</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-25 13:17:03 UTC; michael.schramm</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Schramm <a href="https://orcid.org/0000-0003-1876-6592"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Schramm &lt;mpschramm@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-25 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rATTAINS-package'>rATTAINS: Access EPA 'ATTAINS' Data</h2><span id='topic+rATTAINS'></span><span id='topic+rATTAINS-package'></span>

<h3>Description</h3>

<p>An R interface to United States Environmental Protection Agency (EPA) Assessment, Total Maximum Daily Load (TMDL) Tracking and Implementation System ('ATTAINS') data. 'ATTAINS' is the EPA database used to track information provided by states about water quality assessments conducted under federal Clean Water Act requirements. ATTAINS information and API information is available at <a href="https://www.epa.gov/waterdata/attains">https://www.epa.gov/waterdata/attains</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Michael Schramm <a href="mailto:mpschramm@gmail.com">mpschramm@gmail.com</a> (<a href="https://orcid.org/0000-0003-1876-6592">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/mps9506/rATTAINS">https://github.com/mps9506/rATTAINS</a>
</p>
</li>
<li> <p><a href="https://mps9506.github.io/rATTAINS/">https://mps9506.github.io/rATTAINS/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/mps9506/rATTAINS/issues">https://github.com/mps9506/rATTAINS/issues</a>
</p>
</li></ul>


<hr>
<h2 id='actions'>Download Actions Data</h2><span id='topic+actions'></span>

<h3>Description</h3>

<p>Provides data about actions (TMDLs, 4B Actions, Alternative Actions,
Protection Approach Actions) that have been finalized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>actions(
  action_id = NULL,
  assessment_unit_id = NULL,
  state_code = NULL,
  organization_id = NULL,
  summarize = FALSE,
  parameter_name = NULL,
  pollutant_name = NULL,
  action_type_code = NULL,
  agency_code = NULL,
  pollutant_source_code = NULL,
  action_status_code = NULL,
  completion_date_later_than = NULL,
  completion_date_earlier_than = NULL,
  tmdl_date_later_than = NULL,
  tmdl_date_earlier_then = NULL,
  last_change_later_than_date = NULL,
  last_change_earlier_than_date = NULL,
  return_count_only = FALSE,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="actions_+3A_action_id">action_id</code></td>
<td>
<p>(character) Specifies what action to retrieve. multiple
values allowed. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_assessment_unit_id">assessment_unit_id</code></td>
<td>
<p>(character) Filters returned actions to those
associated with the specified assessment unit identifier, plus any
statewide actions. multiple values allowed. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_state_code">state_code</code></td>
<td>
<p>(character) Filters returned actions to those &quot;belonging&quot;
to the specified state. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_organization_id">organization_id</code></td>
<td>
<p>(character) Filter returned actions to those
&quot;belonging&quot; to specified organizations. multiple values allowed. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_summarize">summarize</code></td>
<td>
<p>(logical) If <code>TRUE</code> provides only a count of the
assessment units for the action and summary of the pollutants and
parameters covered by the action.</p>
</td></tr>
<tr><td><code id="actions_+3A_parameter_name">parameter_name</code></td>
<td>
<p>(character) Filters returned actions to those
associated with the specified parameter. multiple values allowed. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_pollutant_name">pollutant_name</code></td>
<td>
<p>(character) Filters returned actions to those
associated with the specified pollutant. multiple values allowed. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_action_type_code">action_type_code</code></td>
<td>
<p>(character) Filters returned actions to those
associated with the specified action type code. multiple values allowed.
optional</p>
</td></tr>
<tr><td><code id="actions_+3A_agency_code">agency_code</code></td>
<td>
<p>(character) Filters returned actions to those with the
specified agency code. multiple values allowed. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_pollutant_source_code">pollutant_source_code</code></td>
<td>
<p>(character) Filters returned actions to those
matching the specified pollutant source code. multiple values allowed.
optional</p>
</td></tr>
<tr><td><code id="actions_+3A_action_status_code">action_status_code</code></td>
<td>
<p>(character) Filters returned actions to those
matching the specified action status code. multiple values allowed.
optional</p>
</td></tr>
<tr><td><code id="actions_+3A_completion_date_later_than">completion_date_later_than</code></td>
<td>
<p>(character) Filters returned actions to
those with a completion date later than the value specified. Must be a
character formatted as <code>"YYYY-MM-DD"</code>. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_completion_date_earlier_than">completion_date_earlier_than</code></td>
<td>
<p>(character) Filters returned actions to
those with a completion date earlier than the value specified. Must be a
character formatted as <code>"YYYY-MM-DD"</code>. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_tmdl_date_later_than">tmdl_date_later_than</code></td>
<td>
<p>(character) Filters returned actions to those
with a TMDL date later than the value specified. Must be a character
formatted as <code>"YYYY-MM-DD"</code>. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_tmdl_date_earlier_then">tmdl_date_earlier_then</code></td>
<td>
<p>(character) Filters returned actions to those
with a TMDL date earlier than the value specified. Must be a character
formatted as <code>"YYYY-MM-DD"</code>. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_last_change_later_than_date">last_change_later_than_date</code></td>
<td>
<p>(character) Filters returned actions to
those with a last change date later than the value specified. Can be used
with <code>last_change_earlier_than_date</code> to return actions changed within
a date range. Must be a character formatted as <code>"YYYY-MM-DD"</code>.
optional</p>
</td></tr>
<tr><td><code id="actions_+3A_last_change_earlier_than_date">last_change_earlier_than_date</code></td>
<td>
<p>(character) Filters returned actions to
those with a last change date earlier than the value specified. Can be used
with <code>last_change_later_than_date</code> to return actions changed within a
date range. Must be a character formatted as <code>"YYYY-MM-DD"</code>. optional</p>
</td></tr>
<tr><td><code id="actions_+3A_return_count_only">return_count_only</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
<code>return_count_only = TRUE</code> is no longer supported.</p>
</td></tr>
<tr><td><code id="actions_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="actions_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="actions_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>One or more of the following arguments must be included:
<code>action_id</code>, <code>assessment_unit_id</code>, <code>state_code</code> or
<code>organization_id</code>. Multiple values are allowed for indicated arguments
and should be included as a comma separated values in the string (eg.
<code>organization_id="TCEQMAIN,DCOEE"</code>).
</p>


<h3>Value</h3>

<p>If <code>tidy = FALSE</code> the raw JSON string is returned, else the
JSON data is parsed and returned as tibbles.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Look up an individual action
actions(action_id = "R8-ND-2018-03")
## Get the JSON instead
actions(action_id = "R8-ND-2018-03", tidy = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='assessment_units'>Download Assessment Unit Summary</h2><span id='topic+assessment_units'></span>

<h3>Description</h3>

<p>Provides basic information about the requested assessment units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assessment_units(
  assessment_unit_identifer = NULL,
  state_code = NULL,
  organization_id = NULL,
  epa_region = NULL,
  huc = NULL,
  county = NULL,
  assessment_unit_name = NULL,
  last_change_later_than_date = NULL,
  last_change_earlier_than_date = NULL,
  status_indicator = NULL,
  return_count_only = NULL,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assessment_units_+3A_assessment_unit_identifer">assessment_unit_identifer</code></td>
<td>
<p>(character) Filters returned assessment
units to one or more specific assessment units. Multiple values can be
provided. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_state_code">state_code</code></td>
<td>
<p>(character) Filters returned assessment units to only
those having a state code matches one in the provided list of states.
Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_organization_id">organization_id</code></td>
<td>
<p>(character) Filters returned assessment units to only
those having a mathcing organization ID. Multiple values can be provided.
optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_epa_region">epa_region</code></td>
<td>
<p>(character) Filters returned assessment units to only
matching EPA regions. Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_huc">huc</code></td>
<td>
<p>(character) Filters returned assessment units to only those
which have a location type of HUC and the location value matches the
provided HUC. Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_county">county</code></td>
<td>
<p>(character) Filters returned assessment units to only those
which have a location type of county and matches the provided county.
Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_assessment_unit_name">assessment_unit_name</code></td>
<td>
<p>(character) Filters the returned assessment units
to matching the provided value.</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_last_change_later_than_date">last_change_later_than_date</code></td>
<td>
<p>(character) Filters returned assessment
units to those only changed after the provided date. Must be a character
with format: <code>"yyyy-mm-dd"</code>. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_last_change_earlier_than_date">last_change_earlier_than_date</code></td>
<td>
<p>(character) Filters returned assessment
units to those only changed before the provided date. Must be a character
with format: <code>"yyyy-mm-dd"</code>. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_status_indicator">status_indicator</code></td>
<td>
<p>(character) Filter the returned assessment units to
those with specified status. &quot;A&quot; for active, &quot;R&quot; for retired. optional</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_return_count_only">return_count_only</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
<code>return_count_only = Y</code> is no longer supported.</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="assessment_units_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>One or more of the following arguments must be included:
<code>assessment_unit_identfier</code>, <code>state_code</code> or
<code>organization_id</code>. Multiple values are allowed for indicated arguments
and should be included as a comma separated values in the string (eg.
<code>organization_id="TCEQMAIN,DCOEE"</code>).
</p>


<h3>Value</h3>

<p>When <code>tidy = TRUE</code> a tibble with many variables, some nested, is
returned. When <code>tidy=FALSE</code> a raw JSON string is returned.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

## Retrieve data about a single assessment unit
assessment_units(assessment_unit_identifer = "AL03150201-0107-200")

## Retrieve data as a JSON instead
assessment_units(assessment_unit_identifer = "AL03150201-0107-200", tidy = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='assessments'>Download Assessment Decisions</h2><span id='topic+assessments'></span>

<h3>Description</h3>

<p>Download Assessment Decisions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assessments(
  assessment_unit_id = NULL,
  state_code = NULL,
  organization_id = NULL,
  reporting_cycle = NULL,
  use = NULL,
  use_support = NULL,
  parameter = NULL,
  parameter_status_name = NULL,
  probable_source = NULL,
  agency_code = NULL,
  ir_category = NULL,
  state_ir_category_code = NULL,
  multicategory_search = NULL,
  last_change_later_than_date = NULL,
  last_change_earlier_than_date = NULL,
  return_count_only = FALSE,
  exclude_assessments = FALSE,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assessments_+3A_assessment_unit_id">assessment_unit_id</code></td>
<td>
<p>(character) Specify the specific assessment unit
assessment data to return. Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_state_code">state_code</code></td>
<td>
<p>(character) Filters returned assessments to those from the
specified state. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_organization_id">organization_id</code></td>
<td>
<p>(character) Filters the returned assessments to those
belonging to the specified organization. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_reporting_cycle">reporting_cycle</code></td>
<td>
<p>(character) Filters the returned assessments to those
for the specified reporting cycle. The reporting cycle refers to the
four-digit year that the reporting cycle ended. Defaults to the current
cycle. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_use">use</code></td>
<td>
<p>(character) Filters the returned assessments to those with the
specified uses. Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_use_support">use_support</code></td>
<td>
<p>(character) Filters returned assessments to those fully
supporting the specified uses or that are threatened. Multiple values can
be provided. Allowable values include <code>"X"</code>= Not Assessed, <code>"I"</code>=
Insufficient Information, <code>"F"</code>= Fully Supporting, <code>"N"</code>= Not
Supporting, and <code>"T"</code>= Threatened. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_parameter">parameter</code></td>
<td>
<p>(character) Filters the returned assessments to those with
one or more of the specified parameters. Multiple values can be provided.
optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_parameter_status_name">parameter_status_name</code></td>
<td>
<p>(character) Filters the returned assessments to
those with one or more associated parameters meeting the provided value.
Valid values are <code>"Meeting Criteria"</code>, <code>"Cause"</code>, <code>"Observed
  Effect"</code>. Multiple valuse can be provided. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_probable_source">probable_source</code></td>
<td>
<p>(character) Filters the returned assessments to those
having the specified probable source. Multiple values can be provided.
optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_agency_code">agency_code</code></td>
<td>
<p>(character) Filters the returned assessments to those by
the type of agency responsible for the assessment. Allowed values are
<code>"E"</code>=EPA, <code>"S"</code>=State, <code>"T"</code>=Tribal. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_ir_category">ir_category</code></td>
<td>
<p>(character) Filters the returned assessments to those
having the specified IR category. Multiple values can be provided. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_state_ir_category_code">state_ir_category_code</code></td>
<td>
<p>(character) Filters the returned assessments to
include those having the provided codes.</p>
</td></tr>
<tr><td><code id="assessments_+3A_multicategory_search">multicategory_search</code></td>
<td>
<p>(character) Specifies whether to search at
multiple levels.  If this parameter is set to “Y” then the query applies
the EPA IR Category at the Assessment, UseAttainment, and Parameter levels;
if the parameter is set to “N” it looks only at the Assessment level.</p>
</td></tr>
<tr><td><code id="assessments_+3A_last_change_later_than_date">last_change_later_than_date</code></td>
<td>
<p>(character) Filters the returned
assessments to only those last changed after the provided date. Must be a
character with format: <code>"yyyy-mm-dd"</code>. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_last_change_earlier_than_date">last_change_earlier_than_date</code></td>
<td>
<p>(character) Filters the returned
assessments to only those last changed before the provided date. Must be a
character with format: <code>"yyyy-mm-dd"</code>. optional</p>
</td></tr>
<tr><td><code id="assessments_+3A_return_count_only">return_count_only</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
<code>return_count_only = TRUE</code> is no longer supported.</p>
</td></tr>
<tr><td><code id="assessments_+3A_exclude_assessments">exclude_assessments</code></td>
<td>
<p>(logical) If <code>TRUE</code> returns only the
documents associated with the Assessment cycle instead of the assessment
data. Defaults is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="assessments_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="assessments_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="assessments_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>One or more of the following arguments must be included:
<code>action_id</code>, <code>assessment_unit_id</code>, <code>state_code</code> or
<code>organization_id</code>. Multiple values are allowed for indicated arguments
and should be included as a comma separated values in the string (eg.
<code>organization_id="TCEQMAIN,DCOEE"</code>).
</p>


<h3>Value</h3>

<p>If <code>tidy = FALSE</code> the raw JSON string is returned, else the JSON
data is parsed and returned as tibbles.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried. In v1.0.0
rATTAINS returns a list of tibbles (<code>documents</code>, <code>use_assessment</code>,
<code>delisted_waters</code>). Prior versions returned <code>documents</code>, <code>use_assessment</code>,
and <code>parameter_assessment</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

## Return all assessment decisions with specified parameters
assessments(organization_id = "SDDENR",
probable_source = "GRAZING IN RIPARIAN OR SHORELINE ZONES")

## Returns the raw JSONs instead:
assessments(organization_id = "SDDENR",
probable_source = "GRAZING IN RIPARIAN OR SHORELINE ZONES", tidy = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='domain_values'>Download Domain Values</h2><span id='topic+domain_values'></span>

<h3>Description</h3>

<p>Provides information on allowed parameter values in ATTAINS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>domain_values(domain_name = NULL, context = NULL, tidy = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="domain_values_+3A_domain_name">domain_name</code></td>
<td>
<p>(character) Specified the domain name to obtain valid
parameter values for. Defaults to <code>NULL</code> which will a tibble with all
the domain names. To return the allowable parameter values for a given
domain, the domain should be specified here. optional</p>
</td></tr>
<tr><td><code id="domain_values_+3A_context">context</code></td>
<td>
<p>(character) When specified, the service will return
domain_name values  alongside the context. optional.</p>
</td></tr>
<tr><td><code id="domain_values_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="domain_values_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>tidy = FALSE</code> the raw JSON string is returned, else the JSON
data is parsed and returned as a tibble.
</p>


<h3>Note</h3>

<p>Data downloaded from the EPA webservice is automatically cached to
reduce uneccessary calls to the server.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Not run: 

## return a tibble with all domain names
domain_values()

## return allowable parameter values for a given domain name and context
domain_values(domain_name="UseName",context="TCEQMAIN")

## return the query as a JSON string instead
domain_values(domain_name="UseName",context="TCEQMAIN", tidy= FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='huc12_summary'>Download HUC12 Summary</h2><span id='topic+huc12_summary'></span>

<h3>Description</h3>

<p>Provides summary data for a 12-digit Hydrologic Unit Code
(HUC12), based on Assessment Units in the HUC12. Watershed boundaries may
cross state boundaries, so the service may return assessment units from
multiple organizations. Returns the assessment units in the HUC12, size and
percentages of assessment units considered Good, Unknown, or Impaired.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>huc12_summary(huc, tidy = TRUE, .unnest = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="huc12_summary_+3A_huc">huc</code></td>
<td>
<p>(character) Specifies the 12-digit HUC to be summarized. required</p>
</td></tr>
<tr><td><code id="huc12_summary_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="huc12_summary_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="huc12_summary_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>tidy = FALSE</code> the raw JSON string is returned, else the JSON
data is parsed and returned as a list of tibbles that include a list of
seven tibbles.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Return a list of tibbles with summary data about a single huc12
x &lt;- huc12_summary(huc = "020700100204")

## Return as a JSON string
x &lt;- huc12_summary(huc = "020700100204", tidy = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='plans'>Download Plans and Actions by HUC</h2><span id='topic+plans'></span>

<h3>Description</h3>

<p>Returns information about plans or actions (TMDLs, 4B Actions,
Alternative Actions, Protective Approach Actions) that have been finalized.
This is similar to <a href="#topic+actions">actions</a> but returns data by HUC code and any
assessment units covered by a plan or action within the specified HUC.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plans(
  huc,
  organization_id = NULL,
  summarize = FALSE,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plans_+3A_huc">huc</code></td>
<td>
<p>(character) Filters the returned actions by 8-digit or higher HUC.
required</p>
</td></tr>
<tr><td><code id="plans_+3A_organization_id">organization_id</code></td>
<td>
<p>(character). Filters the returned actions by those
belonging to the specified organization. Multiple values can be used.
optional</p>
</td></tr>
<tr><td><code id="plans_+3A_summarize">summarize</code></td>
<td>
<p>(logical) If <code>TRUE</code> the count of assessment units is
returned rather than the assessment unit itdentifers for each action.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plans_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a list of
tibbles. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="plans_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plans_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>huc</code> is a required argument. Multiple values are allowed for
indicated arguments and should be included as a comma separated values in
the string (eg. <code>organization_id="TCEQMAIN,DCOEE"</code>).
</p>


<h3>Value</h3>

<p>If <code>count = TRUE</code> returns a tibble that summarizes the count of
actions returned by the query. If <code>count = FALSE</code> returns a list of
tibbles including documents, use assessment data, and parameters assessment
data identified by the query. If <code>tidy = FALSE</code> the raw JSON string is
returned, else the JSON data is parsed and returned as a list of tibbles.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried. As of v1.0
this function no longer returns the <code>documents</code>, <code>associated_permits</code>, or
<code>plans</code> tibbles.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

## Query plans by huc
plans(huc ="020700100103")

## return a JSON string instead of list of tibbles
plans(huc = "020700100103", tidy = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='state_summary'>Download State Summaries</h2><span id='topic+state_summary'></span>

<h3>Description</h3>

<p>Provides summary information for assessed uses for an organization (State,
Territory or Tribe) and Integrated Reporting Cycle. The Organization ID for
the state, territory or tribe is required. If a Reporting Cycle isn't
provided, the service will return the most recent cycle. If a reporting Cycle
is provided, the service will return a summary for the requested cycle.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>state_summary(
  organization_id = NULL,
  reporting_cycle = NULL,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="state_summary_+3A_organization_id">organization_id</code></td>
<td>
<p>(character) Restricts results to the specified
organization. required</p>
</td></tr>
<tr><td><code id="state_summary_+3A_reporting_cycle">reporting_cycle</code></td>
<td>
<p>(character) Filters the returned results to the
specified 4 digit reporting cycle year. Typically even numbered years. Will
return reporting data for all years prior to and including the reporting
cycle by reporting cycle. optional</p>
</td></tr>
<tr><td><code id="state_summary_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="state_summary_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="state_summary_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>tidy = FALSE</code> the raw JSON string is
returned, else the JSON data is parsed and returned as a list of tibbles.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Get a list of tibbles summarizing assessed uses
state_summary(organization_id = "TDECWR", reporting_cycle = "2016")

## Returns the query as a JSON string instead
state_summary(organization_id = "TDECWR", reporting_cycle = "2016", tidy = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='surveys'>Download State Survey Results</h2><span id='topic+surveys'></span>

<h3>Description</h3>

<p>Downloads data about state statistical (probability) survey results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surveys(
  organization_id = NULL,
  survey_year = NULL,
  tidy = TRUE,
  .unnest = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="surveys_+3A_organization_id">organization_id</code></td>
<td>
<p>(character) Filters the list to only those “belonging
to” one of the specified organizations. Multiple values may be specified.
required</p>
</td></tr>
<tr><td><code id="surveys_+3A_survey_year">survey_year</code></td>
<td>
<p>(character) Filters the list to the year the survey was
performed. optional.</p>
</td></tr>
<tr><td><code id="surveys_+3A_tidy">tidy</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function returns a tidied
tibble. <code>FALSE</code> the function returns the raw JSON string.</p>
</td></tr>
<tr><td><code id="surveys_+3A_.unnest">.unnest</code></td>
<td>
<p>(logical) <code>TRUE</code> (default) the function attempts to unnest
data to longest format possible. This defaults to <code>TRUE</code> for backwards
compatibility but it is suggested to use <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="surveys_+3A_...">...</code></td>
<td>
<p>list of curl options passed to <code><a href="crul.html#topic+HttpClient">crul::HttpClient()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Arguments that allow multiple values should be entered as a comma
separated string with no spaces (<code>organization_id = "DOEE,21AWIC"</code>).
</p>


<h3>Value</h3>

<p>If <code>tidy = FALSE</code> the raw JSON string is
returned, else the JSON data is parsed and returned as a list of tibbles.
</p>


<h3>Note</h3>

<p>See <a href="#topic+domain_values">domain_values</a> to search values that can be queried.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

## return surveys by organization
surveys(organization_id="SDDENR")

## return as a JSON string instead of a list of tibbles
surveys(organization_id="SDDENR", tidy = FALSE)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

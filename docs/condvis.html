<!DOCTYPE html><html><head><title>Help for package condvis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {condvis}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#condvis-package'>
<p>Conditional Visualization for Statistical Models</p></a></li>
<li><a href='#arrangeC'><p>Make a list of variable pairings for condition selecting plots</p>
produced by plotxc</a></li>
<li><a href='#ceplot'><p>Interactive conditional expectation plot</p></a></li>
<li><a href='#condtour'><p>Conditional tour; a tour through sections in data space</p></a></li>
<li><a href='#cont2color'><p>Assign colours to numeric vector</p></a></li>
<li><a href='#crab'>
<p>Brockmann's crab data</p></a></li>
<li><a href='#dist1'><p>Minkowski distance</p></a></li>
<li><a href='#factor2color'><p>Assign colours to factor vector</p></a></li>
<li><a href='#interpolate'><p>Interpolate</p></a></li>
<li><a href='#makepath'><p>Make a default path for conditional tour</p></a></li>
<li><a href='#plotxc'><p>Condition selector plot</p></a></li>
<li><a href='#plotxc.pcp'><p>Condition selector plot</p></a></li>
<li><a href='#plotxs'><p>Visualise a section in data space</p></a></li>
<li><a href='#powerplant'>
<p>Tuefekci's powerplant data</p></a></li>
<li><a href='#savingby2d'><p>Assess advantage of 2-D view over 1-D view for identifying</p>
extrapolation</a></li>
<li><a href='#similarityweight'><p>Calculate the similarity weight for a set of observations</p></a></li>
<li><a href='#wine'>
<p>Italian wine data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Conditional Visualization for Statistical Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5-1</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-09-13</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats, utils, MASS</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RColorBrewer, shiny, scagnostics, cluster, hdrcde, gplots,
TSP, DendSer, testthat</td>
</tr>
<tr>
<td>Description:</td>
<td>Exploring fitted models by interactively taking 2-D and 3-D
  sections in data space.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>false</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/markajoc/condvis/issues">https://github.com/markajoc/condvis/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://markajoc.github.io/condvis/">http://markajoc.github.io/condvis/</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1.9000</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-09-12 23:06:07 UTC; mark</td>
</tr>
<tr>
<td>Author:</td>
<td>Mark O'Connell [aut, cre],
  Catherine Hurley [aut],
  Katarina Domijan [aut],
  Achim Zeileis [ctb] (spineplot, see copied.R),
  R Core Team [ctb] (barplot, see copied.R)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mark O'Connell &lt;mark_ajoc@yahoo.ie&gt;</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-09-13 04:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='condvis-package'>
Conditional Visualization for Statistical Models
</h2><span id='topic+condvis-package'></span><span id='topic+condvis'></span>

<h3>Description</h3>

<p>Exploring statistical models by interactively taking 2-D and 3-D sections in
data space. The main functions for end users are <code><a href="#topic+ceplot">ceplot</a></code> (see
example below) and <code><a href="#topic+condtour">condtour</a></code>. Requires
<a href="http://www.xquartz.org/">XQuartz</a> on Mac OS, and X11 on Linux. A website
for the package is available at <a href="http://markajoc.github.io/condvis/">
markajoc.github.io/condvis</a>. Source code is available to browse at
<a href="https://github.com/markajoc/condvis/">GitHub</a>. Bug reports and feature
requests are very welcome at
<a href="https://github.com/markajoc/condvis/issues">GitHub</a>.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
    Package: </td><td style="text-align: left;"> condvis</td>
</tr>
<tr>
 <td style="text-align: left;">
    Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
    Version: </td><td style="text-align: left;"> 0.5-1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Date: </td><td style="text-align: left;"> 2018-09-13</td>
</tr>
<tr>
 <td style="text-align: left;">
    License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Mark O'Connell &lt;mark_ajoc@yahoo.ie&gt;, Catherine Hurley &lt;catherine.hurley@mu.ie&gt;,
Katarina Domijan &lt;katarina.domijan@mu.ie&gt;.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mtcars$cyl &lt;- as.factor(mtcars$cyl)
mtcars$am &lt;- as.factor(mtcars$am)

library(mgcv)
model1 &lt;- list(
  quadratic = lm(mpg ~ cyl + am + qsec + wt + I(wt^2), data = mtcars),
  additive = gam(mpg ~ cyl + am + qsec + s(wt), data = mtcars))

ceplot(data = mtcars, model = model1, sectionvars = "wt")

## End(Not run)
</code></pre>

<hr>
<h2 id='arrangeC'>Make a list of variable pairings for condition selecting plots
produced by plotxc</h2><span id='topic+arrangeC'></span>

<h3>Description</h3>

<p>This function arranges a number of variables in pairs, ordered
by their bivariate relationships. The goal is to discover which variable
pairings are most helpful in avoiding extrapolations when exploring the data
space. Variable pairs with strong bivariate dependencies (not necessarily
linear) are chosen first. The bivariate dependency is measured using
<code><a href="#topic+savingby2d">savingby2d</a></code>. Each variable appears in the output only once.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arrangeC(data, method = "default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arrangeC_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="arrangeC_+3A_method">method</code></td>
<td>
<p>The character name for the method to use for measuring
bivariate dependency, passed to <code><a href="#topic+savingby2d">savingby2d</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>data</code> is so big as to make <code>arrangeC</code> very slow, a
random sample of rows is used instead. The bivariate dependency measures
are rough, and the ordering algorithm is a simple greedy one, so it is not
worth allowing it too much time. This function exists mainly to provide a
helpful default ordering/pairing for <code><a href="#topic+ceplot">ceplot</a></code>.
</p>


<h3>Value</h3>

<p>A list containing character vectors giving variable pairings.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+savingby2d">savingby2d</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(powerplant)

pairings &lt;- arrangeC(powerplant)

dev.new(height = 2, width = 2 * length(pairings))
par(mfrow = c(1, length(pairings)))

for (i in seq_along(pairings)){
 plotxc(powerplant[, pairings[[i]]], powerplant[1, pairings[[i]]],
   select.col = NA)
}

</code></pre>

<hr>
<h2 id='ceplot'>Interactive conditional expectation plot</h2><span id='topic+ceplot'></span>

<h3>Description</h3>

<p>Creates an interactive conditional expectation plot, which
consists of two main parts. One part is a single plot depicting a section
through a fitted model surface, or conditional expectation. The other part
shows small data summaries which give the current condition, which can be
altered by clicking with the mouse.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ceplot(data, model, response = NULL, sectionvars = NULL,
  conditionvars = NULL, threshold = NULL, lambda = NULL,
  distance = c("euclidean", "maxnorm"), type = c("default", "separate",
  "shiny"), view3d = FALSE, Corder = "default", selectortype = "minimal",
  conf = FALSE, probs = FALSE, col = "black", pch = NULL,
  residuals = FALSE, xsplotpar = NULL, modelpar = NULL,
  xcplotpar = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ceplot_+3A_data">data</code></td>
<td>
<p>A dataframe containing the data to plot</p>
</td></tr>
<tr><td><code id="ceplot_+3A_model">model</code></td>
<td>
<p>A model object, or list of model objects</p>
</td></tr>
<tr><td><code id="ceplot_+3A_response">response</code></td>
<td>
<p>Character name of response in <code>data</code></p>
</td></tr>
<tr><td><code id="ceplot_+3A_sectionvars">sectionvars</code></td>
<td>
<p>Character name of variable(s) from <code>data</code> on which to
take a section, can be of length 1 or 2.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_conditionvars">conditionvars</code></td>
<td>
<p>Character names of conditioning variables from
<code>data</code>. These are the predictors which we can set to single values in
order to produce a section. Can be a list of vectors of length 1 or 2. Can
be a character vector, which is then paired up using
<code><a href="#topic+arrangeC">arrangeC</a></code>. If <code>NULL</code>, an attempt will be made to extract
all variable names which are not <code>response</code> or <code>sectionvars</code> from
<code>model</code>, and these will be arranged using <code><a href="#topic+arrangeC">arrangeC</a></code>.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_threshold">threshold</code></td>
<td>
<p>This is a threshold distance. Points further than
<code>threshold</code> away from the current section will not be visible. Passed
to <code><a href="#topic+similarityweight">similarityweight</a></code>.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_lambda">lambda</code></td>
<td>
<p>A constant to multiply by number of factor mismatches in
constructing a general dissimilarity measure. If left <code>NULL</code>, behaves
as though <code>lambda</code> is set greater than <code>threshold</code>, and so only
observations whose factor levels match the current section are visible.
Passed to <code><a href="#topic+similarityweight">similarityweight</a></code>.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_distance">distance</code></td>
<td>
<p>A character vector describing the type of distance measure to
use, either <code>"euclidean"</code> (default) or <code>"maxnorm"</code>.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_type">type</code></td>
<td>
<p>This specifies the type of interactive plot. <code>"default"</code>
places everything on one device. <code>"separate"</code> places condition
selectors on one device and the section on another. (These two options
require XQuartz on OS X). <code>"shiny"</code> produces a Shiny application.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_view3d">view3d</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots a three-dimensional
regression surface if possible.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_corder">Corder</code></td>
<td>
<p>Character name for method of ordering conditioning variables.
See <code><a href="#topic+arrangeC">arrangeC</a></code>.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_selectortype">selectortype</code></td>
<td>
<p>Type of condition selector plots to use. Must be
<code>"minimal"</code> if <code>type</code> is <code>"default"</code>. If <code>type</code> is
<code>"separate"</code>, can be <code>"pcp"</code> (see <code><a href="#topic+plotxc.pcp">plotxc.pcp</a></code>) or
<code>"full"</code> (see <code><a href="#topic+plotxc.full">plotxc.full</a></code>).</p>
</td></tr>
<tr><td><code id="ceplot_+3A_conf">conf</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots confidence bounds (or equivalent)
for models which provide this.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_probs">probs</code></td>
<td>
<p>Logical; if <code>TRUE</code>, shows predicted class probabilities
instead of just predicted classes. Only available if <code>S</code> specifies two
numeric predictors and the model's predict method provides this.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_col">col</code></td>
<td>
<p>Colour for observed data.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_pch">pch</code></td>
<td>
<p>Plot symbols for observed data.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_residuals">residuals</code></td>
<td>
<p>Logical; if <code>TRUE</code>, plots a residual versus predictor
plot instead of the usual scale of raw response.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_xsplotpar">xsplotpar</code></td>
<td>
<p>Plotting parameters for section visualisation as a list,
passed to <code><a href="#topic+plotxs">plotxs</a></code>. Can specify <code>xlim</code>, <code>ylim</code>.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_modelpar">modelpar</code></td>
<td>
<p>Plotting parameters for models as a list, passed to
<code><a href="#topic+plotxs">plotxs</a></code>. Not used.</p>
</td></tr>
<tr><td><code id="ceplot_+3A_xcplotpar">xcplotpar</code></td>
<td>
<p>Plotting parameters for condition selector plots as a list,
passed to <code><a href="#topic+plotxc">plotxc</a></code>. Can specify <code>col</code> for highlighting
current section, <code>cex</code>, and <code>trim</code> (see <code><a href="#topic+plotxc">plotxc</a></code>).</p>
</td></tr>
</table>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condtour">condtour</a></code>, <code><a href="#topic+similarityweight">similarityweight</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Example 1: Multivariate regression, xs one continuous predictor

mtcars$cyl &lt;- as.factor(mtcars$cyl)

library(mgcv)
model1 &lt;- list(
    quadratic = lm(mpg ~ cyl + hp + wt + I(wt^2), data = mtcars),
    additive = mgcv::gam(mpg ~ cyl + hp + s(wt), data = mtcars))

conditionvars1 &lt;- list(c("cyl", "hp"))

ceplot(data = mtcars, model = model1, response = "mpg", sectionvars = "wt",
  conditionvars = conditionvars1, threshold = 0.3, conf = T)

## Example 2: Binary classification, xs one categorical predictor

mtcars$cyl &lt;- as.factor(mtcars$cyl)
mtcars$am &lt;- as.factor(mtcars$am)

library(e1071)
model2 &lt;- list(
  svm = svm(am ~ mpg + wt + cyl, data = mtcars, family = "binomial"),
  glm = glm(am ~ mpg + wt + cyl, data = mtcars, family = "binomial"))

ceplot(data = mtcars, model = model2, sectionvars = "wt", threshold = 1,
  type = "shiny")

## Example 3: Multivariate regression, xs both continuous

mtcars$cyl &lt;- as.factor(mtcars$cyl)
mtcars$gear &lt;- as.factor(mtcars$gear)

library(e1071)
model3 &lt;- list(svm(mpg ~ wt + qsec + cyl + hp + gear,
  data = mtcars, family = "binomial"))

conditionvars3 &lt;- list(c("cyl","gear"), "hp")

ceplot(data = mtcars, model = model3, sectionvars = c("wt", "qsec"),
  threshold = 1, conditionvars = conditionvars3)

ceplot(data = mtcars, model = model3, sectionvars = c("wt", "qsec"),
    threshold = 1, type = "separate", view3d = T)

## Example 4: Multi-class classification, xs both categorical

mtcars$cyl &lt;- as.factor(mtcars$cyl)
mtcars$vs &lt;- as.factor(mtcars$vs)
mtcars$am &lt;- as.factor(mtcars$am)
mtcars$gear &lt;- as.factor(mtcars$gear)
mtcars$carb &lt;- as.factor(mtcars$carb)

library(e1071)
model4 &lt;- list(svm(carb ~ ., data = mtcars, family = "binomial"))

ceplot(data = mtcars, model = model4, sectionvars = c("cyl", "gear"),
  threshold = 3)

## Example 5: Multi-class classification, xs both continuous

data(wine)
wine$Class &lt;- as.factor(wine$Class)
library(e1071)

model5 &lt;- list(svm(Class ~ ., data = wine, probability = TRUE))

ceplot(data = wine, model = model5, sectionvars = c("Hue", "Flavanoids"),
  threshold = 3, probs = TRUE)

ceplot(data = wine, model = model5, sectionvars = c("Hue", "Flavanoids"),
  threshold = 3, type = "separate")

ceplot(data = wine, model = model5, sectionvars = c("Hue", "Flavanoids"),
  threshold = 3, type = "separate", selectortype = "pcp")

## Example 6: Multi-class classification, xs with one categorical predictor,
##            and one continuous predictor.

mtcars$cyl &lt;- as.factor(mtcars$cyl)
mtcars$carb &lt;- as.factor(mtcars$carb)

library(e1071)
model6 &lt;- list(svm(cyl ~ carb + wt + hp, data = mtcars, family = "binomial"))

ceplot(data = mtcars, model = model6, threshold = 1, sectionvars = c("carb",
  "wt"), conditionvars = "hp")

## End(Not run)

</code></pre>

<hr>
<h2 id='condtour'>Conditional tour; a tour through sections in data space</h2><span id='topic+condtour'></span>

<h3>Description</h3>

<p>Whereas <code><a href="#topic+ceplot">ceplot</a></code> allows the user to interactively
choose sections to visualise, <code>condtour</code> allows the user to pre-select
all sections to visualise, order them, and cycle through them one by one.
']' key advances the tour, and '[' key goes back. Can adjust
<code>threshold</code> for the current section visualisation with ',' and '.'
keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condtour(data, model, path, response = NULL, sectionvars = NULL,
  conditionvars = NULL, threshold = NULL, lambda = NULL,
  distance = c("euclidean", "maxnorm"), view3d = FALSE,
  Corder = "default", conf = FALSE, col = "black", pch = NULL,
  xsplotpar = NULL, modelpar = NULL, xcplotpar = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condtour_+3A_data">data</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="condtour_+3A_model">model</code></td>
<td>
<p>A fitted model object, or a list of such objects.</p>
</td></tr>
<tr><td><code id="condtour_+3A_path">path</code></td>
<td>
<p>A dataframe, describing the sections to take. Basically a
dataframe with its <code>colnames</code> being <code>conditionvars</code>.</p>
</td></tr>
<tr><td><code id="condtour_+3A_response">response</code></td>
<td>
<p>Character name of response variable in <code>data</code>.</p>
</td></tr>
<tr><td><code id="condtour_+3A_sectionvars">sectionvars</code></td>
<td>
<p>Character name(s) of variables in <code>data</code> on which to
take sections.</p>
</td></tr>
<tr><td><code id="condtour_+3A_conditionvars">conditionvars</code></td>
<td>
<p>Character name(s) of variables in <code>data</code> on which
to condition.</p>
</td></tr>
<tr><td><code id="condtour_+3A_threshold">threshold</code></td>
<td>
<p>Threshold distance. Observed data which are a distance
greater than <code>threshold</code> from the current section are not visible.
Passed to <code><a href="#topic+similarityweight">similarityweight</a></code>.</p>
</td></tr>
<tr><td><code id="condtour_+3A_lambda">lambda</code></td>
<td>
<p>A constant to multiply by number of factor mismatches in
constructing a general dissimilarity measure. If left <code>NULL</code>, behaves
as though <code>lambda</code> is set greater than <code>threshold</code>, and so only
observations whose factor levels match the current section are visible.
Passed to <code><a href="#topic+similarityweight">similarityweight</a></code>.</p>
</td></tr>
<tr><td><code id="condtour_+3A_distance">distance</code></td>
<td>
<p>The type of distance measure to use, either
<code>"euclidean"</code> (default) or <code>"maxnorm"</code>.</p>
</td></tr>
<tr><td><code id="condtour_+3A_view3d">view3d</code></td>
<td>
<p>Logical; if <code>TRUE</code>, plots a three-dimensional regression
surface when possible.</p>
</td></tr>
<tr><td><code id="condtour_+3A_corder">Corder</code></td>
<td>
<p>Character name for method of ordering conditioning variables.
See <code><a href="#topic+arrangeC">arrangeC</a></code>.</p>
</td></tr>
<tr><td><code id="condtour_+3A_conf">conf</code></td>
<td>
<p>Logical; if <code>TRUE</code>, plots confidence bounds or equivalent
when possible.</p>
</td></tr>
<tr><td><code id="condtour_+3A_col">col</code></td>
<td>
<p>Colour for observed data points.</p>
</td></tr>
<tr><td><code id="condtour_+3A_pch">pch</code></td>
<td>
<p>Plot symbols for observed data points.</p>
</td></tr>
<tr><td><code id="condtour_+3A_xsplotpar">xsplotpar</code></td>
<td>
<p>Plotting parameters for section visualisation as a list,
passed to <code><a href="#topic+plotxs">plotxs</a></code>. Not used.</p>
</td></tr>
<tr><td><code id="condtour_+3A_modelpar">modelpar</code></td>
<td>
<p>Plotting parameters for models as a list, passed to
<code><a href="#topic+plotxs">plotxs</a></code>. Not used.</p>
</td></tr>
<tr><td><code id="condtour_+3A_xcplotpar">xcplotpar</code></td>
<td>
<p>Plotting parameters for condition selector plots as a list,
passed to <code><a href="#topic+plotxc">plotxc</a></code>. Can specify <code>cex.axis</code>, <code>cex.lab</code>
, <code>tck</code>, <code>col</code> for highlighting current section, <code>cex</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces a set of interactive plots. One device displays the current
section. A second device shows the the current section in the space of the
conditioning predictors given by <code>conditionvars</code>. A third device shows
some simple diagnostic plots; one to show approximately how much data are
visible on each section, and another to show what proportion of data are
<em>visited</em> by the tour.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ceplot">ceplot</a></code>, <code><a href="#topic+similarityweight">similarityweight</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

data(powerplant)
library(e1071)
model &lt;- svm(PE ~ ., data = powerplant)
path &lt;- makepath(powerplant[-5], 25)
condtour(data = powerplant, model = model, path = path$path,
  sectionvars = "AT")

data(wine)
wine$Class &lt;- as.factor(wine$Class)
library(e1071)
model5 &lt;- list(svm(Class ~ ., data = wine))
conditionvars1 &lt;- setdiff(colnames(wine), c("Class", "Hue", "Flavanoids"))
path &lt;- makepath(wine[, conditionvars1], 50)
condtour(data = wine, model = model5, path = path$path, sectionvars = c("Hue"
  , "Flavanoids"), threshold = 3)


## End(Not run)
</code></pre>

<hr>
<h2 id='cont2color'>Assign colours to numeric vector</h2><span id='topic+cont2color'></span>

<h3>Description</h3>

<p>This function assigns colours on a linear scale to a numeric
vector. Default is to try to use <code>RColorBrewer</code> for colours, and
<code><a href="grDevices.html#topic+cm.colors">cm.colors</a></code> otherwise. Can provide custom range, breaks and colours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cont2color(x, xrange = NULL, breaks = NULL, colors = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cont2color_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="cont2color_+3A_xrange">xrange</code></td>
<td>
<p>The range to use for the colour scale.</p>
</td></tr>
<tr><td><code id="cont2color_+3A_breaks">breaks</code></td>
<td>
<p>The number of breaks at which to change colour.</p>
</td></tr>
<tr><td><code id="cont2color_+3A_colors">colors</code></td>
<td>
<p>The colours to use. Defaults to a diverging colour scheme;
either <code>"PiYG"</code> from <code>RColorBrewer</code> if available, or
<code><a href="grDevices.html#topic+cm.colors">cm.colors</a></code> otherwise.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the <code>RColorBrewer</code> package if installed. Coerces <code>x</code>
to numeric with a warning.
</p>


<h3>Value</h3>

<p>A character vector of colours.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+factor2color">factor2color</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- runif(200)
plot(x, col = cont2color(x, c(0,1)))

plot(x, col = cont2color(x, c(0,0.5)))

plot(sort(x), col = cont2color(sort(x), c(0.25,0.75)), pch = 16)
abline(h = c(0.25, 0.75), lty = 3)

</code></pre>

<hr>
<h2 id='crab'>
Brockmann's crab data
</h2><span id='topic+crab'></span>

<h3>Description</h3>

<p>Abstract from original paper: Horseshoe crabs arrive on the beach in pairs and
spawn in the high intertidal during the springtime, new and full moon high
tides. Unattached males also come to the beach, crowd around the nesting
couples and compete with attached males for fertilizations. Satellite males
form large groups around some couples while ignoring others, resulting in a
nonrandom distribution that cannot be explained by local environmental
conditions or habitat selection. In experimental manipulations, pairs that had
satellites regained them after they had been removed whereas pairs with no
satellites continued nesting alone, which means that satellites were not
simply accumulating around the pairs that had been on the beach the longest.
Manipulations also revealed that satellites were not just copying the
behaviour of other males. Based on the evidence from observations and
experiments, the most likely explanation for the nonrandom distribution of
satellite males among nesting pairs is that unattached males are
preferentially attracted to some females over others. Females with many
satellites were larger and in better condition, but did not lay more eggs,
than females with few or no satellites.<br /><br />
<code>satellites</code> response variable; number of satellites around female
crab<br />
<code>color</code> color of crab<br />
<code>spine</code> condition of spine<br />
<code>weight</code> weight of crab<br />
<code>width</code> width of carapace
</p>


<h3>Format</h3>

<p>173 observations on 5 variables.
</p>


<h3>Source</h3>

<p>https://onlinecourses.science.psu.edu/stat504/node/169
</p>


<h3>References</h3>

<p>Brockmann, H. (1996), &quot;Satellite male groups in horseshoe crabs,&quot;
<em>Ethology</em>, <b>102</b>-1, pp. 1-21.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(crab)
</code></pre>

<hr>
<h2 id='dist1'>Minkowski distance</h2><span id='topic+dist1'></span>

<h3>Description</h3>

<p>Calculate Minkowski distance between one point and a set of
other points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dist1(x, X, p = 2, inf = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dist1_+3A_x">x</code></td>
<td>
<p>A numeric vector describing point coordinates.</p>
</td></tr>
<tr><td><code id="dist1_+3A_x">X</code></td>
<td>
<p>A numeric matrix describing coordinates for several points.</p>
</td></tr>
<tr><td><code id="dist1_+3A_p">p</code></td>
<td>
<p>The power in Minkowski distance, defaults to 2 for Euclidean
distance.</p>
</td></tr>
<tr><td><code id="dist1_+3A_inf">inf</code></td>
<td>
<p>Logical; switch for calculating maximum norm distance (sometimes
known as Chebychev distance) which is the limit of Minkowski distance as
<code class="reqn">p</code> tends to infinity.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector. These are distance^p, for speed of computation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+similarityweight">similarityweight</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- runif(5000)
y &lt;- runif(5000)

x1 &lt;- 0.5
y1 &lt;- 0.5

dev.new(width = 4, height = 5.3)
par(mfrow = c(2, 2))

for(p in c(0.5, 1, 2, 10)){
  d &lt;- dist1(x = c(x1, y1), X = cbind(x, y), p = p) ^ (1/p)
  col &lt;- rep("black", length(x))
  col[d &lt; 0.3] &lt;- "red"
  plot(x, y, pch = 16, col = col, asp = 1, main = paste("p = ", p, sep = ""))
}

</code></pre>

<hr>
<h2 id='factor2color'>Assign colours to factor vector</h2><span id='topic+factor2color'></span>

<h3>Description</h3>

<p>This function takes a factor vector and returns suitable colours
representing the factor levels. Default is to try to use
<code>RColorBrewer</code> for colours, and <code><a href="grDevices.html#topic+rainbow">rainbow</a></code> otherwise. Can
provide custom colours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factor2color(x, colors = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factor2color_+3A_x">x</code></td>
<td>
<p>A factor vector.</p>
</td></tr>
<tr><td><code id="factor2color_+3A_colors">colors</code></td>
<td>
<p>The colours to use. Defaults to a qualitative colour scheme;
either <code>"Set3"</code> from <code>RColorBrewer</code> if available, or
<code><a href="grDevices.html#topic+rainbow">rainbow</a></code> otherwise.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the <code>RColorBrewer</code> package if installed. Coerces <code>x</code>
to factor with a warning.
</p>


<h3>Value</h3>

<p>A character vector of colours.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cont2color">cont2color</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(iris[, c("Petal.Length", "Petal.Width")], pch = 21,
  bg = factor2color(iris$Species))
legend("topleft", legend = levels(iris$Species),
  fill = factor2color(as.factor(levels(iris$Species))))

</code></pre>

<hr>
<h2 id='interpolate'>Interpolate</h2><span id='topic+interpolate'></span><span id='topic+interpolate.character'></span><span id='topic+interpolate.factor'></span><span id='topic+interpolate.integer'></span><span id='topic+interpolate.numeric'></span>

<h3>Description</h3>

<p>Interpolate a numeric or factor vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpolate(x, ...)

## S3 method for class 'numeric'
interpolate(x, ninterp = 4L, ...)

## S3 method for class 'integer'
interpolate(x, ninterp = 4L, ...)

## S3 method for class 'factor'
interpolate(x, ninterp = 4L, ...)

## S3 method for class 'character'
interpolate(x, ninterp = 4L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpolate_+3A_x">x</code></td>
<td>
<p>A numeric or factor vector.</p>
</td></tr>
<tr><td><code id="interpolate_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr><td><code id="interpolate_+3A_ninterp">ninterp</code></td>
<td>
<p>The number of points to interpolate between observations. It
should be an even number for sensible results on a factor/character vector.</p>
</td></tr>
</table>

<hr>
<h2 id='makepath'>Make a default path for conditional tour</h2><span id='topic+makepath'></span>

<h3>Description</h3>

<p>Provides a default path (a set of sections), useful as input to
a conditional tour (<code><a href="#topic+condtour">condtour</a></code>). Clusters the data using
k-means or partitioning around medoids (from the <code>cluster</code> package).
The cluster centres/prototypes are then ordered to create a sensible way to
visit each section as smoothly as possible. Ordering uses either the
<code>DendSer</code> or <code>TSP</code> package. Linear interpolation is then used to
create intermediate points between the path nodes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makepath(x, ncentroids, ninterp = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makepath_+3A_x">x</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="makepath_+3A_ncentroids">ncentroids</code></td>
<td>
<p>The number of centroids to use as path nodes.</p>
</td></tr>
<tr><td><code id="makepath_+3A_ninterp">ninterp</code></td>
<td>
<p>The number of points to linearly interpolate between path
nodes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two dataframes: <code>centers</code> giving the path nodes, and
<code>path</code> giving the full interpolated path.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condtour">condtour</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- data.frame(x = runif(500), y = runif(500))
plot(d)
mp1 &lt;- makepath(d, 5)
points(mp1$centers, type = "b", col = "blue", pch = 16)
mp2 &lt;- makepath(d, 40)
points(mp2$centers, type = "b", col = "red", pch = 16)

</code></pre>

<hr>
<h2 id='plotxc'>Condition selector plot</h2><span id='topic+plotxc'></span>

<h3>Description</h3>

<p>Data visualisations used to select sections for
<code><a href="#topic+ceplot">ceplot</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotxc(xc, xc.cond, name = NULL, trim = NULL, select.colour = NULL,
  select.lwd = NULL, cex.axis = NULL, cex.lab = NULL, tck = NULL,
  select.cex = 1, hist2d = NULL, fullbin = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotxc_+3A_xc">xc</code></td>
<td>
<p>A numeric or factor vector, or a dataframe with two columns</p>
</td></tr>
<tr><td><code id="plotxc_+3A_xc.cond">xc.cond</code></td>
<td>
<p>Same type as <code>xc</code>, representing a single point in data
space to highlight.</p>
</td></tr>
<tr><td><code id="plotxc_+3A_name">name</code></td>
<td>
<p>The variable name for <code>xc</code></p>
</td></tr>
<tr><td><code id="plotxc_+3A_trim">trim</code></td>
<td>
<p>Logical; if <code>TRUE</code>, long tails of continuous data are
chopped off at the 5th and 95th percentiles.</p>
</td></tr>
<tr><td><code id="plotxc_+3A_select.colour">select.colour</code></td>
<td>
<p>Colour to highlight <code>xc.cond</code></p>
</td></tr>
<tr><td><code id="plotxc_+3A_select.lwd">select.lwd</code></td>
<td>
<p>Line weight to highlight <code>xc.cond</code></p>
</td></tr>
<tr><td><code id="plotxc_+3A_cex.axis">cex.axis</code></td>
<td>
<p>Axis text scaling</p>
</td></tr>
<tr><td><code id="plotxc_+3A_cex.lab">cex.lab</code></td>
<td>
<p>Label text scaling</p>
</td></tr>
<tr><td><code id="plotxc_+3A_tck">tck</code></td>
<td>
<p>Plot axis tick size</p>
</td></tr>
<tr><td><code id="plotxc_+3A_select.cex">select.cex</code></td>
<td>
<p>Plot symbol size</p>
</td></tr>
<tr><td><code id="plotxc_+3A_hist2d">hist2d</code></td>
<td>
<p>If <code>TRUE</code>, a scatterplot is visualised as a 2-D histogram.
Default behaviour is to use a 2-D histogram if there are over 2,000
observations.</p>
</td></tr>
<tr><td><code id="plotxc_+3A_fullbin">fullbin</code></td>
<td>
<p>A cap on the counts in a bin for the 2-D histogram, helpful
with skewed data. Larger values give more detail about data density.
Defaults to 25.</p>
</td></tr>
<tr><td><code id="plotxc_+3A_...">...</code></td>
<td>
<p>Passed to <code>condvis:::spineplot2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces a plot, and returns a list containing the relevant
information to update the plot at a later stage.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ceplot">ceplot</a></code>,  <code><a href="#topic+plotxs">plotxs</a></code>.
</p>
<p><code><a href="#topic+plotxs">plotxs</a></code>, <code><a href="#topic+ceplot">ceplot</a></code>, <code><a href="#topic+condtour">condtour</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Histogram, highlighting the first case.

data(mtcars)
obj &lt;- plotxc(mtcars[, "mpg"], mtcars[1, "mpg"])
obj$usr

## Barplot, highlighting 'cyl' = 6.

plotxc(as.factor(mtcars[, "cyl"]), 6, select.colour = "blue")

## Scatterplot, highlighting case 25.

plotxc(mtcars[, c("qsec", "wt")], mtcars[25, c("qsec", "wt")],
  select.colour = "blue", select.lwd = 1, lty = 3)

## Boxplot, where 'xc' contains one factor, and one numeric.

mtcars$carb &lt;- as.factor(mtcars$carb)
plotxc(mtcars[, c("carb", "wt")], mtcars[25, c("carb", "wt")],
  select.colour = "red", select.lwd = 3)

## Spineplot, where 'xc' contains two factors.

mtcars$gear &lt;- as.factor(mtcars$gear)
mtcars$cyl &lt;- as.factor(mtcars$cyl)
plotxc(mtcars[, c("cyl", "gear")], mtcars[25, c("cyl", "gear")],
  select.colour = "red")

## Effect of 'trim'.

x &lt;- c(-200, runif(400), 200)
plotxc(x, 0.5, trim = FALSE, select.colour = "red")
plotxc(x, 0.5, trim = TRUE, select.colour = "red")

</code></pre>

<hr>
<h2 id='plotxc.pcp'>Condition selector plot</h2><span id='topic+plotxc.full'></span><span id='topic+plotxc.pcp'></span>

<h3>Description</h3>

<p>Multivariate data visualisations used to select sections for
<code><a href="#topic+ceplot">ceplot</a></code>. Basically visualises a dataset and highlights a
single point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotxc.pcp(Xc, Xc.cond, select.colour = NULL, select.lwd = 3,
  cex.axis = NULL, cex.lab = NULL, tck = NULL, select.cex = 1, ...)

plotxc.full(Xc, Xc.cond, select.colour = NULL, select.lwd = 3,
  cex.axis = NULL, cex.lab = NULL, tck = NULL, select.cex = 0.6, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotxc.pcp_+3A_xc">Xc</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_xc.cond">Xc.cond</code></td>
<td>
<p>A dataframe with one row and same names as <code>Xc</code>.</p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_select.colour">select.colour</code></td>
<td>
<p>Colour to highlight <code>Xc.cond</code></p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_select.lwd">select.lwd</code></td>
<td>
<p>Line weight to highlight <code>Xc.cond</code></p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_cex.axis">cex.axis</code></td>
<td>
<p>Axis text scaling</p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_cex.lab">cex.lab</code></td>
<td>
<p>Label text scaling</p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_tck">tck</code></td>
<td>
<p>Plot axis tick size</p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_select.cex">select.cex</code></td>
<td>
<p>Plot symbol size</p>
</td></tr>
<tr><td><code id="plotxc.pcp_+3A_...">...</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces a plot, and returns a list containing the relevant
information to update the plot at a later stage.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ceplot">ceplot</a></code>,  <code><a href="#topic+plotxs">plotxs</a></code>, <code><a href="#topic+plotxc">plotxc</a></code>
</p>

<hr>
<h2 id='plotxs'>Visualise a section in data space</h2><span id='topic+plotxs'></span>

<h3>Description</h3>

<p>Visualise a section in data space, showing fitted models where
they intersect the section, and nearby observations. The <code>weights</code> for
observations can be calculated with <code><a href="#topic+similarityweight">similarityweight</a></code>. This
function is mainly for use in <code><a href="#topic+ceplot">ceplot</a></code> and
<code><a href="#topic+condtour">condtour</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotxs(xs, y, xc.cond, model, model.colour = NULL, model.lwd = NULL,
  model.lty = NULL, model.name = NULL, yhat = NULL, mar = NULL,
  col = "black", weights = NULL, view3d = FALSE, theta3d = 45,
  phi3d = 20, xs.grid = NULL, prednew = NULL, conf = FALSE,
  probs = FALSE, pch = 1, residuals = FALSE, main = NULL, xlim = NULL,
  ylim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotxs_+3A_xs">xs</code></td>
<td>
<p>A dataframe with one or two columns.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_y">y</code></td>
<td>
<p>A dataframe with one column.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_xc.cond">xc.cond</code></td>
<td>
<p>A dataframe with a single row, with all columns required for
passing to <code><a href="stats.html#topic+predict">predict</a></code> methods of models in <code>model</code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_model">model</code></td>
<td>
<p>A fitted model object, or a list of such objects.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_model.colour">model.colour</code></td>
<td>
<p>Colours for fitted models. If <code>model</code> is a list,
this should be of same length as <code>model</code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_model.lwd">model.lwd</code></td>
<td>
<p>Line weight for fitted models. If <code>model</code> is a list,
this should be of same length as <code>model</code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_model.lty">model.lty</code></td>
<td>
<p>Line style for fitted models. If <code>model</code> is a list,
this should be of same length as <code>model</code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_model.name">model.name</code></td>
<td>
<p>Character labels for models, for legend.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_yhat">yhat</code></td>
<td>
<p>Fitted values for the observations in <code>y</code>. Calculated if
needed and not provided. Only used if showing residuals, or <code>xs</code> has
two columns.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_mar">mar</code></td>
<td>
<p>Margins for plot.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_col">col</code></td>
<td>
<p>Colours for observed data. Should be of length <code>nrow(xs)</code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_weights">weights</code></td>
<td>
<p>Similarity weights for observed data. Should be of length
<code>nrow(xs)</code>. Usually calculated with <code><a href="#topic+similarityweight">similarityweight</a></code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_view3d">view3d</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots a three-dimensional
regression surface if possible.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_theta3d">theta3d</code>, <code id="plotxs_+3A_phi3d">phi3d</code></td>
<td>
<p>Angles defining the viewing direction. <code>theta3d</code>
gives the azimuthal direction and <code>phi3d</code> the colatitude. See
<code><a href="graphics.html#topic+persp">persp</a></code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_xs.grid">xs.grid</code></td>
<td>
<p>The grid of values defining the part of the section to
visualise. Calculated if not provided.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_prednew">prednew</code></td>
<td>
<p>The <code>y</code> values where the models in <code>model</code> intersect
the section. Useful when providing <code>theta3d</code>, <code>phi3d</code>, or
<code>weights</code>, where the predict methods have been called elsewhere.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_conf">conf</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots confidence bounds (or equivalent)
for models which provide this.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_probs">probs</code></td>
<td>
<p>Logical; if <code>TRUE</code>, shows predicted class probabilities
instead of just predicted classes. Only available if <code>xs</code> contains two
numeric predictors and the model's predict method provides this.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_pch">pch</code></td>
<td>
<p>Plot symbols for observed data</p>
</td></tr>
<tr><td><code id="plotxs_+3A_residuals">residuals</code></td>
<td>
<p>Logical; if <code>TRUE</code>, plots a residual versus predictor
plot instead of the usual scale of raw response.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_main">main</code></td>
<td>
<p>Character title for plot, default is
<code>"Conditional expectation"</code>.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_xlim">xlim</code></td>
<td>
<p>Graphical parameter passed to plotting functions.</p>
</td></tr>
<tr><td><code id="plotxs_+3A_ylim">ylim</code></td>
<td>
<p>Graphical parameter passed to plotting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing relevant information for updating the plot.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plotxc">plotxc</a></code>, <code><a href="#topic+ceplot">ceplot</a></code>, <code><a href="#topic+condtour">condtour</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mtcars)
model &lt;- lm(mpg ~ ., data = mtcars)
plotxs(xs = mtcars[, "wt", drop = FALSE], y = mtcars[, "mpg", drop = FALSE],
  xc.cond = mtcars[1, ], model = list(model))

</code></pre>

<hr>
<h2 id='powerplant'>
Tuefekci's powerplant data
</h2><span id='topic+powerplant'></span>

<h3>Description</h3>

<p>The dataset contains 9568 data points collected from a Combined Cycle Power
Plant over 6 years (2006-2011), when the power plant was set to work with full
load. Features consist of hourly average ambient variables Temperature (T),
Ambient Pressure (AP), Relative Humidity (RH) and Exhaust Vacuum (V) to
predict the net hourly electrical energy output (EP) of the plant.
</p>
<p>A combined cycle power plant (CCPP) is composed of gas turbines (GT), steam
turbines (ST) and heat recovery steam generators. In a CCPP, the electricity
is generated by gas and steam turbines, which are combined in one cycle, and
is transferred from one turbine to another. While the Vacuum is collected from 
and has effect on the Steam Turbine, the other three of the ambient variables
affect the GT performance.
</p>


<h3>Format</h3>

<p>9568 observations on 5 continuous variables.
</p>


<h3>Source</h3>

<p>UCI repository.
<a href="https://archive.ics.uci.edu/ml/datasets/Combined+Cycle+Power+Plant">https://archive.ics.uci.edu/ml/datasets/Combined+Cycle+Power+Plant</a>
</p>


<h3>References</h3>

<p>Tuefekci, P. (2014), Prediction of full load electrical power output of a base
load operated combined cycle power plant using machine learning methods,
<em>International Journal of Electrical Power &amp; Energy Systems</em>, <b>60</b>,
pp. 126-140, ISSN 0142-0615.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(powerplant)
head(powerplant)
</code></pre>

<hr>
<h2 id='savingby2d'>Assess advantage of 2-D view over 1-D view for identifying
extrapolation</h2><span id='topic+savingby2d'></span>

<h3>Description</h3>

<p>A simple algorithm to evaluate the advantage of by taking a
bivariate marginal view of two variables, when trying to avoid
extrapolations, rather than two univariate marginal views.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>savingby2d(x, y = NULL, method = "default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="savingby2d_+3A_x">x</code></td>
<td>
<p>A numeric or factor vector. Can also be a dataframe containing
<code>x</code> and <code>y</code>, if <code>y</code> is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="savingby2d_+3A_y">y</code></td>
<td>
<p>A numeric or factor vector.</p>
</td></tr>
<tr><td><code id="savingby2d_+3A_method">method</code></td>
<td>
<p>Character; criterion used to quantify bivariate relationships.
Can be <code>"default"</code>, a scagnostic measure, or <code>"DECR"</code> to use a
density estimate confidence region.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If given two continuous variables, the variables are both scaled to
mean 0 and variance 1. Then the returned value is the ratio of the area of
the convex hull of the data to the area obtained from the product of the
ranges of the two areas, i.e. the area of the bounding rectangle.
</p>
<p>If given two categorical variables, all combinations are tabulated. The
returned value is the number of non-zero table entries divided by the total
number of table entries.
</p>
<p>If given one categorical and one continuous variable, the returned value is
the weighted mean of the range of the continuous variable within each
category divided by the overall range of the continuous variable, where the
weights are given by the number of observations in each level of the
categorical variable.
</p>
<p>Requires package <code>scagnostics</code> if a scagnostics measure is specified
in <code>method</code>. Requires package <code>hdrcde</code> if <code>"DECR"</code> (density
estimate confidence region) is specified in <code>method</code>. These only apply
to cases where <code>x</code> and <code>y</code> are both numeric.
</p>


<h3>Value</h3>

<p>A number between 0 and 1. Values near 1 imply no benefit to using a
2-D view, whereas values near 0 imply that a 2-D view reveals structure
hidden in the 1-D views.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+similarityweight">similarityweight</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- runif(1000)
y &lt;- runif(1000)
plot(x, y)
savingby2d(x, y)
## value near 1, no real benefit from bivariate view

x1 &lt;- runif(1000)
y1 &lt;- x1 + rnorm(sd = 0.3, n = 1000)
plot(x1, y1)
savingby2d(x1, y1)
## smaller value indicates that the bivariate view reveals some structure

</code></pre>

<hr>
<h2 id='similarityweight'>Calculate the similarity weight for a set of observations</h2><span id='topic+similarityweight'></span>

<h3>Description</h3>

<p>Calculate the similarity weight for a set of observations, based
on their distance from some arbitary points in data space. Observations which
are very similar to the point under consideration are given weight 1, while
observations which are dissimilar to the point are given weight zero.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>similarityweight(x, data, threshold = NULL, distance = NULL,
  lambda = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="similarityweight_+3A_x">x</code></td>
<td>
<p>A dataframe describing arbitrary points in the space of the data
(i.e., with same <code>colnames</code> as <code>data</code>).</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_data">data</code></td>
<td>
<p>A dataframe representing observed data.</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_threshold">threshold</code></td>
<td>
<p>Threshold distance outside which observations will
be assigned similarity weight zero. This is numeric and should be &gt; 0.
Defaults to 1.</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_distance">distance</code></td>
<td>
<p>The type of distance measure to be used, currently just two
types of Minkowski distance: <code>"euclidean"</code> (default), and
<code>"maxnorm"</code>.</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_lambda">lambda</code></td>
<td>
<p>A constant to multiply by the number of categorical
mismatches, before adding to the Minkowski distance, to give a general
dissimilarity measure. If left <code>NULL</code>, behaves as though <code>lambda</code>
is set larger than <code>threshold</code>, meaning that one factor mismatch
guarantees zero weight.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Similarity weight is assigned to observations based on their
distance from a given point. The distance is calculated as Minkowski
distance between the numeric elements for the observations whose
categorical elements match, with the option to use a more general
dissimilarity measure comprising Minkowski distance and a mismatch count.
</p>


<h3>Value</h3>

<p>A numeric vector or matrix, with values from 0 to 1. The similarity
weights for the observations in <code>data</code> arranged in rows for each row
in <code>x</code>.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dist1">dist1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Say we want to find observations similar to the first observation.
## The first observation is identical to itself, so it gets weight 1. The
## second observation is similar, so it gets some weight. The rest are more
## different, and so get zero weight.

data(mtcars)
similarityweight(x = mtcars[1, ], data = mtcars)

## By increasing the threshold, we can find observations which are more
## approximately similar to the first row. Note that the second observation
## now has weight 1, so we lose some ability to discern how similar
## observations are by increasing the threshold.

similarityweight(x = mtcars[1, ], data = mtcars, threshold = 5)

## Can provide a number of points to 'x'. Here we see that the Mazda RX4 Wag
## is more similar to the Merc 280 than the Mazda RX4 is.

similarityweight(mtcars[1:2, ], mtcars, threshold = 3)

</code></pre>

<hr>
<h2 id='wine'>
Italian wine data
</h2><span id='topic+wine'></span>

<h3>Description</h3>

<p><code>Class</code> 3 different cultivars<br />
<code>Alcohol</code> Alcohol<br />
<code>Malic</code> Malic acid<br />
<code>Ash</code> Ash<br />
<code>Alcalinity</code> Alcalinity of ash<br />
<code>Magnesium</code> Magnesium<br />
<code>Phenols</code> Total phenols<br />
<code>Flavanoids</code> Flavanoids<br />
<code>Nonflavanoid</code> Nonflavanoid phenols<br />
<code>Proanthocyanins</code> Proanthocyanins<br />
<code>Intensity</code> Color intensity<br />
<code>Hue</code> Hue<br />
<code>OD280</code> OD280/OD315 of diluted wines<br />
<code>Proline</code> Proline<br />
</p>


<h3>Format</h3>

<p>178 observations on 14 variables.
</p>


<h3>Source</h3>

<p>UCI repository.
<a href="https://archive.ics.uci.edu/ml/datasets/Wine">https://archive.ics.uci.edu/ml/datasets/Wine</a>
</p>


<h3>References</h3>

<p>S. Aeberhard, D. Coomans and O. de Vel (1992), Comparison of Classifiers in
High Dimensional Settings, <em>Technical Report</em> <b>92</b>-02, Dept. of
Computer Science and Dept. of Mathematics and Statistics, James Cook
University of North Queensland.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(wine)
pairs(wine[, -1], col = factor2color(wine$Class), cex = 0.2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package pda</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pda}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ADAP_data'><p>ADAP simulated data</p></a></li>
<li><a href='#ADAP.derive'><p>ADAP derivatives</p></a></li>
<li><a href='#ADAP.estimate'><p>ADAP surrogate estimation</p></a></li>
<li><a href='#ADAP.initialize'><p>ADAP initialize</p></a></li>
<li><a href='#covid'><p>COVID-19 LOS and mortality data</p></a></li>
<li><a href='#cs'><p>CrabSatellites data</p></a></li>
<li><a href='#dGEM.derive'><p>dGEM hospital-specific effect derivation</p></a></li>
<li><a href='#dGEM.estimate'><p>dGEM standardized event rate estimation</p></a></li>
<li><a href='#dGEM.initialize'><p>dGEM initialize</p></a></li>
<li><a href='#dGEM.synthesize'><p>PDA dGEM synthesize</p></a></li>
<li><a href='#DLM.estimate'><p>PDA DLM estimation</p></a></li>
<li><a href='#DLM.initialize'><p>DLM initialize</p></a></li>
<li><a href='#DPQL.derive'><p>DPQL derive</p></a></li>
<li><a href='#DPQL.estimate'><p>PDA DPQL estimation</p></a></li>
<li><a href='#DPQL.initialize'><p>DPQL initialize</p></a></li>
<li><a href='#getCloudConfig'><p>gather cloud settings into a list</p></a></li>
<li><a href='#LOS'><p>Length of Stay data</p></a></li>
<li><a href='#lung2'><p>Lung cancer survival time data</p></a></li>
<li><a href='#myglmmPQL'><p>A flexible version of MASS::glmmPQL</p></a></li>
<li><a href='#ODAC.derive'><p>Generate pda UWZ derivatives</p></a></li>
<li><a href='#ODAC.deriveUWZ'><p>Generate pda UWZ summary statistics before calculating derivatives</p></a></li>
<li><a href='#ODAC.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODAC.initialize'><p>ODAC initialize</p></a></li>
<li><a href='#ODAC.synthesize'><p>PDA synthesize surrogate estimates from all sites, optional</p></a></li>
<li><a href='#ODACAT_nominal'><p>ODACAT simulated data</p></a></li>
<li><a href='#ODACAT_ordinal'><p>ODACAT simulated data</p></a></li>
<li><a href='#ODACAT.derive'><p>ODACAT derivatives</p></a></li>
<li><a href='#ODACAT.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODACAT.initialize'><p>ODACAT initialize</p></a></li>
<li><a href='#ODACAT.synthesize'><p>PDA synthesize surrogate estimates from all sites, optional</p></a></li>
<li><a href='#ODACATH.derive'><p>ODACATH derivatives</p></a></li>
<li><a href='#ODACATH.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODACATH.initialize'><p>ODACATH initialize</p></a></li>
<li><a href='#ODACATH.synthesize'><p>PDA synthesize surrogate estimates from all sites, optional</p></a></li>
<li><a href='#ODAH.derive'><p>ODAH derivatives</p></a></li>
<li><a href='#ODAH.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODAH.initialize'><p>ODAH initialize</p></a></li>
<li><a href='#ODAL.derive'><p>ODAL derivatives</p></a></li>
<li><a href='#ODAL.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODAL.initialize'><p>ODAL initialize</p></a></li>
<li><a href='#ODAL.synthesize'><p>PDA synthesize surrogate estimates from all sites, optional</p></a></li>
<li><a href='#ODAP.derive'><p>ODAP derivatives</p></a></li>
<li><a href='#ODAP.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODAP.initialize'><p>ODAP initialize</p></a></li>
<li><a href='#ODAPB.derive'><p>ODAPB derivatives</p></a></li>
<li><a href='#ODAPB.estimate'><p>PDA surrogate estimation</p></a></li>
<li><a href='#ODAPB.initialize'><p>ODAPB initialize</p></a></li>
<li><a href='#pda'><p>PDA: Privacy-preserving Distributed Algorithm</p></a></li>
<li><a href='#pdaGet'><p>Function to download json and return as object</p></a></li>
<li><a href='#pdaList'><p>Function to list available objects</p></a></li>
<li><a href='#pdaPut'><p>Function to upload object to cloud as json</p></a></li>
<li><a href='#pdaSync'><p>pda control synchronize</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Privacy-Preserving Distributed Algorithms</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-04</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of privacy-preserving distributed algorithms for conducting multi-site data analyses. The regression analyses can be linear regression for continuous outcome, logistic regression for binary outcome, Cox proportional hazard regression for time-to event outcome, Poisson regression for count outcome, or multi-categorical regression for nominal or ordinal outcome. The PDA algorithm runs on a lead site and only requires summary statistics from collaborating sites, with one or few iterations. The package can be used together with the online system (<a href="https://pda-ota.pdamethods.org/">https://pda-ota.pdamethods.org/</a>) for safe and convenient collaboration. For more information, please visit our software websites: <a href="https://github.com/Penncil/pda">https://github.com/Penncil/pda</a>, and <a href="https://pdamethods.org/">https://pdamethods.org/</a>.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jiajie Chen &lt;jiajie.chen@pennmedicine.upenn.edu&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>imager, lme4</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.19), stats, httr, rvest, jsonlite, data.table,
survival, minqa, glmnet, MASS, numDeriv, metafor, ordinal, plyr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-04 17:11:59 UTC; thech</td>
</tr>
<tr>
<td>Author:</td>
<td>Chongliang Luo [aut],
  Rui Duan [aut],
  Mackenzie Edmondson [aut],
  Jiayi Tong [aut],
  Xiaokang Liu [aut],
  Kenneth Locke [aut],
  Jiajie Chen [cre],
  Yong Chen [aut],
  Penn Computing Inference Learning (PennCIL) lab [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-04 17:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ADAP_data'>ADAP simulated data</h2><span id='topic+ADAP_data'></span>

<h3>Description</h3>

<p>A simulated data set for ADAP demonstration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ADAP_data
</code></pre>


<h3>Format</h3>

<p>A list containing the following elements:
</p>

<dl>
<dt>sites</dt><dd><p>site id, 300 'site1', 300 'site2', 300 'site3'</p>
</dd>
<dt>status</dt><dd><p>binary outcome of length 900</p>
</dd>
<dt>x</dt><dd><p>900 by 49 matrix generated by standard normal distribution, representing the covariates</p>
</dd> 
</dl>


<hr>
<h2 id='ADAP.derive'>ADAP derivatives</h2><span id='topic+ADAP.derive'></span>

<h3>Description</h3>

<p>ADAP derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ADAP.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ADAP.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ADAP.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ADAP.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list(site=config$site_id, site_size = nrow(ipdata), logL_D1=logL_D1, logL_D2=logL_D2)
</p>

<hr>
<h2 id='ADAP.estimate'>ADAP surrogate estimation</h2><span id='topic+ADAP.estimate'></span>

<h3>Description</h3>

<p>ADAP surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ADAP.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ADAP.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ADAP.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ADAP.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>step-3: construct and solve surrogate objective function at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ADAP.initialize'>ADAP initialize</h2><span id='topic+ADAP.initialize'></span>

<h3>Description</h3>

<p>ADAP initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ADAP.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ADAP.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ADAP.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ADAP.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>

<hr>
<h2 id='covid'>COVID-19 LOS and mortality data</h2><span id='topic+covid'></span>

<h3>Description</h3>

<p>A simulated data set of hospitalization Length of Stay (LOS) and mortality from 6 sites
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covid
</code></pre>


<h3>Format</h3>

<p>A data frame with 2100 rows and 6 variables:
</p>

<dl>
<dt>site</dt><dd><p>site id, 600 'site1', 500 'site2', 400 'site3', 300 'site4', 200 'site5', 100 'site6'</p>
</dd>
<dt>age</dt><dd><p>continuous age in year, min 3 max 97</p>
</dd>
<dt>sex</dt><dd><p>2 categories, '1' for male and '0' for female</p>
</dd>
<dt>lab</dt><dd><p>lab test results, continuous value ranging from 2.3 to 97.4</p>
</dd>
<dt>los</dt><dd><p>LOS in days, ranging from 1 to 29</p>
</dd>
<dt>death</dt><dd><p>mortality status, '1' for death and '0' for alive.</p>
</dd>
</dl>


<hr>
<h2 id='cs'>CrabSatellites data</h2><span id='topic+cs'></span>

<h3>Description</h3>

<p>A data set modified from the CrabSatellites data in countreg package (see demo(ODAH)).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cs
</code></pre>


<h3>Format</h3>

<p>A data frame containing 173 observations on 4 variables.
</p>

<dl>
<dt>site</dt><dd><p>Simulated site id, 85 'site1' and 88 'site2'.</p>
</dd>
<dt>satellites</dt><dd><p>Number of satellites. Treated as (zero-inflated) count outcome in ODAH</p>
</dd>
<dt>width</dt><dd><p>Carapace width (cm).</p>
</dd>
<dt>weight</dt><dd><p>Weight (kg).</p>
</dd> 
</dl>



<h3>Source</h3>

<p><a href="https://rdrr.io/rforge/countreg/man/CrabSatellites.html">https://rdrr.io/rforge/countreg/man/CrabSatellites.html</a>
</p>

<hr>
<h2 id='dGEM.derive'>dGEM hospital-specific effect derivation</h2><span id='topic+dGEM.derive'></span>

<h3>Description</h3>

<p>dGEM hospital-specific effect derivation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dGEM.derive(ipdata,control,config,hosdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dGEM.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="dGEM.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="dGEM.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
<tr><td><code id="dGEM.derive_+3A_hosdata">hosdata</code></td>
<td>
<p>hospital-level data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>hospital_effect
</p>

<hr>
<h2 id='dGEM.estimate'>dGEM standardized event rate estimation</h2><span id='topic+dGEM.estimate'></span>

<h3>Description</h3>

<p>dGEM standardized event rate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dGEM.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dGEM.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="dGEM.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="dGEM.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>step-3:
</p>


<h3>Value</h3>

<p>event rate
</p>

<hr>
<h2 id='dGEM.initialize'>dGEM initialize</h2><span id='topic+dGEM.initialize'></span>

<h3>Description</h3>

<p>dGEM initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dGEM.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dGEM.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="dGEM.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="dGEM.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>


<h3>References</h3>

<p>NA
</p>

<hr>
<h2 id='dGEM.synthesize'>PDA dGEM synthesize</h2><span id='topic+dGEM.synthesize'></span>

<h3>Description</h3>

<p>PDA dGEM synthesize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dGEM.synthesize(control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dGEM.synthesize_+3A_control">control</code></td>
<td>
<p>pda control</p>
</td></tr>
<tr><td><code id="dGEM.synthesize_+3A_config">config</code></td>
<td>
<p>pda cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Synthesis to get the standardized mortality rate
</p>


<h3>Value</h3>

<p>list(final_event_rate=final_event_rate)
</p>

<hr>
<h2 id='DLM.estimate'>PDA DLM estimation</h2><span id='topic+DLM.estimate'></span>

<h3>Description</h3>

<p>PDA DLM estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DLM.estimate(ipdata=NULL,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DLM.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>no need</p>
</td></tr>
<tr><td><code id="DLM.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="DLM.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>DLM estimation: 
(1) Linear model, 
(2) Linear model with fixed effects, 
(3) Linear model with random effects (Linear mixed model)
</p>


<h3>Value</h3>

<p>list(bhat, sebhat, sigmahat, uhat, seuhat)
</p>

<hr>
<h2 id='DLM.initialize'>DLM initialize</h2><span id='topic+DLM.initialize'></span>

<h3>Description</h3>

<p>DLM initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DLM.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DLM.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="DLM.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="DLM.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>


<h3>References</h3>

<p>Yixin Chen, et al. (2006) Regression cubes with lossless compression and aggregation. 
IEEE Transactions on Knowledge and Data Engineering, 18(12), pp.1585-1599. <br />
(DLMM) Chongliang Luo, et al. (2020) Lossless Distributed Linear Mixed Model with Application to Integration of Heterogeneous Healthcare Data.  
medRxiv, <a href="https://doi.org/10.1101/2020.11.16.20230730">doi:10.1101/2020.11.16.20230730</a>. <br />
</p>

<hr>
<h2 id='DPQL.derive'>DPQL derive</h2><span id='topic+DPQL.derive'></span>

<h3>Description</h3>

<p>DPQL derive
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPQL.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPQL.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="DPQL.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="DPQL.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This step calculated the intermediate aggregated data (XtWX, XtWY, and YtWY) for each site. 
May need to be iterated several times until prespecified rounds are met.
</p>


<h3>Value</h3>

<p>list(SiX, SiXY, SiY, ni)
</p>


<h3>References</h3>

<p>Chongliang Luo, et al. (2021) dPQL: a lossless distributed algorithm for generalized linear mixed model 
with application to privacy-preserving hospital profiling. medRxiv, <a href="https://doi.org/10.1101/2021.05.03.21256561">doi:10.1101/2021.05.03.21256561</a>. <br />
Chongliang Luo, et al. (2020) Lossless Distributed Linear Mixed Model with Application to Integration of Heterogeneous Healthcare Data.  
medRxiv, <a href="https://doi.org/10.1101/2020.11.16.20230730">doi:10.1101/2020.11.16.20230730</a>. <br />
</p>

<hr>
<h2 id='DPQL.estimate'>PDA DPQL estimation</h2><span id='topic+DPQL.estimate'></span>

<h3>Description</h3>

<p>PDA DPQL estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPQL.estimate(ipdata=NULL,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPQL.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>no need</p>
</td></tr>
<tr><td><code id="DPQL.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="DPQL.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>DPQL estimation: (iterative) weighted DLMM using AD from all sites
</p>


<h3>Value</h3>

<p>list(risk_factor, risk_factor_heterogeneity, bhat, sebhat, uhat, seuhat, Vhat)
</p>


<h3>References</h3>

<p>Chongliang Luo, et al. (2021) dPQL: a lossless distributed algorithm for generalized linear mixed model 
with application to privacy-preserving hospital profiling. medRxiv, <a href="https://doi.org/10.1101/2021.05.03.21256561">doi:10.1101/2021.05.03.21256561</a>. <br />
Chongliang Luo, et al. (2020) Lossless Distributed Linear Mixed Model with Application to Integration of Heterogeneous Healthcare Data.  
medRxiv, <a href="https://doi.org/10.1101/2020.11.16.20230730">doi:10.1101/2020.11.16.20230730</a>. <br />
</p>

<hr>
<h2 id='DPQL.initialize'>DPQL initialize</h2><span id='topic+DPQL.initialize'></span>

<h3>Description</h3>

<p>DPQL initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPQL.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPQL.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="DPQL.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="DPQL.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To initialize, fit glm at each individual site and send the estimated effect size and variances to the lead site. 
This step may be optional if we just use zero's as initial effect sizes to start the PQL algorithm.
</p>


<h3>Value</h3>

<p>init
</p>

<hr>
<h2 id='getCloudConfig'>gather cloud settings into a list</h2><span id='topic+getCloudConfig'></span>

<h3>Description</h3>

<p>gather cloud settings into a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCloudConfig(site_id,dir,uri,secret)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCloudConfig_+3A_site_id">site_id</code></td>
<td>
<p>site identifier</p>
</td></tr>
<tr><td><code id="getCloudConfig_+3A_dir">dir</code></td>
<td>
<p>shared directory path if flat files</p>
</td></tr>
<tr><td><code id="getCloudConfig_+3A_uri">uri</code></td>
<td>
<p>web uri if web service</p>
</td></tr>
<tr><td><code id="getCloudConfig_+3A_secret">secret</code></td>
<td>
<p>web token if web service</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of cloud parameters: site_id, secret and uri
</p>


<h3>See Also</h3>

<p><code>pda</code>
</p>

<hr>
<h2 id='LOS'>Length of Stay data</h2><span id='topic+LOS'></span>

<h3>Description</h3>

<p>A simulated data set of hospitalization Length of Stay (LOS) from 3 sites
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LOS
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 5 variables:
</p>

<dl>
<dt>site</dt><dd><p>site id, 500 'site1', 400 'site2' and 100 'site3'</p>
</dd>
<dt>age</dt><dd><p>3 categories, 'young', 'middle', and 'old'</p>
</dd>
<dt>sex</dt><dd><p>2 categories, 'M' for male and 'F' for female</p>
</dd>
<dt>lab</dt><dd><p>lab test results, continuous value ranging from 0 to 100</p>
</dd>
<dt>los</dt><dd><p>LOS in days, ranging from 1 tp 28. Treated as continuous outcome in DLM</p>
</dd>
</dl>


<hr>
<h2 id='lung2'>Lung cancer survival time data</h2><span id='topic+lung2'></span>

<h3>Description</h3>

<p>A data set modified from the lung data in survival package (see demo(ODAC)).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lung2
</code></pre>


<h3>Format</h3>

<p>A data frame with 228 rows and 5 variables:
</p>

<dl>
<dt>site</dt><dd><p>simulated site id, 86 'site1', 83 'site2' and 59 'site3'</p>
</dd>
<dt>time</dt><dd><p>survival time in days</p>
</dd>
<dt>status</dt><dd><p>censoring status 0=censored, 1=dead</p>
</dd>
<dt>age</dt><dd><p>age in years</p>
</dd>
<dt>sex</dt><dd><p>1 for female and 0 for male</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://CRAN.R-project.org/package=survival">https://CRAN.R-project.org/package=survival</a>
</p>

<hr>
<h2 id='myglmmPQL'>A flexible version of MASS::glmmPQL</h2><span id='topic+myglmmPQL'></span>

<h3>Description</h3>

<p>A flexible version of MASS::glmmPQL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>myglmmPQL(formula.glm, formula, offset=NULL, family, data, fixef.init = NULL, 
                 weights=NULL, REML=T, niter=10, verbose=T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="myglmmPQL_+3A_formula.glm">formula.glm</code></td>
<td>
<p>formula used to fit <code>glm</code> for initial fixed effects</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_formula">formula</code></td>
<td>
<p>formula used to fit iterative <code>lmer</code> in PQL algorithm</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_offset">offset</code></td>
<td>
<p><code>glm</code> offset term</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_family">family</code></td>
<td>
<p><code>glm</code> family</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_data">data</code></td>
<td>
<p><code>glm</code> data</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_fixef.init">fixef.init</code></td>
<td>
<p>initial fixed effects estimates, set to zeros if NULL</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_weights">weights</code></td>
<td>
<p><code>glm</code> weights</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_reml">REML</code></td>
<td>
<p><code>lmer</code> logical scalar - Should the estimates be chosen to optimize the REML criterion (as opposed to the log-likelihood)?</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_niter">niter</code></td>
<td>
<p><code>glmmPQL</code> maximum number of iterations.</p>
</td></tr>
<tr><td><code id="myglmmPQL_+3A_verbose">verbose</code></td>
<td>
<p><code>glmmPQL</code> logical: print out record of iterations?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use lme4::lmer instead of nlme::varFixed in PQL iteration to allow REML
</p>


<h3>Value</h3>

<p>An object wiht the same format as <code>lmer</code>.
</p>

<hr>
<h2 id='ODAC.derive'>Generate pda UWZ derivatives</h2><span id='topic+ODAC.derive'></span>

<h3>Description</h3>

<p>Generate pda UWZ derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAC.derive(ipdata, control, config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAC.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAC.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAC.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate and broadcast 1st and 2nd order derivative at initial bbar
for ODAC, this requires 2 substeps: 1st calculate summary stats (U, W, Z), 
2nd calculate derivatives (logL_D1, logL_D2)
</p>


<h3>Value</h3>

<p>list(T_all=T_all, b_meta=b_meta, site=control$mysite, site_size = nrow(ipdata), U=U, W=W, Z=Z, logL_D1=logL_D1, logL_D2=logL_D2)
</p>

<hr>
<h2 id='ODAC.deriveUWZ'>Generate pda UWZ summary statistics before calculating derivatives</h2><span id='topic+ODAC.deriveUWZ'></span>

<h3>Description</h3>

<p>Generate pda UWZ summary statistics before calculating derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAC.deriveUWZ(ipdata, control, config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAC.deriveUWZ_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAC.deriveUWZ_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAC.deriveUWZ_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list(T_all=T_all, b_meta=b_meta, site=control$mysite, site_size = nrow(ipdata), U=U, W=W, Z=Z, logL_D1=logL_D1, logL_D2=logL_D2)
</p>

<hr>
<h2 id='ODAC.estimate'>PDA surrogate estimation</h2><span id='topic+ODAC.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAC.estimate(ipdata, control, config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAC.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODAC.estimate_+3A_control">control</code></td>
<td>
<p>pda control</p>
</td></tr>
<tr><td><code id="ODAC.estimate_+3A_config">config</code></td>
<td>
<p>cloud config</p>
</td></tr>
</table>


<h3>Details</h3>

<p>step-4: construct and solve surrogate logL at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ODAC.initialize'>ODAC initialize</h2><span id='topic+ODAC.initialize'></span>

<h3>Description</h3>

<p>ODAC initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAC.initialize(ipdata, control, config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAC.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAC.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAC.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list(T_i = T_i, bhat_i = fit_i$coef, Vhat_i = summary(fit_i)$coef[,2]^2, site=control$mysite, site_size= nrow(ipdata))
</p>


<h3>References</h3>

<p>Rui Duan, et al. &quot;Learning from local to global: An efficient distributed algorithm for modeling time-to-event data&quot;. 
Journal of the American Medical Informatics Association, 2020, https://doi.org/10.1093/jamia/ocaa044
Chongliang Luo, et al. &quot;ODACH: A One-shot Distributed Algorithm for Cox model with Heterogeneous Multi-center Data&quot;.
medRxiv, 2021, https://doi.org/10.1101/2021.04.18.21255694
</p>

<hr>
<h2 id='ODAC.synthesize'>PDA synthesize surrogate estimates from all sites, optional</h2><span id='topic+ODAC.synthesize'></span>

<h3>Description</h3>

<p>PDA synthesize surrogate estimates from all sites, optional
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAC.synthesize(ipdata, control, config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAC.synthesize_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODAC.synthesize_+3A_control">control</code></td>
<td>
<p>pda control</p>
</td></tr>
<tr><td><code id="ODAC.synthesize_+3A_config">config</code></td>
<td>
<p>cloud config</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Optional step-4: synthesize all the surrogate est btilde_i from each site, if step-3 from all sites is broadcasted
</p>


<h3>Value</h3>

<p>list(btilde=btilde,  Vtilde=Vtilde)
</p>

<hr>
<h2 id='ODACAT_nominal'>ODACAT simulated data</h2><span id='topic+ODACAT_nominal'></span>

<h3>Description</h3>

<p>A simulated data set for ODACAT demonstration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACAT_nominal
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 5 variables:
</p>

<dl>
<dt>id.site</dt><dd><p>site id, 102 'site1', 100 'site2', 98 'site3'</p>
</dd>
<dt>outcome</dt><dd><p>3-category outcome, possible values are 1,2,3. Category 3 will be used as reference</p>
</dd>
<dt>X1</dt><dd><p>the first covariate, continuous</p>
</dd>
<dt>X2</dt><dd><p>the second covariate, binary</p>
</dd>
<dt>X3</dt><dd><p>the third covariate, binary</p>
</dd>
</dl>


<hr>
<h2 id='ODACAT_ordinal'>ODACAT simulated data</h2><span id='topic+ODACAT_ordinal'></span>

<h3>Description</h3>

<p>A simulated data set for ODACAT demonstration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACAT_ordinal
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 5 variables:
</p>

<dl>
<dt>id.site</dt><dd><p>site id, 105 'site1', 105 'site2', 90 'site3'</p>
</dd>
<dt>outcome</dt><dd><p>3-category outcome, possible values are 1,2,3. Category 3 will be used as reference</p>
</dd>
<dt>X1</dt><dd><p>the first covariate, continuous</p>
</dd>
<dt>X2</dt><dd><p>the second covariate, binary</p>
</dd>
<dt>X3</dt><dd><p>the third covariate, binary</p>
</dd>
</dl>


<hr>
<h2 id='ODACAT.derive'>ODACAT derivatives</h2><span id='topic+ODACAT.derive'></span>

<h3>Description</h3>

<p>ODACAT derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACAT.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACAT.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODACAT.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODACAT.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list(site=config$site_id, site_size = nrow(ipdata), logL_D1=logL_D1, logL_D2=logL_D2)
</p>

<hr>
<h2 id='ODACAT.estimate'>PDA surrogate estimation</h2><span id='topic+ODACAT.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACAT.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACAT.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODACAT.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ODACAT.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>step-3: construct and solve surrogate logL at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ODACAT.initialize'>ODACAT initialize</h2><span id='topic+ODACAT.initialize'></span>

<h3>Description</h3>

<p>ODACAT initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACAT.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACAT.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODACAT.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODACAT.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>

<hr>
<h2 id='ODACAT.synthesize'>PDA synthesize surrogate estimates from all sites, optional</h2><span id='topic+ODACAT.synthesize'></span>

<h3>Description</h3>

<p>PDA synthesize surrogate estimates from all sites, optional
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACAT.synthesize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACAT.synthesize_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODACAT.synthesize_+3A_control">control</code></td>
<td>
<p>pda control</p>
</td></tr>
<tr><td><code id="ODACAT.synthesize_+3A_config">config</code></td>
<td>
<p>pda cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Optional step-4: synthesize all the surrogate est btilde from each site, if step-3 from all sites is broadcasted
</p>


<h3>Value</h3>

<p>list(btilde=btilde, Vtilde=Vtilde)
</p>

<hr>
<h2 id='ODACATH.derive'>ODACATH derivatives</h2><span id='topic+ODACATH.derive'></span>

<h3>Description</h3>

<p>ODACATH derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACATH.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACATH.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODACATH.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODACATH.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list(site=config$site_id, site_size = n, S_site=S_site, eta=eta_mat[site,])
</p>

<hr>
<h2 id='ODACATH.estimate'>PDA surrogate estimation</h2><span id='topic+ODACATH.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACATH.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACATH.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODACATH.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ODACATH.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>step-3: construct and solve surrogate efficient score at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde=betanew, btilde.se=beta_SE,eta_mat=eta_mat,eta_mat_theta=NULL,site=config$site_id, site_size=n_site)
</p>

<hr>
<h2 id='ODACATH.initialize'>ODACATH initialize</h2><span id='topic+ODACATH.initialize'></span>

<h3>Description</h3>

<p>ODACATH initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACATH.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACATH.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODACATH.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODACATH.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>

<hr>
<h2 id='ODACATH.synthesize'>PDA synthesize surrogate estimates from all sites, optional</h2><span id='topic+ODACATH.synthesize'></span>

<h3>Description</h3>

<p>PDA synthesize surrogate estimates from all sites, optional
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODACATH.synthesize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODACATH.synthesize_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODACATH.synthesize_+3A_control">control</code></td>
<td>
<p>pda control</p>
</td></tr>
<tr><td><code id="ODACATH.synthesize_+3A_config">config</code></td>
<td>
<p>pda cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Optional step-4: synthesize all the surrogate est btilde from each site, if step-3 from all sites is broadcasted
</p>


<h3>Value</h3>

<p>list(btilde=btilde, Vtilde=Vtilde)
</p>

<hr>
<h2 id='ODAH.derive'>ODAH derivatives</h2><span id='topic+ODAH.derive'></span>

<h3>Description</h3>

<p>ODAH derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAH.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAH.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAH.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAH.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>derivatives list(site = config$site_id, site_size = nrow(ipdata), 
logL_D1_zero = logL_D1_zero, logL_D1_count = logL_D1_count,
logL_D2_zero = logL_D2_zero, logL_D2_count = logL_D2_count)
</p>

<hr>
<h2 id='ODAH.estimate'>PDA surrogate estimation</h2><span id='topic+ODAH.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAH.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAH.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in  a list(ipdata, X_count, X_zero)</p>
</td></tr>
<tr><td><code id="ODAH.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ODAH.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>construct and solve surrogate logL at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ODAH.initialize'>ODAH initialize</h2><span id='topic+ODAH.initialize'></span>

<h3>Description</h3>

<p>ODAH initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAH.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAH.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAH.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAH.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>


<h3>References</h3>

<p>TBD
</p>

<hr>
<h2 id='ODAL.derive'>ODAL derivatives</h2><span id='topic+ODAL.derive'></span>

<h3>Description</h3>

<p>ODAL derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAL.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAL.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAL.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAL.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list(site=config$site_id, site_size = nrow(ipdata), logL_D1=logL_D1, logL_D2=logL_D2)
</p>

<hr>
<h2 id='ODAL.estimate'>PDA surrogate estimation</h2><span id='topic+ODAL.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAL.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAL.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODAL.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ODAL.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>step-3: construct and solve surrogate logL at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ODAL.initialize'>ODAL initialize</h2><span id='topic+ODAL.initialize'></span>

<h3>Description</h3>

<p>ODAL initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAL.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAL.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAL.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAL.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>


<h3>References</h3>

<p>Rui Duan, et al. &quot;Learning from electronic health records across multiple sites: A communication-efficient and privacy-preserving distributed algorithm&quot;. 
Journal of the American Medical Informatics Association, 2020, https://doi.org/10.1093/jamia/ocz199
</p>

<hr>
<h2 id='ODAL.synthesize'>PDA synthesize surrogate estimates from all sites, optional</h2><span id='topic+ODAL.synthesize'></span>

<h3>Description</h3>

<p>PDA synthesize surrogate estimates from all sites, optional
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAL.synthesize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAL.synthesize_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame</p>
</td></tr>
<tr><td><code id="ODAL.synthesize_+3A_control">control</code></td>
<td>
<p>pda control</p>
</td></tr>
<tr><td><code id="ODAL.synthesize_+3A_config">config</code></td>
<td>
<p>pda cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Optional step-4: synthesize all the surrogate est btilde_i from each site, if step-3 from all sites is broadcasted
</p>


<h3>Value</h3>

<p>list(btilde=btilde,  Vtilde=Vtilde)
</p>

<hr>
<h2 id='ODAP.derive'>ODAP derivatives</h2><span id='topic+ODAP.derive'></span>

<h3>Description</h3>

<p>ODAP derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAP.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAP.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAP.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAP.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>derivatives list(site = config$site_id, site_size = nrow(ipdata), logL_D1 = logL_D1, logL_D2 = logL_D2)
</p>

<hr>
<h2 id='ODAP.estimate'>PDA surrogate estimation</h2><span id='topic+ODAP.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAP.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAP.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame (generated in <code>pda</code>)</p>
</td></tr>
<tr><td><code id="ODAP.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ODAP.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>construct and solve surrogate logL at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ODAP.initialize'>ODAP initialize</h2><span id='topic+ODAP.initialize'></span>

<h3>Description</h3>

<p>ODAP initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAP.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAP.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAP.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAP.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>


<h3>References</h3>

<p>TBD
</p>

<hr>
<h2 id='ODAPB.derive'>ODAPB derivatives</h2><span id='topic+ODAPB.derive'></span>

<h3>Description</h3>

<p>ODAPB derivatives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAPB.derive(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAPB.derive_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAPB.derive_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAPB.derive_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>derivatives list(site = config$site_id, site_size = nrow(ipdata), logL_D1 = logL_D1, logL_D2 = logL_D2)
</p>

<hr>
<h2 id='ODAPB.estimate'>PDA surrogate estimation</h2><span id='topic+ODAPB.estimate'></span>

<h3>Description</h3>

<p>PDA surrogate estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAPB.estimate(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAPB.estimate_+3A_ipdata">ipdata</code></td>
<td>
<p>local data in data frame (generated in <code>pda</code>)</p>
</td></tr>
<tr><td><code id="ODAPB.estimate_+3A_control">control</code></td>
<td>
<p>PDA control</p>
</td></tr>
<tr><td><code id="ODAPB.estimate_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>construct and solve surrogate logL at the master/lead site
</p>


<h3>Value</h3>

<p>list(btilde = sol$par, Htilde = sol$hessian, site=control$mysite, site_size=nrow(ipdata))
</p>

<hr>
<h2 id='ODAPB.initialize'>ODAPB initialize</h2><span id='topic+ODAPB.initialize'></span>

<h3>Description</h3>

<p>ODAPB initialize
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ODAPB.initialize(ipdata,control,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ODAPB.initialize_+3A_ipdata">ipdata</code></td>
<td>
<p>individual participant data</p>
</td></tr>
<tr><td><code id="ODAPB.initialize_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="ODAPB.initialize_+3A_config">config</code></td>
<td>
<p>local site configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>init
</p>


<h3>References</h3>

<p>TBD
</p>

<hr>
<h2 id='pda'>PDA: Privacy-preserving Distributed Algorithm</h2><span id='topic+pda'></span>

<h3>Description</h3>

<p>Fit Privacy-preserving Distributed Algorithms for linear, logistic, 
Poisson and Cox PH regression with possible heterogeneous data across sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pda(ipdata,site_id,control,dir,uri,secret,hosdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pda_+3A_ipdata">ipdata</code></td>
<td>
<p>Local IPD data in data frame, should include at least one column for the outcome and one column for the covariates</p>
</td></tr>
<tr><td><code id="pda_+3A_site_id">site_id</code></td>
<td>
<p>Character site name</p>
</td></tr>
<tr><td><code id="pda_+3A_control">control</code></td>
<td>
<p>pda control data</p>
</td></tr>
<tr><td><code id="pda_+3A_dir">dir</code></td>
<td>
<p>directory for shared flat file cloud</p>
</td></tr>
<tr><td><code id="pda_+3A_uri">uri</code></td>
<td>
<p>Universal Resource Identifier for this run</p>
</td></tr>
<tr><td><code id="pda_+3A_secret">secret</code></td>
<td>
<p>password to authenticate as site_id on uri</p>
</td></tr>
<tr><td><code id="pda_+3A_hosdata">hosdata</code></td>
<td>
<p>hospital-level data, should include the same name as defined in the control file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>control
</p>
<p>control
</p>


<h3>References</h3>

<p>Michael I. Jordan, Jason D. Lee &amp; Yun Yang (2019) Communication-Efficient Distributed Statistical Inference, <br />
<em>Journal of the American Statistical Association</em>, 114:526, 668-681 <br /> 
<a href="https://doi.org/10.1080/01621459.2018.1429274">doi:10.1080/01621459.2018.1429274</a>.<br /> 
(DLM) Yixin Chen, et al. (2006) Regression cubes with lossless compression and aggregation. 
IEEE Transactions on Knowledge and Data Engineering, 18(12), pp.1585-1599. <br />
(DLMM) Chongliang Luo, et al. (2020) Lossless Distributed Linear Mixed Model with Application to Integration of Heterogeneous Healthcare Data.  
medRxiv, <a href="https://doi.org/10.1101/2020.11.16.20230730">doi:10.1101/2020.11.16.20230730</a>. <br />
(DPQL) Chongliang Luo, et al. (2021) dPQL: a lossless distributed algorithm for generalized linear mixed model with application to privacy-preserving hospital profiling. <br />
medRxiv, <a href="https://doi.org/10.1101/2021.05.03.21256561">doi:10.1101/2021.05.03.21256561</a>. <br />
(ODAL) Rui Duan, et al. (2020) Learning from electronic health records across multiple sites: <br /> 
A communication-efficient and privacy-preserving distributed algorithm. <br /> 
<em>Journal of the American Medical Informatics Association</em>, 27.3:376–385,
<br /> <a href="https://doi.org/10.1093/jamia/ocz199">doi:10.1093/jamia/ocz199</a>.<br /> 
(ODAC) Rui Duan, et al. (2020) Learning from local to global: An efficient distributed algorithm for modeling time-to-event data. <br />
<em>Journal of the American Medical Informatics Association</em>, 27.7:1028–1036, <br /> 
<a href="https://doi.org/10.1093/jamia/ocaa044">doi:10.1093/jamia/ocaa044</a>. <br />
(ODACH) Chongliang Luo, et al. (2021) ODACH: A One-shot Distributed Algorithm for Cox model with Heterogeneous Multi-center Data. <br />
<em>medRxiv</em>, <a href="https://doi.org/10.1101/2021.04.18.21255694">doi:10.1101/2021.04.18.21255694</a>. <br /> 
(ODAH) Mackenzie J. Edmondson, et al. (2021) An Efficient and Accurate Distributed Learning Algorithm for Modeling Multi-Site Zero-Inflated Count Outcomes. 
medRxiv, pp.2020-12. <br />
<a href="https://doi.org/10.1101/2020.12.17.20248194">doi:10.1101/2020.12.17.20248194</a>. <br />
(ADAP) Xiaokang Liu, et al. (2021) ADAP: multisite learning with high-dimensional heterogeneous data via A Distributed Algorithm for Penalized regression. <br />
(dGEM) Jiayi Tong, et al. (2022) dGEM: Decentralized Generalized Linear Mixed Effects Model <br />
</p>


<h3>See Also</h3>

<p><code>pdaPut</code>, <code>pdaList</code>, <code>pdaGet</code>, <code>getCloudConfig</code> and <code>pdaSync</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(survival)
require(data.table)
require(pda)
data(lung)

## In the toy example below we aim to analyze the association of lung status with 
## age and sex using logistic regression, data(lung) from 'survival', we randomly 
## assign to 3 sites: 'site1', 'site2', 'site3'. we demonstrate using PDA ODAL can 
## obtain a surrogate estimator that is close to the pooled estimate. We run the 
## example in local directory. In actual collaboration, account/password for pda server 
## will be assigned to the sites at the server https://pda.one.
## Each site can access via web browser to check the communication of the summary stats.

## for more examples, see demo(ODAC) and demo(ODAP)

# Create 3 sites, split the lung data amongst them
sites = c('site1', 'site2', 'site3')
set.seed(42)
lung2 &lt;- lung[,c('status', 'age', 'sex')]
lung2$sex &lt;- lung2$sex - 1
lung2$status &lt;- ifelse(lung2$status == 2, 1, 0)
lung_split &lt;- split(lung2, sample(1:length(sites), nrow(lung), replace=TRUE))
## fit logistic reg using pooled data
fit.pool &lt;- glm(status ~ age + sex, family = 'binomial', data = lung2)


# ############################  STEP 1: initialize  ###############################
control &lt;- list(project_name = 'Lung cancer study',
                step = 'initialize',
                sites = sites,
                heterogeneity = FALSE,
                model = 'ODAL',
                family = 'binomial',
                outcome = "status",
                variables = c('age', 'sex'),
                optim_maxit = 100,
                lead_site = 'site1',
                upload_date = as.character(Sys.time()) )


## run the example in local directory:
## specify your working directory, default is the tempdir
mydir &lt;- tempdir()
## assume lead site1: enter "1" to allow transferring the control file  
pda(site_id = 'site1', control = control, dir = mydir)
## in actual collaboration, account/password for pda server will be assigned, thus:
## Not run: pda(site_id = 'site1', control = control, uri = 'https://pda.one', secret='abc123')
## you can also set your environment variables, and no need to specify them in pda:
## Not run: Sys.setenv(PDA_USER = 'site1', PDA_SECRET = 'abc123', PDA_URI = 'https://pda.one')
## Not run: pda(site_id = 'site1', control = control)

##' assume remote site3: enter "1" to allow tranferring your local estimate 
pda(site_id = 'site3', ipdata = lung_split[[3]], dir=mydir)

##' assume remote site2: enter "1" to allow tranferring your local estimate  
pda(site_id = 'site2', ipdata = lung_split[[2]], dir=mydir)

##' assume lead site1: enter "1" to allow tranferring your local estimate  
##' control.json is also automatically updated
pda(site_id = 'site1', ipdata = lung_split[[1]], dir=mydir)

##' if lead site1 initialized before other sites,
##' lead site1: uncomment to sync the control before STEP 2
## Not run: pda(site_id = 'site1', control = control)
## Not run: config &lt;- getCloudConfig(site_id = 'site1')
## Not run: pdaSync(config)

#' ############################'  STEP 2: derivative  ############################ 
##' assume remote site3: enter "1" to allow tranferring your derivatives  
pda(site_id = 'site3', ipdata = lung_split[[3]], dir=mydir)

##' assume remote site2: enter "1" to allow tranferring your derivatives  
pda(site_id = 'site2', ipdata = lung_split[[2]], dir=mydir)

##' assume lead site1: enter "1" to allow tranferring your derivatives  
pda(site_id = 'site1', ipdata = lung_split[[1]], dir=mydir)


#' ############################'  STEP 3: estimate  ############################ 
##' assume lead site1: enter "1" to allow tranferring the surrogate estimate  
pda(site_id = 'site1', ipdata = lung_split[[1]], dir=mydir)

##' the PDA ODAL is now completed!
##' All the sites can still run their own surrogate estimates and broadcast them.

##' compare the surrogate estimate with the pooled estimate 
config &lt;- getCloudConfig(site_id = 'site1', dir=mydir)
fit.odal &lt;- pdaGet(name = 'site1_estimate', config = config)
cbind(b.pool=fit.pool$coef,
      b.odal=fit.odal$btilde,
      sd.pool=summary(fit.pool)$coef[,2],
      sd.odal=sqrt(diag(solve(fit.odal$Htilde)/nrow(lung2))))
      
## see demo(ODAL) for more optional steps

</code></pre>

<hr>
<h2 id='pdaGet'>Function to download json and return as object</h2><span id='topic+pdaGet'></span>

<h3>Description</h3>

<p>Function to download json and return as object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdaGet(name,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdaGet_+3A_name">name</code></td>
<td>
<p>of file</p>
</td></tr>
<tr><td><code id="pdaGet_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data objects from the json file on the cloud
</p>


<h3>See Also</h3>

<p><code>pda</code>
</p>

<hr>
<h2 id='pdaList'>Function to list available objects</h2><span id='topic+pdaList'></span>

<h3>Description</h3>

<p>Function to list available objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdaList(config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdaList_+3A_config">config</code></td>
<td>
<p>a list of variables for cloud configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of (json) files on the cloud
</p>


<h3>See Also</h3>

<p><code>pda</code>
</p>

<hr>
<h2 id='pdaPut'>Function to upload object to cloud as json</h2><span id='topic+pdaPut'></span>

<h3>Description</h3>

<p>Function to upload object to cloud as json
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdaPut(obj,name,config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdaPut_+3A_obj">obj</code></td>
<td>
<p>R object to encode as json and uploaded to cloud</p>
</td></tr>
<tr><td><code id="pdaPut_+3A_name">name</code></td>
<td>
<p>of file</p>
</td></tr>
<tr><td><code id="pdaPut_+3A_config">config</code></td>
<td>
<p>a list of variables for cloud configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NONE
</p>


<h3>See Also</h3>

<p><code>pda</code>
</p>

<hr>
<h2 id='pdaSync'>pda control synchronize</h2><span id='topic+pdaSync'></span>

<h3>Description</h3>

<p>update pda control if ready (run by lead)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdaSync(config)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdaSync_+3A_config">config</code></td>
<td>
<p>cloud configuration</p>
</td></tr>
</table>


<h3>Value</h3>

<p>control
</p>


<h3>See Also</h3>

<p><code>pda</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

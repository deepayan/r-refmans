<!DOCTYPE html><html><head><title>Help for package microsamplingDesign</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {microsamplingDesign}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%ARC%'><p>All Row Combinations (ARC) function</p>
take all combination of rows of 2 matrices and bind them together</a></li>
<li><a href='#addSchemes'><p>add user defined scheme to an existing <code>SetOfSchemes-class</code></p>
or extend an existing set of schemes object with additional schemes</a></li>
<li><a href='#changeDevSettings'><p>Function to overwrite default settings, print to console when changing default settings and add to default settings</p></a></li>
<li><a href='#check_scheme_exactNumberObsPerTimePoint'><p>check the number of observations per time points is equal specified value</p></a></li>
<li><a href='#check_scheme_minObsPerTimePoint'><p>check the mimimum observations per time points is above a specified value</p></a></li>
<li><a href='#check_subject_maxConsecSamples'><p>check the maximum of consecutive samples per subject falls below the specified value</p></a></li>
<li><a href='#checkConstraintsOk'><p>test constraints well specified</p></a></li>
<li><a href='#construct2CompModel'><p>construct a 2 compartmental <code>PkModel-class</code> by providing parameters and dosing info</p></a></li>
<li><a href='#constructSetOfSchemes'><p>construct user defined <code>SetOfSchemes-class</code></p></a></li>
<li><a href='#doAllSchemeChecks'><p>check whether either a 1 subject or multiple subject microsampling scheme meets imposed constraints</p></a></li>
<li><a href='#estimatePopCurve'><p>estimate population Pk curve from a scheme and pkData</p></a></li>
<li><a href='#extractByRank'><p>extract a timepoint or Scheme choice by its rank</p></a></li>
<li><a href='#flagSchemesMeetingConstraints'><p>internal function to check scheme constraints ( faster )</p></a></li>
<li><a href='#flattenSetOfSchemes'><p>Transform 3 way array to 2 way array</p></a></li>
<li><a href='#formatTimePoints'><p>Format time points as a set</p></a></li>
<li><a href='#genMVN'><p>Internal function to generate multivariate data via a cholesky decompostion ( to have replicability accross systems )</p></a></li>
<li><a href='#get2ComptModelCurve'><p>provides solution of two compartmental pharmacodynamic model at specified time points</p></a></li>
<li><a href='#getAllTimeOptions'><p>generate all possible time options from eligible time points and number of samples per time interval ( time zone )</p></a></li>
<li><a href='#getCoeffVariationError'><p>generic function to extract <code>coeffVariationError</code> slot</p></a></li>
<li><a href='#getCombinationsWithMaxNRepetitions'><p>get all combinations with a maximum number of repetitions</p></a></li>
<li><a href='#getConstraintsExample'><p>get a minimal example of a constraint data frame</p></a></li>
<li><a href='#getCorrelationMatrix'><p>generic function to extract the <code>correlationMatrix</code>-slot</p></a></li>
<li><a href='#getData'><p>generic function to extract the <code>.Data</code>-slot</p></a></li>
<li><a href='#getDevRankingSettings'><p>function default ranking settings</p></a></li>
<li><a href='#getDosingInfo'><p>generic function to extract <code>dosingInfo</code>-slot</p></a></li>
<li><a href='#getExampleData'><p>generate an mimimal example of a Pk data without a model</p></a></li>
<li><a href='#getExampleObjective'><p>example objective function for <code>rankObject</code></p></a></li>
<li><a href='#getExampleParameters'><p>get example parameters to use in <code>pkOdeModel2Compartments</code> example</p></a></li>
<li><a href='#getExamplePkCurve'><p>example of 1 pk curve to be used to test pkCurveStat_[function]</p></a></li>
<li><a href='#getExamplePkModel'><p>get minimal example of <code>PkModel-class</code></p></a></li>
<li><a href='#getExamplePkModelRange'><p>get minimal example of <code>PkModelRange-class</code></p></a></li>
<li><a href='#getExampleSetOfSchemes'><p>get a minimal example of a set of schemes object</p></a></li>
<li><a href='#getExampleSetOfTimePoints'><p>get a minimal example set of time points to test functions with</p></a></li>
<li><a href='#getExampleTimeData'><p>generate example PkData object to be used in example rankTimePoints</p></a></li>
<li><a href='#getExampleTimeZones'><p>working example time zone dataframe to use in examples</p></a></li>
<li><a href='#getIndividualParameters'><p>sample subject specific parameters to input in pharmacodynamic model</p>
paramaters are sample from a log-normal distribution</a></li>
<li><a href='#getMMCurve'><p>calculate Michealis-Menten relation between x and velocity and rate</p></a></li>
<li><a href='#getModelFunction'><p>generic function to extract <code>modelFunction</code> slot from S4-class object</p></a></li>
<li><a href='#getNames'><p>generic function extract the names of an S4-object</p></a></li>
<li><a href='#getNSchemes'><p>generic function to extract <code>nSchemes</code>-slot</p></a></li>
<li><a href='#getNSubjects'><p>generic function to extract <code>nSubjects</code>-slot</p></a></li>
<li><a href='#getParameters'><p>generic function to extract <code>parameter</code>-slot</p></a></li>
<li><a href='#getPkData'><p>simulate <code>PkData-class</code> from <code>PkModel-class</code></p></a></li>
<li><a href='#getPkModel'><p>generic function extract a <code>PkModel-class</code></p></a></li>
<li><a href='#getPkModelArticle'><p>reproduce the example of the article of Helen Barnet et al.</p></a></li>
<li><a href='#getPkModels'><p>Generate all possible <code>PkModel-class</code> from <code>PkModelRange-class</code> combination of ranges</p></a></li>
<li><a href='#getRanking'><p>generic function to extract the  <code>ranking</code>-slot</p></a></li>
<li><a href='#getResultPerScheme'><p>get a result of the criteria  per scheme zero concentration at time zero</p></a></li>
<li><a href='#getSetOfSchemes'><p>Generate a  <code>SetOfSchemes-class</code> object of speficified dimensions ( subjects, observations per t) for a given</p>
set of time points which  meets user specified constraints</a></li>
<li><a href='#getSummaryRanks'><p>internal function to rank by a summary function over criterio</p></a></li>
<li><a href='#getTimeChoicePerformance'><p>estimate the distance between population average  an average over sample datasets with given time points (zero point included)</p></a></li>
<li><a href='#getTimePoints'><p>generic function to extract <code>timePoints</code>-slot</p></a></li>
<li><a href='#getTopNRanking'><p>extract the top n rankings as numeric vector</p></a></li>
<li><a href='#oneCompartmentOralModel'><p>solution of one compartmental oral administration model</p>
only use one set of parameters, times can input can be an numeric array</a></li>
<li><a href='#pkCurveStat'><p>calculate summary statistics from a pkCurve</p></a></li>
<li><a href='#PkData-class'><p>An S4 object containing samples from a Pk model</p></a></li>
<li><a href='#PkModel-class'><p>S4 class PkModel representing a pharmacokinetic model and its parameters</p></a></li>
<li><a href='#PkModelParent-class'><p>virtual class, for testing <code>PkModel-class</code> and <code>PkModelRange-class</code> together</p></a></li>
<li><a href='#PkModelRange-class'><p>S4 class PkModel representing a pharmacokinetic model and its parameters and uncertainty of parameter choices by ranges</p></a></li>
<li><a href='#pkOdeModel2Compartments'><p>Set of differential equations representing two compartmental pk model with possible Michaelis-Menten kinetics at absorption and clearance</p>
used as interal function</a></li>
<li><a href='#plotAverageRat'><p>plot plasma concentration for average individual (i.e average parameter values) in function of dose at time zero</p></a></li>
<li><a href='#plotMMCurve'><p>plot Michealis-Menten curve for either capacity dependent absorption or clearance</p></a></li>
<li><a href='#plotMMKinetics'><p>plot MM kinetics of both absorption and clearance</p></a></li>
<li><a href='#plotObject'><p>generic function to plot an object</p></a></li>
<li><a href='#rankBasedOnDirectory'><p>internal function apply ranking per directory</p></a></li>
<li><a href='#rankObject'><p>generic function to calulate a <code>ranking</code>-slot</p></a></li>
<li><a href='#rankObjectWithRange'><p>Rank a <code>SetOfSchemes-class</code> or a <code>SetOfTimePoints</code> object using data generated per scneario defined by <code>PkModelRange-class</code></p></a></li>
<li><a href='#runMicrosamplingDesignApp'><p>Run the PkPlotApp in a new tab in your browser</p></a></li>
<li><a href='#setCoeffVariationError&lt;-'><p>replace <code>coeffVariationError</code>-slot</p></a></li>
<li><a href='#setCorrelationMatrix&lt;-'><p>replace <code>correlationMatrix</code>-slot</p></a></li>
<li><a href='#setDosingInfo&lt;-'><p>replace <code>dosingInfo</code>-slot</p></a></li>
<li><a href='#setModelToAverageRat'><p>get a model with all variances to zero</p></a></li>
<li><a href='#SetOfSchemes-class'><p>S4 class SetOfSchemes representing a set of designs with given time points</p></a></li>
<li><a href='#SetOfTimePoints-class'><p>S4 class SetOfTimePoints representing a set of designs with given time points</p></a></li>
<li><a href='#setParameters&lt;-'><p>replace <code>parameters</code>-slot</p></a></li>
<li><a href='#setRanking&lt;-'><p>replace <code>ranking</code>-slot</p></a></li>
<li><a href='#setTimePoints&lt;-'><p>generic function to replace <code>timePoints</code>-slot</p></a></li>
<li><a href='#subsetOnTimePoints'><p>generic function to subset the <code>timePoints</code>-slot and generate an object of the same class</p></a></li>
<li><a href='#summary,PkModelParent-method'><p>function to summarize an object</p></a></li>
<li><a href='#summary,SetOfSchemes-method'><p>summarize object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Finding Optimal Microsampling Designs for Non-Compartmental
Pharmacokinetic Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Adriaan Blommaert &lt;adriaan.blommaert@openanalytics.eu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
  Find optimal microsampling designs for non-compartmental pharacokinetic analysis using a  general simulation methodology:
  Algorithm III of Barnett, Helen, Helena Geys, Tom Jacobs, and Thomas Jaki. (2017) "Optimal Designs for Non-Compartmental
  Analysis of Pharmacokinetic Studies. (currently unpublished)"
  This methodology consist of (1) specifying a pharmacokinetic model
  including variability among animals; (2) generating possible sampling times; (3)
  evaluating performance of each time point choice on simulated data; (4)
  generating possible schemes given a time point choice and additional constraints
  and finally (5) evaluating scheme performance on simulated data. The default
  settings differ from the article of Barnett and others, in the default pharmacokinetic model used and
  the parameterization of variability among animals. Details can be found in the package vignette. A 'shiny'
  web application is included, which guides users from model parametrization to
  optimal microsampling scheme.   </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.openanalytics.eu/">https://www.openanalytics.eu/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), Rcpp</td>
</tr>
<tr>
<td>Imports:</td>
<td>abind, deSolve, devtools, ggplot2, gridExtra, gtools, knitr,
MASS, matrixStats, matrixcalc, methods, parallel, plyr, readr,
reshape2, shiny, stats, stringr, utils</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bookdown, data.table, plotly, shinyjs, shinyBS, rmarkdown,
rhandsontable, shinycssloaders, testthat</td>
</tr>
<tr>
<td>Collate:</td>
<td>'RcppExports.R' 'aaaGenerics.R' 'appFunctions.R'
'constraintFunctions.R' 'fastRankSchemes.R' 'internalHelpers.R'
'objectPkModelParent.R' 'objectSetOfSchemes.R'
'objectPkModel.R' 'objectPkModelRange.R'
'objectSetOfTimePoints.R' 'pkFunctions.R' 'schemeStatistics.R'
'rankScheme.R' 'rankTimePoints.R' 'schemeGenerator.R'
'timePointGeneration.R'</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-13 10:15:06 UTC; ablommaert</td>
</tr>
<tr>
<td>Author:</td>
<td>Adriaan Blommaert [aut, cre],
  Daan Seynaeve [ctb],
  Helen Barnett [ctb],
  Helena Geys [ctb],
  Tom Jacobs [ctb],
  Fetene Tekle [ctb],
  Thomas Jaki [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-13 13:52:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25ARC+25'>All Row Combinations (ARC) function 
take all combination of rows of 2 matrices and bind them together</h2><span id='topic++25ARC+25'></span>

<h3>Description</h3>

<p>All Row Combinations (ARC) function 
take all combination of rows of 2 matrices and bind them together
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrix1 %ARC% matrix2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25ARC+2B25_+3A_matrix1">matrix1</code></td>
<td>
<p>numeric matrix</p>
</td></tr>
<tr><td><code id="+2B25ARC+2B25_+3A_matrix2">matrix2</code></td>
<td>
<p>numeric matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix
</p>

<hr>
<h2 id='addSchemes'>add user defined scheme to an existing <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code>
or extend an existing set of schemes object with additional schemes</h2><span id='topic+addSchemes'></span>

<h3>Description</h3>

<p>add user defined scheme to an existing <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code>
or extend an existing set of schemes object with additional schemes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSchemes(setOfSchemes, extraSchemes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addSchemes_+3A_setofschemes">setOfSchemes</code></td>
<td>
<p><code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> object or a matrix of indiviudual schemes</p>
</td></tr>
<tr><td><code id="addSchemes_+3A_extraschemes">extraSchemes</code></td>
<td>
<p>array of schemes to add, see code<a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></p>
</td></tr>
</table>

<hr>
<h2 id='changeDevSettings'>Function to overwrite default settings, print to console when changing default settings and add to default settings</h2><span id='topic+changeDevSettings'></span>

<h3>Description</h3>

<p>Function to overwrite default settings, print to console when changing default settings and add to default settings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeDevSettings(defaultSettings, replaceSettings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeDevSettings_+3A_replacesettings">replaceSettings</code></td>
<td>
<p>list of settings to overwrite defaults or add to defaults</p>
</td></tr>
<tr><td><code id="changeDevSettings_+3A_defaultssettings">defaultsSettings</code></td>
<td>
<p>list of settings</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>

<hr>
<h2 id='check_scheme_exactNumberObsPerTimePoint'>check the number of observations per time points is equal specified value</h2><span id='topic+check_scheme_exactNumberObsPerTimePoint'></span>

<h3>Description</h3>

<p>check the number of observations per time points is equal specified value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_scheme_exactNumberObsPerTimePoint(scheme, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_scheme_exactNumberObsPerTimePoint_+3A_scheme">scheme</code></td>
<td>
<p>a microsampling scheme</p>
</td></tr>
<tr><td><code id="check_scheme_exactNumberObsPerTimePoint_+3A_value">value</code></td>
<td>
<p>numeric constant</p>
</td></tr>
</table>

<hr>
<h2 id='check_scheme_minObsPerTimePoint'>check the mimimum observations per time points is above a specified value</h2><span id='topic+check_scheme_minObsPerTimePoint'></span>

<h3>Description</h3>

<p>check the mimimum observations per time points is above a specified value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_scheme_minObsPerTimePoint(scheme, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_scheme_minObsPerTimePoint_+3A_scheme">scheme</code></td>
<td>
<p>a microsampling scheme</p>
</td></tr>
<tr><td><code id="check_scheme_minObsPerTimePoint_+3A_value">value</code></td>
<td>
<p>numeric constant</p>
</td></tr>
</table>

<hr>
<h2 id='check_subject_maxConsecSamples'>check the maximum of consecutive samples per subject falls below the specified value</h2><span id='topic+check_subject_maxConsecSamples'></span>

<h3>Description</h3>

<p>check the maximum of consecutive samples per subject falls below the specified value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_subject_maxConsecSamples(subjectScheme, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_subject_maxConsecSamples_+3A_subjectscheme">subjectScheme</code></td>
<td>
<p>a one subject scheme, one line of a scheme</p>
</td></tr>
<tr><td><code id="check_subject_maxConsecSamples_+3A_value">value</code></td>
<td>
<p>to compare scheme with</p>
</td></tr>
</table>

<hr>
<h2 id='checkConstraintsOk'>test constraints well specified</h2><span id='topic+checkConstraintsOk'></span>

<h3>Description</h3>

<p>test constraints well specified
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkConstraintsOk(constraints)
</code></pre>

<hr>
<h2 id='construct2CompModel'>construct a 2 compartmental <code><a href="#topic+PkModel-class">PkModel-class</a></code> by providing parameters and dosing info</h2><span id='topic+construct2CompModel'></span>

<h3>Description</h3>

<p>construct a 2 compartmental <code><a href="#topic+PkModel-class">PkModel-class</a></code> by providing parameters and dosing info
</p>


<h3>Usage</h3>

<pre><code class='language-R'>construct2CompModel(parameters, dosingInfo, correlationMatrix = NULL,
  coeffVariationError = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="construct2CompModel_+3A_parameters">parameters</code></td>
<td>
<p>see  <code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
<tr><td><code id="construct2CompModel_+3A_dosinginfo">dosingInfo</code></td>
<td>
<p>see <code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
<tr><td><code id="construct2CompModel_+3A_correlationmatrix">correlationMatrix</code></td>
<td>
<p>see <code><a href="#topic+PkModel-class">PkModel-class</a></code>, if <code>NULL</code> idendity matrix is constructed</p>
</td></tr>
<tr><td><code id="construct2CompModel_+3A_coeffvariationerror">coeffVariationError</code></td>
<td>
<p>see <code><a href="#topic+PkModel-class">PkModel-class</a></code> , defaults to 0</p>
</td></tr>
</table>


<h3>Note</h3>

<p>model function is <code><a href="#topic+get2ComptModelCurve">get2ComptModelCurve</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  dosingInfo              &lt;-  data.frame( time = 0 , dose = 1)
  dataParametersFile      &lt;-  system.file(  "extData",
 "examplePkParameters.csv" ,   package = "microsamplingDesign" )
  exampleParameters       &lt;-  read.csv( dataParametersFile ,
 stringsAsFactors = FALSE , na.strings = NULL )
  pkModel                 &lt;-  construct2CompModel( exampleParameters , dosingInfo ) 
  plotObject( pkModel , times = seq( 0, 5 , 0.1) , nSamplesIntegration = 12 )
</code></pre>

<hr>
<h2 id='constructSetOfSchemes'>construct user defined <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></h2><span id='topic+constructSetOfSchemes'></span>

<h3>Description</h3>

<p>construct user defined <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constructSetOfSchemes(schemes, timePoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constructSetOfSchemes_+3A_schemes">schemes</code></td>
<td>
<p>array representing <code>.Data</code> slot of <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
<tr><td><code id="constructSetOfSchemes_+3A_timepoints">timePoints</code></td>
<td>
<p>numeric vector, <code>timePoinst</code> slot of <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>  schemes                      &lt;-  getData( getExampleSetOfSchemes() ) 
  timePoints                   &lt;-  exp(1:4) 
  constructSetOfSchemes( schemes , timePoints)
</code></pre>

<hr>
<h2 id='doAllSchemeChecks'>check whether either a 1 subject or multiple subject microsampling scheme meets imposed constraints</h2><span id='topic+doAllSchemeChecks'></span>

<h3>Description</h3>

<p>check whether either a 1 subject or multiple subject microsampling scheme meets imposed constraints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>doAllSchemeChecks(object, level, checks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="doAllSchemeChecks_+3A_object">object</code></td>
<td>
<p>a logical vector or matrix, TRUE when a sample is taken for a subject (row) and time point (column) combination</p>
</td></tr>
<tr><td><code id="doAllSchemeChecks_+3A_level">level</code></td>
<td>
<p>a character vector indicating either &quot;subject&quot; or &quot;scheme&quot; level</p>
</td></tr>
<tr><td><code id="doAllSchemeChecks_+3A_checks">checks</code></td>
<td>
<p>a dataframe with check definitions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical value TRUE when all checks are pasted and FALSE if at least one check fails
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  exampleChecks    &lt;- getConstraintsExample()
  exampleSubject1  &lt;-  c( TRUE  , TRUE  , TRUE , FALSE , FALSE , TRUE )
  exampleSubject2  &lt;-  c( FALSE , FALSE , TRUE , FALSE , FALSE , TRUE )
  exampleScheme    &lt;-  rbind( exampleSubject1, exampleSubject2 ) 
  doAllSchemeChecks( exampleSubject1 , "subject" , checks = exampleChecks )
  doAllSchemeChecks( exampleSubject2 , "subject" , checks = exampleChecks )
  doAllSchemeChecks( exampleScheme , "scheme" , checks = exampleChecks )
</code></pre>

<hr>
<h2 id='estimatePopCurve'>estimate population Pk curve from a scheme and pkData</h2><span id='topic+estimatePopCurve'></span>

<h3>Description</h3>

<p>estimate population Pk curve from a scheme and pkData
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimatePopCurve(scheme, dataArray)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimatePopCurve_+3A_scheme">scheme</code></td>
<td>
<p>one scheme from <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
<tr><td><code id="estimatePopCurve_+3A_dataarray">dataArray</code></td>
<td>
<p><code><a href="#topic+PkData-class">PkData-class</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='extractByRank'>extract a timepoint or Scheme choice by its rank</h2><span id='topic+extractByRank'></span><span id='topic+extractByRank+2CSetOfSchemes+2Cnumeric-method'></span><span id='topic+extractByRank+2CSetOfTimePoints+2Cnumeric-method'></span>

<h3>Description</h3>

<p>extract a timepoint or Scheme choice by its rank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractByRank(object, rank)

## S4 method for signature 'SetOfSchemes,numeric'
extractByRank(object, rank)

## S4 method for signature 'SetOfTimePoints,numeric'
extractByRank(object, rank)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractByRank_+3A_object">object</code></td>
<td>
<p>an S4 object</p>
</td></tr>
<tr><td><code id="extractByRank_+3A_rank">rank</code></td>
<td>
<p>integer</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>  object        &lt;-  getExampleSetOfSchemes()
  pkData        &lt;-  getPkData( getExamplePkModel() , 
   getTimePoints( object ) , getNSubjects( object ) , nSamples = 10  )
  objectRanked    &lt;- rankObject(  object ,  pkData  ,
    data.frame(criterion = "auc" , weight = 1 , stringsAsFactors = TRUE) ) 
 extractByRank( object = objectRanked  , rank = 1 )
 extractByRank( objectRanked  , rank = 5 )
  object                             &lt;-  getExampleSetOfTimePoints( 0 :10 ) 
  pkData                             &lt;-  getPkData(getExamplePkModel() ,
 getTimePoints( object ) , 1 , 5 )
objectRanked                       &lt;-  rankObject( object , pkData , nGrid = 20,
  nSamplesAvCurve = 25 )
  extractByRank( objectRanked , 1)
  extractByRank( object = objectRanked , rank = 5 )
</code></pre>

<hr>
<h2 id='flagSchemesMeetingConstraints'>internal function to check scheme constraints ( faster )</h2><span id='topic+flagSchemesMeetingConstraints'></span>

<h3>Description</h3>

<p>internal function to check scheme constraints ( faster )
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flagSchemesMeetingConstraints(dataSchemes, schemeConstraints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flagSchemesMeetingConstraints_+3A_dataschemes">dataSchemes</code></td>
<td>
<p>data array for schemes</p>
</td></tr>
<tr><td><code id="flagSchemesMeetingConstraints_+3A_schemeconstraints">schemeConstraints</code></td>
<td>
<p>data frame with schemeConstraints</p>
</td></tr>
</table>

<hr>
<h2 id='flattenSetOfSchemes'>Transform 3 way array to 2 way array</h2><span id='topic+flattenSetOfSchemes'></span>

<h3>Description</h3>

<p>Transform 3 way array to 2 way array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flattenSetOfSchemes(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flattenSetOfSchemes_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='formatTimePoints'>Format time points as a set</h2><span id='topic+formatTimePoints'></span>

<h3>Description</h3>

<p>Format time points as a set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatTimePoints(timePoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatTimePoints_+3A_timepoints">timePoints</code></td>
<td>
<p>numeric vector of timme points</p>
</td></tr>
</table>

<hr>
<h2 id='genMVN'>Internal function to generate multivariate data via a cholesky decompostion ( to have replicability accross systems )</h2><span id='topic+genMVN'></span>

<h3>Description</h3>

<p>Internal function to generate multivariate data via a cholesky decompostion ( to have replicability accross systems )
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genMVN(n, mu, Sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genMVN_+3A_n">n</code></td>
<td>
<p>number of sample to take</p>
</td></tr>
<tr><td><code id="genMVN_+3A_mu">mu</code></td>
<td>
<p>mean vector</p>
</td></tr>
<tr><td><code id="genMVN_+3A_sigma">Sigma</code></td>
<td>
<p>covariance matrix</p>
</td></tr>
</table>

<hr>
<h2 id='get2ComptModelCurve'>provides solution of two compartmental pharmacodynamic model at specified time points</h2><span id='topic+get2ComptModelCurve'></span>

<h3>Description</h3>

<p>provides solution of two compartmental pharmacodynamic model at specified time points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get2ComptModelCurve(parameters, time, dosingInfo,
  internalODEs = pkOdeModel2Compartments, returnAll = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get2ComptModelCurve_+3A_parameters">parameters</code></td>
<td>
<p>a list with correclty named input parameters</p>
</td></tr>
<tr><td><code id="get2ComptModelCurve_+3A_time">time</code></td>
<td>
<p>a numeric vector of times</p>
</td></tr>
<tr><td><code id="get2ComptModelCurve_+3A_dosinginfo">dosingInfo</code></td>
<td>
<p>a data.frame with 2 colunmns
</p>

<ul>
<li><p> time at which a dose is administered
</p>
</li>
<li><p> dose the amount administred to the gut
</p>
</li></ul>
</td></tr>
<tr><td><code id="get2ComptModelCurve_+3A_internalodes">internalODEs</code></td>
<td>
<p>the model function used defaults to <code>pkOdeModel2Compartments</code></p>
</td></tr>
<tr><td><code id="get2ComptModelCurve_+3A_returnall">returnAll</code></td>
<td>
<p>logical indicator if <code>TRUE</code> the solutions of all response variables is returned as a <code>data.frame</code>
if <code>FALSE</code> only the plasma concentration is returned as a vector, defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> or numeric vector of solutions, depending on the value of <code>returnAll</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  pkModel               &lt;-  getExamplePkModel()
  parameters            &lt;-  getParameters( pkModel )
  testParameters        &lt;-  parameters[ , "value"] 
  names(testParameters)  &lt;-  parameters[ , "parameter"]
  time                  &lt;-  seq( 0 , 3 , 0.1 )
  dosingInfo            &lt;-  data.frame( time = c( 0 , 1 , 2) , 
       dose = c( 5 , 2 , 1.5 ) )
  get2ComptModelCurve( parameters = testParameters , time , dosingInfo )
  get2ComptModelCurve( parameters = testParameters, time ,
    dosingInfo , returnAll = TRUE )  
</code></pre>

<hr>
<h2 id='getAllTimeOptions'>generate all possible time options from eligible time points and number of samples per time interval ( time zone )</h2><span id='topic+getAllTimeOptions'></span>

<h3>Description</h3>

<p>generate all possible time options from eligible time points and number of samples per time interval ( time zone )
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAllTimeOptions(timeZones, fullTimePoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAllTimeOptions_+3A_timezones">timeZones</code></td>
<td>
<p>a data.frame containing information on the number of points to be chosen in each time zone. 
Each row is a time zone. 
</p>

<ul>
<li> <p><code>startTime</code> the start time of each time zone assumed to be included in that zone
</p>
</li>
<li> <p><code>endTime</code> the end time of the zone. It is not part of the current zone but the start time of the next zone
</p>
</li>
<li> <p><code>nPointsPerZone</code> the number of time points to be chosen within each zone. 
</p>
</li></ul>
</td></tr>
<tr><td><code id="getAllTimeOptions_+3A_fulltimepoints">fullTimePoints</code></td>
<td>
<p>a numeric vector containing all possible time points to be considered including time point zero and the last time point</p>
</td></tr>
</table>


<h3>Details</h3>

<p>time point zero is never included in any time option and the last time point is always included. Note that the last 
time point is not a member of any zone. The number of time points in every time options is therefore the total number of time
points specified in <code>timeZone</code> plus 1 for the last time point.
</p>


<h3>Value</h3>

<p><code><a href="#topic+SetOfTimePoints-class">SetOfTimePoints-class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  timeZonesEx              &lt;-  getExampleTimeZones()
  fullTimePointsEx         &lt;-  seq( 0 , 21 , 1 )
  print(timeZonesEx)
  setOfTimePoints          &lt;-  getAllTimeOptions( timeZones = timeZonesEx , 
     fullTimePoints = fullTimePointsEx )
  setOfTimePoints          &lt;-  getAllTimeOptions( 
    timeZones = data.frame(startTime = 0 , endTime = 21 , nPointsPerZone = 1) , 
    fullTimePoints = fullTimePointsEx 
   )
</code></pre>

<hr>
<h2 id='getCoeffVariationError'>generic function to extract <code>coeffVariationError</code> slot</h2><span id='topic+getCoeffVariationError'></span><span id='topic+getCoeffVariationError+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>coeffVariationError</code> slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCoeffVariationError(object, ...)

## S4 method for signature 'PkModelParent'
getCoeffVariationError(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCoeffVariationError_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getCoeffVariationError_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getCombinationsWithMaxNRepetitions'>get all combinations with a maximum number of repetitions</h2><span id='topic+getCombinationsWithMaxNRepetitions'></span>

<h3>Description</h3>

<p>get all combinations with a maximum number of repetitions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCombinationsWithMaxNRepetitions(sourceVector, nDraws,
  maxRepetitions = 1, nCombinationsOnly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCombinationsWithMaxNRepetitions_+3A_sourcevector">sourceVector</code></td>
<td>
<p>is a vector with options to draw from</p>
</td></tr>
<tr><td><code id="getCombinationsWithMaxNRepetitions_+3A_ndraws">nDraws</code></td>
<td>
<p>the combination size</p>
</td></tr>
<tr><td><code id="getCombinationsWithMaxNRepetitions_+3A_maxrepetitions">maxRepetitions</code></td>
<td>
<p>the number of times an element of the <code>sampleVector</code> can occur in a group</p>
</td></tr>
<tr><td><code id="getCombinationsWithMaxNRepetitions_+3A_ncombinationsonly">nCombinationsOnly</code></td>
<td>
<p>if TRUE it returns the number of combinations instead of the combinations itself, defaults to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with as a combination per row, unless <code>nCombinationsOnly</code> is <code>TRUE</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test1    &lt;-  getCombinationsWithMaxNRepetitions( c("a" , "b" , "c" ) ,
 nDraws = 2, maxRepetitions = 2 )
test2    &lt;-  getCombinationsWithMaxNRepetitions( 1:5 , nDraws = 3, maxRepetitions = 3 )
test3    &lt;-  getCombinationsWithMaxNRepetitions( 1:5 , nDraws = 3, maxRepetitions = 3 ,
 nCombinationsOnly = TRUE  )
</code></pre>

<hr>
<h2 id='getConstraintsExample'>get a minimal example of a constraint data frame</h2><span id='topic+getConstraintsExample'></span>

<h3>Description</h3>

<p>get a minimal example of a constraint data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getConstraintsExample()
</code></pre>

<hr>
<h2 id='getCorrelationMatrix'>generic function to extract the <code>correlationMatrix</code>-slot</h2><span id='topic+getCorrelationMatrix'></span><span id='topic+getCorrelationMatrix+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>generic function to extract the <code>correlationMatrix</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCorrelationMatrix(object, ...)

## S4 method for signature 'PkModelParent'
getCorrelationMatrix(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCorrelationMatrix_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getCorrelationMatrix_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getData'>generic function to extract the <code>.Data</code>-slot</h2><span id='topic+getData'></span><span id='topic+getData+2CSetOfSchemes-method'></span><span id='topic+getData+2CPkData-method'></span><span id='topic+getData+2CSetOfTimePoints-method'></span>

<h3>Description</h3>

<p>generic function to extract the <code>.Data</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getData(object, ...)

## S4 method for signature 'SetOfSchemes'
getData(object)

## S4 method for signature 'PkData'
getData(object)

## S4 method for signature 'SetOfTimePoints'
getData(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getData_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getData_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getDevRankingSettings'>function default ranking settings</h2><span id='topic+getDevRankingSettings'></span>

<h3>Description</h3>

<p>@param class you want to get the default ranking settings for
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDevRankingSettings(objectClass)
</code></pre>

<hr>
<h2 id='getDosingInfo'>generic function to extract <code>dosingInfo</code>-slot</h2><span id='topic+getDosingInfo'></span><span id='topic+getDosingInfo+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>dosingInfo</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDosingInfo(object, ...)

## S4 method for signature 'PkModelParent'
getDosingInfo(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDosingInfo_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getDosingInfo_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getExampleData'>generate an mimimal example of a Pk data without a model</h2><span id='topic+getExampleData'></span>

<h3>Description</h3>

<p>generate an mimimal example of a Pk data without a model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleData()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>getExampleData()
</code></pre>

<hr>
<h2 id='getExampleObjective'>example objective function for <code><a href="#topic+rankObject">rankObject</a></code></h2><span id='topic+getExampleObjective'></span>

<h3>Description</h3>

<p>example objective function for <code><a href="#topic+rankObject">rankObject</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleObjective()
</code></pre>

<hr>
<h2 id='getExampleParameters'>get example parameters to use in <code><a href="#topic+pkOdeModel2Compartments">pkOdeModel2Compartments</a></code> example</h2><span id='topic+getExampleParameters'></span>

<h3>Description</h3>

<p>get example parameters to use in <code><a href="#topic+pkOdeModel2Compartments">pkOdeModel2Compartments</a></code> example
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleParameters()
</code></pre>

<hr>
<h2 id='getExamplePkCurve'>example of 1 pk curve to be used to test pkCurveStat_[function]</h2><span id='topic+getExamplePkCurve'></span>

<h3>Description</h3>

<p>example of 1 pk curve to be used to test pkCurveStat_[function]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExamplePkCurve(times)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getExamplePkCurve_+3A_times">times</code></td>
<td>
<p>a numeric vector of timePoints</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> with time and concentration as columns
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getExamplePkCurve( times = 0:10  )
</code></pre>

<hr>
<h2 id='getExamplePkModel'>get minimal example of <code><a href="#topic+PkModel-class">PkModel-class</a></code></h2><span id='topic+getExamplePkModel'></span>

<h3>Description</h3>

<p>get minimal example of <code><a href="#topic+PkModel-class">PkModel-class</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExamplePkModel()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>getExamplePkModel()
</code></pre>

<hr>
<h2 id='getExamplePkModelRange'>get minimal example of <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code></h2><span id='topic+getExamplePkModelRange'></span>

<h3>Description</h3>

<p>get minimal example of <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExamplePkModelRange()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>getExamplePkModelRange()
</code></pre>

<hr>
<h2 id='getExampleSetOfSchemes'>get a minimal example of a set of schemes object</h2><span id='topic+getExampleSetOfSchemes'></span>

<h3>Description</h3>

<p>get a minimal example of a set of schemes object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleSetOfSchemes()
</code></pre>

<hr>
<h2 id='getExampleSetOfTimePoints'>get a minimal example set of time points to test functions with</h2><span id='topic+getExampleSetOfTimePoints'></span>

<h3>Description</h3>

<p>get a minimal example set of time points to test functions with
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleSetOfTimePoints(fullTimePoints, nTimePointsSelect = 5,
  nChoicesSubset = 7)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getExampleSetOfTimePoints_+3A_fulltimepoints">fullTimePoints</code></td>
<td>
<p>numeric vector of time points</p>
</td></tr>
<tr><td><code id="getExampleSetOfTimePoints_+3A_ntimepointsselect">nTimePointsSelect</code></td>
<td>
<p>number of time points to select from the full time points, defaults to 5</p>
</td></tr>
<tr><td><code id="getExampleSetOfTimePoints_+3A_nchoicessubset">nChoicesSubset</code></td>
<td>
<p>number of all selection to retain for the example to avoid a large object defaults to 7</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>getExampleSetOfTimePoints( fullTimePoints = 0:10, nTimePointsSelect = 5, nChoicesSubset = 7 ) 
</code></pre>

<hr>
<h2 id='getExampleTimeData'>generate example PkData object to be used in example rankTimePoints</h2><span id='topic+getExampleTimeData'></span>

<h3>Description</h3>

<p>generate example PkData object to be used in example rankTimePoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleTimeData()
</code></pre>

<hr>
<h2 id='getExampleTimeZones'>working example time zone dataframe to use in examples</h2><span id='topic+getExampleTimeZones'></span>

<h3>Description</h3>

<p>working example time zone dataframe to use in examples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getExampleTimeZones()
</code></pre>

<hr>
<h2 id='getIndividualParameters'>sample subject specific parameters to input in pharmacodynamic model
paramaters are sample from a log-normal distribution</h2><span id='topic+getIndividualParameters'></span>

<h3>Description</h3>

<p>sample subject specific parameters to input in pharmacodynamic model
paramaters are sample from a log-normal distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getIndividualParameters(meanParam, coeffVariation, nSubjects,
  corrMatrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getIndividualParameters_+3A_meanparam">meanParam</code></td>
<td>
<p>numeric vector containing mean information of a set of parameters</p>
</td></tr>
<tr><td><code id="getIndividualParameters_+3A_coeffvariation">coeffVariation</code></td>
<td>
<p>coefficient of variantion to inform the variance of the subject</p>
</td></tr>
<tr><td><code id="getIndividualParameters_+3A_nsubjects">nSubjects</code></td>
<td>
<p>the number of subjects which should be sampled</p>
</td></tr>
<tr><td><code id="getIndividualParameters_+3A_corrmatrix">corrMatrix</code></td>
<td>
<p>optional correlation matrix when not specified parameters are assumed independent</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with rows subject and columns parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  parameters              &lt;-  c( 1 , 0.1 , 10 , 3 )
  names( parameters )     &lt;-  c( "Ka", "Ke" , "volume" , "dose" ) 
  coeffVariation          &lt;-  c( 0.05 , 0.05 , 0.05, 0 )
  names(coeffVariation)   &lt;-  names( parameters )
  nSubjects               &lt;-  9

  # example correlation matrix 
  corrMatrix              &lt;-  matrix(0.2 , nrow = 4 , ncol = 4) +
     diag( rep( 0.8 , 4 ) ) # correlation on the the log scale
  
  # assuming independence between parameters
  getIndividualParameters( parameters , coeffVariation ,  nSubjects = 9 )
  
  # assuming correlations between parameters 
  getIndividualParameters( parameters , coeffVariation ,  nSubjects = 9 , corrMatrix)
  getIndividualParameters( meanParam = parameters , coeffVariation ,  nSubjects = 3 , corrMatrix)


</code></pre>

<hr>
<h2 id='getMMCurve'>calculate Michealis-Menten relation between x and velocity and rate</h2><span id='topic+getMMCurve'></span>

<h3>Description</h3>

<p>calculate Michealis-Menten relation between x and velocity and rate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMMCurve(x, Vmax, kappaMM, constantValue = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMMCurve_+3A_x">x</code></td>
<td>
<p>numeric vector,  independent variable in Michaelis-Menten function representing a concentration or dose</p>
</td></tr>
<tr><td><code id="getMMCurve_+3A_vmax">Vmax</code></td>
<td>
<p>is the maximum rate ( x * Vmax / (kappaMM + x ) ) with increasing x</p>
</td></tr>
<tr><td><code id="getMMCurve_+3A_kappamm">kappaMM</code></td>
<td>
<p>scalar representing Michaelis-Menten constant wich is the x at the rate reaches half of Vmax</p>
</td></tr>
<tr><td><code id="getMMCurve_+3A_constantvalue">constantValue</code></td>
<td>
<p>mumeric constant if not <code>NULL</code> , the rate equals
x*constantValue with  Vmax and kappaMM are ignored,  defaults to <code>NA</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame given te relation between concentration and velocity and rate with columns
</p>

<ul>
<li><p> x
</p>
</li>
<li><p> velocity wich is rate/concentration
</p>
</li>
<li><p> rate rate  ( x * Vmax / (kappaMM + x ) 
</p>
</li>
<li><p> Vmax input value
</p>
</li>
<li><p> kappaMM input value
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  getMMCurve( x = seq( 0 , 1 , 0.01 ) , Vmax = 5 , kappaMM = 0.3 )
  getMMCurve( x = seq( 0 , 3 , 0.01 ) , Vmax = 5 , kappaMM = 0.3 )
  getMMCurve( x = seq( 0 , 1 , 0.01 ) , Vmax = 5 , kappaMM = 0.3 , constantValue = 3 ) 
</code></pre>

<hr>
<h2 id='getModelFunction'>generic function to extract <code>modelFunction</code> slot from S4-class object</h2><span id='topic+getModelFunction'></span><span id='topic+getModelFunction+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>modelFunction</code> slot from S4-class object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getModelFunction(object, ...)

## S4 method for signature 'PkModelParent'
getModelFunction(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getModelFunction_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getModelFunction_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getNames'>generic function extract the names of an S4-object</h2><span id='topic+getNames'></span><span id='topic+getNames+2CSetOfSchemes-method'></span><span id='topic+getNames+2CSetOfTimePoints-method'></span>

<h3>Description</h3>

<p>generic function extract the names of an S4-object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNames(object, ...)

## S4 method for signature 'SetOfSchemes'
getNames(object)

## S4 method for signature 'SetOfTimePoints'
getNames(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNames_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getNames_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getNSchemes'>generic function to extract <code>nSchemes</code>-slot</h2><span id='topic+getNSchemes'></span><span id='topic+getNSchemes+2CSetOfSchemes-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>nSchemes</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNSchemes(object, ...)

## S4 method for signature 'SetOfSchemes'
getNSchemes(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNSchemes_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getNSchemes_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getNSubjects'>generic function to extract <code>nSubjects</code>-slot</h2><span id='topic+getNSubjects'></span><span id='topic+getNSubjects+2CSetOfSchemes-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>nSubjects</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNSubjects(object, ...)

## S4 method for signature 'SetOfSchemes'
getNSubjects(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNSubjects_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getNSubjects_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getParameters'>generic function to extract <code>parameter</code>-slot</h2><span id='topic+getParameters'></span><span id='topic+getParameters+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>parameter</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getParameters(object, ...)

## S4 method for signature 'PkModelParent'
getParameters(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getParameters_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getParameters_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getPkData'>simulate <code><a href="#topic+PkData-class">PkData-class</a></code> from <code><a href="#topic+PkModel-class">PkModel-class</a></code></h2><span id='topic+getPkData'></span>

<h3>Description</h3>

<p>simulate <code><a href="#topic+PkData-class">PkData-class</a></code> from <code><a href="#topic+PkModel-class">PkModel-class</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPkData(pkModel, timePoints, nSubjectsPerScheme, nSamples,
  errorCorrelationMatrixIntime = diag(1, length(timePoints)),
  nCores = 1, dirIntermediateOutput = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPkData_+3A_pkmodel">pkModel</code></td>
<td>
<p>an object of <code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
<tr><td><code id="getPkData_+3A_timepoints">timePoints</code></td>
<td>
<p>numeric vector of time points</p>
</td></tr>
<tr><td><code id="getPkData_+3A_nsubjectsperscheme">nSubjectsPerScheme</code></td>
<td>
<p>numeric constant, number of subjects per dataset on which a sampling scheme can be applied</p>
</td></tr>
<tr><td><code id="getPkData_+3A_nsamples">nSamples</code></td>
<td>
<p>number of datasets to sample</p>
</td></tr>
<tr><td><code id="getPkData_+3A_errorcorrelationmatrixintime">errorCorrelationMatrixIntime</code></td>
<td>
<p>the correlation between additive error terms within a subject, by default no correlation</p>
</td></tr>
<tr><td><code id="getPkData_+3A_ncores">nCores</code></td>
<td>
<p>number of cores used for parallel computing, defaults to 1 (remark no random numbers are generated in parallel)</p>
</td></tr>
<tr><td><code id="getPkData_+3A_dirintermediateoutput">dirIntermediateOutput</code></td>
<td>
<p>directory to write intermediate output to for debugging, defaults to NULL, when no intermediate output is written down</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+PkData-class">PkData-class</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  getPkData( getExamplePkModel() , 0:5 , nSubjectsPerScheme = 3 , nSamples = 4  )
  getPkData( getExamplePkModel() , 0:5 , nSubjectsPerScheme = 7 , nSamples = 1  ) 
</code></pre>

<hr>
<h2 id='getPkModel'>generic function extract a <code><a href="#topic+PkModel-class">PkModel-class</a></code></h2><span id='topic+getPkModel'></span><span id='topic+getPkModel+2CPkData-method'></span>

<h3>Description</h3>

<p>generic function extract a <code><a href="#topic+PkModel-class">PkModel-class</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPkModel(object, ...)

## S4 method for signature 'PkData'
getPkModel(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPkModel_+3A_object">object</code></td>
<td>
<p>an S4 object</p>
</td></tr>
<tr><td><code id="getPkModel_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>getPkModel( getExampleData() )
</code></pre>

<hr>
<h2 id='getPkModelArticle'>reproduce the example of the article of Helen Barnet et al.</h2><span id='topic+getPkModelArticle'></span>

<h3>Description</h3>

<p>reproduce the example of the article of Helen Barnet et al.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPkModelArticle()
</code></pre>


<h3>Note</h3>

<p>this models serves only to reproduce results of the article, 
and allows only 1 dose administered at time 0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  model       &lt;-  getPkModelArticle()
  summary( model )
  testData    &lt;-    getPkData( model , 1:12 , nSubjectsPerScheme = 3 , nSamples = 7 )
  plotObject( model , times = 0:12  )
   plotAverageRat( model , doseZero = 100 , timePoints = seq(0,12,0.5) )
</code></pre>

<hr>
<h2 id='getPkModels'>Generate all possible <code><a href="#topic+PkModel-class">PkModel-class</a></code> from <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code> combination of ranges</h2><span id='topic+getPkModels'></span>

<h3>Description</h3>

<p>Generate all possible <code><a href="#topic+PkModel-class">PkModel-class</a></code> from <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code> combination of ranges
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPkModels(object, outputDirectory = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPkModels_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code></p>
</td></tr>
<tr><td><code id="getPkModels_+3A_outputdirectory">outputDirectory</code></td>
<td>
<p>directory to save models as <code>.Rds</code>  objects, defaults to <code>NULL</code>
when a temporary directory is made to save models</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code> objects saved as a subsdirectory of the <code>outputdirectory</code>
</p>


<h3>Note</h3>

<p>the <code>outputDirectory</code> is should be empty
</p>

<hr>
<h2 id='getRanking'>generic function to extract the  <code>ranking</code>-slot</h2><span id='topic+getRanking'></span><span id='topic+getRanking+2CSetOfSchemes-method'></span><span id='topic+getRanking+2CSetOfTimePoints-method'></span>

<h3>Description</h3>

<p>generic function to extract the  <code>ranking</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getRanking(object, ...)

## S4 method for signature 'SetOfSchemes'
getRanking(object)

## S4 method for signature 'SetOfTimePoints'
getRanking(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getRanking_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getRanking_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getResultPerScheme'>get a result of the criteria  per scheme zero concentration at time zero</h2><span id='topic+getResultPerScheme'></span>

<h3>Description</h3>

<p>get a result of the criteria  per scheme zero concentration at time zero
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getResultPerScheme(scheme, dataForSchemesInput, getResultFor1Curve,
  varianceMeasure)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getResultPerScheme_+3A_scheme">scheme</code></td>
<td>
<p>one scheme of <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
<tr><td><code id="getResultPerScheme_+3A_dataforschemesinput">dataForSchemesInput</code></td>
<td>
<p><code><a href="#topic+PkData-class">PkData-class</a></code></p>
</td></tr>
<tr><td><code id="getResultPerScheme_+3A_variancemeasure">varianceMeasure</code></td>
<td>
<p>a function such as <code>var</code></p>
</td></tr>
<tr><td><code id="getResultPerScheme_+3A_criteria">criteria</code></td>
<td>
<p>a character vector of criteria such as <code>auc</code> see <code><a href="#topic+pkCurveStat">pkCurveStat</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='getSetOfSchemes'>Generate a  <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> object of speficified dimensions ( subjects, observations per t) for a given 
set of time points which  meets user specified constraints</h2><span id='topic+getSetOfSchemes'></span>

<h3>Description</h3>

<p>Generate a  <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> object of speficified dimensions ( subjects, observations per t) for a given 
set of time points which  meets user specified constraints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSetOfSchemes(minNSubjects, maxNSubjects, minObsPerSubject,
  maxObsPerSubject, timePoints, constraints = NULL,
  maxRepetitionIndSchemes = 1, maxNumberOfSchemesBeforeChecks = 10^5,
  returnNSchemesBeforeConstraints = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSetOfSchemes_+3A_minnsubjects">minNSubjects</code></td>
<td>
<p>numeric, the mimimum number of subjects per scheme</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_maxnsubjects">maxNSubjects</code></td>
<td>
<p>numeric, the maximum number of subjects per scheme</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_minobspersubject">minObsPerSubject</code></td>
<td>
<p>numeric, the mimimum number of sampling occasions per subject</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_maxobspersubject">maxObsPerSubject</code></td>
<td>
<p>numeric, the maximum number of sampling occasions per subject</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_timepoints">timePoints</code></td>
<td>
<p>numeric vector of time points larger then zero, at which subject can be sampled</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_constraints">constraints</code></td>
<td>
<p>data.frame specifying constraints the scheme should meet.
with columns:
</p>

<ul>
<li><p> check: identifier of the function to perform the check 
</p>
</li>
<li><p> level: the level at wich the check is applied: either at the subject level or scheme level
</p>
</li>
<li><p> value: input value used by the check function
</p>
</li></ul>
  
<p>(a user can add constraint functions following 
naming convention <code>check_[level]_[check]</code>  see examples:  ( <code><a href="#topic+check_scheme_minObsPerTimePoint">check_scheme_minObsPerTimePoint</a></code>  and <code><a href="#topic+check_subject_maxConsecSamples">check_subject_maxConsecSamples</a></code>) )
remark: number of subjects per scheme or number of observations per scheme should not be specified in <code>constraints</code></p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_maxrepetitionindschemes">maxRepetitionIndSchemes</code></td>
<td>
<p>the maximum number of times an individual subject scheme can be repeated, defaults to 1</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_maxnumberofschemesbeforechecks">maxNumberOfSchemesBeforeChecks</code></td>
<td>
<p>the maximum number of schemes to consider before applying scheme constraints,
to avoid to long processing and using up memory.
defaults to 10^5</p>
</td></tr>
<tr><td><code id="getSetOfSchemes_+3A_returnnschemesbeforeconstraints">returnNSchemesBeforeConstraints</code></td>
<td>
<p>if <code>TRUE</code> return only number of schemes before checking constraints instead of the schemes themselves, defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>keep number of subjects , range of number of subjects and observations per subject and number of timep points restricted 
to avoid a large number of potential schemes slowing down computation and increasing memory usage
</p>
<p>only schemes with minimal one observation per subject are contained even if not specified in constraints
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  timePoints          &lt;-  c( 1.2 , 1.3 ,  2, 5  )
  constraints         &lt;-  getConstraintsExample()
  ex1   &lt;-  getSetOfSchemes( minNSubjects = 4 , maxNSubjects = 4 ,
    minObsPerSubject = 3 , maxObsPerSubject = 3 , timePoints , constraints )
  ex2   &lt;-  getSetOfSchemes( minNSubjects = 4 , maxNSubjects = 4 ,
    minObsPerSubject = 3 , maxObsPerSubject = 3 , timePoints ,
    constraints ,  maxRepetitionIndSchemes = 1 )
  ex3   &lt;-  getSetOfSchemes( minNSubjects = 4 , maxNSubjects = 4 , 
    minObsPerSubject = 2 , maxObsPerSubject = 3 , timePoints ,
    constraints , maxRepetitionIndSchemes = 1 )
  ex4   &lt;-  getSetOfSchemes( minNSubjects = 2 , maxNSubjects = 5 ,
    minObsPerSubject = 2 , maxObsPerSubject = 3 , timePoints ,
    constraints , maxRepetitionIndSchemes = 1 )
  ex5   &lt;-  getSetOfSchemes( minNSubjects = 2 , maxNSubjects = 5 ,
    minObsPerSubject = 2 , maxObsPerSubject = 3 , timePoints , 
    maxRepetitionIndSchemes = 2 )
  ## Not run: 
    # this should trow an error (to many combinations required )
    ex6   &lt;-  getSetOfSchemes( minNSubjects = 2 , maxNSubjects = 5 , 
       minObsPerSubject = 2 ,  maxObsPerSubject = 3 , timePoints ,
       maxRepetitionIndSchemes = 2 ,  maxNumberOfSchemesBeforeChecks = 1000 )

## End(Not run)
</code></pre>

<hr>
<h2 id='getSummaryRanks'>internal function to rank by a summary function over criterio</h2><span id='topic+getSummaryRanks'></span>

<h3>Description</h3>

<p>internal function to rank by a summary function over criterio
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSummaryRanks(rankingOverview, names, summaryFunction)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSummaryRanks_+3A_rankingoverview">rankingOverview</code></td>
<td>
<p>matrix with columns scenarios and columns objects names to rank</p>
</td></tr>
<tr><td><code id="getSummaryRanks_+3A_names">names</code></td>
<td>
<p>of the objects to return</p>
</td></tr>
<tr><td><code id="getSummaryRanks_+3A_summaryfunction">summaryFunction</code></td>
<td>
<p>function to apply over scenarios</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with name and criterion ordered
</p>

<hr>
<h2 id='getTimeChoicePerformance'>estimate the distance between population average  an average over sample datasets with given time points (zero point included)</h2><span id='topic+getTimeChoicePerformance'></span>

<h3>Description</h3>

<p>estimate the distance between population average  an average over sample datasets with given time points (zero point included)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTimeChoicePerformance(timePointInd, pkData, popAvCurve, timeGrid,
  printMCError = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTimeChoicePerformance_+3A_timepointind">timePointInd</code></td>
<td>
<p>a vector indicating time points indicator selection of time points from fullTimePoints</p>
</td></tr>
<tr><td><code id="getTimeChoicePerformance_+3A_pkdata">pkData</code></td>
<td>
<p><code><a href="#topic+PkData-class">PkData-class</a></code></p>
</td></tr>
<tr><td><code id="getTimeChoicePerformance_+3A_popavcurve">popAvCurve</code></td>
<td>
<p>an interpolated population average curve</p>
</td></tr>
<tr><td><code id="getTimeChoicePerformance_+3A_timegrid">timeGrid</code></td>
<td>
<p>the grid point at which to interpolate the curve</p>
</td></tr>
<tr><td><code id="getTimeChoicePerformance_+3A_printmcerror">printMCError</code></td>
<td>
<p>logical indicater when true the MC error is printed to the terminal, defaults to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value of the timePoint choice performance
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # get example inputs
 fullPkData                 &lt;-  getExampleTimeData() # PkData object
 fullTimePoints             &lt;-  getTimePoints(fullPkData)
 examplePopAvCurve          &lt;-  fullTimePoints^2 
 timePointIndicators        &lt;-  c( 1 , 5, 21 ) # zero point included
 nGridPoints                &lt;-  25
 timeGrid                   &lt;-  seq( min( fullTimePoints ),
    max( fullTimePoints ) , length.out = nGridPoints ) 
 popCurveInterpolated       &lt;-  microsamplingDesign:::interpolateVec( fullTimePoints ,
   examplePopAvCurve,  timeGrid )

 getTimeChoicePerformance( timePointInd = timePointIndicators, pkData = fullPkData ,
   popAvCurve = popCurveInterpolated, timeGrid ) 

 getTimeChoicePerformance( timePointInd = timePointIndicators, pkData = fullPkData ,
   popAvCurve = popCurveInterpolated, timeGrid, printMCError = TRUE ) 

</code></pre>

<hr>
<h2 id='getTimePoints'>generic function to extract <code>timePoints</code>-slot</h2><span id='topic+getTimePoints'></span><span id='topic+getTimePoints+2CSetOfSchemes-method'></span><span id='topic+getTimePoints+2CPkData-method'></span><span id='topic+getTimePoints+2CSetOfTimePoints-method'></span>

<h3>Description</h3>

<p>generic function to extract <code>timePoints</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTimePoints(object, ...)

## S4 method for signature 'SetOfSchemes'
getTimePoints(object)

## S4 method for signature 'PkData'
getTimePoints(object)

## S4 method for signature 'SetOfTimePoints'
getTimePoints(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTimePoints_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="getTimePoints_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='getTopNRanking'>extract the top n rankings as numeric vector</h2><span id='topic+getTopNRanking'></span>

<h3>Description</h3>

<p>extract the top n rankings as numeric vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTopNRanking(ranking, nSelect, top = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTopNRanking_+3A_ranking">ranking</code></td>
<td>
<p>ranking slot of a <code><a href="#topic+SetOfTimePoints-class">SetOfTimePoints-class</a></code> or <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
<tr><td><code id="getTopNRanking_+3A_nselect">nSelect</code></td>
<td>
<p>the number of items to select</p>
</td></tr>
<tr><td><code id="getTopNRanking_+3A_top">top</code></td>
<td>
<p>logical value if <code>TRUE</code> the top of the ranking is selected, if <code>FALSE</code> the bottom of the ranking is selected,
defaults to  <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of items (number of timePointOption or scheme ) from highest to lowest rank
</p>

<hr>
<h2 id='oneCompartmentOralModel'>solution of one compartmental oral administration model
only use one set of parameters, times can input can be an numeric array</h2><span id='topic+oneCompartmentOralModel'></span>

<h3>Description</h3>

<p>solution of one compartmental oral administration model
only use one set of parameters, times can input can be an numeric array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oneCompartmentOralModel(parameters, time, dosingInfo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oneCompartmentOralModel_+3A_parameters">parameters</code></td>
<td>
<p>a numeric verctor of parameters as input to the model with names
</p>

<ul>
<li><p> Ka: constant absorption rate
</p>
</li>
<li><p> Ke: constant elimination rate
</p>
</li>
<li><p> dose: initial dose
</p>
</li>
<li><p> volume: volume to which the dose is administered
</p>
</li></ul>
</td></tr>
<tr><td><code id="oneCompartmentOralModel_+3A_time">time</code></td>
<td>
<p>a numeric vector containing timePoints at which the concentration should be predicted
timepoint zero is defined as the moment the dose is administered</p>
</td></tr>
<tr><td><code id="oneCompartmentOralModel_+3A_dosinginfo">dosingInfo</code></td>
<td>
<p>see <code>link{PkModel-class}</code> but opnly one dose at time zero allowed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of concentrations corresponding to the input timePoints
</p>

<hr>
<h2 id='pkCurveStat'>calculate summary statistics from a pkCurve</h2><span id='topic+pkCurveStat'></span><span id='topic+pkCurveStat_auc'></span><span id='topic+auc'></span><span id='topic+pkCurveStat_cMax'></span><span id='topic+cMax'></span><span id='topic+pkCurveStat_tMax'></span><span id='topic+tMax'></span>

<h3>Description</h3>

<p>implemented statistics:
</p>

<ul>
<li><p>auc  area under the curve , between first and last time points 
</p>
</li>
<li><p>cMax  maximum concentration
</p>
</li>
<li><p>tMax  time at maximum concentration 
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pkCurveStat_auc(concentration, timePoints)

pkCurveStat_cMax(concentration, timePoints)

pkCurveStat_tMax(concentration, timePoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkCurveStat_+3A_concentration">concentration</code></td>
<td>
<p>numeric vector of concentrations corresponding to <code>timePoints</code></p>
</td></tr>
<tr><td><code id="pkCurveStat_+3A_timepoints">timePoints</code></td>
<td>
<p><code>time</code> and <code>concentration</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## toy example
  timeToy               &lt;-  1:2
  concToy               &lt;-  1:2 
 
  pkCurveStat_auc( concToy ,  timeToy ) 
  pkCurveStat_cMax( concToy ,  timeToy  )
  pkCurveStat_tMax( concToy ,  timeToy  )

  ## real example
  times                 &lt;-  c(0 , 1.5 , 2:10)
  concentration         &lt;-  getExamplePkCurve( times )
  pkCurveStat_auc( concentration , times  ) 
  pkCurveStat_cMax( concentration , times   )
  pkCurveStat_tMax( concentration , times   )

</code></pre>

<hr>
<h2 id='PkData-class'>An S4 object containing samples from a Pk model</h2><span id='topic+PkData-class'></span><span id='topic+PkData'></span><span id='topic+pkData'></span><span id='topic+pkdata'></span>

<h3>Description</h3>

<p>An S4 object containing samples from a Pk model
</p>


<h3>Slots</h3>


<dl>
<dt><code>modelFunction</code></dt><dd><p>a function of parameters and hyperparameters</p>
</dd>
<dt><code>parameters</code></dt><dd><p>a data.frame of parameters of mean parameters as input to the modelFunction
with columns:
</p>

<ul>
<li><p> parameter: parameter name for 
</p>
</li>
<li><p> explanation: optional explantion
</p>
</li>
<li><p> value: fixed parameter value for <code><a href="#topic+PkModel-class">PkModel-class</a></code>,
for <code><a href="#topic+PkModel-class">PkModel-class</a></code> split up between <code>minValue</code> and <code>maxValue</code>               
</p>
</li>
<li><p> coeffVariation: the coefficient of variation (  standard deviation / mean ) specifying between-subject variation,
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minValue</code> and <code>maxValue</code>  
</p>
</li></ul>
</dd>
<dt><code>correlationMatrix</code></dt><dd><p>correlation matrix of parameters at the log-scale</p>
</dd>
<dt><code>coeffVariationError</code></dt><dd><p>the coefficient of variation for residual normally distributed error, 
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minCoeffVariationError</code> and <code>maxCoeffVariationError</code> 
@slot dosingInfo data frame containing:
</p>

<ul>
<li><p> time numeric,  times when a dose is administered
</p>
</li>
<li><p> dose numeric, with an amount of dose 
</p>
</li></ul>
</dd>
<dt><code>timePoints</code></dt><dd><p>vector of time points</p>
</dd>
<dt><code>.Data</code></dt><dd><p>a numerical array of 3 dimensions ( nSubjects x nTimePoints x nSamples )</p>
</dd>
</dl>


<h3>Note</h3>

<p>other slots are inherited from <code>{<a href="#topic+PkModel-class">PkModel-class</a>}</code>
</p>


<h3>Author(s)</h3>

<p>Adriaan Blommaert
</p>

<hr>
<h2 id='PkModel-class'>S4 class PkModel representing a pharmacokinetic model and its parameters</h2><span id='topic+PkModel-class'></span><span id='topic+PkModel'></span><span id='topic+pkModel'></span><span id='topic+pkmodel'></span>

<h3>Description</h3>

<p>S4 class PkModel representing a pharmacokinetic model and its parameters
</p>


<h3>Slots</h3>


<dl>
<dt><code>modelFunction</code></dt><dd><p>a function of parameters and hyperparameters</p>
</dd>
<dt><code>parameters</code></dt><dd><p>a data.frame of parameters of mean parameters as input to the modelFunction
with columns:
</p>

<ul>
<li><p> parameter: parameter name for 
</p>
</li>
<li><p> explanation: optional explantion
</p>
</li>
<li><p> value: fixed parameter value for <code><a href="#topic+PkModel-class">PkModel-class</a></code>,
for <code><a href="#topic+PkModel-class">PkModel-class</a></code> split up between <code>minValue</code> and <code>maxValue</code>               
</p>
</li>
<li><p> coeffVariation: the coefficient of variation (  standard deviation / mean ) specifying between-subject variation,
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minValue</code> and <code>maxValue</code>  
</p>
</li></ul>
</dd>
<dt><code>correlationMatrix</code></dt><dd><p>correlation matrix of parameters at the log-scale</p>
</dd>
<dt><code>coeffVariationError</code></dt><dd><p>the coefficient of variation for residual normally distributed error, 
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minCoeffVariationError</code> and <code>maxCoeffVariationError</code> 
@slot dosingInfo data frame containing:
</p>

<ul>
<li><p> time numeric,  times when a dose is administered
</p>
</li>
<li><p> dose numeric, with an amount of dose 
</p>
</li></ul>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Adriaan Blommaert
</p>

<hr>
<h2 id='PkModelParent-class'>virtual class, for testing <code><a href="#topic+PkModel-class">PkModel-class</a></code> and <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code> together</h2><span id='topic+PkModelParent-class'></span>

<h3>Description</h3>

<p>virtual class, for testing <code><a href="#topic+PkModel-class">PkModel-class</a></code> and <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code> together
</p>


<h3>Slots</h3>


<dl>
<dt><code>modelFunction</code></dt><dd><p>a function of parameters and hyperparameters</p>
</dd>
<dt><code>parameters</code></dt><dd><p>a data.frame of parameters of mean parameters as input to the modelFunction
with columns:
</p>

<ul>
<li><p> parameter: parameter name for 
</p>
</li>
<li><p> explanation: optional explantion
</p>
</li>
<li><p> value: fixed parameter value for <code><a href="#topic+PkModel-class">PkModel-class</a></code>,
for <code><a href="#topic+PkModel-class">PkModel-class</a></code> split up between <code>minValue</code> and <code>maxValue</code>               
</p>
</li>
<li><p> coeffVariation: the coefficient of variation (  standard deviation / mean ) specifying between-subject variation,
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minValue</code> and <code>maxValue</code>  
</p>
</li></ul>
</dd>
<dt><code>correlationMatrix</code></dt><dd><p>correlation matrix of parameters at the log-scale</p>
</dd>
<dt><code>coeffVariationError</code></dt><dd><p>the coefficient of variation for residual normally distributed error, 
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minCoeffVariationError</code> and <code>maxCoeffVariationError</code> 
@slot dosingInfo data frame containing:
</p>

<ul>
<li><p> time numeric,  times when a dose is administered
</p>
</li>
<li><p> dose numeric, with an amount of dose 
</p>
</li></ul>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Adriaan Blommaert
</p>

<hr>
<h2 id='PkModelRange-class'>S4 class PkModel representing a pharmacokinetic model and its parameters and uncertainty of parameter choices by ranges</h2><span id='topic+PkModelRange-class'></span><span id='topic+PkModelRange'></span><span id='topic+pkModelRange'></span><span id='topic+pkmodelrange'></span>

<h3>Description</h3>

<p>S4 class PkModel representing a pharmacokinetic model and its parameters and uncertainty of parameter choices by ranges
</p>


<h3>Slots</h3>


<dl>
<dt><code>modelFunction</code></dt><dd><p>a function of parameters and hyperparameters</p>
</dd>
<dt><code>parameters</code></dt><dd><p>a data.frame of parameters of mean parameters as input to the modelFunction
with columns:
</p>

<ul>
<li><p> parameter: parameter name for 
</p>
</li>
<li><p> explanation: optional explantion
</p>
</li>
<li><p> value: fixed parameter value for <code><a href="#topic+PkModel-class">PkModel-class</a></code>,
for <code><a href="#topic+PkModel-class">PkModel-class</a></code> split up between <code>minValue</code> and <code>maxValue</code>               
</p>
</li>
<li><p> coeffVariation: the coefficient of variation (  standard deviation / mean ) specifying between-subject variation,
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minValue</code> and <code>maxValue</code>  
</p>
</li></ul>
</dd>
<dt><code>correlationMatrix</code></dt><dd><p>correlation matrix of parameters at the log-scale</p>
</dd>
<dt><code>coeffVariationError</code></dt><dd><p>the coefficient of variation for residual normally distributed error, 
for <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>  split up into <code>minCoeffVariationError</code> and <code>maxCoeffVariationError</code> 
@slot dosingInfo data frame containing:
</p>

<ul>
<li><p> time numeric,  times when a dose is administered
</p>
</li>
<li><p> dose numeric, with an amount of dose 
</p>
</li></ul>
</dd>
</dl>

<hr>
<h2 id='pkOdeModel2Compartments'>Set of differential equations representing two compartmental pk model with possible Michaelis-Menten kinetics at absorption and clearance
used as interal function</h2><span id='topic+pkOdeModel2Compartments'></span>

<h3>Description</h3>

<p>Set of differential equations representing two compartmental pk model with possible Michaelis-Menten kinetics at absorption and clearance
used as interal function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkOdeModel2Compartments(t, y, parameters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkOdeModel2Compartments_+3A_t">t</code></td>
<td>
<p>numeric representing time in the system</p>
</td></tr>
<tr><td><code id="pkOdeModel2Compartments_+3A_y">y</code></td>
<td>
<p>list of state variables ( dose in gut , concentration in plasma , concentration in tissue )</p>
</td></tr>
</table>

<hr>
<h2 id='plotAverageRat'>plot plasma concentration for average individual (i.e average parameter values) in function of dose at time zero</h2><span id='topic+plotAverageRat'></span>

<h3>Description</h3>

<p>plot plasma concentration for average individual (i.e average parameter values) in function of dose at time zero
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotAverageRat(pkModel, doseZero, timePoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotAverageRat_+3A_pkmodel">pkModel</code></td>
<td>
<p><code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
<tr><td><code id="plotAverageRat_+3A_dosezero">doseZero</code></td>
<td>
<p>numeric value, dose given at time zero</p>
</td></tr>
<tr><td><code id="plotAverageRat_+3A_timepoints">timePoints</code></td>
<td>
<p>a numeric vector of time points to plot the plasma concentration at</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object
</p>


<h3>Note</h3>

<p>dose inside de <code>pkModel</code> is not used
</p>


<h3>Examples</h3>

<pre><code class='language-R'> plotAverageRat( getExamplePkModel() , 2 , seq( 0 , 20, 0.1 ) )
</code></pre>

<hr>
<h2 id='plotMMCurve'>plot Michealis-Menten curve for either capacity dependent absorption or clearance</h2><span id='topic+plotMMCurve'></span>

<h3>Description</h3>

<p>plot Michealis-Menten curve for either capacity dependent absorption or clearance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotMMCurve(dataInput, parameter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotMMCurve_+3A_datainput">dataInput</code></td>
<td>
<p>output of function <code><a href="#topic+getMMCurve">getMMCurve</a></code></p>
</td></tr>
<tr><td><code id="plotMMCurve_+3A_parameter">parameter</code></td>
<td>
<p>character value indicating either <code>absorption</code> or <code>clearance</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2-object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  plotMMCurve( dataInput = getMMCurve( seq(0, 5 , 0.01 ) ,
      Vmax = 5 , kappaMM = 0.3 ) , parameter = "absorption" )
  plotMMCurve( dataInput = getMMCurve( seq(0, 5 , 0.01 ) ,
      Vmax = 5 , kappaMM = 0.3 , constantValue = 4 ) , parameter = "absorption" ) 
  plotMMCurve( dataInput = getMMCurve( seq(0, 1 , 0.01 ) ,
      Vmax = 2 , kappaMM = 0.3 ) , parameter = "clearance" )
  plotMMCurve( dataInput = getMMCurve( seq(0, 1 , 0.01 ) ,
       Vmax = 2 , kappaMM = 0.3 , constantValue = 1.5 ) , parameter = "clearance" )  
</code></pre>

<hr>
<h2 id='plotMMKinetics'>plot MM kinetics of both absorption and clearance</h2><span id='topic+plotMMKinetics'></span>

<h3>Description</h3>

<p>plot MM kinetics of both absorption and clearance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotMMKinetics(pkModel, doseRange, concentrationRange,
  absorptionYRange = NULL, clearanceYRange = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotMMKinetics_+3A_pkmodel">pkModel</code></td>
<td>
<p>an object of <code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
<tr><td><code id="plotMMKinetics_+3A_doserange">doseRange</code></td>
<td>
<p>numeric vector representing the range of doses for absorption plot</p>
</td></tr>
<tr><td><code id="plotMMKinetics_+3A_concentrationrange">concentrationRange</code></td>
<td>
<p>numeric vector representing the range of concentrations for the clearance plot</p>
</td></tr>
<tr><td><code id="plotMMKinetics_+3A_absorptionyrange">absorptionYRange</code></td>
<td>
<p>numeric vector of size 2 specifying y-limits for the absorption plot, defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="plotMMKinetics_+3A_clearanceyrange">clearanceYRange</code></td>
<td>
<p>numeric vector of size 2 specifying y-limits for the clearance plot, defaults to <code>NULL</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   plotMMKinetics( pkModel = getExamplePkModel() , 
      doseRange = seq( 0 , 5 , 0.1 ) , 
      concentrationRange = seq( 0 , 2.5 , 0.1  ) )
   plotMMKinetics( pkModel = getExamplePkModel() , 
       doseRange = seq( 0 , 5 , 0.1 ) , 
       concentrationRange = seq( 0 , 2.5 , 0.1  ) , 
       clearanceYRange = c( 0 , 50 ) , absorptionYRange = c( 0 , 10 )  )
</code></pre>

<hr>
<h2 id='plotObject'>generic function to plot an object</h2><span id='topic+plotObject'></span><span id='topic+plotObject+2CPkModel-method'></span><span id='topic+plotObject+2CPkData-method'></span>

<h3>Description</h3>

<p>generic function to plot an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotObject(object, ...)

## S4 method for signature 'PkModel'
plotObject(object, times, nCurves = 12,
  nSamplesIntegration = 1000, seed = 134, sampleCurvesOnly = FALSE,
  indSamplingPoints = FALSE)

## S4 method for signature 'PkData'
plotObject(object, nCurves = NULL,
  nSamplesIntegration = 1000, sampleCurvesOnly = TRUE, seed = NULL,
  indSamplingPoints = TRUE, addZeroIsZero = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotObject_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="plotObject_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="plotObject_+3A_times">times</code></td>
<td>
<p>numeric vector at of times at which the model should be simulated for <code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
<tr><td><code id="plotObject_+3A_ncurves">nCurves</code></td>
<td>
<p>the number of sample curves defaults to 12 for <code><a href="#topic+PkModel-class">PkModel-class</a></code> ,
if <code><a href="#topic+PkData-class">PkData-class</a></code> defaults to <code>NULL</code> meaning all data are plotted</p>
</td></tr>
<tr><td><code id="plotObject_+3A_nsamplesintegration">nSamplesIntegration</code></td>
<td>
<p>number of simulated curves to calculate averaged curve, defaults to  1000</p>
</td></tr>
<tr><td><code id="plotObject_+3A_seed">seed</code></td>
<td>
<p>specify the random seed to draw samples to get the same plot each time</p>
</td></tr>
<tr><td><code id="plotObject_+3A_samplecurvesonly">sampleCurvesOnly</code></td>
<td>
<p>logical value if <code>TRUE</code> only sample curves are displayed and the averaged curve omitted ,
defaults to <code>FALSE</code> for <code><a href="#topic+PkModel-class">PkModel-class</a></code> and <code>TRUE</code> for <code><a href="#topic+PkData-class">PkData-class</a></code></p>
</td></tr>
<tr><td><code id="plotObject_+3A_indsamplingpoints">indSamplingPoints</code></td>
<td>
<p>logical indicator if <code>TRUE</code> sample times are indicated on the plot, 
defaults to <code>FALSE</code> for <code><a href="#topic+PkModel-class">PkModel-class</a></code> and <code>TRUE</code> for <code><a href="#topic+PkData-class">PkData-class</a></code></p>
</td></tr>
<tr><td><code id="plotObject_+3A_addzeroiszero">addZeroIsZero</code></td>
<td>
<p>logical value, when <code>TRUE</code> the zero point is added 
to the plot with value zero ( only for  <code><a href="#topic+PkData-class">PkData-class</a></code> , defaults to <code>FALSE</code> )</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# examples with limited number of samples, increase samples in practice
plotObject( object =  getExamplePkModel() , 
   times = seq( 0 , 10 , 1 )  , nSamplesIntegration = 25 )
plotObject( object =  getExamplePkModel() ,
   times = seq( 0 , 10 , 1 ) , nCurves = 3 , nSamplesIntegration = 5  )
plotObject( object =  getExamplePkModel() ,
    times = seq( 0 , 10 , 1 ) , nCurves = 3 , sampleCurvesOnly = TRUE  )

## End(Not run)
## Not run: 
pkData    &lt;-   getPkData( getExamplePkModel() , 1:10 ,  5 , 10 )
plotObject( object =  pkData  )
plotObject( object =  pkData , nCurves = 2 )
plotObject( object =  pkData , nCurves = 2 , addZeroIsZero = TRUE )
plotObject( object = pkData , nCurves = 3 , 
   sampleCurvesOnly = FALSE , nSamplesIntegration = 25   ) 

## End(Not run) 
</code></pre>

<hr>
<h2 id='rankBasedOnDirectory'>internal function apply ranking per directory</h2><span id='topic+rankBasedOnDirectory'></span>

<h3>Description</h3>

<p>internal function apply ranking per directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankBasedOnDirectory(objectToRank, subDir, nSimulations, rankingSettings,
  nCores = 1)
</code></pre>


<h3>Note</h3>

<p>use version of rankObject without defaults
</p>

<hr>
<h2 id='rankObject'>generic function to calulate a <code>ranking</code>-slot</h2><span id='topic+rankObject'></span><span id='topic+fastRankSchemes'></span><span id='topic+rankObject+2CSetOfSchemes-method'></span><span id='topic+rankObject+2CSetOfTimePoints-method'></span>

<h3>Description</h3>

<p>generic function to calulate a <code>ranking</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankObject(object, ...)

fastRankSchemes(object, pkData, objective, nCores = 1)

## S4 method for signature 'SetOfSchemes'
rankObject(object, pkData, objective,
  varianceMeasure = "var", scaleWith = "max", skipTests = FALSE,
  nCores = 1)

## S4 method for signature 'SetOfTimePoints'
rankObject(object, pkData, nGrid = 100,
  nSamplesAvCurve = 1000, useAverageRat = FALSE, avCurve = NULL,
  nCores = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rankObject_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="rankObject_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="rankObject_+3A_pkdata">pkData</code></td>
<td>
<p><code><a href="#topic+PkData-class">PkData-class</a></code></p>
</td></tr>
<tr><td><code id="rankObject_+3A_objective">objective</code></td>
<td>
<p>a <code>data.frame</code> with columns:
</p>

<ul>
<li><p>criterion summary function of an estimeted pkCurve (data frame with columns time and concentration):  area under the curve (<code>auc</code>) ; maximum concentration 
(<code>cMax</code>) and time when the maximum concentration is reached (<code>tMax</code>); 
user defined functions are alowed but prefix <code>pkCurveStat_</code> should be added in function definition, see examples <code><a href="#topic+pkCurveStat">pkCurveStat</a></code> 

</p>
</li>
<li><p>weight relative importance of the different criteria
</p>
</li></ul>
</td></tr>
<tr><td><code id="rankObject_+3A_ncores">nCores</code></td>
<td>
<p>number of cores used in parellel processing, defaults to 1</p>
</td></tr>
<tr><td><code id="rankObject_+3A_variancemeasure">varianceMeasure</code></td>
<td>
<p>variance criteria applied to the objective, defaults to summarise objective over sample data, defaults to  <code>var</code></p>
</td></tr>
<tr><td><code id="rankObject_+3A_scalewith">scaleWith</code></td>
<td>
<p>function to scale different criteria in <code>objective</code> before combining results by taking a weighted sum</p>
</td></tr>
<tr><td><code id="rankObject_+3A_skiptests">skipTests</code></td>
<td>
<p>if <code>TRUE</code> object validity and compatibility is not tested, defaults to <code>FALSE</code> , doing these tests is slow</p>
</td></tr>
<tr><td><code id="rankObject_+3A_ngrid">nGrid</code></td>
<td>
<p>number of equally spaced point to calculate the distance between sample and population averaged kinetic curve, defaults to 100</p>
</td></tr>
<tr><td><code id="rankObject_+3A_nsamplesavcurve">nSamplesAvCurve</code></td>
<td>
<p>the number of samples to calculate the averaged curve ( only to rank <code><a href="#topic+SetOfTimePoints-class">SetOfTimePoints-class</a></code>),
defaults to 1000</p>
</td></tr>
<tr><td><code id="rankObject_+3A_useaveragerat">useAverageRat</code></td>
<td>
<p>logical value if TRUE, the average rat (with random effects equal to zero and no additional error) is used instead of the integrated out population averaged curve, 
defaults to FALSE; this is faster but biased</p>
</td></tr>
<tr><td><code id="rankObject_+3A_avcurve">avCurve</code></td>
<td>
<p>a user specified averaged curve, when specified, the average curve is no longer calculated from the pkModel, defaults to <code>NULL</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>fastRankSchemes</code> is a faster version to rank<code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> objects ,
with fixed settings ( objective AUC and cMax , summary measure is variance and scale measure is maximum ). It is meant to be used 
inside the shiny application
</p>


<h3>Value</h3>

<p><code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> object
</p>


<h3>Note</h3>

<p>when ranking <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> using if multiple criteria, the combined criterion is rescaled such that the best result is 1
</p>
<p>if <code><a href="#topic+SetOfTimePoints-class">SetOfTimePoints-class</a></code> timePoints are ranked according to mimimal distance between population average curve and 
the estimate of the population average curve based on a selection of time points.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  setOfSchemes             &lt;-  getExampleSetOfSchemes()
  dataForSchemes            &lt;-  getExampleData()
  ex1       &lt;-  rankObject( object = setOfSchemes, dataForSchemes ,
    objective = data.frame( criterion = "auc" , weight = 1 ) )
  getRanking(ex1) # to get the dataframe and not the whole object
  ex2       &lt;-  rankObject( object = setOfSchemes, dataForSchemes ,
    objective = data.frame( criterion = "auc" , weight = 1 )  ,
    varianceMeasure = "sd" , scaleWith = "min" ) 
  getRanking(ex2) 
  ex3       &lt;-  rankObject( object = setOfSchemes, dataForSchemes ,
    objective = data.frame( criterion = c( "auc" , "cMax" , "tMax" )  ,
     weight = c( 9 , 1, 1 ) ) ) 
  getRanking(ex3)

  # example with own defined varianceMeasure
  rangeWidth     &lt;-  function( x ){
     range &lt;-  range(x) ;
     rangeWith  &lt;-  range[2] - range[1]; rangeWith
   }
  ex4       &lt;-  rankObject( object = setOfSchemes, dataForSchemes , 
      objective = data.frame( criterion = c( "auc" , "cMax" , "tMax" )  , 
      weight = c( 9 , 1, 1 ) ) ,
      varianceMeasure = "rangeWidth" ,
      scaleWith = "mean" ) 

## End(Not run)
## Not run: 
 fullTimePoints    &lt;-  0:10
 setOfTimePoints   &lt;-  getExampleSetOfTimePoints( fullTimePoints)
 pkDataExample     &lt;-  getPkData( getExamplePkModel() , getTimePoints( setOfTimePoints ) , 
   nSubjectsPerScheme = 5 , nSamples = 17   )
 ex1               &lt;-  rankObject( object = setOfTimePoints , pkData = pkDataExample ,
     nGrid = 75 , nSamplesAvCurve = 13)
 ex2               &lt;-  rankObject( object = setOfTimePoints ,   pkData = pkDataExample , 
     nGrid = 75 , nSamplesAvCurve = 13 , useAverageRat = TRUE )
 ex3               &lt;-  rankObject( object = setOfTimePoints ,   pkData = pkDataExample ,
     nGrid = 75 , avCurve = rep(0 , length(fullTimePoints) ) )

## End(Not run)
</code></pre>

<hr>
<h2 id='rankObjectWithRange'>Rank a <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> or a <code><a href="#topic+SetOfTimePoints">SetOfTimePoints</a></code> object using data generated per scneario defined by <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code></h2><span id='topic+rankObjectWithRange'></span>

<h3>Description</h3>

<p>Rank a <code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code> or a <code><a href="#topic+SetOfTimePoints">SetOfTimePoints</a></code> object using data generated per scneario defined by <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankObjectWithRange(object, pkModelRange, nSim,
  summaryFunctionOverScenarios = "max", directory = NULL, nCores = 1,
  seed = 123, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rankObjectWithRange_+3A_object">object</code></td>
<td>
<p>to be ranked</p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_pkmodelrange">pkModelRange</code></td>
<td>
<p>see <code><a href="#topic+PkModelRange-class">PkModelRange-class</a></code></p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_nsim">nSim</code></td>
<td>
<p>number of samples dataset to generate per scenario (= combination of uncertain parameters)</p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_summaryfunctionoverscenarios">summaryFunctionOverScenarios</code></td>
<td>
<p>function to summarize performance over different scenarios, defaults to <code>max</code> which 
corresponds to the min-max criterion</p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_directory">directory</code></td>
<td>
<p>directory to save models as <code>.Rds</code>  objects, defaults to <code>NULL</code>
when a temporary directory is made to save models and additional info  on simulation settings, ranks, ...</p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_ncores">nCores</code></td>
<td>
<p>number of cores used internally for ranking</p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_seed">seed</code></td>
<td>
<p>random seed reset when ranking on each directory ( for reproducibility ) , defaults to <code>123</code></p>
</td></tr>
<tr><td><code id="rankObjectWithRange_+3A_...">...</code></td>
<td>
<p>additional parameters to pass to <code><a href="#topic+rankObject">rankObject</a></code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>parallel computing at level of individual ranking and data generation
</p>
<p>see <code><a href="#topic+rankObject">rankObject</a></code> for additional arguments, whem ranking a <code>link{SetOfTimePoints-class}</code> , <code>nSubjectsPerScheme</code> should be included
</p>
<p>The same random seed is used when using parallel computations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run:  # takes to much time for CRAN
   ## rank SetOfSchemes 
  setOfSchemesExample    &lt;-  getExampleSetOfSchemes()
  pkModelRange           &lt;-  getExamplePkModelRange()
  nSim                   &lt;-  13 
  testDirectory1         &lt;-  file.path( tempdir() , "test1" )
  dir.create( testDirectory1 )
  rankObjectWithRange( object = setOfSchemesExample , pkModelRange ,  nSim = 13  , 
    summaryFunctionOverScenarios = "max" ,
    directory  = testDirectory1 , varianceMeasure = "sd" , objective = getExampleObjective() 
    , nCores = 1 )

 
  ## rank set of timePoints 
  timePoints          &lt;-  getExampleSetOfTimePoints( 0:10 )
  testDirectory2      &lt;-  file.path( tempdir() , "test2" )
  dir.create( testDirectory2 )
  rankObjectWithRange( object = timePoints , pkModelRange ,  nSim = 13  ,
    summaryFunctionOverScenarios = "max" ,  directory  = testDirectory2 , nGrid = 20 , 
    nSamplesAvCurve = 25 , nSubjectsPerScheme = 3 
    , nCores = 1 )
  
  # remark : use larger number of simulation in realistic context
 
 ## clean up directories 
  unlink( testDirectory1 , recursive = TRUE )
  unlink( testDirectory2 , recursive = TRUE )
 
## End(Not run)
</code></pre>

<hr>
<h2 id='runMicrosamplingDesignApp'>Run the PkPlotApp in a new tab in your browser</h2><span id='topic+runMicrosamplingDesignApp'></span>

<h3>Description</h3>

<p>Run the PkPlotApp in a new tab in your browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runMicrosamplingDesignApp(installDependencies = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runMicrosamplingDesignApp_+3A_installdependencies">installDependencies</code></td>
<td>
<p>boolean, whether to first install packages listed
in the Suggests field of DESCRIPTION; default value is FALSE</p>
</td></tr>
<tr><td><code id="runMicrosamplingDesignApp_+3A_...">...</code></td>
<td>
<p>further arguments that can be passed to <code><a href="shiny.html#topic+runApp">runApp</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>no return value
</p>
<p>no return value
</p>


<h3>Note</h3>

<p>on windows computer, nCores set to 1 because forking not possible on windows machine
</p>
<p>The shiny application contains a 2 compartmental oral dosing pharmacokinetic model which does not include measurement error
</p>

<hr>
<h2 id='setCoeffVariationError+26lt+3B-'>replace <code>coeffVariationError</code>-slot</h2><span id='topic+setCoeffVariationError+3C-'></span><span id='topic+setCoeffVariationError+3C-+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>replace <code>coeffVariationError</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setCoeffVariationError( object ) &lt;-  value

## S4 replacement method for signature 'PkModelParent'
setCoeffVariationError(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setCoeffVariationError+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="setCoeffVariationError+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a value containing the coefficient of variation of the error term</p>
</td></tr>
</table>

<hr>
<h2 id='setCorrelationMatrix+26lt+3B-'>replace <code>correlationMatrix</code>-slot</h2><span id='topic+setCorrelationMatrix+3C-'></span><span id='topic+setCorrelationMatrix+3C-+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>replace <code>correlationMatrix</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setCorrelationMatrix( object ) &lt;-  value

## S4 replacement method for signature 'PkModelParent'
setCorrelationMatrix(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setCorrelationMatrix+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="setCorrelationMatrix+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a matrix containing correlations between parameters</p>
</td></tr>
</table>

<hr>
<h2 id='setDosingInfo+26lt+3B-'>replace <code>dosingInfo</code>-slot</h2><span id='topic+setDosingInfo+3C-'></span><span id='topic+setDosingInfo+3C-+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>replace <code>dosingInfo</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setDosingInfo(object) &lt;-  value

## S4 replacement method for signature 'PkModelParent'
setDosingInfo(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setDosingInfo+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="setDosingInfo+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a data.frame containing dosing information</p>
</td></tr>
</table>

<hr>
<h2 id='setModelToAverageRat'>get a model with all variances to zero</h2><span id='topic+setModelToAverageRat'></span>

<h3>Description</h3>

<p>get a model with all variances to zero
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setModelToAverageRat(pkModel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setModelToAverageRat_+3A_pkmodel">pkModel</code></td>
<td>
<p><code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='SetOfSchemes-class'>S4 class SetOfSchemes representing a set of designs with given time points</h2><span id='topic+SetOfSchemes-class'></span><span id='topic+setOfSchemes'></span><span id='topic+SetOfSchemes'></span>

<h3>Description</h3>

<p>S4 class SetOfSchemes representing a set of designs with given time points
</p>


<h3>Slots</h3>


<dl>
<dt><code>.Data</code></dt><dd><p>a logical array of 3 dimensions ( nSubjects x nTimePoints x nSchemes )</p>
</dd>
<dt><code>timePoints</code></dt><dd><p>numeric vector of time Points</p>
</dd>
<dt><code>nSchemes</code></dt><dd><p>integer value number of schemes</p>
</dd>
<dt><code>nSubjects</code></dt><dd><p>numeric maximum number of subjects per scheme</p>
</dd>
<dt><code>designConstraints</code></dt><dd><p>a data.frame of constraints on possible sampling schemes as background information</p>
</dd>
<dt><code>ranking</code></dt><dd><p>is a data.frame which is the rank of the schemes according to a specific criterion</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Adriaan Blommaert
</p>

<hr>
<h2 id='SetOfTimePoints-class'>S4 class SetOfTimePoints representing a set of designs with given time points</h2><span id='topic+SetOfTimePoints-class'></span><span id='topic+SetOfTimePoints'></span><span id='topic+setOfTimePoints'></span>

<h3>Description</h3>

<p>S4 class SetOfTimePoints representing a set of designs with given time points
</p>


<h3>Slots</h3>


<dl>
<dt><code>.Data</code></dt><dd><p>a numerics array of 2 dimensions ( nTimePointChoices  x nTimePointsSelect) contains per time point choice the selected time points in hours</p>
</dd>
<dt><code>fullTimePoints</code></dt><dd><p>numeric vector of all time points one is willing to consider</p>
</dd>
<dt><code>nFullTimePoints</code></dt><dd><p>number of all time points one is willing to consider</p>
</dd>
<dt><code>nTimePointsSelect</code></dt><dd><p>number of time points selected from the fullTimePoints</p>
</dd>
<dt><code>nTimePointOptions</code></dt><dd><p>number of possible timePoint choices</p>
</dd>
<dt><code>ranking</code></dt><dd><p>is a data.frame which is the rank of the timePointChoices according to a specific criterion.</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Adriaan Blommaert
</p>

<hr>
<h2 id='setParameters+26lt+3B-'>replace <code>parameters</code>-slot</h2><span id='topic+setParameters+3C-'></span><span id='topic+setParameters+3C-+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>replace <code>parameters</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setParameters( object ) &lt;-  value

## S4 replacement method for signature 'PkModelParent'
setParameters(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setParameters+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="setParameters+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a data.frame containing parameters</p>
</td></tr>
</table>

<hr>
<h2 id='setRanking+26lt+3B-'>replace <code>ranking</code>-slot</h2><span id='topic+setRanking+3C-'></span><span id='topic+setRanking+3C-+2CSetOfSchemes-method'></span><span id='topic+setRanking+3C-+2CSetOfTimePoints-method'></span>

<h3>Description</h3>

<p>replace <code>ranking</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setRanking(object) &lt;-  value

## S4 replacement method for signature 'SetOfSchemes'
setRanking(object) &lt;- value

## S4 replacement method for signature 'SetOfTimePoints'
setRanking(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setRanking+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="setRanking+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a data.frame containing a ranking</p>
</td></tr>
</table>

<hr>
<h2 id='setTimePoints+26lt+3B-'>generic function to replace <code>timePoints</code>-slot</h2><span id='topic+setTimePoints+3C-'></span><span id='topic+setTimePoints+3C-+2CSetOfSchemes-method'></span>

<h3>Description</h3>

<p>generic function to replace <code>timePoints</code>-slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setTimePoints(object) &lt;- value

## S4 replacement method for signature 'SetOfSchemes'
setTimePoints(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setTimePoints+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="setTimePoints+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a vector of time points</p>
</td></tr>
</table>

<hr>
<h2 id='subsetOnTimePoints'>generic function to subset the <code>timePoints</code>-slot and generate an object of the same class</h2><span id='topic+subsetOnTimePoints'></span><span id='topic+subsetOnTimePoints+2CPkModel-method'></span>

<h3>Description</h3>

<p>generic function to subset the <code>timePoints</code>-slot and generate an object of the same class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subsetOnTimePoints(object, ...)

## S4 method for signature 'PkModel'
subsetOnTimePoints(object, timePointsSelect)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subsetOnTimePoints_+3A_object">object</code></td>
<td>
<p>a S4 class object</p>
</td></tr>
<tr><td><code id="subsetOnTimePoints_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="subsetOnTimePoints_+3A_timepointsselect">timePointsSelect</code></td>
<td>
<p>a subset of time points to select data for</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
subsetOnTimePoints( pkData, c( 1 , 2 ) )
subsetOnTimePoints( object = pkData, timePointsSelect =  c( 1 , 2 ) )
</code></pre>

<hr>
<h2 id='summary+2CPkModelParent-method'>function to summarize an object</h2><span id='topic+summary+2CPkModelParent-method'></span>

<h3>Description</h3>

<p>function to summarize an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PkModelParent'
summary(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CPkModelParent-method_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+PkModel-class">PkModel-class</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='summary+2CSetOfSchemes-method'>summarize object</h2><span id='topic+summary+2CSetOfSchemes-method'></span>

<h3>Description</h3>

<p>summarize object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SetOfSchemes'
summary(object, printToConsole = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CSetOfSchemes-method_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+SetOfSchemes-class">SetOfSchemes-class</a></code></p>
</td></tr>
<tr><td><code id="summary+2B2CSetOfSchemes-method_+3A_printtoconsole">printToConsole</code></td>
<td>
<p>logical value if <code>TRUE</code> prints to console ,
if <code>FALSE</code> outputs text element ,
defaults to <code>TRUE</code></p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

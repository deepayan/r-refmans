<!DOCTYPE html><html><head><title>Help for package zTree</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {zTree}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#zTree-package'>
<p>Functions to Import Data from 'z-Tree' into R</p></a></li>
<li><a href='#toLongDate'><p>Converts short (old) 'z-Tree' dates into long (new) 'z-Tree' dates.</p></a></li>
<li><a href='#zTreeSbj'><p>Read '.sbj' files generated by 'z-Tree' into R</p></a></li>
<li><a href='#zTreeTables'><p>Read '.xls' files generated by 'z-Tree' into R</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Functions to Import Data from 'z-Tree' into R</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-11-03</td>
</tr>
<tr>
<td>Author:</td>
<td>Oliver Kirchkamp</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Oliver Kirchkamp &lt;oliver@kirchkamp.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Read '.xls' and '.sbj' files which are written by the
   Microsoft Windows program 'z-Tree'. The latter is a software for
   developing and carrying out economic experiments
   (see <a href="http://www.ztree.uzh.ch/">http://www.ztree.uzh.ch/</a> for more information).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr (&ge; 1.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-03 15:40:49 UTC; oliver</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-03 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='zTree-package'>
Functions to Import Data from 'z-Tree' into R
</h2><span id='topic+zTree-package'></span><span id='topic+zTree'></span>

<h3>Description</h3>

<p>Read '.xls' and '.sbj' files which are written by the
   Microsoft Windows program 'z-Tree'. The latter is a software for
   developing and carrying out economic experiments
   (see &lt;http://www.ztree.uzh.ch/&gt; for more information).
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> zTree</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Functions to Import Data from 'z-Tree' into R</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.7</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-11-03</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Oliver Kirchkamp</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Oliver Kirchkamp &lt;oliver@kirchkamp.de&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Read '.xls' and '.sbj' files which are written by the
   Microsoft Windows program 'z-Tree'. The latter is a software for
   developing and carrying out economic experiments
   (see &lt;http://www.ztree.uzh.ch/&gt; for more information).</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3 | file LICENSE</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.1.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> plyr (&gt;= 1.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
toLongDate              Converts short (old) 'z-Tree' dates into long
                        (new) 'z-Tree' dates.
zTree-package           Functions to Import Data from 'z-Tree' into R
zTreeSbj                Read '.sbj' files generated by 'z-Tree' into R
zTreeTables             Read '.xls' files generated by 'z-Tree' into R
</pre>


<h3>Author(s)</h3>

<p>Oliver Kirchkamp
Maintainer: Oliver Kirchkamp &lt;oliver@kirchkamp.de&gt;
</p>


<h3>References</h3>

<p>Urs Fischbacher. &quot;z-Tree: Zurich Toolbox for Ready-made Economic Experiments.&quot;
Experimental Economics (2) 171-178, 2007.
</p>
<p>Oliver Kirchkamp. &quot;Importing z-Tree data into R.&quot;
Journal of Behavioral and Experimental Finance (22), 1-2, 2019.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
zTT &lt;- zTreeTables(c("080712_1412.xls","080712_1818.xls"))

## End(Not run)</code></pre>

<hr>
<h2 id='toLongDate'>Converts short (old) 'z-Tree' dates into long (new) 'z-Tree' dates.</h2><span id='topic+toLongDate'></span>

<h3>Description</h3>

<p>Old versions of 'z-Tree' stored dates as, e.g. 050613JN (the first six
being year-month-date, the last two characters are the time). Newer versions
use strings like 091112_1600 (time is now in the last four
characters). This function converts the old format into the new format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toLongDate(shortDate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toLongDate_+3A_shortdate">shortDate</code></td>
<td>
<p>This should be a vector of strings, each of length 8 characters.
The first six characters of each element of <code>shortDate</code> are year, month,
date. The last two chacters encode the time of the experiment.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the same length as <code>shortDate</code>. The first six
characters of each element are unchanged. The last five characters are
now the time translated.
</p>


<h3>Author(s)</h3>

<p>Oliver Kirchkamp
</p>


<h3>References</h3>

<p>Urs Fischbacher. &quot;z-Tree Manual 2.1 Experimenter's Manual&quot;. Zurich. 2002.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toLongDate("091112JN")
</code></pre>

<hr>
<h2 id='zTreeSbj'>Read '.sbj' files generated by 'z-Tree' into R</h2><span id='topic+zTreeSbj'></span>

<h3>Description</h3>

<p>Read '.sbj' files which are written by the Microsoft Windows program
'z-Tree'. The latter is a software for developing and carrying out
economic experiments (see &lt;http://www.ztree.uzh.ch/&gt; for more information).</p>


<h3>Usage</h3>

<pre><code class='language-R'>zTreeSbj(files, sep = "\t", zTree.silent=getOption("zTree.silent"),
	zTree.encoding=getOption("zTree.encoding"),ignore.errors=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zTreeSbj_+3A_files">files</code></td>
<td>
<p>A vector of 'z-Tree' .sbj filenames</p>
</td></tr>
<tr><td><code id="zTreeSbj_+3A_sep">sep</code></td>
<td>
<p>'z-Tree' uses &quot;\t&quot; as a separator. If you have a manipulated file, you
might need to change the separator.</p>
</td></tr>
<tr><td><code id="zTreeSbj_+3A_ztree.silent">zTree.silent</code></td>
<td>
<p>If <code>TRUE</code>, generates less verbose output.</p>
</td></tr>
<tr><td><code id="zTreeSbj_+3A_ztree.encoding">zTree.encoding</code></td>
<td>
<p>zTree writes text files and seems to use latin1
(windows-1252) encoding for these files.</p>
</td></tr>
<tr><td><code id="zTreeSbj_+3A_ignore.errors">ignore.errors</code></td>
<td>
<p>Usually, <code>zTreeSbj</code> stops with an error when
it detects a wrong encoding. With <code>ignore.errors=TRUE</code> it only generates a warning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with one entry for each subject.
</p>


<h3>Author(s)</h3>

<p>Oliver Kirchkamp</p>


<h3>References</h3>

<p>Urs Fischbacher. &quot;z-Tree: Zurich Toolbox for Ready-made Economic Experiments.&quot;
Experimental Economics (2) 171-178, 2007.
</p>


<h3>See Also</h3>

<p>See also <code>zTreeTables</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
files &lt;- list.files(pattern = "*.sbj$",recursive=TRUE)
fname &lt;- sub(".*/","",files)
sbj &lt;- zTreeSbj(aggregate(files,list(fname),function(x) x[1])$x)

## End(Not run)</code></pre>

<hr>
<h2 id='zTreeTables'>Read '.xls' files generated by 'z-Tree' into R</h2><span id='topic+zTreeTables'></span>

<h3>Description</h3>

<p>Read '.xls' files which are written by the Microsoft Windows program
'z-Tree'. The latter is a software for developing and carrying out
economic experiments (see &lt;http://www.ztree.uzh.ch/&gt; for more information).</p>


<h3>Usage</h3>

<pre><code class='language-R'>zTreeTables(files, tables = c("globals", "subjects"), sep = "\t",
	zTree.silent=getOption("zTree.silent"),
	zTree.encoding=getOption("zTree.encoding"),ignore.errors=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zTreeTables_+3A_files">files</code></td>
<td>
<p>a vector of 'z-Tree' (xls-) filenames.</p>
</td></tr>
<tr><td><code id="zTreeTables_+3A_tables">tables</code></td>
<td>
<p>a vector of table names. If you leave this empty, globals and subjects will be read. If you set tables=NULL, all tables will be read.</p>
</td></tr>
<tr><td><code id="zTreeTables_+3A_sep">sep</code></td>
<td>
<p>Field separator. 'z-Tree' uses &quot;\t&quot; as a separator. If you have a manipulated file, you
might need to change the separator.</p>
</td></tr>
<tr><td><code id="zTreeTables_+3A_ztree.silent">zTree.silent</code></td>
<td>
<p>If <code>TRUE</code>, generates less verbose output.</p>
</td></tr>
<tr><td><code id="zTreeTables_+3A_ztree.encoding">zTree.encoding</code></td>
<td>
<p>zTree writes text files and seems to use latin1
(windows-1252) encoding for these files.</p>
</td></tr>
<tr><td><code id="zTreeTables_+3A_ignore.errors">ignore.errors</code></td>
<td>
<p>Usually, <code>zTreeTables</code> stops with an error when
it detects a wrong encoding or a manipulated file.
With <code>ignore.errors=TRUE</code> it only generates a warning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of all tables (e.g. &quot;globals&quot;, &quot;subjects&quot;, etc.)
</p>


<h3>Author(s)</h3>

<p>Oliver Kirchkamp</p>


<h3>References</h3>

<p>Urs Fischbacher. &quot;z-Tree: Zurich Toolbox for Ready-made Economic Experiments.&quot;
Experimental Economics (2) 171-178, 2007.
</p>


<h3>See Also</h3>

<p>See also <code>zTreeSbj</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
zTT &lt;- zTreeTables(c("080712_1412.xls","080712_1818.xls"))
with(zTT$subjects, table(Treatment,Period))
To read all tables from all sessions in directories below the current one:
sessions&lt;-list.files(".","[0-9]{6}_[0-9]{4}.xls",recursive=TRUE)
zTT&lt;-zTreeTables(sessions,tables=NULL)

## End(Not run)</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

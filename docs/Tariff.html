<!DOCTYPE html><html><head><title>Help for package Tariff</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Tariff}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#plot.tariff'><p>Plot CSMF of the results obtained from Tariff algorithm</p></a></li>
<li><a href='#print.tariff_summary'><p>Print method for the summary of the results obtained from Tariff algorithm</p></a></li>
<li><a href='#RandomVA3'><p>400 records of Sample Input</p></a></li>
<li><a href='#SampleCategory3'><p>Grouping of causes in RandomVA3</p></a></li>
<li><a href='#summary.tariff'><p>Summary of the results obtained from Tariff algorithm</p></a></li>
<li><a href='#tariff'><p>Replicate Tariff methods</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Replicate Tariff Method for Verbal Autopsy</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-10-23</td>
</tr>
<tr>
<td>Author:</td>
<td>Zehang Li, Tyler McCormick, Sam Clark</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zehang Li &lt;lizehang@uw.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Implement the Tariff algorithm for coding cause-of-death from verbal autopsies. The Tariff method was originally proposed in James et al (2011) &lt;<a href="https://doi.org/10.1186%2F1478-7954-9-31">doi:10.1186/1478-7954-9-31</a>&gt; and later refined as Tariff 2.0 in Serina, et al. (2015) &lt;<a href="https://doi.org/10.1186%2Fs12916-015-0527-9">doi:10.1186/s12916-015-0527-9</a>&gt;. Note that this package was not developed by authors affiliated with the Institute for Health Metrics and Evaluation and thus unintentional discrepancies may exist between the this implementation and the implementation available from IHME.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-10-23 21:47:24 UTC; zehangli</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-10-29 05:40:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='plot.tariff'>Plot CSMF of the results obtained from Tariff algorithm</h2><span id='topic+plot.tariff'></span>

<h3>Description</h3>

<p>This function plots the CSMF of the fitted results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tariff'
plot(x, top = NULL, min.prob = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.tariff_+3A_x">x</code></td>
<td>
<p>fitted object from <code><a href="#topic+tariff">tariff</a></code></p>
</td></tr>
<tr><td><code id="plot.tariff_+3A_top">top</code></td>
<td>
<p>maximum causes to plot</p>
</td></tr>
<tr><td><code id="plot.tariff_+3A_min.prob">min.prob</code></td>
<td>
<p>minimum fraction for the causes plotted</p>
</td></tr>
<tr><td><code id="plot.tariff_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to/from graphic function</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

data("RandomVA3")
test &lt;- RandomVA3[1:200, ]
train &lt;- RandomVA3[201:400, ]
allcauses &lt;- unique(train$cause)
fit &lt;- tariff(causes.train = "cause", symps.train = train, 
				symps.test = test, causes.table = allcauses)
plot(fit, top = 10, main = "Top 5 population COD distribution")
plot(fit, min.prob = 0.05, main = "Ppulation COD distribution (at least 5%)")

</code></pre>

<hr>
<h2 id='print.tariff_summary'>Print method for the summary of the results obtained from Tariff algorithm</h2><span id='topic+print.tariff_summary'></span>

<h3>Description</h3>

<p>This function prints the summary message of the fitted results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tariff_summary'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.tariff_summary_+3A_x">x</code></td>
<td>
<p>summary object for Tariff fit</p>
</td></tr>
<tr><td><code id="print.tariff_summary_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>

<hr>
<h2 id='RandomVA3'>400 records of Sample Input</h2><span id='topic+RandomVA3'></span>

<h3>Description</h3>

<p>This is a dataset consisting of 400 arbitrary sample input deaths randomly sampled from cleaned PHMRC data.
</p>


<h3>Format</h3>

<p>400 arbitrary input records.</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(RandomVA3)
head(RandomVA3$train)
head(RandomVA3$test)
</code></pre>

<hr>
<h2 id='SampleCategory3'>Grouping of causes in RandomVA3</h2><span id='topic+SampleCategory3'></span>

<h3>Description</h3>

<p>This is a matrix specifying a default grouping of the causes used in RandomVA3.
</p>


<h3>Format</h3>

<p>17 by 2 matrix</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(SampleCategory3)
SampleCategory3
</code></pre>

<hr>
<h2 id='summary.tariff'>Summary of the results obtained from Tariff algorithm</h2><span id='topic+summary.tariff'></span>

<h3>Description</h3>

<p>This function prints the summary message of the fitted results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tariff'
summary(object, top = 5, id = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.tariff_+3A_object">object</code></td>
<td>
<p>fitted object from <code><a href="#topic+tariff">tariff</a></code></p>
</td></tr>
<tr><td><code id="summary.tariff_+3A_top">top</code></td>
<td>
<p>number of top CSMF to show</p>
</td></tr>
<tr><td><code id="summary.tariff_+3A_id">id</code></td>
<td>
<p>the ID of a specific death to show</p>
</td></tr>
<tr><td><code id="summary.tariff_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>

data("RandomVA3")
test &lt;- RandomVA3[1:200, ]
train &lt;- RandomVA3[201:400, ]
allcauses &lt;- unique(train$cause)
fit &lt;- tariff(causes.train = "cause", symps.train = train, 
			symps.test = test, causes.table = allcauses)
correct &lt;- which(fit$causes.test[,2] == test$cause)
accuracy &lt;- length(correct) / dim(test)[1]
summary(fit)
summary(fit, top = 10)
summary(fit, id = "p849", top = 3)


</code></pre>

<hr>
<h2 id='tariff'>Replicate Tariff methods</h2><span id='topic+tariff'></span>

<h3>Description</h3>

<p>This function implements Tariff method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tariff(causes.train, symps.train, symps.test, causes.table = NULL,
  use.rank = TRUE, nboot.rank = 1, use.sig = TRUE, nboot.sig = 500,
  use.top = FALSE, ntop = 40, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tariff_+3A_causes.train">causes.train</code></td>
<td>
<p>character vector of causes, or the column name of cause in the training data</p>
</td></tr>
<tr><td><code id="tariff_+3A_symps.train">symps.train</code></td>
<td>
<p>N.train by S matrix</p>
</td></tr>
<tr><td><code id="tariff_+3A_symps.test">symps.test</code></td>
<td>
<p>N.test by S matrix</p>
</td></tr>
<tr><td><code id="tariff_+3A_causes.table">causes.table</code></td>
<td>
<p>list of causes in the data</p>
</td></tr>
<tr><td><code id="tariff_+3A_use.rank">use.rank</code></td>
<td>
<p>logical indicator for whether using ranks instead of scores</p>
</td></tr>
<tr><td><code id="tariff_+3A_nboot.rank">nboot.rank</code></td>
<td>
<p>number of re-sampling for baseline rank comparison. Default to 1, which resamples training data to have a uniform cause distribution of the same size. Set this to 0 removes bootstrapping the training dataset.</p>
</td></tr>
<tr><td><code id="tariff_+3A_use.sig">use.sig</code></td>
<td>
<p>logical indicator for whether using significant Tariff only</p>
</td></tr>
<tr><td><code id="tariff_+3A_nboot.sig">nboot.sig</code></td>
<td>
<p>number of re-sampling for testing significance.</p>
</td></tr>
<tr><td><code id="tariff_+3A_use.top">use.top</code></td>
<td>
<p>logical indicator for whether the tariff matrix should be cleaned to have only top symptoms</p>
</td></tr>
<tr><td><code id="tariff_+3A_ntop">ntop</code></td>
<td>
<p>number of top tariff kept for each cause</p>
</td></tr>
<tr><td><code id="tariff_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>score</code></td>
<td>
<p>matrix of score for each cause within each death</p>
</td></tr>
<tr><td><code>causes.train</code></td>
<td>
<p>vector of most likely causes in training data</p>
</td></tr> 
<tr><td><code>causes.test</code></td>
<td>
<p>vector of most likely causes in testing data</p>
</td></tr> 
<tr><td><code>csmf</code></td>
<td>
<p>vector of CSMF</p>
</td></tr>
<tr><td><code>causes.table</code></td>
<td>
<p>cause list used for output, i.e., list of existing causes in the training data</p>
</td></tr>
<tr><td><code>use.rank</code></td>
<td>
<p>logical indicator for whether using ranks instead of scores</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Zehang Li, Tyler McCormick, Sam Clark
</p>
<p>Maintainer: Zehang Li &lt;lizehang@uw.edu&gt;
</p>


<h3>References</h3>

<p>James, S. L., Flaxman, A. D., Murray, C. J., &amp; Population Health Metrics Research Consortium. (2011). <em>Performance of the Tariff Method: validation of a simple additive algorithm for analysis of verbal autopsies.</em> <em>Population Health Metrics, 9(1), 1-16.</em>
</p>
<p>Serina, P., Riley, I., Stewart, A., James, S. L., Flaxman, A. D., Lozano, R., ... &amp; Ahuja, R. (2015). <em>Improving performance of the Tariff Method for assigning causes of death to verbal autopsies.</em> <em>BMC medicine, 13(1), 1.</em>
</p>
<p>Tyler H. McCormick, Zehang R. Li, Clara Calvert, Amelia C.
Crampin, Kathleen Kahn and Samuel J. Clark(2016) <em>Probabilistic
cause-of-death assignment using verbal autopsies</em>,
<a href="http://arxiv.org/abs/1411.3042">http://arxiv.org/abs/1411.3042</a> <em>To appear, Journal of the American Statistical Association</em>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("RandomVA3")
test &lt;- RandomVA3[1:200, ]
train &lt;- RandomVA3[201:400, ]
allcauses &lt;- unique(train$cause)
fit &lt;- tariff(causes.train = "cause", symps.train = train, 
				symps.test = test, causes.table = allcauses)
correct &lt;- which(fit$causes.test[,2] == test$cause)
accuracy &lt;- length(correct) / dim(test)[1]

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package graphhopper</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {graphhopper}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gh_as_sf'><p>Convert a gh object into an sf object</p></a></li>
<li><a href='#gh_available_spt_columns'><p>Get a vector with available columns of the spt endpoint</p></a></li>
<li><a href='#gh_bbox'><p>Extract the bounding box from a gh object</p></a></li>
<li><a href='#gh_get_info'><p>Get information about the GraphHopper instance</p></a></li>
<li><a href='#gh_get_isochrone'><p>Get isochrones for a given start point</p></a></li>
<li><a href='#gh_get_route'><p>Get a route for a given set of points</p></a></li>
<li><a href='#gh_get_routes'><p>Get multiple routes</p></a></li>
<li><a href='#gh_get_spt'><p>Get the shortest path tree for a given start point</p></a></li>
<li><a href='#gh_instructions'><p>Extract the instructions from a gh route object</p></a></li>
<li><a href='#gh_points'><p>Extract the points from a gh route object</p></a></li>
<li><a href='#gh_set_api_url'><p>Set gh API base url</p></a></li>
<li><a href='#gh_spt_as_linestrings_sf'><p>Build lines from a gh spt object</p></a></li>
<li><a href='#gh_spt_columns'><p>Select the columns to be returned by a spt request</p></a></li>
<li><a href='#gh_time_distance'><p>Extract time and distance from a gh route object</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>An R Interface to the 'GraphHopper' Directions API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-02-06</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Kuethe &lt;crazycapivara@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a quick and easy access to the 'GraphHopper' Directions API.
  'GraphHopper' <a href="https://www.graphhopper.com/">https://www.graphhopper.com/</a> itself is a routing engine based on 'OpenStreetMap' data.
  API responses can be converted to simple feature (sf) objects in a convenient way. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, httr, googlePolylines, jsonlite, tibble, dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>sf, geojsonsf, ggplot2, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/crazycapivara/graphhopper-r">https://github.com/crazycapivara/graphhopper-r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/crazycapivara/graphhopper-r/issues">https://github.com/crazycapivara/graphhopper-r/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-06 16:27:48 UTC; gabbo</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefan Kuethe [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-06 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='gh_as_sf'>Convert a gh object into an sf object</h2><span id='topic+gh_as_sf'></span><span id='topic+gh_as_sf.gh_route'></span><span id='topic+gh_as_sf.gh_spt'></span><span id='topic+gh_as_sf.gh_isochrone'></span>

<h3>Description</h3>

<p>Convert a gh object into an sf object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_as_sf(data, ...)

## S3 method for class 'gh_route'
gh_as_sf(data, ..., geom_type = c("linestring",
  "point"))

## S3 method for class 'gh_spt'
gh_as_sf(data, ...)

## S3 method for class 'gh_isochrone'
gh_as_sf(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_as_sf_+3A_data">data</code></td>
<td>
<p>A <code>gh_route</code> or <code>gh_spt</code> object.</p>
</td></tr>
<tr><td><code id="gh_as_sf_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="gh_as_sf_+3A_geom_type">geom_type</code></td>
<td>
<p>Use <code>geom_type = point</code> to return the points of the route
with ids corresponding to the instruction ids.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  start_point &lt;- c(52.592204, 13.414307)
  end_point &lt;- c(52.539614, 13.364868)

  route_sf &lt;- gh_get_route(list(start_point, end_point)) %&gt;%
    gh_as_sf()
}
</code></pre>

<hr>
<h2 id='gh_available_spt_columns'>Get a vector with available columns of the spt endpoint</h2><span id='topic+gh_available_spt_columns'></span>

<h3>Description</h3>

<p>Get a vector with available columns of the spt endpoint
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_available_spt_columns()
</code></pre>

<hr>
<h2 id='gh_bbox'>Extract the bounding box from a gh object</h2><span id='topic+gh_bbox'></span><span id='topic+gh_bbox.gh_route'></span><span id='topic+gh_bbox.gh_info'></span>

<h3>Description</h3>

<p>Extract the bounding box from a gh object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_bbox(data)

## S3 method for class 'gh_route'
gh_bbox(data)

## S3 method for class 'gh_info'
gh_bbox(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_bbox_+3A_data">data</code></td>
<td>
<p>A <code>gh_route</code> or <code>gh_info</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='gh_get_info'>Get information about the GraphHopper instance</h2><span id='topic+gh_get_info'></span>

<h3>Description</h3>

<p>Get information about the GraphHopper instance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_get_info()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  info &lt;- gh_get_info()

  message(info$version)
  message(info$data_date)
  print(gh_bbox(info))
}
</code></pre>

<hr>
<h2 id='gh_get_isochrone'>Get isochrones for a given start point</h2><span id='topic+gh_get_isochrone'></span>

<h3>Description</h3>

<p>Get isochrones for a given start point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_get_isochrone(start_point, time_limit = 180, distance_limit = -1,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_get_isochrone_+3A_start_point">start_point</code></td>
<td>
<p>The start point as (lat, lon) pair.</p>
</td></tr>
<tr><td><code id="gh_get_isochrone_+3A_time_limit">time_limit</code></td>
<td>
<p>The travel time limit in seconds.
Ignored if <code>distance_limit &gt; 0</code>.</p>
</td></tr>
<tr><td><code id="gh_get_isochrone_+3A_distance_limit">distance_limit</code></td>
<td>
<p>The distance limit in meters.</p>
</td></tr>
<tr><td><code id="gh_get_isochrone_+3A_...">...</code></td>
<td>
<p>Additonal parameters.
See <a href="https://docs.graphhopper.com/#operation/getIsochrone">https://docs.graphhopper.com/#operation/getIsochrone</a>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  start_point &lt;- c(52.53961, 13.36487)

  isochrone_sf &lt;- gh_get_isochrone(start_point, time_limit = 180) %&gt;%
    gh_as_sf()
}
</code></pre>

<hr>
<h2 id='gh_get_route'>Get a route for a given set of points</h2><span id='topic+gh_get_route'></span>

<h3>Description</h3>

<p>Get a route for a given set of points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_get_route(points, ..., response_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_get_route_+3A_points">points</code></td>
<td>
<p>A list of 2 or more points as (lat, lon) pairs.</p>
</td></tr>
<tr><td><code id="gh_get_route_+3A_...">...</code></td>
<td>
<p>Optional parameters that are passed to the query.</p>
</td></tr>
<tr><td><code id="gh_get_route_+3A_response_only">response_only</code></td>
<td>
<p>Whether to return the raw response object instead of
just its content.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://docs.graphhopper.com/#tag/Routing-API">https://docs.graphhopper.com/#tag/Routing-API</a> for optional parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  start_point &lt;- c(52.592204, 13.414307)
  end_point &lt;- c(52.539614, 13.364868)

  route_sf &lt;- gh_get_route(list(start_point, end_point)) %&gt;%
    gh_as_sf()
}
</code></pre>

<hr>
<h2 id='gh_get_routes'>Get multiple routes</h2><span id='topic+gh_get_routes'></span>

<h3>Description</h3>

<p>Internally it just calls <a href="#topic+gh_get_route">gh_get_route</a> sevaral times.
See also <a href="#topic+gh_get_spt">gh_get_spt</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_get_routes(x, y, ..., callback = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_get_routes_+3A_x">x</code></td>
<td>
<p>A single start point as (lat, lon) pair</p>
</td></tr>
<tr><td><code id="gh_get_routes_+3A_y">y</code></td>
<td>
<p>A matrix or a data frame containing columns with latitudes and longitudes
that are used as endpoints. Needs (lat, lon) order.</p>
</td></tr>
<tr><td><code id="gh_get_routes_+3A_...">...</code></td>
<td>
<p>Parameters that are passed to <a href="#topic+gh_get_route">gh_get_route</a>.</p>
</td></tr>
<tr><td><code id="gh_get_routes_+3A_callback">callback</code></td>
<td>
<p>A callback function that is applied to every calculated route.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  start_point &lt;- c(52.519772, 13.392334)

  end_points &lt;- rbind(
    c(52.564665, 13.42083),
    c(52.564456, 13.342724),
    c(52.489261, 13.324871),
    c(52.48738, 13.454647)
  )

  time_distance_table &lt;- gh_get_routes(
    start_point, end_points, calc_points = FALSE,
    callback = gh_time_distance
  ) %&gt;%
    dplyr::bind_rows()

  routes_sf &lt;- gh_get_routes(start_point, end_points, callback = gh_as_sf) %&gt;%
    do.call(rbind, .)
}
</code></pre>

<hr>
<h2 id='gh_get_spt'>Get the shortest path tree for a given start point</h2><span id='topic+gh_get_spt'></span>

<h3>Description</h3>

<p>Get the shortest path tree for a given start point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_get_spt(start_point, time_limit = 600, distance_limit = -1,
  columns = gh_spt_columns(), reverse_flow = FALSE, profile = "car")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_get_spt_+3A_start_point">start_point</code></td>
<td>
<p>The start point as (lat, lon) pair.</p>
</td></tr>
<tr><td><code id="gh_get_spt_+3A_time_limit">time_limit</code></td>
<td>
<p>The travel time limit in seconds.
Ignored if <code>distance_limit &gt; 0</code>.</p>
</td></tr>
<tr><td><code id="gh_get_spt_+3A_distance_limit">distance_limit</code></td>
<td>
<p>The distance limit in meters.</p>
</td></tr>
<tr><td><code id="gh_get_spt_+3A_columns">columns</code></td>
<td>
<p>The columns to be returned. See <a href="#topic+gh_spt_columns">gh_spt_columns</a> and
<a href="#topic+gh_available_spt_columns">gh_available_spt_columns</a> for available columns.</p>
</td></tr>
<tr><td><code id="gh_get_spt_+3A_reverse_flow">reverse_flow</code></td>
<td>
<p>Use <code>reverse_flow = TRUE</code> to change the flow direction.</p>
</td></tr>
<tr><td><code id="gh_get_spt_+3A_profile">profile</code></td>
<td>
<p>The profile for which the spt should be calculated.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  start_point &lt;- c(52.53961, 13.36487)

  columns &lt;- gh_spt_columns(
    prev_longitude = TRUE,
    prev_latitude = TRUE,
    prev_time = TRUE
  )

  points_sf &lt;- gh_get_spt(start_point, time_limit = 180, columns = columns) %&gt;%
    gh_as_sf()
}
</code></pre>

<hr>
<h2 id='gh_instructions'>Extract the instructions from a gh route object</h2><span id='topic+gh_instructions'></span>

<h3>Description</h3>

<p>Extract the instructions from a gh route object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_instructions(data, instructions_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_instructions_+3A_data">data</code></td>
<td>
<p>A <code>gh_route</code> object.</p>
</td></tr>
<tr><td><code id="gh_instructions_+3A_instructions_only">instructions_only</code></td>
<td>
<p>Whether to return the instructions without the corresponding points.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+gh_get_route">gh_get_route</a>
</p>

<hr>
<h2 id='gh_points'>Extract the points from a gh route object</h2><span id='topic+gh_points'></span>

<h3>Description</h3>

<p>Extract the points from a gh route object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_points(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_points_+3A_data">data</code></td>
<td>
<p>A <code>gh_route</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='gh_set_api_url'>Set gh API base url</h2><span id='topic+gh_set_api_url'></span>

<h3>Description</h3>

<p>Set gh API base url
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_set_api_url(api_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_set_api_url_+3A_api_url">api_url</code></td>
<td>
<p>API base url</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Internally it calls <code>Sys.setenv</code> to store the API url
in an environment variable called <code>GH_API_URL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gh_set_api_url("http://localhost:8989")
</code></pre>

<hr>
<h2 id='gh_spt_as_linestrings_sf'>Build lines from a gh spt object</h2><span id='topic+gh_spt_as_linestrings_sf'></span>

<h3>Description</h3>

<p>Build lines from a gh spt object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_spt_as_linestrings_sf(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_spt_as_linestrings_sf_+3A_data">data</code></td>
<td>
<p>A <code>gh_spt</code> object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (FALSE) {
  start_point &lt;- c(52.53961, 13.36487)

  columns &lt;- gh_spt_columns(
    prev_longitude = TRUE,
    prev_latitude = TRUE,
    prev_time = TRUE
  )

  lines_sf &lt;- gh_get_spt(start_point, time_limit = 180, columns = columns) %&gt;%
    gh_spt_as_linestrings_sf()
}
</code></pre>

<hr>
<h2 id='gh_spt_columns'>Select the columns to be returned by a spt request</h2><span id='topic+gh_spt_columns'></span>

<h3>Description</h3>

<p>Times are returned in milliseconds and distances in meters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_spt_columns(longitude = TRUE, latitude = TRUE, time = TRUE,
  distance = TRUE, prev_longitude = FALSE, prev_latitude = FALSE,
  prev_time = FALSE, prev_distance = FALSE, node_id = FALSE,
  prev_node_id = FALSE, edge_id = FALSE, prev_edge_id = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_spt_columns_+3A_longitude">longitude</code>, <code id="gh_spt_columns_+3A_latitude">latitude</code></td>
<td>
<p>The longitude, latitude of the node.</p>
</td></tr>
<tr><td><code id="gh_spt_columns_+3A_time">time</code>, <code id="gh_spt_columns_+3A_distance">distance</code></td>
<td>
<p>The travel time, distance to the node.</p>
</td></tr>
<tr><td><code id="gh_spt_columns_+3A_prev_longitude">prev_longitude</code>, <code id="gh_spt_columns_+3A_prev_latitude">prev_latitude</code></td>
<td>
<p>The longitude, latitude of the previous node.</p>
</td></tr>
<tr><td><code id="gh_spt_columns_+3A_prev_time">prev_time</code>, <code id="gh_spt_columns_+3A_prev_distance">prev_distance</code></td>
<td>
<p>The travel time, distance to the previous node.</p>
</td></tr>
<tr><td><code id="gh_spt_columns_+3A_node_id">node_id</code>, <code id="gh_spt_columns_+3A_prev_node_id">prev_node_id</code></td>
<td>
<p>The ID of the node, previous node.</p>
</td></tr>
<tr><td><code id="gh_spt_columns_+3A_edge_id">edge_id</code>, <code id="gh_spt_columns_+3A_prev_edge_id">prev_edge_id</code></td>
<td>
<p>The ID of the edge, previous edge.</p>
</td></tr>
</table>

<hr>
<h2 id='gh_time_distance'>Extract time and distance from a gh route object</h2><span id='topic+gh_time_distance'></span>

<h3>Description</h3>

<p>Extract time and distance from a gh route object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gh_time_distance(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gh_time_distance_+3A_data">data</code></td>
<td>
<p>A <code>gh_route</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code></p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

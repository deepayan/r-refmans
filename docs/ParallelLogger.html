<!DOCTYPE html><html><head><title>Help for package ParallelLogger</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ParallelLogger}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addDefaultConsoleLogger'><p>Add the default console logger</p></a></li>
<li><a href='#addDefaultEmailLogger'><p>Add the default e-mail logger</p></a></li>
<li><a href='#addDefaultErrorReportLogger'><p>Add the default error report logger</p></a></li>
<li><a href='#addDefaultFileLogger'><p>Add the default file logger</p></a></li>
<li><a href='#clearLoggers'><p>Remove all registered loggers</p></a></li>
<li><a href='#clusterApply'><p>Apply a function to a list using the cluster</p></a></li>
<li><a href='#clusterRequire'><p>Require a package in the cluster</p></a></li>
<li><a href='#convertJsonToSettings'><p>Converts a JSON string to a settings object</p></a></li>
<li><a href='#convertSettingsToJson'><p>Convert a settings object to a JSON string</p></a></li>
<li><a href='#createArgFunction'><p>Create an argument function</p></a></li>
<li><a href='#createConsoleAppender'><p>Create console appender</p></a></li>
<li><a href='#createEmailAppender'><p>Create e-mail appender</p></a></li>
<li><a href='#createFileAppender'><p>Create file appender</p></a></li>
<li><a href='#createLogger'><p>Create a logger</p></a></li>
<li><a href='#excludeFromList'><p>Exclude variables from a list of objects of the same type</p></a></li>
<li><a href='#getLoggers'><p>Get all registered loggers</p></a></li>
<li><a href='#launchLogViewer'><p>Launch the log viewer Shiny app</p></a></li>
<li><a href='#layoutEmail'><p>Logging layout for e-mail</p></a></li>
<li><a href='#layoutErrorReport'><p>Logging layout for error report</p></a></li>
<li><a href='#layoutParallel'><p>Logging layout for parallel computing</p></a></li>
<li><a href='#layoutSimple'><p>Simple logging layout</p></a></li>
<li><a href='#layoutStackTrace'><p>Logging layout with stack trace</p></a></li>
<li><a href='#layoutTimestamp'><p>Logging layout with timestamp</p></a></li>
<li><a href='#loadSettingsFromJson'><p>Load a settings object from a JSON file</p></a></li>
<li><a href='#logDebug'><p>Log a message at the DEBUG level</p></a></li>
<li><a href='#logError'><p>Log a message at the ERROR level</p></a></li>
<li><a href='#logFatal'><p>Log a message at the FATAL level</p></a></li>
<li><a href='#logInfo'><p>Log a message at the INFO level</p></a></li>
<li><a href='#logTrace'><p>Log a message at the TRACE level</p></a></li>
<li><a href='#logWarn'><p>Log a message at the WARN level</p></a></li>
<li><a href='#makeCluster'><p>Create a cluster of nodes for parallel computation</p></a></li>
<li><a href='#matchInList'><p>In a list of object of the same type, find those that match the input</p></a></li>
<li><a href='#ParallelLogger-package'><p>ParallelLogger: Support for Parallel Computation, Logging, and Function Automation</p></a></li>
<li><a href='#registerLogger'><p>Register a logger</p></a></li>
<li><a href='#saveSettingsToJson'><p>Save a settings object as JSON file</p></a></li>
<li><a href='#selectFromList'><p>Select variables from a list of objects of the same type</p></a></li>
<li><a href='#stopCluster'><p>Stop the cluster</p></a></li>
<li><a href='#unregisterLogger'><p>Unregister a logger</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Support for Parallel Computation, Logging, and Function
Automation</td>
</tr>
<tr>
<td>Version:</td>
<td>3.3.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-22</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Martijn Schuemie &lt;schuemie@ohdsi.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Support for parallel computation with progress bar, and option to stop or proceed on errors. Also provides logging to console and disk,
  and the logging persists in the parallel threads. Additional functions support function call automation with delayed execution (e.g. for executing functions in
  parallel).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>snow, xml2, jsonlite, methods, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>sendmailR, testthat, shiny, DT, knitr, rmarkdown, tibble</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ohdsi.github.io/ParallelLogger/">https://ohdsi.github.io/ParallelLogger/</a>,
<a href="https://github.com/OHDSI/ParallelLogger">https://github.com/OHDSI/ParallelLogger</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/OHDSI/ParallelLogger/issues">https://github.com/OHDSI/ParallelLogger/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-22 11:49:57 UTC; MSCHUEMI</td>
</tr>
<tr>
<td>Author:</td>
<td>Martijn Schuemie [aut, cre],
  Marc Suchard [aut],
  Observational Health Data Science and Informatics [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-22 14:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addDefaultConsoleLogger'>Add the default console logger</h2><span id='topic+addDefaultConsoleLogger'></span>

<h3>Description</h3>

<p>Add the default console logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDefaultConsoleLogger(name = "DEFAULT_CONSOLE_LOGGER")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDefaultConsoleLogger_+3A_name">name</code></td>
<td>
<p>A name for the logger.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a logger that writes to the console using the &quot;INFO&quot; threshold and the
<code><a href="#topic+layoutSimple">layoutSimple</a></code> layout.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>logger &lt;- addDefaultConsoleLogger()
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")
unregisterLogger(logger)
</code></pre>

<hr>
<h2 id='addDefaultEmailLogger'>Add the default e-mail logger</h2><span id='topic+addDefaultEmailLogger'></span>

<h3>Description</h3>

<p>Add the default e-mail logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDefaultEmailLogger(
  mailSettings,
  label = Sys.info()["nodename"],
  name = "DEFAULT_EMAIL_LOGGER",
  test = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDefaultEmailLogger_+3A_mailsettings">mailSettings</code></td>
<td>
<p>Arguments to be passed to the <code>sendmail</code> function in the <code>sendmailR</code> package (except
subject and msg).</p>
</td></tr>
<tr><td><code id="addDefaultEmailLogger_+3A_label">label</code></td>
<td>
<p>A label to be used in the e-mail subject to identify a run. By default the
name of the computer is used.</p>
</td></tr>
<tr><td><code id="addDefaultEmailLogger_+3A_name">name</code></td>
<td>
<p>A name for the logger.</p>
</td></tr>
<tr><td><code id="addDefaultEmailLogger_+3A_test">test</code></td>
<td>
<p>If TRUE, a message will be displayed on the console instead of sending an
e-mail.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a logger that writes to e-mail using the &quot;FATAL&quot; threshold and the
<code><a href="#topic+layoutEmail">layoutEmail</a></code> layout. This function uses the <code>sendmailR</code> package. Please make sure
your e-mail settings are correct by using the <code>sendmailR</code> package before using those settings here.
<code>ParallelLogger</code> will not display any messages if something goes wrong when sending the e-mail.
</p>


<h3>Using GMail</h3>

<p>To use a GMail account, make sure to enable 2-step verification on your 
Google account (see 'Security'). Click on 2-Step Verification, and 
scroll down to 'App passwords'. Here, you can create an app-specific password
to be used with <code>ParallelLogger</code>. You can set 
<code>host.name = "smtp.gmail.com:587"</code>, and be sure to use 
<code>engine = "curl"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mailSettings &lt;- list(
  from = "someone@gmail.com",
  to = "someone_else@gmail.com",
  engine = "curl",
  engineopts  = list(
    username = "someone@gmail.com",
    password = "Secret!"
  ), 
  control = list(
    host.name = "smtp.gmail.com:587"
  )
)

# Setting test to TRUE in this example so we don't really send an e-mail:
addDefaultEmailLogger(mailSettings, "My R session", test = TRUE)
logFatal("Something bad")

unregisterLogger("DEFAULT_EMAIL_LOGGER")
</code></pre>

<hr>
<h2 id='addDefaultErrorReportLogger'>Add the default error report logger</h2><span id='topic+addDefaultErrorReportLogger'></span>

<h3>Description</h3>

<p>Add the default error report logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDefaultErrorReportLogger(
  fileName = file.path(getwd(), "errorReportR.txt"),
  name = "DEFAULT_ERRORREPORT_LOGGER"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDefaultErrorReportLogger_+3A_filename">fileName</code></td>
<td>
<p>The name of the file to write to.</p>
</td></tr>
<tr><td><code id="addDefaultErrorReportLogger_+3A_name">name</code></td>
<td>
<p>A name for the logger.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a logger that writes to a file using the &quot;FATAL&quot; threshold and the
<code><a href="#topic+layoutErrorReport">layoutErrorReport</a></code> layout. The file will be overwritten if it is older than 60
seconds. The user will be notified that the error report has been created, and where to find it.
</p>

<hr>
<h2 id='addDefaultFileLogger'>Add the default file logger</h2><span id='topic+addDefaultFileLogger'></span>

<h3>Description</h3>

<p>Add the default file logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDefaultFileLogger(fileName, name = "DEFAULT_FILE_LOGGER")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDefaultFileLogger_+3A_filename">fileName</code></td>
<td>
<p>The name of the file to write to.</p>
</td></tr>
<tr><td><code id="addDefaultFileLogger_+3A_name">name</code></td>
<td>
<p>A name for the logger.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a logger that writes to a file using the &quot;TRACE&quot; threshold and the
<code><a href="#topic+layoutParallel">layoutParallel</a></code> layout. The output can be viewed with the built-in log viewer that can
be started using <code><a href="#topic+launchLogViewer">launchLogViewer</a></code>.
</p>

<hr>
<h2 id='clearLoggers'>Remove all registered loggers</h2><span id='topic+clearLoggers'></span>

<h3>Description</h3>

<p>Remove all registered loggers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clearLoggers()
</code></pre>

<hr>
<h2 id='clusterApply'>Apply a function to a list using the cluster</h2><span id='topic+clusterApply'></span>

<h3>Description</h3>

<p>Apply a function to a list using the cluster
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clusterApply(cluster, x, fun, ..., stopOnError = FALSE, progressBar = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clusterApply_+3A_cluster">cluster</code></td>
<td>
<p>The cluster of threads to run the function.</p>
</td></tr>
<tr><td><code id="clusterApply_+3A_x">x</code></td>
<td>
<p>The list on which the function will be applied.</p>
</td></tr>
<tr><td><code id="clusterApply_+3A_fun">fun</code></td>
<td>
<p>The function to apply. Note that the context in which the function is specifies
matters (see details).</p>
</td></tr>
<tr><td><code id="clusterApply_+3A_...">...</code></td>
<td>
<p>Additional parameters for the function.</p>
</td></tr>
<tr><td><code id="clusterApply_+3A_stoponerror">stopOnError</code></td>
<td>
<p>Stop when one of the threads reports an error? If FALSE, all errors will be
reported at the end.</p>
</td></tr>
<tr><td><code id="clusterApply_+3A_progressbar">progressBar</code></td>
<td>
<p>Show a progress bar?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function will be executed on each element of x in the threads of the cluster. If there are more
elements than threads, the elements will be queued. The progress bar will show the number of
elements that have been completed. It can sometimes be important to realize that the context in
which a function is created is also transmitted to the worker node. If a function is defined inside
another function, and that outer function is called with a large argument, that argument will be
transmitted to the worker node each time the function is executed. It can therefore make sense to
define the function to be called at the package level rather than inside a function, to save
overhead.
</p>


<h3>Value</h3>

<p>A list with the result of the function on each item in x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fun &lt;- function(x) {
  return (x^2)
}

cluster &lt;- makeCluster(numberOfThreads = 3)
clusterApply(cluster, 1:10, fun)
stopCluster(cluster)
</code></pre>

<hr>
<h2 id='clusterRequire'>Require a package in the cluster</h2><span id='topic+clusterRequire'></span>

<h3>Description</h3>

<p>Calls the <code>require</code> function in each node of the cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clusterRequire(cluster, package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clusterRequire_+3A_cluster">cluster</code></td>
<td>
<p>The cluster object.</p>
</td></tr>
<tr><td><code id="clusterRequire_+3A_package">package</code></td>
<td>
<p>The name of the package to load in all nodes.</p>
</td></tr>
</table>

<hr>
<h2 id='convertJsonToSettings'>Converts a JSON string to a settings object</h2><span id='topic+convertJsonToSettings'></span>

<h3>Description</h3>

<p>Converts a JSON string to a settings object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertJsonToSettings(json)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertJsonToSettings_+3A_json">json</code></td>
<td>
<p>A JSON string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts a JSON string generated using the <code><a href="#topic+convertSettingsToJson">convertSettingsToJson</a></code> function to a
settings object, restoring object classes and attributes.
</p>


<h3>Value</h3>

<p>An R object as specified by the JSON.
</p>

<hr>
<h2 id='convertSettingsToJson'>Convert a settings object to a JSON string</h2><span id='topic+convertSettingsToJson'></span>

<h3>Description</h3>

<p>Convert a settings object to a JSON string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertSettingsToJson(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertSettingsToJson_+3A_object">object</code></td>
<td>
<p>R object to be converted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert a settings object to a JSON string, using pretty formatting and preserving object classes
and attributes.
</p>


<h3>Value</h3>

<p>A JSON string representing the R object.
</p>

<hr>
<h2 id='createArgFunction'>Create an argument function</h2><span id='topic+createArgFunction'></span>

<h3>Description</h3>

<p>Create an argument function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createArgFunction(
  functionName,
  excludeArgs = c(),
  includeArgs = NULL,
  addArgs = list(),
  rCode = c(),
  newName
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createArgFunction_+3A_functionname">functionName</code></td>
<td>
<p>The name of the function for which we want to create an args function.</p>
</td></tr>
<tr><td><code id="createArgFunction_+3A_excludeargs">excludeArgs</code></td>
<td>
<p>Exclude these arguments from appearing in the args function.</p>
</td></tr>
<tr><td><code id="createArgFunction_+3A_includeargs">includeArgs</code></td>
<td>
<p>Include these arguments in the args function.</p>
</td></tr>
<tr><td><code id="createArgFunction_+3A_addargs">addArgs</code></td>
<td>
<p>Add these arguments to the args functions. Defined as a list with format name
= default.</p>
</td></tr>
<tr><td><code id="createArgFunction_+3A_rcode">rCode</code></td>
<td>
<p>A character vector representing the R code where the new function should be
appended to.</p>
</td></tr>
<tr><td><code id="createArgFunction_+3A_newname">newName</code></td>
<td>
<p>The name of the new function. If not specified, the new name will be
automatically derived from the old name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to create a function that has (almost) the same interface as the
specified function, and the output of this function will be a list of argument values.
</p>


<h3>Value</h3>

<p>A character vector with the R code including the new function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>createArgFunction("read.csv", addArgs = list(exposureId = "exposureId"))
</code></pre>

<hr>
<h2 id='createConsoleAppender'>Create console appender</h2><span id='topic+createConsoleAppender'></span>

<h3>Description</h3>

<p>Create console appender
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createConsoleAppender(layout = layoutSimple)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createConsoleAppender_+3A_layout">layout</code></td>
<td>
<p>The layout to be used by the appender.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates an appender that will write to the console.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

<hr>
<h2 id='createEmailAppender'>Create e-mail appender</h2><span id='topic+createEmailAppender'></span>

<h3>Description</h3>

<p>Create e-mail appender
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createEmailAppender(
  layout = layoutEmail,
  mailSettings,
  label = Sys.info()["nodename"],
  test = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createEmailAppender_+3A_layout">layout</code></td>
<td>
<p>The layout to be used by the appender.</p>
</td></tr>
<tr><td><code id="createEmailAppender_+3A_mailsettings">mailSettings</code></td>
<td>
<p>Arguments to be passed to the <code>sendmail</code> function in the <code>sendmailR</code> package (except
subject and msg).</p>
</td></tr>
<tr><td><code id="createEmailAppender_+3A_label">label</code></td>
<td>
<p>A label to be used in the e-mail subject to identify a run. By default the
name of the computer is used.</p>
</td></tr>
<tr><td><code id="createEmailAppender_+3A_test">test</code></td>
<td>
<p>If TRUE, a message will be displayed on the console instead of sending an
e-mail.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates an appender that will send log events to an e-mail address using the <code>sendmailR</code> package.
Please make sure your settings are correct by using the <code>sendmailR</code> package before using those settings
here. <code>ParallelLogger</code> will not display any messages if something goes wrong when sending the e-mail.
</p>


<h3>Using GMail</h3>

<p>To use a GMail account, make sure to enable 2-step verification on your 
Google account (see 'Security'). Click on 2-Step Verification, and 
scroll down to 'App passwords'. Here, you can create an app-specific password
to be used with <code>ParallelLogger</code>. You can set 
<code>host.name = "smtp.gmail.com:587"</code>, and be sure to use 
<code>engine = "curl"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mailSettings &lt;- list(
  from = "someone@gmail.com",
  to = "someone_else@gmail.com",
  engine = "curl",
  engineopts  = list(
    username = "someone@gmail.com",
    password = "Secret!"
  ), 
  control = list(
    host.name = "smtp.gmail.com:587"
  )
)
# Setting test to TRUE in this example so we don't really send an e-mail:
appender &lt;- createEmailAppender(
  layout = layoutEmail,
  mailSettings = mailSettings,
  label = "My R session",
  test = TRUE
)

logger &lt;- createLogger(name = "EMAIL", threshold = "FATAL", appenders = list(appender))
registerLogger(logger)

logFatal("Something bad")

unregisterLogger("EMAIL")
</code></pre>

<hr>
<h2 id='createFileAppender'>Create file appender</h2><span id='topic+createFileAppender'></span>

<h3>Description</h3>

<p>Create file appender
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createFileAppender(
  layout = layoutParallel,
  fileName,
  overwrite = FALSE,
  expirationTime = 60
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createFileAppender_+3A_layout">layout</code></td>
<td>
<p>The layout to be used by the appender.</p>
</td></tr>
<tr><td><code id="createFileAppender_+3A_filename">fileName</code></td>
<td>
<p>The name of the file to write to.</p>
</td></tr>
<tr><td><code id="createFileAppender_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite the file if it is older than the expiration time?</p>
</td></tr>
<tr><td><code id="createFileAppender_+3A_expirationtime">expirationTime</code></td>
<td>
<p>Expiration time in seconds</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates an appender that will write to a file.
</p>

<hr>
<h2 id='createLogger'>Create a logger</h2><span id='topic+createLogger'></span>

<h3>Description</h3>

<p>Create a logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createLogger(
  name = "SIMPLE",
  threshold = "INFO",
  appenders = list(createConsoleAppender())
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createLogger_+3A_name">name</code></td>
<td>
<p>A name for the logger.</p>
</td></tr>
<tr><td><code id="createLogger_+3A_threshold">threshold</code></td>
<td>
<p>The threshold to be used for reporting.</p>
</td></tr>
<tr><td><code id="createLogger_+3A_appenders">appenders</code></td>
<td>
<p>A list of one or more appenders as created for example using the
<code><a href="#topic+createConsoleAppender">createConsoleAppender</a></code> or <code><a href="#topic+createFileAppender">createFileAppender</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a logger that will log messages to its appenders. The logger will only log messages at a
level equal to or higher than its threshold. For example, if the threshold is &quot;INFO&quot; then messages
marked &quot;INFO&quot; will be logged, but messages marked &quot;TRACE&quot; will not. The order of levels is &quot;TRACE&quot;,
&quot;DEBUG&quot;, &quot;INFO&quot;, &quot;WARN&quot;, &quot;ERROR, &quot;and FATAL&quot;.
</p>


<h3>Value</h3>

<p>An object of type <code>Logger</code>, to be used with the <code><a href="#topic+registerLogger">registerLogger</a></code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

<hr>
<h2 id='excludeFromList'>Exclude variables from a list of objects of the same type</h2><span id='topic+excludeFromList'></span>

<h3>Description</h3>

<p>Exclude variables from a list of objects of the same type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>excludeFromList(x, exclude)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="excludeFromList_+3A_x">x</code></td>
<td>
<p>A list of objects of the same type.</p>
</td></tr>
<tr><td><code id="excludeFromList_+3A_exclude">exclude</code></td>
<td>
<p>A character vector of names of variables to exclude.</p>
</td></tr>
</table>

<hr>
<h2 id='getLoggers'>Get all registered loggers</h2><span id='topic+getLoggers'></span>

<h3>Description</h3>

<p>Get all registered loggers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLoggers()
</code></pre>


<h3>Value</h3>

<p>Returns all registered loggers.
</p>

<hr>
<h2 id='launchLogViewer'>Launch the log viewer Shiny app</h2><span id='topic+launchLogViewer'></span>

<h3>Description</h3>

<p>Launch the log viewer Shiny app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>launchLogViewer(logFileName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="launchLogViewer_+3A_logfilename">logFileName</code></td>
<td>
<p>Name of the log file to view.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Launches a Shiny app that allows the user to view a log file created using the default file logger.
Use <code><a href="#topic+addDefaultFileLogger">addDefaultFileLogger</a></code> to start the default file logger.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a log file:
logFile &lt;- file.path(tempdir(), "log.txt")
addDefaultFileLogger(logFile)
logInfo("Hello world")

# Launch the log file viewer (only if in interactive mode):
if (interactive()) {
  launchLogViewer(logFile)
}

# Delete the log file:
unlink(logFile)
</code></pre>

<hr>
<h2 id='layoutEmail'>Logging layout for e-mail</h2><span id='topic+layoutEmail'></span>

<h3>Description</h3>

<p>A layout function to be used with an e-mail appender. This layout creates a short summary e-mail
message on the event, including stack trace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutEmail(level, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutEmail_+3A_level">level</code></td>
<td>
<p>The level of the message (e.g. &quot;INFO&quot;)</p>
</td></tr>
<tr><td><code id="layoutEmail_+3A_message">message</code></td>
<td>
<p>The message to layout.</p>
</td></tr>
</table>

<hr>
<h2 id='layoutErrorReport'>Logging layout for error report</h2><span id='topic+layoutErrorReport'></span>

<h3>Description</h3>

<p>A layout function to be used with an appender. This layout creates a more elaborate error message,
for sharing with the developer. If an error occurs in the main thread a summary of the system info
will be included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutErrorReport(level, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutErrorReport_+3A_level">level</code></td>
<td>
<p>The level of the message (e.g. &quot;INFO&quot;)</p>
</td></tr>
<tr><td><code id="layoutErrorReport_+3A_message">message</code></td>
<td>
<p>The message to layout.</p>
</td></tr>
</table>

<hr>
<h2 id='layoutParallel'>Logging layout for parallel computing</h2><span id='topic+layoutParallel'></span>

<h3>Description</h3>

<p>A layout function to be used with an appender. This layout adds the time, thread, level, package
name, and function name to the message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutParallel(level, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutParallel_+3A_level">level</code></td>
<td>
<p>The level of the message (e.g. &quot;INFO&quot;)</p>
</td></tr>
<tr><td><code id="layoutParallel_+3A_message">message</code></td>
<td>
<p>The message to layout.</p>
</td></tr>
</table>

<hr>
<h2 id='layoutSimple'>Simple logging layout</h2><span id='topic+layoutSimple'></span>

<h3>Description</h3>

<p>A layout function to be used with an appender. This layout simply includes the message itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutSimple(level, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutSimple_+3A_level">level</code></td>
<td>
<p>The level of the message (e.g. &quot;INFO&quot;)</p>
</td></tr>
<tr><td><code id="layoutSimple_+3A_message">message</code></td>
<td>
<p>The message to layout.</p>
</td></tr>
</table>

<hr>
<h2 id='layoutStackTrace'>Logging layout with stack trace</h2><span id='topic+layoutStackTrace'></span>

<h3>Description</h3>

<p>A layout function to be used with an appender. This layout adds the stack trace to the message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutStackTrace(level, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutStackTrace_+3A_level">level</code></td>
<td>
<p>The level of the message (e.g. &quot;INFO&quot;)</p>
</td></tr>
<tr><td><code id="layoutStackTrace_+3A_message">message</code></td>
<td>
<p>The message to layout.</p>
</td></tr>
</table>

<hr>
<h2 id='layoutTimestamp'>Logging layout with timestamp</h2><span id='topic+layoutTimestamp'></span>

<h3>Description</h3>

<p>A layout function to be used with an appender. This layout adds the time to the message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutTimestamp(level, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutTimestamp_+3A_level">level</code></td>
<td>
<p>The level of the message (e.g. &quot;INFO&quot;)</p>
</td></tr>
<tr><td><code id="layoutTimestamp_+3A_message">message</code></td>
<td>
<p>The message to layout.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

<hr>
<h2 id='loadSettingsFromJson'>Load a settings object from a JSON file</h2><span id='topic+loadSettingsFromJson'></span>

<h3>Description</h3>

<p>Load a settings object from a JSON file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadSettingsFromJson(fileName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadSettingsFromJson_+3A_filename">fileName</code></td>
<td>
<p>Name of the JSON file to load.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Load a settings object from a JSON file, restoring object classes and attributes.
</p>


<h3>Value</h3>

<p>An R object as specified by the JSON.
</p>

<hr>
<h2 id='logDebug'>Log a message at the DEBUG level</h2><span id='topic+logDebug'></span>

<h3>Description</h3>

<p>Log a message at the DEBUG level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logDebug(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logDebug_+3A_...">...</code></td>
<td>
<p>Zero or more objects which can be coerced to character (and which are pasted together
with no separator).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Log a message at the specified level. The message will be sent to all the registered loggers.
</p>

<hr>
<h2 id='logError'>Log a message at the ERROR level</h2><span id='topic+logError'></span>

<h3>Description</h3>

<p>Log a message at the ERROR level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logError(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logError_+3A_...">...</code></td>
<td>
<p>Zero or more objects which can be coerced to character (and which are pasted together
with no separator).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Log a message at the specified level. The message will be sent to all the registered loggers.
</p>

<hr>
<h2 id='logFatal'>Log a message at the FATAL level</h2><span id='topic+logFatal'></span>

<h3>Description</h3>

<p>Log a message at the FATAL level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logFatal(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logFatal_+3A_...">...</code></td>
<td>
<p>Zero or more objects which can be coerced to character (and which are pasted together
with no separator).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Log a message at the specified level. The message will be sent to all the registered loggers. This
function is be automatically called when an error occurs, and should not be called directly. Use
<code>stop()</code> instead.
</p>

<hr>
<h2 id='logInfo'>Log a message at the INFO level</h2><span id='topic+logInfo'></span>

<h3>Description</h3>

<p>Log a message at the INFO level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logInfo(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logInfo_+3A_...">...</code></td>
<td>
<p>Zero or more objects which can be coerced to character (and which are pasted together
with no separator).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Log a message at the specified level. The message will be sent to all the registered loggers. This
is equivalent to calling R's native <code>message()</code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

<hr>
<h2 id='logTrace'>Log a message at the TRACE level</h2><span id='topic+logTrace'></span>

<h3>Description</h3>

<p>Log a message at the TRACE level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logTrace(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logTrace_+3A_...">...</code></td>
<td>
<p>Zero or more objects which can be coerced to character (and which are pasted together
with no separator).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Log a message at the specified level. The message will be sent to all the registered loggers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

<hr>
<h2 id='logWarn'>Log a message at the WARN level</h2><span id='topic+logWarn'></span>

<h3>Description</h3>

<p>Log a message at the WARN level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logWarn(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logWarn_+3A_...">...</code></td>
<td>
<p>Zero or more objects which can be coerced to character (and which are pasted together
with no separator).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Log a message at the specified level. The message will be sent to all the registered loggers. This
function is automatically called when a warning is thrown, and should not be called directly. Use
<code>warning()</code> instead.
</p>

<hr>
<h2 id='makeCluster'>Create a cluster of nodes for parallel computation</h2><span id='topic+makeCluster'></span>

<h3>Description</h3>

<p>Create a cluster of nodes for parallel computation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeCluster(
  numberOfThreads,
  singleThreadToMain = TRUE,
  setAndromedaTempFolder = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeCluster_+3A_numberofthreads">numberOfThreads</code></td>
<td>
<p>Number of parallel threads.</p>
</td></tr>
<tr><td><code id="makeCluster_+3A_singlethreadtomain">singleThreadToMain</code></td>
<td>
<p>If <code>numberOfThreads</code> is 1, should we fall back to running the
process in the main thread?</p>
</td></tr>
<tr><td><code id="makeCluster_+3A_setandromedatempfolder">setAndromedaTempFolder</code></td>
<td>
<p>When TRUE, the andromedaTempFolder option will be copied to each
thread.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object representing the cluster.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fun &lt;- function(x) {
  return (x^2)
}

cluster &lt;- makeCluster(numberOfThreads = 3)
clusterApply(cluster, 1:10, fun)
stopCluster(cluster)
</code></pre>

<hr>
<h2 id='matchInList'>In a list of object of the same type, find those that match the input</h2><span id='topic+matchInList'></span>

<h3>Description</h3>

<p>In a list of object of the same type, find those that match the input
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchInList(x, toMatch)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matchInList_+3A_x">x</code></td>
<td>
<p>A list of objects of the same type.</p>
</td></tr>
<tr><td><code id="matchInList_+3A_tomatch">toMatch</code></td>
<td>
<p>The object to match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Typically, toMatch will contain a subset of the variables that are in the objects in the list. Any
object matching all variables in <code>toMatch</code> will be included in the result.
</p>


<h3>Value</h3>

<p>A list of objects that match the <code>toMatch</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- list(
  a = list(name = "John", age = 25, gender = "M"),
  b = list(name = "Mary", age = 24, gender = "F")
)

matchInList(x, list(name = "Mary"))

# $a
# $a$name
# [1] "John"
#
# $a$age
# [1] 25
#
#
# $b
# $b$name
# [1] "Mary"
#
# $b$age
# [1] 24
</code></pre>

<hr>
<h2 id='ParallelLogger-package'>ParallelLogger: Support for Parallel Computation, Logging, and Function Automation</h2><span id='topic+ParallelLogger'></span><span id='topic+ParallelLogger-package'></span>

<h3>Description</h3>

<p>Support for parallel computation with progress bar, and option to stop or proceed on errors. Also provides logging to console and disk, and the logging persists in the parallel threads. Additional functions support function call automation with delayed execution (e.g. for executing functions in parallel).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Martijn Schuemie <a href="mailto:schuemie@ohdsi.org">schuemie@ohdsi.org</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Marc Suchard
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Observational Health Data Science and Informatics [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ohdsi.github.io/ParallelLogger/">https://ohdsi.github.io/ParallelLogger/</a>
</p>
</li>
<li> <p><a href="https://github.com/OHDSI/ParallelLogger">https://github.com/OHDSI/ParallelLogger</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/OHDSI/ParallelLogger/issues">https://github.com/OHDSI/ParallelLogger/issues</a>
</p>
</li></ul>


<hr>
<h2 id='registerLogger'>Register a logger</h2><span id='topic+registerLogger'></span>

<h3>Description</h3>

<p>Register a logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>registerLogger(logger)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="registerLogger_+3A_logger">logger</code></td>
<td>
<p>An object of type <code>Logger</code> as created using the <code><a href="#topic+createLogger">createLogger</a></code>
function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Registers a logger as created using the <code><a href="#topic+createLogger">createLogger</a></code> function to the logging system.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

<hr>
<h2 id='saveSettingsToJson'>Save a settings object as JSON file</h2><span id='topic+saveSettingsToJson'></span>

<h3>Description</h3>

<p>Save a settings object as JSON file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveSettingsToJson(object, fileName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saveSettingsToJson_+3A_object">object</code></td>
<td>
<p>R object to be saved.</p>
</td></tr>
<tr><td><code id="saveSettingsToJson_+3A_filename">fileName</code></td>
<td>
<p>File name where the object should be saved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Save a setting object as a JSON file, using pretty formatting and preserving object classes and
attributes.
</p>

<hr>
<h2 id='selectFromList'>Select variables from a list of objects of the same type</h2><span id='topic+selectFromList'></span>

<h3>Description</h3>

<p>Select variables from a list of objects of the same type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selectFromList(x, select)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="selectFromList_+3A_x">x</code></td>
<td>
<p>A list of objects of the same type.</p>
</td></tr>
<tr><td><code id="selectFromList_+3A_select">select</code></td>
<td>
<p>A character vector of names of variables to select.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- list(
  a = list(name = "John", age = 25, gender = "M"),
  b = list(name = "Mary", age = 24, gender = "F")
)
selectFromList(x, c("name", "age"))

# $a
# $a$name
# [1] "John"
#
# $a$age
# [1] 25
#
#
# $b
# $b$name
# [1] "Mary"
#
# $b$age
# [1] 24
</code></pre>

<hr>
<h2 id='stopCluster'>Stop the cluster</h2><span id='topic+stopCluster'></span>

<h3>Description</h3>

<p>Stop the cluster
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stopCluster(cluster)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stopCluster_+3A_cluster">cluster</code></td>
<td>
<p>The cluster to stop</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>fun &lt;- function(x) {
  return (x^2)
}

cluster &lt;- makeCluster(numberOfThreads = 3)
clusterApply(cluster, 1:10, fun)
stopCluster(cluster)
</code></pre>

<hr>
<h2 id='unregisterLogger'>Unregister a logger</h2><span id='topic+unregisterLogger'></span>

<h3>Description</h3>

<p>Unregister a logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unregisterLogger(x, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unregisterLogger_+3A_x">x</code></td>
<td>
<p>Can either be an integer (e.g. 2 to remove the second logger), the name of the
logger, or the logger object itself.</p>
</td></tr>
<tr><td><code id="unregisterLogger_+3A_silent">silent</code></td>
<td>
<p>If TRUE, no warning will be issued if the logger is not found.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unregisters a logger from the logging system.
</p>


<h3>Value</h3>

<p>Returns TRUE if the logger was removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>appender &lt;- createConsoleAppender(layout = layoutTimestamp)

logger &lt;- createLogger(name = "SIMPLE",
                       threshold = "INFO",
                       appenders = list(appender))
registerLogger(logger)                      
logTrace("This event is below the threshold (INFO)")
logInfo("Hello world")                       
unregisterLogger("SIMPLE")                     
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

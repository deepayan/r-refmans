<!DOCTYPE html><html><head><title>Help for package contFracR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {contFracR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cfrac2latex'>
<p>Function which builds the LaTeX formula to display the continued fraction</p></a></li>
<li><a href='#cfrac2num'>
<p>Function to convert a defined set of numerators and denominators into the equivalent number.</p></a></li>
<li><a href='#cfrac2simple'>
<p>Function to Convert Continued Fraction to Simple Fraction.</p></a></li>
<li><a href='#contFracR-package'><p> Functions to generate and evaluate continued fractions</p></a></li>
<li><a href='#e2cfrac'>
<p>Function to Calculate e, Euler's Number With Continued Fractions</p></a></li>
<li><a href='#num2cfrac'>
<p>Function to Generate The Continued Fraction For a Number</p></a></li>
<li><a href='#pell'>
<p>Function to Solve Pell's Equation With Continued Fractions</p></a></li>
<li><a href='#phi2cfrac'>
<p>Function to Calculate Phi And Powers of Phi In Continued Fraction Form.</p></a></li>
<li><a href='#pi2cfrac'>
<p>Function to Calculate Pi In Continued Fraction Form</p></a></li>
<li><a href='#recipCfrac'>
<p>Function to Generate the Reciprocal of A Continued Fraction</p></a></li>
<li><a href='#root2cfrac'>
<p>Function To  Generate Continued Fraction For Arbitrary Roots</p></a></li>
<li><a href='#sqrt2periodicCfrac'>
<p>Function To  Generate Periodic Continued Fraction For Square Roots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Continued Fraction Generators and Evaluators</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-19</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Witthoft</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Witthoft &lt;cellocgw@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Converts numbers to continued fractions and back again. A solver for Pell's Equation is provided.  The method for calculating roots in continued fraction form is provided without published attribution in such places as Professor Emeritus Jonathan Lubin, <a href="http://www.math.brown.edu/jlubin/">http://www.math.brown.edu/jlubin/</a> and his post to StackOverflow, <a href="https://math.stackexchange.com/questions/2215918">https://math.stackexchange.com/questions/2215918</a> , or Professor Ron Knott, e.g., <a href="https://r-knott.surrey.ac.uk/Fibonacci/cfINTRO.html">https://r-knott.surrey.ac.uk/Fibonacci/cfINTRO.html</a> .</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Rmpfr, go2bigq, gmp, methods</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-19 12:40:21 UTC; cgw</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-19 15:32:33 UTC</td>
</tr>
</table>
<hr>
<h2 id='cfrac2latex'>
Function which builds the LaTeX formula to display the continued fraction 
</h2><span id='topic+cfrac2latex'></span>

<h3>Description</h3>

<p>Take the vectors of numerators and denominators and create the LaTeX formula which will draw the &quot;cascading&quot; continued fraction.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfrac2latex(denomvals, numvals = 1, denrepeats = 1, doellipsis = FALSE,  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cfrac2latex_+3A_denomvals">denomvals</code></td>
<td>

<p>A vector containing the denominator values, starting with the not-actually-denominator integer part of the continued fraction. If the denominator has a repeat sequence, specify the number of repeats using the argument <code>denrepeats</code> . See the Details section for more information.  
</p>
</td></tr>
<tr><td><code id="cfrac2latex_+3A_numvals">numvals</code></td>
<td>
	
<p>A vector containing the numerator values.  If the length of this vector is less than the length of the (perhaps repeated) <code>denomvals</code>, it will be recycled as necessary. 
</p>
</td></tr>
<tr><td><code id="cfrac2latex_+3A_denrepeats">denrepeats</code></td>
<td>
	
<p>If the denominator sequence has a repeat pattern, repeat that pattern this many times.  See the Details section for more information. 
</p>
</td></tr>
<tr><td><code id="cfrac2latex_+3A_doellipsis">doellipsis</code></td>
<td>

<p>If TRUE, an ellipsis is printed in the deepest denominator, indicating an infinite sequence continues.  If FALSE, not added. 
</p>
</td></tr>
<tr><td><code id="cfrac2latex_+3A_...">...</code></td>
<td>

<p>Reserved for future upgrades
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The standard notation for a continued fraction defines a sequence [a0; b1, b2, b3,...bn] indicating the formula is  x = a0 + 1/(b1 + 1/(b2 + 1/(b3...))) (or replace the numerators with a specified sequence of values of length n).  To save input effort, if there's a repeat pattern, e.g. [a0,b1,b2,b3,b1,b2,b3,...] then the user can enter the vector <code>denomvals = c(a0,b1,b2,b3)</code> and enter the desired number of repeats with the argument <code>denrepeats</code>. 
</p>


<h3>Value</h3>

<p>Three versions are returned.  
<code>texeqn</code> contains a text string compatible with the R-console's parser. Use this to write the correct LaTeX string to a file, or to pass it to tools such as <code><a href="graphics.html#topic+title">title</a></code>. 
<code>tex2copy</code> can be used if you wish to use Select/Copy/Paste operations on the text displayed in the console. Do not enter this into any R command, as the parser will interpret the backslashes as escape characters, e.g. &quot;backslash-f&quot; turns into a newline.  
Finally,  <code>eqn</code> returns an ASCII-only string along the lines of &quot;1/(1+1/(2+1/(3+...)))&quot;  .  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cfrac2latex( 1:5,1, doellipsis= FALSE)
#$eqn
#[1] "1 + 1/(2 + 1/(3 + 1/(4 + 1/5 ...)))"
#$tex2copy
#[1] "1 + \frac{1}{2 + \frac{1}{3 + \frac{1}{4 + \frac{1}{5 ...}}}}"

# Notice the additional backslashes to make the console parser happy. 
#$texeqn
#[1] "1 + \frac{1}{2 + \frac{1}{3 + \frac{1}{4 + \frac{1}{5 ...}}}}"

</code></pre>

<hr>
<h2 id='cfrac2num'>
Function to convert a defined set of numerators and denominators into the equivalent number.  
</h2><span id='topic+cfrac2num'></span>

<h3>Description</h3>

<p>Given a vector of denominators and optionally a vector of numerators, calculate the <code><a href="gmp.html#topic+bigq">bigq</a></code> fraction and the <code>mpfr</code> extended precision decimal value.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfrac2num(denom, num = 1, init = 0, nreps= 1, msgrate = NULL )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cfrac2num_+3A_denom">denom</code></td>
<td>

<p>A vector in standard continued fraction form <code>[b0; a1,a2,a3,...]</code> where <code>b0</code> represents the integer part of the number and the <code>a_j</code> are the denominator terms. If all terms, including <code>b0</code> , are the same, optionally enter a single value and specify the length with the <code>numterms</code> value
</p>
</td></tr>
<tr><td><code id="cfrac2num_+3A_num">num</code></td>
<td>
	
<p>A vector of numerator values. If all numerators are the same, a single value will suffice.  The default is <code>1</code> 
</p>
</td></tr>
<tr><td><code id="cfrac2num_+3A_init">init</code></td>
<td>

<p>In those cases where the denominator values repeat (e.g., for continued fraction form of square roots), it is possible to take the output of a previous run and use it to initialize a new run. This input must be a <code>bigq</code> fraction. Use with care. 
</p>
</td></tr>
<tr><td><code id="cfrac2num_+3A_nreps">nreps</code></td>
<td>
	
<p>If <code>denoms</code> is a single value, repeat that value <code>nreps</code> times to set up the continued fraction. Otherwise, assume a periodic denominator sequence was submitted, and repeat the <code>denom[-1] </code> section <code>nreps</code> times (the first denominator is the integer term) . 
</p>
</td></tr>
<tr><td><code id="cfrac2num_+3A_msgrate">msgrate</code></td>
<td>

<p>If desired enter an integer indicating how often a status message should be displayed. Leave as <code>NULL</code> to suppress messages.  For example, setting thi to 10 will generate a message every 10 sub-fraction reductions. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All calculations are done with <code><a href="gmp.html#topic+bigq">bigq</a></code> fractions to preserve full precision.  Naturally, a finite input will not yield the exact value for any irrational number.  
</p>


<h3>Value</h3>

<p>The exact numeric value is provided in <code>cgmp</code>, a <code>bigq</code> fraction.  The <code>mpfr</code> value is calculated using <code><a href="Rmpfr.html#topic+.bigq2mpfr">.bigq2mpfr</a></code>, which generates a decimal number of sufficient precision to match the implied precision of the fraction. 
<code>fracpart</code> equals <code>cgmp</code> minus the integer part, if any. 
<code>denom</code> and <code>num</code> provide the vectors of denominator and numerator values used in the calculation. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+num2cfrac">num2cfrac</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cfrac2num(rep(1,10)) # approximate phi

frac2 &lt;- sqrt2periodicCfrac(2) 
cfrac2num(frac2$numericdenom)
#simple cases
cfrac2num(denom=1)
cfrac2num(denom = c(0,2),num=1)
</code></pre>

<hr>
<h2 id='cfrac2simple'>
Function to Convert Continued Fraction to Simple Fraction. 
</h2><span id='topic+cfrac2simple'></span>

<h3>Description</h3>

<p>Given a vector of denominators and optionally numerators for a continued fraction, return the &quot;simple&quot; continued fraction where all numerators are 1. In addition, return the exact &quot;simple&quot; fraction x/y where both are integers.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfrac2simple(denom, num =1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cfrac2simple_+3A_denom">denom</code></td>
<td>

<p>A vector of values representing the standard <code>[b0; a1,a2,a3...]</code>  continued fraction denominators, starting with the integer part.
</p>
</td></tr>
<tr><td><code id="cfrac2simple_+3A_num">num</code></td>
<td>

<p>A vector of values representing the numerators in a continued fraction. The default is <code> nums = 1</code> as is the case for <code><a href="#topic+cfrac2num">cfrac2num</a></code> . 
</p>
</td></tr>
<tr><td><code id="cfrac2simple_+3A_...">...</code></td>
<td>

<p>Reserved for future use
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing:
<code>intfrac</code> ,the integer fraction  as a <code>bigq</code> value. 
<code>denom</code>, the denominator sequence for the continued fraction with all numerators equal to one. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cfrac2num">cfrac2num</a></code>, <code><a href="#topic+num2cfrac">num2cfrac</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foon &lt;- c(1,3,5,7,9)
food &lt;- c(1,2,4,6,8,10)
foosimple &lt;- cfrac2simple(denom =food, num=foon)
# compare with these two:
cfrac2num(den=food, num= foon)
cfrac2num(den=foosimple$denom)
</code></pre>

<hr>
<h2 id='contFracR-package'> Functions to generate and evaluate continued fractions</h2><span id='topic+contFracR-package'></span><span id='topic+contFracR'></span>

<h3>Description</h3>

<p>This package includes functions to convert a rational number to its continued fraction form, to convert any defined continued fraction to a numeric value, and to generate estimates of some common irrationals (e, pi, phi) via continued fraction representations. There's also a function which  generates LaTeX code to draw the continued fraction itself. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft, with attributions as noted in the individual help pages
</p>
<p>Maintainer:Carl Witthoft carl@witthoft.com
</p>

<hr>
<h2 id='e2cfrac'>
Function to Calculate e, Euler's Number With Continued Fractions
</h2><span id='topic+e2cfrac'></span>

<h3>Description</h3>

<p>Select a particular formula to get an approximate value for Euler's number or any power <code>e^(x/y)</code> . 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>e2cfrac(nterms, pownum = 1, powdenom = 1,  method = c('euler','wall','gauss'), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="e2cfrac_+3A_nterms">nterms</code></td>
<td>

<p>How many terms of the continued fraction formula to use.   
</p>
</td></tr>
<tr><td><code id="e2cfrac_+3A_pownum">pownum</code></td>
<td>
	
<p>An integer identifying the numerator of the (possibly fractional) power to raise <code>e</code> to.  See Details.
</p>
</td></tr>
<tr><td><code id="e2cfrac_+3A_powdenom">powdenom</code></td>
<td>
	
<p>An integer identifying the denominator of the (possibly fractional) power to raise <code>e</code> to.  See Details.
</p>
</td></tr>
<tr><td><code id="e2cfrac_+3A_method">method</code></td>
<td>
	
<p>Select the method, i.e. the continued fraction formula, for the calculation. If <code>pownum/powdenom != 1</code>, the method 'gauss' is automatically chosen.  See Details. 
</p>
</td></tr>
<tr><td><code id="e2cfrac_+3A_...">...</code></td>
<td>

<p>Reserved for future use
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The two methods which  calculate <code>e</code> but not to any power, use the following formulas:
&quot;euler&quot; denominators = 2; 1,2,1,1,4,1,1,6,1,1,8,...
&quot;wall&quot;  denominators = 2; 1,2,3,4,...  and numerators = 1,1,2,3,4,... 
The third method, which can calculate powers of <code>e</code> is variously listed as derived by Euler or proved by Gauss based on hypergeometric functions, is automatically invoked if <code>pownum/powdenom != 1 </code> . 
&quot;gauss&quot; denominators = 1; 2y-x,6y,10y,14y, 18y, 22y,.. and numerators = 2x,x^2,x^2,x^2,... where the exponent is x/y . 
</p>
<p>Due to the cyclic formula for the &quot;euler&quot; case, the exact number of terms used in the calculation may differ from the input <code>nterms</code> by 1 or 2 counts. 
</p>


<h3>Value</h3>

<p><code>edec</code> contains the <code>mpfr</code> extended decimal representation.  <code>egmp</code> contains the fraction representation.
<code>nterms, pownum, powdenom</code> echo back the input arguments used.
<code>method, nums, denoms</code> report the actual values used in the calculation. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="https://mathworld.wolfram.com/eContinuedFraction.html">https://mathworld.wolfram.com/eContinuedFraction.html</a>
<a href="https://en.wikipedia.org/wiki/Euler's_continued_fraction_formula">https://en.wikipedia.org/wiki/Euler's_continued_fraction_formula</a>
<a href="https://en.wikipedia.org/wiki/Gauss's_continued_fraction">https://en.wikipedia.org/wiki/Gauss's_continued_fraction</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e2cfrac(nterms = 10)
e2cfrac(nterms = 10, method = 'wall')
e2cfrac(nterms = 10, pownum = 2)
e2cfrac(nterms  = 10, powdenom = 2)

</code></pre>

<hr>
<h2 id='num2cfrac'>
Function to Generate The Continued Fraction For a Number
</h2><span id='topic+num2cfrac'></span>

<h3>Description</h3>

<p>This function takes a numeric value or a character string version of a number and returns the continued fraction equivalent representation.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num2cfrac(num, denom = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="num2cfrac_+3A_num">num</code></td>
<td>

<p>A value of class <code>numeric, bigz, bigq</code>, or <code>character</code> representing the numerator of the value to be converted. If the class is <code>bigq</code> then the input argument <code>denom</code> is ignored. 
Warning: if a numeric value with a fractional part is entered, errors will occur due to decimal - binary precision errors. Use either the character string form or enter integers for both numerator and denominator. 
A character string must be of the form [+,-][X][.][Y][[E,e][+,-]Z]  where X,Y, and Z are strings of numerals. See the Details section for more information. 
</p>
</td></tr>
<tr><td><code id="num2cfrac_+3A_denom">denom</code></td>
<td>
	
<p>Optional argument representing the denominator of the value to be converted. The default is <code>denom = 1</code> .  A character string must be of the form [+,][X][.][Y][[E,e][+,-]Z]  where X,Y, and Z are strings of numerals. See the Details section for more information.
</p>
</td></tr>
<tr><td><code id="num2cfrac_+3A_...">...</code></td>
<td>
	
<p>Reserved for future use. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The use of <code>mpfr</code> - class numbers is deliberately disallowed, because the small but generally present binary vs. decimal rounding error will lead to horrific continued fraction representations.
As noted above, character strings must be in the form [+,-][X][.][Y][[E,e][+,-]Z]  where X,Y, and Z are strings of numerals. To be explicit: if an exponent is desired, the &quot;+, -&quot; sign is optional but the numeric value Z is required. 
</p>
<p>While irrationals can't be expressed as a finite-digit number, by entering as many digits of a known approximation as desired, the equivalent close approximation as a finite continued fraction can be generated.  See the functions <code><a href="#topic+pi2cfrac">pi2cfrac</a></code>, <code><a href="#topic+phi2cfrac">phi2cfrac</a></code>, <code><a href="#topic+e2cfrac">e2cfrac</a></code> to generate as many elements of these known generators as desired. 
</p>


<h3>Value</h3>

<p>The denominators are returned as a <code>bigz</code> integer vector in <code>denom</code>.  The actual numerator and denominator values used in the continued fraction creation are echoed back as <code>bigz</code> integers in <code>numdenom</code> .  For example, if the input numerator and denominator were 6 and 15, the values 2 and 5 (reduced fraction) would be returned.  Or, if the numerator input is the character string &quot;1.25&quot; , then the values 5 and 4 will be returned. 
The numerators (A) and denominators (B) of the convergents are provided in <code>convA</code> and <code>convB</code>
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="go2bigq.html#topic+go2bigq">go2bigq</a></code>, <code><a href="#topic+cfrac2num">cfrac2num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>num2cfrac(num = 35, denom = 11)
num2cfrac(num = "-5.4967E+2")
num2cfrac(num = "1.3579")
# but this will be "wrong" :
num2cfrac(num = 1.3579)


</code></pre>

<hr>
<h2 id='pell'>
Function to Solve Pell's Equation With Continued Fractions
</h2><span id='topic+pell'></span>

<h3>Description</h3>

<p>Solve Pell's equation, <code class="reqn">x^2 - d*y^2 = 1</code> ,  using continued fractions. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pell(d, maxrep=10 , A = NULL, B = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pell_+3A_d">d</code></td>
<td>

<p>The integer which multiplies y in the equation. For obvious reasons, there is no value to selecting a perfect square.  
</p>
</td></tr>
<tr><td><code id="pell_+3A_maxrep">maxrep</code></td>
<td>

<p>The maximum number of times to repeat the periodic section of the continued fraction while generating convergents.  This exists only to avoid the possibility of an infinite &quot;while&quot; loop should something have gone wrong. 
</p>
</td></tr>
<tr><td><code id="pell_+3A_a">A</code>, <code id="pell_+3A_b">B</code></td>
<td>

<p>Should a  run of <code>pell</code> fail to find a solution (due, most likely, to a value of the argument <code>maxrep</code>), enter the convergents <code>A</code> and <code>B</code> from the previous run. This simply reduces runtime by avoiding the need to recalculate these convergent pairs.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As is nicely presented in the Wikipedia entry for Pell's Equation, 
Let h[i] / k[i] denote the sequence ofconvergents to the regular continued fraction for sqrt(n). This sequence is unique. Then the pairsolving Pell's equation and minimizing x satisfies x1 = h[i] and y1 = k[i] for some i. This pair is called thefundamental solution. Thus, the fundamental solution may be found by performing the continued fraction expansion and testing each successive convergent until a solution to Pell's equation is found.
The sequence of convergents for the square root of seven are
h/k(convergent)	h^2-7*k^2(Pell-type approximation)
2/1			3
3/1			+2
5/2			3
8/3			+1
so 8 / 3 is the one we want 
</p>


<h3>Value</h3>

<p>A list.
<code>wins</code> contains the solutions found
<code>d</code> echo back the input argument used.
<code>cfracdata</code> contains the output generated with <code><a href="#topic+sqrt2periodicCfrac">sqrt2periodicCfrac</a> </code>
<code>A,B</code> the numerators and denominators of the convergents calculated. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="https://mathworld.wolfram.com/eContinuedFraction.html">https://mathworld.wolfram.com/eContinuedFraction.html</a>
<a href="https://en.wikipedia.org/wiki/Pell's_equation">https://en.wikipedia.org/wiki/Pell's_equation</a>
</p>

<hr>
<h2 id='phi2cfrac'>
Function to Calculate Phi And Powers of Phi In Continued Fraction Form.  
</h2><span id='topic+phi2cfrac'></span>

<h3>Description</h3>

<p>This function generates the continued fraction form of the &quot;golden ratio&quot;,  <code>phi^N</code> for integer powers N.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phi2cfrac( nterms = 10, exponent = 1,  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phi2cfrac_+3A_nterms">nterms</code></td>
<td>

<p>How many denominators to calculate.   
</p>
</td></tr>
<tr><td><code id="phi2cfrac_+3A_exponent">exponent</code></td>
<td>
	
<p>An positive integer indicating the power of <code>phi</code> desired. The default is 1.
</p>
</td></tr>
<tr><td><code id="phi2cfrac_+3A_...">...</code></td>
<td>
	
<p>Reserved for future use.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'golden ratio' ,  equal to <code>(1 + sqrt(5))/2</code>, is the ratio of two sides x &lt; y of a rectangle such that, by removing a square of side x, the remaining rectangle has the same ratio.  
</p>
<p>It turns out, in one of those mathematical curiosities, the denominators of the continued fraction form of <code>phi</code> are all equal to one.  Some people use this to state, humorously, that this makes <code>phi</code> &quot;the most irrational irrational number.&quot;  It also happens that the continued fraction form for powers of <code>phi</code> consist of Lucas Numbers (see References). 
</p>


<h3>Value</h3>

<p>The continued fraction denominators are provided in <code>denom</code>.  The inputs <code>nterms</code> and <code>exponent</code> are echoed back for reference.  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Lucas_number">https://en.wikipedia.org/wiki/Lucas_number</a>
<a href="https://en.wikipedia.org/wiki/Golden_ratio">https://en.wikipedia.org/wiki/Golden_ratio</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+num2cfrac">num2cfrac</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>phi2cfrac(nterms = 10)
phi2cfrac(exponent = 3)
foop &lt;- phi2cfrac(nterms = 20)
cfrac2num(denom  = foop$denom)
# compare with:
library(Rmpfr)
(1 + sqrt(mpfr(5,1000)))/2 

</code></pre>

<hr>
<h2 id='pi2cfrac'>
Function to Calculate Pi In Continued Fraction Form
</h2><span id='topic+pi2cfrac'></span>

<h3>Description</h3>

<p>This function generates the continued fraction coefficients for pi, with three different algorithms to choose from.    
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pi2cfrac(nterms, method = c('brouncker','stern','coleman'),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pi2cfrac_+3A_nterms">nterms</code></td>
<td>

<p>The number of terms (basically depth of denominators) to generate.   
</p>
</td></tr>
<tr><td><code id="pi2cfrac_+3A_method">method</code></td>
<td>
	
<p>The method to use, entered as a string. The choice can be abbreviated so long as it's unambiguous. See the Details section for discussion of the methods and their discoverers. 
</p>
</td></tr>
<tr><td><code id="pi2cfrac_+3A_...">...</code></td>
<td>
	
<p>Reserved for future use. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The three methods are named for their discoverers: Brouncker in 1655, Stern in  1833, and Coleman &amp; Pickett in 2008.  There are others which can be found in various papers; these may be added in a future release. 
</p>


<h3>Value</h3>

<p>A list containing:
The numerators and denominators of the continued fraction in <code>nums</code> and <code>denoms</code> , as <code>bigz</code> integers,
<code>nterms</code> and <code>method</code> echoed back for reference
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="http://scihi.org/william-brouncker-approximation-pi/">http://scihi.org/william-brouncker-approximation-pi/</a>
<a href="https://divisbyzero.com/2008/12/09/a-new-continued-fraction-for-pi/">https://divisbyzero.com/2008/12/09/a-new-continued-fraction-for-pi/</a>
<a href="https://mathworld.wolfram.com/PiContinuedFraction.html">https://mathworld.wolfram.com/PiContinuedFraction.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cfrac2num">cfrac2num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> pi2cfrac(nterms = 100, method='stern')
 pi2cfrac(nterms = 100, method = 'coleman')


</code></pre>

<hr>
<h2 id='recipCfrac'>
Function to Generate the Reciprocal of A Continued Fraction 
</h2><span id='topic+recipCfrac'></span>

<h3>Description</h3>

<p>Given the numerators and denominators of a continued fraction, generate the numerators and denominators of the reciprocal of that fraction.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recipCfrac( denom, num = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recipCfrac_+3A_denom">denom</code></td>
<td>

<p>A vector of the continued fraction denominators.
</p>
</td></tr>
<tr><td><code id="recipCfrac_+3A_num">num</code></td>
<td>
	
<p>A vector of the continued fraction numerators.  Default is 1, indicating that all numerators have the value 1. 
</p>
</td></tr>
<tr><td><code id="recipCfrac_+3A_...">...</code></td>
<td>
	
<p>Reserved for future use. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a Q&amp;D tool to perform a simple operation.  It can easily be shown that the reciprocal of a continued fraction is obtained by prepending <code>0</code> to the current denominator sequence and prepending <code>1</code> to the current numerator sequence.  To be explicit, given the standard denominator notation <code>[b0; a1,a2,a3...]</code> , the new denominator vector is <code>[ 0; b0, a1,a2,a3...]</code>  
</p>


<h3>Value</h3>

<p>A list containing <code>denom</code> and <code>num</code> (numerators) for the reciprocal value.  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foon &lt;- c(1,3,5,7,9)
food &lt;- c(1,2,4,6,8,10)
foor &lt;- recipCfrac(num = foon, den=food)
# compare:
cfrac2num(num=foor$num, denom = foor$denom)$cgmp
original &lt;- cfrac2num(num=foon, denom=food)
original$cgmp *cfrac2num(num=foor$num, denom = foor$denom)$cgmp


</code></pre>

<hr>
<h2 id='root2cfrac'>
Function To  Generate Continued Fraction For Arbitrary Roots
</h2><span id='topic+root2cfrac'></span>

<h3>Description</h3>

<p>This function generates the generalized continued fraction  for any input value <code>x^(m/n)</code>.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>root2cfrac(x, n, m = 1, nterms = 10, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="root2cfrac_+3A_x">x</code></td>
<td>

<p>The number itself.  Integers, doubles, bigz, and bigq classes are allowed.   
</p>
</td></tr>
<tr><td><code id="root2cfrac_+3A_n">n</code></td>
<td>
	
<p>The integer denominator of the power to which x is raised. That is, when <code>m</code> is 1, the n-th root of x is generated. 
</p>
</td></tr>
<tr><td><code id="root2cfrac_+3A_m">m</code></td>
<td>
	
<p>The integer numerator of the power to which x is raised. The default is 1. 
</p>
</td></tr>
<tr><td><code id="root2cfrac_+3A_nterms">nterms</code></td>
<td>

<p>How many terms (denominators) to calculate. 
</p>
</td></tr>
<tr><td><code id="root2cfrac_+3A_...">...</code></td>
<td>

<p>Reserved for future use
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The generalized continued fraction for arbitrary roots will not be periodic, and may not even show a pattern in the denominator values. By comparison, <code><a href="#topic+sqrt2periodicCfrac">sqrt2periodicCfrac</a></code> generates a simple continued fraction with a periodic sequence for square roots only.  That periodic sequence tends to converge more slowly than the aperiodic sequence produced here. 
</p>


<h3>Value</h3>

<p>A list, containing:
The continued fraction numerators and denominators in <code>bigz</code> form <code>num</code> , <code>denom</code> .
The continued fraction numerators and denominators in numeric form <code>numericnum</code>, <code>numericdenom</code> .  In the extreme case that a value exceeds the machine size of a numeric, <code>NA</code> is returned. 
The inputs <code>x, n, m</code> are echoed back. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Generalized_continued_fraction">https://en.wikipedia.org/wiki/Generalized_continued_fraction</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sqrt2periodicCfrac">sqrt2periodicCfrac</a></code>,  <code><a href="#topic+cfrac2num">cfrac2num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>root2cfrac(x = 2, n = 3)
root2cfrac(x=17, n= 5, m= 2)
root2cfrac(x = 2, n = 2, nterms = 20)
#compare with 
sqrt2periodicCfrac(num = 2, nterms = 20)


</code></pre>

<hr>
<h2 id='sqrt2periodicCfrac'>
Function To  Generate Periodic Continued Fraction For Square Roots
</h2><span id='topic+sqrt2periodicCfrac'></span>

<h3>Description</h3>

<p>This function produces the denominators of the continued fraction form of any square root.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqrt2periodicCfrac(num, denom = 1,  nterms = 50, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sqrt2periodicCfrac_+3A_num">num</code></td>
<td>

<p>An integer, <code>bigz</code> integer, or a character string form of an integer,  representing the number or the numerator of the number for which the continued fraction form of the square root is to be generated. 
</p>
</td></tr>
<tr><td><code id="sqrt2periodicCfrac_+3A_denom">denom</code></td>
<td>
	
<p>An integer ,<code>bigz</code> integer, or a character string form of an integer,representing  the denominator of the number for which the continued fraction form of the square root is to be generated. The default value is 1. If <code>denom</code> is not 1, the values returned must be divided by the denominator. See the Details section. 
</p>
</td></tr>
<tr><td><code id="sqrt2periodicCfrac_+3A_nterms">nterms</code></td>
<td>
	
<p>The maximum number of terms (denominators) to calculate. This is a &quot;safety&quot; limit in case the denominator repeat pattern turns out to be extremely long.  See the Details section. 
</p>
</td></tr>
<tr><td><code id="sqrt2periodicCfrac_+3A_...">...</code></td>
<td>

<p>Reserved for future use.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As discussed in the references, this algorithm will produce a periodic sequence of denominator values for any rational input value. 
Important note: the algorithm actually calculates the square root of <code>num * denom</code> because it only works properly with integers. Thus, if <code>num/denom</code> is not an integer, you must divide the results by the value of the denominator to get the correct square root.
If the returned value of <code>repeated</code> is &quot;FALSE&quot; then increase the input argument <code>nterms</code>.  The default value (50) exists so that the function can terminate rather than spend (possibly undesired) time calculating extremely long denominator repeat sequences. 
</p>


<h3>Value</h3>

<p>A list, with:
The continued fraction numerators and denominators in <code>bigz</code> form <code>num</code> , <code>denom</code> .
The continued fraction numerators and denominators in numeric form <code>numericnum</code>, <code>numericdenom</code> .  In the extreme case that a value exceeds the machine size of a numeric, <code>NA</code> is returned.
<code>repeated</code> returns TRUE if the denominator repeat argument is found, and FALSE if not. 
<code>input</code> echoes back the input num and denom arguments. 
The numerators (A) and denominators (B) of the convergents are provided in <code>convA</code> and <code>convB</code>
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="https://r-knott.surrey.ac.uk/Fibonacci/cfINTRO.html">https://r-knott.surrey.ac.uk/Fibonacci/cfINTRO.html</a>  section6.2
<a href="https://math.stackexchange.com/questions/2215918">https://math.stackexchange.com/questions/2215918</a> 
</p>
<p>Proof of periodicity:
<a href="https://web.math.princeton.edu/mathlab/jr02fall/Periodicity/mariusjp.pdf">https://web.math.princeton.edu/mathlab/jr02fall/Periodicity/mariusjp.pdf</a> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sqrt2periodicCfrac(12)
sqrt2periodicCfrac('12')
sqrt2periodicCfrac(12,7)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

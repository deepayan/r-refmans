<!DOCTYPE html><html><head><title>Help for package RcppClock</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcppClock}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fibonacci'><p>Simple RcppClock example</p></a></li>
<li><a href='#RcppClock'><p>RcppClock</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Seamless 'Rcpp' Benchmarking</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-11-01</td>
</tr>
<tr>
<td>Author:</td>
<td>Zach DeBruine</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zach DeBruine &lt;zacharydebruine@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Time the execution of overlapping or unique 'Rcpp' code chunks using convenient methods, seamlessly write timing results to an 'RcppClock' object in the R global environment, and summarize and/or plot the results in R.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.7), ggplot2</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-04 10:54:35 UTC; Owner</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-06 15:00:19 UTC</td>
</tr>
</table>
<hr>
<h2 id='fibonacci'>Simple RcppClock example</h2><span id='topic+fibonacci'></span>

<h3>Description</h3>

<p>Time the computation of fibonacci numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fibonacci(n, reps = 10L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fibonacci_+3A_n">n</code></td>
<td>
<p>vector giving integers for which to compute the fibonacci sum</p>
</td></tr>
<tr><td><code id="fibonacci_+3A_reps">reps</code></td>
<td>
<p>number of replicates for timing</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function being timed is the following:
</p>
<p><code>int fib(int n) { return ((n &lt;= 1) ? n : fib(n - 1) + fib(n - 2)); }</code>
</p>
<p>Runtime for computations less than <code>n = 25</code> is nearly unmeasurable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fibonacci(n = c(25:35), reps = 10)
# this function creates a global environment variable "clock"
#   that is an S3 RcppClock object
clock
plot(clock)
summary(clock, units = "ms")
</code></pre>

<hr>
<h2 id='RcppClock'>RcppClock</h2><span id='topic+RcppClock'></span><span id='topic+RcppClock+2C'></span><span id='topic+RcppClock-package+2C'></span><span id='topic+RcppClock-class'></span><span id='topic+summary.RcppClock'></span><span id='topic+print.RcppClock'></span><span id='topic+plot.RcppClock'></span>

<h3>Description</h3>

<p>Time Rcpp functions and summarize, print, and plot runtime statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RcppClock'
summary(object, units = "auto", ...)

## S3 method for class 'RcppClock'
print(x, ...)

## S3 method for class 'RcppClock'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RcppClock_+3A_object">object</code></td>
<td>
<p>RcppClock object</p>
</td></tr>
<tr><td><code id="RcppClock_+3A_units">units</code></td>
<td>
<p>nanoseconds (<code>"ns"</code>), microseconds (<code>"us"</code>), milliseconds (<code>"ms"</code>), seconds (<code>"s"</code>), or auto (<code>"auto"</code>)</p>
</td></tr>
<tr><td><code id="RcppClock_+3A_...">...</code></td>
<td>
<p>arguments to other functions</p>
</td></tr>
<tr><td><code id="RcppClock_+3A_x">x</code></td>
<td>
<p>RcppClock object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See https://github.com/zdebruine/RcppClock/readme.md for information on how to use the package.
</p>


<h3>RcppClock functions</h3>

<p>See the RcppClock README on <code>https://github.com/zdebruine/RcppClock#readme</code> for basic usage examples.
</p>
<p>When the Rcpp <code style="white-space: pre;">&#8288;Rcpp::clock::stop()&#8288;</code> method is called in Rcpp code, an S3 <code>RcppClock</code> object
will be created in the global environment. This object contains three methods:
</p>

<ul>
<li> <p><code>summary</code>: computes runtime summary statistics and returns a <code>data.frame</code>
</p>
</li>
<li> <p><code>print</code>:  runs <code>summary</code> and then prints the resulting <code>data.frame</code>
</p>
</li>
<li> <p><code>plot</code>:  a ggplot2 violin plot with jitter points showing runtimes for each expression
</p>
</li></ul>

<p>The <code><a href="#topic+fibonacci">fibonacci</a></code> function is a simple example of how to use RcppClock.
See the source code on <code>github.com/zdebruine/RcppClock/src/fibonacci.cpp</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fibonacci">fibonacci</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(RcppClock)
fibonacci(n = 25:35, reps = 10)
# this function creates a global environment variable "clock"
#   that is an S3 RcppClock object
clock
plot(clock)
summary(clock, units = "ms")

## Not run: 
# this is the Rcpp code behind the "fibonacci" example function

```{Rcpp}
//[[Rcpp::depends(RcppClock)]]
#include &lt;RcppClock.h&gt;

int fib(int n) {
return ((n &lt;= 1) ? n : fib(n - 1) + fib(n - 2));
}

//[[Rcpp::export]]
void fibonacci(std::vector&lt;int&gt; n, int reps = 10) {
  Rcpp::Clock clock;
  while(reps-- &gt; 0){
    for(auto number : n){
      clock.tick("fib" + std::to_string(number));
      fib(number);
      clock.tock("fib" + std::to_string(number));
    }
 }
 clock.stop("clock");
}
```

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

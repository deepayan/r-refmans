<!DOCTYPE html><html><head><title>Help for package ocd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ocd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#accessor'><p>Accessor functions to attributes of class ChangepointDetector</p></a></li>
<li><a href='#Chan_update'><p>Processing a new data point for the 'Chan' class</p></a></li>
<li><a href='#ChangepointDetector'><p>Constructor for the ChangepointDetector S3 class</p></a></li>
<li><a href='#checkChange'><p>Check if a mean change has occurred.</p></a></li>
<li><a href='#getData'><p>Processing a new data point</p></a></li>
<li><a href='#MC_Chan'><p>Compute Monte Carlo thresholds for the Chan method</p></a></li>
<li><a href='#MC_Mei'><p>Compute Monte Carlo thresholds for the Mei method</p></a></li>
<li><a href='#MC_ocd'><p>Compute Monte Carlo thresholds for the OCD method</p></a></li>
<li><a href='#MC_XS'><p>Compute Monte Carlo thresholds for the XS method</p></a></li>
<li><a href='#Mei_update'><p>Processing a new data point for the 'Mei' class</p></a></li>
<li><a href='#new_Chan'><p>construtor for subclass 'Chan' in class 'ChangepointDetector'</p></a></li>
<li><a href='#new_Mei'><p>constructor of subclass 'Mei' in class 'ChangepointDetector'</p></a></li>
<li><a href='#new_OCD'><p>constructor of subclass 'OCD' in class 'ChangepointDetector'</p></a></li>
<li><a href='#new_XS'><p>constructor of subclass 'XS' in class 'ChangepointDetector'</p></a></li>
<li><a href='#normalisedStatistics'><p>Compute maximum ratio between detection statistic and its threshold</p></a></li>
<li><a href='#ocd'><p>ocd: A package for high-dimensional multiscale online changepoint detection</p></a></li>
<li><a href='#ocd_update'><p>Processing a new data point for the 'OCD' class</p></a></li>
<li><a href='#ParkfieldSensors'><p>Parkfield seismic sensor data</p></a></li>
<li><a href='#print.ChangepointDetector'><p>Printing methods for the 'ChangepointDetector' class</p></a></li>
<li><a href='#reset'><p>Reset changepoint detector to initial state</p></a></li>
<li><a href='#setBaselineMean'><p>Set baseline mean</p></a></li>
<li><a href='#setBaselineSD'><p>Set baseline standard deviation</p></a></li>
<li><a href='#setStatus'><p>Set changepoint detector status</p></a></li>
<li><a href='#update_param'><p>compute new mean and sd from old ones with one additional observation</p></a></li>
<li><a href='#XS_update'><p>Processing a new data point for the 'XS' class</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>High-Dimensional Multiscale Online Changepoint Detection</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-10-02</td>
</tr>
<tr>
<td>Author:</td>
<td>Yudong Chen, Tengyao Wang, Richard J. Samworth</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yudong Chen &lt;yudong.chen@statslab.cam.ac.uk&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements the algorithm in Chen, Wang and Samworth (2020) &lt;<a href="https://arxiv.org/abs/2003.03668">arXiv:2003.03668</a>&gt; for online detection of sudden mean changes in a sequence of high-dimensional observations. It also implements methods by Mei (2010) &lt;<a href="https://doi.org/10.1093%2Fbiomet%2Fasq010">doi:10.1093/biomet/asq010</a>&gt;, Xie and Siegmund (2013) &lt;<a href="https://doi.org/10.1214%2F13-AOS1094">doi:10.1214/13-AOS1094</a>&gt; and Chan (2017) &lt;<a href="https://doi.org/10.1214%2F17-AOS1546">doi:10.1214/17-AOS1546</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-10-02 19:21:14 UTC; yudongoffice</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-10-07 10:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='accessor'>Accessor functions to attributes of class ChangepointDetector</h2><span id='topic+accessor'></span><span id='topic+data_dim'></span><span id='topic+ocdMethod'></span><span id='topic+n_obs'></span><span id='topic+patience'></span><span id='topic+param'></span><span id='topic+thresholds'></span><span id='topic+baselineMean'></span><span id='topic+baselineSD'></span><span id='topic+tracked'></span><span id='topic+statistics'></span><span id='topic+status'></span>

<h3>Description</h3>

<p>Accessor functions to attributes of class ChangepointDetector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dim(detector)

ocdMethod(detector)

n_obs(detector)

patience(detector)

param(detector)

thresholds(detector)

baselineMean(detector)

baselineSD(detector)

tracked(detector)

statistics(detector)

status(detector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accessor_+3A_detector">detector</code></td>
<td>
<p>Object of S3 class 'ChangepointDetector'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Obtain various attributes of the class 'ChangepointDetector'
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code>
</p>

<hr>
<h2 id='Chan_update'>Processing a new data point for the 'Chan' class</h2><span id='topic+Chan_update'></span>

<h3>Description</h3>

<p>This function implements the <code><a href="#topic+getData">getData</a></code> function to
perform the online changepoint detection for the 'Chan' class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Chan_update(x_new, X_recent, CUSUM, p0, w, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Chan_update_+3A_x_new">x_new</code></td>
<td>
<p>a new data point</p>
</td></tr>
<tr><td><code id="Chan_update_+3A_x_recent">X_recent</code></td>
<td>
<p>matrix of <code>w</code> most recent observations</p>
</td></tr>
<tr><td><code id="Chan_update_+3A_cusum">CUSUM</code></td>
<td>
<p>tail partial sums of different lengths to be tracked online</p>
</td></tr>
<tr><td><code id="Chan_update_+3A_p0">p0</code></td>
<td>
<p>sparsity parameter</p>
</td></tr>
<tr><td><code id="Chan_update_+3A_w">w</code></td>
<td>
<p>window parameter</p>
</td></tr>
<tr><td><code id="Chan_update_+3A_lambda">lambda</code></td>
<td>
<p>a tuning parameter for the 'Chan' method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of
</p>

<ul>
<li><p> stat: test statistic for the 'Chan' class.
</p>
</li>
<li><p> X_recent: the updated X_recent matrix
</p>
</li>
<li><p> CUSUM: the updated CUSUM matrix
</p>
</li></ul>



<h3>References</h3>

<p>Chan, H. P. (2017) Optimal sequential detection in multi-stream data.
<em>Ann. Statist.</em>, <strong>45</strong>, 2736&ndash;2763.
</p>

<hr>
<h2 id='ChangepointDetector'>Constructor for the ChangepointDetector S3 class</h2><span id='topic+ChangepointDetector'></span>

<h3>Description</h3>

<p>Constructor for the ChangepointDetector S3 class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ChangepointDetector(dim, method = c("ocd", "Mei", "XS", "Chan"), thresh,
  patience = 5000, MC_reps = 100, beta = 1, sparsity = "auto",
  b = beta/sqrt(dim), p0 = 1/sqrt(dim), w = 200, lambda = sqrt(8) -
  2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ChangepointDetector_+3A_dim">dim</code></td>
<td>
<p>Data dimension, all new data must be of this dimension</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_method">method</code></td>
<td>
<p>Four methods are implemented: <code>ocd</code>, <code>Mei</code>, <code>XS</code>
and <code>Chan</code>. They correspond to the methods proposed in Chen, Wang and
Samworth (2020), Mei (2010), Xie and Siegmund (2013) and Chan (2017). The
constructed detector will be of 'OCD', 'Mei', 'XS' and 'Chan' subclass
respectively.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_thresh">thresh</code></td>
<td>
<p>A numeric vector or the character string 'MC'. If 'MC' is
specified then the correct threshold will be computed by Monte Carlo
simulation (the <code>patience</code> argument should be specified for this).
Otherwise, for method <code>ocd</code>, a vector of length 3 (corresponding
to the diagonal statistic, off-diagonal dense statistic and off-diagonal
sparse statistic) should be specifiied; for method <code>Mei</code>, a vector of
length two (corresponding to the max and sum statistics) should be specified;
for methods <code>XS</code> and <code>Chan</code>, a single positive real number should
be specified;</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_patience">patience</code></td>
<td>
<p>Required patience (average run length without change) of the
online changepoint procedure. This is optional if the thresholds for detection
are manually specified, but is required if Monte Carlo thresholds are used.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_mc_reps">MC_reps</code></td>
<td>
<p>Number of Monte Carlo repetitions to use to estimate the
thresholds. Only used when <code>thresh='MC'</code>.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_beta">beta</code></td>
<td>
<p>lower bound on the l_2 norm of the vector of mean change to be
detected. This argument is used by the <code>ocd</code> method.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_sparsity">sparsity</code></td>
<td>
<p>Parameter used by the <code>ocd</code>. If <code>sparsity='sparse'</code>,
then only the diagonal and off-diagonal sparse statistics are used.
If <code>sparsity='dense'</code>, then only the diagonal and off-diagonal sparse
statistics are used. If <code>sparsity='auto'</code>, all three statistics are used
to detect both sparse and dense change adaptively.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_b">b</code></td>
<td>
<p>Lower bound on the per-coordinate magnitude of mean change be
detected. This argument is used by the 'Mei' method. If <code>b</code> is
unspecified but <code>beta</code> is specified, the default <code>b = beta/sqrt(dim)</code>
will be used.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_p0">p0</code></td>
<td>
<p>A real number between 0 and 1. Sparsity parameter used by <code>XS</code>
and <code>Chan</code> methods. It is the assumed fraction of nonzero coordinates of
change. Default to <code>1/sqrt(dim)</code>.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_w">w</code></td>
<td>
<p>Window size parameter used by <code>XS</code> and <code>Chan</code> methods.
Number of most recent data points to keep track in memory. Default is 200.</p>
</td></tr>
<tr><td><code id="ChangepointDetector_+3A_lambda">lambda</code></td>
<td>
<p>A tuning parameter used by the <code>Chan</code> method. Default is
<code>sqrt(8)-2</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper. The <code><a href="#topic+new_OCD">new_OCD</a></code>,
<code><a href="#topic+new_Mei">new_Mei</a></code>, <code><a href="#topic+new_XS">new_XS</a></code> and <code><a href="#topic+new_Chan">new_Chan</a></code> carry
out the actual constructor implementation.
</p>


<h3>Value</h3>

<p>An object of S3 class 'ChangepointDetector'. Depending on the
<code>method</code> argument specified, the object also belongs to a subclass
'OCD', 'Mei', 'XS' or 'Chan' corresponding to <code>method='ocd'</code>. It
contains the following attributes:
</p>

<ul>
<li><p> class - S3 class and subclass
</p>
</li>
<li><p> data_dim - data dimension
</p>
</li>
<li><p> method - method used for changepoint detection
</p>
</li>
<li><p> param - a list of parameters used in the specific method: <code>beta</code>
and <code>sparsity</code> for method <code>ocd</code>; <code>b</code> for method <code>Mei</code>;
<code>p0</code> and <code>w</code> for method <code>XS</code>; <code>p0</code>, <code>w</code> and
<code>lambda</code> for method <code>Chan</code>.
</p>
</li>
<li><p> threshold - a named vector of thresholds used for detection (see the
<code>thresh</code> argument)
</p>
</li>
<li><p> n_obs - number of observations, initialised to 0
</p>
</li>
<li><p> baseline_mean - vector of pre-change mean, initialised to a vector of 0,
can be estimated by setting the changepoint detector into baseline mean and
standard deviation estimating status, see <code><a href="#topic+setStatus">setStatus</a></code>, or set
directly using <code><a href="#topic+setBaselineMean">setBaselineMean</a></code>.
</p>
</li>
<li><p> baseline_sd - vector of standard deviation, initialised to a vector of 1,
can be estimated by setting the changepoint detector into baseline mean and
standard deviation estimating status, see <code><a href="#topic+setStatus">setStatus</a></code>, or set
directly using <code><a href="#topic+setBaselineSD">setBaselineSD</a></code>.
</p>
</li>
<li><p> tracked -  a list of information tracked online by the changepoint
detector: matrices <code>A</code>
and <code>tail</code> for method <code>ocd</code>; vector <code>R</code> for method <code>Mei</code>;
matrices <code>X_recent</code> and <code>CUSUM</code> for methods <code>XS</code> and <code>Chan</code>.
</p>
</li>
<li><p> statistics - a named vector of test statistics for changepoint
detection: statistics with names <code>diag</code>, <code>off_d</code> and <code>off_s</code>
for method <code>ocd</code> (note if <code>sparsity</code> is <code>'dense'</code> or
<code>'sparse'</code>, then only (S^diag, S^off,d)
and (S^diag, S^off,s) are included in <code>stat</code> respectively.);
statistics with names <code>max</code> and <code>sum</code> for
method <code>Mei</code>; a single numeric value for  methods <code>XS</code> and <code>Chan</code>.
</p>
</li>
<li><p> status - one of the following: 'estimating' (the detector is estimating
the baseline mean and standard deviation with new data points), 'monitoring'
(the detector is detecting changes from the baseline mean from new data points)
and an integer recording the time of declaration of changepoint.
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p> Chen, Y., Wang, T. and Samworth, R. J. (2020) High-dimensional
multiscale online changepoint detection <em>Preprint</em>. arxiv:2003.03668.
</p>
</li>
<li><p> Mei, Y. (2010) Efficient scalable schemes for monitoring a large number
of data streams. <em>Biometrika</em>, <strong>97</strong>, 419&ndash;433.
</p>
</li>
<li><p> Xie, Y. and Siegmund, D. (2013) Sequential multi-sensor change-point
detection.  <em>Ann. Statist.</em>, <strong>41</strong>, 670&ndash;692.
</p>
</li>
<li><p> Chan, H. P. (2017) Optimal sequential detection in multi-stream data.
<em>Ann. Statist.</em>, <strong>45</strong>, 2736&ndash;2763.
</p>
</li></ul>



<h3>See Also</h3>

<p>accessor functions such as <code><a href="#topic+data_dim">data_dim</a></code>, the main function
for processing a new data point <code><a href="#topic+getData">getData</a></code>, other methods for the
ChangepointDetector class including <code><a href="#topic+reset">reset</a></code>,
<code><a href="#topic+setBaselineMean">setBaselineMean</a></code>, <code><a href="#topic+setBaselineSD">setBaselineSD</a></code>,
<code><a href="#topic+setStatus">setStatus</a></code>, <code><a href="#topic+normalisedStatistics">normalisedStatistics</a></code> and
<code><a href="#topic+checkChange">checkChange</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detector_ocd &lt;- ChangepointDetector(dim=100, method='ocd',
                                    thresh=c(11.6, 179.5, 54.9), beta=1)
detector_Mei &lt;- ChangepointDetector(dim=100, method='Mei',
                                    thresh=c(8.6, 125.1), b=0.1)
detector_XS &lt;- ChangepointDetector(dim=100, method='XS', thresh=55.1)
detector_Chan &lt;- ChangepointDetector(dim=100, method='Chan', thresh=8.7)
</code></pre>

<hr>
<h2 id='checkChange'>Check if a mean change has occurred.</h2><span id='topic+checkChange'></span>

<h3>Description</h3>

<p>Check if a mean change has occurred.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkChange(detector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkChange_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code><a href="#topic+normalisedStatistics">normalisedStatistics</a></code> funcrtion is used to check if
any of the test statistics are above the threshold level. If this happens, the
status of the detector is changed to record the time of change and a message
is printed to the standard output declaring the change.
</p>


<h3>Value</h3>

<p>Updated object <code>detector</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+normalisedStatistics">normalisedStatistics</a></code>, <code><a href="#topic+setStatus">setStatus</a></code>,
</p>

<hr>
<h2 id='getData'>Processing a new data point</h2><span id='topic+getData'></span><span id='topic+getData.OCD'></span><span id='topic+getData.Mei'></span><span id='topic+getData.XS'></span><span id='topic+getData.Chan'></span>

<h3>Description</h3>

<p>This is the main function for the 'ChangepointDetector' class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getData(detector, x_new)

## S3 method for class 'OCD'
getData(detector, x_new)

## S3 method for class 'Mei'
getData(detector, x_new)

## S3 method for class 'XS'
getData(detector, x_new)

## S3 method for class 'Chan'
getData(detector, x_new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getData_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
<tr><td><code id="getData_+3A_x_new">x_new</code></td>
<td>
<p>A new data point. It must be of the same dimension as
specified in the data_dim attribute of <code>detector</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the status of the <code>detector</code> object is 'estimating', the new
data point is used to update the current estimate of pre-change mean and
standard deviation. If the status of the <code>detector</code> object is monitoring',
the new data point is used to detect if a mean change has occurred.
</p>


<h3>Value</h3>

<p>Updated object <code>detector</code>
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>OCD</code>: Process a new data for subclass 'OCD'
</p>
</li>
<li> <p><code>Mei</code>: Process a new data for subclass 'Mei'
</p>
</li>
<li> <p><code>XS</code>: Process a new data for subclass 'XS'
</p>
</li>
<li> <p><code>Chan</code>: Process a new data for subclass 'Chan'
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+setBaselineMean">setBaselineMean</a></code> for updating the pre-change mean
estimate, <code><a href="#topic+setBaselineSD">setBaselineSD</a></code> for updating the standard deviation
estimate, <code><a href="#topic+checkChange">checkChange</a></code> for checking for change.
</p>

<hr>
<h2 id='MC_Chan'>Compute Monte Carlo thresholds for the Chan method</h2><span id='topic+MC_Chan'></span>

<h3>Description</h3>

<p>Compute Monte Carlo thresholds for the Chan method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MC_Chan(dim, patience, p0, w, lambda, MC_reps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MC_Chan_+3A_dim">dim</code></td>
<td>
<p>Data dimension</p>
</td></tr>
<tr><td><code id="MC_Chan_+3A_patience">patience</code></td>
<td>
<p>Nominal patience of the procedure</p>
</td></tr>
<tr><td><code id="MC_Chan_+3A_p0">p0</code></td>
<td>
<p>Assumed fraction of nonzero coordinates of change.</p>
</td></tr>
<tr><td><code id="MC_Chan_+3A_w">w</code></td>
<td>
<p>Window size</p>
</td></tr>
<tr><td><code id="MC_Chan_+3A_lambda">lambda</code></td>
<td>
<p>Tuning parameter for Chan (2017) method</p>
</td></tr>
<tr><td><code id="MC_Chan_+3A_mc_reps">MC_reps</code></td>
<td>
<p>number of Monte Carlo repetitions to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of computed thresholds.
</p>

<hr>
<h2 id='MC_Mei'>Compute Monte Carlo thresholds for the Mei method</h2><span id='topic+MC_Mei'></span>

<h3>Description</h3>

<p>Compute Monte Carlo thresholds for the Mei method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MC_Mei(dim, patience, b, MC_reps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MC_Mei_+3A_dim">dim</code></td>
<td>
<p>Data dimension</p>
</td></tr>
<tr><td><code id="MC_Mei_+3A_patience">patience</code></td>
<td>
<p>Nominal patience of the procedure</p>
</td></tr>
<tr><td><code id="MC_Mei_+3A_b">b</code></td>
<td>
<p>lLwer bound on per-coordinate magnitude of change</p>
</td></tr>
<tr><td><code id="MC_Mei_+3A_mc_reps">MC_reps</code></td>
<td>
<p>Number of Monte Carlo repetitions to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of computed thresholds.
</p>

<hr>
<h2 id='MC_ocd'>Compute Monte Carlo thresholds for the OCD method</h2><span id='topic+MC_ocd'></span>

<h3>Description</h3>

<p>Compute Monte Carlo thresholds for the OCD method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MC_ocd(dim, patience, beta, sparsity, MC_reps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MC_ocd_+3A_dim">dim</code></td>
<td>
<p>Data dimension</p>
</td></tr>
<tr><td><code id="MC_ocd_+3A_patience">patience</code></td>
<td>
<p>Nominal patience of the procedure</p>
</td></tr>
<tr><td><code id="MC_ocd_+3A_beta">beta</code></td>
<td>
<p>Lower bound on l_2 norm of change</p>
</td></tr>
<tr><td><code id="MC_ocd_+3A_sparsity">sparsity</code></td>
<td>
<p>Sparsity parameter for the OCD method</p>
</td></tr>
<tr><td><code id="MC_ocd_+3A_mc_reps">MC_reps</code></td>
<td>
<p>Number of Monte Carlo repetitions to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of computed thresholds.
</p>

<hr>
<h2 id='MC_XS'>Compute Monte Carlo thresholds for the XS method</h2><span id='topic+MC_XS'></span>

<h3>Description</h3>

<p>Compute Monte Carlo thresholds for the XS method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MC_XS(dim, patience, p0, w, MC_reps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MC_XS_+3A_dim">dim</code></td>
<td>
<p>Data dimension</p>
</td></tr>
<tr><td><code id="MC_XS_+3A_patience">patience</code></td>
<td>
<p>Nominal patience of the procedure</p>
</td></tr>
<tr><td><code id="MC_XS_+3A_p0">p0</code></td>
<td>
<p>Assumed fraction of nonzero coordinates of change.</p>
</td></tr>
<tr><td><code id="MC_XS_+3A_w">w</code></td>
<td>
<p>Window size</p>
</td></tr>
<tr><td><code id="MC_XS_+3A_mc_reps">MC_reps</code></td>
<td>
<p>number of Monte Carlo repetitions to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of computed thresholds.
</p>

<hr>
<h2 id='Mei_update'>Processing a new data point for the 'Mei' class</h2><span id='topic+Mei_update'></span>

<h3>Description</h3>

<p>This function implements the <code><a href="#topic+getData">getData</a></code> function to
perform the online changepoint detection for the 'Mei' class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Mei_update(x_new, R, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Mei_update_+3A_x_new">x_new</code></td>
<td>
<p>a new data point</p>
</td></tr>
<tr><td><code id="Mei_update_+3A_r">R</code></td>
<td>
<p>vector of of tail CUSUMs that will be tracked and updated online</p>
</td></tr>
<tr><td><code id="Mei_update_+3A_b">b</code></td>
<td>
<p>a user specified lower bound on per-coordinate magnitude of the
vector of change to be detected.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of
</p>

<ul>
<li><p> stat: a vector of 2 test statistics for the 'Mei' class.
</p>
</li>
<li><p> R: the updated R vector
</p>
</li></ul>



<h3>References</h3>

<p>Mei, Y. (2010) Efficient scalable schemes for monitoring a large number
of data streams. <em>Biometrika</em>, <strong>97</strong>, 419&ndash;433.
</p>

<hr>
<h2 id='new_Chan'>construtor for subclass 'Chan' in class 'ChangepointDetector'</h2><span id='topic+new_Chan'></span>

<h3>Description</h3>

<p>construtor for subclass 'Chan' in class 'ChangepointDetector'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_Chan(dim, thresh, p0, w, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_Chan_+3A_dim">dim</code></td>
<td>
<p>Data dimension, all new data must be of this dimension</p>
</td></tr>
<tr><td><code id="new_Chan_+3A_thresh">thresh</code></td>
<td>
<p>Detection threshold. A positive real number.</p>
</td></tr>
<tr><td><code id="new_Chan_+3A_p0">p0</code></td>
<td>
<p>A sparsity parameter between 0 and 1. It is the assumed fraction of
nonzero coordinates of change. Default to <code>1/sqrt(dim)</code>.</p>
</td></tr>
<tr><td><code id="new_Chan_+3A_w">w</code></td>
<td>
<p>Window size parameter.
Number of most recent data points to keep track in memory. Default is 200.</p>
</td></tr>
<tr><td><code id="new_Chan_+3A_lambda">lambda</code></td>
<td>
<p>A tuning parameter used by the Chan (2017) method.  Default is
<code>sqrt(8)-2</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is preferred to use <code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code> for
construction.
</p>


<h3>Value</h3>

<p>An object of S3 subclass 'Chan' in class 'ChangepointDetector'.
</p>


<h3>References</h3>

<p>Chan, H. P. (2017) Optimal sequential detection in multi-stream data.
<em>Ann. Statist.</em>, <strong>45</strong>, 2736&ndash;2763.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detector &lt;- new_Chan(dim=100, thresh=8.7, p0=0.1, w=200, lambda=sqrt(8)-2)
</code></pre>

<hr>
<h2 id='new_Mei'>constructor of subclass 'Mei' in class 'ChangepointDetector'</h2><span id='topic+new_Mei'></span>

<h3>Description</h3>

<p>constructor of subclass 'Mei' in class 'ChangepointDetector'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_Mei(dim, thresh, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_Mei_+3A_dim">dim</code></td>
<td>
<p>Data dimension, all new data must be of this dimension</p>
</td></tr>
<tr><td><code id="new_Mei_+3A_thresh">thresh</code></td>
<td>
<p>Detection threshold. A numeric vector of
length two (corresponding to the max and sum statistics) should be specified.</p>
</td></tr>
<tr><td><code id="new_Mei_+3A_b">b</code></td>
<td>
<p>Lower bound on the per-coordinate magnitude of mean change be
detected.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is preferred to use <code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code> for
construction.
</p>


<h3>Value</h3>

<p>An object of S3 subclass 'Mei' in class 'ChangepointDetector'.
</p>


<h3>References</h3>

<p>Mei, Y. (2010) Efficient scalable schemes for monitoring a large number
of data streams. <em>Biometrika</em>, <strong>97</strong>, 419&ndash;433.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detector &lt;- new_Mei(dim=100, thresh=c(8.6, 125.1), b=0.1)
</code></pre>

<hr>
<h2 id='new_OCD'>constructor of subclass 'OCD' in class 'ChangepointDetector'</h2><span id='topic+new_OCD'></span>

<h3>Description</h3>

<p>constructor of subclass 'OCD' in class 'ChangepointDetector'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_OCD(dim, thresh, beta, sparsity)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_OCD_+3A_dim">dim</code></td>
<td>
<p>Data dimension, all new data must be of this dimension</p>
</td></tr>
<tr><td><code id="new_OCD_+3A_thresh">thresh</code></td>
<td>
<p>A numeric vector of length 3 (corresponding
to the diagonal statistic, off-diagonal dense statistic and off-diagonal
sparse statistic) should be specifiied.</p>
</td></tr>
<tr><td><code id="new_OCD_+3A_beta">beta</code></td>
<td>
<p>Lower bound on the l_2 norm of the vector of mean change to be
detected.</p>
</td></tr>
<tr><td><code id="new_OCD_+3A_sparsity">sparsity</code></td>
<td>
<p>If <code>sparsity='sparse'</code>,
then only the diagonal and off-diagonal sparse statistics are used.
If <code>sparsity='dense'</code>, then only the diagonal and off-diagonal sparse
statistics are used. If <code>sparsity='auto'</code>, all three statistics are used
to detect both sparse and dense change adaptively.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is preferred to use <code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code> for
construction.
</p>


<h3>Value</h3>

<p>An object of S3 subclass 'OCD' in class 'ChangepointDetector'.
</p>


<h3>References</h3>

<p>Chen, Y., Wang, T. and Samworth, R. J. (2020) High-dimensional multiscale
online changepoint detection <em>Preprint</em>. arxiv:2003.03668.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detector &lt;- new_OCD(dim=100, thresh=c(11.6, 179.5, 54.9), beta=1, sparsity='auto')
</code></pre>

<hr>
<h2 id='new_XS'>constructor of subclass 'XS' in class 'ChangepointDetector'</h2><span id='topic+new_XS'></span>

<h3>Description</h3>

<p>constructor of subclass 'XS' in class 'ChangepointDetector'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_XS(dim, thresh, p0, w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_XS_+3A_dim">dim</code></td>
<td>
<p>Data dimension, all new data must be of this dimension</p>
</td></tr>
<tr><td><code id="new_XS_+3A_thresh">thresh</code></td>
<td>
<p>Detection threshold. A positive real number.</p>
</td></tr>
<tr><td><code id="new_XS_+3A_p0">p0</code></td>
<td>
<p>A sparsity parameter between 0 and 1. It is the assumed fraction of
nonzero coordinates of change. Default to <code>1/sqrt(dim)</code>.</p>
</td></tr>
<tr><td><code id="new_XS_+3A_w">w</code></td>
<td>
<p>Window size parameter.
Number of most recent data points to keep track in memory. Default is 200.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is preferred to use <code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code> for
construction.
</p>


<h3>Value</h3>

<p>An object of S3 subclass 'XS' in class 'ChangepointDetector'.
</p>


<h3>References</h3>

<p>Xie, Y. and Siegmund, D. (2013) Sequential multi-sensor change-point
detection.  <em>Ann. Statist.</em>, <strong>41</strong>, 670&ndash;692.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detector &lt;- new_XS(dim=100, thresh=55.1, p0=0.1, w=200)
</code></pre>

<hr>
<h2 id='normalisedStatistics'>Compute maximum ratio between detection statistic and its threshold</h2><span id='topic+normalisedStatistics'></span>

<h3>Description</h3>

<p>Compute maximum ratio between detection statistic and its threshold
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalisedStatistics(detector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalisedStatistics_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>maximum of the ratio between the current test statistics and their
respective thresholds.
</p>

<hr>
<h2 id='ocd'>ocd: A package for high-dimensional multiscale online changepoint detection</h2><span id='topic+ocd'></span><span id='topic+ocd-package'></span>

<h3>Description</h3>

<p>The ocd package provides the S3 class <code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code> that
processes data sequentially using the <code><a href="#topic+getData">getData</a></code> function and
aims to detect change as soon as it occurs online subject to false alarm
rates.
</p>


<h3>References</h3>

<p>Chen, Y., Wang, T. and Samworth, R. J. (2020) High-dimensional
multiscale online changepoint detection <em>Preprint</em>. arxiv:2003.03668.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ChangepointDetector">ChangepointDetector</a></code> for detailed usage.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(2020)
p &lt;- 100
thresh &lt;- setNames(c(11.62, 179.48, 54.87), c('diag', 'off_d', 'off_s'))
detector &lt;- ChangepointDetector(dim=p, method='ocd', beta=1, thresh=thresh)
old_mean &lt;- rnorm(p); new_mean &lt;- old_mean + c(rnorm(p/4), rep(0,3*p/4)) / sqrt(p/4)

# using functional semantics native in R
detector &lt;- setStatus(detector, 'estimating')
for (i in 1:10000){
  x_new &lt;- rnorm(p, mean=old_mean)
  detector &lt;- getData(detector, x_new)
}
print(detector)

detector &lt;- setStatus(detector, 'monitoring')
for (i in 1:200){
  x_new &lt;- rnorm(p, old_mean * (i &lt; 100) + new_mean * (i&gt;=100))
  detector &lt;- getData(detector, x_new)
}
print(detector)

## Not run: 
# alternative way to write the above using the piping semantics
library(magrittr)
detector %&lt;&gt;% reset
detector %&lt;&gt;% setStatus('estimating')
for (i in 1:10000){
  x_new &lt;- rnorm(p, mean=old_mean)
  detector %&lt;&gt;% getData(x_new)
}
detector %&gt;% print

detector %&lt;&gt;% setStatus('monitoring')
for (i in 1:200){
  x_new &lt;- rnorm(p, old_mean * (i &lt; 100) + new_mean * (i&gt;=100))
  detector %&lt;&gt;% getData(x_new)
}
detector %&gt;% print

## End(Not run)
</code></pre>

<hr>
<h2 id='ocd_update'>Processing a new data point for the 'OCD' class</h2><span id='topic+ocd_update'></span>

<h3>Description</h3>

<p>This function implements the <code><a href="#topic+getData">getData</a></code> function to
perform the online changepoint detection for the 'OCD' class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ocd_update(x_new, A, tail, beta, sparsity)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ocd_update_+3A_x_new">x_new</code></td>
<td>
<p>a new data point</p>
</td></tr>
<tr><td><code id="ocd_update_+3A_a">A</code></td>
<td>
<p>matrix of tail CUSUMs that will be tracked and updated online</p>
</td></tr>
<tr><td><code id="ocd_update_+3A_tail">tail</code></td>
<td>
<p>matrix of tail lengths that will be tracked and updated online</p>
</td></tr>
<tr><td><code id="ocd_update_+3A_beta">beta</code></td>
<td>
<p>a user specified lower bound on the l_2 norm of the vector of
change to be detected.</p>
</td></tr>
<tr><td><code id="ocd_update_+3A_sparsity">sparsity</code></td>
<td>
<p>a user specified mode parameter. If the vector of change is
known to be dense or sparse, then one should set sparsity to 'dense' or 'sparse'
accordingly, otherwise, the default choice sparsity='auto' will run the algorithm
adaptive to the sparsity level.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of
</p>

<ul>
<li><p> stat: a vector of the test statistics for the 'OCD' class
</p>
</li>
<li><p> A: the updated A matrix
</p>
</li>
<li><p> tail: the updated tail matrix
</p>
</li></ul>



<h3>References</h3>

<p>Chen, Y., Wang, T. and Samworth, R. J. (2020) High-dimensional multiscale
online changepoint detection <em>Preprint</em>. arxiv:2003.03668.
</p>

<hr>
<h2 id='ParkfieldSensors'>Parkfield seismic sensor data</h2><span id='topic+ParkfieldSensors'></span>

<h3>Description</h3>

<p>Processed data from 39 ground motion sensors at 13 stations near
Parkfield, California from 2.00-2.16am on December 23, 2004, with
an earthquake measured at duration magnitude 1.47Md hit near
Atascadero, California at 02:09:54.01.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ParkfieldSensors)
</code></pre>


<h3>Format</h3>

<p>A matrix with 39 columns and 14998 rows, with each column
corresponding to a sensor and each row corresponding to a time
after 2am. Column names corresponds to names of the sensors and row
names are number of seconds after 2am.</p>


<h3>Source</h3>

<p>HRSN (2014), High Resolution Seismic Network.
UC Berkeley Seismological Laboratory. Dataset. doi:10.7932/HRSN.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ParkfieldSensors)
head(ParkfieldSensors)

## Not run: 
plot(c(0, nrow(ParkfieldSensors) * 0.064), c(0, ncol(ParkfieldSensors)+1),
     pch=' ', xlab='seconds after 2004-12-23 02:00:00',
     ylab='sensor measurements')
x &lt;- as.numeric(rownames(ParkfieldSensors))
for (j in 1:ncol(ParkfieldSensors)){
  y &lt;- ParkfieldSensors[, j]
  y &lt;- (y - max(ParkfieldSensors)) / diff(range(ParkfieldSensors)) + 0.5 + j
  points(x, y, pch='.')
}
abline(v = 9 * 60 + 54.01, col='blue', lwd=2, lty=3) # earthquake time

library(magrittr)
p &lt;- ncol(ParkfieldSensors)
train_ind &lt;- as.numeric(rownames(ParkfieldSensors)) &lt;= 240
train &lt;- ParkfieldSensors[train_ind, ]
test &lt;- ParkfieldSensors[!train_ind, ]

# tuning parameters
gamma &lt;- 24 * 60 * 60 / 0.064 # patience = 1 day
beta &lt;- 150

# use theoretical thresholds suggested in Chen, Wang and Samworth (2020)
psi &lt;- function(t){p - 1 + t + sqrt(2 * (p - 1) * t)}
th_diag &lt;- log(24*p*gamma*log2(4*p))
th_off_s &lt;- 8*log(24*p*gamma*log2(2*p))
th_off_d &lt;- psi(th_off_s/4)
thresh &lt;- setNames(c(th_diag, th_off_d, th_off_s), c('diag', 'off_d', 'off_s'))

# initialise ocd detector
detector &lt;- ChangepointDetector(dim=p, method='ocd', beta=beta, thresh=thresh)

# use training data to update baseline mean and standard deviation
detector %&lt;&gt;% setStatus('estimating')
for (i in 1:nrow(train)) {
  detector %&lt;&gt;% getData(train[i, ])  
}  

# find changepoint in the test data
detector %&lt;&gt;% setStatus('monitoring')
for (i in 1:nrow(test)) {
  detector %&lt;&gt;% getData(test[i, ])
  if (is.numeric(detector %&gt;% status)) break
}

if (is.numeric(detector %&gt;% status)) {
  time_declared &lt;- 240 + detector %&gt;% status * 0.064
  abline(v = time_declared, col='orange', lwd=2, lty=3) # detection time
  cat('Change detected', time_declared, 'seconds after 2am.\n')
}

## End(Not run)
</code></pre>

<hr>
<h2 id='print.ChangepointDetector'>Printing methods for the 'ChangepointDetector' class</h2><span id='topic+print.ChangepointDetector'></span>

<h3>Description</h3>

<p>Printing methods for the 'ChangepointDetector' class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ChangepointDetector'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ChangepointDetector_+3A_x">x</code></td>
<td>
<p>object of the 'ChangepointDetector' class</p>
</td></tr>
<tr><td><code id="print.ChangepointDetector_+3A_...">...</code></td>
<td>
<p>other arguments used in <code>print</code></p>
</td></tr>
</table>

<hr>
<h2 id='reset'>Reset changepoint detector to initial state</h2><span id='topic+reset'></span><span id='topic+reset.OCD'></span><span id='topic+reset.Mei'></span><span id='topic+reset.XS'></span><span id='topic+reset.Chan'></span>

<h3>Description</h3>

<p>Reset changepoint detector to initial state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reset(detector)

## S3 method for class 'OCD'
reset(detector)

## S3 method for class 'Mei'
reset(detector)

## S3 method for class 'XS'
reset(detector)

## S3 method for class 'Chan'
reset(detector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reset_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated object <code>detector</code>
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>OCD</code>: Reset object of subclass 'OCD'
</p>
</li>
<li> <p><code>Mei</code>: Reset object of subclass 'Mei'
</p>
</li>
<li> <p><code>XS</code>: Reset object of subclass 'XS'
</p>
</li>
<li> <p><code>Chan</code>: Reset object of subclass 'Chan'
</p>
</li></ul>

<hr>
<h2 id='setBaselineMean'>Set baseline mean</h2><span id='topic+setBaselineMean'></span>

<h3>Description</h3>

<p>Set baseline mean
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setBaselineMean(detector, mean)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setBaselineMean_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
<tr><td><code id="setBaselineMean_+3A_mean">mean</code></td>
<td>
<p>vector of pre-change mean, must be of the same dimension as
specified in the data_dim attribute of <code>detector</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated object <code>detector</code>
</p>

<hr>
<h2 id='setBaselineSD'>Set baseline standard deviation</h2><span id='topic+setBaselineSD'></span>

<h3>Description</h3>

<p>Set baseline standard deviation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setBaselineSD(detector, sd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setBaselineSD_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
<tr><td><code id="setBaselineSD_+3A_sd">sd</code></td>
<td>
<p>vector of standard deviation, must be of the same dimension as
specified in the data_dim attribute of <code>detector</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated object <code>detector</code>
</p>

<hr>
<h2 id='setStatus'>Set changepoint detector status</h2><span id='topic+setStatus'></span>

<h3>Description</h3>

<p>Set changepoint detector status
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setStatus(detector, new_status)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setStatus_+3A_detector">detector</code></td>
<td>
<p>Object of class 'Changepoint Detector'</p>
</td></tr>
<tr><td><code id="setStatus_+3A_new_status">new_status</code></td>
<td>
<p>'estimating' or 'monitoring'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the status is set to 'estimating', new observations are used to
update current estimate of pre-change mean and standard deviation. If the
status is set to 'monitoring', new observations are used to check if mean
change has occurred.
</p>


<h3>Value</h3>

<p>Updated object <code>detector</code>
</p>

<hr>
<h2 id='update_param'>compute new mean and sd from old ones with one additional observation</h2><span id='topic+update_param'></span>

<h3>Description</h3>

<p>compute new mean and sd from old ones with one additional observation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_param(old_mean, old_sd, x_new, n_obs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_param_+3A_old_mean">old_mean</code></td>
<td>
<p>vector of old means</p>
</td></tr>
<tr><td><code id="update_param_+3A_old_sd">old_sd</code></td>
<td>
<p>vector of old standard deviation</p>
</td></tr>
<tr><td><code id="update_param_+3A_x_new">x_new</code></td>
<td>
<p>new observation vector</p>
</td></tr>
<tr><td><code id="update_param_+3A_n_obs">n_obs</code></td>
<td>
<p>total number of observations (including x_new)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of two vectors: new mean and new standard deviation
</p>

<hr>
<h2 id='XS_update'>Processing a new data point for the 'XS' class</h2><span id='topic+XS_update'></span>

<h3>Description</h3>

<p>This function implements the <code><a href="#topic+getData">getData</a></code> function to
perform the online changepoint detection for the 'XS' class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XS_update(x_new, X_recent, CUSUM, p0, w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XS_update_+3A_x_new">x_new</code></td>
<td>
<p>a new data point</p>
</td></tr>
<tr><td><code id="XS_update_+3A_x_recent">X_recent</code></td>
<td>
<p>matrix of <code>w</code> most recent observations</p>
</td></tr>
<tr><td><code id="XS_update_+3A_cusum">CUSUM</code></td>
<td>
<p>tail partial sums of different lengths to be tracked online</p>
</td></tr>
<tr><td><code id="XS_update_+3A_p0">p0</code></td>
<td>
<p>sparsity parameter</p>
</td></tr>
<tr><td><code id="XS_update_+3A_w">w</code></td>
<td>
<p>window parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of
</p>

<ul>
<li><p> stat: test statistic for the 'XS' class.
</p>
</li>
<li><p> X_recent: the updated X_recent matrix
</p>
</li>
<li><p> CUSUM: the updated CUSUM matrix
</p>
</li></ul>



<h3>References</h3>

<p>Xie, Y. and Siegmund, D. (2013) Sequential multi-sensor change-point
detection.  <em>Ann. Statist.</em>, <strong>41</strong>, 670&ndash;692.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

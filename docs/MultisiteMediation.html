<!DOCTYPE html><html><head><title>Help for package MultisiteMediation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MultisiteMediation}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#balance'><p>Balance checking for causal mediation analysis in multisite trials</p></a></li>
<li><a href='#msmediate'><p>Causal mediation analysis in multisite trials</p></a></li>
<li><a href='#msmediate.concurrent'><p>Complex multisite causal mediation analysis with two concurrent mediators in the presence of complex sample and survey designs and non-random nonresponse</p></a></li>
<li><a href='#msmediate.weights'><p>Causal mediation analysis in multisite trials in the presence of complex sample and survey designs and non-random nonresponse</p></a></li>
<li><a href='#sim'><p>A simulated example data</p></a></li>
<li><a href='#sim.weights'><p>A simulated example data</p></a></li>
<li><a href='#vartest.msmediate'><p>Variance testing for multisite causal mediation analysis</p></a></li>
<li><a href='#vartest.msmediate.concurrent'><p>Variance testing for complex multisite causal mediation analysis with two concurrent mediators in the presence of complex sample and survey designs and non-random nonresponse</p></a></li>
<li><a href='#vartest.msmediate.weights'><p>Variance testing for multisite causal mediation analysis in the presence of complex sample and survey designs and non-random nonresponse</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-09-02</td>
</tr>
<tr>
<td>Title:</td>
<td>Causal Mediation Analysis in Multisite Trials</td>
</tr>
<tr>
<td>Author:</td>
<td>Xu Qin, Guanglei Hong, Jonah Deutsch, and Edward Bein</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Xu Qin &lt;xuqin@pitt.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>lme4, statmod, psych, MASS, ggplot2</td>
</tr>
<tr>
<td>Description:</td>
<td>Multisite causal mediation analysis using the methods proposed by Qin and Hong (2017) &lt;<a href="https://doi.org/10.3102%2F1076998617694879">doi:10.3102/1076998617694879</a>&gt;, Qin, Hong, Deutsch, and Bein (2019) &lt;<a href="https://doi.org/10.1111%2Frssa.12446">doi:10.1111/rssa.12446</a>&gt;, and Qin, Deutsch, and Hong (2021) &lt;<a href="https://doi.org/10.1002%2Fpam.22268">doi:10.1002/pam.22268</a>&gt;. It enables causal mediation analysis in multisite trials, in which individuals are assigned to a treatment or a control group at each site. It allows for estimation and hypothesis testing for not only the population average but also the between-site variance of direct and indirect effects transmitted through one single mediator or two concurrent (conditionally independent) mediators. This strategy conveniently relaxes the assumption of no treatment-by-mediator interaction while greatly simplifying the outcome model specification without invoking strong distributional assumptions. This package also provides a function that can further incorporate a sample weight and a nonresponse weight for multisite causal mediation analysis in the presence of complex sample and survey designs and non-random nonresponse, to enhance both the internal validity and external validity. The package also provides a weighting-based balance checking function for assessing the remaining overt bias.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Xu-Qin/MultisiteMediation">https://github.com/Xu-Qin/MultisiteMediation</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Xu-Qin/MultisiteMediation/issues">https://github.com/Xu-Qin/MultisiteMediation/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-05 15:38:31 UTC; XUQIN</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-05 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='balance'>Balance checking for causal mediation analysis in multisite trials</h2><span id='topic+balance'></span>

<h3>Description</h3>

<p>This function is used to check if, within a treatment group, the estimated nonresponse weight balances the distribution of the observed covariates between the respondents and the nonrespondents, or if the estimated RMPW weight balances the distribution of the observed covariates between those whose mediator takes value 1 and those whose mediator takes value 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>balance(data, y, treatment, mediator, response, XR1, XR0, XM1, XM0, X, site)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="balance_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="balance_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="balance_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="balance_+3A_mediator">mediator</code></td>
<td>
<p>The name of the mediator variable (string).</p>
</td></tr>
<tr><td><code id="balance_+3A_response">response</code></td>
<td>
<p>The name of the response variable (string), which is equal to 1 if the individual responded and 0 otherwise.</p>
</td></tr>
<tr><td><code id="balance_+3A_xr1">XR1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="balance_+3A_xr0">XR0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="balance_+3A_xm1">XM1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="balance_+3A_xm0">XM0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="balance_+3A_x">X</code></td>
<td>
<p>A vector of variable names (string) of all the pretreatment covariates to be checked balance for.</p>
</td></tr>
<tr><td><code id="balance_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tables containing the balance checking results for the response before weighting ($balance.R$balance1 under the treatment condition and $balance.R$balance0 under the control condition) and after weighting ($balance.R$balance1.adj under the treatment condition and $balance.R$balance0.adj under the control condition); and the balance checking results for the mediator before weighting ($balance.M$balance1 under the treatment condition and $balance.M$balance0 under the control condition) and after weighting ($balance.M$balance1.adj under the treatment condition and $balance.M$balance0.adj under the control condition). It also contains a set of balance checking plots corresponding to the tables.
</p>
<table>
<tr><td><code>balance.mean</code></td>
<td>
<p>Population average of standardized bias. The standardized bias is calculated by dividing the unweighted (before weighting) or weighted (after weighting) mean difference between response or mediator levels in each covariate by the standard deviation of the covariate </p>
</td></tr>
<tr><td><code>balance.sd</code></td>
<td>
<p>Between-site standard deviation of standardized bias.</p>
</td></tr>
<tr><td><code>balance.lower</code></td>
<td>
<p>Lower bound of the 95% plausible value range of the site-specific standardized bias.</p>
</td></tr>
<tr><td><code>balance.upper</code></td>
<td>
<p>Upper bound of the 95% plausible value range of the site-specific standardized bias.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Xu Qin, Guanglei Hong, Jonah Deutsch, and Edward Bein
</p>


<h3>References</h3>

<p>Qin, X., Hong, G., Deutsch, J., &amp; Bein, E. (2019). Multisite causal mediation analysis in the presence of complex sample and survey designs and non-random non-response. Journal of the Royal Statistical Society: Series A (Statistics in Society), 182(4), 1343-1370. doi: <a href="https://doi.org/10.1111/rssa.12446">10.1111/rssa.12446</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim.weights)

balance(data = sim.weights, y = "y", treatment = "tr", mediator = "me", response = "R",
    XR1 = c("x1", "x2", "x3"), XR0 = c("x1", "x2", "x3"), XM1 = c("x1", "x2", "x3"),
    XM0 = c("x1", "x2", "x3"), X = c("x1", "x2", "x3"), site = "site")
</code></pre>

<hr>
<h2 id='msmediate'>Causal mediation analysis in multisite trials</h2><span id='topic+msmediate'></span>

<h3>Description</h3>

<p>This function is used to estimate both the population average and between-site variance of direct and indirect effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msmediate(data, y, treatment, mediator, X, site)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msmediate_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="msmediate_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="msmediate_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="msmediate_+3A_mediator">mediator</code></td>
<td>
<p>The name of the mediator variable (string).</p>
</td></tr>
<tr><td><code id="msmediate_+3A_x">X</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates, which will be included in the propensity score model. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains the estimates of the between-site variance of direct effect, that of indirect effect, and the correlation between the direct and indirect effects across sites ($Random_effects), and the population average direct and indirect effect estimates along with their hypothesis testing results ($Fixed_effects).
</p>


<h3>Author(s)</h3>

<p>Xu Qin and Guanglei Hong
</p>


<h3>References</h3>

<p>Qin, X., &amp; Hong, G (2017). A weighting method for assessing between-site heterogeneity in causal mediation mechanism. Journal of Educational and Behavioral Statistics. Journal of Educational and Behavioral Statistics, 42(3), 308-340. doi: <a href="https://doi.org/10.3102/1076998617694879">10.3102/1076998617694879</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim)

msmediate(data = sim, y = "y", treatment = "tr", mediator = "me", X = c("x1", "x2",
    "x3", "x4"), site = "site")
</code></pre>

<hr>
<h2 id='msmediate.concurrent'>Complex multisite causal mediation analysis with two concurrent mediators in the presence of complex sample and survey designs and non-random nonresponse</h2><span id='topic+msmediate.concurrent'></span>

<h3>Description</h3>

<p>This function is used to estimate both the population average and between-site variance of a natural indirect transmitted through each mediator and a natural direct effect when two concurrent (conditionally independent) mediators are involved in the mediation mechanism. 
It incorporates a sample weight to adjust for complex sample and survey designs and employs an estimated nonresponse weight to account for non-random nonresponse.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msmediate.concurrent(
  data,
  y,
  treatment,
  mediator,
  response,
  XR1,
  XR0,
  XM11,
  XM10,
  XM21,
  XM20,
  site,
  sample.weight
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msmediate.concurrent_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_mediator">mediator</code></td>
<td>
<p>A vecor of two mediator variable names (string).</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_response">response</code></td>
<td>
<p>The name of the response variable (string), which is equal to 1 if the individual responded and 0 otherwise.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_xr1">XR1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_xr0">XR0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_xm11">XM11</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the first mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_xm10">XM10</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the first mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_xm21">XM21</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the second mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_xm20">XM20</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the second mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
<tr><td><code id="msmediate.concurrent_+3A_sample.weight">sample.weight</code></td>
<td>
<p>The variable name for the sample weight given by design (string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains the estimates of the between-site variances of indirect effect via M1 given M2(0) (&quot;I.M1(0)&quot;), indirect effect via M2 given M1(1) (&quot;I.M2(1)&quot;), direct effect (&quot;D&quot;), indirect effect via M1 given M2(1) (&quot;I.M1(1)&quot;), indirect effect via M2 given M1(0) (&quot;I.M2(0)&quot;), interaction effect between M1 and M2 (&quot;I.M1*M2&quot;), and the correlations between the effects across sites ($Random_effects), and the population average effect estimates along with their hypothesis testing results ($Fixed_effects).
</p>


<h3>Author(s)</h3>

<p>Xu Qin, Jonah Deutsch, and Guanglei Hong
</p>


<h3>References</h3>

<p>Qin, X., Deutsch, J, &amp; Hong, G. (2021). Unpacking Complex Mediation Mechanisms and Their Heterogeneity between Sites in A Job Corps Evaluation. The Journal of Policy Analysis and Management, 40(1), 158-190. doi: <a href="https://doi.org/10.1002/pam.22268">10.1002/pam.22268</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim.weights)

msmediate.concurrent(data = sim.weights, y = "y", treatment = "tr", mediator = c("me",
    "me2"), response = "R", XR1 = c("x1", "x2", "x3"), XR0 = c("x1", "x2", "x3"),
    XM11 = c("x1", "x2", "x3"), XM10 = c("x1", "x2", "x3"), XM21 = c("x1", "x2",
        "x3"), XM20 = c("x1", "x2", "x3"), site = "site", sample.weight = "WD")

</code></pre>

<hr>
<h2 id='msmediate.weights'>Causal mediation analysis in multisite trials in the presence of complex sample and survey designs and non-random nonresponse</h2><span id='topic+msmediate.weights'></span>

<h3>Description</h3>

<p>This function is used to estimate both the population average and between-site variance of natural direct effect, natural indirect effect, pure indirect effect, and treatment-by-mediator interaction effect. 
It incorporates a sample weight to adjust for complex sample and survey designs and employs an estimated nonresponse weight to account for non-random nonresponse.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msmediate.weights(
  data,
  y,
  treatment,
  mediator,
  response,
  XR1,
  XR0,
  XM1,
  XM0,
  site,
  sample.weight
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msmediate.weights_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_mediator">mediator</code></td>
<td>
<p>The name of the mediator variable (string).</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_response">response</code></td>
<td>
<p>The name of the response variable (string), which is equal to 1 if the individual responded and 0 otherwise.</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_xr1">XR1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_xr0">XR0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_xm1">XM1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_xm0">XM0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
<tr><td><code id="msmediate.weights_+3A_sample.weight">sample.weight</code></td>
<td>
<p>The variable name for the sample weight given by design (string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains the estimates of the between-site variances of natural direct effect, natural indirect effect, pure indirect effect, and treatment-by-mediator interaction effect, and the correlations between the effects across sites ($Random_effects), and the population average effect estimates along with their hypothesis testing results ($Fixed_effects).
</p>


<h3>Author(s)</h3>

<p>Xu Qin, Guanglei Hong, Jonah Deutsch, and Edward Bein
</p>


<h3>References</h3>

<p>Qin, X., Hong, G., Deutsch, J., &amp; Bein, E. (2019). Multisite causal mediation analysis in the presence of complex sample and survey designs and non-random non-response. Journal of the Royal Statistical Society: Series A (Statistics in Society), 182(4), 1343-1370. doi: <a href="https://doi.org/10.1111/rssa.12446">10.1111/rssa.12446</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim.weights)

msmediate.weights(data = sim.weights, y = "y", treatment = "tr", mediator = "me",
    response = "R", XR1 = c("x1", "x2", "x3"), XR0 = c("x1", "x2", "x3"), XM1 = c("x1",
        "x2", "x3"), XM0 = c("x1", "x2", "x3"), site = "site", sample.weight = "WD")
</code></pre>

<hr>
<h2 id='sim'>A simulated example data</h2><span id='topic+sim'></span>

<h3>Description</h3>

<p>This simulated data list is for demonstration.
</p>


<h3>Value</h3>

<p>A list containing
</p>
<table>
<tr><td><code>site</code></td>
<td>
<p>Site ID</p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>Outcome</p>
</td></tr>
<tr><td><code>tr</code></td>
<td>
<p>Treatment</p>
</td></tr>
<tr><td><code>me</code></td>
<td>
<p>Mediator</p>
</td></tr>
<tr><td><code>x1</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
<tr><td><code>x2</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
<tr><td><code>x3</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
<tr><td><code>x4</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
</table>

<hr>
<h2 id='sim.weights'>A simulated example data</h2><span id='topic+sim.weights'></span>

<h3>Description</h3>

<p>This simulated data list is for demonstration.
</p>


<h3>Value</h3>

<p>A list containing
</p>
<table>
<tr><td><code>site</code></td>
<td>
<p>Site ID</p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>Outcome</p>
</td></tr>
<tr><td><code>tr</code></td>
<td>
<p>Treatment</p>
</td></tr>
<tr><td><code>me</code></td>
<td>
<p>Mediator</p>
</td></tr>
<tr><td><code>x1</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
<tr><td><code>x2</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
<tr><td><code>x3</code></td>
<td>
<p>Pretreatment covariate</p>
</td></tr>
<tr><td><code>R</code></td>
<td>
<p>Response indicator</p>
</td></tr>
<tr><td><code>WD</code></td>
<td>
<p>Sample weight</p>
</td></tr>
</table>

<hr>
<h2 id='vartest.msmediate'>Variance testing for multisite causal mediation analysis</h2><span id='topic+vartest.msmediate'></span>

<h3>Description</h3>

<p>This function performs hypothesis testing for the between-site variance of direct effect and that of indirect effect, besides providing the same output as given by the function msmediate().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vartest.msmediate(data, y, treatment, mediator, X, site, npermute = 200)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vartest.msmediate_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="vartest.msmediate_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate_+3A_mediator">mediator</code></td>
<td>
<p>The name of the mediator variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate_+3A_x">X</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates, which will be included in the propensity score model. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate_+3A_npermute">npermute</code></td>
<td>
<p>The number of permutations for the permutation test. The default value is 200. It may take a long time, depending on the sample size and the length of X.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains the hypothesis testing results of the between-site variance of the causal effects, besides the same output as given by the function msmediate().
</p>


<h3>Author(s)</h3>

<p>Xu Qin and Guanglei Hong
</p>


<h3>References</h3>

<p>Qin, X., &amp; Hong, G (2017). A weighting method for assessing between-site heterogeneity in causal mediation mechanism. Journal of Educational and Behavioral Statistics. Journal of Educational and Behavioral Statistics. Journal of Educational and Behavioral Statistics, 42(3), 308-340. doi: <a href="https://doi.org/10.3102/1076998617694879">10.3102/1076998617694879</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim)

vartest.msmediate(data = sim, y = "y", treatment = "tr", mediator = "me", X = c("x1",
    "x2", "x3", "x4"), site = "site", npermute = 2)

</code></pre>

<hr>
<h2 id='vartest.msmediate.concurrent'>Variance testing for complex multisite causal mediation analysis with two concurrent mediators in the presence of complex sample and survey designs and non-random nonresponse</h2><span id='topic+vartest.msmediate.concurrent'></span>

<h3>Description</h3>

<p>This function performs hypothesis testing for the between-site variances besides providing the same output as given by the function msmediate.concurrent().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vartest.msmediate.concurrent(
  data,
  y,
  treatment,
  mediator,
  response,
  XR1,
  XR0,
  XM11,
  XM10,
  XM21,
  XM20,
  site,
  sample.weight,
  npermute = 200
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vartest.msmediate.concurrent_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_mediator">mediator</code></td>
<td>
<p>A vecor of two mediator variable names (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_response">response</code></td>
<td>
<p>The name of the response variable (string), which is equal to 1 if the individual responded and 0 otherwise.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_xr1">XR1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_xr0">XR0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_xm11">XM11</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the first mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_xm10">XM10</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the first mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_xm21">XM21</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the second mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_xm20">XM20</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the second mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_sample.weight">sample.weight</code></td>
<td>
<p>The variable name for the sample weight given by design (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.concurrent_+3A_npermute">npermute</code></td>
<td>
<p>The number of permutations for the permutation test. The default value is 200. It may take a long time, depending on the sample size and the length of X.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains the hypothesis testing results of the between-site variance of the causal effects, besides the same output as given by the function msmediate().
</p>


<h3>Author(s)</h3>

<p>Xu Qin, Jonah Deutsch, and Guanglei Hong
</p>


<h3>References</h3>

<p>Qin, X., Deutsch, J, &amp; Hong, G. (2021). Unpacking Complex Mediation Mechanisms and Their Heterogeneity between Sites in A Job Corps Evaluation. The Journal of Policy Analysis and Management, 40(1), 158-190. doi: <a href="https://doi.org/10.1002/pam.22268">10.1002/pam.22268</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim.weights)
set.seed(1)
vartest.msmediate.concurrent(data = sim.weights, y = "y", treatment = "tr",
    mediator = c("me", "me2"), response = "R", XR1 = c("x1", "x2", "x3"), XR0 = c("x1",
        "x2", "x3"), XM11 = c("x1", "x2", "x3"), XM10 = c("x1", "x2", "x3"),
    XM21 = c("x1", "x2", "x3"), XM20 = c("x1", "x2", "x3"), site = "site",
    sample.weight = "WD", npermute = 2)

</code></pre>

<hr>
<h2 id='vartest.msmediate.weights'>Variance testing for multisite causal mediation analysis in the presence of complex sample and survey designs and non-random nonresponse</h2><span id='topic+vartest.msmediate.weights'></span>

<h3>Description</h3>

<p>This function performs hypothesis testing for the between-site variances of natural direct effect, natural indirect effect, pure indirect effect, and treatment-by-mediator interaction effect in the presence of complex sample and survey designs and non-random nonresponse, besides providing the same output as given by the function msmediate.weights().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vartest.msmediate.weights(
  data,
  y,
  treatment,
  mediator,
  response,
  XR1,
  XR0,
  XM1,
  XM0,
  site,
  sample.weight,
  npermute = 200
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vartest.msmediate.weights_+3A_data">data</code></td>
<td>
<p>The data set for analysis.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_y">y</code></td>
<td>
<p>The name of the outcome variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_mediator">mediator</code></td>
<td>
<p>The name of the mediator variable (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_response">response</code></td>
<td>
<p>The name of the response variable (string), which is equal to 1 if the individual responded and 0 otherwise.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_xr1">XR1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_xr0">XR0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the response under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_xm1">XM1</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the mediator under the treatment condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_xm0">XM0</code></td>
<td>
<p>A vector of variable names (string) of pretreatment covariates in the propensity score model for the mediator under the control condition. For now, the multilevel propensity score model only allows for one random intercept.</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_site">site</code></td>
<td>
<p>The variable name for the site ID (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_sample.weight">sample.weight</code></td>
<td>
<p>The variable name for the sample weight given by design (string).</p>
</td></tr>
<tr><td><code id="vartest.msmediate.weights_+3A_npermute">npermute</code></td>
<td>
<p>The number of permutations for the permutation test. The default value is 200. It may take a long time, depending on the sample size and the length of X.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains the hypothesis testing results of the between-site variance of the causal effects, besides the same output as given by the function msmediate().
</p>


<h3>Author(s)</h3>

<p>Xu Qin, Guanglei Hong, Jonah Deutsch, and Edward Bein
</p>


<h3>References</h3>

<p>Qin, X., Hong, G., Deutsch, J., &amp; Bein, E. (2019). Multisite causal mediation analysis in the presence of complex sample and survey designs and non-random non-response. Journal of the Royal Statistical Society: Series A (Statistics in Society), 182(4), 1343-1370. doi: <a href="https://doi.org/10.1111/rssa.12446">10.1111/rssa.12446</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(sim.weights)

vartest.msmediate.weights(data = sim.weights, y = "y", treatment = "tr", mediator = "me",
    response = "R", XR1 = c("x1", "x2", "x3"), XR0 = c("x1", "x2", "x3"), XM1 = c("x1",
        "x2", "x3"), XM0 = c("x1", "x2", "x3"), site = "site", sample.weight = "WD",
    npermute = 2)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

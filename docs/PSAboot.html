<!DOCTYPE html><html lang="en"><head><title>Help for package PSAboot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PSAboot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PSAboot-package'><p>Bootstrapping for Propensity Score Analysis</p></a></li>
<li><a href='#as.data.frame.PSAbootSummary'><p>Convert the results of PSAboot summary to a data frame.</p></a></li>
<li><a href='#balance'><p>Returns a summary of the balance for all bootstrap samples.</p></a></li>
<li><a href='#balance.matching'><p>Returns balance for each covariate from propensity score matching.</p></a></li>
<li><a href='#boot.ctree'><p>Stratification using classification trees for bootstrapping.</p></a></li>
<li><a href='#boot.matching'><p>Matching package implementation for bootstrapping.</p></a></li>
<li><a href='#boot.matchit'><p>MatchIt package implementation for bootstrapping.</p></a></li>
<li><a href='#boot.rpart'><p>Stratification using classification trees for bootstrapping.</p></a></li>
<li><a href='#boot.strata'><p>Stratification implementation for bootstrapping.</p></a></li>
<li><a href='#boot.weighting'><p>Propensity score weighting implementation for bootstrapping.</p></a></li>
<li><a href='#boxplot.PSAboot'><p>Boxplot of PSA bootstrap results.</p></a></li>
<li><a href='#boxplot.PSAboot.balance'><p>Boxplot of the balance statistics for bootstrapped samples.</p></a></li>
<li><a href='#calculate_ps_weights'><p>Calculates propensity score weights.</p></a></li>
<li><a href='#getPSAbootMethods'><p>Returns a vector with the default methods used by <code>PSAboot</code>.</p></a></li>
<li><a href='#hist.PSAboot'><p>Histogram of PSA bootstrap results</p></a></li>
<li><a href='#matrixplot'><p>Matrix Plot of Bootstrapped Propensity Score Analysis</p></a></li>
<li><a href='#pisa.psa.cols'><p>Character vector representing the list of covariates used for estimating</p>
propensity scores.</a></li>
<li><a href='#pisalux'><p>Programme of International Student Assessment (PISA) results from the Luxembourg in 2009.</p></a></li>
<li><a href='#pisausa'><p>Programme of International Student Assessment (PISA) results from the United</p>
States in 2009.</a></li>
<li><a href='#plot.PSAboot'><p>Plot the results of PSAboot</p></a></li>
<li><a href='#plot.PSAboot.balance'><p>Plot method for balance.</p></a></li>
<li><a href='#print.PSAboot'><p>Print results of PSAboot</p></a></li>
<li><a href='#print.PSAboot.balance'><p>Print method for balance.</p></a></li>
<li><a href='#print.PSAbootSummary'><p>Print method for PSAboot Summary.</p></a></li>
<li><a href='#psa.strata'><p>Propensity Score Analysis using Stratification</p></a></li>
<li><a href='#PSAboot'><p>Bootstrapping for propensity score analysis</p></a></li>
<li><a href='#q25'><p>Return the 25th percentile.</p></a></li>
<li><a href='#q75'><p>Returns the 75th percentile.</p></a></li>
<li><a href='#summary.PSAboot'><p>Summary of pooled results from PSAboot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bootstrapping for Propensity Score Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-23</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jason Bryer &lt;jason@bryer.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>It is often advantageous to test a hypothesis more than once
    in the context of propensity score analysis (Rosenbaum, 2012)
    &lt;<a href="https://doi.org/10.1093%2Fbiomet%2Fass032">doi:10.1093/biomet/ass032</a>&gt;. The functions in this package facilitate
    bootstrapping for propensity score analysis (PSA). By default,
    bootstrapping using two classification tree methods (using 'rpart' and
    'ctree' functions), two matching methods (using 'Matching' and
    'MatchIt' packages), and stratification with logistic regression.  A
    framework is described for users to implement additional propensity
    score methods.  Visualizations are emphasized for diagnosing balance;
    exploring the correlation relationships between bootstrap samples and
    methods; and to summarize results.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jbryer/PSAboot">https://github.com/jbryer/PSAboot</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jbryer/PSAboot/issues">https://github.com/jbryer/PSAboot/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2, graphics, PSAgraphics, R (&ge; 3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggthemes, Matching, MatchIt, modeltools, parallel, party,
psych, reshape2, rpart, stats, TriMatch, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-23 17:45:58 UTC; jbryer</td>
</tr>
<tr>
<td>Author:</td>
<td>Jason Bryer <a href="https://orcid.org/0000-0002-2454-0402"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-23 19:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='PSAboot-package'>Bootstrapping for Propensity Score Analysis</h2><span id='topic+PSAboot-package'></span>

<h3>Description</h3>

<p>Bootstrapping procedures for Propensity Score Analysis.
</p>

<hr>
<h2 id='as.data.frame.PSAbootSummary'>Convert the results of PSAboot summary to a data frame.</h2><span id='topic+as.data.frame.PSAbootSummary'></span>

<h3>Description</h3>

<p>Convert the results of PSAboot summary to a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAbootSummary'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.data.frame.PSAbootSummary_+3A_x">x</code></td>
<td>
<p>results of <code><a href="#topic+summary.PSAboot">summary.PSAboot</a></code></p>
</td></tr>
<tr><td><code id="as.data.frame.PSAbootSummary_+3A_row.names">row.names</code></td>
<td>
<p>row names.</p>
</td></tr>
<tr><td><code id="as.data.frame.PSAbootSummary_+3A_optional">optional</code></td>
<td>
<p>unused.</p>
</td></tr>
<tr><td><code id="as.data.frame.PSAbootSummary_+3A_...">...</code></td>
<td>
<p>unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame.
</p>

<hr>
<h2 id='balance'>Returns a summary of the balance for all bootstrap samples.</h2><span id='topic+balance'></span>

<h3>Description</h3>

<p>This method provides some crude overall measures of balance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>balance(psaboot, na.rm = TRUE, pool.fun = mean)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="balance_+3A_psaboot">psaboot</code></td>
<td>
<p>results from <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
<tr><td><code id="balance_+3A_na.rm">na.rm</code></td>
<td>
<p>should NAs be removed. NAs generally occur when there is insufficient
sample for a particular covariate or an unused level.</p>
</td></tr>
<tr><td><code id="balance_+3A_pool.fun">pool.fun</code></td>
<td>
<p>a function specifying how the effect sizes across all covariates
should be combined. Possible values include <code>mean</code> (default),
<code><a href="#topic+q25">q25</a></code>, <code><a href="#topic+q75">q75</a></code>, <code>median</code>, <code>max</code>, or 
any function that takes a vector of numeric values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt>unadjusted</dt><dd><p>named numeric vector with unadjusted effect size before
adjustment for each covariate</p>
</dd>
<dt>complete</dt><dd><p>a matrix with adjusted effect size for each covariate (columns)
for each method (rows).</p>
</dd>
<dt>pooled</dt><dd><p>a matrix with mean adjusted effect size for all covariates for each
method (columns) and each bootstrap sample (rows).</p>
</dd>
<dt>balances</dt><dd><p>a list with an M x n covariates matrix for each method.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
library(PSAboot)
data(pisa.psa.cols)
data(pisausa)
bm.usa &lt;- PSAboot(Tr = as.integer(pisausa$PUBPRIV) - 1,
    Y = pisausa$Math,
    X = pisausa[,pisa.psa.cols],
    control.ratio = 5, M = 100, seed = 2112)
bm.usa.bal &lt;- balance(bm.usa)


</code></pre>

<hr>
<h2 id='balance.matching'>Returns balance for each covariate from propensity score matching.</h2><span id='topic+balance.matching'></span>

<h3>Description</h3>

<p>This function is function is primarily used by [PSAboot::balance()] and
probably does not need to be called directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>balance.matching(index.treated, index.control, covs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="balance.matching_+3A_index.treated">index.treated</code></td>
<td>
<p>a vector with the index of treated rows in <code>covs</code>.</p>
</td></tr>
<tr><td><code id="balance.matching_+3A_index.control">index.control</code></td>
<td>
<p>a vector with the index of control rows in <code>covs</code>.</p>
</td></tr>
<tr><td><code id="balance.matching_+3A_covs">covs</code></td>
<td>
<p>data frame or matrix of covariates. Factors should already be recoded.
See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named vector with one element per covariate.
</p>

<hr>
<h2 id='boot.ctree'>Stratification using classification trees for bootstrapping.</h2><span id='topic+boot.ctree'></span>

<h3>Description</h3>

<p>Stratification using classification trees for bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot.ctree(Tr, Y, X, X.trans, formu, minStrata = 5, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot.ctree_+3A_tr">Tr</code></td>
<td>
<p>vector indicating treatment assignment.</p>
</td></tr>
<tr><td><code id="boot.ctree_+3A_y">Y</code></td>
<td>
<p>vector of outcome.</p>
</td></tr>
<tr><td><code id="boot.ctree_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates.</p>
</td></tr>
<tr><td><code id="boot.ctree_+3A_x.trans">X.trans</code></td>
<td>
<p>a data frame of <code>X</code> with factors recoded. See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
<tr><td><code id="boot.ctree_+3A_formu">formu</code></td>
<td>
<p>the formula to use to estimate propensity scores. Note that the
dependent varaible (i.e. treatment varaible) name will be updated using
the <code>Tr</code> vector.</p>
</td></tr>
<tr><td><code id="boot.ctree_+3A_minstrata">minStrata</code></td>
<td>
<p>minimum number of treatment or control units within a strata 
to include that strata.</p>
</td></tr>
<tr><td><code id="boot.ctree_+3A_...">...</code></td>
<td>
<p>other parameters passed from <code><a href="#topic+PSAboot">PSAboot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt><code>summary</code></dt><dd><p>a named numeric vector (with at minimum <code>estimate</code>, 
<code>ci.min</code>, and <code>ci.max</code> but other values allowed)</p>
</dd>
<dt><code>balance</code></dt><dd><p>a named numeric vector with one element per 
covariate listed in <code>X.trans</code> representing a balance statistic 
(usually standardized effect size after adjustment)</p>
</dd>
<dt><code>details</code></dt><dd><p>an arbitrary object that contains the full results of the
analysis</p>
</dd>
</dl>


<hr>
<h2 id='boot.matching'>Matching package implementation for bootstrapping.</h2><span id='topic+boot.matching'></span>

<h3>Description</h3>

<p>Matching package implementation for bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot.matching(Tr, Y, X, X.trans, formu, estimand = "ATE", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot.matching_+3A_tr">Tr</code></td>
<td>
<p>vector indicating treatment assignment.</p>
</td></tr>
<tr><td><code id="boot.matching_+3A_y">Y</code></td>
<td>
<p>vector of outcome.</p>
</td></tr>
<tr><td><code id="boot.matching_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates.</p>
</td></tr>
<tr><td><code id="boot.matching_+3A_x.trans">X.trans</code></td>
<td>
<p>a data frame of <code>X</code> with factors recoded. See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
<tr><td><code id="boot.matching_+3A_formu">formu</code></td>
<td>
<p>the formula to use to estimate propensity scores. Note that the
dependent varaible (i.e. treatment varaible) name will be updated using
the <code>Tr</code> vector.</p>
</td></tr>
<tr><td><code id="boot.matching_+3A_estimand">estimand</code></td>
<td>
<p>character string for estimand, either ATE, ATT, or ATC. See
<code><a href="Matching.html#topic+Match">Match</a></code> for more details.</p>
</td></tr>
<tr><td><code id="boot.matching_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="Matching.html#topic+Match">Match</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt><code>summary</code></dt><dd><p>a named numeric vector (with at minimum <code>estimate</code>, 
<code>ci.min</code>, and <code>ci.max</code> but other values allowed)</p>
</dd>
<dt><code>balance</code></dt><dd><p>a named numeric vector with one element per 
covariate listed in <code>X.trans</code> representing a balance statistic 
(usually standardized effect size after adjustment)</p>
</dd>
<dt><code>details</code></dt><dd><p>an arbitrary object that contains the full results of the
analysis</p>
</dd>
</dl>


<hr>
<h2 id='boot.matchit'>MatchIt package implementation for bootstrapping.</h2><span id='topic+boot.matchit'></span>

<h3>Description</h3>

<p>MatchIt package implementation for bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot.matchit(Tr, Y, X, X.trans, formu, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot.matchit_+3A_tr">Tr</code></td>
<td>
<p>vector indicating treatment assignment.</p>
</td></tr>
<tr><td><code id="boot.matchit_+3A_y">Y</code></td>
<td>
<p>vector of outcome.</p>
</td></tr>
<tr><td><code id="boot.matchit_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates.</p>
</td></tr>
<tr><td><code id="boot.matchit_+3A_x.trans">X.trans</code></td>
<td>
<p>a data frame of <code>X</code> with factors recoded. See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
<tr><td><code id="boot.matchit_+3A_formu">formu</code></td>
<td>
<p>the formula to use to estimate propensity scores. Note that the
dependent varaible (i.e. treatment varaible) name will be updated using
the <code>Tr</code> vector.</p>
</td></tr>
<tr><td><code id="boot.matchit_+3A_...">...</code></td>
<td>
<p>other parameters passed from <code><a href="#topic+PSAboot">PSAboot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt><code>summary</code></dt><dd><p>a named numeric vector (with at minimum <code>estimate</code>, 
<code>ci.min</code>, and <code>ci.max</code> but other values allowed)</p>
</dd>
<dt><code>balance</code></dt><dd><p>a named numeric vector with one element per 
covariate listed in <code>X.trans</code> representing a balance statistic 
(usually standardized effect size after adjustment)</p>
</dd>
<dt><code>details</code></dt><dd><p>an arbitrary object that contains the full results of the
analysis</p>
</dd>
</dl>


<hr>
<h2 id='boot.rpart'>Stratification using classification trees for bootstrapping.</h2><span id='topic+boot.rpart'></span>

<h3>Description</h3>

<p>Stratification using classification trees for bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot.rpart(Tr, Y, X, X.trans, formu, minStrata = 5, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot.rpart_+3A_tr">Tr</code></td>
<td>
<p>vector indicating treatment assignment.</p>
</td></tr>
<tr><td><code id="boot.rpart_+3A_y">Y</code></td>
<td>
<p>vector of outcome.</p>
</td></tr>
<tr><td><code id="boot.rpart_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates.</p>
</td></tr>
<tr><td><code id="boot.rpart_+3A_x.trans">X.trans</code></td>
<td>
<p>a data frame of <code>X</code> with factors recoded. See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
<tr><td><code id="boot.rpart_+3A_formu">formu</code></td>
<td>
<p>the formula to use to estimate propensity scores. Note that the
dependent varaible (i.e. treatment varaible) name will be updated using
the <code>Tr</code> vector.</p>
</td></tr>
<tr><td><code id="boot.rpart_+3A_minstrata">minStrata</code></td>
<td>
<p>minimum number of treatment or control units within a strata 
to include that strata.</p>
</td></tr>
<tr><td><code id="boot.rpart_+3A_...">...</code></td>
<td>
<p>other parameters passed from <code><a href="#topic+PSAboot">PSAboot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt><code>summary</code></dt><dd><p>a named numeric vector (with at minimum <code>estimate</code>, 
<code>ci.min</code>, and <code>ci.max</code> but other values allowed)</p>
</dd>
<dt><code>balance</code></dt><dd><p>a named numeric vector with one element per 
covariate listed in <code>X.trans</code> representing a balance statistic 
(usually standardized effect size after adjustment)</p>
</dd>
<dt><code>details</code></dt><dd><p>an arbitrary object that contains the full results of the
analysis</p>
</dd>
</dl>


<hr>
<h2 id='boot.strata'>Stratification implementation for bootstrapping.</h2><span id='topic+boot.strata'></span>

<h3>Description</h3>

<p>Stratification implementation for bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot.strata(Tr, Y, X, X.trans, formu, nstrata = 5, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot.strata_+3A_tr">Tr</code></td>
<td>
<p>vector indicating treatment assignment.</p>
</td></tr>
<tr><td><code id="boot.strata_+3A_y">Y</code></td>
<td>
<p>vector of outcome.</p>
</td></tr>
<tr><td><code id="boot.strata_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates.</p>
</td></tr>
<tr><td><code id="boot.strata_+3A_x.trans">X.trans</code></td>
<td>
<p>a data frame of <code>X</code> with factors recoded. See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
<tr><td><code id="boot.strata_+3A_formu">formu</code></td>
<td>
<p>the formula to use to estimate propensity scores. Note that the
dependent varaible (i.e. treatment varaible) name will be updated using
the <code>Tr</code> vector.</p>
</td></tr>
<tr><td><code id="boot.strata_+3A_nstrata">nstrata</code></td>
<td>
<p>number of strata to divide the propensity scores.</p>
</td></tr>
<tr><td><code id="boot.strata_+3A_...">...</code></td>
<td>
<p>other parameters passed from <code><a href="#topic+PSAboot">PSAboot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt><code>summary</code></dt><dd><p>a named numeric vector (with at minimum <code>estimate</code>, 
<code>ci.min</code>, and <code>ci.max</code> but other values allowed)</p>
</dd>
<dt><code>balance</code></dt><dd><p>a named numeric vector with one element per 
covariate listed in <code>X.trans</code> representing a balance statistic 
(usually standardized effect size after adjustment)</p>
</dd>
<dt><code>details</code></dt><dd><p>an arbitrary object that contains the full results of the
analysis</p>
</dd>
</dl>


<hr>
<h2 id='boot.weighting'>Propensity score weighting implementation for bootstrapping.</h2><span id='topic+boot.weighting'></span>

<h3>Description</h3>

<p>Propensity score weighting implementation for bootstrapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boot.weighting(Tr, Y, X, X.trans, formu, estimand = "ATE", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boot.weighting_+3A_tr">Tr</code></td>
<td>
<p>vector indicating treatment assignment.</p>
</td></tr>
<tr><td><code id="boot.weighting_+3A_y">Y</code></td>
<td>
<p>vector of outcome.</p>
</td></tr>
<tr><td><code id="boot.weighting_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates.</p>
</td></tr>
<tr><td><code id="boot.weighting_+3A_x.trans">X.trans</code></td>
<td>
<p>a data frame of <code>X</code> with factors recoded. See <code><a href="PSAgraphics.html#topic+cv.trans.psa">cv.trans.psa</a></code></p>
</td></tr>
<tr><td><code id="boot.weighting_+3A_formu">formu</code></td>
<td>
<p>the formula to use to estimate propensity scores. Note that the
dependent varaible (i.e. treatment varaible) name will be updated using
the <code>Tr</code> vector.</p>
</td></tr>
<tr><td><code id="boot.weighting_+3A_estimand">estimand</code></td>
<td>
<p>which treatment effect to estimate. Values can be ATE, ATT,
ATC, or ATM.</p>
</td></tr>
<tr><td><code id="boot.weighting_+3A_...">...</code></td>
<td>
<p>other parameters passed from <code><a href="#topic+PSAboot">PSAboot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<dl>
<dt><code>summary</code></dt><dd><p>a named numeric vector (with at minimum <code>estimate</code>, 
<code>ci.min</code>, and <code>ci.max</code> but other values allowed)</p>
</dd>
<dt><code>balance</code></dt><dd><p>a named numeric vector with one element per 
covariate listed in <code>X.trans</code> representing a balance statistic 
(usually standardized effect size after adjustment)</p>
</dd>
<dt><code>details</code></dt><dd><p>an arbitrary object that contains the full results of the
analysis</p>
</dd>
</dl>


<hr>
<h2 id='boxplot.PSAboot'>Boxplot of PSA bootstrap results.</h2><span id='topic+boxplot.PSAboot'></span>

<h3>Description</h3>

<p>Boxplot of PSA bootstrap results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot'
boxplot(
  x,
  bootstrap.mean.color = "blue",
  bootstrap.ci.color = "green",
  bootstrap.ci.width = 0.5,
  bootstrap.ci.size = 3,
  overall.mean.color = "red",
  tufte = FALSE,
  coord.flip = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boxplot.PSAboot_+3A_x">x</code></td>
<td>
<p>result of <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_bootstrap.mean.color">bootstrap.mean.color</code></td>
<td>
<p>the color of the point for the bootstrap mean, or NA
to omit.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_bootstrap.ci.color">bootstrap.ci.color</code></td>
<td>
<p>the color of the confidence intervals of the bootstrap
samples, or NA to omit.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_bootstrap.ci.width">bootstrap.ci.width</code></td>
<td>
<p>the width of the confidence interval lines at the end.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_bootstrap.ci.size">bootstrap.ci.size</code></td>
<td>
<p>the size of the confidence interval lines.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_overall.mean.color">overall.mean.color</code></td>
<td>
<p>the color of the point for the overall (before bootstrapping)
mean, or NA to omit.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_tufte">tufte</code></td>
<td>
<p>use Tufte's boxplot style. Requires the <code>ggthemes</code> package.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_coord.flip">coord.flip</code></td>
<td>
<p>Whether to flip the coordinates.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 expression.
</p>

<hr>
<h2 id='boxplot.PSAboot.balance'>Boxplot of the balance statistics for bootstrapped samples.</h2><span id='topic+boxplot.PSAboot.balance'></span>

<h3>Description</h3>

<p>Boxplot of the balance statistics for bootstrapped samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot.balance'
boxplot(
  x,
  unadjusted.color = "red",
  pooled.color = "blue",
  point.size = 3,
  point.alpha = 0.5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boxplot.PSAboot.balance_+3A_x">x</code></td>
<td>
<p>results of <code><a href="#topic+balance">balance</a></code></p>
</td></tr>
<tr><td><code id="boxplot.PSAboot.balance_+3A_unadjusted.color">unadjusted.color</code></td>
<td>
<p>the color used for the unadjusted effect size.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot.balance_+3A_pooled.color">pooled.color</code></td>
<td>
<p>the color used for the mean bootstrap effect size.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot.balance_+3A_point.size">point.size</code></td>
<td>
<p>the size of the points.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot.balance_+3A_point.alpha">point.alpha</code></td>
<td>
<p>the transparency level for the points.</p>
</td></tr>
<tr><td><code id="boxplot.PSAboot.balance_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 expression.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PSAboot)
data(pisa.psa.cols)
data(pisausa)
bm.usa &lt;- PSAboot(Tr = as.integer(pisausa$PUBPRIV) - 1,
    Y = pisausa$Math,
    X = pisausa[,pisa.psa.cols],
    control.ratio = 5, M = 100, seed = 2112)
bm.usa.bal &lt;- balance(bm.usa)
boxplot(bm.usa.bal, nrow = 1)

</code></pre>

<hr>
<h2 id='calculate_ps_weights'>Calculates propensity score weights.</h2><span id='topic+calculate_ps_weights'></span>

<h3>Description</h3>

<p>Calculates propensity score weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_ps_weights(treatment, ps, estimand = "ATE")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_ps_weights_+3A_treatment">treatment</code></td>
<td>
<p>a logical vector for treatment status.</p>
</td></tr>
<tr><td><code id="calculate_ps_weights_+3A_ps">ps</code></td>
<td>
<p>numeric vector of propensity scores</p>
</td></tr>
<tr><td><code id="calculate_ps_weights_+3A_estimand">estimand</code></td>
<td>
<p>character string indicating which estimand to be used. Possible
values are 
ATE (average treatment effect), 
ATT (average treatment effect for the treated), 
ATC (average treatement effect for the controls), 
ATM (Average Treatment Effect Among the Evenly Matchable), 
ATO (Average Treatment Effect Among the Overlap Populatio)</p>
</td></tr>
</table>

<hr>
<h2 id='getPSAbootMethods'>Returns a vector with the default methods used by <code><a href="#topic+PSAboot">PSAboot</a></code>.</h2><span id='topic+getPSAbootMethods'></span>

<h3>Description</h3>

<p>The current default methods are:
</p>

<dl>
<dt>Stratification</dt><dd><p><code><a href="#topic+boot.strata">boot.strata</a></code></p>
</dd>
<dt>ctree</dt><dd><p><code><a href="#topic+boot.ctree">boot.ctree</a></code></p>
</dd>
<dt>rpart</dt><dd><p><code><a href="#topic+boot.rpart">boot.rpart</a></code></p>
</dd>
<dt>Matching</dt><dd><p><code><a href="#topic+boot.matching">boot.matching</a></code></p>
</dd>
<dt>MatchIt</dt><dd><p><code><a href="#topic+boot.matchit">boot.matchit</a></code></p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>getPSAbootMethods()
</code></pre>


<h3>Details</h3>

<p>The default methods can be changed by setting the <code>PSAboot.methods</code> option
using <code>options('PSAboot.methods'=c(...))</code> where <code>...</code> is a named
list of functions.
</p>


<h3>Value</h3>

<p>a vector of methods for use by <code><a href="#topic+PSAboot">PSAboot</a></code>
</p>

<hr>
<h2 id='hist.PSAboot'>Histogram of PSA bootstrap results</h2><span id='topic+hist.PSAboot'></span>

<h3>Description</h3>

<p>Histogram of PSA bootstrap results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot'
hist(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hist.PSAboot_+3A_x">x</code></td>
<td>
<p>result of <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
<tr><td><code id="hist.PSAboot_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="ggplot2.html#topic+geom_histogram">geom_histogram</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 expression.
</p>

<hr>
<h2 id='matrixplot'>Matrix Plot of Bootstrapped Propensity Score Analysis</h2><span id='topic+matrixplot'></span>

<h3>Description</h3>

<p>Matrix Plot of Bootstrapped Propensity Score Analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrixplot(bm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matrixplot_+3A_bm">bm</code></td>
<td>
<p>result from <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing returned. Creates a plot using the [graphics::pairs()] function.
</p>

<hr>
<h2 id='pisa.psa.cols'>Character vector representing the list of covariates used for estimating
propensity scores.</h2><span id='topic+pisa.psa.cols'></span>

<h3>Description</h3>

<p>Character vector representing the list of covariates used for estimating
propensity scores.
</p>


<h3>Format</h3>

<p>a character vector with covariate names for estimating propensity scores.
</p>

<hr>
<h2 id='pisalux'>Programme of International Student Assessment (PISA) results from the Luxembourg in 2009.</h2><span id='topic+pisalux'></span>

<h3>Description</h3>

<p>Student results from the 2009 Programme of International Student Assessment (PISA)
as provided by the Organization for Economic Co-operation and Development (OECD).
See <a href="https://www.oecd.org/pisa/">https://www.oecd.org/pisa/</a> for more information including the code book.
</p>


<h3>Format</h3>

<p>a data frame with 4,622 rows and 65 columns.
</p>

<dl>
<dt><code>CNT</code></dt><dd><p>Country</p>
</dd>
<dt><code>SCHOOLID</code></dt><dd><p>SchoolID</p>
</dd>
<dt><code>ST01Q01</code></dt><dd><p>Grade</p>
</dd>
<dt><code>ST04Q01</code></dt><dd><p>Sex</p>
</dd>
<dt><code>ST05Q01</code></dt><dd><p>Attend</p>
</dd>
<dt><code>ST06Q01</code></dt><dd><p>Age</p>
</dd>
<dt><code>ST07Q01</code></dt><dd><p>Repeat</p>
</dd>
<dt><code>ST08Q01</code></dt><dd><p>At home mother</p>
</dd>
<dt><code>ST08Q02</code></dt><dd><p>At home father</p>
</dd>
<dt><code>ST08Q03</code></dt><dd><p>At home brothers</p>
</dd>
<dt><code>ST08Q04</code></dt><dd><p>At home sisters</p>
</dd>
<dt><code>ST08Q05</code></dt><dd><p>At home grandparents</p>
</dd>
<dt><code>ST08Q06</code></dt><dd><p>At home others</p>
</dd>
<dt><code>ST10Q01</code></dt><dd><p>Mother highest schooling</p>
</dd>
<dt><code>ST12Q01</code></dt><dd><p>Mother current job status</p>
</dd>
<dt><code>ST14Q01</code></dt><dd><p>Father highest schooling</p>
</dd>
<dt><code>ST16Q01</code></dt><dd><p>Father current job status</p>
</dd>
<dt><code>ST19Q01</code></dt><dd><p>Language at home</p>
</dd>
<dt><code>ST20Q01</code></dt><dd><p>Desk</p>
</dd>
<dt><code>ST20Q02</code></dt><dd><p>Own room</p>
</dd>
<dt><code>ST20Q03</code></dt><dd><p>Study place</p>
</dd>
<dt><code>ST20Q04</code></dt><dd><p>Computer</p>
</dd>
<dt><code>ST20Q05</code></dt><dd><p>Software</p>
</dd>
<dt><code>ST20Q06</code></dt><dd><p>Internet</p>
</dd>
<dt><code>ST20Q07</code></dt><dd><p>Literature</p>
</dd>
<dt><code>ST20Q08</code></dt><dd><p>Poetry</p>
</dd>
<dt><code>ST20Q09</code></dt><dd><p>Art</p>
</dd>
<dt><code>ST20Q10</code></dt><dd><p>Textbooks</p>
</dd>
<dt><code>ST20Q12</code></dt><dd><p>Dictionary</p>
</dd>
<dt><code>ST20Q13</code></dt><dd><p>Dishwasher</p>
</dd>
<dt><code>ST20Q14</code></dt><dd><p>DVD</p>
</dd>
<dt><code>ST21Q01</code></dt><dd><p>How many cellphones</p>
</dd>
<dt><code>ST21Q02</code></dt><dd><p>How many TVs</p>
</dd>
<dt><code>ST21Q03</code></dt><dd><p>How many computers</p>
</dd>
<dt><code>ST21Q04</code></dt><dd><p>How many cars</p>
</dd>
<dt><code>ST21Q05</code></dt><dd><p>How many rooms bath or shower</p>
</dd>
<dt><code>ST22Q01</code></dt><dd><p>How many books</p>
</dd>
<dt><code>ST23Q01</code></dt><dd><p>Reading enjoyment time</p>
</dd>
<dt><code>ST31Q01</code></dt><dd><p>Enrich in test language</p>
</dd>
<dt><code>ST31Q02</code></dt><dd><p>Enrich in mathematics</p>
</dd>
<dt><code>ST31Q03</code></dt><dd><p>Enrich in science</p>
</dd>
<dt><code>ST31Q05</code></dt><dd><p>Remedial in test language</p>
</dd>
<dt><code>ST31Q06</code></dt><dd><p>Remedial in mathematics</p>
</dd>
<dt><code>ST31Q07</code></dt><dd><p>Remedial in science</p>
</dd>
<dt><code>ST32Q01</code></dt><dd><p>Out of school lessons in test language</p>
</dd>
<dt><code>ST32Q02</code></dt><dd><p>Out of school lessons maths</p>
</dd>
<dt><code>ST32Q03</code></dt><dd><p>Out of school lessons in science</p>
</dd>
<dt><code>PUBPRIV</code></dt><dd><p>Public or private school</p>
</dd>
<dt><code>STRATIO</code></dt><dd><p>Student to teacher ratio in school</p>
</dd>
</dl>



<h3>Details</h3>

<p>Note that missing values have been imputed using the 
mice package. Details on the specific procedure are in the <code>pisa.impute</code> function
in the <a href="https://github.com/jbryer/pisa"><code>pisa</code> package</a>.
</p>


<h3>References</h3>

<p>Organisation for Economic Co-operation and Development (2009).
Programme for International Student Assessment (PISA).
</p>

<hr>
<h2 id='pisausa'>Programme of International Student Assessment (PISA) results from the United
States in 2009.</h2><span id='topic+pisausa'></span>

<h3>Description</h3>

<p>Student results from the 2009 Programme of International Student Assessment (PISA)
as provided by the Organization for Economic Co-operation and Development (OECD).
See www.oecd.org/pisa/ for more information including the code book.
</p>


<h3>Format</h3>

<p>a data frame with 5,233 rows and 65 columns.
</p>

<dl>
<dt><code>CNT</code></dt><dd><p>Country</p>
</dd>
<dt><code>SCHOOLID</code></dt><dd><p>SchoolID</p>
</dd>
<dt><code>ST01Q01</code></dt><dd><p>Grade</p>
</dd>
<dt><code>ST04Q01</code></dt><dd><p>Sex</p>
</dd>
<dt><code>ST05Q01</code></dt><dd><p>Attend</p>
</dd>
<dt><code>ST06Q01</code></dt><dd><p>Age</p>
</dd>
<dt><code>ST07Q01</code></dt><dd><p>Repeat</p>
</dd>
<dt><code>ST08Q01</code></dt><dd><p>At home mother</p>
</dd>
<dt><code>ST08Q02</code></dt><dd><p>At home father</p>
</dd>
<dt><code>ST08Q03</code></dt><dd><p>At home brothers</p>
</dd>
<dt><code>ST08Q04</code></dt><dd><p>At home sisters</p>
</dd>
<dt><code>ST08Q05</code></dt><dd><p>At home grandparents</p>
</dd>
<dt><code>ST08Q06</code></dt><dd><p>At home others</p>
</dd>
<dt><code>ST10Q01</code></dt><dd><p>Mother highest schooling</p>
</dd>
<dt><code>ST12Q01</code></dt><dd><p>Mother current job status</p>
</dd>
<dt><code>ST14Q01</code></dt><dd><p>Father highest schooling</p>
</dd>
<dt><code>ST16Q01</code></dt><dd><p>Father current job status</p>
</dd>
<dt><code>ST19Q01</code></dt><dd><p>Language at home</p>
</dd>
<dt><code>ST20Q01</code></dt><dd><p>Desk</p>
</dd>
<dt><code>ST20Q02</code></dt><dd><p>Own room</p>
</dd>
<dt><code>ST20Q03</code></dt><dd><p>Study place</p>
</dd>
<dt><code>ST20Q04</code></dt><dd><p>Computer</p>
</dd>
<dt><code>ST20Q05</code></dt><dd><p>Software</p>
</dd>
<dt><code>ST20Q06</code></dt><dd><p>Internet</p>
</dd>
<dt><code>ST20Q07</code></dt><dd><p>Literature</p>
</dd>
<dt><code>ST20Q08</code></dt><dd><p>Poetry</p>
</dd>
<dt><code>ST20Q09</code></dt><dd><p>Art</p>
</dd>
<dt><code>ST20Q10</code></dt><dd><p>Textbooks</p>
</dd>
<dt><code>ST20Q12</code></dt><dd><p>Dictionary</p>
</dd>
<dt><code>ST20Q13</code></dt><dd><p>Dishwasher</p>
</dd>
<dt><code>ST20Q14</code></dt><dd><p>DVD</p>
</dd>
<dt><code>ST21Q01</code></dt><dd><p>How many cellphones</p>
</dd>
<dt><code>ST21Q02</code></dt><dd><p>How many TVs</p>
</dd>
<dt><code>ST21Q03</code></dt><dd><p>How many computers</p>
</dd>
<dt><code>ST21Q04</code></dt><dd><p>How many cars</p>
</dd>
<dt><code>ST21Q05</code></dt><dd><p>How many rooms bath or shower</p>
</dd>
<dt><code>ST22Q01</code></dt><dd><p>How many books</p>
</dd>
<dt><code>ST23Q01</code></dt><dd><p>Reading enjoyment time</p>
</dd>
<dt><code>ST31Q01</code></dt><dd><p>Enrich in test language</p>
</dd>
<dt><code>ST31Q02</code></dt><dd><p>Enrich in mathematics</p>
</dd>
<dt><code>ST31Q03</code></dt><dd><p>Enrich in science</p>
</dd>
<dt><code>ST31Q05</code></dt><dd><p>Remedial in test language</p>
</dd>
<dt><code>ST31Q06</code></dt><dd><p>Remedial in mathematics</p>
</dd>
<dt><code>ST31Q07</code></dt><dd><p>Remedial in science</p>
</dd>
<dt><code>ST32Q01</code></dt><dd><p>Out of school lessons in test language</p>
</dd>
<dt><code>ST32Q02</code></dt><dd><p>Out of school lessons maths</p>
</dd>
<dt><code>ST32Q03</code></dt><dd><p>Out of school lessons in science</p>
</dd>
<dt><code>PUBPRIV</code></dt><dd><p>Public or private school</p>
</dd>
<dt><code>STRATIO</code></dt><dd><p>Student to teacher ratio in school</p>
</dd>
</dl>



<h3>Details</h3>

<p>Note that missing values have been imputed using the 
mice package. Details on the specific procedure are in the <code>pisa.impute</code> function
in the <a href="https://github.com/jbryer/pisa"><code>pisa</code> package</a>.
</p>


<h3>References</h3>

<p>Organisation for Economic Co-operation and Development (2009).
Programme for International Student Assessment (PISA).
</p>

<hr>
<h2 id='plot.PSAboot'>Plot the results of PSAboot</h2><span id='topic+plot.PSAboot'></span>

<h3>Description</h3>

<p>Plot the results of PSAboot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot'
plot(
  x,
  sort = "all",
  ci.sig.color = "red",
  plot.overall = FALSE,
  plot.bootstrap = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.PSAboot_+3A_x">x</code></td>
<td>
<p>result of <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
<tr><td><code id="plot.PSAboot_+3A_sort">sort</code></td>
<td>
<p>how the sort the rows by mean difference. Options are to sort
using the mean difference from matching, stratification, both 
individually, or no sorting.</p>
</td></tr>
<tr><td><code id="plot.PSAboot_+3A_ci.sig.color">ci.sig.color</code></td>
<td>
<p>the color used for confidence intervals that do not span zero.</p>
</td></tr>
<tr><td><code id="plot.PSAboot_+3A_plot.overall">plot.overall</code></td>
<td>
<p>whether to plot vertical lines for the overall (non-bootstrapped)
estimate and confidence interval.</p>
</td></tr>
<tr><td><code id="plot.PSAboot_+3A_plot.bootstrap">plot.bootstrap</code></td>
<td>
<p>whether to plot vertical lines for the bootstrap pooled
estimate and confidence interval.</p>
</td></tr>
<tr><td><code id="plot.PSAboot_+3A_...">...</code></td>
<td>
<p>currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 expression.
</p>

<hr>
<h2 id='plot.PSAboot.balance'>Plot method for balance.</h2><span id='topic+plot.PSAboot.balance'></span>

<h3>Description</h3>

<p>Plot method for balance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot.balance'
plot(
  x,
  unadjusted.color = "red",
  complete.color = "blue",
  pooled.color = "black",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.PSAboot.balance_+3A_x">x</code></td>
<td>
<p>results from <code><a href="#topic+balance">balance</a></code></p>
</td></tr>
<tr><td><code id="plot.PSAboot.balance_+3A_unadjusted.color">unadjusted.color</code></td>
<td>
<p>color of the vertical line representing the mean 
unadjusted effect size for all covariates.</p>
</td></tr>
<tr><td><code id="plot.PSAboot.balance_+3A_complete.color">complete.color</code></td>
<td>
<p>color of the vertical line representing the mean adjusted
effect size for all covariates using the complete dataset.</p>
</td></tr>
<tr><td><code id="plot.PSAboot.balance_+3A_pooled.color">pooled.color</code></td>
<td>
<p>color of the vertical line representing the mean adjusted
effect size for all covariates across all bootstrapped samples.</p>
</td></tr>
<tr><td><code id="plot.PSAboot.balance_+3A_...">...</code></td>
<td>
<p>currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 expression.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PSAboot)
data(pisa.psa.cols)
data(pisausa)
bm.usa &lt;- PSAboot(Tr = as.integer(pisausa$PUBPRIV) - 1,
    Y = pisausa$Math,
    X = pisausa[,pisa.psa.cols],
    control.ratio = 5, M = 100, seed = 2112)
bm.usa.bal &lt;- balance(bm.usa)
plot(bm.usa.bal)

</code></pre>

<hr>
<h2 id='print.PSAboot'>Print results of PSAboot</h2><span id='topic+print.PSAboot'></span>

<h3>Description</h3>

<p>Print results of PSAboot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.PSAboot_+3A_x">x</code></td>
<td>
<p>result of <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
<tr><td><code id="print.PSAboot_+3A_...">...</code></td>
<td>
<p>currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing returned. S3 generic function that calls the [PSAboot::summary()] function.
</p>

<hr>
<h2 id='print.PSAboot.balance'>Print method for balance.</h2><span id='topic+print.PSAboot.balance'></span>

<h3>Description</h3>

<p>This is a crude measure of overall balance. Absolute value of the standardized
effect sizes are calculated for each covariate. Overall balance statistics are
the mean of those effect sizes after adjustment for each method across all
bootstrap samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot.balance'
print(x, na.rm = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.PSAboot.balance_+3A_x">x</code></td>
<td>
<p>results from <code><a href="#topic+balance">balance</a></code>.</p>
</td></tr>
<tr><td><code id="print.PSAboot.balance_+3A_na.rm">na.rm</code></td>
<td>
<p>whether NA balance statistics should be removed before averaging them.</p>
</td></tr>
<tr><td><code id="print.PSAboot.balance_+3A_...">...</code></td>
<td>
<p>currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No valued returned.
</p>

<hr>
<h2 id='print.PSAbootSummary'>Print method for PSAboot Summary.</h2><span id='topic+print.PSAbootSummary'></span>

<h3>Description</h3>

<p>Print method for PSAboot Summary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAbootSummary'
print(x, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.PSAbootSummary_+3A_x">x</code></td>
<td>
<p>result of <code><a href="#topic+summary.PSAboot">summary.PSAboot</a></code></p>
</td></tr>
<tr><td><code id="print.PSAbootSummary_+3A_digits">digits</code></td>
<td>
<p>desired number of digits after the decimal point.</p>
</td></tr>
<tr><td><code id="print.PSAbootSummary_+3A_...">...</code></td>
<td>
<p>unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing returned.
</p>

<hr>
<h2 id='psa.strata'>Propensity Score Analysis using Stratification</h2><span id='topic+psa.strata'></span>

<h3>Description</h3>

<p>Propensity Score Analysis using Stratification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psa.strata(Y, Tr, strata, trim = 0, minStrata = 5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psa.strata_+3A_y">Y</code></td>
<td>
<p>response variable.</p>
</td></tr>
<tr><td><code id="psa.strata_+3A_tr">Tr</code></td>
<td>
<p>treatment variable.</p>
</td></tr>
<tr><td><code id="psa.strata_+3A_strata">strata</code></td>
<td>
<p>strata identifier.</p>
</td></tr>
<tr><td><code id="psa.strata_+3A_trim">trim</code></td>
<td>
<p>allows for a trimmed mean as outcome measure, where trim is from
0 to .5 (.5 implying median).</p>
</td></tr>
<tr><td><code id="psa.strata_+3A_minstrata">minStrata</code></td>
<td>
<p>minimum number of treatment or control units within a strata 
to include that strata.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector containing summary.strata, ATE, se.wtd, approx.t, df, and CI.95.
</p>

<hr>
<h2 id='PSAboot'>Bootstrapping for propensity score analysis</h2><span id='topic+PSAboot'></span>

<h3>Description</h3>

<p>Bootstrapping has become a popular resampling method for estimating sampling
distributions. And propensity score analysis (PSA) has become popular for estimating
causal effects in observational studies. This function implements bootstrapping
specifically for PSA. Like typical bootstrapping methods, this function estimates
treatment effects for M random samples. However, unlike typical bootstrap methods,
this function allows for separate sample sizes for treatment and control units.
That is, under certain circumstances (e.g. when the ratio of treatment-to-control
units is large) bootstrapping only the control units may be desirable. Additionally,
this function provides a framework to use multiple PSA methods for each bootstrap
sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PSAboot(
  Tr,
  Y,
  X,
  M = 100,
  formu = as.formula(paste0("treat ~ ", paste0(names(X), collapse = " + "))),
  control.ratio = 5,
  control.sample.size = min(control.ratio * min(table(Tr)), max(table(Tr))),
  control.replace = TRUE,
  treated.sample.size = min(table(Tr)),
  treated.replace = TRUE,
  methods = getPSAbootMethods(),
  parallel = TRUE,
  seed = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PSAboot_+3A_tr">Tr</code></td>
<td>
<p>numeric (0 or 1) or logical vector of treatment indicators.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_y">Y</code></td>
<td>
<p>vector of outcome variable</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_x">X</code></td>
<td>
<p>matrix or data frame of covariates used to estimate the propensity scores.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_m">M</code></td>
<td>
<p>number of bootstrap samples to generate.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_formu">formu</code></td>
<td>
<p>formula used for estimating propensity scores. The default is to use
all covariates in <code>X</code>.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_control.ratio">control.ratio</code></td>
<td>
<p>the ratio of control units to sample relative to the treatment units.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_control.sample.size">control.sample.size</code></td>
<td>
<p>the size of each bootstrap sample of control units.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_control.replace">control.replace</code></td>
<td>
<p>whether to use replacement when sampling from control units.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_treated.sample.size">treated.sample.size</code></td>
<td>
<p>the size of each bootstrap sample of treatment units. The
default uses all treatment units for each bootstrap sample.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_treated.replace">treated.replace</code></td>
<td>
<p>whether to use replacement when sampling from treated units.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_methods">methods</code></td>
<td>
<p>a named vector of functions for each PSA method to use.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_parallel">parallel</code></td>
<td>
<p>whether to run the bootstrap samples in parallel.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_seed">seed</code></td>
<td>
<p>random seed. Each iteration, i, will use a seed of <code>seed + i</code>.</p>
</td></tr>
<tr><td><code id="PSAboot_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="Matching.html#topic+Match">Match</a></code> and <code><a href="#topic+psa.strata">psa.strata</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with following elements:
</p>

<dl>
<dt>overall.summary</dt><dd><p>Data frame with the results using the complete
dataset (i.e. unbootstrapped results).</p>
</dd>
<dt>overall.details</dt><dd><p>Objects returned from each method for complete dataset.</p>
</dd>
<dt>pooled.summary</dt><dd><p>Data frame with results of each bootstrap sample.</p>
</dd>
<dt>pooled.details</dt><dd><p>List of objects returned from each method for each 
bootstrap sample.</p>
</dd>
<dt>control.sample.size</dt><dd><p>sample size used for control units.</p>
</dd>
<dt>treated.sample.size</dt><dd><p>sample size used for treated units.</p>
</dd>
<dt>control.replace</dt><dd><p>whether control units were sampled with replacement.</p>
</dd>
<dt>treated.replace</dt><dd><p>whether treated units were sampled with replacement.</p>
</dd>
<dt>Tr</dt><dd><p>vector of treatment assignment.</p>
</dd>
<dt>Y</dt><dd><p>vector out outcome.</p>
</dd>
<dt>X</dt><dd><p>matrix or data frame of covariates.</p>
</dd>
<dt>M</dt><dd><p>number of bootstrap samples.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>getPSAbootMethods
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PSAboot)
data(pisa.psa.cols)
data(pisausa)
bm.usa &lt;- PSAboot(Tr = as.integer(pisausa$PUBPRIV) - 1,
    Y = pisausa$Math,
    X = pisausa[,pisa.psa.cols],
    control.ratio = 5, M = 100, seed = 2112)


</code></pre>

<hr>
<h2 id='q25'>Return the 25th percentile.</h2><span id='topic+q25'></span>

<h3>Description</h3>

<p>Return the 25th percentile.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>q25(x, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="q25_+3A_x">x</code></td>
<td>
<p>numeric vector.</p>
</td></tr>
<tr><td><code id="q25_+3A_na.rm">na.rm</code></td>
<td>
<p>logical; if true, any NA and NaN's are removed from x before the
quantiles are computed</p>
</td></tr>
<tr><td><code id="q25_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="stats.html#topic+quantile">quantile</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the 25th percentile.
</p>

<hr>
<h2 id='q75'>Returns the 75th percentile.</h2><span id='topic+q75'></span>

<h3>Description</h3>

<p>Returns the 75th percentile.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>q75(x, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="q75_+3A_x">x</code></td>
<td>
<p>numeric vector.</p>
</td></tr>
<tr><td><code id="q75_+3A_na.rm">na.rm</code></td>
<td>
<p>logical; if true, any NA and NaN's are removed from x before the
quantiles are computed</p>
</td></tr>
<tr><td><code id="q75_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="stats.html#topic+quantile">quantile</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the 75th percentile.
</p>

<hr>
<h2 id='summary.PSAboot'>Summary of pooled results from PSAboot</h2><span id='topic+summary.PSAboot'></span>

<h3>Description</h3>

<p>Summary of pooled results from PSAboot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PSAboot'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.PSAboot_+3A_object">object</code></td>
<td>
<p>result of <code><a href="#topic+PSAboot">PSAboot</a></code>.</p>
</td></tr>
<tr><td><code id="summary.PSAboot_+3A_...">...</code></td>
<td>
<p>currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with pooled summary statistics.
</p>
<p>a list with the results from easch PSA method. For each method a list
contains the following elements:
</p>

<dl>
<dt>sig.tot.per</dt><dd><p>Percentage of boostrap samples where the confidence interval does not span zero.</p>
</dd>
<dt>boostrap.mean</dt><dd><p>Weighted mean difference across all bootstrap samples.</p>
</dd>
<dt>boostrap.ci</dt><dd><p>Overall confidence interval across all bootstrap samples.</p>
</dd>
<dt>bootstrap.weighted.mean</dt><dd><p>Overall weighted bootstrap mean.</p>
</dd>
<dt>percent.sig</dt><dd><p>Contingency table of the number of bootstrap samples that don't span zero.</p>
</dd>
<dt>complete</dt><dd><p>Results of the summary of the PSA method.</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

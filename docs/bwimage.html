<!DOCTYPE html><html><head><title>Help for package bwimage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bwimage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aggregation_index'><p>Aggregation index calculator</p></a></li>
<li><a href='#altitudinal_profile'><p>Highest black pixel by sections</p></a></li>
<li><a href='#bwimage-package'>
<p>Describe Image Patterns in Natural Structures</p></a></li>
<li><a href='#compress'><p>Compress square to circle</p></a></li>
<li><a href='#denseness_column'><p>Denseness in column sections</p></a></li>
<li><a href='#denseness_row'><p>Denseness in row sections</p></a></li>
<li><a href='#denseness_sample'><p>Denseness in samples</p></a></li>
<li><a href='#denseness_total'><p>Denseness for whole image</p></a></li>
<li><a href='#heigh_maximum'><p>Height of the highest black pixel in the image</p></a></li>
<li><a href='#heigh_propotion'><p>Cumulative denseness for each line</p></a></li>
<li><a href='#heigh_propotion_test'><p>Cumulative denseness test</p></a></li>
<li><a href='#hole_columm'><p>Holes description in columns sections</p></a></li>
<li><a href='#hole_row'><p>Holes description in row sections</p></a></li>
<li><a href='#hole_section'><p>Hole finder</p></a></li>
<li><a href='#hole_section_data'><p>Summary of holes information</p></a></li>
<li><a href='#image_information'><p>Summary of image information</p></a></li>
<li><a href='#light_gap'><p>Light gap</p></a></li>
<li><a href='#plot_samples'><p>Plot samples from denseness_sample</p></a></li>
<li><a href='#stretch'><p>stretch circle to square</p></a></li>
<li><a href='#threshold_color'><p>Image to matrix - Single</p></a></li>
<li><a href='#threshold_image_list'><p>Image to matrix - List</p></a></li>
<li><a href='#topline'><p>Top line</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Describe Image Patterns in Natural Structures</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-04-22</td>
</tr>
<tr>
<td>Author:</td>
<td>Carlos Biagolini-Jr.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carlos Biagolini-Jr.&lt;c.biagolini@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>stats, utils</td>
</tr>
<tr>
<td>Imports:</td>
<td>jpeg, png</td>
</tr>
<tr>
<td>Description:</td>
<td>A computational tool to describe patterns in black and white images from natural structures. 'bwimage' implemented functions for exceptionally broad subject. For instance, 'bwimage' provide examples that range from calculation of canopy openness, description of patterns in vertical vegetation structure, to patterns in bird nest structure.   </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-22 18:47:59 UTC; biago</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-22 20:24:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='aggregation_index'>Aggregation index calculator</h2><span id='topic+aggregation_index'></span>

<h3>Description</h3>

<p>The function aggregation_index calculate the aggregation index. It works for matrix with and without transparent pixel. The aggregation index is a standardized estimation of the average proportion of same-color pixels around each image pixel. First, the proportion of same-color neighboring pixels (SCNP) is calculated (marginal lines and columns are excluded). Next, the SCNP for all pixels are averaged; then, given the proportion of black and white pixels, number of pixels in height and width, and location of transparent pixels (when present), the maximum and minimum possible aggregation indexes are calculated. Finally, the observed aggregation is standardized to a scale where the minimum possible value is set at zero and the maximum value is set at one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregation_index(imagematrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregation_index_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>adjusted_aggregation</code></td>
<td>
<p>Standardized aggregation.</p>
</td></tr>
<tr><td><code>non_adjusted_aggregation</code></td>
<td>
<p>Observed aggregation.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
# Using aggregation_index to estimate vegetation agregation
bush&lt;-system.file("extdata/bush.JPG", package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush, "jpeg", "proportional", compress_rate = 0.1)
aggregation_index(bush_imagematrix)

# Using aggregation_index to estimate aggregation of nest wall holes
nestwall&lt;-system.file("extdata/bird_nestwall.png", package ="bwimage")
nestwall_imagematrix&lt;-threshold_color(nestwall, "png", "width_fixed", target_width=300)
aggregation_index(nestwall_imagematrix)
</code></pre>

<hr>
<h2 id='altitudinal_profile'>Highest black pixel by sections</h2><span id='topic+altitudinal_profile'></span>

<h3>Description</h3>

<p>Break the original matrix in a number of section ( n_sections), then find the higher black pixel in each image section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>altitudinal_profile(imagematrix, n_sections, height_size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="altitudinal_profile_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="altitudinal_profile_+3A_n_sections">n_sections</code></td>
<td>
<p>Break the image in this number of columns.</p>
</td></tr>
<tr><td><code id="altitudinal_profile_+3A_height_size">height_size</code></td>
<td>
<p>Real size of image height (in mm, cm, m, etc..).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Mean</code></td>
<td>
<p>Height mean of the highest black pixel in sections.</p>
</td></tr>
<tr><td><code>SD</code></td>
<td>
<p>Standard deviations of the highest black pixel in sections.</p>
</td></tr>
<tr><td><code>Size</code></td>
<td>
<p>Height of the highest black pixel in sections.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Profile  of  highest black pixels on sections of the bush image matrix
altitudinal_profile(bush_imagematrix,n_sections = 10, height_size=100)
# Conclusions:
# i)  the mean height of the highest black pixel is 45.28 cm.
# ii) standard deviation of highest black height is 21.54.
</code></pre>

<hr>
<h2 id='bwimage-package'>
Describe Image Patterns in Natural Structures
</h2><span id='topic+bwimage-package'></span><span id='topic+bwimage'></span>

<h3>Description</h3>

<p>A computational tool to describe patterns in black and white images from natural structures. 'bwimage' implemented functions for exceptionally broad subject. For instance, 'bwimage' provide examples that range from calculation of canopy openness, description of patterns in vertical vegetation structure, to patterns in bird nest structure.   
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> bwimage</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Describe Image Patterns in Natural Structures</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2020-04-22</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Carlos Biagolini-Jr.</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Carlos Biagolini-Jr.&lt;c.biagolini@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> stats, utils</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> jpeg, png</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> A computational tool to describe patterns in black and white images from natural structures. 'bwimage' implemented functions for exceptionally broad subject. For instance, 'bwimage' provide examples that range from calculation of canopy openness, description of patterns in vertical vegetation structure, to patterns in bird nest structure.   </td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
aggregation_index       Aggregation index calculator
altitudinal_profile     Highest black pixel by sections
bwimage-package         Describe Image Patterns in Natural Structures
compress                Compress square to circle
denseness_column        Denseness in column sections
denseness_row           Denseness in row sections
denseness_sample        Denseness in samples
denseness_total         Denseness for whole image
heigh_maximum           Height of the highest black pixel in the image
heigh_propotion         Cumulative denseness for each line
heigh_propotion_test    Cumulative denseness test
hole_columm             Holes description in columns sections
hole_row                Holes description in row sections
hole_section            Hole finder
hole_section_data       Summary of holes information
image_information       Summary of image information
light_gap               Light gap
plot_samples            Plot samples from denseness_sample
stretch                 stretch circle to square
threshold_color         Image to matrix - Single
threshold_image_list    Image to matrix - List
topline                 Top line
</pre>
<p>A computational tool to describe patterns in black and white images from natural structures.
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>
<p>Maintainer: Carlos Biagolini-Jr.&lt;c.biagolini@gmail.com&gt;
</p>


<h3>References</h3>

<p>Biagolini-Jr C, Macedo RH (2019) bwimage: A package to describe image patterns in natural structures. F1000Research 8
Lambers M (2016) Mappings between sphere, disc, and square. Journal of Computer Graphics Techniques Vol 5:1-21
Nobis M, Hunziker U (2005) Automatic thresholding for hemispherical canopy-photographs based on edge detection. Agricultural and forest meteorology 128:243-250
Shirley P, Chiu K (1997) A low distortion map between disk and square. Journal of graphics tools 2:45-52
Zehm A, Nobis M, Schwabe A (2003) Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants 198:142-160
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bush&lt;-system.file("extdata/bush.JPG", package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush, "jpeg", "proportional",compress_rate = 0.1)
aggregation_index(bush_imagematrix)
</code></pre>

<hr>
<h2 id='compress'>Compress square to circle</h2><span id='topic+compress'></span>

<h3>Description</h3>

<p>Compress data from square image to circular in binary matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compress(imagematrix, method = "radial", background = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compress_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be compressed.</p>
</td></tr>
<tr><td><code id="compress_+3A_method">method</code></td>
<td>
<p>Compress algorithm. Four algorithms (radial, shirley, squircle, and elliptical) are available to stretch the image. The algorithms were adapted from Lambers 2016.</p>
</td></tr>
<tr><td><code id="compress_+3A_background">background</code></td>
<td>
<p>Code for background cell value. When compressing a squared matrix, corners of the transformed matrix will no have corresponding pixel from original matrix. Thus, the background value will be the value of transformed matrix corners.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of 0, 1 and NA representing white, black and transparent pixels, respectively.
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Lambers 2016 Mappings between Sphere, Disc, and Square. Journal of Computer Graphics Techniques, 5(2): 1-21.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>img_location &lt;- system.file("extdata/chesstable.png",package ="bwimage")
image_matrix&lt;- threshold_color(img_location,"png", "frame_fixed",target_width = 50,target_height=50)
compress(image_matrix,method="radial")
</code></pre>

<hr>
<h2 id='denseness_column'>Denseness in column sections</h2><span id='topic+denseness_column'></span>

<h3>Description</h3>

<p>Calculate the denseness (proportion of black pixel in relation to the total number of pixels) for a given number of sections (n_sections). n_sections should be set as a number, in this situation denseness_column will break the original matrix in slices, and apply denseness_total function for each section. For instance, in a matrix of 1000x1000 if n_sections = 10, it will break to 10 sections of 1000x100 and analyze it. In other words, the sections will be the following sections of the original matrix [1:1000, 1:100] ,[ 1:1000,101:200] ,[ 1:1000,201:300] ,[ 1:1000,301:400] ,[ 1:1000,401:500] ,[ 1:1000,501:600] ,[ 1:1000,601:700] ,[ 1:1000,701:800] ,[ 1:1000,801:900] ,[ 1:1000,901:1000]. The default for parameter n_sections is &quot;all&quot;, it will calculate denseness for each column of pixel. In other words, it will break the image in a number of section equal to the image pixel width.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>denseness_column(imagematrix, n_sections = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="denseness_column_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="denseness_column_+3A_n_sections">n_sections</code></td>
<td>
<p>Break the image in this number of columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Denseness</code></td>
<td>
<p>Denseness of each column section.</p>
</td></tr>
<tr><td><code>Mean</code></td>
<td>
<p>Mean of column sections denseness.</p>
</td></tr>
<tr><td><code>SD</code></td>
<td>
<p>standard deviations of column sections denseness.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>denseness_total threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Calculate vegetation denseness in 20 column sections
denseness_column(bush_imagematrix,20)
</code></pre>

<hr>
<h2 id='denseness_row'>Denseness in row sections</h2><span id='topic+denseness_row'></span>

<h3>Description</h3>

<p>Calculate the denseness (proportion of black pixel in relation to the total number of pixels) for a given number of sections (n_sections). n_sections should be set as a number, in this situation denseness_row will break the original matrix in slices, and apply denseness_total function for each section. For instance, in a matrix of 1000x1000 if n_sections = 10, it will break to 10 sections of 100x1000 and analyze it. In other words, the sections will be the following sections of the original matrix [1:100, 1:1000] , [101:200, 1:1000] , [201:300, 1:1000] ,  [301:400, 1:1000] , [401:500, 1:1000] , [501:600, 1:1000] , [601:700, 1:1000] , [701:800, 1:1000] , [801:900, 1:1000] , [901:1000, 1:1000] .The default for parameter n_sections is &quot;all&quot;, it will calculate denseness for each row of pixel. In other words, it will break the image in a number of section equal to the image pixel height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>denseness_row(imagematrix, n_sections = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="denseness_row_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="denseness_row_+3A_n_sections">n_sections</code></td>
<td>
<p>Break the image in this number of rows.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Denseness</code></td>
<td>
<p>Denseness of each row section.</p>
</td></tr>
<tr><td><code>Mean</code></td>
<td>
<p>Mean of row sections denseness.</p>
</td></tr>
<tr><td><code>SD</code></td>
<td>
<p>standard deviations of row sections denseness.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>denseness_total threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg", "proportional",compress_rate = 0.1)

# Calculate vegetation denseness in 20 row sections
denseness_row(bush_imagematrix, n_sections = 20)
</code></pre>

<hr>
<h2 id='denseness_sample'>Denseness in samples</h2><span id='topic+denseness_sample'></span>

<h3>Description</h3>

<p>Calculate the denseness (proportion of black pixel in relation to the total number of pixels) for a given number of samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>denseness_sample(imagematrix, width_size, height_size, sample_width,
  sample_height, method = "random", sample_shape = "rectangle",
  n_samples = 10, n_sample_horizontal = 10, n_sample_vertical = 1,
  proportion_horizontal = 1, proportion_vertical = 1,
  aligin_horizontal = "center", aligin_vertical = "bottom")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="denseness_sample_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_width_size">width_size</code></td>
<td>
<p>Real size of image width (in mm, cm, m, etc..).</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_height_size">height_size</code></td>
<td>
<p>Real size of image height (in mm, cm, m, etc..).</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_sample_width">sample_width</code></td>
<td>
<p>Width of sample area.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_sample_height">sample_height</code></td>
<td>
<p>Height of sample area.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_method">method</code></td>
<td>
<p>Method for sample (&quot;random&quot; or &quot;uniform&quot;).</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_sample_shape">sample_shape</code></td>
<td>
<p>The shape of sample unity (&quot;rectangle&quot; or &quot;ellipse&quot;). See plot_samples function.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_n_samples">n_samples</code></td>
<td>
<p>Defines the number of samples, when sample_shape=&quot;random&quot;.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_n_sample_horizontal">n_sample_horizontal</code></td>
<td>
<p>Defines the number of samples column, when sample_shape=&quot; uniform&quot;.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_n_sample_vertical">n_sample_vertical</code></td>
<td>
<p>Defines the number of samples lines, when sample_shape=&quot; uniform&quot;.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_proportion_horizontal">proportion_horizontal</code></td>
<td>
<p>Range from 0 to 1. Represent the proportion of horizontal plane to be sample.  If proportion_horizontal=1 (default) all columns beacome potentially sample.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_proportion_vertical">proportion_vertical</code></td>
<td>
<p>Range from 0 to 1. Represent the proportion of vertical plane to be sample.  If proportion_vertical=1 (default) all lines become potentially sample.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_aligin_horizontal">aligin_horizontal</code></td>
<td>
<p>Define horizontal align.  Three options are available: &quot;center&quot;, &quot;left&quot; or &quot;right&quot;.</p>
</td></tr>
<tr><td><code id="denseness_sample_+3A_aligin_vertical">aligin_vertical</code></td>
<td>
<p>Define vertical align.  Three options are available: &quot;middle&quot;,&quot;bottom&quot; or &quot;top&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Sample_denseness</code></td>
<td>
<p>Proportion of black pixels in samples. It do not take into account transparent pixels (when present)..</p>
</td></tr>
<tr><td><code>Height</code></td>
<td>
<p>Height of each sample (in mm, cm, m, etc. ..). Central point used as reference.</p>
</td></tr>
<tr><td><code>Distance(left)</code></td>
<td>
<p>Distance ti the left side of each sample (in mm, cm, m, etc. ..). Central point used as reference.</p>
</td></tr>
<tr><td><code>Matrix(line)</code></td>
<td>
<p>Imagem matrix  line coordinates.</p>
</td></tr>
<tr><td><code>Matrix(column)</code></td>
<td>
<p>Imagem matrix column coordinates.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>See Also</h3>

<p>plot_samples
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get a matrix from your image. Here  examples provided by bwimage package.

bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush&lt;-threshold_color(bush,  "jpeg", "proportional",compress_rate = 0.1)
denseness_sample(bush, width_size=100, height_size=100, sample_width=5, sample_height=5)
</code></pre>

<hr>
<h2 id='denseness_total'>Denseness for whole image</h2><span id='topic+denseness_total'></span>

<h3>Description</h3>

<p>Proportion of black pixels in relation to all pixels. It do not take into account transparent pixels (when present).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>denseness_total(imagematrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="denseness_total_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Proportion of black pixels in relation to all pixels. It do not take into account transparent pixels (when present).
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get a matrix from your image. Here  examples provided by bwimage package.

# I) Calculate vegetation denseness
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg", "proportional",compress_rate = 0.1)
denseness_total(bush_imagematrix)

# II) Calculate canopy openness
# Convert image into binary matrix
canopy&lt;-system.file("extdata/canopy.JPG",package ="bwimage")
canopy_matrix&lt;-threshold_color(canopy,"jpeg", compress_method="proportional",compress_rate=0.1)
1-denseness_total(canopy_matrix) # canopy openness
</code></pre>

<hr>
<h2 id='heigh_maximum'>Height of the highest black pixel in the image</h2><span id='topic+heigh_maximum'></span>

<h3>Description</h3>

<p>Find the higher black pixel in the whole image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heigh_maximum(imagematrix, height_size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heigh_maximum_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="heigh_maximum_+3A_height_size">height_size</code></td>
<td>
<p>Real size of image width (in mm, cm, m, etc..).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Height of the highest black pixel. It is scaleted for the real size (in mm, cm, m, etc..) based in the information from argument height_size.
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Calculate height of the highest black pixel in the bush image matrix
heigh_maximum(bush_imagematrix,height_size=100)
# Conclusions: The highest vegetation unit ,i.e. highest black pixel, is 84.4 cm above ground.
</code></pre>

<hr>
<h2 id='heigh_propotion'>Cumulative denseness for each line</h2><span id='topic+heigh_propotion'></span>

<h3>Description</h3>

<p>Proportion of black pixel below each matrix line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heigh_propotion(imagematrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heigh_propotion_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Proportion of black pixel below each matrix line.
heigh_propotion(bush_imagematrix)
</code></pre>

<hr>
<h2 id='heigh_propotion_test'>Cumulative denseness test</h2><span id='topic+heigh_propotion_test'></span>

<h3>Description</h3>

<p>Find the height which a given proportion of black pixel is found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heigh_propotion_test(imagematrix, proportion, height_size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heigh_propotion_test_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="heigh_propotion_test_+3A_proportion">proportion</code></td>
<td>
<p>Proportion of denseness to test.</p>
</td></tr>
<tr><td><code id="heigh_propotion_test_+3A_height_size">height_size</code></td>
<td>
<p>Real size of image height (in mm, cm, m, etc..).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# See the proportion of black pixels (1) below each bush image matrix row
heigh_propotion_test(bush_imagematrix,0.75,100)
# Conclusion: in this imagem, 75 percent of the vegetation is hold below 31.2 cm.
</code></pre>

<hr>
<h2 id='hole_columm'>Holes description in columns sections</h2><span id='topic+hole_columm'></span>

<h3>Description</h3>

<p>Summary information of holes in a given number of columns (n_sections). n_sections must be set as a number, in this situation hole_columm will sample columns, and apply hole_section_data function for each section. Next, all results will be display on hole_columm output. Example of how column sample works: in a matrix of 250x250 if n_sections =  5 , it will sample columns 1,51,101,151, and 201 and analyze it. In other words, the sections will be following sections of the original matrix [1:250,1] , [1:250,51], [1:250,101], [1:250,151], [1:250,201]. The default for parameter n_sections is &quot;all&quot;, it will calculate hole_section_data for each column of pixel. In other words, it will break the image in a number of section equal to the image pixel width.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hole_columm(imagematrix, color = 0, n_sections = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hole_columm_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="hole_columm_+3A_color">color</code></td>
<td>
<p>Color of the hole (0 or 1).</p>
</td></tr>
<tr><td><code id="hole_columm_+3A_n_sections">n_sections</code></td>
<td>
<p>Sample this number of columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>N</code></td>
<td>
<p>Number of sections.</p>
</td></tr>
<tr><td><code>Mean</code></td>
<td>
<p>Mean sections size.</p>
</td></tr>
<tr><td><code>SD</code></td>
<td>
<p>standard deviations of sections size.</p>
</td></tr>
<tr><td><code>Min</code></td>
<td>
<p>Minimum sections size sections size.</p>
</td></tr>
<tr><td><code>Max</code></td>
<td>
<p>Maximum sections size.</p>
</td></tr>
<tr><td><code>LH</code></td>
<td>
<p>Stratum with largest hole count.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>hole_section_data threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Information of white (i.e. 0s in matrix) holes in 5 columns uniformly sample among matrix.
hole_columm(bush_imagematrix, n_sections=5 )

# Information of black (i.e. 1s in matrix) holes in 20 columns uniformly sample among matrix.
hole_columm(bush_imagematrix, n_sections=20 )
</code></pre>

<hr>
<h2 id='hole_row'>Holes description in row sections</h2><span id='topic+hole_row'></span>

<h3>Description</h3>

<p>Summary information of holes in a given number of rows (n_sections). n_sections must be set as a number, in this situation hole_row will sample rows, and apply hole_section_data function for each section. Next, all results will be display on hole_columm output. Example of how row sample works: in a matrix of 250x250 if n_sections =  5 , it will sample rows 1,51,101,151, and 201 and analyze it. In other words, the sections will be following sections of the original matrix [1,1:250] , [51,1:250] , [101,1:250] , [151,1:250] , [201,1:250]. The default for parameter n_sections is &quot;all&quot;, it will calculate hole_section_data for each row of pixel. In other words, it will break the image in a number of section equal to the image pixel height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hole_row(imagematrix, color = 0, n_sections = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hole_row_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="hole_row_+3A_color">color</code></td>
<td>
<p>Color of the hole (0 or 1).</p>
</td></tr>
<tr><td><code id="hole_row_+3A_n_sections">n_sections</code></td>
<td>
<p>Sample this number of rows.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>N</code></td>
<td>
<p>Number of sections.</p>
</td></tr>
<tr><td><code>Mean</code></td>
<td>
<p>Mean sections size.</p>
</td></tr>
<tr><td><code>SD</code></td>
<td>
<p>standard deviations of sections size.</p>
</td></tr>
<tr><td><code>Min</code></td>
<td>
<p>Minimum sections size sections size.</p>
</td></tr>
<tr><td><code>Max</code></td>
<td>
<p>Maximum sections size.</p>
</td></tr>
<tr><td><code>LH</code></td>
<td>
<p>Stratum with largest hole count.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>See Also</h3>

<p>hole_section_data threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Information of white (i.e. 0s in matrix) holes in 10 rows uniformly sample among matrix.
hole_row(bush_imagematrix, n_sections=10)

# Information of black (i.e. 1s in matrix) holes in 15 rows uniformly sample among matrix.
hole_row(bush_imagematrix, n_sections=15)
</code></pre>

<hr>
<h2 id='hole_section'>Hole finder</h2><span id='topic+hole_section'></span>

<h3>Description</h3>

<p>Description of when a sequence of  same color pixel start and end.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hole_section(section)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hole_section_+3A_section">section</code></td>
<td>
<p>Section to be analysed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Description of start and end of each same color sequence
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>hole_section_data threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Find pixel hole sections in the column 200 of bush image
hole_section(bush_imagematrix[,200])

# Find pixel hole sections in the row 250 of bush image
hole_section(bush_imagematrix[250,])
</code></pre>

<hr>
<h2 id='hole_section_data'>Summary of holes information</h2><span id='topic+hole_section_data'></span>

<h3>Description</h3>

<p>Summary information of holes of a given color in a given section. Result unit is the number of cell.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hole_section_data(section, color = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hole_section_data_+3A_section">section</code></td>
<td>
<p>Section to be analysed.</p>
</td></tr>
<tr><td><code id="hole_section_data_+3A_color">color</code></td>
<td>
<p>Color of the hole (0 or 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>N</code></td>
<td>
<p>Number of hole sections</p>
</td></tr>
<tr><td><code>Mean</code></td>
<td>
<p>Mean size of hole sections</p>
</td></tr>
<tr><td><code>SD</code></td>
<td>
<p>Standard deviation of hole sections size</p>
</td></tr>
<tr><td><code>Min</code></td>
<td>
<p>Minimum size of hole sections</p>
</td></tr>
<tr><td><code>Max</code></td>
<td>
<p>Maximum size of hole sections</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>hole_section threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Detail information of white (0) holes sections in the column 200 of bush image
hole_section_data(bush_imagematrix[,200], color = 0)

# Detail information of black (1) holes sections in the row 250 of bush image
hole_section_data(bush_imagematrix[250,], color = 1)
</code></pre>

<hr>
<h2 id='image_information'>Summary of image information</h2><span id='topic+image_information'></span>

<h3>Description</h3>

<p>Provide the information of: number of black, white and transparent pixels, total number of pixels, height and width size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>image_information(imagematrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="image_information_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Black</code></td>
<td>
<p>Number of black pixels</p>
</td></tr>
<tr><td><code>White</code></td>
<td>
<p>Number of white pixels</p>
</td></tr>
<tr><td><code>Transparent</code></td>
<td>
<p>Number of transparent pixels</p>
</td></tr>
<tr><td><code>Total</code></td>
<td>
<p>Total number of pixels</p>
</td></tr>
<tr><td><code>Height</code></td>
<td>
<p>Size in height</p>
</td></tr>
<tr><td><code>Width</code></td>
<td>
<p>Size in width</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg", "proportional",compress_rate = 0.1)
image_information(bush_imagematrix)
</code></pre>

<hr>
<h2 id='light_gap'>Light gap</h2><span id='topic+light_gap'></span>

<h3>Description</h3>

<p>Left and right distances from first black pixel to image edge.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>light_gap(imagematrix, width_size = NA, scale = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="light_gap_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed</p>
</td></tr>
<tr><td><code id="light_gap_+3A_width_size">width_size</code></td>
<td>
<p>Real size of image width (in mm, cm, m, etc..).</p>
</td></tr>
<tr><td><code id="light_gap_+3A_scale">scale</code></td>
<td>
<p>If FALSE do not ajust the output for real size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Distances without black pixel in each side of the picture
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush,  "jpeg",  "proportional", compress_rate = 0.1)

# Calculate vegetation Light gap in the bush image matrix
light_gap(bush_imagematrix,width_size=100)
# Conclusion: there is no light gap on both sides of bush image.
</code></pre>

<hr>
<h2 id='plot_samples'>Plot samples from denseness_sample</h2><span id='topic+plot_samples'></span>

<h3>Description</h3>

<p>Plot samples from denseness_sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_samples(imagematrix, central_lines, central_collumns, width_size,
  height_size, sample_width, sample_height, sample_shape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_samples_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_central_lines">central_lines</code></td>
<td>
<p>Lines data (i.e. &quot;Matrix(line)&quot;) provided by denseness_sample</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_central_collumns">central_collumns</code></td>
<td>
<p>Collumns data (i.e. &quot;Matrix(column)&quot;) provided by denseness_sample</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_width_size">width_size</code></td>
<td>
<p>Real size of image width (in mm, cm, m, etc..).</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_height_size">height_size</code></td>
<td>
<p>Real size of image height (in mm, cm, m, etc..).</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_sample_width">sample_width</code></td>
<td>
<p>Width of sample area.</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_sample_height">sample_height</code></td>
<td>
<p>Height of sample area.</p>
</td></tr>
<tr><td><code id="plot_samples_+3A_sample_shape">sample_shape</code></td>
<td>
<p>Inform the shape of sample unity used (&quot;rectangle&quot; or &quot;ellipse&quot;). See denseness_sample function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot of the analysed matrix (black and white) and sample locations (red).
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>See Also</h3>

<p>denseness_sample
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get a matrix from your image. Here  examples provided by bwimage package.

bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush&lt;-threshold_color(bush,  "jpeg", "proportional",compress_rate = 0.1)
a&lt;-denseness_sample(bush, width_size=100, height_size=100, sample_width=5, sample_height=5)
plot_samples(bush, a[,4],a[,5], 100,100, 5, 5,"rectangle")
</code></pre>

<hr>
<h2 id='stretch'>stretch circle to square</h2><span id='topic+stretch'></span>

<h3>Description</h3>

<p>Stretch data from circular image to square in binary matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stretch(imagematrix, method = "radial")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stretch_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be stretched.</p>
</td></tr>
<tr><td><code id="stretch_+3A_method">method</code></td>
<td>
<p>Stretch algorithm. Four algorithms (radial, shirley, squircle, and elliptical) are available to stretch the image. The algorithms were adapted from Lambers 2016.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of 0, 1 and NA representing white, black and transparent pixels, respectively.
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Lambers 2016 Mappings between Sphere, Disc, and Square. Journal of Computer Graphics Techniques, 5(2): 1-21.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>img_location &lt;- system.file("extdata/chesstable.png",package ="bwimage")
image_matrix&lt;- threshold_color(img_location,"png", "frame_fixed",target_width = 50,target_height=50)
stretch(image_matrix,method="radial")
</code></pre>

<hr>
<h2 id='threshold_color'>Image to matrix - Single</h2><span id='topic+threshold_color'></span>

<h3>Description</h3>

<p>Convert a single image into a matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threshold_color(filename, filetype = "jpeg", compress_method = "none",
  compress_rate = 1, target_width = 100, target_height = 100,
  threshold_value = 0.5, transparency_regulation = 0.5,
  channel = "rgb")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="threshold_color_+3A_filename">filename</code></td>
<td>
<p>Name of the file to be load - ex: &quot;Figure01.JPG&quot;.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_filetype">filetype</code></td>
<td>
<p>Type of the file to be load. Compatible file types: &quot;.JPGE&quot;, &quot;.JPG&quot; or &quot;.PNG&quot;.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_compress_method">compress_method</code></td>
<td>
<p>For high resolution files, i.e. numbers of pixels in width and height, it is suggested to reduce the resolution to create a smaller matrix,
it strongly reduce GPU usage and time necessary to run analyses. On the other hand, by reducing resolution, it will also reduce the accuracy of data description.
The available methods for image reduction are: i) frame_fixed, which resamples images to a desired target width and height;
ii) proportional, which resamples the image by a given ratio provided in the argument &quot;proportion&quot;;
iii) width_fixed, which resamples images to a target width, and also reduces the image height by the same factor. For instance, if the original file had 1000 pixels in width,
and the new width_was set to 100, height will be reduced by a factor of 0.1 (100/1000); and iv) height_fixed, analogous to width_fixed, but assumes height as reference.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_compress_rate">compress_rate</code></td>
<td>
<p>Compress rate to by apply if compress_method=proportional. Note:  it should be ser as number range from 0 to 1 .</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_target_width">target_width</code></td>
<td>
<p>Target width to be used if compress_method=frame_fixed or compress_method= width_fixed.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_target_height">target_height</code></td>
<td>
<p>Target height to be used if compress_method=frame_fixed or compress_method= height_fixed.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_threshold_value">threshold_value</code></td>
<td>
<p>For each pixel, the intensity of color channels (red, green and blue) are averaged and compared to a threshold_value (threshold).
If the average intensity is less than the threshold_value (default is 0.5) the pixel will be set as black, otherwise it will be white. See channel argument.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_transparency_regulation">transparency_regulation</code></td>
<td>
<p>For PNG images, the alpha channel is used to set transparent pixels, i.e. alpha channel values above transparency_regulation (a threshold)
will set the pixel as transparent, default is 0.5.  NOTE: In the data matrix the value 1 represents black pixels, 0 represents white pixels and NA represents transparent pixels.</p>
</td></tr>
<tr><td><code id="threshold_color_+3A_channel">channel</code></td>
<td>
<p>RGB channel to be considered in threshold. If channel=RGB (default), the intensity of red, green and blue is averaged and compared to threshold_value.
If the average intensity is less than the threshold_value (default is 50
If only one channel is defined (&quot;R&quot; for red, &quot;G&quot; for green, and &quot;B&quot; for blue), the average intensity selected channel compared direct to the threshold_value value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of 0, 1 and NA representing white, black and transparent pixels, respectively.
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
threshold_color(bush,"jpeg", "frame_fixed",target_width = 15,target_height=15)

# For your images, if the file is in the working directory type:
# threshold_color("FILE_NAME.EXTENSION", filetype ="FILE_EXTENSION")
# or, if the file is in the other directory:
# threshold_color("C:/PATH TO FILE FOLDER/YOUR_FILE_NAME.EXTENSION", "FILE_EXTENSION")
</code></pre>

<hr>
<h2 id='threshold_image_list'>Image to matrix - List</h2><span id='topic+threshold_image_list'></span>

<h3>Description</h3>

<p>Convert two or more images into a list of matrices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threshold_image_list(list_names, filetype = "jpeg",
  compress_method = "none", compress_rate = 1, target_width = 100,
  target_height = 100, threshold_value = 0.5,
  transparency_regulation = 0.5, channel = "rgb")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="threshold_image_list_+3A_list_names">list_names</code></td>
<td>
<p>An object contains the names of the files.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_filetype">filetype</code></td>
<td>
<p>Type of the file to be load. Compatible file types: &quot;.JPGE&quot;, &quot;.JPG&quot; or &quot;.PNG&quot;.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_compress_method">compress_method</code></td>
<td>
<p>For high resolution files, i.e. numbers of pixels in width and height, it is suggested to reduce the resolution to create a smaller matrix,
it strongly reduce GPU usage and time necessary to run analyses. On the other hand, by reducing resolution, it will also reduce the accuracy of data description.
The available methods for image reduction are: i) frame_fixed, which resamples images to a desired target width and height;
ii) proportional, which resamples the image by a given ratio provided in the argument &quot;proportion&quot;;
iii) width_fixed, which resamples images to a target width, and also reduces the image height by the same factor. For instance, if the original file had 1000 pixels in width,
and the new width_was set to 100, height will be reduced by a factor of 0.1 (100/1000); and iv) height_fixed, analogous to width_fixed, but assumes height as reference.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_compress_rate">compress_rate</code></td>
<td>
<p>Compress rate to by apply if compress_method=proportional. Note:  it should be ser as number range from 0 to 1 .</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_target_width">target_width</code></td>
<td>
<p>Target width to be used if compress_method=frame_fixed or compress_method= width_fixed.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_target_height">target_height</code></td>
<td>
<p>Target height to be used if compress_method=frame_fixed or compress_method= height_fixed.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_threshold_value">threshold_value</code></td>
<td>
<p>For each pixel, the intensity of color channels (red, green and blue) are averaged and compared to a threshold_value (threshold).
If the average intensity is less than the threshold_value (default is 0.5) the pixel will be set as black, otherwise it will be white. See channel argument.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_transparency_regulation">transparency_regulation</code></td>
<td>
<p>For PNG images, the alpha channel is used to set transparent pixels, i.e. alpha channel values above transparency_regulation (a threshold)
will set the pixel as transparent, default is 0.5.  NOTE: In the data matrix the value 1 represents black pixels, 0 represents white pixels and NA represents transparent pixels.</p>
</td></tr>
<tr><td><code id="threshold_image_list_+3A_channel">channel</code></td>
<td>
<p>RGB channel to be considered in threshold. If channel=RGB (default), the intensity of red, green and blue is averaged and compared to threshold_value.
If the average intensity is less than the threshold_value (default is 50
If only one channel is defined (&quot;R&quot; for red, &quot;G&quot; for green, and &quot;B&quot; for blue), the average intensity selected channel compared direct to the threshold_value value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of 0, 1 and NA representing white, black and transparent pixels, respectively.
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Image examples provided by bwimage package
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
canopy&lt;-system.file("extdata/canopy.JPG",package ="bwimage")

# Convert images to a list of matrices
working_matrices&lt;-threshold_image_list(c(bush,canopy), "jpeg", "proportional", compress_rate = 0.1)
</code></pre>

<hr>
<h2 id='topline'>Top line</h2><span id='topic+topline'></span>

<h3>Description</h3>

<p>Line running along the crest of highest black pixel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topline(imagematrix, height_size = NA, width_size = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topline_+3A_imagematrix">imagematrix</code></td>
<td>
<p>The matrix to be analysed.</p>
</td></tr>
<tr><td><code id="topline_+3A_height_size">height_size</code></td>
<td>
<p>Real size of image height (in mm, cm, m, etc..).</p>
</td></tr>
<tr><td><code id="topline_+3A_width_size">width_size</code></td>
<td>
<p>Real size of image width (in mm, cm, m, etc..).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Top line size that cover black pixels
</p>


<h3>Author(s)</h3>

<p>Carlos Biagolini-Jr.
</p>


<h3>References</h3>

<p>Zehm et al 2003 Multiparameter analysis of vertical vegetation structure based on digital image processing. Flora-Morphology, Distribution, Functional Ecology of Plants, 198: 142-160.
</p>


<h3>See Also</h3>

<p>threshold_color
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First, get a matrix from your image. Here an example of a bush image is used.
bush&lt;-system.file("extdata/bush.JPG",package ="bwimage")
bush_imagematrix&lt;-threshold_color(bush, "jpeg", "proportional", compress_rate = 0.1)

# See the proportion of black pixels (1) below each bush image matrix row
topline(bush_imagematrix,100,100)
# Conclusion: topline size is 785.6 cm.
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

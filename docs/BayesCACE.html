<!DOCTYPE html><html><head><title>Help for package BayesCACE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BayesCACE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cace.meta.c'><p>Bayesian hierarchical models for CACE meta-analysis with complete compliance data</p></a></li>
<li><a href='#cace.meta.ic'><p>Bayesian hierarchical models for CACE meta-analysis with incomplete compliance information</p></a></li>
<li><a href='#cace.study'><p>CACE analysis for a single study, or a two-step approach for meta-analysis</p>
with complete complice information</a></li>
<li><a href='#coda.names'><p>Get names of node array</p></a></li>
<li><a href='#coda.samples.dic'><p>Generate posterior samples in mcmc.list format</p></a></li>
<li><a href='#epidural_c'><p>Meta-analysis data with full compliance information</p></a></li>
<li><a href='#epidural_ic'><p>Meta-analysis data without full compliance information</p></a></li>
<li><a href='#model.meta.c'><p>Bayesian hierarchical model code for CACE meta-analysis with complete compliance data</p></a></li>
<li><a href='#model.meta.ic'><p>Bayesian hierarchical model code for CACE meta-analysis with complete compliance data</p></a></li>
<li><a href='#model.study'><p>Model code of CACE analysis for a single study, or a two-step approach for meta-analysis</p>
with complete complice information</a></li>
<li><a href='#parse.varname'><p>Parse strings of specific form</p></a></li>
<li><a href='#plt.acf'><p>this plot function creates an acf plot</p></a></li>
<li><a href='#plt.density'><p>this plot function creates a density plot</p></a></li>
<li><a href='#plt.forest'><p>this plot function makes a forest plot.</p></a></li>
<li><a href='#plt.noncomp'><p>Plotting noncompliance rates for a given dataset</p></a></li>
<li><a href='#plt.trace'><p>this plot function creates a traceplot</p></a></li>
<li><a href='#prior.meta'><p>The function returns a custom string that specifies part of the model.</p></a></li>
<li><a href='#prior.study'><p>The function returns a custom string that specifies part of the model (single-study).</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Model for CACE Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-10-1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), rjags (&ge; 4-6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda, Rdpack, grDevices, forestplot, metafor, lme4, methods</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>JAGS 4.x.y (http://mcmc-jags.sourceforge.net)</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs CACE (Complier Average Causal Effect analysis) on either a single study or meta-analysis of datasets with binary outcomes, using either complete or incomplete noncompliance information. Our package implements the Bayesian methods proposed in Zhou et al. (2019) &lt;<a href="https://doi.org/10.1111%2Fbiom.13028">doi:10.1111/biom.13028</a>&gt;, which introduces a Bayesian hierarchical model for estimating CACE in meta-analysis of clinical trials with noncompliance, and Zhou et al. (2021) &lt;<a href="https://doi.org/10.1080%2F01621459.2021.1900859">doi:10.1080/01621459.2021.1900859</a>&gt;, with an application example on Epidural Analgesia.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>R.rsp</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>R.rsp</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-02 04:02:15 UTC; james</td>
</tr>
<tr>
<td>Author:</td>
<td>Jinhui Yang <a href="https://orcid.org/0000-0001-8322-1121"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Jincheng Zhou <a href="https://orcid.org/0000-0003-2641-2495"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  James Hodges [ctb],
  Haitao Chu <a href="https://orcid.org/0000-0003-0932-598X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jinhui Yang &lt;james.yangjinhui@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-02 15:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cace.meta.c'>Bayesian hierarchical models for CACE meta-analysis with complete compliance data</h2><span id='topic+cace.meta.c'></span>

<h3>Description</h3>

<p>This function performs the Bayesian hierarchical model method for meta-analysis 
when the dataset has complete compliance information for all studies, 
as described in Section 2.2, &quot;the Bayesian hierarchical model&quot;, of the package manuscript.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cace.meta.c(
  data,
  param = c("CACE", "u1out", "v1out", "s1out", "b1out", "pic", "pin", "pia"),
  random.effects = list(),
  re.values = list(),
  model.code = "",
  digits = 3,
  n.adapt = 1000,
  n.iter = 1e+05,
  n.burnin = floor(n.iter/2),
  n.chains = 3,
  n.thin = max(1, floor((n.iter - n.burnin)/1e+05)),
  conv.diag = FALSE,
  mcmc.samples = FALSE,
  study.specific = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cace.meta.c_+3A_data">data</code></td>
<td>
<p>an input dataset with the same structure as the example data <code>epidural_c</code>, 
containing multiple rows referring to multiple studies in a meta-analysis.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_param">param</code></td>
<td>
<p>a character string vector indicating the parameters to be tracked and estimated. 
By default the following parameters (see <code>details</code>) are included: <code class="reqn">\theta^{\mathrm{CACE}}</code> 
(<code>CACE</code>), <code class="reqn">E(u_{i1})</code> (<code>u1out</code>), <code class="reqn">E(v_{i1})</code> (<code>v1out</code>), <code class="reqn">E(s_{i1})</code> (<code>s1out</code>), 
<code class="reqn">E(b_{i1})</code> (<code>b1out</code>), <code class="reqn">\pi_a</code> (<code>pia</code>), <code class="reqn">\pi_n</code> (<code>pin</code>), and 
<code class="reqn">\pi_c=1-\pi_a-\pi_n</code> (<code>pic</code>). 
Users can modify the string vector to only include parameters of interest besides <code class="reqn">\theta^{\mathrm{CACE}}</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_random.effects">random.effects</code></td>
<td>
<p>a list of logical values indicating whether random effects are included in the model.
The list should contain the assignment for these parameters only: <code>delta.n</code> (<code class="reqn">\delta_{in}</code>), 
<code>delta.a</code> (<code class="reqn">\delta_{ia}</code>), <code>delta.u</code> (<code class="reqn">\delta_{iu}</code>), <code>delta.v</code> (<code class="reqn">\delta_{iv}</code>), 
<code>delta.s</code> (<code class="reqn">\delta_{is}</code>), <code>delta.b</code> (<code class="reqn">\delta_{ib}</code>), <code>cor</code>. The list should be in the
form of <code>list(delta.a = FALSE, cor = FALSE, ...)</code>. By default, this
is an empty list, and all parameters are default to <code>TRUE</code>. Parameters that are not listed in the list
are assumed to be <code>TRUE</code>. Note that <code class="reqn">\rho</code> (<code>cor</code>) can only be included when both <code class="reqn">\delta_{in}</code> 
(<code>delta.n</code>) and <code class="reqn">\delta_{ia}</code> (<code>delta.a</code>) are set to <code>TRUE</code>. Otherwise, a warning 
occurs and the model continues running by forcing <code>delta.n = TRUE</code> and <code>delta.a = TRUE</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>alpha.n.m</code> and <code>alpha.n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>alpha.n</code>, as well as <code>alpha.a.m</code>, <code>alpha.a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. It also contains the shape and rate parameters of the gamma distributions
of the standard deviation variable of <code>delta.n</code>, <code>delta.a</code>, <code>delta.u</code>, <code>delta.v</code>
<code>delta.s</code>, <code>delta.b</code>. The shape parameters are named as <code>tau.n.h</code> and <code>tau.a.h</code>, for example,
and the rate parameters are named as <code>tau.n.r</code> and <code>tau.a.r</code>. You do not need to specify the shape and
rate parameters if the corresponding random effect is set to <code>FALSE</code> in <code>random.effects</code>, since they will
not be used anyways. By default, <code>re.values</code> is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>,
and the shape and rate parameters are default to <code>2</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_model.code">model.code</code></td>
<td>
<p>a string representation of the model code; each line should be separated. Default to constructing 
model code using the <code>model.meta.c</code> function with the parameters that are inputted to this function. This 
parameter is only necessary if user wishes to make functional changes to the model code, such as changing the
probability distributions of the parameters. Default to empty string.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_digits">digits</code></td>
<td>
<p>number of digits. Default to <code>3</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_n.adapt">n.adapt</code></td>
<td>
<p>adapt value. Default to <code>1000</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_n.iter">n.iter</code></td>
<td>
<p>number of iterations. Default to <code>100000</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_n.burnin">n.burnin</code></td>
<td>
<p>number of burn-in iterations. Default to <code>n.iter/2</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_n.chains">n.chains</code></td>
<td>
<p>number of chains. Default to <code>3</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_n.thin">n.thin</code></td>
<td>
<p>thinning rate, must be a positive integer. 
</p>
<p>Default to <code>max(1,floor((n.iter-n.burnin)/100000))</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_conv.diag">conv.diag</code></td>
<td>
<p>whether or not to show convergence diagnostics. Default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_mcmc.samples">mcmc.samples</code></td>
<td>
<p>whether to include JAGS samples in the final output. Default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.c_+3A_study.specific">study.specific</code></td>
<td>
<p>a logical value indicating whether to calculate the study-specific 
<code class="reqn">\theta^{\mathrm{CACE}}_i</code>. If <code>TRUE</code>, the model will first check the logical status of arguments 
<code>delta.u</code> and <code>delta.v</code>. If both are <code>FALSE</code>, meaning that neither response rate <code class="reqn">u_{i1}</code> 
or <code class="reqn">v_{i1}</code> is modeled with a random effect, then the study-specific <code class="reqn">\theta^{\mathrm{CACE}}_i</code> is 
the same across studies. The function gives a warning and continues by making <code>study.specific = FALSE</code>. 
Otherwise, the study-specific <code class="reqn">\theta^{\mathrm{CACE}}_i</code> are estimated and saved as the parameter <code>cacei</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a model object whose attribute type is <code>cace.Bayes</code>
</p>


<h3>References</h3>

<p>Zhou J, Hodges JS, Suri MFK, Chu H (2019).
&ldquo;A Bayesian hierarchical model estimating CACE in meta-analysis of randomized clinical trials with noncompliance.&rdquo;
<em>Biometrics</em>, <b>75</b>(3), 978&ndash;987.
</p>
<p>Lunn D, Jackson C, Best N, Thomas A, Spiegelhalter D (2012).
<em>The BUGS book: A practical introduction to Bayesian analysis</em>.
CRC press.
</p>
<p>Zeger SL, Liang K, Albert PS (1988).
&ldquo;Models for longitudinal data: a generalized estimating equation approach.&rdquo;
<em>Biometrics</em>, 1049&ndash;1060.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cace.study">cace.study</a></code>, <code><a href="#topic+cace.meta.ic">cace.meta.ic</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("epidural_c", package = "BayesCACE")
set.seed(123)
out.meta.c &lt;- cace.meta.c(data = epidural_c, conv.diag = TRUE, 
mcmc.samples = TRUE, study.specific = TRUE)
# By calling the object smry from the output list out.meta.c, posterior estimates 
# (posterior mean, standard deviation, posterior median, 95\% credible interval, and 
# time-series standard error) are displayed.
out.meta.c$smry
out.meta.c$DIC

</code></pre>

<hr>
<h2 id='cace.meta.ic'>Bayesian hierarchical models for CACE meta-analysis with incomplete compliance information</h2><span id='topic+cace.meta.ic'></span>

<h3>Description</h3>

<p>This function also estimates <code class="reqn">\theta^{\mathrm{CACE}}</code> using the Bayesian hierarchcal model 
but can accommodate studies with incomplete compliance data.  
The necessary data structure and the likelihood function are presented in Section 2.3 of the 
package manuscript, &quot;CACE for meta-analysis with incomplete compliance information&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cace.meta.ic(
  data,
  param = c("CACE", "u1out", "v1out", "s1out", "b1out", "pic", "pin", "pia"),
  random.effects = list(),
  re.values = list(),
  model.code = "",
  digits = 3,
  n.adapt = 1000,
  n.iter = 1e+05,
  n.burnin = floor(n.iter/2),
  n.chains = 3,
  n.thin = max(1, floor((n.iter - n.burnin)/1e+05)),
  conv.diag = FALSE,
  mcmc.samples = FALSE,
  study.specific = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cace.meta.ic_+3A_data">data</code></td>
<td>
<p>a input dataset the same structure as the example data <code>epidural_ic</code>, 
containing multiple rows referring to multiple studies in a meta-analysis.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_param">param</code></td>
<td>
<p>the list of parameter used. 
</p>
<p>Default to <code>c("CACE", "u1out", "v1out", "s1out", "b1out", "pic", "pin", "pia")</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_random.effects">random.effects</code></td>
<td>
<p>a list of logical values indicating whether random effects are included in the model.
The list should contain the assignment for these parameters only: <code>delta.n</code> (<code class="reqn">\delta_{in}</code>), 
<code>delta.a</code> (<code class="reqn">\delta_{ia}</code>), <code>delta.u</code> (<code class="reqn">\delta_{iu}</code>), <code>delta.v</code> (<code class="reqn">\delta_{iv}</code>), 
<code>delta.s</code> (<code class="reqn">\delta_{is}</code>), <code>delta.b</code> (<code class="reqn">\delta_{ib}</code>), <code>cor</code>. The list should be in the
form of <code>list(delta.a = FALSE, cor = FALSE, ...)</code>. By default, this
is an empty list, and all parameters are default to <code>TRUE</code>. Parameters that are not listed in the list
are assumed to be <code>TRUE</code>. Note that <code class="reqn">\rho</code> (<code>cor</code>) can only be included when both <code class="reqn">\delta_{in}</code> 
(<code>delta.n</code>) and <code class="reqn">\delta_{ia}</code> (<code>delta.a</code>) are set to <code>TRUE</code>. Otherwise, a warning 
occurs and the model continues running by forcing <code>delta.n = TRUE</code> and <code>delta.a = TRUE</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>alpha.n.m</code> and <code>alpha.n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>alpha.n</code>, as well as <code>alpha.a.m</code>, <code>alpha.a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. It also contains the shape and rate parameters of the gamma distributions
of the standard deviation variable of <code>delta.n</code>, <code>delta.a</code>, <code>delta.u</code>, <code>delta.v</code>
<code>delta.s</code>, <code>delta.b</code>. The shape parameters are named as <code>tau.n.h</code> and <code>tau.a.h</code>, for example,
and the rate parameters are named as <code>tau.n.r</code> and <code>tau.a.r</code>. You do not need to specify the shape and
rate parameters if the corresponding random effect is set to <code>FALSE</code> in <code>random.effects</code>, since they will
not be used anyways. By default, <code>re.values</code> is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>,
and the shape and rate parameters are default to <code>2</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_model.code">model.code</code></td>
<td>
<p>a string representation of the model code; each line should be separated. Default to constructing 
model code using the <code>model.meta.ic</code> function with the parameters that are inputted to this function. This 
parameter is only necessary if user wishes to make functional changes to the model code, such as changing the
probability distributions of the parameters. Default to empty string.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_digits">digits</code></td>
<td>
<p>number of digits. Default to <code>3</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_n.adapt">n.adapt</code></td>
<td>
<p>adapt value. Default to <code>1000</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_n.iter">n.iter</code></td>
<td>
<p>number of iterations. Default to <code>100000</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_n.burnin">n.burnin</code></td>
<td>
<p>number of burn-in iterations. Default to <code>n.iter/2</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_n.chains">n.chains</code></td>
<td>
<p>number of chains. Default to <code>3</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_n.thin">n.thin</code></td>
<td>
<p>thinning rate, must be a positive integer. 
</p>
<p>Default to <code>max(1,floor((n.iter-n.burnin)/100000))</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_conv.diag">conv.diag</code></td>
<td>
<p>whether or not to show convergence diagnostics. Default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_mcmc.samples">mcmc.samples</code></td>
<td>
<p>whether to include JAGS samples in the final output. Default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cace.meta.ic_+3A_study.specific">study.specific</code></td>
<td>
<p>a logical value indicating whether to calculate the study-specific 
<code class="reqn">\theta^{\mathrm{CACE}}_i</code>. If <code>TRUE</code>, the model will first check the logical status of arguments 
<code>delta.u</code> and <code>delta.v</code>. If both are <code>FALSE</code>, meaning that neither response rate <code class="reqn">u_{i1}</code> 
or <code class="reqn">v_{i1}</code> is modeled with a random effect, then the study-specific <code class="reqn">\theta^{\mathrm{CACE}}_i</code> is 
the same across studies. The function gives a warning and continues by making <code>study.specific = FALSE</code>. 
Otherwise, the study-specific <code class="reqn">\theta^{\mathrm{CACE}}_i</code> are estimated and saved as the parameter <code>cacei</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that when compiling the <code>JAGS</code> model, the warning &lsquo;adaptation incomplete&rsquo; may 
occasionally occur, indicating that the number of iterations for the adaptation process 
is not sufficient. The default value of <code>n.adapt</code> (the number of iterations for adaptation) 
is 1,000. This is an initial sampling phase during which the samplers adapt their behavior 
to maximize their efficiency (e.g., a Metropolis&ndash;Hastings random walk algorithm may change 
its step size). The &lsquo;adaptation incomplete&rsquo; warning indicates the MCMC algorithm may not 
achieve maximum efficiency, but it generally has little impact on the posterior estimates 
of the treatment effects. To avoid this warning, users may increase <code>n.adapt</code>.
</p>


<h3>Value</h3>

<p>It returns a model object whose attribute type is <code>cace.Bayes</code>
</p>


<h3>References</h3>

<p>Zhou J, Hodges JS, Suri MFK, Chu H (2019).
&ldquo;A Bayesian hierarchical model estimating CACE in meta-analysis of randomized clinical trials with noncompliance.&rdquo;
<em>Biometrics</em>, <b>75</b>(3), 978&ndash;987.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cace.study">cace.study</a></code>, <code><a href="#topic+cace.meta.c">cace.meta.c</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("epidural_ic", package = "BayesCACE")
set.seed(123)
out.meta.ic &lt;- cace.meta.ic(data = epidural_ic, conv.diag = TRUE, 
mcmc.samples = TRUE, study.specific = TRUE)

</code></pre>

<hr>
<h2 id='cace.study'>CACE analysis for a single study, or a two-step approach for meta-analysis 
with complete complice information</h2><span id='topic+cace.study'></span>

<h3>Description</h3>

<p>This function performs CACE analysis for a single study using the 
likelihood and model specified in Section 2.1 of the package manuscript, or a two-step 
approach for meta-analysis with complete compliance information as 
described in Section 2.2, &quot;the two-step approach&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cace.study(
  data,
  param = c("CACE", "u1", "v1", "s1", "b1", "pi.c", "pi.n", "pi.a"),
  re.values = list(),
  model.code = "",
  digits = 3,
  n.adapt = 1000,
  n.iter = 1e+05,
  n.burnin = floor(n.iter/2),
  n.chains = 3,
  n.thin = max(1, floor((n.iter - n.burnin)/1e+05)),
  conv.diag = FALSE,
  mcmc.samples = FALSE,
  two.step = FALSE,
  method = "REML"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cace.study_+3A_data">data</code></td>
<td>
<p>a input dataset the same structure as the example data <code>epidural_c</code>, 
containing either one row of observations for a single study, or multiple rows referring 
to multiple studies in a meta-analysis.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_param">param</code></td>
<td>
<p>a character string vector indicating the parameters to be tracked and estimated. 
By default all parameters in the model (see <code>details</code>) are included: <code class="reqn">\theta^{\mathrm{CACE}}</code> 
(<code>CACE</code>), <code class="reqn">u_1</code> (<code>u1</code>), <code class="reqn">v_1</code> (<code>v1</code>), <code class="reqn">s_1</code> (<code>s1</code>), <code class="reqn">b_1</code> (<code>b1</code>), 
<code class="reqn">\pi_a</code> (<code>pi.a</code>), <code class="reqn">\pi_n</code> (<code>pi.n</code>), and <code class="reqn">\pi_c=1-\pi_a-\pi_n</code> (<code>pi.c</code>). 
Users can modify the string vector to only include parameters of interest besides 
<code class="reqn">\theta^{\mathrm{CACE}}</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>n.m</code> and <code>n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>n</code>, as well as <code>a.m</code>, <code>a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. By default, this is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_model.code">model.code</code></td>
<td>
<p>a string representation of the model code; each line should be separated. Default to constructing 
model code using the <code>model.meta.ic</code> function with the parameters that are inputted to this function. This 
parameter is only necessary if user wishes to make functional changes to the model code, such as changing the
probability distributions of the parameters. Default to empty string.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_digits">digits</code></td>
<td>
<p>a positive integer specifying the digits after the decimal point for 
the effect size estimates. The default is <code>3</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_n.adapt">n.adapt</code></td>
<td>
<p>the number of iterations for adaptation in Markov chain Monte Carlo (MCMC) algorithm; 
it is used to maximize the sampling efficiency. 
The default is <code>1,000</code>. If a warning &quot;adaptation incomplete&quot; appears, users may increase 
<code>n.adapt</code>. This argument and the following <code>n.iter</code>, <code>n.burnin</code>, <code>n.chains</code>,
<code>n.thin</code> are passed to the functions in R package <code>rjags</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_n.iter">n.iter</code></td>
<td>
<p>the number of iterations of each MCMC chain. 
The default is <code>100,000</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_n.burnin">n.burnin</code></td>
<td>
<p>the number of iterations for burn-in period. The default is 
the largest integer not greater than <code>n.iter/2</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_n.chains">n.chains</code></td>
<td>
<p>the number of MCMC chains. The default is <code>3</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_n.thin">n.thin</code></td>
<td>
<p>a positive integer indicating thinning rate for MCMC chains, which is used to 
avoid potential high auto-correlation and to save computer memory when <code>n.iter</code> is 
large. The default is set as <code>1</code> or the largest integer not greater than 
<code>((n.iter - n.burnin)/1e+05)</code>, whichever is larger.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_conv.diag">conv.diag</code></td>
<td>
<p>a logical value indicating whether to compute the Gelman and Rubin 
convergence statistic (<code class="reqn">\hat{R}</code>) of each parameter as a convergence diagnostic.
It is considered the chains are well mixed and have converged to the target distribution 
if <code class="reqn">\hat{R} \le 1.1</code>. The default is <code>FALSE</code>. If <code>TRUE</code>, <code>n.chains</code> must be greater than 1, 
and the function saves each chain's MCMC samples for all parameters, which can be used 
to produce trace, posterior density, and auto-correlation plots by calling the function 
<code>plt.cacebayes</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_mcmc.samples">mcmc.samples</code></td>
<td>
<p>a logical value indicating whether to save MCMC posterior samples
in the output object. The default is <code>FALSE</code>. If <code>TRUE</code>, the output object list 
includes each chain's MCMC samples for all parameters. They can be used in the function 
<code>plt.cacebayes</code> to generate the trace, posterior density, and auto-correlation plots 
for further model diagnostics.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_two.step">two.step</code></td>
<td>
<p>a logical value indicating whether to conduct a two-step meta-analysis. 
If <code>two.step = TRUE</code>, the posterior mean and standard deviation of study-specific 
<code class="reqn">\theta^{\mathrm{CACE}}_i</code> are used to perform a standard meta-analysis, using the R package <code>metafor</code>.</p>
</td></tr>
<tr><td><code id="cace.study_+3A_method">method</code></td>
<td>
<p>the method used in meta-analysis if <code>two.step = TRUE</code>. The default estimation 
method is the REML (restricted maximum-likelihood estimator) method for the random-effects 
model. Users can change the argument <code>method</code> to obtain different meta-analysis 
estimators from either a random-effects model or a fixed-effect model, e.g., 
<code>method = 'DL'</code> refers to the DerSimonian&ndash;Laird estimator, 
<code>method = 'HE'</code> returns the Hedges estimator, and <code>method = 'HS'</code> gives the Hunter&ndash;Schmidt 
estimator.  More details are available from the documentation of the function <code>metafor::rma</code>. 
If the input data include only one study, the meta-analysis result is just the same as 
the result from the single study.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The likelihood </p>
<p style="text-align: center;"><code class="reqn">\log L({\boldsymbol{\beta}}) = N_{000}\log\{\pi_{c}(1-v_1)+\pi_{n}(1-s_1)\}+N_{001}
\log(\pi_{c}v_1+\pi_{n}s_1)+N_{010}\log\{{\pi}_{a}(1-b_1)\}</code>
</p>

<p style="text-align: center;"><code class="reqn">+ N_{011}\log\{\pi_{a}b_1\}+ N_{100}
\log\{\pi_{n}(1-s_1)\}+N_{101}\log({\pi}_{n}s_1) + N_{110}\log\{(\pi_{c}(1-u_1)</code>
</p>

<p style="text-align: center;"><code class="reqn">+ \pi_{a}(1-b_1)\}+{N_{111}\log(\pi_{c}u_1+\pi_{a}b_1)} + constant</code>
</p>
<p>. 
If the input <code>data</code> includes more than one study, the study-specific CACEs will be 
estimated by retrieving data row by row.
By default, the function <code>cace.study()</code> returns a list  
including posterior estimates (posterior mean, standard deviation, median, and a 95% 
credible interval (CrI) with 2.5% and 97.5% quantiles as the lower and upper bounds), 
and the deviance information criterion (DIC) statistic for each study.
</p>


<h3>Value</h3>

<p>It returns a model object whose attribute type is <code>cace.Bayes</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cace.meta.c">cace.meta.c</a></code>, <code><a href="#topic+cace.meta.ic">cace.meta.ic</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("epidural_c", package = "BayesCACE")
set.seed(123)
out.study &lt;- cace.study(data = epidural_c, conv.diag = TRUE, 
mcmc.samples = TRUE, two.step = TRUE) 
# Show the estimates of theta for each single study (posterior mean and 
# standard deviation, posterior median, 95% credible interval, and time-series 
# standard error):
out.study$CACE
# If the argument conv.diag is specified as TRUE, the output list contains 
# a sub-list conv.out, which outputs the Gelman and Rubin convergence statistic,
# labelled Point est.) calculated for each parameter from each single study, and 
# their upper confidence limits (labelled Upper C.I.).
out.study$conv.out[[1]]

</code></pre>

<hr>
<h2 id='coda.names'>Get names of node array</h2><span id='topic+coda.names'></span>

<h3>Description</h3>

<p>This is a helper function from the <code>rjags</code> library in order to get the names of the individual elements
of a node array. See the package <code>rjags</code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coda.names(basename, dim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coda.names_+3A_basename">basename</code></td>
<td>
<p>the node names</p>
</td></tr>
<tr><td><code id="coda.names_+3A_dim">dim</code></td>
<td>
<p>dimension of the nodes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a list of the names of individual elements
</p>


<h3>References</h3>

<p>Plummer M (2021).
<em>rjags: Bayesian Graphical Models using MCMC</em>.
R package version 4-12, <a href="https://CRAN.R-project.org/package=rjags">https://CRAN.R-project.org/package=rjags</a>.
</p>

<hr>
<h2 id='coda.samples.dic'>Generate posterior samples in mcmc.list format</h2><span id='topic+coda.samples.dic'></span>

<h3>Description</h3>

<p>This is a wrapper function for <code>jags.samples</code> which sets a trace
monitor for all requested nodes, updates the model, and coerces the
output to a single <code>mcmc.list</code> object. It also converts to the output
to dic format. This function is based on the <code>coda.samples</code> function
from the <code>rjags</code> library, and modified by Prof. Matthias Mittner.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coda.samples.dic(model, variable.names, n.iter, thin, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coda.samples.dic_+3A_model">model</code></td>
<td>
<p>a jags model object</p>
</td></tr>
<tr><td><code id="coda.samples.dic_+3A_variable.names">variable.names</code></td>
<td>
<p>a character vector giving the names of variables
to be monitored</p>
</td></tr>
<tr><td><code id="coda.samples.dic_+3A_n.iter">n.iter</code></td>
<td>
<p>number of iterations to monitor</p>
</td></tr>
<tr><td><code id="coda.samples.dic_+3A_thin">thin</code></td>
<td>
<p>thinning interval for monitors</p>
</td></tr>
<tr><td><code id="coda.samples.dic_+3A_...">...</code></td>
<td>
<p>optional arguments that are passed to the <code>jags.samples</code> method 
from the <code>rjags</code> library, for jags model objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the output to the input model object, and in dic format.
</p>


<h3>References</h3>

<p>Plummer M (2021).
<em>rjags: Bayesian Graphical Models using MCMC</em>.
R package version 4-12, <a href="https://CRAN.R-project.org/package=rjags">https://CRAN.R-project.org/package=rjags</a>.
</p>
<p><a href="https://ihrke.github.io/post/2014/10/07/dicjags/">https://ihrke.github.io/post/2014/10/07/dicjags/</a>
</p>

<hr>
<h2 id='epidural_c'>Meta-analysis data with full compliance information</h2><span id='topic+epidural_c'></span>

<h3>Description</h3>

<p>The data contains a meta analysis of the association between using epidural
analgesia in labor and the risk of cesarean section. It contains 10 trials
with full compliance information, each with 8 observed counts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(epidural_c)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 10 rows and 10 columns.
</p>


<h3>Source</h3>

<p><a href="https://pubmed.ncbi.nlm.nih.gov/25592169/">https://pubmed.ncbi.nlm.nih.gov/25592169/</a>
</p>


<h3>References</h3>

<p>Bannister-Tyrrell M, Miladinovic B, Roberts CL, Ford JB (2015).
&ldquo;Adjustment for compliance behavior in trials of epidural analgesia in labor using instrumental variable meta-analysis.&rdquo;
<em>Journal of Clinical Epidemiology</em>, <b>68</b>(5), 525&ndash;533.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(epidural_c)
</code></pre>

<hr>
<h2 id='epidural_ic'>Meta-analysis data without full compliance information</h2><span id='topic+epidural_ic'></span>

<h3>Description</h3>

<p>The data contains a meta analysis of the association between using epidural
analgesia in labor and the risk of cesarean section. It contains 27 studies,
only 10 out of which have full compliance information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(epidural_ic)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 27 rows and 14 columns.
</p>


<h3>Source</h3>

<p><a href="https://pubmed.ncbi.nlm.nih.gov/25592169/">https://pubmed.ncbi.nlm.nih.gov/25592169/</a>
</p>


<h3>References</h3>

<p>Bannister-Tyrrell M, Miladinovic B, Roberts CL, Ford JB (2015).
&ldquo;Adjustment for compliance behavior in trials of epidural analgesia in labor using instrumental variable meta-analysis.&rdquo;
<em>Journal of Clinical Epidemiology</em>, <b>68</b>(5), 525&ndash;533.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(epidural_ic)
</code></pre>

<hr>
<h2 id='model.meta.c'>Bayesian hierarchical model code for CACE meta-analysis with complete compliance data</h2><span id='topic+model.meta.c'></span>

<h3>Description</h3>

<p>This function generates part of the model code for meta-analysis 
when the dataset has complete compliance information for all studies, 
as described in Section 2.2, &quot;the Bayesian hierarchical model&quot; of the package manuscript.
This function will be called internally if user uses the <code>cace.meta.c</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model.meta.c(random.effects = list(), re.values = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model.meta.c_+3A_random.effects">random.effects</code></td>
<td>
<p>a list of logical values indicating whether random effects are included in the model.
The list should contain the assignment for these parameters only: <code>delta.n</code> (<code class="reqn">\delta_{in}</code>), 
<code>delta.a</code> (<code class="reqn">\delta_{ia}</code>), <code>delta.u</code> (<code class="reqn">\delta_{iu}</code>), <code>delta.v</code> (<code class="reqn">\delta_{iv}</code>), 
<code>delta.s</code> (<code class="reqn">\delta_{is}</code>), <code>delta.b</code> (<code class="reqn">\delta_{ib}</code>), <code>cor</code>. The list should be in the
form of <code>list(delta.a = FALSE, cor = FALSE, ...)</code>. By default, this
is an empty list, and all parameters are default to <code>TRUE</code>. Parameters that are not listed in the list
are assumed to be <code>TRUE</code>. Note that <code class="reqn">\rho</code> (<code>cor</code>) can only be included when both <code class="reqn">\delta_{in}</code> 
(<code>delta.n</code>) and <code class="reqn">\delta_{ia}</code> (<code>delta.a</code>) are set to <code>TRUE</code>. Otherwise, a warning 
occurs and the model continues running by forcing <code>delta.n = TRUE</code> and <code>delta.a = TRUE</code>.</p>
</td></tr>
<tr><td><code id="model.meta.c_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>alpha.n.m</code> and <code>alpha.n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>alpha.n</code>, as well as <code>alpha.a.m</code>, <code>alpha.a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. It also contains the shape and rate parameters of the gamma distributions
of the standard deviation variable of <code>delta.n</code>, <code>delta.a</code>, <code>delta.u</code>, <code>delta.v</code>
<code>delta.s</code>, <code>delta.b</code>. The shape parameters are named as <code>tau.n.h</code> and <code>tau.a.h</code>, for example,
and the rate parameters are named as <code>tau.n.r</code> and <code>tau.a.r</code>. You do not need to specify the shape and
rate parameters if the corresponding random effect is set to <code>FALSE</code> in <code>random.effects</code>, since they will
not be used anyways. By default, <code>re.values</code> is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>,
and the shape and rate parameters are default to <code>2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a model string
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use default settings
model.string &lt;- model.meta.c()
</code></pre>

<hr>
<h2 id='model.meta.ic'>Bayesian hierarchical model code for CACE meta-analysis with complete compliance data</h2><span id='topic+model.meta.ic'></span>

<h3>Description</h3>

<p>This function generates the model code for meta-analysis 
when the dataset has incomplete compliance information for all studies, 
as described in Section 2.2.2, &quot;the Bayesian hierarchical model&quot; of the package manuscript.
This function will be called internally if user uses the <code>cace.meta.ic</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model.meta.ic(random.effects = list(), re.values = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model.meta.ic_+3A_random.effects">random.effects</code></td>
<td>
<p>a list of logical values indicating whether random effects are included in the model.
The list should contain the assignment for these parameters only: <code>delta.n</code> (<code class="reqn">\delta_{in}</code>), 
<code>delta.a</code> (<code class="reqn">\delta_{ia}</code>), <code>delta.u</code> (<code class="reqn">\delta_{iu}</code>), <code>delta.v</code> (<code class="reqn">\delta_{iv}</code>), 
<code>delta.s</code> (<code class="reqn">\delta_{is}</code>), <code>delta.b</code> (<code class="reqn">\delta_{ib}</code>), <code>cor</code>. The list should be in the
form of <code>list(delta.a = FALSE, cor = FALSE, ...)</code>. By default, this
is an empty list, and all parameters are default to <code>TRUE</code>. Parameters that are not listed in the list
are assumed to be <code>TRUE</code>. Note that <code class="reqn">\rho</code> (<code>cor</code>) can only be included when both <code class="reqn">\delta_{in}</code> 
(<code>delta.n</code>) and <code class="reqn">\delta_{ia}</code> (<code>delta.a</code>) are set to <code>TRUE</code>. Otherwise, a warning 
occurs and the model continues running by forcing <code>delta.n = TRUE</code> and <code>delta.a = TRUE</code>.</p>
</td></tr>
<tr><td><code id="model.meta.ic_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>alpha.n.m</code> and <code>alpha.n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>alpha.n</code>, as well as <code>alpha.a.m</code>, <code>alpha.a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. It also contains the shape and rate parameters of the gamma distributions
of the standard deviation variable of <code>delta.n</code>, <code>delta.a</code>, <code>delta.u</code>, <code>delta.v</code>
<code>delta.s</code>, <code>delta.b</code>. The shape parameters are named as <code>tau.n.h</code> and <code>tau.a.h</code>, for example,
and the rate parameters are named as <code>tau.n.r</code> and <code>tau.a.r</code>. You do not need to specify the shape and
rate parameters if the corresponding random effect is set to <code>FALSE</code> in <code>random.effects</code>, since they will
not be used anyways. By default, <code>re.values</code> is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>,
and the shape and rate parameters are default to <code>2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a model string
</p>


<h3>Examples</h3>

<pre><code class='language-R'># use default settings
model.string &lt;- model.meta.ic()
</code></pre>

<hr>
<h2 id='model.study'>Model code of CACE analysis for a single study, or a two-step approach for meta-analysis 
with complete complice information</h2><span id='topic+model.study'></span>

<h3>Description</h3>

<p>This function generates the model code for a single study using the 
likelihood and model specified in Section 2.1, or a two-step 
approach for meta-analysis with complete compliance information as 
described in Section 2.2, &quot;The two-step approach&quot; of the package manuscript.
This function will be called internally if user uses the <code>cace.study</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model.study(re.values = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model.study_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>n.m</code> and <code>n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>n</code>, as well as <code>a.m</code>, <code>a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. By default, this is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a model string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.string &lt;- model.study()
</code></pre>

<hr>
<h2 id='parse.varname'>Parse strings of specific form</h2><span id='topic+parse.varname'></span>

<h3>Description</h3>

<p>This is a helper function from the <code>rjags</code> library in order to parse the string of form
&quot;a&quot; or &quot;a[n,p:q,r]&quot;. See the package <code>rjags</code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse.varname(varname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse.varname_+3A_varname">varname</code></td>
<td>
<p>string name of variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a list of parsed parameters
</p>


<h3>References</h3>

<p>Plummer M (2021).
<em>rjags: Bayesian Graphical Models using MCMC</em>.
R package version 4-12, <a href="https://CRAN.R-project.org/package=rjags">https://CRAN.R-project.org/package=rjags</a>.
</p>

<hr>
<h2 id='plt.acf'>this plot function creates an acf plot</h2><span id='topic+plt.acf'></span>

<h3>Description</h3>

<p>This function creates an acf (Autocorrelation Function) plot for a model object with the type attribute <code>cace.Bayes</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plt.acf(obj, param = c("CACE"), trialnumber = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plt.acf_+3A_obj">obj</code></td>
<td>
<p>a model object, returned by <code>cace.meta.c</code>, <code>cace.meta.ic</code>,
or <code>cace.study</code></p>
</td></tr>
<tr><td><code id="plt.acf_+3A_param">param</code></td>
<td>
<p>list of parameters to plot</p>
</td></tr>
<tr><td><code id="plt.acf_+3A_trialnumber">trialnumber</code></td>
<td>
<p>indicator for which trial number of the mcmc samples
to use. The default is <code>1</code></p>
</td></tr>
<tr><td><code id="plt.acf_+3A_...">...</code></td>
<td>
<p>optional parameters to pass into the <code>acf</code> function
from the <code>stats</code> library.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns an acf plot in an <code>R</code> plot window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
out.meta.c &lt;- cace.meta.c(data = epidural_c, conv.diag = TRUE, 
mcmc.samples = TRUE, study.specific = TRUE)
plt.acf(obj=out.meta.c)

</code></pre>

<hr>
<h2 id='plt.density'>this plot function creates a density plot</h2><span id='topic+plt.density'></span>

<h3>Description</h3>

<p>This function creates a density plot for a model object with the type attribute <code>cace.Bayes</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plt.density(obj, param = c("CACE"), trialnumber = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plt.density_+3A_obj">obj</code></td>
<td>
<p>a model object, returned by <code>cace.meta.c</code>, <code>cace.meta.ic</code>,
or <code>cace.study</code></p>
</td></tr>
<tr><td><code id="plt.density_+3A_param">param</code></td>
<td>
<p>list of parameters to plot</p>
</td></tr>
<tr><td><code id="plt.density_+3A_trialnumber">trialnumber</code></td>
<td>
<p>indicator for which trial number of the mcmc samples
to use. The default is <code>1</code></p>
</td></tr>
<tr><td><code id="plt.density_+3A_...">...</code></td>
<td>
<p>optional parameters to pass into the <code>plot</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a density plot in an <code>R</code> plot window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
out.meta.c &lt;- cace.meta.c(data = epidural_c, conv.diag = TRUE, 
mcmc.samples = TRUE, study.specific = TRUE)
plt.density(obj=out.meta.c)

</code></pre>

<hr>
<h2 id='plt.forest'>this plot function makes a forest plot.</h2><span id='topic+plt.forest'></span>

<h3>Description</h3>

<p>This function provides a visual overview (forest plot) for a model object and corresponding dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plt.forest(data, obj, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plt.forest_+3A_data">data</code></td>
<td>
<p>an input dataset with the same structure as the example data <code>epidural_c</code>, 
containing multiple rows referring to multiple studies in a meta-analysis.</p>
</td></tr>
<tr><td><code id="plt.forest_+3A_obj">obj</code></td>
<td>
<p>a model object returned by <code>cace.meta.c</code>, <code>cace.meta.ic</code>,
or <code>cace.study</code></p>
</td></tr>
<tr><td><code id="plt.forest_+3A_...">...</code></td>
<td>
<p>optional parameters passed into the <code>forestplot</code> function from the
<code>forestplot</code> library</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a forestplot object in an <code>R</code> plot window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("epidural_c", package = "BayesCACE")
out.meta.c &lt;- cace.meta.c(data = epidural_c, conv.diag = TRUE, 
mcmc.samples = TRUE, study.specific = TRUE)
plt.forest(data=epidural_c, obj=out.meta.c)

</code></pre>

<hr>
<h2 id='plt.noncomp'>Plotting noncompliance rates for a given dataset</h2><span id='topic+plt.noncomp'></span>

<h3>Description</h3>

<p>Provides a forest plot of noncompliance rates in an <code>R</code> plot window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plt.noncomp(data, overall = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plt.noncomp_+3A_data">data</code></td>
<td>
<p>a dataset with structure like the example <code>epidural_c</code> or <code>epidural_ic</code></p>
</td></tr>
<tr><td><code id="plt.noncomp_+3A_overall">overall</code></td>
<td>
<p>a logical value indicating whether a summary estimate of the compliance rates 
per randomization group is provided. The default is <code>TRUE</code>. This overall rate is estimated 
using a logit generalized linear mixed model.</p>
</td></tr>
<tr><td><code id="plt.noncomp_+3A_...">...</code></td>
<td>
<p>optional parameters passed into the <code>forestplot</code> function from the
<code>forestplot</code> library</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a visual overview (forest plot) of study-specific 
noncompliance rates in both randomization arms.
</p>
<p>Only studies with full compliance information are included in this plot 
because noncompliance rates cannot be calculated without compliance data. In the generated 
plot, the red dot with its horizontal line shows the study-specific noncompliance rate 
with its 95% exact confidence interval for the patients randomized to the treatment arm, 
and the blue square with its horizontal line represents that rate and interval for those 
in the control arm. The confidence intervals are calculated by the Clopper&ndash;Pearson exact 
method, which is based on the cumulative distribution function of the binomial distribution.
</p>


<h3>Value</h3>

<p>A forest plot of noncompliance rates in an <code>R</code> plot window
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("epidural_c", package = "BayesCACE")
plt.noncomp(data=epidural_c, overall = TRUE)
</code></pre>

<hr>
<h2 id='plt.trace'>this plot function creates a traceplot</h2><span id='topic+plt.trace'></span>

<h3>Description</h3>

<p>This function creates a traceplot for a model object with the type attribute <code>cace.Bayes</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plt.trace(obj, param = c("CACE"), trialnumber = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plt.trace_+3A_obj">obj</code></td>
<td>
<p>a model object, returned by <code>cace.meta.c</code>, <code>cace.meta.ic</code>,
or <code>cace.study</code></p>
</td></tr>
<tr><td><code id="plt.trace_+3A_param">param</code></td>
<td>
<p>list of parameters to plot</p>
</td></tr>
<tr><td><code id="plt.trace_+3A_trialnumber">trialnumber</code></td>
<td>
<p>indicator for which trial number of the mcmc samples
to use. The default is <code>1</code></p>
</td></tr>
<tr><td><code id="plt.trace_+3A_...">...</code></td>
<td>
<p>optional parameters to pass into the <code>plot</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a traceplot in an <code>R</code> plot window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
out.meta.c &lt;- cace.meta.c(data = epidural_c, conv.diag = TRUE, 
mcmc.samples = TRUE, study.specific = TRUE)
plt.trace(obj=out.meta.c)

</code></pre>

<hr>
<h2 id='prior.meta'>The function returns a custom string that specifies part of the model.</h2><span id='topic+prior.meta'></span>

<h3>Description</h3>

<p>This function returns a partially complete prior string. Used internally - cannot
be directly used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior.meta(random.effects = list(), re.values = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior.meta_+3A_random.effects">random.effects</code></td>
<td>
<p>a list of logical values indicating whether random effects are included in the model.
The list should contain the assignment for these parameters only: <code>delta.n</code> (<code class="reqn">\delta_{in}</code>), 
<code>delta.a</code> (<code class="reqn">\delta_{ia}</code>), <code>delta.u</code> (<code class="reqn">\delta_{iu}</code>), <code>delta.v</code> (<code class="reqn">\delta_{iv}</code>), 
<code>delta.s</code> (<code class="reqn">\delta_{is}</code>), <code>delta.b</code> (<code class="reqn">\delta_{ib}</code>), <code>cor</code>. The list should be in the
form of <code>list(delta.a = FALSE, cor = FALSE, ...)</code>. By default, this
is an empty list, and all parameters are default to <code>TRUE</code>. Parameters that are not listed in the list
are assumed to be <code>TRUE</code>. Note that <code class="reqn">\rho</code> (<code>cor</code>) can only be included when both <code class="reqn">\delta_{in}</code> 
(<code>delta.n</code>) and <code class="reqn">\delta_{ia}</code> (<code>delta.a</code>) are set to <code>TRUE</code>. Otherwise, a warning 
occurs and the model continues running by forcing <code>delta.n = TRUE</code> and <code>delta.a = TRUE</code>.</p>
</td></tr>
<tr><td><code id="prior.meta_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>alpha.n.m</code> and <code>alpha.n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>alpha.n</code>, as well as <code>alpha.a.m</code>, <code>alpha.a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. It also contains the shape and rate parameters of the gamma distributions
of the standard deviation variable of <code>delta.n</code>, <code>delta.a</code>, <code>delta.u</code>, <code>delta.v</code>
<code>delta.s</code>, <code>delta.b</code>. The shape parameters are named as <code>tau.n.h</code> and <code>tau.a.h</code>, for example,
and the rate parameters are named as <code>tau.n.r</code> and <code>tau.a.r</code>. You do not need to specify the shape and
rate parameters if the corresponding random effect is set to <code>FALSE</code> in <code>random.effects</code>, since they will
not be used anyways. By default, <code>re.values</code> is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>,
and the shape and rate parameters are default to <code>2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>custom prior string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.string &lt;- prior.meta()
</code></pre>

<hr>
<h2 id='prior.study'>The function returns a custom string that specifies part of the model (single-study).</h2><span id='topic+prior.study'></span>

<h3>Description</h3>

<p>This function returns a partially complete prior string. Used internally - cannot
be directly used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior.study(re.values = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior.study_+3A_re.values">re.values</code></td>
<td>
<p>a list of parameter values for the random effects. It should contain the assignment for these
parameters only: <code>n.m</code> and <code>n.s</code>, which refer to the mean and standard deviation used
in the normal distribution estimation of <code>n</code>, as well as <code>a.m</code>, <code>a.s</code>, 
<code>alpha.s.m</code>, <code>alpha.s.s</code>, <code>alpha.b.m</code>, <code>alpha.b.s</code>, <code>alpha.u.m</code>, <code>alpha.u.s</code>,
<code>alpha.v.m</code>, <code>alpha.v.s</code>. By default, this is an empty list, and all the mean are set to <code>0</code>, and 
<code>alpha.n.s = alpha.a.s = 0.16</code>, and <code>alpha.s.s = alpha.b.s = alpha.u.s = alpha.v.s = 0.25</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>custom model string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.string &lt;- prior.study()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package publipha</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {publipha}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#publipha-package'><p>The 'publipha' package.</p></a></li>
<li><a href='#add_elements'><p>Adds named elements to a list when they are not there already.</p></a></li>
<li><a href='#alist2'><p>Make lazy list from arguments.</p></a></li>
<li><a href='#arguments'><p>Get arguments of the calling function.</p></a></li>
<li><a href='#dat.anderson2010'><p>Studies on Effect of Violent Video Games on Negative Outcomes</p></a></li>
<li><a href='#dat.baskerville2012'><p>Studies on Practice Facilitation</p></a></li>
<li><a href='#dat.cuddy2018'><p>Studies on the Effect of Power Posing</p></a></li>
<li><a href='#dat.dang2018'><p>Meta-analysis on Ego Depletion</p></a></li>
<li><a href='#dat.motyl2017'><p>Effect Sizes from 875 Studies in Psychology.</p></a></li>
<li><a href='#do_call'><p>Variant of do call with that preserves argument names.</p></a></li>
<li><a href='#ExtractParameters'><p>Extract Parameters from an <code>mafit</code> Object</p></a></li>
<li><a href='#loo,mafit-method'><p>Calculate the <code>loo</code> for an <code>ma</code> object.</p></a></li>
<li><a href='#ma'><p>Meta-analysis Correcting for Publication Bias or p-hacking</p></a></li>
<li><a href='#mafit-class'><p>Class <code>mafit</code>: Fitted Meta-analysis Model</p></a></li>
<li><a href='#mpsnorm'><p>Marginal Publication Selection Meta-analysis Model</p></a></li>
<li><a href='#normalizing_constant'><p>Normalizing Constants for the Publication Selection Meta-Analysis Model</p></a></li>
<li><a href='#phnorm'><p>p-hacking Meta-analysis Model</p></a></li>
<li><a href='#psnorm'><p>Publication Selection Meta-analysis Model</p></a></li>
<li><a href='#snorm'><p>Selected Normal Effect Size Distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Bayesian Meta-Analysis with Publications Bias and P-Hacking</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for Bayesian estimation of meta-analysis models that account
    for publications bias or p-hacking. For publication bias, this package
    implements a variant of the p-value based selection model of Hedges (1992)
    &lt;<a href="https://doi.org/10.1214%2Fss%2F1177011364">doi:10.1214/ss/1177011364</a>&gt; with discrete selection probabilities. It also
    implements the mixture of truncated normals model for p-hacking described
    in Moss and De Bin (2019) &lt;<a href="https://doi.org/10.48550/arXiv.1911.12445">doi:10.48550/arXiv.1911.12445</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, R (&ge; 3.6.0), Rcpp (&ge; 0.12.19)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rstan (&ge; 2.18.1), rstantools (&ge; 1.5.1), loo, truncnorm</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>BH (&ge; 1.72.0-2), Rcpp (&ge; 0.12.19), RcppEigen (&ge;
0.3.3.4.0), rstan (&ge; 2.21.8), StanHeaders (&ge; 2.21.0-7),
RcppParallel</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), covr, knitr, rmarkdown, metafor,
spelling, metadat</td>
</tr>
<tr>
<td>Collate:</td>
<td>'data-anderson2010.R' 'data-baskerville2012.R'
'data-cuddy2018.R' 'data-dang2018.R' 'data-motyl2017.R'
'densities-helpers.R' 'densities-mpsnorm.R'
'densities-phnorm.R' 'densities-psnorm.R' 'densities-snorm.R'
'ma.R' 'generics.R' 'publipha-package.R' 'stanmodels.R'
'tools.R' 'utility.R'</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-04 12:11:24 UTC; jonas</td>
</tr>
<tr>
<td>Author:</td>
<td>Jonas Moss <a href="https://orcid.org/0000-0002-6876-6964"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Trustees of Columbia University [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jonas Moss &lt;jonas.gjertsen@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-04 16:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='publipha-package'>The 'publipha' package.</h2><span id='topic+publipha-package'></span><span id='topic+publipha'></span>

<h3>Description</h3>

<p>Meta-analysis that corrects for publication selection bias and
p-hacking.
</p>


<h3>References</h3>

<p>Hedges, Larry V. &quot;Modeling publication selection effects in meta-analysis.&quot;
Statistical Science (1992): 246-255.
</p>
<p>Moss, Jonas and De Bin, Riccardo. &quot;Modelling publication
bias and p-hacking&quot; (2019) arXiv:1911.12445
</p>
<p>Stan Development Team (2018). RStan: the R interface to Stan. R package
version 2.18.1. https://mc-stan.org
</p>

<hr>
<h2 id='add_elements'>Adds named elements to a list when they are not there already.</h2><span id='topic+add_elements'></span>

<h3>Description</h3>

<p>Adds named elements to a list when they are not there already.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_elements(input, ..., .eager = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_elements_+3A_input">input</code></td>
<td>
<p>List. The input list to manipulate.</p>
</td></tr>
<tr><td><code id="add_elements_+3A_...">...</code></td>
<td>
<p>Key value pairs to add to the list provided the key is not already
used.</p>
</td></tr>
<tr><td><code id="add_elements_+3A_.eager">.eager</code></td>
<td>
<p>Logical; Should the <code>value</code>s be evaluated?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified list.
</p>

<hr>
<h2 id='alist2'>Make lazy list from arguments.</h2><span id='topic+alist2'></span>

<h3>Description</h3>

<p>Works with passed <code>...</code> parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alist2(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alist2_+3A_...">...</code></td>
<td>
<p>Parameters to put into the list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A lazy list.
</p>

<hr>
<h2 id='arguments'>Get arguments of the calling function.</h2><span id='topic+arguments'></span>

<h3>Description</h3>

<p>Get arguments of the calling function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arguments(expand_dots = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arguments_+3A_expand_dots">expand_dots</code></td>
<td>
<p>Logical; If <code>TRUE</code>, returns the argument list with
expanded <code>...</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The unevaluated argument list given to the calling function.
</p>

<hr>
<h2 id='dat.anderson2010'>Studies on Effect of Violent Video Games on Negative Outcomes</h2><span id='topic+dat.anderson2010'></span>

<h3>Description</h3>

<p>Results from 477 studies on the effect of violent video games on negative
outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dat.anderson2010
</code></pre>


<h3>Format</h3>

<p>The data frame contains the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>author</strong>       </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> first author </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>year</strong>         </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> publication year </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>outcome</strong>      </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> one of seven outcomes </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>best   </strong>      </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the was a best practice study </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>experimental</strong> </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the study was experimental </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>adult</strong>        </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the study subjects were adults </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>country</strong>      </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> country of study </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>ni</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> sample size </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>yi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> observed mean difference in outcome (violent vs. non-violent) </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>vi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> corresponding sampling variance
</td>
</tr>

</table>



<h3>Source</h3>

<p><a href="https://github.com/Joe-Hilgard/Anderson-meta">https://github.com/Joe-Hilgard/Anderson-meta</a>
</p>


<h3>References</h3>

<div class="sourceCode"><pre>Baskerville, N. B., Liddy, C., &amp; Hogg, W. (2012). Systematic review and meta-analysis of practice facilitation within primary care settings. The Annals of Family Medicine, 10(1), 63-74.
Hilgard, J., Engelhardt, C. R., &amp; Rouder, J. N. (2017). Overstated evidence for short-term effects of violent games on affect and behavior: A reanalysis of Anderson et al.(2010).
</pre></div>

<hr>
<h2 id='dat.baskerville2012'>Studies on Practice Facilitation</h2><span id='topic+dat.baskerville2012'></span>

<h3>Description</h3>

<p>Results from 23 studies on the effect of practice facilitation in a
primary care setting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dat.baskerville2012
</code></pre>


<h3>Format</h3>

<p>The tibble contains the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>author</strong>    </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> first author of study </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>year</strong>      </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> publication year </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>design</strong>    </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> study design (RCT, C-RCT, or CCT) </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>blinded</strong>   </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the study was blinded </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>concealed</strong> </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the study was concealed </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>yi</strong>        </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> observed mean difference in outcome (facilitated vs non-facilitated) </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>vi</strong>        </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> corresponding sampling variance
</td>
</tr>

</table>



<h3>Source</h3>

<p>Baskerville, N. B., Liddy, C., &amp; Hogg, W. (2012). Systematic review and meta-analysis of practice facilitation within primary care settings. The Annals of Family Medicine, 10(1), 63-74.
</p>

<hr>
<h2 id='dat.cuddy2018'>Studies on the Effect of Power Posing</h2><span id='topic+dat.cuddy2018'></span>

<h3>Description</h3>

<p>Results from 27 studies related to power posing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dat.cuddy2018
</code></pre>


<h3>Format</h3>

<p>The data frame contains the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>author</strong>       </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> first author </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>year</strong>         </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> publication year </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>power</strong>        </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the outcome was feeling of power </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>ease</strong>         </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> if <code>TRUE</code>, the outcome was an EASE variable </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>yi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> standardized mean difference </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>vi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> corresponding sampling variance
</td>
</tr>

</table>



<h3>Details</h3>

<p>The data points are taken from the p-curve analysis of Cuddy et al. (2018),
restricted to 2 cell designs with mean difference as the outcome
variable.
</p>


<h3>Source</h3>

<p><a href="https://osf.io/jx3av/">https://osf.io/jx3av/</a>
</p>


<h3>References</h3>

<div class="sourceCode"><pre>Cuddy, A. J., Schultz, S. J., &amp; Fosse, N. E. (2018). P-curving a more comprehensive body of research on postural feedback reveals clear evidential value for power-posing effects: Reply to Simmons and Simonsohn (2017). Psychological science, 29(4), 656-666.
</pre></div>

<hr>
<h2 id='dat.dang2018'>Meta-analysis on Ego Depletion</h2><span id='topic+dat.dang2018'></span>

<h3>Description</h3>

<p>Results from 150 studies of ego depletion, the claim that self-control is a
limited resource which is tapped whenever self-control is exerted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dat.dang2018)
</code></pre>


<h3>Format</h3>

<p>The tibble contains the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>author</strong>       </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> the last name of the first author and the first letter of the last name of the second author;  </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>year</strong>         </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> publication year </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>in_carter</strong>    </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> was the study in the meta-analysis of Carter et al. (2015) </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>study</strong>        </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> the number given to the study in the original paper (0 = only one study was reported in the original paper; the addition of a letter indicates subsamples);  </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>dv</strong>           </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> the dependent variable </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>iv</strong>           </td><td style="text-align: left;"> <code>boolean</code>   </td><td style="text-align: left;"> the independent variable </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>n1i</strong>          </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> the number of participants in the depletion condition </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>n2i</strong>          </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> the number of participants in the control condition </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>yi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> the adjusted standardized mean difference </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>vi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> the variance
</td>
</tr>

</table>



<h3>Source</h3>

<p><a href="https://link.springer.com/article/10.1007/s00426-017-0862-x#SupplementaryMaterial)">https://link.springer.com/article/10.1007/s00426-017-0862-x#SupplementaryMaterial)</a>
</p>


<h3>References</h3>

<p>Dang, J. (2018). An updated meta-analysis of the ego
depletion effect. Psychological Research, 82(4), 645-651.
</p>
<p>Carter, E. C., Kofler, L. M., Forster, D. E., &amp; McCullough, M. E. (2015).
A series of meta-analytic tests of the depletion effect: self-control does
not seem to rely on a limited resource. Journal of
Experimental Psychology: General, 144(4), 796.
</p>

<hr>
<h2 id='dat.motyl2017'>Effect Sizes from 875 Studies in Psychology.</h2><span id='topic+dat.motyl2017'></span>

<h3>Description</h3>

<p>Effect sizes from 875 studies in psychology. Adopted from Motyl et al.
(2017).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dat.motyl2017)
</code></pre>


<h3>Format</h3>

<p>The tibble contains the following columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>author</strong>       </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> first author of study </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>year</strong>         </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> publication year </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>study</strong>        </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> the number given to the study in the original paper (0 = only one study was reported in the original paper; </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>journal</strong>      </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> journal where the study was published </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>concealed</strong>    </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> design of the study; "Between", "Within", or "Mixed"   </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>experimental</strong> </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> <code>TRUE</code> for an experimental study </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>ni</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> sample size </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>yi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> observed mean difference in outcome </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>vi</strong>           </td><td style="text-align: left;"> <code>numeric</code>   </td><td style="text-align: left;"> corresponding sampling variance
</td>
</tr>

</table>



<h3>Source</h3>

<p><a href="https://osf.io/he8mu/">https://osf.io/he8mu/</a>
</p>


<h3>References</h3>

<p>Motyl, M., Demos, A. P., Carsel, T. S., Hanson, B. E.,
Melton, Z. J., Mueller, A. B., ... &amp; Yantis, C. (2017). The state of social
and personality science: Rotten to the core, not so bad, getting better,
or getting worse?. Journal of personality and social psychology, 113(1), 34.
</p>

<hr>
<h2 id='do_call'>Variant of do call with that preserves argument names.</h2><span id='topic+do_call'></span>

<h3>Description</h3>

<p>Variant of do call with that preserves argument names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_call(.fn, .args = NULL, ..., .env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_call_+3A_.fn">.fn</code></td>
<td>
<p>Function to call.</p>
</td></tr>
<tr><td><code id="do_call_+3A_.args">.args</code></td>
<td>
<p>List of arguments to <code>.fn</code>.</p>
</td></tr>
<tr><td><code id="do_call_+3A_...">...</code></td>
<td>
<p>Further arguments to <code>.fn</code>.</p>
</td></tr>
<tr><td><code id="do_call_+3A_.env">.env</code></td>
<td>
<p>The environment where the call is to be evaluated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The effect of calling <code>.fn</code> with the supplied arguments in the
specified environment.
</p>

<hr>
<h2 id='ExtractParameters'>Extract Parameters from an <code>mafit</code> Object</h2><span id='topic+ExtractParameters'></span><span id='topic+extract_theta0'></span><span id='topic+extract_theta'></span><span id='topic+extract_tau'></span><span id='topic+extract_eta'></span><span id='topic+extract_isq'></span>

<h3>Description</h3>

<p>Extract samples from a model of class <code><a href="#topic+mafit-class">mafit</a></code> and apply a
function <code>fun</code> to them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_theta0(object, fun = mean)

extract_theta(object, fun = mean, i)

extract_tau(object, fun = mean)

extract_eta(object, fun = mean, i)

extract_isq(object, fun = mean)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ExtractParameters_+3A_object">object</code></td>
<td>
<p>an object of class <code><a href="#topic+mafit-class">mafit</a></code>.</p>
</td></tr>
<tr><td><code id="ExtractParameters_+3A_fun">fun</code></td>
<td>
<p>the function to be applied to the fitted parameters.</p>
</td></tr>
<tr><td><code id="ExtractParameters_+3A_i">i</code></td>
<td>
<p>an optional index specifying which parameter to apply <code>fun</code> to. Only
for <code>extract_eta</code> and <code>extract_theta</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Support parameters for extraction are: The meta-analytic mean <code>theta0</code>, the
individual means <code>theta</code>, the heterogeneity parameter <code>tau</code>, the selection
bias parameter <code>eta</code>, and the I squared <code>isq</code>. See Higgins and Thompson
(2002) for details about I squared.
</p>
<p>All <code>extract_</code> functions are wrappers
around <code><a href="rstan.html#topic+stanfit-method-extract">rstan::extract</a></code>.
</p>


<h3>Value</h3>

<p>The result of <code>FUN</code> being applied to all estimated parameters of
<code>object</code>.
</p>


<h3>References</h3>

<p>Higgins, J. P., &amp; Thompson, S. G. (2002). Quantifying
heterogeneity in a meta-analysis. Statistics in medicine, 21(11), 1539-1558.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(313)
model &lt;- publipha::psma(yi = yi, vi = vi, data = dat.baskerville2012)
extract_theta0(model, mean) # [1] extract_theta0(model, mean)
extract_theta0(model, sd) # [1] 0.1095921
extract_tau(model, mean) # [1] 0.1315312
extract_theta(model, hist, i = 5)

</code></pre>

<hr>
<h2 id='loo+2Cmafit-method'>Calculate the <code>loo</code> for an <code>ma</code> object.</h2><span id='topic+loo+2Cmafit-method'></span>

<h3>Description</h3>

<p>Computes PSIS-LOO CV, approximate leave-one-out cross-validation
using Pareto smoothed importance sampling, see <code><a href="loo.html#topic+loo">loo</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'mafit'
loo(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loo+2B2Cmafit-method_+3A_x">x</code></td>
<td>
<p>an object of class <code>mafit</code>.</p>
</td></tr>
<tr><td><code id="loo+2B2Cmafit-method_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="loo.html#topic+loo">loo</a></code>. Only</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>...</code> affect the function through two parameters, <code>marginal</code> and
<code>lower_bound</code>. When <code>marginal</code>is <code>TRUE</code>, the PSIS-LOO CV is based on the
marginal likelihood, i.e. with the dependence on <code>theta</code> integrated out.
<code>marginal</code> defaults to <code>TRUE</code>. <code>lower_bound</code> species the lower bound where
log-likelihoods are dropped; this is only used in the <em>p</em>-hacking model
and defaults to -6.
</p>


<h3>Value</h3>

<p>A <code><a href="loo.html#topic+loo">loo</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
phma_model &lt;- phma(yi, vi, data = metadat::dat.begg1989)
psma_model &lt;- psma(yi, vi, data = metadat::dat.begg1989)
loo(phma_model)
loo(psma_model)

</code></pre>

<hr>
<h2 id='ma'>Meta-analysis Correcting for Publication Bias or p-hacking</h2><span id='topic+ma'></span><span id='topic+psma'></span><span id='topic+phma'></span><span id='topic+cma'></span><span id='topic+allma'></span>

<h3>Description</h3>

<p>Bayesian random effects meta-analysis. Correct for publication bias,
correct for p-hacking, or run an ordinary meta-analysis without any
correction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ma(
  yi,
  vi,
  bias = c("publication selection", "p-hacking", "none"),
  data,
  alpha = c(0, 0.025, 0.05, 1),
  prior = NULL,
  tau_prior = c("half-normal", "uniform", "inv_gamma"),
  ...
)

psma(
  yi,
  vi,
  data,
  alpha = c(0, 0.025, 0.05, 1),
  prior = NULL,
  tau_prior = c("half-normal", "uniform", "inv_gamma"),
  ...
)

phma(
  yi,
  vi,
  data,
  alpha = c(0, 0.025, 0.05, 1),
  prior = NULL,
  tau_prior = c("half-normal", "uniform", "inv_gamma"),
  ...
)

cma(
  yi,
  vi,
  data,
  prior = NULL,
  tau_prior = c("half-normal", "uniform", "inv_gamma"),
  ...
)

allma(
  yi,
  vi,
  data,
  alpha = c(0, 0.025, 0.05, 1),
  prior = NULL,
  tau_prior = c("half-normal", "uniform", "inv_gamma"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ma_+3A_yi">yi</code></td>
<td>
<p>Numeric vector of length codek with observed effect size
estimates.</p>
</td></tr>
<tr><td><code id="ma_+3A_vi">vi</code></td>
<td>
<p>Numeric vector of length codek with sampling variances.</p>
</td></tr>
<tr><td><code id="ma_+3A_bias">bias</code></td>
<td>
<p>String; If &quot;publication bias&quot;, corrects for publication bias. If
&quot;p-hacking&quot;, corrects for p-hacking.</p>
</td></tr>
<tr><td><code id="ma_+3A_data">data</code></td>
<td>
<p>Optional list or data frame containing <code>yi</code> and <code>vi</code>.</p>
</td></tr>
<tr><td><code id="ma_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector; Specifies the cutoffs for significance.
Should include 0 and 1. Defaults to (0, 0.025, 0.05, 1).</p>
</td></tr>
<tr><td><code id="ma_+3A_prior">prior</code></td>
<td>
<p>Optional list of prior parameters. See the details.</p>
</td></tr>
<tr><td><code id="ma_+3A_tau_prior">tau_prior</code></td>
<td>
<p>Which prior to use for <code>tau</code>, the heterogeneity parameter.
Defaults to &quot;<code>half-normal</code>&quot;; &quot;<code>uniform</code>&quot; and &quot;<code>inv_gamma</code> are also
supported.</p>
</td></tr>
<tr><td><code id="ma_+3A_...">...</code></td>
<td>
<p>Passed to <code>rstan::sampling</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ma</code> does a Bayesian meta-analysis with the type of correction used specified
by <code>bias</code>. <code>psma</code> is a wrapper for <code>ma</code> with
<code>bias = "publication selection"</code>, <code>phma</code> is a wrapper with
<code>bias = "p-hacking"</code>, while <code>cma</code> has <code>bias = "none"</code>. The function
<code>allma</code> runs all <code>bias</code> options and returns a list.
</p>
<p>The <code>bias</code> options are:
</p>

<ol>
<li> <p><code style="white-space: pre;">&#8288;publication selection&#8288;</code>: The model of publication bias described in
Hedges (1992).
</p>
</li>
<li> <p><code>p-hacking</code>: The model for <em>p</em>-hacking described in Moss &amp; De Bin (2019).
</p>
</li>
<li> <p><code>none</code>: Classical random effects meta-analysis with no correction for
selection bias.
</p>
</li></ol>

<p>The effect size distribution is normal with mean <code>theta0</code> and standard
deviation <code>tau</code>. The prior for <code>theta0</code> is normal with
parameters <code>theta0_mean</code> (default: 0), <code>theta0_sd</code> (default: 1).
<code>eta</code> is the vector of <code>K</code> normalized publication probabilities
(publication bias model) or <code>K</code> <em>p</em>-hacking probabilities
(<em>p</em>-hacking model). The prior of eta is Dirchlet with parameter eta0,
which defaults to <code>rep(1, K)</code> for the publication bias model and
the p-hacking model. <code>eta0</code> is the prior for the Dirichlet distribution
over the non-normalized etas in the publication bias model, and they are
forced to be decreasing.
</p>
<p>The standard prior for <code>tau</code> is half-normal with parameters
<code>tau_mean</code> (default: 0), <code>tau_sd</code> (default: 1). If the uniform
prior is used, the parameter are <code>u_min</code> (default: 0), and <code>u_max</code>
with a default of 3. The inverse Gamma has parameters <code>shape</code>
(default: 1) and scale <code>default: 1</code>.
</p>
<p>To change the prior parameters, pass them to <code>prior</code> in a list.
</p>


<h3>Value</h3>

<p>An S4 object of class <code>mafit</code> when <code>ma</code>, <code>psma</code>, <code>phma</code> or <code>cma</code> is
run. A list of <code>mafit</code> objects when <code>allma</code> is run.
</p>


<h3>References</h3>

<p>Hedges, Larry V. &quot;Modeling publication selection effects
in meta-analysis.&quot; Statistical Science (1992): 246-255.
</p>
<p>Moss, Jonas and De Bin, Riccardo. &quot;Modelling publication
bias and p-hacking&quot; (2019) arXiv:1911.12445
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
phma_model &lt;- phma(yi, vi, data = metadat::dat.begg1989)

prior &lt;- list(
  eta0 = c(3, 2, 1),
  theta0_mean = 0.5,
  theta0_sd = 10,
  tau_mean = 1,
  tau_sd = 1
)

psma_model &lt;- psma(yi, vi, data = metadat::dat.begg1989, prior = prior)


cma_model &lt;- psma(yi, vi, data = metadat::dat.begg1989, prior = prior)


model &lt;- allma(yi, vi, data = metadat::dat.begg1989, prior = prior)

</code></pre>

<hr>
<h2 id='mafit-class'>Class <code>mafit</code>: Fitted Meta-analysis Model</h2><span id='topic+mafit-class'></span>

<h3>Description</h3>

<p>Class <code>mafit</code>: Fitted Meta-analysis Model
</p>

<hr>
<h2 id='mpsnorm'>Marginal Publication Selection Meta-analysis Model</h2><span id='topic+mpsnorm'></span><span id='topic+dmpsnorm'></span><span id='topic+pmpsnorm'></span><span id='topic+rmpsnorm'></span>

<h3>Description</h3>

<p>Density, distribution, and random variate generation for the marginalized
distribution of the publication selection meta-analysis model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dmpsnorm(x, theta0, tau, sigma, alpha = c(0, 0.025, 0.05, 1), eta, log = FALSE)

pmpsnorm(
  q,
  theta0,
  tau,
  sigma,
  alpha = c(0, 0.025, 0.05, 1),
  eta,
  lower.tail = TRUE,
  log.p = FALSE
)

rmpsnorm(n, theta0, tau, sigma, alpha = c(0, 0.025, 0.05, 1), eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mpsnorm_+3A_x">x</code>, <code id="mpsnorm_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_theta0">theta0</code></td>
<td>
<p>vector of means.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_tau">tau</code></td>
<td>
<p>vector of heterogeneity parameters.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_sigma">sigma</code></td>
<td>
<p>vector of study standard deviations.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_alpha">alpha</code></td>
<td>
<p>vector of thresholds for publication bias.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_eta">eta</code></td>
<td>
<p>vector of publication probabilities, normalized to sum to 1.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_log">log</code>, <code id="mpsnorm_+3A_log.p">log.p</code></td>
<td>
<p>logical; If <code>TRUE</code>, probabilities are given as
<code>log(p)</code>.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; If <code>TRUE</code> (default), the probabilities are
<code class="reqn">P[X\leq x]</code> otherwise, <code class="reqn">P[X\geq x]</code>.</p>
</td></tr>
<tr><td><code id="mpsnorm_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken
to be the number required.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions assume a normal underlying effect size distribution and
one-sided selection on the effects. For the fixed effects publication
bias model see <code><a href="#topic+psnorm">psnorm</a></code>.
</p>


<h3>Value</h3>

<p><code>dmpsnorm</code> gives the density, <code>pmpsnorm</code> gives the distribution
function, and <code>rmpsnorm</code> generates random deviates.
</p>


<h3>References</h3>

<p>Hedges, Larry V. &quot;Modeling publication selection effects
in meta-analysis.&quot; Statistical Science (1992): 246-255.
</p>
<p>Moss, Jonas and De Bin, Riccardo. &quot;Modelling publication
bias and p-hacking&quot; Forthcoming (2019)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rmpsnorm(100, theta0 = 0, tau = 0.1, sigma = 0.1, eta = c(1, 0.5, 0.1))
</code></pre>

<hr>
<h2 id='normalizing_constant'>Normalizing Constants for the Publication Selection Meta-Analysis Model</h2><span id='topic+normalizing_constant'></span><span id='topic+I'></span><span id='topic+J'></span>

<h3>Description</h3>

<p>Normalizing constants for the publication selection meta-Analysis model.
These are used in several other functions. The underlying effect size
distribution is normal and the selection is one-sided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>I(sigma, theta, alpha, eta)

J(sigma, theta0, tau, alpha, eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalizing_constant_+3A_sigma">sigma</code></td>
<td>
<p>Numeric; The standard deviation of the study, due to
sampling error.</p>
</td></tr>
<tr><td><code id="normalizing_constant_+3A_theta">theta</code></td>
<td>
<p>Numeric; The mean of the underlying effect size.</p>
</td></tr>
<tr><td><code id="normalizing_constant_+3A_alpha">alpha</code></td>
<td>
<p>Numeric vector; Specifies the thresholds for publication
bias.</p>
</td></tr>
<tr><td><code id="normalizing_constant_+3A_eta">eta</code></td>
<td>
<p>Numeric vector; Containing the probabilities of being a study
with the given p-value from being published. This is normalized so that
the maximal element is 1.</p>
</td></tr>
<tr><td><code id="normalizing_constant_+3A_theta0">theta0</code></td>
<td>
<p>Numeric; The mean of the underlying effect size
distribution.</p>
</td></tr>
<tr><td><code id="normalizing_constant_+3A_tau">tau</code></td>
<td>
<p>Numeric; The standard deviation of the underlying effect
size distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>I</code> calculates the normalizing constant for the density of
the observed effect sizes. The function <code>J</code> calculates the
normalizing constant for the density of the effect size distribution.
</p>


<h3>Value</h3>

<p>The normalizing constant.
</p>

<hr>
<h2 id='phnorm'>p-hacking Meta-analysis Model</h2><span id='topic+phnorm'></span><span id='topic+dphnorm'></span><span id='topic+rphnorm'></span><span id='topic+pphnorm'></span>

<h3>Description</h3>

<p>Density, distribution, and random variate generation for the p-hacking meta-
analysis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dphnorm(x, theta, sigma, alpha = c(0, 0.025, 0.05, 1), eta, log = FALSE)

rphnorm(n, theta, sigma, alpha = c(0, 0.025, 0.05, 1), eta)

pphnorm(
  q,
  theta,
  sigma,
  alpha = c(0, 0.025, 0.05, 1),
  eta,
  lower.tail = TRUE,
  log.p = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="phnorm_+3A_x">x</code>, <code id="phnorm_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_theta">theta</code></td>
<td>
<p>vector of means.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_sigma">sigma</code></td>
<td>
<p>vector of study standard deviations.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_alpha">alpha</code></td>
<td>
<p>vector of thresholds for p-hacking.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_eta">eta</code></td>
<td>
<p>vector of p-hacking probabilities, normalized to sum to 1.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_log">log</code>, <code id="phnorm_+3A_log.p">log.p</code></td>
<td>
<p>logical; If <code>TRUE</code>, probabilities are given as
<code>log(p)</code>.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken
to be the number required.</p>
</td></tr>
<tr><td><code id="phnorm_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; If <code>TRUE</code> (default), the probabilities are
<code class="reqn">P[X\leq x]</code> otherwise, <code class="reqn">P[X\geq x]</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions assume one-sided selection on the effects. <code>alpha</code> contains
the selection thresholds and <code>eta</code> the vector of <em>p</em>-hacking
probabilities. <code>theta</code> is the true effect, while <code>sigma</code> is the true
standard deviation before selection.
</p>


<h3>Value</h3>

<p><code>dphnorm</code> gives the density, <code>pphnorm</code> gives the distribution
function, and <code>rphnorm</code> generates random deviates.
</p>


<h3>References</h3>

<p>Moss, Jonas and De Bin, Riccardo. &quot;Modelling publication
bias and p-hacking&quot; Forthcoming (2019)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rphnorm(100, theta = 0, sigma = 0.1, eta = c(1, 0.5, 0.1))
</code></pre>

<hr>
<h2 id='psnorm'>Publication Selection Meta-analysis Model</h2><span id='topic+psnorm'></span><span id='topic+dpsnorm'></span><span id='topic+ppsnorm'></span><span id='topic+rpsnorm'></span>

<h3>Description</h3>

<p>Density, distribution, quantile, random variate generation, and expectation
calculation for the distribution for the publication selection
meta-analysis model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dpsnorm(x, theta, sigma, alpha = c(0, 0.025, 0.05, 1), eta, log = FALSE)

ppsnorm(
  q,
  theta,
  sigma,
  alpha = c(0, 0.025, 0.05, 1),
  eta,
  lower.tail = TRUE,
  log.p = FALSE
)

rpsnorm(n, theta, sigma, alpha = c(0, 0.025, 0.05, 1), eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="psnorm_+3A_x">x</code>, <code id="psnorm_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_theta">theta</code></td>
<td>
<p>vector of means.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_sigma">sigma</code></td>
<td>
<p>vector of study standard deviations.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_alpha">alpha</code></td>
<td>
<p>vector of thresholds for publication bias.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_eta">eta</code></td>
<td>
<p>vector of publication probabilities, normalized to sum to 1.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_log">log</code>, <code id="psnorm_+3A_log.p">log.p</code></td>
<td>
<p>logical; If <code>TRUE</code>, probabilities are given as
<code>log(p)</code>.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; If <code>TRUE</code> (default), the probabilities are
<code class="reqn">P[X\leq x]</code> otherwise, <code class="reqn">P[X\geq x]</code>.</p>
</td></tr>
<tr><td><code id="psnorm_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken
to be the number required.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The effect size distribution for the publication selection model is not
normal, but has itself been selected for. These functions assume
one-sided selection on the effects. These functions do not assume the
existence of an underlying effect size distribution. For these, see
<code><a href="#topic+mpsnorm">mpsnorm</a></code>.
</p>


<h3>Value</h3>

<p><code>dpsnorm</code> gives the density, <code>ppsnorm</code> gives the distribution
function, and <code>rpsnorm</code> generates random deviates.
</p>


<h3>References</h3>

<p>Hedges, Larry V. &quot;Modeling publication selection effects
in meta-analysis.&quot; Statistical Science (1992): 246-255.
</p>
<p>Moss, Jonas and De Bin, Riccardo. &quot;Modelling publication
bias and p-hacking&quot; Forthcoming (2019)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rpsnorm(100, theta = 0, sigma = 0.1, eta = c(1, 0.5, 0.1))
</code></pre>

<hr>
<h2 id='snorm'>Selected Normal Effect Size Distribution</h2><span id='topic+snorm'></span><span id='topic+dsnorm'></span><span id='topic+rsnorm'></span><span id='topic+esnorm'></span>

<h3>Description</h3>

<p>Density, random variate generation, and expectation calculation for the
effect size distribution of the one-sided normal publication bias model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dsnorm(x, theta0, tau, sigma, alpha = c(0, 0.025, 0.05, 1), eta, log = FALSE)

rsnorm(n, theta0, tau, sigma, alpha = c(0, 0.025, 0.05, 1), eta)

esnorm(theta0, tau, sigma, alpha, eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="snorm_+3A_x">x</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="snorm_+3A_theta0">theta0</code></td>
<td>
<p>vector of means.</p>
</td></tr>
<tr><td><code id="snorm_+3A_tau">tau</code></td>
<td>
<p>vector of heterogeneity parameters.</p>
</td></tr>
<tr><td><code id="snorm_+3A_sigma">sigma</code></td>
<td>
<p>vector of study standard deviations.</p>
</td></tr>
<tr><td><code id="snorm_+3A_alpha">alpha</code></td>
<td>
<p>vector of thresholds for publication bias.</p>
</td></tr>
<tr><td><code id="snorm_+3A_eta">eta</code></td>
<td>
<p>vector of publication probabilities, normalized to sum to 1.</p>
</td></tr>
<tr><td><code id="snorm_+3A_log">log</code></td>
<td>
<p>logical; If <code>TRUE</code>, probabilities are given as
<code>log(p)</code>.</p>
</td></tr>
<tr><td><code id="snorm_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken
to be the number required.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The effect size distribution for the publication selection model is not
normal, but has itself been selected for. These functions assume a
normal underlying effect size distribution and one-sided selection on the
effects.
</p>


<h3>Value</h3>

<p><code>dsnorm</code> gives the density, <code>psnorm</code> gives the distribution
function, and <code>rsnorm</code> generates random deviates.
</p>


<h3>References</h3>

<p>Hedges, Larry V. &quot;Modeling publication selection effects
in meta-analysis.&quot; Statistical Science (1992): 246-255.
</p>
<p>Moss, Jonas and De Bin, Riccardo. &quot;Modelling publication
bias and p-hacking&quot; (2019) arXiv:1911.12445
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rsnorm(100, theta0 = 0, tau = 0.1, sigma = 0.1, eta = c(1, 0.5, 0.1))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

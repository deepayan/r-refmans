<!DOCTYPE html><html><head><title>Help for package interactionTest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {interactionTest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bootFun'><p>Bootstrapping t-statistics</p></a></li>
<li><a href='#fdrInteraction'><p>Critical t-statistic</p></a></li>
<li><a href='#findMultiLims'><p>Determine Critical t-Statistic For Marginal Effects Plot</p></a></li>
<li><a href='#legfig'><p>Replication data for Clark and Golder (2006)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculates Critical Test Statistics to Control False Discovery
Rates in Marginal Effects Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-6-6</td>
</tr>
<tr>
<td>Author:</td>
<td>Justin Esarey and Jane Lawrence Sumner</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Justin Esarey &lt;justin@justinesarey.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements the procedures suggested in Esarey and Sumner (2017) <a href="http://justinesarey.com/interaction-overconfidence.pdf">http://justinesarey.com/interaction-overconfidence.pdf</a> for controlling the false discovery rate when constructing marginal effects plots for models with interaction terms.</td>
</tr>
<tr>
<td>Depends:</td>
<td>stats, R (&ge; 3.4)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-06-06 19:47:51 UTC; justi</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-06-06 21:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='bootFun'>Bootstrapping t-statistics</h2><span id='topic+bootFun'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bootFun(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootFun_+3A_...">...</code></td>
<td>
<p>Any argument to the function (ignored).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Esarey, Justin, and Jane Lawrence Sumner. 2018. &quot;Corrigendum to 'Marginal Effects in Interaction Models: Determining and Controlling the False Positive Rate.'&quot;
</p>

<hr>
<h2 id='fdrInteraction'>Critical t-statistic</h2><span id='topic+fdrInteraction'></span>

<h3>Description</h3>

<p>This function calculates the critical t-statistic to limit the false discovery
rate (Benjamini and Hochberg 1995) for a marginal effects plot to a specified level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fdrInteraction(me.vec, me.sd.vec, df, type = "BH", level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fdrInteraction_+3A_me.vec">me.vec</code></td>
<td>
<p>A vector of marginal effects.</p>
</td></tr>
<tr><td><code id="fdrInteraction_+3A_me.sd.vec">me.sd.vec</code></td>
<td>
<p>A vector of standard deviations for the marginal effects.</p>
</td></tr>
<tr><td><code id="fdrInteraction_+3A_df">df</code></td>
<td>
<p>Degrees of freedom.</p>
</td></tr>
<tr><td><code id="fdrInteraction_+3A_type">type</code></td>
<td>
<p>Should the BH (Benjamini and Hochberg 1999) or BY (Benjamini and Yekutieli 2000) correction be used? Options are &quot;BH&quot; (the default) or &quot;BY&quot;.</p>
</td></tr>
<tr><td><code id="fdrInteraction_+3A_level">level</code></td>
<td>
<p>The level of confidence. Defaults to 0.95.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The critical t-statistic for the interaction.
</p>


<h3>Author(s)</h3>

<p>Justin Esarey and Jane Lawrence Sumner
</p>


<h3>References</h3>

<p>Benjamini, Yoav, and Yosef Hochberg. 1995. &quot;Controlling the False Discovery Rate: A Practical and Powerful Approach to Multiple Testing.&quot; <em>Journal of the Royal Statistical Society, Series B</em> 57(1): 289-300.
</p>
<p>Benjamini, Yoav, and Daniel Yekutieli. 2001. &quot;The Control of the False Discovery Rate in Multiple Testing Under Dependency.&quot; <em>The Annals of Statistics</em> 29(4): 1165-1188.
</p>
<p>Clark, William R., and Matt Golder. 2006. &quot;Rehabilitating Duverger's Theory.&quot; <em>Comparative Political Studies</em> 39(6): 679-708.
</p>
<p>Esarey, Justin, and Jane Lawrence Sumner. 2017. &quot;Marginal Effects in Interaction Models: Determining and Controlling the False Positive Rate.&quot; <em>Comparative Political Studies</em> 51(9): 1144-1176.
</p>
<p>Esarey, Justin, and Jane Lawrence Sumner. 2018. &quot;Corrigendum to 'Marginal Effects in Interaction Models: Determining and Controlling the False Positive Rate.'&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
data(legfig)                # Clark and Golder 2006 replication data

# limit to established democracies from the 1990s
dat&lt;-subset(legfig, subset=(nineties==1 &amp; old==1))

lin.mod &lt;- lm(enep1 ~ eneg + logmag + logmag_eneg + uppertier_eneg + uppertier +
proximity1 + proximity1_enpres + enpres, data=dat)

# save betas
beta.mod &lt;- coefficients(lin.mod)
# save vcv
vcv.mod &lt;- vcov(lin.mod)

# calculate MEs
mag &lt;- seq(from=0.01, to=5, by=0.01)
me.vec &lt;- beta.mod[2] + beta.mod[4]*mag
me.se &lt;- sqrt( vcv.mod[2,2] + (mag^2)*vcv.mod[4,4] + 2*(mag)*(vcv.mod[2,4]) )

ci.hi &lt;- me.vec + 1.697 * me.se
ci.lo &lt;- me.vec - 1.697 * me.se

plot(me.vec ~ mag, type="l", ylim = c(-4, 6))
lines(ci.hi ~ mag, lty=2)
lines(ci.lo ~ mag, lty=2)

fdrInteraction(me.vec, me.se, df=lin.mod$df, level=0.90)                  # 4.233986

ci.hi &lt;- me.vec + 4.233986 * me.se
ci.lo &lt;- me.vec - 4.233986 * me.se

lines(ci.hi ~ mag, lty=2, lwd=2)
lines(ci.lo ~ mag, lty=2, lwd=2)

abline(h=0, lty=1, col="gray")
legend("topleft", lwd=c(1,2), lty=c(1,2), legend=c("90% CI", "90% FDR CI"))

## End(Not run)
</code></pre>

<hr>
<h2 id='findMultiLims'>Determine Critical t-Statistic For Marginal Effects Plot</h2><span id='topic+findMultiLims'></span>

<h3>Description</h3>

<p>This function is defunct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findMultiLims(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findMultiLims_+3A_...">...</code></td>
<td>
<p>Any argument to the function (ignored).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Esarey, Justin, and Jane Lawrence Sumner. 2018. &quot;Corrigendum to 'Marginal Effects in Interaction Models: Determining and Controlling the False Positive Rate.'&quot;
</p>

<hr>
<h2 id='legfig'>Replication data for Clark and Golder (2006)</h2><span id='topic+legfig'></span>

<h3>Description</h3>

<p>District magnitude and ethnic heterogeneity data from a pooled sample of 
established democracies in the 1990s. Data originally
from Clark and Golder (2006).
</p>


<h3>Format</h3>

<p>A data frame with 754 rows and 33 variables:
</p>

<dl>
<dt>country</dt><dd><p>country name</p>
</dd>
<dt>countrynumber</dt><dd><p>country number</p>
</dd>
<dt>year</dt><dd><p>year of observation</p>
</dd>
<dt>enep1</dt><dd><p>electoral parties</p>
</dd>
<dt>eneg</dt><dd><p>ethnic heterogeneity</p>
</dd>
<dt>logmag</dt><dd><p>district magnitude</p>
</dd>
<dt>legelec</dt><dd><p>legislative election</p>
</dd>
<dt>preselec</dt><dd><p>presidential election</p>
</dd>
<dt>regime</dt><dd><p>regime as of 31 Dec of given year (0=democracy, 1=dictatorship)</p>
</dd>
<dt>regime_leg</dt><dd><p>regime type at time of leg. election (0=democracy, 1=dictatorship)</p>
</dd>
<dt>eighties</dt><dd><p>election in 1980s closest to 1985</p>
</dd>
<dt>nineties</dt><dd><p>election in 1990s closest to 1995</p>
</dd>
<dt>old</dt><dd><p>elections in countries that did not transition to democracy in 1990s</p>
</dd>
<dt>avemag</dt><dd><p>average district magnitude</p>
</dd>
<dt>districts</dt><dd><p>number of electoral districts</p>
</dd>
<dt>enep</dt><dd><p>effective number of ethnic groups fearon</p>
</dd>
<dt>enep_others</dt><dd><p>n/a</p>
</dd>
<dt>enpp</dt><dd><p>parliamentary parties - uncorrected</p>
</dd>
<dt>enpp_others</dt><dd><p>n/a</p>
</dd>
<dt>enpp1</dt><dd><p>parliamentary parties - corrected</p>
</dd>
<dt>enpres</dt><dd><p>effective number of presidential candidates</p>
</dd>
<dt>medmag</dt><dd><p>median district magnitude</p>
</dd>
<dt>newdem</dt><dd><p>first election of new democracy</p>
</dd>
<dt>proximity1</dt><dd><p>proximity - continuous</p>
</dd>
<dt>proximity2</dt><dd><p>proximity - dichotomous</p>
</dd>
<dt>seats</dt><dd><p>assembly size</p>
</dd>
<dt>upperseats</dt><dd><p>number of upper tier seats</p>
</dd>
<dt>uppertier</dt><dd><p>percentage of uppertier seats</p>
</dd>
<dt>uppertier_eneg</dt><dd><p>uppertier*eneg</p>
</dd>
<dt>logmag_eneg</dt><dd><p>logmag*eneg</p>
</dd>
<dt>proximity1_enpres</dt><dd><p>proximity1*enpres</p>
</dd>
<dt>twoelections</dt><dd><p>n/a</p>
</dd>
<dt>twoelections1</dt><dd><p>n/a</p>
</dd>
</dl>
<p>...
</p>


<h3>Source</h3>

<p>Clark, William R., and Matt Golder. 2006. &quot;Rehabilitating Duverger's Theory.&quot; <em>Comparative Political Studies</em> 39(6): 679-708.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

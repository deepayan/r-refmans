<!DOCTYPE html><html><head><title>Help for package circle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {circle}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#browse_circle_token'><p>Authenticate to Circle CI</p></a></li>
<li><a href='#builds'><p>Retrieve Metadata from Circle CI Builds</p></a></li>
<li><a href='#checkout_key'><p>Interact with &quot;Checkout Keys&quot; on Circle CI</p></a></li>
<li><a href='#circle'><p>Circle CI HTTP Requests</p></a></li>
<li><a href='#circle-package'><p>Circle CI API Client</p></a></li>
<li><a href='#edit_circle_config'><p>Open circle Configuration file</p></a></li>
<li><a href='#enable_repo'><p>Enable a repo on Circle CI</p></a></li>
<li><a href='#env_var'><p>Interact with Environment Variable(s) on Circle CI</p></a></li>
<li><a href='#get_build_artifacts'><p>Get Build Artifacts of a Specific Job</p></a></li>
<li><a href='#get_circle_user'><p>Get Circle CI user</p></a></li>
<li><a href='#github_info'><p>Github information</p></a></li>
<li><a href='#list_projects'><p>List Circle CI Projects</p></a></li>
<li><a href='#new_build'><p>Trigger a New Build on Circle CI</p></a></li>
<li><a href='#use_circle_deploy'><p>Set Up Build Deployment Between Circle CI And Github</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>R Client Package for Circle CI</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for interacting with the 'Circle CI' API
    (<a href="https://circleci.com/docs/api/v2/">https://circleci.com/docs/api/v2/</a>). Besides executing common tasks
    such as querying build logs and restarting builds, this package also
    helps setting up permissions to deploy from builds.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/circle/">https://docs.ropensci.org/circle/</a>,
<a href="https://github.com/ropensci/circle">https://github.com/ropensci/circle</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/circle/issues">https://github.com/ropensci/circle/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 2.0.0), httr, jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>clipr, covr, gert, gh, knitr, openssl, purrr, rmarkdown,
testthat (&ge; 3.0.0), usethis (&ge; 2.0.0), utils, vcr, withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-24 07:25:26 UTC; pjs</td>
</tr>
<tr>
<td>Author:</td>
<td>Patrick Schratz <a href="https://orcid.org/0000-0003-0748-6624"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Max Joseph [rev] (Max reviewed the package for ropensci, see
    &lt;https://github.com/ropensci/software-review/issues/356&gt;),
  Sharla Gelfand [rev] (Sharla reviewed the package for ropensci, see
    &lt;https://github.com/ropensci/software-review/issues/356&gt;)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Patrick Schratz &lt;patrick.schratz@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-24 07:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='browse_circle_token'>Authenticate to Circle CI</h2><span id='topic+browse_circle_token'></span>

<h3>Description</h3>

<p>A Circle CI API token is needed to interact with the Circle CI API.
<code>browse_circle_token()</code> opens a browser window for the respective Circle CI
endpoint to retrieve the key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse_circle_token()
</code></pre>


<h3>Value</h3>

<p>Returns <code>TRUE</code> (invisibly).
</p>


<h3>Store API token</h3>

<p><code>circle</code> supports two ways of storing the Circle API tokens:
</p>

<ul>
<li><p> via env vars <code>R_CIRCLE</code>
</p>
</li>
<li><p> via <code style="white-space: pre;">&#8288;~/.circleci/cli.yml&#8288;</code>
</p>
</li></ul>

<p>The latter should already be present if you already used the <code>circle</code> CLI
tool at some point in the past. If not, its up to your preference which
approach to use.
</p>
<p>The following instructions should help to set up <code style="white-space: pre;">&#8288;~/.circleci/cli.yml&#8288;</code>
correctly:
</p>

<ol>
<li><p> Copy the token from the browser after having called
<code>browse_circle_token()</code>. You can use
<code>edit_circle_config()</code> to open <code style="white-space: pre;">&#8288;~/.circleci/cli.yml&#8288;</code>.
</p>
</li>
<li><p> The token should be stored using the following structure
</p>
<div class="sourceCode sh"><pre>host: https://circleci.com
endpoint: graphql-unstable
token: &lt;token&gt;
</pre></div>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
browse_circle_token()

edit_circle_config()

## End(Not run)
</code></pre>

<hr>
<h2 id='builds'>Retrieve Metadata from Circle CI Builds</h2><span id='topic+builds'></span><span id='topic+get_pipelines'></span><span id='topic+get_workflows'></span><span id='topic+get_jobs'></span><span id='topic+retry_workflow'></span>

<h3>Description</h3>

<p>Query information about pipelines, workflows or jobs on
Circle CI.
The S3 <code>print()</code> method for these functions returns the respective
pipeline IDs.
To inspect the details of each pipeline, save the return value in an object
and inspect the respective sub-lists.
</p>
<p>If no pipeline or workflow is supplied to <code>get_workflows()</code>/<code>get_jobs()</code>,
the ten most recent pipelines/jobs are queried, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pipelines(
  repo = github_info()$name,
  user = github_info()$owner$login,
  limit = 30,
  vcs_type = "gh",
  api_version = "v2"
)

get_workflows(
  pipeline_id = NULL,
  repo = github_info()$name,
  user = github_info()$owner$login
)

get_jobs(
  workflow_id = NULL,
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh"
)

retry_workflow(workflow_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="builds_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="builds_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="builds_+3A_limit">limit</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[integer]&#8288;</code><br />
How many builds should be returned? Maximum allowed by Circle is
30.</p>
</td></tr>
<tr><td><code id="builds_+3A_vcs_type">vcs_type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br /> The version control system to use.
Defaults to &quot;gh&quot; (Github).</p>
</td></tr>
<tr><td><code id="builds_+3A_api_version">api_version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string specifying the Circle CI API version.
This usually does not need to be changed by the user.</p>
</td></tr>
<tr><td><code id="builds_+3A_pipeline_id">pipeline_id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A Circle CI pipeline ID.</p>
</td></tr>
<tr><td><code id="builds_+3A_workflow_id">workflow_id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A Circle CI workflow ID.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>While the <code style="white-space: pre;">&#8288;get_*()&#8288;</code> functions query information about the respective
build level details (pipeline - workflow - job), <code>retry_workflow()</code> let's
users rerun a specific workflow.
By default, the workflow from the most recent pipeline will be rerun if
no pipeline ID was supplied.
</p>


<h3>Value</h3>

<p>An object of class <code>circle_collection</code> containing list
information on the queried Circle CI pipelines/workflows/jobs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pipelines &lt;- get_pipelines()

workflows &lt;- get_workflows()

jobs &lt;- get_jobs()

# rerun most recent workflow
retry_workflow()

## End(Not run)
</code></pre>

<hr>
<h2 id='checkout_key'>Interact with &quot;Checkout Keys&quot; on Circle CI</h2><span id='topic+checkout_key'></span><span id='topic+create_checkout_key'></span><span id='topic+get_checkout_keys'></span><span id='topic+delete_checkout_key'></span><span id='topic+has_checkout_key'></span>

<h3>Description</h3>

<p>Create, delete, query or check different types of checkout keys
for a specific Circle CI project.
Valid values for argument <code>type</code> are <code>"user-key"</code> or <code>"deploy-key"</code>.
</p>
<p>A &quot;Checkout Key&quot; on Circle CI is a specific SSH key which is used to checkout
repositories into a Circle CI build and possible deploy changes to the
repository.
Circle CI subdivides &quot;Checkout Keys&quot; into &quot;user-key&quot; and &quot;deploy-key&quot;.
</p>
<p>Please see &quot;Deployment&quot; section in the &quot;Getting Started&quot; vignette for more
information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_checkout_key(
  repo = github_info()$name,
  user = github_info()$owner$login,
  type = "user-key",
  api_version = "v2",
  vcs_type = "gh",
  quiet = FALSE
)

get_checkout_keys(
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  api_version = "v2"
)

delete_checkout_key(
  fingerprint = NULL,
  repo = github_info()$name,
  user = github_info()$owner$login,
  type = "user-key",
  api_version = "v2",
  vcs_type = "gh"
)

has_checkout_key(
  repo = github_info()$name,
  user = github_info()$owner$login,
  type = "github-user-key",
  vcs_type = "gh",
  preferred = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkout_key_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_type">type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
Type of key to add. Options are &quot;user-key&quot; and &quot;deploy-key&quot;.</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_api_version">api_version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string specifying the Circle CI API version.
This usually does not need to be changed by the user.</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_vcs_type">vcs_type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br /> The version control system to use.
Defaults to &quot;gh&quot; (Github).</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_quiet">quiet</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[logical]&#8288;</code><br />
If <code>TRUE</code>, console output is suppressed.</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_fingerprint">fingerprint</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The fingerprint of the checkout key which should be deleted.</p>
</td></tr>
<tr><td><code id="checkout_key_+3A_preferred">preferred</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[logical]&#8288;</code><br />
Checks whether the requested type is the &quot;preferred&quot; key.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# by default a "user-key" will be created which can also be used for build
# deployments
create_checkout_key()

# A "deploy-key" can only be used to checkout code from the repository into
# a Circle CI build
create_checkout_key(type = "deploy-key")

## End(Not run)
## Not run: 
get_checkout_keys()

## End(Not run)
## Not run: 
delete_checkout_key()

## End(Not run)
## Not run: 
has_checkout_key()

## End(Not run)
</code></pre>

<hr>
<h2 id='circle'>Circle CI HTTP Requests</h2><span id='topic+circle'></span>

<h3>Description</h3>

<p>Workhorse function for executing API requests to
Circle CI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>circle(
  verb = "GET",
  path = "",
  query = list(),
  body = "",
  api_version = "v2",
  encode = "json"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="circle_+3A_verb">verb</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string containing an HTTP verb, defaulting to <code>GET</code>.</p>
</td></tr>
<tr><td><code id="circle_+3A_path">path</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string with the API endpoint (should begin with a slash).</p>
</td></tr>
<tr><td><code id="circle_+3A_query">query</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A list specifying any query string arguments to pass to the API.
This is used to pass the API token.</p>
</td></tr>
<tr><td><code id="circle_+3A_body">body</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A named list or array of what should be passed in the
request.
Corresponds to the &quot;-d&quot; argument of the <code>curl</code> command.</p>
</td></tr>
<tr><td><code id="circle_+3A_api_version">api_version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string specifying the Circle CI API version.
This usually does not need to be changed by the user.</p>
</td></tr>
<tr><td><code id="circle_+3A_encode">encode</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
Encoding format. See <a href="httr.html#topic+POST">httr::POST</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In almost all cases, users should not need to execute API calls
directly. However, if desired this functions makes it possible to issue
any API request. If you experience calling a custom request heavily,
consider opening a feature request on GitHub.
</p>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
circle(verb = "GET", path = "/project/gh/ropensci/circle/checkout-key")

## End(Not run)
</code></pre>

<hr>
<h2 id='circle-package'>Circle CI API Client</h2><span id='topic+circle-package'></span>

<h3>Description</h3>

<p>This package provides functionality for interacting with the
Circle CI API. <a href="https://circleci.com">Circle CI</a> is a continuous
integration provider which allows for
automated testing of software each time that software is publicly committed
to a repository on GitHub.
</p>
<p>This package interacts with the Circle CI REST API and allows to execute
tasks in R without visiting the the website. This includes monitoring
builds, modifying build environment settings and environment variables, and
cancelling or restarting builds.
</p>
<p>Use of this package requires a Circle API key. Unless a key is already set,
users will be guided through the creation of a key,
API keys are disposable, but should still be treated securely.
</p>
<p>The following functions simplify integrating R package testing and
deployment with GitHub and Circle CI:
</p>

<ul>
<li> <p><code><a href="#topic+enable_repo">enable_repo()</a></code> enables Circle CI for your repository,
</p>
</li>
<li> <p><code><a href="#topic+use_circle_deploy">use_circle_deploy()</a></code> installs a public deploy key on GitHub and the
corresponding private key on Circle CI to simplify deployments to GitHub
from Circle CI.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# check to see if you've authenticated correctly
get_circle_user()

## End(Not run)

</code></pre>

<hr>
<h2 id='edit_circle_config'>Open circle Configuration file</h2><span id='topic+edit_circle_config'></span>

<h3>Description</h3>

<p>Opens <code style="white-space: pre;">&#8288;~/.circleci/cli.yml&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_circle_config()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='enable_repo'>Enable a repo on Circle CI</h2><span id='topic+enable_repo'></span>

<h3>Description</h3>

<p>&quot;Follows&quot; a repo on Circle CI so that builds can be triggered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enable_repo(
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  api_version = "v1.1",
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="enable_repo_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="enable_repo_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="enable_repo_+3A_vcs_type">vcs_type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br /> The version control system to use.
Defaults to &quot;gh&quot; (Github).</p>
</td></tr>
<tr><td><code id="enable_repo_+3A_api_version">api_version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string specifying the Circle CI API version.
This usually does not need to be changed by the user.</p>
</td></tr>
<tr><td><code id="enable_repo_+3A_quiet">quiet</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[logical]&#8288;</code><br />
If <code>TRUE</code>, console output is suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
enable_repo()

## End(Not run)
</code></pre>

<hr>
<h2 id='env_var'>Interact with Environment Variable(s) on Circle CI</h2><span id='topic+env_var'></span><span id='topic+get_env_vars'></span><span id='topic+set_env_var'></span><span id='topic+delete_env_var'></span>

<h3>Description</h3>

<p>Add, get or set Circle CI environment variable(s) for a repo on
Circle CI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_env_vars(
  name = NULL,
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  api_version = "v2"
)

set_env_var(
  var,
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  api_version = "v2",
  quiet = FALSE
)

delete_env_var(
  var,
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  api_version = "v2",
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="env_var_+3A_name">name</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
Name of a specific environment variable.
If not set, all env vars are returned.</p>
</td></tr>
<tr><td><code id="env_var_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="env_var_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="env_var_+3A_vcs_type">vcs_type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br /> The version control system to use.
Defaults to &quot;gh&quot; (Github).</p>
</td></tr>
<tr><td><code id="env_var_+3A_api_version">api_version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string specifying the Circle CI API version.
This usually does not need to be changed by the user.</p>
</td></tr>
<tr><td><code id="env_var_+3A_var">var</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[list]&#8288;</code><br />
A list containing key-value pairs of environment variable and its value.</p>
</td></tr>
<tr><td><code id="env_var_+3A_quiet">quiet</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[logical]&#8288;</code><br />
If <code>TRUE</code>, console output is suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get env var
get_env_vars()

# set env var
set_env_var(var = list("foo" = "123"))

# delete env var
delete_env_var("foo")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_build_artifacts'>Get Build Artifacts of a Specific Job</h2><span id='topic+get_build_artifacts'></span>

<h3>Description</h3>

<p>Retrieve artifacts from a specific build.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_build_artifacts(
  job_id = NULL,
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  api_version = "v2"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_build_artifacts_+3A_job_id">job_id</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A Circle CI job id.</p>
</td></tr>
<tr><td><code id="get_build_artifacts_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="get_build_artifacts_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="get_build_artifacts_+3A_vcs_type">vcs_type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br /> The version control system to use.
Defaults to &quot;gh&quot; (Github).</p>
</td></tr>
<tr><td><code id="get_build_artifacts_+3A_api_version">api_version</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
A character string specifying the Circle CI API version.
This usually does not need to be changed by the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
job_id &lt;- get_jobs()[[1]]$id
get_build_artifacts(job_id)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_circle_user'>Get Circle CI user</h2><span id='topic+get_circle_user'></span>

<h3>Description</h3>

<p>Retrieve details about the authenticated Circle CI user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_circle_user()
</code></pre>


<h3>Value</h3>

<p>A named vector of class <code>circle_user</code> containing information about
about the authenticated user:
</p>

<ul>
<li><p> Full name
</p>
</li>
<li><p> Username
</p>
</li>
<li><p> ID
</p>
</li>
<li><p> API endpoint
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_circle_user()

## End(Not run)
</code></pre>

<hr>
<h2 id='github_info'>Github information</h2><span id='topic+github_info'></span>

<h3>Description</h3>

<p>Retrieves metadata about a Git repository from GitHub.
</p>
<p><code>github_info()</code> returns a list as obtained from the GET &quot;/repos/:repo&quot; API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>github_info(path = ".", remote = "origin", .token = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="github_info_+3A_path">path</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[string]&#8288;</code><br />
The path to a GitHub-enabled Git repository (or a subdirectory thereof).</p>
</td></tr>
<tr><td><code id="github_info_+3A_remote">remote</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The Github remote which should be used.</p>
</td></tr>
<tr><td><code id="github_info_+3A_.token">.token</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
Authentication token. Defaults to GITHUB_PAT or GITHUB_TOKEN environment
variables, in this order if any is set. See gh_token() if you need more
flexibility, e.g. different tokens for different GitHub Enterprise
deployments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>gh_response</code> (list type) with information about the
queried repository.
</p>

<hr>
<h2 id='list_projects'>List Circle CI Projects</h2><span id='topic+list_projects'></span>

<h3>Description</h3>

<p>Retrieve a list of Circle CI repositories for the authenticated
user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_projects(repo = github_info()$name, user = github_info()$owner$login)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_projects_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="list_projects_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Retrieves a very detailed list of repository and repo-related
information for all Circle CI repository attached to the current user.
</p>
<p>This endpoint uses API v1.1 and will probably be removed in the near
future.
</p>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+get_pipelines">get_pipelines()</a></code>, <code><a href="#topic+get_workflows">get_workflows()</a></code>, <code><a href="#topic+get_jobs">get_jobs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
list_projects()

## End(Not run)
</code></pre>

<hr>
<h2 id='new_build'>Trigger a New Build on Circle CI</h2><span id='topic+new_build'></span>

<h3>Description</h3>

<p>Triggers a new build for a specific repo branch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_build(
  repo = github_info()$name,
  user = github_info()$owner$login,
  vcs_type = "gh",
  branch = "master",
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_build_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="new_build_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="new_build_+3A_vcs_type">vcs_type</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br /> The version control system to use.
Defaults to &quot;gh&quot; (Github).</p>
</td></tr>
<tr><td><code id="new_build_+3A_branch">branch</code></td>
<td>
<p>A character string specifying the repository branch.</p>
</td></tr>
<tr><td><code id="new_build_+3A_quiet">quiet</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[logical]&#8288;</code><br />
If <code>TRUE</code>, console output is suppressed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Trigger a new Circle CI build for a specific repo branch.
</p>


<h3>Value</h3>

<p>An object of class <code>circle_api</code> with the following elements
</p>

<ul>
<li> <p><code>content</code> (queried content)
</p>
</li>
<li> <p><code>path</code> (API request)
</p>
</li>
<li> <p><code>response</code> (HTTP response information)
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+retry_workflow">retry_workflow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
new_build()

## End(Not run)
</code></pre>

<hr>
<h2 id='use_circle_deploy'>Set Up Build Deployment Between Circle CI And Github</h2><span id='topic+use_circle_deploy'></span>

<h3>Description</h3>

<p>Creates a Circle CI &quot;user-key&quot; (= SSH key pair) if none exists
yet to enable deployment from Circle CI builds to GitHub.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_circle_deploy(
  repo = github_info()$name,
  user = github_info()$owner$login,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_circle_deploy_+3A_repo">repo</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The repository slug to use. Must follow the &quot;<code>user/repo</code>&quot; structure.</p>
</td></tr>
<tr><td><code id="use_circle_deploy_+3A_user">user</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[character]&#8288;</code><br />
The username for the repository. By default queried using <code>get_user()</code>.</p>
</td></tr>
<tr><td><code id="use_circle_deploy_+3A_quiet">quiet</code></td>
<td>
<p><code style="white-space: pre;">&#8288;[logical]&#8288;</code><br />
If <code>TRUE</code>, console output is suppressed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The easiest way to achieve a deployment from Circle CI builds to a Github
repo is by creating a so called &quot;user-key&quot; (i.e. an SSH key pair) on
Circle CI.
</p>
<p><code>use_circle_deploy()</code> tries to be smart by exiting early if such a key is
already present.
</p>
<p>If the repo has not been enabled yet on Circle CI, please run <code>enable_repo()</code>
first.
Also to be able to authenticate to Github in the first place a personal
access token needs to be set (via env var <code>GITHUB_TOKEN</code>).
<code>usethis::github_token()</code> can be used to check if one is already set.
If none is set, this function will prompt you to create one.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
use_circle_deploy()

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

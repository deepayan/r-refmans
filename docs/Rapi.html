<!DOCTYPE html><html><head><title>Help for package Rapi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rapi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25inn+25'><p>%inn%</p></a></li>
<li><a href='#change_cache_folder'><p>Sets the cache folder or changes it if it was already set to save caches.</p></a></li>
<li><a href='#excel'><p>Creates an excel file from a data.frame or a list of data.frame or from</p>
Rapi_GETPREP object.</a></li>
<li><a href='#get_series'><p>Requests data from multiple data sources.</p></a></li>
<li><a href='#inn'><p>inn</p></a></li>
<li><a href='#lag_df'><p>lag_df</p></a></li>
<li><a href='#lag_df2'><p>lag_df2</p></a></li>
<li><a href='#print.Rapi_GETPREP'><p>print.Rapi_GETPREP</p>
Generic method for S3 Rapi_GETPREP object</a></li>
<li><a href='#Rapi-build-checks'><p>Dummy examples to check build step</p></a></li>
<li><a href='#remove_columns'><p>Remove a column or columns from a data.frame.</p></a></li>
<li><a href='#remove_na_safe'><p>remove_na_safe</p></a></li>
<li><a href='#set_api_key'><p>set_api_key</p></a></li>
<li><a href='#template_test'><p>template_test</p>
creates a string template for testing and example purposes</a></li>
<li><a href='#verbose_off'><p>Turn Off Verbose Mode</p></a></li>
<li><a href='#verbose_on'><p>Turn On Verbose Mode</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface for Multiple Data Providers 'EDDS' and 'FRED'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-06</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sermet Pekin &lt;sermet.pekin@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DataRapi/Rapi">https://github.com/DataRapi/Rapi</a>, <a href="https://DataRapi.github.io/Rapi/">https://DataRapi.github.io/Rapi/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DataRapi/Rapi/issues">https://github.com/DataRapi/Rapi/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Interface for multiple data sources, such as the 
    'EDDS' API <a href="https://evds2.tcmb.gov.tr/index.php?/evds/userDocs">https://evds2.tcmb.gov.tr/index.php?/evds/userDocs</a> of the 
    Central Bank of the Republic of TÃ¼rkiye and the 
    'FRED' API <a href="https://fred.stlouisfed.org/docs/api/fred/">https://fred.stlouisfed.org/docs/api/fred/</a> of the Federal Reserve Bank. 
    Both data providers require API keys for access, which users can easily obtain 
    by creating accounts on their respective websites. 
    The package provides caching ability with the selection of periods to increase the 
    speed and efficiency of requests. 
    It combines datasets requested from different sources, 
    helping users when the data has common frequencies. 
    While combining data frames whenever possible, it also keeps all requested data
    available as separate data frames to increase efficiency.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.3), Rcpp</td>
</tr>
<tr>
<td>Imports:</td>
<td>crayon, digest, dplyr, httr, httr2, glue, jsonlite, lubridate,
magrittr, purrr, rlang, rlist, stringr, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>writexl , devtools, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-06 16:15:56 UTC; sermetpekin</td>
</tr>
<tr>
<td>Author:</td>
<td>Sermet Pekin [aut, cre, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-06 23:43:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25inn+25'>%inn%</h2><span id='topic++25inn+25'></span>

<h3>Description</h3>

<p>Checks if the second parameter includes the first one as a value, a column name, or a name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %inn% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25inn+2B25_+3A_x">x</code></td>
<td>
<p>Character to check if it exists in a vector or list.</p>
</td></tr>
<tr><td><code id="+2B25inn+2B25_+3A_table">table</code></td>
<td>
<p>List, data frame, or any vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value TRUE if it exists, FALSE if it does not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>.check &lt;- "a" %inn% data.frame(a = 1:5)
</code></pre>

<hr>
<h2 id='change_cache_folder'>Sets the cache folder or changes it if it was already set to save caches.</h2><span id='topic+change_cache_folder'></span>

<h3>Description</h3>

<p>Sets the cache folder or changes it if it was already set to save caches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>change_cache_folder(folder = null, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="change_cache_folder_+3A_folder">folder</code></td>
<td>
<p>Folder to set as a cache folder. The default value is NULL,
which triggers the check_users_choice_if_cache function that provides some
options to the user to use it as a cache folder, a temporary one, or disable caching.</p>
</td></tr>
<tr><td><code id="change_cache_folder_+3A_verbose">verbose</code></td>
<td>
<p>Boolean. If TRUE, it provides information when the
cache folder is set. Otherwise, it only prints a warning when there is an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>change_cache_folder("my_cache_folder", verbose = TRUE)
</code></pre>

<hr>
<h2 id='excel'>Creates an excel file from a data.frame or a list of data.frame or from
Rapi_GETPREP object.</h2><span id='topic+excel'></span>

<h3>Description</h3>

<p>The excel() function creates an excel file according to the object given.
data.frame or List of data frame or Rapi_GETPREP object can be passed..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>excel(
  dfs = null,
  file_name = null,
  folder = null,
  .debug = FALSE,
  env = rlang::caller_env(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="excel_+3A_dfs">dfs</code></td>
<td>
<p>object or list of data frame to write</p>
</td></tr>
<tr><td><code id="excel_+3A_file_name">file_name</code></td>
<td>
<p>file name to save</p>
</td></tr>
<tr><td><code id="excel_+3A_folder">folder</code></td>
<td>
<p>folder to save file</p>
</td></tr>
<tr><td><code id="excel_+3A_.debug">.debug</code></td>
<td>
<p>for internal use</p>
</td></tr>
<tr><td><code id="excel_+3A_env">env</code></td>
<td>
<p>environment</p>
</td></tr>
<tr><td><code id="excel_+3A_...">...</code></td>
<td>
<p>for future versions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>it returns object or list of data frame back
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
excel(data.frame(a = 1:3), file_name = "test1.xlsx", folder = ".")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_series'>Requests data from multiple data sources.</h2><span id='topic+get_series'></span>

<h3>Description</h3>

<p>The <code>get_series()</code> function retrieves data from various sources, including the EDDS API and FRED API at this version.
When multiple indexes are provided as a character vector or string template, the function individually
requests each item from the corresponding sources, discerning the source from the item's format.
The function combines data frames when there are common frequencies and returns both a combined data frame and
individual data frames for each requested item.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_series(
  index = NULL,
  start_date = default_start_date(),
  end_date = default_end_date(),
  freq = NULL,
  cache = FALSE,
  na.remove = TRUE,
  verbose = NULL,
  ...,
  source = c("multi", "evds", "fred"),
  base = c("multi", "series", "table"),
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_series_+3A_index">index</code></td>
<td>
<p>A character vector or string representing the index to be retrieved.</p>
</td></tr>
<tr><td><code id="get_series_+3A_start_date">start_date</code></td>
<td>
<p>Limits the start date of the data.</p>
</td></tr>
<tr><td><code id="get_series_+3A_end_date">end_date</code></td>
<td>
<p>Limits the end date of the data.</p>
</td></tr>
<tr><td><code id="get_series_+3A_freq">freq</code></td>
<td>
<p>Frequency of the data (rarely needed).</p>
</td></tr>
<tr><td><code id="get_series_+3A_cache">cache</code></td>
<td>
<p>If FALSE, a new request will be made; if TRUE, cached data will be used.</p>
</td></tr>
<tr><td><code id="get_series_+3A_na.remove">na.remove</code></td>
<td>
<p>If TRUE, NA values are removed only if all columns are NA.</p>
</td></tr>
<tr><td><code id="get_series_+3A_verbose">verbose</code></td>
<td>
<p>If TRUE, prints information during the process; if FALSE, silently does its job.
default is NULL which implies applying default verbose option. If this function is called with
a TRUE or FALSE value it changes global verbose option for <code>Rapi</code> package.
If verbose option is FALSE it gives a warning only if something goes wrong.</p>
</td></tr>
<tr><td><code id="get_series_+3A_...">...</code></td>
<td>
<p>Additional parameters for future versions.</p>
</td></tr>
<tr><td><code id="get_series_+3A_source">source</code></td>
<td>
<p>Source such as &quot;evds&quot; or &quot;fred&quot; for internal use at this version.</p>
</td></tr>
<tr><td><code id="get_series_+3A_base">base</code></td>
<td>
<p>Table or series on the source for internal use at this version.</p>
</td></tr>
<tr><td><code id="get_series_+3A_debug">debug</code></td>
<td>
<p>Debug option for development.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object, Rapi_GETPREP, which has generic functions such as print and excel.
The <code>print</code> generic provides hints to the user on how to use requested data,
such as creating output with the <code>excel</code> function or examining requested data in the global environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
o &lt;- get_series(template_test())
excel(o)
object &lt;- get_series("UNRATE", start_date = "2000/01/01", na.remove = TRUE)
excel(object)

## End(Not run)
</code></pre>

<hr>
<h2 id='inn'>inn</h2><span id='topic+inn'></span>

<h3>Description</h3>

<p>Checks if the second parameter includes the first one as a value, a column name, or a name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inn(x, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inn_+3A_x">x</code></td>
<td>
<p>Character to check if it exists in a vector or list.</p>
</td></tr>
<tr><td><code id="inn_+3A_table">table</code></td>
<td>
<p>List, data frame, or any vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value TRUE if it exists, FALSE if it does not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>.check &lt;- inn("a", list(a = 1:5))
</code></pre>

<hr>
<h2 id='lag_df'>lag_df</h2><span id='topic+lag_df'></span>

<h3>Description</h3>

<p>The <code>lag_df</code> function creates additional columns based on a list of column names
and lag sequences. This feature is beneficial for scenarios where you need
varying lag selections for certain columns, allowing flexibility in specifying
different lags for different columns or opting for no lag at all.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lag_df(df, laglist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lag_df_+3A_df">df</code></td>
<td>
<p>A data.frame or tibble.</p>
</td></tr>
<tr><td><code id="lag_df_+3A_laglist">laglist</code></td>
<td>
<p>A list of column names where each index corresponds to a column
name and the associated value is the lag sequence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(a = 1:15, b = 2:16)
tb &lt;- lag_df(df, laglist = list(a = 1:5, b = 1:3))
</code></pre>

<hr>
<h2 id='lag_df2'>lag_df2</h2><span id='topic+lag_df2'></span>

<h3>Description</h3>

<p>The <code>lag_df2</code> function creates additional columns based on a list of column names
and lag sequences. This feature is beneficial for scenarios where you need
varying lag selections for certain columns, allowing flexibility in specifying
different lags for different columns or opting for no lag at all.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lag_df2(df, laglist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lag_df2_+3A_df">df</code></td>
<td>
<p>A data.frame or tibble.</p>
</td></tr>
<tr><td><code id="lag_df2_+3A_laglist">laglist</code></td>
<td>
<p>A list of column names where each index corresponds to a column
name and the associated value is the lag sequence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(a = 1:15, b = 2:16)
df2 &lt;- lag_df2(df, laglist = list(a = 1:5, b = 1:3))
</code></pre>

<hr>
<h2 id='print.Rapi_GETPREP'>print.Rapi_GETPREP
Generic method for S3 Rapi_GETPREP object</h2><span id='topic+print.Rapi_GETPREP'></span>

<h3>Description</h3>

<p>print.Rapi_GETPREP
Generic method for S3 Rapi_GETPREP object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Rapi_GETPREP'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Rapi_GETPREP_+3A_x">x</code></td>
<td>
<p>S3 Rapi_GETPREP object</p>
</td></tr>
<tr><td><code id="print.Rapi_GETPREP_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 Rapi_GETPREP object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

obj &lt;- get_series(template_test())
print(obj)

## End(Not run)
</code></pre>

<hr>
<h2 id='Rapi-build-checks'>Dummy examples to check build step</h2><span id='topic+Rapi-build-checks'></span>

<h3>Description</h3>

<p>This page checks some examples on build process to avoid missing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
obj &lt;- get_series(template_test(), debug = TRUE)
x &lt;- print(obj)
if (!inherits(x, "Rapi_GETPREP")) {
  stop()
}

</code></pre>

<hr>
<h2 id='remove_columns'>Remove a column or columns from a data.frame.</h2><span id='topic+remove_columns'></span>

<h3>Description</h3>

<p>Remove a column or columns from a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_columns(df, column_names, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_columns_+3A_df">df</code></td>
<td>
<p>Data.frame or tibble.</p>
</td></tr>
<tr><td><code id="remove_columns_+3A_column_names">column_names</code></td>
<td>
<p>Column name or column names as a character vector.</p>
</td></tr>
<tr><td><code id="remove_columns_+3A_verbose">verbose</code></td>
<td>
<p>Boolean, provides extra information when removing a column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data.frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- remove_columns(cars, "speed")

</code></pre>

<hr>
<h2 id='remove_na_safe'>remove_na_safe</h2><span id='topic+remove_na_safe'></span>

<h3>Description</h3>

<p>This function removes rows from both ends of a data frame until it identifies
a row where all columns have non-NA values. Starting from the beginning, it
removes rows until it encounters a row with complete data at a specific row
index (e.g., row 5).
It then proceeds to remove rows from the end of the data frame, eliminating
any rows with at least one NA value in any column.
The process stops when it finds a row where all columns contain non-NA values,
and the resulting data frame is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_na_safe(df , verbose = FALSE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_na_safe_+3A_df">df</code></td>
<td>
<p>data.frame to remove na rows from the beginning and from the end</p>
</td></tr>
<tr><td><code id="remove_na_safe_+3A_verbose">verbose</code></td>
<td>
<p>give detailed info while removing NA values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame returns data.frame after removing rows if all columns are NA
from the beginning and after
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- data.frame(
  a = c(NA, 2:7, NA),
  b = c(NA, NA, 5, NA, 12, NA, 8, 9)
)
df2 &lt;- remove_na_safe(df)
</code></pre>

<hr>
<h2 id='set_api_key'>set_api_key</h2><span id='topic+set_api_key'></span>

<h3>Description</h3>

<p>set_api_key
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_api_key(key = null, source_name = null, option = c("env", "file"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_api_key_+3A_key">key</code></td>
<td>
<p>api key of the source</p>
</td></tr>
<tr><td><code id="set_api_key_+3A_source_name">source_name</code></td>
<td>
<p>evds or fred</p>
</td></tr>
<tr><td><code id="set_api_key_+3A_option">option</code></td>
<td>
<p>choice of later usage. env or file should be given to
save api key for later use. Default is env which
saves api key as environment variable.
if <code>env</code> default value is selected it will save api key
as an environment variable
if <code>file</code> was selected it will save api key to current folder.</p>
</td></tr>
<tr><td><code id="set_api_key_+3A_...">...</code></td>
<td>
<p>for future versions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function has no return value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set_api_key("ABCDEFGHIJKLMOP", "evds", "env")
set_api_key("ABCDEFGHIJKLMOP", "fred", "env")
set_api_key("ABCDEFGHIJKLMOP", "fred", "file")

## End(Not run)
</code></pre>

<hr>
<h2 id='template_test'>template_test
creates a string template for testing and example purposes</h2><span id='topic+template_test'></span>

<h3>Description</h3>

<p>template_test
creates a string template for testing and example purposes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>template_test()
</code></pre>


<h3>Value</h3>

<p>a string template that includes ID examples from different sources
</p>


<h3>Examples</h3>

<pre><code class='language-R'>template_test()
</code></pre>

<hr>
<h2 id='verbose_off'>Turn Off Verbose Mode</h2><span id='topic+verbose_off'></span>

<h3>Description</h3>

<p>This function turns off verbose mode, suppressing additional informational
output. It is useful when you want to limit the amount of information
displayed during the execution of certain operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verbose_off()
</code></pre>


<h3>Details</h3>

<p>Verbose mode is often used to provide detailed information about the
progress of a function or operation. By calling <code>verbose_off</code>, you can
disable this additional output.
</p>
<p>The <code>options("Rapi_verbose" = FALSE)</code> line sets the verbose option to
<code>FALSE</code>, silencing additional messages.
</p>


<h3>Value</h3>

<p>The function has no return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+verbose_on">verbose_on</a></code>: Turn on verbose mode.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>verbose_off()

</code></pre>

<hr>
<h2 id='verbose_on'>Turn On Verbose Mode</h2><span id='topic+verbose_on'></span>

<h3>Description</h3>

<p>This function turns on verbose mode, enabling additional informational
output. It is useful when you want to receive detailed information about
the progress of certain operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verbose_on()
</code></pre>


<h3>Details</h3>

<p>Verbose mode is designed to provide detailed information during the execution
of a function or operation. By calling <code>verbose_on</code>, you can enable
this additional output.
</p>
<p>The <code>options("Rapi_verbose" = TRUE)</code> line sets the verbose option to
<code>TRUE</code>, allowing functions to produce more detailed messages.
</p>


<h3>Value</h3>

<p>The function has no explicit return value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+verbose_off">verbose_off</a></code>: Turn off verbose mode.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>verbose_on()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

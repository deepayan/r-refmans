<!DOCTYPE html><html lang="en"><head><title>Help for package openrouteservice</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {openrouteservice}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fitBBox'><p>Set Bounds of a Map Widget</p></a></li>
<li><a href='#ors_api_key'><p>API key management</p></a></li>
<li><a href='#ors_directions'><p>Openrouteservice Directions</p></a></li>
<li><a href='#ors_elevation'><p>Openrouteservice Elevation</p></a></li>
<li><a href='#ors_export'><p>Openrouteservice Export</p></a></li>
<li><a href='#ors_geocode'><p>Openrouteservice Geocoding</p></a></li>
<li><a href='#ors_isochrones'><p>Openrouteservice Isochrones</p></a></li>
<li><a href='#ors_matrix'><p>Openrouteservice Matrix</p></a></li>
<li><a href='#ors_optimization'><p>Openrouteservice Optimization</p></a></li>
<li><a href='#ors_pois'><p>Openrouteservice POIs</p></a></li>
<li><a href='#ors_profile'><p>Openrouteservice Profiles</p></a></li>
<li><a href='#ors_snap'><p>Openrouteservice Snapping</p></a></li>
<li><a href='#print.ors_api'><p>Print a Compact Summary of the API Response</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>An 'openrouteservice' API Client</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.2</td>
</tr>
<tr>
<td>Description:</td>
<td>The client streamlines access to the services provided by <a href="https://api.openrouteservice.org">https://api.openrouteservice.org</a>.
  It allows you to painlessly query for directions, isochrones, time-distance matrices, geocoding, elevation, points of interest, and more.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/GIScience/openrouteservice-r">https://github.com/GIScience/openrouteservice-r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/GIScience/openrouteservice-r/issues">https://github.com/GIScience/openrouteservice-r/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>geojsonsf, httr, jsonlite, jsonvalidate, keyring, leaflet,
utils, V8, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, googlePolylines, lwgeom, knitr, mapview,
pkgdown, RColorBrewer, rmarkdown, roxygen2, sf, testthat, units</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-08 00:36:29 UTC; aoles</td>
</tr>
<tr>
<td>Author:</td>
<td>Heidelberg Institute for Geoinformation Technology (HeiGIT) gGmbH [cph],
  Andrzej K. Oleś <a href="https://orcid.org/0000-0003-0285-2787"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrzej K. Oleś &lt;andrzej.oles@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-08 01:10:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='fitBBox'>Set Bounds of a Map Widget</h2><span id='topic+fitBBox'></span>

<h3>Description</h3>

<p>Helper function to set the bounds of a leaflet map widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitBBox(map, bbox)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitBBox_+3A_map">map</code></td>
<td>
<p>a map widget object created from <code><a href="leaflet.html#topic+leaflet">leaflet</a>()</code></p>
</td></tr>
<tr><td><code id="fitBBox_+3A_bbox">bbox</code></td>
<td>
<p>A vector <code>c(lng1, lat1, lng2, lat2)</code> specifying the bounding box
coordinates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The modified map widget.
</p>


<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>

<hr>
<h2 id='ors_api_key'>API key management</h2><span id='topic+ors_api_key'></span>

<h3>Description</h3>

<p>Get/set openrouteservice API key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_api_key(key, service = "openrouteservice", username = NULL, keyring = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_api_key_+3A_key">key</code></td>
<td>
<p>API key value provided as a character scalar</p>
</td></tr>
<tr><td><code id="ors_api_key_+3A_service">service</code></td>
<td>
<p>Service name, a character scalar.</p>
</td></tr>
<tr><td><code id="ors_api_key_+3A_username">username</code></td>
<td>
<p>Username, a character scalar, or <code>NULL</code> if the key
is not associated with a username.</p>
</td></tr>
<tr><td><code id="ors_api_key_+3A_keyring">keyring</code></td>
<td>
<p>For systems that support multiple keyrings, specify
the name of the keyring to use here. If <code>NULL</code>, then the default
keyring is used. See also <code><a href="keyring.html#topic+has_keyring_support">has_keyring_support()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To set the key provide it in the <code>key</code> argument. To retrieve the current
value call the function with <code>key</code> unset.
</p>
<p>Typically the key is saved in the system credential store. Once the key is
defined, it persists in the keyring store of the operating system so it
doesn't need to be set again in a new R session.
</p>
<p>Internally the function uses <code style="white-space: pre;">&#8288;\link[keyring]{key_set}&#8288;</code> and
<code style="white-space: pre;">&#8288;\link[keyring]{key_get}&#8288;</code>. The use of keyring package can be bypassed by
providing the key in the environment variable ORS_API_KEY. The value from the
environment variable takes precedence over the value stored in the system
credential store. The default environment variable name used to retrieve the
openrouteservice api key can be overridden by specifying it in
<code>options("openrouteservice.api_key_env")</code>.
</p>


<h3>Value</h3>

<p>API Key value when called without <code>key</code>.
</p>


<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>

<hr>
<h2 id='ors_directions'>Openrouteservice Directions</h2><span id='topic+ors_directions'></span>

<h3>Description</h3>

<p>Get directions for different modes of transport.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_directions(
  coordinates,
  profile = ors_profile(),
  format = c("geojson", "json", "gpx"),
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text", "sf")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_directions_+3A_coordinates">coordinates</code></td>
<td>
<p>List of <code style="white-space: pre;">&#8288;longitude, latitude&#8288;</code> coordinate pairs visited in order, alternatively a two column <code>matrix</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="ors_directions_+3A_profile">profile</code></td>
<td>
<p>Route profile, defaults to <code>"driving-car"</code>.</p>
</td></tr>
<tr><td><code id="ors_directions_+3A_format">format</code></td>
<td>
<p>Response format, defaults to <code>"geojson"</code></p>
</td></tr>
<tr><td><code id="ors_directions_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/v2/directions/%7Bprofile%7D/post">here</a></p>
</td></tr>
<tr><td><code id="ors_directions_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_directions_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Route between two or more locations in the selected <code>format</code> structured according to <code>output</code>:
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>


<ul>
<li><p> for <code>"sf"</code>, a simple features <code><a href="sf.html#topic+sf">sf</a></code> object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
coordinates &lt;- list(c(8.34234, 48.23424), c(8.34423, 48.26424))

# simple call
try( ors_directions(coordinates, preference="fastest") )

# customized options
try( ors_directions(coordinates, profile="cycling-mountain", elevation=TRUE) )

# list of locations as `data.frame` output as simple features `sf` object
locations &lt;- data.frame(lng = c(8.34234, 8.327807, 8.34423),
                        lat = c(48.23424, 48.239368, 48.26424))
try( ors_directions(locations, output = "sf") )

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_elevation'>Openrouteservice Elevation</h2><span id='topic+ors_elevation'></span>

<h3>Description</h3>

<p>Get elevation data for points or lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_elevation(
  format_in = c("geojson", "point", "polyline", "encodedpolyline", "encodedpolyline6"),
  geometry,
  format_out = format_in,
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text", "sf")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_elevation_+3A_format_in">format_in</code></td>
<td>
<p>input format</p>
</td></tr>
<tr><td><code id="ors_elevation_+3A_geometry">geometry</code></td>
<td>
<p><code style="white-space: pre;">&#8288;longitude, latitude&#8288;</code> coordinate pairs</p>
</td></tr>
<tr><td><code id="ors_elevation_+3A_format_out">format_out</code></td>
<td>
<p>output format</p>
</td></tr>
<tr><td><code id="ors_elevation_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/elevation">here</a></p>
</td></tr>
<tr><td><code id="ors_elevation_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_elevation_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A GeoJSON based service to query SRTM elevation for Point or LineString 2D
geometries and return 3D geometries in various formats.
</p>


<h3>Value</h3>

<p>3D point or line geometry structured according to <code>output</code>:
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>


<ul>
<li><p> for <code>"sf"</code>, a simple features <code><a href="sf.html#topic+sf">sf</a></code> object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
# point coordinates
coordinates &lt;- c(13.349762, 38.11295)
try( ors_elevation("point", coordinates) )

# geojson as input
point &lt;- '{ "type": "Point", "coordinates": [13.349762, 38.11295] }'
try( ors_elevation("geojson", point) )

# line geometry returned as encoded polyline
coordinates &lt;- list(
  c(13.349762, 38.11295),
  c(12.638397, 37.645772)
)
try( ors_elevation("polyline", coordinates, format_out = "encodedpolyline") )

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_export'>Openrouteservice Export</h2><span id='topic+ors_export'></span>

<h3>Description</h3>

<p>Export the base graph for different modes of transport.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_export(
  bbox,
  profile = ors_profile(),
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_export_+3A_bbox">bbox</code></td>
<td>
<p>List of <code style="white-space: pre;">&#8288;longitude, latitude&#8288;</code> coordinate pairs defining the SW and NE corners of a rectangular area of interest, alternatively a two column <code>matrix</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="ors_export_+3A_profile">profile</code></td>
<td>
<p>Route profile, defaults to <code>"driving-car"</code>.</p>
</td></tr>
<tr><td><code id="ors_export_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/v2/export/%7Bprofile%7D/post">here</a></p>
</td></tr>
<tr><td><code id="ors_export_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_export_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Lists of graph nodes and edges contained in the provided bounding box and relevant for the given routing profile. The edge property <code>weight</code> represents travel time in seconds. The response is structured according to <code>output</code>:
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
bbox &lt;- list(
  c(8.681495, 49.41461),
  c(8.686507, 49.41943)
)

res &lt;- ors_export(bbox)

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_geocode'>Openrouteservice Geocoding</h2><span id='topic+ors_geocode'></span>

<h3>Description</h3>

<p>Resolve input coordinates to addresses and vice versa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_geocode(
  query,
  location,
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text", "sf")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_geocode_+3A_query">query</code></td>
<td>
<p>Name of location, street address or postal code. For a
structured geocoding request a named list of parameters.</p>
</td></tr>
<tr><td><code id="ors_geocode_+3A_location">location</code></td>
<td>
<p>Coordinates to be inquired provided in the form <code>c(longitude, latitude)</code></p>
</td></tr>
<tr><td><code id="ors_geocode_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/geocode">here</a></p>
</td></tr>
<tr><td><code id="ors_geocode_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_geocode_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This endpoint can be used for geocoding (specified <code>query</code>) and reverse
geocoding requests (specified <code>location</code>). Either <code>query</code> or <code>location</code> has
to be specified for a valid request. If both parameters are specified
location takes precedence.
</p>


<h3>Value</h3>

<p>Geocoding: a JSON formatted list of objects corresponding to the
search input. Reverse geocoding: the next enclosing object with an address
tag which surrounds the given coordinate.
</p>


<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
## locations of Heidelberg around the globe
x &lt;- ors_geocode("Heidelberg")

## set the number of results returned
x &lt;- ors_geocode("Heidelberg", size = 1)

## search within a particular country
ors_geocode("Heidelberg", boundary.country = "DE")

## structured geocoding
x &lt;- ors_geocode(list(locality="Heidelberg", county="Heidelberg"))

## reverse geocoding
location &lt;- x$features[[1L]]$geometry$coordinates
y &lt;- ors_geocode(location = location, layers = "locality", size = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_isochrones'>Openrouteservice Isochrones</h2><span id='topic+ors_isochrones'></span>

<h3>Description</h3>

<p>Obtain areas of reachability from given locations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_isochrones(
  locations,
  profile = ors_profile(),
  range = 60,
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text", "sf")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_isochrones_+3A_locations">locations</code></td>
<td>
<p>List of <code style="white-space: pre;">&#8288;longitude, latitude&#8288;</code> coordinate pairs, alternatively a two column <code>matrix</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="ors_isochrones_+3A_profile">profile</code></td>
<td>
<p>Route profile, defaults to <code>"driving-car"</code>.</p>
</td></tr>
<tr><td><code id="ors_isochrones_+3A_range">range</code></td>
<td>
<p>Maximum range value of the analysis in seconds for time and
meters for distance. Alternatively a comma separated list of specific
single range values.</p>
</td></tr>
<tr><td><code id="ors_isochrones_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/v2/isochrones/%7Bprofile%7D/post">here</a></p>
</td></tr>
<tr><td><code id="ors_isochrones_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_isochrones_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Isochrone Service supports time and distance analyses for one single or
multiple locations. You may also specify the isochrone interval or provide
multiple exact isochrone range values.
</p>


<h3>Value</h3>

<p>A GeoJSON object containing a FeatureCollection of Polygons
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>


<ul>
<li><p> for <code>"sf"</code>, a simple features <code><a href="sf.html#topic+sf">sf</a></code> object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
ors_isochrones(c(8.34234, 48.23424), interval=20)

locations &lt;- list(c(8.681495, 49.41461), c(8.686507,49.41943))
ors_isochrones(locations, range=c(300, 200))

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_matrix'>Openrouteservice Matrix</h2><span id='topic+ors_matrix'></span>

<h3>Description</h3>

<p>Obtain one-to-many, many-to-one and many-to-many matrices for time and
distance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_matrix(
  locations,
  profile = ors_profile(),
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_matrix_+3A_locations">locations</code></td>
<td>
<p>List of <code style="white-space: pre;">&#8288;longitude, latitude&#8288;</code> coordinate pairs, alternatively a two column <code>matrix</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="ors_matrix_+3A_profile">profile</code></td>
<td>
<p>Route profile, defaults to <code>"driving-car"</code>.</p>
</td></tr>
<tr><td><code id="ors_matrix_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/v2/matrix/%7Bprofile%7D/post">here</a></p>
</td></tr>
<tr><td><code id="ors_matrix_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_matrix_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Duration or distance matrix for multiple source and destination
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
coordinates &lt;- list(
  c(9.970093, 48.477473),
  c(9.207916, 49.153868),
  c(37.573242, 55.801281),
  c(115.663757,38.106467)
)

# query for duration and distance in km
res &lt;- ors_matrix(coordinates, metrics = c("duration", "distance"), units = "km")

# duration in hours
res$durations / 3600

# distance in km
res$distances

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_optimization'>Openrouteservice Optimization</h2><span id='topic+ors_optimization'></span><span id='topic+jobs'></span><span id='topic+vehicles'></span>

<h3>Description</h3>

<p>Optimize a fleet of vehicles on a number of jobs. For more information, see
the
<a href="https://github.com/VROOM-Project/vroom/blob/master/docs/API.md">Vroom
project API documentation</a>.
</p>
<p>The helper functions <code>jobs()</code> and <code>vehicles()</code> create
data.frames which can be used as arguments to <code>ors_optimization()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_optimization(
  jobs,
  vehicles,
  matrix = NULL,
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text")
)

jobs(
  id,
  location,
  location_index,
  service,
  amount,
  skills,
  priority,
  time_windows
)

vehicles(
  id,
  profile,
  start,
  start_index,
  end,
  end_index,
  capacity,
  skills,
  time_window
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_optimization_+3A_jobs">jobs</code></td>
<td>
<p><code>data.frame</code> describing the places to visit</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_vehicles">vehicles</code></td>
<td>
<p><code>data.frame</code> describing the available vehicles</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_matrix">matrix</code></td>
<td>
<p>Optional two-dimensional array describing a custom travel-time
matrix</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/optimization/post">here</a></p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_id">id</code></td>
<td>
<p>An integer used as unique identifier</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_location">location</code></td>
<td>
<p>Coordinates array</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_location_index">location_index</code></td>
<td>
<p>Index of relevant row and column in custom matrix</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_service">service</code></td>
<td>
<p>Job service duration (defaults to 0)</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_amount">amount</code></td>
<td>
<p>An array of integers describing multidimensional quantities</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_skills">skills</code></td>
<td>
<p>An array of integers defining skills</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_priority">priority</code></td>
<td>
<p>An integer in the [0, 10] range describing priority level
(defaults to 0)</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_time_windows">time_windows</code></td>
<td>
<p>An array of time_window objects describing valid slots
for job service start</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_profile">profile</code></td>
<td>
<p>routing profile (defaults to car)</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_start">start</code></td>
<td>
<p>coordinates array</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_start_index">start_index</code></td>
<td>
<p>index of relevant row and column in custom matrix</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_end">end</code></td>
<td>
<p>coordinates array</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_end_index">end_index</code></td>
<td>
<p>index of relevant row and column in custom matrix</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_capacity">capacity</code></td>
<td>
<p>an array of integers describing multidimensional quantities</p>
</td></tr>
<tr><td><code id="ors_optimization_+3A_time_window">time_window</code></td>
<td>
<p>a time_window object describing working hours</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Solution computed by the optimization endpoint formatted as described <a href="https://github.com/VROOM-Project/vroom/blob/master/docs/API.md#output">here</a> and structured according to <code>output</code>:
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
home_base &lt;- c(2.35044, 48.71764)

vehicles &lt;- vehicles(
  id = 1:2,
  profile = "driving-car",
  start = home_base,
  end = home_base,
  capacity = 4,
  skills = list(c(1, 14), c(2, 14)),
  time_window = c(28800, 43200)
)

locations &lt;- list(
  c(1.98935, 48.701),
  c(2.03655, 48.61128),
  c(2.39719, 49.07611),
  c(2.41808, 49.22619),
  c(2.28325, 48.5958),
  c(2.89357, 48.90736)
)

jobs &lt;- jobs(
  id = 1:6,
  service = 300,
  amount = 1,
  location = locations,
  skills = list(1, 1, 2, 2, 14, 14)
)

try( ors_optimization(jobs, vehicles) )

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_pois'>Openrouteservice POIs</h2><span id='topic+ors_pois'></span>

<h3>Description</h3>

<p>Search for points of interest around points or in geometries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_pois(
  request = c("pois", "stats", "list"),
  geometry,
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text", "sf")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_pois_+3A_request">request</code></td>
<td>
<p>One of the following: <code>"pois"</code>, <code>"stats"</code> or <code>"list"</code></p>
</td></tr>
<tr><td><code id="ors_pois_+3A_geometry">geometry</code></td>
<td>
<p>named list containing either a <code>geojson</code> geometry object
(GeoJSON Point, LineString or Polygon) or a <code>bbox</code>, optionally buffered by
a value provided  <code>buffer</code></p>
</td></tr>
<tr><td><code id="ors_pois_+3A_...">...</code></td>
<td>
<p>Optional request attributes as described <a href="https://openrouteservice.org/dev/#/api-docs/pois/post">here</a></p>
</td></tr>
<tr><td><code id="ors_pois_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_pois_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are three different request types: <code>pois</code>, <code>stats</code> and <code>list</code>.
</p>
<p><code>pois</code> returns a GeoJSON FeatureCollection in the bounding box specified in
<code>geometry$bbox</code> or a GeoJSON geometry provided in <code>geometry$geojson</code>. <code>stats</code>
does the same but groups by categories, ultimately returning a JSON object
with the absolute numbers of POIs of a certain group.
</p>
<p><code>list</code> returns a list of category groups and their ids.
</p>


<h3>Value</h3>

<p>A list of points of interest in the area specified in <code>geometry</code> structured according to <code>output</code>:
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>


<ul>
<li><p> for <code>"sf"</code>, a simple features <code><a href="sf.html#topic+sf">sf</a></code> object. Valid only for argument <code>request = "pois"</code>.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
# POI categories list
ors_pois('list')

# POIs around a buffered point
geometry &lt;- list(geojson = list(type = "Point",
                                coordinates = c(8.8034, 53.0756)),
                buffer = 100)
ors_pois(geometry = geometry)

# alternative specification via bounding box
ors_pois(geometry = list(bbox = list(c(8.8034, 53.0756), c(8.8034, 53.0756)),
                         buffer = 100))

# POIs of given categories
ors_pois(geometry = geometry,
         limit = 200,
         sortby = "distance",
         filters = list(
           category_ids = c(180, 245)
         ))

# POIs of given category groups
ors_pois(geometry = geometry,
         limit = 200,
         sortby = "distance",
         filters = list(
           category_group_ids = 160
         ))

# POI Statistics
ors_pois("stats", geometry = geometry)

## End(Not run)
</code></pre>

<hr>
<h2 id='ors_profile'>Openrouteservice Profiles</h2><span id='topic+ors_profile'></span>

<h3>Description</h3>

<p>List of available modes of transport.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_profile(
  mode = c("car", "hgv", "bike", "roadbike", "mtb", "e-bike", "walking", "hiking",
    "wheelchair")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_profile_+3A_mode">mode</code></td>
<td>
<p>Profile label.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convenience function for specifying the profile in <code><a href="#topic+ors_directions">ors_directions()</a></code>,
<code><a href="#topic+ors_isochrones">ors_isochrones()</a></code> and <code><a href="#topic+ors_matrix">ors_matrix()</a></code>.
</p>


<h3>Value</h3>

<p>Profile name, or named vector of available profiles.
</p>


<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ors_directions">ors_directions()</a></code>, <code><a href="#topic+ors_isochrones">ors_isochrones()</a></code>, <code><a href="#topic+ors_matrix">ors_matrix()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># list availbale profiles
ors_profile()

# retrieve full profile name based on label
ors_profile("car")
</code></pre>

<hr>
<h2 id='ors_snap'>Openrouteservice Snapping</h2><span id='topic+ors_snap'></span>

<h3>Description</h3>

<p>Snap coordinates to road network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ors_snap(
  locations,
  profile = ors_profile(),
  radius,
  format = c("geojson", "json"),
  ...,
  api_key = ors_api_key(),
  output = c("parsed", "text", "sf")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ors_snap_+3A_locations">locations</code></td>
<td>
<p>List of <code style="white-space: pre;">&#8288;longitude, latitude&#8288;</code> coordinate pairs, alternatively a two column <code>matrix</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="ors_snap_+3A_profile">profile</code></td>
<td>
<p>Route profile, defaults to <code>"driving-car"</code>.</p>
</td></tr>
<tr><td><code id="ors_snap_+3A_radius">radius</code></td>
<td>
<p>Maximum radius in meters around given coordinates to search for graph edges</p>
</td></tr>
<tr><td><code id="ors_snap_+3A_format">format</code></td>
<td>
<p>Response format, defaults to <code>"geojson"</code></p>
</td></tr>
<tr><td><code id="ors_snap_+3A_...">...</code></td>
<td>
<p>Optional parameters as described <a href="https://openrouteservice.org/dev/#/api-docs/v2/snap/%7Bprofile%7D/post">here</a></p>
</td></tr>
<tr><td><code id="ors_snap_+3A_api_key">api_key</code></td>
<td>
<p>Character scalar containing openrouteservice API key</p>
</td></tr>
<tr><td><code id="ors_snap_+3A_output">output</code></td>
<td>
<p>Output format. By default the response is being parsed to a list-based R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Coordinates of snapped location(s) and distance to the original point(s) structured according to <code>output</code>:
</p>

<ul>
<li><p> for <code>"text"</code>, a character vector of length 1 re-encoded to UTF-8.
</p>
</li></ul>


<ul>
<li><p> for <code>"parsed"</code>, a parsed R object.
</p>
</li></ul>


<ul>
<li><p> for <code>"sf"</code>, a simple features <code><a href="sf.html#topic+sf">sf</a></code> object.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andrzej Oleś <a href="mailto:andrzej.oles@gmail.com">andrzej.oles@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># These examples might require interaction to query the local keyring, or
# might fail due to network issues, so they are not run by default
## Not run: 
locations &lt;- list(
  c(8.669629, 49.413025),
  c(8.675841, 49.418532),
  c(8.665144, 49.415594)
)

# query for locations snapped onto the OpenStreetMap road network
res &lt;- ors_snap(locations, radius = 350)

## End(Not run)
</code></pre>

<hr>
<h2 id='print.ors_api'>Print a Compact Summary of the API Response</h2><span id='topic+print.ors_api'></span>

<h3>Description</h3>

<p><code>print.ors_api</code> uses <a href="utils.html#topic+str">str</a> to compactly display the structure
of the openrouteservice API response object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ors_api'
print(x, give.attr = FALSE, list.len = 6L, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.ors_api_+3A_x">x</code></td>
<td>
<p>object of class <code>ors_api</code>.</p>
</td></tr>
<tr><td><code id="print.ors_api_+3A_give.attr">give.attr</code></td>
<td>
<p>logical; if <code>TRUE</code> (default), show attributes
as sub structures.</p>
</td></tr>
<tr><td><code id="print.ors_api_+3A_list.len">list.len</code></td>
<td>
<p>numeric; maximum number of list elements to display
within a level.</p>
</td></tr>
<tr><td><code id="print.ors_api_+3A_...">...</code></td>
<td>
<p>further arguments passed to <a href="utils.html#topic+str">str</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>print.ors_api</code> prints its argument and returns it <em>invisibly</em>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package subgroup</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {subgroup}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#subgroup'><p>Compute measures for assessing treatment effect heterogeneity across subgroups in clinical trials and produce graphical presentations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Methods for exploring treatment effect heterogeneity in subgroup
analysis of clinical trials</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2014-07-31</td>
</tr>
<tr>
<td>Author:</td>
<td>I. Manjula Schou</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>I. Manjula Schou &lt;im.schou@yahoo.com.au&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Produces various measures of expected treatment effect heterogeneity under an assumption of homogeneity across subgroups. Graphical presentations are created to compare these expected differences with the observed differences.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>graphics, grDevices, utils, stats, R (&ge; 3.1)</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2014-07-31 07:53:33 UTC; Manjula</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2014-08-01 12:37:02</td>
</tr>
</table>
<hr>
<h2 id='subgroup'>Compute measures for assessing treatment effect heterogeneity across subgroups in clinical trials and produce graphical presentations</h2><span id='topic+subgroup'></span>

<h3>Description</h3>

<p>This function produces various measures of expected treatment effect heterogeneity 
and allows graphical comparisons with the observed counterparts. The resulting measures can also be saved for creation of 
user-specified graphics. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>	subgroup(data, overall.diff = NA, force.theoretical = FALSE, 
		force.simulation = FALSE, design = FALSE, plots = TRUE)
	</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subgroup_+3A_data">data</code></td>
<td>
<p>A matrix of 2 columns containing the subgroup treatment effects and their associated standard errors.
The treatment effects must be measured on a scale where 0 means no effect. For example, a mean difference, a log relative 
risk, log odds ratio, or log hazard ratio. Column 2 must contain the standard errors associated with the subgroup 
treatment effects in Column 1. Furthermore, a treatment effect that is &gt; 0 is considered to favour the control.</p>
</td></tr>
<tr><td><code id="subgroup_+3A_overall.diff">overall.diff</code></td>
<td>
<p>The overall treatment effect, provided optionally by the user. If not specified this 
is calculated within the <code>subgroup</code> routine as a reciprocal variance weighted mean.</p>
</td></tr>
<tr><td><code id="subgroup_+3A_force.theoretical">force.theoretical</code></td>
<td>
<p>The default value for this argument is <code>FALSE</code>. If <code>TRUE</code>, theoretical computations 
are conducted regardless of the number of subgroups, <code>R</code>. If the standard errors of the subgroup treatment effects 
is heterogeneous and <code>R &gt; 20</code>, a warning is given to advise the user that the processing time may be significant. 
An error message is given if both <code>force.theoretical</code> and 
<code>force.simulation</code> are set to <code>TRUE</code>, and the routine will stop execution. </p>
</td></tr>
<tr><td><code id="subgroup_+3A_force.simulation">force.simulation</code></td>
<td>
<p>The default value for this argument is <code>FALSE</code>. If <code>TRUE</code>, simulation based computations 
are conducted regardless of the number of subgroups, <code>R</code>. An error message is given if both <code>force.theoretical</code> and 
<code>force.simulation</code> are set to <code>TRUE</code>, and the routine will stop execution. </p>
</td></tr>
<tr><td><code id="subgroup_+3A_design">design</code></td>
<td>
<p>The default value for this argument is <code>FALSE</code>. If <code>TRUE</code>, the plots will not include any observed measures.</p>
</td></tr>
<tr><td><code id="subgroup_+3A_plots">plots</code></td>
<td>
<p>The default value for this argument is <code>TRUE</code>. If <code>FALSE</code>, no plots will be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Subgroup analysis principles require a significant test of interaction in order to claim 
heterogeneity of treatment effect. As clinical trials are typically underpowered for tests of 
interaction, overly optimistic expectations of treatment effect homogeneity can make interpretation 
difficult when treatment effects seemingly differ between subgroups. In addition to extending 
the ideas proposed by Marschner (2010), the package <span class="pkg">subgroup</span> 
also implements some new measures, and provides a suite of graphical tools that 
allow visual comparison of the magnitude and nature of the observed and expected 
subgroup differences that can arise as an artefact of chance. These tools are intended to 
supplement a formal test of interaction in subgroup analyses, and are described in the manuscript 
Schou and Marschner (2014). 
</p>
<p>Three outputs are computed by the package. These include the following: the expectations of the 
ordered treatment effects, the probability density of the range, and the probability distribution 
of the number of subgroups favouring the control treatment. The user has the option to have the in-built 
plot suppressed. The content of the default plot produced will depend on the user choice of an analysis stage 
evaluation or a design stage evaluation; if it is the former, the observed counterparts of the measures 
produced will be included in the plots. 
</p>


<h3>Value</h3>

<p>The following list of components is returned by the routine <code>subgroup</code>:
</p>
<table>
<tr><td><code>expectations</code></td>
<td>
<p>A matrix of dimension <code>R x 4</code>, where <code>R</code> is the number of subgroups. The first two columns present the treatment differences
and the standard errors contained in the dataset <code>data</code> as submitted by the user. The third column
contains the expected ordered treatment differences, and the fourth column the order number.</p>
</td></tr>
<tr><td><code>favourcontrol</code></td>
<td>
<p>A matrix of dimension <code>(R+1) x 2</code>, where <code>R</code> is the number of subgroups. The first column contains the 
number of subgroups favouring control. The second contains the probability of that event. 
Here, a treatment effect that is &gt; 0 is considered to favour the control.</p>
</td></tr>
<tr><td><code>rangedensity</code></td>
<td>
<p>A matrix with 2 columns. The first column contains the sample space for the range which takes 
on values &gt; 0. The second column contains the probability density.</p>
</td></tr>
<tr><td><code>overalldiff</code></td>
<td>
<p>A numeric variable which returns the input argument <code>overall.diff</code> if specified by the user or 
the reciprocal variance weighted mean treatment difference as calculated 
within the routine <code>subgroup</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>I. Manjula Schou</p>


<h3>References</h3>

<p>Marschner IC.
Regional differences in multinational clinical trials: anticipating change variation.
Clinical Trials 2010; 7:147-156.
</p>
<p>Schou IM and Marschner IC. Methods for exploring treatment effect heterogeneity in 
subgroup analysis: an application to global clinical trials. COBRA Preprint Series. 
Working Paper 108. http://biostats.bepress.com/cobra/art108/.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	 
		# Create dataset containing treatment differences and standard errors. ------------
		difference&lt;-c(-0.163, -0.083, -0.030, 0.095)
		se&lt;-c(0.48, 0.27, 0.19, 0.39) 
		mydata&lt;-cbind(difference, se)

		# Example code to produce the expected measures together with the plot created ----
		# by the subgroup routine for comparison against the observed differences. --------
		# NOTE: The execution time increases as the number of subgroups increases. --------
		test1&lt;-subgroup(data=mydata)

		# Expected measures produced by the subgroup routine that the user ----------------
		# can manipulate to produce own graphics. -----------------------------------------
		test1$overalldiff         # Overall difference between treatment groups.
		test1$expectations        # Expectations of the ordered treatment differences.
		test1$rangedensity[1:15,] # Sample of the probability density of the range.
		test1$favourcontrol	  # Prob dist of subgroups favouring the control treatment.

		# Example code for evaluation of chance heterogeneity at the design stage. --------
		test2&lt;-subgroup(data=mydata, design=TRUE)

		# Example code for simulation based evaluation of chance heterogeneity. -----------
		test3&lt;-subgroup(data=mydata, force.simulation=TRUE)
		

	</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

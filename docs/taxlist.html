<!DOCTYPE html><html><head><title>Help for package taxlist</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {taxlist}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#taxlist-package'><p>taxlist: Handling taxonomic lists.</p></a></li>
<li><a href='#accepted_name'><p>Manage accepted names, synonyms and basionyms</p></a></li>
<li><a href='#add_concept'><p>Add new taxonomic concepts into taxlist objects</p></a></li>
<li><a href='#add_nacolumn'><p>Filling missed columns with NAs</p></a></li>
<li><a href='#add_suffix'><p>Add a suffix when strings are identical</p></a></li>
<li><a href='#as'><p>Coerce taxlist objects to lists.</p></a></li>
<li><a href='#backup_object'><p>Make and load backups of R objects</p></a></li>
<li><a href='#clean'><p>Delete orphaned records</p></a></li>
<li><a href='#clean_once_taxlist'><p>One run clean function</p></a></li>
<li><a href='#clean_strings'><p>Cleaning character strings.</p></a></li>
<li><a href='#count_taxa'><p>Count taxa within a taxlist object.</p></a></li>
<li><a href='#Deprecated-functions'><p>Deprecated functions</p></a></li>
<li><a href='#df2taxlist'><p>Convert data frames and strings into taxlist objects</p></a></li>
<li><a href='#dissect_name'><p>Dissect Scientific Names into their Elements</p></a></li>
<li><a href='#Easplist-data'><p>List of vascular plants from East Africa</p></a></li>
<li><a href='#Extract'><p>Extract or Replace Parts of taxlist Objects</p></a></li>
<li><a href='#get_children'><p>Retrieve children or parents of taxon concepts</p></a></li>
<li><a href='#id_generator'><p>Generate Identifiers</p></a></li>
<li><a href='#indented_list'><p>Print hierarchical structure in indented lists</p></a></li>
<li><a href='#levels'><p>Set and retrieves hierarchical levels</p></a></li>
<li><a href='#match_names'><p>Search matchings between character and taxlist objects</p></a></li>
<li><a href='#matched_names-class'><p>Names matched with a reference taxonomic list</p></a></li>
<li><a href='#merge_taxa'><p>Merge concepts or move names</p></a></li>
<li><a href='#overview_taxlist'><p>Function producing the overview of whole object.</p></a></li>
<li><a href='#overview_taxon'><p>Function producing the overview of single taxon concepts.</p></a></li>
<li><a href='#print_name'><p>Format usage names for publications</p></a></li>
<li><a href='#replace_x'><p>Data manipulation.</p></a></li>
<li><a href='#sort_backups'><p>Sorting files with time stamp and suffix</p></a></li>
<li><a href='#subset'><p>Subset method for taxlist objects</p></a></li>
<li><a href='#summary'><p>Print overviews for taxlist Objects and their content</p></a></li>
<li><a href='#tax2traits'><p>Set taxonomic information as taxon traits</p></a></li>
<li><a href='#taxlist-class'><p>An S4 class to represent taxonomic lists.</p></a></li>
<li><a href='#taxon_names'><p>Handle information on taxon usage names.</p></a></li>
<li><a href='#taxon_relations'><p>Retrieve or replace slot taxonRelations in taxlist objects</p></a></li>
<li><a href='#taxon_traits'><p>Manipulation of taxon traits in taxlist objects.</p></a></li>
<li><a href='#taxon_views'><p>Management of concept views in taxonomic lists.</p></a></li>
<li><a href='#tv2taxlist'><p>Import species lists from Turboveg databases</p></a></li>
<li><a href='#two2one_df'><p>Inserting new rows and columns by merging two data frames</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Title:</td>
<td>Handling Taxonomic Lists</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>biblio (&ge; 0.0.8), foreign, methods, stats, stringdist,
stringi, stringr, tools, utils, vegdata</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ape, knitr, rmarkdown, taxa, testthat</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Description:</td>
<td>Handling taxonomic lists through objects of class 'taxlist'.
    This package provides functions to import species lists from 'Turboveg'
    (<a href="https://www.synbiosys.alterra.nl/turboveg/">https://www.synbiosys.alterra.nl/turboveg/</a>) and the possibility to create
    backups from resulting R-objects.
    Also quick displays are implemented as summary-methods.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cran.r-project.org/package=taxlist">https://cran.r-project.org/package=taxlist</a>,
<a href="https://github.com/ropensci/taxlist">https://github.com/ropensci/taxlist</a>,
<a href="https://docs.ropensci.org/taxlist/">https://docs.ropensci.org/taxlist/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/taxlist/issues">https://github.com/ropensci/taxlist/issues</a></td>
</tr>
<tr>
<td>Collate:</td>
<td>'imports.R' 'internal.R' 'levels.R' 'deprecated-functions.R'
'id_generator.R' 'replace_x.R' 'dissect_name.R'
'clean_strings.R' 'taxlist-class.R' 'matched_names-class.R'
'clean.R' 'coerce-methods.R' 'taxon_views.R' 'count_taxa.R'
'taxon_names.R' 'taxon_relations.R' 'add_concept.R'
'taxon_traits.R' 'accepted_name.R' 'get_children.R'
'merge_taxa.R' 'Extract.R' 'subset.R' 'backup_object.R'
'summary.R' 'df2taxlist.R' 'tv2taxlist.R' 'tax2traits.R'
'match_names.R' 'print_name.R' 'indented_list.R'
'Easplist-data.R' 'taxlist-package.R'</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-12 16:41:03 UTC; miguel</td>
</tr>
<tr>
<td>Author:</td>
<td>Miguel Alvarez <a href="https://orcid.org/0000-0003-1500-1834"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Zachary Foster <a href="https://orcid.org/0000-0002-5075-0948"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Sam Levin [rev],
  Margaret Siple [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Miguel Alvarez &lt;kamapu78@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-12 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='taxlist-package'>taxlist: Handling taxonomic lists.</h2><span id='topic+taxlist-package'></span>

<h3>Description</h3>

<p>The class <a href="#topic+taxlist-class">taxlist</a> is defined in this package using the
S4 language.
The main task of <code>taxlist</code> objects is to keep the taxonomic coherence of
information included in taxonomic lists and to implement functions (methods)
for a proper data handling.
Objects of class <a href="#topic+taxlist-class">taxlist</a> can be included in further
objects, for instance in biodiversity records as done in the package
<a href="https://cran.r-project.org/package=vegtable">vegtable</a>.
</p>


<h3>Details</h3>

<p>The class <a href="#topic+taxlist-class">taxlist</a> is defined in this package using the
S4 language.
The main task of <code>taxlist</code> objects is to keep the taxonomic coherence of
information included in taxonomic lists and to implement functions (methods)
for a proper data handling.
Objects of class <a href="#topic+taxlist-class">taxlist</a> can be included in further
objects, for instance in biodiversity records as done in the package
<a href="https://cran.r-project.org/package=vegtable">vegtable</a>.
</p>
<p>For a more detailed description of this package, see Alvarez &amp; Luebert
(2018).
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>References</h3>

<p><b>Alvarez M, Luebert F (2018).</b> The taxlist package: managing plant
taxonomic lists in R. <em>Biodiversity Data Journal</em> 6: e23635.
<a href="https://doi.org/10.3897/bdj.6.e23635">doi:10.3897/bdj.6.e23635</a>
</p>

<hr>
<h2 id='accepted_name'>Manage accepted names, synonyms and basionyms</h2><span id='topic+accepted_name'></span><span id='topic+accepted_name.taxlist'></span><span id='topic+accepted_name+2Ctaxlist-method'></span><span id='topic+accepted_name+3C-'></span><span id='topic+accepted_name+3C-.taxlist'></span><span id='topic+accepted_name+3C-+2Ctaxlist-method'></span><span id='topic+synonyms'></span><span id='topic+synonyms.taxlist'></span><span id='topic+synonyms+2Ctaxlist-method'></span><span id='topic+basionym'></span><span id='topic+basionym.taxlist'></span><span id='topic+basionym+2Ctaxlist-method'></span><span id='topic+basionym+3C-'></span><span id='topic+basionym+3C-.taxlist'></span><span id='topic+basionym+3C-+2Ctaxlist-method'></span><span id='topic+change_concept+3C-'></span><span id='topic+change_concept+3C-.taxlist'></span><span id='topic+change_concept+3C-+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Taxon usage names for a taxon concept can be divided into three categories:
accepted names, basionyms and synonyms.
Each single taxon concept may at least have an accepted name, while basionym
and synonyms are optional.
</p>
<p>The function <code>accepted_name()</code> retrieves the accepted names for the indicated
taxon concepts or for the whole <a href="#topic+taxlist-class">taxlist</a> object.
By using <code>show_traits=TRUE</code>, the respective taxon traits will be
displayed as well, providing an overview of taxa included in the object.
The replacement method for this function will set the respective usage name
IDs as accepted names for the respective taxon concept, provided that these
names are already set as synonyms in the respective concepts.
</p>
<p>The function <code>synonyms()</code> is working in a similar way as <code>accepted_name()</code>,
but this function does not include taxon traits in the output.
Alternatives for inserting new synonyms into a taxon concept are either
moving synonyms from other taxa by using <a href="#topic+change_concept+3C-">change_concept&lt;-</a> or
inserting new names in the object by using <code><a href="#topic+add_synonym">add_synonym()</a></code>.
</p>
<p>The function <code>basionym()</code> is retrieving and setting basionyms in the
respective taxon concepts similarly to <code>accepted_name</code>, but this function
does not retrieve any information on taxon traits, either.
</p>
<p>The fucntion <code style="white-space: pre;">&#8288;change_concept&lt;-&#8288;</code> replace a taxon usage name (argument
<code>'UsageID'</code>) to a different taxonomic concept (argument <code>'value'</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>accepted_name(taxlist, ...)

## S3 method for class 'taxlist'
accepted_name(taxlist, ConceptID, show_traits = FALSE, ...)

accepted_name(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
accepted_name(taxlist, ConceptID, ...) &lt;- value

synonyms(taxlist, ...)

## S3 method for class 'taxlist'
synonyms(taxlist, ConceptID, ...)

basionym(taxlist, ...)

## S3 method for class 'taxlist'
basionym(taxlist, ConceptID, ...)

basionym(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
basionym(taxlist, ConceptID, ...) &lt;- value

change_concept(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
change_concept(taxlist, UsageID, ...) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accepted_name_+3A_taxlist">taxlist</code></td>
<td>
<p>An object of class <a href="#topic+taxlist-class">taxlist</a>.</p>
</td></tr>
<tr><td><code id="accepted_name_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="accepted_name_+3A_conceptid">ConceptID</code></td>
<td>
<p>Integer containing concept IDs where to request or set names
for one category.</p>
</td></tr>
<tr><td><code id="accepted_name_+3A_show_traits">show_traits</code></td>
<td>
<p>Logical value, whether traits should be included in the
output of <code>accepted_name</code> or not.</p>
</td></tr>
<tr><td><code id="accepted_name_+3A_value">value</code></td>
<td>
<p>Integer containing usage IDs to be set to the respective
category in the respective taxon concept.</p>
</td></tr>
<tr><td><code id="accepted_name_+3A_usageid">UsageID</code></td>
<td>
<p>Numeric vector with taxon usage IDs that will be changed to a
different taxonomic concept.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Most of the methods return information in data frames, while
replacement methods do it as <a href="#topic+taxlist-class">taxlist</a> objects.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_synonym">add_synonym()</a></code> <a href="#topic+change_concept+3C-">change_concept&lt;-</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Set a different accepted name for Cyclosorus interruptus
summary(Easplist, "Cyclosorus interruptus")
accepted_name(Easplist, 50074) &lt;- 53097
summary(Easplist, 50074)

## Inserting a new name first
summary(Easplist, "Basella alba")
Easplist &lt;- add_synonym(taxlist = Easplist, ConceptID = 68,
    TaxonName = "Basella cordifolia", AuthorName = "Lam.")
summary(Easplist, 68)
accepted_name(Easplist, 68) &lt;- 56139
summary(Easplist, 68)

## Display synonyms
head(synonyms(taxlist = Easplist))

## Synonyms for an specific concept
synonyms(taxlist = Easplist, ConceptID = 20)

## Basionym for Cyclosrus interruptus
summary(Easplist, 50074)
basionym(Easplist, 50074) &lt;- 53097

summary(Easplist, 50074)
basionym(Easplist, 50074)

## Move the name Typha aethiopica to concept 573 (T. latifolia)
summary(Easplist, c(50105, 573))
change_concept(Easplist, 53130) &lt;- 573
summary(Easplist, c(50105, 573))
</code></pre>

<hr>
<h2 id='add_concept'>Add new taxonomic concepts into taxlist objects</h2><span id='topic+add_concept'></span><span id='topic+add_concept+2Ctaxlist+2Cdata.frame-method'></span><span id='topic+add_concept+2Ctaxlist+2Ccharacter-method'></span><span id='topic+add_concept+2Ctaxlist+2Ctaxlist-method'></span><span id='topic+update_concept'></span>

<h3>Description</h3>

<p>Alternative methods to add new concepts into existing <code>taxlist</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_concept(taxlist, TaxonName, ...)

## S4 method for signature 'taxlist,data.frame'
add_concept(taxlist, TaxonName, ...)

## S4 method for signature 'taxlist,character'
add_concept(taxlist, TaxonName, ...)

## S4 method for signature 'taxlist,taxlist'
add_concept(taxlist, TaxonName, insert_view = FALSE, ...)

update_concept(taxlist, ConceptID, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_concept_+3A_taxlist">taxlist</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="add_concept_+3A_taxonname">TaxonName</code></td>
<td>
<p>Character vector with the accepted name for the new taxon
concepts.</p>
</td></tr>
<tr><td><code id="add_concept_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="add_concept_+3A_insert_view">insert_view</code></td>
<td>
<p>A numeric (integer) vector, indicating the views to be
inserted in <code>taxlist</code> or the value <code>TRUE</code> (see details).</p>
</td></tr>
<tr><td><code id="add_concept_+3A_conceptid">ConceptID</code></td>
<td>
<p>Concept IDs to be updated.</p>
</td></tr>
</table>

<hr>
<h2 id='add_nacolumn'>Filling missed columns with NAs</h2><span id='topic+add_nacolumn'></span>

<h3>Description</h3>

<p>If columns of <code>y</code> are missed in <code>x</code>, the later gets these columns filled with
<code>NA</code> values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_nacolumn(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_nacolumn_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>) The data frame to be compared.</p>
</td></tr>
<tr><td><code id="add_nacolumn_+3A_y">y</code></td>
<td>
<p>(<code>data.frame</code>) The data frame used as reference.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>.
</p>

<hr>
<h2 id='add_suffix'>Add a suffix when strings are identical</h2><span id='topic+add_suffix'></span>

<h3>Description</h3>

<p>An integer will be added as suffix in <code>x</code> if an identical value is in <code>y</code>.
If a value with suffix is already in <code>y</code>, the function will search for the
highest suffix to avoid duplicated values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_suffix(x, y, sep = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_suffix_+3A_x">x</code></td>
<td>
<p>(<code>character</code> of length 1) The name to be compared.</p>
</td></tr>
<tr><td><code id="add_suffix_+3A_y">y</code></td>
<td>
<p>(<code>character</code>) Existing names, with or without suffixes.</p>
</td></tr>
<tr><td><code id="add_suffix_+3A_sep">sep</code></td>
<td>
<p>(<code>character</code> of length 1) Symbol to be placed between the original
name and the suffix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> value, either <code>x</code> or <code>x</code> with suffix if already in <code>y</code>.
</p>

<hr>
<h2 id='as'>Coerce taxlist objects to lists.</h2><span id='topic+as'></span><span id='topic+S4_to_list'></span><span id='topic+coerce+2Ctaxlist+2Clist-method'></span><span id='topic+coerce+2Ctaxlist+2Cdata.frame-method'></span><span id='topic+coerce+2Cdata.frame+2Ctaxlist-method'></span><span id='topic+coerce+2Ccharacter+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Coercion of S4 objects to lists can be applied to explore their content,
avoiding errors caused by their validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>S4_to_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+taxlist-class">taxlist</a> or any S4 class.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Coerce <a href="#topic+taxlist-class">taxlist</a> objects to lists.
</p>


<h3>Value</h3>

<p>An object of class <a href="base.html#topic+list">list</a>.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Coerce taxlist to list
tax_list &lt;- as(Easplist, "list")

## Coerce data frame to taxlist
Cyperus &lt;- read.csv(file = file.path(path.package("taxlist"), "cyperus",
        "names.csv"))
Cyperus$AcceptedName &lt;- !Cyperus$SYNONYM
head(Cyperus)

as(Cyperus, "taxlist")
</code></pre>

<hr>
<h2 id='backup_object'>Make and load backups of R objects</h2><span id='topic+backup_object'></span><span id='topic+load_last'></span>

<h3>Description</h3>

<p>When work with data becomes risky, the best practice is to produce backup
files.
The function of <code>backup_object</code> is a wrapper of <code><a href="base.html#topic+save">save()</a></code>, adding a
time stamp and a suffix to the name of the resulting file (an R image file
with extension <b>*.rda</b>).
The function <code>load_last</code> is adapted to this style, loading the newest
version to the session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>backup_object(
  ...,
  objects = character(),
  file,
  stamp = TRUE,
  overwrite = FALSE
)

load_last(file, fext = ".rda")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="backup_object_+3A_...">...</code></td>
<td>
<p>Names of the objects to be saved (either symbols or character
strings).</p>
</td></tr>
<tr><td><code id="backup_object_+3A_objects">objects</code></td>
<td>
<p>A character vector indicating the names of objects to be
included in the backup file.</p>
</td></tr>
<tr><td><code id="backup_object_+3A_file">file</code></td>
<td>
<p>A character value indicating the name of the backup file, without
the extension.</p>
</td></tr>
<tr><td><code id="backup_object_+3A_stamp">stamp</code></td>
<td>
<p>A logical value indicating whether time should be stamped in the
backup name or not.</p>
</td></tr>
<tr><td><code id="backup_object_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical value indicating whether existing files must be
overwritten or not.</p>
</td></tr>
<tr><td><code id="backup_object_+3A_fext">fext</code></td>
<td>
<p>A character value indicating the file extension (including the
dot symbol).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In both functions the argument <code>file</code> may include either the path
relative to the working directory or the absolute path to the file, excluding
stamps and extension.
For <code>overwrite=FALSE</code> (the default), a numeric suffix will be added to
the backup's name, if another backup was produced at the same day.
For <code>overwrite=TRUE</code> no suffix will be included in the file and existing
files will be overwritten.
</p>
<p>The function <code>load_last()</code> will load the newest version among backups
stored in the same folder, provided that the backup name includes a time
stamp.
</p>


<h3>Value</h3>

<p>An R image with extension <b>*.rda</b>.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+save">save</a></code> <code><a href="base.html#topic+load">load</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## A subset with Pseudognaphalium and relatives
Pseudognaphalium &lt;- subset(x = Easplist, subset = grepl("Pseudognaphalium",
        TaxonName), slot = "names", keep_parents = TRUE)

## Create a backup with date stamp in tempdir
backup_object(Pseudognaphalium, file = file.path(tempdir(), "Pseudonaphalium"))

## The same again
backup_object(Pseudognaphalium, file = file.path(tempdir(), "Pseudonaphalium"))

## Delete object
rm(list = "Pseudognaphalium")

## To load the last backup into a session
load_last(file = file.path(tempdir(), "Pseudonaphalium"))

## Load pre-installed backup
load_last(file.path(path.package("taxlist"), "extdata", "Podocarpus"))
</code></pre>

<hr>
<h2 id='clean'>Delete orphaned records</h2><span id='topic+clean'></span><span id='topic+clean+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Manipulation of slots may generate orphaned entries in
<a href="#topic+taxlist-class">taxlist</a> objects.
The function <code>clean</code> deletes such entries and restores the consistency
of the objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean(object, ...)

## S4 method for signature 'taxlist'
clean(object, times = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_+3A_object">object</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="clean_+3A_...">...</code></td>
<td>
<p>Further arguments passed from or to other methods.</p>
</td></tr>
<tr><td><code id="clean_+3A_times">times</code></td>
<td>
<p>An integer indicating how many times the cleaning should be
repeated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cleaning of objects will follow the deletion of orphaned names, orphaned
taxon trait entries, and orphaned parent entries.
</p>


<h3>Value</h3>

<p>A clean <a href="#topic+taxlist-class">taxlist</a> object.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Direct manipulation of slot taxonRelations generates an invalid object
Easplist@taxonRelations &lt;- Easplist@taxonRelations[1:5, ]

## Now apply cleaning
Easplist &lt;- clean(Easplist)
summary(Easplist)
</code></pre>

<hr>
<h2 id='clean_once_taxlist'>One run clean function</h2><span id='topic+clean_once_taxlist'></span>

<h3>Description</h3>

<p>One run clean function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_once_taxlist(object)
</code></pre>

<hr>
<h2 id='clean_strings'>Cleaning character strings.</h2><span id='topic+clean_strings'></span><span id='topic+clean_strings+2Ccharacter-method'></span><span id='topic+clean_strings+2Cfactor-method'></span><span id='topic+clean_strings+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>Multiple, leading and trailing white spaces as well as wrong encodings may
cause serious problems in information dealing with taxonomic names.
The function <code>clean_strings</code> get rid of them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_strings(x, ...)

## S4 method for signature 'character'
clean_strings(x, from = "utf8", to = "utf8", ...)

## S4 method for signature 'factor'
clean_strings(x, from = "utf8", to = "utf8", ...)

## S4 method for signature 'data.frame'
clean_strings(x, from = "utf8", to = "utf8", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_strings_+3A_x">x</code></td>
<td>
<p>Object to be cleaned.</p>
</td></tr>
<tr><td><code id="clean_strings_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods (not yet in use).</p>
</td></tr>
<tr><td><code id="clean_strings_+3A_from">from</code>, <code id="clean_strings_+3A_to">to</code></td>
<td>
<p>Arguments passed to <code><a href="base.html#topic+iconv">iconv()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function automatically deletes leading, trailing and multiple white
spaces, either in strings (method <code>character</code>), levels (method
<code>factor</code> or in single columns (method <code>data.frame</code>).
</p>


<h3>Value</h3>

<p>The same as input <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Leading, trailing and multiple spaces
clean_strings(" Cyperus    papyrus L.     ")
</code></pre>

<hr>
<h2 id='count_taxa'>Count taxa within a taxlist object.</h2><span id='topic+count_taxa'></span><span id='topic+count_taxa+2Ccharacter+2Cmissing-method'></span><span id='topic+count_taxa+2Cfactor+2Cmissing-method'></span><span id='topic+count_taxa+2Ctaxlist+2Cmissing-method'></span><span id='topic+count_taxa+2Cformula+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Counting number of taxa within <a href="#topic+taxlist-class">taxlist</a> objects or
character vectors containing taxon names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_taxa(object, data, ...)

## S4 method for signature 'character,missing'
count_taxa(object, na.rm = TRUE, ...)

## S4 method for signature 'factor,missing'
count_taxa(object, na.rm = TRUE, ...)

## S4 method for signature 'taxlist,missing'
count_taxa(object, level, ...)

## S4 method for signature 'formula,taxlist'
count_taxa(object, data, include_na = FALSE, suffix = "_count", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_taxa_+3A_object">object</code></td>
<td>
<p>An object containing a taxonomic list or a formula.</p>
</td></tr>
<tr><td><code id="count_taxa_+3A_data">data</code></td>
<td>
<p>An object of class <a href="#topic+taxlist-class">taxlist</a> in the <code>formula</code> method.</p>
</td></tr>
<tr><td><code id="count_taxa_+3A_...">...</code></td>
<td>
<p>further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="count_taxa_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical value, whether NAs have to be removed from the input
vector or not.</p>
</td></tr>
<tr><td><code id="count_taxa_+3A_level">level</code></td>
<td>
<p>Character value indicating the taxonomic rank of counted taxa.</p>
</td></tr>
<tr><td><code id="count_taxa_+3A_include_na">include_na</code></td>
<td>
<p>Logical value indicating whether <code>NA</code> values in a taxon
trait should be considered for counting taxa or just ignored (only
used in <code>formula</code> method).</p>
</td></tr>
<tr><td><code id="count_taxa_+3A_suffix">suffix</code></td>
<td>
<p>Character value used as suffix for the counted rank in the
output data frame (only used in <code>formula</code> method).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is written by convenience in order to reduce code for counting
taxa within <a href="#topic+taxlist-class">taxlist</a> objects and it is just a wrapper of <code><a href="base.html#topic+length">length()</a></code>.
</p>


<h3>Value</h3>

<p>An integer with the number of taxa.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## factor method
count_taxa(iris$Species)

## taxlist method
count_taxa(Easplist)

## count only species
count_taxa(Easplist, level = "species")

## using a formula
count_taxa(~life_form, Easplist, include_na = TRUE)
</code></pre>

<hr>
<h2 id='Deprecated-functions'>Deprecated functions</h2><span id='topic+Deprecated-functions'></span><span id='topic+add_parent'></span><span id='topic+add_trait'></span><span id='topic+add_level'></span><span id='topic+replace_view'></span><span id='topic+taxlist2taxmap'></span><span id='topic+taxmap2taxlist'></span><span id='topic+tnrs'></span>

<h3>Description</h3>

<p>Most of those functions have been replaced by alternative 'update' ones.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_parent()

add_trait()

add_level()

replace_view()

taxlist2taxmap()

taxmap2taxlist()

taxmap2taxlist()

tnrs()
</code></pre>

<hr>
<h2 id='df2taxlist'>Convert data frames and strings into taxlist objects</h2><span id='topic+df2taxlist'></span><span id='topic+df2taxlist.data.frame'></span><span id='topic+df2taxlist+2Cdata.frame-method'></span><span id='topic+df2taxlist.character'></span><span id='topic+df2taxlist+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Function converting template data frame into <a href="#topic+taxlist-class">taxlist</a> object.
Also character vectors including taxonomic names will be converted
but without any information on taxonomic ranks and parental taxa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df2taxlist(x, ...)

## S3 method for class 'data.frame'
df2taxlist(x, taxonTraits, taxonViews, levels, clean_strings = TRUE, ...)

## S3 method for class 'character'
df2taxlist(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df2taxlist_+3A_x">x</code></td>
<td>
<p>A data frame or a character vector with taxonomic names. If x is
a data frame, the columns <strong>TaxonUsageID</strong> (integer with IDs for each
name), <strong>TaxonConceptID</strong> (integer with IDs for the respective taxon
concepts), and <strong>TaxonName</strong> (character) are mandatory.
Other optional columns are <strong>AuthorName</strong> (character with names'
authorities), <strong>AcceptedName</strong> (logical indicating whether the name is
an accepted name or a synonym and will be set as TRUE by default),
<strong>Level</strong>
(factor sorting taxonomic ranks in the bottom-up direction), <strong>Parent</strong>
(integer, the taxon concept ID of the parental taxon), and <strong>ViewID</strong>
(integer pointing to the ID of taxonomic view, usually a bibliographic
reference, and will be used only if 'taxonViews' is provided.
Any further column not included in the prototype of taxlist will be
considered as names' attributes and inserted in slot <strong>taxonNames</strong>.</p>
</td></tr>
<tr><td><code id="df2taxlist_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods. For the
<code>'character-method'</code>, arguments will be passed to the
<code>'data.frame-method'</code>.</p>
</td></tr>
<tr><td><code id="df2taxlist_+3A_taxontraits">taxonTraits</code></td>
<td>
<p>A data frame with attributes of taxonomic concepts
(optional). If provided, the column <strong>TaxonConceptID</strong> is mandatorial.</p>
</td></tr>
<tr><td><code id="df2taxlist_+3A_taxonviews">taxonViews</code></td>
<td>
<p>A data frame or <a href="biblio.html#topic+lib_df-class">lib_df</a> with references of taxonomic
views (optional). If provided, the column <strong>ViewID</strong> is mandatorial and
have to match the homonymous column at 'x'.</p>
</td></tr>
<tr><td><code id="df2taxlist_+3A_levels">levels</code></td>
<td>
<p>A character vector setting the levels or taxonomic ranks from
the bottom to the top. This argument is optional and if missing, the
column <strong>Level</strong> will be preserved (if factor) or coerced to factor,
except in the case that no column <strong>Level</strong> is provided.</p>
</td></tr>
<tr><td><code id="df2taxlist_+3A_clean_strings">clean_strings</code></td>
<td>
<p>Logical value, whether function <code><a href="#topic+clean_strings">clean_strings()</a></code> should
be applied to 'x' or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+taxlist-class">taxlist</a> object.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Cyperus &lt;- read.csv(file = file.path(path.package("taxlist"), "cyperus",
  "names.csv"))
head(Cyperus)

## Convert to 'taxlist' object
Cyperus$AcceptedName &lt;- !Cyperus$SYNONYM
df2taxlist(Cyperus)

## Create a 'taxlist' object from character vectors
Plants &lt;- df2taxlist(c("Triticum aestivum", "Zea mays"), AuthorName = "L.")
summary(Plants, "all")
</code></pre>

<hr>
<h2 id='dissect_name'>Dissect Scientific Names into their Elements</h2><span id='topic+dissect_name'></span>

<h3>Description</h3>

<p>Depending the degree of resolution and specific roles of nomenclature,
strings containing taxon usage names (scientific names) are constructed with
different parts.
A string with names can be consequently split into those elements, meanwhile
the number of elements may suggest the taxonomic ranks.
</p>
<p>This function is a wrapper of <code><a href="base.html#topic+strsplit">strsplit()</a></code>, while name element can be
re-pasted if indicated in argument <code>repaste</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dissect_name(x, split = " ", fixed = TRUE, repaste, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dissect_name_+3A_x">x</code></td>
<td>
<p>A character vector containing taxon names.</p>
</td></tr>
<tr><td><code id="dissect_name_+3A_split">split</code>, <code id="dissect_name_+3A_fixed">fixed</code>, <code id="dissect_name_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="base.html#topic+strsplit">strsplit()</a></code>.</p>
</td></tr>
<tr><td><code id="dissect_name_+3A_repaste">repaste</code></td>
<td>
<p>An integer vector indicating the elements of the name selected
for the output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character matrix with as many rows as names in the input vector.
If <code>repaste</code> is indicated, then the output will be a character vector.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+strsplit">strsplit()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A list of variety names
sp_list &lt;- subset(x = Easplist, subset = Level == "variety", slot = "relations")
sp_list &lt;- accepted_name(sp_list)[c(1:10), "TaxonName"]

# split name
dissect_name(sp_list)

# re-paste the two first words (species name)
dissect_name(sp_list, repaste = c(1:2))
</code></pre>

<hr>
<h2 id='Easplist-data'>List of vascular plants from East Africa</h2><span id='topic+Easplist-data'></span><span id='topic+Easplist'></span>

<h3>Description</h3>

<p>Example of an incomplete taxonomic list including taxa recorded in East
Africa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Easplist
</code></pre>


<h3>Format</h3>

<p>An object of class <a href="#topic+taxlist-class">taxlist</a>.
</p>


<h3>Details</h3>

<p>This list is a subset of the taxonomic list implemented in the database
<a href="http://www.givd.info/ID/AF-00-006">SWEA-Dataveg</a>.
Since this list is being complemented regarding stored vegetation plots, it
is an incomplete list.
</p>


<h3>Source</h3>

<p><a href="https://africanplantdatabase.ch/">African Plant Database</a>,
<a href="http://www.givd.info/ID/AF-00-006">SWEA-Dataveg</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>summary(Easplist)
</code></pre>

<hr>
<h2 id='Extract'>Extract or Replace Parts of taxlist Objects</h2><span id='topic+Extract'></span><span id='topic++5B'></span><span id='topic++5B+2Ctaxlist-method'></span><span id='topic++24+2Ctaxlist-method'></span><span id='topic++24'></span>

<h3>Description</h3>

<p>Quick access to slots <code>taxonTraits</code> and <code>taxonRelations</code> within
<a href="#topic+taxlist-class">taxlist</a> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'taxlist'
x[i, j, drop = FALSE]

## S4 method for signature 'taxlist'
x$name
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Extract_+3A_x">x</code></td>
<td>
<p>Object of class <a href="#topic+taxlist-class">taxlist</a>.</p>
</td></tr>
<tr><td><code id="Extract_+3A_i">i</code></td>
<td>
<p>Integer or logical vector used as index for access to taxon
concepts, referring to the rows in slot 'taxonRelations'. These indices can
be used to produce a object with a subset of taxon concepts. It is not
recommended to use character values for this index.</p>
</td></tr>
<tr><td><code id="Extract_+3A_j">j</code></td>
<td>
<p>Integer, logical or character vector used as index for access to
variables in slot 'taxonTraits'. These indices can be used to reduce the
number of variables in the mentioned slot.</p>
</td></tr>
<tr><td><code id="Extract_+3A_drop">drop</code></td>
<td>
<p>A logical value passed to <code><a href="base.html#topic+Extract">Extract</a></code>.</p>
</td></tr>
<tr><td><code id="Extract_+3A_name">name</code></td>
<td>
<p>A symbol or character value for the method <code>$</code>, corresponding to
a variable either at slot 'taxonTraits' or slot 'taxonRelations'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The method <code>$</code> retrieves a vector, while <code>[</code> retrieves a subset
of the input <a href="#topic+taxlist-class">taxlist</a> object.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>.
</p>


<h3>See Also</h3>

<p><a href="#topic+taxlist-class">taxlist</a> <code><a href="#topic+subset">subset</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Statistics on life forms
summary(as.factor(Easplist$life_form))

## First concepts in this list
summary(Easplist[1:5, ], "all")
</code></pre>

<hr>
<h2 id='get_children'>Retrieve children or parents of taxon concepts</h2><span id='topic+get_children'></span><span id='topic+get_children.taxlist'></span><span id='topic+get_children+2Ctaxlist-method'></span><span id='topic+get_parents'></span><span id='topic+get_parents.taxlist'></span><span id='topic+get_parents+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Retrieve all children or all parents of a queried taxon concept.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_children(taxlist, ...)

## S3 method for class 'taxlist'
get_children(taxlist, ConceptID, ...)

get_parents(taxlist, ...)

## S3 method for class 'taxlist'
get_parents(taxlist, ConceptID, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_children_+3A_taxlist">taxlist</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="get_children_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="get_children_+3A_conceptid">ConceptID</code></td>
<td>
<p>Concept IDs for selecting parents or children or a subset of
<code>taxlist</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function produces subsets of <a href="#topic+taxlist-class">taxlist</a> objects
including all children or parents of queried taxon concepts.
Multiple concepts can be queried in these function.
The argument <code>ConceptID</code> can be a vector of concept IDs or a subset of
the input <code>taxlist</code> object.
</p>


<h3>Value</h3>

<p>A <a href="#topic+taxlist-class">taxlist</a> object with a subset including
requested concepts with children or parents.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Subset with family Ebenaceae and children
Ebenaceae &lt;- subset(x = Easplist, subset = TaxonName == "Ebenaceae")
Ebenaceae

Ebenaceae &lt;- get_children(Easplist, Ebenaceae)
Ebenaceae

## Get parents of Diospyros tricolor
Diostri &lt;- subset(x = Easplist, subset = TaxonConceptID == 52403,
    slot = "relations")
Diostri

Diostri &lt;- get_parents(Easplist, Diostri)
Diostri
</code></pre>

<hr>
<h2 id='id_generator'>Generate Identifiers</h2><span id='topic+id_generator'></span><span id='topic+id_solver'></span>

<h3>Description</h3>

<p>Creating identifiers for new elements in a database.
</p>
<p>The function <code>id_solver()</code> wil compare to set of identifiers and modify the
second to avoid duplicated IDs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id_generator(
  len,
  minvalue = 1,
  nchar = 10,
  mode = c("numeric", "character"),
  ...
)

id_solver(insert, to, suffix = c("numeric", "character"), sep = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="id_generator_+3A_len">len</code></td>
<td>
<p>Numeric value indicating the length of the retrieved vector with
identifiers.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_minvalue">minvalue</code></td>
<td>
<p>Numeric value indicating the minimum value in the vector of
identifiers. Used only for <code>'mode = "numeric"'</code>.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_nchar">nchar</code></td>
<td>
<p>Numeric value indicating the number of characters included in
the retrieved identifiers. Used only for <code>'mode = "character"'</code>.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_mode">mode</code></td>
<td>
<p>Character value indicating the type of identifier created, which
is either numeric (the default) or charcter.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_...">...</code></td>
<td>
<p>Further parameters passed to <code><a href="stringi.html#topic+stri_rand_strings">stri_rand_strings()</a></code>, actually to
the argument <code>'pattern'</code>.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_insert">insert</code></td>
<td>
<p>A vector (either numeric or character) containing IDs of
elements that will be inserted in a database.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_to">to</code></td>
<td>
<p>A vector (either numeric or character) containing IDs of elements
thar already exist in target database.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_suffix">suffix</code></td>
<td>
<p>A character vector indicating the mode used for the suffix.
Only 'numeric' or 'character' and partial matchings are accepted here.
This argument is only used for character IDs. If
<code>'suffix = "character"'</code>, a letter of the alphabet (vector <code>'letters'</code>)
will be appended to duplicated IDs.</p>
</td></tr>
<tr><td><code id="id_generator_+3A_sep">sep</code></td>
<td>
<p>A character value used as separator between original character
ID and the appended suffix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with IDs created by <code>id_generator()</code>, either as numeric or
character.
In the case of <code>id_solver()</code>, a vector, which is either identical to
<code>'insert'</code> (if no conflicts) or a vector witht he same properties but with
resolved IDs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Creating numeric IDs
id_generator(len = 10, minvalue = 5)

## Creating character IDs
id_generator(len = 10, mode = "character")

## Solving duplicates in numeric identifiers
id_solver(insert = c(3, 7, 5, 10), to = c(1:5))

## Solving duplicates in bibtexkeys
db_refs &lt;- c("Alvarez2003", "Schmitz1988", "Li2023")
new_refs &lt;- c("Alvarez2003", "Li2023", "Mueller1953", "Alvarez2003a")
any(duplicated(c(db_refs, new_refs)))

solved_refs &lt;- id_solver(insert = new_refs, to = db_refs, suffix = "character")
solved_refs
any(duplicated(c(db_refs, solved_refs)))
</code></pre>

<hr>
<h2 id='indented_list'>Print hierarchical structure in indented lists</h2><span id='topic+indented_list'></span><span id='topic+indented_list+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Print taxonomic hierarchies (ranks and parent-child relationships) from
<a href="#topic+taxlist-class">taxlist</a> objects in an indented list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indented_list(object, ...)

## S4 method for signature 'taxlist'
indented_list(
  object,
  filter,
  keep_children = TRUE,
  keep_parents = TRUE,
  rankless_as,
  indent = " ",
  lead_br = "",
  print = TRUE,
  author = TRUE,
  level = FALSE,
  synonyms = FALSE,
  syn_encl = c("= ", ""),
  secundum,
  alphabetical = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="indented_list_+3A_object">object</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object containing taxonomic concepts.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_...">...</code></td>
<td>
<p>Further arguments (not used yet).</p>
</td></tr>
<tr><td><code id="indented_list_+3A_filter">filter</code></td>
<td>
<p>A character value (optional) that will be matched with the
taxon usage names to produce a subset of 'object'. Note that this filter
will be also applied to synonyms, independent of the argument applied in
parameter 'synonyms'.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_keep_children">keep_children</code></td>
<td>
<p>A logical value indicating whether children of matched
concept should be included in the result.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_keep_parents">keep_parents</code></td>
<td>
<p>A logical value indicating whether parents of matched
concept should be included in the result.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_rankless_as">rankless_as</code></td>
<td>
<p>A character vector indicating a level (taxonomic rank) to
which rankless taxa may be set before doing the list.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_indent">indent</code></td>
<td>
<p>Symbol used for indentation. This symbol will be multiplied by
the depth of the taxonomic rank. The default is a blank space.
This can be also provided as a named vector, with a different indentation
symbol for the respective taxonomic ranks.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_lead_br">lead_br</code></td>
<td>
<p>Optional line break symbol leading before the indentation.
It may be required for r-markdown documents.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_print">print</code></td>
<td>
<p>A logical value indicating whether the indented list should be
printed in the console or not (default = TRUE).</p>
</td></tr>
<tr><td><code id="indented_list_+3A_author">author</code></td>
<td>
<p>A logical value indicating whether the author should be printed
with the name (default = TRUE).</p>
</td></tr>
<tr><td><code id="indented_list_+3A_level">level</code></td>
<td>
<p>A logical value indicating whether the name of the level
(taxonomic rank) should be included before the name or not
(default = FALSE).</p>
</td></tr>
<tr><td><code id="indented_list_+3A_synonyms">synonyms</code></td>
<td>
<p>A logical value indicating whether the synonyms should be
included after accepted names or not (default = FALSE).</p>
</td></tr>
<tr><td><code id="indented_list_+3A_syn_encl">syn_encl</code></td>
<td>
<p>A character vector of length 2 including the symbols used to
enclose synonyms. First value will be set before the synonyms and second
value, after the synonyms.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_secundum">secundum</code></td>
<td>
<p>A character value matching a name in slot 'taxonViews', which
will be printed as secundum (taxon view). It is not printed by default.</p>
</td></tr>
<tr><td><code id="indented_list_+3A_alphabetical">alphabetical</code></td>
<td>
<p>A logical value indicating whether taxa may be sorted by
names or by IDs. The default is FALSE, thus taxa are sorted by IDs.
Note that argument TRUE may not work properly if the object contains
homonymous taxa.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'print = TRUE', the indented list is printed in the console. The result,
which is a data frame with the elements used to format the names, can be also
assigned to an object.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Show taxonomy of papyrus
indented_list(Easplist, "papyrus")

## Include synonyms and taxon views
indented_list(Easplist, "papyrus", level = TRUE, synonyms = TRUE,
    secundum = "secundum")
</code></pre>

<hr>
<h2 id='levels'>Set and retrieves hierarchical levels</h2><span id='topic+levels'></span><span id='topic+levels.taxlist'></span><span id='topic+levels+2Ctaxlist-method'></span><span id='topic+levels+3C-'></span><span id='topic+levels+3C-.taxlist'></span><span id='topic+levels+3C-+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Taxonomic hierarchies can be set as levels in <a href="#topic+taxlist-class">taxlist</a>
objects, ordered from lower to higher levels.
</p>
<p>Add taxonomic levels for specific taxon concepts in a
<a href="#topic+taxlist-class">taxlist</a> object.
Also changes in concept circumscription may implicate changes in its
taxonomic hierarchy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>levels(x)

## S3 method for class 'taxlist'
levels(x)

levels(x) &lt;- value

## S3 replacement method for class 'taxlist'
levels(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="levels_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="levels_+3A_value">value</code></td>
<td>
<p>A character vector with replacement values for levels o <code>x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Taxonomic levels will be handled as factors in the
<a href="#topic+taxlist-class">taxlist</a> objects.
Those levels are useful for creating subsets of related groups (e.g. by
functions <code><a href="#topic+get_children">get_children()</a></code> or <code><a href="#topic+get_parents">get_parents()</a></code>).
</p>
<p>Levels in combination to parent-child relationships will be further used for
checking consistency of taxonomic lists.
</p>
<p>A replacement method of the form <code>levels(x) &lt;- value</code> it is also implemented.
</p>


<h3>Value</h3>

<p>A <code>character</code> vector or a <a href="#topic+taxlist-class">taxlist</a> object with
added or modified taxonomic levels.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Get levels of species list
levels(Easplist)

## Add aggregate as new taxonomic level
levels(Easplist) &lt;- c("form", "variety", "subspecies", "species", "complex",
    "aggregate", "genus", "family")
summary(Easplist)
</code></pre>

<hr>
<h2 id='match_names'>Search matchings between character and taxlist objects</h2><span id='topic+match_names'></span><span id='topic+match_names+2Ccharacter+2Ccharacter-method'></span><span id='topic+match_names+2Ccharacter+2Cmissing-method'></span><span id='topic+match_names+2Ccharacter+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Names provided in a character vector will be compared with names stored in
slot <code>taxonNames</code> within an object of class <a href="#topic+taxlist-class">taxlist</a> by
using the function <code><a href="stringdist.html#topic+stringsim">stringsim()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_names(x, object, ...)

## S4 method for signature 'character,character'
match_names(
  x,
  object,
  UsageID,
  best = 1,
  nomatch = TRUE,
  method = "lcs",
  cutlevel = NULL,
  ...
)

## S4 method for signature 'character,missing'
match_names(x, best, cutlevel, nomatch = TRUE, ...)

## S4 method for signature 'character,taxlist'
match_names(
  x,
  object,
  show_concepts = FALSE,
  accepted_only = FALSE,
  include_author = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match_names_+3A_x">x</code></td>
<td>
<p>A character vector with names to be compared.</p>
</td></tr>
<tr><td><code id="match_names_+3A_object">object</code></td>
<td>
<p>Either a character vector or a <a href="#topic+taxlist-class">taxlist</a> object
containing the taxonomic list for comparison. If missing, the similarity
of each name in 'x' will be compared with the rest of the names in the
same vector.</p>
</td></tr>
<tr><td><code id="match_names_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="match_names_+3A_usageid">UsageID</code></td>
<td>
<p>A vector with IDs for single usage names in the compared list.
If the IDs are duplicated or not as much as names in 'object', the
function retrieves an error message. If missing, this function will
number every name anew (see column 'TaxonUsageID' in the output object).</p>
</td></tr>
<tr><td><code id="match_names_+3A_best">best</code></td>
<td>
<p>Integer value indicating how many matches should be displayed
in the output. Matches with the same value of similarity will be
considered as one. Note that this argument will be overrode by
'cutlevel'.</p>
</td></tr>
<tr><td><code id="match_names_+3A_nomatch">nomatch</code></td>
<td>
<p>A logical value indicating wheter names without matches should
be included in the output (<code>'nomatch = TRUE'</code>) or not
(<code>'nomatch = FALSE'</code>).</p>
</td></tr>
<tr><td><code id="match_names_+3A_method">method</code></td>
<td>
<p>Further arguments passed to <code><a href="stringdist.html#topic+stringsim">stringsim()</a></code>.</p>
</td></tr>
<tr><td><code id="match_names_+3A_cutlevel">cutlevel</code></td>
<td>
<p>A numeric value indicating a cut level of similarity,
considering as match names with similarities equal or bigger than the
cut value. This argument overrides 'best'.</p>
</td></tr>
<tr><td><code id="match_names_+3A_show_concepts">show_concepts</code></td>
<td>
<p>Logical value indicating whether the respective taxon
concepts should be displayed in output or not.</p>
</td></tr>
<tr><td><code id="match_names_+3A_accepted_only">accepted_only</code></td>
<td>
<p>Logical value indicating whether only accepted names
should be matched or all usage names (including synonyms).</p>
</td></tr>
<tr><td><code id="match_names_+3A_include_author">include_author</code></td>
<td>
<p>A logical value indicating whether the author name
in object (method for <a href="#topic+taxlist-class">taxlist</a>) should be included in the matching
list or not.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="stringdist.html#topic+stringsim">stringsim()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Names to be compared
species &lt;- c("Cyperus papyrus", "Typha australis", "Luke Skywalker")

## Comparing character vectors
match_names(c("Cyperus paper", "TIE fighter"), species)

## Retrieve taxon usage names
match_names(species, Easplist)

## Display accepted names in output
match_names(x = species, object = Easplist, show_concepts = TRUE)

# Using cut value for similarity
match_names(x = species, object = Easplist, cutlevel = 0.8)
</code></pre>

<hr>
<h2 id='matched_names-class'>Names matched with a reference taxonomic list</h2><span id='topic+matched_names-class'></span>

<h3>Description</h3>

<p>An S3 class containing results of names compared with a reference list.
This class enables further methods applied to these outputs, for instance
an interactive selection of multiple choices.
</p>

<hr>
<h2 id='merge_taxa'>Merge concepts or move names</h2><span id='topic+merge_taxa'></span><span id='topic+merge_taxa.taxlist'></span><span id='topic+merge_taxa+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Merge taxon concepts form a <a href="#topic+taxlist-class">taxlist</a> object into single ones.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_taxa(object, ...)

## S3 method for class 'taxlist'
merge_taxa(object, concepts, level, print_output = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_taxa_+3A_object">object</code>, <code id="merge_taxa_+3A_taxlist">taxlist</code></td>
<td>
<p>Object of class <a href="#topic+taxlist-class">taxlist</a>.</p>
</td></tr>
<tr><td><code id="merge_taxa_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to or from other methods.</p>
</td></tr>
<tr><td><code id="merge_taxa_+3A_concepts">concepts</code></td>
<td>
<p>Numeric (integer) vector including taxon concepts to be
merged.</p>
</td></tr>
<tr><td><code id="merge_taxa_+3A_level">level</code></td>
<td>
<p>Character vector indicating the lowest level for merging.</p>
</td></tr>
<tr><td><code id="merge_taxa_+3A_print_output">print_output</code></td>
<td>
<p>Logical value indicating whether the merged concept
should be displayed in the console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Taxon concepts indicated in argument <code>concepts</code> will be merged into a
single concept.
The new concept inherits the ID and respective attributes from slots
<code>taxonRelations</code> and <code>taxonTraits</code> from the first taxon concept
indicated in argument <code>concepts</code>.
</p>
<p>For convenience the resulting concept can be displayed by setting
<code>print_output=TRUE</code> but only when using argument <code>concepts</code>.
</p>
<p>An alternative application of this function is implemented through the
argument <code>level</code>, where all lower rank taxa will be merged to the indicated
level or higher (if parent of merged taxa are at a higher rank).
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+taxlist-class">taxlist</a>.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Merge Cyperus papyrus and Cyperus dives
summary(Easplist, c(206, 197))

sp_list &lt;- merge_taxa(object = Easplist, concepts = c(206, 197),
    print_output = TRUE)
</code></pre>

<hr>
<h2 id='overview_taxlist'>Function producing the overview of whole object.</h2><span id='topic+overview_taxlist'></span>

<h3>Description</h3>

<p>Function producing the overview of whole object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overview_taxlist(object, units, check_validity)
</code></pre>

<hr>
<h2 id='overview_taxon'>Function producing the overview of single taxon concepts.</h2><span id='topic+overview_taxon'></span>

<h3>Description</h3>

<p>Function producing the overview of single taxon concepts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overview_taxon(object, ConceptID, display, maxsum, secundum = NULL)
</code></pre>

<hr>
<h2 id='print_name'>Format usage names for publications</h2><span id='topic+print_name'></span><span id='topic+print_name.character'></span><span id='topic+print_name+2Ccharacter-method'></span><span id='topic+print_name.taxlist'></span><span id='topic+print_name+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>When writing on bio-diversity, usage names could be automatically inserted in
documents including the typical italic format for different elements of a
scientific name.
The function <code>print_name</code> can be applied either in markdown documents or
for graphics.
</p>
<p>In <strong>Rmarkdown</strong> documents use <code>*Cyperus papyrus* L.</code> for
inserting a formatted a species name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_name(object, ...)

## S3 method for class 'character'
print_name(
  object,
  second_mention = FALSE,
  style = "markdown",
  isolate = c("var.", "ssp.", "subsp.", "f.", "fma."),
  trim = c("spp.", "sp.", "species"),
  ...
)

## S3 method for class 'taxlist'
print_name(
  object,
  id,
  concept = TRUE,
  include_author = TRUE,
  secundum,
  style = "markdown",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_name_+3A_object">object</code></td>
<td>
<p>An object of class <a href="#topic+taxlist-class">taxlist</a>.</p>
</td></tr>
<tr><td><code id="print_name_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="print_name_+3A_second_mention">second_mention</code></td>
<td>
<p>Logical value, whether the genus name should be
abbreviated or not.</p>
</td></tr>
<tr><td><code id="print_name_+3A_style">style</code></td>
<td>
<p>Character value indicating the alternative format for italics.
The available options are <code>"markdown"</code> (called within Rmarkdown
documents), <code>"html"</code> (for documents rendered into html files),
<code>"expression"</code> (used for labels in graphics), and <code>"knitr"</code> (format in
LaTeX code).</p>
</td></tr>
<tr><td><code id="print_name_+3A_isolate">isolate</code></td>
<td>
<p>A character vector with words (usually abbreviations)
appearing in the middle of scientific names, which are not formatted in
italics.</p>
</td></tr>
<tr><td><code id="print_name_+3A_trim">trim</code></td>
<td>
<p>A character vectors with words appearing at the end of scientific
names that are not formatted in italics, either.</p>
</td></tr>
<tr><td><code id="print_name_+3A_id">id</code></td>
<td>
<p>Integer containing either a concept or a name ID.</p>
</td></tr>
<tr><td><code id="print_name_+3A_concept">concept</code></td>
<td>
<p>Logical value, whether <code>id</code> corresponds to a concept ID
or a taxon usage name ID.</p>
</td></tr>
<tr><td><code id="print_name_+3A_include_author">include_author</code></td>
<td>
<p>Logical value, whether authors of the name should be
mentioned or not.</p>
</td></tr>
<tr><td><code id="print_name_+3A_secundum">secundum</code></td>
<td>
<p>Character value indicating the column in slot <code>taxonViews</code>
that will be mentioned as <em>secundum</em> (according to).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character value including format to italic font.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="ape.html#topic+mixedFontLabel">ape::mixedFontLabel()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example subspecies
summary(Easplist, 363, secundum = "secundum")

## Empty plot
plot(x = NA, xlim = c(0, 5), ylim = c(7, 1), bty = "n", xaxt = "n", xlab = "",
  ylab = "options")

## Accepted name with author
text(x = 0, y = 1, labels = print_name(Easplist, 363, style = "expression"),
  pos = 4)

## Including taxon view
text(x = 0, y = 2, labels = print_name(Easplist, 363, style = "expression",
  secundum = "secundum"), pos = 4, cex = 0.7)

## Second mention in text
text(x = 0, y = 3, labels = print_name(Easplist, 363, style = "expression",
  second_mention = TRUE), pos = 4)

## Using synonym
text(x = 0, y = 4, labels = print_name(Easplist, 50037, style = "expression",
  concept = FALSE), pos = 4)

## Markdown style
text(0, 5, labels = print_name(Easplist, 363, style = "markdown"), pos = 4)

## HTML style
text(0, 6, labels = print_name(Easplist, 363, style = "html"), pos = 4,
    cex = 0.7)

## LaTeX style for knitr
text(x = 0, y = 7, labels = print_name(Easplist, 363, style = "knitr"), pos = 4,
    cex = 0.7)
</code></pre>

<hr>
<h2 id='replace_x'>Data manipulation.</h2><span id='topic+replace_x'></span><span id='topic+replace_idx'></span><span id='topic+replace_na'></span><span id='topic+insert_rows'></span>

<h3>Description</h3>

<p>This is a series of functions designed for a fast coding of replacements
both, as internal functions and in workflows dealing with information stored
in vectors and data frames.
Such functions are especially useful when handling with functional traits
stored in <a href="#topic+taxlist-class">taxlist</a> objects.
</p>
<p><code>replace_x()</code> is used to exchange values in vectors.
<code>replace_idx()</code> changes values in vectors by matching indices or conditions.
The function <code>replace_na()</code> works in the same way as <code>replace_idx()</code> but will
only insert values in empty elements (NAs).
</p>
<p>The function <code>insert_rows()</code> will add rows and columns at the same time.
This function will be used when a new table is appended to another but
sharing only part of the columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_x(x, old, new)

replace_idx(x, idx1 = x, idx2 = idx1, new)

replace_na(x, idx1, idx2 = idx1, new)

insert_rows(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_x_+3A_x">x</code></td>
<td>
<p>A vector to be modified. In the case of <code>insert_rows()</code>, <code>x</code> is a
data frame.</p>
</td></tr>
<tr><td><code id="replace_x_+3A_old">old</code></td>
<td>
<p>A vector with values to be replaced by <code>replace_x()</code> in a vector.</p>
</td></tr>
<tr><td><code id="replace_x_+3A_new">new</code></td>
<td>
<p>A vector containing values to be inserted, either comparing values
or using indices.</p>
</td></tr>
<tr><td><code id="replace_x_+3A_idx1">idx1</code>, <code id="replace_x_+3A_idx2">idx2</code></td>
<td>
<p>Indices applied for value replacements to match <code>x</code> with
<code>new</code>, respectively. If <code>idx2</code> is not provided, it will be assumed as
equivalent to <code>idx1</code>.</p>
</td></tr>
<tr><td><code id="replace_x_+3A_y">y</code></td>
<td>
<p>A data frame including rows (and columns) to be inserted in <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector or data frame with the modified values.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Replace values in vector
replace_x(x = letters, old = c("b", "p", "f"), new = c("bee", "pork", "fungus"))

## Replace values using indices
replace_idx(x = letters, idx1 = 1:length(letters), idx2 = c(2, 7, 17),
  new = c("second", "seventh", "seventeenth"))

## Replace values if they are NAs
letters[2] &lt;- NA
replace_na(x = letters, idx1 = 1:length(letters), idx2 = c(1:3),
  new = c("alpha", "beta", "zeta"))

## The same applications but this time for functional traits
summary(as.factor(Easplist$life_form))

# Merge annuals
Easplist@taxonTraits$lifeform &lt;- replace_x(x = Easplist@taxonTraits$life_form,
  old = c("obligate_annual", "facultative_annual"), new = c("annual", "annual"))
summary(as.factor(Easplist$lifeform))

# The same effect
Easplist@taxonTraits$lifeform &lt;- replace_idx(x = Easplist@taxonTraits$life_form,
  idx1 = grepl("annual", Easplist@taxonTraits$life_form), idx2 = TRUE,
  new = "annual")
summary(as.factor(Easplist$lifeform))

## Merge data frames including new columns
data(iris)
iris$Species &lt;- paste(iris$Species)
new_iris &lt;- data.frame(Species = rep("humilis", 2), Height = c(15, 20),
  stringsAsFactors = FALSE)
insert_rows(iris, new_iris)
</code></pre>

<hr>
<h2 id='sort_backups'>Sorting files with time stamp and suffix</h2><span id='topic+sort_backups'></span>

<h3>Description</h3>

<p>When backups have been saved with a time stamp in the file's name and a
suffix, in the case of more than one backup in one day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort_backups(file, f_timestamp = "%Y-%m-%d", fext = ".rda")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_backups_+3A_file">file</code></td>
<td>
<p>A character value indicating the root of the backup's name. It
may include also the path relative to the working directory when the
backup is stored in a sub-folder.</p>
</td></tr>
<tr><td><code id="sort_backups_+3A_fext">fext</code></td>
<td>
<p>A character value indicating the file extension (including the
dot symbol).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame including the sorted names of backup files from the
oldest to the newest.
</p>

<hr>
<h2 id='subset'>Subset method for taxlist objects</h2><span id='topic+subset'></span><span id='topic+subset+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Subset of <a href="#topic+taxlist-class">taxlist</a> objects will be done applying either
logical operations or pattern matchings.
Subsets can be referred to information contained either in the slot
<code>taxonNames</code>, <code>taxonRelations</code> or <code>taxonTraits</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'taxlist'
subset(
  x,
  subset,
  slot = "names",
  keep_children = FALSE,
  keep_parents = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset_+3A_x">x</code></td>
<td>
<p>Object of class <a href="#topic+taxlist-class">taxlist</a>.</p>
</td></tr>
<tr><td><code id="subset_+3A_subset">subset</code></td>
<td>
<p>Logical vector or logical operation to apply as subset.</p>
</td></tr>
<tr><td><code id="subset_+3A_slot">slot</code></td>
<td>
<p>Character value indicating the slot to be used for the subset.</p>
</td></tr>
<tr><td><code id="subset_+3A_keep_children">keep_children</code></td>
<td>
<p>Logical value applied to hierarchical structures.</p>
</td></tr>
<tr><td><code id="subset_+3A_keep_parents">keep_parents</code></td>
<td>
<p>Logical value applied to hierarchical structures.</p>
</td></tr>
<tr><td><code id="subset_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The argument <code>subset</code> will be applied to the slot specified in argument
<code>slot</code>.
This argument also allows partial matchings.
</p>
<p>Arguments <code>keep_children</code> and <code>keep_parents</code> are applied to objects
including parent-child relationships.
When those arguments are set as <code>FALSE</code> (the default), children or parents
of selected taxon concepts will not be included in the subset.
</p>
<p>Be aware that <code><a href="#topic+subset">subset()</a></code> won't work properly inside of function definitions.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+taxlist-class">taxlist</a>.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Produce a data set with only reed plants
sp_list &lt;- subset(x = Easplist, subset = life_form == "reed_plant",
    slot = "taxonTraits", keep_parents = TRUE)
sp_list

summary(as.factor(sp_list$life_form))
</code></pre>

<hr>
<h2 id='summary'>Print overviews for taxlist Objects and their content</h2><span id='topic+summary'></span><span id='topic+summary+2Ctaxlist-method'></span><span id='topic+show+2Ctaxlist-method'></span><span id='topic+print+2Ctaxlist-method'></span><span id='topic+print'></span>

<h3>Description</h3>

<p>A method to display either an overview of the content of
<a href="#topic+taxlist-class">taxlist</a> objects or an overview of selected taxa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'taxlist'
summary(
  object,
  ConceptID,
  units = "Kb",
  check_validity = TRUE,
  display = "both",
  maxsum = 5,
  secundum = NULL,
  exact = FALSE,
  ...
)

## S4 method for signature 'taxlist'
show(object)

## S4 method for signature 'taxlist'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_+3A_object">object</code>, <code id="summary_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="summary_+3A_conceptid">ConceptID</code></td>
<td>
<p>IDs of concepts to be displayed in the summary.</p>
</td></tr>
<tr><td><code id="summary_+3A_units">units</code></td>
<td>
<p>Character value indicating the units shown in the object's
allocated space.</p>
</td></tr>
<tr><td><code id="summary_+3A_check_validity">check_validity</code></td>
<td>
<p>Logical value indicating whether the validity of
<code>object</code> should be checked or not.</p>
</td></tr>
<tr><td><code id="summary_+3A_display">display</code></td>
<td>
<p>Character value indicating the field to be displayed (see
details).</p>
</td></tr>
<tr><td><code id="summary_+3A_maxsum">maxsum</code></td>
<td>
<p>Integer indicating the maximum number of displayed taxa.</p>
</td></tr>
<tr><td><code id="summary_+3A_secundum">secundum</code></td>
<td>
<p>A character value indicating the column from slot<code>taxonViews</code>
to be displayed in the summary.</p>
</td></tr>
<tr><td><code id="summary_+3A_exact">exact</code></td>
<td>
<p>A logical value indicating whether taxon names should match the
exact argument in parameter 'ConceptID'. It works only if 'ConceptID' is
provided as character value and  is not the keyword 'all'.</p>
</td></tr>
<tr><td><code id="summary_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from another methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A general overview indicating number of names, concepts and taxon views
included in <a href="#topic+taxlist-class">taxlist</a> objects.
If argument <code>ConceptID</code> is a vector with concept IDs or names to be matched
by <code><a href="base.html#topic+grepl">grepl()</a></code>, then a display of all names included in each concept will be
produced.
Alternative you can use <code>taxon="all"</code> in order to get the listing of names
for all concepts included in the object (truncated to the input number of
<code>maxsum</code>).
</p>
<p>For summaries applied to concepts, there are three alternative displays of
names using the argument <code>display</code>.
Use <code>display="name"</code> to show the value <code>TaxonName</code>, <code>display="author"</code> to
show the value <code>AuthorName</code> or <code>display="both"</code> to show both values.
Such values are taken from slot <code>taxonNames</code>.
</p>
<p>For big objects it will be recommended to set <code>units="Mb"</code> (see also
<code><a href="utils.html#topic+object.size">object.size()</a></code> for further alternatives).
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+taxlist-class">taxlist</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## summary of the object
summary(Easplist, units = "Mb")

## the same output
summary(Easplist)
show(Easplist)
print(Easplist)
Easplist

## summary for two taxa
summary(Easplist, c(51128, 51140))

## summary by matching a name
summary(Easplist, "Acmella")

## summary for the first 10 taxa
summary(object = Easplist, ConceptID = "all", maxsum = 10)
</code></pre>

<hr>
<h2 id='tax2traits'>Set taxonomic information as taxon traits</h2><span id='topic+tax2traits'></span><span id='topic+tax2traits.taxlist'></span><span id='topic+tax2traits+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>Taxonomic classification can be included in <a href="#topic+taxlist-class">taxlist</a>
objects within the information provided at slot <code>taxonRelations</code>.
Nevertheless, for statistical analyses it may be more convenient to insert
such information in the slot <code>taxonTraits</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tax2traits(object, ...)

## S3 method for class 'taxlist'
tax2traits(object, get_names = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tax2traits_+3A_object">object</code></td>
<td>
<p>An object of class <a href="#topic+taxlist-class">taxlist</a>.</p>
</td></tr>
<tr><td><code id="tax2traits_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed among methods.</p>
</td></tr>
<tr><td><code id="tax2traits_+3A_get_names">get_names</code></td>
<td>
<p>Logical value indicating whether taxon names should be
retrieved instead of taxon IDs.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can only be applied to objects containing parent-child
relationships and information on taxonomic levels.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+taxlist-class">taxlist</a> with taxonomy added
as traits.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Family Acanthaceae with children
Acanthaceae &lt;- subset(x = Easplist, subset = TaxonName == "Acanthaceae",
  slot = "names", keep_children = TRUE)
summary(Acanthaceae)

## Insert taxonomy to taxon traits
Acanthaceae &lt;- tax2traits(Acanthaceae, get_names = TRUE)
head(taxon_traits(Acanthaceae))
</code></pre>

<hr>
<h2 id='taxlist-class'>An S4 class to represent taxonomic lists.</h2><span id='topic+taxlist-class'></span>

<h3>Description</h3>

<p>Class for taxonomic lists including synonyms, hierarchical ranks,
parent-child relationships, taxon views and taxon traits.
</p>
<p>Note that each taxon becomes an identifier, represented by the column
<strong>TaxonConceptID</strong> in the slot <strong>taxonRelations</strong>, analogous to a primary key
in a relational database.
This identifier is restricted to an integer in <code>taxlist</code> and is specific for
the object.
</p>
<p>In the same way, each taxon usage name has an identifier in the column
<strong>TaxonUsageID</strong>, slot <strong>taxonNames</strong>.
The column <strong>ViewID</strong> in slot <strong>taxonViews</strong> is the identifier of the taxon
view.
</p>


<h3>Slots</h3>


<dl>
<dt><code>taxonNames</code></dt><dd><p>(<code>data.frame</code>) Table of taxon usage names (accepted names
and synonyms).</p>
</dd>
<dt><code>taxonRelations</code></dt><dd><p>(<code>data.frame</code>) Relations between concepts, accepted
names, basionyms, parents and hierarchical level.</p>
</dd>
<dt><code>taxonTraits</code></dt><dd><p>Table of taxon traits.</p>
</dd>
<dt><code>taxonViews</code></dt><dd><p>References used to determine the respective concept
circumscription.</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Miguel Alvarez
</p>


<h3>References</h3>

<p><b>Alvarez M, Luebert F (2018).</b> The taxlist package: managing plant
taxonomic lists in R. <em>Biodiversity Data Journal</em> 6: e23635.
<a href="https://doi.org/10.3897/bdj.6.e23635">doi:10.3897/bdj.6.e23635</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Class 'taxlist'
showClass("taxlist")

## Create an empty object
sp_list &lt;- new("taxlist")
sp_list
</code></pre>

<hr>
<h2 id='taxon_names'>Handle information on taxon usage names.</h2><span id='topic+taxon_names'></span><span id='topic+taxon_names.taxlist'></span><span id='topic+taxon_names+2Ctaxlist-method'></span><span id='topic+taxon_names+3C-'></span><span id='topic+taxon_names+3C-.taxlist'></span><span id='topic+taxon_names+3C-+2Ctaxlist-method'></span><span id='topic+add_synonym'></span><span id='topic+add_synonym.taxlist'></span><span id='topic+add_synonym+2Ctaxlist-method'></span><span id='topic+update_name'></span><span id='topic+update_name.taxlist'></span><span id='topic+update_name+2Ctaxlist-method'></span><span id='topic+delete_name'></span><span id='topic+delete_name.taxlist'></span><span id='topic+delete_name+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>The slot <code>taxonNames</code> in <a href="#topic+taxlist-class">taxlist</a> objects contains
taxon usage names for the respective taxon.
These functions assist on the access and modification of entries for names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxon_names(taxlist, ...)

## S3 method for class 'taxlist'
taxon_names(taxlist, ...)

taxon_names(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
taxon_names(taxlist, ...) &lt;- value

add_synonym(taxlist, ...)

## S3 method for class 'taxlist'
add_synonym(taxlist, ConceptID, TaxonName, AuthorName, ...)

update_name(taxlist, ...)

## S3 method for class 'taxlist'
update_name(taxlist, UsageID, ...)

delete_name(taxlist, ...)

## S3 method for class 'taxlist'
delete_name(taxlist, UsageID, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxon_names_+3A_taxlist">taxlist</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object to be modified.</p>
</td></tr>
<tr><td><code id="taxon_names_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods. In <code>update_name</code> are
vectors including the variables to be updated for the respective taxon
usage ID.</p>
</td></tr>
<tr><td><code id="taxon_names_+3A_value">value</code></td>
<td>
<p>A data frame used as new slot <code>taxonNames</code> in <code>taxlist</code>.</p>
</td></tr>
<tr><td><code id="taxon_names_+3A_conceptid">ConceptID</code></td>
<td>
<p>Numeric vector indicating the concept ID to which the
synonyms will be added.</p>
</td></tr>
<tr><td><code id="taxon_names_+3A_taxonname">TaxonName</code>, <code id="taxon_names_+3A_authorname">AuthorName</code></td>
<td>
<p>Character values used for the new names
(synonyms).</p>
</td></tr>
<tr><td><code id="taxon_names_+3A_usageid">UsageID</code></td>
<td>
<p>Numeric vector indicating the taxon usage IDs to be updated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The replacement method <code style="white-space: pre;">&#8288;taxon_names&lt;-&#8288;</code> is a quick alternative to include
names in empty <a href="#topic+taxlist-class">taxlist</a> objects.
</p>
<p>The function <code>add_synonym()</code> works only for adding names to existing
taxon concepts.
For adding new taxon concepts as well you should use <code><a href="#topic+add_concept">add_concept()</a></code>.
</p>


<h3>Value</h3>

<p>A data frame or, in the case of the replacement method, a
<a href="#topic+taxlist-class">taxlist</a> object with modified slot <code>taxonNames</code>.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+taxlist-class">taxlist</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Display of slot 'taxonNames'
Euclea &lt;- subset(x = Easplist, subset = charmatch("Euclea", TaxonName),
  slot = "names", keep_children = TRUE)
Euclea
taxon_names(Euclea)

## Insert a synonym to Diospyros scabra
summary(Easplist, "Diospyros scabra")
sp_list &lt;- add_synonym(taxlist = Easplist, ConceptID = 51793,
  TaxonName = "Maba scabra", AuthorName = "Chiov.")
summary(sp_list, "Diospyros scabra")

## Delete a synonym of Launaea cornuta
summary(sp_list, "Launaea cornuta")
sp_list &lt;- delete_name(sp_list, 53821)
summary(sp_list, "Launaea cornuta")

## Hypothetical correction in author name in Launaea cornuta
sp_list &lt;- update_name(taxlist = sp_list, UsageID = 355, AuthorName = "L.")
summary(sp_list, "Launaea cornuta")
</code></pre>

<hr>
<h2 id='taxon_relations'>Retrieve or replace slot taxonRelations in taxlist objects</h2><span id='topic+taxon_relations'></span><span id='topic+taxon_relations.taxlist'></span><span id='topic+taxon_relations+2Ctaxlist-method'></span><span id='topic+taxon_relations+3C-'></span><span id='topic+taxon_relations+3C-.taxlist'></span><span id='topic+taxon_relations+3C-+2Ctaxlist-method'></span><span id='topic+update_concept+2Ctaxlist+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Retrieve the content of slot <code>taxonRelations</code> from a
<a href="#topic+taxlist-class">taxlist</a> object or replace it by a new data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxon_relations(taxlist, ...)

## S3 method for class 'taxlist'
taxon_relations(taxlist, ...)

taxon_relations(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
taxon_relations(taxlist, ...) &lt;- value

## S4 method for signature 'taxlist,numeric'
update_concept(taxlist, ConceptID, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxon_relations_+3A_taxlist">taxlist</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="taxon_relations_+3A_...">...</code></td>
<td>
<p>Further arguments passed among methods.</p>
</td></tr>
<tr><td><code id="taxon_relations_+3A_value">value</code></td>
<td>
<p>A <code>data.frame</code> object to be set as slot <code>taxonRelations</code>.</p>
</td></tr>
<tr><td><code id="taxon_relations_+3A_conceptid">ConceptID</code></td>
<td>
<p>Concept IDs to be updated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The replacement method <code style="white-space: pre;">&#8288;taxon_relations&lt;-&#8288;</code> should be only used when
constructing <a href="#topic+taxlist-class">taxlist</a> objects from an empty one
(prototype).
</p>
<p>New concepts should be first added to a <a href="#topic+taxlist-class">taxlist</a> object
using their respective accepted names.
Synonyms can be further provided using the function <code><a href="#topic+add_synonym">add_synonym()</a></code>.
</p>
<p>Additional named vectors can be provided to be included in slot <code>taxonNames</code>,
in the cases where those variables already exist, otherwise they will be
ignored.
</p>
<p>It is recommended also to provide a concept view as <code>ViewID</code> (see
<code><a href="#topic+taxon_views">taxon_views()</a></code>).
For adding a new view, use <code><a href="#topic+add_view">add_view()</a></code>.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+taxlist-class">taxlist</a> with added names and
concepts.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+taxlist-class">taxlist</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Subset for the genus Euclea and display of slot 'taxonNames'
Euclea &lt;- subset(x = Easplist, subset = charmatch("Euclea", TaxonName),
  slot = "names", keep_children = TRUE)
Euclea
taxon_relations(Euclea)
</code></pre>

<hr>
<h2 id='taxon_traits'>Manipulation of taxon traits in taxlist objects.</h2><span id='topic+taxon_traits'></span><span id='topic+taxon_traits.taxlist'></span><span id='topic+taxon_traits+2Ctaxlist-method'></span><span id='topic+taxon_traits+3C-'></span><span id='topic+taxon_traits+3C-.taxlist'></span><span id='topic+taxon_traits+3C-+2Ctaxlist-method'></span><span id='topic+update_trait'></span><span id='topic+update_trait.taxlist'></span><span id='topic+update_trait+2Ctaxlist-method'></span>

<h3>Description</h3>

<p>The slot <code>taxonTraits</code> in <a href="#topic+taxlist-class">taxlist</a> objects contains
attributes of taxon concepts (e.g. functional traits).
These functions are suitable for replacing, retrieving and appending trait
information in taxonomic lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxon_traits(taxlist, ...)

## S3 method for class 'taxlist'
taxon_traits(taxlist, ...)

taxon_traits(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
taxon_traits(taxlist, ...) &lt;- value

update_trait(taxlist, ...)

## S3 method for class 'taxlist'
update_trait(taxlist, taxonTraits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxon_traits_+3A_taxlist">taxlist</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="taxon_traits_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed among methods.</p>
</td></tr>
<tr><td><code id="taxon_traits_+3A_value">value</code></td>
<td>
<p>Data frame to be set as slot <code>taxonTraits</code>.</p>
</td></tr>
<tr><td><code id="taxon_traits_+3A_taxontraits">taxonTraits</code></td>
<td>
<p>a data frame with taxon traits to be inserted in
<code>'taxlist'</code>. A column <code>'TaxonConceptID'</code> is mandatory in this table.
If some taxon concept IDs are not occurring in <code>'taxlist'</code>, an error
message is retrieved by <code>update_trait()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Taxon traits are contained in a data frame at the slot <code>taxonTraits</code> in
<a href="#topic+taxlist-class">taxlist</a> objects.
To optimise space, this data frame contain only entries for those concepts
with information, while taxa with no information are skipped from this table.
Thus appending new variables may also have to include new rows in this slot,
which is automatically carried out by this function.
</p>
<p>The replacement method <code style="white-space: pre;">&#8288;taxon_traits&lt;-&#8288;</code> should be only used when
constructing <a href="#topic+taxlist-class">taxlist</a> objects from an empty one.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+taxlist-class">taxlist</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Displaying taxon traits
head(taxon_traits(Easplist))

## Updating traits for Launaea cornuta
summary(Easplist, "Launaea cornuta")
accepted_name(taxlist = Easplist, ConceptID = 355, show_traits = TRUE)

sp_list &lt;- update_trait(taxlist = Easplist, taxonTraits = data.frame(
        TaxonConceptID = 355,
        life_form = "annual"))
accepted_name(taxlist = sp_list, ConceptID = 355, show_traits = TRUE)
</code></pre>

<hr>
<h2 id='taxon_views'>Management of concept views in taxonomic lists.</h2><span id='topic+taxon_views'></span><span id='topic+taxon_views.taxlist'></span><span id='topic+taxon_views+2Ctaxlist-method'></span><span id='topic+taxon_views+3C-'></span><span id='topic+taxon_views+3C-.taxlist'></span><span id='topic+taxon_views+3C-+2Ctaxlist-method'></span><span id='topic+add_view'></span><span id='topic+add_view+2Ctaxlist+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>Retrieve or replace slot <code>taxonViews</code> in an object of class <a href="#topic+taxlist-class">taxlist</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxon_views(taxlist, ...)

## S3 method for class 'taxlist'
taxon_views(taxlist, ...)

taxon_views(taxlist, ...) &lt;- value

## S3 replacement method for class 'taxlist'
taxon_views(taxlist, ...) &lt;- value

add_view(taxlist, taxonViews, ...)

## S4 method for signature 'taxlist,data.frame'
add_view(taxlist, taxonViews, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxon_views_+3A_taxlist">taxlist</code></td>
<td>
<p>A <a href="#topic+taxlist-class">taxlist</a> object.</p>
</td></tr>
<tr><td><code id="taxon_views_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed among methods.</p>
</td></tr>
<tr><td><code id="taxon_views_+3A_value">value</code></td>
<td>
<p>An object of class <a href="base.html#topic+data.frame">data.frame</a> containing the references
used to define the circumscription of taxon concepts included in
<code>taxlist</code>.</p>
</td></tr>
<tr><td><code id="taxon_views_+3A_taxonviews">taxonViews</code></td>
<td>
<p>A data frame with taxon views to be inserted in
<code>'taxlist'</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Taxon views indicate in <a href="#topic+taxlist-class">taxlist</a> objects the references
determining the circumscription of the respective taxon concepts.
When adding a new concept (see <code><a href="#topic+add_concept">add_concept()</a></code>), the respective
reference may not yet occur in the input <a href="#topic+taxlist-class">taxlist</a> object.
</p>
<p>The term taxon view was introduced by <strong>Zhong et al. (1996)</strong> and
corresponds to the reference used for the definition of a concept.
</p>
<p>This function retrieves the slot <code>taxonViews</code> from objects of the class
<a href="#topic+taxlist-class">taxlist</a>.
</p>
<p>The replacement method <code style="white-space: pre;">&#8288;taxon_views&lt;-&#8288;</code> replaces the whole content of slot
<code>taxonViews</code> and it is only recommended to use when constructing a new
<a href="#topic+taxlist-class">taxlist</a> object from an empty prototype.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+taxlist-class">taxlist</a> with added views.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>References</h3>

<p><b>Zhong Y, Jung S, Pramanik S, Beaman JH (1996).</b> Data model and
comparison and query methods for interacting classifications in a taxonomic
database.
<em>Taxon</em> 45: 223&ndash;241.
<a href="https://doi.org/10.1093/bioinformatics/15.2.149">doi:10.1093/bioinformatics/15.2.149</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+taxlist-class">taxlist</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See existing views
taxon_views(Easplist)

## Add a new view
sp_list &lt;- add_view(taxlist = Easplist, taxonViews = data.frame(
        secundum = "Beentje et al. (1952)",
        Title = "Flora of Tropical East Africa",
        URL = "http://www.kew.org/science/directory/projects/FloraTropEAfrica.html"))

taxon_views(sp_list)
</code></pre>

<hr>
<h2 id='tv2taxlist'>Import species lists from Turboveg databases</h2><span id='topic+tv2taxlist'></span>

<h3>Description</h3>

<p>Importing species lists from
<a href="https://www.synbiosys.alterra.nl/turboveg/">Turboveg 2</a> databases into a
<a href="#topic+taxlist-class">taxlist</a> object.
</p>
<p>Internally the funcions <code><a href="foreign.html#topic+read.dbf">read.dbf()</a></code> and <code><a href="#topic+df2taxlist">df2taxlist()</a></code> are called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tv2taxlist(taxlist, tv_home = tv.home(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tv2taxlist_+3A_taxlist">taxlist</code></td>
<td>
<p>Character value indicating the name of a species list in
Turboveg.</p>
</td></tr>
<tr><td><code id="tv2taxlist_+3A_tv_home">tv_home</code></td>
<td>
<p>Character value indicating the path to the main Turboveg
folder. By default the function <code><a href="vegdata.html#topic+tv.home">tv.home()</a></code> from <a href="vegdata.html#topic+vegdata-package">vegdata-package</a> is
called.</p>
</td></tr>
<tr><td><code id="tv2taxlist_+3A_...">...</code></td>
<td>
<p>Further arguments passed to <code><a href="#topic+df2taxlist">df2taxlist()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+taxlist-class">taxlist</a> object.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+df2taxlist">df2taxlist()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Cyperus data set installed as Turboveg species list
Cyperus &lt;- tv2taxlist(taxlist = "cyperus",
  tv_home = file.path(path.package("taxlist"), "tv_data"))
Cyperus
</code></pre>

<hr>
<h2 id='two2one_df'>Inserting new rows and columns by merging two data frames</h2><span id='topic+two2one_df'></span>

<h3>Description</h3>

<p>Two data frames sharing partially columns will be merged including the sum
of all variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>two2one_df(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="two2one_df_+3A_x">x</code>, <code id="two2one_df_+3A_y">y</code></td>
<td>
<p>(<code>data.frame</code>) The data frames to be merged.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package cricketdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cricketdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cricketdata-package'><p>cricketdata: International Cricket Data</p></a></li>
<li><a href='#cricsheet_codes'><p>Codes used for competitions on Cricsheet</p></a></li>
<li><a href='#fetch_cricinfo'><p>Fetch Data from Cricinfo</p></a></li>
<li><a href='#fetch_cricsheet'><p>Fetch ball-by-ball, match and player data from Cricsheet and return a tibble.</p></a></li>
<li><a href='#fetch_player_data'><p>Fetch Player Data</p></a></li>
<li><a href='#fetch_player_meta'><p>Fetch Player Meta Data</p></a></li>
<li><a href='#find_player_id'><p>Find a player id from cricinfo.com</p></a></li>
<li><a href='#player_meta'><p>Meta data on players listed at ESPNCricinfo</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#update_player_meta'><p>Update player_meta</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Title:</td>
<td>International Cricket Data</td>
</tr>
<tr>
<td>Description:</td>
<td>Data on international and other major cricket matches from
  ESPNCricinfo <a href="https://www.espncricinfo.com">https://www.espncricinfo.com</a> and Cricsheet <a href="https://cricsheet.org">https://cricsheet.org</a>.
  This package provides some functions to download the data into tibbles ready
  for analysis.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr (&ge; 1.1.0), janitor, lubridate, readr, rvest,
stringr, tibble, tidyr, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>codetools, gghighlight, ggplot2, ggtext, glue, here, knitr,
paletteer, patchwork, rmarkdown, R.rsp, showtext</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://pkg.robjhyndman.com/cricketdata/">https://pkg.robjhyndman.com/cricketdata/</a>,
<a href="https://github.com/robjhyndman/cricketdata">https://github.com/robjhyndman/cricketdata</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, R.rsp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/robjhyndman/cricketdata/issues">https://github.com/robjhyndman/cricketdata/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-29 10:00:02 UTC; robjhyndman</td>
</tr>
<tr>
<td>Author:</td>
<td>Rob Hyndman [aut, cre],
  Charles Gray [aut],
  Sayani Gupta [aut],
  Timothy Hyndman [aut],
  Hassan Rafique [aut],
  Jacquie Tran [aut],
  Puwasala Gamakumara [ctb],
  Alex Whan [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rob Hyndman &lt;Rob.Hyndman@monash.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-29 10:30:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='cricketdata-package'>cricketdata: International Cricket Data</h2><span id='topic+cricketdata'></span><span id='topic+cricketdata-package'></span>

<h3>Description</h3>

<p>Data on international and other major cricket matches from ESPNCricinfo <a href="https://www.espncricinfo.com">https://www.espncricinfo.com</a> and Cricsheet <a href="https://cricsheet.org">https://cricsheet.org</a>. This package provides some functions to download the data into tibbles ready for analysis.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Rob Hyndman <a href="mailto:Rob.Hyndman@monash.edu">Rob.Hyndman@monash.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Charles Gray <a href="mailto:C.Gray@latrobe.edu.au">C.Gray@latrobe.edu.au</a>
</p>
</li>
<li><p> Sayani Gupta <a href="mailto:Sayani.Gupta@monash.edu">Sayani.Gupta@monash.edu</a>
</p>
</li>
<li><p> Timothy Hyndman <a href="mailto:Timothy.Hyndman@gmail.com">Timothy.Hyndman@gmail.com</a>
</p>
</li>
<li><p> Hassan Rafique <a href="mailto:dazzalytics@protonmail.com">dazzalytics@protonmail.com</a>
</p>
</li>
<li><p> Jacquie Tran <a href="mailto:jac@jacquietran.com">jac@jacquietran.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Puwasala Gamakumara <a href="mailto:Puwasala.Gamakumara@monash.edu">Puwasala.Gamakumara@monash.edu</a> [contributor]
</p>
</li>
<li><p> Alex Whan <a href="mailto:alexwhan@gmail.com">alexwhan@gmail.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://pkg.robjhyndman.com/cricketdata/">https://pkg.robjhyndman.com/cricketdata/</a>
</p>
</li>
<li> <p><a href="https://github.com/robjhyndman/cricketdata">https://github.com/robjhyndman/cricketdata</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/robjhyndman/cricketdata/issues">https://github.com/robjhyndman/cricketdata/issues</a>
</p>
</li></ul>


<hr>
<h2 id='cricsheet_codes'>Codes used for competitions on Cricsheet</h2><span id='topic+cricsheet_codes'></span>

<h3>Description</h3>

<p>A dataset containing the names and codes used by
<a href="https://cricsheet.org">cricsheet</a>, as at 28 August 2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cricsheet_codes
</code></pre>


<h3>Format</h3>

<p>A data frame with 39 rows and 2 variables.
</p>


<h3>Source</h3>

<p><a href="https://cricsheet.org/downloads/#experimental">https://cricsheet.org/downloads/#experimental</a>
</p>

<hr>
<h2 id='fetch_cricinfo'>Fetch Data from Cricinfo</h2><span id='topic+fetch_cricinfo'></span>

<h3>Description</h3>

<p>Fetch data from ESPNCricinfo and return a tibble.
All arguments are case-insensitive and partially matched.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_cricinfo(
  matchtype = c("test", "odi", "t20"),
  sex = c("men", "women"),
  activity = c("batting", "bowling", "fielding"),
  type = c("career", "innings"),
  country = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_cricinfo_+3A_matchtype">matchtype</code></td>
<td>
<p>Character indicating test (default), odi, or t20.</p>
</td></tr>
<tr><td><code id="fetch_cricinfo_+3A_sex">sex</code></td>
<td>
<p>Character indicating men (default) or women.</p>
</td></tr>
<tr><td><code id="fetch_cricinfo_+3A_activity">activity</code></td>
<td>
<p>Character indicating batting (default), bowling or fielding.</p>
</td></tr>
<tr><td><code id="fetch_cricinfo_+3A_type">type</code></td>
<td>
<p>Character indicating innings-by-innings or career (default) data</p>
</td></tr>
<tr><td><code id="fetch_cricinfo_+3A_country">country</code></td>
<td>
<p>Character indicating country. The default is to fetch data for all countries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> object, similar to a <code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Rob J Hyndman, Timothy Hyndman, Charles Gray
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
auswt20 &lt;- fetch_cricinfo("T20", "Women", country = "Aust")
IndiaODIBowling &lt;- fetch_cricinfo("ODI", "men", "bowling", country = "india")

## End(Not run)

</code></pre>

<hr>
<h2 id='fetch_cricsheet'>Fetch ball-by-ball, match and player data from Cricsheet and return a tibble.</h2><span id='topic+fetch_cricsheet'></span>

<h3>Description</h3>

<p>Download csv data from Cricsheet <a href="https://cricsheet.org/downloads/">https://cricsheet.org/downloads/</a>.
Data must be specified by three factors:
(a) type of data: <code>bbb</code> (ball-by-ball), <code>match</code> or <code>player</code>.
(b) gender;
(c) competition specified as a Cricsheet code. See <code><a href="#topic+cricsheet_codes">cricsheet_codes</a></code> for the
competitions and codes available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_cricsheet(
  type = c("bbb", "match", "player"),
  gender = c("female", "male"),
  competition = "tests"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_cricsheet_+3A_type">type</code></td>
<td>
<p>Character string giving type of data: ball-by-ball, match info or player info.</p>
</td></tr>
<tr><td><code id="fetch_cricsheet_+3A_gender">gender</code></td>
<td>
<p>Character string giving player gender: female or male.</p>
</td></tr>
<tr><td><code id="fetch_cricsheet_+3A_competition">competition</code></td>
<td>
<p>Character string giving code corresponding to competition. See <code><a href="#topic+cricsheet_codes">cricsheet_codes</a></code> for the
competitions and codes available.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> object, similar to a <code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Jacquie Tran, Hassan Rafique and Rob J Hyndman
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
wbbl_bbb &lt;- fetch_cricsheet(competition = "wbbl", type = "bbb")
wbbl_match &lt;- fetch_cricsheet(competition = "wbbl", type = "match")
wbbl_player &lt;- fetch_cricsheet(competition = "wbbl", type = "player")

## End(Not run)
</code></pre>

<hr>
<h2 id='fetch_player_data'>Fetch Player Data</h2><span id='topic+fetch_player_data'></span>

<h3>Description</h3>

<p>Fetch individual player data from all matches played. The function will scrape
the data from ESPNCricinfo and return a tibble with one line per innings for all
games a player has played. To identify a player, use their Cricinfo player ID.
The simplest way to find this is to look up their Cricinfo Profile page. The number
at the end of the URL is the ID. For example, Meg Lanning's profile page is
http://www.espncricinfo.com/australia/content/player/329336.html,
so her ID is 329336.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_player_data(
  playerid,
  matchtype = c("test", "odi", "t20"),
  activity = c("batting", "bowling", "fielding")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_player_data_+3A_playerid">playerid</code></td>
<td>
<p>The player ID as given in the Cricinfo profile. Integer or character.</p>
</td></tr>
<tr><td><code id="fetch_player_data_+3A_matchtype">matchtype</code></td>
<td>
<p>Which type of cricket matches do you want? Tests, ODIs or T20s? Not case-sensitive.</p>
</td></tr>
<tr><td><code id="fetch_player_data_+3A_activity">activity</code></td>
<td>
<p>Which type of activities do you want? Batting, Bowling or Fielding? Not case-sensitive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing data on the selected player, with one row for every innings
of every match in which they have played.
</p>


<h3>Author(s)</h3>

<p>Rob J Hyndman and Sayani Gupta
</p>


<h3>See Also</h3>

<p><code><a href="#topic+find_player_id">find_player_id()</a></code> to find a player ID by searching on their name,
and <code><a href="#topic+fetch_player_meta">fetch_player_meta()</a></code> to download meta data for players.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download data on some players
EllysePerry &lt;- fetch_player_data(275487, "T20", "batting")
RahulDravid &lt;- fetch_player_data(28114, "ODI", "fielding")
LasithMalinga &lt;- fetch_player_data(49758, "Test", "bowling")

# Create a plot for Ellyse Perry's T20 scores
library(dplyr)
library(ggplot2)
EllysePerry |&gt;
  filter(!is.na(Runs)) |&gt;
  ggplot(aes(x = Start_Date, y = Runs, col = Dismissal, na.rm = TRUE)) +
  geom_point() +
  ggtitle("Ellyse Perry's T20 Scores")

## End(Not run)
</code></pre>

<hr>
<h2 id='fetch_player_meta'>Fetch Player Meta Data</h2><span id='topic+fetch_player_meta'></span>

<h3>Description</h3>

<p>Fetch player meta data from ESPNCricinfo and return a tibble with one line
per player. To identify the players, use their Cricinfo player IDs.
The simplest way to find this is to look up their Cricinfo Profile page. The number
at the end of the URL is the ID. For example, Meg Lanning's profile page is
http://www.espncricinfo.com/australia/content/player/329336.html,
so her ID is 329336.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_player_meta(playerid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_player_meta_+3A_playerid">playerid</code></td>
<td>
<p>A vector of player IDs as given in Cricinfo profiles. Integer or character.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing meta data on the selected players, with one row for
each player.
</p>


<h3>Author(s)</h3>

<p>Hassan Rafique and Rob J Hyndman
</p>


<h3>See Also</h3>

<p>It is usually simpler to just use the saved data set <a href="#topic+player_meta">player_meta</a>
which contains the meta data for all players on ESPNCricinfo as at 28 August 2023.
To find a player ID, use <code><a href="#topic+find_player_id">find_player_id()</a></code>.
Use <code><a href="#topic+fetch_player_data">fetch_player_data()</a></code> to download playing statistics for a player.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download meta data on Meg Lanning and Ellyse Perry
aus_women &lt;- fetch_player_meta(c(329336, 275487))

## End(Not run)
</code></pre>

<hr>
<h2 id='find_player_id'>Find a player id from cricinfo.com</h2><span id='topic+find_player_id'></span>

<h3>Description</h3>

<p>Find a player id from cricinfo.com
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_player_id(searchstring)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_player_id_+3A_searchstring">searchstring</code></td>
<td>
<p>Part of a player name(s) to search for. Can be a character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table of matching players, their ids, and teams they played for.
</p>


<h3>Author(s)</h3>

<p>Rob J Hyndman
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fetch_player_data">fetch_player_data()</a></code> to download playing statistics for
a player, and <code><a href="#topic+fetch_player_meta">fetch_player_meta()</a></code> to download meta data on players.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
(perry &lt;- find_player_id("Perry"))
EllysePerry &lt;- fetch_player_data(perry[2, "ID"], "test")

## End(Not run)
</code></pre>

<hr>
<h2 id='player_meta'>Meta data on players listed at ESPNCricinfo</h2><span id='topic+player_meta'></span>

<h3>Description</h3>

<p>A dataset containing the names and other attributes of players who appear
on both <a href="https://cricsheet.org">cricsheet</a> and
<a href="https://www.espncricinfo.com">ESPNCricinfo</a>, as at 28 August 2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>player_meta
</code></pre>


<h3>Format</h3>

<p>A data frame with 14073 rows and 10 variables.
</p>


<h3>Source</h3>

<p><a href="https://www.espncricinfo.com">https://www.espncricinfo.com</a>
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='update_player_meta'>Update player_meta</h2><span id='topic+update_player_meta'></span>

<h3>Description</h3>

<p>The <a href="#topic+player_meta">player_meta</a> data set contains the names and other
attributes of players who appear on both <a href="https://cricsheet.org">cricsheet</a>
and <a href="https://www.espncricinfo.com">ESPNCricinfo</a> as at 28 August 2023.
This function returns an updated version of the data set based on information
currently available online.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_player_meta(start_again = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_player_meta_+3A_start_again">start_again</code></td>
<td>
<p>If TRUE, downloads all data from ESPNCricinfo without
using player_meta as a starting point. This can take a long time.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing meta data on cricket players.
</p>


<h3>Author(s)</h3>

<p>Hassan Rafique and Rob J Hyndman
</p>


<h3>See Also</h3>

<p><a href="#topic+player_meta">player_meta</a>, <code><a href="#topic+fetch_player_meta">fetch_player_meta()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Update data to current
new_player_meta &lt;- update_player_meta()

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ARPobservation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ARPobservation}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ARPobservation'><p>ARPobservation</p></a></li>
<li><a href='#ARPsimulator'><p>An interactive alternating renewal process simulator</p></a></li>
<li><a href='#augmented_recording'><p>Applies augmented interval recording to a behavior stream</p></a></li>
<li><a href='#continuous_duration_recording'><p>Applies continuous duration recording to a behavior stream</p></a></li>
<li><a href='#Dunlap'><p>Dunlap et al.(1994) data</p></a></li>
<li><a href='#eq_dist'><p>Constructor for class <code>eq_dist</code></p></a></li>
<li><a href='#event_counting'><p>Applies event counting to a behavior stream</p></a></li>
<li><a href='#F_const'><p>Constant (degenerate) distribution and related equilibrium distribution</p></a></li>
<li><a href='#F_exp'><p>Exponential distribution and related equilibrium distribution</p></a></li>
<li><a href='#F_gam'><p>Gamma distribution and related equilibrium distribution</p></a></li>
<li><a href='#F_gam_mix'><p>Mixture of two gamma distributions and related equilibrium distribution</p></a></li>
<li><a href='#F_unif'><p>Uniform distribution and related equilibrium distribution</p></a></li>
<li><a href='#F_weib'><p>Weibull distribution and related equilibrium distribution</p></a></li>
<li><a href='#incidence_bounds'><p>Incidence bounds and confidence interval</p></a></li>
<li><a href='#interim_bounds'><p>Interim bounds and confidence interval</p></a></li>
<li><a href='#interval_recording'><p>Applies interval recording to a behavior stream</p></a></li>
<li><a href='#logRespRatio'><p>Calculate log-response ratio, variance, and confidence interval</p></a></li>
<li><a href='#Moes'><p>Moes(1998) data</p></a></li>
<li><a href='#momentary_time_recording'><p>Applies momentary time recording to a behavior stream</p></a></li>
<li><a href='#PIR_loglik'><p>Calculate log-likelihood</p></a></li>
<li><a href='#PIR_MOM'><p>Moment estimator for prevalence and incidence, with bootstrap confidence intervals</p></a></li>
<li><a href='#plot.behavior_stream'><p>Plot method for <code>behavior_stream</code> objects</p></a></li>
<li><a href='#prevalence_bounds'><p>Prevalence bounds and confidence interval</p></a></li>
<li><a href='#r_AIR'><p>Generates random augmented interval recording behavior streams</p></a></li>
<li><a href='#r_behavior_stream'><p>Generates random behavior streams</p></a></li>
<li><a href='#r_continuous_recording'><p>Generates random samples of continuously recorded behavior streams</p></a></li>
<li><a href='#r_event_counting'><p>Generates random samples of event counts</p></a></li>
<li><a href='#r_MTS'><p>Generates random momentary time sampling behavior streams</p></a></li>
<li><a href='#r_PIR'><p>Generates random partial interval recording behavior streams</p></a></li>
<li><a href='#r_WIR'><p>Generates random whole interval recording behavior streams</p></a></li>
<li><a href='#reported_observations'><p>Applies multiple recording procedures to a behavior stream</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools for Simulating Direct Behavioral Observation Recording
Procedures Based on Alternating Renewal Processes</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for simulating data generated by direct observation
    recording. Behavior streams are simulated based on an alternating renewal
    process, given specified distributions of event durations and interim
    times. Different procedures for recording data can then be applied to the
    simulated behavior streams. Functions are provided for the following
    recording methods: continuous duration recording, event counting, momentary
    time sampling, partial interval recording, whole interval recording, and
    augmented interval recording.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James E. Pustejovsky &lt;jepusto@gmail.com&gt;</td>
</tr>
<tr>
<td>Author:</td>
<td>James E. Pustejovsky, with contributions from Daniel M. Swan</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>shiny, plyr, reshape2, dplyr, ggplot2, viridis, knitr,
rmarkdown, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-25 16:44:35 UTC; James</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-25 17:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ARPobservation'>ARPobservation</h2><span id='topic+ARPobservation'></span><span id='topic+ARPobservation-package'></span>

<h3>Description</h3>

<p>Tools for simulating different methods of observing alternating renewal processes
</p>


<h3>Details</h3>

<p><span class="pkg">ARPobservation</span> provides a set of tools for simulating data based on direct observation of behavior. 
It works by first simulating a behavior stream based on an alternating renewal process, using 
specified distributions of event durations and interim times. Different procedures for recording data 
can then be applied to the simulated behavior stream. 
</p>
<p>The main function for simulating a behavior stream is <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>. Currently, the event
duration and interim time distributions must come from the class <code><a href="#topic+eq_dist">eq_dist</a></code>. (See the documentation
for this class for distributions that are currently implemented.) 
</p>
<p>Several different observation recording procedures can then be applied as filters to a simulated behavior stream. 
The following procedures are currently implemented:
</p>

<ul>
<li> <p><code><a href="#topic+continuous_duration_recording">continuous_duration_recording</a></code>
</p>
</li>
<li> <p><code><a href="#topic+momentary_time_recording">momentary_time_recording</a></code>
</p>
</li>
<li> <p><code><a href="#topic+event_counting">event_counting</a></code>
</p>
</li>
<li> <p><code><a href="#topic+interval_recording">interval_recording</a></code>
</p>
</li></ul>

<p>To apply multiple procedures to the same behavior stream, use <code><a href="#topic+reported_observations">reported_observations</a></code>. Data can also
be simulated using the convenience functions <code><a href="#topic+r_PIR">r_PIR</a></code>, <code><a href="#topic+r_WIR">r_WIR</a></code>, <code><a href="#topic+r_MTS">r_MTS</a></code>,
<code><a href="#topic+r_continuous_recording">r_continuous_recording</a></code>, and <code><a href="#topic+r_event_counting">r_event_counting</a></code>. These functions wrap the 
behavior-stream generation step and the observation recording step into a single function. They are more 
memory efficient, but slightly less computationally efficient, than executing each step in turn.
</p>


<h3>Author(s)</h3>

<p>James E. Pustejovsky &lt;jepusto@gmail.com&gt;
</p>

<hr>
<h2 id='ARPsimulator'>An interactive alternating renewal process simulator</h2><span id='topic+ARPsimulator'></span>

<h3>Description</h3>

<p>An interactive tool that simulates single-case designs with
outcomes measured by systematic direct observation. The behavioral outcomes
are generated from the alternating renewal process model. Both event
behaviors and state behaviors are supported. Event behaviors are generated
from a renewal process with gamma-distributed inter-event times. State
behaviors are generated from an alternating poisson process, in which the
event durations and interim times are exponentially distributed. Currently,
multiple baseline and treatment reversal designs are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ARPsimulator(launch_browser = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ARPsimulator_+3A_launch_browser">launch_browser</code></td>
<td>
<p>Logical value indicating whether to run the tool using
the system's default web browser. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='augmented_recording'>Applies augmented interval recording to a behavior stream</h2><span id='topic+augmented_recording'></span>

<h3>Description</h3>

<p>Divides the observation session into intervals. 
Each interval is scored using partial interval recording, whole interval recording, and  
momentary time sampling (at the beginning of the following interval).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>augmented_recording(BS, interval_length, rest_length = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="augmented_recording_+3A_bs">BS</code></td>
<td>
<p>object of class behavior_stream</p>
</td></tr>
<tr><td><code id="augmented_recording_+3A_interval_length">interval_length</code></td>
<td>
<p>time length of each interval.</p>
</td></tr>
<tr><td><code id="augmented_recording_+3A_rest_length">rest_length</code></td>
<td>
<p>portion of each interval to exclude from observation. Default is zero. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each behavior stream is divided into intervals of length <code>interval_length</code>. 
The last <code>rest_length</code> of each interval is excluded from observation. 
For example, for a stream length of 100, <code>interval_length = 20</code>, and 
<code>rest_length = 5</code>, the first interval runs from [0,15), the second interval runs from [20,35), etc.
</p>


<h3>Value</h3>

<p>A matrix with rows equal to the number of intervals per session and 
columns equal to the number of behavior streams in <code>BS</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BS &lt;- r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                       F_event = F_exp(), F_interim = F_exp(), stream_length = 100)
augmented_recording(BS, interval_length = 20)
</code></pre>

<hr>
<h2 id='continuous_duration_recording'>Applies continuous duration recording to a behavior stream</h2><span id='topic+continuous_duration_recording'></span>

<h3>Description</h3>

<p>Calculates the proportion of session time during which behavior occurs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>continuous_duration_recording(BS)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="continuous_duration_recording_+3A_bs">BS</code></td>
<td>
<p>object of class <code>behavior_stream</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of proportions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BS &lt;- r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                       F_event = F_exp(), F_interim = F_exp(), stream_length = 100)
continuous_duration_recording(BS)
</code></pre>

<hr>
<h2 id='Dunlap'>Dunlap et al.(1994) data</h2><span id='topic+Dunlap'></span>

<h3>Description</h3>

<p>Single case design data measured with partial interval recording from a study of the effect of providing Choice between academic activities on the disruptive behavior of three elementary school students with emotional and behavioral disorders. For this data &quot;No Choice&quot; is the baseline phase. Data were extracted from the figures in the publication.
</p>


<h3>Format</h3>

<p>A data frame with 58 observations on 7 variables
</p>

<ul>
<li> <p><code>Case</code> The participant for whom the observation took place
</p>
</li>
<li> <p><code>Phase</code> The level of the observation (&quot;Choice&quot; vs. &quot;No Choice&quot;)
</p>
</li>
<li> <p><code>Session</code> The observation session # for each participant
</p>
</li>
<li> <p><code>outcome</code> The summary PIR measurement for the observation session
</p>
</li>
<li> <p><code>active_length</code> The length of the active observation interval, in seconds
</p>
</li>
<li> <p><code>rest_length</code> The length of the recording interval, in seconds
</p>
</li>
<li> <p><code>intervals</code> The total number of intervals in the observation session
</p>
</li></ul>

<p>A data frame with 53940 rows and 10 variables
</p>


<h3>References</h3>

<p>Dunlap, G., DePerczel, M., Clarke, S., Wilson, D., Wright, S., White, R., &amp; Gomez, A. (1994). Choice making to promote adaptive behavior for students with emotional and behavioral challenges. Journal of Applied Behavior Analysis, 27 (3), 505-518.
</p>

<hr>
<h2 id='eq_dist'>Constructor for class <code>eq_dist</code></h2><span id='topic+eq_dist'></span>

<h3>Description</h3>

<p>The <code>eq_dist</code> class consists of a pair of component functions for generating random variates from a 
specified distribution and the corresponding equilibrium distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eq_dist(r_gen, r_eq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eq_dist_+3A_r_gen">r_gen</code></td>
<td>
<p>function for generating random deviates.</p>
</td></tr>
<tr><td><code id="eq_dist_+3A_r_eq">r_eq</code></td>
<td>
<p>function for generating random deviates from the corresponding equilibrium distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Both functions must take arguments <code>n</code> and <code>mean</code>. Currently, the following distributions
are implemented:
</p>

<ul>
<li> <p><code><a href="#topic+F_exp">F_exp</a></code> - Exponential
</p>
</li>
<li> <p><code><a href="#topic+F_gam">F_gam</a></code> - Gamma
</p>
</li>
<li> <p><code><a href="#topic+F_gam_mix">F_gam_mix</a></code> - Mixture of two gammas
</p>
</li>
<li> <p><code><a href="#topic+F_weib">F_weib</a></code> - Weibull
</p>
</li>
<li> <p><code><a href="#topic+F_unif">F_unif</a></code> - Uniform
</p>
</li>
<li> <p><code><a href="#topic+F_const">F_const</a></code> - Constant
</p>
</li></ul>



<h3>Value</h3>

<p>Object of class <code>eq_dist</code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>

<hr>
<h2 id='event_counting'>Applies event counting to a behavior stream</h2><span id='topic+event_counting'></span>

<h3>Description</h3>

<p>Calculates the number of behaviors that begin during the observation session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>event_counting(BS)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="event_counting_+3A_bs">BS</code></td>
<td>
<p>object of class <code>behavior_stream</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of non-negative integers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BS &lt;- r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                       F_event = F_exp(), F_interim = F_exp(), stream_length = 100)
event_counting(BS)
</code></pre>

<hr>
<h2 id='F_const'>Constant (degenerate) distribution and related equilibrium distribution</h2><span id='topic+F_const'></span>

<h3>Description</h3>

<p>Generation from a degenerate distribution and random number generation from the related equilibrium distribution, 
for use with <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_const()
</code></pre>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+eq_dist">eq_dist</a></code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>
<p>The function <code>r_gen(n, mean)</code> simply returns a vector of length <code>n</code> with all values equal to <code>mean</code>.
</p>
<p>The function <code>r_eq(n, mean)</code> generates random deviates from a uniform distribution on the interval (0, mean).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hist(F_const()$r_gen(1000, 2))
hist(F_const()$r_eq(1000, 2))

</code></pre>

<hr>
<h2 id='F_exp'>Exponential distribution and related equilibrium distribution</h2><span id='topic+F_exp'></span>

<h3>Description</h3>

<p>Random number generation from exponential distributions, for use with <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_exp()
</code></pre>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+eq_dist">eq_dist</a></code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>
<p>The function <code>r_gen(n, mean)</code> generates random deviates from an exponential distribution with specified <code>mean</code>.
</p>
<p>The function <code>r_eq(n, mean)</code> generates random deviates from an exponential distribution with specified <code>mean</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hist(F_exp()$r_gen(1000, 3))
hist(F_exp()$r_eq(1000, 3))

</code></pre>

<hr>
<h2 id='F_gam'>Gamma distribution and related equilibrium distribution</h2><span id='topic+F_gam'></span>

<h3>Description</h3>

<p>Random number generation from a gamma distribution and the related equilibrium distribution, 
for use with <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_gam(shape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F_gam_+3A_shape">shape</code></td>
<td>
<p>shape parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+eq_dist">eq_dist</a></code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>
<p>The function <code>r_gen(n, mean)</code> generates random deviates from a gamma distribution with specified 
<code>mean</code> and <code>shape</code> parameters.
</p>
<p>The function <code>r_eq(n, mean)</code> generates random deviates from the equilibrium distribution corresponding
to the gamma distribution with specified <code>mean</code> and <code>shape</code> parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hist(F_gam(2)$r_gen(1000, 3))
hist(F_gam(2)$r_eq(1000, 3))

</code></pre>

<hr>
<h2 id='F_gam_mix'>Mixture of two gamma distributions and related equilibrium distribution</h2><span id='topic+F_gam_mix'></span>

<h3>Description</h3>

<p>Random number generation from a mixture of two gamma distributions and the related equilibrium distribution, 
for use with <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_gam_mix(shape1, shape2, scale_ratio, mix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F_gam_mix_+3A_shape1">shape1</code></td>
<td>
<p>shape parameter for first mixture component, <code class="reqn">k_1</code></p>
</td></tr>
<tr><td><code id="F_gam_mix_+3A_shape2">shape2</code></td>
<td>
<p>shape parameter for second mixture component, <code class="reqn">k_2</code></p>
</td></tr>
<tr><td><code id="F_gam_mix_+3A_scale_ratio">scale_ratio</code></td>
<td>
<p>ratio of first scale component to second scale component, <code class="reqn">\theta_1 / \theta_2</code></p>
</td></tr>
<tr><td><code id="F_gam_mix_+3A_mix">mix</code></td>
<td>
<p>mixing proportion of first component, <code class="reqn">p</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+eq_dist">eq_dist</a></code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>
<p>The function <code>r_gen(n, mean)</code> generates random deviates from a mixture of two gamma distributions with specified 
<code>mean</code>, <code>shape1</code>, <code>shape2</code>, <code>scale_ratio</code>, and <code>mix</code>. The cumulative distribution function 
is given by </p>
<p style="text-align: center;"><code class="reqn">F(x) = p \Gamma(x; k_1, \theta_1) + (1 - p) \Gamma(x; k_2, \theta_2),</code>
</p>
<p> where <code class="reqn">\Gamma(x; k, \theta)</code>
is the cumulative distribution function of a Gamma random variable with shape <code class="reqn">k</code> and scale <code class="reqn">\theta</code>, and
the scale parameters are determined by the specified <code>mean</code> and <code>scale_ratio</code>.
</p>
<p>The function <code>r_eq(n, mean)</code> generates random deviates from the equilibrium distribution corresponding
to the mixture of gamma distributions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hist(F_gam_mix(2, 2, 1 / 12, 3 / 5)$r_gen(1000, 20))
hist(F_gam_mix(2, 2, 1 / 12, 3 / 5)$r_eq(1000, 20))

</code></pre>

<hr>
<h2 id='F_unif'>Uniform distribution and related equilibrium distribution</h2><span id='topic+F_unif'></span>

<h3>Description</h3>

<p>Random number generation from a uniform distribution and the related equilibrium distribution, 
for use with <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_unif()
</code></pre>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+eq_dist">eq_dist</a></code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>
<p>The function <code>r_gen(n, mean)</code> generates random deviates from a uniform distribution with specified 
<code>mean</code> <code class="reqn">\mu</code> on the interval <code class="reqn">(0, 2 \mu)</code>. The cumulative distribution function 
is given by <code class="reqn">F(x) = x / 2 \mu</code>.
</p>
<p>The function <code>r_eq(n, mean)</code> generates random deviates from the equilibrium distribution corresponding
to a uniform distribution on the interval <code class="reqn">(0, 2 \mu)</code>. The cumulative distribution function is given by 
</p>
<p style="text-align: center;"><code class="reqn">F(x) = x (4 \mu - x) / (4 \mu^2).</code>
</p>



<h3>Examples</h3>

<pre><code class='language-R'>hist(F_unif()$r_gen(1000, 2))
hist(F_unif()$r_eq(1000, 2))

</code></pre>

<hr>
<h2 id='F_weib'>Weibull distribution and related equilibrium distribution</h2><span id='topic+F_weib'></span>

<h3>Description</h3>

<p>Random number generation from a Weibull distribution and the related equilibrium distribution, 
for use with <code><a href="#topic+r_behavior_stream">r_behavior_stream</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_weib(shape)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F_weib_+3A_shape">shape</code></td>
<td>
<p>shape parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+eq_dist">eq_dist</a></code> with components <code>r_gen</code> and <code>r_eq</code>.
</p>
<p>The function <code>r_gen(n, mean)</code> generates random deviates from a Weibull distribution with specified 
<code>mean</code> and <code>shape</code> parameters.
</p>
<p>The function <code>r_eq(n, mean)</code> generates random deviates from the equilibrium distribution corresponding
to the Weibull distribution with specified <code>mean</code> and <code>shape</code> parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hist(F_gam(2)$r_gen(1000, 3))
hist(F_gam(2)$r_eq(1000, 3))

</code></pre>

<hr>
<h2 id='incidence_bounds'>Incidence bounds and confidence interval</h2><span id='topic+incidence_bounds'></span>

<h3>Description</h3>

<p>Calculates a bound for the log of the incidence ratio of two samples
(referred to as baseline and treatment) based on partial interval recording (PIR) data,
assuming that the behavior follows an Alternating Renewal Process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incidence_bounds(
  PIR,
  phase,
  base_level,
  mu_U,
  p,
  active_length,
  intervals = NA,
  conf_level = 0.95,
  exponentiate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incidence_bounds_+3A_pir">PIR</code></td>
<td>
<p>vector of PIR measurements</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_phase">phase</code></td>
<td>
<p>factor or vector indicating levels of the PIR measurements.</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_base_level">base_level</code></td>
<td>
<p>a character string or value indicating the name of the baseline level.</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_mu_u">mu_U</code></td>
<td>
<p>the upper limit on the mean event duration</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_p">p</code></td>
<td>
<p>upper limit on the probability that the interim time between behavioral events is less than the active interval</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_active_length">active_length</code></td>
<td>
<p>length of the active observation interval</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_intervals">intervals</code></td>
<td>
<p>the number of intervals in the sample of observations. Default is <code>NA</code></p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_conf_level">conf_level</code></td>
<td>
<p>Coverage rate of the confidence interval. Default is <code>.95</code>.</p>
</td></tr>
<tr><td><code id="incidence_bounds_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Logical value indicating if the log of the bounds and the confidence interval should be exponentiated. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The incidence ratio estimate is based on the assumptions that
1) the underlying behavior stream follows an Alternating Renewal Process,
2) the average event duration is less than <code>mu_U</code>, and
3) the probability of observing an interim time less than the active interval length is less than <code>p</code>.
</p>
<p>The <code>PIR</code> vector can be in any order corresponding to the factor or vector <code>phase</code>. The levels of <code>phase</code> can be any two levels, such as &quot;A&quot; and &quot;B&quot;, &quot;base&quot; and &quot;treat&quot;, or &quot;0&quot; and &quot;1&quot;. If there are more than two levels in <code>phase</code> this function will not work. A value for <code>base_level</code> must be specified - if it is a character string it is case sensitive.
</p>
<p>For all of the following variables, the function assumes that if a vector of values is provided they are constant across all observations and simply uses the first value in that vector.
</p>
<p><code>mu_U</code> is the upper limit on the mean event durations. This is a single value assumed to hold for both samples of behavior
</p>
<p><code>active_length</code> This is the total active observation length. If the intervals are 15 seconds long but 5 seconds of each interval is reserved for recording purposes, <code>active_length= 10</code>. Times are often in seconds, but can be in any time unit.
</p>
<p><code>intervals</code> is the number of intervals in the observations. This is a single value and is assumed to be constant across both samples and all observations. This value is only relevant if the mean of one of the samples is at the floor or ceiling of 0 or 1. In that case it will be used to truncate the sample mean. If the sample mean is at the floor or ceiling and no value for <code>intervals</code> is provided, the function will stop.
</p>


<h3>Value</h3>

<p>A list containing two named vectors and a single named number.
The first entry, <code>estimate_bounds</code>, contains the lower and upper bound for the estimate of the incidence ratio.
The second entry, <code>estimate_SE</code>, contains the standard error of the estimate.
The third entry, <code>estimate_CI</code>, contains the lower and upper bounds for the confidence interval of the incidence ratio.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Estimate bounds on the incidence ratio for Ahmad from the Dunlap dataset
data(Dunlap)
with(subset(Dunlap, Case == "Ahmad"),
incidence_bounds(PIR = outcome, phase = Phase, base_level = "No Choice",
                 mu_U = 10, p = .15, active_length = active_length, intervals = intervals))

</code></pre>

<hr>
<h2 id='interim_bounds'>Interim bounds and confidence interval</h2><span id='topic+interim_bounds'></span>

<h3>Description</h3>

<p>Calculates a bound for the log of the ratio of interim time of two samples
(referred to as baseline and treatment) based on partial interval recording (PIR) data,
assuming that the average event durations are equal across samples and that
interim times are exponentially distributed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interim_bounds(
  PIR,
  phase,
  base_level,
  conf_level = 0.95,
  intervals = NA,
  exponentiate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interim_bounds_+3A_pir">PIR</code></td>
<td>
<p>vector of PIR measurements</p>
</td></tr>
<tr><td><code id="interim_bounds_+3A_phase">phase</code></td>
<td>
<p>factor or vector indicating levels of the PIR measurements.</p>
</td></tr>
<tr><td><code id="interim_bounds_+3A_base_level">base_level</code></td>
<td>
<p>a character string or value indicating the name of the baseline level.</p>
</td></tr>
<tr><td><code id="interim_bounds_+3A_conf_level">conf_level</code></td>
<td>
<p>Desired coverage rate of the calculated confidence interval. Default is <code>.95</code>.</p>
</td></tr>
<tr><td><code id="interim_bounds_+3A_intervals">intervals</code></td>
<td>
<p>the number of intervals in the sample of observations. Default is <code>NA</code></p>
</td></tr>
<tr><td><code id="interim_bounds_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Logical value indicating if the log of the bounds and the confidence interval should be exponentiated. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The interim ratio estimate is based on the assumptions that
1) the underlying behavior stream follows an Alternating Renewal Process,
2) the average event durations in each sample are equal, and
3) interim times follow exponential distributions.
</p>
<p>The <code>PIR</code> vector can be in any order corresponding to the factor or vector <code>phase</code>.
The levels of <code>phase</code> can be any two levels, such as &quot;A&quot; and &quot;B&quot;, &quot;base&quot; and &quot;treat&quot;,
or &quot;0&quot; and &quot;1&quot;. If there are more than two levels in <code>phase</code> this function will not work.
A value for <code>base_level</code> must be specified; if it is a character string it is case sensitive.
</p>
<p><code>intervals</code> is the number of intervals in the observations.
This is a single value and is assumed to be constant across both samples and all observations.
If intervals is sent as a vector instead of a single value, the first value in the vector will
be used. This value is only relevant if the mean of one of the samples is at the floor or ceiling
of 0 or 1. In that case it will be used to truncate the sample mean. If the sample mean is at the
floor or ceiling and no value for <code>intervals</code> is provided, the function will stop.
</p>


<h3>Value</h3>

<p>A list with three named entries
The first entry, <code>estimate_bounds</code>, contains the lower and upper bound for the estimate of the prevalence ratio.
The second entry, <code>estimate_SE</code>, contains the standard errors for the upper and lower bounds.
The third entry, <code>estimate_CI</code>, contains the lower and upper bounds for the confidence interval of the prevalence ratio.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate bounds on the interim time ratio for Carl from the Moes dataset
data(Moes)
with(subset(Moes, Case == "Carl"),
interim_bounds(PIR = outcome, phase = Phase, base_level = "No Choice"))

</code></pre>

<hr>
<h2 id='interval_recording'>Applies interval recording to a behavior stream</h2><span id='topic+interval_recording'></span>

<h3>Description</h3>

<p>Divides the observation session into a specified number of intervals. For partial interval recording, 
each interval is scored according to whether the behavior is present at any point during the interval. For whole
interval recording, each interval is scored according to whether the behavior is present for the duration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interval_recording(
  BS,
  interval_length,
  rest_length = 0,
  partial = TRUE,
  summarize = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interval_recording_+3A_bs">BS</code></td>
<td>
<p>object of class behavior_stream</p>
</td></tr>
<tr><td><code id="interval_recording_+3A_interval_length">interval_length</code></td>
<td>
<p>time length of each interval.</p>
</td></tr>
<tr><td><code id="interval_recording_+3A_rest_length">rest_length</code></td>
<td>
<p>portion of each interval to exclude from observation. Default is zero. See details.</p>
</td></tr>
<tr><td><code id="interval_recording_+3A_partial">partial</code></td>
<td>
<p>logical value indicating whether to use partial interval recording (<code>TRUE</code>) or 
whole interval recording (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="interval_recording_+3A_summarize">summarize</code></td>
<td>
<p>logical value indicating whether vector of moments should be summarized by taking their mean.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each behavior stream is divided into intervals of length <code>interval_length</code>. 
The last <code>rest_length</code> of each interval is excluded from observation. 
For example, for a stream length of 100, <code>interval_length = 20</code>, and 
<code>rest_length = 5</code>, the first interval runs from [0,15), the second interval runs from [20,35), etc.
</p>


<h3>Value</h3>

<p>If <code>summarize = FALSE</code>, a matrix with rows equal to the number of intervals per session and 
columns equal to the number of behavior streams in <code>BS</code>. 
If <code>summarize = TRUE</code>, a vector of proportions of length equal to the 
number of behavior streams in <code>BS</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BS &lt;- r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                       F_event = F_exp(), F_interim = F_exp(), stream_length = 100)
interval_recording(BS, interval_length = 20, partial = TRUE, summarize = FALSE)
interval_recording(BS, interval_length = 20, partial = TRUE, summarize = TRUE)
colMeans(interval_recording(BS, 20, partial = TRUE, summarize = FALSE))
interval_recording(BS, interval_length = 20, rest_length = 5, partial = FALSE)
</code></pre>

<hr>
<h2 id='logRespRatio'>Calculate log-response ratio, variance, and confidence interval</h2><span id='topic+logRespRatio'></span>

<h3>Description</h3>

<p>Estimates the log-response ratio (with or without bias correction),
the variance of the log-response ratio, and the confidence interval for a given
confidence level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logRespRatio(
  observations,
  phase,
  base_level,
  conf_level = 0.95,
  bias_correct = TRUE,
  exponentiate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logRespRatio_+3A_observations">observations</code></td>
<td>
<p>Vector of observations</p>
</td></tr>
<tr><td><code id="logRespRatio_+3A_phase">phase</code></td>
<td>
<p>Factor or vector indicating levels of the PIR measurements.</p>
</td></tr>
<tr><td><code id="logRespRatio_+3A_base_level">base_level</code></td>
<td>
<p>a character string or value indicating the name of the baseline level.</p>
</td></tr>
<tr><td><code id="logRespRatio_+3A_conf_level">conf_level</code></td>
<td>
<p>Desired coverage rate of the calculated confidence interval. Default is <code>.95</code>.</p>
</td></tr>
<tr><td><code id="logRespRatio_+3A_bias_correct">bias_correct</code></td>
<td>
<p>Logical value indicating if the bias-corrected log-response ratio should be used. Default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="logRespRatio_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Logical value indicating if the log-response ratio should be exponentiated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>observations</code> vector can be in any order corresponding to the factor or vector <code>phase</code>.
The levels of <code>phase</code> can be any two levels, such as &quot;A&quot; and &quot;B&quot;, &quot;base&quot; and &quot;treat&quot;, or &quot;0&quot; and &quot;1&quot;.
If there are more than two levels in <code>phase</code> this function will not work.
A value for <code>base_level</code> must be specified - if it is a character string it is case sensitive.
If <code>exponentiate = TRUE</code>, the log-ratio and the confidence interval will be exponentiated,
but the variance will be excluded from the output.
</p>


<h3>Value</h3>

<p>If <code>exponentiate = FALSE</code>, a list with three named entries.
The first entry, <code>lRR</code>, is the estimated log-response ratio.
The second entry, <code>V_lRR</code>, is the estimated variance of the log-response ratio.
The third entry, <code>CI</code>, is a vector containing the endpoints of a confidence
interval of <code>conf_level</code> coverage rate.
</p>
<p>If <code>exponentiate = TRUE</code>, a list with two named entries.
The first entry, <code>RR</code>, is the estimated response ratio.
The second entry, <code>CI</code>, is a vector containing the endpoints of a confidence
interval of <code>conf_level</code> coverage rate.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Estimate the log response ratio and its variance for Carl from Moes dataset
data(Moes)
with(subset(Moes, Case == "Carl"),
logRespRatio(observations = outcome, phase = Phase, base_level = "No Choice"))

</code></pre>

<hr>
<h2 id='Moes'>Moes(1998) data</h2><span id='topic+Moes'></span>

<h3>Description</h3>

<p>Single-case design data from a study that using partial interval recording (PIR) examining the impact of choice-making in a homework tutoring context on disruptive behavior. In this data &quot;No Choice&quot; is the baseline phase. Data were extracted from the figure in the publication.
</p>


<h3>Format</h3>

<p>A data frame with 80 observations on 7 variables
</p>

<ul>
<li> <p><code>Case</code> The participant for whom the observation took place
</p>
</li>
<li> <p><code>Phase</code> The level of the observation (&quot;Choice&quot; vs. &quot;No Choice&quot;)
</p>
</li>
<li> <p><code>Session</code> The observation session # for each participant
</p>
</li>
<li> <p><code>outcome</code> The summary PIR measurement for the observation session
</p>
</li>
<li> <p><code>active_length</code> The length of the active observation interval, in seconds
</p>
</li>
<li> <p><code>rest_length</code> The length of the recording interval, in seconds
</p>
</li>
<li> <p><code>intervals</code> The total number of intervals in the observation session
</p>
</li></ul>

<p>A data frame with 53940 rows and 10 variables
</p>


<h3>References</h3>

<p>Moes, D. R. (1998). Integrating choice-making opportunities within teacher-assigned academic tasks to facilitate the performance of children with autism. Research and Practice for Persons with Severe Disabilities, 23 (4), 319-328.
</p>

<hr>
<h2 id='momentary_time_recording'>Applies momentary time recording to a behavior stream</h2><span id='topic+momentary_time_recording'></span>

<h3>Description</h3>

<p>Evaluates the presence or absence of the behavior at fixed moments in time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>momentary_time_recording(BS, interval_length, summarize = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="momentary_time_recording_+3A_bs">BS</code></td>
<td>
<p>object of class behavior_stream</p>
</td></tr>
<tr><td><code id="momentary_time_recording_+3A_interval_length">interval_length</code></td>
<td>
<p>length of interval between moments.</p>
</td></tr>
<tr><td><code id="momentary_time_recording_+3A_summarize">summarize</code></td>
<td>
<p>logical value indicating whether vector of moments should be summarized by taking their mean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>summarize = FALSE</code>, a matrix with length <code>n_intervals + 1</code> and width equal to the number
of behavior streams in <code>BS</code>. If <code>summarize = TRUE</code>, a vector of proportions of length equal to the 
number of behavior streams in <code>BS</code>. Note that if <code>summarize = TRUE</code>, the initial state of the 
behavior stream is excluded when calculating the mean, so the proportion is based on <code>n_intervals</code> values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BS &lt;- r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                       F_event = F_exp(), F_interim = F_exp(), stream_length = 100)
momentary_time_recording(BS, interval_length = 20, FALSE)
momentary_time_recording(BS, interval_length = 20)
colMeans(momentary_time_recording(BS, 20, FALSE)[-1,])
</code></pre>

<hr>
<h2 id='PIR_loglik'>Calculate log-likelihood</h2><span id='topic+PIR_loglik'></span>

<h3>Description</h3>

<p>Calculates the log-likelihood of within-session PIR data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PIR_loglik(param, U, c, d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PIR_loglik_+3A_param">param</code></td>
<td>
<p>vector of parameter values logit(prevalence), log(incidence)</p>
</td></tr>
<tr><td><code id="PIR_loglik_+3A_u">U</code></td>
<td>
<p>a vector containing interval-level PIR data</p>
</td></tr>
<tr><td><code id="PIR_loglik_+3A_c">c</code></td>
<td>
<p>the length of the active interval</p>
</td></tr>
<tr><td><code id="PIR_loglik_+3A_d">d</code></td>
<td>
<p>the length of the recording interval
</p>
<p>The vector <code>U</code> should only contain values of 1 or 0.
<code>c</code> must be a positive value. <code>d</code> must be some non-negative value. Setting 
<code>d</code> equal to zero represents a PIR observation where no time was set aside for recording.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of the log-likelihood
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>

<hr>
<h2 id='PIR_MOM'>Moment estimator for prevalence and incidence, with bootstrap confidence intervals</h2><span id='topic+PIR_MOM'></span>

<h3>Description</h3>

<p>Estimates prevalence and incidence for two samples,
along with the ratios of each parameter, assuming that the behavior follows
an '. Also provides bootstrap confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PIR_MOM(
  PIR,
  phase,
  base_level,
  intervals,
  interval_length,
  rest_length = 0,
  Bootstraps = 2000,
  conf_level = 0.95,
  exponentiate = FALSE,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PIR_MOM_+3A_pir">PIR</code></td>
<td>
<p>vector of PIR measurements</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_phase">phase</code></td>
<td>
<p>factor or vector indicating levels of the PIR measurements.</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_base_level">base_level</code></td>
<td>
<p>a character string or value indicating the name of the baseline level.</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_intervals">intervals</code></td>
<td>
<p>the number of intervals in the sample of observations</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_interval_length">interval_length</code></td>
<td>
<p>the total length of each interval</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_rest_length">rest_length</code></td>
<td>
<p>length of the portion of the interval devoted to recording. Default is <code>0</code></p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_bootstraps">Bootstraps</code></td>
<td>
<p>desired number of bootstrap replicates. Default is <code>2000</code></p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_conf_level">conf_level</code></td>
<td>
<p>Desired coverage rate of the calculated confidence interval. Default is <code>.95</code>.</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_exponentiate">exponentiate</code></td>
<td>
<p>a logical indicating whether the row corresponding to the ratio of treatment to baseline should be exponentiated, with the default as <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="PIR_MOM_+3A_seed">seed</code></td>
<td>
<p>seed value set in order to make bootstrap results reproducible. Default is <code>null</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The moment estimators are based on the assumption that the
underlying behavior stream follows an Alternating Poisson Process, in which both the
event durations and interim times are exponentially distributed.
</p>
<p>The <code>PIR</code> vector can be in any order corresponding to the factor or vector
<code>phase</code>. The levels of <code>phase</code> can be any two levels, such as &quot;A&quot; and &quot;B&quot;,
&quot;base&quot; and &quot;treat&quot;, or &quot;0&quot; and &quot;1&quot;. If there are more than two levels in <code>phase</code>
this function will not work. A value for <code>base_level</code> must be specified - if it is a
character string it is case sensitive.
</p>
<p><code>intervals</code>, <code>interval_length</code>, and <code>rest_length</code> are all single values that
are assumed to be held constant across both samples and all observation sessions.
If vectors of values are provided for these variables, it is assumed that the first value
in each vector is constant across all observations.
</p>
<p><code>interval_length</code> This is the total length of each individual interval.
Sometimes a portion of the interval is set aside for recording purposes, in which case
<code>rest_length</code> should be set to the length of time devoted to recording.
The default assumption is that there is no recording time.
The length of time devoted to active observation is calculated as <code>interval_length - rest_length</code>.
</p>
<p>At the default setting of <code>bootstraps = 2000</code>, PIR_MOM takes just under six seconds to run on an Intel Core i5-2410M processor.
</p>


<h3>Value</h3>

<p>A dataframe with six columns and three rows corresponding to baseline, treatment,
and the log ratio or ratio (depending upon the value of <code>exponentiate</code>) of treatment to baseline
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Estimate prevalence and incidence ratios for Carl from the Moes dataset
data(Moes)
with(subset(Moes, Case == "Carl"),
  PIR_MOM(PIR = outcome,
          phase = Phase,
          intervals = intervals,
          interval_length = (active_length + rest_length),
          rest_length = rest_length,
          base_level = "No Choice",
          Bootstraps = 200,
          seed = 149568373))

</code></pre>

<hr>
<h2 id='plot.behavior_stream'>Plot method for <code>behavior_stream</code> objects</h2><span id='topic+plot.behavior_stream'></span>

<h3>Description</h3>

<p>Creates a graphical representation of a set of simulated 
behavior streams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'behavior_stream'
plot(
  x,
  session_color = "black",
  episode_color = "blue",
  episode_thickness = 2,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.behavior_stream_+3A_x">x</code></td>
<td>
<p>object of class <code>behavior_stream</code></p>
</td></tr>
<tr><td><code id="plot.behavior_stream_+3A_session_color">session_color</code></td>
<td>
<p>character string indicating the color of the lines that
represent session time. Default is black.</p>
</td></tr>
<tr><td><code id="plot.behavior_stream_+3A_episode_color">episode_color</code></td>
<td>
<p>character string indicating the color of the bars that
represent episode durations. Default is blue.</p>
</td></tr>
<tr><td><code id="plot.behavior_stream_+3A_episode_thickness">episode_thickness</code></td>
<td>
<p>numeric value indicating the thickness of the bars
that represent episode durations. Default is 2.</p>
</td></tr>
<tr><td><code id="plot.behavior_stream_+3A_...">...</code></td>
<td>
<p>Further arguments, not used for this method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot is created using <code>ggplot</code> from the ggplot2 package, 
which must be installed.
</p>


<h3>Value</h3>

<p>An object of class <code>ggplot</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (requireNamespace("ggplot2", quietly = TRUE)) {
b_streams &lt;- r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                               F_event = F_exp(), F_interim = F_exp(), 
                               stream_length = 100)
plot(b_streams)
}

</code></pre>

<hr>
<h2 id='prevalence_bounds'>Prevalence bounds and confidence interval</h2><span id='topic+prevalence_bounds'></span>

<h3>Description</h3>

<p>Calculates a bound for the log of the prevalence ratio of two samples (referred to as baseline and treatment)
based on partial interval recording (PIR) data, assuming that the behavior follows an Alternating Renewal Process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prevalence_bounds(
  PIR,
  phase,
  base_level,
  mu_L,
  active_length,
  intervals = NA,
  conf_level = 0.95,
  exponentiate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prevalence_bounds_+3A_pir">PIR</code></td>
<td>
<p>vector of PIR measurements</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_phase">phase</code></td>
<td>
<p>factor or vector indicating levels of the PIR measurements.</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_base_level">base_level</code></td>
<td>
<p>a character string or value indicating the name of the baseline level.</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_mu_l">mu_L</code></td>
<td>
<p>the lower limit on the mean event duration</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_active_length">active_length</code></td>
<td>
<p>length of the active observation interval</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_intervals">intervals</code></td>
<td>
<p>the number of intervals in the sample of observations. Default is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_conf_level">conf_level</code></td>
<td>
<p>Coverage rate of the confidence interval. Default is <code>.95</code>.</p>
</td></tr>
<tr><td><code id="prevalence_bounds_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Logical value indicating if the log of the bounds and the confidence interval should be exponentiated. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The prevalence ratio estimate is based on the assumptions that
1) the underlying behavior stream follows an Alternating Renewal Process and
2) the average event duration is greater than <code>mu_L</code>.
</p>
<p>The <code>PIR</code> vector can be in any order corresponding to the factor or vector <code>phase</code>.
The levels of <code>phase</code> can be any two levels, such as &quot;A&quot; and &quot;B&quot;, &quot;base&quot; and &quot;treat&quot;, or &quot;0&quot; and &quot;1&quot;.
If there are more than two levels in <code>phase</code> this function will not work.
A value for <code>base_level</code> must be specified - if it is a character string it is case sensitive.
</p>
<p>For all of the following variables, the function assumes that if a vector of values is provided they are constant across all observations and simply uses the first value in that vector.
</p>
<p><code>mu_L</code> is the lower limit on the mean event durations. This is a single value assumed to hold for both samples of behavior
</p>
<p><code>active_length</code> This is the total active observation length. If the intervals are 15 seconds long but 5 seconds of each interval is reserved for recording purposes, <code>active_length= 10</code>. Times are often in seconds, but can be in any time unit.
</p>
<p><code>intervals</code> is the number of intervals in the observations. This is a single value and is assumed to be constant across both samples and all observations. This value is only relevant if the mean of one of the samples is at the floor or ceiling of 0 or 1. In that case it will be used to truncate the sample mean. If the sample mean is at the floor or ceiling and no value for <code>intervals</code> is provided, the function will stop.
</p>


<h3>Value</h3>

<p>A list with three named entries.
The first entry, <code>estimate_bounds</code>, contains the lower and upper bound for the estimate of the prevalence ratio.
The second entry, <code>estimate_SE</code>, contains the standard error of the estimate.
The third entry, <code>estimate_CI</code>, contains the lower and upper bounds for the confidence interval of the prevalence ratio.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate bounds on the prevalence ratio for Carl from Moes dataset
data(Moes)
with(subset(Moes, Case == "Carl"),
 prevalence_bounds(PIR = outcome, phase = Phase, base_level = "No Choice",
 mu_L = 10, active_length = active_length, intervals = intervals))

</code></pre>

<hr>
<h2 id='r_AIR'>Generates random augmented interval recording behavior streams</h2><span id='topic+r_AIR'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution,
which are then coded as augmented interval recording data with given interval length
and rest length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_AIR(
  n,
  mu,
  lambda,
  stream_length,
  F_event,
  F_interim,
  interval_length,
  rest_length = 0,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_AIR_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_mu">mu</code></td>
<td>
<p>mean event duration</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_lambda">lambda</code></td>
<td>
<p>mean interim time</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_interval_length">interval_length</code></td>
<td>
<p>total interval length</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_rest_length">rest_length</code></td>
<td>
<p>length of any recording time in each interval</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_p0">p0</code></td>
<td>
<p>Initial state probability. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_AIR_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. Then applies an augmented interval recording filter 
to the generated behavior streams.
</p>


<h3>Value</h3>

<p>An array with rows corresponding the number of intervals per session, 
columns corresponding to MTS, PIR, and WIR records, all replicated n times.
<code>n</code> times.
</p>


<h3>Author(s)</h3>

<p>James Pustejovsky &lt;jepusto@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
r_AIR(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), 
       interval_length = 1, rest_length = 0)
       
</code></pre>

<hr>
<h2 id='r_behavior_stream'>Generates random behavior streams</h2><span id='topic+r_behavior_stream'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_behavior_stream(
  n,
  mu,
  lambda,
  F_event,
  F_interim,
  stream_length,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_behavior_stream_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_mu">mu</code></td>
<td>
<p>vector of mean event durations</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_lambda">lambda</code></td>
<td>
<p>vector of mean interim time</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_p0">p0</code></td>
<td>
<p>vector of initial state probabilities. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_behavior_stream_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. The vectors <code>mu</code>, <code>lambda</code>, and <code>p0</code> are 
recycled to length <code>n</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>behavior_stream</code> containing two elements.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># default equilibrium initial conditions
r_behavior_stream(n = 5, mu = 3, lambda = 10, 
                  F_event = F_exp(), F_interim = F_exp(), 
                  stream_length = 100)
                  
# non-equilibrium initial conditions
r_behavior_stream(n = 5, mu = 3, lambda = 10,
                  F_event = F_gam(3), F_interim = F_gam(3),
                  stream_length = 100, 
                  equilibrium = FALSE, p0 = 0.5)
</code></pre>

<hr>
<h2 id='r_continuous_recording'>Generates random samples of continuously recorded behavior streams</h2><span id='topic+r_continuous_recording'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution,
summarized as the total proportion of time the behavior of interest occurred.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_continuous_recording(
  n,
  mu,
  lambda,
  stream_length,
  F_event,
  F_interim,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_continuous_recording_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_mu">mu</code></td>
<td>
<p>mean event duration</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_lambda">lambda</code></td>
<td>
<p>mean interim time</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_p0">p0</code></td>
<td>
<p>Initial state probability. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_continuous_recording_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. Then applies a continuous recording filter to the generated behavior streams.
</p>


<h3>Value</h3>

<p>A vector of proportions of length <code>n</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
r_continuous_recording(n = 5, mu = 2, lambda = 4, stream_length = 20,
                       F_event = F_exp(), F_interim = F_exp())

</code></pre>

<hr>
<h2 id='r_event_counting'>Generates random samples of event counts</h2><span id='topic+r_event_counting'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution,
summarized as the the total number of behaviors that began during the recording
session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_event_counting(
  n,
  mu,
  lambda,
  stream_length,
  F_event,
  F_interim,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_event_counting_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_mu">mu</code></td>
<td>
<p>mean event duration</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_lambda">lambda</code></td>
<td>
<p>mean interim time</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_p0">p0</code></td>
<td>
<p>Initial state probability. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_event_counting_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. Then applies an event counting filter to the generated behavior streams.
</p>


<h3>Value</h3>

<p>A vector of behavior counts of length <code>n</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
r_event_counting(n = 5, mu = 2, lambda = 4, stream_length = 20,
                     F_event = F_exp(), F_interim = F_exp())
                     
</code></pre>

<hr>
<h2 id='r_MTS'>Generates random momentary time sampling behavior streams</h2><span id='topic+r_MTS'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution,
which are then coded as momentary time sampling data with given interval length
between moments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_MTS(
  n,
  mu,
  lambda,
  stream_length,
  F_event,
  F_interim,
  interval_length,
  summarize = FALSE,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_MTS_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_mu">mu</code></td>
<td>
<p>mean event duration</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_lambda">lambda</code></td>
<td>
<p>mean interim time</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_interval_length">interval_length</code></td>
<td>
<p>length of time between moments</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_summarize">summarize</code></td>
<td>
<p>logical value indicating whether the vector of moments should be summarized by taking their mean, excluding the first moment in each row.</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_p0">p0</code></td>
<td>
<p>Initial state probability. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_MTS_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. Then applies a momentary time sampling filter to the generated behavior streams.
</p>


<h3>Value</h3>

<p>If <code>summarize = FALSE</code>, a matrix of logicals with rows equal to <code>n</code> and length equal to <code>(stream_length/interval_length) + 1</code>. If <code>summarize = TRUE</code>, a vector of means of length <code>n</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# A set of unsummarized MTS observations
r_MTS(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), interval_length = 1)
      
# A set of summarized MTS observations
r_MTS(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), 
       interval_length = 1, summarize = TRUE)
       
</code></pre>

<hr>
<h2 id='r_PIR'>Generates random partial interval recording behavior streams</h2><span id='topic+r_PIR'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution,
which are then coded as partial interval recording data with given interval length
and rest length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_PIR(
  n,
  mu,
  lambda,
  stream_length,
  F_event,
  F_interim,
  interval_length,
  rest_length = 0,
  summarize = FALSE,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_PIR_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_mu">mu</code></td>
<td>
<p>mean event duration</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_lambda">lambda</code></td>
<td>
<p>mean interim time</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_interval_length">interval_length</code></td>
<td>
<p>total interval length</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_rest_length">rest_length</code></td>
<td>
<p>length of any recording time in each interval</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_summarize">summarize</code></td>
<td>
<p>logical value indicating whether the behavior streams should by summarized by taking their mean</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_p0">p0</code></td>
<td>
<p>Initial state probability. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_PIR_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. Then applies a partial interval recording filter to the generated behavior streams.
</p>


<h3>Value</h3>

<p>If <code>summarize = FALSE</code>, a matrix with rows equal to <code>n</code> and a number of columns equal to the number intervals per session. If <code>summarize = TRUE</code> a vector of means of length <code>n</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# An unsummarized set of PIR observations
r_PIR(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), 
       interval_length = 1, rest_length = 0)
      
# A summarized set of of PIR observations
r_PIR(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), 
       interval_length = 1, rest_length = 0,
       summarize = TRUE)
       
</code></pre>

<hr>
<h2 id='r_WIR'>Generates random whole interval recording behavior streams</h2><span id='topic+r_WIR'></span>

<h3>Description</h3>

<p>Random generation of behavior streams (based on an alternating
renewal process) of a specified length and with specified mean event 
durations, mean interim times, event distribution, and interim distribution,
which are then coded as whole interval recording data with given interval length
and rest length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_WIR(
  n,
  mu,
  lambda,
  stream_length,
  F_event,
  F_interim,
  interval_length,
  rest_length = 0,
  summarize = FALSE,
  equilibrium = TRUE,
  p0 = 0,
  tuning = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r_WIR_+3A_n">n</code></td>
<td>
<p>number of behavior streams to generate</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_mu">mu</code></td>
<td>
<p>mean event duration</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_lambda">lambda</code></td>
<td>
<p>mean interim time</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_stream_length">stream_length</code></td>
<td>
<p>length of behavior stream</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_f_event">F_event</code></td>
<td>
<p>distribution of event durations. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_f_interim">F_interim</code></td>
<td>
<p>distribution of interim times. Must be of class <code><a href="#topic+eq_dist">eq_dist</a></code>.</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_interval_length">interval_length</code></td>
<td>
<p>total interval length</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_rest_length">rest_length</code></td>
<td>
<p>length of any recording time in each interval</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_summarize">summarize</code></td>
<td>
<p>logical value indicating whether the behavior streams should by summarized by taking their mean</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_equilibrium">equilibrium</code></td>
<td>
<p>logical; if <code>TRUE</code>, then equilibrium initial conditions are used; 
if <code>FALSE</code>, then <code>p0</code> is used to determine initial state and normal generating 
distributions are used for event durations and interim times.</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_p0">p0</code></td>
<td>
<p>Initial state probability. Only used if <code>equilibrium = FALSE</code>, in which case
default is zero (i.e., behavior stream always starts with an interim time).</p>
</td></tr>
<tr><td><code id="r_WIR_+3A_tuning">tuning</code></td>
<td>
<p>controls the size of the chunk of random event durations and interim times.
Adjusting this may be useful in order to speed computation time .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates behavior streams by repeatedly drawing random event durations and 
random interim times from the distributions as specified, until the sum of the durations and interim
times exceeds the requested stream length. Then applies a whole interval recording filter to the generated behavior streams.
</p>


<h3>Value</h3>

<p>If <code>summarize = FALSE</code>, a matrix with rows equal to <code>n</code> and a number of columns equal to the number intervals per session. If <code>summarize = TRUE</code> a vector of means of length <code>n</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel Swan &lt;dswan@utexas.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# An unsummarized set of WIR observations
r_WIR(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), 
       interval_length = 1, rest_length = 0)
      
# A summarized set of of WIR observations
r_WIR(n = 5, mu = 2, lambda = 4, stream_length = 20, 
       F_event = F_exp(), F_interim = F_exp(), 
       interval_length = 1, rest_length = 0,
       summarize = TRUE)
       
</code></pre>

<hr>
<h2 id='reported_observations'>Applies multiple recording procedures to a behavior stream</h2><span id='topic+reported_observations'></span>

<h3>Description</h3>

<p>This is a convenience function that allows multiple recording procedures to be applied
to a single behavior stream. Results are reported either per behavior stream or as summary statistics, averaged
over multiple behavior streams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reported_observations(
  BS,
  data_types = c("C", "M", "E", "P", "W"),
  interval_length = 1,
  rest_length = 0,
  n_aggregate = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reported_observations_+3A_bs">BS</code></td>
<td>
<p>object of class behavior_stream</p>
</td></tr>
<tr><td><code id="reported_observations_+3A_data_types">data_types</code></td>
<td>
<p>list of recording procedures to apply to the behavior stream. See details.</p>
</td></tr>
<tr><td><code id="reported_observations_+3A_interval_length">interval_length</code></td>
<td>
<p>time length of each interval used to score momentary time recording and interval recording procedures.</p>
</td></tr>
<tr><td><code id="reported_observations_+3A_rest_length">rest_length</code></td>
<td>
<p>portion of each interval to exclude from observation for interval recording. 
See documentation for <code><a href="#topic+interval_recording">interval_recording</a></code>.</p>
</td></tr>
<tr><td><code id="reported_observations_+3A_n_aggregate">n_aggregate</code></td>
<td>
<p>number of observations over which to calculate summary statistics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following recording procedures are currently implemented
</p>

<ul>
<li> <p><code>C</code> - continuous duration recording
</p>
</li>
<li> <p><code>M</code> - momentary time recording
</p>
</li>
<li> <p><code>E</code> - event counting
</p>
</li>
<li> <p><code>P</code> - partial interval recording
</p>
</li>
<li> <p><code>W</code> - whole interval recording
</p>
</li></ul>



<h3>Value</h3>

<p>If <code>n_aggregate = 1</code>, a data frame with one column per procedure listed in <code>data_types</code> and length equal to the number
of behavior streams in <code>BS</code>. If <code>n_aggregate &gt; 1</code>, a list containing two data frames: one with sample means
and one with sample variances, both taken across <code>n_aggregate</code> behavior streams.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BS &lt;- r_behavior_stream(n = 50, mu = 3, lambda = 10, 
                       F_event = F_exp(), F_interim = F_exp(), stream_length = 100)
reported_observations(BS, interval_length = 10)
reported_observations(BS, interval_length = 10, n_aggregate = 5)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

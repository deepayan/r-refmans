<!DOCTYPE html><html><head><title>Help for package shinyInvoice</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinyInvoice}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#continue_sequence'><p>Functions continue_sequence, duplicate_last_list_element and date_bump_month</p></a></li>
<li><a href='#GetExchangeRates'><p>Functions get_exchange_rates_symbol, try_exchange_rates_direct_and_indirect</p>
and GetExchangeRates</a></li>
<li><a href='#runInvoice'><p>Function runInvoice</p></a></li>
<li><a href='#shinyInvoice-package'><p>shinyInvoice: Shiny App - Generate a Pdf Invoice with 'Rmarkdown'</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Shiny App - Generate a Pdf Invoice with 'Rmarkdown'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-31</td>
</tr>
<tr>
<td>Description:</td>
<td>Generate an invoice containing a header with invoice number and businesses details. The invoice table contains
  any of: salary, one-liner costs, grouped costs. Under the table signature and bank account details appear. 
  Pages are numbered when more than one. Source .json and .Rmd files are editable in the app. A .csv file with raw data can be downloaded.
  This package includes functions for getting exchange rates between currencies based on 
  'quantmod' (Ryan and Ulrich, 2023 <a href="https://CRAN.R-project.org/package=quantmod">https://CRAN.R-project.org/package=quantmod</a>).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble, dplyr, quantmod, rlang, stringr, shiny, lubridate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>fs, jsonlite, pillar, readr, rhino, rjson, shinyAce, tinytex,
rmarkdown, curl</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc (&gt;= 2.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/fernandoroa/invoice-public">https://github.com/fernandoroa/invoice-public</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/fernandoroa/invoice-public/issues">https://github.com/fernandoroa/invoice-public/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-01 12:50:36 UTC; fernando</td>
</tr>
<tr>
<td>Author:</td>
<td>Fernando Roa [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Fernando Roa &lt;froao@unal.edu.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-01 13:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='continue_sequence'>Functions continue_sequence, duplicate_last_list_element and date_bump_month</h2><span id='topic+continue_sequence'></span><span id='topic+continue_sequence+2C'></span><span id='topic+duplicate_last_list_element+2C'></span><span id='topic+date_bump_month'></span><span id='topic+duplicate_last_list_element'></span>

<h3>Description</h3>

<p>continue_sequence: suffix increase, i.e. from 1 to 2, from a to b
</p>
<p>duplicate_last_list_element: copies last element from list and
bumps its name
</p>
<p>date_bump_month: increases or decreases date by one month
</p>


<h3>Usage</h3>

<pre><code class='language-R'>continue_sequence(chr_vector, sep = "_", factor = 1)

duplicate_last_list_element(list)

date_bump_month(date, decrease = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="continue_sequence_+3A_chr_vector">chr_vector</code></td>
<td>
<p>character, vector</p>
</td></tr>
<tr><td><code id="continue_sequence_+3A_sep">sep</code></td>
<td>
<p>character, separating prefix from suffix</p>
</td></tr>
<tr><td><code id="continue_sequence_+3A_factor">factor</code></td>
<td>
<p>numeric, increase or decrease sequence</p>
</td></tr>
<tr><td><code id="continue_sequence_+3A_list">list</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code id="continue_sequence_+3A_date">date</code></td>
<td>
<p>date</p>
</td></tr>
<tr><td><code id="continue_sequence_+3A_decrease">decrease</code></td>
<td>
<p>boolean</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector
</p>
<p>data.frame
</p>
<p>date
</p>


<h3>Examples</h3>

<pre><code class='language-R'>continue_sequence(c("a_1", "a_2"))
duplicate_last_list_element(list(a_1 = "1", b_1 = "random"))
date_bump_month(as.Date("2024-02-29"))
</code></pre>

<hr>
<h2 id='GetExchangeRates'>Functions get_exchange_rates_symbol, try_exchange_rates_direct_and_indirect
and GetExchangeRates</h2><span id='topic+GetExchangeRates'></span><span id='topic+get_exchange_rates_symbol+2C'></span><span id='topic+try_exchange_rates_direct_and_indirect'></span><span id='topic+get_exchange_rates_symbol'></span>

<h3>Description</h3>

<p>get_exchange_rates_symbol: uses getSymbols
</p>
<p>GetExchangeRates: uses getFX and getSymbols
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetExchangeRates(from_curr, to_curr, from_date, to_date = from_date)

get_exchange_rates_symbol(from_curr, to_curr, from_date, to_date = from_date)

try_exchange_rates_direct_and_indirect(date, from_curr, to_curr, tries = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetExchangeRates_+3A_from_curr">from_curr</code></td>
<td>
<p>character, currency symbol</p>
</td></tr>
<tr><td><code id="GetExchangeRates_+3A_to_curr">to_curr</code></td>
<td>
<p>character, currency symbol</p>
</td></tr>
<tr><td><code id="GetExchangeRates_+3A_from_date">from_date</code></td>
<td>
<p>character, date</p>
</td></tr>
<tr><td><code id="GetExchangeRates_+3A_to_date">to_date</code></td>
<td>
<p>character, date</p>
</td></tr>
<tr><td><code id="GetExchangeRates_+3A_date">date</code></td>
<td>
<p>character, desired date</p>
</td></tr>
<tr><td><code id="GetExchangeRates_+3A_tries">tries</code></td>
<td>
<p>numeric try how many days before desired date</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>
<p>data.frame
</p>
<p>numeric vector
</p>


<h3>References</h3>

<p>Ryan JA, Ulrich JM (2023). <em>quantmod: Quantitative Financial
Modelling Framework</em>. R package version 0.4.25,
<a href="https://CRAN.R-project.org/package=quantmod">https://CRAN.R-project.org/package=quantmod</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>from_curr &lt;- c("CAD", "JPY", "USD")
to_curr &lt;- c("USD", "USD", "EUR")



# get_exchange_rates_symbol and try_exchange_rates_direct_and_indirect
# use quantmod::getSymbols, which requires a working curl, as in:

if (requireNamespace("curl", quietly = TRUE)) {
  con &lt;- curl::curl(url = "https://hb.cran.dev/get", open = "r", handle = curl::new_handle())
  print(con)
  close(con)
}

# Success
recent_date &lt;- as.character(Sys.Date() - 7)
GetExchangeRates(from_curr = from_curr, to_curr = to_curr, recent_date, recent_date)

# last date mismatch day
GetExchangeRates(from_curr = from_curr, to_curr = to_curr, "2023-10-27", "2023-10-30")

# weekend, warning, gets only FX, fails for getSymbols
# update this dates to less than 180 days!

GetExchangeRates(from_curr = from_curr, to_curr = to_curr, "2023-10-28", "2023-10-28")
GetExchangeRates(from_curr = from_curr, to_curr = to_curr, "2023-10-29", "2023-10-29")
GetExchangeRates(from_curr = from_curr, to_curr = to_curr, "2023-07-08", "2023-07-09")

# fails for FX, &gt; 180 days
GetExchangeRates(from_curr = from_curr, to_curr = to_curr, "2023-04-03", "2023-04-05")

# failure for getSymbols, when none is USD
GetExchangeRates(from_curr = "BRL", to_curr = "COP", "2023-07-07")

# getSymbols success
get_exchange_rates_symbol(from_curr = from_curr, to_curr = to_curr, "2023-07-03", "2023-07-05")

# getSymbols &gt; 180 days ok
get_exchange_rates_symbol(from_curr = from_curr, to_curr = to_curr, "2023-04-03", "2023-04-05")

# failure, weekend days
weekend_failure &lt;- try(get_exchange_rates_symbol(
  from_curr = from_curr,
  to_curr = to_curr, "2023-07-08", "2023-07-09"
), silent = TRUE)
weekend_failure

# works
try_exchange_rates_direct_and_indirect("2023-07-08", from_curr, to_curr, tries = 8)
try_exchange_rates_direct_and_indirect("2023-07-08", "BRL", "USD", tries = 8)
try_exchange_rates_direct_and_indirect("2023-07-08", "USD", "BRL", tries = 8)

# works indirectly
recent_date &lt;- as.character(Sys.Date() - 7)
try_exchange_rates_direct_and_indirect(recent_date, "COP", "BRL", tries = 8)

# works with FX only, provided, not greater than 180 days

GetExchangeRates(from_curr = "COP", to_curr = "BRL", recent_date)

</code></pre>

<hr>
<h2 id='runInvoice'>Function runInvoice</h2><span id='topic+runInvoice'></span>

<h3>Description</h3>

<p>runInvoice: run shinyApp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runInvoice(installAll = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runInvoice_+3A_installall">installAll</code></td>
<td>
<p>boolean, when <code>TRUE</code> dependencies are installed without asking. Defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>shiny
</p>

<hr>
<h2 id='shinyInvoice-package'>shinyInvoice: Shiny App - Generate a Pdf Invoice with 'Rmarkdown'</h2><span id='topic+shinyInvoice'></span><span id='topic+shinyInvoice-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Generate an invoice containing a header with invoice number and businesses details. The invoice table contains any of: salary, one-liner costs, grouped costs. Under the table signature and bank account details appear. Pages are numbered when more than one. Source .json and .Rmd files are editable in the app. A .csv file with raw data can be downloaded. This package includes functions for getting exchange rates between currencies based on 'quantmod' (Ryan and Ulrich, 2023 <a href="https://CRAN.R-project.org/package=quantmod">https://CRAN.R-project.org/package=quantmod</a>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Fernando Roa <a href="mailto:froao@unal.edu.co">froao@unal.edu.co</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/fernandoroa/invoice-public">https://github.com/fernandoroa/invoice-public</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/fernandoroa/invoice-public/issues">https://github.com/fernandoroa/invoice-public/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

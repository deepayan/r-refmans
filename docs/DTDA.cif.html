<!DOCTYPE html><html lang="en"><head><title>Help for package DTDA.cif</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {DTDA.cif}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#DTDA.cif-package'><p>Doubly Truncated Data Analysis, Cumulative Incidence Functions</p></a></li>
<li><a href='#DTDAcif'><p>Doubly Truncated Data Analysis, Cumulative Incidence Functions</p></a></li>
<li><a href='#plot.DTDAcif'><p>plot.DTDAcif</p></a></li>
<li><a href='#summary.DTDAcif'><p>summary.DTDAcif</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Doubly Truncated Data Analysis, Cumulative Incidence Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>José Carlos Soage González &lt;jsoage@uvigo.es&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Nonparametric estimator of the cumulative incidences of competing risks under double truncation. The estimator generalizes the Efron-Petrosian NPMLE (Non-Parametric Maximun Likelihood Estimator) to the competing risks setting. Efron, B. and Petrosian, V. (1999) &lt;<a href="https://doi.org/10.2307%2F2669997">doi:10.2307/2669997</a>&gt;. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>doParallel, foreach, Rcpp</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-02-13 12:06:20 UTC; Matlab</td>
</tr>
<tr>
<td>Author:</td>
<td>Jacobo de Uña Álvarez [aut],
  José Carlos Soage González [cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-02-13 12:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='DTDA.cif-package'>Doubly Truncated Data Analysis, Cumulative Incidence Functions</h2><span id='topic+DTDA.cif'></span><span id='topic+DTDA.cif-package'></span>

<h3>Description</h3>

<p>Nonparametric estimator of the cumulative incidences of competing risks under double truncation. The estimator generalizes the Efron-Petrosian NPMLE (Non-Parametric Maximun Likelihood Estimator) to the competing risks setting.
</p>


<h3>Details</h3>


<ul>
<li><p>Package: ‘DTDA.cif’
</p>
</li>
<li><p>Version: 1.0.2
</p>
</li>
<li><p>Maintainer: José Carlos Soage González <a href="mailto:jsoage@uvigo.es">jsoage@uvigo.es</a>
</p>
</li>
<li><p>License: GPL-2
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p>‘<a href="#topic+DTDAcif">DTDAcif</a>’
</p>
</li>
<li><p>‘<a href="#topic+plot.DTDAcif">plot.DTDAcif</a>’
</p>
</li>
<li><p>‘<a href="#topic+summary.DTDAcif">summary.DTDAcif</a>’
</p>
</li></ul>



<h3>Acknowledgements</h3>


<ul>
<li><p>Jacobo de Uña-Álvarez was supported by Grant MTM2017-89422-P (MINECO/AEI/FEDER, UE).
</p>
</li>
<li><p>José Carlos Soage was supported
by Grupos de Referencia Competitiva, Consolidación y Estructuración de
Unidades de Investigación Competitivas del SUG, Cons. de Cultura,
Educación e OU, Xunta de Galicia (GRC ED431C 2016/040).
</p>
</li></ul>



<h3>Author(s)</h3>


<ul>
<li><p>de Uña-Álvarez, Jacobo.
</p>
</li>
<li><p>Soage González, José Carlos.
</p>
</li>
<li><p>Maintainer: José Carlos Soage González. <a href="mailto:jsoage@uvigo.es">jsoage@uvigo.es</a>
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>de Uña-Álvarez, J. (2019). Nonparametric estimation of the cumulative incidences of competing risks under double truncation. Preprint.
</p>
</li>
<li><p>Efron, B. and Petrosian, V. (1999). Nonparametric methods for doubly truncated data. Journal of the American Statistical Association 94, 824-834.
</p>
</li></ul>


<hr>
<h2 id='DTDAcif'>Doubly Truncated Data Analysis, Cumulative Incidence Functions</h2><span id='topic+DTDAcif'></span>

<h3>Description</h3>

<p>This function computes a nonparametric estimator of the cumulative incidences of competing risks under double truncation. The estimator generalizes the Efron-Petrosian NPMLE (Non-Parametric Maximun Likelihood Estimator) to the competing risks setting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DTDAcif(x, u, v, comp.event, method = c("indep", "dep"), boot = F,
  B = 300, N.iter = 100, error = 1e-06)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="DTDAcif_+3A_x">x</code></td>
<td>
<p>Numeric vector corresponding to the variable of ultimate interest.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_u">u</code></td>
<td>
<p>Numeric vector corresponding to the left truncation variable.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_v">v</code></td>
<td>
<p>Numeric vector corresponding to the right truncation variable.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_comp.event">comp.event</code></td>
<td>
<p>Competing risk indicator.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_method">method</code></td>
<td>
<p>The method used to compute the nonparametric estimator. Use ‘indep’ for independent truncation variables and &ldquo;dep&ldquo; for truncation variables possibly depending on the competing risk.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_boot">boot</code></td>
<td>
<p>Logical. If TRUE the bootstrap standard deviation of the cumulative incidences is calculated.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_b">B</code></td>
<td>
<p>Number of bootstrap replicates.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_n.iter">N.iter</code></td>
<td>
<p>Maximum number of iterations.</p>
</td></tr>
<tr><td><code id="DTDAcif_+3A_error">error</code></td>
<td>
<p>Error criterion for convergence.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The nonparametric estimator is based on the Efron-Petrosian NPMLE (Efron and Petrosian, 1999).
Actually, each pair (Xi,Zi) -where Xi stands for the variable of interest and Zi is the competing event
indicator- is weighted by the jump of the Efron-Petrosian NPMLE at Xi (method=&ldquo;indep&quot;), or by a normalized
version of the Efron-Petrosian NPMLE computed from the subset of (Xs,Zs)'s such that Zs=Zi (method=&ldquo;dep&rdquo;).
The former is suitable when the truncating couple (U,V) is independent of (X,Z), while the latter is recommended
when (U,V) and X are only conditionally independent given Z; see de Uña-Álvarez (2019) for a full description of
the estimators and of their properties. When the competing event indicator is missing, the function simply computes
the Efron-Petrosian NPMLE and the argument method has no role.
</p>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li><p>method: The method used to compute the estimator.
</p>
</li>
<li><p>biasf: The biasing function which reports the sampling probability for each Xi.
</p>
</li>
<li><p>cif.mas: The mass attached to each (Xi,Zi). The cumsum of cif.mas for Zi=j is the estimator of the j-th cumulative incidence function.
</p>
</li>
<li><p>data: The data corresponding to (X,Z) ordered with respect to X within each Z-value.
</p>
</li>
<li><p>sd.boot: The bootstrap standard deviation.
</p>
</li></ul>



<h3>Acknowledgements</h3>


<ul>
<li><p>Jacobo de Uña-Álvarez was supported by Grant MTM2017-89422-P (MINECO/AEI/FEDER, UE).
</p>
</li>
<li><p>José Carlos Soage was supported by Grupos de Referencia Competitiva,
Consolidación y Estructuración de Unidades de Investigación Competitivas del SUG,
Cons. de Cultura, Educación e OU, Xunta de Galicia (GRC ED431C 2016/040).
</p>
</li></ul>



<h3>Author(s)</h3>


<ul>
<li><p>de Uña-Álvarez, Jacobo.
</p>
</li>
<li><p>Soage González, José Carlos.
</p>
</li>
<li><p>Maintainer: José Carlos Soage González. <a href="mailto:jsoage@uvigo.es">jsoage@uvigo.es</a>
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p>de Uña-Álvarez, J. (2019). Nonparametric estimation of the cumulative incidences of competing risks under double truncation. Preprint.
</p>
</li>
<li><p>Efron, B. and Petrosian, V. (1999). Nonparametric methods for doubly truncated data. Journal of the American Statistical Association 94, 824-834.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>



set.seed(1234)
n &lt;- 50  # sample size

x &lt;- runif(n, 0, 1)  # time variable of interest
z &lt;- rbinom(n, 1, 1 / 4)   # competing event indicator

# truncation variables

u &lt;- runif(n, -.25, .5)  # left truncation variable
v &lt;- u + .75   # right truncation variable

# note: (u,v) is independent of (x,z) so both estimation methods are consistent

# truncating the sample:

for (i in 1:n) {
  while (u[i] &gt; x[i] | v[i] &lt; x[i]) {
    x[i] &lt;- runif(1, 0, 1)
    z[i] &lt;- rbinom(1, 1, 1 / 4)
    u[i] &lt;- runif(1, -.25, .5)
    v[i] &lt;- u[i] + .75
  }
}

# note: (u,v) since is independent of (x,z)
# both estimation methods are consistent:

res.i &lt;- DTDAcif(x, u, v, z, method = "indep", boot = TRUE)
res.d &lt;- DTDAcif(x, u, v, z, method = "dep", boot = TRUE)

oldpar &lt;- par(mfrow=c(1,2))
plot(res.i, main = "Indep trunc", intervals = TRUE)
plot(res.d, main = "Cond indep trunc", intervals = TRUE)

summary(res.i)
summary(res.d)

plot(res.i$data$x, res.i$biasf, type = "s")  # the observational bias
# the observational bias, event 1
plot(res.d$data$x[res.d$data$z == 1], res.d$biasf$biasf_1, type = "s")
# the observational bias, event 2
lines(res.d$data$x[res.d$data$z == 2], res.d$biasf$biasf_2, type = "s", col = 2)
par(oldpar)


</code></pre>

<hr>
<h2 id='plot.DTDAcif'>plot.DTDAcif</h2><span id='topic+plot.DTDAcif'></span>

<h3>Description</h3>

<p>S3 method to plot a DTDAcif object by using the generic plot function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DTDAcif'
plot(x, intervals = FALSE, level = 0.95, main = "",
  xlab = "", ylab = "", ylim, xlim, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.DTDAcif_+3A_x">x</code></td>
<td>
<p>DTDAcif object.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_intervals">intervals</code></td>
<td>
<p>Logical. If TRUE confidence intervals are calculated if standard deviation was calculated before.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_level">level</code></td>
<td>
<p>Confidence level of the standard deviation of the cifs. Default is 0.95.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_main">main</code></td>
<td>
<p>An overall title for the plot.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_xlab">xlab</code></td>
<td>
<p>A title for the x axis.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_ylab">ylab</code></td>
<td>
<p>A title for the y axis.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_ylim">ylim</code></td>
<td>
<p>Limit over the y axis.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_xlim">xlim</code></td>
<td>
<p>Limit over the x axis.</p>
</td></tr>
<tr><td><code id="plot.DTDAcif_+3A_...">...</code></td>
<td>
<p>Additional parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>


<ul>
<li><p>de Uña-Álvarez, Jacobo.
</p>
</li>
<li><p>Soage González, José Carlos.
</p>
</li>
<li><p>Maintainer: José Carlos Soage González. <a href="mailto:jsoage@uvigo.es">jsoage@uvigo.es</a>
</p>
</li></ul>


<hr>
<h2 id='summary.DTDAcif'>summary.DTDAcif</h2><span id='topic+summary.DTDAcif'></span>

<h3>Description</h3>

<p>S3 method to summarize a DTDAcif object by using the generic summary function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DTDAcif'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.DTDAcif_+3A_object">object</code></td>
<td>
<p>DTDAcif object.</p>
</td></tr>
<tr><td><code id="summary.DTDAcif_+3A_...">...</code></td>
<td>
<p>Additonal parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>


<ul>
<li><p>de Uña-Álvarez, Jacobo.
</p>
</li>
<li><p>Soage González, José Carlos.
</p>
</li>
<li><p>Maintainer: José Carlos Soage González. <a href="mailto:jsoage@uvigo.es">jsoage@uvigo.es</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

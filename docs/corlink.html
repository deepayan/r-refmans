<!DOCTYPE html><html><head><title>Help for package corlink</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {corlink}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#corlink'><p>corlink: Record linkage, Incorporating Imputation for Missing Agreement Patterns, and Modeling correlation patterns between fields</p></a></li>
<li><a href='#do_sim'><p>Function to simulate agreement patterns for record pairs from a mixture model</p></a></li>
<li><a href='#linkd'><p>Function to impute missing agreement patterns and then to link data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Record Linkage, Incorporating Imputation for Missing Agreement
Patterns, and Modeling Correlation Patterns Between Fields</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A matrix of agreement patterns and counts for record pairs is the input for the procedure.  An EM algorithm is used to impute plausible values for missing record pairs.  A second EM algorithm, incorporating possible correlations between per-field agreement, is used to estimate posterior probabilities that each pair is a true match - i.e. constitutes the same individual.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.4)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-10-20 08:57:58 UTC; 0118158S</td>
</tr>
<tr>
<td>Author:</td>
<td>John Ferguson [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Ferguson &lt;john.ferguson@nuigalway.ie&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-10-20 23:17:42</td>
</tr>
</table>
<hr>
<h2 id='corlink'>corlink: Record linkage, Incorporating Imputation for Missing Agreement Patterns, and Modeling correlation patterns between fields</h2><span id='topic+corlink'></span><span id='topic+corlink-package'></span>

<h3>Description</h3>

<p>A matrix of agreement patterns and counts for record pairs is the input for the procedure.  An EM algorithm is used to impute plausible values for missing record pairs.  A second EM algorithm, incorporating possible correlations between per-field agreement, is used to estimate posterior probabilites that each pair is a true match - i.e. constitutes the same individual.
</p>


<h3>corlink functions</h3>

<p>linkd
</p>

<hr>
<h2 id='do_sim'>Function to simulate agreement patterns for record pairs from a mixture model</h2><span id='topic+do_sim'></span>

<h3>Description</h3>

<p>Function to simulate agreement patterns for record pairs from a mixture model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_sim(cor_match = 0.1, cor_mismatch = 0, nsample = 10^3,
  pi_match = 0.01, m_probs, u_probs, missingprobs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_sim_+3A_cor_match">cor_match</code></td>
<td>
<p>correlation in 0/1 agreement fields for record pairs constituting the same individual (matches).</p>
</td></tr>
<tr><td><code id="do_sim_+3A_cor_mismatch">cor_mismatch</code></td>
<td>
<p>correlation in 0/1 agreement fields for record pairs not constituting the same individual (true mismatches).</p>
</td></tr>
<tr><td><code id="do_sim_+3A_nsample">nsample</code></td>
<td>
<p>number of record pairs to simulate.</p>
</td></tr>
<tr><td><code id="do_sim_+3A_pi_match">pi_match</code></td>
<td>
<p>the probability both records from a randomly selected record pair correspond to the same individual (a true match).</p>
</td></tr>
<tr><td><code id="do_sim_+3A_m_probs">m_probs</code></td>
<td>
<p>marginal probabilities of agreement for each field for record pairs constituting true matches.</p>
</td></tr>
<tr><td><code id="do_sim_+3A_u_probs">u_probs</code></td>
<td>
<p>marginal probabilities of agreement for each field for record pairs constituting true mismatches.</p>
</td></tr>
<tr><td><code id="do_sim_+3A_missingprobs">missingprobs</code></td>
<td>
<p>probabilities that each field is missing on at least one record pair.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of the simulated agreement patterns, with final column equal to the count of each pattern.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m_probs &lt;- rep(0.8,6)
u_probs &lt;- rep(0.2,6)
means_match &lt;- -1*qnorm(1-m_probs)
means_mismatch &lt;- -1*qnorm(1-u_probs)
missingprobs &lt;- rep(.2,6)
thedata &lt;- do_sim(cor_match=0.2,cor_mismatch=0,nsample=10^4,
pi_match=.5,m_probs=rep(0.8,5),u_probs=rep(0.2,5),missingprobs=rep(0.4,5))
thedata
</code></pre>

<hr>
<h2 id='linkd'>Function to impute missing agreement patterns and then to link data</h2><span id='topic+linkd'></span>

<h3>Description</h3>

<p>Function to impute missing agreement patterns and then to link data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>linkd(d, initial_m = NULL, initial_u = NULL, p_init = 0.5,
  fixed_col = NULL, alg = "m")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linkd_+3A_d">d</code></td>
<td>
<p>Matrix of agreement patterns with final column counting the number of times that pattern was observed.  See Details</p>
</td></tr>
<tr><td><code id="linkd_+3A_initial_m">initial_m</code></td>
<td>
<p>starting probabilities for per-field agreement in record pairs, both records being generated from the same individual.  Defaults to NULL</p>
</td></tr>
<tr><td><code id="linkd_+3A_initial_u">initial_u</code></td>
<td>
<p>starting probabilities for per-field agreement in record pairs, with the two records being generated from differing individuals  Defaults to NULL</p>
</td></tr>
<tr><td><code id="linkd_+3A_p_init">p_init</code></td>
<td>
<p>starting probability that both records for a randomly selected record pair is associated with the same individual</p>
</td></tr>
<tr><td><code id="linkd_+3A_fixed_col">fixed_col</code></td>
<td>
<p>vector indicating columns that are not to be updated in initial EM algorithm.  Useful if good prior estimates of the mis-match probabilities.  See details</p>
</td></tr>
<tr><td><code id="linkd_+3A_alg">alg</code></td>
<td>
<p>character; see Details</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>d</code> is a numeric matrix with N rows corresponding to N record pairs, and L+1 columns the first L of which show the field agreement patterns observed over the record pairs, and the last column the total number of times that pattern was observed in the database.  The code 0 is used for a field that differs for two record, 1 for a field that agrees, and 2 for a missing field. <code>fixed_col</code> indicates the components of the <code>u</code> vector (per field probabilities of agreement for 2 records from differing individuals) that are not to be updated when applying the EM algorithm to estimate components of the Feligi Sunter model.  <code>alg</code> has four possible values.  The default <code>'m'</code> fits a log-linear model for the agreement counts only within the record pairs that corresponds to the same individual, <code>'b'</code> fits differing log-linear models for the 2 clusters, <code>'i'</code> corresponds to the original Feligi Sunter algorithm, with probabilities estimated via the EM algorithm, <code>'a'</code> fits all the previously listed models
</p>


<h3>Value</h3>

<p>A list, the first component is a matrix -  the posterior probabilities of being a true match is the last column, the second component are the fitted models used to generate the predicted probabilities
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simulate data
m_probs &lt;- rep(0.8,6)
u_probs &lt;- rep(0.2,6)
means_match &lt;- -1*qnorm(1-m_probs)
means_mismatch &lt;- -1*qnorm(1-u_probs)
missingprobs &lt;- rep(.2,6)
thedata &lt;- do_sim(cor_match=0.2,cor_mismatch=0,nsample=10^4,pi_match=.5,
m_probs=rep(0.8,5),u_probs=rep(0.2,5),missingprobs=rep(0.4,5))
colnames(thedata) &lt;- c(paste("V",1:5,sep="_"),"count")
output &lt;- linkd(thedata)
output$fitted_probs
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

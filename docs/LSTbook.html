<!DOCTYPE html><html lang="en"><head><title>Help for package LSTbook</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {LSTbook}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AAUP'><p>1984 salaries in various professional fields</p></a></li>
<li><a href='#add_plot_labels'><p>Convenience function for adding labels to point_plot or others without needing</p>
the ggplot2 + pipe.</a></li>
<li><a href='#add_slope_rose'><p>Add a slope &quot;rose&quot; to a plot.</p></a></li>
<li><a href='#Anthro_F'><p>Anthropometric data from college-aged women</p></a></li>
<li><a href='#Birdkeepers'><p>Birdkeeping and Lung Cancer</p></a></li>
<li><a href='#Births2022'><p>Records on births in the US in 2022</p></a></li>
<li><a href='#Boston_marathon'><p>Winning times in the Boston Marathon</p></a></li>
<li><a href='#Butterfly'><p>World records in the 100 &amp; 200 m butterfly swim</p></a></li>
<li><a href='#Calif_precip'><p>Annual precipitation in California locations</p></a></li>
<li><a href='#Callback'><p>Resume Experiment Data</p></a></li>
<li><a href='#categorical'><p>Helpers for specifying nodes in simulations</p></a></li>
<li><a href='#College_grades'><p>Grades at a small college</p></a></li>
<li><a href='#conf_interval'><p>Summaries of regression models</p></a></li>
<li><a href='#CRDS'><p>Smoking and lung function among youths</p></a></li>
<li><a href='#dag_draw'><p>Draw a DAG</p></a></li>
<li><a href='#datasim_make'><p>Construct and modify data simulations</p></a></li>
<li><a href='#datasim_run'><p>Run a datasim simulation, producing a data frame</p></a></li>
<li><a href='#Econ_outlook_poll'><p>SIMULATED data from an economic outlook poll</p></a></li>
<li><a href='#explanatory_vars'><p>Utilities</p></a></li>
<li><a href='#FARS'><p>Annual summaries concerning motor-vehicle related fatalities in the US#'</p></a></li>
<li><a href='#Framingham'><p>Data from the Framingham heart study</p></a></li>
<li><a href='#Germany1933vote'><p>Voting patterns in the 1933 German national election</p></a></li>
<li><a href='#Gilbert'><p>Data from the trial of serial killer Kristen Gilbert</p></a></li>
<li><a href='#Go_vote'><p>Get out the vote experiment</p></a></li>
<li><a href='#Hill_racing'><p>Winning times in Scottish Hill races, 2005-2017</p></a></li>
<li><a href='#McClave_Sincich'><p>Data from McClave-Sincich <em>Statistics</em> 11/e</p></a></li>
<li><a href='#McCredie_Kurtz'><p>&quot;Big Five&quot; personality ratings for college first-year students</p></a></li>
<li><a href='#model_eval'><p>Evaluate a model on inputs</p></a></li>
<li><a href='#model_eval_fun'><p>Helper functions to evaluate models</p></a></li>
<li><a href='#model_family'><p>Check model type against model specification and data</p></a></li>
<li><a href='#model_plot'><p>Graph a model function</p></a></li>
<li><a href='#model_skeleton'><p>Convert a model to a skeleton</p></a></li>
<li><a href='#model_train'><p>train a model, easily</p></a></li>
<li><a href='#model_values'><p>Construct a model and return the model values</p></a></li>
<li><a href='#Monocacy_river'><p>Data on run-off from the Monocacy river at Jug Bridge, Maryland.</p></a></li>
<li><a href='#mosaic_cull_for_do'><p>Cull objects used with do()</p></a></li>
<li><a href='#MPG'><p>Fuel economy measurements on US car models</p></a></li>
<li><a href='#Nats'><p>Short, simple data frames for textbook examples</p></a></li>
<li><a href='#ntiles'><p>Create vector based on roughly equally sized groups</p></a></li>
<li><a href='#Offspring'><p>Relative sizes offspring/parent for many species</p></a></li>
<li><a href='#Orings'><p>Space Shuttle O-Ring Failures</p></a></li>
<li><a href='#Penguins'><p>Body measurements on penguins</p></a></li>
<li><a href='#PIDD'><p>Pima Indians Diabetes Database</p></a></li>
<li><a href='#point_plot'><p>One-step data graphics</p></a></li>
<li><a href='#print.datasim'><p>Nice printing of some internal objects</p></a></li>
<li><a href='#print.model_object'><p>A printing method for model objects</p></a></li>
<li><a href='#random_terms'><p>Create columns with random numbers for modeling</p></a></li>
<li><a href='#Registrar'><p>Sample from a college registrar's database</p></a></li>
<li><a href='#Shipping_losses'><p>Shipping losses in 1941 in the Atlantic</p></a></li>
<li><a href='#sim_objects'><p>Simulations for use in <em>Lessons in Statistical Thinking</em></p></a></li>
<li><a href='#split_tilde'><p>Evaluate a tilde expression on a data frame</p></a></li>
<li><a href='#STAR'><p>STAR Project Data</p></a></li>
<li><a href='#take_sample'><p>Samples from various kinds of objects</p></a></li>
<li><a href='#trials'><p>Run the left side of the pipeline multiple times.</p></a></li>
<li><a href='#UCB_applicants'><p>Roster of applicants to six major departments at UC Berkeley</p></a></li>
<li><a href='#US_wildfires'><p>Monthly tallies of wildfires in the US from 2000 to 2022</p></a></li>
<li><a href='#Wheat'><p>Experimental data on the yield of winter wheat</p></a></li>
<li><a href='#zero_one'><p>Zero-one transformation for categorical variable</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Data and Software for "Lessons in Statistical Thinking"</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>"Lessons in Statistical Thinking" D.T. Kaplan (2014) 
    <a href="https://dtkaplan.github.io/Lessons-in-statistical-thinking/">https://dtkaplan.github.io/Lessons-in-statistical-thinking/</a> 
    is a textbook for a first or second course in statistics that embraces 
    data wrangling, causal reasoning, modeling, statistical adjustment, 
    and simulation. 'LSTbook' supports the student-centered, tidy, 
    pipeline-oriented computing style featured in the book.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang, dplyr, ggplot2 (&ge; 3.4.4), broom, glue, stats, MASS,
tibble, stringi</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>igraph, mosaicData, moderndive, palmerpenguins, stringdist,
rmarkdown, knitr, testthat</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dtkaplan/LSTbook">https://github.com/dtkaplan/LSTbook</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dtkaplan/LSTbook/issues">https://github.com/dtkaplan/LSTbook/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-06 13:13:57 UTC; kaplan</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Kaplan [aut, cre],
  Randall Pruim [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Kaplan &lt;dtkaplan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-07 13:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='AAUP'>1984 salaries in various professional fields</h2><span id='topic+AAUP'></span>

<h3>Description</h3>

<p>These data were published in the American Association of University Professsor's journal,
<em>Academe</em>. There were compiled by Marcia Bellas drawing on data from the 1984 Carnegie
survey of faculty, the US National Science Foundation, the National Research Council, and the US Census
Bureau. The motivation for the work was to investigate salary &quot;disparities among faculty whose education
and experience are comparable and whose duties are broadly similar,&quot; in particular those
due to sex. Regretably, the data do not include measures of the production of workers
in the various fields or the numbers of people employed in each field.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(AAUP)
</code></pre>


<h3>Format</h3>

<p>28 rows, each of which is a professional discipline:
</p>

<ul>
<li> <p><code>subject</code> name of the discipline
</p>
</li>
<li> <p><code>ac</code>: average salary (USD) for academics
</p>
</li>
<li> <p><code>nonacsal</code> median salary (USD) for non-academics
</p>
</li>
<li> <p><code>fem</code>: fraction of the workforce that is female
</p>
</li>
<li> <p><code>unemp</code>: unemployment rate in the discipline
</p>
</li>
<li> <p><code>nonac</code>: fraction of the workforce that is non-academic,
</p>
</li>
<li> <p><code>licensed</code>: Does work in the profession require a license (from George Cobb's paper)
</p>
</li></ul>



<h3>Source</h3>

<p>George Cobb (2011) &quot;Teaching statistics: some important tensions&quot; <em>Chilean Journal of Statistics</em> <strong>2</strong>(1):31-62 <a href="https://soche.cl/chjs/volumes/02/01/Cobb(2011).pdf">link</a>
</p>


<h3>References</h3>

<p>M Bellas &amp; BF Reskin (1994) &quot;On comparable worth&quot; <em>Academe</em> <strong>80</strong>:83-85
</p>

<hr>
<h2 id='add_plot_labels'>Convenience function for adding labels to point_plot or others without needing
the ggplot2 + pipe.</h2><span id='topic+add_plot_labels'></span>

<h3>Description</h3>

<p>Convenience function for adding labels to point_plot or others without needing
the ggplot2 + pipe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_plot_labels(P, ..., color = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_plot_labels_+3A_p">P</code></td>
<td>
<p>A ggplot2 object, for instance as made with <code>point_plot()</code> or <code>model_plot()</code></p>
</td></tr>
<tr><td><code id="add_plot_labels_+3A_color">color</code></td>
<td>
<p>Name for color legend (works for <code>point_plot()</code>)</p>
</td></tr>
<tr><td><code id="add_plot_labels_+3A_...">...</code></td>
<td>
<p>Label items (e.g. <code>x = "hello"</code>) as in ggplot2::labs</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot graphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtcars |&gt; point_plot(mpg ~ hp + cyl) |&gt;
  add_plot_labels(x = "The X axis", y = "Vertical", color = "# cylinders")
</code></pre>

<hr>
<h2 id='add_slope_rose'>Add a slope &quot;rose&quot; to a plot.</h2><span id='topic+add_slope_rose'></span><span id='topic+add_violin_ruler'></span>

<h3>Description</h3>

<p>To guide a reader in quantifying the slope of components of an x-y graph, a &quot;slope rose&quot; is helpful.
Several radiating lines are drawn, each marked with a numerical slope. A suitable choice of slopes
is made automatically, based on the x- and y- scale of the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_slope_rose(
  P,
  x = NULL,
  y = NULL,
  scale = 1/4,
  color = "red",
  keepers = c("both", "pos", "neg")
)

add_violin_ruler(
  P,
  x = NULL,
  y = NULL,
  width = 1/10,
  ticks = seq(0, 1, by = 0.1),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_slope_rose_+3A_p">P</code></td>
<td>
<p>a ggplot2 object made by the ggplot2 or ggformula packages</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_x">x</code></td>
<td>
<p>the x-position of the rose. This will be assigned automatically if <code>x</code> isn't specified.</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_y">y</code></td>
<td>
<p>the y-position of the rose, just like <code>x</code>.</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_scale">scale</code></td>
<td>
<p>the size of the rose as a fraction of the plot area covered (default 1/4)</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_color">color</code></td>
<td>
<p>text string (e.g. <code>"blue"</code>) for the rose</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_keepers">keepers</code></td>
<td>
<p>whether to show <code>"both"</code> positive and negative slopes or just show the <code>"pos"</code> or the <code>"neg"</code></p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_width">width</code></td>
<td>
<p>for rulers, the distance between tick marks (in native units, where
categories are separated by a distance of 1.)</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_ticks">ticks</code></td>
<td>
<p>Integers, typically <code>0:5</code>, that label the ticks.</p>
</td></tr>
<tr><td><code id="add_slope_rose_+3A_...">...</code></td>
<td>
<p>additional graphical parameters, e.g. <code>color = "blue"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the ruler, x gives the position of the root of the ruler, with
the rest of the ruler moving off to the left. (For vertically oriented rulers, use
a negative width.)
</p>


<h3>Value</h3>

<p>A ggplot graphics object
</p>


<h3>Note</h3>

<p>Use the pipe operator to send a previously made plot to have a rose added. Don't use the <code>{ggplot2}</code>
<code>+</code> connector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtcars |&gt; point_plot(mpg ~ hp, annot="model") |&gt; add_slope_rose()
mtcars |&gt; point_plot(wt ~ hp) |&gt; add_slope_rose(keepers="pos", color="blue", x=100, scale=.5 )

</code></pre>

<hr>
<h2 id='Anthro_F'>Anthropometric data from college-aged women</h2><span id='topic+Anthro_F'></span>

<h3>Description</h3>

<p>Percentage of body fat, age, weight, height, body mass index and fourteen
circumference measurements are given for 184 college women ages 18-25.
Body fat was accurately determined by an underwater weighing technique
which requires special equipment and training of the individuals
conducting the process. Circumference measurements were made to the
nearest 0.1 cm using a cloth tape in complete contact with the skin
but without compression of the soft tissues. The measurement process,
described somewhat incompletely below, is described in greater detail in
Slack (1997) who used the standards recommended by Lohman, Roche and
Martrell (1988).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Anthro_F)
</code></pre>


<h3>Format</h3>

<p>A data.frame with one row for each of 184 woman
</p>

<ul>
<li><p> Weight (kg)
</p>
</li>
<li><p> Height (m)
</p>
</li>
<li><p> BMI: (Body Mass Index) Weight divided by the square of Height
</p>
</li>
<li><p> Age
</p>
</li>
<li><p> Neck: Minimal circumference perpendicular to the long axis of the neck (cm)
</p>
</li>
<li><p> Chest: Horizontal plane measurement at the sixth rib, at the end of a normal expiration (cm)
</p>
</li>
<li><p> Calf: Horizontal maximal calf measurement (cm)
</p>
</li>
<li><p> Biceps: Measurement with arm extended (cm)
</p>
</li>
<li><p> Hips: Horizontal maximal measurement around buttocks (cm)
</p>
</li>
<li><p> Waist: Horizontal minimal measurement, at the end of a normal expiration (cm)
</p>
</li>
<li><p> Forearm: Maximal measurement perpendicular to long axis (cm)
</p>
</li>
<li><p> PThigh: (Proximal Thigh) Horizontal measurement immediately distal to the gluteal furrow (cm)
</p>
</li>
<li><p> MThigh: (Middle Thigh) Measurement midway between the midpoint of the inguinal crease and the proximal border of the patella (cm)
</p>
</li>
<li><p> DThigh: (Distal Thigh) Measurement proximal to the femoral epicondyles (cm)
</p>
</li>
<li><p> Wrist: Measurement perpendicular to the long axis of the forearm (cm)
</p>
</li>
<li><p> Knee: Measurement at the mid-patellar level, with the knee slightly flexed (cm)
</p>
</li>
<li><p> Elbow: A minimal circumference measurement with the elbow extended (cm)
</p>
</li>
<li><p> Ankle: Minimal circumference measurement perpendicular to the long axis of the calf (cm)
</p>
</li>
<li><p> BFat: Amount of body fat expressed as a percentage of total body weight, using Siri's (1956) method
</p>
</li></ul>



<h3>Source</h3>

<p>Roger W. Johnson (2021) &quot;Fitting Percentage of Body Fat to Simple Body Measurements: College Women&quot;
<em>Journal of Statistics and Data Science Education</em> <strong>29</strong>(3) <a href="https://doi.org/10.1080/26939169.2021.1971585">doi:10.1080/26939169.2021.1971585</a>
</p>

<hr>
<h2 id='Birdkeepers'>Birdkeeping and Lung Cancer</h2><span id='topic+Birdkeepers'></span>

<h3>Description</h3>

<p>A 1972&ndash;1981 health survey in The Hague, Netherlands, discovered an
association between keeping pet birds and increased risk of lung
cancer.  To investigate birdkeeping as a risk factor, researchers
conducted a <em>case&ndash;control</em> study of patients in 1985 at four
hospitals in The Hague (population 450,000).  They identified 49 cases
of lung cancer among the patients who were registered with a general
practice, who were age 65 or younger and who had resided in the city
since 1965.  They also selected 98 controls from a population of
residents having the same general age structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Birdkeepers)
</code></pre>


<h3>Format</h3>

<p>A data frame with 147 observations on the following 7 variables.
</p>

<ul>
<li><p> LC Whether subject has lung cancer
</p>
</li>
<li><p> FM Sex of subject
</p>
</li>
<li><p> SS Socioeconomic status, determined by occupation of the household's principal wage earner
</p>
</li>
<li><p> BK Indicator for birdkeeping (caged birds in the home for more that 6 consecutive months from 5 to 14 years before diagnosis (cases) or examination (control))
</p>
</li>
<li><p> AG Age of subject (in years)
</p>
</li>
<li><p> YR Years of smoking prior to diagnosis or examination
</p>
</li>
<li><p> CD Average rate of smoking (in cigarettes per day)
</p>
</li></ul>



<h3>Details</h3>

<p>This dataset is copied and renamed from the Sleuth3 R package, where it is called case2002.
</p>


<h3>Source</h3>

<p>Ramsey, F.L. and Schafer, D.W. (2013). <em>The Statistical Sleuth: A
Course in Methods of Data Analysis (3rd ed)</em>, Cengage Learning.
</p>


<h3>References</h3>

<p>Holst, P.A., Kromhout, D. and Brand, R. (1988).  &quot;For Debate: Pet Birds
as an Independent Risk Factor for Lung Cancer&quot; <em>British Medical Journal</em> <strong>297</strong>: 13&ndash;21.
</p>

<hr>
<h2 id='Births2022'>Records on births in the US in 2022</h2><span id='topic+Births2022'></span>

<h3>Description</h3>

<p>These data come from the Centers for Disease Controls &quot;public use file&quot; recording
all 3,699,040 (known) births in the US in 2022. <code>Births2022</code> is a random
sample of size 20,000 from the comprehensive file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Births2022
</code></pre>


<h3>Format</h3>

<p>A data frame with 20,000 observations on the following 38 variables. The unit of observation
is a birth.
</p>

<ul>
<li> <p><code>month</code>: 1-12
</p>
</li>
<li> <p><code>dow</code>: Day of week: Sun, Mon, Tues, ...
</p>
</li>
<li> <p><code>place</code>: hospital, home, clinic, etc.
</p>
</li>
<li> <p><code>paternity</code>: is paternity acknowledged. Y, N, and X. X stands for &quot;not applicable&quot;
which is shorthand for the mother is married (consequently the husband is presumed
to be the father).
</p>
</li>
<li> <p><code>meduc</code>: mother's educational level. &lt;8 is 8th grade or less, HSG+ means
high school plus some college but no degree.
</p>
</li>
<li> <p><code>feduc</code>: father's education. Same coding as <code>meduc</code>.
</p>
</li>
<li> <p><code>married</code>: Is the mother married?
</p>
</li>
<li> <p><code>mage</code>: mother's age
</p>
</li>
<li> <p><code>fage</code>: father's age
</p>
</li>
<li> <p><code>total_kids</code>: how many total births to mother including this one.
</p>
</li>
<li> <p><code>interval</code>: months since last birth (if applicable).
</p>
</li>
<li> <p><code>prenatal_start</code>: Which trimester did the mother start prenatal care?
</p>
</li>
<li> <p><code>prenatal_visits</code>: How many total prenatal care visits.
</p>
</li>
<li> <p><code>mheight</code>: Mother's height in inches
</p>
</li>
<li> <p><code>wt_pre</code>: Mother's weight in pounds before pregnancy
</p>
</li>
<li> <p><code>wt_delivery</code>: Mother's weight in pounds at delivery
</p>
</li>
<li> <p><code>diabetes_pre</code>: Did the mother have diabetes before pregnancy
</p>
</li>
<li> <p><code>diabetes_gest</code>: Did the mother develop gestational diabetes
</p>
</li>
<li> <p><code>hbp_pre</code>: Did the mother have high blood pressure before pregancy
</p>
</li>
<li> <p><code>hbp_gest</code>: Did the mother develop high blood pressure during pregnancy
</p>
</li>
<li> <p><code>eclampsia</code>: Did the mother develop eclampsia
</p>
</li>
<li> <p><code>induction</code>: Was labor induced?
</p>
</li>
<li> <p><code>augmentation</code>: Was the uterus stimulated to increase frequency, duration, and
intensity of contractions.
</p>
</li>
<li> <p><code>anesthesia</code>: Was the mother given anesthesia?
</p>
</li>
<li> <p><code>presentation</code>: Baby's presentation at birth (e.g. cephalic or breech)
</p>
</li>
<li> <p><code>method</code>: method of delivery (vaginal or C-section)
</p>
</li>
<li> <p><code>trial_at_labor</code>: For mother's who delivered by C-section, was there an
attempt at labor.
</p>
</li>
<li> <p><code>attendant</code>: MD, DO, midwife, other
</p>
</li>
<li> <p><code>payment</code>: How was the bill paid?
</p>
</li>
<li> <p><code>apgar5</code>, <code>apgar10</code>: APGAR scores (0-10) at five and ten minutes after birth.
</p>
</li>
<li> <p><code>plurality</code>: singletons, twins, triplets, quadruplets (as an integer 1-4)
</p>
</li>
<li> <p><code>sex</code>: Baby's sex
</p>
</li>
<li> <p><code>duration</code>: Duration of gestation, in weeks by &quot;obstretric estimate.&quot;
</p>
</li>
<li> <p><code>menses</code>: Last normal menses month: 1-12 (Jan-Dec)
</p>
</li>
<li> <p><code>weight</code>: Baby's weight (in grams)
</p>
</li>
<li> <p><code>living</code>: Baby living at time of birth report
</p>
</li>
<li> <p><code>breastfed</code>: Baby breastfed at time of discharge
</p>
</li></ul>



<h3>Source</h3>

<p>US Centers for Disease Control &quot;Natality Public Use File&quot;, CDC vital stats online
</p>


<h3>References</h3>

<p>&quot;User Guide to the 2022 Natality Public Use File&quot;
</p>

<hr>
<h2 id='Boston_marathon'>Winning times in the Boston Marathon</h2><span id='topic+Boston_marathon'></span>

<h3>Description</h3>

<p>The Boston marathon is the oldest continuing marathon in the US.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Boston_marathon
</code></pre>


<h3>Format</h3>

<p>A data frame
</p>

<ul>
<li><p> year
</p>
</li>
<li><p> name: the winner's name
</p>
</li>
<li><p> country from which the winner registered
</p>
</li>
<li><p> time: the winning time
</p>
</li>
<li><p> sex: female or male
</p>
</li>
<li><p> minutes: the winning time converted to minutes
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.baa.org/races/boston-marathon/results/champions">Boston Athletic Association</a>
</p>

<hr>
<h2 id='Butterfly'>World records in the 100 &amp; 200 m butterfly swim</h2><span id='topic+Butterfly'></span>

<h3>Description</h3>

<p>World records in the 100 &amp; 200 m butterfly swim
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Butterfly)
</code></pre>


<h3>Format</h3>

<p>A data.frame object with one row for each world record and variables
</p>

<ul>
<li> <p><code>time</code>: the record time in seconds
</p>
</li>
<li> <p><code>swimmer</code> the name of the swimmer
</p>
</li>
<li> <p><code>date</code> a Date object containing the date the record was made
</p>
</li>
<li> <p><code>place</code> string descripting the location
</p>
</li>
<li> <p><code>sex</code>: coded as <code>F</code> and <code>M</code>
</p>
</li>
<li> <p><code>lengths</code>: the total distance was divided into lengths of either 25 or 50 meters. <code>lengths</code> gives the number of such lengths in the total distance.
</p>
</li>
<li> <p><code>dist</code>: the total distance (in meters) of the race
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://en.wikipedia.org/wiki/World_record_progression_100_metres_butterfly">Wikipedia</a>
</p>

<hr>
<h2 id='Calif_precip'>Annual precipitation in California locations</h2><span id='topic+Calif_precip'></span>

<h3>Description</h3>

<p>These data are from an article in the journal <em>Geography</em> that illustrates
precipitation modeling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Calif_precip
</code></pre>


<h3>Format</h3>

<p>A data.frame with 30 rows, each a weather station in California
</p>

<ul>
<li> <p><code>station</code>: the name of the station
</p>
</li>
<li> <p><code>precip</code> average annual precipitation in inches
</p>
</li>
<li> <p><code>altitude</code> in feet
</p>
</li>
<li> <p><code>latitude</code> the station's north-south location (degrees North)
</p>
</li>
<li> <p><code>distance</code>: distance in miles from the coast
</p>
</li>
<li> <p><code>orientation</code>: related to the rain shadow effect of the mountains.
&quot;W&quot; means westward facing (toward the prevailing winds). &quot;L&quot; mean &quot;leeward,&quot; that is,
facing away from the prevailing winds.
</p>
</li></ul>



<h3>Source</h3>

<p>P. J. Taylor (1980)  &quot;A Pedagogic Application of Multiple Regression Analysis: Precipitation in California&quot; <em>Geography</em> <strong>65</strong> (3) 203-212
</p>

<hr>
<h2 id='Callback'>Resume Experiment Data</h2><span id='topic+Callback'></span><span id='topic+Names_and_race'></span>

<h3>Description</h3>

<p>Data from an experimental study in which researchers sent the resumes of fictitious
job applicants to potential employers. The first names of the fictitious applicants was
set randomly to sound either Black or white.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Callback")

Names_and_race
</code></pre>


<h3>Format</h3>

<p>: <code>Callback</code>: A data frame with 4870 rows and 4 variables. Each row is one fictitious applicant
</p>

<ul>
<li><p> name: first name of the fictitious job applicant
</p>
</li>
<li><p> sex: sex of applicant (female or male)
</p>
</li>
<li><p> callback: whether the potential employer called back to follow up. (1 = yes, 0 = no)
Another data frame, <code>Names_and_race</code>: which first names are associated with which race.
</p>
</li></ul>

<p>An object of class <code>grouped_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 36 rows and 2 columns.
</p>


<h3>References</h3>


<ul>
<li><p> Imai, Kosuke. 2017. Quantitative Social Science: An Introduction. Princeton University Press.  <a href="https://press.princeton.edu/books/hardcover/9780691167039/quantitative-social-science">URL</a> from whence
these data were added to this package. In QSS, the data are called <code>resume</code>.
</p>
</li>
<li><p> Marianne Bertrand and Sendhil Mullainathan (2004) “Are Emily and Greg more employable than Lakisha and Jamal? A field experiment on labor market discrimination.” American Economic Review, vol. 94, no. 4, pp. 991–1013. doi: 10.3386/w9873
</p>
</li></ul>


<hr>
<h2 id='categorical'>Helpers for specifying nodes in simulations</h2><span id='topic+categorical'></span><span id='topic+cat2value'></span><span id='topic+bernoulli'></span><span id='topic+mix_with'></span><span id='topic+each'></span><span id='topic+block_by'></span><span id='topic+random_levels'></span>

<h3>Description</h3>

<p>Helpers for specifying nodes in simulations
</p>
<p>Mix two variables together. The output will have the specified R-squared
with var1 and variance one.
</p>
<p>Evaluate an expression separately for each case
</p>


<h3>Usage</h3>

<pre><code class='language-R'>categorical(n = 5, ..., exact = TRUE)

cat2value(variable, ...)

bernoulli(n = 0, logodds = NULL, prob = 0.5, labels = NULL)

mix_with(signal, noise = NULL, R2 = 0.5, var = 1, exact = FALSE)

each(ex)

block_by(block_var, levels = c("treatment", "control"), show_block = FALSE)

random_levels(n, k = NULL, replace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="categorical_+3A_n">n</code></td>
<td>
<p>The symbol standing for the number of rows in the data frame to be generated
by <code>datasim_run()</code>. Just use <code>n</code> as a symbol; don't assign it a value. (That will
be done by <code>datasim_run()</code>.)</p>
</td></tr>
<tr><td><code id="categorical_+3A_exact">exact</code></td>
<td>
<p>if <code>TRUE</code>, make R-squared or the target variance exactly as specified.</p>
</td></tr>
<tr><td><code id="categorical_+3A_variable">variable</code></td>
<td>
<p>a categorical variable</p>
</td></tr>
<tr><td><code id="categorical_+3A_logodds">logodds</code></td>
<td>
<p>Numerical vector used to generate bernouilli trials. Can be any real number.</p>
</td></tr>
<tr><td><code id="categorical_+3A_prob">prob</code></td>
<td>
<p>An alternative to <code>logodds</code>. Values must be in <code style="white-space: pre;">&#8288;[0,1]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="categorical_+3A_labels">labels</code></td>
<td>
<p>Character vector: names for categorical levels, also used to
replace 0 and 1 in bernouilli()</p>
</td></tr>
<tr><td><code id="categorical_+3A_signal">signal</code></td>
<td>
<p>The part of the mixture that will be correlated with
the output.</p>
</td></tr>
<tr><td><code id="categorical_+3A_noise">noise</code></td>
<td>
<p>The rest of the mixture. This will be <strong>uncorrelated</strong>
with the output only if you specify it as pure noise.</p>
</td></tr>
<tr><td><code id="categorical_+3A_r2">R2</code></td>
<td>
<p>The target R-squared.</p>
</td></tr>
<tr><td><code id="categorical_+3A_var">var</code></td>
<td>
<p>The target variance.</p>
</td></tr>
<tr><td><code id="categorical_+3A_ex">ex</code></td>
<td>
<p>an expression potentially involving other variables.</p>
</td></tr>
<tr><td><code id="categorical_+3A_block_var">block_var</code></td>
<td>
<p>Which variable to use for blocking</p>
</td></tr>
<tr><td><code id="categorical_+3A_levels">levels</code></td>
<td>
<p>Character vector giving names to the blocking levels</p>
</td></tr>
<tr><td><code id="categorical_+3A_show_block">show_block</code></td>
<td>
<p>Logical. If <code>TRUE</code>, put the block number in the output.</p>
</td></tr>
<tr><td><code id="categorical_+3A_k">k</code></td>
<td>
<p>Number of distinct levels</p>
</td></tr>
<tr><td><code id="categorical_+3A_replace">replace</code></td>
<td>
<p>if <code>TRUE</code>, use resampling on the set of k levels</p>
</td></tr>
<tr><td><code id="categorical_+3A_...">...</code></td>
<td>
<p>assignments of values to the names in <code>variable</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>datasim_make()</code> constructs a simulation
which can then be run with <code>datasim_run()</code>. Each argument to
<code>datasim_make()</code> specifies one node of the simulation using an
assignment-like syntax such as <code>y &lt;- 3*x + 2 + rnorm(n)</code>. The datasim
helpers documented here are for use on the right-hand side of the specification
of a node. They simplify potentially complex operations such as blocking, creation
of random categorical methods, translation from categorical to numerical values, etc.
</p>
<p>The target R-squared and variance will be achieved only
if <code>exact=TRUE</code> or the sample size goes to infinity.
</p>


<h3>Value</h3>

<p>A numerical or categorical vector which will be assembled into
a data frame by <code>datasim_run()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Demo &lt;- datasim_make(
  g &lt;- categorical(n, a=2, b=1, c=0.5),
  x &lt;- cat2value(g, a=-1.7, b=0.1, c=1.2),
  y &lt;- bernoulli(logodds = x, labels=c("no", "yes")),
  z &lt;- random_levels(n, k=4),
  w &lt;- mix_with(x, noise=rnorm(n), R2=0.75, var=1),
  treatment &lt;- block_by(w),
  dice &lt;- each(rnorm(1, sd = abs(w)))
)

</code></pre>

<hr>
<h2 id='College_grades'>Grades at a small college</h2><span id='topic+College_grades'></span>

<h3>Description</h3>

<p>These are the actual grades for 400+ individual students in the courses they took
at a small, liberal-arts college in the midwest US. All the students graduated in 2006.
Each row corresponds to a single student in a single course. The data have been de-identified by translating the student ID, the instructor
ID, and the name of the department. Typically a graduating student has taken about 32 courses.
As another form of de-identification, only half of the courses each student, selected randomly,
are included. Only courses with 10 or more students enrolled were included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(College_grades)
</code></pre>


<h3>Format</h3>

<p>A data frame with 6146 Grades for 443 students.
</p>
<div class="sourceCode"><pre>-grade The letter grade for the student in this course: A is the highest.
- sessionID An identifier for the course taken. Courses
offered multiple times in one semester or across semesters have individual IDs.
-sid The student ID
-dept The department in which the course was offered. 100 is entry-level,
200 sophomore-level, 300 junior-level, 400 senior-level.
-enroll Student enrollment in the course. This includes students who are not
part of this sample.
-iid Instructor ID
-gradepoint A translation of the letter grade into a numerical scale. 4 is high.
Some letter grades are not counted in a student's gradepoint average. These have \code{NA} for
the gradepoint.
</pre></div>


<h3>Source</h3>

<p>The data were helpfully provided by the registrar of the college with the proviso
that the de-identification steps outlined above be performed.
</p>

<hr>
<h2 id='conf_interval'>Summaries of regression models</h2><span id='topic+conf_interval'></span><span id='topic+R2'></span><span id='topic+regression_summary'></span><span id='topic+anova_summary'></span>

<h3>Description</h3>

<p>The summaries are always in the form of a data frame
</p>

<ul>
<li> <p><code>conf_interval()</code> &mdash; displays coefficients and their confidence intervals
</p>
</li>
<li> <p><code>R2()</code> &mdash; R-squared of a model together with related measures such as F, adjusted R-squared,
the p-value, and degrees of freedom used in calculating the p-value.
</p>
</li>
<li> <p><code>regression_summary()</code> &ndash; A regression report in data-frame format.
</p>
</li>
<li> <p><code>anova_summary()</code> &mdash; An ANOVA report in data-frame format. If only one model
is passed as an argument, the data frame will have one line per model term. If multiple models
are given as arguments, the ANOVA report will show the increments from one model
to the next.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>conf_interval(model, level = 0.95, show_p = FALSE)

R2(model)

regression_summary(model)

anova_summary(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conf_interval_+3A_model">model</code></td>
<td>
<p>A model as produced by <code>model_train()</code>, <code>lm()</code>, <code>glm()</code>, and so on</p>
</td></tr>
<tr><td><code id="conf_interval_+3A_level">level</code></td>
<td>
<p>Confidence level to use in <code>conf_interval()</code> (default: 0.95)</p>
</td></tr>
<tr><td><code id="conf_interval_+3A_show_p">show_p</code></td>
<td>
<p>For <code>conf_interval()</code>, append the p-value to the report.</p>
</td></tr>
<tr><td><code id="conf_interval_+3A_...">...</code></td>
<td>
<p>One or more models (for ANOVA)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Many of these are  wrappers around <code>broom::tidy()</code> used to
emphasize to students that the results are a summary in the form of a regression
report, similar to the summaries produced by <code>stats::confint()</code>, <code>stats::coef()</code>, etc.
</p>


<h3>Value</h3>

<p>a data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Model &lt;- CRDS |&gt; model_train(FEV ~ age + smoker)
Model |&gt; conf_interval()
Model |&gt; R2()
Model |&gt; anova_summary()

</code></pre>

<hr>
<h2 id='CRDS'>Smoking and lung function among youths</h2><span id='topic+CRDS'></span>

<h3>Description</h3>

<p>Data from the Childhood Respiratory Disease Study collected
in the late 1970s to examine the
effects of smoking and exposure to second-hand smoke.
on pulmonary functions in youths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(CRDS)
</code></pre>


<h3>Format</h3>

<p>A data.frame with one row for each of 645 youngsters.
</p>

<ul>
<li><p> age in years
</p>
</li>
<li><p> FEV (forced expiratory lung volume) in liters
</p>
</li>
<li><p> height in inches
</p>
</li>
<li><p> sex
</p>
</li>
<li><p> smoker whether or not the youngster smokes
</p>
</li></ul>



<h3>Source</h3>

<p>Cummiskey, et al. (2020) &quot;Causal Inference in Introductory Statistics Courses&quot;
<em>Journal of Statistics Education</em> <strong>28</strong>(1) <a href="https://doi.org/10.1080/10691898.2020.1713936">doi:10.1080/10691898.2020.1713936</a>
</p>

<hr>
<h2 id='dag_draw'>Draw a DAG</h2><span id='topic+dag_draw'></span>

<h3>Description</h3>

<p>Make a simple drawing of a Directed Acyclic Graph as constructed by <code>datasim_make</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_draw(DAG, ..., report_hidden = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_draw_+3A_dag">DAG</code></td>
<td>
<p>The DAG to draw</p>
</td></tr>
<tr><td><code id="dag_draw_+3A_report_hidden">report_hidden</code></td>
<td>
<p>logical. If <code>TRUE</code>, show the hidden nodes.</p>
</td></tr>
<tr><td><code id="dag_draw_+3A_...">...</code></td>
<td>
<p>Additional arguments to plot.igraph()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the igraph package for more details.
</p>
<p>By default, edges are not drawn to hidden nodes, that is, those whose
names begin with a dot. To show the hidden
nodes, use the argument <code>show_hidden=TRUE</code>.
</p>


<h3>Value</h3>

<p>No return value. Called for graphics side-effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dag_draw(sim_03)
</code></pre>

<hr>
<h2 id='datasim_make'>Construct and modify data simulations</h2><span id='topic+datasim_make'></span><span id='topic+datasim_to_igraph'></span><span id='topic+datasim_intervene'></span>

<h3>Description</h3>

<p>Construct and modify data simulations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datasim_make(...)

datasim_to_igraph(sim, report_hidden = FALSE)

datasim_intervene(sim, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="datasim_make_+3A_sim">sim</code></td>
<td>
<p>The data simulation object to be modified.</p>
</td></tr>
<tr><td><code id="datasim_make_+3A_report_hidden">report_hidden</code></td>
<td>
<p>If <code>TRUE</code>, show the hidden nodes (nodes whose names
begin with a dot.)</p>
</td></tr>
<tr><td><code id="datasim_make_+3A_...">...</code></td>
<td>
<p>Descriptions of the nodes in the simulation, written in assignment form. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simulations in <code>LSTbook</code> are first specified by providing the
code for each node (which can be written in terms of the values of other nodes). Once
constructed, data can be extracted from the simulation using <code>datasim_run(n)</code> or the
generic <code>take_sample(n)</code>.
</p>
<p>Each argument defines one node in the simulation. The argument syntax is unusual, using
<em>assignment</em>. For instance, an argument <code>y &lt;- 3*x + rnorm(n)</code> defines a node named <code>y</code>. The R code
on the RHS of the assignment operator (that is, <code>3*x + rnorm(n)</code> in the example) will
be used by <code>datasim_run()</code> to generate the <code>y</code> variable when the simulation is run. Nodes
defined by previous arguments can be used in the code for later arguments.
</p>
<p>Helper functions such as <code>mix_with()</code>, <code>categorical()</code>, and several others can be used within
the node to perform complex operations.
</p>
<p>Remember to use <em>commas</em> to separate the arguments in the normal way.
</p>


<h3>Value</h3>

<p>an object of class &quot;datasim&quot;. Internally, this is a list of the R
assignment expressions used when running the simulation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Simple_sim &lt;- datasim_make(x &lt;- rnorm(n, sd=2), y &lt;- 3*x + rnorm(n))
Simple_sim |&gt; datasim_run(n = 5)
</code></pre>

<hr>
<h2 id='datasim_run'>Run a datasim simulation, producing a data frame</h2><span id='topic+datasim_run'></span>

<h3>Description</h3>

<p>Run a datasim simulation, producing a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datasim_run(sim, n = 5, seed = NULL, report_hidden = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="datasim_run_+3A_sim">sim</code></td>
<td>
<p>A simulation object, as produced by <code>datasim_make()</code>.</p>
</td></tr>
<tr><td><code id="datasim_run_+3A_n">n</code></td>
<td>
<p>The size of the data sample pulled from the simulation.</p>
</td></tr>
<tr><td><code id="datasim_run_+3A_seed">seed</code></td>
<td>
<p>An integer random number seed, for reproducibility. (Or, use <code>set.seed()</code> before
running <code>sim_run()</code>.)</p>
</td></tr>
<tr><td><code id="datasim_run_+3A_report_hidden">report_hidden</code></td>
<td>
<p>logical. If <code>TRUE</code>, show the values of hidden variables (that is, variables whose name
begins with a dot)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with a column for each node in the datasim object.
</p>

<hr>
<h2 id='Econ_outlook_poll'>SIMULATED data from an economic outlook poll</h2><span id='topic+Econ_outlook_poll'></span>

<h3>Description</h3>

<p>SIMULATED data from an economic outlook poll
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Econ_outlook_poll
</code></pre>


<h3>Format</h3>

<p>10,000 rows with three variables: <code>age</code>, <code>income</code>, <code>pessimism</code>
</p>
<p>Data from a simple SIMULATION of people's pessimism about the economic state
based on age group and income group. Nothing about the real world should be
inferred from these data; they are merely to illustrate adjusting for covariates.
</p>


<h3>Source</h3>

<p>The simulation is from &quot;Statistical Modeling: A Fresh Approach&quot; (2/e). Code for
it is in the file <code>system.file("SM2-simulations.R", package="LSTbook")</code>
</p>

<hr>
<h2 id='explanatory_vars'>Utilities</h2><span id='topic+explanatory_vars'></span><span id='topic+response_var'></span><span id='topic+response_values'></span><span id='topic+formula_from_mod'></span><span id='topic+get_training_data'></span>

<h3>Description</h3>

<p>Functions for pulling various components from model objects.
These work mainly for lm and glm objects. It's a future project
to add facilities for other object types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>explanatory_vars(model, ...)

response_var(model, ...)

response_values(model, ...)

formula_from_mod(model, ...)

get_training_data(model, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="explanatory_vars_+3A_model">model</code></td>
<td>
<p>the model in question</p>
</td></tr>
<tr><td><code id="explanatory_vars_+3A_...">...</code></td>
<td>
<p>(not used)</p>
</td></tr>
</table>

<hr>
<h2 id='FARS'>Annual summaries concerning motor-vehicle related fatalities in the US#'</h2><span id='topic+FARS'></span>

<h3>Description</h3>

<p>Annual summaries concerning motor-vehicle related fatalities in the US#'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(FARS)
</code></pre>


<h3>Format</h3>

<p>A data.frame object with one row per year from 1994 to 2016
</p>

<ul>
<li> <p><code>year</code>: The year covered by the summary
</p>
</li>
<li> <p><code>crashes</code> the number of incidents in that year
</p>
</li>
<li> <p><code>drivers</code> the number of drivers killed in those incidents
</p>
</li>
<li> <p><code>passengers</code> the number of passengers killed in those incidents
</p>
</li>
<li> <p><code>unknown</code> vehicle occupants killed whose status as driver or passenger is unknown
</p>
</li>
<li> <p><code>motorcyclists</code> the number of motorcyclists killed in those incidents
</p>
</li>
<li> <p><code>pedestrians</code> the number of pedestrians killed in those incidentss
</p>
</li>
<li> <p><code>pedalcyclists</code> the number of non-motorized cyclist deaths
</p>
</li>
<li> <p><code>other_nonvehicle</code> the number of other deaths in those incidents
</p>
</li>
<li> <p><code>vehicle_miles</code> the number of miles driven by all vehicles, whether they were
involved in an incident or not. (billions of miles)
</p>
</li>
<li> <p><code>population</code> the population of the US (thousands of people)
</p>
</li>
<li> <p><code>registered_vehicles</code> the number of motor vehicles registered in the US (thousands)
</p>
</li>
<li> <p><code>licensed_drivers</code> the number of licenced drivers in the US (thousands)
</p>
</li></ul>



<h3>Source</h3>

<p>From the Fatality Analysis Reporting System
of the US Department of Transportation (DOT). The
data have been put into a tidy form from the untidy version published by the DOT,
removing columns calculated from other columns and so on.
</p>

<hr>
<h2 id='Framingham'>Data from the Framingham heart study</h2><span id='topic+Framingham'></span>

<h3>Description</h3>

<p>When it launched in 1948 the original goal of The Framingham Heart Study (FHS) launched in 1948
with the goal of identifying risk factors for cardiovascular disease. FHS had over 14,000 people from three generations,
including the original participants, their children, and their grandchildren. These data represent
4238 Framingham subjects and were published by Kaggle for a machine-learning competition. The goal of
the competition was to predict <code>TenYearCHD</code> from the other factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Framingham)
</code></pre>


<h3>Format</h3>

<p>4238 rows, each of which is a FHS subject. There are 16 variables:
</p>

<ul>
<li> <p><code>sex</code>
</p>
</li>
<li> <p><code>age</code> of the patient
</p>
</li>
<li> <p><code>education</code> highest level achieved: some HS, HS grad/GED, some college/vocational school, college graduate
</p>
</li>
<li> <p><code>currentSmoker</code>: whether or not the patient is a current smoker
</p>
</li>
<li> <p><code>cigsPerDay</code>: the number of cigarettes that the person smoked on average in one day.
</p>
</li>
<li> <p><code>BPMeds</code>: whether or not the patient was on blood pressure medication
</p>
</li>
<li> <p><code>prevalentStroke</code>: whether or not the patient had previously had a stroke
</p>
</li>
<li> <p><code>prevalentHyp</code>: whether or not the patient was hypertensive
</p>
</li>
<li> <p><code>diabetes</code>: whether or not the patient had diabetes
</p>
</li>
<li> <p><code>totChol</code>: total cholesterol level
</p>
</li>
<li> <p><code>sysBP</code>: systolic blood pressure
</p>
</li>
<li> <p><code>diaBP</code>: diastolic blood pressure
</p>
</li>
<li> <p><code>BMI</code>: Body Mass Index
</p>
</li>
<li> <p><code>heartRate</code>: heart rate
</p>
</li>
<li> <p><code>glucose</code>: glucose level
</p>
</li>
<li> <p><code>TenYearCHD</code>: Did the patient develop congestive heart disease during a 10 year follow-up? (1=Yes)
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.kaggle.com/datasets/dileep070/heart-disease-prediction-using-logistic-regression">Kaggle</a> and <a href="https://github.com/GauravPadawe/Framingham-Heart-Study">Github repository</a>
</p>


<h3>References</h3>

<p>Description of <a href="https://www.nhlbi.nih.gov/science/framingham-heart-study-fhs">FHS by the National Heart, Lung, and Blood Institute</a>
</p>

<hr>
<h2 id='Germany1933vote'>Voting patterns in the 1933 German national election</h2><span id='topic+Germany1933vote'></span>

<h3>Description</h3>

<p>1933 was the year that Hitler and the Nazi party came to power. The initial basis for this
was a national election in which the Nazis secured a substantial fraction of the vote. (Immediately
after the election, the Nazis burned the Reichtag (the German parliament) and started repressing their political
opposition though a campaign of imprisonment and murder.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Germany1933vote")
</code></pre>


<h3>Format</h3>

<p>A data frame with 681 rows and 7 variables. Each row is a German precinct.
</p>

<ul>
<li><p> self: share of potential voters who are self-employed
</p>
</li>
<li><p> blue: share of potential voters who are blue-collar workers
</p>
</li>
<li><p> white: share of potential voters who are white-collar workers
</p>
</li>
<li><p> domestic: share of potential voters who are employed domestically
</p>
</li>
<li><p> unemployed: share of potential voters who are un-employed
</p>
</li>
<li><p> nvoter: number of eligible voters (not clear if this include people who didn't vote)
</p>
</li>
<li><p> nazivote: number of votes for the Nazis
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p> Imai, Kosuke. 2017. Quantitative Social Science: An Introduction. Princeton University Press. <a href="https://press.princeton.edu/books/hardcover/9780691167039/quantitative-social-science">URL</a> from whence
these data were added to this package. In QSS, the data are called <code>nazis</code>.
</p>
</li>
<li><p> G. King, O. Rosen, M. Tanner, A.F. Wagner (2008) “Ordinary economic
voting behavior in the extraordinary election of Adolf Hitler.”
Journal of Economic History, vol. 68, pp. 951–996.#'
</p>
</li></ul>


<hr>
<h2 id='Gilbert'>Data from the trial of serial killer Kristen Gilbert</h2><span id='topic+Gilbert'></span>

<h3>Description</h3>

<p>Intensive care unit nurse <a href="https://en.wikipedia.org/wiki/Kristen_Gilbert">Kristen Gilbert</a> worked
for several years in the 1990s at a Veterans Administration Hospital.
Her co-workers became suspicious. The co-workers observed that unexpected
patient deaths occurred more frequently on her shifts than on other shifts.
They also noticed a shortage of supplies
of the cardiac stimulant epinephrine, which can be fatal
when administered in large enough doses through an IV drip. The hospital
investigators went through all the shifts during the years Gilbert
worked at the hospital, noting whether Gilbert was on duty during
that shift and whether there was a death during the shift.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Gilbert)
</code></pre>


<h3>Format</h3>

<p>A data frame with one row for each shift at the VA hospital.
</p>

<ul>
<li> <p><code>death</code> Whether a patient death occurred during the shift.
</p>
</li>
<li> <p><code>gilbert</code> Whether nurse Kristen Gilbert was on duty during the shift.
</p>
</li>
<li> <p><code>time</code>: the winning time in seconds
</p>
</li>
<li> <p><code>race</code> the name of the race. Many races are repeated over successive years.
</p>
</li>
<li> <p><code>year</code> the year the race was run
</p>
</li>
<li> <p><code>name</code> the name of the winning runner
</p>
</li>
<li> <p><code>sex</code>: the runner's sex, coded as <code>F</code> and <code>M</code>
</p>
</li>
<li> <p><code>distance</code>: the total distance of the race in km
</p>
</li>
<li> <p><code>climb</code>: the total vertical climb of the race in meters
</p>
</li></ul>



<h3>Details</h3>

<p>Only tabular summaries of the shift/death information
are public. This data frame was reconstructed from those summaries.
</p>

<hr>
<h2 id='Go_vote'>Get out the vote experiment</h2><span id='topic+Go_vote'></span>

<h3>Description</h3>

<p>An experiment about ways to encourage voting in primary elections. During the 2006
primary election in Michigan, registered voters were randomly assigned to different
treatments, each in the form of a postcard mailed to them before the primary. The most high-pressure
message(&quot;Neighbors&quot;)
listed the voters neighbors and whether they voted in the previous primary elections. The card promised to
send out the same information after the 2006 primary, so that &quot;you and your neighbors will all know who voted
and who did not.&quot; (From the Gerber et al. reference, below.) In another treatment, &quot;Civic Duty,&quot; the postcard said, &quot;On August 8,
remember your rights and responsibilities as a citizen. Remember to vote. DO YOUR CIVIC DUTY&mdash;VOTE!&quot; Yet another
treatment, &quot;Hawthorne&quot; simply told the voter that &quot;YOU ARE BEING STUDIED!&quot; as part of research on why people do or do not vote. There
was also a control group that did not receive a postcard.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Go_vote)
</code></pre>


<h3>Format</h3>

<p>A data frame with 305866 rows and 6 variables:
</p>

<ul>
<li><p> sex of the voter (female or male)
</p>
</li>
<li><p> yearofbirth: year of birth of the voter
</p>
</li>
<li><p> primary2004: whether the voter voted in the 2004 primary election (voted, abstained)
</p>
</li>
<li><p> messages: Get-out-the-vote message the voter received (Civic Duty, Control, Neighbors, Hawthorne)
</p>
</li>
<li><p> primary2006: whether the voter turned out in the 2006 primary election (voted, abstained)
</p>
</li>
<li><p> hhsize: household size of the voter
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p> Imai, Kosuke. 2017. Quantitative Social Science: An Introduction. Princeton University Press. URL.
</p>
</li>
<li><p> Alan S. Gerber, Donald P. Green, and Christopher W. Larimer (2008) “Social pressure and voter turnout: Evidence from a large-scale field experiment.” American Political Science Review, vol. 102, no. 1, pp. 33–48. doi: 10.1017/S000305540808009X
</p>
</li></ul>


<hr>
<h2 id='Hill_racing'>Winning times in Scottish Hill races, 2005-2017</h2><span id='topic+Hill_racing'></span>

<h3>Description</h3>

<p>Winning times in Scottish Hill races, 2005-2017
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Hill_racing)
</code></pre>


<h3>Format</h3>

<p>A data.frame object with one row for each race winner. Most races have both a
male and female winner.
</p>
<p>&quot;year&quot;     &quot;sex&quot;      &quot;name&quot;     &quot;time&quot;     &quot;race&quot;     &quot;distance&quot; &quot;climb&quot;
</p>

<ul>
<li> <p><code>time</code>: the winning time in seconds
</p>
</li>
<li> <p><code>race</code> the name of the race. Many races are repeated over successive years.
</p>
</li>
<li> <p><code>year</code> the year the race was run
</p>
</li>
<li> <p><code>name</code> the name of the winning runner
</p>
</li>
<li> <p><code>sex</code>: the runner's sex, coded as <code>F</code> and <code>M</code>
</p>
</li>
<li> <p><code>distance</code>: the total distance of the race in km
</p>
</li>
<li> <p><code>climb</code>: the total vertical climb of the race in meters
</p>
</li></ul>



<h3>Source</h3>

<p>The data were scraped from the <a href="https://www.scottishhillracing.co.uk/ResultsSummary.aspx">Scottish Hill Racing site</a>.
</p>

<hr>
<h2 id='McClave_Sincich'>Data from McClave-Sincich <em>Statistics</em> 11/e</h2><span id='topic+McClave_Sincich'></span><span id='topic+Clock_auction'></span><span id='topic+Geography_journals'></span><span id='topic+PGA_index'></span><span id='topic+Dowsing'></span>

<h3>Description</h3>

<p>These are relatively small data frames used for exercises
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Clock_auction

Geography_journals

PGA_index

Dowsing
</code></pre>


<h3>Format</h3>

<p><code>Clock_auction</code>: Prices for grandfather clocks sold in auction
</p>

<ul>
<li><p> Sales price for the clock
</p>
</li>
<li><p> Age of the clock
</p>
</li>
<li><p> Number of bidders for the clock
</p>
</li></ul>

<p><code>Geography_journals</code>: Prices for geography journals, c. 2005
</p>

<ul>
<li> <p><code>journal</code> name of journal
</p>
</li>
<li> <p><code>cost</code> for a one-year subscription
</p>
</li>
<li> <p><code>jif</code> journal impact factor
</p>
</li>
<li> <p><code>cites</code> number of citations of the journal in the past five years
</p>
</li>
<li> <p><code>rpi</code> relative price index
</p>
</li></ul>

<p><code>PGA_index</code>: Driving distance, accuracy, and a derived index from the PGA tour
</p>

<ul>
<li> <p><code>player</code> name of the player
</p>
</li>
<li> <p><code>dist</code> driving distance in yards
</p>
</li>
<li> <p><code>accuracy</code> percent of drives that land in the fairway
</p>
</li>
<li> <p><code>index</code> an index score for ranking players.
</p>
</li></ul>

<p><code>Dowsing</code>: Locations identified by dowsers in an experiment
</p>

<ul>
<li> <p><code>trial</code> just the row number
</p>
</li>
<li> <p><code>subject</code> identifying number assigned to the subject
</p>
</li>
<li> <p><code>pipe</code> location of the flowing-water pipe along a 10-meter line (decimeters)
</p>
</li>
<li> <p><code>guess</code> the dowser's guess of the location of the pipe in that trial (decimeters)
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.statcrunch.com/books/?book=mcclave_mstat12e">StatCrunch</a>
</p>

<hr>
<h2 id='McCredie_Kurtz'>&quot;Big Five&quot; personality ratings for college first-year students</h2><span id='topic+McCredie_Kurtz'></span>

<h3>Description</h3>

<p>Abstract from the research paper: Five-factor personality ratings were provided by undergraduate freshmen,
their parents, and their college peers as predictors of cumulative GPA
upon graduation. Conscientiousness ratings were significant
predictors of GPA by all three raters; peer ratings of
Conscientiousness were the only significant predictor of GPA when
self-, parent-, and peer-ratings of Conscientiousness
were examined simultaneously.
College major was a moderator of this relationship,
with self- and parent-ratings of Conscientiousness correlating
more strongly with GPA among Social Science majors and
parent-ratings of Conscientiousness correlating less
strongly with GPA among Science majors.
These findings replicate existing research regarding the
validity of informant ratings as predictors of behavioral outcomes
such as academic performance, while emphasizing the importance of
including multiple informants from various life contexts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(McCredie_Kurtz)
</code></pre>


<h3>Format</h3>

<p>For simplicity, only the mother's and father's ratings for the student are given.
The variable name indicates whose rating and on what scale, e.g. <code>m_extra</code> is the
mothers rating on the extraversion scale. Other variables are:
</p>

<ul>
<li><p> subjid: Unique ID for the student
</p>
</li>
<li><p> age: The student's age when the ratings were collected
</p>
</li>
<li><p> GPA: The student's eventual 4-year grade-point average
</p>
</li>
<li><p> sex: The student's sex
</p>
</li>
<li><p> field: What field the student ended up studying
</p>
</li></ul>



<h3>Details</h3>

<p>The five personality factors are:
</p>

<ol>
<li><p> extraversion: sociability
</p>
</li>
<li><p> neuroticism: sadness or emotional instability
</p>
</li>
<li><p> openness to experience
</p>
</li>
<li><p> agreeableness: kindness
</p>
</li>
<li><p> conscientiousness: thoughtfulness
</p>
</li></ol>



<h3>Source</h3>

<p>McCredie_Kurtz_Open_Data.sav comes from <a href="https://data.mendeley.com/datasets/rn2bpp6f37/1">https://data.mendeley.com/datasets/rn2bpp6f37/1</a>
</p>


<h3>References</h3>

<p>Morgan N. McCredie and John E. Kurtz (2020) &quot;Prospective prediction of academic performance in college using self- and informant-rated personality traits&quot; <em>Journal of Research in Personality</em> <strong>85</strong>
</p>

<hr>
<h2 id='model_eval'>Evaluate a model on inputs</h2><span id='topic+model_eval'></span>

<h3>Description</h3>

<p>Evaluate a model on inputs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_eval(
  mod,
  data = NULL,
  ...,
  skeleton = FALSE,
  ncont = 3,
  interval = c("prediction", "confidence", "none"),
  level = 0.95,
  type = c("response", "link")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_eval_+3A_mod">mod</code></td>
<td>
<p>A model as from <code>model_train()</code>, <code>lm()</code> or <code>glm()</code></p>
</td></tr>
<tr><td><code id="model_eval_+3A_data">data</code></td>
<td>
<p>A data frame of inputs. If missing, the inputs will be assembled from ... or
from the training data, or an skeleton will be constructed.</p>
</td></tr>
<tr><td><code id="model_eval_+3A_skeleton">skeleton</code></td>
<td>
<p>Logical flag. If <code>TRUE</code>, a skeleton on inputs will be created. See <code><a href="#topic+model_skeleton">model_skeleton()</a></code>.</p>
</td></tr>
<tr><td><code id="model_eval_+3A_ncont">ncont</code></td>
<td>
<p>Only relevant to skeleton. The number of levels at which to evaluate continuous variables. See  <code><a href="#topic+model_skeleton">model_skeleton()</a></code>.</p>
</td></tr>
<tr><td><code id="model_eval_+3A_interval">interval</code></td>
<td>
<p>One of &quot;prediction&quot; (default), &quot;confidence&quot;, or &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="model_eval_+3A_level">level</code></td>
<td>
<p>The level at which to construct the interval (default: 0.95)</p>
</td></tr>
<tr><td><code id="model_eval_+3A_type">type</code></td>
<td>
<p>Either &quot;response&quot; (default) or &quot;link&quot;. Relevant only to glm models. The format of the <code>.output</code></p>
</td></tr>
<tr><td><code id="model_eval_+3A_...">...</code></td>
<td>
<p>Optional vectors specifying the inputs. See examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. There is one row for each row of the input values (see <code>data</code> parameter). The
columns include
</p>

<ul>
<li><p> the explanatory variables
</p>
</li>
<li> <p><code>.output</code> &mdash; the output of the model that corresponds to the explanatory value
</p>
</li>
<li><p> the <code>.lwr</code> and <code>.upr</code> bounds of the prediction or confidence interval
</p>
</li>
<li><p> if training data is used as the input, then it's possible to calculate the residual. This
will be called <code>.resid</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- mtcars |&gt; model_train(mpg ~ hp + wt)
model_eval(mod, hp=100, wt=c(2,3))
model_eval(mod) # training data
model_eval(mod, skeleton=TRUE)

</code></pre>

<hr>
<h2 id='model_eval_fun'>Helper functions to evaluate models</h2><span id='topic+model_eval_fun'></span>

<h3>Description</h3>

<p>Only used internally in <code>{LSTbook}</code>. These were originally arranged as S3
methods, but now the dispatch is done &quot;by hand&quot; in order to eliminate any
exported S3 methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_eval_fun(model, data = NULL, interval = "none", level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_eval_fun_+3A_model">model</code></td>
<td>
<p>A model object of the classes permitted</p>
</td></tr>
<tr><td><code id="model_eval_fun_+3A_data">data</code></td>
<td>
<p>Usually, a data table specifying the inputs to the model. But if
not specified, the training data will be used.</p>
</td></tr>
<tr><td><code id="model_eval_fun_+3A_interval">interval</code></td>
<td>
<p>One of &quot;none&quot;, &quot;confidence&quot;, or &quot;prediction&quot;. Not all model
types support &quot;prediction&quot; or even &quot;confidence&quot;.</p>
</td></tr>
<tr><td><code id="model_eval_fun_+3A_level">level</code></td>
<td>
<p>(default 0.95) confidence or prediction level. Must be in <code style="white-space: pre;">&#8288;[0,1]&#8288;</code></p>
</td></tr>
<tr><td><code id="model_eval_fun_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame
</p>

<hr>
<h2 id='model_family'>Check model type against model specification and data</h2><span id='topic+model_family'></span>

<h3>Description</h3>

<p>This can be used to automatically determine a model type or to determine if the specified
model type is consistent with the specification/data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_family(
  .data,
  .tilde,
  family = c("auto", "lm", "linear", "binomial", "poisson", "svm", "gaussian", "rlm")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_family_+3A_.data">.data</code></td>
<td>
<p>A data frame or equivalent</p>
</td></tr>
<tr><td><code id="model_family_+3A_.tilde">.tilde</code></td>
<td>
<p>A model specification as a tilde expression</p>
</td></tr>
<tr><td><code id="model_family_+3A_family">family</code></td>
<td>
<p>Requested model type, if any.</p>
</td></tr>
</table>

<hr>
<h2 id='model_plot'>Graph a model function</h2><span id='topic+model_plot'></span>

<h3>Description</h3>

<p>Every model has an implicit function whose output is the response variable and which has one
or more explanatory variables. (Exceptionally, there might be no explanatory variables as in
<code>response ~ 1</code>.) One of the explanatory variables can be mapped to the horizontal axis; this can
be either quantitative or categorical. The remaining explanatory variables will be mapped to color,
facet-horizontal, and facet-vertical. For visual clarity, any quantitative
variables among these remaining variables must be coerced
to categorical, corresponding to a discrete set of colors and a discrete set of facets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_plot(
  mod,
  nlevels = 3,
  interval = c("confidence", "prediction", "none"),
  level = 0.95,
  palette = LETTERS[1:8],
  model_ink = 0.7
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_plot_+3A_mod">mod</code></td>
<td>
<p>A model object, made with <code>model_train()</code>, <code>lm()</code>, or <code>glm()</code></p>
</td></tr>
<tr><td><code id="model_plot_+3A_nlevels">nlevels</code></td>
<td>
<p>Integer. When quantitative variables need to be converted to
factors for color or facetting, how many levels in those factors.</p>
</td></tr>
<tr><td><code id="model_plot_+3A_interval">interval</code></td>
<td>
<p>The type of interval to draw (default: confidence)</p>
</td></tr>
<tr><td><code id="model_plot_+3A_level">level</code></td>
<td>
<p>The confidence or prediction level for the interval</p>
</td></tr>
<tr><td><code id="model_plot_+3A_palette">palette</code></td>
<td>
<p>One of &quot;A&quot; through &quot;F&quot; giving some control for people who don't like or can't see the default palette</p>
</td></tr>
<tr><td><code id="model_plot_+3A_model_ink">model_ink</code></td>
<td>
<p>The density of ink used to draw the model. (&quot;alpha&quot; for those in the know.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot graphics object
</p>

<hr>
<h2 id='model_skeleton'>Convert a model to a skeleton</h2><span id='topic+model_skeleton'></span>

<h3>Description</h3>

<p>A &quot;skeleton&quot; is a data frame containing &quot;nicely spaced&quot; values for the explanatory variables
in a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_skeleton(mod, data = NULL, ncont = 3, nfirstcont = 50)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_skeleton_+3A_mod">mod</code></td>
<td>
<p>A fitted model <strong>or</strong> a tilde expression describing a model structure, e.g. <code>outcome ~ vara+varb</code>.</p>
</td></tr>
<tr><td><code id="model_skeleton_+3A_data">data</code></td>
<td>
<p>a data frame. Relevant only when <code>mod</code> is a tilde expression</p>
</td></tr>
<tr><td><code id="model_skeleton_+3A_ncont">ncont</code></td>
<td>
<p>minimum number of levels at which to represent continuous variables. (More levels
may be added to &quot;prettify&quot; the choices. See <code><a href="base.html#topic+pretty">pretty()</a></code>.)</p>
</td></tr>
<tr><td><code id="model_skeleton_+3A_nfirstcont">nfirstcont</code></td>
<td>
<p>Like <code>ncont</code>, but for the first explanatory variable if it is categorical. This variable is mapped
to the horizontal axis and so should have many levels to produce a smooth graph. (Default: 50)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Model &lt;- CRDS |&gt; model_train(FEV ~ sex + age + height)
Model |&gt; model_skeleton()
</code></pre>

<hr>
<h2 id='model_train'>train a model, easily</h2><span id='topic+model_train'></span>

<h3>Description</h3>

<p>An interface to several of the most often used model-fitting routines
designed to make it easy to construct.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_train(
  data,
  tilde,
  family = c("auto", "lm", "linear", "binomial", "poisson", "rlm")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_train_+3A_data">data</code></td>
<td>
<p>Data frame to use as training data</p>
</td></tr>
<tr><td><code id="model_train_+3A_tilde">tilde</code></td>
<td>
<p>Formula for the model</p>
</td></tr>
<tr><td><code id="model_train_+3A_family">family</code></td>
<td>
<p>Character string: the family of model to fit, e.g. &quot;lm&quot;, &quot;binomial&quot;, &quot;poisson&quot;, &quot;rlm&quot;, ...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since data may be piped into this function, the training data
frame will be called simply &quot;data&quot;, the name of the first argument to this
function. In order to be able to access the training data in such cases, the
training data is assigned to an attribute of the resulting model, &quot;training_data&quot;.
</p>


<h3>Value</h3>

<p>An object of class &quot;model_object&quot;. This is much the same as an &quot;lm&quot; or &quot;glm&quot; object
but with the additional attribute of the training data and a printing method that
encourages the use of the regression summary methods <code>conf_interval()</code>, <code>R2()</code>, or <code>anova_summary()</code>
</p>

<hr>
<h2 id='model_values'>Construct a model and return the model values</h2><span id='topic+model_values'></span>

<h3>Description</h3>

<p>One-stop shopping to fit a model and return the model output on the training data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_values(data, tilde, family = c("linear", "prob", "counts"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_values_+3A_data">data</code></td>
<td>
<p>A data frame containing the training data. When used with <code>mutate()</code>, <code>data</code> will
hold the model specification, instead of <code>tilde</code>.</p>
</td></tr>
<tr><td><code id="model_values_+3A_tilde">tilde</code></td>
<td>
<p>A model specification in the form of a tilde expression</p>
</td></tr>
<tr><td><code id="model_values_+3A_family">family</code></td>
<td>
<p>The type of model architecture: <code>"linear"</code>, <code>"prob"</code>, or <code>"counts"</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is intended to be used ONLY WITHIN <code>mutate()</code>
</p>


<h3>Value</h3>

<p>A <strong>vector</strong> (not a data frame) of the model evaluated on the training data.
This is intended mainly for use within <code>mutate()</code>, so that a general model can be used in
the place of simple reduction verbs like <code>mean()</code>, <code>median()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtcars |&gt; mutate(mpg_mod = model_values(mpg ~ hp + wt)) |&gt; select(hp, wt, mpg_mod) |&gt; head()

</code></pre>

<hr>
<h2 id='Monocacy_river'>Data on run-off from the Monocacy river at Jug Bridge, Maryland.</h2><span id='topic+Monocacy_river'></span>

<h3>Description</h3>

<p>When it rains, some of the water is absorbed into the ground or quickly evaporates.
Some of the water runs off (the &quot;runoff&quot;) and is collected by streams and rivers.
These data, from a 1964 reference on water resource management,
were measured after 25 storms in the basin of the Monocacy River at
Jug Bridge, Maryland, US.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Monocacy_river
</code></pre>


<h3>Format</h3>

<p>A data.frame with 25 observations on the following 2 variables'
</p>

<ul>
<li> <p><code>precipitation</code>: amount of rain in inches
</p>
</li>
<li> <p><code>runoff</code> runoff in inches
</p>
</li></ul>



<h3>Details</h3>

<p>YOU WERER HERE, COPYING from the Rd file in man/
</p>


<h3>Source</h3>

<p>&quot;Probability Concepts in Engineering&quot; A H-S Ang and W H Tang, 2007, John Wiley based on
R.K. Linsley and J.B. Franzini (1964) <em>Water Resources Engineering</em> McGraw-Hill, p.68
</p>

<hr>
<h2 id='mosaic_cull_for_do'>Cull objects used with do()</h2><span id='topic+mosaic_cull_for_do'></span>

<h3>Description</h3>

<p>The <code>do()</code> function facilitates easy replication for
randomization tests and bootstrapping (among other things).  Part of what
makes this particularly useful is the ability to cull from the objects
produced those elements that are useful for subsequent analysis.
<code>cull_for_do</code> does this culling.  It is generic, and users
can add new methods to either change behavior or to handle additional
classes of objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mosaic_cull_for_do(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mosaic_cull_for_do_+3A_object">object</code></td>
<td>
<p>an object to be culled</p>
</td></tr>
<tr><td><code id="mosaic_cull_for_do_+3A_...">...</code></td>
<td>
<p>additional arguments (currently ignored)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>do(n) * expression</code> is evaluated, <code>expression</code>
is evaluated <code>n</code> times to produce a list of <code>n</code> result objects.
<code>cull_for_do</code> is then applied to each element of this list to
extract from it the information that should be stored.  For example,
when applied to a object of class <code>"lm"</code>,
the default <code>cull_for_do</code> extracts the coefficients, coefficient
of determinism, an the estimate for the variance, etc.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Clock_auction |&gt; model_train(price ~ resample(bidders)) |&gt;
  R2() |&gt; trials(times=10)
</code></pre>

<hr>
<h2 id='MPG'>Fuel economy measurements on US car models</h2><span id='topic+MPG'></span>

<h3>Description</h3>

<p>Fuel economy measurements on US car models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(MPG)
</code></pre>


<h3>Format</h3>

<p>A data.frame object with one row year for each model or configuration
of automobile or light truck sold in the US.
</p>

<ul>
<li><p> manufacturer: name of company making the vehicle
</p>
</li>
<li><p> division: name of the company division making the vehicle
</p>
</li>
<li><p> model: vehicle model name
</p>
</li>
<li><p> fuel_year: fuel consumed in 10,000 miles (roughly 1 year.)
</p>
</li>
<li><p> CO2_year: Carbon dioxide produced per year, in kilograms. 10,000 miles of driving
is taken to represent a year. Note, Carbon-per-year (without the oxygen) is roughly one-quarter the mass of CO2-per-year.
</p>
</li>
<li><p> hybrid: whether the car is a hybrid
</p>
</li>
<li><p> class: the type of vehicle, e.g. midsize, compact, large, SUV
</p>
</li>
<li><p> vol_passenger: volume for passengers (cubic feet)
</p>
</li>
<li><p> vol_luggage: volume for luggage (cubic feet)
</p>
</li>
<li><p> doors: number of passenger doors
</p>
</li>
<li><p> mpg_city: Estimated fuel consumption in city driving (miles per gallon)
</p>
</li>
<li><p> mpg_hwy: like <code>mpg_city</code> but for highway driving
</p>
</li>
<li><p> mpg_comb: like <code>mpg_city</code> but for a standard combination of city and highway driving
</p>
</li>
<li><p> EPA_fuel_cost: Annual fuel cost using a standard price for gas and a standard miles per year of driving.
</p>
</li>
<li><p> valves_exhaust: how many exhaust valves per cylinder
</p>
</li>
<li><p> valves_intake: how many air intake valves per cylinder
</p>
</li>
<li><p> CO2city: estimate of carbon-dioxide (grams/mile) production per mile in city driving.
</p>
</li>
<li><p> CO2hwy: like <code>CO2city</code> but for highway driving
</p>
</li>
<li><p> CO2combined: like <code>CO2city</code> but for a standard mixture of city and highway driving
</p>
</li>
<li><p> hatchback: is there a hatchback rear door
</p>
</li>
<li><p> start_stop: does the vehicle have a system to stop the engine when idling
</p>
</li>
<li><p> cyl_deact: are cylinders in the engine deactivated when power demand warrants
</p>
</li>
<li><p> fuel: the kind of fuel used.
</p>

<ul>
<li><p> G = regular unleaded gasoline,
</p>
</li>
<li><p> GM = mid-grade recommended,
</p>
</li>
<li><p> GP = premium unleaded recommended,
</p>
</li>
<li><p> GPR = premium unleaded required,
</p>
</li>
<li><p> DU = diesel (ultra low sulfur)
</p>
</li></ul>

</li>
<li><p> drive: type of drive, e.g. front-wheel, 4-wheel, ...
</p>
</li>
<li><p> regen: wheels with regenerative breaking (for hybrids)
</p>
</li>
<li><p> n_gears: number of transmission gears
</p>
</li>
<li><p> n_cyl: number of engine cylinders
</p>
</li>
<li><p> displacement: engine displacement (liters)
</p>
</li>
<li><p> transmission: transmission type
</p>

<ul>
<li><p> A = automatic,
</p>
</li>
<li><p> M = manual,
</p>
</li>
<li><p> AM  = automated manual,
</p>
</li>
<li><p> AM = automated manual (paddles),
</p>
</li>
<li><p> CVT = continuously variable,
</p>
</li>
<li><p> SCV = continuously variable with selection paddles,
</p>
</li>
<li><p> SA = semi-automatic
</p>
</li></ul>

</li>
<li><p> lockup_torque_converter:
</p>
</li>
<li><p> air_aspiration:
</p>
</li>
<li><p> model_year:
</p>
</li></ul>



<h3>Source</h3>

<p>Data from the US Environmental Protection Agency (EPA)
available at <a href="https://www.fueleconomy.gov/feg/download.shtml">https://www.fueleconomy.gov/feg/download.shtml</a>. The file for 2019 model-year
vehicles is <a href="https://www.fueleconomy.gov/feg/epadata/19data.zip">https://www.fueleconomy.gov/feg/epadata/19data.zip</a>
</p>

<hr>
<h2 id='Nats'>Short, simple data frames for textbook examples</h2><span id='topic+Nats'></span><span id='topic+Tiny'></span><span id='topic+Big'></span>

<h3>Description</h3>

<p>These small data frames are for illustration purposes only.
</p>

<ul>
<li> <p><code>Nats</code> made up demographic and economic data, by country and year
</p>
</li>
<li> <p><code>Big</code> a simplified form of the PalmerPenguin data
</p>
</li>
<li> <p><code>Tiny</code> an 8-row subset of <code>Big</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>Nats
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 8 rows and 4 columns.
</p>

<hr>
<h2 id='ntiles'>Create vector based on roughly equally sized groups</h2><span id='topic+ntiles'></span>

<h3>Description</h3>

<p>Create vector based on roughly equally sized groups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ntiles(
  x,
  n = 3,
  format = c("rank", "interval", "mean", "median", "center", "left", "right"),
  digits = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ntiles_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="ntiles_+3A_n">n</code></td>
<td>
<p>(approximate) number of quantiles</p>
</td></tr>
<tr><td><code id="ntiles_+3A_format">format</code></td>
<td>
<p>a specification of desired output format. One of
&quot;center&quot;, &quot;interval&quot;, &quot;left&quot;, &quot;right&quot;, &quot;mean&quot;, or &quot;median.</p>
</td></tr>
<tr><td><code id="ntiles_+3A_digits">digits</code></td>
<td>
<p>desired number of digits for labeling of factors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a functional clone of <code>mosaic::ntiles</code> in order to avoid the dependency. It should be
removed in the future, when there is no need to avoid such dependency, e.g. when <code>{mosaic}</code> is
available on WASM.
</p>


<h3>Value</h3>

<p>a vector.  The type of vector will depend on <code>format</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CRDS |&gt; head(20) |&gt; mutate(group = ntiles(height, 3, format="center"))
CRDS |&gt; head(20) |&gt; mutate(group = ntiles(height, 3, format="interval"))

</code></pre>

<hr>
<h2 id='Offspring'>Relative sizes offspring/parent for many species</h2><span id='topic+Offspring'></span>

<h3>Description</h3>

<p>Body mass of adult of numerous vertebrate species and newly hatched or born offspring.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Offspring")
</code></pre>


<h3>Format</h3>

<p>A data.frame with 3971 rows, each for a different species
</p>

<ul>
<li><p> species
</p>
</li>
<li><p> class (phylogenetic class)
</p>
</li>
<li><p> group (phylogenetic group)
</p>
</li>
<li><p> adult Mass of the adult (female) in grams.
</p>
</li>
<li><p> hatchling Mass of the offspring, in grams. This applies as well to
species where the offspring is born rather than hatched.
</p>
</li></ul>



<h3>Source</h3>

<p>Shai Meiri, &quot;Endothermy, offspring size and evolution of parental provisioning in vertebrates&quot;,
<em>Biological Journal of the Linnean Society</em>, <strong>128</strong>:4, pp. 1052-6 (See Appendix S1.)
</p>

<hr>
<h2 id='Orings'>Space Shuttle O-Ring Failures</h2><span id='topic+Orings'></span>

<h3>Description</h3>

<p>On January 27, 1986, the night before the space shuttle
<em>Challenger</em> exploded, an engineer recommended to the National
Aeronautics and Space Administration (NASA) that the shuttle not be
launched in the cold weather.  The forecasted temperature for the
<em>Challenger</em> launch was 31 degrees Fahrenheit&mdash;the coldest
launch ever.  After an intense 3-hour telephone conference, officials
decided to proceed with the launch.  This data frame contains the
launch temperatures and the number of O-ring problems in 24 shuttle
launches prior to the <em>Challenger</em>. (This documentation comes from the <code>Sleuth3</code> package,
where the dataset is called <code>ex2223</code>.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Orings)
</code></pre>


<h3>Format</h3>

<p>A data frame with 24 observations on the following 2 variables.
</p>

<ul>
<li><p> temp Launch temperatures (in degrees Fahrenheit)
</p>
</li>
<li><p> incidents Numbers of O-ring incidents
</p>
</li></ul>



<h3>Source</h3>

<p>Ramsey, F.L. and Schafer, D.W. (2013). <em>The Statistical Sleuth: A
Course in Methods of Data Analysis (3rd ed)</em>, Cengage Learning.
</p>

<hr>
<h2 id='Penguins'>Body measurements on penguins</h2><span id='topic+Penguins'></span>

<h3>Description</h3>

<p>This is the <code>palmerpenguins::penguins</code> data frame with slightly simplified
variable names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Penguins
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 333 rows and 8 columns.
</p>

<hr>
<h2 id='PIDD'>Pima Indians Diabetes Database</h2><span id='topic+PIDD'></span>

<h3>Description</h3>

<p>&quot;The population for this study was the Pima Indian population near
Phoenix, Arizona. That population has been under continuous
study since 1965 by the National Institute of Diabetes and
Digestive and Kidney Diseases because of its high incidence rate
of diabetes. Each community resident over 5 years of age
was asked to undergo a standardized examination every two years,
which included an oral glucose tolerance test. Diabetes was
diagnosed according to World Health Organization Criteria;
that is, if the 2 hour post-load plasma glucose was at least 200
mg/dl (11.1 mmol/l) at any survey examination or if the Indian
Health Service Hospital serving the community found a glucose
concentration of at least 200 mg/dl during the course of routine
medical care.&quot; &mdash; quoted from the reference below. The data were published by Kaggle for a machine-learning competition whose goal was
to develop a prediction function for diabetes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(PIDD)
</code></pre>


<h3>Format</h3>

<p>768 rows, each of which is a woman 21 years or older. There are 9 variables:
</p>

<ul>
<li> <p><code>age</code> of the woman
</p>
</li>
<li> <p><code>pregnancies</code>: number of previous pregnancies
</p>
</li>
<li> <p><code>glucose</code>: glucose level
</p>
</li>
<li> <p><code>BP</code>: systolic blood pressure
</p>
</li>
<li> <p><code>skin_thickness</code>:
</p>
</li>
<li> <p><code>insulin</code>:
</p>
</li>
<li> <p><code>bmi</code>: Body mass index
</p>
</li>
<li> <p><code>pedigree</code>: &quot;Diabetes Pedigree Function&quot;
</p>
</li>
<li> <p><code>diabetes</code>: Did the patient develop diabetes during a 5-year follow-up?
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.kaggle.com/datasets/uciml/pima-indians-diabetes-database/">Kaggle</a>
</p>


<h3>References</h3>

<p>Smith, J.W., Everhart, J.E., Dickson, W.C., Knowler, W.C., &amp; Johannes, R.S. (1988)
&quot;Using the ADAP learning algorithm to forecast the onset of diabetes mellitus&quot;
<em>Proceedings of the Symposium on Computer Applications and Medical Care</em>
</p>

<hr>
<h2 id='point_plot'>One-step data graphics</h2><span id='topic+point_plot'></span>

<h3>Description</h3>

<p><code>point_plot()</code> makes it easy to construct an informative basic graph of a
data frame. &quot;Making it easy&quot; means that the user only needs to specify
two things: 1) the data frame to be used and 2) a tilde expression with the response variable on the left and up to
three explanatory variables on the right. The response variable is mapped to
the vertical axis while the first explanatory variable defines
the horizontal axis. The second explanatory variable (if any) maps to color,
the third (if any) defines facets. Quantitative variables used for color or faceting
are cut into categorical variables, so color and facets will always be discrete.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>point_plot(
  D,
  tilde,
  ...,
  seed = 101,
  annot = c("none", "violin", "model", "bw"),
  jitter = c("default", "none", "all", "x", "y"),
  interval = c("confidence", "none", "prediction"),
  point_ink = 0.5,
  model_ink = 0.4,
  palette = LETTERS[1:8],
  bw = NULL,
  level = 0.95,
  nx = 50,
  model_family = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="point_plot_+3A_d">D</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="point_plot_+3A_tilde">tilde</code></td>
<td>
<p>tilde expression specifying <code>y ~ x</code> or <code>y ~ x + color</code></p>
</td></tr>
<tr><td><code id="point_plot_+3A_seed">seed</code></td>
<td>
<p>(optional) random seed for jittering</p>
</td></tr>
<tr><td><code id="point_plot_+3A_annot">annot</code></td>
<td>
<p>Statistical annotation (one of &quot;none&quot;, &quot;violin&quot;, &quot;model&quot;, &quot;bw&quot;)</p>
</td></tr>
<tr><td><code id="point_plot_+3A_jitter">jitter</code></td>
<td>
<p>Options for turning on jitter: one of <code>"default"</code>, <code>"both"</code>, <code>"none"</code>, <code>"x"</code>, <code>"y"</code>. By default,
By default, categorical variables are jittered.</p>
</td></tr>
<tr><td><code id="point_plot_+3A_interval">interval</code></td>
<td>
<p>the type of interval: default <code>"confidence"</code>. Others: <code>"none"</code> or <code>"prediction"</code></p>
</td></tr>
<tr><td><code id="point_plot_+3A_point_ink">point_ink</code></td>
<td>
<p>Opacity of ink for the data points</p>
</td></tr>
<tr><td><code id="point_plot_+3A_model_ink">model_ink</code></td>
<td>
<p>Opacity of ink for the model annotation</p>
</td></tr>
<tr><td><code id="point_plot_+3A_palette">palette</code></td>
<td>
<p>Depending on taste and visual capabilities, some people might
prefer to alter the color scheme. There are 8 palettes available: <code>"A"</code> through <code>"H"</code>.</p>
</td></tr>
<tr><td><code id="point_plot_+3A_bw">bw</code></td>
<td>
<p>bandwidth for violin plot</p>
</td></tr>
<tr><td><code id="point_plot_+3A_level">level</code></td>
<td>
<p>confidence level to use (0.95)</p>
</td></tr>
<tr><td><code id="point_plot_+3A_nx">nx</code></td>
<td>
<p>Number of places to evaluate any x-axis quantitative vars. Default 50. Use higher
if graph isn't smooth enough.</p>
</td></tr>
<tr><td><code id="point_plot_+3A_model_family">model_family</code></td>
<td>
<p>Override the default model type. See <code>model_train()</code></p>
</td></tr>
<tr><td><code id="point_plot_+3A_...">...</code></td>
<td>
<p>Graphical options for the data points, labels, e.g. size</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When an x- or y- variables is categorical, jittering is automatically applied.
</p>
<p>Using <code>annot = "model"</code> will annotate the data with the graph of a
model &mdash; shown as confidence intervals/bands &mdash; corresponding to
the tilde expression. <code>annot = "violin"</code> will annotate with a violin plot.
</p>
<p>If you want to use the same explanatory variable for color and faceting
(this might have pedagogical purposes) merely repeat the name of the color variable
in the faceting position, e.g. <code>mpg ~ hp + cyl + cyl</code>.
</p>


<h3>Value</h3>

<p>A ggplot graphics object
</p>


<h3>See Also</h3>

<p><code>add_plot_labels</code> to add labels to the plot (without needing the ggplot2 + pipe)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mosaicData::Galton |&gt; point_plot(height ~ mother + sex + father, annot="model", model_ink=1)
mtcars |&gt; point_plot(mpg ~ wt + cyl)
mtcars |&gt; point_plot(mpg ~ wt + cyl + hp, annot="model")
</code></pre>

<hr>
<h2 id='print.datasim'>Nice printing of some internal objects</h2><span id='topic+print.datasim'></span>

<h3>Description</h3>

<p>Nice printing of some internal objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'datasim'
print(x, ..., report_hidden = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.datasim_+3A_x">x</code></td>
<td>
<p>A data simulation as made by <code>datasim_make()</code></p>
</td></tr>
<tr><td><code id="print.datasim_+3A_report_hidden">report_hidden</code></td>
<td>
<p>Show the hidden nodes (nodes whose name begins with <code>.</code>)</p>
</td></tr>
<tr><td><code id="print.datasim_+3A_...">...</code></td>
<td>
<p>for compatibility with generic <code>print()</code></p>
</td></tr>
</table>

<hr>
<h2 id='print.model_object'>A printing method for model objects</h2><span id='topic+print.model_object'></span>

<h3>Description</h3>

<p>A printing method for model objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'model_object'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.model_object_+3A_x">x</code></td>
<td>
<p>The object to print</p>
</td></tr>
<tr><td><code id="print.model_object_+3A_...">...</code></td>
<td>
<p>Not used, but here for consistency with generic print()</p>
</td></tr>
</table>

<hr>
<h2 id='random_terms'>Create columns with random numbers for modeling</h2><span id='topic+random_terms'></span>

<h3>Description</h3>

<p>For demonstration purposes, add the specified number of
random columns to a model matrix. This is intended to be used
in modeling functions, e.g. <code>model_train()</code>, <code>lm()</code>, and so on
to explore the extent to which random columns &quot;explain&quot; the
response variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random_terms(df = 1, rdist = rnorm, args = list(), n, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="random_terms_+3A_df">df</code></td>
<td>
<p>How many columns to add</p>
</td></tr>
<tr><td><code id="random_terms_+3A_rdist">rdist</code></td>
<td>
<p>Function to generate each column's numbers (default: <code>rnorm</code>)</p>
</td></tr>
<tr><td><code id="random_terms_+3A_args">args</code></td>
<td>
<p>A list holding the parameters (if any) to be used for the <code>rdist</code> argument</p>
</td></tr>
<tr><td><code id="random_terms_+3A_n">n</code></td>
<td>
<p>OPTIONALLY, dictate the number of rows in the output</p>
</td></tr>
<tr><td><code id="random_terms_+3A_seed">seed</code></td>
<td>
<p>Integer seed for the random-number generator</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>random_terms()</code> will try to guess a suitable value for <code>n</code> based on
the calling function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> mtcars |&gt; model_train(mpg ~ wt + random_terms(4)) |&gt; conf_interval()
 mtcars |&gt; model_train(mpg ~ wt + random_terms(4)) |&gt; anova_summary()
 head(mtcars) |&gt; select(wt, mpg) |&gt; mutate(r = random_terms(3))
</code></pre>

<hr>
<h2 id='Registrar'>Sample from a college registrar's database</h2><span id='topic+Registrar'></span><span id='topic+Sessions'></span><span id='topic+Grades'></span><span id='topic+Gradepoint'></span>

<h3>Description</h3>

<p>Grade data from students at a liberal arts college. IDs of students,
professors, and departments have been dis-identified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sessions

Grades

Gradepoint
</code></pre>


<h3>Format</h3>

<p>Three data frames
</p>

<ul>
<li><p> Sessions: ID for a class session, that is, a course in a semester
</p>

<ul>
<li><p> sessionID: Unique identifier for the session
</p>
</li>
<li><p> iid: Unique identifier for the instructor
</p>
</li>
<li><p> enroll: Total enrollment in the session (note: includes students who didn't make it into the sample in <code>Grades</code>)
</p>
</li>
<li><p> dept: Unique identifier for the department
</p>
</li>
<li><p> level: Instruction evel of the course 100, 200, 300, 400. Roughly: first-year, sophomore, junior, senior
</p>
</li>
<li><p> sem: The semester in which the session was held.
</p>
</li></ul>

</li>
<li><p> Grades: A 50% random sample of student-by-student grades in those Sessions
</p>

<ul>
<li><p> sid: Unique identifier or the student.
</p>
</li>
<li><p> grade: Letter grade: A, A-, B+ and so on,
</p>
</li>
<li><p> sessionID: The course session for the grade, as in the Sessions data frame
</p>
</li></ul>

</li>
<li><p> Gradepoint: Letter to numerical conversion (per college policy)
</p>

<ul>
<li><p> grade: Letter grade: A, A-, and so on
</p>
</li>
<li><p> gradepoint: Numerical equivalent
</p>
</li></ul>

</li></ul>

<p>An object of class <code>data.frame</code> with 6124 rows and 3 columns.
</p>
<p>An object of class <code>grouped_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 14 rows and 2 columns.
</p>


<h3>Source</h3>

<p>Used with permission by the college's registrar.
</p>

<hr>
<h2 id='Shipping_losses'>Shipping losses in 1941 in the Atlantic</h2><span id='topic+Shipping_losses'></span>

<h3>Description</h3>

<p>A major theater of action in World War II was the
Atlantic ocean. Germany attempted through submarine and
aerial attacks to sink shipping supplying Britain through
the war. This table summarizes the losses in 1941.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Shipping_losses)
</code></pre>


<h3>Format</h3>

<p>12 rows, one for each month of 1941
</p>

<ul>
<li><p> month
</p>
</li>
<li><p> nships number of ships sunk
</p>
</li>
<li><p> tons gross tonnage of the ships sunk. This includes
both the ship and the cargo.
</p>
</li>
<li><p> country whether the ships were British, or belonged to
Allied or Neutral countries.
</p>
</li></ul>



<h3>Source</h3>

<p>From W.S. Churchill (1952) <em>The Grand Alliance</em> a history of the Second World War. Houghton Mifflin Co. Boston. p. 782
</p>

<hr>
<h2 id='sim_objects'>Simulations for use in <em>Lessons in Statistical Thinking</em></h2><span id='topic+sim_objects'></span><span id='topic+sim_00'></span><span id='topic+sim_01'></span><span id='topic+sim_02'></span><span id='topic+sim_03'></span><span id='topic+sim_04'></span><span id='topic+sim_05'></span><span id='topic+sim_06'></span><span id='topic+sim_07'></span><span id='topic+sim_08'></span><span id='topic+sim_09'></span><span id='topic+sim_10'></span><span id='topic+sim_11'></span><span id='topic+sim_12'></span><span id='topic+sim_flights'></span><span id='topic+sim_medical_observations'></span><span id='topic+sim_prob_21.1'></span><span id='topic+sim_satgpa'></span><span id='topic+sim_school1'></span><span id='topic+sim_school2'></span><span id='topic+sim_vaccine'></span>

<h3>Description</h3>

<p>These <code>datasim</code> objects are provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_00

sim_01

sim_02

sim_03

sim_04

sim_05

sim_06

sim_07

sim_08

sim_09

sim_10

sim_11

sim_12

sim_flights

sim_medical_observations

sim_prob_21.1

sim_satgpa

sim_school1

sim_school2

sim_vaccine
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>
<p>An object of class <code>list</code> (inherits from <code>datasim</code>) of length 2.
</p>


<h3>Details</h3>

<p>They are defined in the sim_library.R file in <code style="white-space: pre;">&#8288;inst/&#8288;</code>
</p>

<hr>
<h2 id='split_tilde'>Evaluate a tilde expression on a data frame</h2><span id='topic+split_tilde'></span>

<h3>Description</h3>

<p>Evaluate a tilde expression on a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_tilde(tilde)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="split_tilde_+3A_tilde">tilde</code></td>
<td>
<p>A two-sided tilde expression used for model specification</p>
</td></tr>
</table>

<hr>
<h2 id='STAR'>STAR Project Data</h2><span id='topic+STAR'></span>

<h3>Description</h3>

<p>Data from the STAR (Student–Teacher Achievement Ratio) Project, a
four-year longitudinal study examining the effect of class size in early grade
levels on educational performance and personal development
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("STAR")
</code></pre>


<h3>Format</h3>

<p>A data frame with 6325 rows and 6 variables:
</p>

<ul>
<li><p> race: black or white
</p>
</li>
<li><p> classtype: kindergarten class type: small, regular, regular with aid
</p>
</li>
<li><p> yearssmall: number of years (0 to 4) in small classes
</p>
</li>
<li><p> hsgrad: high-school graduation (graduated or not). NOTE: There are many NAs
</p>
</li>
<li><p> g4math: total scaled score for the math portion of the fourth-grade standardized test
</p>
</li>
<li><p> g4reading: total scaled score for the reading portion of the fourth-grade standardized test
</p>
</li></ul>



<h3>References</h3>


<ul>
<li><p> Imai, Kosuke. 2017. Quantitative Social Science: An Introduction. Princeton University Press. <a href="https://press.princeton.edu/books/hardcover/9780691167039/quantitative-social-science">URL</a> from whence
these data were added to this package.
</p>
</li>
<li><p> Mosteller, Frederick. 1997. “The Tennessee Study of Class Size in the Early School Grades.” Bulletin of the American Academy of Arts and Sciences 50(7): 14-25. doi = 10.2307/3824562
</p>
</li></ul>


<hr>
<h2 id='take_sample'>Samples from various kinds of objects</h2><span id='topic+take_sample'></span><span id='topic+take_sample.default'></span><span id='topic+resample'></span>

<h3>Description</h3>

<p>A set of methods to generate random samples from data frames and data simulations.
For data frames, individual rows are sampled. For vectors, elements are sampled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>take_sample(x, n, replace = FALSE, ...)

## Default S3 method:
take_sample(
  x,
  n = length(x),
  replace = FALSE,
  prob = NULL,
  .by = NULL,
  groups = .by,
  orig.ids = FALSE,
  ...
)

resample(..., replace = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="take_sample_+3A_x">x</code></td>
<td>
<p>The object from which to sample</p>
</td></tr>
<tr><td><code id="take_sample_+3A_n">n</code></td>
<td>
<p>Size of the sample.</p>
</td></tr>
<tr><td><code id="take_sample_+3A_replace">replace</code></td>
<td>
<p>Logical flag: whether to sample with replacement. (default: <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="take_sample_+3A_prob">prob</code></td>
<td>
<p>Probabilities to use for sampling, one for each element of <code>x</code></p>
</td></tr>
<tr><td><code id="take_sample_+3A_.by">.by</code></td>
<td>
<p>Variables to use to define groups for sampling, as in <code>{dplyr}</code>. The sample size
applies to each group.</p>
</td></tr>
<tr><td><code id="take_sample_+3A_groups">groups</code></td>
<td>
<p>Variable indicating blocks to sample within</p>
</td></tr>
<tr><td><code id="take_sample_+3A_orig.ids">orig.ids</code></td>
<td>
<p>Logical. If <code>TRUE</code>, append a column named &quot;orig.ids&quot; with the
row from the original <code>x</code> that the same came from.</p>
</td></tr>
<tr><td><code id="take_sample_+3A_...">...</code></td>
<td>
<p>Arguments to pass along to specific sample methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These are based in spirit on the sample functions in the <code>{mosaic}</code> package,
but are redefined here to 1) avoid a dependency on <code>{mosaic}</code> and 2) bring the arguments in
line with the <code style="white-space: pre;">&#8288;.by =&#8288;</code> features of <code>{dplyr}</code>.
</p>


<h3>Value</h3>

<p>A vector or a data frame depending on the nature of the <code>x</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>take_sample(sim_03, n=5) # run a simulation
take_sample(Clock_auction, n = 3) # from a data frame
take_sample(1:6, n = 6) # sample from a vector

</code></pre>

<hr>
<h2 id='trials'>Run the left side of the pipeline multiple times.</h2><span id='topic+trials'></span>

<h3>Description</h3>

<p>Write a pipeline to perform some calculation whose result can
be coerced into one line of a data frame. Add <code>trials(times=3)</code> to the end
of the pipeline in order to repeat the calculation multiple times. Typically,
each trial involves some random component, but another (or an additional)
capability is to parameterize the pipeline expression by including some
unbound variable in it, e.g. <code>lambda</code>. Then call <code>trials(lambda=c(10,20))</code> to
repeat the calculation for each of the elements of the named parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trials(.ex, times = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trials_+3A_.ex">.ex</code></td>
<td>
<p>(Not user-facing.) The left side of the pipeline.</p>
</td></tr>
<tr><td><code id="trials_+3A_times">times</code></td>
<td>
<p>The number of times to run the trial.</p>
</td></tr>
<tr><td><code id="trials_+3A_...">...</code></td>
<td>
<p>Values for any unbound parameter in the left side of the pipeline. If a
vector of length &gt; 1, the trials will be run separately for each element of the vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is intended as a pipeline friendly replacement for <code>mosaic::do()</code>.
</p>


<h3>Value</h3>

<p>a dataframe with one row for each trial. (But see the ... argument.)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mean(rnorm(10)) |&gt; trials(times=3)
mean(rnorm(lambda)) |&gt; trials(lambda=c(1, 100, 10000))
mean(rnorm(lambda)) |&gt; trials(times=5, lambda=c(1, 100, 10000))
take_sample(mtcars, n=lambda, replace=TRUE) |&gt; select(mpg, hp) |&gt;
  model_train(mpg ~ resample(hp)) |&gt;
  regression_summary() |&gt; trials(times=3, lambda=c(10, 20, 40)) |&gt;
  filter(term == "resample(hp)")

</code></pre>

<hr>
<h2 id='UCB_applicants'>Roster of applicants to six major departments at UC Berkeley</h2><span id='topic+UCB_applicants'></span>

<h3>Description</h3>

<p>Roster of applicants to six major departments at UC Berkeley
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(UCB_applicants)
</code></pre>


<h3>Format</h3>

<p>A data.frame object with 4236 rows, one for each of the applicants to
graduate school at UC Berkeley for the Fall 1973 quarter.
</p>

<ul>
<li> <p><code>admit</code>: Whether the applicant was admitted.
</p>
</li>
<li> <p><code>gender</code>: male or female
</p>
</li>
<li> <p><code>dept</code>: The graduate department applied to. Rather than identifying the actual
departments involved, the data released by Berkeley used letter codes.
</p>
</li></ul>



<h3>Details</h3>

<p>In 1973, officials at the University of California Berkeley noticed
disturbing trends in graduate admissions rates. The data, with department names redacted,
was presented and interpretted in a famous paper in <em>Science</em>, Bickel et al. 1975. In
that paper, summary tables were presented. <code>UCB_applicants</code> was reverse
engineered from <code>datasets::UCBAdmissions</code> into
a data table where the unit of observation is an individual applicant. The origin of
<code>datasets::UCBAdmissions</code> is not clear; those data are not explicitly provided in Bickel et al.
</p>


<h3>Source</h3>

<p>The <code>UCBApplicants</code> summary table in the <code>datasets</code> R package.
</p>


<h3>References</h3>

<p>Bickel, P. J., Hammel, E. A., and O'Connell, J. W. (1975).
Sex bias in graduate admissions: Data from Berkeley. Science, 187, 398–403.
</p>

<hr>
<h2 id='US_wildfires'>Monthly tallies of wildfires in the US from 2000 to 2022</h2><span id='topic+US_wildfires'></span>

<h3>Description</h3>

<p>Records for each month of wildfires in the US.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(AAUP)
</code></pre>


<h3>Format</h3>

<p>275 rows, each of which is a month
</p>

<ul>
<li> <p><code>date</code> The year and month in a format that can be easily plotted
</p>
</li>
<li> <p><code>area</code>: total area burned by the wildfires in that month (acres)
</p>
</li>
<li> <p><code>number</code>: the number of wildfires in that month
</p>
</li>
<li> <p><code>month</code>: for convenience, the month (Jan, Feb, ..., Dec) as an ordered factor.
</p>
</li></ul>



<h3>Source</h3>

<p>USGS
</p>

<hr>
<h2 id='Wheat'>Experimental data on the yield of winter wheat</h2><span id='topic+Wheat'></span>

<h3>Description</h3>

<p>In the experiment, eight different varieties of winter wheat were planted in each of 7 calendar years (1996-2002).
Each genotype was assigned randomly to a <code>plot</code> within a <code>block</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Wheat")
</code></pre>


<h3>Format</h3>

<p>A data.frame with 240 rows
</p>

<ul>
<li><p> genotype The type of wheat.
</p>
</li>
<li><p> yield of the wheat from this plot
</p>
</li>
<li><p> block Major region of the field
</p>
</li>
<li><p> plot Subdivision of block in which the wheat was planted
</p>
</li>
<li><p> year of the planting and measurement
</p>
</li></ul>



<h3>Source</h3>

<p>Andrea Onofri <a href="https://www.statforbiology.com/2023/stat_lmm_perennialcrops/">&quot;Repeated measures with perennial crops&quot;</a>
</p>

<hr>
<h2 id='zero_one'>Zero-one transformation for categorical variable</h2><span id='topic+zero_one'></span><span id='topic+label_zero_one'></span>

<h3>Description</h3>

<p>A convenience function for handling categorical response variables.
Ordinarily, ggplot2 maps categorical levels to numerical values 1, 2, ....
Such numerical mapping is inappropriate for logistic modeling, where we want the levels to
be on a probability scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zero_one(x, one)

label_zero_one(P)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zero_one_+3A_x">x</code></td>
<td>
<p>a categorical variable</p>
</td></tr>
<tr><td><code id="zero_one_+3A_one">one</code></td>
<td>
<p>character string specifying the level that gets mapped to 1.</p>
</td></tr>
<tr><td><code id="zero_one_+3A_p">P</code></td>
<td>
<p>A ggplot2 object made by <code>model_plot()</code> or <code>point_plot()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numerical vector of 0s and 1s.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Birdkeepers |&gt;
  point_plot(zero_one(LC, one="LungCancer") ~ AG + BK, annot = "model")

Birdkeepers |&gt;
  mutate(Condition = zero_one(LC, one = "LungCancer")) |&gt;
  point_plot(Condition ~ AG + BK, annot = "model") |&gt;
  label_zero_one() |&gt;
  add_plot_labels(x="age", color = "Birdkeeper?")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

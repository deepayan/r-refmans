<!DOCTYPE html><html lang="en"><head><title>Help for package RVenn</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RVenn}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RVenn'><p><code>RVenn</code>: A package for set operations for many sets.</p></a></li>
<li><a href='#discern_pairs'><p>Pairwise difference of many sets.</p></a></li>
<li><a href='#discern+2CVenn-method'><p>Set difference.</p></a></li>
<li><a href='#enrichment_test'><p>Perform an enrichment test.</p></a></li>
<li><a href='#ggvenn+2CVenn-method'><p>Draw the Venn diagram.</p></a></li>
<li><a href='#overlap_pairs'><p>Pairwise intersections of many sets.</p></a></li>
<li><a href='#overlap+2CVenn-method'><p>Intersection of many sets.</p></a></li>
<li><a href='#setmap'><p>Draw a clustered heatmap showing presence/absence of the elements.</p></a></li>
<li><a href='#unite_pairs'><p>Pairwise unions of many sets.</p></a></li>
<li><a href='#unite+2CVenn-method'><p>Union of many sets.</p></a></li>
<li><a href='#Venn-class'><p>An S4 class to represent multiple sets.</p></a></li>
<li><a href='#Venn+2CANY-method'><p>Build a <code>Venn</code> object.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Set Operations for Many Sets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Turgut Yigit Akyol &lt;tyakyol@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Set operations for many sets. The base functions for set operations
    in R can be used for only two sets. This package uses 'purr' to find the
    union, intersection and difference of three or more sets. This package also
    provides functions for pairwise set operations among several sets. Further, 
    based on 'ggplot2' and 'ggforce', a Venn diagram can be drawn for two or 
    three sets. For bigger data sets, a clustered heatmap showing presence/absence 
    of the elements of the sets can be drawn based on the 'pheatmap' package. 
    Finally, enrichment test can be applied to two sets whether an overlap is 
    statistically significant or not.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggforce (&ge; 0.2.1), ggplot2 (&ge; 3.0.0), magrittr (&ge; 1.5),
purrr (&ge; 0.2.5), methods (&ge; 3.5.1), rlang (&ge; 0.2.2), vegan
(&ge; 2.5.2), pheatmap (&ge; 1.0.10)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'Construct.R' 'Plot.R' 'SetOperations.R' 'RVenn.R'
'Enrichment.R' 'Pairs.R' 'Heatmap.R'</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-07-18 20:55:18 UTC; tyakyol</td>
</tr>
<tr>
<td>Author:</td>
<td>Turgut Yigit Akyol [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-07-18 21:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='RVenn'><code>RVenn</code>: A package for set operations for many sets.</h2><span id='topic+RVenn'></span><span id='topic+RVenn-package'></span>

<h3>Description</h3>

<p>Set operations for many sets. The base functions for set operations in R can
be used for only two sets. This package uses 'purr' to find the union,
intersection and difference of three or more sets. This package also provides
functions for pairwise set operations among several sets. Further, based on
'ggplot2' and 'ggforce', a Venn diagram can be drawn for two or three sets.
For bigger data sets, a clustered heatmap showing presence/absence of the
elements of the sets can be drawn based on the 'pheatmap' package. Finally,
enrichment test can be applied to two sets whether an overlap is
statistically significant or not.
</p>

<hr>
<h2 id='discern_pairs'>Pairwise difference of many sets.</h2><span id='topic+discern_pairs'></span><span id='topic+discern_pairs+2CVenn-method'></span>

<h3>Description</h3>

<p><code>discern_pairs</code> returns the pairwise differences of the sets in a
<code>Venn</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
discern_pairs(venn, slice = "all")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="discern_pairs_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="discern_pairs_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of sets of interest. Default
is &quot;all&quot;, meaning the pairwise differences will be calculated for all the
sets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list showing the pairwise differences of the sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12],
                 letters[6:15], letters[9:18]))
discern_pairs(venn)
discern_pairs(venn, slice = 1:3)
</code></pre>

<hr>
<h2 id='discern+2CVenn-method'>Set difference.</h2><span id='topic+discern+2CVenn-method'></span><span id='topic+discern'></span>

<h3>Description</h3>

<p><code>discern</code> returns the difference between two group of sets selected from
a <code>Venn</code> object. If multiple sets are chosen for the slices, union of
those sets will be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
discern(venn, slice1, slice2 = "all")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="discern+2B2CVenn-method_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="discern+2B2CVenn-method_+3A_slice1">slice1</code></td>
<td>
<p>(Required) The name or the index of the set of interest.
Multiple sets can be selected.</p>
</td></tr>
<tr><td><code id="discern+2B2CVenn-method_+3A_slice2">slice2</code></td>
<td>
<p>(Optional) The name or the index of the set of interest.
Multiple sets can be selected. Default is all the sets except the sets of
slice1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector showing the difference between slice1 and slice2.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12], letters[6:15]))
discern(venn, slice1 = 1)
discern(venn, slice1 = c(1, 2), slice2 = 3)
</code></pre>

<hr>
<h2 id='enrichment_test'>Perform an enrichment test.</h2><span id='topic+enrichment_test'></span><span id='topic+enrichment_test+2CVenn-method'></span>

<h3>Description</h3>

<p>Calculate the p-value of occurrence of an overlap between two sets by chance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
enrichment_test(venn, set1, set2, univ = "all",
  n = 10000, seed = 42)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enrichment_test_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="enrichment_test_+3A_set1">set1</code></td>
<td>
<p>(Required) The name or the index of the set of interest.</p>
</td></tr>
<tr><td><code id="enrichment_test_+3A_set2">set2</code></td>
<td>
<p>(Required) The name or the index of the set to be checked whether
enriched in <code>set1</code>.</p>
</td></tr>
<tr><td><code id="enrichment_test_+3A_univ">univ</code></td>
<td>
<p>(Optional) Population size. Default is &quot;all&quot;, implying the union
of all the sets in the <code>Venn</code> object will be used. Another set as the
whole population can be assigned as well.</p>
</td></tr>
<tr><td><code id="enrichment_test_+3A_n">n</code></td>
<td>
<p>(Optional) Number of randomly generated sets. Default is 10,000 and
minimum is 1,000.</p>
</td></tr>
<tr><td><code id="enrichment_test_+3A_seed">seed</code></td>
<td>
<p>(Optional) An integer passed to set.seed function. It is
used to fix a seed for reproducibly random number generation. Default is
42.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This type of analysis can also be performed by hypergeometric test or
Fisher's exact test. Here, the approach is similar to that described in
(<a href="https://onlinelibrary.wiley.com/doi/full/10.1111/tpj.13261">Austin et
al., 2016</a>). Briefly, the test is based on randomly generation of sets with
equal size to <code>set1</code> from the background (universal) set. After creating
n (default is 10,000) random sets, the overlap between these and <code>set2</code>
is calculated to make a null distribution. When this distribution is true,
the probability of seeing an overlap at least as extreme as what was observed
(overlap between <code>set1</code> and <code>set2</code>) will be returned as the
p-value.
</p>


<h3>Value</h3>

<p>Returns a list containing the probability (Significance) of occurrence
of an overlap between two sets by chance and the number of occurrences
(Overlap_Counts) in randomly generated sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set1 = c(1:20, letters[1:10])
set2 = letters[-26]
univ = unique(c(set1, set2, 21:200))
venn = Venn(list(set1, set2, univ))
e = enrichment_test(venn, 1, 2)
e$Significance
</code></pre>

<hr>
<h2 id='ggvenn+2CVenn-method'>Draw the Venn diagram.</h2><span id='topic+ggvenn+2CVenn-method'></span><span id='topic+ggvenn'></span>

<h3>Description</h3>

<p>Draw the Venn diagram for 2 or 3 sets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
ggvenn(venn = "Venn", slice = "all",
  fill = c("gold", "dodgerblue3", "deeppink"), alpha = 0.5,
  thickness = 1.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggvenn+2B2CVenn-method_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="ggvenn+2B2CVenn-method_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of the sets of interest.
Default is &quot;all&quot;, which is for the cases the <code>Venn</code> object only
contains 2 or 3 sets. If you have 4 or more sets, this argument is
required.</p>
</td></tr>
<tr><td><code id="ggvenn+2B2CVenn-method_+3A_fill">fill</code></td>
<td>
<p>(Optional) Fill color of the sets.</p>
</td></tr>
<tr><td><code id="ggvenn+2B2CVenn-method_+3A_alpha">alpha</code></td>
<td>
<p>(Optional) Opacity of the fill colors. Default is 0.5 in the
range of (0, 0.5).</p>
</td></tr>
<tr><td><code id="ggvenn+2B2CVenn-method_+3A_thickness">thickness</code></td>
<td>
<p>(Optional) Stroke size of the sets.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on the packages 'ggplot2' and 'ggforce.' It
has been designed for 2 or 3 sets because Venn diagrams are terrible for
showing the interactions of 4 or more sets. If you need to visualize such
interactions, consider using <code><a href="#topic+setmap">setmap</a></code>.
</p>


<h3>Value</h3>

<p>The function returns the plot in ggplot2 style.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12], letters[6:15]))
ggvenn(venn)
ggvenn(venn, slice = c(1, 2), thickness = 0, alpha = 0.3)
</code></pre>

<hr>
<h2 id='overlap_pairs'>Pairwise intersections of many sets.</h2><span id='topic+overlap_pairs'></span><span id='topic+overlap_pairs+2CVenn-method'></span>

<h3>Description</h3>

<p><code>overlap_pairs</code> returns the pairwise intersections of the sets in a
<code>Venn</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
overlap_pairs(venn, slice = "all")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="overlap_pairs_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="overlap_pairs_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of sets of interest. Default
is &quot;all&quot;, meaning the pairwise intersections will be calculated for all the
sets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list showing the pairwise intersections of the sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12],
                 letters[6:15], letters[9:18]))
overlap_pairs(venn)
overlap_pairs(venn, slice = 1:3)
</code></pre>

<hr>
<h2 id='overlap+2CVenn-method'>Intersection of many sets.</h2><span id='topic+overlap+2CVenn-method'></span><span id='topic+overlap'></span>

<h3>Description</h3>

<p><code>overlap</code> returns the same elements of the sets in a <code>Venn</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
overlap(venn, slice = "all")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="overlap+2B2CVenn-method_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="overlap+2B2CVenn-method_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of sets of interest. Default
is &quot;all&quot;, meaning the intersection will be calculated for all the sets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector showing the intersection of the sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12], letters[6:15]))
overlap(venn)
overlap(venn, slice = c(1, 2))
</code></pre>

<hr>
<h2 id='setmap'>Draw a clustered heatmap showing presence/absence of the elements.</h2><span id='topic+setmap'></span><span id='topic+setmap+2CVenn-method'></span>

<h3>Description</h3>

<p>This function is based on the package 'pheatmap'. <code><a href="#topic+ggvenn">ggvenn</a></code>
function is useful for 2-3 sets, if you need to show interactions between
many sets, you can show the presence/absence of the elements among all the
sets and cluster both the sets and the elements based on Jaccard distances.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
setmap(venn, slice = "all", element_clustering = TRUE,
  set_clustering = TRUE, method = "average", legend = TRUE,
  title = NA, element_fontsize = 10, set_fontsize = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setmap_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="setmap_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of sets of interest. Default
is &quot;all&quot;, meaning the union will be calculated for all the sets.</p>
</td></tr>
<tr><td><code id="setmap_+3A_element_clustering">element_clustering</code></td>
<td>
<p>(Optional) Boolean values determining if elements
should be clustered.</p>
</td></tr>
<tr><td><code id="setmap_+3A_set_clustering">set_clustering</code></td>
<td>
<p>(Optional) Boolean values determining if sets should be
clustered.</p>
</td></tr>
<tr><td><code id="setmap_+3A_method">method</code></td>
<td>
<p>(Optional) Clustering method used. Accepts the same values as
<code><a href="stats.html#topic+hclust">hclust</a></code>.</p>
</td></tr>
<tr><td><code id="setmap_+3A_legend">legend</code></td>
<td>
<p>(Optional) Boolean values determining if the legend should be
drawn.</p>
</td></tr>
<tr><td><code id="setmap_+3A_title">title</code></td>
<td>
<p>(Optional) Title of the heatmap.</p>
</td></tr>
<tr><td><code id="setmap_+3A_element_fontsize">element_fontsize</code></td>
<td>
<p>(Optional) Font size of the elements.</p>
</td></tr>
<tr><td><code id="setmap_+3A_set_fontsize">set_fontsize</code></td>
<td>
<p>(Optional) Font size of the sets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Presence/absence heatmap of the sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12], letters[6:15], letters[9:16],
letters[15:25], letters[12:20]))
setmap(venn)
setmap(venn, slice = 1:4, element_clustering = FALSE, set_clustering = FALSE)
</code></pre>

<hr>
<h2 id='unite_pairs'>Pairwise unions of many sets.</h2><span id='topic+unite_pairs'></span><span id='topic+unite_pairs+2CVenn-method'></span>

<h3>Description</h3>

<p><code>unite_pairs</code> returns the pairwise unions of the sets in a <code>Venn</code>
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
unite_pairs(venn, slice = "all")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unite_pairs_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="unite_pairs_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of sets of interest. Default
is &quot;all&quot;, meaning the pairwise intersections will be calculated for all the
sets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list showing the pairwise unions of the sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12],
                 letters[6:15], letters[9:18]))
unite_pairs(venn)
unite_pairs(venn, slice = 1:3)
</code></pre>

<hr>
<h2 id='unite+2CVenn-method'>Union of many sets.</h2><span id='topic+unite+2CVenn-method'></span><span id='topic+unite'></span>

<h3>Description</h3>

<p><code>unite</code> returns the union of the sets in a <code>Venn</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Venn'
unite(venn, slice = "all")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unite+2B2CVenn-method_+3A_venn">venn</code></td>
<td>
<p>(Required) A <code>Venn</code> object.</p>
</td></tr>
<tr><td><code id="unite+2B2CVenn-method_+3A_slice">slice</code></td>
<td>
<p>(Optional) The names or the indices of sets of interest. Default
is &quot;all&quot;, meaning the union will be calculated for all the sets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector showing the union of the sets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12], letters[6:15]))
unite(venn)
unite(venn, slice = c(1, 2))
</code></pre>

<hr>
<h2 id='Venn-class'>An S4 class to represent multiple sets.</h2><span id='topic+Venn-class'></span>

<h3>Description</h3>

<p>An S4 class to represent multiple sets.
</p>


<h3>Slots</h3>


<dl>
<dt><code>sets</code></dt><dd><p>A <code>list</code> object containing vectors in the same type.</p>
</dd>
<dt><code>names</code></dt><dd><p>The names of the <code>sets</code> if it has names. If the <code>list</code>
doesn't have names, the sets will be named as &quot;Set_1&quot;, &quot;Set_2&quot;, &quot;Set_3&quot; and
so on.</p>
</dd>
</dl>

<hr>
<h2 id='Venn+2CANY-method'>Build a <code>Venn</code> object.</h2><span id='topic+Venn+2CANY-method'></span><span id='topic+Venn'></span>

<h3>Description</h3>

<p><code>Venn</code> builds a <code>Venn</code> object from a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ANY'
Venn(sets)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Venn+2B2CANY-method_+3A_sets">sets</code></td>
<td>
<p>(Required) A list containing vectors in the same class. If a
vector contains duplicates they will be discarded. If the list doesn't have
names the sets will be named as &quot;Set_1&quot;, &quot;Set_2&quot;, &quot;Set_3&quot; and so on.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Venn</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>venn = Venn(list(letters[1:10], letters[3:12], letters[6:15]))
print(venn)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

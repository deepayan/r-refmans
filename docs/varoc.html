<!DOCTYPE html><html><head><title>Help for package varoc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {varoc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#amd'><p>AMD: above mean difference</p></a></li>
<li><a href='#jdp'><p>JDP: jittered ot plot</p></a></li>
<li><a href='#varoc'><p>VAROC: value added receiver operating characteristics (ROC) curve</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Value Added Receiver Operating Characteristics Curve</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-16</td>
</tr>
<tr>
<td>Description:</td>
<td>A continuous version of the receiver operating characteristics (ROC) curve to visualize and assess the classification and continuity performances of biomarkers, diagnostic tests, or risk prediction models.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0), pROC, corrplot, grDevices, graphics, stats,
utils</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-16 14:57:17 UTC; roy</td>
</tr>
<tr>
<td>Author:</td>
<td>Yunro Chung <a href="https://orcid.org/0000-0001-9125-9277"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yunro Chung &lt;yunro.chung@asu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-16 15:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='amd'>AMD: above mean difference</h2><span id='topic+amd'></span>

<h3>Description</h3>

<p>Summary measures to evaluate the continuity performance of biomarkers, diagnostic tests, or risk prediction models.</p>


<h3>Usage</h3>

<pre><code class='language-R'>amd(y,x,fpf=0.3,pval="no",alternative="greater",B=2000,conf.level=0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amd_+3A_y">y</code></td>
<td>
<p>binary output, where y=1 if disease (or case) and y=0 if non-disease (or control).</p>
</td></tr>
<tr><td><code id="amd_+3A_x">x</code></td>
<td>
<p>continuous score, e.g. biomarker, diagnostic test, risk score.</p>
</td></tr>
<tr><td><code id="amd_+3A_fpf">fpf</code></td>
<td>
<p>false positive fraction at which above mean difference is cacluated.</p>
</td></tr>
<tr><td><code id="amd_+3A_pval">pval</code></td>
<td>
<p>&quot;yes&quot; for bootstrap p-value and bootstrap confidence interval.</p>
</td></tr>
<tr><td><code id="amd_+3A_alternative">alternative</code></td>
<td>
<p>alternative hypothesis: &quot;greater&quot;&quot; (default), &quot;less&quot;, &quot;two.sided&quot;.</p>
</td></tr>
<tr><td><code id="amd_+3A_b">B</code></td>
<td>
<p>number of bootstrap samples.</p>
</td></tr>
<tr><td><code id="amd_+3A_conf.level">conf.level</code></td>
<td>
<p>confidence level of bootstrap confidence interval.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The amd function summarizes a continuity performance of x at each cutoff c as: i) above mean difference (AMD) and ii) intergrated AMD (IAMD). For i), AMD(c) is true positive mean(TPM)(c) minus false positive mean(FPM)(c), where TPM(c) is E(x&gt;c|y=1) and FPM(c) is E(x&gt;c|y=0). For ii), IAMD is a global measure of evaluating continuity performance of x over all thresholds.
</p>
<p>These measures can be viewed as continuous versions of ROC curve-based measures. Specifically, TPM(c) and FPM(c) are continuous versions of true positive fraction(TPF)(c) (or sensitivity(c)) and false positive fraction(FPF)(c) (or one minus specificity(c)), where TPF(c)=P(x&gt;c|y=1) and FPF(c)=P(x&gt;c|y=0). The useful (or useless) x has TPF(c)-FPF(c)&gt;0 and AMD(c)&gt;0 (or TPF(c)-FPF(c)=0 and AMD(c)=0). Similiarly, useful (or useless) x has area under the ROC curve(AUC)&gt;0.5 and IAMD(c)&gt;0 (or AUC=0.5 and IAMD(c)=0).
</p>
<p>The bootstrap p-value and confidence interval are computed under the null hypthesis: AMD(c)<code class="reqn">\leq</code>0 or IAMD(c)<code class="reqn">\leq</code>0, when pval=&quot;yes&quot; and alterantive=&quot;greater&quot;.
</p>
<p>The threshold c is determined by setting an acceptable fpf, i.e. FPF(c)=fpf. Thus, i) is interpreted as AMD at a FPF of fpf, ii) is interprted as IAMD (or average AMD) at a FPF range of 0 and 1. The varoc and jdp functions visualize them.
</p>


<h3>Value</h3>

<table>
<tr><td><code>df</code></td>
<td>
<p>data frame with y and x.</p>
</td></tr>
<tr><td><code>fpf</code></td>
<td>
<p>false positive fraction at which above mean difference is cacluated.</p>
</td></tr>
<tr><td><code>res</code></td>
<td>
<p>data frame with tpf, fpf, tpm, fpm, amd, lcl, ucl, zAMD, pvalue at each threshold (th)), where lcl (lower confidence limit), ucl (upper confidence limit), zAMD (test statistics) and pvalue (one-sided p-value) are for amd.</p>
</td></tr>
<tr><td><code>amd</code></td>
<td>
<p>data frame with tpf, fpf,  tpm, fpf, amd, lcl, ucl, zAMD, pvalue at FPF(th)=fpf, where lcl, ucl, zAMD and pvalue are for amd. Here, empierical estimator of FPF is used, and amd$fpf could be different from the fpf value in the augument.</p>
</td></tr>
<tr><td><code>iamd</code></td>
<td>
<p>data frame with auc, itpm, iftm, iamd, lcl, ucl, zIAMD, pvalue, where lcl, ucl, zIAMD and pvalue are for iamd.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yunro Chung [aut, cre]</p>


<h3>References</h3>

<p>Danielle Brister and Yunro Chung, Value added receiver operating characteristics curve (in-progress)</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(3)

n1=50
n0=50

#1. marker 1 (useless biomaker)
y1=c(rep(1,n1),rep(0,n0))
x1=abs(c(rnorm(n1,0,1),rnorm(n0,0,1)))

#1.1.amd
fit1=amd(y=y1,x=x1,fpf=0.3)
print(fit1)

#1.2. varoc
varoc(fit1)

#1.3. jdp
jdp(fit1)

#2. marker 2 (useful biomarker)
y2=y1
x2=abs(c(rnorm(n1,1,1),rnorm(n0,0,1)))

#2.1. amd
fit2=amd(y=y2,x=x2,fpf=0.3)

#2.2. varoc for marker 1 vs marker 2
mzr.min=min(c(fit1$res$amd,fit2$res$amd))
mzr.max=max(c(fit1$res$amd,fit2$res$amd))

varoc(fit1,mzr="zAMD",mzr.min=mzr.min,mzr.max=mzr.max)
varoc(fit2,mzr="zAMD",mzr.min=mzr.min,mzr.max=mzr.max)

#2.3. varoc for marker 1 vs marker 2
min=min(c(x1,x2))
max=max(c(x1,x2))
jdp(fit1,min=min,max=max)
jdp(fit2,min=min,max=max)
</code></pre>

<hr>
<h2 id='jdp'>JDP: jittered ot plot</h2><span id='topic+jdp'></span>

<h3>Description</h3>

<p>Jittered dot plot to visualize classification and continuity performances of biomarkers.</p>


<h3>Usage</h3>

<pre><code class='language-R'>jdp(fit,
min=NULL,max=NULL,eps=0.2,seed=1,
main="JDP",ylab="x",xlab=c("y=0","y=1"),
col=c("blue","red","gray","gray"),
legend="top",lwd=1,lty=3,
cex.main=1,cex.pt=1.5,cex.lab=1,cex.axis=1,cex.legend=1,digits=2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jdp_+3A_fit">fit</code></td>
<td>
<p>fitted results from the amd() function in the varoc R package.</p>
</td></tr>
<tr><td><code id="jdp_+3A_min">min</code></td>
<td>
<p>minimum value of y-axis.</p>
</td></tr>
<tr><td><code id="jdp_+3A_max">max</code></td>
<td>
<p>maximum value of y-axis.</p>
</td></tr>
<tr><td><code id="jdp_+3A_eps">eps</code></td>
<td>
<p>jittered range of x-axis.</p>
</td></tr>
<tr><td><code id="jdp_+3A_seed">seed</code></td>
<td>
<p>seed number for jittering x-axis.</p>
</td></tr>
<tr><td><code id="jdp_+3A_main">main</code></td>
<td>
<p>title for the plot</p>
</td></tr>
<tr><td><code id="jdp_+3A_ylab">ylab</code></td>
<td>
<p>title for the y axis.</p>
</td></tr>
<tr><td><code id="jdp_+3A_xlab">xlab</code></td>
<td>
<p>title for the x axis.</p>
</td></tr>
<tr><td><code id="jdp_+3A_col">col</code></td>
<td>
<p>colors to true positive, false negative, false positive, false negative.</p>
</td></tr>
<tr><td><code id="jdp_+3A_legend">legend</code></td>
<td>
<p>legend location, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot;, &quot;topleft&quot;, &quot;top&quot;, &quot;topright&quot;, &quot;right&quot; and &quot;center&quot;.</p>
</td></tr>
<tr><td><code id="jdp_+3A_lwd">lwd</code></td>
<td>
<p>line width.</p>
</td></tr>
<tr><td><code id="jdp_+3A_lty">lty</code></td>
<td>
<p>line type.</p>
</td></tr>
<tr><td><code id="jdp_+3A_cex.main">cex.main</code></td>
<td>
<p>main size.</p>
</td></tr>
<tr><td><code id="jdp_+3A_cex.pt">cex.pt</code></td>
<td>
<p>point size.</p>
</td></tr>
<tr><td><code id="jdp_+3A_cex.lab">cex.lab</code></td>
<td>
<p>label size.</p>
</td></tr>
<tr><td><code id="jdp_+3A_cex.axis">cex.axis</code></td>
<td>
<p>axis size.</p>
</td></tr>
<tr><td><code id="jdp_+3A_cex.legend">cex.legend</code></td>
<td>
<p>legend size.</p>
</td></tr>
<tr><td><code id="jdp_+3A_digits">digits</code></td>
<td>
<p>number of decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The jdp function plots biomarker (or x) by jittered x-axis (y=0 vs y=1) and visualizes its classification and continuity metrics. The vertical dotted line is the threshold corresponding to FPF=fpf, and the two horizontal lines at y=0 and y=1 are false positive and true positive means, respectively. See the amd function for more details.</p>


<h3>Value</h3>

<p>No return value, called for side effects.</p>


<h3>Author(s)</h3>

<p>Yunro Chung [aut, cre]</p>


<h3>References</h3>

<p>Danielle Brister and Yunro Chung, Value added receiver operating characteristics curve (in-progress)</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)

n1=50
n0=50

#1. marker 1 (useless biomaker)
y1=c(rep(1,n1),rep(0,n0))
x1=abs(c(rnorm(n1,0,1),rnorm(n0,0,1)))

#1.1.amd
fit1=amd(y=y1,x=x1,fpf=0.3)
print(fit1)

#1.2. varoc
varoc(fit1)

#1.3. jdp
jdp(fit1)

#2. marker 2 (useful biomarker)
y2=y1
x2=abs(c(rnorm(n1,1,1),rnorm(n0,0,1)))

#2.1. amd
fit2=amd(y=y2,x=x2,fpf=0.3)

#2.2. varoc for marker 1 vs marker 2
mzr.min=min(c(fit1$res$amd,fit2$res$amd))
mzr.max=max(c(fit1$res$amd,fit2$res$amd))

varoc(fit1,mzr="AMD",mzr.min=mzr.min,mzr.max=mzr.max)
varoc(fit2,mzr="AMD",mzr.min=mzr.min,mzr.max=mzr.max)

#2.3. varoc for marker 1 vs marker 2
min=min(c(x1,x2))
max=max(c(x1,x2))
jdp(fit1,min=min,max=max)
jdp(fit2,min=min,max=max)
</code></pre>

<hr>
<h2 id='varoc'>VAROC: value added receiver operating characteristics (ROC) curve</h2><span id='topic+varoc'></span>

<h3>Description</h3>

<p>ROC curve to visualize classification and continuity performances of biomarkers, diagnostic tests, or risk prediction models.</p>


<h3>Usage</h3>

<pre><code class='language-R'>varoc(fit,
mzr,mzr.min=NULL,mzr.max=NULL,
main="VAROC",ylab="True positive fraction",xlab="False positive fraction",
col=c("#9932cc","#87ceeb","#ffe135","#f56642"),
legend="right",lwd=1,
cex.main=1,cex.axis=1,cex.lab=1,cex.legend=1,digits=2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="varoc_+3A_fit">fit</code></td>
<td>
<p>fitted results from the amd() function in the varoc R package.</p>
</td></tr>
<tr><td><code id="varoc_+3A_mzr">mzr</code></td>
<td>
<p>mzr=&quot;AMD&quot; (or &quot;zAMD&quot;) if VAROC curve adds AMD (or zAMD, i.e. normalized AMD or test statistics). Note that mzr=&quot;zAMD&quot; works only when pval=&quot;yes&quot; was used for the amd() function.</p>
</td></tr>
<tr><td><code id="varoc_+3A_mzr.min">mzr.min</code></td>
<td>
<p>minimum value of AMD (or ZAMD) that is displayed on the plot.</p>
</td></tr>
<tr><td><code id="varoc_+3A_mzr.max">mzr.max</code></td>
<td>
<p>maximum value of AMD (or ZAMD) that is displayed on the plot.</p>
</td></tr>
<tr><td><code id="varoc_+3A_main">main</code></td>
<td>
<p>title for the plot</p>
</td></tr>
<tr><td><code id="varoc_+3A_ylab">ylab</code></td>
<td>
<p>title for the y axis.</p>
</td></tr>
<tr><td><code id="varoc_+3A_xlab">xlab</code></td>
<td>
<p>title for the x axis.</p>
</td></tr>
<tr><td><code id="varoc_+3A_col">col</code></td>
<td>
<p>color that separates AMD on the plot. Default: c(&quot;#9932cc&quot;,&quot;#87ceeb&quot;,&quot;#ffe135&quot;,&quot;#f56642&quot;)</p>
</td></tr>
<tr><td><code id="varoc_+3A_legend">legend</code></td>
<td>
<p>legend location, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot;, &quot;topleft&quot;, &quot;top&quot;, &quot;topright&quot;, &quot;right&quot; and &quot;center&quot;.</p>
</td></tr>
<tr><td><code id="varoc_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="varoc_+3A_cex.main">cex.main</code></td>
<td>
<p>main size.</p>
</td></tr>
<tr><td><code id="varoc_+3A_cex.axis">cex.axis</code></td>
<td>
<p>axis size.</p>
</td></tr>
<tr><td><code id="varoc_+3A_cex.lab">cex.lab</code></td>
<td>
<p>label size.</p>
</td></tr>
<tr><td><code id="varoc_+3A_cex.legend">cex.legend</code></td>
<td>
<p>legend size.</p>
</td></tr>
<tr><td><code id="varoc_+3A_digits">digits</code></td>
<td>
<p>number of decimals.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The varoc function plot true positive fraction(c) (or sensitivity(c)) versus false positive fraction(c) (or one minus specificty(c)) at each threshold c colored by above mean difference(c). See the amd fuction for more details.</p>


<h3>Value</h3>

<p>No return value, called for side effects.</p>


<h3>Author(s)</h3>

<p>Yunro Chung [aut, cre]</p>


<h3>References</h3>

<p>Danielle Brister and Yunro Chung, Value added receiver operating characteristics curve (in-progress)</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)

n1=50
n0=50

#1. marker 1 (useless biomaker)
y1=c(rep(1,n1),rep(0,n0))
x1=abs(c(rnorm(n1,0,1),rnorm(n0,0,1)))

#1.1.amd
fit1=amd(y=y1,x=x1,fpf=0.3)
print(fit1)

#1.2. varoc
varoc(fit1)

#1.3. jdp
jdp(fit1)

#2. marker 2 (useful biomarker)
y2=y1
x2=abs(c(rnorm(n1,1,1),rnorm(n0,0,1)))

#2.1. amd
fit2=amd(y=y2,x=x2,fpf=0.3)

#2.2. varoc for marker 1 vs marker 2
mzr.min=min(c(fit1$res$amd,fit2$res$amd))
mzr.max=max(c(fit1$res$amd,fit2$res$amd))

varoc(fit1,mzr="AMD",mzr.min=mzr.min,mzr.max=mzr.max)
varoc(fit2,mzr="AMD",mzr.min=mzr.min,mzr.max=mzr.max)

#2.3. varoc for marker 1 vs marker 2
min=min(c(x1,x2))
max=max(c(x1,x2))
jdp(fit1,min=min,max=max)
jdp(fit2,min=min,max=max)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

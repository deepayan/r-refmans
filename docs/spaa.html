<!DOCTYPE html><html lang="en"><head><title>Help for package spaa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spaa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#spaa-package'>
<p>SPecies Association Analysis</p></a></li>
<li><a href='#data2mat'>
<p>Convert field records to community matrix</p></a></li>
<li><a href='#datasample'>
<p>A sample dataset for a community</p></a></li>
<li><a href='#deg2dec'>
<p>Degree to decimal</p></a></li>
<li><a href='#dist2list'>
<p>Convert distance matrix to pairwised list</p></a></li>
<li><a href='#freq.calc'>
<p>Compute species' relative frequency</p></a></li>
<li><a href='#geodist'>
<p>Hight precision Great circle distance between two places</p></a></li>
<li><a href='#lab.mat'>
<p>Convert vector of XY labels to label matrix</p></a></li>
<li><a href='#lgeodist'>
<p>Low precision Great circle distance between two places</p></a></li>
<li><a href='#list2dist'>
<p>Convert pairwise list to distance matrix</p></a></li>
<li><a href='#niche.overlap'>
<p>Niche overlap between each pair of species</p></a></li>
<li><a href='#niche.overlap.boot'>
<p>Boostrap niche overlap indices</p></a></li>
<li><a href='#niche.overlap.boot.pair'>
<p>Boostrap the niche overlap indices</p></a></li>
<li><a href='#niche.overlap.pair'>
<p>Compute niche overlap index between two species</p></a></li>
<li><a href='#niche.width'>
<p>Niche width</p></a></li>
<li><a href='#sp.assoc'>
<p>Analyzing species association</p></a></li>
<li><a href='#sp.pair'>
<p>Species association between each pair of species</p></a></li>
<li><a href='#splist'>
<p>A sample dataframe showing species taxonomic information (Deprecated)</p></a></li>
<li><a href='#sub.sp.matrix'>
<p>Subset species based on relative frequency</p></a></li>
<li><a href='#testdata'>
<p>A sample dataset</p>
s</a></li>
<li><a href='#turnover'>
<p>Calculating species turnover</p></a></li>
<li><a href='#XYname'>
<p>Generating vector of XY labels</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>SPecies Association Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-12-23</td>
</tr>
<tr>
<td>Author:</td>
<td>Jinlong Zhang [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jinlong Zhang &lt;jinlongzhang01@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Miscellaneous functions for analysing species association
        and niche overlap.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Suggests:</td>
<td>vegan</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/helixcn/spaa">https://github.com/helixcn/spaa</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-23 07:18:38 UTC; jlzhang</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-08 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='spaa-package'>
SPecies Association Analysis
</h2><span id='topic+spaa-package'></span><span id='topic+spaa'></span>

<h3>Description</h3>

<p>Miscellaneous functions for analysis of species association and niche overlap.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> spaa</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.2.5</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-12-23</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Author: Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>
<p>Maintainer: Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(testdata)
testdata

data(splist)
splist

### data tranformation
(spmatrix &lt;- data2mat(testdata))
#Species association
sp.assoc(spmatrix)

# Species association between each pair of species
(result &lt;- sp.pair(spmatrix))

#### Niche width and niche overlap
data(datasample)
niche.overlap.boot(datasample[,1:3], method = "levins")
niche.overlap(datasample, method = "levins")
niche.width(datasample[,1:3], method = "shannon")

##example turnover()
plotlab1 &lt;- XYname(4,6)
xxx &lt;- 1:240
dim(xxx) &lt;- c(24, 10)
rownames(xxx) &lt;- plotlab1

### Distance between each pair of plots
ddd &lt;- dist(xxx)

### label matrix
labmat1 &lt;- lab.mat(plotlab1)
yyy &lt;- turnover(labmat1, ddd)

## geodist() example
## Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
## Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)

##High precision Great Circle distance
geodist(L1, phi1, L2, phi2)

</code></pre>

<hr>
<h2 id='data2mat'>
Convert field records to community matrix
</h2><span id='topic+data2mat'></span>

<h3>Description</h3>

<p>Convert field records to community matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data2mat(data = data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data2mat_+3A_data">data</code></td>
<td>

<p>A dataframe with the the following columns: <code>species</code>, <code>plots</code> or <code>sites</code>, <code>abundance</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return a community matrix ready for computing diversity indices.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
</code></pre>

<hr>
<h2 id='datasample'>
A sample dataset for a community
</h2><span id='topic+datasample'></span>

<h3>Description</h3>

<p>A sample community matrix containing 8 plots and 14 species, from Gutianshan, Zhejiang, China.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(datasample)</code></pre>


<h3>Details</h3>

<p>Values are the importance value for each species.
</p>


<h3>Source</h3>

<p>Hu Zheng-hua, Qian Hai-Yuan, Yu Ming-jian. 2009. The niche of dominant species populations in Castanopsis eyrei forest in Gutian Mountain National Natural Reserve. Acta Ecologica Sinica. Vol.29, 3670-3677
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(datasample)
datasample
</code></pre>

<hr>
<h2 id='deg2dec'>
Degree to decimal
</h2><span id='topic+deg2dec'></span>

<h3>Description</h3>

<p>Convert latitude or longitude from degree to decimal format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deg2dec(h, m, s)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deg2dec_+3A_h">h</code></td>
<td>

<p>Degree
</p>
</td></tr>
<tr><td><code id="deg2dec_+3A_m">m</code></td>
<td>

<p>Minute
</p>
</td></tr>
<tr><td><code id="deg2dec_+3A_s">s</code></td>
<td>

<p>Second
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert latitude or longitude from degree to decimal format.
</p>


<h3>Value</h3>

<p>Degree of decimal format
</p>


<h3>Note</h3>

<p>Places with eastern hemisphere should have longitude and southern hemisphere less than zero. 
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## deg2dec() example
##Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
##Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)

</code></pre>

<hr>
<h2 id='dist2list'>
Convert distance matrix to pairwised list
</h2><span id='topic+dist2list'></span>

<h3>Description</h3>

<p>Convert distance matrix to pairwised list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dist2list(dist)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dist2list_+3A_dist">dist</code></td>
<td>
<p> distance matrix
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Pairwise list with first column indicates the rows of the original distance matrix, second column indicates the columns indicates the rows of the original distance matrix, and the third indicats the values.
</p>


<h3>Value</h3>

<p>Dataframe with three columns.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Tuomisto, H. (2003). &quot;Dispersal, Environment, and Floristic Variation of Western Amazonian Forests.&quot; Science 299(5604): 241-244.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list2dist">list2dist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##dist2list() example
x &lt;- matrix(rnorm(100), nrow=5)
sampledata &lt;- dist(x)
ddd &lt;- dist2list(sampledata)

</code></pre>

<hr>
<h2 id='freq.calc'>
Compute species' relative frequency
</h2><span id='topic+freq.calc'></span>

<h3>Description</h3>

<p>Computing species' relative frequency as defined by the numbers of plots having a species divided by the total number of plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freq.calc(matr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freq.calc_+3A_matr">matr</code></td>
<td>

<p>A community matrix
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input should be a standard community matrix with rows representing sites and columns representing species.
</p>


<h3>Value</h3>

<p>A vector containing relative frequency for each species
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
freq.calc(spmatrix)
</code></pre>

<hr>
<h2 id='geodist'>
Hight precision Great circle distance between two places
</h2><span id='topic+geodist'></span>

<h3>Description</h3>

<p>Hight precision Great circle distance between two places assuming the earth is elliptic sphere. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geodist(L1, phi1, L2, phi2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geodist_+3A_l1">L1</code></td>
<td>

<p>Longitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="geodist_+3A_phi1">phi1</code></td>
<td>

<p>Latitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="geodist_+3A_l2">L2</code></td>
<td>

<p>Longitude of second place in decimal format.
</p>
</td></tr>
<tr><td><code id="geodist_+3A_phi2">phi2</code></td>
<td>

<p>Latitude of second place in decimal format.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Hight precision great circle distance between two places assuming the earth is elliptic sphere.
</p>


<h3>Value</h3>

<p>Hight precision great circle distance.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Jean Meeus 1991 Astronomical Algorithms Willmann-Bell 80-83
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lgeodist">lgeodist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## geodist() example
## Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
## Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)
##High precision Great Circle distance
geodist(L1, phi1, L2, phi2)

</code></pre>

<hr>
<h2 id='lab.mat'>
Convert vector of XY labels to label matrix
</h2><span id='topic+lab.mat'></span>

<h3>Description</h3>

<p>Convert vector of XY labels to label matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lab.mat(plotlab)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lab.mat_+3A_plotlab">plotlab</code></td>
<td>

<p>Vector of XY labels
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>XY label matrix
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+turnover">turnover</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### lab.mat() example
plotlab1 &lt;- XYname(4,6)
labmat &lt;- lab.mat(plotlab1)

</code></pre>

<hr>
<h2 id='lgeodist'>
Low precision Great circle distance between two places 
</h2><span id='topic+lgeodist'></span>

<h3>Description</h3>

<p>Calculating Great circle distance between two places assuming that the earth is sphere.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lgeodist(L1, phi1, L2, phi2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lgeodist_+3A_l1">L1</code></td>
<td>

<p>Longitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="lgeodist_+3A_phi1">phi1</code></td>
<td>

<p>Latitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="lgeodist_+3A_l2">L2</code></td>
<td>

<p>Longitude of second place in decimal format.
</p>
</td></tr>
<tr><td><code id="lgeodist_+3A_phi2">phi2</code></td>
<td>

<p>Latitude of second place in decimal format.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Low precision great circle distance between two places.
</p>


<h3>Note</h3>

<p>This function assuming that the earth is sphere.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Jean Meeus 1991 Astronomical Algorithms Willmann-Bell 80-81
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geodist">geodist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#lgeodist() example
##Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
##Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)
#Great circle distance
lgeodist(L1, phi1, L2, phi2)

</code></pre>

<hr>
<h2 id='list2dist'>
Convert pairwise list to distance matrix
</h2><span id='topic+list2dist'></span>

<h3>Description</h3>

<p>Convert pairwise list to distance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list2dist(dat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list2dist_+3A_dat">dat</code></td>
<td>

<p>dataframe with three columns
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Dataframe with first column as the column names in the distance matrix, second column as the rownames in the distance matrix, third column the values.
</p>


<h3>Value</h3>

<p>distance matrix
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Tuomisto, H. (2003). &quot;Dispersal, Environment, and Floristic Variation of Western Amazonian Forests.&quot; Science 299(5604): 241-244.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dist2list">dist2list</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##list2dist() example
x &lt;- matrix(rnorm(100), nrow=5)
sampledata &lt;- dist(x)
ddd &lt;- dist2list(sampledata)
list2dist(ddd)

</code></pre>

<hr>
<h2 id='niche.overlap'>
Niche overlap between each pair of species
</h2><span id='topic+niche.overlap'></span>

<h3>Description</h3>

<p>Compute niche overlap between each pair of species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap(mat, method = c("levins", "schoener",
       "petraitis", "pianka", "czech", "morisita"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="niche.overlap_+3A_mat">mat</code></td>
<td>

<p>A community matrix with columns representing species, and rows representing plots.
</p>
</td></tr>
<tr><td><code id="niche.overlap_+3A_method">method</code></td>
<td>

<p>A string specifying the name of the index.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To add.
</p>


<h3>Value</h3>

<p>A distance matrix contains niche overlap index between each pair of species.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>
<p>Nicholas J. Gotelli. 2000. Null model analysis of species co-occurrence patterns. Ecology 81:2606-2621. http://esapubs.org/archive/ecol/E081/022/EcoSim
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap.pair">niche.overlap.pair</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(datasample)
niche.overlap(datasample, method = "levins")

</code></pre>

<hr>
<h2 id='niche.overlap.boot'>
Boostrap niche overlap indices
</h2><span id='topic+niche.overlap.boot'></span>

<h3>Description</h3>

<p>Bootstrap niche overlap indices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap.boot(mat, method = c("pianka", "schoener", "petraitis",
    "czech", "morisita", "levins"), times = 1000, quant = c(0.025, 0.975))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="niche.overlap.boot_+3A_mat">mat</code></td>
<td>

<p>standard community matrix.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot_+3A_method">method</code></td>
<td>

<p>character string specifying the index.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot_+3A_times">times</code></td>
<td>

<p>Interger, representing the number of bootstrap samples to generate.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot_+3A_quant">quant</code></td>
<td>

<p>Quantile of the bootstrap values.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function bootstraps the following niche overlap indices between each pair of species: \
<code>schoener</code>: Schoener's niche overlap index\
<code>petraitis</code>: Petraitis' niche overlap index\
<code>czech</code>: Czechanowski index \
<code>morisita</code>: Morisita's overlap index\
<code>levins</code>: Levin's overlap index\
see more information from Gotelli, N(2009).\
</p>


<h3>Value</h3>

<p>a data frame with each row for each pair of species
the columns are <code>"Observed", "Boot mean", "Boot std", "Boot CI1",  "Boot CI2",  "times"</code> 
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing\
</p>
<p>Nicholas J. Gotelli. 2000. Null model analysis of species co-occurrence patterns. Ecology 81:2606-2621. http://esapubs.org/archive/ecol/E081/022/EcoSim
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap.boot.pair">niche.overlap.boot.pair</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(datasample)
niche.overlap.boot(datasample[,1:4], method = "pianka")
niche.overlap.boot(datasample[,1:4], method = "schoener")
niche.overlap.boot(datasample[,1:4], method = "czech")
niche.overlap.boot(datasample[,1:4], method = "levins")
</code></pre>

<hr>
<h2 id='niche.overlap.boot.pair'>
Boostrap the niche overlap indices
</h2><span id='topic+niche.overlap.boot.pair'></span>

<h3>Description</h3>

<p>bootstrap the niche overlap indices between a pair of species. This is an internal function used by <code>niche.overlap.boot</code>, use <code>niche.overlap.boot</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap.boot.pair(vectorA, vectorB, method = c("levins",
     "schoener", "petraitis", "pianka", "czech", "morisita"),
      times = 1000, quant = c(0.025, 0.975))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="niche.overlap.boot.pair_+3A_vectora">vectorA</code></td>
<td>

<p>A numeric vector containing species A's abundance or importance value.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_vectorb">vectorB</code></td>
<td>

<p>A numeric vector containing species B's abundance or importance value.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_method">method</code></td>
<td>

<p>Name of the index to use.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_times">times</code></td>
<td>

<p>Number of bootstraps
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_quant">quant</code></td>
<td>

<p>Confidence intervals of the bootstrap results.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function will return a vector containing:\
<code>"Observed", \
"Boot mean", \
"Boot std", \
"Boot CI1", \
"Boot CI2", \
"times"</code> \
</p>


<h3>Note</h3>

<p>This is an internal function, please use <code>niche.overlap.boot</code>.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap.boot">niche.overlap.boot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(datasample)
niche.overlap.boot.pair(datasample[,1], datasample[,2], method = "levins")

</code></pre>

<hr>
<h2 id='niche.overlap.pair'>
Compute niche overlap index between two species
</h2><span id='topic+niche.overlap.pair'></span>

<h3>Description</h3>

<p>Compute niche overlap index between two species. This is an internal function, used <code><a href="#topic+niche.overlap">niche.overlap</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap.pair(vectA, vectB, method = c("pianka",
     "schoener","petraitis","czech","morisita", "levins"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="niche.overlap.pair_+3A_vecta">vectA</code></td>
<td>

<p>A numeric vector containing species A's abundance or importance value
</p>
</td></tr>
<tr><td><code id="niche.overlap.pair_+3A_vectb">vectB</code></td>
<td>

<p>A numeric vector containing species B's abundance or importance value
</p>
</td></tr>
<tr><td><code id="niche.overlap.pair_+3A_method">method</code></td>
<td>

<p>Niche overlap index
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>None
</p>


<h3>Value</h3>

<p>The niche overlap index
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>
<p>Nicholas J. Gotelli. 2000. Null model analysis of species co-occurrence patterns. Ecology 81:2606-2621. http://esapubs.org/archive/ecol/E081/022/EcoSim
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap">niche.overlap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(datasample)
niche.overlap.pair(datasample[,1],datasample[,2], method = "levins")

</code></pre>

<hr>
<h2 id='niche.width'>
Niche width
</h2><span id='topic+niche.width'></span>

<h3>Description</h3>

<p>Compute niche width for all the species in a community.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.width(mat, method = c("shannon", "levins"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="niche.width_+3A_mat">mat</code></td>
<td>

<p>A community matrix with columns representing species, and rows representing plots.
</p>
</td></tr>
<tr><td><code id="niche.width_+3A_method">method</code></td>
<td>

<p>Character string showing the name of the index.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vetor containing niche width for all the species in the community.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap">niche.overlap</a></code> for niche overlap
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(datasample)
niche.width(datasample, method = "levins")
niche.width(datasample, method = "shannon")

</code></pre>

<hr>
<h2 id='sp.assoc'>
Analyzing species association
</h2><span id='topic+sp.assoc'></span>

<h3>Description</h3>

<p>Analyzing species association
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp.assoc(matr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sp.assoc_+3A_matr">matr</code></td>
<td>

<p>standard community matrix , with rows representing sites and columns representing species.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Computations are based on the following formula.
</p>
<p>If, <code>N</code>: Number of plots.
</p>
<p><code>S</code>: Number of species.
</p>
<p><code>n</code>: Number of plots occupied by certain species.
</p>
<p><code>Tj</code>: total number of species for each plot.
s
<code>t</code>: mean species number for all the plots.
</p>
<p>Then:
Variance of species relative frequency is: <code>sigma^{2}{T}= sum{i}=1^{s}P{i}(1-P{i})</code>.
</p>
<p>Variance of species number is: <code> S^{2}{T}=({1}{N})sum{j=1}^{N}(T{j}-t)^{2} </code>.
</p>
<p>Species relative frequency: <code>P{i}={n{i}}{N}</code>.
</p>
<p>Variance ratio:
</p>
<p>If <code>VR &gt; 1</code> Positively associated,
</p>
<p>If <code>VR &lt; 1</code> Negative associated
</p>
<p><code>VR = {S{T}^{2}}/{sigma{T}^{2}}</code>
</p>
<p><code>W</code>: used in comparison with chi square with n degrees of freedom.
</p>
<p><code> W = VR * N </code>
</p>


<h3>Value</h3>

<p>Variance ratio, W, Chisq, etc, see <code>details</code>
</p>
<table role = "presentation">
<tr><td><code>pi</code></td>
<td>
<p>Species frequency</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Number of plots</p>
</td></tr>
<tr><td><code>S</code></td>
<td>
<p>Number of species</p>
</td></tr>
<tr><td><code>Tj</code></td>
<td>
<p>Total number of species for each plot</p>
</td></tr>
<tr><td><code>Numspmean</code></td>
<td>
<p>Mean number of species</p>
</td></tr>
<tr><td><code>sigmaTsq</code></td>
<td>
<p>Variance of species relative frequency</p>
</td></tr>
<tr><td><code>STsq</code></td>
<td>
<p>Variance of species number</p>
</td></tr>
<tr><td><code>var.ratio</code></td>
<td>
<p>Variance ratio</p>
</td></tr>
<tr><td><code>W</code></td>
<td>
<p>W statiscit value: used in comparison with chi square.(n)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Qiaoying, Peng Shaolin, Zhang Sumei, Zhang Yunchun, Hou Yuping. (2008) Association of dormintant species in Guia hill Municipal Park of Macao. Ecology and Environment. 17:1541-1547
</p>
<p>GUO zhongling, MA yuandan, ZHENG Jiping, LIU Wande , JIN Zefeng.(2004)
Biodiversity of tree species,their populations'spatial distribution pattern and interspecific association in mixed deciduous broadleaved forest in Changbai Mountains. Chinese Journal of Applied Ecology. 15:2013-2018
</p>
<p>Shi Zuomin, Liu Shirong, Cheng Ruimei, Jiang Youxu.(2001) Interspecific association of plant populations in deciduous broad leaved forest in Baotianman. Scientia Silvae Sinicae. 37:30-35
</p>


<h3>See Also</h3>

<p>See also <code><a href="#topic+sp.pair">sp.pair</a></code> for association between each pair of species.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
sp.assoc(spmatrix)
</code></pre>

<hr>
<h2 id='sp.pair'>
Species association between each pair of species
</h2><span id='topic+sp.pair'></span>

<h3>Description</h3>

<p>Compute species association between each pair of species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp.pair(matr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sp.pair_+3A_matr">matr</code></td>
<td>

<p>Standard community matrix, with rows representing sites and columns representing species.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code> denote the co-occurrence the two species A and B, where:
</p>
<p><code>a</code> = number of plots occupied both by A and B.
</p>
<p><code>b</code> = number of plots only have A.
</p>
<p><code>c</code> = number of plots only have B.
</p>
<p><code>d</code> = number of plots without A or B.
</p>
<p><code>N</code> = <code>a+b+c+d</code>
</p>
<p>Then, it is possible to compute:
</p>
<p>Chi square (Yate's correction): <code>chi^{2}=((((a*d-b*c)-0.5*N)^2)*N)/(a+b)*(a+c)*(b+d)*(c+d)</code>
</p>
<p>V ratio: <code>V = ((a+d)-(b+c))/(a + b + c + d)</code>
</p>
<p>Jaccard index: <code>Jaccard =a/(a + b + c)</code>
</p>
<p>Ochiai index: <code>Ochiai = a/sqrt((a+b)*(a+c))</code>
</p>
<p>Dice index: <code>Dice = 2*a/(2*a + b + c)</code>
</p>
<p>The Association Coefficient(<code>AC</code>):
</p>
<p>if <code>a*d &gt;= b*c</code>:
</p>
<p><code>AC = (a*d - b*c)/((a+b)*(b+d))</code>
</p>
<p>if <code>a*d &lt; b*c  and a &lt;= d</code>:
</p>
<p><code>AC = (a*d - b*c)/((a+b)*(a+c))</code>
</p>
<p>if <code>a*d &lt; b*c and a &gt; d</code>:
</p>
<p><code>AC = (a*d - b*c)/((b+d)*(c+d))</code>
</p>
<p>Point correlation coefficient
</p>
<p>(<code>PCC</code>):
</p>
<p><code>PCC = {a*d-b*c}/{(a+b)*(a+c)*(c+d)*(b+d)}</code>
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>chisq</code></td>
<td>
<p>Chi Square matrix</p>
</td></tr>
<tr><td><code>V</code></td>
<td>
<p><code>V</code> positive or negative association</p>
</td></tr>
<tr><td><code>Ochiai</code></td>
<td>
<p>Ochiai's index</p>
</td></tr>
<tr><td><code>Dice</code></td>
<td>
<p>Dice's index</p>
</td></tr>
<tr><td><code>Jaccard</code></td>
<td>
<p>Jaccard's index</p>
</td></tr>
<tr><td><code>Pearson</code></td>
<td>
<p>Pearson's correlation coefficient</p>
</td></tr>
<tr><td><code>Spearman</code></td>
<td>
<p>Spearman's rank correlation coefficient</p>
</td></tr>
<tr><td><code>PCC</code></td>
<td>
<p>Point correlation coefficient</p>
</td></tr>
<tr><td><code>AC</code></td>
<td>
<p>Association coefficient</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>HURLBERT, S. H. (1969). A coefficient of interspecific association. Ecology, 50(1), 1-9.
</p>
<p>WANG, B. S., &amp; PENG S. L. (1985). Studies on the Measuring Techniques of Interspecific Association of Lower-Subtropical Evergreen-Broadleaved Forests. I. The Exploration and the Revision on the Measuring Formulas of Interspecific Association. Chinese Journal of Plant Ecology, 9(4), 274-285.
</p>
<p>JIAN, M. F., LIU, Q. J., ZHU, D., &amp; YOU, H. (2009). Inter-specific correlations among dominant populations of tree layer species in evergreen broad-leaved forest in Jiulianshan Mountain of subtropical China. Chinese Journal of Plant Ecology, 33(4), 672-680.
</p>
<p>ZHOU, X. Y., WANG, B. S., LI, M. G., &amp; ZAN, Q. J. (2000). An analysis of interspecific associations in secondary succession forest communities in Heishiding Natural Reserve, Guangdong Province. Chinese Journal of Plant Ecology, 24(3), 332-339
</p>


<h3>See Also</h3>

<p>See Also as <code><a href="#topic+sp.assoc">sp.assoc</a></code> for computing association for all the species.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
result &lt;- sp.pair(spmatrix)
</code></pre>

<hr>
<h2 id='splist'>
A sample dataframe showing species taxonomic information (Deprecated)
</h2><span id='topic+splist'></span>

<h3>Description</h3>

<p>A sample dataframe containing the checklist of species used in add.col()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(splist)</code></pre>


<h3>Format</h3>

<p>A data frame with 9 observations on the following 3 variables.
</p>

<dl>
<dt><code>species</code></dt><dd><p>a factor with levels <code>sp1</code> to <code>sp8</code></p>
</dd>
<dt><code>genera</code></dt><dd><p>a factor with levels <code>gen1</code> to <code>gen6</code></p>
</dd>
<dt><code>family</code></dt><dd><p>a factor with levels <code>fam1</code> to <code>fam5</code></p>
</dd>
</dl>



<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(splist)
data(testdata)

</code></pre>

<hr>
<h2 id='sub.sp.matrix'>
Subset species based on relative frequency
</h2><span id='topic+sub.sp.matrix'></span>

<h3>Description</h3>

<p>Subset species based on relative frequency.</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub.sp.matrix(spmatrix, freq = 0.5, common = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sub.sp.matrix_+3A_spmatrix">spmatrix</code></td>
<td>

<p>a standard community matrix with rows representing sites and columns representing species.
</p>
</td></tr>
<tr><td><code id="sub.sp.matrix_+3A_freq">freq</code></td>
<td>

<p>The relative frequency, species with higher relative frequency will be kept in the output.
</p>
</td></tr>
<tr><td><code id="sub.sp.matrix_+3A_common">common</code></td>
<td>

<p>The number of most common species to keep.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>sub.sp.matrix will select the species whose relative frequency above 0.5 (default), or select certain number of species based on relative frequency.
</p>


<h3>Value</h3>

<p>A subset matrix of species with high relative frequency.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>See Also</h3>

<p>See Also <code><a href="base.html#topic+subset">subset</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(vegan)
data(BCI)
## Select the species whose relative frequency
## more than 0.5, from BCI data
sub &lt;- sub.sp.matrix(BCI, freq = 0.5)
## Select the top 30 species according to relative frequency
sub &lt;- sub.sp.matrix(BCI, common = 30)
</code></pre>

<hr>
<h2 id='testdata'>
A sample dataset
s</h2><span id='topic+testdata'></span>

<h3>Description</h3>

<p>A sample dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(testdata)</code></pre>


<h3>Format</h3>

<p>A dataframe with 11 observations on the following 3 variables.
</p>

<dl>
<dt><code>plotname</code></dt><dd><p>a factor with levels <code>plot1</code>, <code>plot2</code>, <code>plot3</code>.</p>
</dd>
<dt><code>species</code></dt><dd><p>a factor with levels <code>sp1</code> to <code>sp7</code>. </p>
</dd>
<dt><code>abundance</code></dt><dd><p>a numeric vector indicating number of individuals appeared in each plot.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
testdata
</code></pre>

<hr>
<h2 id='turnover'>
Calculating species turnover
</h2><span id='topic+turnover'></span>

<h3>Description</h3>

<p>Calculating species turnover based on the mean value between focus quadrat and their neighbours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>turnover(lab.mat, dist.mat, type = c("quart", "octal"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="turnover_+3A_lab.mat">lab.mat</code></td>
<td>

<p>matrix of quadrat labels.
</p>
</td></tr>
<tr><td><code id="turnover_+3A_dist.mat">dist.mat</code></td>
<td>

<p>distance matrix between each pair of quadrats
</p>
</td></tr>
<tr><td><code id="turnover_+3A_type">type</code></td>
<td>

<p>&quot;quart&quot; indicates four neighbouring quadrats, &quot;octal&quot; indicate eight neighbouring quadrats.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>species turnover based on the mean value between centred quadrat and its neighbours.
</p>


<h3>Value</h3>

<p>matrix with species turnover.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Lennon J. 2001 The geographical structure of British bird distributions - diversity, spatial turnover and scale Journal of Animal Ecology 70,966-979
</p>


<h3>See Also</h3>

<p><code><a href="#topic+XYname">XYname</a></code> and <code><a href="#topic+lab.mat">lab.mat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##example turnover()
plotlab1 &lt;- XYname(4,6)
xxx &lt;- 1:240
dim(xxx) &lt;- c(24, 10)
rownames(xxx) &lt;- plotlab1
### Distance between each pair of plots
ddd &lt;- dist(xxx)
### label matrix
labmat1 &lt;- lab.mat(plotlab1)
yyy &lt;- turnover(labmat1, ddd)

</code></pre>

<hr>
<h2 id='XYname'>
Generating vector of XY labels
</h2><span id='topic+XYname'></span>

<h3>Description</h3>

<p>Generating vector of XY labels by providing number of rows and columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XYname(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="XYname_+3A_x">x</code></td>
<td>

<p>Number of X labels
</p>
</td></tr>
<tr><td><code id="XYname_+3A_y">y</code></td>
<td>

<p>Number of Y labels
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of XY labels
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lab.mat">lab.mat</a></code> for converting the vector to matrix of XY labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## XYname() example
XYname(4,6)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package spaa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spaa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#spaa-package'>
<p>SPecies Association Analysis</p></a></li>
<li><a href='#add.col'>
<p>Add one column from A to B, according to one column of common name.</p></a></li>
<li><a href='#data2mat'>
<p>Convert species list data to species matrix</p></a></li>
<li><a href='#datasample'>
<p>community matrix example</p></a></li>
<li><a href='#deg2dec'>
<p>Degree to decimal</p></a></li>
<li><a href='#dist2list'>
<p>Convert distance matrix to pairwised list</p></a></li>
<li><a href='#freq.calc'>
<p>Species relative frequency</p></a></li>
<li><a href='#geodist'>
<p>Hight precision Great circle distance between two places</p></a></li>
<li><a href='#lab.mat'>
<p>Convert vector of XY labels to label matrix</p></a></li>
<li><a href='#lgeodist'>
<p>Low precision Great circle distance between two places</p></a></li>
<li><a href='#list2dist'>
<p>Convert pairwise list to distance matrix</p></a></li>
<li><a href='#niche.overlap'>
<p>Niche overlap between each pair of species</p></a></li>
<li><a href='#niche.overlap.boot'>
<p>Boostrap of niche overlap</p></a></li>
<li><a href='#niche.overlap.boot.pair'>
<p>Niche overlap boostrap utility function</p></a></li>
<li><a href='#niche.overlap.pair'>
<p>Niche overlap between one pair of species.</p></a></li>
<li><a href='#niche.width'>
<p>Niche width</p></a></li>
<li><a href='#plotlowertri'>
<p>Plotting lower semi matrix</p></a></li>
<li><a href='#plotnetwork'>
<p>Correlation network plot</p></a></li>
<li><a href='#sp.assoc'>
<p>Total species association</p></a></li>
<li><a href='#sp.pair'>
<p>Species association between each pair of species</p></a></li>
<li><a href='#splist'>
<p>species list used in function add.col()</p></a></li>
<li><a href='#sub.sp.matrix'>
<p>Subset species matrix according to relative frequency</p></a></li>
<li><a href='#testdata'>
<p>Example Data</p></a></li>
<li><a href='#turnover'>
<p>Calculating species turnover</p></a></li>
<li><a href='#XYname'>
<p>Generating vector of XY labels</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>SPecies Association Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-06-09</td>
</tr>
<tr>
<td>Author:</td>
<td>Jinlong Zhang [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jinlong Zhang &lt;jinlongzhang01@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Miscellaneous functions for analysing species association
        and niche overlap.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Suggests:</td>
<td>vegan</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/helixcn/spaa">https://github.com/helixcn/spaa</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-06-09 15:26:47 UTC; jinlong</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-06-09 19:59:58</td>
</tr>
</table>
<hr>
<h2 id='spaa-package'>
SPecies Association Analysis
</h2><span id='topic+spaa-package'></span><span id='topic+spaa'></span>

<h3>Description</h3>

<p>Miscellaneous functions for analysis of species association and niche overlap.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> spaa</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.2.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2013-8-23</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Author: Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>
<p>Maintainer: Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
testdata
data(splist)
splist

## adding information
## add genera from dataframe B to dataframe A.
add.col(inputA = testdata, inputB = splist, add = "genera",
according = "species")
## add family from dataframe B to dataframe A.
add.col(inputA = testdata, inputB = splist, add = "family", 
according = "species")

### data tranformation
(spmatrix &lt;- data2mat(testdata))
#Species association
sp.assoc(spmatrix)

# Species association between each pair of species
(result &lt;- sp.pair(spmatrix))

# simple network with positive lines in red and negative lines 
# in blue
plotnetwork(result$Pearson)
title("Pearson Correlation Network")

# The lower matrix plot illustrating Pearson's correlation 
# between each pair of species Note the triangle didn't appeared
# in the plots, but have been added to the legend. This is due 
# to the distribution of data. Be carefull in seletion of intervals.

plotlowertri(result$Pearson, int = 0.5, cex=3, interval = 4, 
pchlist = c(19, 17, 15, 1, 5), size = TRUE)
title("Pearson Correlation Lower Matrix Plot")

## plot lower matrix
## Using BCI data for lower matrix plot
library(vegan)
data(BCI)
## select the top 30 species according to relative frequeny.
sub &lt;- sub.sp.matrix(BCI, common = 30)
## Set the digits to 1
plotlowertri(cor(sub), size = TRUE, cex = 3, digits = 1)

#### Niche width and niche overlap
data(datasample)
niche.overlap.boot(datasample[,1:3], method = "levins")
niche.overlap(datasample, method = "levins")
niche.width(datasample[,1:3], method = "shannon")

##example turnover()
plotlab1 &lt;- XYname(4,6)
xxx &lt;- 1:240
dim(xxx) &lt;- c(24, 10)
rownames(xxx) &lt;- plotlab1
### Distance between each pair of plots
ddd &lt;- dist(xxx)
### label matrix
labmat1 &lt;- lab.mat(plotlab1)
yyy &lt;- turnover(labmat1, ddd)


## geodist() example
## Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
## Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)
##High precision Great Circle distance
geodist(L1, phi1, L2, phi2)

</code></pre>

<hr>
<h2 id='add.col'>
Add one column from A to B, according to one column of common name.
</h2><span id='topic+add.col'></span>

<h3>Description</h3>

<p>This function can be used to add one column from dataframe B to dataframe A, according to the column names speciefied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.col(inputA, inputB, add, according)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add.col_+3A_inputa">inputA</code></td>
<td>

<p><code>inputA</code> A dataframe which a column to be added according to one row information. Must contain a column name equals to one column name in dataframe B at the least.
</p>
</td></tr>
<tr><td><code id="add.col_+3A_inputb">inputB</code></td>
<td>

<p><code>inputB</code> A dataframe which a column to be abstracted from, must contain a column equals to at least one column name in dataframe A.
</p>
</td></tr>
<tr><td><code id="add.col_+3A_add">add</code></td>
<td>

<p><code>add</code> the column name in dataframe B to be add to dataframe A. musth be character.
</p>
</td></tr>
<tr><td><code id="add.col_+3A_according">according</code></td>
<td>

<p><code>according</code> the common column name specified to match the data entries from dataframe A and dataframe B. must be character. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to add one column from dataframe B to dataframe A, according to the column names specified. Users have to make sure the to dataframes at least share the common names specified. This function may be an alternative for <code><a href="base.html#topic+merge">merge</a></code>
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang
</p>


<h3>See Also</h3>

<p>See Also<code><a href="base.html#topic+merge">merge</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(splist)
data(testdata)
## add genera from dataframe B to dataframe A.
add.col(inputA = testdata, inputB = splist, add = "genera",
according = "species")
## add family from dataframe B to dataframe A.
add.col(inputA = testdata, inputB = splist, add = "family", 
according = "species")

</code></pre>

<hr>
<h2 id='data2mat'>
Convert species list data to species matrix
</h2><span id='topic+data2mat'></span>

<h3>Description</h3>

<p>This function can be used to convert the species list to species matrix. The rows  of the output matrix are plots, or sites. The columns are the species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data2mat(data = data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data2mat_+3A_data">data</code></td>
<td>

<p>The input <code>data</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input data will have to include :<code>species</code>,<code>plots</code> or <code>sites</code>, <code>abundance</code>, specifically, a column named <code>"abundance"</code> must be specified. 
</p>


<h3>Value</h3>

<p>Return a species matrix with each row for each plot, and each column for species.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
</code></pre>

<hr>
<h2 id='datasample'>
community matrix example
</h2><span id='topic+datasample'></span>

<h3>Description</h3>

<p>Community matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(datasample)</code></pre>


<h3>Format</h3>

<p>A data frame with 8 plots on the following 14 species.
</p>


<h3>Details</h3>

<p>including 14 species, 8 plots of Gutianshan Natural Reserve, Zhejiang, China, values are the value of importance in the plot for each species.
</p>


<h3>Source</h3>

<p>Hu Zheng-hua, Qian Hai-Yuan, Yu Ming-jian. 2009. The niche of dominant species populations in Castanopsis eyrei forest in Gutian Mountain National Natural Reserve. Acta Ecologica Sinica. Vol.29, 3670-3677
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(datasample)
</code></pre>

<hr>
<h2 id='deg2dec'>
Degree to decimal
</h2><span id='topic+deg2dec'></span>

<h3>Description</h3>

<p>Convert latitude or longitude from degree to decimal format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deg2dec(h, m, s)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deg2dec_+3A_h">h</code></td>
<td>

<p>Degree
</p>
</td></tr>
<tr><td><code id="deg2dec_+3A_m">m</code></td>
<td>

<p>Minute
</p>
</td></tr>
<tr><td><code id="deg2dec_+3A_s">s</code></td>
<td>

<p>Second
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert latitude or longitude from degree to decimal format.
</p>


<h3>Value</h3>

<p>Degree of decimal format
</p>


<h3>Note</h3>

<p>Places with eastern hemisphere should have longitude and southern hemisphere less than zero. 
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## deg2dec() example
##Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
##Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)

</code></pre>

<hr>
<h2 id='dist2list'>
Convert distance matrix to pairwised list
</h2><span id='topic+dist2list'></span>

<h3>Description</h3>

<p>Convert distance matrix to pairwised list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dist2list(dist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dist2list_+3A_dist">dist</code></td>
<td>
<p> distance matrix
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Pairwise list with first column indicates the rows of the original distance matrix, second column indicates the columns indicates the rows of the original distance matrix, and the third indicats the values.
</p>


<h3>Value</h3>

<p>Dataframe with three columns.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Tuomisto, H. (2003). &quot;Dispersal, Environment, and Floristic Variation of Western Amazonian Forests.&quot; Science 299(5604): 241-244.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list2dist">list2dist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##dist2list() example
x &lt;- matrix(rnorm(100), nrow=5)
sampledata &lt;- dist(x)
ddd &lt;- dist2list(sampledata)

</code></pre>

<hr>
<h2 id='freq.calc'>
Species relative frequency
</h2><span id='topic+freq.calc'></span>

<h3>Description</h3>

<p>This function calculates the species relative frequency which equals to the numbers of occupied plots partitioned by the total number of plots for each species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freq.calc(matr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="freq.calc_+3A_matr">matr</code></td>
<td>
<p> The standard species matrix
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input data is a  standard species matrix with rows for plots and column for species.
</p>


<h3>Value</h3>

<p>Returns a vector that contains relative frequency for each species included in the input matrix.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
freq.calc(spmatrix)
</code></pre>

<hr>
<h2 id='geodist'>
Hight precision Great circle distance between two places
</h2><span id='topic+geodist'></span>

<h3>Description</h3>

<p>Hight precision Great circle distance between two places assuming the earth is elliptic sphere. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geodist(L1, phi1, L2, phi2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geodist_+3A_l1">L1</code></td>
<td>

<p>Longitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="geodist_+3A_phi1">phi1</code></td>
<td>

<p>Latitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="geodist_+3A_l2">L2</code></td>
<td>

<p>Longitude of second place in decimal format.
</p>
</td></tr>
<tr><td><code id="geodist_+3A_phi2">phi2</code></td>
<td>

<p>Latitude of second place in decimal format.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Hight precision great circle distance between two places assuming the earth is elliptic sphere.
</p>


<h3>Value</h3>

<p>Hight precision great circle distance.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Jean Meeus 1991 Astronomical Algorithms Willmann-Bell 80-83
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lgeodist">lgeodist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## geodist() example
## Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
## Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)
##High precision Great Circle distance
geodist(L1, phi1, L2, phi2)

</code></pre>

<hr>
<h2 id='lab.mat'>
Convert vector of XY labels to label matrix
</h2><span id='topic+lab.mat'></span>

<h3>Description</h3>

<p>Convert vector of XY labels to label matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lab.mat(plotlab)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lab.mat_+3A_plotlab">plotlab</code></td>
<td>

<p>Vector of XY labels
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>XY label matrix
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+turnover">turnover</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### lab.mat() example
plotlab1 &lt;- XYname(4,6)
labmat &lt;- lab.mat(plotlab1)

</code></pre>

<hr>
<h2 id='lgeodist'>
Low precision Great circle distance between two places 
</h2><span id='topic+lgeodist'></span>

<h3>Description</h3>

<p>Calculating Great circle distance between two places assuming that the earth is sphere.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lgeodist(L1, phi1, L2, phi2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lgeodist_+3A_l1">L1</code></td>
<td>

<p>Longitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="lgeodist_+3A_phi1">phi1</code></td>
<td>

<p>Latitude of first place in decimal format.
</p>
</td></tr>
<tr><td><code id="lgeodist_+3A_l2">L2</code></td>
<td>

<p>Longitude of second place in decimal format.
</p>
</td></tr>
<tr><td><code id="lgeodist_+3A_phi2">phi2</code></td>
<td>

<p>Latitude of second place in decimal format.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Low precision great circle distance between two places.
</p>


<h3>Note</h3>

<p>This function assuming that the earth is sphere.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Jean Meeus 1991 Astronomical Algorithms Willmann-Bell 80-81
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geodist">geodist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#lgeodist() example
##Paris
L1 = deg2dec(-2,20,14)
phi1 = deg2dec(48, 50, 11)
##Washington DC
L2 = deg2dec(77,03,56)
phi2 = deg2dec(38,55,17)
#Great circle distance
lgeodist(L1, phi1, L2, phi2)

</code></pre>

<hr>
<h2 id='list2dist'>
Convert pairwise list to distance matrix
</h2><span id='topic+list2dist'></span>

<h3>Description</h3>

<p>Convert pairwise list to distance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list2dist(dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list2dist_+3A_dat">dat</code></td>
<td>

<p>dataframe with three columns
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Dataframe with first column as the column names in the distance matrix, second column as the rownames in the distance matrix, third column the values.
</p>


<h3>Value</h3>

<p>distance matrix
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Tuomisto, H. (2003). &quot;Dispersal, Environment, and Floristic Variation of Western Amazonian Forests.&quot; Science 299(5604): 241-244.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dist2list">dist2list</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##list2dist() example
x &lt;- matrix(rnorm(100), nrow=5)
sampledata &lt;- dist(x)
ddd &lt;- dist2list(sampledata)
list2dist(ddd)

</code></pre>

<hr>
<h2 id='niche.overlap'>
Niche overlap between each pair of species
</h2><span id='topic+niche.overlap'></span>

<h3>Description</h3>

<p>Compute niche overlap between each pair of species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap(mat, method = c("levins", "schoener", 
       "petraitis", "pianka", "czech", "morisita"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche.overlap_+3A_mat">mat</code></td>
<td>

<p>A community data matrix with each column for each species, and each row for each plot.
</p>
</td></tr>
<tr><td><code id="niche.overlap_+3A_method">method</code></td>
<td>

<p>Index of niche overlap to be specified.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To be added.
</p>


<h3>Value</h3>

<p>A distance matrix contains niche overlap index between each pair of species.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>
<p>Nicholas J. Gotelli. 2000. Null model analysis of species co-occurrence patterns. Ecology 81:2606-2621. http://esapubs.org/archive/ecol/E081/022/EcoSim
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap.pair">niche.overlap.pair</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### niche.overlap.boot() example
data(datasample)
niche.overlap(datasample, method = "levins")

</code></pre>

<hr>
<h2 id='niche.overlap.boot'>
Boostrap of niche overlap
</h2><span id='topic+niche.overlap.boot'></span>

<h3>Description</h3>

<p>Bootstrap of niche overlap between species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap.boot(mat, method = c("pianka", "schoener", "petraitis",  
    "czech", "morisita", "levins"), times = 999, quant = c(0.025, 0.975))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche.overlap.boot_+3A_mat">mat</code></td>
<td>

<p>A community data matrix with columns representing species, and rows representing sites.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot_+3A_method">method</code></td>
<td>

<p>A character string indicating the index of niche overlap to be applied.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot_+3A_times">times</code></td>
<td>

<p>Interger, Number of bootstrap to be implemented.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot_+3A_quant">quant</code></td>
<td>

<p>Quantile of bootstrap results, the confidence intervals.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function bootstraps the niche overlap within each pair of species. \
pianka: Pianka's niche overlap index\
schoener: Schoener's niche overlap index\
petraitis: Petraitis' niche overlap index\
czech: Czechanowski index \
morisita: Morisita's overlap index\
levins: Levin's overlap index\
see more information from Gotelli, N(2009).\
</p>


<h3>Value</h3>

<p>a data frame with each row for each pair of species 
the columns are <code>"Observed", \
"Boot mean", \
"Boot std", \
"Boot CI1",  \
"Boot CI2",  \
"times"</code> \
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing\
</p>
<p>Nicholas J. Gotelli. 2000. Null model analysis of species co-occurrence patterns. Ecology 81:2606-2621. http://esapubs.org/archive/ecol/E081/022/EcoSim
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap.boot.pair">niche.overlap.boot.pair</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(datasample)
niche.overlap.boot(datasample[,1:4], method = "pianka")
niche.overlap.boot(datasample[,1:4], method = "schoener")
niche.overlap.boot(datasample[,1:4], method = "czech") 
niche.overlap.boot(datasample[,1:4], method = "levins")
</code></pre>

<hr>
<h2 id='niche.overlap.boot.pair'>
Niche overlap boostrap utility function
</h2><span id='topic+niche.overlap.boot.pair'></span>

<h3>Description</h3>

<p>Compute the bootstrap value between two vectors. This is a internal function called by <code>niche.overlap.boot</code>, users are encouraged to use the latter function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap.boot.pair(vectorA, vectorB, method = c("levins", 
     "schoener", "petraitis", "pianka", "czech", "morisita"), 
      times = 999, quant = c(0.025, 0.975))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche.overlap.boot.pair_+3A_vectora">vectorA</code></td>
<td>

<p>A numerical vector including species A's abundance or value of importance.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_vectorb">vectorB</code></td>
<td>

<p>A numerical vector including species B's abundance or value of importance.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_method">method</code></td>
<td>

<p>Niche overlap indeces to be applied.
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_times">times</code></td>
<td>

<p>Number of bootstraps
</p>
</td></tr>
<tr><td><code id="niche.overlap.boot.pair_+3A_quant">quant</code></td>
<td>

<p>Confidence interval of the bootstrap results.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To do.
</p>


<h3>Value</h3>

<p>This function will return a vector including the following elements:\
<code>"Observed", \
"Boot mean", \
"Boot std", \
"Boot CI1", \
"Boot CI2", \
"times"</code> \
</p>


<h3>Note</h3>

<p>Users are ecouraged to call <code><a href="#topic+niche.overlap.boot">niche.overlap.boot</a></code> rather than this function.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap.boot">niche.overlap.boot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### niche.overlap.boot.pair() example
data(datasample)
niche.overlap.boot.pair(datasample[,1],datasample[,2], method = "levins")

</code></pre>

<hr>
<h2 id='niche.overlap.pair'>
Niche overlap between one pair of species.
</h2><span id='topic+niche.overlap.pair'></span>

<h3>Description</h3>

<p>Compute niche overlap index between one pair of species. Users are encouraged to used <code><a href="#topic+niche.overlap">niche.overlap</a></code> istead of this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.overlap.pair(vectA, vectB, method = c("pianka", 
     "schoener","petraitis","czech","morisita", "levins"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche.overlap.pair_+3A_vecta">vectA</code></td>
<td>

<p>A numerical vector including species A's abundance or value of importance.
</p>
</td></tr>
<tr><td><code id="niche.overlap.pair_+3A_vectb">vectB</code></td>
<td>

<p>A numerical vector including species B's abundance or value of importance.
</p>
</td></tr>
<tr><td><code id="niche.overlap.pair_+3A_method">method</code></td>
<td>

<p>Niche overlap index to be applied.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>None
</p>


<h3>Value</h3>

<p>Niche overlap index.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>
<p>Nicholas J. Gotelli. 2000. Null model analysis of species co-occurrence patterns. Ecology 81:2606-2621. http://esapubs.org/archive/ecol/E081/022/EcoSim
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap">niche.overlap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### niche.overlap.pair() example
data(datasample)
niche.overlap.pair(datasample[,1],datasample[,2], method = "levins")

</code></pre>

<hr>
<h2 id='niche.width'>
Niche width
</h2><span id='topic+niche.width'></span>

<h3>Description</h3>

<p>Compute niche width of the species in a community.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche.width(mat, method = c("shannon", "levins"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche.width_+3A_mat">mat</code></td>
<td>

<p>A community data matrix with each column for each species, and each row for each plot.
</p>
</td></tr>
<tr><td><code id="niche.width_+3A_method">method</code></td>
<td>

<p>Index of niche width.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To be added
</p>


<h3>Value</h3>

<p>A vetor contains niche width index of species in community.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Jin-tun,(2004 ) Quantitative Ecology, Science Press, Beijing
</p>


<h3>See Also</h3>

<p><code><a href="#topic+niche.overlap">niche.overlap</a></code> for niche overlap 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# ### niche.width() example 
data(datasample)
niche.width(datasample, method = "levins")
niche.width(datasample, method = "shannon")

</code></pre>

<hr>
<h2 id='plotlowertri'>
Plotting lower semi matrix
</h2><span id='topic+plotlowertri'></span>

<h3>Description</h3>

<p>Function for plotting lower semi matrix. These plots are often used to illustrate the relationship in Pearson's correlation, similarity or dissimilarity index between sites or species. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotlowertri(input, valuename = "r", 
pchlist = c(19, 17, 15, 1, 5, 2, 7), interval = 6, 
cex = 1, ncex = 1, int =1.2, add.number = TRUE, 
size = FALSE, add.text = FALSE, show.legend = TRUE, 
digits = 2)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotlowertri_+3A_input">input</code></td>
<td>

<p>The <code>input</code> data, often the results of correlation matrix, can also be class <code>dist</code> object.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_valuename">valuename</code></td>
<td>

<p>Value name that will be used in the legend.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_pchlist">pchlist</code></td>
<td>

<p>The types of point shape to plot see <code>pch par()</code>. 
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_interval">interval</code></td>
<td>

<p>Number of intervals to illustrate the shape of points
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_cex">cex</code></td>
<td>

<p>Point size
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_ncex">ncex</code></td>
<td>

<p>Text size for the add.number, which appeared at the top of each column.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_int">int</code></td>
<td>

<p>Row space between lines in legend
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_add.number">add.number</code></td>
<td>

<p>Species number for each column.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_size">size</code></td>
<td>

<p>Whether the size of points would change according to value.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_add.text">add.text</code></td>
<td>

<p>To add value to the grid.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_show.legend">show.legend</code></td>
<td>

<p>Whether the legend should be drawn.
</p>
</td></tr>
<tr><td><code id="plotlowertri_+3A_digits">digits</code></td>
<td>

<p>Number of digits of for each interval
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the matrix contains less than 15 rows/columns, you may have to adjust the row space between the text lines in the legend, using argument <code>int</code>. Data in class <code>dist</code> can be include, and will be converted to matrix at first internally.
</p>
<p>The lower matrix plot illustrating Pearson's Correlation between each pair of species. Note some value didn't appeared in the plots, may have appeared the legend. This is due to the distribution of data. Be careful in selection of intervals. In this situation you may set <code>show.legend = FALSE</code>, and add the legend manually. This may be fixed in the future.
</p>


<h3>Value</h3>

<p>lower matrix plot
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Qiaoying, Peng Shaolin, Zhang Sumei, Zhang Yunchun, Hou Yuping.(2008). Association of dormintant species in Guia hill Municipal Park of Macao. Ecology and Environment. 17:1541-1547
</p>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+plotnetwork">plotnetwork</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
result &lt;- sp.pair(spmatrix)

## Check the legend for 0.00 to 0.33 (Unwanted label)
plotlowertri(result$Pearson, int = 0.5, cex=1.5)
title("Pearson Correlation Lower Matrix Plot")

## Change the size of points and reset the intervals.
## Warning: The lower matrix plot illustrating Pearson 
## Correlation between each pair of species. Note the 
## triangle didn't appeared in the plots, but have been 
## added to the legend. This is due to the distribution 
## of data. Be careful in selection of intervals.


plotlowertri(result$Pearson, int = 0.5, cex=1.5, 
interval = 4, pchlist = c(19, 17, 15, 1, 5), size = TRUE)

title("Pearson Correlation Lower Matrix Plot")

## "Pure" dots, may have to add legend manually...
plotlowertri(result$Pearson, int = 0.5, cex=2.5, 
interval = 4, pchlist = rep(19, 5), size = TRUE, 
show.legend = FALSE)

title("Pearson Correlation Lower Matrix Plot")


## Using BCI data
library(vegan)
data(BCI)
## select the top 30 species according to relative frequency.
sub &lt;- sub.sp.matrix(BCI, common = 30)
## Original 
plotlowertri(cor(sub))

## Change size
plotlowertri(cor(sub), size = TRUE, cex = 3)

## Set the digits to 1
plotlowertri(cor(sub), size = TRUE, cex = 3, digits = 1,
ncex = 0.7)


</code></pre>

<hr>
<h2 id='plotnetwork'>
Correlation network plot
</h2><span id='topic+plotnetwork'></span>

<h3>Description</h3>

<p>This function could be used to plot correlation network, with less than 15 sites (recommended). The points lie in a circle with lines connected. Blue lines indicate negative values and the red ones the positive ones.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotnetwork(datainput, interval = 8, xlim = c(-2.5,5), 
ylim=c(-3.2,3.2), lty = c(1,2,3,4,4,3,2,1,5), value = "r", 
legendx = 3, legendy = 0, right = 1.2, intcept = 0.22, 
left = 0.35, linelength = 0.3, cex = 3, lwd = 1.5, 
show.legend = TRUE, digits = 2, dit = 1.2, 
number.label = TRUE, text.label = TRUE, 
linecol = c("red", "black"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotnetwork_+3A_datainput">datainput</code></td>
<td>

<p>The correlation matrix, ex. Pearson's correlation matrix
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_interval">interval</code></td>
<td>

<p>Number of intervals of the values, indicating how to partition the range of input data 
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_xlim">xlim</code></td>
<td>

<p>The x range of the plot. The users need not to change it.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_ylim">ylim</code></td>
<td>

<p>The y range of the plot. The users need not to change it.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_lty">lty</code></td>
<td>

<p>Line styles used in connection lines for each interval. Must have number of elements + 1.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_value">value</code></td>
<td>

<p>Value of the matrix, should be a character, will used in legend.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_legendx">legendx</code></td>
<td>

<p>Legend position x.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_legendy">legendy</code></td>
<td>

<p>Legend position y.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_right">right</code></td>
<td>

<p>Legend position adjustment parameter.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_intcept">intcept</code></td>
<td>

<p>Legend position adjustment. can be used to specify the row space between each line for the legend.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_left">left</code></td>
<td>

<p>Legend position adjustment parameter.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_linelength">linelength</code></td>
<td>

<p>Line length in the legend. 
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_cex">cex</code></td>
<td>

<p>Point size for each circle.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_lwd">lwd</code></td>
<td>

<p>Line width for each circle.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_...">...</code></td>
<td>

<p>Other arguments to be passed from. 
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_show.legend">show.legend</code></td>
<td>

<p>Whether the legend should be drawn.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_digits">digits</code></td>
<td>

<p>Number of digits displayed in legend.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_dit">dit</code></td>
<td>

<p>Distance of text labels from each corner.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_number.label">number.label</code></td>
<td>

<p>Whether the number label should be drawn.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_text.label">text.label</code></td>
<td>

<p>Whether the text label should be drawn.
</p>
</td></tr>
<tr><td><code id="plotnetwork_+3A_linecol">linecol</code></td>
<td>

<p>Colours of the lines specified. The positive correlation will be drawn in the first colour specified.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function could be used to plot the pairwise connections between less than 20 sites 
( above 20 is not recommended since there would be too many connections).
</p>
<p>The lines will be in red or blue, according the sign of the value of association. Users can adjust the line style and legends based on their requirements.
</p>


<h3>Value</h3>

<p>Correlation network plots.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
result &lt;- sp.pair(spmatrix)
plotnetwork(result$Pearson)

plotnetwork(result$Pearson, linecol = c("orange", "blue"),
number.label = FALSE)

title("Pearson Correlation Network")
</code></pre>

<hr>
<h2 id='sp.assoc'>
Total species association
</h2><span id='topic+sp.assoc'></span>

<h3>Description</h3>

<p>Calculate species association
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp.assoc(matr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp.assoc_+3A_matr">matr</code></td>
<td>

<p>standard species matrix , with rows for plots and columns for species.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate species association using the following formula.
</p>
<p>Number of plots.
</p>
<p><code>N</code> 
</p>
<p>Number of species.
</p>
<p><code>S</code>
</p>
<p>Number of plots occupied by certain species.
</p>
<p><code>n</code>
</p>
<p>total number of species for each plot.
</p>
<p><code>Tj</code>
</p>
<p>mean species number for all the plots. 
</p>
<p><code>t</code> 
</p>
<p>Variance of species relative frequency:
</p>
<p><code>sigma^{2}{T}= sum{i}=1^{s}P{i}(1-P{i})</code>.
</p>
<p>Variance of species number:
</p>
<p><code> S^{2}{T}=({1}{N})sum{j=1}^{N}(T{j}-t)^{2} </code>.
</p>
<p>Species relative frequency
</p>
<p><code>P{i}={n{i}}{N}</code>.
</p>
<p>Variance ratio: 
</p>
<p>If <code>VR &gt; 1</code> Positively associated, 
</p>
<p>If <code>VR &lt; 1</code> Negative associated
</p>
<p><code>VR = {S{T}^{2}}/{sigma{T}^{2}}</code>
</p>
<p><code>W</code>: used in comparison with chi square with n degrees of freedom.
</p>
<p><code> W = VR * N </code> 
</p>


<h3>Value</h3>

<p>Return 
Variance ratio, W, Chisq, etc, see <code>details</code>
</p>
<table>
<tr><td><code>pi</code></td>
<td>
<p>Species frequency</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Number of plots</p>
</td></tr>
<tr><td><code>S</code></td>
<td>
<p>Number of species</p>
</td></tr>
<tr><td><code>Tj</code></td>
<td>
<p>Total number of species for each plot</p>
</td></tr>
<tr><td><code>Numspmean</code></td>
<td>
<p>Mean number of species</p>
</td></tr>
<tr><td><code>sigmaTsq</code></td>
<td>
<p>Variance of species relative frequency</p>
</td></tr>
<tr><td><code>STsq</code></td>
<td>
<p>Variance of species number</p>
</td></tr>
<tr><td><code>var.ratio</code></td>
<td>
<p>Variance ratio</p>
</td></tr>
<tr><td><code>W</code></td>
<td>
<p>W statiscit value: used in comparison with chi square.(n)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Qiaoying, Peng Shaolin, Zhang Sumei, Zhang Yunchun, Hou Yuping. (2008) Association of dormintant species in Guia hill Municipal Park of Macao. Ecology and Environment. 17:1541-1547
</p>
<p>GUO zhongling, MA yuandan, ZHENG Jiping, LIU Wande , JIN Zefeng.(2004)
Biodiversity of tree species,their populations'spatial distribution pattern and interspecific association in mixed deciduous broadleaved forest in Changbai Mountains. Chinese Journal of Applied Ecology. 15:2013-2018
</p>
<p>Shi Zuomin, Liu Shirong, Cheng Ruimei, Jiang Youxu.(2001) Interspecific association of plant populations in deciduous broad leaved forest in Baotianman. Scientia Silvae Sinicae. 37:30-35
</p>


<h3>See Also</h3>

<p>See also <code><a href="#topic+sp.pair">sp.pair</a></code> for association between each pair of species.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
sp.assoc(spmatrix)
</code></pre>

<hr>
<h2 id='sp.pair'>
Species association between each pair of species 
</h2><span id='topic+sp.pair'></span>

<h3>Description</h3>

<p>Calculate species association between each pair of species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp.pair(matr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp.pair_+3A_matr">matr</code></td>
<td>

<p>Standard species matrix, with rows for plots and columns for species.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assume we have speciesA and speciesB, <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code> that corresponding to the co-occurrence could be used to conduct the species association analysis between the two species. 
</p>
<p><code>a</code> = number of plots both occupied by speciesA and speciesB.
</p>
<p><code>b</code> = number of plots only found speciesA.
</p>
<p><code>c</code> = number of plots only found speciesB.
</p>
<p><code>d</code> = number of plots without speciesA or speciesB.
</p>
<p><code>N</code> = <code>a+b+c+d</code>
</p>
<p>This function are using the following formula:
</p>
<p>Chi square (Yate's correction):
</p>
<p><code>chi^{2}=((((a*d-b*c)-0.5*N)^2)*N)/(a+b)*(a+c)*(b+d)*(c+d)</code>
</p>
<p>V ratio:
</p>
<p><code>V = ((a+d)-(b+c))/(a + b + c + d)</code>
</p>
<p>Jaccard index:
</p>
<p><code>Jaccard =a/(a + b + c)</code>
</p>
<p>Ochiai index:
</p>
<p><code>Ochiai = a/sqrt((a+b)*(a+c))</code>
</p>
<p>Dice index:
</p>
<p><code>Dice = 2*a/(2*a + b + c)</code>
</p>
<p>The Association Coefficient(<code>AC</code>):
</p>
<p>if <code>a*d&gt;= b*c</code>:
</p>
<p><code>AC = (a*d - b*c)/((a+b)*(b+d))</code>
</p>
<p>if <code>b*c&gt;= a*d and d&gt;=a</code>:
</p>
<p><code>AC=(a*d - b*c)/((a+b)*(a+c))</code>
</p>
<p>if <code>b*c&gt;a*d and a&lt;a</code>:
</p>
<p><code>AC = (a*d - b*c/((b+d)(d+c))</code>
</p>
<p>Point correlation coefficient
</p>
<p>(<code>PCC</code>):
</p>
<p><code>PCC = {a*d-b*c}/{(a+b)*(a+c)*(c+d)*(b+d)}</code>
</p>


<h3>Value</h3>

<table>
<tr><td><code>chisq</code></td>
<td>
<p>chi square matrix</p>
</td></tr>
<tr><td><code>chisqass</code></td>
<td>
<p>chi square matrix information</p>
</td></tr>
<tr><td><code>V</code></td>
<td>
<p><code>V</code> Value indicating species association is positive or negative</p>
</td></tr>
<tr><td><code>Ochiai</code></td>
<td>
<p>Ochiai's index</p>
</td></tr>
<tr><td><code>Dice</code></td>
<td>
<p>Dice's index</p>
</td></tr>
<tr><td><code>Jaccard</code></td>
<td>
<p>Jaccard's index</p>
</td></tr>
<tr><td><code>Pearson</code></td>
<td>
<p>Pearson's correlation</p>
</td></tr>
<tr><td><code>Spearman</code></td>
<td>
<p>Spearman's rank correlation</p>
</td></tr>
<tr><td><code>PCC</code></td>
<td>
<p>Point correlation coefficient</p>
</td></tr>
<tr><td><code>AC</code></td>
<td>
<p>Association coefficient</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Zhang Qiaoying, Peng Shaolin, Zhang Sumei, Zhang Yunchun, Hou Yuping.(2008). Association of dormintant species in Guia hill Municipal Park of Macao.  Ecology and Environment. 17:1541-1547
</p>
<p>Zhou XY, Wang BS, Li MG, Zan QJ.(2000). An analysis of interspecific associations in secondary  succession forest communities in Heishiding Nature Reserve, Guangdong Province. Acta Phytoecologica Sinica. 24:332-339.
</p>
<p>JIAN Minfei, LIU qijing, ZHU du, YOU hai.(2009). Inter-specific correlations among dorminant populations of tree layer species in evergreen broad-leaved forest in Jiulianshan Mountain of subtropical China. Chinese Journal of Plant Ecology. 33: 672-680 
</p>


<h3>See Also</h3>

<p>See Also as <code><a href="#topic+sp.assoc">sp.assoc</a></code> for species association for total species.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
spmatrix &lt;- data2mat(testdata)
result &lt;- sp.pair(spmatrix)
</code></pre>

<hr>
<h2 id='splist'>
species list used in function add.col()
</h2><span id='topic+splist'></span>

<h3>Description</h3>

<p>A species check list example to be used in add.col()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(splist)</code></pre>


<h3>Format</h3>

<p>A data frame with 9 observations on the following 3 variables.
</p>

<dl>
<dt><code>species</code></dt><dd><p>a factor with levels <code>sp1</code> to <code>sp8</code></p>
</dd>
<dt><code>genera</code></dt><dd><p>a factor with levels <code>gen1</code> to <code>gen6</code></p>
</dd>
<dt><code>family</code></dt><dd><p>a factor with levels <code>fam1</code> to <code>fam5</code></p>
</dd>
</dl>



<h3>References</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(splist)
data(testdata)
## add genera from dataframe B to dataframe A.
add.col(inputA = testdata, inputB = splist, add = "genera",
according = "species")
## add family from dataframe B to dataframe A.
add.col(inputA = testdata, inputB = splist, add = "family", 
according = "species")

</code></pre>

<hr>
<h2 id='sub.sp.matrix'>
Subset species matrix according to relative frequency
</h2><span id='topic+sub.sp.matrix'></span>

<h3>Description</h3>

<p>Subset species matrix according to relative frequency.</p>


<h3>Usage</h3>

<pre><code class='language-R'>sub.sp.matrix(spmatrix, freq = 0.5, common = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sub.sp.matrix_+3A_spmatrix">spmatrix</code></td>
<td>

<p>The spmatrix is a standard species matrix with rows for plots and column for species.
</p>
</td></tr>
<tr><td><code id="sub.sp.matrix_+3A_freq">freq</code></td>
<td>

<p>The value of relative frequency to be specified, species with higher relative frequency will be reserved in the output matrix. 
</p>
</td></tr>
<tr><td><code id="sub.sp.matrix_+3A_common">common</code></td>
<td>

<p>The number of most common (according to relative frequency) species to be specified. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>sub.sp.matrix will select the species whose relative frequency above 0.5 (default), or select certain number of species according to relative frequency.  
</p>


<h3>Value</h3>

<p>A subset matrix with certain number of top relative frequency.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>See Also</h3>

<p>See Also <code><a href="base.html#topic+subset">subset</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(vegan)
data(BCI)
## Select the species whose relative frequency 
## more than 0.5, from BCI data 
sub &lt;- sub.sp.matrix(BCI, freq = 0.5)
## Select the top 30 species according to relative frequency 
sub &lt;- sub.sp.matrix(BCI, common = 30)
</code></pre>

<hr>
<h2 id='testdata'>
Example Data
</h2><span id='topic+testdata'></span>

<h3>Description</h3>

<p>Data used in example in list format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(testdata)</code></pre>


<h3>Format</h3>

<p>A data frame with 11 observations on the following 3 variables.
</p>

<dl>
<dt><code>plotname</code></dt><dd><p>a factor with levels <code>plot1</code>, <code>plot2</code>, <code>plot3</code>.</p>
</dd>
<dt><code>species</code></dt><dd><p>a factor with levels <code>sp1</code> to <code>sp7</code>. </p>
</dd>
<dt><code>abundance</code></dt><dd><p>a numeric vector indicating number of individuals appeared in each plot.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(testdata)
testdata
</code></pre>

<hr>
<h2 id='turnover'>
Calculating species turnover
</h2><span id='topic+turnover'></span>

<h3>Description</h3>

<p>Calculating species turnover based on the mean value between focus quadrat and their neighbours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>turnover(lab.mat, dist.mat, type = c("quart", "octal"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="turnover_+3A_lab.mat">lab.mat</code></td>
<td>

<p>matrix of quadrat labels.
</p>
</td></tr>
<tr><td><code id="turnover_+3A_dist.mat">dist.mat</code></td>
<td>

<p>distance matrix between each pair of quadrats
</p>
</td></tr>
<tr><td><code id="turnover_+3A_type">type</code></td>
<td>

<p>&quot;quart&quot; indicates four neighbouring quadrats, &quot;octal&quot; indicate eight neighbouring quadrats.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>species turnover based on the mean value between centred quadrat and its neighbours.
</p>


<h3>Value</h3>

<p>matrix with species turnover.
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>Lennon J. 2001 The geographical structure of British bird distributions - diversity, spatial turnover and scale Journal of Animal Ecology 70,966-979
</p>


<h3>See Also</h3>

<p><code><a href="#topic+XYname">XYname</a></code> and <code><a href="#topic+lab.mat">lab.mat</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##example turnover()
plotlab1 &lt;- XYname(4,6)
xxx &lt;- 1:240
dim(xxx) &lt;- c(24, 10)
rownames(xxx) &lt;- plotlab1
### Distance between each pair of plots
ddd &lt;- dist(xxx)
### label matrix
labmat1 &lt;- lab.mat(plotlab1)
yyy &lt;- turnover(labmat1, ddd)

</code></pre>

<hr>
<h2 id='XYname'>
Generating vector of XY labels
</h2><span id='topic+XYname'></span>

<h3>Description</h3>

<p>Generating vector of XY labels by providing number of rows and columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XYname(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XYname_+3A_x">x</code></td>
<td>

<p>Number of X labels
</p>
</td></tr>
<tr><td><code id="XYname_+3A_y">y</code></td>
<td>

<p>Number of Y labels
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of XY labels
</p>


<h3>Author(s)</h3>

<p>Jinlong Zhang <a href="mailto:jinlongzhang01@gmail.com">jinlongzhang01@gmail.com</a>
</p>


<h3>References</h3>

<p>None
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lab.mat">lab.mat</a></code> for converting the vector to matrix of XY labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## XYname() example
XYname(4,6)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package forestploter</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {forestploter}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_border'><p>Add border to cells</p></a></li>
<li><a href='#add_grob'><p>Add grob in cells</p></a></li>
<li><a href='#add_text'><p>Add text to forest plot</p></a></li>
<li><a href='#check_errors'><p>Checking error for forest plot</p></a></li>
<li><a href='#edit_plot'><p>Edit forest plot</p></a></li>
<li><a href='#forest'><p>Forest plot</p></a></li>
<li><a href='#forest_theme'><p>Forest plot default theme</p></a></li>
<li><a href='#forestploter'><p>Create Forest Plot</p></a></li>
<li><a href='#get_wh'><p>Get widths and height the forestplot</p></a></li>
<li><a href='#insert_text'><p>Insert text to forest plot</p></a></li>
<li><a href='#legend_grob'><p>Create legends</p></a></li>
<li><a href='#make_arrow'><p>Make arrow</p></a></li>
<li><a href='#make_boxplot'><p>Create horizontal boxplot grob</p></a></li>
<li><a href='#make_summary'><p>Create pooled summary diamond shape</p></a></li>
<li><a href='#make_ticks'><p>Set x-axis ticks</p></a></li>
<li><a href='#make_xaxis'><p>Create x-axis</p></a></li>
<li><a href='#make_xlim'><p>Create xlim</p></a></li>
<li><a href='#makeci'><p>Create confidence interval grob</p></a></li>
<li><a href='#print.forestplot'><p>Draw plot</p></a></li>
<li><a href='#xscale'><p>Change Axis Scale: log2, log10 and more</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Create Flexible Forest Plot</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Create forest plot based on the layout of the data. Confidence interval in multiple columns by groups can be done easily. Editing plot, inserting/adding text, applying theme to the plot and much more.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/adayim/forestploter">https://github.com/adayim/forestploter</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/adayim/forestploter/issues">https://github.com/adayim/forestploter/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>grid, gridExtra, gtable</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gridtext, rmarkdown, knitr, vdiffr, testthat (&ge; 3.0.0), covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-23 17:51:45 UTC; alimd</td>
</tr>
<tr>
<td>Author:</td>
<td>Alimu Dayimu <a href="https://orcid.org/0000-0001-9998-7463"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alimu Dayimu &lt;ad938@cam.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-23 19:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_border'>Add border to cells</h2><span id='topic+add_border'></span><span id='topic+add_underline'></span>

<h3>Description</h3>

<p>Add border to any cells at any side.
</p>
<p><code><a href="#topic+add_underline">add_underline</a></code> is a wrapper of <code><a href="#topic+add_border">add_border</a></code> can be used to add
underline to cells.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_border(
  plot,
  row = NULL,
  col = NULL,
  part = c("body", "header"),
  where = c("bottom", "left", "top", "right"),
  gp = gpar(lwd = 2)
)

add_underline(
  plot,
  row = NULL,
  col = NULL,
  part = c("body", "header"),
  gp = gpar(lwd = 2)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_border_+3A_plot">plot</code></td>
<td>
<p>A forest plot object.</p>
</td></tr>
<tr><td><code id="add_border_+3A_row">row</code></td>
<td>
<p>A numeric value or vector indicating row number to add border.
This is corresponding to the data row number. Remember to account for any
text inserted. A border will be drawn to all rows if this is omitted.</p>
</td></tr>
<tr><td><code id="add_border_+3A_col">col</code></td>
<td>
<p>A numeric value or vector indicating the columns to add border.
A border will be drawn to all columns if this is omitted.</p>
</td></tr>
<tr><td><code id="add_border_+3A_part">part</code></td>
<td>
<p>The border will be added to <code>"body"</code> (default) or
<code>"header"</code>.</p>
</td></tr>
<tr><td><code id="add_border_+3A_where">where</code></td>
<td>
<p>Where to draw the border of the cell, possible values are
<code>"bottom"</code> (default), <code>"left"</code>, <code>"top"</code> and <code>"right"</code></p>
</td></tr>
<tr><td><code id="add_border_+3A_gp">gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, graphical parameter to be passed
to <code><a href="grid.html#topic+segmentsGrob">segmentsGrob</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+gpar">gpar</a></code> <code><a href="grid.html#topic+segmentsGrob">segmentsGrob</a></code> <code><a href="gtable.html#topic+gtable_add_grob">gtable_add_grob</a></code>
</p>

<hr>
<h2 id='add_grob'>Add grob in cells</h2><span id='topic+add_grob'></span>

<h3>Description</h3>

<p>Draw grobs in any cells.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_grob(
  plot,
  row = NULL,
  col = NULL,
  part = c("body", "header"),
  order = c("top", "text", "background", "bottom"),
  gb_fn,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_grob_+3A_plot">plot</code></td>
<td>
<p>A forest plot object.</p>
</td></tr>
<tr><td><code id="add_grob_+3A_row">row</code></td>
<td>
<p>A numeric value or vector indicating row(s) to draw a grob.</p>
</td></tr>
<tr><td><code id="add_grob_+3A_col">col</code></td>
<td>
<p>A numeric value or vector indicating the columns to draw a grob.</p>
</td></tr>
<tr><td><code id="add_grob_+3A_part">part</code></td>
<td>
<p>The border will be added to <code>"body"</code> (default) or
<code>"header"</code>.</p>
</td></tr>
<tr><td><code id="add_grob_+3A_order">order</code></td>
<td>
<p>Order in which the grobs should be plotted. Use <code>'top'</code>
(default) to draw the grob above everything, <code>'text'</code> on the top of text
given by plot data but below everything else, <code>'background'</code> plot on the
top of background but below everything else, <code>'bottom'</code> below everything.</p>
</td></tr>
<tr><td><code id="add_grob_+3A_gb_fn">gb_fn</code></td>
<td>
<p>Grob function</p>
</td></tr>
<tr><td><code id="add_grob_+3A_...">...</code></td>
<td>
<p>Other parameters to be passed to <code>gb_fn</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="gtable.html#topic+gtable_add_grob">gtable_add_grob</a></code>
</p>

<hr>
<h2 id='add_text'>Add text to forest plot</h2><span id='topic+add_text'></span>

<h3>Description</h3>

<p>This function can be used to add text to forest plot. The text can be span to
multiple rows and columns. The height of the row will be changed accordingly
if the text is added to only one row. The width of the text may exceeds the
columns provided if the text is too long.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_text(
  plot,
  text,
  row = NULL,
  col = NULL,
  part = c("body", "header"),
  just = c("center", "left", "right"),
  gp = gpar(),
  padding = unit(1, "mm"),
  parse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_text_+3A_plot">plot</code></td>
<td>
<p>A forest plot object.</p>
</td></tr>
<tr><td><code id="add_text_+3A_text">text</code></td>
<td>
<p>A character or expression vector, see <code><a href="grid.html#topic+textGrob">textGrob</a></code>.</p>
</td></tr>
<tr><td><code id="add_text_+3A_row">row</code></td>
<td>
<p>Row to add the text, this will be ignored if the <code>part</code> is
&quot;header&quot;.</p>
</td></tr>
<tr><td><code id="add_text_+3A_col">col</code></td>
<td>
<p>A numeric value or vector indicating the columns the text will be
added. The text will span over the column if a vector is given.</p>
</td></tr>
<tr><td><code id="add_text_+3A_part">part</code></td>
<td>
<p>Part to add text, body (default) or header.</p>
</td></tr>
<tr><td><code id="add_text_+3A_just">just</code></td>
<td>
<p>The justification of the text, <code>"center"</code> (default),
<code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="add_text_+3A_gp">gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, this is the graphical parameter
settings of the text. See <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="add_text_+3A_padding">padding</code></td>
<td>
<p>Padding of the text, default is <code>unit(1, "mm")</code></p>
</td></tr>
<tr><td><code id="add_text_+3A_parse">parse</code></td>
<td>
<p>Logical, behaviour for parsing text as plotmath, see
<code><a href="grDevices.html#topic+plotmath">plotmath</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="gtable.html#topic+gtable">gtable</a></code> <code><a href="grid.html#topic+gpar">gpar</a></code> <code><a href="grid.html#topic+textGrob">textGrob</a></code>
<code><a href="gtable.html#topic+gtable_add_grob">gtable_add_grob</a></code>
</p>

<hr>
<h2 id='check_errors'>Checking error for forest plot</h2><span id='topic+check_errors'></span>

<h3>Description</h3>

<p>Checking error for forest plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_errors(
  data,
  est,
  lower,
  upper,
  sizes,
  ref_line,
  vert_line,
  ci_column,
  is_summary,
  xlim,
  x_trans,
  ticks_at,
  ticks_digits,
  title,
  arrow_lab,
  xlab
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_errors_+3A_data">data</code></td>
<td>
<p>Data to be displayed in the forest plot</p>
</td></tr>
<tr><td><code id="check_errors_+3A_est">est</code></td>
<td>
<p>Point estimation. Can be a list for multiple columns
and/or multiple groups. If the length of the list is larger than
then length of <code>ci_column</code>, then the values reused for each column
and considered as different groups.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_lower">lower</code></td>
<td>
<p>Lower bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_upper">upper</code></td>
<td>
<p>Upper bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_sizes">sizes</code></td>
<td>
<p>Size of the point estimation box, can be a unit, vector or a list.
Values will be used as it is, no transformation will be applied.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_ref_line">ref_line</code></td>
<td>
<p>X-axis coordinates of zero line, default is 1. Provide an atomic
vector if different reference line for each <code>ci_column</code> is desired.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_vert_line">vert_line</code></td>
<td>
<p>Numerical vector, add additional vertical line at given value.
Provide a list of numerical vector element if different vertical line for each
<code>ci_column</code> is desired.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_ci_column">ci_column</code></td>
<td>
<p>Column number of the data the CI will be displayed.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_is_summary">is_summary</code></td>
<td>
<p>A logical vector indicating if the value is a summary value,
which will have a diamond shape for the estimate. Can not be used with multiple
group <code>forestplot</code>.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_x_trans">x_trans</code></td>
<td>
<p>Change axis scale, Allowed values are one of c(&quot;none&quot;, &quot;log&quot;, &quot;log2&quot;,
&quot;log10&quot;). Default is <code>"none"</code>, no transformation will be applied.
The formatted label will be used for <code>scale  = "log2"</code> or <code>"log10"</code>, change
this in <code>x_trans</code>. Set this to <code>"log"</code> if x-axis tick marks assume values
are exponential, e.g. for logistic regression (OR), survival estimates (HR), Poisson
regression etc.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_ticks_at">ticks_at</code></td>
<td>
<p>Set X-axis tick-marks point. This will apply to all CI columns if
provided, and will be calculated automatically for each column if not provided.
This should be a list if different <code>ticks_at</code> for different column is desired.
Although many efforts have been made to automatically get a pretty ticks break,
it will not give a perfect solution, especially if <code>'log2'</code> and <code>'log10'</code>
defined for <code>x_trans</code>. Please provide this value if possible.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_ticks_digits">ticks_digits</code></td>
<td>
<p>Number of digits for the x-axis, default is <code>NULL</code> to calculate
an integer based on <code>ticks_at</code> if provided or <code>lower</code> and <code>upper</code> if not.
This should be a numerical vector if different rounding will be applied to different
column. If an integer is specified, for example <code>1L</code>, trailing zeros after
the decimal mark will be dropped. Specify numeric, for example  <code>1</code>, to keep
the trailing zero after the decimal mark.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_title">title</code></td>
<td>
<p>The text for the title.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_arrow_lab">arrow_lab</code></td>
<td>
<p>Labels for the arrows, string vector of length two (left and
right). The theme of arrow will inherit from the x-axis. This should be a list
if different arrow labels for each column is desired.</p>
</td></tr>
<tr><td><code id="check_errors_+3A_xlab">xlab</code></td>
<td>
<p>X-axis labels, it will be put under the x-axis. An atomic vector should
be provided if different <code>xlab</code> for different column is desired.</p>
</td></tr>
</table>

<hr>
<h2 id='edit_plot'>Edit forest plot</h2><span id='topic+edit_plot'></span>

<h3>Description</h3>

<p>This function is used to edit the graphical parameter of text and background
of the forest plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_plot(
  plot,
  row = NULL,
  col = NULL,
  part = c("body", "header"),
  which = c("text", "background", "ci"),
  gp = gpar(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit_plot_+3A_plot">plot</code></td>
<td>
<p>A forest plot object.</p>
</td></tr>
<tr><td><code id="edit_plot_+3A_row">row</code></td>
<td>
<p>A numeric value or vector indicating row number to edit in the
dataset. Will edit the whole row if left blank for the body. This will be
ignored if the <code>part</code> is &quot;header&quot;.</p>
</td></tr>
<tr><td><code id="edit_plot_+3A_col">col</code></td>
<td>
<p>A numeric value or vector indicating column to edit in the dataset.
Will edit the whole column if left blank.</p>
</td></tr>
<tr><td><code id="edit_plot_+3A_part">part</code></td>
<td>
<p>Part to edit, <code>"body"</code> (default) or <code>"header"</code>.</p>
</td></tr>
<tr><td><code id="edit_plot_+3A_which">which</code></td>
<td>
<p>Which element to edit, <code>"text"</code>, <code>"background"</code> or
<code>"ci"</code> (confidence interval). This will not edit diamond shaped summary
CI, please change it with <code><a href="#topic+forest_theme">forest_theme</a></code>. Also, change in <code>ci</code> will
not have any impact on the legend.</p>
</td></tr>
<tr><td><code id="edit_plot_+3A_gp">gp</code></td>
<td>
<p>Pass <code>gpar</code> parameters, see <code><a href="grid.html#topic+gpar">gpar</a></code>. It should
be passed as <code>gpar(col = "red")</code>. For <code>which = "ci"</code>, please refer to
<code><a href="#topic+forest_theme">forest_theme</a></code> <code>ci_*</code> parameters for the editable elements.</p>
</td></tr>
<tr><td><code id="edit_plot_+3A_...">...</code></td>
<td>
<p>Other parameters to be passed to the grobs. For the <code>"text"</code>, please
see <code><a href="grid.html#topic+textGrob">textGrob</a></code> for details and <code><a href="grid.html#topic+rectGrob">rectGrob</a></code>
for <code>"background"</code>. This will be ignored if <code>which = "ci"</code> as changing
parameters for the confidence interval are not allowed except for the graphical
parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+gpar">gpar</a></code> <code><a href="grid.html#topic+editGrob">editGrob</a></code> <code><a href="#topic+forest_theme">forest_theme</a></code>
<code><a href="grid.html#topic+textGrob">textGrob</a></code> <code><a href="grid.html#topic+rectGrob">rectGrob</a></code>
</p>

<hr>
<h2 id='forest'>Forest plot</h2><span id='topic+forest'></span>

<h3>Description</h3>

<p>A data frame will be used for the basic layout of the forest plot.
Graphical parameters can be set using the <code><a href="#topic+forest_theme">forest_theme</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forest(
  data,
  est,
  lower,
  upper,
  sizes = 0.4,
  ref_line = ifelse(x_trans %in% c("log", "log2", "log10"), 1, 0),
  vert_line = NULL,
  ci_column,
  is_summary = NULL,
  xlim = NULL,
  ticks_at = NULL,
  ticks_digits = NULL,
  arrow_lab = NULL,
  x_trans = "none",
  xlab = NULL,
  footnote = NULL,
  title = NULL,
  nudge_y = 0,
  fn_ci = makeci,
  fn_summary = make_summary,
  index_args = NULL,
  theme = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest_+3A_data">data</code></td>
<td>
<p>Data to be displayed in the forest plot</p>
</td></tr>
<tr><td><code id="forest_+3A_est">est</code></td>
<td>
<p>Point estimation. Can be a list for multiple columns
and/or multiple groups. If the length of the list is larger than
then length of <code>ci_column</code>, then the values reused for each column
and considered as different groups.</p>
</td></tr>
<tr><td><code id="forest_+3A_lower">lower</code></td>
<td>
<p>Lower bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="forest_+3A_upper">upper</code></td>
<td>
<p>Upper bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="forest_+3A_sizes">sizes</code></td>
<td>
<p>Size of the point estimation box, can be a unit, vector or a list.
Values will be used as it is, no transformation will be applied.</p>
</td></tr>
<tr><td><code id="forest_+3A_ref_line">ref_line</code></td>
<td>
<p>X-axis coordinates of zero line, default is 1. Provide an atomic
vector if different reference line for each <code>ci_column</code> is desired.</p>
</td></tr>
<tr><td><code id="forest_+3A_vert_line">vert_line</code></td>
<td>
<p>Numerical vector, add additional vertical line at given value.
Provide a list of numerical vector element if different vertical line for each
<code>ci_column</code> is desired.</p>
</td></tr>
<tr><td><code id="forest_+3A_ci_column">ci_column</code></td>
<td>
<p>Column number of the data the CI will be displayed.</p>
</td></tr>
<tr><td><code id="forest_+3A_is_summary">is_summary</code></td>
<td>
<p>A logical vector indicating if the value is a summary value,
which will have a diamond shape for the estimate. Can not be used with multiple
group <code>forestplot</code>.</p>
</td></tr>
<tr><td><code id="forest_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="forest_+3A_ticks_at">ticks_at</code></td>
<td>
<p>Set X-axis tick-marks point. This will apply to all CI columns if
provided, and will be calculated automatically for each column if not provided.
This should be a list if different <code>ticks_at</code> for different column is desired.
Although many efforts have been made to automatically get a pretty ticks break,
it will not give a perfect solution, especially if <code>'log2'</code> and <code>'log10'</code>
defined for <code>x_trans</code>. Please provide this value if possible.</p>
</td></tr>
<tr><td><code id="forest_+3A_ticks_digits">ticks_digits</code></td>
<td>
<p>Number of digits for the x-axis, default is <code>NULL</code> to calculate
an integer based on <code>ticks_at</code> if provided or <code>lower</code> and <code>upper</code> if not.
This should be a numerical vector if different rounding will be applied to different
column. If an integer is specified, for example <code>1L</code>, trailing zeros after
the decimal mark will be dropped. Specify numeric, for example  <code>1</code>, to keep
the trailing zero after the decimal mark.</p>
</td></tr>
<tr><td><code id="forest_+3A_arrow_lab">arrow_lab</code></td>
<td>
<p>Labels for the arrows, string vector of length two (left and
right). The theme of arrow will inherit from the x-axis. This should be a list
if different arrow labels for each column is desired.</p>
</td></tr>
<tr><td><code id="forest_+3A_x_trans">x_trans</code></td>
<td>
<p>Change axis scale, Allowed values are one of c(&quot;none&quot;, &quot;log&quot;, &quot;log2&quot;,
&quot;log10&quot;). Default is <code>"none"</code>, no transformation will be applied.
The formatted label will be used for <code>scale  = "log2"</code> or <code>"log10"</code>, change
this in <code>x_trans</code>. Set this to <code>"log"</code> if x-axis tick marks assume values
are exponential, e.g. for logistic regression (OR), survival estimates (HR), Poisson
regression etc.</p>
</td></tr>
<tr><td><code id="forest_+3A_xlab">xlab</code></td>
<td>
<p>X-axis labels, it will be put under the x-axis. An atomic vector should
be provided if different <code>xlab</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="forest_+3A_footnote">footnote</code></td>
<td>
<p>Footnote for the forest plot, will be aligned at left bottom
of the plot. Please adjust the line length with line break to avoid the overlap
with the arrow and/or x-axis.</p>
</td></tr>
<tr><td><code id="forest_+3A_title">title</code></td>
<td>
<p>The text for the title.</p>
</td></tr>
<tr><td><code id="forest_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal adjustment to nudge groups by, must be within 0 to 1.</p>
</td></tr>
<tr><td><code id="forest_+3A_fn_ci">fn_ci</code></td>
<td>
<p>Name of the function to draw confidence interval, default is
<code><a href="#topic+makeci">makeci</a></code>. You can specify your own drawing function to draw the
confidence interval, but the function needs to accept arguments <code>
"est", "lower", "upper", "sizes", "xlim", "pch", "gp", "t_height", "nudge_y"</code>.
Please refer to the <code><a href="#topic+makeci">makeci</a></code> function for the details of these
parameters.</p>
</td></tr>
<tr><td><code id="forest_+3A_fn_summary">fn_summary</code></td>
<td>
<p>Name of the function to draw summary confidence interval,
default is <code><a href="#topic+make_summary">make_summary</a></code>. You can specify your own drawing
function to draw the summary confidence interval, but the function needs to
accept arguments <code>"est", "lower", "upper", "sizes", "xlim", "gp"</code>.
Please refer to the <code><a href="#topic+make_summary">make_summary</a></code> function for the details of
these parameters.</p>
</td></tr>
<tr><td><code id="forest_+3A_index_args">index_args</code></td>
<td>
<p>A character vector, name of the arguments used for indexing
the row and column. This should be the name of the arguments that is working
the same way as <code>est</code>, <code>lower</code> and <code>upper</code>. Check out the
examples in the <code><a href="#topic+make_boxplot">make_boxplot</a></code>.</p>
</td></tr>
<tr><td><code id="forest_+3A_theme">theme</code></td>
<td>
<p>Theme of the forest plot, see <code><a href="#topic+forest_theme">forest_theme</a></code> for
details.</p>
</td></tr>
<tr><td><code id="forest_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to the <code>fn_ci</code> and <code>fn_summary</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="gtable.html#topic+gtable">gtable</a></code> <code><a href="gridExtra.html#topic+tableGrob">tableGrob</a></code>
<code><a href="#topic+forest_theme">forest_theme</a></code> <code><a href="#topic+make_boxplot">make_boxplot</a></code>
<code><a href="#topic+makeci">makeci</a></code>  <code><a href="#topic+make_summary">make_summary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read provided sample example data
dt &lt;- read.csv(system.file("extdata", "example_data.csv", package = "forestploter"))

# Keep needed columns
dt &lt;- dt[,1:6]

# indent the subgroup if there is a number in the placebo column
dt$Subgroup &lt;- ifelse(is.na(dt$Placebo),
                      dt$Subgroup,
                      paste0("   ", dt$Subgroup))

# NA to blank or NA will be transformed to carachter.
dt$Treatment &lt;- ifelse(is.na(dt$Treatment), "", dt$Treatment)
dt$Placebo &lt;- ifelse(is.na(dt$Placebo), "", dt$Placebo)
dt$se &lt;- (log(dt$hi) - log(dt$est))/1.96

# Add blank column for the forest plot to display CI.
# Adjust the column width with space.
dt$` ` &lt;- paste(rep(" ", 20), collapse = " ")

# Create confidence interval column to display
dt$`HR (95% CI)` &lt;- ifelse(is.na(dt$se), "",
                             sprintf("%.2f (%.2f to %.2f)",
                                     dt$est, dt$low, dt$hi))

# Define theme
tm &lt;- forest_theme(base_size = 10,
                   refline_col = "red",
                   footnote_col = "#636363",
                   footnote_fontface = "italic")

p &lt;- forest(dt[,c(1:3, 8:9)],
            est = dt$est,
            lower = dt$low,
            upper = dt$hi,
            sizes = dt$se,
            ci_column = 4,
            ref_line = 1,
            arrow_lab = c("Placebo Better", "Treatment Better"),
            xlim = c(0, 4),
            ticks_at = c(0.5, 1, 2, 3),
            footnote = "This is the demo data. Please feel free to change\nanything you want.",
            theme = tm)

# Print plot
plot(p)
</code></pre>

<hr>
<h2 id='forest_theme'>Forest plot default theme</h2><span id='topic+forest_theme'></span>

<h3>Description</h3>

<p>Default theme for the forest plot, but can pass other parameters. The
parameters will be passed to corresponding elements of the forest plot.
</p>

<ul>
<li><p><code>ci_*</code>Control the graphical parameters of confidence intervals
</p>
</li>
<li><p><code>legend_*</code>Control the graphical parameters of legend
</p>
</li>
<li><p><code>xaxis_*</code>Control the graphical parameters of x-axis
</p>
</li>
<li><p><code>refline_*</code>Control the graphical parameters of reference line
</p>
</li>
<li><p><code>vertline_*</code>Control the graphical parameters of vertical line
</p>
</li>
<li><p><code>summary_*</code>Control the graphical parameters of diamond shaped summary CI
</p>
</li>
<li><p><code>footnote_*</code>Control the graphical parameters of footnote
</p>
</li>
<li><p><code>title_*</code>Control the graphical parameters of title
</p>
</li>
<li><p><code>arrow_*</code>Control the graphical parameters of arrow
</p>
</li></ul>

<p>See <code><a href="grid.html#topic+gpar">gpar</a></code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forest_theme(
  base_size = 12,
  base_family = "",
  ci_pch = 15,
  ci_col = "black",
  ci_alpha = 1,
  ci_fill = NULL,
  ci_lty = 1,
  ci_lwd = 1,
  ci_Theight = NULL,
  legend_name = "Group",
  legend_position = "right",
  legend_value = "",
  xaxis_lwd = 0.6,
  xaxis_cex = 1,
  refline_lwd = 1,
  refline_lty = "dashed",
  refline_col = "grey20",
  vertline_lwd = 1,
  vertline_lty = "dashed",
  vertline_col = "grey20",
  summary_col = "#4575b4",
  summary_fill = summary_col,
  footnote_cex = 0.6,
  footnote_fontface = "plain",
  footnote_col = "black",
  title_just = c("left", "right", "center"),
  title_cex = 1.2,
  title_fontface = "bold",
  title_col = "black",
  title_fontfamily = base_family,
  arrow_type = c("open", "closed"),
  arrow_label_just = c("start", "end"),
  arrow_length = 0.05,
  arrow_lwd = xaxis_lwd,
  arrow_fill = "black",
  arrow_col = arrow_fill,
  arrow_cex = xaxis_cex,
  xlab_adjust = c("refline", "center"),
  xlab_cex = 1,
  xlab_fontface = "plain",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest_theme_+3A_base_size">base_size</code></td>
<td>
<p>The size of text</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_base_family">base_family</code></td>
<td>
<p>The font family</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_pch">ci_pch</code></td>
<td>
<p>Shape of the point estimation. It will be reused if the
forest plot is grouped.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_col">ci_col</code></td>
<td>
<p>Color of the CI. A vector of color should be provided for
the grouped forest plot. An internal color set will be if only not.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_alpha">ci_alpha</code></td>
<td>
<p>Scalar value, alpha channel for transparency of point estimation.
A small vertical line will be added to indicate the point estimation if this
is not equals to 1.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_fill">ci_fill</code></td>
<td>
<p>Color fill the point estimation. A vector of color should be
provided for the grouped forest plot. If this is <code>NULL</code> (default), the
value will inherit from <code>"ci_col"</code>. This is valid only if
<code>ci_pch</code> within 15:25.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_lty">ci_lty</code></td>
<td>
<p>Line type of the CI. A vector of line type should be provided
for the grouped forest plot.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_lwd">ci_lwd</code></td>
<td>
<p>Line width of the CI. A vector of line type should be provided
for the grouped forest plot.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_ci_theight">ci_Theight</code></td>
<td>
<p>A unit specifying the height of the T end of CI. If set to
<code>NULL</code> (default), no T end will be drawn.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_legend_name">legend_name</code></td>
<td>
<p>Title of the legend.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_legend_position">legend_position</code></td>
<td>
<p>Position of the legend, <code>"right"</code>, <code>"top"</code>,
<code>"bottom"</code> or <code>"none"</code> to suppress the legend.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_legend_value">legend_value</code></td>
<td>
<p>Legend labels (expressions). A vector should be provided
for the grouped forest plot. A &quot;Group 1&quot; etc will be created if not a vector
for a grouped forest plot.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_xaxis_lwd">xaxis_lwd</code></td>
<td>
<p>Line width for x-axis.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_xaxis_cex">xaxis_cex</code></td>
<td>
<p>Multiplier applied to font size for x-axis.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_refline_lwd">refline_lwd</code></td>
<td>
<p>Line width for reference line.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_refline_lty">refline_lty</code></td>
<td>
<p>Line type for reference line.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_refline_col">refline_col</code></td>
<td>
<p>Line color for the reference line.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_vertline_lwd">vertline_lwd</code></td>
<td>
<p>Line width for extra vertical line. A vector can be provided
for each vertical line, and the values will be recycled if no enough values are
given.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_vertline_lty">vertline_lty</code></td>
<td>
<p>Line type for extra vertical line. Works same as <code>vertline_lwd</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_vertline_col">vertline_col</code></td>
<td>
<p>Line color for the extra vertical line. Works same as <code>vertline_lwd</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_summary_col">summary_col</code></td>
<td>
<p>Color for borders of the summary diamond shape.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_summary_fill">summary_fill</code></td>
<td>
<p>Color for filling the summary diamond shape.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_footnote_cex">footnote_cex</code></td>
<td>
<p>Multiplier applied to font size for footnote.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_footnote_fontface">footnote_fontface</code></td>
<td>
<p>The font face for footnote.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_footnote_col">footnote_col</code></td>
<td>
<p>Color of the footnote.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_title_just">title_just</code></td>
<td>
<p>The justification of the title, default is <code>'left'</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_title_cex">title_cex</code></td>
<td>
<p>Multiplier applied to font size for title.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_title_fontface">title_fontface</code></td>
<td>
<p>The font face for title, default is <code>'bold'</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_title_col">title_col</code></td>
<td>
<p>Color of title.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_title_fontfamily">title_fontfamily</code></td>
<td>
<p>Font family of title.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_type">arrow_type</code></td>
<td>
<p>Type of the arrow below x-axis, see <code><a href="grid.html#topic+arrow">arrow</a></code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_label_just">arrow_label_just</code></td>
<td>
<p>The justification of the arrow label relative to arrow. Control
the arrow label to align to the starting point of the arrow <code>"start"</code> (default) or
the ending point of the arrow <code>"end"</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_length">arrow_length</code></td>
<td>
<p>The length of the arrow head, default is <code>0.05</code>.
See <code><a href="grid.html#topic+arrow">arrow</a></code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_lwd">arrow_lwd</code></td>
<td>
<p>Line width of the arrow, same as <code>xaxis_lwd</code> by default.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_fill">arrow_fill</code></td>
<td>
<p>Filling color of the arrow head, default is <code>"black"</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_col">arrow_col</code></td>
<td>
<p>Line and text color of the arrow, same as <code>arrow_fill</code> by default.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_arrow_cex">arrow_cex</code></td>
<td>
<p>Multiplier applied to font size for arrow label, same as <code>xaxis_cex</code> by default.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_xlab_adjust">xlab_adjust</code></td>
<td>
<p>Control the alignment of xlab to reference line (default) or center of the x-axis.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_xlab_cex">xlab_cex</code></td>
<td>
<p>Multiplier applied to font size for xlab</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_xlab_fontface">xlab_fontface</code></td>
<td>
<p>The font face for xlab, default is <code>'bold'</code>.</p>
</td></tr>
<tr><td><code id="forest_theme_+3A_...">...</code></td>
<td>
<p>Other parameters passed to table. See <code><a href="gridExtra.html#topic+tableGrob">tableGrob</a></code>
for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list.
</p>


<h3>See Also</h3>

<p><code><a href="gridExtra.html#topic+tableGrob">tableGrob</a></code> <code><a href="#topic+forest">forest</a></code> <code><a href="grid.html#topic+textGrob">textGrob</a></code>
<code><a href="grid.html#topic+gpar">gpar</a></code> <code><a href="grid.html#topic+arrow">arrow</a></code> <code><a href="grid.html#topic+segmentsGrob">segmentsGrob</a></code>
<code><a href="grid.html#topic+linesGrob">linesGrob</a></code> <code><a href="grid.html#topic+pointsGrob">pointsGrob</a></code> <code><a href="grid.html#topic+legendGrob">legendGrob</a></code>
</p>

<hr>
<h2 id='forestploter'>Create Forest Plot</h2><span id='topic+forestploter'></span><span id='topic+forestploter-package'></span>

<h3>Description</h3>

<p>This package uses gtable and gridExtra to overlay forest plots.
</p>


<h3>Author(s)</h3>

<p>Alimu Dayimu <a href="mailto:alimdayim@hotmail.com">alimdayim@hotmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+grid">grid</a></code>,<code><a href="gridExtra.html#topic+gridExtra">gridExtra</a></code>
</p>

<hr>
<h2 id='get_wh'>Get widths and height the forestplot</h2><span id='topic+get_wh'></span>

<h3>Description</h3>

<p><code>get_wh</code> can be used to find the correct width and height of the forestplot
for saving, as the width and height is difficult to fit for saving.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wh(plot, unit = c("in", "cm", "mm"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_wh_+3A_plot">plot</code></td>
<td>
<p>A forest plot object.</p>
</td></tr>
<tr><td><code id="get_wh_+3A_unit">unit</code></td>
<td>
<p>Unit of the plot size in <code>units</code> (&quot;in&quot;, &quot;cm&quot;, or &quot;mm&quot;)to be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector of width and height
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 dt &lt;- read.csv(system.file("extdata", "example_data.csv", package = "forestploter"))
 dt &lt;- dt[1:6,1:6]

 dt$` ` &lt;- paste(rep(" ", 20), collapse = " ")

 p &lt;- forest(dt[,c(1:3, 7)],
             est = dt$est,
             lower = dt$low,
             upper = dt$hi,
             ci_column = 4)

# get_wh example
p_wh &lt;- get_wh(p)
pdf('test.pdf',width = p_wh[1], height = p_wh[2])
plot(p)
dev.off()

## End(Not run)
</code></pre>

<hr>
<h2 id='insert_text'>Insert text to forest plot</h2><span id='topic+insert_text'></span>

<h3>Description</h3>

<p>This function can be used to insert text to forest plot. Remember to adjust
for the row number if you have added text before, including header. This is
achieved by inserted new row(s) to the plot and will affect the row number.
A text vector can be inserted to multiple columns or rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>insert_text(
  plot,
  text,
  row = NULL,
  col = NULL,
  part = c("body", "header"),
  just = c("center", "left", "right"),
  before = TRUE,
  gp = gpar(),
  padding = unit(1, "mm"),
  parse = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="insert_text_+3A_plot">plot</code></td>
<td>
<p>A forest plot object.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_text">text</code></td>
<td>
<p>A character or expression vector, see <code><a href="grid.html#topic+textGrob">textGrob</a></code>.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_row">row</code></td>
<td>
<p>Row to insert the text, this will be ignored if the <code>part</code> is
&quot;header&quot;.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_col">col</code></td>
<td>
<p>A numeric value or vector indicating the columns the text will be
added. The text will span over the column if a vector is given.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_part">part</code></td>
<td>
<p>Part to insert text, body (default) or header.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_just">just</code></td>
<td>
<p>The justification of the text, <code>"center"</code> (default),
<code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_before">before</code></td>
<td>
<p>Indicating the text will be inserted before or after the row.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_gp">gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, this is the graphical parameter
settings of the text. See <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="insert_text_+3A_padding">padding</code></td>
<td>
<p>Padding of the text, default is <code>unit(1, "mm")</code></p>
</td></tr>
<tr><td><code id="insert_text_+3A_parse">parse</code></td>
<td>
<p>Logical, behaviour for parsing text as plotmath, see
<code><a href="grDevices.html#topic+plotmath">plotmath</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+gpar">gpar</a></code> <code><a href="grid.html#topic+textGrob">textGrob</a></code> <code><a href="gtable.html#topic+gtable_add_grob">gtable_add_grob</a></code>
</p>

<hr>
<h2 id='legend_grob'>Create legends</h2><span id='topic+legend_grob'></span>

<h3>Description</h3>

<p>This function used to create legends for the forest plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legend_grob(
  name = "",
  label,
  position = c("right", "top", "bottom"),
  hgap = unit(0.1, "lines"),
  vgap = unit(0.5, "lines"),
  pch = 15,
  gp = gpar(lty = 1, col = "black", fill = "black", fontsize = 12, fontfamily = ""),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legend_grob_+3A_name">name</code></td>
<td>
<p>Character string, Legend name.</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_label">label</code></td>
<td>
<p>legend labels (expressions).</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_position">position</code></td>
<td>
<p>Position of the legend, <code>"right"</code>, <code>"top"</code>,
<code>"bottom"</code>.</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_hgap">hgap</code></td>
<td>
<p>Horizontal gap between the legend entries,
see <code><a href="grid.html#topic+legendGrob">legendGrob</a></code> for details.</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_vgap">vgap</code></td>
<td>
<p>Vertical gap between the legend entries,
see <code><a href="grid.html#topic+legendGrob">legendGrob</a></code> for details.</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_pch">pch</code></td>
<td>
<p>Legend symbol.</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_gp">gp</code></td>
<td>
<p>Graphical parameters.</p>
</td></tr>
<tr><td><code id="legend_grob_+3A_...">...</code></td>
<td>
<p>Other parameters, not used currently.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A frame grob
</p>

<hr>
<h2 id='make_arrow'>Make arrow</h2><span id='topic+make_arrow'></span>

<h3>Description</h3>

<p>Make arrow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_arrow(x0 = 1, arrow_lab, arrow_gp, col_width, xlim, x_trans = "none")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_arrow_+3A_x0">x0</code></td>
<td>
<p>Position of vertical line for 0 or 1.</p>
</td></tr>
<tr><td><code id="make_arrow_+3A_arrow_lab">arrow_lab</code></td>
<td>
<p>Labels for the arrows, string vector of length two (left and
right). The theme of arrow will inherit from the x-axis. This should be a list
if different arrow labels for each column is desired.</p>
</td></tr>
<tr><td><code id="make_arrow_+3A_arrow_gp">arrow_gp</code></td>
<td>
<p>Graphical parameters for arrow.</p>
</td></tr>
<tr><td><code id="make_arrow_+3A_col_width">col_width</code></td>
<td>
<p>Width of the column arrow to be fitted.</p>
</td></tr>
<tr><td><code id="make_arrow_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="make_arrow_+3A_x_trans">x_trans</code></td>
<td>
<p>Change axis scale, Allowed values are one of c(&quot;none&quot;, &quot;log&quot;, &quot;log2&quot;,
&quot;log10&quot;). Default is <code>"none"</code>, no transformation will be applied.
The formatted label will be used for <code>scale  = "log2"</code> or <code>"log10"</code>, change
this in <code>x_trans</code>. Set this to <code>"log"</code> if x-axis tick marks assume values
are exponential, e.g. for logistic regression (OR), survival estimates (HR), Poisson
regression etc.</p>
</td></tr>
</table>

<hr>
<h2 id='make_boxplot'>Create horizontal boxplot grob</h2><span id='topic+make_boxplot'></span>

<h3>Description</h3>

<p>Create horizontal boxplot grob
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_boxplot(
  est,
  lower,
  upper,
  lowhinge,
  uphinge,
  hinge_height = 0.2,
  pch,
  sizes = 1,
  gp = gpar(),
  gp_box = gp,
  t_height = NULL,
  xlim = c(0, 1),
  nudge_y = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_boxplot_+3A_est">est</code></td>
<td>
<p>Median value.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_lower">lower</code></td>
<td>
<p>Lower whisker.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_upper">upper</code></td>
<td>
<p>Upper whisker.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_lowhinge">lowhinge</code></td>
<td>
<p>Lower hinge, a standard whisker will be drawn if this
is missing.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_uphinge">uphinge</code></td>
<td>
<p>Upper hinge, a standard whisker will be drawn if this
is missing.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_hinge_height">hinge_height</code></td>
<td>
<p>Height of the hinge, default is 0.2.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_pch">pch</code></td>
<td>
<p>Numeric or character vector indicating what sort of plotting
symbol to use. See <code><a href="grid.html#topic+pointsGrob">pointsGrob</a></code>.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_sizes">sizes</code></td>
<td>
<p>Size of the point estimation box, can be a unit, vector or a list.
Values will be used as it is, no transformation will be applied.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_gp">gp</code></td>
<td>
<p>Graphical parameters of <code><a href="grid.html#topic+gpar">gpar</a></code>. Please refer
to <code><a href="#topic+forest_theme">forest_theme</a></code> for more details.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_gp_box">gp_box</code></td>
<td>
<p>Graphical parameters passed to the hinge, this will be
passed to <code><a href="grid.html#topic+rectGrob">rectGrob</a></code>. This does not support multiple groups.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_t_height">t_height</code></td>
<td>
<p>Height of the whisker end vertices. If value is <code>NULL</code> (default),
no vertices will be drawn.</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high).</p>
</td></tr>
<tr><td><code id="make_boxplot_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal adjustment to nudge groups by, must be within 0 to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gTree object
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+pointsGrob">pointsGrob</a></code> <code><a href="grid.html#topic+gpar">gpar</a></code> <code><a href="grid.html#topic+rectGrob">rectGrob</a></code>
<code><a href="grid.html#topic+linesGrob">linesGrob</a></code> <code><a href="grid.html#topic+segmentsGrob">segmentsGrob</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)

# Function to calculate Box plot values
box_func &lt;- function(x){
  iqr &lt;- IQR(x)
  q3 &lt;- quantile(x, probs = c(0.25, 0.5, 0.75), names = FALSE)
  c("min" = q3[1] - 1.5*iqr, "q1" = q3[1], "med" = q3[2],
    "q3" = q3[3], "max" = q3[3] + 1.5*iqr)
}
# Prepare data
val &lt;- split(ToothGrowth$len, list(ToothGrowth$supp, ToothGrowth$dose))
val &lt;- lapply(val, box_func)

dat &lt;- do.call(rbind, val)
dat &lt;- data.frame(Dose = row.names(dat),
                  dat, row.names = NULL)

dat$Box &lt;- paste(rep(" ", 20), collapse = " ")

# Draw single group box plot
tm &lt;- forest_theme(ci_Theight = 0.2)

p &lt;- forest(dat[,c(1, 7)],
            est = dat$med,
            lower = dat$min,
            upper = dat$max,
            # sizes = sizes,
            fn_ci = make_boxplot,
            ci_column = 2,
            lowhinge = dat$q1,
            uphinge = dat$q3,
            hinge_height = 0.2,
            index_args = c("lowhinge", "uphinge"),
            gp_box = gpar(fill = "black", alpha = 0.4),
            theme = tm
)
p

# Multiple group
# Prepare data
dat_oj &lt;- dat[c(1, 3, 5),]
dat_vc &lt;- dat[c(2, 4, 6), ]

dat &lt;- data.frame(Dose = c(0.5, 1, 2))
dat$Box &lt;- paste(rep(" ", 20), collapse = " ")

# Draw plot
tm &lt;- forest_theme(ci_Theight = 0.2,
                   ci_pch = 3)

p &lt;- forest(dat,
            est = list(dat_oj$med, dat_vc$med),
            lower = list(dat_oj$min, dat_vc$min),
            upper = list(dat_oj$max, dat_vc$max),
            fn_ci = make_boxplot,
            ci_column = 2,
            lowhinge = list(dat_oj$q1, dat_vc$q1),
            uphinge = list(dat_oj$q3, dat_vc$q3),
            hinge_height = 0.2,
            index_args = c("lowhinge", "uphinge"),
            theme = tm
)

p


</code></pre>

<hr>
<h2 id='make_summary'>Create pooled summary diamond shape</h2><span id='topic+make_summary'></span>

<h3>Description</h3>

<p>Create pooled summary diamond shape
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_summary(est, lower, upper, sizes = 1, gp, xlim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_summary_+3A_est">est</code></td>
<td>
<p>Point estimation. Can be a list for multiple columns
and/or multiple groups. If the length of the list is larger than
then length of <code>ci_column</code>, then the values reused for each column
and considered as different groups.</p>
</td></tr>
<tr><td><code id="make_summary_+3A_lower">lower</code></td>
<td>
<p>Lower bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="make_summary_+3A_upper">upper</code></td>
<td>
<p>Upper bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="make_summary_+3A_sizes">sizes</code></td>
<td>
<p>Size of the point estimation box, can be a unit, vector or a list.
Values will be used as it is, no transformation will be applied.</p>
</td></tr>
<tr><td><code id="make_summary_+3A_gp">gp</code></td>
<td>
<p>Graphical parameters of <code><a href="grid.html#topic+gpar">gpar</a></code>.
Please refer to <code><a href="#topic+forest_theme">forest_theme</a></code> for more details.</p>
</td></tr>
<tr><td><code id="make_summary_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gTree object
</p>

<hr>
<h2 id='make_ticks'>Set x-axis ticks</h2><span id='topic+make_ticks'></span>

<h3>Description</h3>

<p>Create ticks points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_ticks(at = NULL, xlim, refline = 1, x_trans = "none")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_ticks_+3A_at">at</code></td>
<td>
<p>Numerical vector, create ticks at given values.</p>
</td></tr>
<tr><td><code id="make_ticks_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="make_ticks_+3A_x_trans">x_trans</code></td>
<td>
<p>Change axis scale, Allowed values are one of c(&quot;none&quot;, &quot;log&quot;, &quot;log2&quot;,
&quot;log10&quot;). Default is <code>"none"</code>, no transformation will be applied.
The formatted label will be used for <code>scale  = "log2"</code> or <code>"log10"</code>, change
this in <code>x_trans</code>. Set this to <code>"log"</code> if x-axis tick marks assume values
are exponential, e.g. for logistic regression (OR), survival estimates (HR), Poisson
regression etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector
</p>

<hr>
<h2 id='make_xaxis'>Create x-axis</h2><span id='topic+make_xaxis'></span>

<h3>Description</h3>

<p>This function used to x-axis for the forest plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_xaxis(
  at,
  xlab = NULL,
  x0 = 1,
  x_trans = "none",
  ticks_digits = 1,
  gp = gpar(),
  xlab_gp = NULL,
  xlim
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_xaxis_+3A_at">at</code></td>
<td>
<p>Numerical vector, create ticks at given values.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_xlab">xlab</code></td>
<td>
<p>X-axis labels, it will be put under the x-axis. An atomic vector should
be provided if different <code>xlab</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_x0">x0</code></td>
<td>
<p>Position of vertical line for 0 or 1.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_x_trans">x_trans</code></td>
<td>
<p>Change axis scale, Allowed values are one of c(&quot;none&quot;, &quot;log&quot;, &quot;log2&quot;,
&quot;log10&quot;). Default is <code>"none"</code>, no transformation will be applied.
The formatted label will be used for <code>scale  = "log2"</code> or <code>"log10"</code>, change
this in <code>x_trans</code>. Set this to <code>"log"</code> if x-axis tick marks assume values
are exponential, e.g. for logistic regression (OR), survival estimates (HR), Poisson
regression etc.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_ticks_digits">ticks_digits</code></td>
<td>
<p>Number of digits for the x-axis, default is <code>NULL</code> to calculate
an integer based on <code>ticks_at</code> if provided or <code>lower</code> and <code>upper</code> if not.
This should be a numerical vector if different rounding will be applied to different
column. If an integer is specified, for example <code>1L</code>, trailing zeros after
the decimal mark will be dropped. Specify numeric, for example  <code>1</code>, to keep
the trailing zero after the decimal mark.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_gp">gp</code></td>
<td>
<p>Graphical parameters for arrow.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_xlab_gp">xlab_gp</code></td>
<td>
<p>Graphical parameters for xlab.</p>
</td></tr>
<tr><td><code id="make_xaxis_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grob
</p>

<hr>
<h2 id='make_xlim'>Create xlim</h2><span id='topic+make_xlim'></span>

<h3>Description</h3>

<p>Create xlim based on value ranges.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_xlim(
  xlim = NULL,
  lower,
  upper,
  ref_line = ifelse(x_trans %in% c("log", "log2", "log10"), 1, 0),
  ticks_at = NULL,
  x_trans = "none"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_xlim_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="make_xlim_+3A_lower">lower</code></td>
<td>
<p>Lower bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="make_xlim_+3A_upper">upper</code></td>
<td>
<p>Upper bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="make_xlim_+3A_ref_line">ref_line</code></td>
<td>
<p>X-axis coordinates of zero line, default is 1. Provide an atomic
vector if different reference line for each <code>ci_column</code> is desired.</p>
</td></tr>
<tr><td><code id="make_xlim_+3A_ticks_at">ticks_at</code></td>
<td>
<p>Set X-axis tick-marks point. This will apply to all CI columns if
provided, and will be calculated automatically for each column if not provided.
This should be a list if different <code>ticks_at</code> for different column is desired.
Although many efforts have been made to automatically get a pretty ticks break,
it will not give a perfect solution, especially if <code>'log2'</code> and <code>'log10'</code>
defined for <code>x_trans</code>. Please provide this value if possible.</p>
</td></tr>
<tr><td><code id="make_xlim_+3A_x_trans">x_trans</code></td>
<td>
<p>Change axis scale, Allowed values are one of c(&quot;none&quot;, &quot;log&quot;, &quot;log2&quot;,
&quot;log10&quot;). Default is <code>"none"</code>, no transformation will be applied.
The formatted label will be used for <code>scale  = "log2"</code> or <code>"log10"</code>, change
this in <code>x_trans</code>. Set this to <code>"log"</code> if x-axis tick marks assume values
are exponential, e.g. for logistic regression (OR), survival estimates (HR), Poisson
regression etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list
</p>

<hr>
<h2 id='makeci'>Create confidence interval grob</h2><span id='topic+makeci'></span>

<h3>Description</h3>

<p>Create confidence interval grob
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeci(
  est,
  lower,
  upper,
  pch,
  sizes = 1,
  gp = gpar(),
  t_height = NULL,
  xlim = c(0, 1),
  nudge_y = 0,
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeci_+3A_est">est</code></td>
<td>
<p>Point estimation. Can be a list for multiple columns
and/or multiple groups. If the length of the list is larger than
then length of <code>ci_column</code>, then the values reused for each column
and considered as different groups.</p>
</td></tr>
<tr><td><code id="makeci_+3A_lower">lower</code></td>
<td>
<p>Lower bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="makeci_+3A_upper">upper</code></td>
<td>
<p>Upper bound of the confidence interval, same as <code>est</code>.</p>
</td></tr>
<tr><td><code id="makeci_+3A_pch">pch</code></td>
<td>
<p>Numeric or character vector indicating what sort of plotting
symbol to use. See <code><a href="grid.html#topic+pointsGrob">pointsGrob</a></code>.</p>
</td></tr>
<tr><td><code id="makeci_+3A_sizes">sizes</code></td>
<td>
<p>Size of the point estimation box, can be a unit, vector or a list.
Values will be used as it is, no transformation will be applied.</p>
</td></tr>
<tr><td><code id="makeci_+3A_gp">gp</code></td>
<td>
<p>Graphical parameters of <code><a href="grid.html#topic+gpar">gpar</a></code>. Please refer
to <code><a href="#topic+forest_theme">forest_theme</a></code> for more details.</p>
</td></tr>
<tr><td><code id="makeci_+3A_t_height">t_height</code></td>
<td>
<p>The height confidence interval line end vertices. If
value is <code>NULL</code> (default), no vertices will be drawn.</p>
</td></tr>
<tr><td><code id="makeci_+3A_xlim">xlim</code></td>
<td>
<p>Limits for the x axis as a vector of length 2, i.e. c(low, high). It
will take the minimum and maximum of the lower and upper value if not provided.
This will apply to all CI columns if provided, and will be calculated automatically
for each column if not provided. This should be a list with the same length of
<code>ci_column</code> if different <code>xlim</code> for different column is desired.</p>
</td></tr>
<tr><td><code id="makeci_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal adjustment to nudge groups by, must be within 0 to 1.</p>
</td></tr>
<tr><td><code id="makeci_+3A_name">name</code></td>
<td>
<p>name of the grob.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gTree object
</p>

<hr>
<h2 id='print.forestplot'>Draw plot</h2><span id='topic+print.forestplot'></span><span id='topic+plot.forestplot'></span>

<h3>Description</h3>

<p>Print or draw forestplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'forestplot'
print(x, autofit = FALSE, ...)

## S3 method for class 'forestplot'
plot(x, autofit = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.forestplot_+3A_x">x</code></td>
<td>
<p>forestplot to display</p>
</td></tr>
<tr><td><code id="print.forestplot_+3A_autofit">autofit</code></td>
<td>
<p>If true, the plot will be autofit.</p>
</td></tr>
<tr><td><code id="print.forestplot_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original forestplot.
</p>

<hr>
<h2 id='xscale'>Change Axis Scale: log2, log10 and more</h2><span id='topic+xscale'></span>

<h3>Description</h3>

<p>Change axis scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xscale(
  x,
  scale = c("none", "log", "log2", "log10", "scientific"),
  type = c("scale", "inv", "format"),
  format_digits = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xscale_+3A_scale">scale</code></td>
<td>
<p>axis scale. Allowed values are one of c(&quot;none&quot;, &quot;log2&quot;, &quot;log10&quot;,
&quot;sqrt&quot;, &quot;percent&quot;, &quot;dollar&quot;, &quot;scientific&quot;); e.g.: .scale=&quot;log2&quot;.</p>
</td></tr>
<tr><td><code id="xscale_+3A_format_digits">format_digits</code></td>
<td>
<p>Digits to keep while formatting</p>
</td></tr>
<tr><td><code id="xscale_+3A_inv">inv</code></td>
<td>
<p>Inverse value back to its original.</p>
</td></tr>
<tr><td><code id="xscale_+3A_format">format</code></td>
<td>
<p>logical value. If TRUE, axis tick mark labels will be formatted
when scale  = &quot;log2&quot; or &quot;log10&quot;.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package mixexp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mixexp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Burn'><p>Data from Table 4 in Gallant,Prickett, Cesarec, and Bruck(2008)</p></a></li>
<li><a href='#conmx'><p>Example constraint matrix from Piepel 1988</p></a></li>
<li><a href='#crvtave'><p> This function creates an extreme vertices design</p></a></li>
<li><a href='#cubic'><p>Creates cubic terms for Scheffe' full cubic model (3)</p></a></li>
<li><a href='#DesignPoints'><p>This function plots design points and or constraints in the simplex mixture space, given a data frame containing the design or vextors x, y, and z of the same length that contain the mixture components in the design.</p></a></li>
<li><a href='#EffPlot'><p> This function creates mixture effect plots</p></a></li>
<li><a href='#Eflags'><p> Loads compiled fortran in shared file cnvrt and returns the error messages</p></a></li>
<li><a href='#etch'><p>Data from Etch rate experiment in Table 12.4 of Myers and Montgomery(2002)</p></a></li>
<li><a href='#Fillv'><p>This function Creates interior points in an existing mixture design.</p></a></li>
<li><a href='#fishp'><p>Data from Cornell's famous fish patty mixture process variable experiment</p></a></li>
<li><a href='#mixexp-package'>
<p>This package contains functions for creating designs for mixture experiments and making graphical display of results of mixture experiments.</p></a></li>
<li><a href='#MixModel'><p>Fit mixture and mixture process variable models.</p></a></li>
<li><a href='#MixturePlot'><p> This function makes contour plots in the simplex mixture space.</p></a></li>
<li><a href='#ModelEff'><p> This function creates mixture effect plots</p></a></li>
<li><a href='#ModelPlot'><p>This function makes contour plots of a user-supplied model in the simplex mixture space.</p></a></li>
<li><a href='#Nrows'><p> Loads compiled fortran in shared file cnvrt and returns the number of rows in the resulting design</p></a></li>
<li><a href='#SCD'><p> This function creates simplex centroid mixture designs</p></a></li>
<li><a href='#SLD'><p> This function creates simplex lattice mixture designs</p></a></li>
<li><a href='#SneeMq'><p>Data from Snee and Marquart's Screening Experiment with contsrained mixture components</p></a></li>
<li><a href='#Vertcen'><p> Loads compiled fortran in shared file cnvrt</p></a></li>
<li><a href='#Xvert'><p>This function creates an extreme vertices design in a constrained mixture space.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.2.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-5-11</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Design and Analysis of Mixture Experiments</td>
</tr>
<tr>
<td>Author:</td>
<td>John Lawson [aut, cre],
  Cameron Willden [aut],
  Greg Piepel [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Lawson &lt;lawson@byu.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>lattice, grid, daewr</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for creating designs for mixture experiments, making ternary contour plots, and making mixture effect plots.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Repository/R-Forge/Project:</td>
<td>daewr</td>
</tr>
<tr>
<td>Repository/R-Forge/Revision:</td>
<td>219</td>
</tr>
<tr>
<td>Repository/R-Forge/DateTimeStamp:</td>
<td>2022-05-27 02:29:40</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-27 14:30:02 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-27 02:52:07 UTC; rforge</td>
</tr>
</table>
<hr>
<h2 id='Burn'>Data from Table 4 in Gallant,Prickett, Cesarec, and Bruck(2008)</h2><span id='topic+Burn'></span>

<h3>Description</h3>

<p>This is an .rda file containing a mixture-process variable experiment with 3 mixture components and one process variable. z is the coded value of RPM, and y is average Burning rate for test presure 500(psig) 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Burn)</code></pre>


<h3>Format</h3>

<p> An 15 x 5 data frame</p>


<h3>Source</h3>

<p>source</p>


<h3>References</h3>

 
<p>Gallant, F.M., Prickett, S.E. Cesarec, M. and Bruck, H.A.(2008) Ingredients and processing effects on burning rates of composite rocket propellants utilizing a reduced-run mixture-process experiment design, <em>Chemometrics and intellegent laboratory systems</em>, Vol. 90, pp 49-63.
</p>

<hr>
<h2 id='conmx'>Example constraint matrix from Piepel 1988</h2><span id='topic+conmx'></span>

<h3>Description</h3>

<p>This is an .rda file containing the constraint matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(conmx)</code></pre>


<h3>Format</h3>

<p> An 8 x 4 matrix</p>


<h3>Source</h3>

<p>source</p>


<h3>References</h3>

 
<p>Piepel, G. F. (1988) Programs for Generating Extreme Vertices and Centroids of Linearly Constrained Experimental Regions, <em>Journal of Quality Technology</em>, Vol. 20, No. 2.
</p>

<hr>
<h2 id='crvtave'> This function creates an extreme vertices design 
</h2><span id='topic+crvtave'></span>

<h3>Description</h3>

<p>This function calls the function Vertcen which uses Piepel's (1988) fortran 
code (cnvrt) for generating extreme vertices and centroids of linearly constrained 
mixture experimental regions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crvtave(ndm,conmx)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crvtave_+3A_ndm">ndm</code></td>
<td>
<p> is an integer representing the highest order of centroids requested. 
An overall centroid is always included, 0 indicates no other centroids will be created,
1 indicates edge centroids are requested, 2 indicates face centroids, etc.</p>
</td></tr> 
<tr><td><code id="crvtave_+3A_conmx">conmx</code></td>
<td>
<p> This is the matrix of constraints.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>vtcn</code></td>
<td>
<p>This is a data frame containing the extreme vertices design. The columns are labeled
x1, x2 ...xn, where n is the number of mixture variables. The last column is labeled dimen and it
indicates the order of centroid where 0 is an extreme vertex, 1 is an edge centroid, 2 is a face
centroid, and n is the overall centroid. </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function calls the function Eflags to get error messages from cnvrt, the function Vertcen
to get the extreme vertices and centroids from cnvrt, and the function Nrows to get the number of vertices
and centroids from cnvrt.</p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Programs for Generating Extreme Vertices and Centroids of Linearly Constrained Experimental Regions&quot; 
<em>Journal of Quality Technology</em>, Vol 20, No. 2, pp. 125-139, 1988.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(conmx)
crvtave(1,conmx)

</code></pre>

<hr>
<h2 id='cubic'>Creates cubic terms for Scheffe' full cubic model (3)</h2><span id='topic+cubic'></span>

<h3>Description</h3>

<p> Creates cubic terms that are used by the function MixModel when fitting model (3)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cubic(a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cubic_+3A_a">a</code></td>
<td>

<p>input - vector of mixture components in a column in the data frame
</p>
</td></tr>
<tr><td><code id="cubic_+3A_b">b</code></td>
<td>

<p>input - another vector of mixture components in a column in the data frame
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of elementwise a^2*b-a*b^2 function of terms in the a and b vectors
</p>


<h3>Author(s)</h3>

<p>John Lawson
</p>

<hr>
<h2 id='DesignPoints'>This function plots design points and or constraints in the simplex mixture space, given a data frame containing the design or vextors x, y, and z of the same length that contain the mixture components in the design.</h2><span id='topic+DesignPoints'></span>

<h3>Description</h3>

<p> This function plots design points and or constraints in the simplex mixture space. It calls the function MixturePlot that does the actual plotting.</p>


<h3>Usage</h3>

<pre><code class='language-R'> 
DesignPoints(des = NULL,nmxcmp=3, x = NULL, y = NULL, z = NULL,x1lower=0,x1upper=0,
                         x2lower=0, x2upper=0, x3lower=0,x3upper=0,
                         cornerlabs = c("x3","x2","x1"),
                         axislabs=c("x1","x2","x3"),pseudo=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DesignPoints_+3A_des">des</code></td>
<td>
<p>data frame containing x1 x2 and x3 coordinates of data points to be plotted</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_nmxcmp">nmxcmp</code></td>
<td>
<p>interger indicating the number of mixture components in the design</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x">x</code></td>
<td>
<p> vector of x3 coordinates of design points to be plotted</p>
</td></tr> 
<tr><td><code id="DesignPoints_+3A_y">y</code></td>
<td>
<p> vector of x2 coordinates of design points to be plotted</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_z">z</code></td>
<td>
<p> vector of x1 coordinates of design points to be plotted</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x1lower">x1lower</code></td>
<td>
<p>lower constraint on x1</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x1upper">x1upper</code></td>
<td>
<p>upper constraint on x1</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x2lower">x2lower</code></td>
<td>
<p>lower constraint on x2</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x2upper">x2upper</code></td>
<td>
<p>upper constraint on x2</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x3lower">x3lower</code></td>
<td>
<p>lower constraint on x3</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_x3upper">x3upper</code></td>
<td>
<p>upper constraint on x3</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_axislabs">axislabs</code></td>
<td>
<p> This is a vector of text labels for the x1, x2 and x3 axis.</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_cornerlabs">cornerlabs</code></td>
<td>
<p> This is a vector of text labels for the x1, x2 and x3 vertices.</p>
</td></tr>
<tr><td><code id="DesignPoints_+3A_pseudo">pseudo</code></td>
<td>
<p>logical variable, when TRUE plot is made in pseudo component space bounded by the lower constraints of each component. </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function calls MixturePlot. If either des and x,y,z are missing no design points will be plotted, and if x1lower, x1upper, etc. are all zero no constraints will be plotted. If there are more than 3 columns of mixture components in des, only the first 3 will be plotted ignoring the others. </p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Programs for Generating Extreme Vertices and Centroids of Linearly Consrtained Experimental Regions&quot;
<em>Journal of Quality Technology</em>, Vol 20, No. 2, pp. 125-139, 1988.
</p>
<p>2. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat&lt;-SCD(3)
DesignPoints(des=dat)

x1&lt;-c(1,0,0,.5,.5, 0,.33333)
x2&lt;-c(0,1,0,.5,0,.5,.33333)
x3&lt;-c(0,0,1,0,.5,.5,.33333)
DesignPoints(x=x3,y=x2,z=x1)

dat&lt;-data.frame(x1,x2,x3)
DesignPoints(des=dat)

</code></pre>

<hr>
<h2 id='EffPlot'> This function creates mixture effect plots
</h2><span id='topic+EffPlot'></span>

<h3>Description</h3>

<p>This function makes effect plots using the Cox or Piepel directions in constrained mixture space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EffPlot(des=NULL,nfac=3,mod=1,dir=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EffPlot_+3A_des">des</code></td>
<td>
<p> data frame containing the design points and response data for a mixture experiment. The 
data frame must contain the variables x1, x2 ...xn for the mixture variables, 
and y for the response. n must be between 2 and 12. Only effect
plots for linear models can be made when the number of factors is greater than 6.</p>
</td></tr>
<tr><td><code id="EffPlot_+3A_nfac">nfac</code></td>
<td>
<p>The number of mixture components in the model.</p>
</td></tr>			  
<tr><td><code id="EffPlot_+3A_mod">mod</code></td>
<td>
<p> an interger representing the model to be traced: 1 for a linear model,
2 for a quadratic model, and 4 for a special cubic model. For models other than these, use the ModelEff function.</p>
</td></tr>
<tr><td><code id="EffPlot_+3A_dir">dir</code></td>
<td>
<p> an integer representing the direction for which the effect plot is made: 1 for
Piepel direction, 2 for Cox direction.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PX</code></td>
<td>
<p>This is a matrix containing the coordinates of the effect plot traces that are plotted. </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function calls the function crvtave to get the design centroid from cnvrt.</p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Measuring Component Effects in Constrained Mixture Experiments&quot; 
<em>Technometrics</em>, Vol 25, pp. 97-105, 1982.
</p>
<p>2. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>



#Example from Li, Tolley, Lee(2010) response is perm
x1&lt;-c(.572,.358,.286,.286,.286,.143,.357)
x2&lt;-c(.214,.428,.500,.357,.214,.500,.500)
x3&lt;-c(.214,.214,.214,.357,.500,.357,.143)
y&lt;-c(7.7,18.4,24.2,9.8,5.9,23.0,19.4)
des&lt;-data.frame(x1,x2,x3,y)
EffPlot(des,2,2)


#Example from Snee, Marquart(1976)
x1&lt;-c(.1,.1,.1,.15,.1,.1,.1,.4,.35,.30,.1,.45,.45,.45,.45,.45,.259,.259,.259,.259)
x2&lt;-c(.5,.05,.5,.05,.05,.5,.05,.05,.05,.5,.5,.05,.2,.15,.25,.1,.222,.222,.222,.222)
x3&lt;-c(0,0,0,0,.1,.1,.1,.1,.1,0,.1,0,0,0,.1,.1,.05,.05,.05,.05)
x4&lt;-c(0,0,.1,.1,0,.1,.1,.1,.1,0,0,0,.1,.1,0,0,.05,.05,.05,.05)
x5&lt;-c(.1,.55,.1,.6,.55,.1,.55,.1,.1,.1,.2,.45,.1,.1,.1,.1,.244,.244,.244,.244)
x6&lt;-c(.2,.2,.2,.05,.2,.05,.05,.2,.2,.05,.05,.05,.05,.2,.05,.2,.125,.125,.125,.125)
x7&lt;-c(.05,.05,0,.05,0,0,0,.05,.05,0,.05,0,.05,0,.05,0,.025,.025,.025,.025)
x8&lt;-c(.05,.05,0,0,0,.05,.05,0,.05,.05,0,0,.05,0,0,.05,.025,.025,.025,.025)
y&lt;-c(30,113,17,94,89,18,90,20,21,15,28,48,18,7,16,19,38,30,35,40)
des&lt;-data.frame(x1,x2,x3,x4,x5,x6,x7,x8,y)
EffPlot(des,mod=1,dir=1)



# Weed control example from Lawson &amp; Erjavec
x1&lt;-c(1,0,0,.5,.5,0,.33333,.33333,.33333)
x2&lt;-c(0,1,0,.5,0,.5,.33333,.33333,.33333)
x3&lt;-c(0,0,1,0,.5,.5,.33333,.33333,.33333)
y&lt;-c(73,68,80,77,86,75,92,93,88)
des&lt;-data.frame(x1,x2,x3,y)
EffPlot(des,3)



# Polvoron Example from Lawson
des&lt;-Xvert(3,uc=c(.8,.95,.50),lc=c(0,.10,.05),ndm=1,plot=FALSE)
dat&lt;-as.matrix(des)
# remove the edge centroid at the top
dat&lt;-dat[c(1:6,8:11), ]
# add two more centroids
dat&lt;-rbind(dat,dat[10, ],dat[10,])
# response vector
y&lt;-c(5.75,3.69,5.33,5.68,3.85,3.83,5.88,5.87,5.23,6.54,6.82,6.41)
# make the data frame for plotting
des&lt;-data.frame(dat[,1:3],y)
EffPlot(des,3)

# Cornell's example of blending pesticides for control of mites (special cubic model)
mite&lt;-SCD(4)
yavg&lt;-c(1.8,25.4,28.6,38.5,4.9,3.1,28.7,3.4,37.4,10.7,22.0,2.6,2.4,
        11.1,0.8)
mite&lt;-cbind(mite,yavg)
mite2&lt;-mite
names(mite2)&lt;-c("x1","x2","x3","x4","y")
EffPlot(des=mite2,mod=4,dir=2)
</code></pre>

<hr>
<h2 id='Eflags'> Loads compiled fortran in shared file cnvrt and returns the error messages</h2><span id='topic+Eflags'></span>

<h3>Description</h3>

<p>This function loads and runs the compiled fortran code cnvrt and prints error messages. cnvrt is Piepel's 1988 JQT fortran code for extreme vertices designs. </p>


<h3>Usage</h3>

<pre><code class='language-R'> 
Eflags(ndm,nvrr,ncon2,rtheta2) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Eflags_+3A_ndm">ndm</code></td>
<td>
<p> This is the order of centroids desired (0=none, 1=edge centroids, 2=face centroids etc.)</p>
</td></tr>
<tr><td><code id="Eflags_+3A_nvrr">nvrr</code></td>
<td>
<p> This is the number of mixture variables ( maximum is 12)</p>
</td></tr>
<tr><td><code id="Eflags_+3A_ncon2">ncon2</code></td>
<td>
<p> This is the number of constraints (maximum is 45)</p>
</td></tr>
<tr><td><code id="Eflags_+3A_rtheta2">rtheta2</code></td>
<td>
<p> This is the constraint matrix stored as a vector of columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>ifa</code></td>
<td>
<p> This is the vector of error flags. A negative value for flag 1 indicates that there are
inconsistent constraints. A negative value for flag2 indicates there are two many vertices and centroids,
this program only works when # vertices + # centroids &lt;=1000. A negative value for flag 3 indicates
an error encountered when calling subroutine allnr. </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function is called by the function crtave.</p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Programs for Generating Extreme Vertices and Centroids of Linearly Consrtained Experimental Regions&quot;
<em>Journal of Quality Technology</em>, Vol 20, No. 2, pp. 125-139, 1988.
</p>

<hr>
<h2 id='etch'>Data from Etch rate experiment in Table 12.4 of Myers and Montgomery(2002) </h2><span id='topic+etch'></span>

<h3>Description</h3>

<p>This is an .rda file containing a mixture experiment with 3 mixture components. The mixture components are x1, x2, and x3. The response is erate. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(etch)</code></pre>


<h3>Format</h3>

<p> An 14 x 4 data frame</p>


<h3>Source</h3>

<p>source</p>


<h3>References</h3>

 
<p>Myers, R. H. and Montgomery D. C. (2002) <em>Response Surface Methodology - Product and Process Optimization Using Designed Experiments</em> John Wiley and Sons, New York.
</p>

<hr>
<h2 id='Fillv'>This function Creates interior points in an existing mixture design.</h2><span id='topic+Fillv'></span>

<h3>Description</h3>

<p>This function creates interior points in a mixture design by averaging all 
possible pairs of design points. It duplicates SAS macro adxfill. </p>


<h3>Usage</h3>

<pre><code class='language-R'> 
Fillv(nfac,des) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Fillv_+3A_nfac">nfac</code></td>
<td>
<p>an integer representing the number of mixture variables in the design</p>
</td></tr>
<tr><td><code id="Fillv_+3A_des">des</code></td>
<td>
<p>a data frame containing a mixture design created by one of the functions SLD, SCD or Xvert</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1 fills interior of Simplex Lattice Design
des&lt;-SLD(3,3)
DesignPoints(des)
des2&lt;-Fillv(3,des)
DesignPoints(des2)

# Example 2 fills interior of Simplex Centroid Design
des&lt;-SCD(4)
Fillv(4,des)

# Example 3 fills interior of Extreme vertices design
ev&lt;-Xvert(3,uc=c(.1,.1,1.0),lc=c(0,0,0),ndm=1)
ev2&lt;-Fillv(3,ev)

</code></pre>

<hr>
<h2 id='fishp'>Data from Cornell's famous fish patty mixture process variable experiment</h2><span id='topic+fishp'></span>

<h3>Description</h3>

<p>This is an .rda file design and response.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(fishp)</code></pre>


<h3>Format</h3>

<p> An 56 x 7 data frame</p>


<h3>Source</h3>

<p>source</p>


<h3>References</h3>

 
<p>Cornell, J. A., <em>Experiments with Mixtures, Third Edition</em>,  John Wiley and Sons, 2002, pp 361-365.
</p>

<hr>
<h2 id='mixexp-package'>
This package contains functions for creating designs for mixture experiments and making graphical display of results of mixture experiments.
</h2><span id='topic+mixexp-package'></span>

<h3>Description</h3>

<p>The <span class="pkg">mixexp</span> package provides functions for creating mixture experiment designs in an unconstrained simplex or constrained mixture space. Functions are also 
provided for making ternary contour plots, pictures of constrained regions, design points, and mixture effect plots.  
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> mixexp</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.2-1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2011-05-31</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL2.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Dependencies: gdata, lattice, grid</td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
Packaged: </td><td style="text-align: left;"> 2011-05-31 19:54:07 UTC; Lawson</td>
</tr>
<tr>
 <td style="text-align: left;">
Built: </td><td style="text-align: left;"> R 2.12.1; i386-pc-mingw32; 2011-05-31 19:54:08 UTC; windows</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index:
</p>
<pre>
conmx                   example constraint matrix used as input to function 
                        crvtave
crvtave                 function for creating extreme vertices designs and 
                        centroids; this function calls Eflags, Nrows, and Vertcen
DesignPoints            function for plotting design points and or mixture 
                        constraint in the simplex
Eflags                  function for calling Piepel''s fortran code cnvrt 
                        to create extreme vertices designs and prints any 
						                        error messages
Effplot                 function for making mixture effect plots given a design
MixturePlot             function for making contour plots in simplex region given a design
MixModel                function for fitting mixture models to data
ModelPlot               function for making contour plots of an equation in an lm object 
                        created by the lm function or the MixModel function
Nrows                   function for calling Piepel's fortran code cnvrt to 
                        create extreme vertices designs and returns the 
						                        number of rows in the resulting design
SCD                     function for creating Simplex Centroid Designs
SLD                     function for creating Simplex Lattice Designs
Vertcen                 function for calling Piepel's fortran code cnvrt 
                        to create extreme vertices designs and returns the 
						                        resulting design
Xvert                   function for creating extreme vertices design 
                        and centroids, this function calls crvtave
</pre>


<h3>Author(s)</h3>

<p>John Lawson &lt;lawson@byu.edu&gt; and Cameron Willden &lt;ccwillden@gmail.com&gt;
</p>
<p>Maintainer: John Lawson &lt;lawson@byu.edu&gt;
</p>


<h3>References</h3>

<p>1. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>

<hr>
<h2 id='MixModel'>Fit mixture and mixture process variable models.</h2><span id='topic+MixModel'></span>

<h3>Description</h3>

<p>This function fits mixture models (1)-(4) and mixture process models (5)-(6)
described in Lawson and Willden(2015) &quot;Mixture Experiments in R, using mixexp&quot;, Journal 
Statistical Software http://www/jstatsoft.org/, and prints the correct R square and standard errors of model coefficients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MixModel(frame, response, mixcomps=NULL,model,procvars=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MixModel_+3A_frame">frame</code></td>
<td>
<p>a data frame containing columns with the mixture components, process variables,
and responses</p>
</td></tr>
<tr><td><code id="MixModel_+3A_response">response</code></td>
<td>
<p>a character variable containing the column name of the response variable in
frame to be fit</p>
</td></tr>
<tr><td><code id="MixModel_+3A_mixcomps">mixcomps</code></td>
<td>
<p>a character vector of column names of the mixture components in frame</p>
</td></tr>
<tr><td><code id="MixModel_+3A_model">model</code></td>
<td>
<p> an integer in the range of 1 to 6, indicating the model to be fit:
</p>
<p><code class="reqn">1.  y=\sum_{i=1}^{q} \beta_i x_i + \epsilon.</code>.
</p>
<p><code class="reqn">2. y=\sum_{i=1}^{q} \beta_i x_i + \sum_{i=1}^{q-1} \sum_{j=i+1}^{q} \beta_{ij} x_i x_j + \epsilon.</code>.
</p>
<p><code class="reqn">3. y=\sum_{i=1}^{q} \beta_i x_i + \sum_{i=1}^{q-1} \sum_{j=i+1}^{q} \beta_{ij} x_i x_j  + \sum_{i=1}^{q-1} \sum_{j=i+1}^{q} \delta_{ij} x_i x_j (x_i - x_j) + \sum_{i=1}^{q-2} \sum_{j=i+1}^{q-1} \sum_{k=j+1}^{q} \beta_{ijk} x_i x_j x_k + \epsilon.</code>.
</p>
<p><code class="reqn">4. y=\sum_{i=1}^{q} \beta_i x_i + \sum_{i=1}^{q-1} \sum_{j=i+1}^{q} \beta_{ij} x_i x_j   + \sum_{i=1}^{q-2} \sum_{j=i+1}^{q-1} \sum_{k=j+1}^{q} \beta_{ijk} x_i x_j x_k + \epsilon.</code>.
</p>
<p><code class="reqn">5. y = ( \sum_{i=1}^{q} \beta_i x_i + \sum_{i=1}^{q-1} \sum_{j=i+1}^{q} \beta_{ij} x_i x_j )(\alpha_0 + \sum_{l=1}^{p} \alpha_l z_l + \sum_{l=1}^{p-1} \sum_{m=l+1}^{p} \alpha_{lm} z_l z_m ) + \epsilon</code>.
</p>
<p><code class="reqn">6. y=\sum_{i=1}^{q} \beta_i^{(0)} x_i + \sum_{i=1}^{q-1} \sum_{j=i+1}^{q} \beta_{ij}^{(0)} x_i x_j  + \sum_{k=1}^m \left[\sum_{i=1}^{q} \beta_i^{(1)} x_i \right]z_k + \sum_{k=1}^{m-1} \sum_{l=k+1}^m \alpha_{kl} z_k z_l + \sum_{k=1}^m \alpha_{kk} z_k^2 + \epsilon.</code>
</p>
<p>where <code class="reqn">x_i</code> are mixture components, and <code class="reqn">z_j</code> are process variables.
</p>
</td></tr>
<tr><td><code id="MixModel_+3A_procvars">procvars</code></td>
<td>
<p>a character vector of column names of the process variables in frame to be 
included in the model. Leave this out if there are no process variables in the
frame</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;    
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example from Lawson(2014), quadratic model
library(daewr)
data(pest)
mixvars&lt;-c("x1","x2","x3")
MixModel(pest,"y",mixvars,2)

# example from Myers and Montgomery(2002), special cubic model
library(mixexp)
etch&lt;-SCD(3)
etch&lt;-Fillv(3,etch)
etch&lt;-rbind(etch[1:7, ],etch[1:3, ],etch[7, ], etch[etch$x1==2/3, ],
etch[etch$x2==2/3, ],etch[etch$x3==2/3, ])
erate&lt;-c(540,330,295,610,425,330,800,560,350,260,850,710,640,460)
etch&lt;-cbind(etch,erate)
mixvars&lt;-c("x1","x2","x3")
response&lt;-c("erate")
MixModel(etch,response,mixvars,4)

# example Mixture process variable model from Sahni, Pieple and Naes(2009)
library(daewr)
mixvars&lt;-c("x1","x2","x3")
procvars&lt;-c("z1","z2")
data(MPV)
MixModel(MPV,"y",mixvars,5,procvars)

#### Kowalski Cornell and Vining Simplified model on data from Gallant et. al. (2008)
data(Burn)
testBNM&lt;-MixModel(Burn,"y",mixcomps=c("Course","Fine","Binder"),model=6,procvars=c("z"))


          </code></pre>

<hr>
<h2 id='MixturePlot'> This function makes contour plots in the simplex mixture space.
</h2><span id='topic+MixturePlot'></span>

<h3>Description</h3>

<p>This function makes contour plots in the simplex mixture space, it also can draw constraint lines and show design points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MixturePlot(x=NULL,y=NULL,z=NULL,w=NULL,des=NULL,
                       res=400,lims=c(rep(0,6)),color.palette = heat.colors,
                       constrts=FALSE,contrs=TRUE,n.breaks=10,levels=NULL,
                       cols=FALSE, despts=TRUE, mod=NA,x3lab="Fraction X3",
                       x2lab="Fraction X2", x1lab="Fraction X1", 
                       corner.labs = NULL,
                       colorkey=list(dx=0.04,x0=0.95,y0=0.45,y1=0.90,add=TRUE,mode="all"),
                       pseudo=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MixturePlot_+3A_x">x</code></td>
<td>
<p>x3 locations for known points</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_y">y</code></td>
<td>
<p>x2 locations for known points</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_z">z</code></td>
<td>
<p>x1 locations for known points</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_w">w</code></td>
<td>
<p>y locations for known points</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_des">des</code></td>
<td>
<p>data frame with x1,x2,x3, and y locations for known points</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_res">res</code></td>
<td>
<p>number of color blocks between 0 and 1 of x</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_lims">lims</code></td>
<td>
<p>vector of lower and upper constraints for x1,x2,x3</p>
</td></tr>
<tr><td><code id="MixturePlot_+3A_color.palette">color.palette</code></td>
<td>
<p>is the color palette to use</p>
</td></tr>
<tr><td><code id="MixturePlot_+3A_constrts">constrts</code></td>
<td>
<p>if TRUE constraints found in lines will be added to the graph</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_contrs">contrs</code></td>
<td>
<p>if TRUE contour lines will be added to the graph</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_n.breaks">n.breaks</code></td>
<td>
<p>number of breaks between levels, this is used if levels is not specified</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_levels">levels</code></td>
<td>
<p>vector of contour levels to be plotted</p>
</td></tr>  
<tr><td><code id="MixturePlot_+3A_cols">cols</code></td>
<td>
<p>if TRUE regions between contour lines will be colored</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_despts">despts</code></td>
<td>
<p>if TRUE plots the design points in data frame des</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_mod">mod</code></td>
<td>
<p>is an indicator for the model 1=linear, 2=quadratic, 4=special cubic. for other Models use the ModelEff function.</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_x3lab">x3lab</code></td>
<td>
<p>label for the x3 axis</p>
</td></tr>  
<tr><td><code id="MixturePlot_+3A_x2lab">x2lab</code></td>
<td>
<p>label for the x2 axis</p>
</td></tr>  
<tr><td><code id="MixturePlot_+3A_x1lab">x1lab</code></td>
<td>
<p>label for the x1 axis</p>
</td></tr> 
<tr><td><code id="MixturePlot_+3A_corner.labs">corner.labs</code></td>
<td>
<p>labels for x3, x2 and x1 vertices</p>
</td></tr>  
<tr><td><code id="MixturePlot_+3A_colorkey">colorkey</code></td>
<td>
<p>a list with the location of the color key</p>
</td></tr>
<tr><td><code id="MixturePlot_+3A_pseudo">pseudo</code></td>
<td>
<p>if pseudo=TRUE uses pseudo components to zoom in on constrained region. By default pseudo=FALSE</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Cornell, J. A.  <em>Experiments with Mixtures: Models and Analysis of Mixture Data</em>, John Wiley &amp; Sons, New York, third edition, 2002.
</p>
<p>2. See R Ternary Level Plot Function http://www.siftp.net/index.shtml
</p>
<p>3. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;
&quot;doi:10.18637/jss.v072.c02&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Usage and Examples - Example from page 458 DAE with SAS
dat = data.frame(
          "x1"=c(1,.8,.6,.5,.5,.33333,.3,.3,.1,.1,0,0,0),
          "x2"=c(0,.1,.2,0,.5,.33333,.2,.5,.1,.8,0,.5,1),
          "x3"=c(0,.1,.2,.5,0,.33333,.5,.2,.8,.1,1.0,.5,0),
          "y"=c(48.7,49.5,50.2,52.8,49.3,51.1,52.7,50.3,60.7,49.9,64.9,53.5,50.6) 
                 )
MixturePlot(dat$x3,dat$x2,dat$x1,dat$y, x3lab="Fraction x3",
  x2lab="Fraction x2", x1lab="Fraction x1", corner.labs=c("x3","x2","x1"),
  constrts=FALSE,contrs=TRUE,cols=TRUE, mod=2,n.breaks=9)

# Weed control example from Lawson &amp; Erjavec
x1&lt;-c(1,0,0,.5,.5,0,.33333,.33333,.33333)
x2&lt;-c(0,1,0,.5,0,.5,.33333,.33333,.33333)
x3&lt;-c(0,0,1,0,.5,.5,.33333,.33333,.33333)
y&lt;-c(73,68,80,77,86,75,92,93,88)
des&lt;-data.frame(x1,x2,x3,y)
MixturePlot(des=des,x3lab="Fraction C",x2lab="Fraction B",
   x1lab="Fraction A",corner.labs=c("C","B","A"),mod=4,n.breaks=5,cols=TRUE)
   
</code></pre>

<hr>
<h2 id='ModelEff'> This function creates mixture effect plots
</h2><span id='topic+ModelEff'></span>

<h3>Description</h3>

<p>This function makes effect plots using the Cox or Piepel directions in constrained mixture space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ModelEff(nfac=3,mod=1,nproc=0,dir=1,ufunc=mod,dimensions = list(NULL),
pvslice=c(1,1,1),lc=c(0,0,0,0,0,0,0,0,0,0,0,0), uc=c(1,1,1,1,1,1,1,1,1,1,1,1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ModelEff_+3A_nfac">nfac</code></td>
<td>
<p>The number of mixture components in the model (a number between 2 and 12)</p>
</td></tr>			  
<tr><td><code id="ModelEff_+3A_mod">mod</code></td>
<td>
<p>An integer representing the model to be traced: 1 for a linear model,
2 for a quadratic model, and 3 for a cubic model, 4 for a special cubic model,
5 for a mixture process variable model consisting of a full cross of quadratic 
model in up to 5 mixture components and a linear model in up to 3 process variables,
6 for Kowalski, Cornell and Vining's (2000) more parsimonious model for mixture
process variable experiments. See the documentation for the MixModel function for a 
description of the models.</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_nproc">nproc</code></td>
<td>
<p>The number of process variables in the model (a number between 1 and 3 for models 5 and 6)</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_dir">dir</code></td>
<td>
<p> an integer representing the direction for which the effect plot is made: 1 for
Piepel direction, 2 for Cox direction.</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_ufunc">ufunc</code></td>
<td>
<p> A user function, this should an lm object created by the MixModel function. Any
lm object will work if the terms are in the same order as the model produced by 
the MixModel function.</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_dimensions">dimensions</code></td>
<td>
<p> A vector of names of mixture components in the lm object.</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_pvslice">pvslice</code></td>
<td>
<p>A vector giving fixed values of the process variables.</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_lc">lc</code></td>
<td>
<p>A vector giving the lower bounds of the mixture components.</p>
</td></tr>
<tr><td><code id="ModelEff_+3A_uc">uc</code></td>
<td>
<p>A vector giving the upper bounds of the mixture components.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PX</code></td>
<td>
<p>This is a matrix containing the coordinates of the effect plot traces that are plotted. </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function calls the function crvtave to get the design centroid from cnvrt.</p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Measuring Component Effects in Constrained Mixture Experiments&quot; 
<em>Technometrics</em>, Vol 25, pp. 97-105, 1982.
</p>
<p>2. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>
<p>3. Kowalski, S. M., Cornell, J. A. and Vining, G. G. &quot;A  Model and Class of Designs for Mixture 
Experiments with Process Variables&quot;
<em>Communication in Statistics: Theory and Methods</em>, Vol 29, pp. 2255-2280.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Example p. 63-65 Cornell (control of Mites)
# Four Component Mixture
mite&lt;-SCD(4)
yavg&lt;-c(1.8,25.4,28.6,38.5,4.9,3.1,28.7,3.4,37.4,10.7,22.0,2.6,2.4,
        11.1,0.8)
mite&lt;-cbind(mite,yavg)
miteSC&lt;-MixModel(mite,"yavg",mixcomps=c("x1","x2","x3","x4"),model=4)
ModelEff(nfac=4,mod=4,nproc=0,dir=2,ufunc=miteSC,lc=c(0,0,0,0),uc=c(1,1,1,1))


# Cornell's (2002) Yarn elongation
x1&lt;-c(1,1,.5,.5,.5,0,0,0,0,0,0,0,.5,.5,.5)
x2&lt;-c(0,0,.5,.5,.5,1,1,.5,.5,.5,0,0,0,0,0)
x3&lt;-c(0,0,0,0,0,0,0,.5,.5,.5,1,1,.5,.5,.5)
y&lt;-c(11,12.4,15,14.8,16.1,8.8,10,10,9.7,11.8,16.8,16,17.7,16.4,16.6)
elong&lt;-data.frame(x1,x2,x3,y)
testQ2&lt;-MixModel(elong,"y",mixcomps=c("x1","x2","x3"),model=2)
ModelEff(nfac=3,mod=2,nproc=0,dir=2,ufunc=testQ2,lc=c(0,0,0),uc=c(1,1,1))

#### Kowalski Cornell and Vining Simplified model on data from Gallant et. al. (2008)
data(Burn)
testBNM&lt;-MixModel(Burn,"y",mixcomps=c("Course","Fine","Binder"),model=6,procvars=c("z"))
ModelEff(nfac=3,mod=6,nproc=1,dir=1,ufunc=testBNM,dimensions = list(NULL), pvslice=c(1),
lc=c(.403,.166,.130),uc=c(.704,.412,.210))
ModelEff(nfac=3,mod=6,nproc=1,dir=1,ufunc=testBNM,dimensions = list(NULL), pvslice=c(-1),
lc=c(.403,.166,.130),uc=c(.704,.412,.210))



</code></pre>

<hr>
<h2 id='ModelPlot'>This function makes contour plots of a user-supplied model in the simplex mixture space.
</h2><span id='topic+ModelPlot'></span>

<h3>Description</h3>

<p>This function makes contour plots in the simplex mixture space.  It also can draw constraint lines and zoom in on pseudo component region.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ModelPlot(model=NULL,user.func = NULL, dimensions = list(x1=NULL,x2=NULL,x3=NULL),
          slice=NULL,lims=rep(0,6), constraints = FALSE,
          constraint.pars = list(lty=2,lwd=2),
          contour = FALSE, contour.pars = list(lwd=0.5,cex.lab=1.3),
          cuts = 10,at = NULL, res=300, pseudo=FALSE, 
          fill=FALSE, color.palette = heat.colors, 
          main=NULL, axislabs=c("Fraction X1","Fraction X2","Fraction X3"),
          axislab.pars = list(),
          axislab.offset=0,
          cornerlabs = c("X1", "X2", "X3"),
          cornerlab.pars = list(),
          grid=TRUE, grid.pars = list(col='darkgrey',lty=3,lwd=0.5),
          colorkey = FALSE,
          labels=TRUE, label.style="align", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ModelPlot_+3A_model">model</code></td>
<td>
<p>an lm object, MixModel object, or any other model object that is compatible with the predict function, which is the mixture model to be plotted.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_user.func">user.func</code></td>
<td>
<p>function supplied by the user that takes as arguments a dataframe called 'grid' and returns the predictions.  This argument has been deprecated in favor of the model argument. Typically, this will be a wrapper function for predict() (e.g. predict(model,newdata=grid)). Additional arguments for user.func can be passed using the ellipsis argument for ModelPlot.  Overrides model argument if both are specified.</p>
</td></tr>  
<tr><td><code id="ModelPlot_+3A_dimensions">dimensions</code></td>
<td>
<p>list argument that specifies the mixture variables to be plotted on the ternary plot. Values must correspond to variable names from the user-supplied model.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_slice">slice</code></td>
<td>
<p>list argument that specifies the value of fixed mixture components.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_lims">lims</code></td>
<td>
<p>vector of lower and upper constraints for ternary plot components (TopLower, TopUpper, LeftLower, LeftUpper, RightLower, RightUpper).</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_constraints">constraints</code></td>
<td>
<p>if TRUE constraints found in lims will be added to the graph.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_constraint.pars">constraint.pars</code></td>
<td>
<p>list of graphical parameters controlling the appearance of the constraint lines.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_contour">contour</code></td>
<td>
<p>if TRUE contour lines will be added to the graph.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_contour.pars">contour.pars</code></td>
<td>
<p>list of graphical parameters controlling the appearance of the contour lines.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_cuts">cuts</code></td>
<td>
<p>number of breaks between levels (used for contours if 'at' not specified).</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_at">at</code></td>
<td>
<p>list of contour levels (e.g. at=c(1,3,5,10) will draw contours at those heights). Overrides cuts argument.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_res">res</code></td>
<td>
<p>resolution of the grid.  Corresponds to number equally spaced values along the baseline of the simplex.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_pseudo">pseudo</code></td>
<td>
<p>if TRUE uses pseudo components to zoom in on constrained region. Will create the smallest equilateral triangle that still contains the whole constrained region.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_fill">fill</code></td>
<td>
<p>if TRUE regions between contour lines will be colored.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_color.palette">color.palette</code></td>
<td>
<p>is the color palette to use.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_main">main</code></td>
<td>
<p>character value for main title or list containing character value and graphical parameters (e.g. main=list(&quot;main title&quot;,cex=2)).</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_axislabs">axislabs</code></td>
<td>
<p>character vector of axis labels for ternary components.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_axislab.pars">axislab.pars</code></td>
<td>
<p>list of graphical parameters controlling the appearance of the axislabels.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_axislab.offset">axislab.offset</code></td>
<td>
<p>numeric value that creates or eliminates space between the angled axislabels and the tickmarks. Prevents axis labels from overlapping with tickmarks.  Typically, absolute value would not exceed 0.05. </p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_cornerlabs">cornerlabs</code></td>
<td>
<p>character vector of corner labels for x1, x2 and x3 vertices.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_cornerlab.pars">cornerlab.pars</code></td>
<td>
<p>list of graphical parameters controlling the appearance of the axis labels.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_grid">grid</code></td>
<td>
<p>logical argument.  If true, adds gridlines to the ternary plot.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_grid.pars">grid.pars</code></td>
<td>
<p>list of graphical parameters controlling the appearance of the gridlines.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_colorkey">colorkey</code></td>
<td>
<p>logical or list of parameters.  See levelplot documentation for more details.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_labels">labels</code></td>
<td>
<p>logical argument.  If true, labels contour lines.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_label.style">label.style</code></td>
<td>
<p>controls placement of contour labels.  Choose from &quot;mixed&quot;,&quot;flat&quot;, or &quot;align.&quot; See panel.levelplot documentation for more details.</p>
</td></tr>
<tr><td><code id="ModelPlot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to user.func</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Cameron Willden <a href="mailto:ccwillden@gmail.com">ccwillden@gmail.com</a></p>


<h3>References</h3>

<p>1. Cornell, J. A.  <em>Experiments with Mixtures: Models and Analysis of Mixture Data</em>, John Wiley &amp; Sons, New York, third edition, 2002.
</p>
<p>2. See R Ternary Level Plot Function http://www.siftp.net/index.shtml
</p>
<p>3. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Cornell's (2002) Yarn elongation
x1&lt;-c(1,1,.5,.5,.5,0,0,0,0,0,0,0,.5,.5,.5)
x2&lt;-c(0,0,.5,.5,.5,1,1,.5,.5,.5,0,0,0,0,0)
x3&lt;-c(0,0,0,0,0,0,0,.5,.5,.5,1,1,.5,.5,.5)
y&lt;-c(11,12.4,15,14.8,16.1,8.8,10,10,9.7,11.8,16.8,16,17.7,16.4,16.6)
elong&lt;-data.frame(x1,x2,x3,y)
testQ&lt;-lm(y~-1+x1+x2+x3+x1:x2+x1:x3+x2:x3,data=elong)
ModelPlot(model = testQ,dimensions = list(x1="x1",x2="x2",x3="x3"), 
           main="Thread Elongation",constraints=FALSE,contour=TRUE,
           at=c(12, 13, 14, 15, 16, 17),fill=FALSE,
           axislabs=c("X1", "X2", "X3"),
           cornerlabs = c("X1", "X2", "X3"),pseudo=FALSE)
           

# Cornells famous fish patty experiment 
data(fishp)
fishmod2&lt;-MixModel(fishp, "y", mixcomps=c("x1","x2","x3"),model=5,procvars=c("z1","z2","z3"))
ModelPlot(fishmod2,dimensions = list(x1="x1",x2="x2",x3="x3"), 
          slice = list(process.vars=c(z1=-1, z2=-1, z3=-1)), main="z1=-1, z2=-1, z3=-1",
          constraints=FALSE,contour=TRUE,cuts=10,fill=FALSE,
          axislabs=c("Fraction X1","Fraction X2","Fraction X3"),
          cornerlabs = c("X1", "X2", "X3"),pseudo=FALSE)
          
          
#### Kowalski Cornell and Vining Simplified model on data from Gallant et. al. (2008)
data(Burn)
testBNM&lt;-MixModel(Burn,"y",mixcomps=c("Course","Fine","Binder"),model=6,procvars=c("z"))
ModelPlot(testBNM,dimensions = list(x1="Course",x2="Fine",x3="Binder"), 
          slice = list(process.vars=c(z=1)), lims=c(.403,.704,.166,.467,.130,.431), main="z=1",
          constraints=TRUE,contour=TRUE,cuts=5,fill=FALSE,
          axislabs=c("Fraction Course","Fraction Fine","Fraction Binder"),
          cornerlabs = c("Course", "Fine", "Binder"),pseudo=TRUE)

ModelPlot(testBNM,dimensions = list(x1="Course",x2="Fine",x3="Binder"), 
          slice = list(process.vars=c(z=-1)),  lims=c(.403,.704,.166,.467,.130,.431),main="z=-1",
          constraints=TRUE,contour=TRUE,cuts=5,fill=FALSE,
          axislabs=c("Fraction Course","Fraction Fine","Fraction Binder"),
          cornerlabs = c("Course", "Fine", "Binder"),pseudo=TRUE)

          
</code></pre>

<hr>
<h2 id='Nrows'> Loads compiled fortran in shared file cnvrt and returns the number of rows in the resulting design</h2><span id='topic+Nrows'></span>

<h3>Description</h3>

<p>This function loads and runs the compiled fortran code cnvrt. cnvrt is Piepel's 1988 JQT fortran code for extreme vertices designs. </p>


<h3>Usage</h3>

<pre><code class='language-R'> 
Nrows(ndm,nvrr,ncon2,rtheta2) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Nrows_+3A_ndm">ndm</code></td>
<td>
<p> This is the order of centroids desired (0=none, 1=edge centroids, 2=face centroids etc.)</p>
</td></tr>
<tr><td><code id="Nrows_+3A_nvrr">nvrr</code></td>
<td>
<p> This is the number of mixture variables ( maximum is 12)</p>
</td></tr>
<tr><td><code id="Nrows_+3A_ncon2">ncon2</code></td>
<td>
<p> This is the number of constraints (maximum is 45)</p>
</td></tr>
<tr><td><code id="Nrows_+3A_rtheta2">rtheta2</code></td>
<td>
<p> This is the constraint matrix stored as a vector of columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p> nvrtr
</p>
<table>
<tr><td><code>nvrtr</code></td>
<td>
<p> This is the number of rows in rxvt the matrix of extreme vertices and centroids </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function is called by the function crtave.</p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Programs for Generating Extreme Vertices and Centroids of Linearly Consrtained Experimental Regions&quot;
<em>Journal of Quality Technology</em>, Vol 20, No. 2, pp. 125-139, 1988.
</p>

<hr>
<h2 id='SCD'> This function creates simplex centroid mixture designs 
</h2><span id='topic+SCD'></span>

<h3>Description</h3>

<p>This function creates simplex centroid designs in unconstrained mixture experiment space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SCD(fac)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SCD_+3A_fac">fac</code></td>
<td>
<p> This is the number of factors</p>
</td></tr> 
</table>


<h3>Value</h3>

 
<table>
<tr><td><code>SC</code></td>
<td>
<p>This is a data frame containing the simplex centroid design. The columns are labeled
x1, x2 ...xn, where n is the number of mixture variables. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Cornell, J. A.  <em>Experiments with Mixtures: Models and Analysis of Mixture Data</em>, John Wiley &amp; Sons, New York, third edition, 2002.
</p>
<p>2. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>SCD(3)

des&lt;-SCD(5)

des&lt;-SCD(12)

</code></pre>

<hr>
<h2 id='SLD'> This function creates simplex lattice mixture designs 
</h2><span id='topic+SLD'></span>

<h3>Description</h3>

<p>This function creates simplex lattice designs in unconstrained mixture experiment space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SLD(fac, lev)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SLD_+3A_fac">fac</code></td>
<td>
<p> This is the number of factors, this must be between 2 and 12</p>
</td></tr> 
<tr><td><code id="SLD_+3A_lev">lev</code></td>
<td>
<p> This is the number of levels, this must be between 2, and 5.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>SL</code></td>
<td>
<p>This is a data frame containing the simplex lattice design. The columns are labeled
x1, x2 ...xn, where n is the number of mixture variables. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Cornell, J. A.  <em>Experiments with Mixtures: Models and Analysis of Mixture Data</em>, John Wiley \&amp; Sons, New York, third edition, 2002.
</p>
<p>2. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>des&lt;-SLD(3,2)

des&lt;-SLD(4,3)
</code></pre>

<hr>
<h2 id='SneeMq'>Data from Snee and Marquart's Screening Experiment with contsrained mixture components</h2><span id='topic+SneeMq'></span>

<h3>Description</h3>

<p>This is an .rda file design and response.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(SneeMq)</code></pre>


<h3>Format</h3>

<p> An 16 x 9 data frame</p>


<h3>Source</h3>

<p>source</p>


<h3>References</h3>

 
<p>Snee, D. D. and Marquardt D. W. (1976) Screening Concepts and designs for experiments with mixtures, <em>Technometrics</em>, Vol. 18, pp 19-29.
</p>

<hr>
<h2 id='Vertcen'> Loads compiled fortran in shared file cnvrt</h2><span id='topic+Vertcen'></span>

<h3>Description</h3>

<p>This function loads and runs the compiled fortran code cnvrt. cnvrt is Piepel's 1988 JQT fortran code for extreme vertices designs. </p>


<h3>Usage</h3>

<pre><code class='language-R'> 
Vertcen(ndm,nvrr,ncon2,rtheta2) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Vertcen_+3A_ndm">ndm</code></td>
<td>
<p> This is the order of centroids desired (0=none, 1=edge centroids, 2=face centroids etc.)</p>
</td></tr>
<tr><td><code id="Vertcen_+3A_nvrr">nvrr</code></td>
<td>
<p> This is the number of mixture variables ( maximum is 12)</p>
</td></tr>
<tr><td><code id="Vertcen_+3A_ncon2">ncon2</code></td>
<td>
<p> This is the number of constraints (maximum is 45)</p>
</td></tr>
<tr><td><code id="Vertcen_+3A_rtheta2">rtheta2</code></td>
<td>
<p> This is the constraint matrix stored as a vector of columns.</p>
</td></tr>
</table>


<h3>Value</h3>

 
<table>
<tr><td><code>rxvt</code></td>
<td>
<p> This is the matrix of vertices and centroids stored as a vector of columns.  </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function is called by the function crtave.</p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Programs for Generating Extreme Vertices and Centroids of Linearly Consrtained Experimental Regions&quot;
<em>Journal of Quality Technology</em>, Vol 20, No. 2, pp. 125-139, 1988.
</p>

<hr>
<h2 id='Xvert'>This function creates an extreme vertices design in a constrained mixture space.</h2><span id='topic+Xvert'></span>

<h3>Description</h3>

<p>This function calls the function crvtave to create an extreme vertices design in a constrained mixture space. 
If there are only three factors the function DesignPoints is called to plot the results. </p>


<h3>Usage</h3>

<pre><code class='language-R'> 
Xvert(nfac=3,uc=c(0,0),lc=c(0,0),nlc=0,lb=c(0,0),ub=c(0,0),coef,ndm=0,plot=TRUE,
                 cornerlabs = c("x1","x2","x3"), axislabs = c("x1","x2","x3"),
                 pseudo=TRUE)  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Xvert_+3A_nfac">nfac</code></td>
<td>
<p>an integer representing the number of mixture variables in the design. Maximum nfac=12</p>
</td></tr>
<tr><td><code id="Xvert_+3A_uc">uc</code></td>
<td>
<p>a vector of length nfac containing upper constraints on each mixture component</p>
</td></tr>
<tr><td><code id="Xvert_+3A_lc">lc</code></td>
<td>
<p>a vector of length nfac containing lower constraints on each mixture component</p>
</td></tr>
<tr><td><code id="Xvert_+3A_nlc">nlc</code></td>
<td>
<p>the number of linear constraints, the default is zero</p>
</td></tr>
<tr><td><code id="Xvert_+3A_lb">lb</code></td>
<td>
<p>a vector of length nlc containing the lower bounds for the linear constraints</p>
</td></tr>
<tr><td><code id="Xvert_+3A_ub">ub</code></td>
<td>
<p>a vector of length nlc containing the upper bounds for the linear constraints</p>
</td></tr>
<tr><td><code id="Xvert_+3A_coef">coef</code></td>
<td>
<p>an nlc by nfac matrix containing the coefficients of the components of the linear constraints</p>
</td></tr>  
<tr><td><code id="Xvert_+3A_ndm">ndm</code></td>
<td>
<p>an integer representing the highest order of centroids requested. An overall centroid is always included, 0 indicates no other centroids will be created, 1 indicates edge centroids are requested, etc.</p>
</td></tr> 
<tr><td><code id="Xvert_+3A_plot">plot</code></td>
<td>
<p>a logical variable indicating whether a plot of the design is desired when there are only 3 components. Default is TRUE</p>
</td></tr>
<tr><td><code id="Xvert_+3A_cornerlabs">cornerlabs</code></td>
<td>
<p> This is a vector of text labels for the x1, x2 and x3 vertices. Use when there are only 3 components for plotting.</p>
</td></tr>
<tr><td><code id="Xvert_+3A_axislabs">axislabs</code></td>
<td>
<p> This is a vector of text labels for the x1, x2 and x3 axis. Use when there are only 3 components for plotting.</p>
</td></tr>
<tr><td><code id="Xvert_+3A_pseudo">pseudo</code></td>
<td>
<p>logical variable, when TRUE plot in pseudo component space when there are lower constraints. </p>
</td></tr>
</table>


<h3>Note</h3>

<p> This function calls crvtave. If the number of factors is 3, the  function DesignPoints is called to graph the results. </p>


<h3>Author(s)</h3>

<p> John S. Lawson <a href="mailto:lawson@byu.edu">lawson@byu.edu</a></p>


<h3>References</h3>

<p>1. Piepel, G. F. &quot;Programs for Generating Extreme Vertices and Centroids of Linearly Consrtained Experimental Regions&quot;
<em>Journal of Quality Technology</em>, Vol 20, No. 2, pp. 125-139, 1988.
</p>
<p>2. &quot;John Lawson, Cameron Willden (2016).&quot;,
&quot;Mixture Experiments in R Using mixexp.&quot;,
&quot;Journal of Statistical Software, Code Snippets, 72(2), 1-20.&quot;,
&quot;doi:10.18637/jss.v072.c02&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Polvoron Example from Lawson
des&lt;-Xvert(3,uc=c(.8,.95,.50),lc=c(0,.10,.05),ndm=1,plot=FALSE)


#Snee Marquardt(1976) example
Xvert(8,uc=c(.45,.50,.10,.4,.6,.2,.05,.05),lc=c(.1,.05,0,0,.1,.05,0,0),ndm=0)
    
# Example page 465
exvert&lt;-Xvert(4,uc=c(.188,.128,.438,.438),lc=c(.124,.064,.374,.374),ndm=2)

# Example from Piepel 1988
coef&lt;-matrix(c(.85,.9,1,.7,0,1),ncol=3,byrow=TRUE)
des&lt;-Xvert(3,lc=c(.1,.1,0),uc=c(.5,.7,.7),nlc=2,lb=c(.9,.4),ub=c(.95,0),coef,ndm=1,plot=FALSE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

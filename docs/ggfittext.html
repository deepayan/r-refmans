<!DOCTYPE html><html><head><title>Help for package ggfittext</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggfittext}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#altitudes'><p>Some craft and their altitudes</p></a></li>
<li><a href='#animals'><p>Some animals and their attributes</p></a></li>
<li><a href='#animals_rich'><p>Some animals and their attributes, in rich text</p></a></li>
<li><a href='#beverages'><p>The compositions of some espresso-based beverages</p></a></li>
<li><a href='#beverages_rich'><p>The compositions of some espresso-based beverages, in rich text</p></a></li>
<li><a href='#geom_bar_text'><p>A 'ggplot2' geom to fit text inside a box</p></a></li>
<li><a href='#ggfittext-package'><p>ggfittext: Fit Text Inside a Box in 'ggplot2'</p></a></li>
<li><a href='#gold'><p>Robert Frost's poem <em>Nothing Gold Can Stay</em> (1923)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Fit Text Inside a Box in 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.10.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'ggplot2' extension to fit text into a box by growing, shrinking or wrapping the text.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>grid (&ge; 3.1), stringi (&ge; 1.1.2), shades (&ge; 1.3.1), gridtext
(&ge; 0.1.4), ggplot2 (&ge; 2.2.1), cli (&ge; 3.6.1)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://wilkox.org/ggfittext/">https://wilkox.org/ggfittext/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wilkox/ggfittext/issues/">https://github.com/wilkox/ggfittext/issues/</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), vdiffr, spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-01 00:21:27 UTC; wilkox</td>
</tr>
<tr>
<td>Author:</td>
<td>David Wilkins [aut, cre],
  Brady Johnston [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Wilkins &lt;david@wilkox.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-01 00:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='altitudes'>Some craft and their altitudes</h2><span id='topic+altitudes'></span>

<h3>Description</h3>

<p>Some craft and their altitudes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>altitudes
</code></pre>


<h3>Format</h3>

<p>A data frame with 4 rows and 2 variables:
</p>

<dl>
<dt>craft</dt><dd><p>the name of the craft</p>
</dd>
<dt>altitude</dt><dd><p>the craft's normal cruising altitude in metres</p>
</dd>
</dl>


<hr>
<h2 id='animals'>Some animals and their attributes</h2><span id='topic+animals'></span>

<h3>Description</h3>

<p>Some animals and their attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>animals
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 rows and 4 variables:
</p>

<dl>
<dt>animal</dt><dd><p>the name of the animal</p>
</dd>
<dt>type</dt><dd><p>the type of animal</p>
</dd>
<dt>flies</dt><dd><p>whether the animal can fly</p>
</dd>
<dt>mass</dt><dd><p>the average mass of the animal in grams</p>
</dd>
</dl>


<hr>
<h2 id='animals_rich'>Some animals and their attributes, in rich text</h2><span id='topic+animals_rich'></span>

<h3>Description</h3>

<p>Some animals and their attributes, in rich text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>animals_rich
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 rows and 4 variables:
</p>

<dl>
<dt>animal</dt><dd><p>the name of the animal</p>
</dd></dl>
<p>, in rich text
</p>
<dl>
<dt>type</dt><dd><p>the type of animal</p>
</dd>
<dt>flies</dt><dd><p>whether the animal can fly</p>
</dd>
<dt>mass</dt><dd><p>the average mass of the animal in grams</p>
</dd>
</dl>


<hr>
<h2 id='beverages'>The compositions of some espresso-based beverages</h2><span id='topic+beverages'></span>

<h3>Description</h3>

<p>The compositions of some espresso-based beverages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beverages
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 rows and 3 variables:
</p>

<dl>
<dt>beverage</dt><dd><p>the name of the beverage</p>
</dd>
<dt>ingredient</dt><dd><p>the ingredient</p>
</dd>
<dt>proportion</dt><dd><p>the proportion of a cup to fill with the ingredient</p>
</dd>
</dl>


<hr>
<h2 id='beverages_rich'>The compositions of some espresso-based beverages, in rich text</h2><span id='topic+beverages_rich'></span>

<h3>Description</h3>

<p>The compositions of some espresso-based beverages, in rich text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beverages_rich
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 rows and 3 variables:
</p>

<dl>
<dt>beverage</dt><dd><p>the name of the beverage</p>
</dd>
<dt>ingredient</dt><dd><p>the ingredient, in rich text</p>
</dd>
<dt>proportion</dt><dd><p>the proportion of a cup to fill with the ingredient</p>
</dd>
</dl>


<hr>
<h2 id='geom_bar_text'>A 'ggplot2' geom to fit text inside a box</h2><span id='topic+geom_bar_text'></span><span id='topic+geom_fit_text'></span>

<h3>Description</h3>

<p><code>geom_fit_text()</code> shrinks, grows and wraps text to fit inside a defined
box.
<code>geom_bar_text()</code> is a convenience wrapper around <code>geom_fit_text()</code> for
labelling bar plots generated with <code>geom_col()</code> and <code>geom_bar()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_bar_text(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  padding.x = grid::unit(1, "mm"),
  padding.y = grid::unit(1, "mm"),
  min.size = 8,
  place = NULL,
  outside = NULL,
  grow = FALSE,
  reflow = FALSE,
  hjust = NULL,
  vjust = NULL,
  fullheight = NULL,
  width = NULL,
  height = NULL,
  formatter = NULL,
  contrast = NULL,
  rich = FALSE,
  ...
)

geom_fit_text(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  padding.x = grid::unit(1, "mm"),
  padding.y = grid::unit(1, "mm"),
  min.size = 4,
  place = "centre",
  outside = FALSE,
  grow = FALSE,
  reflow = FALSE,
  hjust = NULL,
  vjust = NULL,
  fullheight = NULL,
  width = NULL,
  height = NULL,
  formatter = NULL,
  contrast = FALSE,
  flip = FALSE,
  rich = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_bar_text_+3A_mapping">mapping</code></td>
<td>
<p><code>ggplot2::aes()</code> object as standard in 'ggplot2'. Note
that aesthetics specifying the box must be provided. See Details.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_data">data</code>, <code id="geom_bar_text_+3A_stat">stat</code>, <code id="geom_bar_text_+3A_position">position</code>, <code id="geom_bar_text_+3A_na.rm">na.rm</code>, <code id="geom_bar_text_+3A_show.legend">show.legend</code>, <code id="geom_bar_text_+3A_inherit.aes">inherit.aes</code>, <code id="geom_bar_text_+3A_...">...</code></td>
<td>
<p>Standard geom
arguments as for <code>ggplot2::geom_text()</code>.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_padding.x">padding.x</code>, <code id="geom_bar_text_+3A_padding.y">padding.y</code></td>
<td>
<p>Horizontal and vertical padding around the text,
expressed in <code>grid::unit()</code> objects. Both default to 1 mm.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_min.size">min.size</code></td>
<td>
<p>Minimum font size, in points. Text that would need to be
shrunk below this size to fit the box will be hidden. Defaults to 4 pt (8 pt
for <code>geom_bar_text()</code>)</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_place">place</code></td>
<td>
<p>Where inside the box to place the text. Default is 'centre';
other options are 'topleft', 'top', 'topright', 'right', 'bottomright',
'bottom', 'bottomleft', 'left', and 'center'/'middle' which are both
synonyms for 'centre'. For <code>geom_bar_text()</code>, will be set heuristically if
not specified.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_outside">outside</code></td>
<td>
<p>If <code>TRUE</code>, text placed in one of 'top', 'right', 'bottom' or
'left' that would need to be shrunk smaller than <code>min.size</code> to fit the box
will be drawn outside the box if possible. This is mostly useful for drawing
text inside bar/column geoms. Defaults to TRUE for <code>position = "identity"</code>
when using <code>geom_bar_text()</code>, otherwise FALSE.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_grow">grow</code></td>
<td>
<p>If <code>TRUE</code>, text will be grown as well as shrunk to fill the box.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_reflow">reflow</code></td>
<td>
<p>If <code>TRUE</code>, text will be reflowed (wrapped) to better fit the
box. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_hjust">hjust</code>, <code id="geom_bar_text_+3A_vjust">vjust</code></td>
<td>
<p>Horizontal and vertical justification of the text. By
default, these are automatically set to appropriate values based on <code>place</code>.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_fullheight">fullheight</code></td>
<td>
<p>If <code>TRUE</code>, descenders will be counted when resizing and
placing text; if <code>FALSE</code>, only the x-height and ascenders will be counted.
The main use for this option is for aligning text at the baseline (<code>FALSE</code>)
or preventing descenders from spilling outside the box (<code>TRUE</code>). By default
this is set automatically depending on <code>place</code> and <code>grow</code>.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_width">width</code>, <code id="geom_bar_text_+3A_height">height</code></td>
<td>
<p>When using <code>x</code> and/or <code>y</code> aesthetics, these set the
width and/or height of the box. These should be either <code>grid::unit()</code>
objects or numeric values on the <code>x</code> and <code>y</code> scales.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_formatter">formatter</code></td>
<td>
<p>A function that will be applied to the text before it is
drawn. This is useful when using <code>geom_fit_text()</code> in context involving
interpolated variables, such as with the 'gganimate' package. <code>formatter</code>
will be applied serially to each element in the <code>label</code> column, so it does
not need to be a vectorised function.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_contrast">contrast</code></td>
<td>
<p>If <code>TRUE</code> and in combination with a <code>fill</code> aesthetic, the
colour of the text will be inverted for better contrast against dark
background fills. <code>FALSE</code> by default for <code>geom_fit_text()</code>, set
heuristically for <code>geom_bar_text()</code>.</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_rich">rich</code></td>
<td>
<p>If <code>TRUE</code>, text will be formatted with markdown and HTML markup
as implemented by <code>gridtext::richtext_grob()</code>. <code>FALSE</code> by default. Rich text
cannot be drawn in polar coordinates. Please note that rich text support is
<strong>experimental</strong> and breaking changes are likely</p>
</td></tr>
<tr><td><code id="geom_bar_text_+3A_flip">flip</code></td>
<td>
<p>If <code>TRUE</code>, when in polar coordinates 'upside-down' text will be
flipped the 'right way up', to enhance readability.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Except where noted, <code>geom_fit_text()</code> behaves more or less like
<code>ggplot2::geom_text()</code>.
</p>
<p>There are three ways to define the box in which you want the text to be
drawn. The extents of the box on the x and y axes are independent, so any
combination of these methods can be used:
</p>

<ol>
<li><p> If the <code>x</code> and/or <code>y</code> aesthetics are used to set the location of the box,
the width or height will be set automatically based on the number of
discrete values in <code>x</code> and/and <code>y</code>.
</p>
</li>
<li><p> Alternatively, if <code>x</code> and/or <code>y</code> aesthetics are used, the width and/or
height of the box can be overridden with a 'width' and/or 'height' argument.
These should be <code>grid::unit()</code> objects; if not, they will be assumed to use
the native axis scale.
</p>
</li>
<li><p> The boundaries of the box can be set using the aesthetics 'xmin' and
'xmax', and/or 'ymin' and 'ymax'.
</p>
</li></ol>

<p>If the text is too big for the box, it will be shrunk to fit the box. With
<code>grow = TRUE</code>, the text will be made to fill the box completely whether that
requires shrinking or growing.
</p>
<p><code>reflow = TRUE</code> will cause the text to be reflowed (wrapped) to better fit
in the box. If the text cannot be made to fit by reflowing alone, it will be
reflowed then shrunk to fit the box. Existing line breaks in the text will
be respected when reflowing.
</p>
<p><code>geom_fit_text()</code> includes experimental support for drawing text in polar
coordinates (by adding <code>coord_polar()</code> to the plot), however not all
features are available when doing so.
</p>


<h3>Aesthetics</h3>


<ul>
<li><p> label (required)
</p>
</li>
<li><p> (xmin AND xmax) OR x (required)
</p>
</li>
<li><p> (ymin AND ymax) OR y (required)
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> angle
</p>
</li>
<li><p> colour
</p>
</li>
<li><p> family
</p>
</li>
<li><p> fontface
</p>
</li>
<li><p> lineheight
</p>
</li>
<li><p> size
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
ggplot2::ggplot(ggplot2::presidential, ggplot2::aes(ymin = start, ymax = end,
    label = name, x = party)) +
  geom_fit_text(grow = TRUE)

</code></pre>

<hr>
<h2 id='ggfittext-package'>ggfittext: Fit Text Inside a Box in 'ggplot2'</h2><span id='topic+ggfittext'></span><span id='topic+ggfittext-package'></span>

<h3>Description</h3>

<p>A 'ggplot2' extension to fit text into a box by growing, shrinking or wrapping the text.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: David Wilkins <a href="mailto:david@wilkox.org">david@wilkox.org</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Brady Johnston <a href="mailto:brady.johnston@me.com">brady.johnston@me.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://wilkox.org/ggfittext/">https://wilkox.org/ggfittext/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/wilkox/ggfittext/issues/">https://github.com/wilkox/ggfittext/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='gold'>Robert Frost's poem <em>Nothing Gold Can Stay</em> (1923)</h2><span id='topic+gold'></span>

<h3>Description</h3>

<p>Robert Frost's poem <em>Nothing Gold Can Stay</em> (1923)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gold
</code></pre>


<h3>Format</h3>

<p>A data frame with 8 rows and 5 variables:
</p>

<dl>
<dt>line</dt><dd><p>a line from the poem</p>
</dd>
<dt>xmin</dt><dd><p>the xmin coordinate with which to draw the line</p>
</dd>
<dt>xmax</dt><dd><p>the xmax coordinate with which to draw the line</p>
</dd>
<dt>ymin</dt><dd><p>the ymin coordinate with which to draw the line</p>
</dd>
<dt>ymax</dt><dd><p>the ymax coordinate with which to draw the line</p>
</dd>
<dt>linenumber</dt><dd><p>the line number</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package sweep</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sweep}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_index'><p>Adds a sequential index column to a data frame</p></a></li>
<li><a href='#arima_string'><p>Print the ARIMA model parameters</p></a></li>
<li><a href='#bats_string'><p>Print the BATS model parameters</p></a></li>
<li><a href='#bike_sales'><p>Fictional sales data for bike shops purchasing Cannondale bikes</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#sw_augment'><p>Augment data according to a tidied model</p></a></li>
<li><a href='#sw_augment_columns'><p>Augments data</p></a></li>
<li><a href='#sw_augment.default'><p>Default augment method</p></a></li>
<li><a href='#sw_glance'><p>Construct a single row summary &quot;glance&quot; of a model, fit, or other</p>
object</a></li>
<li><a href='#sw_glance.default'><p>Default glance method</p></a></li>
<li><a href='#sw_sweep'><p>Tidy forecast objects</p></a></li>
<li><a href='#sw_tidy'><p>Tidy the result of a time-series model into a summary tibble</p></a></li>
<li><a href='#sw_tidy_decomp'><p>Coerces decomposed time-series objects to tibble format.</p></a></li>
<li><a href='#sw_tidy.default'><p>Default tidying method</p></a></li>
<li><a href='#sweep_package'><p>sweep: Extending broom to time series forecasting</p></a></li>
<li><a href='#tbats_string'><p>Print the TBATS model parameters</p></a></li>
<li><a href='#tidiers_arima'><p>Tidying methods for ARIMA modeling of time series</p></a></li>
<li><a href='#tidiers_bats'><p>Tidying methods for BATS and TBATS modeling of time series</p></a></li>
<li><a href='#tidiers_decomposed_ts'><p>Tidying methods for decomposed time series</p></a></li>
<li><a href='#tidiers_ets'><p>Tidying methods for ETS (Error, Trend, Seasonal) exponential smoothing</p>
modeling of time series</a></li>
<li><a href='#tidiers_HoltWinters'><p>Tidying methods for HoltWinters modeling of time series</p></a></li>
<li><a href='#tidiers_nnetar'><p>Tidying methods for Nural Network Time Series models</p></a></li>
<li><a href='#tidiers_stl'><p>Tidying methods for STL (Seasonal, Trend, Level) decomposition of time series</p></a></li>
<li><a href='#tidiers_StructTS'><p>Tidying methods for StructTS (Error, Trend, Seasonal) / exponential smoothing</p>
modeling of time series</a></li>
<li><a href='#validate_index'><p>Validates data frame has column named the same name as variable rename_index</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tidy Tools for Forecasting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Dancho &lt;mdancho@business-science.io&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Tidies up the forecasting modeling and prediction work flow, 
    extends the 'broom' package 
    with 'sw_tidy', 'sw_glance', 'sw_augment', and 'sw_tidy_decomp' functions 
    for various forecasting models,
    and enables converting 'forecast' objects to 
    "tidy" data frames with 'sw_sweep'.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/business-science/sweep">https://github.com/business-science/sweep</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/business-science/sweep/issues">https://github.com/business-science/sweep/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>broom (&ge; 0.5.6), dplyr (&ge; 1.0.0), forecast (&ge; 8.0),
lubridate (&ge; 1.6.0), tibble (&ge; 1.2), tidyr (&ge; 1.0.0), timetk
(&ge; 2.1.0), rlang, tidyverse, tidyquant</td>
</tr>
<tr>
<td>Suggests:</td>
<td>forcats, knitr, rmarkdown, testthat, purrr, readr, stringr,
scales, fracdiff</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-04 13:01:45 UTC; mdanc</td>
</tr>
<tr>
<td>Author:</td>
<td>Matt Dancho [aut, cre],
  Davis Vaughan [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-06 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_index'>Adds a sequential index column to a data frame</h2><span id='topic+add_index'></span>

<h3>Description</h3>

<p>Adds a sequential index column to a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_index(ret, rename_index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_index_+3A_ret">ret</code></td>
<td>
<p>An object of class tibble</p>
</td></tr>
<tr><td><code id="add_index_+3A_rename_index">rename_index</code></td>
<td>
<p>A variable indicating the index name to be used in the
tibble returned</p>
</td></tr>
</table>

<hr>
<h2 id='arima_string'>Print the ARIMA model parameters</h2><span id='topic+arima_string'></span>

<h3>Description</h3>

<p>Refer to forecast:::arima.string.
<a href="https://github.com/robjhyndman/forecast/blob/master/R/arima.R"><code>forecast</code> arima.R</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arima_string(object, padding = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arima_string_+3A_object">object</code></td>
<td>
<p>An object of class Arima</p>
</td></tr>
<tr><td><code id="arima_string_+3A_padding">padding</code></td>
<td>
<p>Add padding to the name returned</p>
</td></tr>
</table>

<hr>
<h2 id='bats_string'>Print the BATS model parameters</h2><span id='topic+bats_string'></span>

<h3>Description</h3>

<p>Refer to forecast:::makeText.
<a href="https://github.com/robjhyndman/forecast/blob/master/R/bats.R"><code>forecast</code> bats.R</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bats_string(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bats_string_+3A_object">object</code></td>
<td>
<p>An object of class bats</p>
</td></tr>
</table>

<hr>
<h2 id='bike_sales'>Fictional sales data for bike shops purchasing Cannondale bikes</h2><span id='topic+bike_sales'></span>

<h3>Description</h3>

<p>A dataset containing the fictional bicycle orders spanning 2011 through 2015.
Hypothetically, the <code>bike_sales</code> data are similar to sales data mainatained
in a business' sales data base. The unit price and model names come from
data provided by model for the bicycle manufacturer, Cannondale (2016).
The customers (bicycle shops) including name, location, etc and
the orders including quantity purchased and order dates are fictional.
The data is intended for implementing business analytics techniques
(e.g. forecast, clustering, etc) to identify underlying trends.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bike_sales
</code></pre>


<h3>Format</h3>

<p>A data frame with 15644 rows and 17 variables:
</p>

<dl>
<dt>order.date</dt><dd><p>Date the order was placed</p>
</dd>
<dt>order.id</dt><dd><p>A unique order identification number</p>
</dd>
<dt>order.line</dt><dd><p>The sequential identification number for products on and order</p>
</dd>
<dt>quantity</dt><dd><p>Number of units purchased</p>
</dd>
<dt>price</dt><dd><p>The unit price of the bicycle</p>
</dd>
<dt>price.ext</dt><dd><p>The extended price = price x quantity</p>
</dd>
<dt>customer.id</dt><dd><p>A unique customer identification number</p>
</dd>
<dt>bikeshop.name</dt><dd><p>The customer name</p>
</dd>
<dt>bikeshop.city</dt><dd><p>The city that the bike shop is located</p>
</dd>
<dt>bikeshop.state</dt><dd><p>The state that the bike shop is located</p>
</dd>
<dt>latitude</dt><dd><p>The geograhpic latitude of the customer location</p>
</dd>
<dt>longitude</dt><dd><p>The geograhpic longitude of the customer location</p>
</dd>
<dt>product.id</dt><dd><p>A unique product identification number</p>
</dd>
<dt>model</dt><dd><p>The model name of the bicycle</p>
</dd>
<dt>category.primary</dt><dd><p>The main bicycle category, either &quot;Mountain&quot; or &quot;Road&quot;</p>
</dd>
<dt>category.secondary</dt><dd><p>One of nine more specific bicycle categories</p>
</dd>
<dt>frame</dt><dd><p>The bicycle frame material, either &quot;Carbon&quot; or &quot;Aluminum&quot;</p>
</dd>
</dl>



<h3>Source</h3>

<p>The 2016 bicycle model names and prices originated from <a href="https://www.cannondale.com/en-us">https://www.cannondale.com/en-us</a>
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='sw_augment'>Augment data according to a tidied model</h2><span id='topic+sw_augment'></span>

<h3>Description</h3>

<p>Given an R statistical model or other non-tidy object, add columns to the
original dataset such as predictions, residuals and cluster assignments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_augment(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_augment_+3A_x">x</code></td>
<td>
<p>model or other R object to convert to data frame</p>
</td></tr>
<tr><td><code id="sw_augment_+3A_...">...</code></td>
<td>
<p>other arguments passed to methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sw_augment()</code> is a wrapper for <code>broom::augment()</code>. The benefit of <code>sw_augment</code>
is that it has methods for various time-series model classes such as
<code>HoltWinters</code>, <code>ets</code>, <code>Arima</code>, etc.
</p>
<p>For non-time series, <code>sw_augment()</code> defaults to <code>broom::augment()</code>.
The only difference is that the return is a tibble.
</p>
<p>Note that by convention the first argument is almost always <code>data</code>,
which specifies the original data object. This is not part of the S3
signature, partly because it prevents rowwise_df_tidiers from
taking a column name as the first argument.
</p>


<h3>See Also</h3>

<p><code><a href="broom.html#topic+reexports">broom::augment()</a></code>
</p>

<hr>
<h2 id='sw_augment_columns'>Augments data</h2><span id='topic+sw_augment_columns'></span>

<h3>Description</h3>

<p>Augments data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_augment_columns(ret, data, rename_index, timetk_idx = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_augment_columns_+3A_ret">ret</code></td>
<td>
<p>An object of class tibble</p>
</td></tr>
<tr><td><code id="sw_augment_columns_+3A_data">data</code></td>
<td>
<p>Any time series data that is to be augmented</p>
</td></tr>
<tr><td><code id="sw_augment_columns_+3A_rename_index">rename_index</code></td>
<td>
<p>A variable indicating the index name to be used in the
tibble returned</p>
</td></tr>
<tr><td><code id="sw_augment_columns_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Uses the timetk index (irregular time index) if present.</p>
</td></tr>
</table>

<hr>
<h2 id='sw_augment.default'>Default augment method</h2><span id='topic+sw_augment.default'></span>

<h3>Description</h3>

<p>By default, <code>sw_augment()</code> uses <code><a href="broom.html#topic+reexports">broom::augment()</a></code> to convert its output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
sw_augment(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_augment.default_+3A_x">x</code></td>
<td>
<p>an object to be tidied</p>
</td></tr>
<tr><td><code id="sw_augment.default_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>broom::augment()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble generated by <code><a href="broom.html#topic+reexports">broom::augment()</a></code>
</p>

<hr>
<h2 id='sw_glance'>Construct a single row summary &quot;glance&quot; of a model, fit, or other
object</h2><span id='topic+sw_glance'></span>

<h3>Description</h3>

<p>Construct a single row summary &quot;glance&quot; of a model, fit, or other
object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_glance(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_glance_+3A_x">x</code></td>
<td>
<p>model or other R object to convert to single-row data frame</p>
</td></tr>
<tr><td><code id="sw_glance_+3A_...">...</code></td>
<td>
<p>other arguments passed to methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sw_glance()</code> is a wrapper for <code>broom::glance()</code>. The benefit of <code>sw_glance</code>
is that it has methods for various time-series model classes such as
<code>HoltWinters</code>, <code>ets</code>, <code>Arima</code>, etc.
<code>sw_glance</code> methods always return either a one-row tibble or <code>NULL</code>.
The single row includes summary statistics relevent to the model accuracy,
which can be used to assess model fit and quality.
</p>
<p>For non-time series, <code>sw_glance()</code> defaults to <code>broom::glance()</code>.
The only difference is that the return is a tibble.
</p>


<h3>Value</h3>

<p>single-row tibble with model summary information.
</p>


<h3>See Also</h3>

<p><code><a href="broom.html#topic+reexports">broom::glance()</a></code>
</p>

<hr>
<h2 id='sw_glance.default'>Default glance method</h2><span id='topic+sw_glance.default'></span>

<h3>Description</h3>

<p>By default, <code>sw_glance()</code> uses <code><a href="broom.html#topic+reexports">broom::glance()</a></code> to convert its output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
sw_glance(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_glance.default_+3A_x">x</code></td>
<td>
<p>an object to be tidied</p>
</td></tr>
<tr><td><code id="sw_glance.default_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>broom::glance()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble generated by <code><a href="broom.html#topic+reexports">broom::glance()</a></code>
</p>

<hr>
<h2 id='sw_sweep'>Tidy forecast objects</h2><span id='topic+sw_sweep'></span>

<h3>Description</h3>

<p>Tidy forecast objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_sweep(x, fitted = FALSE, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_sweep_+3A_x">x</code></td>
<td>
<p>A time-series forecast of class <code>forecast</code>.</p>
</td></tr>
<tr><td><code id="sw_sweep_+3A_fitted">fitted</code></td>
<td>
<p>Whether or not to return the fitted values (model values) in the results.
FALSE by default.</p>
</td></tr>
<tr><td><code id="sw_sweep_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>If timetk index (non-regularized index) is present, uses it
to develop forecast. Otherwise uses default index.</p>
</td></tr>
<tr><td><code id="sw_sweep_+3A_rename_index">rename_index</code></td>
<td>
<p>Enables the index column to be renamed.</p>
</td></tr>
<tr><td><code id="sw_sweep_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>tk_make_future_timeseries()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sw_sweep</code> is designed
to coerce <code>forecast</code> objects from the <code>forecast</code> package
into <code>tibble</code> objects in a &quot;tidy&quot; format (long).
The returned object contains both the actual values
and the forecasted values including the point forecast and upper and lower
confidence intervals.
</p>
<p>The <code>timetk_idx</code> argument is used to modify the return format of the index.
</p>

<ul>
<li><p> If <code>timetk_idx = FALSE</code>, a regularized time index is always constructed.
This may be in the format of numeric values (e.g. 2010.000) or the
higher order <code>yearmon</code> and <code>yearqtr</code> classes from the <code>zoo</code> package.
A higher order class is attempted to be returned.
</p>
</li>
<li><p> If <code>timetk_idx = TRUE</code> and a timetk index is present, an irregular time index
will be returned that combines the original time series (i.e. date or datetime)
along with a computed future time series created using <code>tk_make_future_timeseries()</code>
from the <code>timetk</code> package. The <code>...</code> can be used to pass additional arguments
to <code>tk_make_future_timeseries()</code> such as <code>inspect_weekdays</code>, <code>skip_values</code>, etc
that can be useful in tuning the future time series sequence.
</p>
</li></ul>

<p>The index column name can be changed using the <code>rename_index</code> argument.
</p>


<h3>Value</h3>

<p>Returns a <code>tibble</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="timetk.html#topic+tk_make_future_timeseries">tk_make_future_timeseries()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forecast)
library(sweep)
library(dplyr)

# ETS forecasts
USAccDeaths %&gt;%
    ets() %&gt;%
    forecast(level = c(80, 95, 99)) %&gt;%
    sw_sweep()


</code></pre>

<hr>
<h2 id='sw_tidy'>Tidy the result of a time-series model into a summary tibble</h2><span id='topic+sw_tidy'></span>

<h3>Description</h3>

<p>Tidy the result of a time-series model into a summary tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_tidy_+3A_x">x</code></td>
<td>
<p>An object to be converted into a tibble (&quot;tidy&quot; data.frame)</p>
</td></tr>
<tr><td><code id="sw_tidy_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sw_tidy()</code> is a wrapper for <code>broom::tidy()</code>. The main benefit of <code>sw_tidy()</code>
is that it has methods for various time-series model classes such as
<code>HoltWinters</code>, <code>ets</code>, <code>Arima</code>, etc.
<code>sw_tidy()</code> methods always returns a &quot;tidy&quot; tibble with model coefficient / parameters.
</p>
<p>For non-time series, <code>sw_tidy()</code> defaults to <code>broom::tidy()</code>.
The only difference is that the return is a tibble.
The output of <code>sw_tidy()</code> is always a tibble with disposable row names. It is
therefore suited for further manipulation by packages like dplyr and
ggplot2.
</p>


<h3>Value</h3>

<p>a tibble
</p>


<h3>See Also</h3>

<p><code><a href="broom.html#topic+reexports">broom::tidy()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

WWWusage %&gt;%
    auto.arima() %&gt;%
    sw_tidy(conf.int = TRUE)

</code></pre>

<hr>
<h2 id='sw_tidy_decomp'>Coerces decomposed time-series objects to tibble format.</h2><span id='topic+sw_tidy_decomp'></span>

<h3>Description</h3>

<p>Coerces decomposed time-series objects to tibble format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_tidy_decomp_+3A_x">x</code></td>
<td>
<p>A time-series object of class <code>stl</code>, <code>ets</code>, <code>decomposed.ts</code>, <code>HoltWinters</code>,
<code>bats</code> or <code>tbats</code>.</p>
</td></tr>
<tr><td><code id="sw_tidy_decomp_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>When <code>TRUE</code>, uses a timetk index (irregular, typically date or datetime) if present.</p>
</td></tr>
<tr><td><code id="sw_tidy_decomp_+3A_rename_index">rename_index</code></td>
<td>
<p>Enables the index column to be renamed.</p>
</td></tr>
<tr><td><code id="sw_tidy_decomp_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sw_tidy_decomp</code> is designed
to coerce time-series objects with decompositions to <code>tibble</code> objects.
</p>
<p>A regularized time index is always constructed. If no time index is
detected, a sequential index is returned as a default.
The index column name can be changed using the <code>rename_index</code> argument.
</p>


<h3>Value</h3>

<p>Returns a <code>tibble</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

# Decompose ETS model
USAccDeaths %&gt;%
    ets() %&gt;%
    sw_tidy_decomp()

# Decompose STL object
USAccDeaths %&gt;%
    stl(s.window = 'periodic') %&gt;%
    sw_tidy_decomp()


</code></pre>

<hr>
<h2 id='sw_tidy.default'>Default tidying method</h2><span id='topic+sw_tidy.default'></span>

<h3>Description</h3>

<p>By default, <code>sw_tidy()</code> uses <code><a href="broom.html#topic+reexports">broom::tidy()</a></code> to convert its output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
sw_tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sw_tidy.default_+3A_x">x</code></td>
<td>
<p>an object to be tidied</p>
</td></tr>
<tr><td><code id="sw_tidy.default_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>broom::tidy()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble generated by <code><a href="broom.html#topic+reexports">broom::tidy()</a></code>
</p>

<hr>
<h2 id='sweep_package'>sweep: Extending broom to time series forecasting</h2><span id='topic+sweep_package'></span>

<h3>Description</h3>

<p>The <code>sweep</code> package &quot;tidies&quot; up the
modeling workflow of the <code>forecast</code> package.
</p>


<h3>Details</h3>

<p>The model and forecast objects are not covered by
the <code>broom</code> package. It includes the <code><a href="#topic+sw_tidy">sw_tidy()</a></code>, <code><a href="#topic+sw_glance">sw_glance()</a></code>,
and <code><a href="#topic+sw_augment">sw_augment()</a></code> functions that work in a similar capacity as <code>broom</code> functions.
In addition, it provides <code><a href="#topic+sw_tidy_decomp">sw_tidy_decomp()</a></code> to tidy decompositions, and
<code><a href="#topic+sw_sweep">sw_sweep()</a></code> to coerce <code>forecast</code> objects to &quot;tibbles&quot; for easy visualization with <code>ggplot2</code>
and manipulation with <code>dplyr</code>.
</p>
<p>To learn more about <code>sweep</code>, start with the vignettes:
<code>browseVignettes(package = "sweep")</code>
</p>

<hr>
<h2 id='tbats_string'>Print the TBATS model parameters</h2><span id='topic+tbats_string'></span>

<h3>Description</h3>

<p>Refer to forecast:::makeTextTBATS.
<a href="https://github.com/robjhyndman/forecast/blob/master/R/bats.R"><code>forecast</code> bats.R</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbats_string(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbats_string_+3A_object">object</code></td>
<td>
<p>An object of class bats or tbats</p>
</td></tr>
</table>

<hr>
<h2 id='tidiers_arima'>Tidying methods for ARIMA modeling of time series</h2><span id='topic+tidiers_arima'></span><span id='topic+sw_tidy.Arima'></span><span id='topic+sw_glance.Arima'></span><span id='topic+sw_augment.Arima'></span><span id='topic+sw_tidy.stlm'></span>

<h3>Description</h3>

<p>These methods tidy the coefficients of ARIMA models of univariate time
series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Arima'
sw_tidy(x, ...)

## S3 method for class 'Arima'
sw_glance(x, ...)

## S3 method for class 'Arima'
sw_augment(x, data = NULL, rename_index = "index", timetk_idx = FALSE, ...)

## S3 method for class 'stlm'
sw_tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_arima_+3A_x">x</code></td>
<td>
<p>An object of class &quot;Arima&quot;</p>
</td></tr>
<tr><td><code id="tidiers_arima_+3A_...">...</code></td>
<td>
<p>Additional parameters (not used)</p>
</td></tr>
<tr><td><code id="tidiers_arima_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
<code>NULL</code> by default which simply returns augmented columns only.
User can supply the original data, which returns the data + augmented columns.</p>
</td></tr>
<tr><td><code id="tidiers_arima_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
A string representing the name of the index generated.</p>
</td></tr>
<tr><td><code id="tidiers_arima_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
Uses a irregular timetk index if present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> returns one row for each coefficient in the model,
with five columns:
</p>

<ul>
<li> <p><code>term</code>: The term in the nonlinear model being estimated and tested
</p>
</li>
<li> <p><code>estimate</code>: The estimated coefficient
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns one row with the columns
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model including the
three integer components (p, d, q) are the AR order,
the degree of differencing, and the MA order.
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>

<p><strong><code>sw_tidy()</code></strong> returns the underlying ETS or ARIMA model's <code>sw_tidy()</code>
one row for each coefficient in the model,
with five columns:
</p>

<ul>
<li> <p><code>term</code>: The term in the nonlinear model being estimated and tested
</p>
</li>
<li> <p><code>estimate</code>: The estimated coefficient
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="stats.html#topic+arima">arima()</a></code>, <a href="stats.html#topic+arima">Arima()</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_arima &lt;- WWWusage %&gt;%
    auto.arima()

sw_tidy(fit_arima)
sw_glance(fit_arima)
sw_augment(fit_arima)


</code></pre>

<hr>
<h2 id='tidiers_bats'>Tidying methods for BATS and TBATS modeling of time series</h2><span id='topic+tidiers_bats'></span><span id='topic+sw_tidy.bats'></span><span id='topic+sw_glance.bats'></span><span id='topic+sw_augment.bats'></span><span id='topic+sw_tidy_decomp.bats'></span>

<h3>Description</h3>

<p>Tidying methods for BATS and TBATS modeling of time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bats'
sw_tidy(x, ...)

## S3 method for class 'bats'
sw_glance(x, ...)

## S3 method for class 'bats'
sw_augment(x, data = NULL, rename_index = "index", timetk_idx = FALSE, ...)

## S3 method for class 'bats'
sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_bats_+3A_x">x</code></td>
<td>
<p>An object of class &quot;bats&quot; or &quot;tbats&quot;</p>
</td></tr>
<tr><td><code id="tidiers_bats_+3A_...">...</code></td>
<td>
<p>Additional parameters (not used)</p>
</td></tr>
<tr><td><code id="tidiers_bats_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
<code>NULL</code> by default which simply returns augmented columns only.
User can supply the original data, which returns the data + augmented columns.</p>
</td></tr>
<tr><td><code id="tidiers_bats_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
A string representing the name of the index generated.</p>
</td></tr>
<tr><td><code id="tidiers_bats_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> and <code>sw_tidy_decomp</code>.
When <code>TRUE</code>, uses a timetk index (irregular, typically date or datetime) if present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> returns one row for each model parameter,
with two columns:
</p>

<ul>
<li> <p><code>term</code>: The various parameters (lambda, alpha, gamma, etc)
</p>
</li>
<li> <p><code>estimate</code>: The estimated parameter value
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns one row with the columns
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model including the
three integer components (p, d, q) are the AR order,
the degree of differencing, and the MA order.
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion (<code>NA</code> for bats / tbats)
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>

<p><strong><code>sw_tidy_decomp()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>observed</code>: The original time series
</p>
</li>
<li> <p><code>level</code>: The level component
</p>
</li>
<li> <p><code>slope</code>: The slope component (Not always present)
</p>
</li>
<li> <p><code>season</code>: The seasonal component (Not always present)
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="forecast.html#topic+bats">bats()</a></code>, <code><a href="forecast.html#topic+tbats">tbats()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_bats &lt;- WWWusage %&gt;%
    bats()

sw_tidy(fit_bats)
sw_glance(fit_bats)
sw_augment(fit_bats)

</code></pre>

<hr>
<h2 id='tidiers_decomposed_ts'>Tidying methods for decomposed time series</h2><span id='topic+tidiers_decomposed_ts'></span><span id='topic+sw_tidy_decomp.decomposed.ts'></span>

<h3>Description</h3>

<p>Tidying methods for decomposed time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'decomposed.ts'
sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_decomposed_ts_+3A_x">x</code></td>
<td>
<p>An object of class &quot;decomposed.ts&quot;</p>
</td></tr>
<tr><td><code id="tidiers_decomposed_ts_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> and <code>sw_tidy_decomp</code>.
When <code>TRUE</code>, uses a timetk index (irregular, typically date or datetime) if present.</p>
</td></tr>
<tr><td><code id="tidiers_decomposed_ts_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> and <code>sw_tidy_decomp</code>.
A string representing the name of the index generated.</p>
</td></tr>
<tr><td><code id="tidiers_decomposed_ts_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy_decomp()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>season</code>: The seasonal component
</p>
</li>
<li> <p><code>trend</code>: The trend component
</p>
</li>
<li> <p><code>random</code>: The error component
</p>
</li>
<li> <p><code>seasadj</code>: observed - season
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="stats.html#topic+decompose">decompose()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_decomposed &lt;- USAccDeaths %&gt;%
    decompose()

sw_tidy_decomp(fit_decomposed)

</code></pre>

<hr>
<h2 id='tidiers_ets'>Tidying methods for ETS (Error, Trend, Seasonal) exponential smoothing
modeling of time series</h2><span id='topic+tidiers_ets'></span><span id='topic+sw_tidy.ets'></span><span id='topic+sw_glance.ets'></span><span id='topic+sw_augment.ets'></span><span id='topic+sw_tidy_decomp.ets'></span>

<h3>Description</h3>

<p>Tidying methods for ETS (Error, Trend, Seasonal) exponential smoothing
modeling of time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ets'
sw_tidy(x, ...)

## S3 method for class 'ets'
sw_glance(x, ...)

## S3 method for class 'ets'
sw_augment(x, data = NULL, timetk_idx = FALSE, rename_index = "index", ...)

## S3 method for class 'ets'
sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_ets_+3A_x">x</code></td>
<td>
<p>An object of class &quot;ets&quot;</p>
</td></tr>
<tr><td><code id="tidiers_ets_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr><td><code id="tidiers_ets_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
<code>NULL</code> by default which simply returns augmented columns only.
User can supply the original data, which returns the data + augmented columns.</p>
</td></tr>
<tr><td><code id="tidiers_ets_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> and <code>sw_tidy_decomp</code>.
When <code>TRUE</code>, uses a timetk index (irregular, typically date or datetime) if present.</p>
</td></tr>
<tr><td><code id="tidiers_ets_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> and <code>sw_tidy_decomp</code>.
A string representing the name of the index generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> returns one row for each model parameter,
with two columns:
</p>

<ul>
<li> <p><code>term</code>: The smoothing parameters (alpha, gamma) and the initial states
(l, s0 through s10)
</p>
</li>
<li> <p><code>estimate</code>: The estimated parameter value
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns one row with the columns
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model including the
three integer components (p, d, q) are the AR order,
the degree of differencing, and the MA order.
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>

<p><strong><code>sw_tidy_decomp()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>observed</code>: The original time series
</p>
</li>
<li> <p><code>level</code>: The level component
</p>
</li>
<li> <p><code>slope</code>: The slope component (Not always present)
</p>
</li>
<li> <p><code>season</code>: The seasonal component (Not always present)
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="forecast.html#topic+ets">ets()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_ets &lt;- WWWusage %&gt;%
    ets()

sw_tidy(fit_ets)
sw_glance(fit_ets)
sw_augment(fit_ets)
sw_tidy_decomp(fit_ets)

</code></pre>

<hr>
<h2 id='tidiers_HoltWinters'>Tidying methods for HoltWinters modeling of time series</h2><span id='topic+tidiers_HoltWinters'></span><span id='topic+sw_tidy.HoltWinters'></span><span id='topic+sw_glance.HoltWinters'></span><span id='topic+sw_augment.HoltWinters'></span><span id='topic+sw_tidy_decomp.HoltWinters'></span>

<h3>Description</h3>

<p>These methods tidy <code>HoltWinters</code> models of univariate time
series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'HoltWinters'
sw_tidy(x, ...)

## S3 method for class 'HoltWinters'
sw_glance(x, ...)

## S3 method for class 'HoltWinters'
sw_augment(x, data = NULL, rename_index = "index", timetk_idx = FALSE, ...)

## S3 method for class 'HoltWinters'
sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_HoltWinters_+3A_x">x</code></td>
<td>
<p>An object of class &quot;HoltWinters&quot;</p>
</td></tr>
<tr><td><code id="tidiers_HoltWinters_+3A_...">...</code></td>
<td>
<p>Additional parameters (not used)</p>
</td></tr>
<tr><td><code id="tidiers_HoltWinters_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
<code>NULL</code> by default which simply returns augmented columns only.
User can supply the original data, which returns the data + augmented columns.</p>
</td></tr>
<tr><td><code id="tidiers_HoltWinters_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
A string representing the name of the index generated.</p>
</td></tr>
<tr><td><code id="tidiers_HoltWinters_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> and <code>sw_tidy_decomp</code>.
When <code>TRUE</code>, uses a timetk index (irregular, typically date or datetime) if present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> returns one row for each model parameter,
with two columns:
</p>

<ul>
<li> <p><code>term</code>: The various parameters (alpha, beta, gamma, and coefficients)
</p>
</li>
<li> <p><code>estimate</code>: The estimated parameter value
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns one row with the following columns:
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion (<code>NA</code> for bats / tbats)
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>

<p><strong><code>sw_tidy_decomp()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>observed</code>: The original time series
</p>
</li>
<li> <p><code>season</code>: The seasonal component
</p>
</li>
<li> <p><code>trend</code>: The trend component
</p>
</li>
<li> <p><code>remainder</code>: observed - (season + trend)
</p>
</li>
<li> <p><code>seasadj</code>: observed - season (or trend + remainder)
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="stats.html#topic+HoltWinters">HoltWinters()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_hw &lt;- USAccDeaths %&gt;%
    stats::HoltWinters()

sw_tidy(fit_hw)
sw_glance(fit_hw)
sw_augment(fit_hw)
sw_tidy_decomp(fit_hw)

</code></pre>

<hr>
<h2 id='tidiers_nnetar'>Tidying methods for Nural Network Time Series models</h2><span id='topic+tidiers_nnetar'></span><span id='topic+sw_tidy.nnetar'></span><span id='topic+sw_glance.nnetar'></span><span id='topic+sw_augment.nnetar'></span>

<h3>Description</h3>

<p>These methods tidy the coefficients of NNETAR models of univariate time
series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'nnetar'
sw_tidy(x, ...)

## S3 method for class 'nnetar'
sw_glance(x, ...)

## S3 method for class 'nnetar'
sw_augment(x, data = NULL, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_nnetar_+3A_x">x</code></td>
<td>
<p>An object of class &quot;nnetar&quot;</p>
</td></tr>
<tr><td><code id="tidiers_nnetar_+3A_...">...</code></td>
<td>
<p>Additional parameters (not used)</p>
</td></tr>
<tr><td><code id="tidiers_nnetar_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
<code>NULL</code> by default which simply returns augmented columns only.
User can supply the original data, which returns the data + augmented columns.</p>
</td></tr>
<tr><td><code id="tidiers_nnetar_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
Uses a irregular timetk index if present.</p>
</td></tr>
<tr><td><code id="tidiers_nnetar_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
A string representing the name of the index generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> returns one row for each model parameter,
with two columns:
</p>

<ul>
<li> <p><code>term</code>: The smoothing parameters (alpha, gamma) and the initial states
(l, s0 through s10)
</p>
</li>
<li> <p><code>estimate</code>: The estimated parameter value
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns one row with the columns
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model including the
three integer components (p, d, q) are the AR order,
the degree of differencing, and the MA order.
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model (<code>NA</code>)
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion (<code>NA</code>)
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion (<code>NA</code>)
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="forecast.html#topic+nnetar">nnetar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_nnetar &lt;- lynx %&gt;%
    nnetar()

sw_tidy(fit_nnetar)
sw_glance(fit_nnetar)
sw_augment(fit_nnetar)

</code></pre>

<hr>
<h2 id='tidiers_stl'>Tidying methods for STL (Seasonal, Trend, Level) decomposition of time series</h2><span id='topic+tidiers_stl'></span><span id='topic+sw_tidy.stl'></span><span id='topic+sw_tidy_decomp.stl'></span><span id='topic+sw_tidy_decomp.stlm'></span><span id='topic+sw_glance.stlm'></span><span id='topic+sw_augment.stlm'></span>

<h3>Description</h3>

<p>Tidying methods for STL (Seasonal, Trend, Level) decomposition of time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stl'
sw_tidy(x, ...)

## S3 method for class 'stl'
sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)

## S3 method for class 'stlm'
sw_tidy_decomp(x, timetk_idx = FALSE, rename_index = "index", ...)

## S3 method for class 'stlm'
sw_glance(x, ...)

## S3 method for class 'stlm'
sw_augment(x, data = NULL, rename_index = "index", timetk_idx = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_stl_+3A_x">x</code></td>
<td>
<p>An object of class &quot;stl&quot;</p>
</td></tr>
<tr><td><code id="tidiers_stl_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr><td><code id="tidiers_stl_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_tidy_decomp</code>.
When <code>TRUE</code>, uses a timetk index (irregular, typically date or datetime) if present.</p>
</td></tr>
<tr><td><code id="tidiers_stl_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_tidy_decomp</code>.
A string representing the name of the index generated.</p>
</td></tr>
<tr><td><code id="tidiers_stl_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> wraps <code>sw_tidy_decomp()</code>
</p>
<p><strong><code>sw_tidy_decomp()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>season</code>: The seasonal component
</p>
</li>
<li> <p><code>trend</code>: The trend component
</p>
</li>
<li> <p><code>remainder</code>: observed - (season + trend)
</p>
</li>
<li> <p><code>seasadj</code>: observed - season (or trend + remainder)
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns the underlying ETS or ARIMA model's <code>sw_glance()</code> results one row with the columns
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model including the
three integer components (p, d, q) are the AR order,
the degree of differencing, and the MA order.
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="stats.html#topic+stl">stl()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_stl &lt;- USAccDeaths %&gt;%
    stl(s.window = "periodic")

sw_tidy_decomp(fit_stl)

</code></pre>

<hr>
<h2 id='tidiers_StructTS'>Tidying methods for StructTS (Error, Trend, Seasonal) / exponential smoothing
modeling of time series</h2><span id='topic+tidiers_StructTS'></span><span id='topic+sw_tidy.StructTS'></span><span id='topic+sw_glance.StructTS'></span><span id='topic+sw_augment.StructTS'></span>

<h3>Description</h3>

<p>These methods tidy the coefficients of StructTS models of univariate time
series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'StructTS'
sw_tidy(x, ...)

## S3 method for class 'StructTS'
sw_glance(x, ...)

## S3 method for class 'StructTS'
sw_augment(x, data = NULL, timetk_idx = FALSE, rename_index = "index", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidiers_StructTS_+3A_x">x</code></td>
<td>
<p>An object of class &quot;StructTS&quot;</p>
</td></tr>
<tr><td><code id="tidiers_StructTS_+3A_...">...</code></td>
<td>
<p>Additional parameters (not used)</p>
</td></tr>
<tr><td><code id="tidiers_StructTS_+3A_data">data</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
<code>NULL</code> by default which simply returns augmented columns only.
User can supply the original data, which returns the data + augmented columns.</p>
</td></tr>
<tr><td><code id="tidiers_StructTS_+3A_timetk_idx">timetk_idx</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
Uses a irregular timetk index if present.</p>
</td></tr>
<tr><td><code id="tidiers_StructTS_+3A_rename_index">rename_index</code></td>
<td>
<p>Used with <code>sw_augment</code> only.
A string representing the name of the index generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><strong><code>sw_tidy()</code></strong> returns one row for each model parameter,
with two columns:
</p>

<ul>
<li> <p><code>term</code>: The model parameters
</p>
</li>
<li> <p><code>estimate</code>: The estimated parameter value
</p>
</li></ul>

<p><strong><code>sw_glance()</code></strong> returns one row with the columns
</p>

<ul>
<li> <p><code>model.desc</code>: A description of the model including the
three integer components (p, d, q) are the AR order,
the degree of differencing, and the MA order.
</p>
</li>
<li> <p><code>sigma</code>: The square root of the estimated residual variance
</p>
</li>
<li> <p><code>logLik</code>: The data's log-likelihood under the model
</p>
</li>
<li> <p><code>AIC</code>: The Akaike Information Criterion
</p>
</li>
<li> <p><code>BIC</code>: The Bayesian Information Criterion
</p>
</li>
<li> <p><code>ME</code>: Mean error
</p>
</li>
<li> <p><code>RMSE</code>: Root mean squared error
</p>
</li>
<li> <p><code>MAE</code>: Mean absolute error
</p>
</li>
<li> <p><code>MPE</code>: Mean percentage error
</p>
</li>
<li> <p><code>MAPE</code>: Mean absolute percentage error
</p>
</li>
<li> <p><code>MASE</code>: Mean absolute scaled error
</p>
</li>
<li> <p><code>ACF1</code>: Autocorrelation of errors at lag 1
</p>
</li></ul>

<p><strong><code>sw_augment()</code></strong> returns a tibble with the following time series attributes:
</p>

<ul>
<li> <p><code>index</code>: An index is either attempted to be extracted from the model or
a sequential index is created for plotting purposes
</p>
</li>
<li> <p><code>.actual</code>: The original time series
</p>
</li>
<li> <p><code>.fitted</code>: The fitted values from the model
</p>
</li>
<li> <p><code>.resid</code>: The residual values from the model
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="stats.html#topic+StructTS">StructTS()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(forecast)
library(sweep)

fit_StructTS &lt;- WWWusage %&gt;%
    StructTS()

sw_tidy(fit_StructTS)
sw_glance(fit_StructTS)
sw_augment(fit_StructTS)

</code></pre>

<hr>
<h2 id='validate_index'>Validates data frame has column named the same name as variable rename_index</h2><span id='topic+validate_index'></span>

<h3>Description</h3>

<p>Validates data frame has column named the same name as variable rename_index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_index(ret, rename_index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_index_+3A_ret">ret</code></td>
<td>
<p>An object of class tibble</p>
</td></tr>
<tr><td><code id="validate_index_+3A_rename_index">rename_index</code></td>
<td>
<p>A variable indicating the index name to be used in the
tibble returned</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rscorecard</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rscorecard}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#rscorecard'><p>rscorecard: A Method to Download College Scorecard Data.</p></a></li>
<li><a href='#sc_dict'><p>Search data dictionary.</p></a></li>
<li><a href='#sc_filter'><p>Filter scorecard data by variable values.</p></a></li>
<li><a href='#sc_get'><p>Get scorecard data.</p></a></li>
<li><a href='#sc_init'><p>Initialize chained request.</p></a></li>
<li><a href='#sc_key'><p>Store Data.gov API key in system environment.</p></a></li>
<li><a href='#sc_select'><p>Select scorecard data variables.</p></a></li>
<li><a href='#sc_year'><p>Select scorecard data year.</p></a></li>
<li><a href='#sc_zip'><p>Subset results to those within specified area around zip code.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>A Method to Download Department of Education College Scorecard
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.26.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin Skinner &lt;btskinner@coe.ufl.edu&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/btskinner/rscorecard">https://github.com/btskinner/rscorecard</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/btskinner/rscorecard/issues">https://github.com/btskinner/rscorecard/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>A method to download Department of Education College
     Scorecard data using the public API
     <a href="https://collegescorecard.ed.gov/data/documentation/">https://collegescorecard.ed.gov/data/documentation/</a>. It is based on
     the 'dplyr' model of piped commands to select and filter data in a
     single chained function call.  An API key from the U.S. Department of
     Education is required.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.3)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, jsonlite, lazyeval, magrittr, tidyr, purrr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, tidyselect</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-28 13:42:42 UTC; benski</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin Skinner <a href="https://orcid.org/0000-0002-0337-7415"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-28 18:20:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic+pipe">%&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='rscorecard'>rscorecard: A Method to Download College Scorecard Data.</h2><span id='topic+rscorecard'></span>

<h3>Description</h3>

<p>The rscorecard package provides a series of piped functions (a la
<a href="https://CRAN.R-project.org/package=dplyr">dplyr</a>) to
facilitate downloading Department of Education College Scorecard
data.  In reality it is simply a method for converting idiomatic R
code into a properly formatted URL string that is then
queried. This package requires an API key, which can be requested
at <a href="https://api.data.gov/signup/">https://api.data.gov/signup/</a>.
</p>


<h3>Details</h3>

<p>All command pipes must start with <code>sc_init()</code>, end with
<code>sc_get()</code>, and be linked with the magrittr pipe function,
<code>%&gt;%</code>.  Internal commands, <code><a href="#topic+sc_select">sc_select</a></code>,
<code><a href="#topic+sc_filter">sc_filter</a></code>, <code><a href="#topic+sc_year">sc_year</a></code>,
<code><a href="#topic+sc_zip">sc_zip</a></code>, can come in any order in the pipe chain. Only
<code><a href="#topic+sc_select">sc_select</a></code> is required.
</p>

<hr>
<h2 id='sc_dict'>Search data dictionary.</h2><span id='topic+sc_dict'></span>

<h3>Description</h3>

<p>This function is used to search the College Scorecard
data dictionary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_dict(
  search_string,
  search_col = c("all", "description", "varname", "dev_friendly_name", "dev_category",
    "label", "source"),
  ignore_case = TRUE,
  limit = 10,
  confirm = FALSE,
  print_dev = FALSE,
  print_notes = FALSE,
  return_df = FALSE,
  print_off = FALSE,
  can_filter = FALSE,
  filter_vars = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_dict_+3A_search_string">search_string</code></td>
<td>
<p>Character string for search. Can use regular
expression for search. Must escape special characters,
<code>. \ | ( ) [ { ^ $ * + ?</code>, with a doublebackslash
<code>\\</code>.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_search_col">search_col</code></td>
<td>
<p>Column to search. The default is to search all
columns.  Other options include: &quot;varname&quot;,
&quot;dev_friendly_name&quot;, &quot;dev_category&quot;, &quot;label&quot;.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_ignore_case">ignore_case</code></td>
<td>
<p>Search is case insensitive by default. Change to
<code>FALSE</code> to restrict search to exact case matches.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_limit">limit</code></td>
<td>
<p>Only the first 10 dictionary items are returned by
default. Increase to return more values. Set to <code>Inf</code> to
return all items matched in search'</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_confirm">confirm</code></td>
<td>
<p>Use to confirm status of variable name in
dictionary. Returns <code>TRUE</code> or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_print_dev">print_dev</code></td>
<td>
<p>Set to <code>TRUE</code> if you want to see the
developer friendly name and category used in the API call.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_print_notes">print_notes</code></td>
<td>
<p>Set to <code>TRUE</code> if you want to see the notes
included in the data dictionary (if any).</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_return_df">return_df</code></td>
<td>
<p>Return a tibble of the subset data dictionary.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_print_off">print_off</code></td>
<td>
<p>Do not print to console; useful if you only want
to return a tibble of dictionary values.</p>
</td></tr>
<tr><td><code id="sc_dict_+3A_can_filter">can_filter</code></td>
<td>
<p>Use to confirm that a variable can be used as a
filtering variable. Returns <code>TRUE</code> or <code>FALSE</code></p>
</td></tr>
<tr><td><code id="sc_dict_+3A_filter_vars">filter_vars</code></td>
<td>
<p>Use to print variables that can be used to
filter calls. Use with argument <code>return_df = TRUE</code> to
return a tibble of these variables in addition to console
output.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## simple search for 'state' in any part of the dictionary
sc_dict('state')

## variable names starting with 'st'
sc_dict('^st', search_col = 'varname')

## return full dictionary (only recommended if not printing and
## storing in object)
df &lt;- sc_dict('.', limit = Inf, print_off = TRUE, return_df = TRUE)

## print list of variables that can be used to filter
df &lt;- sc_dict('.', filter_vars = TRUE, return_df = TRUE)
</code></pre>

<hr>
<h2 id='sc_filter'>Filter scorecard data by variable values.</h2><span id='topic+sc_filter'></span><span id='topic+sc_filter_'></span>

<h3>Description</h3>

<p>This function is used to filter the downloaded scorecard data. It
converts idiomatic R into the format required by the API call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_filter(sccall, ...)

sc_filter_(sccall, filter_string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_filter_+3A_sccall">sccall</code></td>
<td>
<p>Current list of parameters carried forward from prior
functions in the chain (ignore)</p>
</td></tr>
<tr><td><code id="sc_filter_+3A_...">...</code></td>
<td>
<p>Expressions to evaluate</p>
</td></tr>
<tr><td><code id="sc_filter_+3A_filter_string">filter_string</code></td>
<td>
<p>Filter as character string or vector of
filters as character strings</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>sc_filter_()</code>: Standard evaluation version of
<code><a href="#topic+sc_filter">sc_filter</a></code> (<code>filter_string</code> must be a string
or vector of strings when using this version)
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_filter(region == 1) # New England institutions
sc_filter(stabbr == c('TN','KY')) # institutions in Tennessee and Kentucky
sc_filter(control != 3) # exclude private, for-profit institutions
sc_filter(control == c(1,2)) # same as above
sc_filter(control == 1:2) # same as above
sc_filter(stabbr == 'TN', control == 1, locale == 41:43) # TN rural publics

## End(Not run)
## Not run: 
sc_filter_('region == 1')
sc_filter_('control != 3')

## With internal strings, you must either use both double and single quotes
## or escape internal quotes
sc_filter_("stabbr == c('TN','KY')")
sc_filter_('stabbr == c(\'TN\',\'KY\')')

## stored in object
filters &lt;- c('control == 1', 'locale == 41:43')
sc_filter_(filters)

## End(Not run)
</code></pre>

<hr>
<h2 id='sc_get'>Get scorecard data.</h2><span id='topic+sc_get'></span>

<h3>Description</h3>

<p>This function gets the College Scorecard data by compiling and
converting all the previous piped output into a single URL string
that is used to get the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_get(
  sccall,
  api_key,
  debug = FALSE,
  print_key_debug = FALSE,
  return_json = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_get_+3A_sccall">sccall</code></td>
<td>
<p>Current list of parameters carried forward from prior
functions in the chain (ignore)</p>
</td></tr>
<tr><td><code id="sc_get_+3A_api_key">api_key</code></td>
<td>
<p>Personal API key requested from
<a href="https://api.data.gov/signup">https://api.data.gov/signup</a> stored in a string. If you
first set your key using <code>sc_key</code>, then you may omit this
parameter. A key set here will take precedence over any set in
the environment (DATAGOV_API_KEY).</p>
</td></tr>
<tr><td><code id="sc_get_+3A_debug">debug</code></td>
<td>
<p>Set to true to print and return API call (URL string)
rather than make actual request. Should only be used when
debugging calls.</p>
</td></tr>
<tr><td><code id="sc_get_+3A_print_key_debug">print_key_debug</code></td>
<td>
<p>Only used when <code>debug == TRUE</code>. Default
masks the <code>api_key</code> value. Set to <code>TRUE</code> to print the
full API call string with the <code>api_key</code> unmasked.</p>
</td></tr>
<tr><td><code id="sc_get_+3A_return_json">return_json</code></td>
<td>
<p>Return data in JSON format rather than as a
tibble.</p>
</td></tr>
</table>


<h3>Obtain a key</h3>

<p>To obtain an API key, visit <a href="https://api.data.gov/signup">https://api.data.gov/signup</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_get('&lt;API KEY IN STRING&gt;')
key &lt;- '&lt;API KEY IN STRING&gt;'
sc_get(key)

## End(Not run)

</code></pre>

<hr>
<h2 id='sc_init'>Initialize chained request.</h2><span id='topic+sc_init'></span>

<h3>Description</h3>

<p>This function initializes the data request. It should always be
the first in the series of piped functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_init(dfvars = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_init_+3A_dfvars">dfvars</code></td>
<td>
<p>Set to <code>TRUE</code> if you would rather use the
developer-friendly variable names used in actual API call.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_init()
sc_init(dfvars = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='sc_key'>Store Data.gov API key in system environment.</h2><span id='topic+sc_key'></span>

<h3>Description</h3>

<p>This function stores your data.gov API key in the system environment
so that you only have to load it once at the start of the session.
If you set your key using <code>sc_key</code>, then you may omit
<code>api_key</code> parameter in the <code>sc_get</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_key(api_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_key_+3A_api_key">api_key</code></td>
<td>
<p>Personal API key requested from
<a href="https://api.data.gov/signup">https://api.data.gov/signup</a> stored in a string.</p>
</td></tr>
</table>


<h3>Obtain a key</h3>

<p>To obtain an API key, visit <a href="https://api.data.gov/signup">https://api.data.gov/signup</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_key('&lt;API KEY IN STRING&gt;')

## End(Not run)

</code></pre>

<hr>
<h2 id='sc_select'>Select scorecard data variables.</h2><span id='topic+sc_select'></span><span id='topic+sc_select_'></span>

<h3>Description</h3>

<p>This function is used to select the variables returned in the final dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_select(sccall, ...)

sc_select_(sccall, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_select_+3A_sccall">sccall</code></td>
<td>
<p>Current list of parameters carried forward from prior
functions in the chain (ignore)</p>
</td></tr>
<tr><td><code id="sc_select_+3A_...">...</code></td>
<td>
<p>Desired variable names separated by commas (not case sensitive)</p>
</td></tr>
<tr><td><code id="sc_select_+3A_vars">vars</code></td>
<td>
<p>Character string of variable name or vector of
character string variable names</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>sc_select_()</code>: Standard evaluation version of
<code><a href="#topic+sc_select">sc_select</a></code> (<code>vars</code> must be string or vector
of strings when using this version)
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_select(UNITID)
sc_select(UNITID, INSTNM)
sc_select(unitid, instnm)

## End(Not run)
## Not run: 
sc_select_('UNITID')
sc_select_(c('UNITID', 'INSTNM'))
sc_select_(c('unitid', 'instnm'))

## stored in object
vars_to_pull &lt;- c('unitid','instnm')
sc_select(vars_to_pull)

## End(Not run)

</code></pre>

<hr>
<h2 id='sc_year'>Select scorecard data year.</h2><span id='topic+sc_year'></span>

<h3>Description</h3>

<p>This function is used to select the year of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_year(sccall, year)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_year_+3A_sccall">sccall</code></td>
<td>
<p>Current list of parameters carried forward from prior
functions in the chain (ignore)</p>
</td></tr>
<tr><td><code id="sc_year_+3A_year">year</code></td>
<td>
<p>Four-digit year or string <code>latest</code> for latest data.</p>
</td></tr>
</table>


<h3>Important notes</h3>


<ol>
<li><p> Not all variables have a year option.
</p>
</li>
<li><p> At this time, only one year at a time is allowed.
</p>
</li>
<li><p> The year selected is not necessarily the year the data were produced.
It may be the year the data were collected. For data collected over split
years (fall to spring), it is likely the year represents the fall data (<em>e.g.,</em>
2011 for 2011/2012 data).
</p>
</li></ol>

<p>Be sure to check with the College Scorecard
<a href="https://collegescorecard.ed.gov/data/documentation/">data
documentation report</a> when choosing the year.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_year() # latest
sc_year('latest')
sc_year(2012)

## End(Not run)
</code></pre>

<hr>
<h2 id='sc_zip'>Subset results to those within specified area around zip code.</h2><span id='topic+sc_zip'></span>

<h3>Description</h3>

<p>Subset results to those within specified area around zip code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_zip(sccall, zip, distance = 25, km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_zip_+3A_sccall">sccall</code></td>
<td>
<p>Current list of parameters carried forward from prior
functions in the chain (ignore)</p>
</td></tr>
<tr><td><code id="sc_zip_+3A_zip">zip</code></td>
<td>
<p>A 5-digit zipcode</p>
</td></tr>
<tr><td><code id="sc_zip_+3A_distance">distance</code></td>
<td>
<p>An integer distance in miles or kilometers</p>
</td></tr>
<tr><td><code id="sc_zip_+3A_km">km</code></td>
<td>
<p>A boolean value set to <code>TRUE</code> if distance should be
in kilometers (default is <code>FALSE</code> for miles)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Zip codes with leading zeros (Northeast) can be
called either using a string (<code>'02111'</code>) or as a numeric
(<code>02111</code>). R will drop the leading zero from the second
version, but <code>sc_zip()</code> will add it back before the
call. The shortened version without the leading zero may also
be used (2111 and '2111' both become '02111'), but is not
recommended for clarity.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sc_zip(37203)
sc_zip(37203, 50)
sc_zip(37203, 50, km = TRUE)
sc_zip('02111')              # 1. Using string
sc_zip(02111)                # 2. Dropped leading zero will be added
sc_zip(2111)                 # 3. Will become '02111' (not recommended)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

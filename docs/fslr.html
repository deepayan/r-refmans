<!DOCTYPE html><html><head><title>Help for package fslr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fslr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#applytopup'><p>applytopup - calling FSL applytopup</p></a></li>
<li><a href='#aux.file-methods'><p>Extract Image aux.file attribute</p></a></li>
<li><a href='#bitpix-methods'><p>Extract Image bitpix attribute</p></a></li>
<li><a href='#cal.max-methods'><p>Extract Image cal.max attribute</p></a></li>
<li><a href='#cal.min-methods'><p>Extract Image cal.min attribute</p></a></li>
<li><a href='#check_file'><p>Wrapper for getForms with filename</p></a></li>
<li><a href='#checkout'><p>Determine of Q and S forms are consistent</p></a></li>
<li><a href='#data_type-methods'><p>Extract Image data_type attribute</p></a></li>
<li><a href='#datatype-methods'><p>Extract Image datatype attribute</p></a></li>
<li><a href='#descrip-methods'><p>Extract Image descrip attribute</p></a></li>
<li><a href='#dim_-methods'><p>Extract Image dim_ attribute</p></a></li>
<li><a href='#download_fsl'><p>Download FSL</p></a></li>
<li><a href='#dtifit'><p>DTI Fitting Procedure from FSL</p></a></li>
<li><a href='#eddy'><p>Eddy Current Correction</p></a></li>
<li><a href='#eddy_correct'><p>Eddy Current Correction</p></a></li>
<li><a href='#enforce_form'><p>Enforce Either Qform or Sform is set</p></a></li>
<li><a href='#face_removal_mask'><p>Face Removal Mask</p></a></li>
<li><a href='#fast'><p>FSL FAST</p></a></li>
<li><a href='#fast.help'><p>FAST help</p></a></li>
<li><a href='#flirt'><p>Register using FLIRT</p></a></li>
<li><a href='#flirt_apply'><p>Apply Warp from FLIRT</p></a></li>
<li><a href='#flirt.help'><p>FLIRT help</p></a></li>
<li><a href='#fnirt'><p>Register using FNIRT</p></a></li>
<li><a href='#fnirt_with_affine'><p>Register using FNIRT, but doing Affine Registration as well</p></a></li>
<li><a href='#fnirt_with_affine_apply'><p>Applies FLIRT then FNIRT transformations</p></a></li>
<li><a href='#fnirt.help'><p>FNIRT help</p></a></li>
<li><a href='#fsl_abs'><p>Absolute Value Image using FSL</p></a></li>
<li><a href='#fsl_acos'><p>Arc Cosine Transform Image using FSL</p></a></li>
<li><a href='#fsl_add'><p>Add Images using FSL</p></a></li>
<li><a href='#fsl_anat'><p>FSL Anatomical Processing Script</p></a></li>
<li><a href='#fsl_anat.help'><p>fsl_anat help</p></a></li>
<li><a href='#fsl_applywarp'><p>Apply Warp from FNIRT</p></a></li>
<li><a href='#fsl_applywarp.help'><p>FSL applywarp help</p></a></li>
<li><a href='#fsl_asin'><p>Arc Sine Transform Image using FSL</p></a></li>
<li><a href='#fsl_atan'><p>Arc Tangent Transform Image using FSL</p></a></li>
<li><a href='#fsl_atlas_dir'><p>Get FSL's Standard Data Directory</p></a></li>
<li><a href='#fsl_avscale'><p>Scale Affine Matrix using <code>avscale</code></p></a></li>
<li><a href='#fsl_bet'><p>Use FSL's Brain Extraction Tool (BET)</p></a></li>
<li><a href='#fsl_biascorrect'><p>FSL Bias Correct</p></a></li>
<li><a href='#fsl_bin'><p>Binarize Image using FSL</p></a></li>
<li><a href='#fsl_bin_tab'><p>Quick Tabulation for logical images</p></a></li>
<li><a href='#fsl_binv'><p>Binarized Inverse Image using FSL</p></a></li>
<li><a href='#fsl_cluster'><p>Form clusters, report information about clusters</p>
and/or perform cluster-based inference.  Wrapper for <code>cluster</code></a></li>
<li><a href='#fsl_cos'><p>Cosine Transform Image using FSL</p></a></li>
<li><a href='#fsl_data_dir'><p>Get FSL's Data Directory</p></a></li>
<li><a href='#fsl_deface'><p>Tool to deface a structural T1w image.</p></a></li>
<li><a href='#fsl_dice'><p>Calculate Dice Coefficient of 2 Binary images</p></a></li>
<li><a href='#fsl_dilate'><p>Dilate image using FSL</p></a></li>
<li><a href='#fsl_div'><p>Divide Images using FSL</p></a></li>
<li><a href='#fsl_edge'><p>Edge Strength Image using FSL</p></a></li>
<li><a href='#fsl_erode'><p>Erode image using FSL</p></a></li>
<li><a href='#fsl_exp'><p>Exponentiate Image using FSL</p></a></li>
<li><a href='#fsl_fill'><p>Fill image holes</p></a></li>
<li><a href='#fsl_index'><p>Index Image using FSL</p></a></li>
<li><a href='#fsl_log'><p>Log Transform Image using FSL</p></a></li>
<li><a href='#fsl_mask'><p>Mask image using FSL</p></a></li>
<li><a href='#fsl_maths'><p>FSL Maths</p></a></li>
<li><a href='#fsl_merge'><p>Merge images using FSL</p></a></li>
<li><a href='#fsl_mul'><p>Multiply Images using FSL</p></a></li>
<li><a href='#fsl_nan'><p>Replace NaNs in Image using FSL</p></a></li>
<li><a href='#fsl_nanm'><p>Mask NaNs in Image using FSL</p></a></li>
<li><a href='#fsl_rand'><p>Add Random Uniform Noise Image using FSL</p></a></li>
<li><a href='#fsl_randn'><p>Add Random Standard Gaussian Noise Image using FSL</p></a></li>
<li><a href='#fsl_recip'><p>Reciprocal Image using FSL</p></a></li>
<li><a href='#fsl_rem'><p>Modulus Remainder of 2 Images using FSL</p></a></li>
<li><a href='#fsl_resample'><p>Resample an Image to Specific Voxel Size</p></a></li>
<li><a href='#fsl_smooth'><p>Gaussian smooth image using FSL</p></a></li>
<li><a href='#fsl_smoothest'><p>Smoothness Estimation using <code>smoothest</code></p></a></li>
<li><a href='#fsl_sqr'><p>Square Image using FSL</p></a></li>
<li><a href='#fsl_sqrt'><p>Square Root Image using FSL</p></a></li>
<li><a href='#fsl_std_dir'><p>Get FSL's Standard Data Directory</p></a></li>
<li><a href='#fsl_sub'><p>Subtract Images using FSL</p></a></li>
<li><a href='#fsl_sub2'><p>Subsample image by factor of 2</p></a></li>
<li><a href='#fsl_swapdim'><p>FSL Swap Dimensions</p></a></li>
<li><a href='#fsl_tan'><p>Tangent Transform Image using FSL</p></a></li>
<li><a href='#fsl_thresh'><p>Threshold an image</p></a></li>
<li><a href='#fsl_tsplot'><p>FSL Timeseries Plot using 'fsl_tsplot' (not 'tsplot')</p></a></li>
<li><a href='#fsl_version'><p>Find FSL Version</p></a></li>
<li><a href='#fslabs.help'><p>fslabs Help</p></a></li>
<li><a href='#fslacos.help'><p>fslacos Help</p></a></li>
<li><a href='#fsladd.help'><p>fsladd Help</p></a></li>
<li><a href='#fsland'><p>Logical AND with Images using FSL</p></a></li>
<li><a href='#fslasin.help'><p>fslasin Help</p></a></li>
<li><a href='#fslatan.help'><p>fslatan Help</p></a></li>
<li><a href='#fslbet.help'><p>Help for FSL BET</p></a></li>
<li><a href='#fslbin.help'><p>fslbin Help</p></a></li>
<li><a href='#fslbinv.help'><p>fslbinv Help</p></a></li>
<li><a href='#fslchfiletype'><p>FSL Change file type</p></a></li>
<li><a href='#fslchfiletype.help'><p>fslchfiletype help</p></a></li>
<li><a href='#fslcmd'><p>FSL Command Wrapper</p></a></li>
<li><a href='#fslcog'><p>Image Center of Gravity (FSL)</p></a></li>
<li><a href='#fslcos.help'><p>fslcos Help</p></a></li>
<li><a href='#fslcpgeom'><p>FSL Copy Geometry</p></a></li>
<li><a href='#fslcpgeom.help'><p>fslcpgeom help</p></a></li>
<li><a href='#fsldir'><p>Get FSL's Directory</p></a></li>
<li><a href='#fsldiv.help'><p>fsldiv Help</p></a></li>
<li><a href='#fsledge.help'><p>fsledge Help</p></a></li>
<li><a href='#fslentropy'><p>Image Mean Entropy</p></a></li>
<li><a href='#fslepi_reg'><p>Register EPI images to Structural image</p></a></li>
<li><a href='#fslerode.help'><p>fslerode Help</p></a></li>
<li><a href='#fslexp.help'><p>fslexp Help</p></a></li>
<li><a href='#fslfill.help'><p>fslfill Help</p></a></li>
<li><a href='#fslfill2'><p>Fill image holes with dilation then erosion</p></a></li>
<li><a href='#fslgetorient'><p>FSL Orientation Wrappers</p></a></li>
<li><a href='#fslhd'><p>Get NIfTI header using FSL</p></a></li>
<li><a href='#fslhd.help'><p>FSLhd help</p></a></li>
<li><a href='#fslhd.parse'><p>Parse FSL Header</p></a></li>
<li><a href='#fslhelp'><p>Wrapper for getting fsl help</p></a></li>
<li><a href='#fslindex.help'><p>fslindex Help</p></a></li>
<li><a href='#fsllog.help'><p>fsllog Help</p></a></li>
<li><a href='#fslmask.help'><p>fslmask Help</p></a></li>
<li><a href='#fslmaths.help'><p>FSL Maths Help</p></a></li>
<li><a href='#fslmax'><p>Get min/max of an image</p></a></li>
<li><a href='#fslmean'><p>Image Mean</p></a></li>
<li><a href='#fslmerge.help'><p>FSLMerge help</p></a></li>
<li><a href='#fslmul.help'><p>fslmul Help</p></a></li>
<li><a href='#fslnan.help'><p>fslnan Help</p></a></li>
<li><a href='#fslnanm.help'><p>fslnanm Help</p></a></li>
<li><a href='#fslor'><p>Perform OR/Union operation on Images using FSL</p></a></li>
<li><a href='#fslorient'><p>FSL Orient</p></a></li>
<li><a href='#fslorient.help'><p>fslorient help</p></a></li>
<li><a href='#fslorienter'><p>Wrapper for FSL Get Orientation</p></a></li>
<li><a href='#fslrand.help'><p>fslrand Help</p></a></li>
<li><a href='#fslrandn.help'><p>fslrandn Help</p></a></li>
<li><a href='#fslrange'><p>Get range of an image</p></a></li>
<li><a href='#fslrecip.help'><p>fslrecip Help</p></a></li>
<li><a href='#fslrem.help'><p>fslrem Help</p></a></li>
<li><a href='#fslreorient2std'><p>FSL Orient to MNI</p></a></li>
<li><a href='#fslreorient2std.help'><p>fslreorient2std help</p></a></li>
<li><a href='#fslrobustfov'><p>FSL Robust Field of View</p></a></li>
<li><a href='#fslrobustfov.help'><p>FSL Robust Field of View Help</p></a></li>
<li><a href='#fslroi'><p>FSL ROI</p></a></li>
<li><a href='#fslsd'><p>Image Standard Deviation</p></a></li>
<li><a href='#fslsin'><p>Sine Transform Image using FSL</p></a></li>
<li><a href='#fslsin.help'><p>fslsin Help</p></a></li>
<li><a href='#fslslicetimer'><p>FSL Slice Timing Correction</p></a></li>
<li><a href='#fslsmooth_in_mask'><p>Smooth Image Within a Mask Only</p></a></li>
<li><a href='#fslsmooth.help'><p>fslsmooth Help</p></a></li>
<li><a href='#fslsplit'><p>Split images using FSL</p></a></li>
<li><a href='#fslsplit.help'><p>FSL Split help</p></a></li>
<li><a href='#fslsqr.help'><p>fslsqr Help</p></a></li>
<li><a href='#fslsqrt.help'><p>fslsqrt Help</p></a></li>
<li><a href='#fslstats'><p>FSL Stats</p></a></li>
<li><a href='#fslstats.help'><p>FSL Stats Help</p></a></li>
<li><a href='#fslsub.help'><p>fslsub Help</p></a></li>
<li><a href='#fslsub2.help'><p>fslsub2 Help</p></a></li>
<li><a href='#fslsum'><p>FSL Sum</p></a></li>
<li><a href='#fslswapdim.help'><p>fslswapdim help</p></a></li>
<li><a href='#fsltan.help'><p>fsltan Help</p></a></li>
<li><a href='#fslthresh.help'><p>fslthresh Help</p></a></li>
<li><a href='#fslval'><p>Get value from FSL header</p></a></li>
<li><a href='#fslval.help'><p>fslval help</p></a></li>
<li><a href='#fslview'><p>Open image in FSLView</p></a></li>
<li><a href='#fslview.help'><p>FSLView help</p></a></li>
<li><a href='#fslvol'><p>FSL Volume in mL (or cubic centimeters)</p></a></li>
<li><a href='#fslvolume'><p>Image Volume</p></a></li>
<li><a href='#fslxor'><p>Perform XOR/Exclusive Or operation on Images using FSL</p></a></li>
<li><a href='#get_quickshear_mask'><p>Face Removal Mask using &quot;Quickshear Defacing for Neuroimages&quot;</p>
(Schimke et al. 2011)</a></li>
<li><a href='#get.fsl'><p>Create command declaring FSLDIR</p></a></li>
<li><a href='#get.fsloutput'><p>Determine FSL output type</p></a></li>
<li><a href='#get.imgext'><p>Determine extension of image based on FSLOUTPUTTYPE</p></a></li>
<li><a href='#getForms'><p>Get Q and S Forms of orientation matrix</p></a></li>
<li><a href='#have.fsl'><p>Logical check if FSL is accessible</p></a></li>
<li><a href='#intent_code-methods'><p>Extract Image intent_code attribute</p></a></li>
<li><a href='#intent_name-methods'><p>Extract Image intent_name attribute</p></a></li>
<li><a href='#intent_p1-methods'><p>Extract Image intent_p1 attribute</p></a></li>
<li><a href='#intent_p2-methods'><p>Extract Image intent_p2 attribute</p></a></li>
<li><a href='#intent_p3-methods'><p>Extract Image intent_p3 attribute</p></a></li>
<li><a href='#invert_xfm'><p>Convert a Transformation</p></a></li>
<li><a href='#magic-methods'><p>Extract Image magic attribute</p></a></li>
<li><a href='#mcflirt'><p>FSL Motion Correction</p></a></li>
<li><a href='#mcflirt.help'><p>MCFLIRT help</p></a></li>
<li><a href='#melodic'><p>Run MELODIC ICA</p></a></li>
<li><a href='#melodic.help'><p>MELODIC help</p></a></li>
<li><a href='#mid_sagittal_align'><p>Mid-Sagittal Plane Alignment</p></a></li>
<li><a href='#mni_fname'><p>Construct MNI Filename</p></a></li>
<li><a href='#mni_img'><p>Read MNI Filename</p></a></li>
<li><a href='#mridefacer'><p>MRI Defacer</p></a></li>
<li><a href='#parse_avscale'><p>Parse output from <code>avscale</code></p></a></li>
<li><a href='#pixdim-methods'><p>Extract Image pixdim attribute</p></a></li>
<li><a href='#probtrackx'><p>Probabilistic diffusion tractography with multiple fibre orientations</p></a></li>
<li><a href='#qform_code-methods'><p>Extract Image qform_code attribute</p></a></li>
<li><a href='#qform,character-method'><p>Extract NIfTI 3D Image Orientation</p></a></li>
<li><a href='#read_xfm'><p>Read FSL Transformation</p></a></li>
<li><a href='#readrpi'><p>Read NIfTI file reoriented to RPI</p></a></li>
<li><a href='#reverse_rpi_orient'><p>Reverse Reorientation an Image to RPI orientation</p></a></li>
<li><a href='#rpi_orient'><p>Reorient an Image to RPI orientation</p></a></li>
<li><a href='#run_first_all'><p>Run FIRST All</p></a></li>
<li><a href='#run_first_all.help'><p>Run FIRST All Help</p></a></li>
<li><a href='#scl_inter-methods'><p>Extract Image scl_inter attribute</p></a></li>
<li><a href='#scl_slope-methods'><p>Extract Image scl_slope attribute</p></a></li>
<li><a href='#sform_code-methods'><p>Extract Image sform_code attribute</p></a></li>
<li><a href='#sizeof_hdr-methods'><p>Extract Image sizeof_hdr attribute</p></a></li>
<li><a href='#slice_code-methods'><p>Extract Image slice_code attribute</p></a></li>
<li><a href='#slice_duration-methods'><p>Extract Image slice_duration attribute</p></a></li>
<li><a href='#slice_end-methods'><p>Extract Image slice_end attribute</p></a></li>
<li><a href='#slice_start-methods'><p>Extract Image slice_start attribute</p></a></li>
<li><a href='#susan'><p>FSL SUSAN noise reduction</p></a></li>
<li><a href='#susan.help'><p>FSL SUSAN Help</p></a></li>
<li><a href='#toffset-methods'><p>Extract Image toffset attribute</p></a></li>
<li><a href='#topup'><p>topup - calling FSL topup</p></a></li>
<li><a href='#vox_offset-methods'><p>Extract Image vox_offset attribute</p></a></li>
<li><a href='#xfibres'><p>Bayesian Estimation of Diffusion Parameters</p>
Obtained using Sampling Techniques with Crossing Fibers</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Wrapper Functions for 'FSL' ('FMRIB' Software Library) from
Functional MRI of the Brain ('FMRIB')</td>
</tr>
<tr>
<td>Version:</td>
<td>2.25.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Muschelli &lt;muschellij2@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Wrapper functions that interface with 'FSL' 
    <a href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/</a>, a powerful and commonly-used 'neuroimaging'
    software, using system commands. The goal is to be able to interface with 'FSL'
    completely in R, where you pass R objects of class 'nifti', implemented by
    package 'oro.nifti', and the function executes an 'FSL' command and returns an R
    object of class 'nifti' if desired.</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, R.utils, graphics, grDevices, stats, utils</td>
</tr>
<tr>
<td>Depends:</td>
<td>oro.nifti (&ge; 0.5.0), neurobase (&ge; 1.32.0), R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, covr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/muschellij2/fslr/issues">https://github.com/muschellij2/fslr/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>FSL</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-25 14:48:57 UTC; johnmuschelli</td>
</tr>
<tr>
<td>Author:</td>
<td>John Muschelli <a href="https://orcid.org/0000-0001-6469-1750"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-25 15:12:35 UTC</td>
</tr>
</table>
<hr>
<h2 id='applytopup'>applytopup - calling FSL applytopup</h2><span id='topic+applytopup'></span><span id='topic+apply_topup'></span><span id='topic+fsl_applytopup'></span>

<h3>Description</h3>

<p>A tool for applying and correcting 
estimated susceptibility induced distortions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applytopup(
  infile,
  datain,
  index,
  topup_files,
  out = NULL,
  method = c("lsr", "jac"),
  interp = c("spline", "trilinear"),
  verbose = TRUE
)

apply_topup(...)

fsl_applytopup(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applytopup_+3A_infile">infile</code></td>
<td>
<p>list of names of input image (to be corrected)</p>
</td></tr>
<tr><td><code id="applytopup_+3A_datain">datain</code></td>
<td>
<p>name of text file with PE directions/times</p>
</td></tr>
<tr><td><code id="applytopup_+3A_index">index</code></td>
<td>
<p>list of indices into &ndash;datain of 
the input image (to be corrected)</p>
</td></tr>
<tr><td><code id="applytopup_+3A_topup_files">topup_files</code></td>
<td>
<p>name of field/movements (from topup)</p>
</td></tr>
<tr><td><code id="applytopup_+3A_out">out</code></td>
<td>
<p>basename for output (warped) image</p>
</td></tr>
<tr><td><code id="applytopup_+3A_method">method</code></td>
<td>
<p>Use jacobian modulation (jac) or 
least-squares resampling (lsr), default=lsr.</p>
</td></tr>
<tr><td><code id="applytopup_+3A_interp">interp</code></td>
<td>
<p>Image interpolation model, trilinear or spline. Default spline</p>
</td></tr>
<tr><td><code id="applytopup_+3A_verbose">verbose</code></td>
<td>
<p>Print diagnostic information while running</p>
</td></tr>
<tr><td><code id="applytopup_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>topup</code> if using <code>fsl_topup</code></p>
</td></tr>
</table>

<hr>
<h2 id='aux.file-methods'>Extract Image aux.file attribute</h2><span id='topic+aux.file-methods'></span><span id='topic+aux.file+2Ccharacter-method'></span>

<h3>Description</h3>

<p>aux_file method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
aux.file(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aux.file-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='bitpix-methods'>Extract Image bitpix attribute</h2><span id='topic+bitpix-methods'></span><span id='topic+bitpix+2Ccharacter-method'></span>

<h3>Description</h3>

<p>bitpix method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
bitpix(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bitpix-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='cal.max-methods'>Extract Image cal.max attribute</h2><span id='topic+cal.max-methods'></span><span id='topic+cal.max+2Ccharacter-method'></span>

<h3>Description</h3>

<p>cal_max method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
cal.max(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cal.max-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='cal.min-methods'>Extract Image cal.min attribute</h2><span id='topic+cal.min-methods'></span><span id='topic+cal.min+2Ccharacter-method'></span>

<h3>Description</h3>

<p>cal_min method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
cal.min(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cal.min-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='check_file'>Wrapper for getForms with filename</h2><span id='topic+check_file'></span>

<h3>Description</h3>

<p>Checking the q/s-forms for a header
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_file(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_file_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be checked</p>
</td></tr>
<tr><td><code id="check_file_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>result of <code><a href="#topic+checkout">checkout</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(fslr)
if (have.fsl()){
 mnifile = mni_fname("2")
 check_file(mnifile)
} 
</code></pre>

<hr>
<h2 id='checkout'>Determine of Q and S forms are consistent</h2><span id='topic+checkout'></span>

<h3>Description</h3>

<p>This function determines if the determinants of the sform and qform
have the same sign
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkout(hd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkout_+3A_hd">hd</code></td>
<td>
<p>(list) sforms from <code><a href="#topic+getForms">getForms</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical indicating if sform and qform consistent
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = file.path(fsldir(), "data", "standard", 
   "MNI152_T1_2mm.nii.gz")
 forms = getForms(mnifile)
 checkout(forms)
} 
</code></pre>

<hr>
<h2 id='data_type-methods'>Extract Image data_type attribute</h2><span id='topic+data_type-methods'></span><span id='topic+data_type+2Ccharacter-method'></span>

<h3>Description</h3>

<p>data_type method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
data_type(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_type-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='datatype-methods'>Extract Image datatype attribute</h2><span id='topic+datatype-methods'></span><span id='topic+datatype+2Ccharacter-method'></span>

<h3>Description</h3>

<p>datatype method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
datatype(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datatype-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='descrip-methods'>Extract Image descrip attribute</h2><span id='topic+descrip-methods'></span><span id='topic+descrip+2Ccharacter-method'></span>

<h3>Description</h3>

<p>descrip method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
descrip(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="descrip-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='dim_-methods'>Extract Image dim_ attribute</h2><span id='topic+dim_-methods'></span><span id='topic+dim_+2Ccharacter-method'></span>

<h3>Description</h3>

<p><code>dim_</code> method for class character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
dim_(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim_-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='download_fsl'>Download FSL</h2><span id='topic+download_fsl'></span>

<h3>Description</h3>

<p>Download FSL Tarball
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_fsl(
  os = c("macosx", "redhat5", "redhat6", "centos5", "centos6", "debian", "ubuntu"),
  outdir = tempdir(),
  overwrite = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_fsl_+3A_os">os</code></td>
<td>
<p>Operating system</p>
</td></tr>
<tr><td><code id="download_fsl_+3A_outdir">outdir</code></td>
<td>
<p>Output directory for tarball</p>
</td></tr>
<tr><td><code id="download_fsl_+3A_overwrite">overwrite</code></td>
<td>
<p>If <code>file.path(outdir, tarball_name)</code> exists,
should it be overwritten?</p>
</td></tr>
<tr><td><code id="download_fsl_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <code><a href="utils.html#topic+download.file">download.file</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Filename of destination file
</p>

<hr>
<h2 id='dtifit'>DTI Fitting Procedure from FSL</h2><span id='topic+dtifit'></span>

<h3>Description</h3>

<p>Calls <code>dtifit</code> from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dtifit(
  infile,
  bvecs,
  bvals,
  mask = NULL,
  outprefix = NULL,
  opts = "",
  bet.opts = "",
  verbose = TRUE,
  sse = FALSE,
  save_tensor = FALSE,
  grad_image = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dtifit_+3A_infile">infile</code></td>
<td>
<p>Input filename</p>
</td></tr>
<tr><td><code id="dtifit_+3A_bvecs">bvecs</code></td>
<td>
<p>b-vectors: matrix of 3 columns or 
filename of ASCII text file</p>
</td></tr>
<tr><td><code id="dtifit_+3A_bvals">bvals</code></td>
<td>
<p>b-values: vector of same length as number of rows of b-vectors
or filename of ASCII text file</p>
</td></tr>
<tr><td><code id="dtifit_+3A_mask">mask</code></td>
<td>
<p>Mask filename</p>
</td></tr>
<tr><td><code id="dtifit_+3A_outprefix">outprefix</code></td>
<td>
<p>Output prefix</p>
</td></tr>
<tr><td><code id="dtifit_+3A_opts">opts</code></td>
<td>
<p>Additional options for <code>dtifit</code></p>
</td></tr>
<tr><td><code id="dtifit_+3A_bet.opts">bet.opts</code></td>
<td>
<p>Options for <code><a href="#topic+fslbet">fslbet</a></code> if mask is not supplied</p>
</td></tr>
<tr><td><code id="dtifit_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="dtifit_+3A_sse">sse</code></td>
<td>
<p>Save sum of squared errors</p>
</td></tr>
<tr><td><code id="dtifit_+3A_save_tensor">save_tensor</code></td>
<td>
<p>Save tensor file out</p>
</td></tr>
<tr><td><code id="dtifit_+3A_grad_image">grad_image</code></td>
<td>
<p>Gradient Nonlinearity Tensor file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of character filenames of output.  See Note
</p>


<h3>Note</h3>

<p>On successful completion of the command, the following files
will be output, which are:
<code>mask</code> - the mask used in the analysis
<code>outprefix</code>_V1 - 1st eigenvector
<code>outprefix</code>_V2 - 2nd eigenvector
<code>outprefix</code>_V3 - 3rd eigenvector
<code>outprefix</code>_L1 - 1st eigenvalue
<code>outprefix</code>_L2 - 2nd eigenvalue
<code>outprefix</code>_L3 - 3rd eigenvalue
<code>outprefix</code>_MD - mean diffusivity
<code>outprefix</code>_FA - fractional anisotropy
<code>outprefix</code>_MO - mode of the anisotropy (oblate ~ -1; isotropic ~ 0; prolate ~ 1)
<code>outprefix</code>_S0 - raw T2 signal with no diffusion weighting
optional output
If <code>sse = TRUE</code>, then the additional file will be present:
<code>outprefix</code>_sse - Sum of squared error
If <code>save_tensor = TRUE</code>, then the additional file will be present:
<code>outprefix</code>_tensor - tensor as a 4D file in this order: Dxx,Dxy,Dxz,Dyy,Dyz,Dzz
</p>

<hr>
<h2 id='eddy'>Eddy Current Correction</h2><span id='topic+eddy'></span>

<h3>Description</h3>

<p>This function calls <code>eddy</code> from FSL for 
DTI Processing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eddy(
  infile,
  mask,
  acq_file,
  index_file,
  bvecs,
  bvals,
  topup = NULL,
  outfile = NULL,
  retimg = TRUE,
  opts = "",
  verbose = TRUE,
  eddy_cmd = c("eddy", "eddy_openmp", "eddy_cuda"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eddy_+3A_infile">infile</code></td>
<td>
<p>input filename of 4D image.</p>
</td></tr>
<tr><td><code id="eddy_+3A_mask">mask</code></td>
<td>
<p>Mask filename (or class nifti)</p>
</td></tr>
<tr><td><code id="eddy_+3A_acq_file">acq_file</code></td>
<td>
<p>A text-file describing the acquisition parameters for the 
different images in <code>infile</code> The format of this file is identical 
to that used by topup (though the parameter is called <code>--datain</code> 
there).</p>
</td></tr>
<tr><td><code id="eddy_+3A_index_file">index_file</code></td>
<td>
<p>A text-file that determines the relationship between 
on the one hand the images in <code>infile</code> and on the other hand the 
acquisition parameters in <code>acq_file</code>.</p>
</td></tr>
<tr><td><code id="eddy_+3A_bvecs">bvecs</code></td>
<td>
<p>A text file with normalised vectors describing 
the direction of the diffusion weighting.</p>
</td></tr>
<tr><td><code id="eddy_+3A_bvals">bvals</code></td>
<td>
<p>A text file with b-values describing the &quot;amount of&quot; 
diffusion weighting</p>
</td></tr>
<tr><td><code id="eddy_+3A_topup">topup</code></td>
<td>
<p>This should only be specified if you have previously run 
'topup' on your data and should be the same name that you gave as an 
argument to the &ndash;out parameter when you ran topup, aka
the base name for output files from topup.</p>
</td></tr>
<tr><td><code id="eddy_+3A_outfile">outfile</code></td>
<td>
<p>Output file basename</p>
</td></tr>
<tr><td><code id="eddy_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="eddy_+3A_opts">opts</code></td>
<td>
<p>Additional options to pass to arguments 
passed to <code><a href="#topic+eddy">eddy</a></code></p>
</td></tr>
<tr><td><code id="eddy_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="eddy_+3A_eddy_cmd">eddy_cmd</code></td>
<td>
<p>The version of <code>eddy</code> to run.</p>
</td></tr>
<tr><td><code id="eddy_+3A_...">...</code></td>
<td>
<p>Not currently used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command currently
</p>

<hr>
<h2 id='eddy_correct'>Eddy Current Correction</h2><span id='topic+eddy_correct'></span>

<h3>Description</h3>

<p>This function calls <code>eddy_correct</code> from FSL for 
DTI Processing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eddy_correct(infile, outfile = NULL, retimg = TRUE, reference_no = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eddy_correct_+3A_infile">infile</code></td>
<td>
<p>input filename of 4D image.</p>
</td></tr>
<tr><td><code id="eddy_correct_+3A_outfile">outfile</code></td>
<td>
<p>Output filename</p>
</td></tr>
<tr><td><code id="eddy_correct_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="eddy_correct_+3A_reference_no">reference_no</code></td>
<td>
<p>Set the volume number for the reference volume 
that will be used as a target to register all other volumes to. 
(default=0, i.e. the first volume)</p>
</td></tr>
<tr><td><code id="eddy_correct_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+fslcmd">fslcmd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='enforce_form'>Enforce Either Qform or Sform is set</h2><span id='topic+enforce_form'></span>

<h3>Description</h3>

<p>Enforce Either Qform or Sform is set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enforce_form(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="enforce_form_+3A_file">file</code></td>
<td>
<p>(character) image filename or character 
of class nifti</p>
</td></tr>
<tr><td><code id="enforce_form_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to 
<code><a href="#topic+getForms">getForms</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character filename
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) {
res = enforce_form(mni_fname())
}
</code></pre>

<hr>
<h2 id='face_removal_mask'>Face Removal Mask</h2><span id='topic+face_removal_mask'></span><span id='topic+deface_image'></span>

<h3>Description</h3>

<p>Face Removal Mask
</p>


<h3>Usage</h3>

<pre><code class='language-R'>face_removal_mask(
  file,
  template = mni_fname(mm = "1"),
  face_mask = mni_face_fname(mm = "1"),
  outfile = NULL,
  dof = 12,
  cost = "mutualinfo",
  retimg = FALSE
)

deface_image(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="face_removal_mask_+3A_file">file</code></td>
<td>
<p>input image</p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_template">template</code></td>
<td>
<p>Template image  to register input image to.  Set 
to <code>NULL</code> (recommended)  if want to use from 
<a href="https://github.com/poldracklab/pydeface">https://github.com/poldracklab/pydeface</a>.
Alternatively, use <code><a href="#topic+mni_fname">mni_fname</a></code>.</p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_face_mask">face_mask</code></td>
<td>
<p>Mask of image, in same space as <code>template</code>.
Set to <code>NULL</code> (recommended) if want to use from 
<a href="https://github.com/poldracklab/pydeface">https://github.com/poldracklab/pydeface</a>. 
Alternatively, use <code><a href="#topic+mni_face_fname">mni_face_fname</a></code>.</p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_outfile">outfile</code></td>
<td>
<p>Output file name</p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_dof">dof</code></td>
<td>
<p>(numeric) degrees of freedom (default 6 - rigid body)</p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_cost">cost</code></td>
<td>
<p>Cost function passed to <code>flirt</code></p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="face_removal_mask_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An image or filename depending on <code>retimg</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (have_fsl()) {
   file = "~/Downloads/sample_T1_input.nii.gz"
   if (file.exists(file)) {
       mask = face_removal_mask(file = file,
         template = NULL, face_mask = NULL)
       image = fslmask(file, mask)
   }
}

</code></pre>

<hr>
<h2 id='fast'>FSL FAST</h2><span id='topic+fast'></span><span id='topic+fast_all'></span><span id='topic+fast_nobias_all'></span><span id='topic+fsl_fast'></span><span id='topic+fslfast'></span><span id='topic+fsl_fast_nobias'></span><span id='topic+fast_nobias'></span><span id='topic+fslfast_nobias'></span>

<h3>Description</h3>

<p>This function calls <code>fast</code> from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fast(
  file,
  outfile = NULL,
  bias_correct = TRUE,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  type = c("T1", "T2", "PD"),
  out_type = c("seg", "mixeltype", "pve_0", "pve_1", "pve_2", "pveseg"),
  verbose = TRUE,
  all_images = FALSE,
  ...
)

fast_all(..., all_images = TRUE)

fast_nobias_all(..., bias_correct = FALSE, all_images = FALSE)

fsl_fast(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslfast(...)

fsl_fast_nobias(
  ...,
  bias_correct = FALSE,
  outfile = tempfile(fileext = ".nii.gz"),
  retimg = FALSE
)

fast_nobias(..., bias_correct = FALSE)

fslfast_nobias(..., bias_correct = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fast_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fast_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fast_+3A_bias_correct">bias_correct</code></td>
<td>
<p>(logical) if <code>FALSE</code>, then 
<code>"--nobias"</code> is passed to FAST.  Additional options can be 
sent using <code>opts</code>, but this is the most commonly one changed.</p>
</td></tr>
<tr><td><code id="fast_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fast_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fast_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fast_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fast</code></p>
</td></tr>
<tr><td><code id="fast_+3A_type">type</code></td>
<td>
<p>type of image T1, T2, or PD.</p>
</td></tr>
<tr><td><code id="fast_+3A_out_type">out_type</code></td>
<td>
<p>(character) Suffix to grab from outfile.  For 
example, output filename is <code>paste0(outfile, "_", out_type)</code></p>
</td></tr>
<tr><td><code id="fast_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fast_+3A_all_images">all_images</code></td>
<td>
<p>If <code>retimg</code></p>
</td></tr>
<tr><td><code id="fast_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fast.help'>FAST help</h2><span id='topic+fast.help'></span>

<h3>Description</h3>

<p>This function calls <code>fast</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fast.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fast.help()
}
</code></pre>

<hr>
<h2 id='flirt'>Register using FLIRT</h2><span id='topic+flirt'></span>

<h3>Description</h3>

<p>This function calls <code>flirt</code> to register infile to reffile
and either saves the image or returns an object of class nifti, along with the
transformation matrix omat
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flirt(
  infile,
  reffile,
  omat = NULL,
  dof = 6,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flirt_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="flirt_+3A_reffile">reffile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="flirt_+3A_omat">omat</code></td>
<td>
<p>(character) Output matrix name</p>
</td></tr>
<tr><td><code id="flirt_+3A_dof">dof</code></td>
<td>
<p>(numeric) degrees of freedom (default 6 - rigid body)</p>
</td></tr>
<tr><td><code id="flirt_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="flirt_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="flirt_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="flirt_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="flirt_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to FLIRT</p>
</td></tr>
<tr><td><code id="flirt_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="flirt_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>

<hr>
<h2 id='flirt_apply'>Apply Warp from FLIRT</h2><span id='topic+flirt_apply'></span>

<h3>Description</h3>

<p>This function applies a matrix from <code><a href="#topic+flirt">flirt</a></code>
to other images
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flirt_apply(
  infile,
  reffile,
  initmat,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flirt_apply_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_reffile">reffile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_initmat">initmat</code></td>
<td>
<p>(character) Matrix of transformation</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to FLIRT</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="flirt_apply_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>

<hr>
<h2 id='flirt.help'>FLIRT help</h2><span id='topic+flirt.help'></span><span id='topic+flirt_apply.help'></span>

<h3>Description</h3>

<p>This function calls <code>flirt</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flirt.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 flirt.help()
} 
</code></pre>

<hr>
<h2 id='fnirt'>Register using FNIRT</h2><span id='topic+fnirt'></span>

<h3>Description</h3>

<p>This function calls <code>fnirt</code> to register infile to reffile
and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fnirt(
  infile,
  reffile,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fnirt_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="fnirt_+3A_reffile">reffile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="fnirt_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fnirt_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fnirt_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fnirt_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fnirt_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to FLIRT</p>
</td></tr>
<tr><td><code id="fnirt_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fnirt_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>

<hr>
<h2 id='fnirt_with_affine'>Register using FNIRT, but doing Affine Registration as well</h2><span id='topic+fnirt_with_affine'></span>

<h3>Description</h3>

<p>This function calls <code>fnirt</code> to register infile to reffile
and either saves the image or returns an object of class nifti, but does
the affine registration first
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fnirt_with_affine(
  infile,
  reffile,
  flirt.omat = NULL,
  flirt.outfile = NULL,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  flirt.opts = "",
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fnirt_with_affine_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_reffile">reffile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_flirt.omat">flirt.omat</code></td>
<td>
<p>(character) Filename of output affine matrix</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_flirt.outfile">flirt.outfile</code></td>
<td>
<p>(character) Filename of output affine-registered image</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_flirt.opts">flirt.opts</code></td>
<td>
<p>(character) additional options to FLIRT</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to FNIRT</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>

<hr>
<h2 id='fnirt_with_affine_apply'>Applies FLIRT then FNIRT transformations</h2><span id='topic+fnirt_with_affine_apply'></span>

<h3>Description</h3>

<p>Applies an affine transformation with FLIRT then the warp image with FNIRT
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fnirt_with_affine_apply(
  infile,
  reffile,
  flirt.omat = NULL,
  flirt.outfile = NULL,
  fnirt.warpfile = NULL,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  flirt.opts = "",
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fnirt_with_affine_apply_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_reffile">reffile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_flirt.omat">flirt.omat</code></td>
<td>
<p>(character) Filename of output affine matrix</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_flirt.outfile">flirt.outfile</code></td>
<td>
<p>(character) Filename of output affine-registered image</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_fnirt.warpfile">fnirt.warpfile</code></td>
<td>
<p>(character) Filename of warp image from 
<code><a href="#topic+fnirt">fnirt</a></code></p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_flirt.opts">flirt.opts</code></td>
<td>
<p>(character) additional options to FLIRT</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to FNIRT</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fnirt_with_affine_apply_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>See Also</h3>

<p>fnirt_with_affine
</p>

<hr>
<h2 id='fnirt.help'>FNIRT help</h2><span id='topic+fnirt.help'></span>

<h3>Description</h3>

<p>This function calls <code>fnirt</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fnirt.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>

<hr>
<h2 id='fsl_abs'>Absolute Value Image using FSL</h2><span id='topic+fsl_abs'></span><span id='topic+fslabs'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -abs</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_abs(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslabs(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_abs_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_abs_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_abs_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_abs_+3A_file">file</code></td>
<td>
<p>(character) input image to absolute value</p>
</td></tr>
<tr><td><code id="fsl_abs_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_abs_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_abs_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_acos'>Arc Cosine Transform Image using FSL</h2><span id='topic+fsl_acos'></span><span id='topic+fslacos'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -acos</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_acos(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslacos(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_acos_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_acos_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_acos_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_acos_+3A_file">file</code></td>
<td>
<p>(character) input image to arc cosine transform</p>
</td></tr>
<tr><td><code id="fsl_acos_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_acos_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_acos_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_add'>Add Images using FSL</h2><span id='topic+fsl_add'></span><span id='topic+fsladd'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -add</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_add(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fsladd(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_add_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_add_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_add_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_add_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fsl_add_+3A_file2">file2</code></td>
<td>
<p>(character) image to be added</p>
</td></tr>
<tr><td><code id="fsl_add_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_add_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_add_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_anat'>FSL Anatomical Processing Script</h2><span id='topic+fsl_anat'></span>

<h3>Description</h3>

<p>This function calls <code>fsl_anat</code> from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_anat(
  file,
  modality = c("T1", "T2", "PD"),
  outdir = NULL,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_anat_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated, should be full path</p>
</td></tr>
<tr><td><code id="fsl_anat_+3A_modality">modality</code></td>
<td>
<p>(character) Modality of Image to be run</p>
</td></tr>
<tr><td><code id="fsl_anat_+3A_outdir">outdir</code></td>
<td>
<p>(character) output directory, if none specified, will 
default to <code>dirname(file)</code></p>
</td></tr>
<tr><td><code id="fsl_anat_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_anat_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fsl_anat</code></p>
</td></tr>
<tr><td><code id="fsl_anat_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fsl_anat_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fsl_anat.help'>fsl_anat help</h2><span id='topic+fsl_anat.help'></span>

<h3>Description</h3>

<p>This function calls <code>fsl_anat</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_anat.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fsl_anat.help()
}
</code></pre>

<hr>
<h2 id='fsl_applywarp'>Apply Warp from FNIRT</h2><span id='topic+fsl_applywarp'></span>

<h3>Description</h3>

<p>This function applies a coefficient map from <code><a href="#topic+fnirt">fnirt</a></code>
to other images
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_applywarp(
  infile,
  reffile,
  warpfile,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_applywarp_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_reffile">reffile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_warpfile">warpfile</code></td>
<td>
<p>(character) reference image to be registered to</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to FLIRT</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fsl_applywarp_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>

<hr>
<h2 id='fsl_applywarp.help'>FSL applywarp help</h2><span id='topic+fsl_applywarp.help'></span>

<h3>Description</h3>

<p>This function calls <code>applywarp</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_applywarp.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>

<hr>
<h2 id='fsl_asin'>Arc Sine Transform Image using FSL</h2><span id='topic+fsl_asin'></span><span id='topic+fslasin'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -asin</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_asin(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslasin(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_asin_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_asin_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_asin_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_asin_+3A_file">file</code></td>
<td>
<p>(character) input image to arc sine transform</p>
</td></tr>
<tr><td><code id="fsl_asin_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_asin_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_asin_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_atan'>Arc Tangent Transform Image using FSL</h2><span id='topic+fsl_atan'></span><span id='topic+fslatan'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -atan</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_atan(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslatan(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_atan_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_atan_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_atan_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_atan_+3A_file">file</code></td>
<td>
<p>(character) input image to arc tangent transform</p>
</td></tr>
<tr><td><code id="fsl_atan_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_atan_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_atan_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_atlas_dir'>Get FSL's Standard Data Directory</h2><span id='topic+fsl_atlas_dir'></span>

<h3>Description</h3>

<p>Finds the FSLDIR from system environment or <code>getOption("fsl.path")</code>
and pastes on &ldquo;data/standard&rdquo;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_atlas_dir()
</code></pre>


<h3>Value</h3>

<p>Character path
</p>

<hr>
<h2 id='fsl_avscale'>Scale Affine Matrix using <code>avscale</code></h2><span id='topic+fsl_avscale'></span><span id='topic+avscale'></span>

<h3>Description</h3>

<p>This function calls <code>avscale</code> to get individual
matrices for FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_avscale(file, volume = NULL, parsed = TRUE, verbose = TRUE)

avscale(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_avscale_+3A_file">file</code></td>
<td>
<p>(character) matrix filename</p>
</td></tr>
<tr><td><code id="fsl_avscale_+3A_volume">volume</code></td>
<td>
<p>(character) non-reference volume filename or nifti image</p>
</td></tr>
<tr><td><code id="fsl_avscale_+3A_parsed">parsed</code></td>
<td>
<p>(logical) should <code><a href="#topic+parse_avscale">parse_avscale</a></code> be run 
after?</p>
</td></tr>
<tr><td><code id="fsl_avscale_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fsl_avscale_+3A_...">...</code></td>
<td>
<p>not used, but used for duplicating <code>avscale</code> as alias</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character of information from avscale
</p>

<hr>
<h2 id='fsl_bet'>Use FSL's Brain Extraction Tool (BET)</h2><span id='topic+fsl_bet'></span><span id='topic+fslbet'></span>

<h3>Description</h3>

<p>This function calls <code>bet</code> to extract a brain 
from an image, usually for skull stripping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_bet(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslbet(
  infile,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  betcmd = c("bet2", "bet"),
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_bet_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to <code>bet</code></p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_betcmd">betcmd</code></td>
<td>
<p>(character) Use <code>bet</code> or <code>bet2</code> function</p>
</td></tr>
<tr><td><code id="fsl_bet_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_biascorrect'>FSL Bias Correct</h2><span id='topic+fsl_biascorrect'></span>

<h3>Description</h3>

<p>This function wraps a call to <code>fast</code> that performs bias
correction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_biascorrect(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  remove.seg = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_biascorrect_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fast</code></p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_remove.seg">remove.seg</code></td>
<td>
<p>(logical) Should segmentation from FAST be removed?</p>
</td></tr>
<tr><td><code id="fsl_biascorrect_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fsl_bin'>Binarize Image using FSL</h2><span id='topic+fsl_bin'></span><span id='topic+fslbin'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -bin</code>.  The R functions wraps
<code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_bin(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslbin(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_bin_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_bin_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_bin_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_bin_+3A_file">file</code></td>
<td>
<p>(character) image to be binarized</p>
</td></tr>
<tr><td><code id="fsl_bin_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_bin_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_bin_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  set.seed(5)
dims = rep(10, 3)
arr = array(rnorm(prod(dims)), dim = dims)
nim = oro.nifti::nifti(arr)
if (have.fsl()){
 fslbin(nim)
 fsl_bin(nim)
 }

</code></pre>

<hr>
<h2 id='fsl_bin_tab'>Quick Tabulation for logical images</h2><span id='topic+fsl_bin_tab'></span>

<h3>Description</h3>

<p>Creates a 2 by 2 table for
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_bin_tab(x, y, dnames = c("x", "y"), verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_bin_tab_+3A_x">x</code></td>
<td>
<p>filename of logical or 0/1 image</p>
</td></tr>
<tr><td><code id="fsl_bin_tab_+3A_y">y</code></td>
<td>
<p>filename of logical or 0/1 image</p>
</td></tr>
<tr><td><code id="fsl_bin_tab_+3A_dnames">dnames</code></td>
<td>
<p>names for table</p>
</td></tr>
<tr><td><code id="fsl_bin_tab_+3A_verbose">verbose</code></td>
<td>
<p>Should fsl commands be printed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table of x vs y
</p>


<h3>Note</h3>

<p><code>fsl_bin</code> will be run to make these images binary before running
</p>

<hr>
<h2 id='fsl_binv'>Binarized Inverse Image using FSL</h2><span id='topic+fsl_binv'></span><span id='topic+fslbinv'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -binv</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_binv(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslbinv(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_binv_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_binv_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_binv_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_binv_+3A_file">file</code></td>
<td>
<p>(character) input image to take the binarized inverse</p>
</td></tr>
<tr><td><code id="fsl_binv_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_binv_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_binv_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_cluster'>Form clusters, report information about clusters 
and/or perform cluster-based inference.  Wrapper for <code>cluster</code></h2><span id='topic+fsl_cluster'></span><span id='topic+fslcluster'></span><span id='topic+read_cluster_table'></span>

<h3>Description</h3>

<p>Form clusters, report information about clusters 
and/or perform cluster-based inference.  Wrapper for <code>cluster</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_cluster(
  file,
  threshold,
  retimg = FALSE,
  reorient = FALSE,
  opts = "",
  cope_image = NULL,
  pthresh = NULL,
  peakdist = 0,
  volume = FALSE,
  smooth_est = NULL,
  voxel_resel = NULL,
  fractional = FALSE,
  connectivity = 26,
  mm = FALSE,
  find_minima = FALSE,
  standard_image = NULL,
  verbose = TRUE,
  ...
)

fslcluster(..., retimg = TRUE)

read_cluster_table(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_cluster_+3A_file">file</code></td>
<td>
<p>filename of input volume</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_threshold">threshold</code></td>
<td>
<p>threshold for input volume</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>cluster</code></p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_cope_image">cope_image</code></td>
<td>
<p>filename of input cope volume</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_pthresh">pthresh</code></td>
<td>
<p>p-threshold</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_peakdist">peakdist</code></td>
<td>
<p>minimum distance between local maxima/minima, in mm (default 0)</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_volume">volume</code></td>
<td>
<p>number of voxels in the mask</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_smooth_est">smooth_est</code></td>
<td>
<p>smoothness estimate = sqrt(det(Lambda))</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_voxel_resel">voxel_resel</code></td>
<td>
<p>Size of one resel in voxel units</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_fractional">fractional</code></td>
<td>
<p>interprets the threshold as a fraction of the robust range</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_connectivity">connectivity</code></td>
<td>
<p>the connectivity of voxels (default 26)</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_mm">mm</code></td>
<td>
<p>use mm, not voxel, coordinates</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_find_minima">find_minima</code></td>
<td>
<p>find minima instead of maxima</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_standard_image">standard_image</code></td>
<td>
<p>filename for standard-space volume</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fsl_cluster_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+fslcmd">fslcmd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of filenames of outputs and tables:
</p>

<ul>
<li><p><code>opvals</code>filename for image output of log pvals
</p>
</li>
<li><p><code>oindex</code>filename for output of cluster index (in size order)
</p>
</li>
<li><p><code>othresh</code>filename for output of thresholded image
</p>
</li>
<li><p><code>olmax</code>filename for output of local maxima text file
</p>
</li>
<li><p><code>olmaxim</code>filename for output of local maxima volume
</p>
</li>
<li><p><code>osize</code>filename for output of size image
</p>
</li>
<li><p><code>omax</code>filename for output of max image
</p>
</li>
<li><p><code>omean</code>filename for output of mean image
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) { 
file = mni_fname(brain = TRUE, mask = FALSE)
threshold = 6000
clus = fsl_cluster(file, threshold)
}
</code></pre>

<hr>
<h2 id='fsl_cos'>Cosine Transform Image using FSL</h2><span id='topic+fsl_cos'></span><span id='topic+fslcos'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -cos</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_cos(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslcos(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_cos_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_cos_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_cos_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_cos_+3A_file">file</code></td>
<td>
<p>(character) input image to cosine transform</p>
</td></tr>
<tr><td><code id="fsl_cos_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_cos_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_cos_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_data_dir'>Get FSL's Data Directory</h2><span id='topic+fsl_data_dir'></span>

<h3>Description</h3>

<p>Finds the FSLDIR from system environment or <code>getOption("fsl.path")</code>
and pastes on &ldquo;data&rdquo;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_data_dir()
</code></pre>


<h3>Value</h3>

<p>Character path
</p>

<hr>
<h2 id='fsl_deface'>Tool to deface a structural T1w image.</h2><span id='topic+fsl_deface'></span>

<h3>Description</h3>

<p>Tool to deface a structural T1w image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_deface(
  file,
  outfile = NULL,
  retimg = TRUE,
  opts = "",
  deface_cropped = FALSE,
  bet_fractional_intensity = NULL,
  bias_correct = FALSE,
  shift_xyz = NULL,
  cog_xyz = NULL,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_deface_+3A_file">file</code></td>
<td>
<p>(character) input image to estimate edge strength</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fsl_deface</code></p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_deface_cropped">deface_cropped</code></td>
<td>
<p>apply the defacing to the cropped image instead of the original image</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_bet_fractional_intensity">bet_fractional_intensity</code></td>
<td>
<p>fractional intensity for bet (0-&gt;1); default=0.5;</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_bias_correct">bias_correct</code></td>
<td>
<p>Bias-correct the input image (with fast);</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_shift_xyz">shift_xyz</code></td>
<td>
<p>Shift, in mm, x-, y- and z-directions, to shift face mask by;</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_cog_xyz">cog_xyz</code></td>
<td>
<p>centre-of-gravity for bet (voxels, not mm);</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="fsl_deface_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fslcmd">fslcmd</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
if (have_fsl()) {
  file = mni_fname(mm = 1, brain = FALSE)
  out = fsl_deface(file, retimg = FALSE)
}

</code></pre>

<hr>
<h2 id='fsl_dice'>Calculate Dice Coefficient of 2 Binary images</h2><span id='topic+fsl_dice'></span>

<h3>Description</h3>

<p>Creates a 2 by 2 table for
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_dice(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_dice_+3A_x">x</code></td>
<td>
<p>filename of logical or 0/1 image</p>
</td></tr>
<tr><td><code id="fsl_dice_+3A_y">y</code></td>
<td>
<p>filename of logical or 0/1 image</p>
</td></tr>
<tr><td><code id="fsl_dice_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="#topic+fsl_bin_tab">fsl_bin_tab</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Single number of the dice coefficient
</p>

<hr>
<h2 id='fsl_dilate'>Dilate image using FSL</h2><span id='topic+fsl_dilate'></span><span id='topic+fsldilate'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -ero</code> after inverting the image
to dilate an image with either 
the default FSL kernel or the kernel specified in <code>kopts</code>.  The function
either saves the image or returns an object of class nifti.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_dilate(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fsldilate(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  kopts = "",
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_dilate_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant dilated image name</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_file">file</code></td>
<td>
<p>(character) image to be dilated</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_kopts">kopts</code></td>
<td>
<p>(character) options for kernel</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to be passed to fslmaths</p>
</td></tr>
<tr><td><code id="fsl_dilate_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, depends if intern is TRUE or FALSE.  If 
retimg is TRUE, then the image will be returned.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
dims = c(50, 50, 20)
x = array(rnorm(prod(dims)), dim = dims) 
img = nifti(x, dim= dims, 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
mask = img &gt; .5
dilated = fsldilate(mask, kopts = "-kernel boxv 5", retimg=TRUE)
})
}    
</code></pre>

<hr>
<h2 id='fsl_div'>Divide Images using FSL</h2><span id='topic+fsl_div'></span><span id='topic+fsldiv'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -div</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_div(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fsldiv(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_div_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_div_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_div_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_div_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fsl_div_+3A_file2">file2</code></td>
<td>
<p>(character) image to be divided</p>
</td></tr>
<tr><td><code id="fsl_div_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_div_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_div_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_edge'>Edge Strength Image using FSL</h2><span id='topic+fsl_edge'></span><span id='topic+fsledge'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -edge</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_edge(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fsledge(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_edge_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_edge_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_edge_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_edge_+3A_file">file</code></td>
<td>
<p>(character) input image to estimate edge strength</p>
</td></tr>
<tr><td><code id="fsl_edge_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_edge_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_edge_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_erode'>Erode image using FSL</h2><span id='topic+fsl_erode'></span><span id='topic+fslerode'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -ero</code> to erode an image with either 
the default FSL kernel or the kernel specified in <code>kopts</code>.  The function
either saves the image or returns an object of class nifti.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_erode(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslerode(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  kopts = "",
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_erode_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant eroded image name</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_file">file</code></td>
<td>
<p>(character) image to be eroded</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_kopts">kopts</code></td>
<td>
<p>(character) options for kernel</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to be passed to fslmaths</p>
</td></tr>
<tr><td><code id="fsl_erode_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, depends if intern is TRUE or FALSE.  If 
retimg is TRUE, then the image will be returned.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
dims = c(50, 50, 20)
x = array(rnorm(prod(dims)), dim = dims) 
img = nifti(x, dim= dims, 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
mask = img &gt; .5
eroded = fslerode(mask, kopts = "-kernel boxv 5", retimg=TRUE)
})
}    
</code></pre>

<hr>
<h2 id='fsl_exp'>Exponentiate Image using FSL</h2><span id='topic+fsl_exp'></span><span id='topic+fslexp'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -exp</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_exp(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslexp(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_exp_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_exp_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_exp_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_exp_+3A_file">file</code></td>
<td>
<p>(character) input image to exponentiated</p>
</td></tr>
<tr><td><code id="fsl_exp_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_exp_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_exp_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_fill'>Fill image holes</h2><span id='topic+fsl_fill'></span><span id='topic+fslfill'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -fillh</code> to fill in image holes
and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_fill(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslfill(
  file,
  outfile = NULL,
  bin = TRUE,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_fill_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_outfile">outfile</code></td>
<td>
<p>(character) name of resultant filled file</p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be filled</p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_bin">bin</code></td>
<td>
<p>(logical) binarize the image before filling</p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_fill_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
dims = c(50, 50, 20)
x = array(rnorm(prod(dims)), dim = dims) 
img = nifti(x, dim= dims, 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
mask = img &gt; .5
eroded = fslerode(mask, kopts = "-kernel boxv 5", retimg=TRUE)
filled = fslfill(eroded, retimg= TRUE)
})
}  
</code></pre>

<hr>
<h2 id='fsl_index'>Index Image using FSL</h2><span id='topic+fsl_index'></span><span id='topic+fslindex'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -index</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_index(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslindex(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_index_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_index_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_index_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_index_+3A_file">file</code></td>
<td>
<p>(character) input image to have non-zero entries replaced with index</p>
</td></tr>
<tr><td><code id="fsl_index_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_index_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_index_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_log'>Log Transform Image using FSL</h2><span id='topic+fsl_log'></span><span id='topic+fsllog'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -log</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_log(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fsllog(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_log_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_log_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_log_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_log_+3A_file">file</code></td>
<td>
<p>(character) input image to log transform</p>
</td></tr>
<tr><td><code id="fsl_log_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_log_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_log_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_mask'>Mask image using FSL</h2><span id='topic+fsl_mask'></span><span id='topic+fslmask'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -mas</code> to mask an image from 
an image mask and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_mask(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslmask(
  file,
  mask,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_mask_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant masked image name</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_file">file</code></td>
<td>
<p>(character) image to be masked</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_mask">mask</code></td>
<td>
<p>(character) mask given for image</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to be passed to fslmask</p>
</td></tr>
<tr><td><code id="fsl_mask_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
x = array(rnorm(1e5), dim = c(100, 100, 10))
img = nifti(x, dim= c(100, 100, 10), 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
mask = img &gt; .5
masked = fslmask(img, mask = mask, retimg=TRUE)
})
} 
</code></pre>

<hr>
<h2 id='fsl_maths'>FSL Maths</h2><span id='topic+fsl_maths'></span><span id='topic+fslmaths'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_maths(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslmaths(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_maths_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
<tr><td><code id="fsl_maths_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_merge'>Merge images using FSL</h2><span id='topic+fsl_merge'></span><span id='topic+fslmerge'></span>

<h3>Description</h3>

<p>This function calls <code>fslmerge</code> to merge files on some dimension
and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_merge(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslmerge(
  infiles,
  direction = c("x", "y", "z", "t", "a"),
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_merge_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_infiles">infiles</code></td>
<td>
<p>(character) input filenames</p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_direction">direction</code></td>
<td>
<p>(character) direction to merge over, x, y, z, 
t (time), a (auto)</p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_merge_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_mul'>Multiply Images using FSL</h2><span id='topic+fsl_mul'></span><span id='topic+fslmul'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -mul</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_mul(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslmul(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_mul_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_file2">file2</code></td>
<td>
<p>(character) image to be multiplied</p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_mul_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_nan'>Replace NaNs in Image using FSL</h2><span id='topic+fsl_nan'></span><span id='topic+fslnan'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -nan</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_nan(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslnan(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_nan_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_nan_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_nan_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_nan_+3A_file">file</code></td>
<td>
<p>(character) input image to replace NaNs (improper numbers) with 0</p>
</td></tr>
<tr><td><code id="fsl_nan_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_nan_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_nan_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_nanm'>Mask NaNs in Image using FSL</h2><span id='topic+fsl_nanm'></span><span id='topic+fslnanm'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -nanm</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_nanm(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslnanm(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_nanm_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_nanm_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_nanm_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_nanm_+3A_file">file</code></td>
<td>
<p>(character) input image to set to 1 for NaN voxels, 0 otherwise</p>
</td></tr>
<tr><td><code id="fsl_nanm_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_nanm_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_nanm_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_rand'>Add Random Uniform Noise Image using FSL</h2><span id='topic+fsl_rand'></span><span id='topic+fslrand'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -rand</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_rand(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslrand(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_rand_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_rand_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_rand_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_rand_+3A_file">file</code></td>
<td>
<p>(character) input image to add random uniform noise to</p>
</td></tr>
<tr><td><code id="fsl_rand_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_rand_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_rand_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_randn'>Add Random Standard Gaussian Noise Image using FSL</h2><span id='topic+fsl_randn'></span><span id='topic+fslrandn'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -randn</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_randn(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslrandn(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_randn_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_randn_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_randn_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_randn_+3A_file">file</code></td>
<td>
<p>(character) input image to add random standard to Gaussian noise</p>
</td></tr>
<tr><td><code id="fsl_randn_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_randn_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_randn_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_recip'>Reciprocal Image using FSL</h2><span id='topic+fsl_recip'></span><span id='topic+fslrecip'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -recip</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_recip(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslrecip(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_recip_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_recip_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_recip_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_recip_+3A_file">file</code></td>
<td>
<p>(character) input image to take the reciprocal (1/image)</p>
</td></tr>
<tr><td><code id="fsl_recip_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_recip_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_recip_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_rem'>Modulus Remainder of 2 Images using FSL</h2><span id='topic+fsl_rem'></span><span id='topic+fslrem'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -rem</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_rem(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslrem(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_rem_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_file2">file2</code></td>
<td>
<p>(character) image to divide the current image by and take remainder</p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_rem_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_resample'>Resample an Image to Specific Voxel Size</h2><span id='topic+fsl_resample'></span>

<h3>Description</h3>

<p>Resample an Image to Specific Voxel Size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_resample(
  file,
  voxel_size,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  opts = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_resample_+3A_file">file</code></td>
<td>
<p>Input file to resample</p>
</td></tr>
<tr><td><code id="fsl_resample_+3A_voxel_size">voxel_size</code></td>
<td>
<p>Voxel size (in mm).  This should be a scalar number.</p>
</td></tr>
<tr><td><code id="fsl_resample_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="fsl_resample_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_resample_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_resample_+3A_opts">opts</code></td>
<td>
<p>options to pass to <code>flirt</code></p>
</td></tr>
<tr><td><code id="fsl_resample_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
the output file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) {
file = mni_fname(mm = 1, brain = TRUE)
est2 = fsl_resample(file = file, voxel_size = 1, retimg = FALSE)
pixdim(est2)
est = fsl_resample(file = file, voxel_size = 1)
pixdim(est)
}

</code></pre>

<hr>
<h2 id='fsl_smooth'>Gaussian smooth image using FSL</h2><span id='topic+fsl_smooth'></span><span id='topic+fslsmooth'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -s</code> to smooth an image and either
saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_smooth(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslsmooth(
  file,
  sigma = 10,
  mask = NULL,
  smooth_mask = TRUE,
  smoothed_mask = NULL,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_smooth_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant smoothed image name (optional)
if not give, will be the stub of the filename then _sigma</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_file">file</code></td>
<td>
<p>(character or nifti) image to be smoothed</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_sigma">sigma</code></td>
<td>
<p>(numeric) sigma (in mm) of Gaussian kernel for smoothing</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_mask">mask</code></td>
<td>
<p>(character) optional mask given for image</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_smooth_mask">smooth_mask</code></td>
<td>
<p>(logical) Smooth mask?  If TRUE, the masked image 
will be divided by the smoothed mask.</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_smoothed_mask">smoothed_mask</code></td>
<td>
<p>(character or nifti) If specified and 
<code>smooth_mask = TRUE</code>, then will use this as the smoothed mask for 
division.</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_smooth_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
dims = c(50, 50, 20)
x = array(rnorm(prod(dims)), dim = dims)
img = nifti(x, dim= dims, 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
s.img = fslsmooth(img, retimg=TRUE)
})
}
</code></pre>

<hr>
<h2 id='fsl_smoothest'>Smoothness Estimation using <code>smoothest</code></h2><span id='topic+fsl_smoothest'></span>

<h3>Description</h3>

<p>Smoothness Estimation using <code>smoothest</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_smoothest(
  file,
  residual_image,
  z_image,
  dof = NULL,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_smoothest_+3A_file">file</code></td>
<td>
<p>filename of input brain mask</p>
</td></tr>
<tr><td><code id="fsl_smoothest_+3A_residual_image">residual_image</code></td>
<td>
<p>4d residual image.  If specified, then
<code>dof</code> must be specified.</p>
</td></tr>
<tr><td><code id="fsl_smoothest_+3A_z_image">z_image</code></td>
<td>
<p>z-statistic image.  Cannot be specified if 
<code>residual_image</code> is specified</p>
</td></tr>
<tr><td><code id="fsl_smoothest_+3A_dof">dof</code></td>
<td>
<p>number of degrees of freedom</p>
</td></tr>
<tr><td><code id="fsl_smoothest_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>smoothest</code></p>
</td></tr>
<tr><td><code id="fsl_smoothest_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fsl_smoothest_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+fslcmd">fslcmd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An output of smoothness estimate
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) {
file = mni_fname(mm = 2, brain = TRUE, mask = TRUE)
img = mni_img(mm = 2, brain = TRUE, mask = FALSE)
mask = mni_img(mm = 2, brain = TRUE, mask = TRUE)
img = zscore_img(img = img, mask = mask)
est = fsl_smoothest(file = file, z_image = img)
}
</code></pre>

<hr>
<h2 id='fsl_sqr'>Square Image using FSL</h2><span id='topic+fsl_sqr'></span><span id='topic+fslsqr'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -sqr</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_sqr(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslsqr(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_sqr_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sqr_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_sqr_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_sqr_+3A_file">file</code></td>
<td>
<p>(character) input image to square</p>
</td></tr>
<tr><td><code id="fsl_sqr_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sqr_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_sqr_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_sqrt'>Square Root Image using FSL</h2><span id='topic+fsl_sqrt'></span><span id='topic+fslsqrt'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -sqrt</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_sqrt(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslsqrt(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_sqrt_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sqrt_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_sqrt_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_sqrt_+3A_file">file</code></td>
<td>
<p>(character) input image to square root</p>
</td></tr>
<tr><td><code id="fsl_sqrt_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sqrt_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_sqrt_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_std_dir'>Get FSL's Standard Data Directory</h2><span id='topic+fsl_std_dir'></span><span id='topic+fsl_std_file'></span>

<h3>Description</h3>

<p>Finds the FSLDIR from system environment or <code>getOption("fsl.path")</code>
and pastes on &ldquo;data/standard&rdquo;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_std_dir()

fsl_std_file(file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_std_dir_+3A_file">file</code></td>
<td>
<p>A file from the standard data file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character path
</p>

<hr>
<h2 id='fsl_sub'>Subtract Images using FSL</h2><span id='topic+fsl_sub'></span><span id='topic+fslsub'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -sub</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_sub(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslsub(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_sub_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_file2">file2</code></td>
<td>
<p>(character) image to be subtracted</p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_sub_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_sub2'>Subsample image by factor of 2</h2><span id='topic+fsl_sub2'></span><span id='topic+fslsub2'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -subsamp2</code> to subsample an image
and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_sub2(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslsub2(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_sub2_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sub2_+3A_outfile">outfile</code></td>
<td>
<p>(character) name of resultant subsampled file</p>
</td></tr>
<tr><td><code id="fsl_sub2_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_sub2_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be subsampled</p>
</td></tr>
<tr><td><code id="fsl_sub2_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_sub2_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_sub2_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
x = array(rnorm(1e6), dim = c(100, 100, 100))
img = nifti(x, dim= c(100, 100, 100), 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
subsamp = fslsub2(img, retimg=TRUE)
print(voxdim(subsamp))
})
} 
</code></pre>

<hr>
<h2 id='fsl_swapdim'>FSL Swap Dimensions</h2><span id='topic+fsl_swapdim'></span><span id='topic+fslswapdim'></span>

<h3>Description</h3>

<p>This function calls <code>fslswapdim</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_swapdim(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslswapdim(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  a = "x",
  b = "y",
  c = "z",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_swapdim_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_a">a</code></td>
<td>
<p>(character) Option for x domain in <code>fslswapdim</code></p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_b">b</code></td>
<td>
<p>(character) Option for y domain in <code>fslswapdim</code></p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_c">c</code></td>
<td>
<p>(character) Option for z domain in <code>fslswapdim</code></p>
</td></tr>
<tr><td><code id="fsl_swapdim_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_tan'>Tangent Transform Image using FSL</h2><span id='topic+fsl_tan'></span><span id='topic+fsltan'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -tan</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_tan(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fsltan(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_tan_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_tan_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fsl_tan_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_tan_+3A_file">file</code></td>
<td>
<p>(character) input image to tangent transform</p>
</td></tr>
<tr><td><code id="fsl_tan_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_tan_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_tan_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fsl_thresh'>Threshold an image</h2><span id='topic+fsl_thresh'></span><span id='topic+fslthresh'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -thr -uthr</code> to threshold an image
and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_thresh(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslthresh(
  file,
  outfile = NULL,
  thresh = 0,
  uthresh = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_thresh_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_outfile">outfile</code></td>
<td>
<p>(character) name of resultant thresholded file</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be thresholded</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_thresh">thresh</code></td>
<td>
<p>(numeric) threshold (anything below set to 0)</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_uthresh">uthresh</code></td>
<td>
<p>(numeric) upper threshold (anything above set to 0)</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to be passed to fslmaths</p>
</td></tr>
<tr><td><code id="fsl_thresh_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
x = array(rnorm(1e6), dim = c(100, 100, 100))
img = nifti(x, dim= c(100, 100, 100), 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
thresh = fslthresh(img, thresh=0, uthresh = 2, retimg=TRUE)
})
} 
</code></pre>

<hr>
<h2 id='fsl_tsplot'>FSL Timeseries Plot using 'fsl_tsplot' (not 'tsplot')</h2><span id='topic+fsl_tsplot'></span><span id='topic+fsl_tsplot.help'></span>

<h3>Description</h3>

<p>FSL Timeseries Plot using 'fsl_tsplot' (not 'tsplot')
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_tsplot(
  infile,
  outfile = tempfile(fileext = ".png"),
  plot_title = NULL,
  legend = NULL,
  labels = NULL,
  ymin = NULL,
  ymax = NULL,
  xlabel = NULL,
  ylabel = NULL,
  height = NULL,
  width = NULL,
  precision = NULL,
  unit = NULL,
  scientific_notation = FALSE,
  start_position = NULL,
  end_position = NULL,
  ...
)

fsl_tsplot.help()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_tsplot_+3A_infile">infile</code></td>
<td>
<p>comma-separated list of input file names 
(ASCII text matrix, one column per timecourse)</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_outfile">outfile</code></td>
<td>
<p>output filename for the PNG file</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_plot_title">plot_title</code></td>
<td>
<p>plot title</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_legend">legend</code></td>
<td>
<p>file name of ASCII text file, one row per legend entry</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_labels">labels</code></td>
<td>
<p>comma-separated list of labels</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_ymin">ymin</code></td>
<td>
<p>minimum y-value</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_ymax">ymax</code></td>
<td>
<p>maximum y-value</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_xlabel">xlabel</code></td>
<td>
<p>X-axis label</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_ylabel">ylabel</code></td>
<td>
<p>Y-axis label</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_height">height</code></td>
<td>
<p>plot height in pixels (default 150)</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_width">width</code></td>
<td>
<p>plot width in pixels (default 600)</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_precision">precision</code></td>
<td>
<p>precision of x-axis labels</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_unit">unit</code></td>
<td>
<p>scaling units for x-axis (default 1...length of infile)</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_scientific_notation">scientific_notation</code></td>
<td>
<p>switch on scientific notation</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_start_position">start_position</code></td>
<td>
<p>Position of first column to plot</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_end_position">end_position</code></td>
<td>
<p>Position of final column to plot</p>
</td></tr>
<tr><td><code id="fsl_tsplot_+3A_...">...</code></td>
<td>
<p>additional options to pass to <code><a href="#topic+fslcmd">fslcmd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of PNG file
</p>

<hr>
<h2 id='fsl_version'>Find FSL Version</h2><span id='topic+fsl_version'></span><span id='topic+fslversion'></span><span id='topic+fsl_version_gt5'></span>

<h3>Description</h3>

<p>Finds the FSL version from <code>FSLDIR/etc/fslversion</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsl_version(full = FALSE)

fslversion()

fsl_version_gt5()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsl_version_+3A_full">full</code></td>
<td>
<p>provide the full version, versus the numeric version</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the version file does not exist, it will throw a warning, but 
it will return an empty string.  Otherwise it will be a string of the version.
</p>


<h3>Note</h3>

<p>This will use <code>fsldir()</code> to get the directory
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) {
 fslversion()
 fsl_version()
}
</code></pre>

<hr>
<h2 id='fslabs.help'>fslabs Help</h2><span id='topic+fslabs.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslabs</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslabs.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslabs.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslabs.help() 
}
</code></pre>

<hr>
<h2 id='fslacos.help'>fslacos Help</h2><span id='topic+fslacos.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslacos</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslacos.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslacos.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslacos.help() 
}
</code></pre>

<hr>
<h2 id='fsladd.help'>fsladd Help</h2><span id='topic+fsladd.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fsladd</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsladd.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsladd.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fsladd.help() 
}
</code></pre>

<hr>
<h2 id='fsland'>Logical AND with Images using FSL</h2><span id='topic+fsland'></span><span id='topic+fsl_and'></span>

<h3>Description</h3>

<p>This function multiplies two images 
using <code><a href="#topic+fslmul">fslmul</a></code>) after
binarizing the images (using <code><a href="#topic+fslbin">fslbin</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsland(file, file2, ...)

fsl_and(file, file2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsland_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fsland_+3A_file2">file2</code></td>
<td>
<p>(character) image to be multiplied</p>
</td></tr>
<tr><td><code id="fsland_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fslmul">fslmul</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fslasin.help'>fslasin Help</h2><span id='topic+fslasin.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslasin</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslasin.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslasin.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslasin.help() 
}
</code></pre>

<hr>
<h2 id='fslatan.help'>fslatan Help</h2><span id='topic+fslatan.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslatan</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslatan.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslatan.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslatan.help() 
}
</code></pre>

<hr>
<h2 id='fslbet.help'>Help for FSL BET</h2><span id='topic+fslbet.help'></span>

<h3>Description</h3>

<p>This function calls <code>bet</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslbet.help(betcmd = c("bet2", "bet"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslbet.help_+3A_betcmd">betcmd</code></td>
<td>
<p>(character) Get help for <code>bet</code> or <code>bet2</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslbet.help()
 fslbet.help("bet")
}  
</code></pre>

<hr>
<h2 id='fslbin.help'>fslbin Help</h2><span id='topic+fslbin.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslbin</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslbin.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslbin.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslbin.help() 
}
</code></pre>

<hr>
<h2 id='fslbinv.help'>fslbinv Help</h2><span id='topic+fslbinv.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslbinv</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslbinv.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslbinv.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslbinv.help() 
}
</code></pre>

<hr>
<h2 id='fslchfiletype'>FSL Change file type</h2><span id='topic+fslchfiletype'></span>

<h3>Description</h3>

<p>This function calls <code>fslchfiletype</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslchfiletype(
  file,
  filetype = "NIFTI_GZ",
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslchfiletype_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_filetype">filetype</code></td>
<td>
<p>filetype to change image to</p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_outfile">outfile</code></td>
<td>
<p>Output filename. If NULL, will overwrite input file</p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If <code>retimg</code>, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslchfiletype_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslchfiletype.help'>fslchfiletype help</h2><span id='topic+fslchfiletype.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslchfiletype</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslchfiletype.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslchfiletype.help()
}  
</code></pre>

<hr>
<h2 id='fslcmd'>FSL Command Wrapper</h2><span id='topic+fslcmd'></span>

<h3>Description</h3>

<p>This function calls fsl command passed to <code>func</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslcmd(
  func,
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  samefile = FALSE,
  opts_after_outfile = FALSE,
  frontopts = "",
  no.outfile = FALSE,
  trim_front = FALSE,
  run = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslcmd_+3A_func">func</code></td>
<td>
<p>(character) FSL function</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslcmd_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>func</code></p>
</td></tr>
<tr><td><code id="fslcmd_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_samefile">samefile</code></td>
<td>
<p>(logical) is the output the same file?</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_opts_after_outfile">opts_after_outfile</code></td>
<td>
<p>(logical) should <code>opts</code> come after 
the <code>outfile</code> in the FSL command?</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_frontopts">frontopts</code></td>
<td>
<p>(character) options/character to put in before filename</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_no.outfile">no.outfile</code></td>
<td>
<p>(logical) is there an output file in the arguments of 
the FSL function?</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_trim_front">trim_front</code></td>
<td>
<p>trim the whitespace from the front of the command.</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_run">run</code></td>
<td>
<p>(logical) Should the command just be printed (if <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="fslcmd_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslcog'>Image Center of Gravity (FSL)</h2><span id='topic+fslcog'></span>

<h3>Description</h3>

<p>Find Center of Gravity of Image from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslcog(img, mm = TRUE, verbose = TRUE, ts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslcog_+3A_img">img</code></td>
<td>
<p>Object of class nifti, or path of file</p>
</td></tr>
<tr><td><code id="fslcog_+3A_mm">mm</code></td>
<td>
<p>Logical if the center of gravity (COG) would be in mm (default <code>TRUE</code>)
or voxels (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="fslcog_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslcog_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of length 3 unless ts option invoked
</p>


<h3>Note</h3>

<p>FSL uses a 0-based indexing system, which will give you a different 
answer compared to <code>cog</code>, but <code>fslcog(img, mm = FALSE) +1</code> 
should be relatively close to <code>cog(img)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
x = array(rnorm(1e6), dim = c(100, 100, 100))
img = nifti(x, dim= c(100, 100, 100), 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
fslcog(img)
}
</code></pre>

<hr>
<h2 id='fslcos.help'>fslcos Help</h2><span id='topic+fslcos.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslcos</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslcos.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslcos.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslcos.help() 
}
</code></pre>

<hr>
<h2 id='fslcpgeom'>FSL Copy Geometry</h2><span id='topic+fslcpgeom'></span>

<h3>Description</h3>

<p>This function calls <code>fslcpgeom</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslcpgeom(
  file,
  file_with_header,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslcpgeom_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_file_with_header">file_with_header</code></td>
<td>
<p>image with header to be copied over</p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslcpgeom_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslcpgeom.help'>fslcpgeom help</h2><span id='topic+fslcpgeom.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslcpgeom</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslcpgeom.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslcpgeom.help()
}  
</code></pre>

<hr>
<h2 id='fsldir'>Get FSL's Directory</h2><span id='topic+fsldir'></span><span id='topic+fsl_dir'></span>

<h3>Description</h3>

<p>Finds the FSLDIR from system environment or <code>getOption("fsl.path")</code>
for location of FSL functions and returns it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsldir()

fsl_dir()
</code></pre>


<h3>Value</h3>

<p>Character path
</p>

<hr>
<h2 id='fsldiv.help'>fsldiv Help</h2><span id='topic+fsldiv.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fsldiv</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsldiv.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsldiv.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fsldiv.help() 
}
</code></pre>

<hr>
<h2 id='fsledge.help'>fsledge Help</h2><span id='topic+fsledge.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fsledge</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsledge.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsledge.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fsledge.help() 
}
</code></pre>

<hr>
<h2 id='fslentropy'>Image Mean Entropy</h2><span id='topic+fslentropy'></span>

<h3>Description</h3>

<p>Estimates Mean Entropy of Image from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslentropy(img, nonzero = FALSE, verbose = TRUE, ts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslentropy_+3A_img">img</code></td>
<td>
<p>Object of class nifti, or path of file</p>
</td></tr>
<tr><td><code id="fslentropy_+3A_nonzero">nonzero</code></td>
<td>
<p>(logical) Should the statistic be taken over non-zero voxels</p>
</td></tr>
<tr><td><code id="fslentropy_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslentropy_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of unless ts option invoked, then matrix
</p>


<h3>Note</h3>

<p>This uses option -e or -E in <code><a href="#topic+fslstats">fslstats</a></code>
</p>

<hr>
<h2 id='fslepi_reg'>Register EPI images to Structural image</h2><span id='topic+fslepi_reg'></span><span id='topic+fsl_epi_reg'></span><span id='topic+epi_reg'></span>

<h3>Description</h3>

<p>This function calls <code>epi_reg</code>, designed to 
register EPI images (typically functional or diffusion) to structural 
(e.g. T1-weighted) image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslepi_reg(
  epi,
  t1,
  t1_brain,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  fmap = NULL,
  fmap_mag = NULL,
  fmap_mag_brain = NULL,
  echo_spacing = NA,
  phase_enc_dir = c("x", "y", "z", "-x", "-y", "-z"),
  weight = NULL,
  verbose = TRUE,
  opts = "",
  ...
)

fsl_epi_reg(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

epi_reg(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslepi_reg_+3A_epi">epi</code></td>
<td>
<p>EPI image, character or nifti object</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_t1">t1</code></td>
<td>
<p>whole head T1 image , character or nifti object</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_t1_brain">t1_brain</code></td>
<td>
<p>brain extracted T1 image</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_outfile">outfile</code></td>
<td>
<p>output registered image filename</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_fmap">fmap</code></td>
<td>
<p>fieldmap image (in rad/s)</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_fmap_mag">fmap_mag</code></td>
<td>
<p>fieldmap magnitude image - whole head extracted</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_fmap_mag_brain">fmap_mag_brain</code></td>
<td>
<p>fieldmap magnitude image - brain extracted</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_echo_spacing">echo_spacing</code></td>
<td>
<p>Effective EPI echo spacing 
(sometimes called dwell time) - in seconds</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_phase_enc_dir">phase_enc_dir</code></td>
<td>
<p>phase encoding direction, dir = x/y/z/-x/-y/-z</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_weight">weight</code></td>
<td>
<p>weighting image (in T1 space)</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
<tr><td><code id="fslepi_reg_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fslerode.help'>fslerode Help</h2><span id='topic+fslerode.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslerode</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslerode.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslerode.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslerode.help() 
}
</code></pre>

<hr>
<h2 id='fslexp.help'>fslexp Help</h2><span id='topic+fslexp.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslexp</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslexp.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslexp.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslexp.help() 
}
</code></pre>

<hr>
<h2 id='fslfill.help'>fslfill Help</h2><span id='topic+fslfill.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslfill</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslfill.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslfill.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslfill.help() 
}
</code></pre>

<hr>
<h2 id='fslfill2'>Fill image holes with dilation then erosion</h2><span id='topic+fslfill2'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code> to dilate an image, then calls
it again to erode it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslfill2(
  file,
  outfile = NULL,
  kopts = "",
  remove.ends = TRUE,
  refill = TRUE,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslfill2_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be filled</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_outfile">outfile</code></td>
<td>
<p>(character) name of resultant filled file</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_kopts">kopts</code></td>
<td>
<p>(character) Options passed for kernel before erosion/dilation</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_remove.ends">remove.ends</code></td>
<td>
<p>(logical) Remove top and bottom dilation.</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_refill">refill</code></td>
<td>
<p>(logical) Run <code><a href="#topic+fslfill">fslfill</a></code> after dilation/erosion.</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslfill2_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslfill2_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>This function binarizes the image before running.
</p>

<hr>
<h2 id='fslgetorient'>FSL Orientation Wrappers</h2><span id='topic+fslgetorient'></span><span id='topic+fslgetsform'></span><span id='topic+fslgetqform'></span><span id='topic+fslgetsformcode'></span><span id='topic+fslgetqformcode'></span>

<h3>Description</h3>

<p>This function calls <code>fslorient -get*</code> and is a 
simple wrapper of <code><a href="#topic+fslorient">fslorient</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslgetorient(file, verbose = TRUE)

fslgetsform(file, verbose = TRUE)

fslgetqform(file, verbose = TRUE)

fslgetsformcode(file, verbose = TRUE)

fslgetqformcode(file, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslgetorient_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslgetorient_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, output from FSL
</p>

<hr>
<h2 id='fslhd'>Get NIfTI header using FSL</h2><span id='topic+fslhd'></span>

<h3>Description</h3>

<p>This function calls <code>fslhd</code> to obtain a nifti header
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslhd(file, opts = "", verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslhd_+3A_file">file</code></td>
<td>
<p>(character) image filename or character of class nifti</p>
</td></tr>
<tr><td><code id="fslhd_+3A_opts">opts</code></td>
<td>
<p>(character) additional options to be passed to fslhd</p>
</td></tr>
<tr><td><code id="fslhd_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslhd_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character of information from fslhd
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = file.path(fsldir(), "data", "standard", 
   "MNI152_T1_2mm.nii.gz")
 fslhd(mnifile)
}   
</code></pre>

<hr>
<h2 id='fslhd.help'>FSLhd help</h2><span id='topic+fslhd.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslhd</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslhd.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslhd.help()
}   
</code></pre>

<hr>
<h2 id='fslhd.parse'>Parse FSL Header</h2><span id='topic+fslhd.parse'></span>

<h3>Description</h3>

<p>This function takes in a FSL header and parses the components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslhd.parse(hd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslhd.parse_+3A_hd">hd</code></td>
<td>
<p>(character) header from <code><a href="#topic+fslhd">fslhd</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame of information from FSL header
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = mni_fname("2")
 hd = fslhd(mnifile)
 fslhd.parse(hd)
}  
</code></pre>

<hr>
<h2 id='fslhelp'>Wrapper for getting fsl help</h2><span id='topic+fslhelp'></span>

<h3>Description</h3>

<p>This function takes in the function and returns the
help from FSL for that function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslhelp(func_name, help.arg = "--help", extra.args = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslhelp_+3A_func_name">func_name</code></td>
<td>
<p>FSL function name</p>
</td></tr>
<tr><td><code id="fslhelp_+3A_help.arg">help.arg</code></td>
<td>
<p>Argument to print help, usually &quot;&ndash;help&quot;</p>
</td></tr>
<tr><td><code id="fslhelp_+3A_extra.args">extra.args</code></td>
<td>
<p>Extra arguments to be passed other than 
<code>--help</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>

<hr>
<h2 id='fslindex.help'>fslindex Help</h2><span id='topic+fslindex.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslindex</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslindex.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslindex.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslindex.help() 
}
</code></pre>

<hr>
<h2 id='fsllog.help'>fsllog Help</h2><span id='topic+fsllog.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fsllog</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsllog.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsllog.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fsllog.help() 
}
</code></pre>

<hr>
<h2 id='fslmask.help'>fslmask Help</h2><span id='topic+fslmask.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslmask</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslmask.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslmask.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslmask.help() 
}
</code></pre>

<hr>
<h2 id='fslmaths.help'>FSL Maths Help</h2><span id='topic+fslmaths.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslmaths.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslmaths.help() 
}
</code></pre>

<hr>
<h2 id='fslmax'>Get min/max of an image</h2><span id='topic+fslmax'></span><span id='topic+fslmin'></span>

<h3>Description</h3>

<p>This function calls the range or robust range functions from FSL 
and then extracts the min/max
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslmax(file, ...)

fslmin(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslmax_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be checked</p>
</td></tr>
<tr><td><code id="fslmax_+3A_...">...</code></td>
<td>
<p>options passed to <code><a href="#topic+fslrange">fslrange</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector of mins/maxs or just one depending if <code>ts = TRUE</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = file.path(fsldir(), "data", "standard", 
   "MNI152_T1_2mm.nii.gz")
 fslmax(mnifile)
}  
</code></pre>

<hr>
<h2 id='fslmean'>Image Mean</h2><span id='topic+fslmean'></span>

<h3>Description</h3>

<p>Estimates Mean of Image from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslmean(img, nonzero = FALSE, verbose = TRUE, ts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslmean_+3A_img">img</code></td>
<td>
<p>Object of class nifti, or path of file</p>
</td></tr>
<tr><td><code id="fslmean_+3A_nonzero">nonzero</code></td>
<td>
<p>(logical) Should the statistic be taken over non-zero voxels</p>
</td></tr>
<tr><td><code id="fslmean_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslmean_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of unless ts option invoked, then matrix
</p>


<h3>Note</h3>

<p>This uses option -m or -M in <code><a href="#topic+fslstats">fslstats</a></code>
</p>

<hr>
<h2 id='fslmerge.help'>FSLMerge help</h2><span id='topic+fslmerge.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmerge</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslmerge.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslmerge.help()
}  
</code></pre>

<hr>
<h2 id='fslmul.help'>fslmul Help</h2><span id='topic+fslmul.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslmul</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslmul.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslmul.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslmul.help() 
}
</code></pre>

<hr>
<h2 id='fslnan.help'>fslnan Help</h2><span id='topic+fslnan.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslnan</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslnan.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslnan.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslnan.help() 
}
</code></pre>

<hr>
<h2 id='fslnanm.help'>fslnanm Help</h2><span id='topic+fslnanm.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslnanm</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslnanm.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslnanm.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslnanm.help() 
}
</code></pre>

<hr>
<h2 id='fslor'>Perform OR/Union operation on Images using FSL</h2><span id='topic+fslor'></span><span id='topic+fsl_or'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths file -add file2 -bin</code>
after binarizing <code>file</code> and <code>file2</code> using
<code><a href="#topic+fslbin">fslbin</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslor(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  ...
)

fsl_or(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslor_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fslor_+3A_file2">file2</code></td>
<td>
<p>(character) image to be unioned</p>
</td></tr>
<tr><td><code id="fslor_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fslor_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslor_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslor_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslor_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fslorient'>FSL Orient</h2><span id='topic+fslorient'></span>

<h3>Description</h3>

<p>This function calls <code>fslorient</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslorient(
  file,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslorient_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslorient_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslorient_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If <code>retimg</code>, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslorient_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslorient_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslorient</code></p>
</td></tr>
<tr><td><code id="fslorient_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslorient_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslorient.help'>fslorient help</h2><span id='topic+fslorient.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslorient</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslorient.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslorient.help()
} 
</code></pre>

<hr>
<h2 id='fslorienter'>Wrapper for FSL Get Orientation</h2><span id='topic+fslorienter'></span>

<h3>Description</h3>

<p>This function calls <code>fslorient -getorient</code> and is a 
simple wrapper of <code><a href="#topic+fslorient">fslorient</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslorienter(file, opts = "", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslorienter_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslorienter_+3A_opts">opts</code></td>
<td>
<p>option to send to fslorient</p>
</td></tr>
<tr><td><code id="fslorienter_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result from system command, output from FSL
</p>

<hr>
<h2 id='fslrand.help'>fslrand Help</h2><span id='topic+fslrand.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslrand</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrand.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslrand.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslrand.help() 
}
</code></pre>

<hr>
<h2 id='fslrandn.help'>fslrandn Help</h2><span id='topic+fslrandn.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslrandn</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrandn.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslrandn.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslrandn.help() 
}
</code></pre>

<hr>
<h2 id='fslrange'>Get range of an image</h2><span id='topic+fslrange'></span>

<h3>Description</h3>

<p>This function calls <code>fslstats -R</code> to get the range of an image or <code>fslstats -r</code> to 
get the robust range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrange(file, robust = FALSE, verbose = TRUE, ts = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslrange_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be checked</p>
</td></tr>
<tr><td><code id="fslrange_+3A_robust">robust</code></td>
<td>
<p>(logical) Should the range be robust (<code>-r</code>)</p>
</td></tr>
<tr><td><code id="fslrange_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslrange_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
<tr><td><code id="fslrange_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of length 2
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = file.path(fsldir(), "data", "standard", 
   "MNI152_T1_2mm.nii.gz")
 fslrange(mnifile)
}  
</code></pre>

<hr>
<h2 id='fslrecip.help'>fslrecip Help</h2><span id='topic+fslrecip.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslrecip</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrecip.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslrecip.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslrecip.help() 
}
</code></pre>

<hr>
<h2 id='fslrem.help'>fslrem Help</h2><span id='topic+fslrem.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslrem</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrem.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslrem.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslrem.help() 
}
</code></pre>

<hr>
<h2 id='fslreorient2std'>FSL Orient to MNI</h2><span id='topic+fslreorient2std'></span><span id='topic+fslreorient2std_mat'></span>

<h3>Description</h3>

<p>This function calls <code>fslreorient2std</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslreorient2std(
  file,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  opts = "",
  ...
)

fslreorient2std_mat(
  file,
  matfile = tempfile(fileext = ".mat"),
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslreorient2std_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If <code>retimg</code>, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_opts">opts</code></td>
<td>
<p>additional options to pass to <code><a href="#topic+fslreorient2std">fslreorient2std</a></code></p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslreorient2std_+3A_matfile">matfile</code></td>
<td>
<p>Output file for the matrix for reorientation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslreorient2std.help'>fslreorient2std help</h2><span id='topic+fslreorient2std.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslreorient2std</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslreorient2std.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslreorient2std.help()
}  
</code></pre>

<hr>
<h2 id='fslrobustfov'>FSL Robust Field of View</h2><span id='topic+fslrobustfov'></span><span id='topic+fsl_robustfov'></span>

<h3>Description</h3>

<p>This function calls <code>robustfov</code> to
automatically crop the image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrobustfov(
  file,
  brain_size = NULL,
  mat_name = NULL,
  roi_name = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)

fsl_robustfov(retimg = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslrobustfov_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_brain_size">brain_size</code></td>
<td>
<p>size of brain in z-dimension (default 150mm)</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_mat_name">mat_name</code></td>
<td>
<p>matrix output name</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_roi_name">roi_name</code></td>
<td>
<p>ROI volume output name</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If <code>retimg</code>, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslrobustfov_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslrobustfov.help'>FSL Robust Field of View Help</h2><span id='topic+fslrobustfov.help'></span>

<h3>Description</h3>

<p>This function calls <code>robustfov</code> help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslrobustfov.help()
</code></pre>

<hr>
<h2 id='fslroi'>FSL ROI</h2><span id='topic+fslroi'></span><span id='topic+fsl_roi'></span><span id='topic+fslroi_time'></span>

<h3>Description</h3>

<p>This function calls <code>fslroi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslroi(
  file,
  xmin = 0,
  xsize = -1,
  ymin = 0,
  ysize = -1,
  zmin = 0,
  zsize = -1,
  tmin = NULL,
  tsize = NULL,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  verbose = TRUE,
  ...
)

fsl_roi(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)

fslroi_time(file, tmin = NULL, tsize = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslroi_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslroi_+3A_xmin">xmin</code></td>
<td>
<p>Minimum index for x-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_xsize">xsize</code></td>
<td>
<p>Size of ROI in x-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_ymin">ymin</code></td>
<td>
<p>Minimum index for y-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_ysize">ysize</code></td>
<td>
<p>Size of ROI in y-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_zmin">zmin</code></td>
<td>
<p>Minimum index for z-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_zsize">zsize</code></td>
<td>
<p>Size of ROI in z-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_tmin">tmin</code></td>
<td>
<p>Minimum index for t-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_tsize">tsize</code></td>
<td>
<p>Size of ROI in t-dimension</p>
</td></tr>
<tr><td><code id="fslroi_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fslroi_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslroi_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslroi_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslroi_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslroi_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is <code>TRUE</code> or 
<code>FALSE</code>.
</p>


<h3>Note</h3>

<p>Indexing (in both time and space) starts with 0 not 1! 
Inputting -1 for a size will set it to the full image extent for that dimension.
</p>

<hr>
<h2 id='fslsd'>Image Standard Deviation</h2><span id='topic+fslsd'></span>

<h3>Description</h3>

<p>Estimates Standard Deviation of Image from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsd(img, nonzero = FALSE, verbose = TRUE, ts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsd_+3A_img">img</code></td>
<td>
<p>Object of class nifti, or path of file</p>
</td></tr>
<tr><td><code id="fslsd_+3A_nonzero">nonzero</code></td>
<td>
<p>(logical) Should the statistic be taken over non-zero voxels</p>
</td></tr>
<tr><td><code id="fslsd_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslsd_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of unless ts option invoked, then matrix
</p>


<h3>Note</h3>

<p>This uses option -s or -S in <code><a href="#topic+fslstats">fslstats</a></code>
</p>

<hr>
<h2 id='fslsin'>Sine Transform Image using FSL</h2><span id='topic+fslsin'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths -sin</code>.  
The R functions wraps <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsin(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsin_+3A_file">file</code></td>
<td>
<p>(character) input image to sine transform</p>
</td></tr>
<tr><td><code id="fslsin_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fslsin_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslsin_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslsin_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslsin_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>fslmaths</code></p>
</td></tr>
<tr><td><code id="fslsin_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>

<hr>
<h2 id='fslsin.help'>fslsin Help</h2><span id='topic+fslsin.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslsin</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsin.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsin.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsin.help() 
}
</code></pre>

<hr>
<h2 id='fslslicetimer'>FSL Slice Timing Correction</h2><span id='topic+fslslicetimer'></span><span id='topic+fsl_slicetimer'></span>

<h3>Description</h3>

<p>This function calls <code>slicetimer</code> and performs
slice timing correction for fMRI data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslslicetimer(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  tr = 3,
  direction = "z",
  indexing = c("up", "down"),
  acq_order = c("contiguous", "interleaved"),
  verbose = TRUE,
  ...
)

fsl_slicetimer(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslslicetimer_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_tr">tr</code></td>
<td>
<p>(numeric) Repeat time in seconds</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_direction">direction</code></td>
<td>
<p>(character) Direction of acquisition</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_indexing">indexing</code></td>
<td>
<p>(character) Whether indexing was bottom up (default) or
down using <code>--down</code> option</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_acq_order">acq_order</code></td>
<td>
<p>(character) Order of acquisition, either contiguous 
or interleaved</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslslicetimer_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fslsmooth_in_mask'>Smooth Image Within a Mask Only</h2><span id='topic+fslsmooth_in_mask'></span><span id='topic+fsl_smooth_in_mask'></span>

<h3>Description</h3>

<p>This function smooth an image within a mask and replaces the values of the
original image with the smoothed values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsmooth_in_mask(file, sigma = 10, mask = NULL, ...)

fsl_smooth_in_mask(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsmooth_in_mask_+3A_file">file</code></td>
<td>
<p>(character) image to be smoothed</p>
</td></tr>
<tr><td><code id="fslsmooth_in_mask_+3A_sigma">sigma</code></td>
<td>
<p>(numeric) sigma (in mm) of Gaussian kernel for smoothing</p>
</td></tr>
<tr><td><code id="fslsmooth_in_mask_+3A_mask">mask</code></td>
<td>
<p>(character) optional mask given for image</p>
</td></tr>
<tr><td><code id="fslsmooth_in_mask_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fslsmooth">fslsmooth</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>nifti</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
dims = c(50, 50, 20)
x = array(rnorm(prod(dims)), dim = dims)
img = nifti(x, dim= dims, 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
mask = abs(img ) &gt; 1
s.img = fslsmooth_in_mask(img, mask = mask)
})
}
</code></pre>

<hr>
<h2 id='fslsmooth.help'>fslsmooth Help</h2><span id='topic+fslsmooth.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslsmooth</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsmooth.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsmooth.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsmooth.help() 
}
</code></pre>

<hr>
<h2 id='fslsplit'>Split images using FSL</h2><span id='topic+fslsplit'></span><span id='topic+fsl_split'></span>

<h3>Description</h3>

<p>This function calls <code>fslsplit</code> to merge files on some dimension
and either saves the image or returns an object of class nifti
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsplit(
  infile,
  direction = c("t", "x", "y", "z"),
  output_basename = NULL,
  retimg = TRUE,
  reorient = FALSE,
  verbose = TRUE
)

fsl_split(..., retimg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsplit_+3A_infile">infile</code></td>
<td>
<p>(character) input filename</p>
</td></tr>
<tr><td><code id="fslsplit_+3A_direction">direction</code></td>
<td>
<p>(character) direction to split over: t (time), x, y, z</p>
</td></tr>
<tr><td><code id="fslsplit_+3A_output_basename">output_basename</code></td>
<td>
<p>(character) prefix to have for output</p>
</td></tr>
<tr><td><code id="fslsplit_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslsplit_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslsplit_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslsplit_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of output files
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='fslsplit.help'>FSL Split help</h2><span id='topic+fslsplit.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslsplit</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsplit.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsplit.help()
}  
</code></pre>

<hr>
<h2 id='fslsqr.help'>fslsqr Help</h2><span id='topic+fslsqr.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslsqr</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsqr.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsqr.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsqr.help() 
}
</code></pre>

<hr>
<h2 id='fslsqrt.help'>fslsqrt Help</h2><span id='topic+fslsqrt.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslsqrt</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsqrt.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsqrt.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsqrt.help() 
}
</code></pre>

<hr>
<h2 id='fslstats'>FSL Stats</h2><span id='topic+fslstats'></span>

<h3>Description</h3>

<p>This function calls <code>fslstats</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslstats(file, opts = "", verbose = TRUE, ts = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslstats_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be checked</p>
</td></tr>
<tr><td><code id="fslstats_+3A_opts">opts</code></td>
<td>
<p>(character) operation passed to <code>fslstats</code></p>
</td></tr>
<tr><td><code id="fslstats_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslstats_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
<tr><td><code id="fslstats_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of fslstats command
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
system.time({
x = array(rnorm(1e6), dim = c(100, 100, 100))
img = nifti(x, dim= c(100, 100, 100), 
datatype = convert.datatype()$FLOAT32, cal.min = min(x), 
cal.max = max(x), pixdim = rep(1, 4))
entropy = fslstats(img, opts='-E')
})
}  
</code></pre>

<hr>
<h2 id='fslstats.help'>FSL Stats Help</h2><span id='topic+fslstats.help'></span><span id='topic+fslrange.help'></span><span id='topic+fslmean.help'></span><span id='topic+fslentropy.help'></span><span id='topic+fslsd.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslstats</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslstats.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslstats.help() 
}
</code></pre>

<hr>
<h2 id='fslsub.help'>fslsub Help</h2><span id='topic+fslsub.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslsub</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsub.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsub.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsub.help() 
}
</code></pre>

<hr>
<h2 id='fslsub2.help'>fslsub2 Help</h2><span id='topic+fslsub2.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslsub2</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsub2.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsub2.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslsub2.help() 
}
</code></pre>

<hr>
<h2 id='fslsum'>FSL Sum</h2><span id='topic+fslsum'></span>

<h3>Description</h3>

<p>This function calls <code>fslstats -M -V</code> to get product, 
aka the approximate sum.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslsum(file, opts = "", ts = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslsum_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be checked</p>
</td></tr>
<tr><td><code id="fslsum_+3A_opts">opts</code></td>
<td>
<p>Additional options to pass to <code><a href="#topic+fslstats">fslstats</a></code></p>
</td></tr>
<tr><td><code id="fslsum_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
<tr><td><code id="fslsum_+3A_...">...</code></td>
<td>
<p>options passed to <code><a href="#topic+fslstats">fslstats</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric value
</p>


<h3>Note</h3>

<p>This may be approximate due to rounding
</p>

<hr>
<h2 id='fslswapdim.help'>fslswapdim help</h2><span id='topic+fslswapdim.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslswapdim</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslswapdim.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslswapdim.help()
}  
</code></pre>

<hr>
<h2 id='fsltan.help'>fsltan Help</h2><span id='topic+fsltan.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fsltan</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fsltan.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fsltan.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fsltan.help() 
}
</code></pre>

<hr>
<h2 id='fslthresh.help'>fslthresh Help</h2><span id='topic+fslthresh.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths</code>'s help, as 
<code>fslthresh</code> is a wrapper for <code>fslmaths</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslthresh.help(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslthresh.help_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+fslmaths.help">fslmaths.help</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslthresh.help() 
}
</code></pre>

<hr>
<h2 id='fslval'>Get value from FSL header</h2><span id='topic+fslval'></span>

<h3>Description</h3>

<p>This function calls <code>fslval</code> to obtain a nifti header
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslval(file, keyword = "", verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslval_+3A_file">file</code></td>
<td>
<p>(character) image filename or character of class nifti</p>
</td></tr>
<tr><td><code id="fslval_+3A_keyword">keyword</code></td>
<td>
<p>(character) keyword to be taken from fslhd</p>
</td></tr>
<tr><td><code id="fslval_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslval_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character of information from fslhd field specified in keyword
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = file.path(fsldir(), "data", "standard", 
   "MNI152_T1_2mm.nii.gz")
 fslval(mnifile, keyword = "dim1")
}  
</code></pre>

<hr>
<h2 id='fslval.help'>fslval help</h2><span id='topic+fslval.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslval</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslval.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 fslval.help()
} 
</code></pre>

<hr>
<h2 id='fslview'>Open image in FSLView</h2><span id='topic+fslview'></span><span id='topic+fsleyes'></span>

<h3>Description</h3>

<p>This function calls <code>fslview</code> to view an image 
in the FSL viewer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslview(file, intern = TRUE, opts = "", verbose = TRUE, ...)

fsleyes(file, intern = TRUE, opts = "", verbose = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslview_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be thresholded</p>
</td></tr>
<tr><td><code id="fslview_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslview_+3A_opts">opts</code></td>
<td>
<p>(character) options for FSLView</p>
</td></tr>
<tr><td><code id="fslview_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslview_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>


<h3>Note</h3>

<p>As of FSL version 5.0.10, this is deprecated:
<a href="https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/WhatsNew">https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/WhatsNew</a>
</p>

<hr>
<h2 id='fslview.help'>FSLView help</h2><span id='topic+fslview.help'></span>

<h3>Description</h3>

<p>This function calls <code>fslview</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslview.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(fslr)
if (have.fsl()){
  print(fsl_version())
  in_ci &lt;- function() {
   nzchar(Sys.getenv("CI"))
  }
 if (!in_ci()) {
   fslview.help()
 }
}   
</code></pre>

<hr>
<h2 id='fslvol'>FSL Volume in mL (or cubic centimeters)</h2><span id='topic+fslvol'></span>

<h3>Description</h3>

<p>This function wraps <code><a href="#topic+fslsum">fslsum</a></code> and 
<code>voxdim</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslvol(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslvol_+3A_file">file</code></td>
<td>
<p>(character) filename of image to be checked</p>
</td></tr>
<tr><td><code id="fslvol_+3A_...">...</code></td>
<td>
<p>options passed to <code><a href="#topic+fslsum">fslsum</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric value of volume in mL
</p>


<h3>Note</h3>

<p>This may be approximate due to rounding
</p>

<hr>
<h2 id='fslvolume'>Image Volume</h2><span id='topic+fslvolume'></span>

<h3>Description</h3>

<p>Estimates Volume of Image from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslvolume(img, nonzero = FALSE, verbose = TRUE, ts = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslvolume_+3A_img">img</code></td>
<td>
<p>Object of class nifti, or path of file</p>
</td></tr>
<tr><td><code id="fslvolume_+3A_nonzero">nonzero</code></td>
<td>
<p>(logical) Should the statistic be taken over non-zero voxels</p>
</td></tr>
<tr><td><code id="fslvolume_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="fslvolume_+3A_ts">ts</code></td>
<td>
<p>(logical) is the series a timeseries (4D), invoking <code>-t</code> 
option</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of unless ts option invoked, then matrix
</p>


<h3>Note</h3>

<p>This uses option -v or -V in <code><a href="#topic+fslstats">fslstats</a></code>
</p>

<hr>
<h2 id='fslxor'>Perform XOR/Exclusive Or operation on Images using FSL</h2><span id='topic+fslxor'></span><span id='topic+fsl_xor'></span>

<h3>Description</h3>

<p>This function calls <code>fslmaths file -add file2 -bin</code>
after binarizing <code>file</code> and <code>file2</code> using
<code><a href="#topic+fslbin">fslbin</a></code> and then uses <code><a href="#topic+fsl_thresh">fsl_thresh</a></code> 
to threshold any values greater than 1 back to zero.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fslxor(
  file,
  file2,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  ...
)

fsl_xor(..., outfile = tempfile(fileext = ".nii.gz"), retimg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fslxor_+3A_file">file</code></td>
<td>
<p>(character) input image</p>
</td></tr>
<tr><td><code id="fslxor_+3A_file2">file2</code></td>
<td>
<p>(character) image to be XOR'd</p>
</td></tr>
<tr><td><code id="fslxor_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="fslxor_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="fslxor_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented 
when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="fslxor_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="fslxor_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>Note</h3>

<p>Functions with underscores have different defaults
and will return an output filename, so to be used for piping
</p>

<hr>
<h2 id='get_quickshear_mask'>Face Removal Mask using &quot;Quickshear Defacing for Neuroimages&quot; 
(Schimke et al. 2011)</h2><span id='topic+get_quickshear_mask'></span><span id='topic+quickshear_deface_image'></span>

<h3>Description</h3>

<p>Face Removal Mask using &quot;Quickshear Defacing for Neuroimages&quot; 
(Schimke et al. 2011)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_quickshear_mask(brain_mask, buffer = 10, verbose = TRUE)

quickshear_deface_image(
  file,
  brain_mask = NULL,
  buffer = 10,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_quickshear_mask_+3A_brain_mask">brain_mask</code></td>
<td>
<p>Brain mask image.  If <code>NULL</code>, then
<code><a href="#topic+fslbet">fslbet</a></code> will be run</p>
</td></tr>
<tr><td><code id="get_quickshear_mask_+3A_buffer">buffer</code></td>
<td>
<p>buffer to add to intercept for face mask equation</p>
</td></tr>
<tr><td><code id="get_quickshear_mask_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="get_quickshear_mask_+3A_file">file</code></td>
<td>
<p>input image - same orientation as brain mask</p>
</td></tr>
<tr><td><code id="get_quickshear_mask_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fslmask">fslmask</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A binary image of the non-face areas
</p>


<h3>Note</h3>

<p>adapted from 
<a href="https://github.com/nipy/quickshear/blob/master/quickshear.py">https://github.com/nipy/quickshear/blob/master/quickshear.py</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (have_fsl()) {
   file = "~/Downloads/sample_T1_input.nii.gz"
   if (file.exists(file)) {
       res = quickshear_deface_image(file)
       brain_mask = fslbet(file) &gt; 0
       mask = get_quickshear_mask(brain_mask)
       image = fslmask(file, mask)
   }
}

</code></pre>

<hr>
<h2 id='get.fsl'>Create command declaring FSLDIR</h2><span id='topic+get.fsl'></span><span id='topic+get_fsl'></span>

<h3>Description</h3>

<p>Finds the FSLDIR from system environment or <code>getOption("fsl.path")</code>
for location of FSL functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.fsl(add_bin = TRUE)

get_fsl(add_bin = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.fsl_+3A_add_bin">add_bin</code></td>
<td>
<p>Should <code>bin</code> be added to the fsl path? 
All executables are assumed to be in <code>FSLDIR/bin/</code>.  If not, and 
<code>add_bin = FALSE</code>, they will be assumed to be in <code>FSLDIR/</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL if FSL in path, or bash code for setting up FSL DIR
</p>


<h3>Note</h3>

<p>This will use <code>Sys.getenv("FSLDIR")</code> before <code>getOption("fsl.path")</code>.
If the directory is not found for FSL in <code>Sys.getenv("FSLDIR")</code> and 
<code>getOption("fsl.path")</code>, it will try the default directory <code>/usr/local/fsl</code>.
</p>

<hr>
<h2 id='get.fsloutput'>Determine FSL output type</h2><span id='topic+get.fsloutput'></span>

<h3>Description</h3>

<p>Finds the FSLOUTPUTTYPE from system environment or 
<code>getOption("fsl.outputtype")</code> for output type (nii.gz, nii, ANALYZE,etc)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.fsloutput()
</code></pre>


<h3>Value</h3>

<p>FSLOUTPUTTYPE, such as <code>NIFTI_GZ</code>.  If none found, uses NIFTI_GZ as default
</p>

<hr>
<h2 id='get.imgext'>Determine extension of image based on FSLOUTPUTTYPE</h2><span id='topic+get.imgext'></span>

<h3>Description</h3>

<p>Runs <code>get.fsloutput()</code> to extract FSLOUTPUTTYPE and then 
gets corresponding extension (such as .nii.gz)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.imgext()
</code></pre>


<h3>Value</h3>

<p>Extension for output type
</p>

<hr>
<h2 id='getForms'>Get Q and S Forms of orientation matrix</h2><span id='topic+getForms'></span>

<h3>Description</h3>

<p>This function obtains the s and q forms of an image transformation 
matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getForms(file, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getForms_+3A_file">file</code></td>
<td>
<p>(character) filename of image to pass to header</p>
</td></tr>
<tr><td><code id="getForms_+3A_verbose">verbose</code></td>
<td>
<p>(logical) passed to <code><a href="#topic+fslhd">fslhd</a></code></p>
</td></tr>
<tr><td><code id="getForms_+3A_...">...</code></td>
<td>
<p>options passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with elements of sform and qform and their respective codes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 mnifile = mni_fname("2")
 getForms(mnifile)
}   
</code></pre>

<hr>
<h2 id='have.fsl'>Logical check if FSL is accessible</h2><span id='topic+have.fsl'></span><span id='topic+have_fsl'></span>

<h3>Description</h3>

<p>Uses <code>get.fsl</code> to check if FSLDIR is accessible or the option
<code>fsl.path</code> is set and returns logical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>have.fsl(...)

have_fsl(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="have.fsl_+3A_...">...</code></td>
<td>
<p>options to pass to <code><a href="#topic+get.fsl">get.fsl</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical TRUE is FSL is accessible, FALSE if not
</p>


<h3>Examples</h3>

<pre><code class='language-R'>have.fsl()
</code></pre>

<hr>
<h2 id='intent_code-methods'>Extract Image intent_code attribute</h2><span id='topic+intent_code-methods'></span><span id='topic+intent_code+2Ccharacter-method'></span>

<h3>Description</h3>

<p>intent_code method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
intent_code(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intent_code-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='intent_name-methods'>Extract Image intent_name attribute</h2><span id='topic+intent_name-methods'></span><span id='topic+intent_name+2Ccharacter-method'></span>

<h3>Description</h3>

<p>intent_name method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
intent_name(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intent_name-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='intent_p1-methods'>Extract Image intent_p1 attribute</h2><span id='topic+intent_p1-methods'></span><span id='topic+intent_p1+2Ccharacter-method'></span>

<h3>Description</h3>

<p>intent_p1 method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
intent_p1(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intent_p1-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='intent_p2-methods'>Extract Image intent_p2 attribute</h2><span id='topic+intent_p2-methods'></span><span id='topic+intent_p2+2Ccharacter-method'></span>

<h3>Description</h3>

<p>intent_p2 method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
intent_p2(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intent_p2-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='intent_p3-methods'>Extract Image intent_p3 attribute</h2><span id='topic+intent_p3-methods'></span><span id='topic+intent_p3+2Ccharacter-method'></span>

<h3>Description</h3>

<p>intent_p3 method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
intent_p3(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intent_p3-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='invert_xfm'>Convert a Transformation</h2><span id='topic+invert_xfm'></span><span id='topic+concat_xfm'></span><span id='topic+fixscaleskew_xfm'></span>

<h3>Description</h3>

<p>Convert a Transformation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>invert_xfm(inmat, omat = tempfile(fileext = ".mat"), verbose = TRUE)

concat_xfm(inmat, inmat2, omat = tempfile(fileext = ".mat"), verbose = TRUE)

fixscaleskew_xfm(
  inmat,
  inmat2,
  omat = tempfile(fileext = ".mat"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="invert_xfm_+3A_inmat">inmat</code></td>
<td>
<p>input matrix transformation</p>
</td></tr>
<tr><td><code id="invert_xfm_+3A_omat">omat</code></td>
<td>
<p>output matrix transformation</p>
</td></tr>
<tr><td><code id="invert_xfm_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="invert_xfm_+3A_inmat2">inmat2</code></td>
<td>
<p>second matrix filename to be concatenated or fixscaleskew
to first</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A filename of the output matrix file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) {
img = mni_fname()
mat = fslreorient2std_mat(img)
inverted = invert_xfm(mat)
readLines(inverted)
catted = concat_xfm(mat, mat)
readLines(catted)
fixed = fixscaleskew_xfm(mat, mat)
readLines(fixed)

}
</code></pre>

<hr>
<h2 id='magic-methods'>Extract Image magic attribute</h2><span id='topic+magic-methods'></span><span id='topic+magic+2Ccharacter-method'></span>

<h3>Description</h3>

<p>magic method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
magic(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="magic-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='mcflirt'>FSL Motion Correction</h2><span id='topic+mcflirt'></span>

<h3>Description</h3>

<p>This function calls <code>mcflirt</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcflirt(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcflirt_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="mcflirt_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="mcflirt_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="mcflirt_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If <code>retimg</code>, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="mcflirt_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="mcflirt_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>mcflirt</code>.  Cannot use 
<code>-o</code> or <code>-verbose</code>, as output file should be specified in <code>outfile</code>.</p>
</td></tr>
<tr><td><code id="mcflirt_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="mcflirt_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>readnii</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
it will have additional attributes in the <code>additional_files</code> field.
</p>

<hr>
<h2 id='mcflirt.help'>MCFLIRT help</h2><span id='topic+mcflirt.help'></span>

<h3>Description</h3>

<p>This function calls <code>mcflirt</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcflirt.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(fslr)
if (have.fsl()){
 mcflirt.help()
} 
</code></pre>

<hr>
<h2 id='melodic'>Run MELODIC ICA</h2><span id='topic+melodic'></span>

<h3>Description</h3>

<p>This function calls <code>melodic</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>melodic(
  file,
  outdir = dirname(file),
  intern = FALSE,
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="melodic_+3A_file">file</code></td>
<td>
<p>(character) image to be run</p>
</td></tr>
<tr><td><code id="melodic_+3A_outdir">outdir</code></td>
<td>
<p>(character) output directory. 
(Default <code>dirname(file)</code>)</p>
</td></tr>
<tr><td><code id="melodic_+3A_intern">intern</code></td>
<td>
<p>(logical) pass to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="melodic_+3A_opts">opts</code></td>
<td>
<p>(character) options for melodic</p>
</td></tr>
<tr><td><code id="melodic_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="melodic_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>checkimg</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character or logical depending on intern
</p>

<hr>
<h2 id='melodic.help'>MELODIC help</h2><span id='topic+melodic.help'></span>

<h3>Description</h3>

<p>This function calls <code>melodic</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>melodic.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
 melodic.help()
} 
</code></pre>

<hr>
<h2 id='mid_sagittal_align'>Mid-Sagittal Plane Alignment</h2><span id='topic+mid_sagittal_align'></span>

<h3>Description</h3>

<p>This function takes in an image, flips the image over the
left/right plane, registers that flipped image to the original image,
then applies the half transformation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mid_sagittal_align(
  file,
  outfile = NULL,
  retimg = TRUE,
  opts = "",
  translation = TRUE,
  force_rpi = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mid_sagittal_align_+3A_file">file</code></td>
<td>
<p>(character) input filename or class nifti</p>
</td></tr>
<tr><td><code id="mid_sagittal_align_+3A_outfile">outfile</code></td>
<td>
<p>(character) output filename</p>
</td></tr>
<tr><td><code id="mid_sagittal_align_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="mid_sagittal_align_+3A_opts">opts</code></td>
<td>
<p>(character) options passed to <code><a href="#topic+flirt">flirt</a></code></p>
</td></tr>
<tr><td><code id="mid_sagittal_align_+3A_translation">translation</code></td>
<td>
<p>(logical) should the translation parameters be
preserved (TRUE) or set to zero (FALSE)</p>
</td></tr>
<tr><td><code id="mid_sagittal_align_+3A_force_rpi">force_rpi</code></td>
<td>
<p>Should <code><a href="#topic+rpi_orient_file">rpi_orient_file</a></code> be
run?</p>
</td></tr>
<tr><td><code id="mid_sagittal_align_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Filename of output or nifti depending on <code>retimg</code>
</p>

<hr>
<h2 id='mni_fname'>Construct MNI Filename</h2><span id='topic+mni_fname'></span><span id='topic+mni_face_fname'></span>

<h3>Description</h3>

<p>Finds the standard data directory for FSL and pastes together
the string for an MNI template image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mni_fname(mm = c("1", "0.5", "2"), brain = FALSE, linear = FALSE, mask = FALSE)

mni_face_fname(mm = c("1", "0.5", "2"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mni_fname_+3A_mm">mm</code></td>
<td>
<p>Resolution (in mm) of the brain image (isotropic)</p>
</td></tr>
<tr><td><code id="mni_fname_+3A_brain">brain</code></td>
<td>
<p>Should the brain be returned (default) or the T1 with the skull</p>
</td></tr>
<tr><td><code id="mni_fname_+3A_linear">linear</code></td>
<td>
<p>Should the linearized MNI template be used</p>
</td></tr>
<tr><td><code id="mni_fname_+3A_mask">mask</code></td>
<td>
<p>should the mask be given?  Generally, only
MNI152_T1_1mm_brain_mask exists.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character path of filename, warning if that file does not exist
</p>

<hr>
<h2 id='mni_img'>Read MNI Filename</h2><span id='topic+mni_img'></span>

<h3>Description</h3>

<p>Simple wrapper for reading in the MNI image constructed from 
<code><a href="#topic+mni_fname">mni_fname</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mni_img(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mni_img_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="#topic+mni_fname">mni_fname</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>nifti</code>
</p>

<hr>
<h2 id='mridefacer'>MRI Defacer</h2><span id='topic+mridefacer'></span><span id='topic+get_mridefacer_mask'></span>

<h3>Description</h3>

<p>MRI Defacer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mridefacer(file, ..., verbose = TRUE)

get_mridefacer_mask(
  file,
  brain_mask = NULL,
  bet_opts = "-f 0.5",
  search_radius = 90,
  opts = NULL,
  template_brain = NULL,
  template_brain_weight = NULL,
  template_biometric_mask = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mridefacer_+3A_file">file</code></td>
<td>
<p>input file image to remove face/ears</p>
</td></tr>
<tr><td><code id="mridefacer_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="mridefacer_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages.  If <code>&gt; 1</code>, more verbose</p>
</td></tr>
<tr><td><code id="mridefacer_+3A_brain_mask">brain_mask</code></td>
<td>
<p>brain mask of file.  If <code>NULL</code>, <code><a href="#topic+fslbet">fslbet</a></code>
will be applied</p>
</td></tr>
<tr><td><code id="mridefacer_+3A_bet_opts">bet_opts</code></td>
<td>
<p>options to pass to  <code><a href="#topic+fslbet">fslbet</a></code> if applied</p>
</td></tr>
<tr><td><code id="mridefacer_+3A_search_radius">search_radius</code></td>
<td>
<p>search radius option to pass to <code><a href="#topic+flirt">flirt</a></code></p>
</td></tr>
<tr><td><code id="mridefacer_+3A_opts">opts</code></td>
<td>
<p>additional options to pass to <code><a href="#topic+flirt">flirt</a></code></p>
</td></tr>
<tr><td><code id="mridefacer_+3A_template_brain">template_brain</code></td>
<td>
<p>template brain image, may be <code>NULL</code></p>
</td></tr>
<tr><td><code id="mridefacer_+3A_template_brain_weight">template_brain_weight</code></td>
<td>
<p>template brain weight image, used
for registration may be <code>NULL</code></p>
</td></tr>
<tr><td><code id="mridefacer_+3A_template_biometric_mask">template_biometric_mask</code></td>
<td>
<p>template biometric mask.  Everything that 
is wanted should be <code>1</code>,  may be <code>NULL</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character filename of the output image
</p>


<h3>Note</h3>

<p>Adapted from 
<a href="https://github.com/mih/mridefacer">https://github.com/mih/mridefacer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (have_fsl()) {
file = "~/Downloads/sample_T1_input.nii.gz"
if (file.exists(file)) {
    res = mridefacer(file)
}
}
</code></pre>

<hr>
<h2 id='parse_avscale'>Parse output from <code>avscale</code></h2><span id='topic+parse_avscale'></span>

<h3>Description</h3>

<p>This function parses the output from 
<code><a href="#topic+fsl_avscale">fsl_avscale</a></code> into something more manageable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_avscale(av_out)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_avscale_+3A_av_out">av_out</code></td>
<td>
<p>output from <code><a href="#topic+fsl_avscale">fsl_avscale</a></code>, character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of output values
</p>

<hr>
<h2 id='pixdim-methods'>Extract Image pixdim attribute</h2><span id='topic+pixdim-methods'></span><span id='topic+pixdim+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Gets pixdim from a character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
pixdim(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pixdim-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='probtrackx'>Probabilistic diffusion tractography with multiple fibre orientations</h2><span id='topic+probtrackx'></span>

<h3>Description</h3>

<p>This function wraps <code>probtrackx</code> from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>probtrackx(
  samples = "merged",
  mask,
  seed,
  outdir = "fdt_paths",
  verbose = TRUE,
  mode = NULL,
  targetmasks = NULL,
  mask2 = NULL,
  waypoints = NULL,
  network = FALSE,
  mesh = NULL,
  seedref = NULL,
  dir = FALSE,
  forcedir = FALSE,
  opd = FALSE,
  pd = FALSE,
  os2t = FALSE,
  avoid = NULL,
  stop = NULL,
  xfm = NULL,
  invxfm = NULL,
  nsamples = 5000,
  nsteps = 2000,
  distthresh = 0,
  cthr = 0.2,
  fibthresh = 0.01,
  sampvox = FALSE,
  steplength = 0.5,
  loopcheck = FALSE,
  usef = FALSE,
  randfib = c(0, 1, 2, 3),
  fibst = 1,
  modeuler = FALSE,
  rseed = NULL,
  s2tastext = FALSE,
  opts = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="probtrackx_+3A_samples">samples</code></td>
<td>
<p>(nifti/character) Basename for samples files</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_mask">mask</code></td>
<td>
<p>(nifti/character) Bet binary mask file in diffusion space</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_seed">seed</code></td>
<td>
<p>(nifti/character) Seed volume, or voxel, or ascii file with multiple volumes, or freesurfer label file</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_outdir">outdir</code></td>
<td>
<p>(character) Output file (default='fdt_paths')</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_verbose">verbose</code></td>
<td>
<p>(logical/numeric) Verbose level, [0-2]</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_mode">mode</code></td>
<td>
<p>(character) Use &ndash;mode=simple for single seed voxel</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_targetmasks">targetmasks</code></td>
<td>
<p>(character) File containing a list of target masks - required for seeds_to_targets classification</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_mask2">mask2</code></td>
<td>
<p>(nifti/character) Second mask in twomask_symm mode.</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_waypoints">waypoints</code></td>
<td>
<p>(nifti/character) Waypoint mask or ascii list of waypoint masks - only keep paths going through ALL the masks</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_network">network</code></td>
<td>
<p>(logical) Activate network mode - only keep paths going through at least one seed mask (required if multiple seed masks)</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_mesh">mesh</code></td>
<td>
<p>(character) Freesurfer-type surface descriptor (in ascii format)</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_seedref">seedref</code></td>
<td>
<p>(nifti/character) Reference vol to define seed space in simple mode - diffusion space assumed if absent</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_dir">dir</code></td>
<td>
<p>(logical) Directory to put the final volumes in - code makes this directory - default='logdir'</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_forcedir">forcedir</code></td>
<td>
<p>(logical) Use the actual directory name given - i.e. don't add + to make a new directory</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_opd">opd</code></td>
<td>
<p>(logical) Output path distribution</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_pd">pd</code></td>
<td>
<p>(logical) Correct path distribution for the length of the pathways</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_os2t">os2t</code></td>
<td>
<p>(logical) Output seeds to targets</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_avoid">avoid</code></td>
<td>
<p>(nifti/character) Reject pathways passing through locations given by this mask</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_stop">stop</code></td>
<td>
<p>(nifti/character) Stop tracking at locations given by this mask file</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_xfm">xfm</code></td>
<td>
<p>(character) Transform taking seed space to DTI space (either FLIRT matrix or FNIRT warpfield) - default is identity</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_invxfm">invxfm</code></td>
<td>
<p>(character) Transform taking DTI space to seed space (compulsory when using a warpfield for seeds_to_dti)</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_nsamples">nsamples</code></td>
<td>
<p>(numeric) Number of samples - default=5000</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_nsteps">nsteps</code></td>
<td>
<p>(numeric) Number of steps per sample - default=2000</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_distthresh">distthresh</code></td>
<td>
<p>(numeric) Discards samples shorter than this threshold (in mm - default=0)</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_cthr">cthr</code></td>
<td>
<p>(numeric) Curvature threshold - default=0.2</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_fibthresh">fibthresh</code></td>
<td>
<p>(numeric) Volume fraction before subsidiary fibre orientations are considered - default=0.01</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_sampvox">sampvox</code></td>
<td>
<p>(logical) Sample random points within seed voxels</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_steplength">steplength</code></td>
<td>
<p>(numeric) Steplength in mm - default=0.5</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_loopcheck">loopcheck</code></td>
<td>
<p>(logical) Perform loopchecks on paths - slower, but allows lower curvature threshold</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_usef">usef</code></td>
<td>
<p>(logical) Use anisotropy to constrain tracking</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_randfib">randfib</code></td>
<td>
<p>(numeric) Default 0. Set to 1 to randomly sample initial fibres (with f &gt; fibthresh). Set to 2 to sample in proportion fibres (with f&gt;fibthresh) to f. Set to 3 to sample ALL populations at random (even if f&lt;fibthresh)</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_fibst">fibst</code></td>
<td>
<p>(numeric) Force a starting fibre for tracking - default=1, i.e. first fibre orientation. Only works if randfib==0</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_modeuler">modeuler</code></td>
<td>
<p>(logical) Use modified euler streamlining</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_rseed">rseed</code></td>
<td>
<p>(numeric) Random seed</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_s2tastext">s2tastext</code></td>
<td>
<p>(logical) Output seed-to-target counts as a text file (useful when seeding from a mesh)</p>
</td></tr>
<tr><td><code id="probtrackx_+3A_opts">opts</code></td>
<td>
<p>Additional options or way to specify things instead of command
line arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A filename of the output file
</p>

<hr>
<h2 id='qform_code-methods'>Extract Image qform_code attribute</h2><span id='topic+qform_code-methods'></span><span id='topic+qform_code+2Ccharacter-method'></span>

<h3>Description</h3>

<p>qform_code method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
qform_code(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qform_code-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='qform+2Ccharacter-method'>Extract NIfTI 3D Image Orientation</h2><span id='topic+qform+2Ccharacter-method'></span><span id='topic+qform+2Ccharacter'></span><span id='topic+sform+2Ccharacter-method'></span><span id='topic+sform+2Ccharacter'></span>

<h3>Description</h3>

<p>Gets q/s-forms from a character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
qform(object)

## S4 method for signature 'character'
sform(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qform+2B2Ccharacter-method_+3A_object">object</code></td>
<td>
<p>is a <code>nifti</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='read_xfm'>Read FSL Transformation</h2><span id='topic+read_xfm'></span>

<h3>Description</h3>

<p>Read FSL Transformation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_xfm(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_xfm_+3A_file">file</code></td>
<td>
<p>transformation file from <code><a href="#topic+flirt">flirt</a></code>,
usually ending in '.mat'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric matrix of numeric class
</p>

<hr>
<h2 id='readrpi'>Read NIfTI file reoriented to RPI</h2><span id='topic+readrpi'></span>

<h3>Description</h3>

<p>This function calls the <code>readnii</code> function after
calling <code><a href="#topic+rpi_orient_file">rpi_orient_file</a></code> to force RPI orientation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readrpi(file, ..., verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readrpi_+3A_file">file</code></td>
<td>
<p>file name of the NIfTI file.</p>
</td></tr>
<tr><td><code id="readrpi_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <code>readnii</code></p>
</td></tr>
<tr><td><code id="readrpi_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostics, passed to <code><a href="#topic+rpi_orient_file">rpi_orient_file</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (have.fsl()){
print(fsl_version())
in_ci &lt;- function() {
 nzchar(Sys.getenv("CI"))
 }
 if (in_ci()) {
 destfile = tempfile(fileext = ".nii.gz")
 url = paste0("https://ndownloader.figshare.com/", 
 "files/18068546")
 old_url = paste0("https://github.com/muschellij2/", 
 "Neurohacking/files/3454385/113-01-MPRAGE2.nii.gz")
 dl = tryCatch(download.file(url,
 destfile = destfile))
 if (inherits(dl, "try-error") || dl != 0) {
 dl = download.file(old_url, destfile = destfile)
 }
 res = readrpi(destfile)
 }
 }   
</code></pre>

<hr>
<h2 id='reverse_rpi_orient'>Reverse Reorientation an Image to RPI orientation</h2><span id='topic+reverse_rpi_orient'></span><span id='topic+reverse_rpi_orient_file'></span>

<h3>Description</h3>

<p>This function uses <code>fslswapdim</code> to reorient an image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_rpi_orient(
  file,
  convention = c("NEUROLOGICAL", "RADIOLOGICAL"),
  orientation,
  verbose = TRUE
)

reverse_rpi_orient_file(
  file,
  convention = c("NEUROLOGICAL", "RADIOLOGICAL"),
  orientation,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_rpi_orient_+3A_file">file</code></td>
<td>
<p>Object of class <code>nifti</code> or character path</p>
</td></tr>
<tr><td><code id="reverse_rpi_orient_+3A_convention">convention</code></td>
<td>
<p>Convention of original image (usually from <code><a href="#topic+rpi_orient">rpi_orient</a></code>)</p>
</td></tr>
<tr><td><code id="reverse_rpi_orient_+3A_orientation">orientation</code></td>
<td>
<p>Vector of length 3 from original image 
(usually from <code><a href="#topic+rpi_orient">rpi_orient</a></code>)</p>
</td></tr>
<tr><td><code id="reverse_rpi_orient_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>nifti</code>
</p>

<hr>
<h2 id='rpi_orient'>Reorient an Image to RPI orientation</h2><span id='topic+rpi_orient'></span><span id='topic+rpi_orient_file'></span><span id='topic+is_rpi'></span><span id='topic+is.rpi'></span>

<h3>Description</h3>

<p>This function uses <code>fslswapdim</code> to reorient an image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpi_orient(file, verbose = TRUE)

rpi_orient_file(file, verbose = TRUE)

is_rpi(file, verbose = FALSE)

is.rpi(file, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rpi_orient_+3A_file">file</code></td>
<td>
<p>Object of class <code>nifti</code> or character path</p>
</td></tr>
<tr><td><code id="rpi_orient_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of 3 elements
</p>

<ul>
<li><p><code>img</code>: Reoriented image of class <code>nifti</code>
</p>
</li>
<li><p><code>convention</code>: Convention (Neurological/Radiological) of original image
</p>
</li>
<li><p><code>orientation</code>: Original image orientations
</p>
</li></ul>



<h3>Note</h3>

<p>'orient_rpi' and 'orient_rpi_file' uses 'RNifti' to ensure the 
reading orientation
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lr_fname = system.file( "nifti", "mniLR.nii.gz", package = "oro.nifti")
img = readnii(lr_fname)

rl_fname = system.file( "nifti", "mniRL.nii.gz", package = "oro.nifti")
rl_img = readnii(rl_fname)
stopifnot(all(rl_img[nrow(rl_img):1,,] == img))

## Not run: 
if (have_fsl()) {


reor = rpi_orient(rl_fname)
rev = reverse_rpi_orient(reor$img, convention = reor$convention,
orientation = reor$orientation)
stopifnot(all(rev == rl_img))
}

## End(Not run)


reor = orient_rpi(rl_fname)
stopifnot(all(img == reor$img))

rev = reverse_orient_rpi(reor$img, convention = reor$convention,
orientation = reor$orientation)
stopifnot(all(rev == rl_img))
</code></pre>

<hr>
<h2 id='run_first_all'>Run FIRST All</h2><span id='topic+run_first_all'></span>

<h3>Description</h3>

<p>Wrapper for <code>run_first_all</code> from FSL for FIRST analysis 
segmentation of subcortical structures
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_first_all(
  img,
  oprefix = tempfile(),
  brain_extracted = FALSE,
  structures = NULL,
  affine = NULL,
  opts = "",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_first_all_+3A_img">img</code></td>
<td>
<p>specifies the input image (T1-weighted)</p>
</td></tr>
<tr><td><code id="run_first_all_+3A_oprefix">oprefix</code></td>
<td>
<p>specifies the output image basename (extensions will be added to this)</p>
</td></tr>
<tr><td><code id="run_first_all_+3A_brain_extracted">brain_extracted</code></td>
<td>
<p>specifies that the input image has been brain extracted</p>
</td></tr>
<tr><td><code id="run_first_all_+3A_structures">structures</code></td>
<td>
<p>a restricted set of structures to be segmented</p>
</td></tr>
<tr><td><code id="run_first_all_+3A_affine">affine</code></td>
<td>
<p>specifies the affine registration matrix to standard space (optional)</p>
</td></tr>
<tr><td><code id="run_first_all_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>run_first_all</code></p>
</td></tr>
<tr><td><code id="run_first_all_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of results, including result of <code><a href="base.html#topic+system">system</a></code>
and some output files
</p>

<hr>
<h2 id='run_first_all.help'>Run FIRST All Help</h2><span id='topic+run_first_all.help'></span>

<h3>Description</h3>

<p>This function calls <code>run_first_all</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_first_all.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(fslr)

if (have.fsl()){
 run_first_all.help() 
}
</code></pre>

<hr>
<h2 id='scl_inter-methods'>Extract Image scl_inter attribute</h2><span id='topic+scl_inter-methods'></span><span id='topic+scl_inter+2Ccharacter-method'></span>

<h3>Description</h3>

<p>scl_inter method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
scl_inter(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scl_inter-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='scl_slope-methods'>Extract Image scl_slope attribute</h2><span id='topic+scl_slope-methods'></span><span id='topic+scl_slope+2Ccharacter-method'></span>

<h3>Description</h3>

<p>scl_slope method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
scl_slope(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scl_slope-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='sform_code-methods'>Extract Image sform_code attribute</h2><span id='topic+sform_code-methods'></span><span id='topic+sform_code+2Ccharacter-method'></span>

<h3>Description</h3>

<p>sform_code method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
sform_code(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sform_code-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='sizeof_hdr-methods'>Extract Image sizeof_hdr attribute</h2><span id='topic+sizeof_hdr-methods'></span><span id='topic+sizeof_hdr+2Ccharacter-method'></span>

<h3>Description</h3>

<p>'sizeof_hdr' method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
sizeof_hdr(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sizeof_hdr-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='slice_code-methods'>Extract Image slice_code attribute</h2><span id='topic+slice_code-methods'></span><span id='topic+slice_code+2Ccharacter-method'></span>

<h3>Description</h3>

<p>slice_code method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
slice_code(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice_code-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='slice_duration-methods'>Extract Image slice_duration attribute</h2><span id='topic+slice_duration-methods'></span><span id='topic+slice_duration+2Ccharacter-method'></span>

<h3>Description</h3>

<p>slice_duration method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
slice_duration(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice_duration-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='slice_end-methods'>Extract Image slice_end attribute</h2><span id='topic+slice_end-methods'></span><span id='topic+slice_end+2Ccharacter-method'></span>

<h3>Description</h3>

<p>slice_end method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
slice_end(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice_end-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='slice_start-methods'>Extract Image slice_start attribute</h2><span id='topic+slice_start-methods'></span><span id='topic+slice_start+2Ccharacter-method'></span>

<h3>Description</h3>

<p>slice_start method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
slice_start(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice_start-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='susan'>FSL SUSAN noise reduction</h2><span id='topic+susan'></span>

<h3>Description</h3>

<p>Implements Smallest Univalue Segment Assimilating Nucleus 
(SUSAN) noise reduction technique from FSL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>susan(
  file,
  outfile = NULL,
  retimg = TRUE,
  reorient = FALSE,
  intern = FALSE,
  bthresh = 0.1,
  sigma = 3,
  dimg = c(3, 2),
  use_median = FALSE,
  n_usans = c(0, 1, 2),
  extra.scans = list(),
  opts = "",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="susan_+3A_file">file</code></td>
<td>
<p>(character) image to be manipulated</p>
</td></tr>
<tr><td><code id="susan_+3A_outfile">outfile</code></td>
<td>
<p>(character) resultant image name (optional)</p>
</td></tr>
<tr><td><code id="susan_+3A_retimg">retimg</code></td>
<td>
<p>(logical) return image of class nifti</p>
</td></tr>
<tr><td><code id="susan_+3A_reorient">reorient</code></td>
<td>
<p>(logical) If retimg, should file be reoriented when read in?
Passed to <code>readnii</code>.</p>
</td></tr>
<tr><td><code id="susan_+3A_intern">intern</code></td>
<td>
<p>(logical) to be passed to <code><a href="base.html#topic+system">system</a></code></p>
</td></tr>
<tr><td><code id="susan_+3A_bthresh">bthresh</code></td>
<td>
<p>brightness threshold and should be greater than noise level and less than contrast of edges to be preserved.</p>
</td></tr>
<tr><td><code id="susan_+3A_sigma">sigma</code></td>
<td>
<p>spatial size (sigma i.e. half-width) of smoothing in mm.</p>
</td></tr>
<tr><td><code id="susan_+3A_dimg">dimg</code></td>
<td>
<p>dimensionality (2 or 3) depending on whether smoothing is to be within-plane (2) or fully 3D (3).</p>
</td></tr>
<tr><td><code id="susan_+3A_use_median">use_median</code></td>
<td>
<p>determines whether to use a local median filter in the cases where single-point noise is detected (0 or 1).</p>
</td></tr>
<tr><td><code id="susan_+3A_n_usans">n_usans</code></td>
<td>
<p>determines whether the smoothing area (USAN) is to be found from secondary images (0 1 or 2).</p>
</td></tr>
<tr><td><code id="susan_+3A_extra.scans">extra.scans</code></td>
<td>
<p>List of extra scans for USAN.  List of 
<code>n_usans</code> elements, where each element has 2 named objects
<code>bthresh</code> and <code>filename</code></p>
</td></tr>
<tr><td><code id="susan_+3A_opts">opts</code></td>
<td>
<p>(character) operations to be passed to <code>susan</code>, not 
currently used.</p>
</td></tr>
<tr><td><code id="susan_+3A_verbose">verbose</code></td>
<td>
<p>(logical) print out command before running</p>
</td></tr>
<tr><td><code id="susan_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+fslcmd">fslcmd</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>retimg</code> then object of class nifti.  Otherwise,
Result from system command, depends if intern is TRUE or FALSE.
</p>


<h3>References</h3>

<p>S.M. Smith and J.M. Brady. SUSAN -a new approach to low level image processing. 
International Journal of Computer Vision, 23(1):45-78, May 1997.
</p>

<hr>
<h2 id='susan.help'>FSL SUSAN Help</h2><span id='topic+susan.help'></span>

<h3>Description</h3>

<p>This function calls <code>susan</code>'s help
</p>


<h3>Usage</h3>

<pre><code class='language-R'>susan.help()
</code></pre>


<h3>Value</h3>

<p>Prints help output and returns output as character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(fslr)
if (have.fsl()){
 susan.help() 
}
</code></pre>

<hr>
<h2 id='toffset-methods'>Extract Image toffset attribute</h2><span id='topic+toffset-methods'></span><span id='topic+toffset+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Gets toffset from a character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
toffset(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toffset-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='topup'>topup - calling FSL topup</h2><span id='topic+topup'></span><span id='topic+fsl_topup'></span>

<h3>Description</h3>

<p>A tool for estimating and correcting susceptibility 
induced distortions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topup(
  infile,
  datain,
  out = NULL,
  fout = NULL,
  iout = NULL,
  logout = NULL,
  warpres = 10,
  subsamp = 1,
  fwhm = 8,
  config = NULL,
  miter = 5,
  lambda = NULL,
  ssqlambda = 1,
  regmod = c("bending_energy", "membrane_energy"),
  estmov = 1,
  minmet = c(0, 1),
  splineorder = c(3, 2),
  numprec = c("double", "float"),
  interp = c("spline", "linear"),
  scale = c(0, 1),
  regrid = c(0, 1),
  verbose = TRUE
)

fsl_topup(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topup_+3A_infile">infile</code></td>
<td>
<p>name of 4D file with images</p>
</td></tr>
<tr><td><code id="topup_+3A_datain">datain</code></td>
<td>
<p>name of text file with PE directions/times</p>
</td></tr>
<tr><td><code id="topup_+3A_out">out</code></td>
<td>
<p>base-name of output files (spline coefficients (Hz) and 
movement parameters)</p>
</td></tr>
<tr><td><code id="topup_+3A_fout">fout</code></td>
<td>
<p>name of image file with field (Hz)</p>
</td></tr>
<tr><td><code id="topup_+3A_iout">iout</code></td>
<td>
<p>name of 4D image file with unwarped images</p>
</td></tr>
<tr><td><code id="topup_+3A_logout">logout</code></td>
<td>
<p>Name of log-file</p>
</td></tr>
<tr><td><code id="topup_+3A_warpres">warpres</code></td>
<td>
<p>(approximate) resolution (in mm) of warp basis for 
the different sub-sampling levels, default 10</p>
</td></tr>
<tr><td><code id="topup_+3A_subsamp">subsamp</code></td>
<td>
<p>sub-sampling scheme, default 1</p>
</td></tr>
<tr><td><code id="topup_+3A_fwhm">fwhm</code></td>
<td>
<p>FWHM (in mm) of gaussian smoothing kernel, default 8</p>
</td></tr>
<tr><td><code id="topup_+3A_config">config</code></td>
<td>
<p>Name of config file specifying command line arguments</p>
</td></tr>
<tr><td><code id="topup_+3A_miter">miter</code></td>
<td>
<p>Max # of non-linear iterations, default 5</p>
</td></tr>
<tr><td><code id="topup_+3A_lambda">lambda</code></td>
<td>
<p>Weight of regularisation, default depending on 
<code>ssqlambda</code> and <code>regmod</code> switches. See user documentation.</p>
</td></tr>
<tr><td><code id="topup_+3A_ssqlambda">ssqlambda</code></td>
<td>
<p>If set (=1), lambda is weighted by current ssq, default 1</p>
</td></tr>
<tr><td><code id="topup_+3A_regmod">regmod</code></td>
<td>
<p>Model for regularisation of warp-field 
[membrane_energy bending_energy], default bending_energy</p>
</td></tr>
<tr><td><code id="topup_+3A_estmov">estmov</code></td>
<td>
<p>Estimate movements if set, default 1 (true)</p>
</td></tr>
<tr><td><code id="topup_+3A_minmet">minmet</code></td>
<td>
<p>Minimisation method 0=Levenberg-Marquardt, 1=Scaled 
Conjugate Gradient, default 0 (LM)</p>
</td></tr>
<tr><td><code id="topup_+3A_splineorder">splineorder</code></td>
<td>
<p>Order of spline, 2-&gt;Qadratic spline, 3-&gt;Cubic 
spline. Default=3</p>
</td></tr>
<tr><td><code id="topup_+3A_numprec">numprec</code></td>
<td>
<p>Precision for representing Hessian, double or float. 
Default double</p>
</td></tr>
<tr><td><code id="topup_+3A_interp">interp</code></td>
<td>
<p>Image interpolation model, linear or spline. Default spline</p>
</td></tr>
<tr><td><code id="topup_+3A_scale">scale</code></td>
<td>
<p>If set (=1), the images are individually scaled to a 
common mean, default 0 (false)</p>
</td></tr>
<tr><td><code id="topup_+3A_regrid">regrid</code></td>
<td>
<p>If set (=1), the calculations are done in a different 
grid, default 1 (true)</p>
</td></tr>
<tr><td><code id="topup_+3A_verbose">verbose</code></td>
<td>
<p>Print diagnostic information while running</p>
</td></tr>
<tr><td><code id="topup_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>topup</code> if using <code>fsl_topup</code></p>
</td></tr>
</table>

<hr>
<h2 id='vox_offset-methods'>Extract Image vox_offset attribute</h2><span id='topic+vox_offset-methods'></span><span id='topic+vox_offset+2Ccharacter-method'></span>

<h3>Description</h3>

<p>vox_offset method for character types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character'
vox_offset(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vox_offset-methods_+3A_object">object</code></td>
<td>
<p>is a filename to pass to <a href="#topic+fslval">fslval</a></p>
</td></tr>
</table>

<hr>
<h2 id='xfibres'>Bayesian Estimation of Diffusion Parameters 
Obtained using Sampling Techniques with Crossing Fibers</h2><span id='topic+xfibres'></span><span id='topic+bedpostx'></span>

<h3>Description</h3>

<p>Calls <code>xfibres</code> from FSL to fit, also known as
<code>bedpostx</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xfibres(
  infile,
  bvecs,
  bvals,
  mask = NULL,
  nfibres = 1,
  bet.opts = "",
  verbose = TRUE,
  njumps = NULL,
  burnin = NULL,
  burnin_noard = NULL,
  sampleevery = NULL,
  updateproposalevery = NULL,
  seed = NULL,
  noard = FALSE,
  allard = FALSE,
  nospat = FALSE,
  nonlinear = FALSE,
  cnonlinear = FALSE,
  rician = FALSE,
  f0 = FALSE,
  ardf0 = FALSE,
  opts = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xfibres_+3A_infile">infile</code></td>
<td>
<p>Input filename</p>
</td></tr>
<tr><td><code id="xfibres_+3A_bvecs">bvecs</code></td>
<td>
<p>b-vectors: matrix of 3 columns or 
filename of ASCII text file</p>
</td></tr>
<tr><td><code id="xfibres_+3A_bvals">bvals</code></td>
<td>
<p>b-values: vector of same length as number of rows of 
b-vectors or filename of ASCII text file</p>
</td></tr>
<tr><td><code id="xfibres_+3A_mask">mask</code></td>
<td>
<p>Mask filename</p>
</td></tr>
<tr><td><code id="xfibres_+3A_nfibres">nfibres</code></td>
<td>
<p>Maximum number of fibres to fit in each voxel (default 1)</p>
</td></tr>
<tr><td><code id="xfibres_+3A_bet.opts">bet.opts</code></td>
<td>
<p>Options for <code><a href="#topic+fslbet">fslbet</a></code> if mask is not supplied</p>
</td></tr>
<tr><td><code id="xfibres_+3A_verbose">verbose</code></td>
<td>
<p>print diagnostic messages</p>
</td></tr>
<tr><td><code id="xfibres_+3A_njumps">njumps</code></td>
<td>
<p>num of jumps to be made by MCMC (default is 5000)</p>
</td></tr>
<tr><td><code id="xfibres_+3A_burnin">burnin</code></td>
<td>
<p>Total num of jumps at start of MCMC to be discarded (default is 0)</p>
</td></tr>
<tr><td><code id="xfibres_+3A_burnin_noard">burnin_noard</code></td>
<td>
<p>num of burnin jumps before the ard is imposed (default is 0)</p>
</td></tr>
<tr><td><code id="xfibres_+3A_sampleevery">sampleevery</code></td>
<td>
<p>num of jumps for each sample (MCMC) (default is 1)</p>
</td></tr>
<tr><td><code id="xfibres_+3A_updateproposalevery">updateproposalevery</code></td>
<td>
<p>num of jumps for each update to the proposal density std (MCMC) (default is 40)</p>
</td></tr>
<tr><td><code id="xfibres_+3A_seed">seed</code></td>
<td>
<p>for pseudo random number generator</p>
</td></tr>
<tr><td><code id="xfibres_+3A_noard">noard</code></td>
<td>
<p>Turn ARD off on all fibres</p>
</td></tr>
<tr><td><code id="xfibres_+3A_allard">allard</code></td>
<td>
<p>Turn ARD on on all fibres</p>
</td></tr>
<tr><td><code id="xfibres_+3A_nospat">nospat</code></td>
<td>
<p>Initialise with tensor, not spatially</p>
</td></tr>
<tr><td><code id="xfibres_+3A_nonlinear">nonlinear</code></td>
<td>
<p>Initialise with nonlinear fitting</p>
</td></tr>
<tr><td><code id="xfibres_+3A_cnonlinear">cnonlinear</code></td>
<td>
<p>Initialise with constrained nonlinear fitting</p>
</td></tr>
<tr><td><code id="xfibres_+3A_rician">rician</code></td>
<td>
<p>Use Rician noise modelling</p>
</td></tr>
<tr><td><code id="xfibres_+3A_f0">f0</code></td>
<td>
<p>Add to the model an unattenuated signal compartment</p>
</td></tr>
<tr><td><code id="xfibres_+3A_ardf0">ardf0</code></td>
<td>
<p>Use ard on f0</p>
</td></tr>
<tr><td><code id="xfibres_+3A_opts">opts</code></td>
<td>
<p>Additional options for <code>xfibres</code>.
There should not be any left out in the current arguments, but 
<code>opts</code> may be a way some prefer to input options.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output from <code><a href="base.html#topic+system">system</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

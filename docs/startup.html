<!DOCTYPE html><html lang="en"><head><title>Help for package startup</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {startup}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check'><p>Check for and fix common mistakes in .Rprofile</p></a></li>
<li><a href='#current_script'><p>Gets the pathname of the currently running startup script</p></a></li>
<li><a href='#find_rprofile'><p>Locates the .Rprofile and .Renviron files used during the startup of R</p></a></li>
<li><a href='#find_rprofile_d'><p>Locates the .Rprofile.d and .Renviron.d directories used during the</p>
startup of R</a></li>
<li><a href='#install'><p>Install and uninstall support for .Renviron.d and .Rprofile.d startup</p>
directories</a></li>
<li><a href='#is_ark'><p>Checks if running R via Ark (An R Kernel)</p></a></li>
<li><a href='#is_debug_on'><p>Checks whether startup debug is on or not</p></a></li>
<li><a href='#is_ess'><p>Check if running R via Emacs Speaks Statistics (ESS)</p></a></li>
<li><a href='#is_jupyter'><p>Checks if running R via Jupyter</p></a></li>
<li><a href='#is_microsoftr'><p>Check if running R via Microsoft R Open</p></a></li>
<li><a href='#is_positron'><p>Checks if running R via Positron</p></a></li>
<li><a href='#is_pqr'><p>Check if running a Pretty Quick Version of R (pqR)</p></a></li>
<li><a href='#is_radian'><p>Check if running R via radian (formerly known as rtichoke and rice)</p></a></li>
<li><a href='#is_rstudio_console'><p>Checks if running R in RStudio Console or RStudio Terminal</p></a></li>
<li><a href='#is_vscode'><p>Checks if running R via Visual Studio Code (VSCode)</p></a></li>
<li><a href='#is_webr'><p>Checks if running R via webR</p></a></li>
<li><a href='#is_wine'><p>Check if running R on Windows using Wine</p></a></li>
<li><a href='#on_session_enter'><p>Register functions to be evaluated at the beginning or end of the R session</p></a></li>
<li><a href='#renviron_d'><p>Load .Renviron.d and .Rprofile.d directories during the R startup process</p></a></li>
<li><a href='#reset_when_cache'><p>Reset all or parts of the &quot;when&quot; cache</p></a></li>
<li><a href='#restart'><p>Restarts R</p></a></li>
<li><a href='#startup_session_options'><p>Record R session information as options</p></a></li>
<li><a href='#startup.options'><p>Options and environment variables used by the 'startup' package</p></a></li>
<li><a href='#sysinfo'><p>Information on the current R session</p></a></li>
<li><a href='#warn'><p>Produce a warning</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.23.0</td>
</tr>
<tr>
<td>Title:</td>
<td>Friendly R Startup Configuration</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.14.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>commonmark, tools, tcltk</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>startup</td>
</tr>
<tr>
<td>Description:</td>
<td>Adds support for R startup configuration via '.Renviron.d' and '.Rprofile.d' directories in addition to '.Renviron' and '.Rprofile' files.  This makes it possible to keep private / secret environment variables separate from other environment variables.  It also makes it easier to share specific startup settings by simply copying a file to a directory.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL (&ge; 2.1)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>TRUE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://henrikbengtsson.github.io/startup/">https://henrikbengtsson.github.io/startup/</a>,
<a href="https://github.com/HenrikBengtsson/startup">https://github.com/HenrikBengtsson/startup</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/HenrikBengtsson/startup/issues">https://github.com/HenrikBengtsson/startup/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-07 23:40:45 UTC; henrik</td>
</tr>
<tr>
<td>Author:</td>
<td>Henrik Bengtsson [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Henrik Bengtsson &lt;henrikb@braju.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-08 00:00:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='check'>Check for and fix common mistakes in .Rprofile</h2><span id='topic+check'></span>

<h3>Description</h3>

<p>Check for and fix common mistakes in &lsquo;<span class="file">.Rprofile</span>&rsquo; files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check(all = FALSE, fix = TRUE, backup = TRUE, debug = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_+3A_all">all</code></td>
<td>
<p>Should all or only the first entry on
<a href="base.html#topic+Startup">the R startup search path</a> be checked?</p>
</td></tr>
<tr><td><code id="check_+3A_fix">fix</code></td>
<td>
<p>If <code>TRUE</code>, detected issues will be tried to be automatically
fixed, otherwise not.</p>
</td></tr>
<tr><td><code id="check_+3A_backup">backup</code></td>
<td>
<p>If <code>TRUE</code>, a timestamped backup copy of the original file is
created before modifying it, otherwise not.</p>
</td></tr>
<tr><td><code id="check_+3A_debug">debug</code></td>
<td>
<p>If <code>TRUE</code>, debug messages are outputted, otherwise not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns invisibly a character vector of files that were &quot;fixed&quot;
(modified), if any.  If no files needed to be fixed, or <code>fix = TRUE</code>,
then an empty vector is returned.
</p>


<h3>References</h3>


<ol>
<li><p> R-devel thread 'Last line in .Rprofile must have newline (PR#4056)',
2003-09-03,
<a href="https://stat.ethz.ch/pipermail/r-devel/2003-September/027457.html">https://stat.ethz.ch/pipermail/r-devel/2003-September/027457.html</a>
</p>
</li></ol>


<hr>
<h2 id='current_script'>Gets the pathname of the currently running startup script</h2><span id='topic+current_script'></span>

<h3>Description</h3>

<p>Gets the pathname of the currently running startup script
</p>


<h3>Usage</h3>

<pre><code class='language-R'>current_script()
</code></pre>


<h3>Value</h3>

<p>A character string
</p>

<hr>
<h2 id='find_rprofile'>Locates the .Rprofile and .Renviron files used during the startup of R</h2><span id='topic+find_rprofile'></span><span id='topic+find_renviron'></span>

<h3>Description</h3>

<p>Locates the .Rprofile and .Renviron files used during the startup of R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_rprofile(all = FALSE)

find_renviron(all = FALSE)
</code></pre>


<h3>Functions</h3>


<ul>
<li> <p><code>find_rprofile()</code>: Locates the &lsquo;<span class="file">.Rprofile</span>&rsquo; file used during
<span class="rlang"><b>R</b></span> startup.
</p>
</li>
<li> <p><code>find_renviron()</code>: Locates the &lsquo;<span class="file">.Renviron</span>&rsquo; file used during
<span class="rlang"><b>R</b></span> startup.
</p>
</li></ul>

<hr>
<h2 id='find_rprofile_d'>Locates the .Rprofile.d and .Renviron.d directories used during the
startup of R</h2><span id='topic+find_rprofile_d'></span><span id='topic+find_renviron_d'></span>

<h3>Description</h3>

<p>Locates the .Rprofile.d and .Renviron.d directories used during the
startup of R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_rprofile_d(sibling = FALSE, all = FALSE)

find_renviron_d(sibling = FALSE, all = FALSE)
</code></pre>


<h3>Functions</h3>


<ul>
<li> <p><code>find_rprofile_d()</code>: Locates the &lsquo;<span class="file">.Rprofile.d</span>&rsquo; directory used
during <span class="rlang"><b>R</b></span> startup.
</p>
</li>
<li> <p><code>find_renviron_d()</code>: Locates the &lsquo;<span class="file">.Renviron.d</span>&rsquo; directory used
during <span class="rlang"><b>R</b></span> startup.
</p>
</li></ul>

<hr>
<h2 id='install'>Install and uninstall support for .Renviron.d and .Rprofile.d startup
directories</h2><span id='topic+install'></span><span id='topic+uninstall'></span>

<h3>Description</h3>

<p>Install and uninstall support for &lsquo;<span class="file">.Renviron.d</span>&rsquo; and &lsquo;<span class="file">.Rprofile.d</span>&rsquo;
startup directories by appending / removing one line of code to the
&lsquo;<span class="file">~/.Rprofile</span>&rsquo; file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install(
  file = rprofile_user(),
  backup = TRUE,
  overwrite = FALSE,
  path = dirname(file),
  make_dirs = TRUE,
  quiet = FALSE
)

uninstall(file = rprofile_user(), backup = TRUE, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="install_+3A_file">file</code></td>
<td>
<p>The pathname where to create or update the &lsquo;<span class="file">.Rprofile</span>&rsquo;
file.</p>
</td></tr>
<tr><td><code id="install_+3A_backup">backup</code></td>
<td>
<p>If <code>TRUE</code>, a timestamped backup copy of the original file is
created before modifying / overwriting it, otherwise not.  If the backup
fails, then an error is produced and the R startup file is unmodified.</p>
</td></tr>
<tr><td><code id="install_+3A_overwrite">overwrite</code></td>
<td>
<p>If the R startup file already exist, then <code>FALSE</code> (default)
appends the startup code to the end of the file. is overwritten.  If <code>TRUE</code>,
any pre-existing R startup file is overwritten.</p>
</td></tr>
<tr><td><code id="install_+3A_path">path</code></td>
<td>
<p>The folder where to create &lsquo;<span class="file">.Renviron.d</span>&rsquo; and
&lsquo;<span class="file">.Rprofile.d</span>&rsquo; directory.</p>
</td></tr>
<tr><td><code id="install_+3A_make_dirs">make_dirs</code></td>
<td>
<p>If <code>TRUE</code> (default), directories &lsquo;<span class="file">.Renviron.d/</span>&rsquo; and
&lsquo;<span class="file">.Rprofile.d/</span>&rsquo; are created in folder <code>path</code>, if missing.</p>
</td></tr>
<tr><td><code id="install_+3A_quiet">quiet</code></td>
<td>
<p>If <code>FALSE</code> (default), detailed messages are generated,
otherwise not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The pathname of the R startup file modified.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>install()</code>: injects a <code>tryCatch(startup::startup(), ...)</code> call to
the &lsquo;<span class="file">.Rprofile</span>&rsquo; file, which is created if missing.
</p>
</li>
<li> <p><code>uninstall()</code>: Remove calls to <code>startup::startup()</code> and similar.
</p>
</li></ul>

<hr>
<h2 id='is_ark'>Checks if running R via Ark (An R Kernel)</h2><span id='topic+is_ark'></span>

<h3>Description</h3>

<p>Checks if running R via Ark (An R Kernel)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_ark()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='is_debug_on'>Checks whether startup debug is on or not</h2><span id='topic+is_debug_on'></span>

<h3>Description</h3>

<p>Checks whether startup debug is on or not
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_debug_on()
</code></pre>


<h3>Details</h3>

<p>The debug mode is when <code><a href="#topic+startup">startup()</a></code> is called, either explicitly
via argument <code>debug</code> or via environment variable <code>R_STARTUP_DEBUG</code>.
</p>


<h3>Value</h3>

<p>Returns <code>TRUE</code> is debug is enabled and <code>FALSE</code> otherwise.
</p>

<hr>
<h2 id='is_ess'>Check if running R via Emacs Speaks Statistics (ESS)</h2><span id='topic+is_ess'></span>

<h3>Description</h3>

<p>Check if running R via Emacs Speaks Statistics (ESS)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_ess()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='is_jupyter'>Checks if running R via Jupyter</h2><span id='topic+is_jupyter'></span>

<h3>Description</h3>

<p>Checks if running R via Jupyter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_jupyter()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='is_microsoftr'>Check if running R via Microsoft R Open</h2><span id='topic+is_microsoftr'></span>

<h3>Description</h3>

<p>Check if running R via Microsoft R Open
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_microsoftr()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='is_positron'>Checks if running R via Positron</h2><span id='topic+is_positron'></span>

<h3>Description</h3>

<p>Checks if running R via Positron
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_positron()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='is_pqr'>Check if running a Pretty Quick Version of R (pqR)</h2><span id='topic+is_pqr'></span>

<h3>Description</h3>

<p>Check if running a Pretty Quick Version of R (pqR)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_pqr()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>


<h3>References</h3>


<ol>
<li><p> pqR - a pretty quick version of R,
<a href="http://www.pqr-project.org/">http://www.pqr-project.org/</a>
</p>
</li>
<li><p> GitHub repository for 'pqR'
<a href="https://github.com/radfordneal/pqR">https://github.com/radfordneal/pqR</a>
</p>
</li></ol>


<hr>
<h2 id='is_radian'>Check if running R via radian (formerly known as rtichoke and rice)</h2><span id='topic+is_radian'></span>

<h3>Description</h3>

<p>Check if running R via radian (formerly known as rtichoke and rice)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_radian()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>


<h3>References</h3>


<ol>
<li><p> radian - A 21 century R console (previously known as rtichoke and rice),
<a href="https://github.com/randy3k/radian">https://github.com/randy3k/radian</a>
</p>
</li></ol>


<hr>
<h2 id='is_rstudio_console'>Checks if running R in RStudio Console or RStudio Terminal</h2><span id='topic+is_rstudio_console'></span>

<h3>Description</h3>

<p>Checks if running R in RStudio Console or RStudio Terminal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_rstudio_console()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>


<h3>References</h3>


<ol>
<li><p> Kevin Ushey (RStudio), Check if R is running in RStudio,
Stackoverflow, 2016-09-23,
<a href="https://stackoverflow.com/questions/12389158/check-if-r-is-running-in-rstudio#comment66636507_35849779">https://stackoverflow.com/questions/12389158/check-if-r-is-running-in-rstudio#comment66636507_35849779</a>
</p>
</li>
<li><p> Jonathan McPherson (RStudio), Programmatically detect RStudio Terminal vs RStudio Console?,
RStudio Community - RStudio IDE, 2018-01-10,
<a href="https://forum.posit.co/t/programmatically-detect-rstudio-terminal-vs-rstudio-console/4107">https://forum.posit.co/t/programmatically-detect-rstudio-terminal-vs-rstudio-console/4107</a>
</p>
</li></ol>


<hr>
<h2 id='is_vscode'>Checks if running R via Visual Studio Code (VSCode)</h2><span id='topic+is_vscode'></span>

<h3>Description</h3>

<p>Checks if running R via Visual Studio Code (VSCode)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_vscode()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>

<hr>
<h2 id='is_webr'>Checks if running R via webR</h2><span id='topic+is_webr'></span>

<h3>Description</h3>

<p>Checks if running R via webR
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_webr()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>


<h3>References</h3>


<ol>
<li><p> webR - R in the Browser, <a href="https://docs.r-wasm.org/webr/latest/">https://docs.r-wasm.org/webr/latest/</a>
</p>
</li></ol>


<hr>
<h2 id='is_wine'>Check if running R on Windows using Wine</h2><span id='topic+is_wine'></span>

<h3>Description</h3>

<p>Check if running R on Windows using Wine
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_wine()
</code></pre>


<h3>Value</h3>

<p>A logical
</p>


<h3>References</h3>


<ol>
<li><p> Wine Developer FAQ, How can I detect Wine?,
<a href="https://gitlab.winehq.org/wine/wine/-/wikis/Developer-FAQ#How_can_I_detect_Wine.3F">https://gitlab.winehq.org/wine/wine/-/wikis/Developer-FAQ#How_can_I_detect_Wine.3F</a>
</p>
</li>
<li><p> Jeff Zaroyko, Detecting Wine, Wine Devel mailing list, 2008-09-29,
<a href="https://list.winehq.org/mailman3/hyperkitty/list/wine-devel@winehq.org/thread/TVQIRXMLJZYTTCMABIIVG7VIP46TQLLX/">https://list.winehq.org/mailman3/hyperkitty/list/wine-devel@winehq.org/thread/TVQIRXMLJZYTTCMABIIVG7VIP46TQLLX/</a>
</p>
</li></ol>


<hr>
<h2 id='on_session_enter'>Register functions to be evaluated at the beginning or end of the R session</h2><span id='topic+on_session_enter'></span><span id='topic+on_session_exit'></span>

<h3>Description</h3>

<p>Register functions to be evaluated at the beginning or end of the R session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>on_session_enter(fcn = NULL, append = TRUE, replace = FALSE)

on_session_exit(fcn = NULL, append = TRUE, replace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="on_session_enter_+3A_fcn">fcn</code></td>
<td>
<p>A function or an R expression. The function must accept zero
or more arguments (currently not used). If an expression, it will
automatically we wrapped up in an anonymous function.</p>
</td></tr>
<tr><td><code id="on_session_enter_+3A_append">append</code></td>
<td>
<p>If TRUE (default), the function will be evaluated after
previously registered ones, otherwise prepended.</p>
</td></tr>
<tr><td><code id="on_session_enter_+3A_replace">replace</code></td>
<td>
<p>if TRUE, the function replaces any previously registered
ones, otherwise it will be added (default).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions register one or more functions to be called when the
current R session begins or ends.  The functions are evaluated in a local
environment and without exception handlers, which means that if one
produces an error, then none of the succeeding functions will be called.
</p>
<p>To list currently registered functions, use <code>fcns &lt;- on_session_enter()</code>
or <code>fcns &lt;- on_session_exit()</code>.
To remove all registered functions, use <code>on_session_enter(replace = TRUE)</code>
or <code>on_session_exit(replace = TRUE)</code>.
</p>
<p>The <code>on_session_enter()</code> function works by recording all <code>fcn</code>:s in an
internal list which will be evaluated via a custom
<code><a href="base.html#topic+.First">.First()</a></code> function created in the global
environment. Any other <code>.First()</code> function on the search path, including
a pre-existing <code>.First()</code> function in the global environment, is called
at the end after registered functions have been called.
</p>
<p>The <code>on_session_exit()</code> function works by recording all <code>fcn</code>:s in an
internal list which will be evaluated via a custom function that is called
when the global environment is garbage collected, which happens at the very
end of the R shutdown process.
Contrary to a <code><a href="base.html#topic+.Last">.Last()</a></code> function, which is not be
called if <code>quit(runLast = FALSE)</code> is used, functions registered via
<code>on_session_exit()</code> are always processed.
Registered <code>on_session_exit()</code> functions are called <em>after</em> <code>quit()</code> saves
any workspace image to file (<code>./.RData</code>), and <em>after</em> any <code>.Last()</code> has
been called.
</p>


<h3>Value</h3>

<p>(invisible) the list of registered functions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Summarize interactive session upon termination
if (interactive()) {
  startup::on_session_exit(local({
    t0 &lt;- Sys.time()
    function(...) {
      dt &lt;- difftime(Sys.time(), t0, units = "auto")
      msg &lt;- c(
        "Session summary:",
        sprintf(" * R version: %s", getRversion()),
        sprintf(" * Process ID: %d", Sys.getpid()),
        sprintf(" * Wall time: %.2f %s", dt, attr(dt, "units"))
      )
      msg &lt;- paste(msg, collapse = "\n")
      message(msg)
    }
  }))
}

## End(Not run)

</code></pre>

<hr>
<h2 id='renviron_d'>Load .Renviron.d and .Rprofile.d directories during the R startup process</h2><span id='topic+renviron_d'></span><span id='topic+renviron'></span><span id='topic+rprofile_d'></span><span id='topic+rprofile'></span><span id='topic+startup'></span>

<h3>Description</h3>

<p>Initiates <span class="rlang"><b>R</b></span> using all files under &lsquo;<span class="file">.Renviron.d/</span>&rsquo; and / or
&lsquo;<span class="file">.Rprofile.d/</span>&rsquo; directories (or in subdirectories thereof).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renviron_d(
  sibling = FALSE,
  all = FALSE,
  unload = FALSE,
  skip = NA,
  dryrun = NA,
  debug = NA,
  paths = NULL
)

rprofile_d(
  sibling = FALSE,
  all = FALSE,
  check = NA,
  unload = FALSE,
  skip = NA,
  on_error = c("error", "warning", "immediate.warning", "message", "ignore"),
  dryrun = NA,
  debug = NA,
  paths = NULL
)

startup(
  sibling = FALSE,
  all = FALSE,
  on_error = c("error", "warning", "immediate.warning", "message", "ignore"),
  keep = c("options"),
  check = NA,
  unload = TRUE,
  skip = NA,
  encoding = getOption("encoding"),
  dryrun = NA,
  debug = dryrun
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="renviron_d_+3A_sibling">sibling</code></td>
<td>
<p>If <code>TRUE</code>, then only &lsquo;<span class="file">.Renviron.d/</span>&rsquo; and
&lsquo;<span class="file">.Rprofile.d/</span>&rsquo; directories with a sibling &lsquo;<span class="file">.Renviron</span>&rsquo; and
&lsquo;<span class="file">.Rprofile</span>&rsquo; in the same location will be considered.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_all">all</code></td>
<td>
<p>If <code>TRUE</code>, then <em>all</em> &lsquo;<span class="file">.Renviron.d/</span>&rsquo; and &lsquo;<span class="file">.Rprofile.d/</span>&rsquo;
directories found on <a href="base.html#topic+Startup">the R startup search path</a> are
processed, otherwise only the <em>first ones</em> found.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_unload">unload</code></td>
<td>
<p>If <code>TRUE</code>, then the package is unloaded afterward, otherwise
not.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_skip">skip</code></td>
<td>
<p>If <code>TRUE</code>, startup directories will be skipped.  If <code>NA</code>, they
will be skipped if command-line options <code>--vanilla</code>, <code>--no-init-file</code>,
and / or <code>--no-environ</code> were specified.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_dryrun">dryrun</code></td>
<td>
<p>If <code>TRUE</code>, everything is done except the processing of the
startup files.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_debug">debug</code></td>
<td>
<p>If <code>TRUE</code>, debug messages are outputted, otherwise not.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_paths">paths</code></td>
<td>
<p>(internal) character vector of directories.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_check">check</code></td>
<td>
<p>If <code>TRUE</code>, then the content of startup files are validated.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_on_error">on_error</code></td>
<td>
<p>Action taken when an error is detected when sourcing an
Rprofile file.  It is not possible to detect error in Renviron files;
they are always ignored with a message that cannot be captured.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_keep">keep</code></td>
<td>
<p>Specify what information should remain after this function
complete.  The default is to keep <code style="white-space: pre;">&#8288;startup.session.*&#8288;</code> options
as recorded by <code><a href="#topic+startup_session_options">startup_session_options()</a></code>.</p>
</td></tr>
<tr><td><code id="renviron_d_+3A_encoding">encoding</code></td>
<td>
<p>The encodingto use when parsing the R startup files.
See <code><a href="base.html#topic+parse">base::parse()</a></code> for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The above is done in addition the &lsquo;<span class="file">.Renviron</span>&rsquo; and &lsquo;<span class="file">.Rprofile</span>&rsquo;
files that are supported by the built-in <a href="base.html#topic+Startup">startup process</a>
of <span class="rlang"><b>R</b></span>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>renviron_d()</code>: Initiate using &lsquo;<span class="file">.Renviron.d/</span>&rsquo; files
</p>
</li>
<li> <p><code>rprofile_d()</code>: Initiate using &lsquo;<span class="file">.Rprofile.d/</span>&rsquo; files
</p>
</li>
<li> <p><code>startup()</code>: <code>renviron_d()</code> followed by <code>rprofile_d()</code> and then the
package is unloaded
</p>
</li></ul>


<h3>User-specific installation</h3>

<p>In order for &lsquo;<span class="file">.Rprofile.d</span>&rsquo; and &lsquo;<span class="file">.Renviron.d</span>&rsquo; directories to be
included during the <span class="rlang"><b>R</b></span> startup process, a user needs to add
<code>startup::startup()</code> to &lsquo;<span class="file">~/.Rprofile</span>&rsquo;.  Adding this can also be done
by calling <code><a href="#topic+install">install()</a></code> once.
</p>


<h3>Site-wide installation</h3>

<p>An alternative to having each user add <code>startup::startup()</code> in their own
&lsquo;<span class="file">~/.Rprofile</span>&rsquo; file, is to add it to the site-wide &lsquo;<span class="file">Rprofile.site</span>&rsquo;
file (see <a href="base.html#topic+Startup">?Startup</a>).
The advantage of such a site-wide installation, is that the users do not
have to have a &lsquo;<span class="file">.Rprofile</span>&rsquo; file for &lsquo;<span class="file">.Rprofile.d</span>&rsquo; and
&lsquo;<span class="file">.Renviron.d</span>&rsquo; directories to work.
For this to work for all users automatically, the <span class="pkg">startup</span> package
should also be installed in the site-wide library.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# The most common way to use the package is to add
# the following call to the ~/.Rprofile file.
startup::startup()

# To process ~/.Renviron.d/ files, and then any ./.Renviron.d/ files,
# followed by  ~/.Rprofile.d/ files, and then any ./.Rprofile.d/ files,
# add the following call to the ~/.Rprofile file.
startup::startup(all = TRUE)

# For finer control of on exactly what files are used
# functions renviron_d() and rprofile_d() are also available:

# Initiate first .Renviron.d/ found on search path
startup::renviron_d()

# Initiate all .Rprofile.d/ directories found on the startup search path
startup::rprofile_d(all = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='reset_when_cache'>Reset all or parts of the &quot;when&quot; cache</h2><span id='topic+reset_when_cache'></span>

<h3>Description</h3>

<p>Reset all or parts of the &quot;when&quot; cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reset_when_cache(
  when = c("once", "hourly", "daily", "weekly", "fortnightly", "monthly")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reset_when_cache_+3A_when">when</code></td>
<td>
<p>(character vector) Specifies for which &quot;when&quot; frequencies
the cache should be reset.  The default is to reset all of them.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(invisible) The pathnames of the &quot;when&quot; cache files removed.
</p>

<hr>
<h2 id='restart'>Restarts R</h2><span id='topic+restart'></span>

<h3>Description</h3>

<p>Restarts <span class="rlang"><b>R</b></span> by quitting the current <span class="rlang"><b>R</b></span> session and launching a new one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restart(
  status = 0L,
  workdir = NULL,
  rcmd = NULL,
  args = NULL,
  envvars = NULL,
  as = c("current", "specified", "R CMD build", "R CMD check", "R CMD INSTALL"),
  quiet = FALSE,
  debug = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="restart_+3A_status">status</code></td>
<td>
<p>An integer specifying the exit code of the current
<span class="rlang"><b>R</b></span> session.</p>
</td></tr>
<tr><td><code id="restart_+3A_workdir">workdir</code></td>
<td>
<p>The working directory where the new <span class="rlang"><b>R</b></span> session should
be launched from.  If <code>NULL</code>, then the working directory that was in
place when the <span class="pkg">startup</span> package was first loaded.  If using
<code>startup::startup()</code> in an &lsquo;<span class="file">.Rprofile</span>&rsquo; startup file, then this
is likely to record the directory from which <span class="rlang"><b>R</b></span> itself was launched from.</p>
</td></tr>
<tr><td><code id="restart_+3A_rcmd">rcmd</code></td>
<td>
<p>A character string specifying the command for launching <span class="rlang"><b>R</b></span>.
The default is the same as used to launch the current <span class="rlang"><b>R</b></span> session, i.e.
<code><a href="base.html#topic+commandArgs">commandArgs()[1]</a></code>.</p>
</td></tr>
<tr><td><code id="restart_+3A_args">args</code></td>
<td>
<p>A character vector specifying zero or more command-line
arguments to be appended to the system call of <code>rcmd</code>.</p>
</td></tr>
<tr><td><code id="restart_+3A_envvars">envvars</code></td>
<td>
<p>A named character vector of environment variables to
be set when calling <span class="rlang"><b>R</b></span>.</p>
</td></tr>
<tr><td><code id="restart_+3A_as">as</code></td>
<td>
<p>A character string specifying a predefined setups of <code>rcmd</code>,
<code>args</code>, and <code>envvars</code>.  For details, see below.</p>
</td></tr>
<tr><td><code id="restart_+3A_quiet">quiet</code></td>
<td>
<p>Should the restart be quiet or not?
If <code>NA</code> and <code>as == "current"</code>, then <code>quiet</code> is <code>TRUE</code> if the current
<span class="rlang"><b>R</b></span> session was started quietly, otherwise <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="restart_+3A_debug">debug</code></td>
<td>
<p>If <code>TRUE</code>, debug messages are outputted, otherwise not.</p>
</td></tr>
</table>


<h3>Predefined setups</h3>

<p>Argument <code>as</code> may take the following values:
</p>

<dl>
<dt><code>"current"</code>:</dt><dd><p>(Default) A setup that emulates the setup of the
current <span class="rlang"><b>R</b></span> session as far as possible by relaunching <span class="rlang"><b>R</b></span> with the same
command-line call (= <code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>).
</p>
</dd>
<dt><code>"specified"</code>:</dt><dd><p>According to <code>rcmd</code>, <code>args</code>, and <code>envvars</code>.</p>
</dd>
<dt><code>"R CMD build"</code>:</dt><dd><p>A setup that emulates
<a href="https://github.com/wch/r-source/blob/R-3-4-branch/src/scripts/build"><code style="white-space: pre;">&#8288;R CMD build&#8288;</code></a>
as far as possible.
</p>
</dd>
<dt><code>"R CMD check"</code>:</dt><dd><p>A setup that emulates
<a href="https://github.com/wch/r-source/blob/R-3-4-branch/src/scripts/check"><code style="white-space: pre;">&#8288;R CMD check&#8288;</code></a>
as far as possible, which happens to be identical to the
<code>"R CMD build"</code> setup.
</p>
</dd>
<dt><code>"R CMD INSTALL"</code>:</dt><dd><p>A setup that emulates
<a href="https://github.com/wch/r-source/blob/R-3-4-branch/src/scripts/INSTALL"><code style="white-space: pre;">&#8288;R CMD INSTALL&#8288;</code></a>
as far as possible.
</p>
</dd>
</dl>

<p>If specified, command-line arguments in <code>args</code> and environment variables
in <code>envvars</code> are <em>appended</em> accordingly.
</p>


<h3>Known limitations</h3>

<p>It is <em>not</em> possible to restart an <span class="rlang"><b>R</b></span> session running in <em>RGui</em> on
Microsoft Windows using this function.
</p>
<p>It is <em>not</em> possible to restart an <span class="rlang"><b>R</b></span> session in the RStudio <em>Console</em>
using this function.  However, it does work when running <span class="rlang"><b>R</b></span> in the
RStudio <em>Terminal</em>.
</p>
<p>RStudio provides <code>rstudioapi::restartSession()</code> which will indeed restart
the RStudio Console.  However, it does not let you control how <span class="rlang"><b>R</b></span> is
restarted, e.g. with what command-line options and what environment
variables.  Importantly, the new <span class="rlang"><b>R</b></span> session will have the same set of
packages loaded as before, the same variables in the global environment,
and so on.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  ## Relaunch R with debugging of startup::startup() enabled
  startup::restart(envvars = c(R_STARTUP_DEBUG = TRUE))

  ## Relaunch R without loading user Rprofile files
  startup::restart(args = "--no-init-file")

  ## Mimic 'R CMD build' and 'R CMD check'
  startup::restart(as = "R CMD build")
  startup::restart(as = "R CMD check")
  ## ... which are both short for
  startup::restart(args = c("--no-restore"),
                   envvars = c(R_DEFAULT_PACKAGES="", LC_COLLATE="C"))

## End(Not run)

</code></pre>

<hr>
<h2 id='startup_session_options'>Record R session information as options</h2><span id='topic+startup_session_options'></span>

<h3>Description</h3>

<p>Record R session information as options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>startup_session_options(action = c("update", "overwrite", "erase"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="startup_session_options_+3A_action">action</code></td>
<td>
<p>If <code>"update"</code> or <code>"overwrite"</code>, <span class="rlang"><b>R</b></span> options
<code>"startup.session.*"</code> are set.  If <code>"update"</code>, then such options that are
not already set are updated.  If <code>"erase"</code>, any existing
<code>"startup.session.*"</code> options are removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns invisibly a named list of the options prefixed
<code>"startup.session."</code>:
</p>

<dl>
<dt><code>startup.session.startdir</code></dt><dd><p>(character) the working directory when
the <span class="pkg">startup</span> was first loaded.  If <code>startup::startup()</code> is called
at the very beginning of the &lsquo;<span class="file">.Rprofile</span>&rsquo; file, this is also the
directory that the current <span class="rlang"><b>R</b></span> session was launched from.</p>
</dd>
<dt><code>startup.session.starttime</code></dt><dd><p>(POSIXct) the time when the
<span class="pkg">startup</span> was first loaded.</p>
</dd>
<dt><code>startup.session.id</code></dt><dd><p>(character) a unique ID for the current <span class="rlang"><b>R</b></span>
session.</p>
</dd>
<dt><code>startup.session.dumpto</code></dt><dd><p>(character) a session-specific name that
can be used for argument <code>dumpto</code> of <a href="utils.html#topic+debugger">dump.frames()</a>
(also for dumping to file).</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>opts &lt;- startup::startup_session_options()
opts

</code></pre>

<hr>
<h2 id='startup.options'>Options and environment variables used by the 'startup' package</h2><span id='topic+startup.options'></span><span id='topic+R_STARTUP_CHECK'></span><span id='topic+startup.check'></span><span id='topic+R_STARTUP_CHECK_OPTIONS_IGNORE'></span><span id='topic+startup.check.options.ignore'></span><span id='topic+startup.commandArgs'></span><span id='topic+R_STARTUP_DEBUG'></span><span id='topic+startup.debug.file'></span><span id='topic+R_STARTUP_DEBUG_FILE'></span><span id='topic+startup.debug'></span><span id='topic+R_STARTUP_DRYRUN'></span><span id='topic+startup.dryrun'></span><span id='topic+R_STARTUP_DISABLE'></span><span id='topic+startup.disable'></span><span id='topic+R_STARTUP_FILE'></span><span id='topic+startup.file'></span><span id='topic+R_STARTUP_INIT'></span><span id='topic+startup.init'></span><span id='topic+R_STARTUP_RDATA'></span><span id='topic+startup.rdata'></span><span id='topic+R_STARTUP_TIME'></span><span id='topic+startup.time'></span>

<h3>Description</h3>

<p>Below are environment variables and <span class="rlang"><b>R</b></span> options that are used by the
<span class="pkg">startup</span> package.
The <span class="env">R_STARTUP_***</span> environment variables must be set before calling
the <code>startup::startup()</code> function, that is, either (i) prior to launching
<span class="rlang"><b>R</b></span> or (ii) in the &lsquo;<span class="file">.Renviron</span>&rsquo; file.
</p>


<h3>Controls whether <span class="pkg">startup</span> is used or not</h3>


<dl>
<dt><span class="env">R_STARTUP_DISABLE</span> / <span class="option">startup.disable</span>:</dt><dd>
<p>(logical)
If <code>TRUE</code>, <code>startup::startup()</code> is fully disable such that <em>no</em>
&lsquo;<span class="file">.Renviron.d/</span>&rsquo; or &lsquo;<span class="file">.Rprofile.d/</span>&rsquo; files are processed.
<em>Note</em>: Files &lsquo;<span class="file">.Renviron</span>&rsquo; and &lsquo;<span class="file">.Rprofile</span>&rsquo; are still processed
because these are out of control of the <span class="pkg">startup</span> package.
(Default: <code>FALSE</code>)
</p>
</dd>
<dt><span class="env">R_STARTUP_DRYRUN</span> / <span class="option">startup.dryrun</span>:</dt><dd>
<p>(logical)
Controls the default value of argument <code>dryrun</code> of <code><a href="#topic+startup">startup()</a></code>.
(Default: <code>FALSE</code>)
</p>
</dd>
</dl>



<h3>Additional customization of the startup process</h3>


<dl>
<dt><span class="env">R_STARTUP_FILE</span> / <span class="option">startup.file</span>:</dt><dd>
<p>(R script as a character string)
Optional <span class="rlang"><b>R</b></span> script that is parsed and evaluated after
&lsquo;<span class="file">.Renviron.d/</span>&rsquo; and &lsquo;<span class="file">.Rprofile.d/</span>&rsquo; files,
and <code>R_STARTUP_INIT</code> code, have been processed, e.g.
<code style="white-space: pre;">&#8288;R_STARTUP_FILE="setup.R" R --quiet&#8288;</code>.
(Default: not specified)
</p>
</dd>
<dt><span class="env">R_STARTUP_INIT</span> / <span class="option">startup.init</span>:</dt><dd>
<p>(R code as a character string)
Optional <span class="rlang"><b>R</b></span> code that is parsed and evaluated after
&lsquo;<span class="file">.Renviron.d/</span>&rsquo; and &lsquo;<span class="file">.Rprofile.d/</span>&rsquo; files,
but before <code>R_STARTUP_FILE</code> code, have been processed e.g.
<code style="white-space: pre;">&#8288;R_STARTUP_INIT="message('Hello world')" R --quiet&#8288;</code>.
The specified string must be parsable by <code><a href="base.html#topic+parse">base::parse()</a></code>.
(Default: not specified)
</p>
</dd>
<dt><span class="env">R_STARTUP_RDATA</span> / <span class="option">startup.rdata</span>:</dt><dd>
<p>(comma-separated values)
Controls whether an existing &lsquo;<span class="file">./.RData</span>&rsquo; file should be processed
or not.
If <code>"remove"</code>, it will be skipped by automatically removing it.
If <code>"rename"</code>, it will be renamed to &lsquo;<span class="file">./.RData.YYYYMMDD_hhmmss</span>&rsquo;
where the timestamp is the last time the file was modified.
If <code>"prompt"</code>, the user is prompted whether they want to load the file
or rename it. In non-interactive session, <code>"prompt"</code> will fallback to
loading the content (default). To fallback to renaming the file, use
<code>"prompt,rename"</code>.
If <code>"warn"</code>, a warning will be produced, but content is still loaded.
Note that in contrast to <code>R</code> and <code style="white-space: pre;">&#8288;R CMD BATCH file.R&#8288;</code>, <code>Rscript</code> does
<em>not</em> load &lsquo;<span class="file">.RData</span>&rsquo; files unless command-line option <code>--restore</code>
is specified.
(Default: not specified)
</p>
</dd>
</dl>



<h3>Controls what validation checks are performed at startup</h3>


<dl>
<dt><span class="env">R_STARTUP_CHECK</span> / <span class="option">startup.check</span>:</dt><dd>
<p>(logical)
Controls the default value of argument <code>check</code> of <code><a href="#topic+startup">startup()</a></code>.
(Default: <code>TRUE</code>)
</p>
</dd>
<dt><span class="env">R_STARTUP_CHECK_OPTIONS_IGNORE</span> /
<span class="option">startup.check.options.ignore</span>:</dt><dd>
<p>(character vector or comma-separated character string)
Names of <span class="rlang"><b>R</b></span> options that should <em>not</em> be validated at the end of the
<code><a href="#topic+startup">startup()</a></code> process.
(Default: <code>"error"</code>)
</p>
</dd>
</dl>



<h3>Settings useful for debugging and prototyping</h3>


<dl>
<dt><span class="env">R_STARTUP_DEBUG</span> / <span class="option">startup.debug</span>:</dt><dd>
<p>(logical)
Controls the default value of argument <code>debug</code> of <code><a href="#topic+startup">startup()</a></code>.
(Default: <code>FALSE</code>)
</p>
</dd>
<dt><span class="env">R_STARTUP_DEBUG_FILE</span> / <span class="option">startup.debug.file</span>:</dt><dd>
<p>(character string or NULL)
Controls where <code><a href="#topic+startup">startup()</a></code> debug messages are outputted.
If set, it specifies the file where debug messages are written to.
If file already exists, it is overwritten.
Unless an absolute filename is given, the location of the file is
relative to the working directory where R was started.
If the filename comprise the string <code>{{pid}}</code>, it is replaced by
the R process' process identifier (PID) per <code>Sys.getpid()</code>.
If <code>NULL</code> or <code style="white-space: pre;">&#8288;&lt;message&gt;&#8288;</code>, then debug is outputted using the
<code>message()</code> function.
(Default: not specified)
</p>
</dd>
<dt><span class="option">startup.commandArgs</span>:</dt><dd>
<p>(character vector)
Overrides the command-line arguments that <code><a href="#topic+startup">startup()</a></code> uses, which
can be useful to prototype and test alternative ways that <span class="rlang"><b>R</b></span> might
be launched.
(Default: <code>base::commandArgs()</code>)
</p>
</dd>
<dt><span class="env">R_STARTUP_TIME</span> / <span class="option">startup.time</span>:</dt><dd>
<p>(POSIX timestamp; character string)
Overrides the current timestamp, which can be useful to prototype and
test functionalities that depend on the current time, e.g. inclusion
and exclusion of files based on <code style="white-space: pre;">&#8288;when=&lt;periodicity&gt;&#8288;</code> tags.
The specified string must be parsable by <code><a href="base.html#topic+as.POSIXlt">base::as.POSIXct()</a></code>.
(Default: not specified)
</p>
</dd>
</dl>


<hr>
<h2 id='sysinfo'>Information on the current R session</h2><span id='topic+sysinfo'></span>

<h3>Description</h3>

<p>Information on the current R session
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysinfo()
</code></pre>


<h3>Value</h3>

<p>A named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>startup::sysinfo()

</code></pre>

<hr>
<h2 id='warn'>Produce a warning</h2><span id='topic+warn'></span>

<h3>Description</h3>

<p>Produce a warning
</p>


<h3>Usage</h3>

<pre><code class='language-R'>warn(..., call. = FALSE, immediate. = TRUE, domain = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="warn_+3A_...">...</code>, <code id="warn_+3A_domain">domain</code></td>
<td>
<p>The message and optionally the domain used for
translation.  The ... arguments are passed to <a href="base.html#topic+sprintf">base::sprintf</a> to
create the message string.</p>
</td></tr>
<tr><td><code id="warn_+3A_call.">call.</code></td>
<td>
<p>If <a href="base.html#topic+logical">base::TRUE</a>, the call is included in the warning
message, otherwise not.</p>
</td></tr>
<tr><td><code id="warn_+3A_immediate.">immediate.</code></td>
<td>
<p>If <a href="base.html#topic+logical">base::TRUE</a>, the warning is outputted immediately,
otherwise not.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

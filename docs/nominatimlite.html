<!DOCTYPE html><html><head><title>Help for package nominatimlite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nominatimlite}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#nominatimlite-package'><p>nominatimlite: Interface with 'Nominatim' API Service</p></a></li>
<li><a href='#api_call'><p>Helper function for centralize API queries</p></a></li>
<li><a href='#bbox_to_poly'><p>Coerce a bounding box to a <code>sfc</code> <code>POLYGON</code> object</p></a></li>
<li><a href='#geo_address_lookup'><p>Address lookup API for OSM elements</p></a></li>
<li><a href='#geo_address_lookup_sf'><p>Address lookup API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</p></a></li>
<li><a href='#geo_amenity'><p>Geocode amenities</p></a></li>
<li><a href='#geo_amenity_sf'><p>Geocode amenities in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</p></a></li>
<li><a href='#geo_lite'><p>Address search API for OSM elements (free-form query)</p></a></li>
<li><a href='#geo_lite_sf'><p>Address search API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format (free-form query)</p></a></li>
<li><a href='#geo_lite_struct'><p>Address search API for OSM elements (structured query)</p></a></li>
<li><a href='#geo_lite_struct_sf'><p>Address search API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format (structured query)</p></a></li>
<li><a href='#nominatim_check_access'><p>Check access to Nominatim API</p></a></li>
<li><a href='#osm_amenities'><p>OpenStreetMap amenity database</p></a></li>
<li><a href='#reverse_geo_lite'><p>Reverse geocoding API for OSM elements</p></a></li>
<li><a href='#reverse_geo_lite_sf'><p>Reverse geocoding API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface with 'Nominatim' API Service</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Lite interface for getting data from 'OSM' service
    'Nominatim' <a href="https://nominatim.org/release-docs/latest/">https://nominatim.org/release-docs/latest/</a>. Extract
    coordinates from addresses, find places near a set of coordinates and
    return spatial objects on 'sf' format.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://dieghernan.github.io/nominatimlite/">https://dieghernan.github.io/nominatimlite/</a>,
<a href="https://github.com/dieghernan/nominatimlite">https://github.com/dieghernan/nominatimlite</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dieghernan/nominatimlite/issues">https://github.com/dieghernan/nominatimlite/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), jsonlite (&ge; 1.7.0), sf (&ge; 0.9.0), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>arcgeocoder, ggplot2 (&ge; 3.0.0), knitr, lifecycle, rmarkdown,
testthat (&ge; 3.0.0), tibble, tidygeocoder</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>dieghernan/gitdevr, remotes, devtools, tidyverse,
leaflet, reactable, crosstalk, tidyr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Copyright:</td>
<td>Data © OpenStreetMap contributors, ODbL 1.0.
&lt;https://www.openstreetmap.org/copyright&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>cartography</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>r, geocoding, openstreetmap, address, nominatim,
reverse-geocoding, rstats, shapefile, r-package, spatial, cran,
api-wrapper</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-27 17:39:46 UTC; diego</td>
</tr>
<tr>
<td>Author:</td>
<td>Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Jindra Lacko <a href="https://orcid.org/0000-0002-0375-5156"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb, rev],
  Alex White [ctb],
  OpenStreetMap [cph] (For the data)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Diego Hernangómez &lt;diego.hernangomezherrero@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-27 17:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='nominatimlite-package'>nominatimlite: Interface with 'Nominatim' API Service</h2><span id='topic+nominatimlite'></span><span id='topic+nominatimlite-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Lite interface for getting data from 'OSM' service 'Nominatim' <a href="https://nominatim.org/release-docs/latest/">https://nominatim.org/release-docs/latest/</a>. Extract coordinates from addresses, find places near a set of coordinates and return spatial objects on 'sf' format.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Diego Hernangómez <a href="mailto:diego.hernangomezherrero@gmail.com">diego.hernangomezherrero@gmail.com</a> (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Jindra Lacko (<a href="https://orcid.org/0000-0002-0375-5156">ORCID</a>) [contributor, reviewer]
</p>
</li>
<li><p> Alex White [contributor]
</p>
</li>
<li><p> OpenStreetMap (For the data) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://dieghernan.github.io/nominatimlite/">https://dieghernan.github.io/nominatimlite/</a>
</p>
</li>
<li> <p><a href="https://github.com/dieghernan/nominatimlite">https://github.com/dieghernan/nominatimlite</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/dieghernan/nominatimlite/issues">https://github.com/dieghernan/nominatimlite/issues</a>
</p>
</li></ul>


<hr>
<h2 id='api_call'>Helper function for centralize API queries</h2><span id='topic+api_call'></span>

<h3>Description</h3>

<p>A wrapper of <code><a href="utils.html#topic+download.file">utils::download.file()</a></code>. On warning on error it will
retry the call. Requests are adjusted to the rate of 1 query per second.
</p>
<p>See <a href="https://operations.osmfoundation.org/policies/nominatim/">Nominatim Usage Policy</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>api_call(url, destfile = tempfile(fileext = ".json"), quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="api_call_+3A_url">url</code></td>
<td>
<p>a <code><a href="base.html#topic+character">character</a></code> string (or longer vector
for the <code>"libcurl"</code> method) naming the URL of a resource to be
downloaded.</p>
</td></tr>
<tr><td><code id="api_call_+3A_destfile">destfile</code></td>
<td>
<p>a character string (or vector, see the <code>url</code>
argument) with the file path where the downloaded file is to be
saved.  Tilde-expansion is performed.</p>
</td></tr>
<tr><td><code id="api_call_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code>, suppress status messages (if any), and
the progress bar.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical <code>TRUE/FALSE</code>.
</p>


<h3>See Also</h3>

<p>API Management: 
<code><a href="#topic+nominatim_check_access">nominatim_check_access</a>()</code>
</p>

<hr>
<h2 id='bbox_to_poly'>Coerce a bounding box to a <code><a href="sf.html#topic+sfc">sfc</a></code> <code>POLYGON</code> object</h2><span id='topic+bbox_to_poly'></span>

<h3>Description</h3>

<p>Create a <code><a href="sf.html#topic+sfc">sfc</a></code> object from the coordinates of a bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bbox_to_poly(bbox = NA, xmin = NA, ymin = NA, xmax = NA, ymax = NA, crs = 4326)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bbox_to_poly_+3A_bbox">bbox</code></td>
<td>
<p>Numeric vector of 4 elements representing the coordinates of the
bounding box. Values should be <code>c(xmin, ymin, xmax, ymax)</code>.</p>
</td></tr>
<tr><td><code id="bbox_to_poly_+3A_xmin">xmin</code>, <code id="bbox_to_poly_+3A_ymin">ymin</code>, <code id="bbox_to_poly_+3A_xmax">xmax</code>, <code id="bbox_to_poly_+3A_ymax">ymax</code></td>
<td>
<p>Alternatively, you can use these named parameters
instead of <code>bbox</code>.</p>
</td></tr>
<tr><td><code id="bbox_to_poly_+3A_crs">crs</code></td>
<td>
<p>coordinate reference system, something suitable as input to <a href="sf.html#topic+st_crs">st_crs</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bounding boxes can be located using different online tools, as <a href="https://boundingbox.klokantech.com/">Bounding Box Tool</a>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sfc">sfc</a></code> object of class <code>POLYGON</code>.
</p>


<h3>See Also</h3>

<p><code><a href="sf.html#topic+st_as_sfc">sf::st_as_sfc()</a></code> and <code><a href="sf.html#topic+sfc">sf::st_sfc()</a></code>.
</p>
<p>Get <code><a href="sf.html#topic+sf">sf</a></code> objects: 
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# bounding box of Germany
bbox_GER &lt;- c(5.86631529, 47.27011137, 15.04193189, 55.09916098)

bbox_GER_sf &lt;- bbox_to_poly(bbox_GER)


library(ggplot2)

ggplot(bbox_GER_sf) +
  geom_sf()

# Extract the bounding box of a sf object
sfobj &lt;- geo_lite_sf("seychelles", points_only = FALSE)

sfobj

# Need at least one non-empty object
if (any(!sf::st_is_empty(sfobj))) {
  bbox &lt;- sf::st_bbox(sfobj)

  bbox

  bbox_sfobj &lt;- bbox_to_poly(bbox)

  ggplot(bbox_sfobj) +
    geom_sf(fill = "lightblue", alpha = 0.5) +
    geom_sf(data = sfobj, fill = "wheat")
}


</code></pre>

<hr>
<h2 id='geo_address_lookup'>Address lookup API for OSM elements</h2><span id='topic+geo_address_lookup'></span>

<h3>Description</h3>

<p>The lookup API allows to query the address and other details of one or
multiple OSM objects like node, way or relation. This function returns the
<code><a href="tibble.html#topic+tibble">tibble</a></code> associated with the query, see
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf()</a></code> for retrieving the data as a spatial object
(<code><a href="sf.html#topic+sf">sf</a></code> format).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_address_lookup(
  osm_ids,
  type = c("N", "W", "R"),
  lat = "lat",
  long = "lon",
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_address_lookup_+3A_osm_ids">osm_ids</code></td>
<td>
<p>Vector of OSM identifiers as <strong>numeric</strong>
(<code>c(00000, 11111, 22222)</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_type">type</code></td>
<td>
<p>Vector character of the type of the OSM type associated to each
<code>osm_ids</code>. Possible values are node (<code>"N"</code>), way (<code>"W"</code>) or relation
(<code>"R"</code>). If a single value is provided it would be recycled.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_lat">lat</code></td>
<td>
<p>Latitude column name in the output data (default  <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_long">long</code></td>
<td>
<p>Longitude column name in the output data (default  <code>"long"</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/develop/api/Lookup/">https://nominatim.org/release-docs/develop/api/Lookup/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with the results found by the query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf()</a></code>.
</p>
<p>Address Lookup API: 
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

ids &lt;- geo_address_lookup(osm_ids = c(46240148, 34633854), type = "W")

ids

several &lt;- geo_address_lookup(c(146656, 240109189), type = c("R", "N"))
several


</code></pre>

<hr>
<h2 id='geo_address_lookup_sf'>Address lookup API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</h2><span id='topic+geo_address_lookup_sf'></span>

<h3>Description</h3>

<p>The lookup API allows to query the address and other details of one or
multiple OSM objects like node, way or relation. This function returns the
spatial object associated with the query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see
<code><a href="#topic+geo_address_lookup">geo_address_lookup()</a></code> for retrieving the data in <code><a href="tibble.html#topic+tibble">tibble</a></code>
format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_address_lookup_sf(
  osm_ids,
  type = c("N", "W", "R"),
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_address_lookup_sf_+3A_osm_ids">osm_ids</code></td>
<td>
<p>Vector of OSM identifiers as <strong>numeric</strong>
(<code>c(00000, 11111, 22222)</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_type">type</code></td>
<td>
<p>Vector character of the type of the OSM type associated to each
<code>osm_ids</code>. Possible values are node (<code>"N"</code>), way (<code>"W"</code>) or relation
(<code>"R"</code>). If a single value is provided it would be recycled.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only address columns are returned. See also
<code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/latest/api/Lookup/">https://nominatim.org/release-docs/latest/api/Lookup/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object with the results.
</p>


<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_address_lookup">geo_address_lookup()</a></code>.
</p>
<p>Address Lookup API: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>
<p>Get <code><a href="sf.html#topic+sf">sf</a></code> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Notre Dame Cathedral, Paris

NotreDame &lt;- geo_address_lookup_sf(osm_ids = 201611261, type = "W")

# Need at least one non-empty object
if (any(!sf::st_is_empty(NotreDame))) {
  library(ggplot2)

  ggplot(NotreDame) +
    geom_sf()
}

NotreDame_poly &lt;- geo_address_lookup_sf(201611261,
  type = "W",
  points_only = FALSE
)


if (any(!sf::st_is_empty(NotreDame_poly))) {
  ggplot(NotreDame_poly) +
    geom_sf()
}

# It is vectorized

several &lt;- geo_address_lookup_sf(c(146656, 240109189), type = c("R", "N"))
several


</code></pre>

<hr>
<h2 id='geo_amenity'>Geocode amenities</h2><span id='topic+geo_amenity'></span>

<h3>Description</h3>

<p>This function search <a href="#topic+osm_amenities">amenities</a> as defined by OpenStreetMap
on a restricted area defined by a bounding box in the form
<code style="white-space: pre;">&#8288;(&lt;xmin&gt;, &lt;ymin&gt;, &lt;xmax&gt;, &lt;ymax&gt;)&#8288;</code>. This function returns the
<code><a href="tibble.html#topic+tibble">tibble</a></code> associated with the query, see <code><a href="#topic+geo_amenity_sf">geo_amenity_sf()</a></code>
for retrieving the data as a spatial object (<code><a href="sf.html#topic+sf">sf</a></code> format).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_amenity(
  bbox,
  amenity,
  lat = "lat",
  long = "lon",
  limit = 1,
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  progressbar = TRUE,
  custom_query = list(),
  strict = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_amenity_+3A_bbox">bbox</code></td>
<td>
<p>The bounding box (viewbox) used to limit the search. It could be:
</p>

<ul>
<li><p> A numeric vector of <strong>longitude</strong> (<code>x</code>) and <strong>latitude</strong> (<code>y</code>)
<code style="white-space: pre;">&#8288;(xmin, ymin, xmax, ymax)&#8288;</code>. See <strong>Details</strong>.
</p>
</li>
<li><p> A <code><a href="sf.html#topic+sf">sf</a></code> or <code><a href="sf.html#topic+sfc">sfc</a></code> object.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geo_amenity_+3A_amenity">amenity</code></td>
<td>
<p>A <code>character</code> (or a vector of <code>character</code>s) with the
amenities to be geolocated (i.e. <code>c("pub", "restaurant")</code>). See
<a href="#topic+osm_amenities">osm_amenities</a>.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_lat">lat</code></td>
<td>
<p>Latitude column name in the output data (default  <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_long">long</code></td>
<td>
<p>Longitude column name in the output data (default  <code>"long"</code>).</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_limit">limit</code></td>
<td>
<p>Maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_amenity_+3A_strict">strict</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Force the results to be included inside
the <code>bbox</code>. Note that Nominatim default behavior may return results located
outside the provided bounding box.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bounding boxes can be located using different online tools, as
<a href="https://boundingbox.klokantech.com/">Bounding Box Tool</a>.
</p>
<p>For a full list of valid amenities see
<a href="https://wiki.openstreetmap.org/wiki/Key:amenity">https://wiki.openstreetmap.org/wiki/Key:amenity</a> and <a href="#topic+osm_amenities">osm_amenities</a>.
</p>
<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with the results found by the query.
</p>


<h3>See Also</h3>

<p>Other amenity: 
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+osm_amenities">osm_amenities</a></code>
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Times Square, NY, USA
bbox &lt;- c(
  -73.9894467311, 40.75573629,
  -73.9830630737, 40.75789245
)

geo_amenity(
  bbox = bbox,
  amenity = "restaurant"
)

# Several amenities
geo_amenity(
  bbox = bbox,
  amenity = c("restaurant", "pub")
)

# Increase limit and use with strict
geo_amenity(
  bbox = bbox,
  amenity = c("restaurant", "pub"),
  limit = 10,
  strict = TRUE
)


</code></pre>

<hr>
<h2 id='geo_amenity_sf'>Geocode amenities in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</h2><span id='topic+geo_amenity_sf'></span>

<h3>Description</h3>

<p>This function search <a href="#topic+osm_amenities">amenities</a> as defined by OpenStreetMap
on a restricted area defined by a bounding box in the form
<code style="white-space: pre;">&#8288;(&lt;xmin&gt;, &lt;ymin&gt;, &lt;xmax&gt;, &lt;ymax&gt;)&#8288;</code>.  This function returns the spatial
object associated with the query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see <code><a href="#topic+geo_amenity">geo_amenity()</a></code> for
retrieving the data in <code><a href="tibble.html#topic+tibble">tibble</a></code> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_amenity_sf(
  bbox,
  amenity,
  limit = 1,
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  progressbar = TRUE,
  custom_query = list(),
  strict = FALSE,
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_amenity_sf_+3A_bbox">bbox</code></td>
<td>
<p>The bounding box (viewbox) used to limit the search. It could be:
</p>

<ul>
<li><p> A numeric vector of <strong>longitude</strong> (<code>x</code>) and <strong>latitude</strong> (<code>y</code>)
<code style="white-space: pre;">&#8288;(xmin, ymin, xmax, ymax)&#8288;</code>. See <strong>Details</strong>.
</p>
</li>
<li><p> A <code><a href="sf.html#topic+sf">sf</a></code> or <code><a href="sf.html#topic+sfc">sfc</a></code> object.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_amenity">amenity</code></td>
<td>
<p>A <code>character</code> (or a vector of <code>character</code>s) with the
amenities to be geolocated (i.e. <code>c("pub", "restaurant")</code>). See
<a href="#topic+osm_amenities">osm_amenities</a>.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_limit">limit</code></td>
<td>
<p>Maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_strict">strict</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Force the results to be included inside
the <code>bbox</code>. Note that Nominatim default behavior may return results located
outside the provided bounding box.</p>
</td></tr>
<tr><td><code id="geo_amenity_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bounding boxes can be located using different online tools, as
<a href="https://boundingbox.klokantech.com/">Bounding Box Tool</a>.
</p>
<p>For a full list of valid amenities see
<a href="https://wiki.openstreetmap.org/wiki/Key:amenity">https://wiki.openstreetmap.org/wiki/Key:amenity</a> and <a href="#topic+osm_amenities">osm_amenities</a>.
</p>
<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object with the results.
</p>


<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p>Other amenity: 
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+osm_amenities">osm_amenities</a></code>
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>
<p>Get <code><a href="sf.html#topic+sf">sf</a></code> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Usera, Madrid

library(ggplot2)
mad &lt;- geo_lite_sf("Usera, Madrid, Spain", points_only = FALSE)


# Restaurants, pubs and schools

rest_pub &lt;- geo_amenity_sf(mad, c("restaurant", "pub", "school"),
  limit = 50
)

if (any(!sf::st_is_empty(rest_pub))) {
  ggplot(mad) +
    geom_sf() +
    geom_sf(data = rest_pub, aes(color = query, shape = query))
}


</code></pre>

<hr>
<h2 id='geo_lite'>Address search API for OSM elements (free-form query)</h2><span id='topic+geo_lite'></span>

<h3>Description</h3>

<p>Geocodes addresses given as character values. This function returns the
<code><a href="tibble.html#topic+tibble">tibble</a></code> associated with the query, see <code><a href="#topic+geo_lite_sf">geo_lite_sf()</a></code> for
retrieving the data as a spatial object (<code><a href="sf.html#topic+sf">sf</a></code> format).
</p>
<p>This function correspond to the <strong>free-form query</strong> search described in the
<a href="https://nominatim.org/release-docs/develop/api/Search/">API endpoint</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_lite(
  address,
  lat = "lat",
  long = "lon",
  limit = 1,
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  progressbar = TRUE,
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_lite_+3A_address">address</code></td>
<td>
<p><code>character</code> with single line address, e.g.
(<code>"1600 Pennsylvania Ave NW, Washington"</code>) or a vector of addresses
(<code>c("Madrid", "Barcelona")</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_lat">lat</code></td>
<td>
<p>Latitude column name in the output data (default  <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_long">long</code></td>
<td>
<p>Longitude column name in the output data (default  <code>"long"</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_limit">limit</code></td>
<td>
<p>Maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with the results found by the query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_lite_sf">geo_lite_sf()</a></code>, <code><a href="tidygeocoder.html#topic+geo">tidygeocoder::geo()</a></code>.
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

geo_lite("Madrid, Spain")

# Several addresses
geo_lite(c("Madrid", "Barcelona"))

# With options: restrict search to USA
geo_lite(c("Madrid", "Barcelona"),
  custom_query = list(countrycodes = "US"),
  full_results = TRUE
)


</code></pre>

<hr>
<h2 id='geo_lite_sf'>Address search API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format (free-form query)</h2><span id='topic+geo_lite_sf'></span>

<h3>Description</h3>

<p>This function allows you to geocode addresses and returns the corresponding
spatial object. This function returns the spatial object associated with the
query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see <code><a href="#topic+geo_lite">geo_lite()</a></code> for retrieving the data in
<code><a href="tibble.html#topic+tibble">tibble</a></code> format.
</p>
<p>This function correspond to the <strong>free-form query</strong> search described in the
<a href="https://nominatim.org/release-docs/develop/api/Search/">API endpoint</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_lite_sf(
  address,
  limit = 1,
  return_addresses = TRUE,
  full_results = FALSE,
  verbose = FALSE,
  progressbar = TRUE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_lite_sf_+3A_address">address</code></td>
<td>
<p><code>character</code> with single line address, e.g.
(<code>"1600 Pennsylvania Ave NW, Washington"</code>) or a vector of addresses
(<code>c("Madrid", "Barcelona")</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_limit">limit</code></td>
<td>
<p>Maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only address columns are returned. See also
<code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object with the results.
</p>


<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_lite">geo_lite()</a></code>.
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>
<p>Get <code><a href="sf.html#topic+sf">sf</a></code> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Map - Points
library(ggplot2)

string &lt;- "Statue of Liberty, NY, USA"
sol &lt;- geo_lite_sf(string)

if (any(!sf::st_is_empty(sol))) {
  ggplot(sol) +
    geom_sf()
}

sol_poly &lt;- geo_lite_sf(string, points_only = FALSE)

if (any(!sf::st_is_empty(sol_poly))) {
  ggplot(sol_poly) +
    geom_sf() +
    geom_sf(data = sol, color = "red")
}
# Several results

madrid &lt;- geo_lite_sf("Comunidad de Madrid, Spain",
  limit = 2,
  points_only = FALSE, full_results = TRUE
)

if (any(!sf::st_is_empty(madrid))) {
  ggplot(madrid) +
    geom_sf(fill = NA)
}


</code></pre>

<hr>
<h2 id='geo_lite_struct'>Address search API for OSM elements (structured query)</h2><span id='topic+geo_lite_struct'></span>

<h3>Description</h3>

<p>Geocodes addresses already split into components. This function returns the
<code><a href="tibble.html#topic+tibble">tibble</a></code> associated with the query, see
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf()</a></code> for retrieving the data as a spatial object
(<code><a href="sf.html#topic+sf">sf</a></code> format).
</p>
<p>This function correspond to the <strong>structured query</strong> search described in the
<a href="https://nominatim.org/release-docs/develop/api/Search/">API endpoint</a>. For
performing a free-form search use <code><a href="#topic+geo_lite">geo_lite()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_lite_struct(
  amenity = NULL,
  street = NULL,
  city = NULL,
  county = NULL,
  state = NULL,
  country = NULL,
  postalcode = NULL,
  lat = "lat",
  long = "lon",
  limit = 1,
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_lite_struct_+3A_amenity">amenity</code></td>
<td>
<p>Name and/or type of POI, see also <a href="#topic+geo_amenity">geo_amenity</a>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_street">street</code></td>
<td>
<p>House number and street name.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_city">city</code></td>
<td>
<p>City.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_county">county</code></td>
<td>
<p>County.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_state">state</code></td>
<td>
<p>State.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_country">country</code></td>
<td>
<p>Country.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_postalcode">postalcode</code></td>
<td>
<p>Postal Code.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_lat">lat</code></td>
<td>
<p>Latitude column name in the output data (default  <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_long">long</code></td>
<td>
<p>Longitude column name in the output data (default  <code>"long"</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_limit">limit</code></td>
<td>
<p>Maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The structured form of the search query allows to look up up an address that
is already split into its components. Each parameter represents a field of
the address. All parameters are optional. You should only use the ones that
are relevant for the address you want to geocode.
</p>
<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with the results found by the query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf()</a></code>, <code><a href="tidygeocoder.html#topic+geo">tidygeocoder::geo()</a></code>.
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

pl_mayor &lt;- geo_lite_struct(
  street = "Plaza Mayor", country = "Spain",
  limit = 50, full_results = TRUE
)


dplyr::glimpse(pl_mayor)


</code></pre>

<hr>
<h2 id='geo_lite_struct_sf'>Address search API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format (structured query)</h2><span id='topic+geo_lite_struct_sf'></span>

<h3>Description</h3>

<p>Geocodes addresses already split into components and return the corresponding
spatial object. This function returns the spatial object associated with the
query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see <code><a href="#topic+geo_lite_struct">geo_lite_struct()</a></code> for retrieving the data in
<code><a href="tibble.html#topic+tibble">tibble</a></code> format.
</p>
<p>This function correspond to the <strong>structured query</strong> search described in the
<a href="https://nominatim.org/release-docs/develop/api/Search/">API endpoint</a>. For
performing a free-form search use <code><a href="#topic+geo_lite_sf">geo_lite_sf()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_lite_struct_sf(
  amenity = NULL,
  street = NULL,
  city = NULL,
  county = NULL,
  state = NULL,
  country = NULL,
  postalcode = NULL,
  limit = 1,
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_lite_struct_sf_+3A_amenity">amenity</code></td>
<td>
<p>Name and/or type of POI, see also <a href="#topic+geo_amenity">geo_amenity</a>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_street">street</code></td>
<td>
<p>House number and street name.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_city">city</code></td>
<td>
<p>City.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_county">county</code></td>
<td>
<p>County.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_state">state</code></td>
<td>
<p>State.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_country">country</code></td>
<td>
<p>Country.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_postalcode">postalcode</code></td>
<td>
<p>Postal Code.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_limit">limit</code></td>
<td>
<p>Maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_return_addresses">return_addresses</code></td>
<td>
<p>Return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_lite_struct_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The structured form of the search query allows to look up up an address that
is already split into its components. Each parameter represents a field of
the address. All parameters are optional. You should only use the ones that
are relevant for the address you want to geocode.
</p>
<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object with the results.
</p>


<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_lite_struct">geo_lite_struct()</a></code>.
</p>
<p>Geocoding: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct">geo_lite_struct</a>()</code>
</p>
<p>Get <code><a href="sf.html#topic+sf">sf</a></code> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Map

pl_mayor &lt;- geo_lite_struct_sf(
  street = "Plaza Mayor",
  county = "Comunidad de Madrid",
  country = "Spain", limit = 50,
  full_results = TRUE, verbose = TRUE
)

# Outline
ccaa &lt;- geo_lite_sf("Comunidad de Madrid, Spain", points_only = FALSE)

library(ggplot2)

if (any(!sf::st_is_empty(pl_mayor), !sf::st_is_empty(ccaa))) {
  ggplot(ccaa) +
    geom_sf() +
    geom_sf(data = pl_mayor, aes(shape = addresstype, color = addresstype))
}


</code></pre>

<hr>
<h2 id='nominatim_check_access'>Check access to Nominatim API</h2><span id='topic+nominatim_check_access'></span>

<h3>Description</h3>

<p>Check if <strong>R</strong> has access to resources at
<a href="https://nominatim.openstreetmap.org">https://nominatim.openstreetmap.org</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nominatim_check_access(
  nominatim_server = "https://nominatim.openstreetmap.org/"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nominatim_check_access_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical <code>TRUE/FALSE</code>.
</p>


<h3>See Also</h3>

<p><a href="https://nominatim.org/release-docs/latest/api/Status/">https://nominatim.org/release-docs/latest/api/Status/</a>.
</p>
<p>API Management: 
<code><a href="#topic+api_call">api_call</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nominatim_check_access()

</code></pre>

<hr>
<h2 id='osm_amenities'>OpenStreetMap amenity database</h2><span id='topic+osm_amenities'></span>

<h3>Description</h3>

<p>Database with the list of amenities available on OpenStreetMap.
</p>


<h3>Format</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with with
136 rows and
fields:
</p>

<dl>
<dt>category</dt><dd><p>The category of the amenity.</p>
</dd>
<dt>amenity</dt><dd><p>The value of the amenity.</p>
</dd>
<dt>comment</dt><dd><p>A brief description of the type of amenity.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Data extracted on <strong>03 April 2024</strong>.
</p>


<h3>Source</h3>

<p><a href="https://wiki.openstreetmap.org/wiki/Key:amenity">https://wiki.openstreetmap.org/wiki/Key:amenity</a>
</p>


<h3>See Also</h3>

<p>Other amenity: 
<code><a href="#topic+geo_amenity">geo_amenity</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("osm_amenities")

osm_amenities
</code></pre>

<hr>
<h2 id='reverse_geo_lite'>Reverse geocoding API for OSM elements</h2><span id='topic+reverse_geo_lite'></span>

<h3>Description</h3>

<p>Generates an address from a latitude and longitude. Latitudes must be
between <code class="reqn">\left[-90, 90 \right]</code> and longitudes between
<code class="reqn">\left[-180, 180 \right]</code>. This function returns the
<code><a href="tibble.html#topic+tibble">tibble</a></code> associated with the query, see
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf()</a></code> for retrieving the data as a spatial object
(<code><a href="sf.html#topic+sf">sf</a></code> format).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geo_lite(
  lat,
  long,
  address = "address",
  full_results = FALSE,
  return_coords = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  progressbar = TRUE,
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geo_lite_+3A_lat">lat</code></td>
<td>
<p>Latitude values in numeric format. Must be in the range
<code class="reqn">\left[-90, 90 \right]</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_long">long</code></td>
<td>
<p>Longitude values in numeric format. Must be in the range
<code class="reqn">\left[-180, 180 \right]</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_address">address</code></td>
<td>
<p>Address column name in the output data (default  <code>"address"</code>).</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_return_coords">return_coords</code></td>
<td>
<p>Return input coordinates with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_custom_query">custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named
list (ie. <code>list(zoom = 3)</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/develop/api/Reverse/">https://nominatim.org/release-docs/develop/api/Reverse/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with the results found by the query.
</p>


<h3>About Zooming</h3>

<p>Use the option <code>custom_query = list(zoom = 3)</code> to adjust the output. Some
equivalences on terms of zoom:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>zoom</strong> </td><td style="text-align: left;"> <strong>address_detail</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>3</code> </td><td style="text-align: left;"> country </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>5</code> </td><td style="text-align: left;"> state </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>8</code> </td><td style="text-align: left;"> county </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>10</code> </td><td style="text-align: left;"> city </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>14</code> </td><td style="text-align: left;"> suburb </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>16</code> </td><td style="text-align: left;"> major streets </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>17</code> </td><td style="text-align: left;"> major and minor streets </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>18</code> </td><td style="text-align: left;"> building </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf()</a></code>, <code><a href="tidygeocoder.html#topic+reverse_geo">tidygeocoder::reverse_geo()</a></code>.
</p>
<p>Reverse geocoding coordinates: 
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


reverse_geo_lite(lat = 40.75728, long = -73.98586)

# Several coordinates
reverse_geo_lite(lat = c(40.75728, 55.95335), long = c(-73.98586, -3.188375))

# With options: zoom to country level
sev &lt;- reverse_geo_lite(
  lat = c(40.75728, 55.95335), long = c(-73.98586, -3.188375),
  custom_query = list(zoom = 0, extratags = TRUE),
  verbose = TRUE, full_results = TRUE
)

dplyr::glimpse(sev)


</code></pre>

<hr>
<h2 id='reverse_geo_lite_sf'>Reverse geocoding API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</h2><span id='topic+reverse_geo_lite_sf'></span>

<h3>Description</h3>

<p>Generates an address from a latitude and longitude. Latitudes must be
between <code class="reqn">\left[-90, 90 \right]</code> and longitudes between
<code class="reqn">\left[-180, 180 \right]</code>. This function returns the spatial object
associated with the query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see <code><a href="#topic+reverse_geo_lite">reverse_geo_lite()</a></code> for
retrieving the data in <code><a href="tibble.html#topic+tibble">tibble</a></code> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geo_lite_sf(
  lat,
  long,
  address = "address",
  full_results = FALSE,
  return_coords = TRUE,
  verbose = FALSE,
  nominatim_server = "https://nominatim.openstreetmap.org/",
  progressbar = TRUE,
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geo_lite_sf_+3A_lat">lat</code></td>
<td>
<p>Latitude values in numeric format. Must be in the range
<code class="reqn">\left[-90, 90 \right]</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_long">long</code></td>
<td>
<p>Longitude values in numeric format. Must be in the range
<code class="reqn">\left[-180, 180 \right]</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_address">address</code></td>
<td>
<p>Address column name in the output data (default  <code>"address"</code>).</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_full_results">full_results</code></td>
<td>
<p>Returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_return_coords">return_coords</code></td>
<td>
<p>Return input coordinates with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_nominatim_server">nominatim_server</code></td>
<td>
<p>The URL of the Nominatim server to use.
Defaults to <code>"https://nominatim.openstreetmap.org/"</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named
list (ie. <code>list(zoom = 3)</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/develop/api/Reverse/">https://nominatim.org/release-docs/develop/api/Reverse/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object with the results.
</p>


<h3>About Zooming</h3>

<p>Use the option <code>custom_query = list(zoom = 3)</code> to adjust the output. Some
equivalences on terms of zoom:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>zoom</strong> </td><td style="text-align: left;"> <strong>address_detail</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>3</code> </td><td style="text-align: left;"> country </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>5</code> </td><td style="text-align: left;"> state </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>8</code> </td><td style="text-align: left;"> county </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>10</code> </td><td style="text-align: left;"> city </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>14</code> </td><td style="text-align: left;"> suburb </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>16</code> </td><td style="text-align: left;"> major streets </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>17</code> </td><td style="text-align: left;"> major and minor streets </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>18</code> </td><td style="text-align: left;"> building </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+reverse_geo_lite">reverse_geo_lite()</a></code>.
</p>
<p>Reverse geocoding coordinates: 
<code><a href="#topic+reverse_geo_lite">reverse_geo_lite</a>()</code>
</p>
<p>Get <code><a href="sf.html#topic+sf">sf</a></code> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_amenity_sf">geo_amenity_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+geo_lite_struct_sf">geo_lite_struct_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)

# Coliseum coords
col_lon &lt;- 12.49309
col_lat &lt;- 41.89026

# Coliseum as polygon
col_sf &lt;- reverse_geo_lite_sf(
  lat = col_lat,
  lon = col_lon,
  points_only = FALSE
)

dplyr::glimpse(col_sf)

if (any(!sf::st_is_empty(col_sf))) {
  ggplot(col_sf) +
    geom_sf()
}

# City of Rome - same coords with zoom 10

rome_sf &lt;- reverse_geo_lite_sf(
  lat = col_lat,
  lon = col_lon,
  custom_query = list(zoom = 10),
  points_only = FALSE
)

dplyr::glimpse(rome_sf)

if (any(!sf::st_is_empty(rome_sf))) {
  ggplot(rome_sf) +
    geom_sf()
}


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

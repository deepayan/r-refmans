<!DOCTYPE html><html><head><title>Help for package nominatimlite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nominatimlite}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#api_call'><p>Helper function for centralize API queries</p></a></li>
<li><a href='#bbox_to_poly'><p>Coerce a bounding box to a <code>sfc</code> <code>POLYGON</code> object</p></a></li>
<li><a href='#geo_address_lookup'><p>Address lookup API for OSM elements</p></a></li>
<li><a href='#geo_address_lookup_sf'><p>Address lookup API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</p></a></li>
<li><a href='#geo_amenity'><p>Geocode amenities</p></a></li>
<li><a href='#geo_lite'><p>Address search API for OSM elements</p></a></li>
<li><a href='#geo_lite_sf'><p>Address search API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</p></a></li>
<li><a href='#nominatim_check_access'><p>Check access to Nominatim API</p></a></li>
<li><a href='#nominatimlite-package'><p>nominatimlite: Interface with 'Nominatim' API Service</p></a></li>
<li><a href='#reverse_geo_lite'><p>Reverse geocoding API for OSM elements</p></a></li>
<li><a href='#reverse_geo_lite_sf'><p>Reverse geocoding API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface with 'Nominatim' API Service</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Lite interface for getting data from 'OSM' service
    'Nominatim' <a href="https://nominatim.org/release-docs/latest/">https://nominatim.org/release-docs/latest/</a>. Extract
    coordinates from addresses, find places near a set of coordinates and
    return spatial objects on 'sf' format.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://dieghernan.github.io/nominatimlite/">https://dieghernan.github.io/nominatimlite/</a>,
<a href="https://github.com/dieghernan/nominatimlite">https://github.com/dieghernan/nominatimlite</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dieghernan/nominatimlite/issues">https://github.com/dieghernan/nominatimlite/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), jsonlite (&ge; 1.7.0), lifecycle, sf (&ge;
0.9.0), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>arcgeocoder, ggplot2 (&ge; 3.0.0), knitr, rmarkdown, testthat
(&ge; 3.0.0), tidygeocoder</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>dieghernan/gitdevr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Copyright:</td>
<td>Data © OpenStreetMap contributors, ODbL 1.0.
&lt;https://www.openstreetmap.org/copyright&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>cartography</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>r, geocoding, openstreetmap, address, nominatim,
reverse-geocoding, rstats, shapefile, r-package, spatial, cran,
api-wrapper</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-01 19:16:22 UTC; diego</td>
</tr>
<tr>
<td>Author:</td>
<td>Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Jindra Lacko <a href="https://orcid.org/0000-0002-0375-5156"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb, rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Diego Hernangómez &lt;diego.hernangomezherrero@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-01 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='api_call'>Helper function for centralize API queries</h2><span id='topic+api_call'></span>

<h3>Description</h3>

<p>A wrapper of <code><a href="utils.html#topic+download.file">utils::download.file()</a></code>. On warning on error it will
retry the call. Requests are adjusted to the rate of 1 query per second.
</p>
<p>See <a href="https://operations.osmfoundation.org/policies/nominatim/">Nominatim Usage Policy</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>api_call(url, destfile, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="api_call_+3A_url">url</code></td>
<td>
<p>a <code><a href="base.html#topic+character">character</a></code> string (or longer vector
for the <code>"libcurl"</code> method) naming the URL of a resource to be
downloaded.</p>
</td></tr>
<tr><td><code id="api_call_+3A_destfile">destfile</code></td>
<td>
<p>a character string (or vector, see the <code>url</code>
argument) with the file path where the downloaded file is to be
saved.  Tilde-expansion is performed.</p>
</td></tr>
<tr><td><code id="api_call_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code>, suppress status messages (if any), and
the progress bar.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical <code>TRUE/FALSE</code>
</p>


<h3>See Also</h3>

<p>API Management: 
<code><a href="#topic+nominatim_check_access">nominatim_check_access</a>()</code>
</p>

<hr>
<h2 id='bbox_to_poly'>Coerce a bounding box to a <code>sfc</code> <code>POLYGON</code> object</h2><span id='topic+bbox_to_poly'></span>

<h3>Description</h3>

<p>Create a <code><a href="sf.html#topic+sfc">sfc</a></code> object from the coordinates of a
bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bbox_to_poly(bbox = NA, xmin = NA, ymin = NA, xmax = NA, ymax = NA, crs = 4326)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bbox_to_poly_+3A_bbox">bbox</code></td>
<td>
<p>numeric vector of 4 elements representing the coordinates of the
bounding box. Values should be <code>c(xmin, ymin, xmax, ymax)</code>.</p>
</td></tr>
<tr><td><code id="bbox_to_poly_+3A_xmin">xmin</code>, <code id="bbox_to_poly_+3A_ymin">ymin</code>, <code id="bbox_to_poly_+3A_xmax">xmax</code>, <code id="bbox_to_poly_+3A_ymax">ymax</code></td>
<td>
<p>alternatively, you can use these named parameters
instead of <code>bbox</code>.</p>
</td></tr>
<tr><td><code id="bbox_to_poly_+3A_crs">crs</code></td>
<td>
<p>coordinate reference system, something suitable as input to <a href="sf.html#topic+st_crs">st_crs</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bounding boxes can be located using different online tools, as
<a href="https://boundingbox.klokantech.com/">Bounding Box Tool</a>.
</p>


<h3>Value</h3>

<p>A <code><a href="sf.html#topic+sfc">sfc</a></code> object of class <code>POLYGON</code>.
</p>


<h3>See Also</h3>

<p><code><a href="sf.html#topic+st_as_sfc">sf::st_as_sfc()</a></code> and <code><a href="sf.html#topic+sfc">sf::st_sfc()</a></code>.
</p>
<p>Get <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> objects: 
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# bounding box of Germany
bbox_GER &lt;- c(5.86631529, 47.27011137, 15.04193189, 55.09916098)

bbox_GER_sf &lt;- bbox_to_poly(bbox_GER)


library(ggplot2)

ggplot(bbox_GER_sf) +
  geom_sf()

# Extract the bounding box of a sf object
sfobj &lt;- geo_lite_sf("seychelles", points_only = FALSE)

sfobj

# Need at least one non-empty object
if (any(!sf::st_is_empty(sfobj))) {
  bbox &lt;- sf::st_bbox(sfobj)

  bbox

  bbox_sfobj &lt;- bbox_to_poly(bbox)

  ggplot(bbox_sfobj) +
    geom_sf(fill = "lightblue", alpha = 0.5) +
    geom_sf(data = sfobj, fill = "wheat")
}


</code></pre>

<hr>
<h2 id='geo_address_lookup'>Address lookup API for OSM elements</h2><span id='topic+geo_address_lookup'></span>

<h3>Description</h3>

<p>The lookup API allows to query the address and other details of one or
multiple OSM objects like node, way or relation. This function returns the
<a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> associated with the query, see <code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf()</a></code> for
retrieving the data as a spatial object (<a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_address_lookup(
  osm_ids,
  type = c("N", "W", "R"),
  lat = "lat",
  long = "lon",
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_address_lookup_+3A_osm_ids">osm_ids</code></td>
<td>
<p>vector of OSM identifiers as <strong>numeric</strong>
(<code>c(00000, 11111, 22222)</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_type">type</code></td>
<td>
<p>vector character of the type of the OSM type associated to each
<code>osm_ids</code>. Possible values are node (<code>"N"</code>), way (<code>"W"</code>) or relation
(<code>"R"</code>). If a single value is provided it would be recycled.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_lat">lat</code></td>
<td>
<p>latitude column name in the output data (default  <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_long">long</code></td>
<td>
<p>longitude column name in the output data (default  <code>"long"</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_return_addresses">return_addresses</code></td>
<td>
<p>return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/develop/api/Lookup/">https://nominatim.org/release-docs/develop/api/Lookup/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> with the results found by the query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf()</a></code>
</p>
<p>Address Lookup API: 
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>
</p>
<p>Geocoding strings: 
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

ids &lt;- geo_address_lookup(osm_ids = c(46240148, 34633854), type = "W")

ids

several &lt;- geo_address_lookup(c(146656, 240109189), type = c("R", "N"))
several


</code></pre>

<hr>
<h2 id='geo_address_lookup_sf'>Address lookup API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</h2><span id='topic+geo_address_lookup_sf'></span>

<h3>Description</h3>

<p>The lookup API allows to query the address and other details of one or
multiple OSM objects like node, way or relation. This function returns the
spatial object associated with the query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see
<code><a href="#topic+geo_address_lookup">geo_address_lookup()</a></code> for retrieving the data in <a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_address_lookup_sf(
  osm_ids,
  type = c("N", "W", "R"),
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_address_lookup_sf_+3A_osm_ids">osm_ids</code></td>
<td>
<p>vector of OSM identifiers as <strong>numeric</strong>
(<code>c(00000, 11111, 22222)</code>).</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_type">type</code></td>
<td>
<p>vector character of the type of the OSM type associated to each
<code>osm_ids</code>. Possible values are node (<code>"N"</code>), way (<code>"W"</code>) or relation
(<code>"R"</code>). If a single value is provided it would be recycled.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the API service.
If <code>FALSE</code> (default) only address columns are returned. See also
<code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_return_addresses">return_addresses</code></td>
<td>
<p>return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_address_lookup_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/latest/api/Lookup/">https://nominatim.org/release-docs/latest/api/Lookup/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object with the results.
</p>


<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_address_lookup">geo_address_lookup()</a></code>
</p>
<p>Address Lookup API: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>
</p>
<p>Geocoding strings: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>
</p>
<p>Get <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Notre Dame Cathedral, Paris

NotreDame &lt;- geo_address_lookup_sf(osm_ids = 201611261, type = "W")

# Need at least one non-empty object
if (any(!sf::st_is_empty(NotreDame))) {
  library(ggplot2)

  ggplot(NotreDame) +
    geom_sf()
}

NotreDame_poly &lt;- geo_address_lookup_sf(201611261,
  type = "W",
  points_only = FALSE
)


if (any(!sf::st_is_empty(NotreDame_poly))) {
  ggplot(NotreDame_poly) +
    geom_sf()
}

# It is vectorized

several &lt;- geo_address_lookup_sf(c(146656, 240109189), type = c("R", "N"))
several


</code></pre>

<hr>
<h2 id='geo_amenity'>Geocode amenities</h2><span id='topic+geo_amenity'></span><span id='topic+geo_amenity_sf'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#defunct"><img src="../help/figures/lifecycle-defunct.svg" alt='[Defunct]' /></a>
</p>
<p>This operation is not supported any more. Use
<code><a href="arcgeocoder.html#topic+arc_geo_categories">arcgeocoder::arc_geo_categories()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_amenity(bbox = NULL, ...)

geo_amenity_sf(bbox = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_amenity_+3A_bbox">bbox</code>, <code id="geo_amenity_+3A_...">...</code></td>
<td>
<p>Deprecated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#' # Madrid, Spain

library(arcgeocoder)
library(ggplot2)

bbox &lt;- c(-3.888954, 40.311977, -3.517916, 40.643729)

# Food
rest_pub &lt;- arc_geo_categories(
  bbox = bbox, category = "Bakery,Bar or Pub",
  full_results = TRUE,
  limit = 50
)

rest_pub

</code></pre>

<hr>
<h2 id='geo_lite'>Address search API for OSM elements</h2><span id='topic+geo_lite'></span>

<h3>Description</h3>

<p>Geocodes addresses given as character values. This function returns the
<a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> associated with the query, see <code><a href="#topic+geo_lite_sf">geo_lite_sf()</a></code> for
retrieving the data as a spatial object (<a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_lite(
  address,
  lat = "lat",
  long = "lon",
  limit = 1,
  full_results = FALSE,
  return_addresses = TRUE,
  verbose = FALSE,
  progressbar = TRUE,
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_lite_+3A_address">address</code></td>
<td>
<p>character with single line address, e.g.
(<code>"1600 Pennsylvania Ave NW, Washington"</code>) or a vector of addresses
(<code>c("Madrid", "Barcelona")</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_lat">lat</code></td>
<td>
<p>latitude column name in the output data (default  <code>"lat"</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_long">long</code></td>
<td>
<p>longitude column name in the output data (default  <code>"long"</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_limit">limit</code></td>
<td>
<p>maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_return_addresses">return_addresses</code></td>
<td>
<p>return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="geo_lite_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> with the results.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geo_lite_sf">geo_lite_sf()</a></code>, <code><a href="tidygeocoder.html#topic+geo">tidygeocoder::geo()</a></code>
</p>
<p>Geocoding strings: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

geo_lite("Madrid, Spain")

# Several addresses
geo_lite(c("Madrid", "Barcelona"))

# With options: restrict search to USA
geo_lite(c("Madrid", "Barcelona"),
  custom_query = list(countrycodes = "US"),
  full_results = TRUE
)


</code></pre>

<hr>
<h2 id='geo_lite_sf'>Address search API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</h2><span id='topic+geo_lite_sf'></span>

<h3>Description</h3>

<p>This function allows you to geocode addresses and return the corresponding
spatial object. This function returns the spatial object associated with the
query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see <code><a href="#topic+geo_lite_sf">geo_lite_sf()</a></code> for retrieving the data in
<a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_lite_sf(
  address,
  limit = 1,
  return_addresses = TRUE,
  full_results = FALSE,
  verbose = FALSE,
  progressbar = TRUE,
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geo_lite_sf_+3A_address">address</code></td>
<td>
<p>character with single line address, e.g.
(<code>"1600 Pennsylvania Ave NW, Washington"</code>) or a vector of addresses
(<code>c("Madrid", "Barcelona")</code>).</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_limit">limit</code></td>
<td>
<p>maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_return_addresses">return_addresses</code></td>
<td>
<p>return input addresses with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the API service.
If <code>FALSE</code> (default) only address columns are returned. See also
<code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>A named list with API-specific parameters to be used
(i.e. <code>list(countrycodes = "US")</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="geo_lite_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/latest/api/Search/">https://nominatim.org/release-docs/latest/api/Search/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object with the results.
</p>


<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p>Geocoding strings: 
<code><a href="#topic+geo_address_lookup">geo_address_lookup</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_lite">geo_lite</a>()</code>
</p>
<p>Get <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Map - Points
library(ggplot2)

string &lt;- "Statue of Liberty, NY, USA"
sol &lt;- geo_lite_sf(string)

if (any(!sf::st_is_empty(sol))) {
  ggplot(sol) +
    geom_sf()
}

sol_poly &lt;- geo_lite_sf(string, points_only = FALSE)

if (any(!sf::st_is_empty(sol_poly))) {
  ggplot(sol_poly) +
    geom_sf() +
    geom_sf(data = sol, color = "red")
}
# Several results

Madrid &lt;- geo_lite_sf("Madrid",
  limit = 2,
  points_only = FALSE, full_results = TRUE
)

if (any(!sf::st_is_empty(Madrid))) {
  ggplot(Madrid) +
    geom_sf(fill = NA)
}


</code></pre>

<hr>
<h2 id='nominatim_check_access'>Check access to Nominatim API</h2><span id='topic+nominatim_check_access'></span>

<h3>Description</h3>

<p>Check if <strong>R</strong> has access to resources at
<a href="https://nominatim.openstreetmap.org">https://nominatim.openstreetmap.org</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nominatim_check_access()
</code></pre>


<h3>Value</h3>

<p>a logical.
</p>


<h3>See Also</h3>

<p><a href="https://nominatim.org/release-docs/latest/api/Status/">https://nominatim.org/release-docs/latest/api/Status/</a>
</p>
<p>API Management: 
<code><a href="#topic+api_call">api_call</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nominatim_check_access()

</code></pre>

<hr>
<h2 id='nominatimlite-package'>nominatimlite: Interface with 'Nominatim' API Service</h2><span id='topic+nominatimlite'></span><span id='topic+nominatimlite-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Lite interface for getting data from 'OSM' service 'Nominatim' <a href="https://nominatim.org/release-docs/latest/">https://nominatim.org/release-docs/latest/</a>. Extract coordinates from addresses, find places near a set of coordinates and return spatial objects on 'sf' format.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Diego Hernangómez <a href="mailto:diego.hernangomezherrero@gmail.com">diego.hernangomezherrero@gmail.com</a> (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Jindra Lacko (<a href="https://orcid.org/0000-0002-0375-5156">ORCID</a>) [contributor, reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://dieghernan.github.io/nominatimlite/">https://dieghernan.github.io/nominatimlite/</a>
</p>
</li>
<li> <p><a href="https://github.com/dieghernan/nominatimlite">https://github.com/dieghernan/nominatimlite</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/dieghernan/nominatimlite/issues">https://github.com/dieghernan/nominatimlite/issues</a>
</p>
</li></ul>


<hr>
<h2 id='reverse_geo_lite'>Reverse geocoding API for OSM elements</h2><span id='topic+reverse_geo_lite'></span>

<h3>Description</h3>

<p>Generates an address from a latitude and longitude. Latitudes must be
between <code style="white-space: pre;">&#8288;[-90, 90]&#8288;</code> and longitudes between <code style="white-space: pre;">&#8288;[-180, 180]&#8288;</code>. This
function returns the <a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> associated with the query, see
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf()</a></code> for retrieving the data as a spatial object
(<a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>) format).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geo_lite(
  lat,
  long,
  address = "address",
  full_results = FALSE,
  return_coords = TRUE,
  verbose = FALSE,
  progressbar = TRUE,
  custom_query = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geo_lite_+3A_lat">lat</code></td>
<td>
<p>latitude values in numeric format. Must be in the range
<code style="white-space: pre;">&#8288;[-90, 90]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_long">long</code></td>
<td>
<p>longitude values in numeric format. Must be in the range
<code style="white-space: pre;">&#8288;[-180, 180]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_address">address</code></td>
<td>
<p>address column name in the output data (default  <code>"address"</code>).</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_return_coords">return_coords</code></td>
<td>
<p>return input coordinates with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_+3A_custom_query">custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named
list (ie. <code>list(zoom = 3)</code>). See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/develop/api/Reverse/">https://nominatim.org/release-docs/develop/api/Reverse/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> with the results.
</p>


<h3>About Zooming</h3>

<p>Use the option <code>custom_query = list(zoom = 3)</code> to adjust the output. Some
equivalences on terms of zoom:</p>

<table>
<tr>
 <td style="text-align: right;">
   <strong>zoom</strong> </td><td style="text-align: left;"> <strong>address_detail</strong> </td>
</tr>
<tr>
 <td style="text-align: right;">
   3 </td><td style="text-align: left;"> country </td>
</tr>
<tr>
 <td style="text-align: right;">
   5 </td><td style="text-align: left;"> state </td>
</tr>
<tr>
 <td style="text-align: right;">
   8 </td><td style="text-align: left;"> county </td>
</tr>
<tr>
 <td style="text-align: right;">
   10 </td><td style="text-align: left;"> city </td>
</tr>
<tr>
 <td style="text-align: right;">
   14 </td><td style="text-align: left;"> suburb </td>
</tr>
<tr>
 <td style="text-align: right;">
   16 </td><td style="text-align: left;"> major streets </td>
</tr>
<tr>
 <td style="text-align: right;">
   17 </td><td style="text-align: left;"> major and minor streets </td>
</tr>
<tr>
 <td style="text-align: right;">
   18 </td><td style="text-align: left;"> building </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf()</a></code>, <code><a href="tidygeocoder.html#topic+reverse_geo">tidygeocoder::reverse_geo()</a></code>
</p>
<p>Reverse geocoding coordinates: 
<code><a href="#topic+reverse_geo_lite_sf">reverse_geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


reverse_geo_lite(lat = 40.75728, long = -73.98586)

# Several coordinates
reverse_geo_lite(lat = c(40.75728, 55.95335), long = c(-73.98586, -3.188375))

# With options: zoom to country level
sev &lt;- reverse_geo_lite(
  lat = c(40.75728, 55.95335), long = c(-73.98586, -3.188375),
  custom_query = list(zoom = 0, extratags = 1),
  verbose = TRUE, full_results = TRUE
)

dplyr::glimpse(sev)


</code></pre>

<hr>
<h2 id='reverse_geo_lite_sf'>Reverse geocoding API for OSM elements in <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> format</h2><span id='topic+reverse_geo_lite_sf'></span>

<h3>Description</h3>

<p>Generates an address from a latitude and longitude. Latitudes must be
between <code style="white-space: pre;">&#8288;[-90, 90]&#8288;</code> and longitudes between <code style="white-space: pre;">&#8288;[-180, 180]&#8288;</code>. This function
returns the spatial object associated with the query using <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a>, see
<code><a href="#topic+reverse_geo_lite">reverse_geo_lite()</a></code> for retrieving the data in <a href="https://CRAN.R-project.org/package=tibble"><span class="pkg">tibble</span></a> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geo_lite_sf(
  lat,
  long,
  address = "address",
  full_results = FALSE,
  return_coords = TRUE,
  verbose = FALSE,
  progressbar = TRUE,
  custom_query = list(),
  points_only = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geo_lite_sf_+3A_lat">lat</code></td>
<td>
<p>latitude values in numeric format. Must be in the range
<code style="white-space: pre;">&#8288;[-90, 90]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_long">long</code></td>
<td>
<p>longitude values in numeric format. Must be in the range
<code style="white-space: pre;">&#8288;[-180, 180]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_address">address</code></td>
<td>
<p>address column name in the output data (default  <code>"address"</code>).</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_full_results">full_results</code></td>
<td>
<p>returns all available data from the API service.
If <code>FALSE</code> (default) only latitude, longitude and address columns are
returned. See also <code>return_addresses</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_return_coords">return_coords</code></td>
<td>
<p>return input coordinates with results if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code> then detailed logs are output to the console.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If <code>TRUE</code> displays a progress bar to indicate
the progress of the function.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_custom_query">custom_query</code></td>
<td>
<p>API-specific parameters to be used, passed as a named
list (ie. <code>list(zoom = 3)</code>). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="reverse_geo_lite_sf_+3A_points_only">points_only</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Whether to return only spatial
points (<code>TRUE</code>, which is the default) or potentially other shapes as
provided by the Nominatim API (<code>FALSE</code>). See <strong>About Geometry Types</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="https://nominatim.org/release-docs/develop/api/Reverse/">https://nominatim.org/release-docs/develop/api/Reverse/</a> for additional
parameters to be passed to <code>custom_query</code>.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object with the results.
</p>


<h3>About Zooming</h3>

<p>Use the option <code>custom_query = list(zoom = 3)</code> to adjust the output. Some
equivalences on terms of zoom:</p>

<table>
<tr>
 <td style="text-align: right;">
   <strong>zoom</strong> </td><td style="text-align: left;"> <strong>address_detail</strong> </td>
</tr>
<tr>
 <td style="text-align: right;">
   3 </td><td style="text-align: left;"> country </td>
</tr>
<tr>
 <td style="text-align: right;">
   5 </td><td style="text-align: left;"> state </td>
</tr>
<tr>
 <td style="text-align: right;">
   8 </td><td style="text-align: left;"> county </td>
</tr>
<tr>
 <td style="text-align: right;">
   10 </td><td style="text-align: left;"> city </td>
</tr>
<tr>
 <td style="text-align: right;">
   14 </td><td style="text-align: left;"> suburb </td>
</tr>
<tr>
 <td style="text-align: right;">
   16 </td><td style="text-align: left;"> major streets </td>
</tr>
<tr>
 <td style="text-align: right;">
   17 </td><td style="text-align: left;"> major and minor streets </td>
</tr>
<tr>
 <td style="text-align: right;">
   18 </td><td style="text-align: left;"> building </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>



<h3>About Geometry Types</h3>

<p>The parameter <code>points_only</code> specifies whether the function results will be
points (all Nominatim results are guaranteed to have at least point
geometry) or possibly other spatial objects.
</p>
<p>Note that the type of geometry returned in case of <code>points_only = FALSE</code>
will depend on the object being geocoded:
</p>

<ul>
<li><p> Administrative areas, major buildings and the like will be
returned as polygons.
</p>
</li>
<li><p> Rivers, roads and their like as lines.
</p>
</li>
<li><p> Amenities may be points even in case of a <code>points_only = FALSE</code> call.
</p>
</li></ul>

<p>The function is vectorized, allowing for multiple addresses to be geocoded;
in case of <code>points_only = FALSE</code>  multiple geometry types may be returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+reverse_geo_lite">reverse_geo_lite()</a></code>
</p>
<p>Reverse geocoding coordinates: 
<code><a href="#topic+reverse_geo_lite">reverse_geo_lite</a>()</code>
</p>
<p>Get <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> objects: 
<code><a href="#topic+bbox_to_poly">bbox_to_poly</a>()</code>,
<code><a href="#topic+geo_address_lookup_sf">geo_address_lookup_sf</a>()</code>,
<code><a href="#topic+geo_lite_sf">geo_lite_sf</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)

# Coliseum coords
col_lon &lt;- 12.49309
col_lat &lt;- 41.89026

# Coliseum as polygon
col_sf &lt;- reverse_geo_lite_sf(
  lat = col_lat,
  lon = col_lon,
  points_only = FALSE
)

dplyr::glimpse(col_sf)

if (any(!sf::st_is_empty(col_sf))) {
  ggplot(col_sf) +
    geom_sf()
}

# City of Rome - same coords with zoom 10

rome_sf &lt;- reverse_geo_lite_sf(
  lat = col_lat,
  lon = col_lon,
  custom_query = list(zoom = 10),
  points_only = FALSE
)

dplyr::glimpse(rome_sf)

if (any(!sf::st_is_empty(rome_sf))) {
  ggplot(rome_sf) +
    geom_sf()
}


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

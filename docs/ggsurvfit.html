<!DOCTYPE html><html><head><title>Help for package ggsurvfit</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggsurvfit}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_censor_mark'><p>Add Censor Marking</p></a></li>
<li><a href='#add_confidence_interval'><p>Add Confidence Interval</p></a></li>
<li><a href='#add_legend_title'><p>Add Legend Title</p></a></li>
<li><a href='#add_pvalue'><p>Add p-value</p></a></li>
<li><a href='#add_quantile'><p>Add Quantile Annotation</p></a></li>
<li><a href='#add_risktable'><p>Add risk table</p></a></li>
<li><a href='#add_risktable_strata_symbol'><p>Use Symbol for Strata in Risk Table</p></a></li>
<li><a href='#adtte'><p>Example phase III clinical trial data set</p></a></li>
<li><a href='#df_colon'><p>Formatted Copy of <code>survival::colon</code></p></a></li>
<li><a href='#df_lung'><p>Formatted Copy of <code>survival::lung</code></p></a></li>
<li><a href='#format_p'><p>Format p-value</p></a></li>
<li><a href='#ggcuminc'><p>Plot Cumulative Incidence</p></a></li>
<li><a href='#ggsurvfit'><p>Plot Survival Probability</p></a></li>
<li><a href='#ggsurvfit_align_plots'><p>Align Plots</p></a></li>
<li><a href='#ggsurvfit_build'><p>Build 'ggsurvfit' Object</p></a></li>
<li><a href='#ggsurvfit_options'><p>Global Options</p></a></li>
<li><a href='#ggsurvfit-package'><p>ggsurvfit: Flexible Time-to-Event Figures</p></a></li>
<li><a href='#grid.draw_ggsurvfit'><p>Draw ggsurvfit object</p></a></li>
<li><a href='#print_ggsurvfit'><p>Print ggsurvfit object</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#scale_ggsurvfit'><p>Apply Scales</p></a></li>
<li><a href='#stepribbon'><p>Step ribbon statistic</p></a></li>
<li><a href='#Surv_CNSR'><p>Create a Survival Outcome from CDISC Data</p></a></li>
<li><a href='#survfit2'><p>Create survival curves</p></a></li>
<li><a href='#survfit2_p'><p>Calculate p-value</p></a></li>
<li><a href='#theme_ggsurvfit'><p>Survfit Plot Themes</p></a></li>
<li><a href='#theme_risktable'><p>Risk Table Themes</p></a></li>
<li><a href='#tidy_cuminc'><p>Tidy a cuminc object</p></a></li>
<li><a href='#tidy_survfit'><p>Tidy a survfit object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Flexible Time-to-Event Figures</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Ease the creation of time-to-event (i.e. survival) endpoint
    figures. The modular functions create figures ready for publication.
    Each of the functions that add to or modify the figure are written as
    proper 'ggplot2' geoms or stat methods, allowing the functions from
    this package to be combined with any function or customization from
    'ggplot2' and other 'ggplot2' extension packages.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pharmaverse/ggsurvfit">https://github.com/pharmaverse/ggsurvfit</a>,
<a href="https://www.danieldsjoberg.com/ggsurvfit/">https://www.danieldsjoberg.com/ggsurvfit/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pharmaverse/ggsurvfit/issues">https://github.com/pharmaverse/ggsurvfit/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>broom (&ge; 1.0.0), cli (&ge; 3.0.0), dplyr (&ge; 1.0.3), ggplot2
(&ge; 3.4.0), glue (&ge; 1.6.0), gtable, patchwork (&ge; 1.1.0),
rlang (&ge; 1.0.0), survival (&ge; 3.4-0), tidyr (&ge; 1.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, scales (&ge; 1.1.0), spelling, testthat
(&ge; 3.2.0), tidycmprsk (&ge; 1.0.0), vdiffr (&ge; 1.0.0), withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>cowplot, ggeasy, gghighlight</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-31 00:40:38 UTC; sjobergd</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel D. Sjoberg <a href="https://orcid.org/0000-0003-0862-2018"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Mark Baillie [aut],
  Charlotta Fruechtenicht
    <a href="https://orcid.org/0000-0002-6689-6423"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Steven Haesendonckx
    <a href="https://orcid.org/0000-0001-8222-3686"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Tim Treis <a href="https://orcid.org/0000-0002-9686-4799"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel D. Sjoberg &lt;danield.sjoberg@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-31 01:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_censor_mark'>Add Censor Marking</h2><span id='topic+add_censor_mark'></span>

<h3>Description</h3>

<p>Add a marking on the figure to represent the time an observations was
censored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_censor_mark(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_censor_mark_+3A_...">...</code></td>
<td>
<p>arguments passed to passed to
<code>ggplot2::geom_point(...)</code> with defaults <code>shape = 3</code> and <code>size = 2</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  ggsurvfit() +
  add_confidence_interval() +
  add_censor_mark() +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='add_confidence_interval'>Add Confidence Interval</h2><span id='topic+add_confidence_interval'></span>

<h3>Description</h3>

<p>Add a confidence interval represented by either a ribbon or lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_confidence_interval(type = c("ribbon", "lines"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_confidence_interval_+3A_type">type</code></td>
<td>
<p>string indicating the type of confidence interval to draw.
Must be one of <code>c("ribbon", "lines")</code></p>
</td></tr>
<tr><td><code id="add_confidence_interval_+3A_...">...</code></td>
<td>
<p>arguments pass to geom.
</p>

<ul>
<li> <p><code>type = 'ribbon'</code>: Defaults are <code>ggplot2::geom_ribbon(alpha = 0.2, color = NA, ...)</code>
</p>
</li>
<li> <p><code>type = 'lines'</code>: Defaults are <code>ggplot2::geom_step(linetype = "dashed", na.rm = TRUE, ...)</code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit() +
  add_confidence_interval() +
  scale_ggsurvfit()

survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  ggsurvfit() +
  add_confidence_interval(type = "lines") +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='add_legend_title'>Add Legend Title</h2><span id='topic+add_legend_title'></span>

<h3>Description</h3>

<p>Add a default or custom title to the figure legend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_legend_title(title = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_legend_title_+3A_title">title</code></td>
<td>
<p>a string to override the default legend title. Default is <code>NULL</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ surg, data = df_colon) %&gt;%
  ggsurvfit() +
  add_legend_title() +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='add_pvalue'>Add p-value</h2><span id='topic+add_pvalue'></span>

<h3>Description</h3>


<ul>
<li> <p><code>add_pvalue("caption")</code>: Add a p-value to the figure via <code>ggplot2::labs(caption=)</code>
</p>
</li>
<li> <p><code>add_pvalue("annotation")</code>: Add a p-value text annotation via <code>ggplot2::annotation("text")</code>
</p>
</li></ul>

<p>P-values are calculated with <code>survival::survdiff()</code> or <code>tidycmprsk::glance()</code>.
Examples of custom placement located in the help file for <code>survfit_p()</code>.
</p>
<p>When a competing risks figure includes multiple outcomes, only the p-value
comparing stratum for the <em>first</em> outcome can be placed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_pvalue(
  location = c("caption", "annotation"),
  caption = "{p.value}",
  prepend_p = TRUE,
  pvalue_fun = format_p,
  rho = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_pvalue_+3A_location">location</code></td>
<td>
<p>string indicating where to place p-value. Must be one of
<code>c("caption", "annotation")</code></p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_caption">caption</code></td>
<td>
<p>string to be placed as the caption/annotation. String will
be processed with <code>glue::glue()</code>, and the default is <code>"{p.value}"</code></p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_prepend_p">prepend_p</code></td>
<td>
<p>prepend <code>"p="</code> to formatted p-value</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_pvalue_fun">pvalue_fun</code></td>
<td>
<p>function to round and style p-value with</p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_rho">rho</code></td>
<td>
<p>argument passed to  <code>survival::survdiff(rho=)</code></p>
</td></tr>
<tr><td><code id="add_pvalue_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>ggplot2::annotate()</code>. Commonly used arguments
are <code style="white-space: pre;">&#8288;x=&#8288;</code> and <code style="white-space: pre;">&#8288;y=&#8288;</code> to place the p-value at the specified coordinates on the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p><code>survfit_p()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ surg, df_colon) %&gt;%
  ggsurvfit() +
  add_pvalue(caption = "Log-rank {p.value}") +
  scale_ggsurvfit()

survfit2(Surv(time, status) ~ surg, df_colon) %&gt;%
  ggsurvfit() +
  add_pvalue("annotation", size = 5) +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='add_quantile'>Add Quantile Annotation</h2><span id='topic+add_quantile'></span>

<h3>Description</h3>

<p>Add quantile information annotated on to the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_quantile(y_value = NULL, x_value = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_quantile_+3A_y_value">y_value</code>, <code id="add_quantile_+3A_x_value">x_value</code></td>
<td>
<p>Numeric value where the line segment will be drawn.
Default is <code>y_value=0.5</code> when both <code>y_value</code> and <code>x_value</code> are unassigned.</p>
</td></tr>
<tr><td><code id="add_quantile_+3A_...">...</code></td>
<td>
<p>Named arguments passed to <code>ggplot2::geom_segment()</code> with default <code>linetype = 2</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit() +
  add_quantile(linetype = 2) +
  scale_ggsurvfit()

survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  ggsurvfit() +
  add_quantile(linetype = 2) +
  add_quantile(y_value = 0.9, linetype = 3) +
  scale_ggsurvfit()

survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit() +
  add_quantile(linetype = 2, y_value = NULL, x_value = 10) +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='add_risktable'>Add risk table</h2><span id='topic+add_risktable'></span>

<h3>Description</h3>

<p>Add risk tables below the plot showing the number at risk, events observed, and
number of censored observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_risktable(
  times = NULL,
  risktable_stats = c("n.risk", "cum.event"),
  risktable_group = c("auto", "strata", "risktable_stats"),
  risktable_height = NULL,
  stats_label = NULL,
  combine_groups = FALSE,
  theme = theme_risktable_default(),
  size = 3.5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_risktable_+3A_times">times</code></td>
<td>
<p>numeric vector of times where risk table values will be placed.
Default are the times shown on the x-axis. The times passed here will not
modify the tick marks shown on the figure. To modify which tick marks are
shown, use <code>ggplot2::scale_x_continuous(breaks=)</code>.</p>
</td></tr>
<tr><td><code id="add_risktable_+3A_risktable_stats">risktable_stats</code></td>
<td>
<p>character vector of statistics to show in the risk table.
Must be one or more of <code>c("n.risk", "cum.event", "cum.censor", "n.event", "n.censor")</code>.
Default is <code>c("n.risk", "cum.event")</code>.
</p>

<ul>
<li> <p><code>"n.risk"</code> Number of patients at risk
</p>
</li>
<li> <p><code>"cum.event"</code> Cumulative number of observed events
</p>
</li>
<li> <p><code>"cum.censor"</code> Cumulative number of censored observations
</p>
</li>
<li> <p><code>"n.event"</code> Number of events in time interval
</p>
</li>
<li> <p><code>"n.censor"</code> Number of censored observations in time interval
</p>
</li></ul>

<p>See additional details below.</p>
</td></tr>
<tr><td><code id="add_risktable_+3A_risktable_group">risktable_group</code></td>
<td>
<p>String indicating the grouping variable for the risk tables.
Default is <code>"auto"</code> and will select <code>"strata"</code> or <code>"risktable_stats"</code> based on context.
</p>

<ul>
<li> <p><code>"strata"</code> groups the risk tables per stratum when present.
</p>
</li>
<li> <p><code>"risktable_stats"</code> groups the risk tables per risktable_stats.
</p>
</li></ul>
</td></tr>
<tr><td><code id="add_risktable_+3A_risktable_height">risktable_height</code></td>
<td>
<p>A numeric value between 0 and 1 indicates the proportion of the
final plot the risk table will occupy.</p>
</td></tr>
<tr><td><code id="add_risktable_+3A_stats_label">stats_label</code></td>
<td>
<p>named vector or list of custom labels. Names are the statistics
from <code style="white-space: pre;">&#8288;risktable_stats=&#8288;</code> and the value is the custom label.</p>
</td></tr>
<tr><td><code id="add_risktable_+3A_combine_groups">combine_groups</code></td>
<td>
<p>logical indicating whether to combine the statistics
in the risk table across groups. Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="add_risktable_+3A_theme">theme</code></td>
<td>
<p>A risk table theme. Default is <code>theme_risktable_default()</code></p>
</td></tr>
<tr><td><code id="add_risktable_+3A_size">size</code>, <code id="add_risktable_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>ggplot2::geom_text(...)</code>. Pass arguments like, <code>size = 4</code>
to increase the size of the statistics presented in the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>Customize Statistics</h3>

<p>You can customize how the statistics in the risk table are displayed by
utilizing <a href="https://glue.tidyverse.org/">glue</a>-like syntax in the <code>risktable_stats</code>
argument.
</p>
<p>For example, if you prefer to have the number at risk and the number of events
on the same row, you can use <code>risktable_stats = "{n.risk} ({cum.event})"</code>.
</p>
<p>You can further customize the table to include the risk estimates using
elements <code>c("estimate", "conf.low", "conf.high", "std.error")</code>. When using
these elements, you'll likely need to include a function to round the estimates
and multiply them by 100.
</p>
<div class="sourceCode r"><pre>add_risktable(
  risktable_stats =
    c("{n.risk} ({cum.event})",
      "{round(estimate*100)}% ({round(conf.low*100)}, {round(conf.high*100)})"),
  stats_label = c("At Risk (Cum. Events)", "Survival (95% CI)")
)
</pre></div>


<h3>Formatting Numbers</h3>

<p>You can also pass <a href="https://glue.tidyverse.org/">glue</a>-like syntax to
<code>risktable_stats</code> to format the numbers displayed in
the risk table. This is particularly helpful when working with weighted
<code>survfit2</code> objects for which the risk table may display too many decimals by
default e.g., for weighted patients at risk.
</p>
<div class="sourceCode r"><pre>add_risktable(
  risktable_stats = c("{format(round(n.risk, 2), nsmall = 2)}",
                      "{format(round(n.event, 2), nsmall = 2)}"),
  stats_label = c("N effective patients at risk",
                  "N effective events")
)
</pre></div>


<h3>Competing Risks</h3>

<p>The <code>ggcuminc()</code> can plot multiple competing events.
The <code>"cum.event"</code> and <code>"n.event"</code> statistics are the sum of all events across
outcomes <em>shown on the plot</em>.
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;-
  survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit() +
  add_censor_mark() +
  add_confidence_interval() +
  scale_ggsurvfit()

# using the function defaults
p + add_risktable()

# change the statistics shown and the label
p +
  add_risktable(
    risktable_stats = "n.risk",
    stats_label = list(n.risk = "Number at Risk"),
  )

p +
  add_risktable(
    risktable_stats = "{n.risk} ({cum.event})"
  )

p +
  add_risktable(
    risktable_stats = c("n.risk", "cum.event"),
    combine_groups = TRUE
  )
</code></pre>

<hr>
<h2 id='add_risktable_strata_symbol'>Use Symbol for Strata in Risk Table</h2><span id='topic+add_risktable_strata_symbol'></span>

<h3>Description</h3>

<p>Replace the stratum level names with a color symbol in the risk tables.
Use this function when stratum level names are long.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_risktable_strata_symbol(
  symbol = NULL,
  size = 15,
  face = "bold",
  vjust = 0.3,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_risktable_strata_symbol_+3A_symbol">symbol</code></td>
<td>
<p><a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8 code</a> of shape to
replace strata level with. Default is a rectangle (<code>"\U25AC"</code>).
Other common options are circle (<code>"\U25CF"</code>) and diamond (<code>"\U25C6"</code>).
While a symbol is the most common string to pass here, any string is acceptable.</p>
</td></tr>
<tr><td><code id="add_risktable_strata_symbol_+3A_size">size</code>, <code id="add_risktable_strata_symbol_+3A_face">face</code>, <code id="add_risktable_strata_symbol_+3A_vjust">vjust</code>, <code id="add_risktable_strata_symbol_+3A_...">...</code></td>
<td>
<p>arguments passed to a function similar to
<code>ggtext::element_markdown()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
p &lt;-
  survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit(linewidth = 1) +
  add_confidence_interval() +
  add_risktable(risktable_group = "risktable_stats") +
  scale_ggsurvfit()

 p + add_risktable_strata_symbol()
 p + add_risktable_strata_symbol(symbol = "\U25CF", size = 10)

</code></pre>

<hr>
<h2 id='adtte'>Example phase III clinical trial data set</h2><span id='topic+adtte'></span>

<h3>Description</h3>

<p>Background
The example simulated data set is based on large phase III clinical trials in
breast cancer such as the ALTTO trial
<code style="white-space: pre;">&#8288;https://ascopubs.org/doi/abs/10.1200/JCO.2015.62.1797&#8288;</code>.
The example “trial” aims to determine if a combination of two therapies
tablemab (T) plus vismab (V) improves outcomes for metastatic human epidermal
growth factor 2–positive breast cancer and increases the pathologic complete
response in the neoadjuvant setting (i.e. treatment given as a first step to
shrink a tumor before the main treatment or surgery).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adtte
</code></pre>


<h3>Format</h3>

<p>The data set contains the following variables:
</p>

<dl>
<dt>STUDYID</dt><dd><p>The study identifier. A code unique to the clinical trial</p>
</dd>
<dt>SUBJID</dt><dd><p>subject identifier. Numeric ID unique to each patient</p>
</dd>
<dt>USUBJID</dt><dd><p>unique subject identifier. Text ID combining study and patient IDs</p>
</dd>
<dt>AGE</dt><dd><p>age at randomisation (years)</p>
</dd>
<dt>STR01</dt><dd><p>Hormone receptor status at randomisation</p>
</dd>
<dt>STR01N</dt><dd><p>Hormone receptor positive (Numeric)</p>
</dd>
<dt>STR01L</dt><dd><p>Hormone receptor positive (Long format)</p>
</dd>
<dt>STR02</dt><dd><p>Prior Radiotherapy at randomisation</p>
</dd>
<dt>STR02N</dt><dd><p>Prior Radiotherapy at randomisation (Numeric)</p>
</dd>
<dt>STR02L</dt><dd><p>Prior Radiotherapy at randomisation (Long format)</p>
</dd>
<dt>TRT01P</dt><dd><p>Planned treatment assigned at randomisation</p>
</dd>
<dt>TRT01PN</dt><dd><p>Planned treatment assigned at randomisation (Numeric)</p>
</dd>
<dt>PARAM</dt><dd><p>Analysis parameter: Progression free survival</p>
</dd>
<dt>PARAMCD</dt><dd><p>Analysis parameter code</p>
</dd>
<dt>AVAL</dt><dd><p>Analysis value (time to event (years)</p>
</dd>
<dt>CNSR</dt><dd><p>Censoring (0 = Event, 1 = Censored)</p>
</dd>
<dt>EVNTDESC</dt><dd><p>Event description</p>
</dd>
<dt>CNSDTDSC</dt><dd><p>Censoring description</p>
</dd>
<dt>DCTREAS</dt><dd><p>Discontinuation from study reason</p>
</dd>
</dl>



<h3>Details</h3>

<p>The trial has four treatment arms, patients with centrally confirmed human
epidermal growth factor 2-positive early breast cancer were randomly assigned
to 1 year of adjuvant therapy with V, T, their sequence (T to V), or their
combination (T+V) for 52 weeks.
</p>
<p>The primary end point was progression-free survival (PFS) as defined by
Cancer.gov: '“the length of time during and after the treatment of a disease,
such as cancer, that a patient lives with the disease but it does not get
worse. In a clinical trial, measuring the progression-free survival is one
way to see how well a new treatment works”'.
</p>
<p>A number of baseline measurements (taken at randomization) are also included
such as age, hormone receptor status and prior radiotherapy treatment.
</p>
<p>Additional details on reasons for study discontinuation and censoring
event description are also included.
</p>
<p>The data set adopts an abridged version of the CDISC ADaM ADTTE
time to event data model. See here for more info on CDISC ADaM data standards
<a href="https://www.cdisc.org/standards/foundational/adam">https://www.cdisc.org/standards/foundational/adam</a> and specifically the
ADTTE time to event data model here
<a href="https://www.cdisc.org/standards/foundational/adam/adam-basic-data-structure-bds-time-event-tte-analyses-v1-0">https://www.cdisc.org/standards/foundational/adam/adam-basic-data-structure-bds-time-event-tte-analyses-v1-0</a>.
</p>


<h3>Source</h3>

<p><a href="https://github.com/VIS-SIG/Wonderful-Wednesdays/tree/master/data/2020/2020-04-08">https://github.com/VIS-SIG/Wonderful-Wednesdays/tree/master/data/2020/2020-04-08</a>
</p>

<hr>
<h2 id='df_colon'>Formatted Copy of <code>survival::colon</code></h2><span id='topic+df_colon'></span>

<h3>Description</h3>

<p>This is a copy of the colon data set exported by the survival
package. This data set, however, has column labels,
numeric categorical variables are now factors with assigned levels,
and we only include the recurrence outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_colon
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 929 rows and 14 columns.
</p>

<hr>
<h2 id='df_lung'>Formatted Copy of <code>survival::lung</code></h2><span id='topic+df_lung'></span>

<h3>Description</h3>

<p>This is a copy of the lung data set exported by the survival
package. This data set, however, has column labels and
numeric categorical variables are now factors with assigned levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_lung
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 228 rows and 10 columns.
</p>

<hr>
<h2 id='format_p'>Format p-value</h2><span id='topic+format_p'></span>

<h3>Description</h3>

<p>Round and format p-values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_p(x, digits = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_p_+3A_x">x</code></td>
<td>
<p>numeric vector of p-values</p>
</td></tr>
<tr><td><code id="format_p_+3A_digits">digits</code></td>
<td>
<p>number of digits large p-values will be rounded to.
Default is 2, and must be one of 1, 2, or 3.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p_vec &lt;- c(0.00001, 0.01111, 0.0500000, 0.15, 0.99999)
format_p(p_vec)
format_p(p_vec, 2)
format_p(p_vec, 3)
</code></pre>

<hr>
<h2 id='ggcuminc'>Plot Cumulative Incidence</h2><span id='topic+ggcuminc'></span>

<h3>Description</h3>

<p>Plot a cumulative incidence object created with <code>tidycmprsk::cuminc()</code>
or a multi-state object created with <code>survfit2()</code>.
Read more on multi-state models <a href="https://cran.r-project.org/package=survival/vignettes/compete.pdf">here</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggcuminc(
  x,
  outcome = NULL,
  linetype_aes = FALSE,
  theme = theme_ggsurvfit_default(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggcuminc_+3A_x">x</code></td>
<td>
<p>a 'survfit' object created with <code>survfit2()</code></p>
</td></tr>
<tr><td><code id="ggcuminc_+3A_outcome">outcome</code></td>
<td>
<p>string indicating which outcome(s) to include in plot.
Default is to include the first competing event.</p>
</td></tr>
<tr><td><code id="ggcuminc_+3A_linetype_aes">linetype_aes</code></td>
<td>
<p>logical indicating whether to add <code>ggplot2::aes(linetype = strata)</code>
to the <code>ggplot2::geom_step()</code> call. When strata are present, the resulting figure
will be a mix a various line types for each stratum.</p>
</td></tr>
<tr><td><code id="ggcuminc_+3A_theme">theme</code></td>
<td>
<p>a survfit theme. Default is <code>theme_ggsurvfit_default()</code></p>
</td></tr>
<tr><td><code id="ggcuminc_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>ggplot2::geom_step(...)</code>, e.g. <code>size = 2</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>Details</h3>

<p><em>Why do we not use <code>cmprsk::cuminc()</code>?</em>
</p>
<p>The implementation of <code>cmprsk::cuminc()</code> does not provide the data required
to construct the risk table. Moreover, the <code>tidycmprsk::cuminc()</code> has a
user-friendly interface making it easy to learn and use.
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(tidycmprsk)

cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  ggcuminc(outcome = "death from cancer") +
  add_confidence_interval() +
  add_risktable() +
  scale_ggsurvfit()

cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  ggcuminc(outcome = c("death from cancer", "death other causes")) +
  add_risktable() +
  scale_ggsurvfit()

# using the survival multi-state model
survfit2(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  ggcuminc(outcome = "death from cancer") +
  add_confidence_interval() +
  add_risktable() +
  scale_ggsurvfit()

</code></pre>

<hr>
<h2 id='ggsurvfit'>Plot Survival Probability</h2><span id='topic+ggsurvfit'></span>

<h3>Description</h3>

<p>Plot survival probabilities (and other transformations) using the results
from <code>survfit2()</code> or <code>survival::survfit()</code>; although, the former is recommend
to have the best experience with the <strong>ggsurvfit</strong> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggsurvfit(
  x,
  type = "survival",
  linetype_aes = FALSE,
  theme = theme_ggsurvfit_default(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggsurvfit_+3A_x">x</code></td>
<td>
<p>a 'survfit' object created with <code>survfit2()</code></p>
</td></tr>
<tr><td><code id="ggsurvfit_+3A_type">type</code></td>
<td>
<p>type of statistic to report.
Available for Kaplan-Meier estimates only.
Default is <code>"survival"</code>.
Must be one of the following:</p>

<table>
<tr>
 <td style="text-align: left;">
   type </td><td style="text-align: left;"> transformation </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"survival"</code> </td><td style="text-align: left;"> <code>x</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"risk"</code> </td><td style="text-align: left;"> <code>1 - x</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"cumhaz"</code> </td><td style="text-align: left;"> <code>-log(x)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>
</td></tr>
<tr><td><code id="ggsurvfit_+3A_linetype_aes">linetype_aes</code></td>
<td>
<p>logical indicating whether to add <code>ggplot2::aes(linetype = strata)</code>
to the <code>ggplot2::geom_step()</code> call. When strata are present, the resulting figure
will be a mix a various line types for each stratum.</p>
</td></tr>
<tr><td><code id="ggsurvfit_+3A_theme">theme</code></td>
<td>
<p>a survfit theme. Default is <code>theme_ggsurvfit_default()</code></p>
</td></tr>
<tr><td><code id="ggsurvfit_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>ggplot2::geom_step(...)</code>, e.g. <code>size = 2</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>Details</h3>

<p>This function creates a ggplot figure from the 'survfit' object.
To better understand how to modify the figure, review the simplified
code used internally:
</p>
<div class="sourceCode r"><pre>survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  tidy_survfit() %&gt;%
  ggplot(aes(x = time, y = estimate,
             min = conf.low, ymax = conf.low,
             color = strata, fill = strata)) +
  geom_step()
</pre></div>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Default publication ready plot
survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit() +
  scale_ggsurvfit(x_scales = list(breaks = seq(0, 30, by = 6)))

# Changing statistic type
survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit(type = "cumhaz")

# Configuring KM line type to vary by strata
survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit(linetype_aes = TRUE) +
  scale_ggsurvfit()

# Customizing the plot to your needs
survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  ggsurvfit() +
  add_censor_mark() +
  add_confidence_interval() +
  add_quantile() +
  add_risktable() +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='ggsurvfit_align_plots'>Align Plots</h2><span id='topic+ggsurvfit_align_plots'></span>

<h3>Description</h3>

<p>Function accepts a list of ggplot objects, and aligns each plot to the same
widths as the first passed plot. This utility function is used to align
the risktable plots with the risk curve plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggsurvfit_align_plots(pltlist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggsurvfit_align_plots_+3A_pltlist">pltlist</code></td>
<td>
<p>list of ggplots</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of ggplot grobs
</p>


<h3>Examples</h3>

<pre><code class='language-R'># construct a base plot
gg &lt;-
  survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  ggsurvfit() +
  add_confidence_interval() +
  scale_ggsurvfit()

# create an area plot representing the number of subjects who experienced
df_risktable &lt;-
  survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  tidy_survfit()
# the event and those that have been censored.
gg_risktable_figure &lt;-
  df_risktable %&gt;%
  ggplot() +
  geom_ribbon(aes(x = time, ymin = 0, ymax = cum.event), fill = "black") +
  geom_ribbon(aes(x = time, ymin = n.risk[1], ymax = n.risk[1] - cum.censor), fill = "grey") +
  theme_void() +
  theme(axis.text.y = element_text(size=8)) +
  scale_y_continuous(
    breaks = c(0, max(df_risktable$n.risk)),
    labels = c("Cum. Events",  "Cum.Censored")
  )

# align plots
lst_aligned_plots &lt;- ggsurvfit_align_plots(list(gg, gg_risktable_figure))

# combine plots with patchwork
patchwork::wrap_plots(
  lst_aligned_plots,
  ncol = 1,
  heights = c(0.9, 0.1)
)
</code></pre>

<hr>
<h2 id='ggsurvfit_build'>Build 'ggsurvfit' Object</h2><span id='topic+ggsurvfit_build'></span>

<h3>Description</h3>

<p>Function takes an object created with <code>ggsurvfit()</code> or <code>ggcuminc()</code> and
prepares the plot for printing.
If a plot also has a risk table, this function will build the risk table
plots and return them either as list of plots or combined
using <code>patchwork::wrap_plots()</code>.
</p>
<p>This can be particularly useful when you would like to place
figures with risk tables side-by-side.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggsurvfit_build(x, combine_plots = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggsurvfit_build_+3A_x">x</code></td>
<td>
<p>an object of class 'ggsurvfit' or 'ggcuminc'</p>
</td></tr>
<tr><td><code id="ggsurvfit_build_+3A_combine_plots">combine_plots</code></td>
<td>
<p>logical indicating whether to combine the primary plot
and the risk tables. When <code>TRUE</code>, plot and risk table(s) are combined with
<code>patchwork::wrap_plots()</code>.
When <code>FALSE</code> and the plot has risk tables, they are returned in a list of
gtable grobs.
Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of ggplot2 objects or a single ggplot2 object
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'># construct plot
p &lt;-
  survfit2(Surv(time, status) ~ surg, df_colon) %&gt;%
  ggsurvfit() +
  add_risktable() +
  scale_y_continuous(limits = c(0, 1))

# build plots
built_p &lt;- ggsurvfit_build(p, combine_plots = FALSE)

# reconstruct original figure print with risktables
patchwork::wrap_plots(
  built_p[[1]],
  built_p[[2]],
  built_p[[3]],
  ncol = 1,
  heights = c(0.70, 0.15, 0.15)
)

# place plots side-by-side (plots must be built before placement with patchwork)
patchwork::wrap_plots(
  ggsurvfit_build(p),
  ggsurvfit_build(p),
  ncol = 2
)
</code></pre>

<hr>
<h2 id='ggsurvfit_options'>Global Options</h2><span id='topic+ggsurvfit_options'></span>

<h3>Description</h3>

<p>By default, <code>ggsurvfit()</code> and <code>ggcuminc()</code> uses the color aesthetic to draw
curves stratified by treatment group. Moreover, in <code>ggcuminc()</code> when multiple
outcomes are plotted on the same figure the linetype aesthetic is used to
distinguish the curves among the various outcomes.
</p>
<p>It is, however, sometimes desirable to use the linetype to stratify
by treatment group and color by outcome. To obtain these figures, set the
<code>options("ggsurvfit.switch-color-linetype" = TRUE)</code> option.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>options("ggsurvfit.switch-color-linetype" = TRUE)
library(tidycmprsk)

cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  ggcuminc(outcome = "death from cancer") +
  add_risktable() +
  scale_ggsurvfit()

cuminc(Surv(ttdeath, death_cr) ~ 1, trial) %&gt;%
  ggcuminc(outcome = c("death from cancer", "death other causes")) +
  add_risktable() +
  scale_ggsurvfit()

# reset option
options("ggsurvfit.switch-color-linetype" = NULL)
</code></pre>

<hr>
<h2 id='ggsurvfit-package'>ggsurvfit: Flexible Time-to-Event Figures</h2><span id='topic+ggsurvfit-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Ease the creation of time-to-event (i.e. survival) endpoint figures. The modular functions create figures ready for publication. Each of the functions that add to or modify the figure are written as proper 'ggplot2' geoms or stat methods, allowing the functions from this package to be combined with any function or customization from 'ggplot2' and other 'ggplot2' extension packages.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel D. Sjoberg <a href="mailto:danield.sjoberg@gmail.com">danield.sjoberg@gmail.com</a> (<a href="https://orcid.org/0000-0003-0862-2018">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Mark Baillie <a href="mailto:bailliem@gmail.com">bailliem@gmail.com</a>
</p>
</li>
<li><p> Charlotta Fruechtenicht <a href="mailto:charlotta.fruechtenicht@roche.com">charlotta.fruechtenicht@roche.com</a> (<a href="https://orcid.org/0000-0002-6689-6423">ORCID</a>)
</p>
</li>
<li><p> Steven Haesendonckx <a href="mailto:shaesen2@its.jnj.com">shaesen2@its.jnj.com</a> (<a href="https://orcid.org/0000-0001-8222-3686">ORCID</a>)
</p>
</li>
<li><p> Tim Treis <a href="mailto:tim.treis@outlook.de">tim.treis@outlook.de</a> (<a href="https://orcid.org/0000-0002-9686-4799">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/pharmaverse/ggsurvfit">https://github.com/pharmaverse/ggsurvfit</a>
</p>
</li>
<li> <p><a href="https://www.danieldsjoberg.com/ggsurvfit/">https://www.danieldsjoberg.com/ggsurvfit/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/pharmaverse/ggsurvfit/issues">https://github.com/pharmaverse/ggsurvfit/issues</a>
</p>
</li></ul>


<hr>
<h2 id='grid.draw_ggsurvfit'>Draw ggsurvfit object</h2><span id='topic+grid.draw_ggsurvfit'></span><span id='topic+grid.draw.ggsurvfit'></span><span id='topic+grid.draw.ggcuminc'></span>

<h3>Description</h3>

<p><code>grid::grid.draw()</code> methods for objects of classes 'ggsurvfit' and 'ggcuminc'.
These are implemented to allow users to directly call <code>ggplot2::ggsave()</code>
on 'ggsurvfit' figures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ggsurvfit'
grid.draw(x, recording = TRUE)

## S3 method for class 'ggcuminc'
grid.draw(x, recording = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grid.draw_ggsurvfit_+3A_x">x</code></td>
<td>
<p>an object of class 'ggsurvfit' or 'ggcuminc'</p>
</td></tr>
<tr><td><code id="grid.draw_ggsurvfit_+3A_recording">recording</code></td>
<td>
<p>A logical value to indicate whether the drawing
operation should be recorded on the Grid display list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ surg, data = df_colon) %&gt;%
  ggsurvfit() %&gt;%
  grid.draw()

library(tidycmprsk)
cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  ggcuminc() %&gt;%
  grid.draw()
</code></pre>

<hr>
<h2 id='print_ggsurvfit'>Print ggsurvfit object</h2><span id='topic+print_ggsurvfit'></span><span id='topic+print.ggsurvfit'></span><span id='topic+print.ggcuminc'></span>

<h3>Description</h3>

<p>Print ggsurvfit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ggsurvfit'
print(x, ...)

## S3 method for class 'ggcuminc'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_ggsurvfit_+3A_x">x</code></td>
<td>
<p>an object of class 'ggsurvfit' or 'ggcuminc'</p>
</td></tr>
<tr><td><code id="print_ggsurvfit_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a printed ggplot2 figure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(survfit2(Surv(time, status) ~ surg, data = df_colon))
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+survfit'></span><span id='topic+Surv'></span><span id='topic++25+3E+25'></span><span id='topic+grid.draw'></span><span id='topic++25+2B+25'></span><span id='topic+ggplot_add'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+gg-add">%+%</a></code>, <code><a href="ggplot2.html#topic+ggplot_add">ggplot_add</a></code></p>
</dd>
<dt>grid</dt><dd><p><code><a href="grid.html#topic+grid.draw">grid.draw</a></code></p>
</dd>
<dt>survival</dt><dd><p><code><a href="survival.html#topic+Surv">Surv</a></code>, <code><a href="survival.html#topic+survfit">survfit</a></code></p>
</dd>
</dl>

<hr>
<h2 id='scale_ggsurvfit'>Apply Scales</h2><span id='topic+scale_ggsurvfit'></span>

<h3>Description</h3>

<p>The most common figure created with this package is a survival curve.
This scale applies modifications often seen in these figures.
</p>

<ul>
<li> <p><code>scale_y_continuous(expand = c(0.025, 0), limits = c(0, 1), label = scales::label_percent())</code>.
</p>
</li>
<li> <p><code>scale_x_continuous(expand = c(0.015, 0), n.breaks = 8)</code>
</p>
</li></ul>

<p>If you use this function, you <strong>must</strong> include <strong>all</strong> scale specifications
that would appear in <code>scale_x_continuous()</code> or <code>scale_y_continuous()</code>.
For example, it's common you'll need to specify the x-axis break points.
<code>scale_ggsurvfit(x_scales=list(breaks=0:9))</code>.
</p>
<p>To reset any of the above settings to their ggplot2 default, set the value
to <code>NULL</code>, e.g. <code>y_scales = list(limits = NULL)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_ggsurvfit(x_scales = list(), y_scales = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_ggsurvfit_+3A_x_scales">x_scales</code></td>
<td>
<p>a named list of arguments that will be passed to <code>ggplot2::scale_x_continuous()</code>.</p>
</td></tr>
<tr><td><code id="scale_ggsurvfit_+3A_y_scales">y_scales</code></td>
<td>
<p>a named list of arguments that will be passed to <code>ggplot2::scale_y_continuous()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>Visit the <a href="https://www.danieldsjoberg.com/ggsurvfit/articles/gallery.html">gallery</a> for examples modifying the default figures
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggsurvfit &lt;-
  survfit2(Surv(time, status) ~ surg, data = df_colon) %&gt;%
  ggsurvfit(linewidth = 1) +
  add_confidence_interval()

# use the function defaults
ggsurvfit + scale_ggsurvfit()

# specify additional scales
ggsurvfit +
  scale_ggsurvfit(x_scales = list(breaks = seq(0, 8, by = 2)))
</code></pre>

<hr>
<h2 id='stepribbon'>Step ribbon statistic</h2><span id='topic+stepribbon'></span><span id='topic+stat_stepribbon'></span><span id='topic+StatStepribbon'></span>

<h3>Description</h3>

<p>Provides stairstep values for ribbon plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_stepribbon(
  mapping = NULL,
  data = NULL,
  geom = "ribbon",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  direction = "hv",
  ...
)

StatStepribbon
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stepribbon_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_geom">geom</code></td>
<td>
<p>which geom to use; defaults to &quot;<code>ribbon</code>&quot;</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_direction">direction</code></td>
<td>
<p><code>hv</code> for horizontal-vertical steps, <code>vh</code> for
vertical-horizontal steps</p>
</td></tr>
<tr><td><code id="stepribbon_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatStepRibbon</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>References</h3>

<p><a href="https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs">https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/9cFWHaH1CPs</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  survival::survfit0() %&gt;%
  broom::tidy() %&gt;%
  ggplot(aes(x = time, y = estimate, ymin = conf.low, ymax = conf.high)) +
  geom_step() +
  geom_ribbon(stat = "stepribbon", alpha = 0.2)
</code></pre>

<hr>
<h2 id='Surv_CNSR'>Create a Survival Outcome from CDISC Data</h2><span id='topic+Surv_CNSR'></span>

<h3>Description</h3>

<p>The aim of <code>Surv_CNSR()</code> is to map the inconsistency in data convention between
the <a href="https://cran.r-project.org/package=survival">survival</a> package and
<a href="https://www.cdisc.org/standards/foundational/adam/adam-basic-data-structure-bds-time-event-tte-analyses-v1-0">CDISC ADaM ADTTE data model</a>.
</p>
<p>The function creates a survival object (e.g. <code>survival::Surv()</code>) that
uses CDISC ADaM ADTTE coding conventions and converts the arguments to the
status/event variable convention used in the
<a href="https://cran.r-project.org/package=survival">survival</a> package.
</p>
<p>The <code>AVAL</code> and <code>CNSR</code> arguments are passed to
<code>survival::Surv(time = AVAL, event = 1 - CNSR, type = "right", origin = 0)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Surv_CNSR(AVAL, CNSR)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Surv_CNSR_+3A_aval">AVAL</code></td>
<td>
<p>The follow-up time. The follow-up time is assumed to originate from zero.
When no argument is passed, the default value is a column/vector named <code>AVAL</code>.</p>
</td></tr>
<tr><td><code id="Surv_CNSR_+3A_cnsr">CNSR</code></td>
<td>
<p>The censoring indicator where <code>1=censored</code> and <code>0=death/event</code>.
When no argument is passed, the default value is a column/vector named <code>CNSR</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class 'Surv'
</p>


<h3>Details</h3>

<p>The <code>Surv_CNSR()</code> function creates a survival object utilizing the
expected data structure in the CDISC ADaM ADTTE data model,
mapping the CDISC ADaM ADTTE coding conventions with the expected
status/event variable convention used in the survival package&mdash;specifically,
the coding convention used for the status/event indicator.
The survival package expects the status/event indicator in the
following format: <code>0=alive</code>, <code>1=dead</code>. Other accepted choices are
<code>TRUE</code>/<code>FALSE</code> (<code>TRUE = death</code>) or <code>1</code>/<code>2</code> (<code>2=death</code>).
A final but risky option is to omit the indicator variable, in which case
all subjects are assumed to have an event.
</p>
<p>The CDISC ADaM ADTTE data model adopts a different coding convention for
the event/status indicator. Using this convention, the event/status variable
is named <code>'CNSR'</code> and uses the following coding: <code>censor = 1</code>, <code>status/event = 0</code>.
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+Surv">survival::Surv()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use the `Surv_CNSR()` function with ggsurvfit functions
survfit2(formula = Surv_CNSR() ~ STR01, data = adtte) %&gt;%
  ggsurvfit() +
  add_confidence_interval()

# Use the `Surv_CNSR()` function with functions from other packages as well
survival::survfit(Surv_CNSR() ~ STR01, data = adtte)
survival::survreg(Surv_CNSR() ~ STR01 + AGE, data = adtte) %&gt;%
  broom::tidy()
</code></pre>

<hr>
<h2 id='survfit2'>Create survival curves</h2><span id='topic+survfit2'></span>

<h3>Description</h3>

<p>Simple wrapper for <code>survival::survfit()</code> except the environment is also
included in the returned object.
</p>
<p>Use this function with all other functions in this package to ensure
all elements are calculable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survfit2(formula, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survfit2_+3A_formula">formula</code></td>
<td>

<p>a formula object, which must have a 
<code>Surv</code> object as the  
response on the left of the <code>~</code> operator and, if desired, terms  
separated by + operators on the right. 
One of the terms may be a <code>strata</code> object.
For a single survival curve the right hand side should be <code>~ 1</code>.
</p>
</td></tr>
<tr><td><code id="survfit2_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="survival.html#topic+survfit.formula">survival::survfit.formula</a></code>
</p>

<dl>
<dt><code>data</code></dt><dd>
<p>a data frame in which to interpret the variables named in the formula, 
<code>subset</code> and <code>weights</code> arguments. 
</p>
</dd>
<dt><code>weights</code></dt><dd>
<p>The weights must be nonnegative and it is strongly recommended that  
they be strictly positive, since zero weights are ambiguous, compared 
to use of the <code>subset</code> argument.
</p>
</dd>
<dt><code>subset</code></dt><dd>
<p>expression saying that only a subset of the rows of the data 
should be used in the fit. 
</p>
</dd>
<dt><code>na.action</code></dt><dd>
<p>a missing-data filter function, applied to the model frame, after any 
<code>subset</code> argument has been used. 
Default is <code>options()$na.action</code>. 
</p>
</dd>
<dt><code>stype</code></dt><dd><p>the method to be used estimation of the survival curve:
1 = direct,  2 = exp(cumulative hazard). </p>
</dd>
<dt><code>ctype</code></dt><dd><p>the method to be used for estimation of the cumulative
hazard: 1 = Nelson-Aalen formula, 2 = Fleming-Harrington correction
for tied events.</p>
</dd>
<dt><code>id</code></dt><dd>
<p>identifies individual subjects, when a given person can have multiple
lines of data.
</p>
</dd>
<dt><code>cluster</code></dt><dd><p>used to group observations for the infinitesimal
jackknife variance estimate, defaults to the value of id.</p>
</dd>
<dt><code>robust</code></dt><dd><p>logical, should the function compute a robust variance.
For multi-state survival curves this is true by default.
For single state data see details, below.</p>
</dd>
<dt><code>istate</code></dt><dd><p>for multi-state models, identifies the initial state of
each subject or observation</p>
</dd>
<dt><code>timefix</code></dt><dd><p>process times through the <code>aeqSurv</code> function to
eliminate potential roundoff issues.</p>
</dd>
<dt><code>etype</code></dt><dd>
<p>a variable giving the type of event.  This has been superseded by
multi-state Surv objects and is deprecated; see example below.
</p>
</dd>
<dt><code>model</code></dt><dd><p>include a copy of the model frame in the output</p>
</dd>
<dt><code>error</code></dt><dd><p>this argument is no longer used</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>survfit2 object
</p>


<h3><code>survfit2()</code> vs <code>survfit()</code></h3>

<p>Both functions have identical inputs, so why do we need <code>survfit2()</code>?
</p>
<p>The <em>only</em> difference between <code>survfit2()</code> and <code>survival::survfit()</code> is that the
former tracks the environment from which the call to the function was made.
</p>
<p>The definition of <code>survfit2()</code> is unremarkably simple:
</p>
<div class="sourceCode r"><pre>survfit2 &lt;- function(formula, ...) {
  # construct survfit object
  survfit &lt;- survival::survfit(formula, ...)

  # add the environment
  survfit$.Environment = &lt;calling environment&gt;

  # add class and return
  class(survfit) &lt;- c("survfit2", "survfit")
  survfit
}
</pre></div>
<p>The environment is needed to ensure the survfit call can be accurately
reconstructed or parsed at any point post estimation.
The call is parsed when p-values are reported and when labels are created.
For example, the raw variable names appear in the output of a stratified
<code>survfit()</code> result, e.g. <code>"sex=Female"</code>. When using <code>survfit2()</code>, the
originating data frame and formula may be parsed and the raw variable
names removed.
</p>
<p>Most functions in the package work with both <code>survfit2()</code> and <code>survfit()</code>;
however, the output will be styled in a preferable format with <code>survfit2()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+survfit.formula">survival::survfit.formula()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># With `survfit()`
fit &lt;- survfit(Surv(time, status) ~ sex, data = df_lung)
fit

# With `survfit2()`
fit2 &lt;- survfit2(Surv(time, status) ~ sex, data = df_lung)
fit2

# Consistent behavior with other functions
summary(fit, times = c(10, 20))

summary(fit2, times = c(10, 20))
</code></pre>

<hr>
<h2 id='survfit2_p'>Calculate p-value</h2><span id='topic+survfit2_p'></span>

<h3>Description</h3>

<p>The function <code>survfit2_p()</code> wraps <code>survival::survdiff()</code> and returns
a formatted p-value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survfit2_p(x, pvalue_fun = format_p, prepend_p = TRUE, rho = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survfit2_p_+3A_x">x</code></td>
<td>
<p>a 'survfit2' object</p>
</td></tr>
<tr><td><code id="survfit2_p_+3A_pvalue_fun">pvalue_fun</code></td>
<td>
<p>function to round and style p-value with</p>
</td></tr>
<tr><td><code id="survfit2_p_+3A_prepend_p">prepend_p</code></td>
<td>
<p>prepend <code>"p="</code> to formatted p-value</p>
</td></tr>
<tr><td><code id="survfit2_p_+3A_rho">rho</code></td>
<td>
<p>argument passed to  <code>survival::survdiff(rho=)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sf &lt;- survfit2(Surv(time, status) ~ sex, data = df_lung)

sf %&gt;%
  ggsurvfit() +
  add_confidence_interval() +
  add_risktable() +
  scale_ggsurvfit() +
  labs(caption = glue::glue("Log-rank {survfit2_p(sf)}"))

sf %&gt;%
  ggsurvfit() +
  add_confidence_interval() +
  add_risktable() +
  scale_ggsurvfit() +
  annotate("text", x = 2, y = 0.05, label = glue::glue("{survfit2_p(sf)}"))
</code></pre>

<hr>
<h2 id='theme_ggsurvfit'>Survfit Plot Themes</h2><span id='topic+theme_ggsurvfit'></span><span id='topic+theme_ggsurvfit_default'></span><span id='topic+theme_ggsurvfit_KMunicate'></span>

<h3>Description</h3>

<p>Returns ggplot list of calls defining a theme.
</p>

<ul>
<li> <p><code>theme_ggsurvfit_default()</code>: Builds on <code>theme_bw()</code> with increased text sizes.
</p>
</li>
<li> <p><code>theme_ggsurvfit_KMunicate()</code>: Theme to create KMunicate-styled figures. <a href="https://doi.org/10.1136/bmjopen-2019-030215">doi:10.1136/bmjopen-2019-030215</a>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>theme_ggsurvfit_default()

theme_ggsurvfit_KMunicate()
</code></pre>


<h3>Value</h3>

<p>a ggplot2 theme
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ sex, data = df_lung) %&gt;%
  ggsurvfit(theme = theme_ggsurvfit_default()) +
  scale_ggsurvfit()
</code></pre>

<hr>
<h2 id='theme_risktable'>Risk Table Themes</h2><span id='topic+theme_risktable'></span><span id='topic+theme_risktable_default'></span><span id='topic+theme_risktable_boxed'></span>

<h3>Description</h3>

<p>Returns ggplot list of calls defining a theme meant to be applied to a risk table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_risktable_default(axis.text.y.size = 10, plot.title.size = 10.75)

theme_risktable_boxed(axis.text.y.size = 10, plot.title.size = 10.75)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_risktable_+3A_axis.text.y.size">axis.text.y.size</code></td>
<td>
<p>text size of the labels on the left of the risk table</p>
</td></tr>
<tr><td><code id="theme_risktable_+3A_plot.title.size">plot.title.size</code></td>
<td>
<p>text size of the risk table title</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- survfit2(Surv(time, status) ~ 1, data = df_lung) %&gt;%
  ggsurvfit() +
  scale_ggsurvfit()

# default ------------------------------------
p + add_risktable(theme = theme_risktable_default())

# larger text --------------------------------
p +
  add_risktable(
    size = 4,
    theme = theme_risktable_default(axis.text.y.size = 12,
                                    plot.title.size = 14)
  )

# boxed --------------------------------------
p + add_risktable(theme = theme_risktable_boxed())

# none ---------------------------------------
p + add_risktable(theme = NULL, risktable_height = 0.20)
</code></pre>

<hr>
<h2 id='tidy_cuminc'>Tidy a cuminc object</h2><span id='topic+tidy_cuminc'></span>

<h3>Description</h3>

<p>The tidycmprsk package exports a tidier for <code>"cuminc"</code> objects.
This function adds on top of that and returns more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_cuminc(x, times = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_cuminc_+3A_x">x</code></td>
<td>
<p>a 'cuminc' object created with <code>tidycmprsk::cuminc()</code></p>
</td></tr>
<tr><td><code id="tidy_cuminc_+3A_times">times</code></td>
<td>
<p>numeric vector of times. Default is <code>NULL</code>,
which returns all observed times.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tidycmprsk)

cuminc(Surv(ttdeath, death_cr) ~ trt, trial) %&gt;%
  tidy_cuminc()
</code></pre>

<hr>
<h2 id='tidy_survfit'>Tidy a survfit object</h2><span id='topic+tidy_survfit'></span>

<h3>Description</h3>

<p>The broom package exports a tidier for <code>"survfit"</code> objects.
This function adds on top of that and returns more information.
The function also utilizes additional information stored when the
survfit object is created with <code>survfit2()</code>.
It's recommended to always use this function with <code>survfit2()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_survfit(x, times = NULL, type = c("survival", "risk", "cumhaz"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_survfit_+3A_x">x</code></td>
<td>
<p>a 'survfit' object created with <code>survfit2()</code></p>
</td></tr>
<tr><td><code id="tidy_survfit_+3A_times">times</code></td>
<td>
<p>numeric vector of times. Default is <code>NULL</code>,
which returns all observed times.</p>
</td></tr>
<tr><td><code id="tidy_survfit_+3A_type">type</code></td>
<td>
<p>type of statistic to report.
Available for Kaplan-Meier estimates only.
Default is <code>"survival"</code>.
Must be one of the following:</p>

<table>
<tr>
 <td style="text-align: left;">
   type </td><td style="text-align: left;"> transformation </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"survival"</code> </td><td style="text-align: left;"> <code>x</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"risk"</code> </td><td style="text-align: left;"> <code>1 - x</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"cumhaz"</code> </td><td style="text-align: left;"> <code>-log(x)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survfit2(Surv(time, status) ~ factor(ph.ecog), data = df_lung) %&gt;%
  tidy_survfit()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

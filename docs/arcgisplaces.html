<!DOCTYPE html><html lang="en"><head><title>Help for package arcgisplaces</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {arcgisplaces}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#arcgisplaces-package'><p>arcgisplaces: Search for POIs using ArcGIS 'Places Service'</p></a></li>
<li><a href='#categories'><p>Return the name and category ID of all categories, or categories which satisfy a filter</p></a></li>
<li><a href='#category_details'><p>Get the category details for a category ID.</p></a></li>
<li><a href='#fields'><p>Possible Fields to Return from Place Details</p></a></li>
<li><a href='#near_point'><p>Search for places near a point by radius</p></a></li>
<li><a href='#place_details'><p>Get place details including name, address, description, and other attributes</p></a></li>
<li><a href='#within_extent'><p>Search for places within an extent (bounding box).</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Search for POIs using ArcGIS 'Places Service'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>The ArcGIS 'Places service' is a ready-to-use location
    service that can search for businesses and geographic locations around
    the world. It allows you to find, locate, and discover detailed
    information about each place. Query for places near a point, within a
    bounding box, filter based on categories, or provide search text.
    'arcgisplaces' integrates with 'sf' for out of the box compatibility
    with other spatial libraries. Learn more in the 'Places service' API reference <a href="https://developers.arcgis.com/rest/places/">https://developers.arcgis.com/rest/places/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>arcgisutils (&ge; 0.3.0), cli, httr2 (&ge; 1.0.5), rlang, wk</td>
</tr>
<tr>
<td>Config/rextendr/version:</td>
<td>0.3.1.9001</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Cargo (Rust's package manager), rustc, OpenSSL</td>
</tr>
<tr>
<td>Suggests:</td>
<td>sf</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-13 20:25:59 UTC; josiahparry</td>
</tr>
<tr>
<td>Author:</td>
<td>Josiah Parry <a href="https://orcid.org/0000-0001-9910-865X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Josiah Parry &lt;josiah.parry@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-15 09:40:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='arcgisplaces-package'>arcgisplaces: Search for POIs using ArcGIS 'Places Service'</h2><span id='topic+arcgisplaces'></span><span id='topic+arcgisplaces-package'></span>

<h3>Description</h3>

<p>The ArcGIS 'Places service' is a ready-to-use location service that can search for businesses and geographic locations around the world. It allows you to find, locate, and discover detailed information about each place. Query for places near a point, within a bounding box, filter based on categories, or provide search text. 'arcgisplaces' integrates with 'sf' for out of the box compatibility with other spatial libraries. Learn more in the 'Places service' API reference <a href="https://developers.arcgis.com/rest/places/">https://developers.arcgis.com/rest/places/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Josiah Parry <a href="mailto:josiah.parry@gmail.com">josiah.parry@gmail.com</a> (<a href="https://orcid.org/0000-0001-9910-865X">ORCID</a>)
</p>

<hr>
<h2 id='categories'>Return the name and category ID of all categories, or categories which satisfy a filter</h2><span id='topic+categories'></span>

<h3>Description</h3>

<p>A category describes a type of place, such as &quot;movie theater&quot; or &quot;zoo&quot;. The places service has over 1,000 categories (or types) of place. The categories fall into ten general groups: Arts and Entertainment, Business and Professional Services, Community and Government, Dining and Drinking, Events, Health and Medicine, Landmarks and Outdoors, Retail, Sports and Recreation, and Travel and Transportation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>categories(
  search_text = NULL,
  icon = NULL,
  language = NULL,
  token = arc_token()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="categories_+3A_search_text">search_text</code></td>
<td>
<p>Default <code>NULL</code>. Free search text for places against names, categories etc. Must be a scalar value.</p>
</td></tr>
<tr><td><code id="categories_+3A_icon">icon</code></td>
<td>
<p>Default <code>NULL</code>. Must be one of <code>"svg"</code>, <code>"png"</code> <code>"cim"</code>. Determines whether icons are returned and the type of icon to use with a place or category.</p>
</td></tr>
<tr><td><code id="categories_+3A_language">language</code></td>
<td>
<p>Optional case-sensitive parameter to specify the preferred language to.</p>
</td></tr>
<tr><td><code id="categories_+3A_token">token</code></td>
<td>
<p>an object of class <code>httr2_token</code> as generated by <code><a href="arcgisutils.html#topic+auth_code">auth_code()</a></code>
or related function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The categories are organized into a hierarchical system where a general category contains many more detailed variations on the parent category. For example: &quot;Travel and Transportation&quot; (Level 1), &quot;Transport Hub&quot; (Level 2), &quot;Airport&quot; (Level 3) and &quot;Airport Terminal&quot; (Level 4). The hierarchy has up to 5 levels of categories.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with columns:
</p>

<ul>
<li> <p><code>category_id</code>: the unique identifier for the category
</p>
</li>
<li> <p><code>full_label</code>: a list of character vectors containing all labels for the category
</p>
</li>
<li> <p><code>icon_url</code>: a character vector containing the icon URL if present
</p>
</li>
<li> <p><code>parents</code>: a list of character vectors containing the parent <code>category_id</code> values
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://developers.arcgis.com/rest/places/categories-get/">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
categories("Coffee Shop")

## End(Not run)
</code></pre>

<hr>
<h2 id='category_details'>Get the category details for a category ID.</h2><span id='topic+category_details'></span>

<h3>Description</h3>

<p>The <code style="white-space: pre;">&#8288;/categories/{categoryId}&#8288;</code> request returns all the groups to which the category belongs. You must supply a category ID to use this request. Note: Query parameters are case-sensitive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>category_details(
  category_id,
  icon = NULL,
  language = NULL,
  token = arc_token(),
  .progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="category_details_+3A_category_id">category_id</code></td>
<td>
<p>Default <code>NULL</code>. A character vector which filters places to those that match the category IDs.</p>
</td></tr>
<tr><td><code id="category_details_+3A_icon">icon</code></td>
<td>
<p>Default <code>NULL</code>. Must be one of <code>"svg"</code>, <code>"png"</code> <code>"cim"</code>. Determines whether icons are returned and the type of icon to use with a place or category.</p>
</td></tr>
<tr><td><code id="category_details_+3A_language">language</code></td>
<td>
<p>Optional case-sensitive parameter to specify the preferred language to.</p>
</td></tr>
<tr><td><code id="category_details_+3A_token">token</code></td>
<td>
<p>an object of class <code>httr2_token</code> as generated by <code><a href="arcgisutils.html#topic+auth_code">auth_code()</a></code>
or related function</p>
</td></tr>
<tr><td><code id="category_details_+3A_.progress">.progress</code></td>
<td>
<p>Default <code>TRUE</code>. Whether a progress bar should be provided.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Language Codes</h4>

<p>The language codes use the CLDR (Common Locale Data Repository) format string that uses a two letter language code (e.g. &quot;fr&quot; for French) optionally followed by a two letter country code (e.g. &quot;fr-CA&quot; for French in Canada).
</p>
<p>If an unsupported language code is used, then the service will attempt to fall-back to the closest available language. This is done by stripping regional and extension subtags to find a known language code. For example, French Canadian (fr-CA) is unsupported so this falls back to French fr.
</p>
<p>Should the fallback fail, then the service will return category names in the default language en for English.
</p>



<h3>Value</h3>

<p>A <code>data.frame</code> with columns:
</p>

<ul>
<li> <p><code>category_id</code>
</p>
</li>
<li> <p><code>full_label</code>: a list of character vectors
</p>
</li>
<li> <p><code>icon_url</code>: a character vector of the URL to an icon, if available
</p>
</li>
<li> <p><code>parents</code>: a list of character vectors indicating the parent category ID
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://developers.arcgis.com/rest/places/categories-category-id-get">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
categories &lt;- c(
  "12015", "11172", "15015", "19027", "13309", "16069", "19004",
  "13131", "18046", "15048"
)
category_details(categories)

## End(Not run)
</code></pre>

<hr>
<h2 id='fields'>Possible Fields to Return from Place Details</h2><span id='topic+fields'></span>

<h3>Description</h3>

<p>A character vector containing the possible return fields that define the attributes to return. Use in <code><a href="#topic+place_details">place_details()</a></code>'s <code>requested_fields</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fields
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 40.
</p>


<h3>Source</h3>

<p><a href="https://developers.arcgis.com/rest/places/place-id-get/#requestedfields">https://developers.arcgis.com/rest/places/place-id-get/#requestedfields</a>
</p>

<hr>
<h2 id='near_point'>Search for places near a point by radius</h2><span id='topic+near_point'></span>

<h3>Description</h3>

<p>Finds places that are within a given radius of a specified location. The returned places contain basic data such as name, category and location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>near_point(
  x,
  y,
  radius = 1000,
  search_text = NULL,
  category_id = NULL,
  icon = NULL,
  token = arc_token()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="near_point_+3A_x">x</code></td>
<td>
<p>The x coordinate, or longitude, to search from, in WGS84 decimal degrees.</p>
</td></tr>
<tr><td><code id="near_point_+3A_y">y</code></td>
<td>
<p>The y coordinate, or latitude, to search from, in WGS84 decimal degrees.</p>
</td></tr>
<tr><td><code id="near_point_+3A_radius">radius</code></td>
<td>
<p>Default <code>1000</code>. The radius in meters to search for places. Maximum value of <code>10000</code>.</p>
</td></tr>
<tr><td><code id="near_point_+3A_search_text">search_text</code></td>
<td>
<p>Default <code>NULL</code>. Free search text for places against names, categories etc. Must be a scalar value.</p>
</td></tr>
<tr><td><code id="near_point_+3A_category_id">category_id</code></td>
<td>
<p>Default <code>NULL</code>. A character vector which filters places to those that match the category IDs.</p>
</td></tr>
<tr><td><code id="near_point_+3A_icon">icon</code></td>
<td>
<p>Default <code>NULL</code>. Must be one of <code>"svg"</code>, <code>"png"</code> <code>"cim"</code>. Determines whether icons are returned and the type of icon to use with a place or category.</p>
</td></tr>
<tr><td><code id="near_point_+3A_token">token</code></td>
<td>
<p>an object of class <code>httr2_token</code> as generated by <code><a href="arcgisutils.html#topic+auth_code">auth_code()</a></code>
or related function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object with columns
</p>

<ul>
<li> <p><code>place_id</code>: The unique Id of this place. The ID can be passed to <code>place_details()</code> to retrieve additional details.
</p>
</li>
<li> <p><code>name</code>: The name of the place, or point of interest. You can search for places by name using the searchText property
</p>
</li>
<li> <p><code>distance</code>: A double vector of the distance, in meters, from the place to the search point.
</p>
</li>
<li> <p><code>categories</code>: A <code>data.frame</code> with two columns <code>category_id</code> and <code>label</code>. Categories are uniquely identified by a categoryId. For example, <code>17119</code> identifies a &quot;Bicycle Store&quot; and <code>10051</code> identifies a &quot;Stadium&quot;. Note that a single place can belong to multiple categories (for example, a petrol station could also have a super-market).
</p>
</li>
<li> <p><code>icon</code>: A character vector of the URL for an icon for this place or category in either svg, cim or png format.
</p>
</li>
<li> <p><code>geometry</code>: an <code>sfc_POINT</code> object in <code>EPSG:4326</code>
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://developers.arcgis.com/rest/places/near-point-get">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
near_point(-117.194769, 34.057289)
near_point(139.75, 35.66)

## End(Not run)
</code></pre>

<hr>
<h2 id='place_details'>Get place details including name, address, description, and other attributes</h2><span id='topic+place_details'></span>

<h3>Description</h3>

<p>The <code style="white-space: pre;">&#8288;/places/{placeId}&#8288;</code> request returns details for a place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>place_details(
  place_id,
  requested_fields,
  icon = NULL,
  token = arc_token(),
  .progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="place_details_+3A_place_id">place_id</code></td>
<td>
<p>a character vector of place IDs as generated by <code>within_extent()</code> or <code>near_point()</code>.</p>
</td></tr>
<tr><td><code id="place_details_+3A_requested_fields">requested_fields</code></td>
<td>
<p>Required. See <a href="https://developers.arcgis.com/rest/places/place-id-get/#requestedfields">API Reference</a> for possible fields or refer to the <code><a href="#topic+fields">fields</a></code> vector.</p>
</td></tr>
<tr><td><code id="place_details_+3A_icon">icon</code></td>
<td>
<p>Default <code>NULL</code>. Must be one of <code>"svg"</code>, <code>"png"</code> <code>"cim"</code>. Determines whether icons are returned and the type of icon to use with a place or category.</p>
</td></tr>
<tr><td><code id="place_details_+3A_token">token</code></td>
<td>
<p>an object of class <code>httr2_token</code> as generated by <code><a href="arcgisutils.html#topic+auth_code">auth_code()</a></code>
or related function</p>
</td></tr>
<tr><td><code id="place_details_+3A_.progress">.progress</code></td>
<td>
<p>Default <code>TRUE</code>. Whether a progress bar should be provided.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To request details, you use the <code>requested_fields</code> argument to specify the fields and the attributes you want from the Place, Address, Details and/or Location price groups.
</p>
<p>It is always recommended to specify the fields you want, however, you can also use <code>requested_fields=all</code> to return all of the attributes available. By default, The <code>place_id</code> attribute is always returned in addition to the other attributes you requested.
</p>
<p>The attributes available for places may vary. For example, opening hours may not be available (or applicable) for geographic places or landmarks.
</p>
<p>You will only be charged for attributes that contain valid values for the requested fields. If no data is available for the requested field, null or an empty collection is returned and you are not charged. You are only charged once if one or more attributes with valid values are returned from a price group.
</p>


<h3>Value</h3>

<p>an sf object
</p>


<h3>References</h3>

<p><a href="https://developers.arcgis.com/rest/places/place-id-get/">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
place_ids &lt;- c(
  "37f1062ae1c3d37511003e382b08ca32",
  "9cdd210841deedef0e3309bdd3fe47f1"
)

res &lt;- place_details(place_ids)

## End(Not run)
</code></pre>

<hr>
<h2 id='within_extent'>Search for places within an extent (bounding box).</h2><span id='topic+within_extent'></span>

<h3>Description</h3>

<p>The <code style="white-space: pre;">&#8288;/places/within-extent&#8288;</code> request searches for places within an extent (bounding box).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>within_extent(
  xmin,
  ymin,
  xmax,
  ymax,
  search_text = NULL,
  category_id = NULL,
  icon = NULL,
  token = arc_token()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="within_extent_+3A_xmin">xmin</code></td>
<td>
<p>The minimum x coordinate, or longitude, of the search extent in <code>EPSG:4326.</code></p>
</td></tr>
<tr><td><code id="within_extent_+3A_ymin">ymin</code></td>
<td>
<p>The minimum y coordinate, or latitude, of the search extent in <code>EPSG:4326</code></p>
</td></tr>
<tr><td><code id="within_extent_+3A_xmax">xmax</code></td>
<td>
<p>The maximum x coordinate, or longitude, of the search extent in <code>EPSG:4326</code>.</p>
</td></tr>
<tr><td><code id="within_extent_+3A_ymax">ymax</code></td>
<td>
<p>The maximum y coordinate, or latitude, of the search extent in <code>EPSG:4326</code></p>
</td></tr>
<tr><td><code id="within_extent_+3A_search_text">search_text</code></td>
<td>
<p>Default <code>NULL</code>. Free search text for places against names, categories etc. Must be a scalar value.</p>
</td></tr>
<tr><td><code id="within_extent_+3A_category_id">category_id</code></td>
<td>
<p>Default <code>NULL</code>. A character vector which filters places to those that match the category IDs.</p>
</td></tr>
<tr><td><code id="within_extent_+3A_icon">icon</code></td>
<td>
<p>Default <code>NULL</code>. Must be one of <code>"svg"</code>, <code>"png"</code> <code>"cim"</code>. Determines whether icons are returned and the type of icon to use with a place or category.</p>
</td></tr>
<tr><td><code id="within_extent_+3A_token">token</code></td>
<td>
<p>an object of class <code>httr2_token</code> as generated by <code><a href="arcgisutils.html#topic+auth_code">auth_code()</a></code>
or related function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You must supply the <code>xmin</code>, <code>ymin</code>, <code>xmax</code> and <code>ymax</code> coordinates to define the extent. The maximum width and height of an extent that can be used in a search is 20,000 meters.
</p>
<p>You can also provide multiple categories or search text to find specific types of places within the extent.
</p>
<p>Note: You cannot permanently store places. Please see the <a href="https://developers.arcgis.com/documentation/mapping-apis-and-services/deployment/terms-of-use/">Terms of use</a>.
</p>
<p>Note: Query parameters are case-sensitive.
</p>


<h3>Value</h3>

<p>An <code>sf</code> object with columns
</p>

<ul>
<li> <p><code>place_id</code>: The unique Id of this place. The ID can be passed to <code>place_details()</code> to retrieve additional details.
</p>
</li>
<li> <p><code>name</code>: The name of the place, or point of interest. You can search for places by name using the searchText property
</p>
</li>
<li> <p><code>categories</code>: A <code>data.frame</code> with two columns <code>category_id</code> and <code>label</code>. Categories are uniquely identified by a categoryId. For example, <code>17119</code> identifies a &quot;Bicycle Store&quot; and <code>10051</code> identifies a &quot;Stadium&quot;. Note that a single place can belong to multiple categories (for example, a petrol station could also have a super-market).
</p>
</li>
<li> <p><code>icon</code>: A character vector of the URL for an icon for this place or category in either svg, cim or png format.
</p>
</li>
<li> <p><code>geometry</code>: an <code>sfc_POINT</code> object in <code>EPSG:4326</code>
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://developers.arcgis.com/rest/places/within-extent-get/">API Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
within_extent(
  139.74,
  35.65,
  139.75,
  35.66,
  category_ids = "10001"
)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

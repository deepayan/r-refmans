<!DOCTYPE html><html><head><title>Help for package LifeTables</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {LifeTables}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alpha.e0'><p>Alpha to match life expectancy</p></a></li>
<li><a href='#hmd.DA'>
<p>Discriminant analysis to determine life table family</p></a></li>
<li><a href='#hmd.DA.mx'>
<p>Model Life Table Discriminant Analysis</p></a></li>
<li><a href='#LifeTables-internal'>
<p>Internal Functions and data sets of LifeTables</p></a></li>
<li><a href='#LifeTables-package'>
<p>HMD Model Life Tables</p></a></li>
<li><a href='#lt.mx'>
<p>Life tables from nmx</p></a></li>
<li><a href='#MLTobs'><p>Background objects necessary for certain functions</p></a></li>
<li><a href='#mod.lt'>
<p>Calculate a Model Life Table</p></a></li>
<li><a href='#modelLT.gui'>
<p>Graphical User Interface for the Model Life Table Functions</p></a></li>
<li><a href='#mortmod'>
<p>Underlying model in the HMD life table system</p></a></li>
<li><a href='#plotMLT'>
<p>Plotting function for life table quantities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Two-Parameter HMD Model Life Table System</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), mclust</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gWidgets, gWidgetsRGtk2, RGtk2</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-08-07</td>
</tr>
<tr>
<td>Author:</td>
<td>David J. Sharrow, GUI by Hana Sevcikova</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David J. Sharrow &lt;dsharrow@uw.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions supplied in this package will implement
        discriminant analysis to select an appropriate life table
        family, select an appropriate alpha level based on a desired
        life expectancy at birth, produce a model mortality pattern
        based on family and level as well as plot the results.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-08-18 21:46:34 UTC; davidsharrow</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-08-19 00:29:08</td>
</tr>
</table>
<hr>
<h2 id='alpha.e0'>Alpha to match life expectancy
</h2><span id='topic+alpha.e0'></span>

<h3>Description</h3>

<p>Finds the alpha value to reproduce a desired life expectancy given a life table family/pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alpha.e0(pattern, e0.target, sex="female")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alpha.e0_+3A_pattern">pattern</code></td>
<td>
<p>An integer (1-7) which indicates the desired life table family
</p>
</td></tr>
<tr><td><code id="alpha.e0_+3A_e0.target">e0.target</code></td>
<td>
<p>The desired life expectancy
</p>
</td></tr>
<tr><td><code id="alpha.e0_+3A_sex">sex</code></td>
<td>
<p>&quot;male&quot; or &quot;female&quot;
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An appropriate life table family (pattern) can be found using <code><a href="#topic+hmd.DA">hmd.DA</a></code> or <code><a href="#topic+hmd.DA.mx">hmd.DA.mx</a></code>
</p>


<h3>Value</h3>

<p>The alpha value to produce the life expectancy entered in <code>e0.target</code>
</p>


<h3>Author(s)</h3>

<p>David J. Sharrow
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lt.mx">lt.mx</a></code>, <code><a href="#topic+mortmod">mortmod</a></code>, <code><a href="#topic+hmd.DA">hmd.DA</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

alpha.e0(pattern=2, e0.target=65, sex="male")

</code></pre>

<hr>
<h2 id='hmd.DA'>
Discriminant analysis to determine life table family
</h2><span id='topic+hmd.DA'></span>

<h3>Description</h3>

<p>Returns the results of a discriminant analysis to find the appropriate life table family based on either a single indicator of child mortality (1m0, 5m0, 1q0, 5q0) or one of the four child indicators and 45q15
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hmd.DA(x, child.mort=4, sex="female", adult.mort = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hmd.DA_+3A_x">x</code></td>
<td>
<p> A numeric value for the child mortality indicator to be classified expressed as a proportion (e.g. <code>x=0.05</code>)
</p>
</td></tr>
<tr><td><code id="hmd.DA_+3A_sex">sex</code></td>
<td>
<p>&quot;male&quot; or &quot;female&quot; indicates the sex for the indicators
</p>
</td></tr>
<tr><td><code id="hmd.DA_+3A_child.mort">child.mort</code></td>
<td>
<p> An integer (1-4) to indicate which child mortality indicator is being supplied (1 - 1m0; 2 - 5m0; 3 - 1q0; 4 - 5q0)
</p>
</td></tr>
<tr><td><code id="hmd.DA_+3A_adult.mort">adult.mort</code></td>
<td>
<p> The value for 45q15 (if no value is supplied, defaults to NULL and uses just the single child mortality measure to classify)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The training models based on the known classification of the training data can be found in the workspace <code><a href="#topic+MLTobs">MLTobs</a></code> in the &quot;data&quot; sub-directory of this package.
</p>


<h3>Value</h3>



<table>
<tr><td><code>train</code></td>
<td>
<p>The output from the function <code>MclustDA</code>, the parameters and other summary information for the model best fitting each class according to BIC.</p>
</td></tr>
<tr><td><code>out.dens</code></td>
<td>
<p>The output from the function <code><a href="stats.html#topic+predict">predict</a>(MclustDA model name)</code>, A matrix in which the [i,j]th entry is the density for observation i in the model for class j.</p>
</td></tr>
<tr><td><code>classification</code></td>
<td>
<p>The classification for the test data</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Sharrow
</p>


<h3>References</h3>

<p>S. Clark and D. Sharrow (2011) &quot;Contemporary Model Life Tables for Developed Countries: An Application of Model-Based Clustering.&quot; Paper presented at the annual meeting of the Population Association of America. <a href="http://paa2011.princeton.edu/abstracts/111808">http://paa2011.princeton.edu/abstracts/111808</a>
</p>
<p>C. Fraley and A. E. Raftery (2002) &quot;Model-based clustering, discriminant analysis, and density estimation.&quot; <em>Journal of the American Statistical Association</em> <b>97</b>:611-631.
</p>
<p>C. Fraley, A. E. Raftery, T. B. Murphy, L. Scrucca (2012) &quot;mclust Version 4 for R: Normal Mixture Modeling for Model-Based Clustering, Classification, and Density Estimation&quot;, Technical Report no. 597, Department of Statistics, University of Washington
</p>
<p><em>Human Mortality Database</em> University of California, Berkeley (USA), and Max Planck Institute for Demographic Research (Germany). Available at www.mortality.org or www.humanmortality.de (data downloaded February 2015).
</p>


<h3>See Also</h3>

<p><code>MclustDA</code>, <code>Mclust</code>, <code><a href="#topic+MLTobs">MLTobs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# classifying with 1m0
examp.out &lt;- hmd.DA(x=.05, sex="male", child.mort=1)
examp.out$classification

# classifying with 5q0 and 45q15 
examp.out2 &lt;- hmd.DA(x=.03, sex="male", child.mort=4, adult.mort=.18)
examp.out2$classification

</code></pre>

<hr>
<h2 id='hmd.DA.mx'>
Model Life Table Discriminant Analysis
</h2><span id='topic+hmd.DA.mx'></span>

<h3>Description</h3>

<p>Training and testing steps to perform a discriminant analysis for a partial or complete human mortality rate schedule with the Human Mortality Database as the training set. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hmd.DA.mx(data, age, sex="female")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hmd.DA.mx_+3A_data">data</code></td>
<td>

<p>Partial or complete human mortality rate schedule(s) to be classified. The set of age-specific mortality rates to be classified must match up with one of the age groups from the HMD data (standard 5-year age intervals 0, 1-4, 5-9, 10-14...110+) and be in the original scale (non-logged), i.e. one could classify mortality rates for ages 0, 1-5, 10-14, 20-24, 80-84, but cannot classify mortality rates for ages 0-5, 20-29, 30-39, etc. This argument can be either a single schedule or multiple schedules, but either way <code>data</code> must be a matrix with ages in columns.  
</p>
</td></tr>
<tr><td><code id="hmd.DA.mx_+3A_age">age</code></td>
<td>
<p>The ages of the mortality rates to be classified. This argument tells the function which mortality rates from the HMD should be used for the training models. <code>age</code> is a vector of length equal to the number of columns in <code>data</code> with the starting ages of the intervals to be classified. (e.g. if the user wants to classify mortality rates from ages 20-24, 25-29, 30-34, 35-39, 50-54, enter <code>age=c(seq(20,35,5),50)</code>).</p>
</td></tr>
<tr><td><code id="hmd.DA.mx_+3A_sex">sex</code></td>
<td>

<p>&quot;male&quot; or &quot;female&quot;. The sex for the schedule to be classified.
</p>
</td></tr>
</table>


<h3>Value</h3>



<table>
<tr><td><code>train</code></td>
<td>
<p>The output from the function <code>MclustDA</code>, the parameters and other summary information for the model best fitting each class according to BIC.</p>
</td></tr>
<tr><td><code>out.dens</code></td>
<td>
<p>The output from the function <code><a href="stats.html#topic+predict">predict</a>(MclustDA model name)</code>, A matrix in which the [i,j]th entry is the density for observation i in the model for class j.</p>
</td></tr>
<tr><td><code>classification</code></td>
<td>
<p>The classification for the test data</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David J. Sharrow
</p>


<h3>References</h3>

<p>S. Clark and D. Sharrow (2011) &quot;Contemporary Model Life Tables for Developed Countries: An Application of Model-Based Clustering.&quot; Paper presented at the annual meeting of the Population Association of America. <a href="http://paa2011.princeton.edu/abstracts/111808">http://paa2011.princeton.edu/abstracts/111808</a>
</p>
<p>C. Fraley and A. E. Raftery (2002) &quot;Model-based clustering, discriminant analysis, and density estimation.&quot; <em>Journal of the American Statistical Association</em> <b>97</b>:611-631.
</p>
<p>C. Fraley, A. E. Raftery, T. B. Murphy, L. Scrucca (2012) &quot;mclust Version 4 for R: Normal Mixture Modeling for Model-Based Clustering, Classification, and Density Estimation&quot;, Technical Report no. 597, Department of Statistics, University of Washington
</p>
<p><em>Human Mortality Database</em> University of California, Berkeley (USA), and Max Planck Institute for Demographic Research (Germany). Available at www.mortality.org or www.humanmortality.de (data downloaded February  2015).
</p>


<h3>See Also</h3>

<p><code>MclustDA</code>, <code>Mclust</code>, <code><a href="#topic+MLTobs">MLTobs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># some test data
data(MLTobs)

##48 Belgium 1860-64 (known class = 1)
##180 England 1925-29 (known class = 2)
##207 Estonia 2005-09 (known class = 7)
##266 France 1960-64 (known class = 3)
##410 Japan 2000-04 (known class = 5)
##607 Russia 1980-84 (known class = 6)
##798 USA 2000-04 (known class = 4)

country.nums &lt;- c(48,180,207,266,410,607,798)
test.mx &lt;- t(flt.mx[3:10,country.nums]) # mortality rates for ages 5-40
test.age &lt;- seq(5,40,5)

# classify the test data matrix
examp.out &lt;- hmd.DA.mx(data=test.mx, age=test.age, sex="female")
examp.out$classification

# classify the test data single schedule as matrix
examp.out2 &lt;- hmd.DA.mx(data=t(as.matrix(test.mx[4,])), age=test.age, sex="female")
examp.out2$classification


</code></pre>

<hr>
<h2 id='LifeTables-internal'>
Internal Functions and data sets of LifeTables
</h2><span id='topic+get.available.indicators'></span><span id='topic+guiToolkit.default'></span><span id='topic+generateLT'></span><span id='topic+get.life.table'></span><span id='topic+updateLT'></span><span id='topic+exportLT'></span><span id='topic+plotLTcolumn'></span><span id='topic+create.plot.window'></span><span id='topic+saveGraph'></span><span id='topic+create.help.button'></span><span id='topic+plot.LifeTable'></span><span id='topic+averages.smooth'></span><span id='topic+class5'></span><span id='topic+f.csd.weight'></span><span id='topic+Mx.svd.scores'></span><span id='topic+flt.mx'></span><span id='topic+flt.mx.info'></span><span id='topic+hi.devs'></span><span id='topic+hmd.1m0.train.f'></span><span id='topic+hmd.1m0.train.m'></span><span id='topic+hmd.1m0a.train.f'></span><span id='topic+hmd.1m0a.train.m'></span><span id='topic+hmd.5m0.train.f'></span><span id='topic+hmd.5m0.train.m'></span><span id='topic+hmd.5m0a.train.f'></span><span id='topic+hmd.5m0a.train.m'></span><span id='topic+hmd.1q0.train.f'></span><span id='topic+hmd.1q0.train.m'></span><span id='topic+hmd.1q0a.train.f'></span><span id='topic+hmd.1q0a.train.m'></span><span id='topic+hmd.5q0.train.f'></span><span id='topic+hmd.5q0.train.m'></span><span id='topic+hmd.5q0a.train.f'></span><span id='topic+hmd.5q0a.train.m'></span><span id='topic+lo.devs'></span><span id='topic+mlt.mx'></span><span id='topic+mlt.mx.info'></span><span id='topic+opt.alpha.f'></span><span id='topic+opt.alpha.m'></span><span id='topic+Patterns.final.coeffs'></span>

<h3>Description</h3>

<p>These functions and data sets are not to be used directly by the user.
</p>

<hr>
<h2 id='LifeTables-package'>
HMD Model Life Tables
</h2><span id='topic+LifeTables-package'></span><span id='topic+LifeTables'></span>

<h3>Description</h3>

<p>Provides functions for using a model life table system generated from the Human Mortality Database
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> LifeTables</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2015-08-07</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2) </td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><code><a href="#topic+mortmod">mortmod</a></code> is the mortality model that is the basis for the system. The user can supply the two input parameters - family and level - and a complete mortality rate schedule can be generated. If the user has some measure of child mortality (or a partial schedule) and optionally 45q15, the function <code><a href="#topic+hmd.DA">hmd.DA</a></code> can be used to find the appropriate family. Then <code><a href="#topic+alpha.e0">alpha.e0</a></code> can calculate an alpha value to generate a life table with a desired life expectancy. The function <code><a href="#topic+mod.lt">mod.lt</a></code> combines the steps outlined above. It will find the family and level based on the child (and possibly adult) mortality indicator and a desired life expectancy and return a complete life table generated with the appropriate input parameter values.
</p>
<p>There is a graphical user interface implemented in the package that allows for generating model life tables, exporting them and plotting various measures of the life table. It can be invoked using the function <code>modelLT.gui()</code>. 
</p>
<p>Note: In version 1.0, the calibration data set has been updated. Most recent HMD calibration data downloaded February 2015.
</p>


<h3>Author(s)</h3>

<p>David J. Sharrow, GUI by Hana Sevcikova
</p>
<p>Maintainer: David Sharrow &lt;dsharrow@uw.edu&gt;
</p>


<h3>References</h3>

<p>S. Clark and D. Sharrow (2011) &quot;Contemporary Model Life Tables for Developed Countries: An Application of Model-Based Clustering.&quot;  Paper presented at the annual meeting of the Population Association of America. <a href="http://paa2011.princeton.edu/abstracts/111808">http://paa2011.princeton.edu/abstracts/111808</a>
</p>
<p>C. Fraley and A. E. Raftery (2002) &quot;Model-based clustering, discriminant analysis, and density estimation.&quot; <em>Journal of the American Statistical Association</em> <b>97</b>:611-631.
</p>
<p>C. Fraley, A. E. Raftery, T. B. Murphy, L. Scrucca (2012) &quot;mclust Version 4 for R: Normal Mixture Modeling for Model-Based Clustering, Classification, and Density Estimation&quot;, Technical Report no. 597, Department of Statistics, University of Washington
</p>
<p><em>Human Mortality Database</em> University of California, Berkeley (USA), and Max Planck Institute for Demographic Research (Germany). Available at www.mortality.org or www.humanmortality.de (data downloaded February 2015).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# first get the appropriate family #
hmd.DA(x=.09, sex="male", child.mort=4, adult.mort=.28)$classification

# then get the appropriate level (alpha) #
alpha.e0(pattern=1, e0.target=59, sex="male")

# put in the family and alpha to model to produce complete schedule #
mortmod(pattern=1, alpha=.034, sex="male")
</code></pre>

<hr>
<h2 id='lt.mx'>
Life tables from nmx
</h2><span id='topic+lt.mx'></span>

<h3>Description</h3>

<p>Builds a life table by using the mortality rate schedule to calculate the subsequent columns of the table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lt.mx(nmx, sex="female", age = c(0,1,seq(5,110,5)), nax=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lt.mx_+3A_nmx">nmx</code></td>
<td>

<p>A vector of age-specific mortality rates
</p>
</td></tr>
<tr><td><code id="lt.mx_+3A_age">age</code></td>
<td>

<p>The start age of each age interval (will also be the start age for each interval of the subsequent life table)
</p>
</td></tr>
<tr><td><code id="lt.mx_+3A_sex">sex</code></td>
<td>

<p>&quot;male&quot; or &quot;female&quot;. The sex determines the nax value for the childhood age intervals using the Coale and Demeney West values when <code>nax=NULL</code> and when under 5 mortality is split into 0-1 and 1-4.</p>
</td></tr>
<tr><td><code id="lt.mx_+3A_nax">nax</code></td>
<td>
<p>A set of nax values for the life table. Must have the same length as <code>nmx</code> and if no values are provided, this argument defaults to half the length of the age interval except for the first two childhood age groups.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>e0</code></td>
<td>
<p>Life expectancy at birth</p>
</td></tr>
<tr><td><code>lt</code></td>
<td>
<p>A life table with age intervals matching those of the nmx schedule on which the table is built and with columns for age, nax, nmx, nqx, npx, ndx, lx, nLx, Tx, and ex.</p>
</td></tr>
<tr><td><code>lt.5q0</code></td>
<td>
<p>The probability a newborn will die before age 5</p>
</td></tr>
<tr><td><code>lt.45q15</code></td>
<td>
<p>The probability a 15-year old will die before reaching age 60</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Depending on the mortality rates entered, the resulting life table may have fewer age groups than the length of the mortality rate schedule. 
</p>


<h3>Author(s)</h3>

<p>David Sharrow
</p>


<h3>Examples</h3>

<pre><code class='language-R'># some data to build the table
data(MLTobs)
test.mx.m &lt;- mlt.mx[,1]

# build the life table
lt.mx(nmx=test.mx.m, sex="male")

# another example with female data ages 0-85
test.mx.f &lt;- flt.mx[1:19,1] ## ages 0-85
lt.mx(nmx=test.mx.f, sex="female", age=c(0,1,seq(5,85,5)))
        </code></pre>

<hr>
<h2 id='MLTobs'>Background objects necessary for certain functions</h2><span id='topic+MLTobs'></span>

<h3>Description</h3>

<p> This data set contains objects that are necessary for certain package functions and are described in detail below</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(MLTobs)</code></pre>


<h3>Format</h3>

 

<ul>
<li><p>averages.smooth A 48x7 matrix whose columns contain the seven underlying family patterns. Rows 1:24 are the male pattern and rows 25:48 are the female patterns. Used in <code><a href="#topic+mortmod">mortmod</a></code>.
</p>
</li>
<li><p>class5 A vector of length 799 which contains the classification for the 799 HMD mortality rate schedules. Used in <code><a href="#topic+hmd.DA.mx">hmd.DA.mx</a></code>.
</p>
</li>
<li><p>f.csd.weight A function to determine the weight for the family-specific deviation. Used in <code><a href="#topic+mortmod">mortmod</a></code>.
</p>
</li>
<li><p>Mx.svd.scores A 48x10 matrix whose columns contain the first 10 component score vectors a SVD of the HMD mortality rate schedules. 
</p>
</li>
<li><p>flt.mx A 24x799 matrix whose columns contain the 799 female mortality rate schedules in the Human Mortality Database
</p>
</li>
<li><p>flt.mx.info A 799x28 matrix. The first four columns contain the Location ID, Location Name, Subgroup type and Period. The remaining columns contain the age-specific mortality rates contained in <code>flt.mx</code>.
</p>
</li>
<li><p>hi.devs A 8x48 matrix whose first five rows contain the family-age-specific high deviations for when alpha is positive. The 8th row contains the age-specific high deviations from the entire HMD data set. Used in <code><a href="#topic+mortmod">mortmod</a></code>.
</p>
</li>
<li><p>hmd.1m0.train.f Training models for females when the input parameters include 1m0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1m0.train.m Training models for males when the input parameters include 1m0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1m0a.train.f Training models for females when the input parameters include 1m0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1m0a.train.m Training models for males when the input parameters include 1m0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5m0.train.f Training models for females when the input parameters include 5m0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5m0.train.m Training models for males when the input parameters include 5m0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5m0a.train.f Training models for females when the input parameters include 5m0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5m0a.train.m Training models for males when the input parameters include 5m0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1q0.train.f Training models for females when the input parameters include 1q0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1q0.train.m Training models for males when the input parameters include 1q0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1q0a.train.f Training models for females when the input parameters include 1q0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.1q0a.train.m Training models for males when the input parameters include 1q0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5q0.train.f Training models for females when the input parameters include 5q0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5q0.train.m Training models for males when the input parameters include 5q0. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5q0a.train.f Training models for females when the input parameters include 5q0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>hmd.5q0a.train.m Training models for males when the input parameters include 5q0 and 45q15. Used in <code><a href="#topic+hmd.DA">hmd.DA</a></code>.
</p>
</li>
<li><p>lo.devs A 8x48 matrix whose first five rows contain the family-age-specific low deviations for when alpha is positive. The 8th row contains the age-specific low deviations from the entire HMD data set. Used in <code><a href="#topic+mortmod">mortmod</a></code>.
</p>
</li>
<li><p>mlt.mx A 24x799 matrix whose columns contain the 799 male mortality rate schedules in the Human Mortality Database
</p>
</li>
<li><p>mlt.mx.info A 799x28 matrix. The first four columns contain the Location ID, Location Name, Subgroup type and Period. The remaining columns contain the age-specific mortality rates contained in <code>mlt.mx</code>.
</p>
</li>
<li><p>opt.alpha.f A 33x7 matrix whose columns contain the female family-specific alpha values to produce life tables with life expectancies at 33 levels from 20-100 in 2.5 year increments
</p>
</li>
<li><p>opt.alpha.m A 33x7 matrix whose columns contain the male family-specific alpha values to produce life tables with life expectancies at 33 levels from 20-100 in 2.5 year increments
</p>
</li>
<li><p>Patterns.final.coeffs A 5x7 matrix whose columns contain the set of median coefficients for each family that are used to calculate the underlying family patterns
</p>
</li></ul>
	


<h3>References</h3>

<p>S. Clark and D. Sharrow (2011) &quot;Contemporary Model Life Tables for Developed Countries: An Application of Model-Based Clustering.&quot;  Paper presented at the annual meeting of the Population Association of America. <a href="http://paa2011.princeton.edu/abstracts/111808">http://paa2011.princeton.edu/abstracts/111808</a>
</p>
<p>C. Fraley and A. E. Raftery (2002) &quot;Model-based clustering, discriminant analysis, and density estimation.&quot; <em>Journal of the American Statistical Association</em> <b>97</b>:611-631.
</p>
<p>C. Fraley, A. E. Raftery, T. B. Murphy, L. Scrucca (2012) &quot;mclust Version 4 for R: Normal Mixture Modeling for Model-Based Clustering, Classification, and Density Estimation&quot;, Technical Report no. 597, Department of Statistics, University of Washington
</p>
<p><em>Human Mortality Database</em> University of California, Berkeley (USA), and Max Planck Institute for Demographic Research (Germany). Available at www.mortality.org or www.humanmortality.de (data downloaded February 2015).
</p>

<hr>
<h2 id='mod.lt'>
Calculate a Model Life Table
</h2><span id='topic+mod.lt'></span>

<h3>Description</h3>

<p>This function takes as arguments a value for child mortality, an indication of which child mortality indicator is supplied (defaults to 5q0), a possible value for 45q15, a possible target life expectancy to determine the level of mortality and the sex of the desired life table (defaults to &quot;female&quot;). The function selects the appropriate family (and level if a desired life expectancy is supplied or a value for alpha) and returns a life table. The resulting life table defaults to alpha=0.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mod.lt(child.value, child.mort=4, e0.target=NULL, adult.mort=NULL, 
	sex="female", alpha=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mod.lt_+3A_child.value">child.value</code></td>
<td>
<p> A numeric value for one of four child mortality measures.
</p>
</td></tr>
<tr><td><code id="mod.lt_+3A_child.mort">child.mort</code></td>
<td>
<p> An integer (1-4) to indicate which child mortality indicator is being supplied (1 - 1m0; 2 - 5m0; 3 - 1q0; 4 - 5q0). Defaults to 5q0. 
</p>
</td></tr>
<tr><td><code id="mod.lt_+3A_e0.target">e0.target</code></td>
<td>
<p> The desired life expectancy for the life table. If no life expectancy is supplied the resulting life table defaults to alpha=0. 
</p>
</td></tr>
<tr><td><code id="mod.lt_+3A_sex">sex</code></td>
<td>
<p> &quot;male&quot; or &quot;female&quot; indicates the sex for the desired life table. Defaults to &quot;female&quot;.
</p>
</td></tr>
<tr><td><code id="mod.lt_+3A_adult.mort">adult.mort</code></td>
<td>
<p> Optional. If supplied, the function uses both the child mortality measure and 45q15 to select the family. Otherwise, just the child mortality indicator is used. 
</p>
</td></tr>
<tr><td><code id="mod.lt_+3A_alpha">alpha</code></td>
<td>
<p>If e0.target is not supplied, alpha defaults to 0. This can be any number with negative values producing lower mortality and positive values producing higher mortality.  
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>lt.out</code></td>
<td>
<p>The life table output from the function <code><a href="#topic+lt.mx">lt.mx</a></code> including <code>$e0</code>, life expectancy at birth, <code>$lt.5q0</code>, the probability of death between birth and age 5, <code>$lt.4q15</code>, the probability of death between age 15 and 60, and <code>$lt</code>, the complete, resulting life table with columns for age, nax, nmx, nqx, npx, ndx, lx, nLx, Tx,  and ex.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The alpha value which produced the table. This value is either user supplied or calculated from the user supplied <code>e0.target</code>.</p>
</td></tr>
<tr><td><code>sex</code></td>
<td>
<p>Sex of the life table.</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>An integer (1-5) to indicate the life table family/pattern.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Sharrow
</p>


<h3>References</h3>

<p>S. Clark and D. Sharrow (2011) &quot;Contemporary Model Life Tables for Developed Countries: An Application of Model-Based Clustering.&quot;  Paper presented at the annual meeting of the Population Association of America. <a href="http://paa2011.princeton.edu/abstracts/111808">http://paa2011.princeton.edu/abstracts/111808</a>
</p>
<p><em>Human Mortality Database</em> University of California, Berkeley (USA), and Max Planck Institute for Demographic Research (Germany). Available at www.mortality.org or www.humanmortality.de (data downloaded February 2015).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hmd.DA">hmd.DA</a></code>, <code><a href="#topic+alpha.e0">alpha.e0</a></code>, <code><a href="#topic+mortmod">mortmod</a></code>, <code><a href="#topic+lt.mx">lt.mx</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example input data from USA females 1955-59 using a desired e0
mod.lt(child.value=0.02769, child.mort=4, sex="female", 
  adult.mort=0.13461, e0.target=72.5) 
  
## The user can also supply an alpha value directly
mod.lt(child.value=0.02769, child.mort=4, sex="female", 
  adult.mort=0.13461, alpha=0.233) 
</code></pre>

<hr>
<h2 id='modelLT.gui'>
Graphical User Interface for the Model Life Table Functions
</h2><span id='topic+modelLT.gui'></span>

<h3>Description</h3>

<p>The function launches a graphical user interface (GUI) from which various functionality of this package can be accessed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelLT.gui()
</code></pre>


<h3>Details</h3>

<p>In the main window of the GUI, select an indicator of child mortality and enter its value. Optionally, choose if an adult mortality should be added and if it is the case, enter its value. Then select a sex for the life table. Pressing the &lsquo;Generate Life Table&rsquo; button creates a window containing the corresponding life table. 
</p>
<p>Now you can enter the desired life expectancy target (e0). Press the Enter key to update the life table and the alpha value. Alternatively, you can update the alpha value directly. Again, press the Enter key to update the content  of the window.
</p>
<p>To export the life table into a csv file, press the &lsquo;Export&rsquo; button. To plot any of the life table columns as a function of age, select the column in the drop-list at the bottom of the window, choose if the y-axis should be on a log scale and press &lsquo;Plot&rsquo;. From here, you can save the plot in various formats.
</p>
<p>For the GUI to run the user will first need to install GTK+. 
</p>
<p>GTK+ can be downloaded here <a href="http://www.gtk.org/download/index.php">http://www.gtk.org/download/index.php</a>. 
</p>
<p>If the user does not first install GTK and invokes the GUI from the <code>R</code> console, a dialogue box will appear to ask if you want to install GTK.  
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova, David Sharrow, Samuel Clark
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
modelLT.gui()
## End(Not run)
</code></pre>

<hr>
<h2 id='mortmod'>
Underlying model in the HMD life table system
</h2><span id='topic+mortmod'></span>

<h3>Description</h3>

<p>This function generates a complete (up to age 110+) human mortality rate profile given a certain family and level of mortality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mortmod(pattern, sex="female", alpha=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mortmod_+3A_pattern">pattern</code></td>
<td>

<p>An integer from 1 to 7 indicating the underlying family pattern
</p>
</td></tr>
<tr><td><code id="mortmod_+3A_sex">sex</code></td>
<td>

<p>&quot;male&quot; or &quot;female&quot;. Indicates the sex of the desired schedule 
</p>
</td></tr>
<tr><td><code id="mortmod_+3A_alpha">alpha</code></td>
<td>

<p>A scalar which determines the quantity to add or subtract from the underlying cluster pattern. Typical alpha values will not exceed an absolute value of 4, although it is possible to take on larger values. Defaults to 0. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>pattern</code> argument identifies the shape or pattern of mortality and then <code>alpha</code> determines the level by weighting a set of age-specific deviations to add or subtract (depending on the sign of alpha) to the underlying cluster pattern.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model.patt</code></td>
<td>
<p>A vector of length 24 which contains a complete set of age-specific logged mortality rates for age intervals 0-1, 1-4, 5-9, 10-14, ..., 110+</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David J. Sharrow
</p>


<h3>References</h3>

<p>S. Clark and D. Sharrow (2011) &quot;Contemporary Model Life Tables for Developed Countries: An Application of Model-Based Clustering.&quot;  Paper presented at the annual meeting of the Population Association of America. <a href="http://paa2011.princeton.edu/abstracts/111808">http://paa2011.princeton.edu/abstracts/111808</a>
</p>
<p><em>Human Mortality Database</em> University of California, Berkeley (USA), and Max Planck Institute for Demographic Research (Germany). Available at www.mortality.org or www.humanmortality.de (data downloaded February 2015).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hmd.DA">hmd.DA</a></code>, <code><a href="#topic+alpha.e0">alpha.e0</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mortmod(pattern=2, alpha=0.5, sex="female")
mortmod(pattern=5, alpha=-0.1, sex="male")

</code></pre>

<hr>
<h2 id='plotMLT'>
Plotting function for life table quantities
</h2><span id='topic+plotMLT'></span>

<h3>Description</h3>

<p>Plots either a single column or scrolls through a plot for each column from a life table calculated from a user supplied mortality rate schedule
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotMLT(..., mx.out, sex, lt.col = "All", log = FALSE, 
	age = c(0, 1, seq(5, 110, 5)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotMLT_+3A_...">...</code></td>
<td>

<p>Arguments to pass to <code>par</code>
</p>
</td></tr>
<tr><td><code id="plotMLT_+3A_mx.out">mx.out</code></td>
<td>

<p>A mortality rate schedule with age groups 0-1, 1-4, 5-9, 10-14,..., up to any open interval.
</p>
</td></tr>
<tr><td><code id="plotMLT_+3A_sex">sex</code></td>
<td>

<p>The sex for the calculated life table. &quot;male&quot; or &quot;female&quot;
</p>
</td></tr>
<tr><td><code id="plotMLT_+3A_lt.col">lt.col</code></td>
<td>

<p>The desired life table quantity to plot. lt.col=&quot;All&quot;, the default, will scroll through a plot of each quantity when the user keys &quot;return&quot; after each plot. Otherwise a specific column can be selected by using the following integers (1-nmx, 2-nqx, 3-npx, 4-ndx, 5-lx, 6-nLx, 7-Tx, 8-ex) 
</p>
</td></tr>
<tr><td><code id="plotMLT_+3A_log">log</code></td>
<td>

<p>Logical. If TRUE and <code>lt.col</code> is not set to &quot;All&quot;, the y-axis will be in log scale. 
</p>
</td></tr>
<tr><td><code id="plotMLT_+3A_age">age</code></td>
<td>

<p>The start ages for each interval in the life table
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If lt.col=3 (npx) and log=TRUE, a warning message will appear noting that a y value &lt;= 0 is omitted. This is the probability of surviving the final interval, which is by definition, 0. 
</p>


<h3>Author(s)</h3>

<p>David J. Sharrow
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lt.mx">lt.mx</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	## Not run: 
mx.examp &lt;- exp(mortmod(pattern=1, alpha=.05, sex="male")) 
plotMLT(mx.out=mx.examp, sex="male", lt.col="All")

plotMLT(mx.out=mx.examp, sex="male", lt.col=3, log=TRUE)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

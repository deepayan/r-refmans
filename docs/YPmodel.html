<!DOCTYPE html><html lang="en"><head><title>Help for package YPmodel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {YPmodel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#YPmodel-package'>
<p>The short-term and long-term hazard ratio model for survival data</p></a></li>
<li><a href='#gastric'><p>Data from Gastrointestinal Tumor Study Group</p></a></li>
<li><a href='#YPmodel'>
<p>A main function of package of model of short-term and long-term hazard ratio for survival data</p></a></li>
<li><a href='#YPmodel-internal'><p>Internal functions for Model of short-term and long-term hazard ratio for survival data</p></a></li>
<li><a href='#YPmodel.adlgrk'>
<p>Adaptively weighted logrank test</p></a></li>
<li><a href='#YPmodel.estimate'>
<p>YPmodel Estimate Parameters.</p></a></li>
<li><a href='#YPmodel.IntervalBands'>
<p>Beta confidential intervals &amp; bands</p></a></li>
<li><a href='#YPmodel.lackfittest'>
<p>Martingale residual-based &amp; contrast-based lack-of-fit tests</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The Short-Term and Long-Term Hazard Ratio Model for Survival
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-10-15</td>
</tr>
<tr>
<td>Author:</td>
<td>Junlong Sun and Song Yang</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Junlong Sun &lt;junlong.sun@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Inference procedures accommodate a flexible range of hazard ratio patterns with a two-sample semi-parametric model. This model contains the proportional hazards model and the proportional odds model as sub-models, and accommodates non-proportional hazards situations to the extreme of having crossing hazards and crossing survivor functions. Overall, this package has four major functions: 1) the parameter estimation, namely short-term and long-term hazard ratio parameters; 2) 95 percent and 90 percent point-wise confidence intervals and simultaneous confidence bands for the hazard ratio function; 3) p-value of the adaptive weighted log-rank test; 4) p-values of two lack-of-fit tests for the model. See the included "read_me_first.pdf" for brief instructions. In this version (1.1), there is no need to sort the data before applying this package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-10-18 01:51:03 UTC; junlongsun</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-10-19 23:10:16 UTC</td>
</tr>
</table>
<hr>
<h2 id='YPmodel-package'>
The short-term and long-term hazard ratio model for survival data
</h2><span id='topic+YPmodel-package'></span>

<h3>Description</h3>

<p>This package has four major functions related to the short-term and long-term hazard ratio model (Yang and Prentice, 2005): 1) <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code> es
timates short-term and long-term hazard ratio parameters and their confidence intervals, and the odds function of the control group; 2) <code><a href="#topic+YPmodel.IntervalBands">YPmodel.IntervalBands</a></code> provides 95% pointwise confidence intervals and 95% and 90%  simultaneous confidence bands for the hazard ratio function; 3) <code><a href="#topic+YPmodel.adlgrk">YPmodel.adlgrk</a></code> estimates p-value of the adaptive weighted log-rank test, to test for treatment effects with time to event data; 4) <code><a href="#topic+YPmodel.lackfittest">YPmodel.lackfittest</a></code> estimates p-values of two lack-of-fit tests for the model, to test for checking this semi-parametric model. See the included &quot;read_me_first.pdf&quot; for brief instructions.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> YPmodel</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2015-09-20</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang
</p>


<h3>References</h3>

<p>1) YANG, S. AND PRENTICE, R. L. (2011). Estimation of the 2-sample hazard ratio function using a semiparametric model. Biostatistics 12, 354-368.
2) YANG, S. AND PRENTICE, R. L. (2010). Improved Logrank-Type Tests for Survival Data Using Adaptive Weights. Biometrics 66, 30-38.
3) YANG, S. AND PRENTICE, R. L. (2005). Semiparametric analysis of short-term and long-term hazard ratios with two-sample survival data. Biometrika 92, 1-17.
4) YANG, S. AND ZHAO, Y. (2012). Checking the Short-Term and Long-Term Hazard Ratio Model for Survival Data. Scandinavian Journal of Statistics.
5) GASTROINTESTINAL TUMOR STUDY GROUP (1982). A comparison of combination chemotherapy and combined modality therapy for locally advanced gastric carcinoma. Cancer.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	library(YPmodel)
	data(gastric)
	YPmodel(gastric, repNum=100)
	browseVignettes(package="YPmodel")
</code></pre>

<hr>
<h2 id='gastric'>Data from Gastrointestinal Tumor Study Group</h2><span id='topic+gastric'></span><span id='topic+gastric30'></span>

<h3>Description</h3>

<p>A  sample data set from the Gastrointestinal Tumor Study Group (1982),on  comparing chemotherapy with combined chemotherapy and radiation therapy, in the treatment of locally unresectable gastric cancer. Each treatment arm had 45 patients, with two observations of the chemotherapy group and six of the combination group censored. Kaplan-Meier plots of the two estimated survival curves cross at around 1000 days.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(gastric)</code></pre>


<h3>Format</h3>

<p>A dataframe with 90 observations on the following 3 variables.
</p>

<dl>
<dt><code>V1</code></dt><dd><p>Lifetime vector (unite: year), where <code class="reqn">X = \min(T, C)</code> and <code class="reqn">T</code> is the pooled lifetimes of the two groups</p>
</dd>
<dt><code>V2</code></dt><dd><p>Censor indicator vector, where <code class="reqn">\delta = I(T \leq C)</code> and <code class="reqn">I(\cdot)</code> is the indicator function.</p>
</dd>
<dt><code>V3</code></dt><dd><p>Group indicator vector, where <code class="reqn">Z = I(i &gt; n_1)</code>, <code class="reqn">i = 1, ..., n</code> and <code class="reqn">n_1 &lt; n</code> is the size of the control group.</p>
</dd>
</dl>



<h3>References</h3>

<p>GASTROINTESTINAL TUMOR STUDY GROUP (1982). A comparison of combination chemotherapy and combined modality therapy for locally advanced gastric carcinoma. Cancer.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>library(YPmodel)
data(gastric)
</code></pre>

<hr>
<h2 id='YPmodel'>
A main function of package of model of short-term and long-term hazard ratio for survival data
</h2><span id='topic+YPmodel'></span><span id='topic+YPmodel.default'></span><span id='topic+plot.YPmodel'></span><span id='topic+print.YPmodel'></span><span id='topic+summary.YPmodel'></span>

<h3>Description</h3>

<p>The main function to perform parameter estimation and hypothesis testing. The corresponding S4 functions, <code>plot.Y Pmodel</code> and <code>print.Y Pmodel</code>, are also included to demonstrate the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>YPmodel(...)

## Default S3 method:
YPmodel(data, startPoint, nm, maxIter1, maxIter2, repNum, ...)
## S3 method for class 'YPmodel'
print(x, ...)
## S3 method for class 'YPmodel'
summary(object, ...)
## S3 method for class 'YPmodel'
plot(x, ...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="YPmodel_+3A_...">...</code></td>
<td>
<p> For S4 method only. </p>
</td></tr>
<tr><td><code id="YPmodel_+3A_data">data</code></td>
<td>
<p> A properly qualified filename where text data is to be saved, or a dataframe of input data set with three vectors: the event / censoring time (unite: year), the censoring indicator, and the group membership indicator. See the structure of sample data set <code><a href="#topic+gastric">gastric</a></code> for instance.</p>
</td></tr>
<tr><td><code id="YPmodel_+3A_startpoint">startPoint</code></td>
<td>
<p> Start point for estimating <code class="reqn">\hat{\beta}</code>. </p>
</td></tr>
<tr><td><code id="YPmodel_+3A_nm">nm</code></td>
<td>
<p> Parameter for parameter estimation, to define the upper boundary for the absolute value of <code class="reqn">\hat{\beta}</code>. </p>
</td></tr>
<tr><td><code id="YPmodel_+3A_maxiter1">maxIter1</code></td>
<td>
<p> Parameter of out-cycle iteration numbers. </p>
</td></tr>
<tr><td><code id="YPmodel_+3A_maxiter2">maxIter2</code></td>
<td>
<p> Parameter of inner-cycle iteration numbers. </p>
</td></tr>
<tr><td><code id="YPmodel_+3A_repnum">repNum</code></td>
<td>
<p> Number of iterations, to be used in the two lack-of-fit tests.</p>
</td></tr>
<tr><td><code id="YPmodel_+3A_x">x</code></td>
<td>
<p> A dataframe of results from an YPmodel default process. </p>
</td></tr>
<tr><td><code id="YPmodel_+3A_object">object</code></td>
<td>
<p> A dataframe of results from an YPmodel default process, equally to x (different symbol for S4 method only). </p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>YPmodel</code>, basically a list including elements
</p>
<table role = "presentation">
<tr><td><code>Data</code></td>
<td>
<p> A dataframe of source data, generated from input data by <code><a href="#topic+YPmodel.inputData">YPmodel.inputData</a></code>. </p>
</td></tr>
<tr><td><code>Estimate</code></td>
<td>
<p> A dataframe of estimation results, including 1) estimation of <code class="reqn">\hat{\beta}</code>, 2) its confidential intervals and 3) the odds function of the control group <code class="reqn">\hat{R}(t,\hat{\beta})</code>, generated by <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>. </p>
</td></tr>
<tr><td><code>IntervalBands</code></td>
<td>
<p> A dataframe of hazard ratios and related confidential intervals and bands,
generated by <code><a href="#topic+YPmodel.IntervalBands">YPmodel.IntervalBands</a></code>. </p>
</td></tr>
<tr><td><code>LackFitTest</code></td>
<td>
<p> A dataframe of the two lack-of-fit tests for the semi-parametric model, generated by <code><a href="#topic+YPmodel.lackfittest">YPmodel.lackfittest</a></code>. </p>
</td></tr>
<tr><td><code>Adlgrk</code></td>
<td>
<p> A dataframe of the two lack-of-fit tests, to test the hypothesis of equal distribution function in the two groups, generated by <code><a href="#topic+YPmodel.adlgrk">YPmodel.adlgrk</a></code>. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang
</p>


<h3>References</h3>

<p>1) YANG, S. AND PRENTICE, R. L. (2010). Improved Logrank-Type Tests for Survival Data Using Adaptive Weights. Biometrics 66, 30-38.
2) YANG, S. AND PRENTICE, R. L. (2005). Semiparametric analysis of short-term and long-term hazard ratios with two-sample survival data. Biometrika 92, 1-17.
3) YANG, S. AND ZHAO, Y. (2012). Checking the Short-Term and Long-Term Hazard Ratio Model for Survival Data. Scandinavian Journal of Statistics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>,
<code><a href="#topic+YPmodel.IntervalBands">YPmodel.IntervalBands</a></code>,
<code><a href="#topic+YPmodel.lackfittest">YPmodel.lackfittest</a></code>,
<code><a href="#topic+YPmodel.adlgrk">YPmodel.adlgrk</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(YPmodel)
data(gastric)
result &lt;- YPmodel(gastric, repNum=100)
summary(result)
plot(result)
</code></pre>

<hr>
<h2 id='YPmodel-internal'>Internal functions for Model of short-term and long-term hazard ratio for survival data  </h2><span id='topic+YPmodel-internal'></span><span id='topic+fun.adlgrk'></span><span id='topic+fun.classCheck'></span><span id='topic+fun.cumsum'></span><span id='topic+fun.errorMessage'></span><span id='topic+fun.flipud'></span><span id='topic+fun.generateParameters'></span><span id='topic+fun.hazardRationEstimation'></span><span id='topic+fun.hcvxitr1'></span><span id='topic+fun.internalParameters'></span><span id='topic+fun.martint'></span><span id='topic+fun.newBest'></span><span id='topic+fun.ntitr0'></span><span id='topic+fun.oldp2'></span><span id='topic+fun.Rjudge'></span><span id='topic+fun.survf'></span><span id='topic+fun.variance'></span><span id='topic+fun.YPmodelOriginal'></span><span id='topic+fun.zeroORone'></span><span id='topic+YPmodel.inputData'></span><span id='topic+YPmodel.setParameter'></span><span id='topic+YPmodel.setRandom'></span><span id='topic+summary.YPmodel.overall'></span>

<h3>Description</h3>

<p>Internal functions for the YPmodel package.
</p>


<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code></p>

<hr>
<h2 id='YPmodel.adlgrk'>
Adaptively weighted logrank test
</h2><span id='topic+YPmodel.adlgrk'></span><span id='topic+summary.YPmodel.adlgrk'></span>

<h3>Description</h3>

<p>A function to calculate p-value of the adaptive weighted logrank test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S3 method for class 'adlgrk'
YPmodel(data, Estimate, ...)
## S3 method for class 'YPmodel.adlgrk'
summary(object, ...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="YPmodel.adlgrk_+3A_...">...</code></td>
<td>
<p> For S4 method only. </p>
</td></tr>
<tr><td><code id="YPmodel.adlgrk_+3A_data">data</code></td>
<td>
<p> A properly qualified filename where text data is to be saved, or a dataframe of input data set with three vectors: the event / censoring time (unite: year), the censoring indicator, and the group membership indicator. See the structure of sample data set <code><a href="#topic+gastric">gastric</a></code> for instance.</p>
</td></tr>
<tr><td><code id="YPmodel.adlgrk_+3A_estimate">Estimate</code></td>
<td>
<p> A dataframe of estimation results, including 1) estimation of <code class="reqn">\hat{\beta}</code>, 2) its confidential intervals and 3) the odds function of the control group <code class="reqn">\hat{R}(t,\hat{\beta})</code>, generated by <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>. </p>
</td></tr>
<tr><td><code id="YPmodel.adlgrk_+3A_object">object</code></td>
<td>
<p> A dataframe of the two lack-of-fit tests, to test the hypothesis of equal distribution function in the two groups, generated by <code><a href="#topic+YPmodel.adlgrk">YPmodel.adlgrk</a></code>. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>YPmodel.adlgrk</code>, basically a list including elements
</p>
<table role = "presentation">
<tr><td><code>pval</code></td>
<td>
<p> p-value from adaptively weighted logrank test. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang
</p>


<h3>References</h3>

<p>YANG, S. AND PRENTICE, R. L. (2010). Improved Logrank-Type Tests for Survival Data Using Adaptive Weights. Biometrics 66, 30-38.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code>, <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    library(YPmodel)
    data(gastric)
    Adlgrk &lt;- YPmodel.adlgrk(data=gastric)
    summary(Adlgrk)

    Estimate &lt;- YPmodel.estimate(data=gastric, interval=0)
    Adlgrk &lt;- YPmodel.adlgrk(data=gastric, Estimate=Estimate)
</code></pre>

<hr>
<h2 id='YPmodel.estimate'>
YPmodel Estimate Parameters.
</h2><span id='topic+YPmodel.estimate'></span><span id='topic+summary.YPmodel.estimate'></span><span id='topic+plot.YPmodel.survivor'></span><span id='topic+plot.YPmodel.estimate'></span>

<h3>Description</h3>

<p>The main function to fit the short-term and long-term hazard ration model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S3 method for class 'estimate'
YPmodel(data, startPoint, nm, maxIter1, maxIter2, interval, Internal, ...)
## S3 method for class 'YPmodel.estimate'
summary(object,...)
## S3 method for class 'YPmodel.survivor'
plot(x, Internal, ...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="YPmodel.estimate_+3A_...">...</code></td>
<td>
<p> For S4 method only. </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_data">data</code></td>
<td>
<p> A properly qualified filename where text data is to be saved, or a dataframe of input data set with three vectors: the event / censoring time (unite: year), the censoring indicator, and the group membership indicator. See the structure of sample data set <code><a href="#topic+gastric">gastric</a></code> for instance.</p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_startpoint">startPoint</code></td>
<td>
<p> Start point for estimating <code class="reqn">\hat{\beta}</code>. </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_nm">nm</code></td>
<td>
<p>The upper boundary for the absolute value of <code class="reqn">\hat{\beta}</code>, and the default value is <code class="reqn">\log(100)</code>.  </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_maxiter1">maxIter1</code></td>
<td>
<p> Parameter of out-cycle iteration numbers. </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_maxiter2">maxIter2</code></td>
<td>
<p> Parameter of inner-cycle iteration numbers. </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_interval">interval</code></td>
<td>
<p> A binary parameter to control whether or not to perform interval estimation of <code class="reqn">\hat{\beta}</code>, when it is set as 1, the interval estimation will be performed. </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_internal">Internal</code></td>
<td>
<p>A dataframe of internal parameters, used only to perform hypothesis tests and plot (and to accelerate the speed). </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_x">x</code></td>
<td>
<p> A dataframe of estimation results, including estimation of <code class="reqn">\hat{\beta}</code> and and its confidential intervals and <code class="reqn">\hat{R}(t,\hat{\beta})</code>, generated by <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>. </p>
</td></tr>
<tr><td><code id="YPmodel.estimate_+3A_object">object</code></td>
<td>
<p> A dataframe of estimation results, including estimation of <code class="reqn">\hat{\beta}</code> and and its confidential intervals and <code class="reqn">\hat{R}(t,\hat{\beta})</code>, generated by <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>, equally to x (different symbol for S4 method only).</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>beta</code></td>
<td>
<p> Value of <code class="reqn">\hat{\beta}</code>. </p>
</td></tr>
<tr><td><code>r</code></td>
<td>
<p> Value of <code class="reqn">\hat{R}(t,\hat{\beta})</code>.</p>
</td></tr>
<tr><td><code>variance.beta1</code></td>
<td>
<p> Variance of the first variable of <code class="reqn">\hat{\beta}</code>.  </p>
</td></tr>
<tr><td><code>variance.beta2</code></td>
<td>
<p> Variance of the second variable of <code class="reqn">\hat{\beta}</code>. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang
</p>


<h3>References</h3>

<p>YANG, S. AND PRENTICE, R. L. (2005). Semiparametric analysis of short-term and long-term hazard ratios with two-sample survival data. Biometrika 92, 1-17.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    library(YPmodel)
    data(gastric)
    Estimate &lt;- YPmodel.estimate(data=gastric, interval=1)

    Estimate &lt;- YPmodel.estimate(data=gastric, startPoint=c(0,0), nm=log(100))

    Estimate &lt;- YPmodel.estimate(data=gastric, maxIter1=50, maxIter2=20)

    summary(Estimate)

    plot(Estimate)
</code></pre>

<hr>
<h2 id='YPmodel.IntervalBands'>
Beta confidential intervals &amp; bands
</h2><span id='topic+YPmodel.IntervalBands'></span><span id='topic+summary.YPmodel.IntervalBands'></span><span id='topic+plot.YPmodel.IntervalBands'></span>

<h3>Description</h3>

<p>A function to calculate the confidential intervals and bands of the hazard ratio function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S3 method for class 'IntervalBands'
YPmodel(data, Internal, Estimate, ...)
## S3 method for class 'YPmodel.IntervalBands'
summary(object, Internal, ...)
## S3 method for class 'YPmodel.IntervalBands'
plot(x, Internal, ...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="YPmodel.IntervalBands_+3A_...">...</code></td>
<td>
<p> For S4 method only. </p>
</td></tr>
<tr><td><code id="YPmodel.IntervalBands_+3A_data">data</code></td>
<td>
<p> A properly qualified filename where text data is to be saved, or a dataframe of input data set with three vectors: the event / censoring time (unite: year), the censoring indicator, and the group membership indicator. See the structure of sample data set <code><a href="#topic+gastric">gastric</a></code> for instance.</p>
</td></tr>
<tr><td><code id="YPmodel.IntervalBands_+3A_internal">Internal</code></td>
<td>
<p> A dataframe of internal parameters, used only to perform hypothesis tests and plot (and to accelerate the speed). </p>
</td></tr>
<tr><td><code id="YPmodel.IntervalBands_+3A_estimate">Estimate</code></td>
<td>
<p> A dataframe of estimation results, including 1) estimation of <code class="reqn">\hat{\beta}</code>, 2) its confidential intervals and 3) the odds function of the control group <code class="reqn">\hat{R}(t,\hat{\beta})</code>, generated by <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>. </p>
</td></tr>
<tr><td><code id="YPmodel.IntervalBands_+3A_x">x</code></td>
<td>
<p> A dataframe of hazard ratios and related confidential intervals and bands,
generated by <code><a href="#topic+YPmodel.IntervalBands">YPmodel.IntervalBands</a></code>. </p>
</td></tr>
<tr><td><code id="YPmodel.IntervalBands_+3A_object">object</code></td>
<td>
<p> A dataframe of hazard ratios and related confidential intervals and bands,
generated by <code><a href="#topic+YPmodel.IntervalBands">YPmodel.IntervalBands</a></code>, equally to x (different symbol for S4 method only). </p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>hr</code></td>
<td>
<p> Estimation of the hazard ratio function. </p>
</td></tr>
<tr><td><code>ld2</code></td>
<td>
<p> Lower bound of the time frame. </p>
</td></tr>
<tr><td><code>ud2</code></td>
<td>
<p> Upper bound of the time frame. </p>
</td></tr>
<tr><td><code>upp3</code></td>
<td>
<p> Upper bounds for the 95<code class="reqn">\%</code> point-wise conffidence intervals of the hazard ratio function. </p>
</td></tr>
<tr><td><code>low3</code></td>
<td>
<p> Lower bounds for the 95<code class="reqn">\%</code> point-wise conffidence intervals of the hazard ratio function. </p>
</td></tr>
<tr><td><code>upp22</code></td>
<td>
<p> Upper bounds for the 95<code class="reqn">\%</code>  simultaneous conffidence bands of the hazard ratio function. </p>
</td></tr>
<tr><td><code>low22</code></td>
<td>
<p> Lower bounds for the 95<code class="reqn">\%</code>  simultaneous conffidence bands of the hazard ratio function. </p>
</td></tr>
<tr><td><code>upp90</code></td>
<td>
<p> Upper bounds for the 90<code class="reqn">\%</code>simultaneous conffidence bands of the hazard ratio function. </p>
</td></tr>
<tr><td><code>low90</code></td>
<td>
<p> Lower bounds for the 90<code class="reqn">\%</code>  simultaneous conffidence bands of the hazard ratio function. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang
</p>


<h3>References</h3>

<p>YANG, S. AND PRENTICE, R. L. (2011). Estimation of the 2-sample hazard ratio function using a semiparametric model. Biostatistics 12, 354-368.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code>, <code><a href="#topic+YPmodel.estimate">YPmodel.estimate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    library(YPmodel)
    data(gastric)
    IntervalBands &lt;- YPmodel.IntervalBands(data=gastric)
    summary(IntervalBands)
    plot(IntervalBands)

    Estimate &lt;- YPmodel.estimate(data=gastric, interval=0)
    IntervalBands &lt;- YPmodel.IntervalBands(data=gastric, Estimate=Estimate)
</code></pre>

<hr>
<h2 id='YPmodel.lackfittest'>
Martingale residual-based &amp; contrast-based lack-of-fit tests
</h2><span id='topic+YPmodel.lackfittest'></span><span id='topic+summary.YPmodel.lackfittest'></span><span id='topic+plot.YPmodel.martint'></span><span id='topic+plot.YPmodel.survf'></span><span id='topic+plot.YPmodel.lackfittest'></span>

<h3>Description</h3>

<p>Four functions to perform the two lack-of-fit tests (martingale residual-based &amp; contrast-based), to print results, and to draw randomly selected realizations of the process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
## S3 method for class 'lackfittest'
YPmodel(data, repNum, Internal, ...)
## S3 method for class 'YPmodel.lackfittest'
summary(object, ...)
## S3 method for class 'YPmodel.martint'
plot(x, Internal, ...)
## S3 method for class 'YPmodel.survf'
plot(x, Internal, ...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="YPmodel.lackfittest_+3A_...">...</code></td>
<td>
<p> For S4 method only. </p>
</td></tr>
<tr><td><code id="YPmodel.lackfittest_+3A_data">data</code></td>
<td>
<p> A properly qualified filename where text data is to be saved, or a dataframe of input data set with three vectors: the event / censoring time (unite: year), the censoring indicator, and the group membership indicator. See the structure of sample data set <code><a href="#topic+gastric">gastric</a></code> for instance.</p>
</td></tr>
<tr><td><code id="YPmodel.lackfittest_+3A_repnum">repNum</code></td>
<td>
<p> Number of times the resampling simulations are done. </p>
</td></tr>
<tr><td><code id="YPmodel.lackfittest_+3A_internal">Internal</code></td>
<td>
<p> A dataframe of internal parameters, used only to perform hypothesis tests and plot (and to accelerate the speed). </p>
</td></tr>
<tr><td><code id="YPmodel.lackfittest_+3A_x">x</code></td>
<td>
<p> A dataframe of the two lack-of-fit tests, generated by <code><a href="#topic+YPmodel.lackfittest">YPmodel.lackfittest</a></code>. </p>
</td></tr>
<tr><td><code id="YPmodel.lackfittest_+3A_object">object</code></td>
<td>
<p> A dataframe of the two lack-of-fit tests, generated by <code><a href="#topic+YPmodel.lackfittest">YPmodel.lackfittest</a></code>, equally to x (different symbol for S4 method only). </p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>newBest</code></td>
<td>
<p> Value of <code class="reqn">\hat{\beta}</code> used in the two tests. </p>
</td></tr>
<tr><td><code>pvalu1</code></td>
<td>
<p> p-value from martingale residual-based test. </p>
</td></tr>
<tr><td><code>pvalu2</code></td>
<td>
<p> p-value from contrast-based test. </p>
</td></tr>
<tr><td><code>mobs1</code></td>
<td>
<p> Parameter used in plotting martingale residual-based test. </p>
</td></tr>
<tr><td><code>mobs2</code></td>
<td>
<p> Parameter used inplotting contrast-based test. </p>
</td></tr>
<tr><td><code>obs</code></td>
<td>
<p> Parameter used in plotting martingale residual-based test. </p>
</td></tr>
<tr><td><code>obs2</code></td>
<td>
<p> Parameter used in plotting contrast-based test. </p>
</td></tr>
<tr><td><code>wtildCount1</code></td>
<td>
<p> Parameter used in plotting martingale residual-based test. </p>
</td></tr>
<tr><td><code>lineCount1</code></td>
<td>
<p> Parameter used in plotting martingale residual-based test. </p>
</td></tr>
<tr><td><code>wtildCount2</code></td>
<td>
<p> Parameter used in plotting contrast-based test. </p>
</td></tr>
<tr><td><code>lineCount2</code></td>
<td>
<p> Parameter used in plotting contrast-based test. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Junlong Sun and Song Yang
</p>


<h3>References</h3>

<p>YANG, S. AND ZHAO, Y. (2012). Checking the Short-Term and Long-Term Hazard Ratio Model for Survival Data. Scandinavian Journal of Statistics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+YPmodel">YPmodel</a></code>, <code><a href="#topic+YPmodel.setRandom">YPmodel.setRandom</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    library(YPmodel)
    data(gastric)
    LackFitTest &lt;- YPmodel.lackfittest(data=gastric, repNum=100)
    summary.YPmodel.lackfittest(LackFitTest)
    plot(LackFitTest)

    plot.YPmodel.martint(LackFitTest)
    plot.YPmodel.survf(LackFitTest)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

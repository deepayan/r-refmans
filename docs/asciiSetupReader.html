<!DOCTYPE html><html><head><title>Help for package asciiSetupReader</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {asciiSetupReader}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#make_sps_setup'><p>Create an SPSS setup file (.sps) to use for reading in fixed-width text files</p></a></li>
<li><a href='#parse_setup'><p>Parse the setup file (.sps or .sas).</p></a></li>
<li><a href='#read_ascii_setup'><p>Read fixed-width ASCII file using SPSS or SAS Setup file.</p></a></li>
<li><a href='#read_ascii_setup_addin'><p>Launch an RStudio addin to select options for read_ascii_setup()</p></a></li>
<li><a href='#sas_ascii_reader'><p>Read fixed-width ASCII file using SAS Setup file.</p></a></li>
<li><a href='#spss_ascii_reader'><p>Read fixed-width ASCII file using SPSS Setup file.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Reads Fixed-Width ASCII Data Files (.txt or .dat) that Have
Accompanying Setup Files (.sps or .sas)</td>
</tr>
<tr>
<td>Version:</td>
<td>2.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Lets you open a fixed-width ASCII file (.txt or
    .dat) that has an accompanying setup file (.sps or .sas). These file
    combinations are sometimes referred to as .txt+.sps, .txt+.sas,
    .dat+.sps, or .dat+.sas. This will only run in a txt-sps or txt-sas
    pair in which the setup file contains instructions to open that text
    file. It will NOT open other text files, .sav, .sas, or .por data
    files. Fixed-width ASCII files with setup files are common in older
    (pre-2000) government data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jacobkap/asciiSetupReader">https://github.com/jacobkap/asciiSetupReader</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jacobkap/asciiSetupReader/issues">https://github.com/jacobkap/asciiSetupReader/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, haven, readr, vroom, stringr, zoo, shiny (&ge;
0.13), miniUI (&ge; 0.1.1), rstudioapi (&ge; 0.5)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-05 19:47:38 UTC; jkkap</td>
</tr>
<tr>
<td>Author:</td>
<td>Jacob Kaplan <a href="https://orcid.org/0000-0002-0601-0387"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jacob Kaplan &lt;jkkaplan6@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-05 20:13:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='make_sps_setup'>Create an SPSS setup file (.sps) to use for reading in fixed-width text files</h2><span id='topic+make_sps_setup'></span>

<h3>Description</h3>

<p>make_sps_setup() is used to create the setup file used in reading in
fixed-width text files. Often the setup file comes with the data file but
in some cases (usually with government data) you will need to create
the setup file yourself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_sps_setup(
  file_name,
  col_positions,
  col_names = NULL,
  col_labels = NULL,
  value_labels = NULL,
  missing_values = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_sps_setup_+3A_file_name">file_name</code></td>
<td>
<p>Name of the file to be saved (e.g. &quot;setup_file1&quot;). There is no need to put
the .sps extension in the file name.</p>
</td></tr>
<tr><td><code id="make_sps_setup_+3A_col_positions">col_positions</code></td>
<td>
<p>Either a vector of strings indicating the start and end position of each column
(e.g. &quot;1-3&quot;, &quot;4-5&quot;) or a vector of the widths of the columns (e.g. 3, 2).</p>
</td></tr>
<tr><td><code id="make_sps_setup_+3A_col_names">col_names</code></td>
<td>
<p>A vector of names for the columns. If none are provided, will automatically
create names based on column number (e.g. V1, V2, V3).</p>
</td></tr>
<tr><td><code id="make_sps_setup_+3A_col_labels">col_labels</code></td>
<td>
<p>A vector of labels for the columns. These are often longer and more descriptive
than the col_names. These are the values used as column names if
real_names = TRUE in reading in the data.</p>
</td></tr>
<tr><td><code id="make_sps_setup_+3A_value_labels">value_labels</code></td>
<td>
<p>A vector with the value first, then an ' = ' then the label. Each
new column should have the column named followed by ' ='.</p>
</td></tr>
<tr><td><code id="make_sps_setup_+3A_missing_values">missing_values</code></td>
<td>
<p>A vector of strings with the column name followed by the values to be
replaced by NA.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Does not return any object. Saves the .sps file that is created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  value_labels &lt;- c("var1 = ",
                     "1 = label 1",
                     "2 = label 2",
                     "3 = label 3",
                     "4 = label 4",
                     "5 = label 5",
                     "var3 = ",
                     "1A = alpha",
                     "1B = bravo",
                     "1C = cat")
missing_values &lt;- c("state name", "9", "-8", "county", "-8")
make_sps_setup(file_name     = "example_name",
               col_positions = c(1, 3, 4, 2),
               col_names     = c("var1", "var2", "var3", "var4"),
               col_labels    = c("state name", "county",
                              "population", "census region code"),
               value_labels  = value_labels,
               missing_values = missing_values)

## End(Not run)
</code></pre>

<hr>
<h2 id='parse_setup'>Parse the setup file (.sps or .sas).</h2><span id='topic+parse_setup'></span>

<h3>Description</h3>

<p>Parse the setup file (.sps or .sas).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_setup(setup_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_setup_+3A_setup_file">setup_file</code></td>
<td>
<p>Name of the SPSS or SAS setup file - should be a .sps or .sas (.txt also accepted as are these files in zipped format)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of length 3. The first object (&quot;setup&quot;) is a data frame
containing 4 columns: first the non-descriptive name of each column,
The second column is the descriptive name of the column. Columns three
and four and the beginning and ending number of the column (used to
determine the columns location in the fixed-with data file).
</p>
<p>The second object (&quot;value_labels&quot;) in the list is list of named vectors for the value labels. The
list has a length equal to the number of columns with value labels. If there are
no value labels, this will be NULL.
</p>
<p>The third object (&quot;missing&quot;) in the list is a data.frame with two columns. The first
column says the variable name and the second column says the value that is missing
and will be replaced with NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sas_name &lt;- system.file("extdata", "example_setup.sas",
                         package = "asciiSetupReader")
sas_example &lt;- parse_setup(sas_name)

sps_name &lt;- system.file("extdata", "example_setup.sps",
                         package = "asciiSetupReader")
sps_example &lt;- parse_setup(sps_name)

## End(Not run)
</code></pre>

<hr>
<h2 id='read_ascii_setup'>Read fixed-width ASCII file using SPSS or SAS Setup file.</h2><span id='topic+read_ascii_setup'></span>

<h3>Description</h3>

<p>read_ascii_setup() is used when you need to
read an fixed-width ASCII (text) file that comes with a setup file.
The setup file provides instructions on how to create and name the columns,
and fix the key-value pairs (sometimes called value labels). This is common
in government data, particular data produced before 2010.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_ascii_setup(
  data,
  setup_file,
  use_value_labels = TRUE,
  use_clean_names = TRUE,
  select_columns = NULL,
  coerce_numeric = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_ascii_setup_+3A_data">data</code></td>
<td>
<p>Name of the ASCII (.txt or .dat) file that contains the data.
This file may be zipped with a file extension of .zip.</p>
</td></tr>
<tr><td><code id="read_ascii_setup_+3A_setup_file">setup_file</code></td>
<td>
<p>Name of the SPSS or SAS setup file - should be a .sps or .sas (.txt also accepted as are these files in zipped format)</p>
</td></tr>
<tr><td><code id="read_ascii_setup_+3A_use_value_labels">use_value_labels</code></td>
<td>
<p>If TRUE, fixes value labels of the data. e.g. If a
column is &quot;sex&quot; and has values of 0 or 1, and the setup file says 0 = male
and 1 = female, it will make that change. Using this parameter for enormous files may slow down the package considerably.</p>
</td></tr>
<tr><td><code id="read_ascii_setup_+3A_use_clean_names">use_clean_names</code></td>
<td>
<p>If TRUE fixes column names from default column name in the
setup file (e.g. V1, V2) to the descriptive label for the column provided in the file (e.g. age, sex, etc.).</p>
</td></tr>
<tr><td><code id="read_ascii_setup_+3A_select_columns">select_columns</code></td>
<td>
<p>Specify which columns from the dataset you want. If
NULL, will return all columns. Accepts the column number (e.g. 1:5),
column name (e.g. V1, V2, etc.) or column label (e.g. VICTIM_NAME, CITY,
etc.).</p>
</td></tr>
<tr><td><code id="read_ascii_setup_+3A_coerce_numeric">coerce_numeric</code></td>
<td>
<p>If TRUE (default) will make columns where all values can be made numeric
into numeric columns. Useful as FALSE if variables have leading zeros - such
as US Census FIPS codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame of the data from the ASCII file
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Text file is zipped to save space.
dataset_name &lt;- system.file("extdata", "example_data.zip",
  package = "asciiSetupReader")
sps_name &lt;- system.file("extdata", "example_setup.sps",
  package = "asciiSetupReader")

## Not run: 
example &lt;- read_ascii_setup(data = dataset_name,
  setup_file = sps_name)


# Does not fix value labels
example2 &lt;- read_ascii_setup(data = dataset_name,
  setup_file = sps_name, use_value_labels = FALSE)

# Keeps original column names
example3 &lt;- read_ascii_setup(data = dataset_name,
  setup_file = sps_name, use_clean_names = FALSE)

## End(Not run)

# Only returns the first 5 columns
example4 &lt;- read_ascii_setup(data = dataset_name,
  setup_file = sps_name, select_columns = 1:5)
</code></pre>

<hr>
<h2 id='read_ascii_setup_addin'>Launch an RStudio addin to select options for read_ascii_setup()</h2><span id='topic+read_ascii_setup_addin'></span>

<h3>Description</h3>

<p>Launch an RStudio addin to select options for read_ascii_setup().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_ascii_setup_addin()
</code></pre>


<h3>Value</h3>

<p>read_ascii_setup() code to console with options based on user input
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
read_ascii_setup_addin()

## End(Not run)
</code></pre>

<hr>
<h2 id='sas_ascii_reader'>Read fixed-width ASCII file using SAS Setup file.</h2><span id='topic+sas_ascii_reader'></span>

<h3>Description</h3>

<p>sas_ascii_reader() and spss_ascii_reader() are used when you need to
read an fixed-width ASCII (text) file that comes with a setup file. These file
combinations are sometimes referred to as .txt+.sps, .txt+.sas,
.dat+.sps, or .dat+.sas.
The setup file provides instructions on how to create and name the columns,
and fix the key-value pairs (sometimes called value labels). This is common
in government data, particular data produced before 2010.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sas_ascii_reader(
  dataset_name,
  sas_name,
  value_label_fix = TRUE,
  real_names = TRUE,
  keep_columns = NULL,
  coerce_numeric = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sas_ascii_reader_+3A_dataset_name">dataset_name</code></td>
<td>
<p>Name of the ASCII (.txt) file that contains the data.
This file may be zipped with a file extension of .zip.</p>
</td></tr>
<tr><td><code id="sas_ascii_reader_+3A_sas_name">sas_name</code></td>
<td>
<p>Name of the SAS Setup file - should be a .sas or .txt file.</p>
</td></tr>
<tr><td><code id="sas_ascii_reader_+3A_value_label_fix">value_label_fix</code></td>
<td>
<p>If TRUE, fixes value labels of the data. e.g. If a
column is &quot;sex&quot; and has values of 0 or 1, and the setup file says 0 = male
and 1 = female, it will make that change. The reader is much faster is this
parameter is FALSE.</p>
</td></tr>
<tr><td><code id="sas_ascii_reader_+3A_real_names">real_names</code></td>
<td>
<p>If TRUE fixes column names from default column name in the
SPSS setup file (e.g. V1, V2) to the name is says the column is called
(e.g. age, sex, etc.).</p>
</td></tr>
<tr><td><code id="sas_ascii_reader_+3A_keep_columns">keep_columns</code></td>
<td>
<p>Specify which columns from the dataset you want. If
NULL, will return all columns. Accepts the column number (e.g. 1:5),
column name (e.g. V1, V2, etc.) or column label (e.g. VICTIM_NAME, CITY,
etc.).</p>
</td></tr>
<tr><td><code id="sas_ascii_reader_+3A_coerce_numeric">coerce_numeric</code></td>
<td>
<p>If TRUE (default) will make columns where all values can be made numeric
into numeric columns.Useful as FALSE if variables have leading zeros - such
as US Census FIPS codes.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+spss_ascii_reader">spss_ascii_reader</a></code> For using an SPSS setup file
</p>
<p>Other ASCII Reader functions: 
<code><a href="#topic+spss_ascii_reader">spss_ascii_reader</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Text file is zipped to save space.
dataset_name &lt;- system.file("extdata", "example_data.zip",
  package = "asciiSetupReader")
sas_name &lt;- system.file("extdata", "example_setup.sas",
  package = "asciiSetupReader")

## Not run: 
example &lt;- sas_ascii_reader(dataset_name = dataset_name,
  sas_name = sas_name)


# Does not fix value labels
example2 &lt;- sas_ascii_reader(dataset_name = dataset_name,
  sas_name = sas_name, value_label_fix = FALSE)

# Keeps original column names
example3 &lt;- sas_ascii_reader(dataset_name = dataset_name,
  sas_name = sas_name, real_names = FALSE)


## End(Not run)
# Only returns the first 5 columns
example &lt;- sas_ascii_reader(dataset_name = dataset_name,
  sas_name = sas_name, keep_columns = 1:5)

</code></pre>

<hr>
<h2 id='spss_ascii_reader'>Read fixed-width ASCII file using SPSS Setup file.</h2><span id='topic+spss_ascii_reader'></span>

<h3>Description</h3>

<p>spss_ascii_reader() and sas_ascii_reader() are used when you need to
read an fixed-width ASCII (text) file that comes with a setup file.
These file combinations are sometimes referred to as .txt+.sps, .txt+.sas,
.dat+.sps, or .dat+.sas.
The setup file provides instructions on how to create and name the columns,
and fix the key-value pairs (sometimes called value labels). This is common
in government data, particular data produced before 2010.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spss_ascii_reader(
  dataset_name,
  sps_name,
  value_label_fix = TRUE,
  real_names = TRUE,
  keep_columns = NULL,
  coerce_numeric = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spss_ascii_reader_+3A_dataset_name">dataset_name</code></td>
<td>
<p>Name of the ASCII (.txt) file that contains the data.
This file may be zipped with a file extension of .zip.</p>
</td></tr>
<tr><td><code id="spss_ascii_reader_+3A_sps_name">sps_name</code></td>
<td>
<p>Name of the SPSS Setup file - should be a .sps or .txt
(zipped text files also work) file.</p>
</td></tr>
<tr><td><code id="spss_ascii_reader_+3A_value_label_fix">value_label_fix</code></td>
<td>
<p>If TRUE, fixes value labels of the data. e.g. If a
column is &quot;sex&quot; and has values of 0 or 1, and the setup file says 0 = male
and 1 = female, it will make that change. The reader is much faster is this
parameter is FALSE.</p>
</td></tr>
<tr><td><code id="spss_ascii_reader_+3A_real_names">real_names</code></td>
<td>
<p>If TRUE fixes column names from default column name in the
SPSS setup file (e.g. V1, V2) to the name is says the column is called
(e.g. age, sex, etc.).</p>
</td></tr>
<tr><td><code id="spss_ascii_reader_+3A_keep_columns">keep_columns</code></td>
<td>
<p>Specify which columns from the dataset you want. If
NULL, will return all columns. Accepts the column number (e.g. 1:5),
column name (e.g. V1, V2, etc.) or column label (e.g. VICTIM_NAME, CITY,
etc.).</p>
</td></tr>
<tr><td><code id="spss_ascii_reader_+3A_coerce_numeric">coerce_numeric</code></td>
<td>
<p>If TRUE (default) will make columns where all values can be made numeric
into numeric columns.Useful as FALSE if variables have leading zeros - such
as US Census FIPS codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data.frame of the data from the ASCII file
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sas_ascii_reader">sas_ascii_reader</a></code> For using an SAS setup file
</p>
<p>Other ASCII Reader functions: 
<code><a href="#topic+sas_ascii_reader">sas_ascii_reader</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Text file is zipped to save space.
dataset_name &lt;- system.file("extdata", "example_data.zip",
  package = "asciiSetupReader")
sps_name &lt;- system.file("extdata", "example_setup.sps",
  package = "asciiSetupReader")

## Not run: 
example &lt;- spss_ascii_reader(dataset_name = dataset_name,
  sps_name = sps_name)


# Does not fix value labels
example2 &lt;- spss_ascii_reader(dataset_name = dataset_name,
  sps_name = sps_name, value_label_fix = FALSE)

# Keeps original column names
example3 &lt;- spss_ascii_reader(dataset_name = dataset_name,
  sps_name = sps_name, real_names = FALSE)


## End(Not run)
# Only returns the first 5 columns
example4 &lt;- spss_ascii_reader(dataset_name = dataset_name,
  sps_name = sps_name, keep_columns = 1:5)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

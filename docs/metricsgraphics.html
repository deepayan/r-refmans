<!DOCTYPE html><html><head><title>Help for package metricsgraphics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {metricsgraphics}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#metricsgraphics'><p>An <code>htmlwidget</code> interface to the</p>
<a href="http://metricsgraphicsjs.org/">MetricsGraphics.js</a> D3 chart library</a></li>
<li><a href='#metricsgraphics-exports'><p>metricsgraphics exported operators</p></a></li>
<li><a href='#metricsgraphicsOutput'><p>Widget output function for use in Shiny</p></a></li>
<li><a href='#mjs_add_baseline'><p>Sets a baseline line/label</p></a></li>
<li><a href='#mjs_add_confidence_band'><p>Add a confidence band to line plot</p></a></li>
<li><a href='#mjs_add_css_rule'><p>Add a CSS rule to the rendered htmlwidget</p></a></li>
<li><a href='#mjs_add_legend'><p>Adds a legend to a metricsgraphics chart</p></a></li>
<li><a href='#mjs_add_line'><p>Add a new line to a metricsgraphics.js linechart &quot;geom&quot;</p></a></li>
<li><a href='#mjs_add_marker'><p>Sets a marker line/label</p></a></li>
<li><a href='#mjs_add_mouseover'><p>Adds a custom rollover to a metricsgraphics chart</p></a></li>
<li><a href='#mjs_annotate_region'><p>Region annotations for line charts [EXPERIMENTAL]</p></a></li>
<li><a href='#mjs_axis_x'><p>Configure x axis ticks &amp; limits</p></a></li>
<li><a href='#mjs_axis_y'><p>Configure y axis ticks &amp; limits</p></a></li>
<li><a href='#mjs_bar'><p>metricsgraphics.js bar chart &quot;geom&quot;</p></a></li>
<li><a href='#mjs_grid'><p>Lays out metricsgraphics widgets into a &quot;grid&quot;, similar to</p>
<code>grid.arrange</code> from <code>gridExtra</code></a></li>
<li><a href='#mjs_hist'><p>Shortcut for plotting MetricsGraphics histograms</p></a></li>
<li><a href='#mjs_histogram'><p>Plot Histograms with MetrisGraphics</p></a></li>
<li><a href='#mjs_labs'><p>Configure axis labels &amp; plot description</p></a></li>
<li><a href='#mjs_line'><p>metricsgraphics.js linechart &quot;geom&quot;</p></a></li>
<li><a href='#mjs_plot'><p>Create a new metricsgraphics.js  plot</p></a></li>
<li><a href='#mjs_point'><p>metricsgraphics.js scatterplot &quot;geom&quot;</p></a></li>
<li><a href='#renderMetricsgraphics'><p>Widget render function for use in Shiny</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Interactive Charts with the JavaScript 'MetricsGraphics'
Library</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-12-21</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bob Rudis &lt;bob@rudis.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an 'htmlwidgets' interface to the
    'MetricsGraphics.js' ('D3'-based) charting library which is geared towards
    displaying time-series data. Chart types include line charts, scatterplots,
    histograms and rudimentary bar charts. Support for laying out multiple charts
    into a grid layout is also provided. All charts are interactive and many
    have an option for line, label and region annotations.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://github.com/hrbrmstr/metricsgraphics">http://github.com/hrbrmstr/metricsgraphics</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hrbrmstr/metricsgraphics/issues">https://github.com/hrbrmstr/metricsgraphics/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, RColorBrewer, ggplot2, ggplot2movies, jsonlite (&ge;
0.9.16), knitr (&ge; 1.8), shiny (&ge; 0.12.0), binom, dplyr,
grDevices</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, htmlwidgets, htmltools</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-12-21 12:19:51 UTC; hrbrmstr</td>
</tr>
<tr>
<td>Author:</td>
<td>Bob Rudis [aut, cre],
  Ali Almossawi [ctb, cph] (MetricsGraphics library),
  Hamilton Ulmer [ctb, cph] (MetricsGraphics library),
  Mozilla [cph] (MetricsGraphics library),
  jQuery Foundation and contributors [ctb, cph] (jQuery library)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-12-21 15:29:04</td>
</tr>
</table>
<hr>
<h2 id='metricsgraphics'>An <code>htmlwidget</code> interface to the
<a href="http://metricsgraphicsjs.org/">MetricsGraphics.js</a> D3 chart library</h2><span id='topic+metricsgraphics'></span><span id='topic+metricsgraphics-package'></span>

<h3>Description</h3>

<p>An <code>htmlwidget</code> interface to the
<a href="http://metricsgraphicsjs.org/">MetricsGraphics.js</a> D3 chart library
</p>


<h3>Author(s)</h3>

<p>Bob Rudis (@hrbrmstr)
</p>

<hr>
<h2 id='metricsgraphics-exports'>metricsgraphics exported operators</h2><span id='topic+JS'></span><span id='topic++25+3E+25'></span><span id='topic+metricsgraphics-exports'></span><span id='topic+saveWidget'></span>

<h3>Description</h3>

<p>The following functions are imported and then re-exported
from the dygraphs package to enable use of the magrittr
pipe operator with no additional library calls
</p>

<hr>
<h2 id='metricsgraphicsOutput'>Widget output function for use in Shiny</h2><span id='topic+metricsgraphicsOutput'></span>

<h3>Description</h3>

<p>Widget output function for use in Shiny
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metricsgraphicsOutput(outputId, width = "100%", height = "400px")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metricsgraphicsOutput_+3A_outputid">outputId</code></td>
<td>
<p>output id</p>
</td></tr>
<tr><td><code id="metricsgraphicsOutput_+3A_width">width</code></td>
<td>
<p>width</p>
</td></tr>
<tr><td><code id="metricsgraphicsOutput_+3A_height">height</code></td>
<td>
<p>height</p>
</td></tr>
</table>

<hr>
<h2 id='mjs_add_baseline'>Sets a baseline line/label</h2><span id='topic+mjs_add_baseline'></span>

<h3>Description</h3>

<p>metricsgraphics baselines are horizontal lines that may specify, say, a goal
or target to be reached. This function lets you add baselines to a plot object.
you can add as many as you need to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_baseline(mjs, y_value, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_baseline_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_baseline_+3A_y_value">y_value</code></td>
<td>
<p>which y value to draw the baseline at</p>
</td></tr>
<tr><td><code id="mjs_add_baseline_+3A_label">label</code></td>
<td>
<p>text label for the marker</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(
  year=seq(1790, 1970, 10),
  uspop=as.numeric(uspop)
) %&gt;%
  mjs_plot(x=year, y=uspop) %&gt;%
  mjs_line() %&gt;%
  mjs_add_marker(1850, "Something Wonderful") %&gt;%
  mjs_add_baseline(150, "Something Awful")
</code></pre>

<hr>
<h2 id='mjs_add_confidence_band'>Add a confidence band to line plot</h2><span id='topic+mjs_add_confidence_band'></span>

<h3>Description</h3>

<p>If you have lower &amp; upper points associated with your line in a data frame,
you can specify their accessors (defaults to <code>"l"</code> &amp; <code>"u"</code>) here
which will result in a shaded confidence band being plotted with the line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_confidence_band(mjs, lower_accessor = "l", upper_accessor = "u")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_confidence_band_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_confidence_band_+3A_lower_accessor">lower_accessor</code></td>
<td>
<p>bare or quoted name of column to use for the lower
bound of the confidence band</p>
</td></tr>
<tr><td><code id="mjs_add_confidence_band_+3A_upper_accessor">upper_accessor</code></td>
<td>
<p>bare or quoted name of column to use for the upper
boudn of the confidence band</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>require(binom)
require(dplyr)

set.seed(1492)
binom.confint(x=sample(2:30, 100, replace=TRUE), n = 100, tol = 1e-8,
              methods="bayes") %&gt;%
  mutate(x=1:100) -&gt; bdat

bdat %&gt;%
  mjs_plot(x=x, y=mean, width=600, height=240) %&gt;%
  mjs_axis_x(show_secondary_x_label=FALSE,
             extended_ticks=TRUE) %&gt;%
  mjs_line() %&gt;%
  mjs_add_confidence_band(lower_accessor="lower",
                          upper_accessor="upper")
</code></pre>

<hr>
<h2 id='mjs_add_css_rule'>Add a CSS rule to the rendered htmlwidget</h2><span id='topic+mjs_add_css_rule'></span>

<h3>Description</h3>

<p>This function will add a CSS rule to a widget-created
DOM stylesheet. <code>rule</code> should be a valid CSS rule as you
would enter in a <code>&lt;style&gt;...&lt;/style&gt;</code> block. No checking is done
to ensure validity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_css_rule(mjs, rule, warn = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_css_rule_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_css_rule_+3A_rule">rule</code></td>
<td>
<p>character vector of CSS rule(s) to add to the widget DOM</p>
</td></tr>
<tr><td><code id="mjs_add_css_rule_+3A_warn">warn</code></td>
<td>
<p>show warnings for global CSS rules? (default: <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>{{ID}}</code> (followed by a space) to target the CSS rule
just to the widget vs the whole DOM.
</p>
<p>Vectorized over <code>rule</code>
</p>


<h3>Value</h3>

<p>metricsgraphics plot object
</p>


<h3>Note</h3>

<p>This is for expert use only. You need to know quite a bit about the visualization
and target DOM to effectively use this function. CSS rules without the <code>{{ID}}</code>
are applied to the entire DOM.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1492)
stocks &lt;- data.frame(
  time = as.Date('2009-01-01') + (365 * 0:9),
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4))

stocks %&gt;%
  mjs_plot(x=time, y=X) %&gt;%
  mjs_line() %&gt;%
  mjs_axis_x(xax_format="date") %&gt;%
  mjs_add_css_rule("{{ID}} .blk { fill:black }") %&gt;%
  mjs_annotate_region("2013-01-01", "2016-01-01", "Crazy times", "blk")
</code></pre>

<hr>
<h2 id='mjs_add_legend'>Adds a legend to a metricsgraphics chart</h2><span id='topic+mjs_add_legend'></span>

<h3>Description</h3>

<p>Adds a legend to a metricsgraphics chart
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_legend(mjs, legend, inline = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_legend_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_legend_+3A_legend">legend</code></td>
<td>
<p>character vector of labels for the legend</p>
</td></tr>
<tr><td><code id="mjs_add_legend_+3A_inline">inline</code></td>
<td>
<p><code>TRUE</code> if you want line labes to the right of the chart
vs in a legend block (experimental)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1492)
stocks &lt;- data.frame(
  time = as.Date('2009-01-01') + 0:9,
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4))

stocks %&gt;%
  mjs_plot(x=time, y=X) %&gt;%
  mjs_line() %&gt;%
  mjs_add_line(Y) %&gt;%
  mjs_add_line(Z) %&gt;%
  mjs_axis_x(xax_format="date") %&gt;%
  mjs_add_legend(legend=c("X", "Y", "Z"))
</code></pre>

<hr>
<h2 id='mjs_add_line'>Add a new line to a metricsgraphics.js linechart &quot;geom&quot;</h2><span id='topic+mjs_add_line'></span>

<h3>Description</h3>

<p>This function adds a line to an existing <code>mjs_line</code> &quot;geom&quot;. Specify
the bare or quoted name of the column to use in <code>y_accessor</code> and it will be added
to the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_line(mjs, y_accessor, color = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_line_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_line_+3A_y_accessor">y_accessor</code></td>
<td>
<p>bare or quoted name of column to add to the existing line plot</p>
</td></tr>
<tr><td><code id="mjs_add_line_+3A_color">color</code></td>
<td>
<p>line color. Use <code>NULL</code> (the default) to use default Metrics Graphics colors
or if you plan on using CSS to control the colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Note</h3>

<p>You must have called <code>mjs_line</code> first before adding additional columns. If you plan on
using cusom colors, all lines must have a color value or the result is non-deterministic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1492)
stocks &lt;- data.frame(
  time = as.Date('2009-01-01') + 0:9,
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4))

stocks %&gt;%
  mjs_plot(x=time, y=X) %&gt;%
  mjs_line() %&gt;%
  mjs_add_line(Y) %&gt;%
  mjs_add_line(Z) %&gt;%
  mjs_axis_x(xax_format="date")
</code></pre>

<hr>
<h2 id='mjs_add_marker'>Sets a marker line/label</h2><span id='topic+mjs_add_marker'></span>

<h3>Description</h3>

<p>metricsgraphics marker lines are vertical lines that identify, say, events or
dates worth annotating. This function lets you add a marker to a plot object.
you can add as many as you need to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_marker(mjs, x_value, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_marker_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_marker_+3A_x_value">x_value</code></td>
<td>
<p>which x value to draw the marker at</p>
</td></tr>
<tr><td><code id="mjs_add_marker_+3A_label">label</code></td>
<td>
<p>text label for the marker</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(
  year=seq(1790, 1970, 10),
  uspop=as.numeric(uspop)
) %&gt;%
  mjs_plot(x=year, y=uspop) %&gt;%
  mjs_line() %&gt;%
  mjs_add_marker(1850, "Something Wonderful") %&gt;%
  mjs_add_baseline(150, "Something Awful")
</code></pre>

<hr>
<h2 id='mjs_add_mouseover'>Adds a custom rollover to a metricsgraphics chart</h2><span id='topic+mjs_add_mouseover'></span>

<h3>Description</h3>

<p>MetricsGraphics charts allow for <a href="https://github.com/mozilla/metrics-graphics/wiki/Graphic#mouseover">custom rollovers</a>.
<code>mjs_add_mouseover</code> lets you add a custom rollover to a metricsgraphics object. You must be
familiar with javascript and D3 idioms since you are supplying a javascript function as
a parameter.<br />
<br />
Since targeting is done by element id, you will need to add a special string - <code>{{ID}}</code> -
to the target element selector so metricsgraphics can add the unique object identifier
to the selector. See Examples for basic usage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_add_mouseover(mjs, func)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_add_mouseover_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_add_mouseover_+3A_func">func</code></td>
<td>
<p>text for javascript function to be used for the custom rollover. See Details for usage.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Note</h3>

<p>you need to use <code>d.point.THING</code> vs <code>d.THING</code> when trying to add mouseovers to a
metricsgraphics scatterplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1492)
dat &lt;- data.frame(date=as.Date('2009-01-01') + 0:9,
                  value=rnorm(10, 0, 2))
dat %&gt;%
  mjs_plot(x=date, y=value) %&gt;%
  mjs_line() %&gt;%
  mjs_axis_x(xax_format = "date") %&gt;%
  mjs_add_mouseover("function(d, i) {
                $('{{ID}} svg .mg-active-datapoint')
                    .text('custom text : ' + d.date + ' ' + i);
                 }")

# slightly different for scatterplots

dat &lt;- data.frame(value=rnorm(n=30, mean=5, sd=1),
                  value2=rnorm(n=30, mean=4, sd=1),
                  test = c(rep(c('test', 'test2'), 15)))

dat %&gt;%
  mjs_plot(x = value, y = value2) %&gt;%
  mjs_point() %&gt;%
  mjs_add_mouseover("function(d, i) {
                $('{{ID}} svg .mg-active-datapoint')
                    .text('custom text : ' + d.point.test + ' ' + i);
                 }")

</code></pre>

<hr>
<h2 id='mjs_annotate_region'>Region annotations for line charts [EXPERIMENTAL]</h2><span id='topic+mjs_annotate_region'></span>

<h3>Description</h3>

<p>This function uses the <a href="https://github.com/senseyeio/mg-regions">mg-regions</a>
plugin to enable region highlighting with an optional label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_annotate_region(mjs, x_start = NULL, x_end = NULL, label = NULL,
  css_class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_annotate_region_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics object</p>
</td></tr>
<tr><td><code id="mjs_annotate_region_+3A_x_start">x_start</code></td>
<td>
<p>start point on x axis for region annotation</p>
</td></tr>
<tr><td><code id="mjs_annotate_region_+3A_x_end">x_end</code></td>
<td>
<p>end point on x axis for region annotation</p>
</td></tr>
<tr><td><code id="mjs_annotate_region_+3A_label">label</code></td>
<td>
<p>text label for annotation (leave <code>NULL</code>) for no label</p>
</td></tr>
<tr><td><code id="mjs_annotate_region_+3A_css_class">css_class</code></td>
<td>
<p>CSS class to apply (see References link for more information)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is also experimental and relies on the plugin maintainer to
continue support for it. You should be well-versed in CSS to use this function
properly.
</p>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>References</h3>

<p><a href="https://github.com/senseyeio/mg-regions">https://github.com/senseyeio/mg-regions</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(year=seq(1790, 1970, 10),
           uspop=as.numeric(uspop)) %&gt;%
  mjs_plot(x=year, y=uspop, title="Population Chart") %&gt;%
  mjs_line() %&gt;%
  mjs_annotate_region(1850, 1900, "Bad stuff") %&gt;%
  mjs_annotate_region(1810, 1830, "Stuff")

set.seed(1492)
stocks &lt;- data.frame(
  time = as.Date('2009-01-01') + (365 * 0:9),
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4))

stocks %&gt;%
  mjs_plot(x=time, y=X) %&gt;%
  mjs_line() %&gt;%
  mjs_axis_x(xax_format="date") %&gt;%
  mjs_annotate_region("2013-01-01", "2016-01-01", "Crazy times")

## custom region color
stocks %&gt;%
  mjs_plot(x=time, y=X) %&gt;%
  mjs_line() %&gt;%
  mjs_axis_x(xax_format="date") %&gt;%
  mjs_add_css_rule("{{ID}} .blk { fill:black }") %&gt;%
  mjs_annotate_region("2013-01-01", "2016-01-01", "Crazy times", "blk")
</code></pre>

<hr>
<h2 id='mjs_axis_x'>Configure x axis ticks &amp; limits</h2><span id='topic+mjs_axis_x'></span>

<h3>Description</h3>

<p>Configure x axis ticks &amp; limits
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_axis_x(mjs, show = TRUE, xax_count = 6, min_x = NULL, max_x = NULL,
  extended_ticks = FALSE, xax_format = "plain",
  show_secondary_x_label = NULL, rug = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_axis_x_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_show">show</code></td>
<td>
<p>display the axis? (default: <code>TRUE</code> - yes)</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_xax_count">xax_count</code></td>
<td>
<p>tick count</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_min_x">min_x</code></td>
<td>
<p>min limit for x axis</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_max_x">max_x</code></td>
<td>
<p>max limit for x axis</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_extended_ticks">extended_ticks</code></td>
<td>
<p>extend ticks on x axis?</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_xax_format">xax_format</code></td>
<td>
<p>how to format tick labels. Currently one of &quot;plain&quot;, &quot;comma&quot;
or &quot;date&quot;</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_show_secondary_x_label">show_secondary_x_label</code></td>
<td>
<p>determines whether to show the year, or another
unit of time in the case of smaller series, on the x-axis below
the x-axis labels.</p>
</td></tr>
<tr><td><code id="mjs_axis_x_+3A_rug">rug</code></td>
<td>
<p>show a &quot;rug&quot; plot next to the x axis? (default: <code>FALSE</code> - no)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>xax_format is likely to undergo a drastic change in future releases but
support for these three formats will also likely remain.
</p>

<hr>
<h2 id='mjs_axis_y'>Configure y axis ticks &amp; limits</h2><span id='topic+mjs_axis_y'></span>

<h3>Description</h3>

<p>Configure y axis ticks &amp; limits
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_axis_y(mjs, show = TRUE, yax_count = 5, min_y = NULL, max_y = NULL,
  extended_ticks = FALSE, y_scale_type = "linear", yax_units = "",
  rug = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_axis_y_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_show">show</code></td>
<td>
<p>display the axis? (default: <code>TRUE</code> - yes)</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_yax_count">yax_count</code></td>
<td>
<p>tick count</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_min_y">min_y</code></td>
<td>
<p>min limit for y axis</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_max_y">max_y</code></td>
<td>
<p>max limit for y axis</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_extended_ticks">extended_ticks</code></td>
<td>
<p>extend ticks on y axis?</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_y_scale_type">y_scale_type</code></td>
<td>
<p>scale for y axis; either &quot;linear&quot; (default) or &quot;log&quot;</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_yax_units">yax_units</code></td>
<td>
<p>a prefix symbol to be shown alongside the y axis' labels.
Useful for currencies, for instance.</p>
</td></tr>
<tr><td><code id="mjs_axis_y_+3A_rug">rug</code></td>
<td>
<p>show a &quot;rug&quot; plot next to the y axis? (default: <code>FALSE</code> - no)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>

<hr>
<h2 id='mjs_bar'>metricsgraphics.js bar chart &quot;geom&quot;</h2><span id='topic+mjs_bar'></span>

<h3>Description</h3>

<p>This function adds a bar &quot;geom&quot; to a metricsgraphics.js html widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_bar(mjs, bar_height = 20, binned = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_bar_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_bar_+3A_bar_height">bar_height</code></td>
<td>
<p>width of bars</p>
</td></tr>
<tr><td><code id="mjs_bar_+3A_binned">binned</code></td>
<td>
<p>is data already binned? (default: <code>TRUE</code> - yes)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Note</h3>

<p>metricsgraphics.js currently has &quot;meh&quot; support for bar charts
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(year=seq(1790, 1970, 10),
           uspop=as.numeric(uspop)) %&gt;%
  mjs_plot(x=year, y=uspop, width=300, height=400) %&gt;%
  mjs_bar()

</code></pre>

<hr>
<h2 id='mjs_grid'>Lays out metricsgraphics widgets into a &quot;grid&quot;, similar to
<code>grid.arrange</code> from <code>gridExtra</code></h2><span id='topic+mjs_grid'></span>

<h3>Description</h3>

<p>Lays out metricsgraphics widgets into a &quot;grid&quot;, similar to
<code>grid.arrange</code> from <code>gridExtra</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_grid(..., ncol = 1, nrow = 1, widths = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_grid_+3A_...">...</code></td>
<td>
<p>either individual <code>metricsgraphics</code> objects or a mixture of
individual <code>metricsgraphics</code> objects
and <code>list</code>s of <code>metricsgrahics</code> objects.</p>
</td></tr>
<tr><td><code id="mjs_grid_+3A_ncol">ncol</code></td>
<td>
<p>how many columns in the grid</p>
</td></tr>
<tr><td><code id="mjs_grid_+3A_nrow">nrow</code></td>
<td>
<p>how many rows in the grid</p>
</td></tr>
<tr><td><code id="mjs_grid_+3A_widths">widths</code></td>
<td>
<p>widths of the cells per row</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>htmltools</code> tag with wrapped <code>metricsgraphics</code> objects suitable
for knitting with <code>echo=FALSE</code> &amp; <code>results="asis"</code> or
rendering in Viewer with <code>html_print</code>
</p>


<h3>Note</h3>

<p><code>mjs_grid</code> does not work in a Shiny context
</p>

<hr>
<h2 id='mjs_hist'>Shortcut for plotting MetricsGraphics histograms</h2><span id='topic+mjs_hist'></span>

<h3>Description</h3>

<p>This function performs the call to <code>mjs_plot</code> and assumes
<code>data</code> is a numeric vector. It's intended to save keystrokes
when plotting quick histograms. This function automatically a y
axis label &quot;Frequency&quot; which you can override with a call to
<code>mjs_labs</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_hist(data, bins = NULL, bar_margin = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_hist_+3A_data">data</code></td>
<td>
<p>numeric vector</p>
</td></tr>
<tr><td><code id="mjs_hist_+3A_bins">bins</code></td>
<td>
<p>number of bins for the histogram (<code>NULL</code> == let MetricsGraphcis.js library compute)</p>
</td></tr>
<tr><td><code id="mjs_hist_+3A_bar_margin">bar_margin</code></td>
<td>
<p>space between bars (defaults to <code>1</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bimod &lt;- c(rnorm(1000, 0, 1), rnorm(1000, 3, 1))

mjs_plot(bimod) %&gt;% mjs_histogram()
bimod %&gt;% mjs_hist()

mjs_plot(bimod) %&gt;% mjs_histogram(bins=30)
bimod %&gt;% mjs_hist(30)
</code></pre>

<hr>
<h2 id='mjs_histogram'>Plot Histograms with MetrisGraphics</h2><span id='topic+mjs_histogram'></span>

<h3>Description</h3>

<p>Given a numeric vector or a data frame and numeric column name (bare or quoted),
plot a histogram with the specified parameter. This function automatically a y
axis label &quot;Frequency&quot; which you can override with a call to
<code>mjs_labs</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_histogram(mjs, bar_margin = 1, bins = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_histogram_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_histogram_+3A_bar_margin">bar_margin</code></td>
<td>
<p>space between bars (defaults to <code>1</code>)</p>
</td></tr>
<tr><td><code id="mjs_histogram_+3A_bins">bins</code></td>
<td>
<p>numbenr of bins for the histogram (<code>NULL</code> == let MetricsGraphcis.js library compute)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics plot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>movies &lt;- ggplot2movies::movies[sample(nrow(ggplot2movies::movies), 1000), ]

mjs_plot(movies$rating) %&gt;% mjs_histogram()

mjs_plot(movies, rating) %&gt;%
  mjs_histogram() %&gt;%
  mjs_labs(x_label="Histogram of movie ratings")

mjs_plot(movies$rating) %&gt;%
  mjs_histogram(bins=30)

mjs_plot(runif(10000)) %&gt;%
  mjs_histogram() %&gt;%
  mjs_labs(x_label="runif(10000)")
</code></pre>

<hr>
<h2 id='mjs_labs'>Configure axis labels &amp; plot description</h2><span id='topic+mjs_labs'></span>

<h3>Description</h3>

<p>Configure axis labels &amp; plot description
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_labs(mjs, x_label = NULL, y_label = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_labs_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics object</p>
</td></tr>
<tr><td><code id="mjs_labs_+3A_x_label">x_label</code></td>
<td>
<p>label for x asis</p>
</td></tr>
<tr><td><code id="mjs_labs_+3A_y_label">y_label</code></td>
<td>
<p>label for y axis</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtcars %&gt;%
 mjs_plot(x=wt, y=mpg, width=400, height=300) %&gt;%
 mjs_point(color_accessor=carb, size_accessor=carb) %&gt;%
 mjs_labs(x="Weight of Car", y="Miles per Gallon")

</code></pre>

<hr>
<h2 id='mjs_line'>metricsgraphics.js linechart &quot;geom&quot;</h2><span id='topic+mjs_line'></span>

<h3>Description</h3>

<p>This function adds a line &quot;geom&quot; to a metricsgraphics.js html widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_line(mjs, area = FALSE, animate_on_load = FALSE, color = NULL,
  interpolate = "cardinal")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_line_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_line_+3A_area">area</code></td>
<td>
<p>fill in area under line? (default: <code>FALSE</code> - no)</p>
</td></tr>
<tr><td><code id="mjs_line_+3A_animate_on_load">animate_on_load</code></td>
<td>
<p>animate the drawing of the plot on page load? (default: <code>FALSE</code> - no)</p>
</td></tr>
<tr><td><code id="mjs_line_+3A_color">color</code></td>
<td>
<p>line color (hex string or valid HTML color string). Use <code>NULL</code> (the default)
to use the default Metrics Graphics colors or if you plan on controlling the colors with CSS.</p>
</td></tr>
<tr><td><code id="mjs_line_+3A_interpolate">interpolate</code></td>
<td>
<p>the interpolation function to use when rendering lines.
possible values: (&quot;cardinal&quot;, &quot;linear&quot;, &quot;linear-closed&quot;, &quot;step&quot;, &quot;step-before&quot;,
&quot;step-after&quot;, &quot;basis&quot;, &quot;basis-open&quot;, &quot;basis-closed&quot;, &quot;bundle&quot;, &quot;cardinal-open&quot;,
&quot;cardinal-closed&quot;, &quot;monotone&quot;, &quot;basic&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Note</h3>

<p>If you plan on using cusom colors, all lines must have a color value or the result is
non-deterministic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(year=seq(1790, 1970, 10),
           uspop=as.numeric(uspop)) %&gt;%
  mjs_plot(x=year, y=uspop) %&gt;%
  mjs_line()

</code></pre>

<hr>
<h2 id='mjs_plot'>Create a new metricsgraphics.js  plot</h2><span id='topic+mjs_plot'></span>

<h3>Description</h3>

<p><code>mjs_plot()</code> initializes the metricsgraphics.js html widget
and takes a data frame &amp; (bare or quoted) x &amp; y column names as minimum input.
This must be piped to a &quot;geom&quot; (metricsgraphics.js only supports single
&quot;geom&quot; layers) and can also be piped to other <code>mjs_</code> functions that
manipulate aesthetics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_plot(data, x, y, show_rollover_text = TRUE, linked = FALSE,
  decimals = 2, format = "count", missing_is_hidden = FALSE, left = 80,
  right = 10, top = 40, bottom = 60, buffer = 8, width = NULL,
  height = NULL, title = NULL, description = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_plot_+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_x">x</code></td>
<td>
<p>bare or quoted name of column to use for x values</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_y">y</code></td>
<td>
<p>bare or quoted name of column to use for y values</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_show_rollover_text">show_rollover_text</code></td>
<td>
<p>determines whether or not to show any text when a data point is rolled over.</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_linked">linked</code></td>
<td>
<p>inks together all other graphs whose linked option is set to true.
When one graphic in that set is rolled over, the corresponding values in the other
graphics are also rolled over (default: <code>FALSE</code> - not linked)</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_decimals">decimals</code></td>
<td>
<p>the number of decimals to show in a rollover (default: <code>2</code>)</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_format">format</code></td>
<td>
<p>sets the format of the data object, which is to say,
<code>count</code>s or <code>percentage</code>s</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_missing_is_hidden">missing_is_hidden</code></td>
<td>
<p>if true and if the data object is a time series, missing data points will be treated as zeros</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_left">left</code></td>
<td>
<p>the size of the left margin in pixels.</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_right">right</code></td>
<td>
<p>the size of the right margin in pixels.</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_top">top</code></td>
<td>
<p>the size of the top margin in pixels.</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_bottom">bottom</code></td>
<td>
<p>the size of the bottom margin in pixels.</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_buffer">buffer</code></td>
<td>
<p>the buffer size in pixels between the actual chart area and the margins.</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_width">width</code></td>
<td>
<p>Width in pixels (optional, defaults to automatic sizing)</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_height">height</code></td>
<td>
<p>Height in pixels (optional, defaults to automatic sizing)</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_title">title</code></td>
<td>
<p>plot title</p>
</td></tr>
<tr><td><code id="mjs_plot_+3A_description">description</code></td>
<td>
<p>plot description</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="http://metricsgraphicsjs.org/">MetricsGraphics.js</a> for more information.
</p>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Note</h3>

<p>Plot <code>title</code> and <code>description</code> work best when the widget is in
a Bootstrap template. They also increase the overall plot area (height,
mostly) since they add <code>&lt;div&gt;</code>s. The <code>description</code> will be
visible in the upper left area (on <code>?</code> hover) if not displayed
in a Boostrap template.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(year=seq(1790, 1970, 10),
           uspop=as.numeric(uspop)) %&gt;%
  mjs_plot(x=year, y=uspop) %&gt;%
  mjs_line()

# accessor params can also be quoted

data.frame(year=seq(1790, 1970, 10),
           uspop=as.numeric(uspop)) %&gt;%
  mjs_plot(x="year", y="uspop") %&gt;%
  mjs_line()

</code></pre>

<hr>
<h2 id='mjs_point'>metricsgraphics.js scatterplot &quot;geom&quot;</h2><span id='topic+mjs_point'></span>

<h3>Description</h3>

<p>This function adds a point/scatterplot &quot;geom&quot; to a metricsgraphics.js html widget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mjs_point(mjs, point_size = 2.5, least_squares = FALSE,
  size_accessor = NULL, color_accessor = NULL, color_type = "number",
  color_range = c("blue", "red"), size_range = c(1, 5), x_rug = FALSE,
  y_rug = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mjs_point_+3A_mjs">mjs</code></td>
<td>
<p>metricsgraphics plot object</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_point_size">point_size</code></td>
<td>
<p>the radius of the dots in the scatterplot</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_least_squares">least_squares</code></td>
<td>
<p>add a least squares line? (default: <code>FALSE</code> - no)</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_size_accessor">size_accessor</code></td>
<td>
<p>bare or quoted name of a column to use to scale the size of the points</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_color_accessor">color_accessor</code></td>
<td>
<p>bare or quoted name of a column to use to scale the color of the points</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_color_type">color_type</code></td>
<td>
<p>specifies whether the color scale is quantitative or qualitative.
By setting this option to &quot;<code>category</code>&quot;, you can color the points according to some
other discrete value</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_color_range">color_range</code></td>
<td>
<p>the range of colors, used to color different groups of points.</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_size_range">size_range</code></td>
<td>
<p>specifies the range of point sizes, when point sizes are mapped to data</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_x_rug">x_rug</code></td>
<td>
<p>show a &quot;rug&quot; plot next to the x axis? (default: <code>FALSE</code> - no)</p>
</td></tr>
<tr><td><code id="mjs_point_+3A_y_rug">y_rug</code></td>
<td>
<p>show a &quot;rug&quot; plot next to the y axis? (default: <code>FALSE</code> - no)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>metricsgraphics object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtcars %&gt;%
 mjs_plot(x=wt, y=mpg, width=400, height=300) %&gt;%
 mjs_point(least_squares=TRUE)

</code></pre>

<hr>
<h2 id='renderMetricsgraphics'>Widget render function for use in Shiny</h2><span id='topic+renderMetricsgraphics'></span>

<h3>Description</h3>

<p>Widget render function for use in Shiny
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renderMetricsgraphics(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="renderMetricsgraphics_+3A_expr">expr</code></td>
<td>
<p>expr</p>
</td></tr>
<tr><td><code id="renderMetricsgraphics_+3A_env">env</code></td>
<td>
<p>env</p>
</td></tr>
<tr><td><code id="renderMetricsgraphics_+3A_quoted">quoted</code></td>
<td>
<p>quoted</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package Rsagacmd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rsagacmd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_output_format'><p>Check the file extension of the output file to see if it is the same as the</p>
'raster_format' or 'vector_format' settings. If a raster, such as a GeoTIFF
is output directly from a SAGA-GIS tool but the raster format is set to SAGA,
then this might work depending on the saga version but Rsagacmd will not
know how to read the file.</a></li>
<li><a href='#convert_sagaext_r'><p>Ensure that the file extension for the SAGA raster format ends with .sdat for</p>
reading or writing SAGA grid objects in R.</a></li>
<li><a href='#create_alias'><p>Generates a syntactically-correct R name based on a SAGA-GIS identifier</p></a></li>
<li><a href='#create_function'><p>Function generate text that will be parsed into R code</p></a></li>
<li><a href='#create_tool'><p>Generates list of options for a SAGA-GIS tool</p></a></li>
<li><a href='#create_tool_overrides'><p>Apply manually-defined changes to specific tools</p></a></li>
<li><a href='#drop_parameters'><p>Drops unused/empty parameters from a 'parameters' object</p></a></li>
<li><a href='#extract_tool'><p>Internal function to extract information from a 'saga_tool' object</p></a></li>
<li><a href='#mrvbf_threshold'><p>Calculate the t_slope value based on DEM resolution for MRVBF</p></a></li>
<li><a href='#parameter'><p>Parameter class</p></a></li>
<li><a href='#parameters'><p>Generates a list of 'parameter' objects for a SAGA-GIS tool</p></a></li>
<li><a href='#parse_options'><p>Convenience function to join together the saga_cmd option:value pairs</p></a></li>
<li><a href='#print.saga_tool'><p>Generic function to display help and usage information for any SAGA-GIS tool</p></a></li>
<li><a href='#read_grid'><p>Read a raster data set that is output by saga_cmd</p></a></li>
<li><a href='#read_grid_list'><p>Read a semi-colon separated list of grids that are output by saga_cmd</p></a></li>
<li><a href='#read_output'><p>Primary function to read data sets (raster, vector, tabular) that are output</p>
by saga_cmd</a></li>
<li><a href='#read_shapes'><p>Read a spatial vector data set that is output by saga_cmd</p></a></li>
<li><a href='#read_srtm'><p>Get path to the example DEM data</p></a></li>
<li><a href='#read_table'><p>Read a tabular data set that is output by saga_cmd</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#Rsagacmd'><p>Rsagacmd: Linking R with the open-source SAGA-GIS software.</p></a></li>
<li><a href='#run_cmd'><p>Prepares the statement and runs the external saga_cmd executable</p></a></li>
<li><a href='#saga_configure'><p>Generates a custom saga_cmd configuration file</p></a></li>
<li><a href='#saga_docs'><p>Browse the online documentation for a saga_tool</p></a></li>
<li><a href='#saga_env'><p>Parses valid SAGA-GIS libraries and tools into a nested list of functions</p></a></li>
<li><a href='#saga_execute'><p>Function to execute SAGA-GIS commands through the command line tool</p></a></li>
<li><a href='#saga_gis'><p>Initiate a SAGA-GIS geoprocessor object</p></a></li>
<li><a href='#saga_remove_tmpfiles'><p>Removes temporary files created by Rsagacmd</p></a></li>
<li><a href='#saga_show_tmpfiles'><p>List temporary files created by Rsagacmd</p></a></li>
<li><a href='#saga_version'><p>Return the installed version of SAGA-GIS</p></a></li>
<li><a href='#save_object'><p>Generic methods to save R in-memory objects to file to SAGA-GIS to access</p></a></li>
<li><a href='#search_saga'><p>Automatic search for the path to a SAGA-GIS installation</p></a></li>
<li><a href='#search_tools'><p>Search for a SAGA-GIS tool</p></a></li>
<li><a href='#show_raster_formats'><p>List the available raster formats that can be set as defaults for a 'saga'</p>
object.</a></li>
<li><a href='#show_vector_formats'><p>List the available vector formats that can be set as defaults for a 'saga'</p>
object.</a></li>
<li><a href='#summarize_tool_params'><p>Interval function used to summarize a 'saga_tool' into a tibble that</p>
describes the tools parameters and options</a></li>
<li><a href='#tidy.saga'><p>Summarize the libraries that are available within a saga object and</p>
return these as a tibble.</a></li>
<li><a href='#tidy.saga_library'><p>Summarize the tools that are available within a saga library and</p>
return these as a tibble.</a></li>
<li><a href='#tidy.saga_tool'><p>Summarize the parameters that are available within a SAGA-GIS tool and</p>
return these as a tibble.</a></li>
<li><a href='#tile_geoprocessor'><p>Split a raster grid into tiles for tile-based processing</p></a></li>
<li><a href='#update_parameter_file'><p>Updates a 'parameter' object with file paths to the R data objects.</p></a></li>
<li><a href='#update_parameters_file'><p>Updates a 'parameters' object with file paths to the R data objects.</p></a></li>
<li><a href='#update_parameters_tempfiles'><p>Update a 'parameters' object using temporary files for any unspecified output</p>
parameters</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Linking R with the Open-Source 'SAGA-GIS' Software</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-15</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Steven Pawley &lt;dr.stevenpawley@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an R scripting interface to the open-source 'SAGA-GIS' 
    (System for Automated Geoscientific Analyses Geographical Information
    System) software. 'Rsagacmd' dynamically generates R functions for every
    'SAGA-GIS' geoprocessing tool based on the user's currently installed
    'SAGA-GIS' version. These functions are contained within an S3 object
    and are accessed as a named list of libraries and tools. This structure
    facilitates an easier scripting experience by organizing the large number
    of 'SAGA-GIS' geoprocessing tools (&gt;700) by their respective library.
    Interactive scripting can fully take advantage of code autocompletion tools
    (e.g. in 'Rstudio'), allowing for each tools syntax to be quickly
    recognized. Furthermore, the most common types of spatial data (via the
    'terra', 'sp', and 'sf' packages) along with non-spatial data are
    automatically passed from R to the 'SAGA-GIS' command line tool for
    geoprocessing operations, and the results are loaded as the appropriate R
    object. Outputs from individual 'SAGA-GIS' tools can also be chained using
    pipes from the 'magrittr' and 'dplyr' packages to combine complex
    geoprocessing operations together in a single statement. 'SAGA-GIS' is
    available under a GPLv2 / LGPLv2 licence from
    <a href="https://sourceforge.net/projects/saga-gis/">https://sourceforge.net/projects/saga-gis/</a> including Windows x86/x64
    and macOS binaries. SAGA-GIS is also included in Debian/Ubuntu default software
    repositories. Rsagacmd has currently been tested on 'SAGA-GIS' versions
    from 2.3.1 to 9.2 on Windows, Linux and macOS.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>SAGA-GIS (&gt;= 2.3.1)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>generics, sf, terra (&ge; 1.7.0), stars, tools, utils, foreign,
stringr, rlang, tibble, processx, rvest</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, testthat (&ge; 3.0.0), covr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://stevenpawley.github.io/Rsagacmd/">https://stevenpawley.github.io/Rsagacmd/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/stevenpawley/Rsagacmd/issues">https://github.com/stevenpawley/Rsagacmd/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-16 15:03:45 UTC; steven</td>
</tr>
<tr>
<td>Author:</td>
<td>Steven Pawley [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-16 15:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_output_format'>Check the file extension of the output file to see if it is the same as the
'raster_format' or 'vector_format' settings. If a raster, such as a GeoTIFF
is output directly from a SAGA-GIS tool but the raster format is set to SAGA,
then this might work depending on the saga version but Rsagacmd will not
know how to read the file.</h2><span id='topic+check_output_format'></span>

<h3>Description</h3>

<p>Check the file extension of the output file to see if it is the same as the
'raster_format' or 'vector_format' settings. If a raster, such as a GeoTIFF
is output directly from a SAGA-GIS tool but the raster format is set to SAGA,
then this might work depending on the saga version but Rsagacmd will not
know how to read the file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_output_format(x, raster_format, vector_format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_output_format_+3A_x">x</code></td>
<td>
<p>a 'parameter' object that is an output parameter of a tool.</p>
</td></tr>
<tr><td><code id="check_output_format_+3A_raster_format">raster_format</code></td>
<td>
<p>the raster format.</p>
</td></tr>
<tr><td><code id="check_output_format_+3A_vector_format">vector_format</code></td>
<td>
<p>the vector format.</p>
</td></tr>
</table>

<hr>
<h2 id='convert_sagaext_r'>Ensure that the file extension for the SAGA raster format ends with .sdat for
reading or writing SAGA grid objects in R.</h2><span id='topic+convert_sagaext_r'></span>

<h3>Description</h3>

<p>This is used because the R raster/terra libraries expect to read and write
SAGA grid formats using the '.sdat' file extension, not '.sgrd'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_sagaext_r(fp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_sagaext_r_+3A_fp">fp</code></td>
<td>
<p>file path to raster writing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with the corrected file extensions to read SAGA
sgrd files back into R.
</p>

<hr>
<h2 id='create_alias'>Generates a syntactically-correct R name based on a SAGA-GIS identifier</h2><span id='topic+create_alias'></span>

<h3>Description</h3>

<p>SAGA-GIS identifiers sometimes cannot represent syntactically-correct names
in R because they start with numbers or have spaces. They are also all in
uppercase which is ugly to refer to in code. This function creates an
alternative/alias identifier.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_alias(identifier)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_alias_+3A_identifier">identifier</code></td>
<td>
<p>A character with the identifier.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character with a syntactically-correct alias.
</p>

<hr>
<h2 id='create_function'>Function generate text that will be parsed into R code</h2><span id='topic+create_function'></span>

<h3>Description</h3>

<p>Internal variable 'args' is derived by capturing the names and values of the
calling function. The interval 'senv' variable is the SAGA-GIS library
settings (generated by 'saga_env') and comes from the environment of when the
dynamic function was generated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_function(lib, tool)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_function_+3A_lib">lib</code></td>
<td>
<p>A character, name of SAGA-GIS library.</p>
</td></tr>
<tr><td><code id="create_function_+3A_tool">tool</code></td>
<td>
<p>A character, name of SAGA-GIS tool.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character, text that is to be parsed into a function definition.
</p>

<hr>
<h2 id='create_tool'>Generates list of options for a SAGA-GIS tool</h2><span id='topic+create_tool'></span>

<h3>Description</h3>

<p>Parses the html table for a SAGA-GIS tool into a list of identifiers,
options, defaults and constraints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_tool(tool_information, tool_options, description, html_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_tool_+3A_tool_information">tool_information</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code id="create_tool_+3A_tool_options">tool_options</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code id="create_tool_+3A_description">description</code></td>
<td>
<p>the description text for the tool that has been scraped
from the help documentation</p>
</td></tr>
<tr><td><code id="create_tool_+3A_html_file">html_file</code></td>
<td>
<p>the name of the html file for the tool's documentation.
Stored to help linking with online documentation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'saga_tool' object containing:
+ 'tool_name' A syntactically-correct name for the tool.
+ &lsquo;description' The tool&rsquo;s description.
+ &lsquo;author' The tool&rsquo;s author.
+ 'tool_cmd' The command to use for saga_cmd to execute tool.
+ &lsquo;tool_id' The tool&rsquo;s ID.
+ &lsquo;parameters' A named list of the tool&rsquo;s parameter objects.
+ 'html_file' The html document name.
</p>

<hr>
<h2 id='create_tool_overrides'>Apply manually-defined changes to specific tools</h2><span id='topic+create_tool_overrides'></span>

<h3>Description</h3>

<p>Used to manually alter or add parameters for specific tools outside of what
has been defined based on the output of saga_cmd &ndash;create-docs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_tool_overrides(tool_name, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_tool_overrides_+3A_tool_name">tool_name</code></td>
<td>
<p>character, name of the tool. This is the alias name used by
Rsagacmd, i.e. the tool name without spaces, all lowercase etc.</p>
</td></tr>
<tr><td><code id="create_tool_overrides_+3A_params">params</code></td>
<td>
<p>the 'parameters' object for the tool</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the altered 'parameters' object
</p>

<hr>
<h2 id='drop_parameters'>Drops unused/empty parameters from a 'parameters' object</h2><span id='topic+drop_parameters'></span>

<h3>Description</h3>

<p>Drops unused/empty parameters from a 'parameters' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_parameters(params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_parameters_+3A_params">params</code></td>
<td>
<p>A 'parameters' object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'parameters' object with empty 'parameter' objects removed
</p>

<hr>
<h2 id='extract_tool'>Internal function to extract information from a 'saga_tool' object</h2><span id='topic+extract_tool'></span>

<h3>Description</h3>

<p>Internal function to extract information from a 'saga_tool' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_tool(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_tool_+3A_x">x</code></td>
<td>
<p>a 'saga_tool' object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the intervals of a 'saga_tool'
</p>

<hr>
<h2 id='mrvbf_threshold'>Calculate the t_slope value based on DEM resolution for MRVBF</h2><span id='topic+mrvbf_threshold'></span>

<h3>Description</h3>

<p>Calculates the t_slope value for the Multiresolution Index of Valley Bottom
Flatness (Gallant and Dowling, 2003) based on input DEM resolution. MRVBF
identified valley bottoms based on classifying slope angle and identifying
low areas by ranking elevation in respect to the surrounding topography
across a range of DEM resolutions. The MRVBF algorithm was developed using a
25 m DEM, and so if the input DEM has a different resolution then the slope
threshold t_slope needs to be adjusted from its default value of 16 in order
to maintain the relationship between slope and DEM resolution. This function
provides a convenient way to perform that calculation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrvbf_threshold(res)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mrvbf_threshold_+3A_res">res</code></td>
<td>
<p>numeric, DEM resolution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric, t_slope value for MRVBF
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mrvbf_threshold(res = 10)
</code></pre>

<hr>
<h2 id='parameter'>Parameter class</h2><span id='topic+parameter'></span>

<h3>Description</h3>

<p>Stores metadata associated with each SAGA-GIS tool parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parameter(type, name, alias, identifier, description, constraints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parameter_+3A_type">type</code></td>
<td>
<p>A character to describe the data type of the parameter. One of
&quot;input&quot;, &quot;output&quot;, &quot;Grid&quot;, &quot;Grid list&quot;, &quot;Shapes&quot;, &quot;Shapes list&quot;, &quot;Table&quot;,
&quot;Static table&quot;, &quot;Table list&quot;, &quot;File path&quot;, &quot;field&quot;, &quot;Integer&quot;, &quot;Choice&quot;,
&quot;Floating point&quot;, &quot;Boolean&quot;, &quot;Long text&quot;, &quot;Text.</p>
</td></tr>
<tr><td><code id="parameter_+3A_name">name</code></td>
<td>
<p>A character with the long name of the parameter.</p>
</td></tr>
<tr><td><code id="parameter_+3A_alias">alias</code></td>
<td>
<p>A syntactically correct alias for the identifier.</p>
</td></tr>
<tr><td><code id="parameter_+3A_identifier">identifier</code></td>
<td>
<p>A character with the identifier of the parameter used by
saga_cmd.</p>
</td></tr>
<tr><td><code id="parameter_+3A_description">description</code></td>
<td>
<p>A character with the description of the parameter.</p>
</td></tr>
<tr><td><code id="parameter_+3A_constraints">constraints</code></td>
<td>
<p>A character describing the parameters constraints.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'parameter' class object.
</p>

<hr>
<h2 id='parameters'>Generates a list of 'parameter' objects for a SAGA-GIS tool</h2><span id='topic+parameters'></span>

<h3>Description</h3>

<p>Each 'parameter' object contains information about the datatype, permissible
values and input/output settings associated with each identifier for a
SAGA-GIS tool.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parameters(tool_options)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parameters_+3A_tool_options">tool_options</code></td>
<td>
<p>A data.frame containing the table that refers to the
SAGA-GIS tool parameter options.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'parameters' object
</p>

<hr>
<h2 id='parse_options'>Convenience function to join together the saga_cmd option:value pairs</h2><span id='topic+parse_options'></span>

<h3>Description</h3>

<p>Convenience function to join together the saga_cmd option:value pairs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_options(key, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_options_+3A_key">key</code></td>
<td>
<p>character, the saga_cmd option such as &quot;DEM&quot;.</p>
</td></tr>
<tr><td><code id="parse_options_+3A_value">value</code></td>
<td>
<p>character, the value of the option.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character, a joined option:value pair such as &quot;-DEM:mygrid.tif&quot;
</p>

<hr>
<h2 id='print.saga_tool'>Generic function to display help and usage information for any SAGA-GIS tool</h2><span id='topic+print.saga_tool'></span>

<h3>Description</h3>

<p>Displays a tibble containing the name of the tool's parameters, the argument
name used by Rsagacmd, the identifier used by the SAGA-GIS command line, and
additional descriptions, default and options/constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'saga_tool'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.saga_tool_+3A_x">x</code></td>
<td>
<p>A 'saga_tool' object.</p>
</td></tr>
<tr><td><code id="print.saga_tool_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to print. Currently not used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Initialize a saga object
saga &lt;- saga_gis()

# Display usage information on a tool
print(saga$ta_morphometry$slope_aspect_curvature)

# Or simply:
saga$ta_morphometry$slope_aspect_curvature

## End(Not run)
</code></pre>

<hr>
<h2 id='read_grid'>Read a raster data set that is output by saga_cmd</h2><span id='topic+read_grid'></span>

<h3>Description</h3>

<p>Read a raster data set that is output by saga_cmd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_grid(x, backend)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_grid_+3A_x">x</code></td>
<td>
<p>list, a 'options' object that was created by the 'create_tool'
function that contains the parameters for a particular tool and its
outputs.</p>
</td></tr>
<tr><td><code id="read_grid_+3A_backend">backend</code></td>
<td>
<p>character, either &quot;raster&quot;, &quot;terra&quot; or &quot;stars&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>either a 'raster' or 'SpatRaster' object
</p>

<hr>
<h2 id='read_grid_list'>Read a semi-colon separated list of grids that are output by saga_cmd</h2><span id='topic+read_grid_list'></span>

<h3>Description</h3>

<p>Read a semi-colon separated list of grids that are output by saga_cmd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_grid_list(x, backend)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_grid_list_+3A_x">x</code></td>
<td>
<p>list, a 'options' object that was created by the 'create_tool'
function that contains the parameters for a particular tool and its
outputs.</p>
</td></tr>
<tr><td><code id="read_grid_list_+3A_backend">backend</code></td>
<td>
<p>character, either &quot;raster&quot; or &quot;terra&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list, containing multiple 'raster' or 'SpatRaster' objects.
</p>

<hr>
<h2 id='read_output'>Primary function to read data sets (raster, vector, tabular) that are output
by saga_cmd</h2><span id='topic+read_output'></span>

<h3>Description</h3>

<p>Primary function to read data sets (raster, vector, tabular) that are output
by saga_cmd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_output(output, raster_backend, vector_backend, .intern, .all_outputs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_output_+3A_output">output</code></td>
<td>
<p>list, a 'options' object that was created by the 'create_tool'
function that contains the parameters for a particular tool and its
outputs.</p>
</td></tr>
<tr><td><code id="read_output_+3A_raster_backend">raster_backend</code></td>
<td>
<p>character, either &quot;raster&quot; or &quot;terra&quot;</p>
</td></tr>
<tr><td><code id="read_output_+3A_vector_backend">vector_backend</code></td>
<td>
<p>character, either &quot;sf&quot;, &quot;SpatVector&quot; or
&quot;SpatVectorProxy&quot;</p>
</td></tr>
<tr><td><code id="read_output_+3A_.intern">.intern</code></td>
<td>
<p>logical, whether to load the output as an R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the loaded objects, or NULL is '.intern = FALSE'.
</p>

<hr>
<h2 id='read_shapes'>Read a spatial vector data set that is output by saga_cmd</h2><span id='topic+read_shapes'></span>

<h3>Description</h3>

<p>Read a spatial vector data set that is output by saga_cmd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_shapes(x, vector_backend)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_shapes_+3A_x">x</code></td>
<td>
<p>list, a 'options' object that was created by the 'create_tool'
function that contains the parameters for a particular tool and its
outputs.</p>
</td></tr>
<tr><td><code id="read_shapes_+3A_vector_backend">vector_backend</code></td>
<td>
<p>character for vector backend to use.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an 'sf' object.
</p>

<hr>
<h2 id='read_srtm'>Get path to the example DEM data</h2><span id='topic+read_srtm'></span>

<h3>Description</h3>

<p>Rsagacmd comes bundled with a small tile of example Digital Elevation Model
(DEM) data from the NASA Shuttle Radar Topography Mission Global 1 arc second
V003. This data is stored in GeoTIFF format in 'inst/extdata'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_srtm()
</code></pre>


<h3>Details</h3>

<p>The dataset contains the land surface elevation of an area located near
Jasper, Alberta, Canada, with the coordinate reference system (CRS) EPSG code
of 3402 (NAD83(CSRS) / Alberta 10-TM (Forest)).
</p>
<p>To access the data, use the convenience function of 'read_srtm()' to load
the data as a 'terra::SpatRaster' object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(Rsagacmd)
library(terra)

dem &lt;- read_srtm()
plot(dem)
</code></pre>

<hr>
<h2 id='read_table'>Read a tabular data set that is output by saga_cmd</h2><span id='topic+read_table'></span>

<h3>Description</h3>

<p>Read a tabular data set that is output by saga_cmd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_table(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_table_+3A_x">x</code></td>
<td>
<p>list, a 'options' object that was created by the 'create_tool'
function that contains the parameters for a particular tool and its
outputs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 'tibble'.
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+tidy'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
</dl>

<hr>
<h2 id='Rsagacmd'>Rsagacmd: Linking R with the open-source SAGA-GIS software.</h2><span id='topic+Rsagacmd'></span><span id='topic+Rsagacmd-package'></span>

<h3>Description</h3>

<p><span class="pkg">Rsagacmd</span> provides an R scripting interface to the open-source System
for Automated Geoscientific Analyses Geographical Information System software
<a href="https://sourceforge.net/projects/saga-gis/">SAGA-GIS</a>. The current
version has been tested using SAGA-GIS versions 2.3.1 to 9.2 on Windows
(x64), macOS and Linux. Rsagacmd provides a functional approach to scripting
with SAGA-GIS by dynamically generating R functions for every SAGA-GIS tool
based on the user's current SAGA-GIS installation. These functions are
generated by the <code><a href="#topic+saga_gis">saga_gis</a></code> function and are included within an
S3 object as a named list of libraries and tools. This structure facilitates
an easier scripting experience by organizing the large number of SAGA-GIS
tools (&gt;700) by their respective library. Interactive scripting can also
fully take advantage of code autocompletion tools (e.g. in
<a href="https://posit.co">Rstudio</a>), allowing for each tool's syntax to
be quickly recognized. Furthermore, the most common types of spatial data
(rasters using the <span class="pkg">terra</span> and <span class="pkg">stars</span> packages, and vector data
using <span class="pkg">sp</span>, <span class="pkg">sf</span> or <span class="pkg">terra</span> packages) along with non-spatial data
are seamlessly passed from R to the SAGA-GIS command line tool for
geoprocessing operations, and the results are automatically loaded as the
appropriate R object. Outputs from individual SAGA-GIS tools can also be
chained using pipes from the <span class="pkg">magrittr</span> and <span class="pkg">dplyr</span> packages to chain
complex geoprocessing operations together in a single statement.
</p>


<h3>Handling of geospatial and tabular data</h3>

<p>Rsagacmd aims to facilitate
a seamless interface to the open-source SAGA-GIS by providing access to all
SAGA-GIS geoprocessing tools in a 'R-like' manner. In addition to
generating R functions that correspond to each SAGA-GIS tool, Rsagacmd
automatically handles the passing of geospatial and tabular data contained
from the R environment to SAGA-GIS.
</p>
<p>Rsagacmd uses the SAGA-GIS command line interface to perform geoprocessing
operations. Therefore, spatial data can be passed to any Rsagacmd function as
a path to the input data, assuming that the data is stored in the appropriate
file formats (e.g. GDAL-supported single-band rasters, OGR supported vector
data, and comma- or tab-delimited text files for tabular data). In addition,
Rsagacmd also supports the following R object classes to pass data to
SAGA-GIS, and to load the results back into the R environment:
</p>

<ul>
<li><p> Raster data handling is provided by the R <span class="pkg">terra</span> and <span class="pkg">stars</span>
packages. Raster-based outputs from SAGA-GIS tools are loaded as SpatRaster
or stars objects. For more details, see the 'Handling of raster data'.
</p>
</li>
<li><p> Vector features that result from SAGA-GIS geoprocessing operations are
output in ESRI Shapefile format and are loaded into the R environment as
simple features objects
</p>
</li>
<li><p> Tabular data from SAGA-GIS tools are loaded as data frames
</p>
</li></ul>

<p>The results from tools that return multiple outputs are loaded into the R
environment as a named list of the appropriate R object classes.
</p>


<h3>Multi-band raster data</h3>

<p>SAGA-GIS does not handle multi-band rasters
and the native SAGA GIS Binary file format (.sgrd) supports only single
band data. Therefore when passing raster data to most SAGA-GIS tools using
Rsagacmd, the data should represent single raster bands. Subsetting of
raster data is performed automatically by Rsagacmd in the case of when a
single band from a multiband SpatRaster or stars object is passed to a
SAGA-GIS tool. This occurs in by either passing the filename of the raster
to the SAGA-GIS command line, or by writing the data to a temporary file.
</p>


<h3>Combining SAGA-GIS tools with pipes</h3>

<p>For convenience, outputs from
SAGA-GIS tools are automatically saved to tempfiles if outputs are not
explicitly stated as arguments when calling the function. This was
implemented so that the user can create complex workflows based on little
code. It is also means that several processing steps can be combined or
chained in a convenient manner using pipes from the <span class="pkg">magritrr</span> package.
When using pipes, all of the intermediate processing steps are dealt with
automatically by saving the outputs as tempfiles, and then in turn passing
the output to the next function in the chain. Note that when dealing with
high-resolution and/or larger raster data, these tempfiles can start to
consume a significant amount of disk space during a session. If required,
these temporary files can be cleaned during the session using the
saga_remove_tmpfiles function.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Steven Pawley <a href="mailto:dr.stevenpawley@gmail.com">dr.stevenpawley@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://stevenpawley.github.io/Rsagacmd/">https://stevenpawley.github.io/Rsagacmd/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/stevenpawley/Rsagacmd/issues">https://github.com/stevenpawley/Rsagacmd/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(Rsagacmd)
library(magrittr)

# initialize a saga object
saga &lt;- saga_gis(opt_lib = c("grid_calculus", "ta_morphometry"))

# example of executing a tool using a tempfile to store the tool outputs
dem &lt;- saga$grid_calculus$random_terrain(radius = 100, iterations = 500)

# Example of chaining operations using pipes and using tempfile to
# store tool outputs
tri &lt;- dem %&gt;%
  saga$ta_morphometry$terrain_ruggedness_index_tri()

# Remove tempfiles generated by Rsagacmd during a session
saga_remove_tmpfiles(h = 0)

## End(Not run)
</code></pre>

<hr>
<h2 id='run_cmd'>Prepares the statement and runs the external saga_cmd executable</h2><span id='topic+run_cmd'></span>

<h3>Description</h3>

<p>Prepares the statement and runs the external saga_cmd executable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_cmd(saga_cmd, saga_config, lib, tool_cmd, args, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_cmd_+3A_saga_cmd">saga_cmd</code></td>
<td>
<p>character, name of the saga_cmd executable or alias.</p>
</td></tr>
<tr><td><code id="run_cmd_+3A_saga_config">saga_config</code></td>
<td>
<p>character, path to the saga configuration &quot;ini&quot; file.</p>
</td></tr>
<tr><td><code id="run_cmd_+3A_lib">lib</code></td>
<td>
<p>character, name of the selected library.</p>
</td></tr>
<tr><td><code id="run_cmd_+3A_tool_cmd">tool_cmd</code></td>
<td>
<p>character, name of the selected tool.</p>
</td></tr>
<tr><td><code id="run_cmd_+3A_args">args</code></td>
<td>
<p>named list of tool options, such as list(DEM = &quot;mygrid.tif&quot;,
RADIUS = 3).</p>
</td></tr>
<tr><td><code id="run_cmd_+3A_verbose">verbose</code></td>
<td>
<p>logical, whether to show all saga_cmd messages on the R
console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list, output from 'processx::run()'
</p>

<hr>
<h2 id='saga_configure'>Generates a custom saga_cmd configuration file</h2><span id='topic+saga_configure'></span>

<h3>Description</h3>

<p>Creates and edits a saga_cmd configuration file in order to change saga_cmd
settings related to file caching and number of available processor cores.
Intended to be used internally by <code><a href="#topic+saga_gis">saga_gis</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_configure(
  senv,
  grid_caching = FALSE,
  grid_cache_threshold = 100,
  grid_cache_dir = NULL,
  cores = NULL,
  saga_vers
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_configure_+3A_senv">senv</code></td>
<td>
<p>A saga environment object. Contains the SAGA-GIS environment and
settings.</p>
</td></tr>
<tr><td><code id="saga_configure_+3A_grid_caching">grid_caching</code></td>
<td>
<p>Whether to use file caching. The default is FALSE.</p>
</td></tr>
<tr><td><code id="saga_configure_+3A_grid_cache_threshold">grid_cache_threshold</code></td>
<td>
<p>Any number to use as a threshold (in Mb) before
file caching for loaded raster data is activated.</p>
</td></tr>
<tr><td><code id="saga_configure_+3A_grid_cache_dir">grid_cache_dir</code></td>
<td>
<p>Optionally specify a path to the used directory for
temporary files. The default uses 'base::tempdir'.</p>
</td></tr>
<tr><td><code id="saga_configure_+3A_cores">cores</code></td>
<td>
<p>An integer specifying the maximum number of processing cores.
Needs to be set to 1 if file caching is activated because file caching in
SAGA-GIS is not thread-safe.</p>
</td></tr>
<tr><td><code id="saga_configure_+3A_saga_vers">saga_vers</code></td>
<td>
<p>A 'numeric_version' that specifies the version of SAGA-GIS.
The generation of a saga_cmd configuration file is only valid for versions
&gt; 4.0.0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character that specifies the path to custom saga_cmd initiation
file.
</p>

<hr>
<h2 id='saga_docs'>Browse the online documentation for a saga_tool</h2><span id='topic+saga_docs'></span>

<h3>Description</h3>

<p>Browse the online documentation for a saga_tool
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_docs(saga_tool)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_docs_+3A_saga_tool">saga_tool</code></td>
<td>
<p>a saga_tool object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(Rsagacmd)

saga &lt;- saga_gis()

saga_docs(saga$ta_morphometry$slope_aspect_curvature)

## End(Not run)
</code></pre>

<hr>
<h2 id='saga_env'>Parses valid SAGA-GIS libraries and tools into a nested list of functions</h2><span id='topic+saga_env'></span>

<h3>Description</h3>

<p>Establishes the link to SAGA GIS by generating a SAGA help file and parsing
all libraries, tools and options from the help files into a nested list of
library, module and options, that are contained within an saga environment
object object. Intended to be used internally by <code><a href="#topic+saga_gis">saga_gis</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_env(
  saga_bin = NULL,
  opt_lib = NULL,
  raster_backend = "terra",
  vector_backend = "sf"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_env_+3A_saga_bin">saga_bin</code></td>
<td>
<p>An optional character vector to specify the path to the
saga_cmd executable. Otherwise the function will perform a search for
saga_cmd.</p>
</td></tr>
<tr><td><code id="saga_env_+3A_opt_lib">opt_lib</code></td>
<td>
<p>A character vector of a subset of SAGA-GIS tool libraries to
generate dynamic functions that map to each tool. Used to save time if you
only want to import a single library.</p>
</td></tr>
<tr><td><code id="saga_env_+3A_raster_backend">raster_backend</code></td>
<td>
<p>A character vector to specify the library to use for
handling raster data. Currently, either &quot;terra&quot; or &quot;stars&quot; is
supported. The default is &quot;terra&quot;.</p>
</td></tr>
<tr><td><code id="saga_env_+3A_vector_backend">vector_backend</code></td>
<td>
<p>A character to specify the library to use for handling
vector data. Currently, either &quot;sf&quot;, &quot;SpatVector&quot; or &quot;SpatVectorProxy&quot; is
supported. The default is &quot;sf&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A saga environment S3 object containing paths, settings and a nested
list of libraries tools and options.
</p>

<hr>
<h2 id='saga_execute'>Function to execute SAGA-GIS commands through the command line tool</h2><span id='topic+saga_execute'></span>

<h3>Description</h3>

<p>Intended to be used internally by each function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_execute(
  lib,
  tool,
  senv,
  .intern = NULL,
  .all_outputs = NULL,
  .verbose = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_execute_+3A_lib">lib</code></td>
<td>
<p>A character specifying the name of SAGA-GIS library to execute.</p>
</td></tr>
<tr><td><code id="saga_execute_+3A_tool">tool</code></td>
<td>
<p>A character specifying the name of SAGA-GIS tool to execute.</p>
</td></tr>
<tr><td><code id="saga_execute_+3A_senv">senv</code></td>
<td>
<p>A saga environment object.</p>
</td></tr>
<tr><td><code id="saga_execute_+3A_.intern">.intern</code></td>
<td>
<p>A logical specifying whether to load the outputs from the
SAGA-GIS geoprocessing operation as an R object.</p>
</td></tr>
<tr><td><code id="saga_execute_+3A_.all_outputs">.all_outputs</code></td>
<td>
<p>A logical to specify whether to automatically output all
results from the selected SAGA tool and load them results as R objects
(default = TRUE). If .all_outputs = FALSE then the file paths to store the
tool's results will have to be manually specified in the arguments.</p>
</td></tr>
<tr><td><code id="saga_execute_+3A_.verbose">.verbose</code></td>
<td>
<p>Option to output all message during the execution of
saga_cmd. Overrides the saga environment setting.</p>
</td></tr>
<tr><td><code id="saga_execute_+3A_...">...</code></td>
<td>
<p>Named arguments and values for SAGA tool.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>output of SAGA-GIS tool loaded as an R object.
</p>

<hr>
<h2 id='saga_gis'>Initiate a SAGA-GIS geoprocessor object</h2><span id='topic+saga_gis'></span>

<h3>Description</h3>

<p>Dynamically generates functions to all valid SAGA-GIS libraries and tools.
These functions are stored within a saga S3 object as a named list of
functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_gis(
  saga_bin = NULL,
  grid_caching = FALSE,
  grid_cache_threshold = 100,
  grid_cache_dir = NULL,
  cores = NULL,
  raster_backend = "terra",
  vector_backend = "sf",
  raster_format = "SAGA",
  vector_format = c("ESRI Shapefile", "GeoPackage"),
  all_outputs = TRUE,
  intern = TRUE,
  opt_lib = NULL,
  temp_path = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_gis_+3A_saga_bin">saga_bin</code></td>
<td>
<p>The path to saga_cmd executable. If this argument
is not supplied then an automatic search for the saga_cmd executable will
be performed.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_grid_caching">grid_caching</code></td>
<td>
<p>A logical whether to use file caching in saga_cmd
geoprocessing operations for rasters that are too large to fit into memory.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_grid_cache_threshold">grid_cache_threshold</code></td>
<td>
<p>A number to act as a threshold (in Mb) before
file caching is activated for loaded raster data.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_grid_cache_dir">grid_cache_dir</code></td>
<td>
<p>The path to directory for temporary files generated by
file caching. If not provided then the result from 'base::tempdir()' is
used.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_cores">cores</code></td>
<td>
<p>An integer for the maximum number of processing cores. By
default all cores are utilized. Needs to be set to 1 if file caching is
activated.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_raster_backend">raster_backend</code></td>
<td>
<p>A character vector to specify the library to use for
handling raster data. Supported options are &quot;terra&quot; or &quot;stars&quot;.
The default is &quot;terra&quot;.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_vector_backend">vector_backend</code></td>
<td>
<p>A character to specify the library to use for handling
vector data. Currently, &quot;sf&quot;, &quot;SpatVector&quot; or &quot;SpatVectorProxy&quot; is
supported. The default is &quot;sf&quot;, however for large vector datasets, using
the &quot;SpatVectorProxy&quot; backend from the 'terra' package has performance
advantages because it allows file-based which can reduce repeated
reading/writing when passing data between R and SAGA-GIS.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_raster_format">raster_format</code></td>
<td>
<p>A character to specify the default format used to save
raster data sets that are produced by SAGA-GIS. Available options are one
of &quot;SAGA&quot;, &quot;SAGA Compressed&quot; or &quot;GeoTIFF&quot;. The default is &quot;SAGA&quot;.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_vector_format">vector_format</code></td>
<td>
<p>A character to specify the default format used for
vector data sets that are produced by SAGA-GIS, and also used to save
in-memory objects to be read by SAGA-GIS. Available options are of of &quot;ESRI
Shapefile&quot;, &quot;GeoPackage&quot;, or &quot;GeoJSON&quot;. The default is &quot;ESRI Shapefile&quot; for
SAGA versions &lt; 7.0 and GeoPackage for more recent versions. Attempting to
use anything other than &quot;ESRI Shapefile&quot; for SAGA-GIS versions &lt; 7.0 will
raise an error.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_all_outputs">all_outputs</code></td>
<td>
<p>A logical to indicate whether to automatically use
temporary files to store all output data sets from each SAGA-GIS tool.
Default = TRUE. This argument can be overridden by the '.all_outputs'
parameter on each individual SAGA-GIS tool function that is generated by
'Rsagacmd::saga_gis()'.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_intern">intern</code></td>
<td>
<p>A logical to indicate whether to load the SAGA-GIS
geoprocessing results as an R object, default = TRUE. For instance, if a
raster grid is output by SAGA-GIS then this will be loaded as either as
a 'SpatRaster' or 'stars' object, depending on the 'raster_backend'
setting that is used. Vector data sets are always loaded as 'sf' objects,
and tabular data sets are loaded as tibbles. The 'intern' settings for the
'saga' object can be overridden for individual tools using the '.intern'
argument.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_opt_lib">opt_lib</code></td>
<td>
<p>A character vector with the names of a subset of SAGA-GIS
libraries. Used to link only a subset of named SAGA-GIS tool libraries,
rather than creating functions for all available tool libraries.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_temp_path">temp_path</code></td>
<td>
<p>The path to use to store any temporary files that are
generated as data is passed between R and SAGA-GIS. If not specified, then
the system 'base::tempdir()' is used.</p>
</td></tr>
<tr><td><code id="saga_gis_+3A_verbose">verbose</code></td>
<td>
<p>Logical to indicate whether to output all messages made during
SAGA-GIS commands to the R console. Default = FALSE. This argument can be
overriden by using the '.verbose' argument on each individual SAGA-GIS tool
function that is generated by 'Rsagacmd::saga_gis()'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A S3 'saga' object containing a nested list of functions for SAGA-GIS
libraries and tools.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Initialize a saga object
library(Rsagacmd)
library(terra)

saga &lt;- saga_gis()

# Alternatively initialize a saga object using file caching to handle large
# raster files
saga &lt;- saga_gis(grid_caching = TRUE, grid_cache_threshold = 250, cores = 1)

# Example terrain analysis
# Generate a random DEM
dem &lt;- saga$grid_calculus$random_terrain(radius = 100)

# Use Rsagacmd to calculate the Terrain Ruggedness Index
tri &lt;- saga$ta_morphometry$terrain_ruggedness_index_tri(dem = dem)
plot(tri)

# Optionally run command and do not load result as an R object
saga$ta_morphometry$terrain_ruggedness_index_tri(dem = dem, .intern = FALSE)

# Initialize a saga object but do not automatically save all results to
# temporary files to load into R. Use this if you are explicitly saving each
# output because this will save disk space by not saving results from tools
# that output multiple results that you may be want to keep.
saga &lt;- saga_gis(all_outputs = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='saga_remove_tmpfiles'>Removes temporary files created by Rsagacmd</h2><span id='topic+saga_remove_tmpfiles'></span>

<h3>Description</h3>

<p>For convenience, functions in the Rsagacmd package create temporary files if
any outputs for a SAGA-GIS tool are not specified as arguments. Temporary
files in R are automatically removed at the end of each session. However,
when dealing with raster data, these temporary files potentially can consume
large amounts of disk space. These temporary files can be observed during a
session by using the saga_show_tmpfiles function, and can be removed using
the saga_remove_tmpfiles function. Note that this function also removes any
accompanying files, i.e. the '.prj' and '.shx' files that may be written as
part of writing a ESRI Shapefile '.shp' format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_remove_tmpfiles(h = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_remove_tmpfiles_+3A_h">h</code></td>
<td>
<p>Remove temporary files that are older than h (in number of hours).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Remove all temporary files generated by Rsagacmd
saga_remove_tmpfiles(h = 0)

## End(Not run)
</code></pre>

<hr>
<h2 id='saga_show_tmpfiles'>List temporary files created by Rsagacmd</h2><span id='topic+saga_show_tmpfiles'></span>

<h3>Description</h3>

<p>For convenience, functions in the Rsagacmd package create temporary files if
any outputs for a SAGA-GIS tool are not specified as arguments. Temporary
files in R are automatically removed at the end of each session. However,
when dealing with raster data, these temporary files potentially can consume
large amounts of disk space. These temporary files can be observed during a
session by using the saga_show_tmpfiles function, and can be removed using
the saga_remove_tmpfiles function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_show_tmpfiles()
</code></pre>


<h3>Value</h3>

<p>returns the file names of the files in the temp directory that have
been generated by Rsagacmd. Note this list of files only includes the
primary file extension, i.e. '.shp' for a shapefile without the accessory
files (e.g. .prj, .shx etc.).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Show all temporary files generated by Rsagacmd
saga_remove_tmpfiles(h = 0)

## End(Not run)
</code></pre>

<hr>
<h2 id='saga_version'>Return the installed version of SAGA-GIS</h2><span id='topic+saga_version'></span>

<h3>Description</h3>

<p>Intended to be used internally by <code><a href="#topic+saga_env">saga_env</a></code>. Uses a system call
to saga_cmd to output version of installed SAGA-GIS on the console
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saga_version(saga_cmd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saga_version_+3A_saga_cmd">saga_cmd</code></td>
<td>
<p>The path of the saga_cmd binary.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric_version with the version of SAGA-GIS found at the cmd path.
</p>

<hr>
<h2 id='save_object'>Generic methods to save R in-memory objects to file to SAGA-GIS to access</h2><span id='topic+save_object'></span>

<h3>Description</h3>

<p>Designed to be used internally by Rsagacmd for automatically pass data to
SAGA-GIS for geoprocessing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_object(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_object_+3A_x">x</code></td>
<td>
<p>An R object.</p>
</td></tr>
<tr><td><code id="save_object_+3A_...">...</code></td>
<td>
<p>Other parameters such as the temporary directory or the
vector/raster format used to write spatial datasets to file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character that specifies the file path to where the R object was
saved.
</p>

<hr>
<h2 id='search_saga'>Automatic search for the path to a SAGA-GIS installation</h2><span id='topic+search_saga'></span>

<h3>Description</h3>

<p>Returns the path to the saga_cmd executable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_saga()
</code></pre>


<h3>Details</h3>

<p>On Microsoft Windows, automatic searching will occur first in 'C:/Program
Files/SAGA-GIS'; 'C:/Program Files (x86)/SAGA-GIS'; 'C:/SAGA-GIS';
'C:/OSGeo4W'; and 'C:/OSGeo4W64'.
</p>
<p>On Linux, saga_cmd is usually included in PATH, if not an automatic search is
performed in the '/usr/' folder.
</p>
<p>For macOS, since version 8.5, SAGA-GIS is available as an standalone macOS
app from <a href="https://sourceforge.net/projects/saga-gis/">SourceForge</a>. The
'SAGA.app' package is searched first (assuming that it is installed in the
'/Applications/' folder). Other macOS locations that are searched include
'/usr/local/bin/' (for Homebrew installations) and within the QGIS application
(SAGA-GIS is bundled with the QGIS application on macOS by default).
</p>
<p>If multiple versions of SAGA-GIS are installed on the system, the path to the
newest version is returned.
</p>


<h3>Value</h3>

<p>The path to installed saga_cmd binary.
</p>

<hr>
<h2 id='search_tools'>Search for a SAGA-GIS tool</h2><span id='topic+search_tools'></span>

<h3>Description</h3>

<p>Search for a SAGA-GIS tool
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_tools(x, pattern)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_tools_+3A_x">x</code></td>
<td>
<p>saga object</p>
</td></tr>
<tr><td><code id="search_tools_+3A_pattern">pattern</code></td>
<td>
<p>character, pattern of text to search for within the tool name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble containing the libraries, names and parameters of the tools
that match the pattern of the search text and their host library
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# initialize Rsagacmd
saga &lt;- saga_gis()

# search for a tool
search_tools(x = saga, pattern = "terrain")

## End(Not run)
</code></pre>

<hr>
<h2 id='show_raster_formats'>List the available raster formats that can be set as defaults for a 'saga'
object.</h2><span id='topic+show_raster_formats'></span>

<h3>Description</h3>

<p>List the available raster formats that can be set as defaults for a 'saga'
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_raster_formats()
</code></pre>


<h3>Value</h3>

<p>tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>show_raster_formats()
</code></pre>

<hr>
<h2 id='show_vector_formats'>List the available vector formats that can be set as defaults for a 'saga'
object.</h2><span id='topic+show_vector_formats'></span>

<h3>Description</h3>

<p>List the available vector formats that can be set as defaults for a 'saga'
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_vector_formats()
</code></pre>


<h3>Value</h3>

<p>tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>show_vector_formats()
</code></pre>

<hr>
<h2 id='summarize_tool_params'>Interval function used to summarize a 'saga_tool' into a tibble that
describes the tools parameters and options</h2><span id='topic+summarize_tool_params'></span>

<h3>Description</h3>

<p>Interval function used to summarize a 'saga_tool' into a tibble that
describes the tools parameters and options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarize_tool_params(tool_obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarize_tool_params_+3A_tool_obj">tool_obj</code></td>
<td>
<p>a nested list which constitutes the internals of a saga_tool
object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>

<hr>
<h2 id='tidy.saga'>Summarize the libraries that are available within a saga object and
return these as a tibble.</h2><span id='topic+tidy.saga'></span>

<h3>Description</h3>

<p>Summarize the libraries that are available within a saga object and
return these as a tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'saga'
tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy.saga_+3A_x">x</code></td>
<td>
<p>a 'saga' object</p>
</td></tr>
<tr><td><code id="tidy.saga_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble that describes libraries, their descriptions and number of
tools that are available in SAGA-GIS.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Initialize a saga object
saga &lt;- saga_gis()

# tidy the saga object's parameters into a tibble
tidy(saga)

## End(Not run)
</code></pre>

<hr>
<h2 id='tidy.saga_library'>Summarize the tools that are available within a saga library and
return these as a tibble.</h2><span id='topic+tidy.saga_library'></span>

<h3>Description</h3>

<p>Summarize the tools that are available within a saga library and
return these as a tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'saga_library'
tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy.saga_library_+3A_x">x</code></td>
<td>
<p>a 'saga_library' object</p>
</td></tr>
<tr><td><code id="tidy.saga_library_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble that describes the tools and their descriptions within a
particular SAGA-GIS library.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Initialize a saga object
saga &lt;- saga_gis()

# tidy the library's parameters into a tibble
tidy(saga$climate_tools)

## End(Not run)
</code></pre>

<hr>
<h2 id='tidy.saga_tool'>Summarize the parameters that are available within a SAGA-GIS tool and
return these as a tibble.</h2><span id='topic+tidy.saga_tool'></span>

<h3>Description</h3>

<p>Summarize the parameters that are available within a SAGA-GIS tool and
return these as a tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'saga_tool'
tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy.saga_tool_+3A_x">x</code></td>
<td>
<p>a 'saga_tool' object</p>
</td></tr>
<tr><td><code id="tidy.saga_tool_+3A_...">...</code></td>
<td>
<p>additional arguments. Currently unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble that describes tools, identifiers used by the saga_cmd
command line tool, the equivalent argument name used by Rsagacmd, and other
options and descriptions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Initialize a saga object
saga &lt;- saga_gis()

# tidy the tools parameters into a tibble
tidy(saga$ta_morphometry$slope_aspect_curvature)

## End(Not run)
</code></pre>

<hr>
<h2 id='tile_geoprocessor'>Split a raster grid into tiles for tile-based processing</h2><span id='topic+tile_geoprocessor'></span>

<h3>Description</h3>

<p>Split a raster grid into tiles. The tiles are saved as Rsagacmd
temporary files, and are loaded as a list of R objects for further
processing. This is a function to make the the SAGA-GIS
grid_tools / tiling tool more convenient to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tile_geoprocessor(x, grid, nx, ny, overlap = 0, file_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tile_geoprocessor_+3A_x">x</code></td>
<td>
<p>A 'saga' object.</p>
</td></tr>
<tr><td><code id="tile_geoprocessor_+3A_grid">grid</code></td>
<td>
<p>A path to a GDAL-supported raster to apply tiling, or a
SpatRaster.</p>
</td></tr>
<tr><td><code id="tile_geoprocessor_+3A_nx">nx</code></td>
<td>
<p>An integer with the number of x-pixels per tile.</p>
</td></tr>
<tr><td><code id="tile_geoprocessor_+3A_ny">ny</code></td>
<td>
<p>An integer with the number of y-pixels per tile.</p>
</td></tr>
<tr><td><code id="tile_geoprocessor_+3A_overlap">overlap</code></td>
<td>
<p>An integer with the number of overlapping pixels.</p>
</td></tr>
<tr><td><code id="tile_geoprocessor_+3A_file_path">file_path</code></td>
<td>
<p>An optional file file path to store the raster tiles.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of SpatRaster objects representing tiled data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Initialize a saga object
saga &lt;- saga_gis()

# Generate a random DEM
dem &lt;- saga$grid_calculus$random_terrain(radius = 15, iterations = 500)

# Return tiled version of DEM
tiles &lt;- tile_geoprocessor(x = saga, grid = dem, nx = 20, ny = 20)

## End(Not run)
</code></pre>

<hr>
<h2 id='update_parameter_file'>Updates a 'parameter' object with file paths to the R data objects.</h2><span id='topic+update_parameter_file'></span>

<h3>Description</h3>

<p>Updates a 'parameter' object with file paths to the R data objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_parameter_file(param, temp_path = NULL, raster_format, vector_format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_parameter_file_+3A_param">param</code></td>
<td>
<p>A 'parameter' object.</p>
</td></tr>
<tr><td><code id="update_parameter_file_+3A_temp_path">temp_path</code></td>
<td>
<p>A character specifying the tempdir to use for storage
(optional).</p>
</td></tr>
<tr><td><code id="update_parameter_file_+3A_raster_format">raster_format</code></td>
<td>
<p>name of raster format in 'supported_raster_formats'</p>
</td></tr>
<tr><td><code id="update_parameter_file_+3A_vector_format">vector_format</code></td>
<td>
<p>file extension for vector formats in
'supported_vector_formats'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'parameter' object with an updated 'file' attribute that refers to
the on-disk file for saga_cmd to access.
</p>

<hr>
<h2 id='update_parameters_file'>Updates a 'parameters' object with file paths to the R data objects.</h2><span id='topic+update_parameters_file'></span>

<h3>Description</h3>

<p>Updates a 'parameters' object with file paths to the R data objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_parameters_file(params, temp_path = NULL, raster_format, vector_format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_parameters_file_+3A_params">params</code></td>
<td>
<p>A 'parameters' object.</p>
</td></tr>
<tr><td><code id="update_parameters_file_+3A_temp_path">temp_path</code></td>
<td>
<p>A character specifying the tempdir to use for storage
(optional).</p>
</td></tr>
<tr><td><code id="update_parameters_file_+3A_raster_format">raster_format</code></td>
<td>
<p>file extension for raster formats</p>
</td></tr>
<tr><td><code id="update_parameters_file_+3A_vector_format">vector_format</code></td>
<td>
<p>file extension for vector formats</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'parameters' object with updated 'file' attributes that refers to
the on-disk file for saga_cmd to access.
</p>

<hr>
<h2 id='update_parameters_tempfiles'>Update a 'parameters' object using temporary files for any unspecified output
parameters</h2><span id='topic+update_parameters_tempfiles'></span>

<h3>Description</h3>

<p>Update a 'parameters' object using temporary files for any unspecified output
parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_parameters_tempfiles(params, temp_path, raster_format, vector_format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_parameters_tempfiles_+3A_params">params</code></td>
<td>
<p>A 'parameters' object.</p>
</td></tr>
<tr><td><code id="update_parameters_tempfiles_+3A_temp_path">temp_path</code></td>
<td>
<p>A character with the tempdir.</p>
</td></tr>
<tr><td><code id="update_parameters_tempfiles_+3A_raster_format">raster_format</code></td>
<td>
<p>A character specifying the raster format.</p>
</td></tr>
<tr><td><code id="update_parameters_tempfiles_+3A_vector_format">vector_format</code></td>
<td>
<p>A character specifying the vector format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'parameters' object.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

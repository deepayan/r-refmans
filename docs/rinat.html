<!DOCTYPE html><html lang="en"><head><title>Help for package rinat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rinat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_inat_obs'><p>Download iNaturalist data</p></a></li>
<li><a href='#get_inat_obs_id'><p>Get information on a specific observation</p></a></li>
<li><a href='#get_inat_obs_project'><p>Download observations or info from a project</p></a></li>
<li><a href='#get_inat_obs_user'><p>Download observations for a user</p></a></li>
<li><a href='#get_inat_taxon_stats'><p>Get stats on taxon counts</p></a></li>
<li><a href='#get_inat_user_stats'><p>Get stats on users</p></a></li>
<li><a href='#inat_map'><p>Plot iNaturalist observations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access 'iNaturalist' Data Through APIs</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-06-14</td>
</tr>
<tr>
<td>Description:</td>
<td>A programmatic interface to the API provided by the 'iNaturalist' website <a href="https://www.inaturalist.org/">https://www.inaturalist.org/</a> to download species occurrence data submitted by citizen scientists.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, curl, plyr, jsonlite, ggplot2, maps, sp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/rinat/">https://docs.ropensci.org/rinat/</a> (website)
<a href="https://github.com/ropensci/rinat">https://github.com/ropensci/rinat</a> (devel)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, sf, dplyr, lubridate, ggforce,
stringr, purrr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-14 05:50:51 UTC; stragu</td>
</tr>
<tr>
<td>Author:</td>
<td>Vijay Barve <a href="https://orcid.org/0000-0002-4852-2567"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Edmund Hart [aut],
  Stéphane Guillou <a href="https://orcid.org/0000-0001-8992-0951"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stéphane Guillou &lt;stephane.guillou@member.fsf.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-14 06:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_inat_obs'>Download iNaturalist data</h2><span id='topic+get_inat_obs'></span>

<h3>Description</h3>

<p>Primary function to retrieve observations from iNaturalist, allows users to search
for data, or just filter results by a subset of what is offered by the API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_inat_obs(
  query = NULL,
  taxon_name = NULL,
  taxon_id = NULL,
  place_id = NULL,
  quality = NULL,
  geo = NULL,
  annotation = NULL,
  year = NULL,
  month = NULL,
  day = NULL,
  bounds = NULL,
  maxresults = 100,
  meta = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_inat_obs_+3A_query">query</code></td>
<td>
<p>Query string for a general search.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_taxon_name">taxon_name</code></td>
<td>
<p>Filter by iNat taxon name. Note that this will also select observations of
descendant taxa. Note that names are not unique, so if the name matches multiple taxa, no
observations may be returned.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_taxon_id">taxon_id</code></td>
<td>
<p>Filter by iNat taxon ID. Note that this will also select observations of descendant taxa.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_place_id">place_id</code></td>
<td>
<p>Filter by iNat place ID.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_quality">quality</code></td>
<td>
<p>The quality grade to be used.  Must be either &quot;casual&quot; or &quot;research&quot;.  If left
blank both will be returned.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_geo">geo</code></td>
<td>
<p>Flag for returning only results that are georeferenced, TRUE will exclude
non-georeferenced results, but they cannot be excluded.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_annotation">annotation</code></td>
<td>
<p>Filter by annotation. Vector of length 2, the first 
element being the term ID (e.g. &quot;1&quot; for life stage) and the second 
element being the value ID (e.g. &quot;2&quot; for adult). Refer to the 
<a href="https://forum.inaturalist.org/t/how-to-use-inaturalists-search-urls-wiki-part-2-of-2/18792#heading--annotations">annotation documentation</a> to know which values to use.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_year">year</code></td>
<td>
<p>Return observations only in that year (can only be one year, not a range of years).</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_month">month</code></td>
<td>
<p>Return observations only by month, must be numeric, 1...12</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_day">day</code></td>
<td>
<p>Return observations only on a given day of the month,  1...31</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_bounds">bounds</code></td>
<td>
<p>A bounding box of longitude (-180 to 180) and latitude (-90 to 90) to search
within.  It is a vector in the form of southern latitude, western longitude, northern latitude,
and eastern longitude. Alternatively supply an sf or sp object from which the bounding box will
be derived.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_maxresults">maxresults</code></td>
<td>
<p>The maximum number of results to return. Should not be
a number higher than 10000.</p>
</td></tr>
<tr><td><code id="get_inat_obs_+3A_meta">meta</code></td>
<td>
<p>(logical) If TRUE, the output of this function is a list with metadata on the output
and a data.frame of the data. If FALSE (default), just the data.frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of the number of observations requested.
</p>


<h3>Note</h3>

<p>Filtering doesn't always work with the query parameter for some reason (a problem on
the API end).  If you want to filter by time, it's best to use the scientific name and put it
in the 'taxa' field, and not in the query field.  Another issue is that the query parameter
will search the entire entry, so it is possible to get unintended results.  Depending on your
use case it may be advisable to use the &quot;taxon&quot; field instead of the query field.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  ## Make a standard query
  get_inat_obs(query = "Monarch Butterfly")
  
  ## Restrict to juveniles thanks to annotations
  get_inat_obs(query = "possum", annotation = c(1, 8))

  ## Filter by a bounding box of Northern California
  bounds &lt;- c(38.44047, -125, 40.86652, -121.837)
  get_inat_obs(query = "Mule Deer", bounds = bounds)

  ## Filter by taxon, allows higher order filtering,
  ## Here we can search for just stone flies (order Plecoptera)
  get_inat_obs(taxon_name = "Plecoptera")

  ## Get metadata (the number of results found on the server)
  out &lt;- get_inat_obs(query = "Monarch Butterfly", meta = TRUE)
  out$meta

## End(Not run)
</code></pre>

<hr>
<h2 id='get_inat_obs_id'>Get information on a specific observation</h2><span id='topic+get_inat_obs_id'></span>

<h3>Description</h3>

<p>Get information on a specific observation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_inat_obs_id(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_inat_obs_id_+3A_id">id</code></td>
<td>
<p>a single id for an iNaturalist observation record</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with full details on a given record
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
m_obs &lt;- get_inat_obs(query="Monarch Butterfly")
get_inat_obs_id(m_obs$id[1])

## End(Not run)
</code></pre>

<hr>
<h2 id='get_inat_obs_project'>Download observations or info from a project</h2><span id='topic+get_inat_obs_project'></span>

<h3>Description</h3>

<p>Retrieve observations from a particular iNaturalist project. This function can be used to get either observations or information from a project by project name or ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_inat_obs_project(grpid, type = c("observations", "info"), raw = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_inat_obs_project_+3A_grpid">grpid</code></td>
<td>
<p>Name of the group as an iNaturalist slug or group ID.</p>
</td></tr>
<tr><td><code id="get_inat_obs_project_+3A_type">type</code></td>
<td>
<p>Character, either &quot;observations&quot; or &quot;info&quot;. &quot;observations&quot; returns all observations, and &quot;info&quot; returns project details similar to what you can find on a project's page.</p>
</td></tr>
<tr><td><code id="get_inat_obs_project_+3A_raw">raw</code></td>
<td>
<p>Logical. If TRUE and searching for project info, returns the raw output of parsed JSON for that project. Otherwise just some basic information is returned as a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An iNaturalist slug is usually the project name as a single string with words separated by hyphens. For instance, the project &quot;World Oceans Week 2022&quot; has a slug of &quot;world-oceans-week-2022&quot;, which you can find by searching projects on iNaturalist and looking at the <a href="https://www.inaturalist.org/projects/world-oceans-week-2022">project's page's URL</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 get_inat_obs_project(354, type = "observations")
 get_inat_obs_project("crows-in-vermont", type="info",raw=FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_inat_obs_user'>Download observations for a user</h2><span id='topic+get_inat_obs_user'></span>

<h3>Description</h3>

<p>Get all the observations of a specific iNaturalist user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_inat_obs_user(username, maxresults = 100)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_inat_obs_user_+3A_username">username</code></td>
<td>
<p>username of the iNaturalist user to fetch records</p>
</td></tr>
<tr><td><code id="get_inat_obs_user_+3A_maxresults">maxresults</code></td>
<td>
<p>the maximum number of results to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with full details on a given record
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  m_obs &lt;- get_inat_obs(query="Monarch Butterfly")
  get_inat_obs_user(as.character(m_obs$user_login[1]))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_inat_taxon_stats'>Get stats on taxon counts</h2><span id='topic+get_inat_taxon_stats'></span>

<h3>Description</h3>

<p>Get stats on taxa within a constrained range. This range can be by user, place, project, day or date range. Output will be a count of the total number of taxa observed at each taxonomic level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_inat_taxon_stats(
  date = NULL,
  date_range = NULL,
  place = NULL,
  project = NULL,
  uid = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_inat_taxon_stats_+3A_date">date</code></td>
<td>
<p>Retrieve observations on a specific date. Must be a string in the form &quot;YYYY-MM-DD&quot;.</p>
</td></tr>
<tr><td><code id="get_inat_taxon_stats_+3A_date_range">date_range</code></td>
<td>
<p>A vector of two dates defining a date range, each in the form &quot;YYYY-MM-DD&quot;.</p>
</td></tr>
<tr><td><code id="get_inat_taxon_stats_+3A_place">place</code></td>
<td>
<p>Get taxon stats by place. You can find place IDs on the <a href="https://www.inaturalist.org/places">iNaturalist website</a>. Must be a numeric ID.</p>
</td></tr>
<tr><td><code id="get_inat_taxon_stats_+3A_project">project</code></td>
<td>
<p>Get taxon stats by a project's numeric ID.</p>
</td></tr>
<tr><td><code id="get_inat_taxon_stats_+3A_uid">uid</code></td>
<td>
<p>Get taxon stats by user ID (string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector listing counts of observations at each level of identification possible (species, genus, etc.)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 counts &lt;- get_inat_taxon_stats(date = "2010-06-14")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_inat_user_stats'>Get stats on users</h2><span id='topic+get_inat_user_stats'></span>

<h3>Description</h3>

<p>Get stats on which users reported the most species or had the most observations within a given range. This range can be by user, place, project, day or date range. Output will be a count of the total number of taxa observed at each taxonomic level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_inat_user_stats(
  date = NULL,
  date_range = NULL,
  place = NULL,
  project = NULL,
  uid = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_inat_user_stats_+3A_date">date</code></td>
<td>
<p>Retrieve observations on a specific date. Must be a string in the form &quot;YYYY-MM-DD&quot;.</p>
</td></tr>
<tr><td><code id="get_inat_user_stats_+3A_date_range">date_range</code></td>
<td>
<p>A vector of dates defining a range, each in the form &quot;YYYY-MM-DD&quot;.</p>
</td></tr>
<tr><td><code id="get_inat_user_stats_+3A_place">place</code></td>
<td>
<p>Get taxon stats by place. You can find place IDs on the <a href="https://www.inaturalist.org/places">iNaturalist website</a>. Must be a numeric ID.</p>
</td></tr>
<tr><td><code id="get_inat_user_stats_+3A_project">project</code></td>
<td>
<p>Get taxon stats by a project's numeric ID.</p>
</td></tr>
<tr><td><code id="get_inat_user_stats_+3A_uid">uid</code></td>
<td>
<p>Get taxon stats by user ID (string).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two data.frames, with users sorted by either number of observations or number of species observed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 counts &lt;- get_inat_user_stats(date = "2010-06-14")

## End(Not run)
</code></pre>

<hr>
<h2 id='inat_map'>Plot iNaturalist observations</h2><span id='topic+inat_map'></span>

<h3>Description</h3>

<p>Plot observations from iNaturalist. You have the option of automatically plotting, or returning a ggplot map object that you can add layers onto.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inat_map(data, map = "usa", subregion = ".", plot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inat_map_+3A_data">data</code></td>
<td>
<p>data frame of iNaturalist observations.</p>
</td></tr>
<tr><td><code id="inat_map_+3A_map">map</code></td>
<td>
<p>the map region to plot, you can find full documentation in the <code><a href="maps.html#topic+map">map</a></code> package, default is USA.</p>
</td></tr>
<tr><td><code id="inat_map_+3A_subregion">subregion</code></td>
<td>
<p>the name of the subregion to plot, see full documentation in the <code><a href="maps.html#topic+map">map</a></code> package.</p>
</td></tr>
<tr><td><code id="inat_map_+3A_plot">plot</code></td>
<td>
<p>a logical value. TRUE plots the map object and returns it, and FALSE returns a ggplot object that you can modify and plot later.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot map object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  m_obs &lt;- get_inat_obs(taxon_name = "Ambystoma maculatum")
  salamander_map &lt;- inat_map(m_obs, plot = FALSE)
  ### Now we can modify the returned map
  salamander_map + borders("state") + theme_bw()

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package operators</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {operators}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#operators-package'>
<p>Additional binary operators</p></a></li>
<li><a href='#%o~%'><p> Only keeps the macthing part of a regular expression</p></a></li>
<li><a href='#%of%'><p> Is an object of a given class</p></a></li>
<li><a href='#%without%'><p> Remove certain elements from a vector</p></a></li>
<li><a href='#but'><p> Modification of function arguments</p></a></li>
<li><a href='#character decorator'><p> Creates string decorators by repeating a pattern</p></a></li>
<li><a href='#files'><p> Read or write an R object to/from a file</p></a></li>
<li><a href='#notIn'><p> Not in</p></a></li>
<li><a href='#pattern'><p> Pattern matching operators</p></a></li>
<li><a href='#patternDivision'><p> Divide by a pattern</p></a></li>
<li><a href='#patternFilter'><p> Regular expression filters</p></a></li>
<li><a href='#patternSubstitution'><p> Remove a pattern from a character vector</p></a></li>
<li><a href='#pipe'><p> Pipe an R object to a unix command</p></a></li>
<li><a href='#plusEqual'><p> Plus Equal Operators</p></a></li>
<li><a href='#withOptions'><p> Alternative option mechanism</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Additional Binary Operators</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1-8</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-07-10</td>
</tr>
<tr>
<td>Author:</td>
<td>Romain Francois &lt;romain@r-enthusiasts.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Romain Francois &lt;romain@r-enthusiasts.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of binary operators for common tasks such as regex
        manipulation.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/romainfrancois/operators">https://github.com/romainfrancois/operators</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/romainfrancois/operators/issues">https://github.com/romainfrancois/operators/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-07-11 15:49:41 UTC; romain</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-07-11 18:32:07</td>
</tr>
</table>
<hr>
<h2 id='operators-package'>
Additional binary operators
</h2><span id='topic+operators-package'></span><span id='topic+operators'></span>

<h3>Description</h3>

<p>Additional binary operators for R
</p>


<h3>Author(s)</h3>

<p>Romain Francois &lt;romain@r-enthusiasts.com&gt;
</p>
<p>Maintainer: Romain Francois &lt;romain@r-enthusiasts.com&gt;
</p>

<hr>
<h2 id='+25o~+25'> Only keeps the macthing part of a regular expression </h2><span id='topic++25o~+25'></span>

<h3>Description</h3>

<p>The operator %o~% is used to retain the only the part of the <code>txt</code>
that matches the regular expression. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>txt %o~% pattern
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25o~+2B25_+3A_txt">txt</code></td>
<td>
<p> Character vector </p>
</td></tr>
<tr><td><code id="+2B25o~+2B25_+3A_pattern">pattern</code></td>
<td>
<p> Regular expression </p>
</td></tr>
</table>


<h3>Value</h3>

<p>In case where parts of the regular expression
are surrounded by brackets, the operator returns a matrix with as many lines 
as the length of txt and as many columns as chunks of regular expressions.
</p>


<h3>Author(s)</h3>

<p> Romain Francois <a href="mailto:francoisromain@free.fr">francoisromain@free.fr</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("foobar","barfooooooooooooobar")
x %o~% "fo+"
</code></pre>

<hr>
<h2 id='+25of+25'> Is an object of a given class </h2><span id='topic++25of+25'></span>

<h3>Description</h3>

<p>Operator to check if an object is of a given class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %of% y
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25of+2B25_+3A_x">x</code></td>
<td>
<p> R object </p>
</td></tr>
<tr><td><code id="+2B25of+2B25_+3A_y">y</code></td>
<td>
<p> Character string, the class to check against. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating the result
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+inherits">inherits</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>iris %of% "data.frame"
</code></pre>

<hr>
<h2 id='+25without+25'> Remove certain elements from a vector </h2><span id='topic++25without+25'></span>

<h3>Description</h3>

<p>Remove the elements in <code>table</code> from <code>s</code> 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %without% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25without+2B25_+3A_x">x</code></td>
<td>
<p> Vector </p>
</td></tr>
<tr><td><code id="+2B25without+2B25_+3A_table">table</code></td>
<td>
<p> Elements to remove from <code>x</code> </p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> without the elements of <code>table</code>
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>Examples</h3>

<pre><code class='language-R'>  letters %without% "a"
</code></pre>

<hr>
<h2 id='but'> Modification of function arguments  </h2><span id='topic++25but+25'></span>

<h3>Description</h3>

<p>Modifies the arguments of a function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  fun %but% x
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="but_+3A_fun">fun</code></td>
<td>
<p> Function to modify </p>
</td></tr>
<tr><td><code id="but_+3A_x">x</code></td>
<td>
<p> Modifier </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function with the same body as the <code>fun</code> argument but 
with a different list of arguments.  
</p>


<h3>Note</h3>

<p>The <code>%but%</code> operator is S3-generic with the following methods: 
</p>
<p>- A default method which does nothing more than returning the <code>fun</code> function.
</p>
<p>- A charactor method. In that case, <code>x</code> describes the logical
arguments of the function. <code>x</code> is a single character string containing 
one or several token of the form <code>ab</code> where <code>b</code> is the first 
letter of the logical argument we wish to modify and <code>a</code> is 
an optional modifier. <code>a</code> can be empty or <code>+</code>, in which 
case the argument will be set to <code>TRUE</code>; <code>-</code> in which case the
argument will be set to <code>FALSE</code>; or <code>!</code> in which case the 
argument will be the opposite of the current value in <code>fun</code>
</p>
<p>- A list. In that case, arguments that are part of the formal 
arguments of <code>fun</code> and elements of the list <code>x</code> are 
updated to the element in <code>x</code>
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><a href="base.html#topic+args">args</a>, <a href="base.html#topic+formals">formals</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>        
### default method, nothing is done
rnorm %but% 44

### character method, operating on logical arguments
grep %but% "pf"     # grep, with perl and fixed set to TRUE
grep %but% "i-e"    # grep, ignoring the case but not using extended regular expressions
( grep %but% "vp" )( "blue", colors() )

### list method 
rnorm %but% list( mean = 3 )
rnorm %but% list( nonsense = 4 )
</code></pre>

<hr>
<h2 id='character+20decorator'> Creates string decorators by repeating a pattern </h2><span id='topic++25x+3D+25'></span><span id='topic++25x+3D+7C+25'></span><span id='topic+strrep'></span>

<h3>Description</h3>

<p>Creates string decorators by repeating a pattern
either a given number of times or so that it takes 
a given number of character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>txt %x=% n
txt %x=|% length.out
strrep( txt, n, length.out=getOption("width") )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="character+2B20decorator_+3A_txt">txt</code></td>
<td>
<p> Pattern to repeat </p>
</td></tr>
<tr><td><code id="character+2B20decorator_+3A_n">n</code></td>
<td>
<p> Number of times to repeat the pattern</p>
</td></tr>
<tr><td><code id="character+2B20decorator_+3A_length.out">length.out</code></td>
<td>
<p>number of character the output should be</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+paste">paste</a></code>, <code><a href="base.html#topic+sprintf">sprintf</a></code>, <code><a href="base.html#topic+rep">rep</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>"=" %x=% 80
"&lt;-+-&gt;" %x=|% 80
strrep( ".-", n = 10 )
strrep( ".-", length.out = 50 )
strrep( ".-" )
</code></pre>

<hr>
<h2 id='files'> Read or write an R object to/from a file </h2><span id='topic++25+3C+3C+25'></span><span id='topic++25+3C+25'></span><span id='topic++25+3E+3E+25'></span><span id='topic++25+3E+25'></span><span id='topic++25+3C+3C2+25'></span><span id='topic++25+3C2+25'></span><span id='topic++252+3E+3E+25'></span><span id='topic++252+3E+25'></span><span id='topic++25+3C+3C+2A+25'></span><span id='topic++25+3C+2A+25'></span><span id='topic++25+2A+3E+3E+25'></span><span id='topic++25+2A+3E+25'></span>

<h3>Description</h3>

<p>A set of functions to quickly redirect output to a file or read character vectors 
from a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  object %&gt;% file 
  object %&gt;&gt;% file 
  
  object %2&gt;% file 
  object %2&gt;&gt;% file 

  object %*&gt;% file 
  object %*&gt;&gt;% file 
    
  object %&lt;% file 
  object %&lt;&lt;% file 

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="files_+3A_object">object</code></td>
<td>
<p> R object to print to the file or to read from the file </p>
</td></tr>
<tr><td><code id="files_+3A_file">file</code></td>
<td>
<p> file in which to read or write </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>%&gt;%</code> sends the <code>object</code> to the <code>file</code>. The object is printed to the file 
according to the function specified in the <code>operators.print</code> option supplied with this package, 
most likely to be the <code><a href="base.html#topic+print">print</a></code> function. See examples.
</p>
<p><code>%&gt;&gt;%</code> appends the output to the file.
</p>
<p><code>%2&gt;%</code> sends the message stream to the file by <code><a href="base.html#topic+sink">sink</a></code>ing the 
<code>message</code> stream to the file. See <code><a href="base.html#topic+sink">sink</a></code> for details. 
<code>%2&gt;&gt;%</code> appends the message stream to the file.
</p>
<p><code>%*&gt;%</code> sends both output and message streams to the file. <code>%*&gt;&gt;%</code> appends them. 
</p>
<p><code>%&lt;%</code> reads the content of the file into the <code>object</code>. <code>%&lt;&lt;%</code> appends the 
content of the file to the object.
</p>


<h3>Value</h3>

<p>NULL, used for the side effects.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><a href="base.html#topic+file">file</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  ## Not run: 
    rnorm(30) %&gt;% "test.txt"
    stop("problem") %2&gt;&gt;% "test.txt"
    x %&lt;% "test.txt"
    x
  
## End(Not run)
</code></pre>

<hr>
<h2 id='notIn'> Not in </h2><span id='topic++25+21in+25'></span>

<h3>Description</h3>

<p>Negation of the <code>%in%</code> operator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  x %!in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="notIn_+3A_x">x</code></td>
<td>
<p>The values to be matched</p>
</td></tr>
<tr><td><code id="notIn_+3A_table">table</code></td>
<td>
<p>The values to <em>not</em> be matched against</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector, negation of the <code>%in%</code> operators on the same arguments.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  1:10 %!in% c(1,3,5,9)  
</code></pre>

<hr>
<h2 id='pattern'> Pattern matching operators </h2><span id='topic++25~+25'></span><span id='topic++25+21~+25'></span><span id='topic++25~+2A+25'></span><span id='topic++25+21~+2A+25'></span><span id='topic++25~+2B+25'></span><span id='topic++25+21~+2B+25'></span>

<h3>Description</h3>

<p>Set of convenience functions to handle strings and pattern matching. 
These are basically
companion binary operators for the classic R function 
<code><a href="base.html#topic+grep">grep</a></code> and <code><a href="base.html#topic+regexpr">regexpr</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  x %~% rx
  x %!~% rx
  
  x %~*% rx
  x %!~*% rx

  x %~+% rx
  x %!~+% rx
  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pattern_+3A_x">x</code></td>
<td>
<p> text to manipulate </p>
</td></tr>
<tr><td><code id="pattern_+3A_rx">rx</code></td>
<td>
<p> regular expression </p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>%~%</code> : gives a logical vector indicating which elements of <code>x</code> 
match the regular expression <code>rx</code>. <code>%!~%</code> is the negation of 
<code>%~%</code>                         
</p>
<p><code>%~*%</code> : gives a <em>single</em> logical indicating if <em>all</em> the elements
of <code>x</code> are matching the regular expression <code>rx</code>. <code>%!~*%</code> is the 
negation of <code>%~*%</code>.
</p>
<p><code>%~+%</code> : gives a <em>single</em> logical indicating if <em>any</em>
element of <code>x</code> matches the regular expression <code>rx</code>. <code>%!~+%</code> 
is the negation of <code>%~+%</code>.
</p>


<h3>Note</h3>

<p>The matching is done using a modified version of the 
<code><a href="base.html#topic+regexpr">regexpr</a></code> function. 
The modification is performed by applying the 
<code>operators.regexpr</code> option to the <code><a href="base.html#topic+regexpr">regexpr</a></code> function 
via the <code><a href="#topic++25but+25">%but%</a></code> operator. 
</p>
<p>The default version of <code><a href="base.html#topic+regexpr">regexpr</a></code> enables the <code>perl</code> and 
<code>extended</code> options. See <code><a href="#topic++25but+25">%but%</a></code> for details.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><a href="base.html#topic+grep">grep</a>, <a href="base.html#topic+gsub">gsub</a>, <code><a href="#topic++25~+7C+25">%~|%</a></code> for regular expression filters </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  txt &lt;- c("arm","foot","lefroo", "bafoobar")
  txt %~% "foo"
  txt %!~% "foo"
  txt %~*% "foo"
  txt %~+% "foo"
  txt %!~*% "foo"
  txt %!~+% "foo"
  
  txt %~%   "[a-z]"
  txt %!~%  "[a-z]"
  txt %~*%  "[a-z]"
  txt %~+%  "[a-z]"
  txt %!~*% "[a-z]"
  txt %!~+% "[a-z]"
  
  
  cols &lt;- colors()
  cols[ cols %~% "^blue" ]
  # see also %~|%
  
  
  ## needs perl regular expression for the \\d, see %but%
  with( options( operators.regexpr = "p" ), {
  	cols[ cols %!~% "\\d$" ]
  } )
  
</code></pre>

<hr>
<h2 id='patternDivision'> Divide by a pattern </h2><span id='topic++25+2F~+25'></span>

<h3>Description</h3>

<p>split a character vector by a regular expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  txt %/~% rx
  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="patternDivision_+3A_txt">txt</code></td>
<td>
<p> text to manipulate </p>
</td></tr>
<tr><td><code id="patternDivision_+3A_rx">rx</code></td>
<td>
<p> regular expression </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector. For convenience, this function does not return a list 
as <code><a href="base.html#topic+strsplit">strsplit</a></code> does.  
</p>


<h3>Note</h3>

<p><code>%/~%</code> uses <code><a href="base.html#topic+strsplit">strsplit</a></code> to split the strings. Logical arguments 
of <code><a href="base.html#topic+strsplit">strsplit</a></code> can be indirectly modified using the <code>operators.strsplit</code>
option declared as part of this package. For example, it uses perl regular expressions
by default. See <code><a href="#topic++25but+25">%but%</a></code> for a description.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><a href="base.html#topic+grep">grep</a>, <a href="base.html#topic+gsub">gsub</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  "Separate these  words by spaces" %/~% " +"
  
  ### From ?strsplit
  unlist(strsplit("a.b.c", "\\."))
  "a.b.c" %/~% "\\."
  
</code></pre>

<hr>
<h2 id='patternFilter'> Regular expression filters </h2><span id='topic++25~+7C+25'></span><span id='topic++25+21~+7C+25'></span>

<h3>Description</h3>

<p>Filters a character vector by a regular expression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  x %~|% rx
  x %!~|% rx
  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="patternFilter_+3A_x">x</code></td>
<td>
<p> text to manipulate </p>
</td></tr>
<tr><td><code id="patternFilter_+3A_rx">rx</code></td>
<td>
<p> regular expression </p>
</td></tr>
</table>


<h3>Value</h3>

<p>'<code>%~|%</code>' : a character vector containing all the elements of <code>x</code>
that match the regular expression <code>rx</code> or <code>NULL</code> if there 
is no match.
</p>
<p>'<code>%!~|%</code>' : a character vector containing all the elements of 
<code>x</code> that <em>do not</em> match the regular expression <code>rx</code>.
</p>


<h3>Note</h3>

<p>The filtering is done using the <code>regexpr</code> function. Logical arguments 
of <code>regexpr</code> can be indirectly used by <code>%~|%</code> or <code>%!~|%</code> by using
the <code>operators.regexpr</code> option declared with this package. 
See <code><a href="#topic++25but+25">%but%</a></code> for a description of this mecanism. 
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><a href="base.html#topic+grep">grep</a>, <a href="base.html#topic+gsub">gsub</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  
  cols &lt;- colors()
  cols %~|% "^blue"
  
  ### blue colors that don't finish with a digit
  ( a1 &lt;- cols %~|% "blue" %!~|% "\\d$"         )
  ( a2 &lt;- cols %~|% "blue[^0-9]*$"                )
  ( a3 &lt;- grep( "blue[^0-9]*", cols, value = TRUE ) )
  
  # using perl regular expressions
  
  ### not necessary since p is in the default of the package
  with( options( operators.regexpr = "p" ), { 
  	( a4 &lt;- grep( "blue[^\\d]*", cols, value = TRUE, perl = TRUE  ) )
  	( a5 &lt;- cols %~|% "blue[^\\d]*$" )
  })
  
  ### blue colors that contain a r
  cols %~|% "blue" %~|% "r"
  grep( "r", grep( "blue", cols, value = TRUE ), value = TRUE  )
  
  ### blue colors that don't contain a r
  cols %~|% "blue" %!~|% "r"
  cols %~|% "^[^r]*blue[^r]*$"
  
  grep( "^[^r]*$", grep( "blue", cols, value = TRUE ), value = TRUE  ) # tricky and verbose
  # or in two steps, ... laborious
  bluecols &lt;- grep( "blue", cols, value = TRUE )
  bluecols[ -grep( "r", bluecols) ]
  
</code></pre>

<hr>
<h2 id='patternSubstitution'> Remove a pattern from a character vector </h2><span id='topic++25-~+7C+25'></span><span id='topic++25-~+25'></span><span id='topic++25o~+7C+25'></span><span id='topic++25s~+25'></span>

<h3>Description</h3>

<p>Removes a pattern from a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  txt %-~% pattern
  txt %-~|% pattern
  txt %o~|% pattern
  
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="patternSubstitution_+3A_txt">txt</code></td>
<td>
<p> text to manipulate </p>
</td></tr>
<tr><td><code id="patternSubstitution_+3A_pattern">pattern</code></td>
<td>
<p> regular expression </p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>%-~%</code> : Removes the pattern <code>rx</code> from the character vector <code>x</code>. 
It is equivalent of using <code>gsub( rx, "", x )</code>.
</p>
<p><code>%-~|%</code> does a two-step operation. First, it selects the elements of 
<code>x</code> that match the pattern <code>rx</code> and then it removes the pattern from the 
rest.
</p>
<p><code>%o~|%</code> does a slightly more complicated two-step operation. It first 
gets the elements of <code>txt</code> that match the <code>pattern</code> and then keeps 
only the part that matches the pattern. Similar to the <code>grep -o</code> in recent 
versions of unix. 
</p>


<h3>Note</h3>

<p><code>%-~%</code> does the substitution via the <code><a href="base.html#topic+gsub">gsub</a></code> function. One can 
pass arguments to the <code>gsub</code> function using the <code>operators.gsub</code> option
declared by this package. See <code><a href="#topic++25but+25">%but%</a></code> for a description of this 
mechanism. 
</p>
<p>The filtering in <code>%-~|%</code> is performed by <code><a href="#topic++25~+7C+25">%~|%</a></code> and therefore
options can be passed to <code>regexpr</code> using the <code>operators.regexpr</code> option.
</p>
<p>For <code>%o~|%</code>, if the pattern given does not contain opening and closing 
round brackets, the entire matching space is retained, otherwise only the part that
is contained between the brackets is retained, see the example below.
</p>
<p><code>%s~%</code> is an attempt to provide some of the functionnality of the 
unix's <code>sed</code>. The <code>pattern</code> is split by &quot;/&quot; and used as follows: 
the first part is the regular expression to replace, the second is the 
replacement, and the (optional) third gives modifiers to the <code>gsub</code> function
used to perform the replacement. Modifiers are passed to <code>gsub</code> with
the <code><a href="#topic++25but+25">%but%</a></code> operator. The &quot;g&quot; modifier can also be used in order
to control if the <code>gsub</code> function is used for global replacement or the <code>sub</code>
function to only replace the first match. <em>At the moment &quot;/&quot; cannot be used 
in the regular expressions</em>.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><a href="base.html#topic+grep">grep</a>, <a href="base.html#topic+gsub">gsub</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  txt &lt;- c("arm","foot","lefroo", "bafoobar")
  txt %-~% "foo"
  txt %-~|% "foo"
  
  ### Email of the R core team members
  rcore &lt;- readLines(file.path(R.home("doc"),"AUTHORS")) 
  rcore 
  
  ### or this way
  # angle brackets are retained here
  rcore %o~|% "&lt;.*@.*&gt;"
  rcore %o~|% "&lt;.*@.*&gt;" %-~% "[&lt;&gt;]"
  
  
  # allows to perform the match using &lt; and &gt; but strips them from the result
  rcore %o~|% "&lt;(.*@.*)&gt;"
  
  # really silly english to french translator
  pinks &lt;- colors() %~|% "pink"
  pinks %s~% "/pink/rose/"
  gsub( "pink", "rose", pinks )
  
  # perl regex pink shouter
  pinks %s~% "/(pink)/\\U\\1/p"
  gsub( "(pink)", "\\U\\1", pinks, perl = TRUE )

  # see ?gsub
  gsub("(\\w)(\\w*)", "\\U\\1\\L\\2", "a test of capitalizing", perl=TRUE)
  "a test of capitalizing" %s~% "/(\\w)(\\w*)/\\U\\1\\L\\2/gp"
  
</code></pre>

<hr>
<h2 id='pipe'> Pipe an R object to a unix command </h2><span id='topic++25+7C+25'></span>

<h3>Description</h3>

<p>The operator <code><a href="base.html#topic+print">print</a></code>s the R object into a temporay file and
then executes the unix command though a <code><a href="base.html#topic+pipe">pipe</a></code> 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r %|% u
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pipe_+3A_r">r</code></td>
<td>
<p> Any R object </p>
</td></tr>
<tr><td><code id="pipe_+3A_u">u</code></td>
<td>
<p> character string representing the unix command </p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of S3-class <code>unixoutput</code>. The <code>print</code> method 
for <code>unixoutput</code> objects simply <code><a href="base.html#topic+cat">cat</a></code> the
string.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+pipe">pipe</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## Not run: 
    rnorm(30) %|% 'head -n2'
    rnorm(30) %|% 'sed "s/^ *\\[[0-9]*\\]//g" '
    
    if( require(R4X ) ){
        x &lt;- xml( '&lt;root&gt;
            &lt;child id="1"&gt;
              &lt;subchild id = "sub1" &gt;foo&lt;/subchild&gt;
              &lt;subchild id = "sub2" &gt;bar&lt;/subchild&gt;
            &lt;/child&gt;
            &lt;child id="2"&gt;
              &lt;subchild id="a"&gt;blah&lt;/subchild&gt;
              &lt;subchild id="b"&gt;bob&lt;/subchild&gt;
              &lt;something id="c" /&gt;
            &lt;/child&gt;
            &lt;fruits&gt;
               &lt;fruit&gt;banana&lt;/fruit&gt;
               &lt;fruit&gt;mango&lt;/fruit&gt;
            &lt;/fruits&gt;
          &lt;/root&gt;' )
        x %|% "xml_pp | highlight -S xml -A"  
    }
  
## End(Not run)
</code></pre>

<hr>
<h2 id='plusEqual'> Plus Equal Operators </h2><span id='topic++25+2B+3D+25'></span>

<h3>Description</h3>

<p>Plus equal operator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  object %+=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plusEqual_+3A_object">object</code></td>
<td>
<p> object to which to add something </p>
</td></tr>
<tr><td><code id="plusEqual_+3A_value">value</code></td>
<td>
<p> object to add </p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. Used for the side effect of changing the value of <code>object</code>
</p>


<h3>Note</h3>

<p>The operator <code>%+=%</code> is S3-generic with a single default 
method implemented at the moment.  
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt; </p>


<h3>Examples</h3>

<pre><code class='language-R'>                        
  
  ### standard examples
  x &lt;- 4
  x %+=% 4
  x
  
  ### XML examples with the R4X package
  ## Not run: 
    require("R4X")
    x &lt;- xmlNode( "test" )
    x %+=% '&lt;foo&gt;&lt;bar/&gt;&lt;/foo&gt;'
    x
  
## End(Not run)
  
</code></pre>

<hr>
<h2 id='withOptions'> Alternative option mechanism</h2><span id='topic+options'></span><span id='topic+with.options'></span>

<h3>Description</h3>

<p><code>options</code> is a slight rework on <code><a href="base.html#topic+options">options</a></code> that 
gives a S3 class <code>options</code> to the result. This allows the definition
of a <code>with</code> method for the options. This is useful to execute a 
block of code <em>with</em> a set of options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'options'
with(data, expr, ...)
options(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="withOptions_+3A_...">...</code></td>
<td>
<p> Options to use. See <code><a href="base.html#topic+options">options</a></code> for details. </p>
</td></tr>
<tr><td><code id="withOptions_+3A_data">data</code></td>
<td>
<p>Options to use. This is typically a call to the <code>options</code> function</p>
</td></tr>
<tr><td><code id="withOptions_+3A_expr">expr</code></td>
<td>
<p>Code to execute.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The result of the expression that is evaulated is modified
in order to keep the option context it is associated with. The class 
of the object created by the expression is expanded to 
include the <code>withOptions</code> class and the <code>withOptions</code> 
attribute that keeps the context in which the object has been created. 
</p>
<p>This mechanism has been implemented specially for the automatic printing
of objects that happens outside the call to the <code>with.options</code>
function and not reflect the options requested by the user when the object
is printed.
</p>


<h3>Value</h3>

<p>For the function <code>with.options</code>, the result 
of the expression given in <code>expr</code> is returned. See details below.
</p>


<h3>Author(s)</h3>

<p> Romain Francois &lt;francoisromain@free.fr&gt;</p>


<h3>See Also</h3>

<p> The original <code><a href="base.html#topic+options">options</a></code> function in the base package. </p>


<h3>Examples</h3>

<pre><code class='language-R'>	
	# part of ?glm
	counts &lt;- c(18,17,15,20,10,20,25,13,12)
  outcome &lt;- gl(3,1,9)
  treatment &lt;- gl(3,3)
  print(d.AD &lt;- data.frame(treatment, outcome, counts))
  glm.D93 &lt;- glm(counts ~ outcome + treatment, family=poisson())
	
	summary( glm.D93 )
	
	with( options(show.signif.stars = FALSE,show.coef.Pvalues=FALSE), 
		summary( glm.D93) )
	
	a &lt;- try( 
	  with( options( warn = 2) , warning( "more than a warning" ) ), 
		silent = TRUE )
  class( a )
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

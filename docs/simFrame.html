<!DOCTYPE html><html><head><title>Help for package simFrame</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {simFrame}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#simFrame-package'>
<p>Simulation Framework</p></a></li>
<li><a href='#accessors'><p>Accessor and mutator functions for objects</p></a></li>
<li><a href='#aggregate-methods'><p>Method for aggregating simulation results</p></a></li>
<li><a href='#BasicVector-class'><p>Class &quot;BasicVector&quot;</p></a></li>
<li><a href='#clusterRunSimulation'><p>Run a simulation experiment on a cluster</p></a></li>
<li><a href='#clusterSetup'><p>Set up multiple samples on a cluster</p></a></li>
<li><a href='#contaminate'><p>Contaminate data</p></a></li>
<li><a href='#ContControl'><p>Create contamination control objects</p></a></li>
<li><a href='#ContControl-class'><p>Class &quot;ContControl&quot;</p></a></li>
<li><a href='#DARContControl-class'><p>Class &quot;DARContControl&quot;</p></a></li>
<li><a href='#DataControl-class'><p>Class &quot;DataControl&quot;</p></a></li>
<li><a href='#DCARContControl-class'><p>Class &quot;DCARContControl&quot;</p></a></li>
<li><a href='#draw'><p>Draw a sample</p></a></li>
<li><a href='#eusilcP'>
<p>Synthetic EU-SILC data</p></a></li>
<li><a href='#generate'><p>Generate data</p></a></li>
<li><a href='#head-methods'><p>Methods for returning the first parts of an object</p></a></li>
<li><a href='#inclusionProb'><p>Inclusion probabilities</p></a></li>
<li><a href='#length-methods'><p>Methods for getting the length of an object</p></a></li>
<li><a href='#NAControl-class'><p>Class &quot;NAControl&quot;</p></a></li>
<li><a href='#NumericMatrix-class'><p>Class &quot;NumericMatrix&quot;</p></a></li>
<li><a href='#OptBasicVector-class'><p>Class &quot;OptBasicVector&quot;</p></a></li>
<li><a href='#OptCall-class'><p>Class &quot;OptCall&quot;</p></a></li>
<li><a href='#OptCharacter-class'><p>Class &quot;OptCharacter&quot;</p></a></li>
<li><a href='#OptContControl-class'><p>Class &quot;OptContControl&quot;</p></a></li>
<li><a href='#OptDataControl-class'><p>Class &quot;OptDataControl&quot;</p></a></li>
<li><a href='#OptNAControl-class'><p>Class &quot;OptNAControl&quot;</p></a></li>
<li><a href='#OptNumeric-class'><p>Class &quot;OptNumeric&quot;</p></a></li>
<li><a href='#OptSampleControl-class'><p>Class &quot;OptSampleControl&quot;</p></a></li>
<li><a href='#plot-methods'><p>Plot simulation results</p></a></li>
<li><a href='#runSimulation'><p>Run a simulation experiment</p></a></li>
<li><a href='#SampleControl-class'><p>Class &quot;SampleControl&quot;</p></a></li>
<li><a href='#SampleSetup-class'><p>Class &quot;SampleSetup&quot;</p></a></li>
<li><a href='#sampling'><p>Random sampling</p></a></li>
<li><a href='#setNA'><p>Set missing values</p></a></li>
<li><a href='#setup'><p>Set up multiple samples</p></a></li>
<li><a href='#simApply'><p>Apply a function to subsets</p></a></li>
<li><a href='#simBwplot'><p>Box-and-whisker plots</p></a></li>
<li><a href='#SimControl-class'><p>Class &quot;SimControl&quot;</p></a></li>
<li><a href='#simDensityplot'><p>Kernel density plots</p></a></li>
<li><a href='#SimResults-class'><p>Class &quot;SimResults&quot;</p></a></li>
<li><a href='#simSample'><p>Set up multiple samples</p></a></li>
<li><a href='#simXyplot'><p>X-Y plots</p></a></li>
<li><a href='#Strata-class'><p>Class &quot;Strata&quot;</p></a></li>
<li><a href='#stratify'><p>Stratify data</p></a></li>
<li><a href='#stratify-utilities'><p>Utility functions for stratifying data</p></a></li>
<li><a href='#summary-methods'><p>Methods for producing a summary of an object</p></a></li>
<li><a href='#SummarySampleSetup-class'><p>Class &quot;SummarySampleSetup&quot;</p></a></li>
<li><a href='#tail-methods'><p>Methods for returning the last parts of an object</p></a></li>
<li><a href='#TwoStageControl-class'><p>Class &quot;TwoStageControl&quot;</p></a></li>
<li><a href='#VirtualContControl-class'><p>Class &quot;VirtualContControl&quot;</p></a></li>
<li><a href='#VirtualDataControl-class'><p>Class &quot;VirtualDataControl&quot;</p></a></li>
<li><a href='#VirtualNAControl-class'><p>Class &quot;VirtualNAControl&quot;</p></a></li>
<li><a href='#VirtualSampleControl-class'><p>Class &quot;VirtualSampleControl&quot;</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.5.4</td>
</tr>
<tr>
<td>Title:</td>
<td>Simulation Framework</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-10-11</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), Rcpp (&ge; 0.8.6), lattice, parallel</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, stats4</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Description:</td>
<td>A general framework for statistical simulation, which allows researchers to make use of a wide range of simulation designs with minimal programming effort.  The package provides functionality for drawing samples from a distribution or a finite population, for adding outliers and missing values, as well as for visualization of the simulation results.  It follows a clear object-oriented design and supports parallel computing to increase computational performance.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Alfons [aut, cre],
  Yves Tille [ctb] (original R code of certain sampling algorithms),
  Alina Matei [ctb] (original R code of certain sampling algorithms)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-11 10:19:15 UTC; andreas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-14 11:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='simFrame-package'>
Simulation Framework
</h2><span id='topic+simFrame-package'></span><span id='topic+simFrame'></span><span id='topic+simframe-package'></span><span id='topic+SimFrame-package'></span><span id='topic+Simframe-package'></span><span id='topic+simframe'></span><span id='topic+SimFrame'></span><span id='topic+Simframe'></span>

<h3>Description</h3>

<p>A general framework for statistical simulation, which allows researchers to make use of a wide range of simulation designs with minimal programming effort.  The package provides functionality for drawing samples from a distribution or a finite population, for adding outliers and missing values, as well as for visualization of the simulation results.  It follows a clear object-oriented design and supports parallel computing to increase computational performance.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> simFrame</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.5.4</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Simulation Framework</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-10-11</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.0.0), Rcpp (&gt;= 0.8.6), lattice, parallel</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> methods, stats4</td>
</tr>
<tr>
 <td style="text-align: left;">
LinkingTo: </td><td style="text-align: left;"> Rcpp</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> A general framework for statistical simulation, which allows researchers to make use of a wide range of simulation designs with minimal programming effort.  The package provides functionality for drawing samples from a distribution or a finite population, for adding outliers and missing values, as well as for visualization of the simulation results.  It follows a clear object-oriented design and supports parallel computing to increase computational performance.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> c(person("Andreas", "Alfons", 
                    email = "alfons@ese.eur.nl", 
                    role = c("aut", "cre")), 
             person("Yves", "Tille", role = "ctb", 
                    comment = "original R code of certain sampling algorithms"), 
             person("Alina", "Matei", role = "ctb", 
                    comment = "original R code of certain sampling algorithms"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Andreas Alfons [aut, cre], Yves Tille [ctb] (original R code of certain sampling algorithms), Alina Matei [ctb] (original R code of certain sampling algorithms)</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
BasicVector-class       Class "BasicVector"
ContControl             Create contamination control objects
ContControl-class       Class "ContControl"
DARContControl-class    Class "DARContControl"
DCARContControl-class   Class "DCARContControl"
DataControl-class       Class "DataControl"
NAControl-class         Class "NAControl"
NumericMatrix-class     Class "NumericMatrix"
OptBasicVector-class    Class "OptBasicVector"
OptCall-class           Class "OptCall"
OptCharacter-class      Class "OptCharacter"
OptContControl-class    Class "OptContControl"
OptDataControl-class    Class "OptDataControl"
OptNAControl-class      Class "OptNAControl"
OptNumeric-class        Class "OptNumeric"
OptSampleControl-class
                        Class "OptSampleControl"
SampleControl-class     Class "SampleControl"
SampleSetup-class       Class "SampleSetup"
SimControl-class        Class "SimControl"
SimResults-class        Class "SimResults"
Strata-class            Class "Strata"
SummarySampleSetup-class
                        Class "SummarySampleSetup"
TwoStageControl-class   Class "TwoStageControl"
VirtualContControl-class
                        Class "VirtualContControl"
VirtualDataControl-class
                        Class "VirtualDataControl"
VirtualNAControl-class
                        Class "VirtualNAControl"
VirtualSampleControl-class
                        Class "VirtualSampleControl"
aggregate-methods       Method for aggregating simulation results
clusterRunSimulation    Run a simulation experiment on a cluster
clusterSetup            Set up multiple samples on a cluster
contaminate             Contaminate data
draw                    Draw a sample
eusilcP                 Synthetic EU-SILC data
generate                Generate data
getAdd                  Accessor and mutator functions for objects
getStrataLegend         Utility functions for stratifying data
head-methods            Methods for returning the first parts of an
                        object
inclusionProb           Inclusion probabilities
length-methods          Methods for getting the length of an object
plot-methods            Plot simulation results
runSimulation           Run a simulation experiment
setNA                   Set missing values
setup                   Set up multiple samples
simApply                Apply a function to subsets
simBwplot               Box-and-whisker plots
simDensityplot          Kernel density plots
simFrame-package        Simulation Framework
simSample               Set up multiple samples
simXyplot               X-Y plots
srs                     Random sampling
stratify                Stratify data
summary-methods         Methods for producing a summary of an object
tail-methods            Methods for returning the last parts of an
                        object
</pre>


<h3>Author(s)</h3>

<p>Andreas Alfons [aut, cre]; C++ implementations of certain sampling algorithms are based on R code by Yves Tille and Alina Matei.
</p>
<p>Maintainer: Andreas Alfons &lt;alfons@ese.eur.nl&gt;
</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>

<hr>
<h2 id='accessors'>Accessor and mutator functions for objects</h2><span id='topic+getAdd'></span><span id='topic+getAdd-methods'></span><span id='topic+getAux'></span><span id='topic+getAux-methods'></span><span id='topic+setAux'></span><span id='topic+setAux-methods'></span><span id='topic+getCall'></span><span id='topic+getCall-methods'></span><span id='topic+getCollect'></span><span id='topic+getCollect-methods'></span><span id='topic+setCollect'></span><span id='topic+setCollect-methods'></span><span id='topic+getColnames'></span><span id='topic+getColnames-methods'></span><span id='topic+setColnames'></span><span id='topic+setColnames-methods'></span><span id='topic+getContControl'></span><span id='topic+getContControl-methods'></span><span id='topic+setContControl'></span><span id='topic+setContControl-methods'></span><span id='topic+getControl'></span><span id='topic+getControl-methods'></span><span id='topic+getDataControl'></span><span id='topic+getDataControl-methods'></span><span id='topic+getDesign'></span><span id='topic+getDesign-methods'></span><span id='topic+setDesign'></span><span id='topic+setDesign-methods'></span><span id='topic+getDistribution'></span><span id='topic+getDistribution-methods'></span><span id='topic+setDistribution'></span><span id='topic+setDistribution-methods'></span><span id='topic+getDots'></span><span id='topic+getDots-methods'></span><span id='topic+getDots+2CTwoStageControl-method'></span><span id='topic+setDots'></span><span id='topic+setDots-methods'></span><span id='topic+setDots+2CTwoStageControl-method'></span><span id='topic+getEpsilon'></span><span id='topic+getEpsilon-methods'></span><span id='topic+setEpsilon'></span><span id='topic+setEpsilon-methods'></span><span id='topic+getFun'></span><span id='topic+getFun-methods'></span><span id='topic+getFun+2CTwoStageControl-method'></span><span id='topic+setFun'></span><span id='topic+setFun-methods'></span><span id='topic+setFun+2CTwoStageControl-method'></span><span id='topic+getGrouping'></span><span id='topic+getGrouping-methods'></span><span id='topic+setGrouping'></span><span id='topic+setGrouping-methods'></span><span id='topic+getIndices'></span><span id='topic+getIndices-methods'></span><span id='topic+getIntoContamination'></span><span id='topic+getIntoContamination-methods'></span><span id='topic+setIntoContamination'></span><span id='topic+setIntoContamination-methods'></span><span id='topic+getK'></span><span id='topic+getK-methods'></span><span id='topic+setK'></span><span id='topic+setK-methods'></span><span id='topic+getLegend'></span><span id='topic+getLegend-methods'></span><span id='topic+getNAControl'></span><span id='topic+getNAControl-methods'></span><span id='topic+setNAControl'></span><span id='topic+setNAControl-methods'></span><span id='topic+getNArate'></span><span id='topic+getNArate-methods'></span><span id='topic+setNArate'></span><span id='topic+setNArate-methods'></span><span id='topic+getNr'></span><span id='topic+getNr-methods'></span><span id='topic+getNrep'></span><span id='topic+getNrep-methods'></span><span id='topic+getProb'></span><span id='topic+getProb-methods'></span><span id='topic+getProb+2CTwoStageControl-method'></span><span id='topic+setProb'></span><span id='topic+setProb-methods'></span><span id='topic+setProb+2CTwoStageControl-method'></span><span id='topic+getSAE'></span><span id='topic+getSAE-methods'></span><span id='topic+setSAE'></span><span id='topic+setSAE-methods'></span><span id='topic+getSampleControl'></span><span id='topic+getSampleControl-methods'></span><span id='topic+getSeed'></span><span id='topic+getSeed-methods'></span><span id='topic+getSize'></span><span id='topic+getSize-methods'></span><span id='topic+getSize+2CTwoStageControl-method'></span><span id='topic+setSize'></span><span id='topic+setSize-methods'></span><span id='topic+setSize+2CTwoStageControl-method'></span><span id='topic+getSplit'></span><span id='topic+getSplit-methods'></span><span id='topic+getTarget'></span><span id='topic+getTarget-methods'></span><span id='topic+setTarget'></span><span id='topic+setTarget-methods'></span><span id='topic+getValues'></span><span id='topic+getValues-methods'></span>

<h3>Description</h3>

<p>Get values of slots of objects via accessor functions and set values via
mutator functions.  If no mutator methods are available, the slots of the
corresponding objects are not supposed to be changed by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAdd(x)

getAux(x)
setAux(x, aux)

getCall(x, ...)

getCollect(x)
setCollect(x, collect)

getColnames(x)
setColnames(x, colnames)

getContControl(x)
setContControl(x, contControl)

getControl(x)

getDataControl(x)

getDesign(x)
setDesign(x, design)

getDistribution(x)
setDistribution(x, distribution)

getDots(x, ...)
setDots(x, dots, ...)

## S4 method for signature 'TwoStageControl'
getDots(x, stage = NULL)
## S4 method for signature 'TwoStageControl'
setDots(x, dots, stage = NULL)

getEpsilon(x)
setEpsilon(x, epsilon)

getFun(x, ...)
setFun(x, fun, ...)

## S4 method for signature 'TwoStageControl'
getFun(x, stage = NULL)
## S4 method for signature 'TwoStageControl'
setFun(x, fun, stage = NULL)

getGrouping(x)
setGrouping(x, grouping)

getIndices(x)

getIntoContamination(x)
setIntoContamination(x, intoContamination)

getK(x)
setK(x, k)

getLegend(x)

getNAControl(x)
setNAControl(x, NAControl)

getNArate(x)
setNArate(x, NArate)

getNr(x)

getNrep(x)

getProb(x, ...)
setProb(x, prob, ...)

## S4 method for signature 'TwoStageControl'
getProb(x, stage = NULL)
## S4 method for signature 'TwoStageControl'
setProb(x, prob, stage = NULL)

getSAE(x)
setSAE(x, SAE)

getSampleControl(x)

getSeed(x)

getSize(x, ...)
setSize(x, size, ...)

## S4 method for signature 'TwoStageControl'
getSize(x, stage = NULL)
## S4 method for signature 'TwoStageControl'
setSize(x, size, stage = NULL)

getSplit(x)

getTarget(x)
setTarget(x, target)

getValues(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accessors_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="accessors_+3A_aux">aux</code></td>
<td>
<p>a character string specifying an auxiliary variable (see
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code> and <code>"<a href="#topic+NAControl-class">NAControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_collect">collect</code></td>
<td>
<p>a logical indicating whether groups should be collected after
sampling individuals or sampled directly (see
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_colnames">colnames</code></td>
<td>
<p>a character vector specifying column names (see
<code>"<a href="#topic+DataControl-class">DataControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_contcontrol">contControl</code></td>
<td>
<p>an object of class <code>"<a href="#topic+ContControl-class">ContControl</a>"</code> (see
<code>"<a href="#topic+SimControl-class">SimControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_design">design</code></td>
<td>
<p>a character vector specifying columns to be used for
stratification (see <code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>,
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code> and
<code>"<a href="#topic+SimControl-class">SimControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_distribution">distribution</code></td>
<td>
<p>a function generating data (see
<code>"<a href="#topic+DataControl-class">DataControl</a>"</code> and
<code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_dots">dots</code></td>
<td>
<p>additional arguments to be passed to a function (see
<code>"<a href="#topic+DataControl-class">DataControl</a>"</code>, <code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>,
<code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>,
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>,
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code> and
<code>"<a href="#topic+SimControl-class">SimControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_epsilon">epsilon</code></td>
<td>
<p>a numeric vector giving contamination levels (see
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_fun">fun</code></td>
<td>
<p>a function (see
<code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>,
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>,
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code> and
<code>"<a href="#topic+SimControl-class">SimControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_grouping">grouping</code></td>
<td>
<p>a character string specifying a grouping variable (see
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, <code>"<a href="#topic+NAControl-class">NAControl</a>"</code>,
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code> and
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_intocontamination">intoContamination</code></td>
<td>
<p>a logical indicating whether missing values should
also be inserted into contaminated observations (see
<code>"<a href="#topic+NAControl-class">NAControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_k">k</code></td>
<td>
<p>a single positive integer giving the number of samples to be set up
(see <code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_nacontrol">NAControl</code></td>
<td>
<p>an object of class <code>"<a href="#topic+NAControl-class">NAControl</a>"</code> (see
<code>"<a href="#topic+SimControl-class">SimControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_narate">NArate</code></td>
<td>
<p>a numeric vector or matrix giving missing value rates (see
<code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_prob">prob</code></td>
<td>
<p>a numeric vector giving probability weights (see
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code> and
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_sae">SAE</code></td>
<td>
<p>a logical indicating whether small area estimation will be used in
the simulation experiment (see <code>"<a href="#topic+SimControl-class">SimControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_size">size</code></td>
<td>
<p>a non-negative integer or a vector of non-negative integers (see
<code>"<a href="#topic+DataControl-class">DataControl</a>"</code>, <code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>
and <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_stage">stage</code></td>
<td>
<p>optional integer; for certain slots of
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>, this allows to access or modify
only the list component for the specified stage.  Use <code>1</code> for the
first stage and <code>2</code> for the second stage.</p>
</td></tr>
<tr><td><code id="accessors_+3A_target">target</code></td>
<td>
<p>a character vector specifying target columns (see
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code> and
<code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>).</p>
</td></tr>
<tr><td><code id="accessors_+3A_...">...</code></td>
<td>
<p>only used to allow for the <code>stage</code> argument in accessor and
mutator methods for <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>. Otherwise no
additional arguments are available.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For accessor functions, the corresponding slot of <code>x</code> is returned.
</p>
<p>For mutator functions, the corresponding slot of <code>x</code> is replaced.
</p>


<h3>Methods for function getAdd</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getAux and setAux</h3>


<dl>
<dt><code>signature(x = "ContControl")</code></dt><dd></dd>
<dt><code>signature(x = "NAControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getCall</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd></dd>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getCollect and setCollect</h3>


<dl>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getColnames</h3>


<dl>
<dt><code>signature(x = "DataControl")</code></dt><dd></dd>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for function setColnames</h3>


<dl>
<dt><code>signature(x = "DataControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getContControl and setContControl</h3>


<dl>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getControl</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd></dd>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for function getDataControl</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for function getDesign</h3>


<dl>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
</dl>



<h3>Methods for function setDesign</h3>


<dl>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getDistribution and setDistribution</h3>


<dl>
<dt><code>signature(x = "DataControl")</code></dt><dd></dd>
<dt><code>signature(x = "DCARContControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getDots and setDots</h3>


<dl>
<dt><code>signature(x = "DataControl")</code></dt><dd></dd>
<dt><code>signature(x = "DARContControl")</code></dt><dd></dd>
<dt><code>signature(x = "DCARContControl")</code></dt><dd></dd>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getEpsilon</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function setEpsilon</h3>


<dl>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getFun and setFun</h3>


<dl>
<dt><code>signature(x = "DARContControl")</code></dt><dd></dd>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getGrouping and setGrouping</h3>


<dl>
<dt><code>signature(x = "ContControl")</code></dt><dd></dd>
<dt><code>signature(x = "NAControl")</code></dt><dd></dd>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getIndices</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getIntoContamination and setIntoContamination</h3>


<dl>
<dt><code>signature(x = "NAControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getK and setK</h3>


<dl>
<dt><code>signature(x = "VirtualSampleControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getLegend</h3>


<dl>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getNAControl and setNAControl</h3>


<dl>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getNArate</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function setNArate</h3>


<dl>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getNr</h3>


<dl>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
</dl>



<h3>Methods for function getNrep</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for function getProb</h3>


<dl>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
<dt><code>signature(x = "SampleSetup")</code></dt><dd></dd>
</dl>



<h3>Methods for function setProb</h3>


<dl>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getSAE and setSAE</h3>


<dl>
<dt><code>signature(x = "SimControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getSampleControl</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for function getSeed</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd></dd>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
</dl>



<h3>Methods for function getSize</h3>


<dl>
<dt><code>signature(x = "DataControl")</code></dt><dd></dd>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
<dt><code>signature(x = "SummarySampleSetup")</code></dt><dd></dd>
</dl>



<h3>Methods for function setSize</h3>


<dl>
<dt><code>signature(x = "DataControl")</code></dt><dd></dd>
<dt><code>signature(x = "SampleControl")</code></dt><dd></dd>
<dt><code>signature(x = "TwoStageControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getSplit</h3>


<dl>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
</dl>



<h3>Methods for functions getTarget and setTarget</h3>


<dl>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd></dd>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd></dd>
</dl>



<h3>Methods for function getValues</h3>


<dl>
<dt><code>signature(x = "SimResults")</code></dt><dd></dd>
<dt><code>signature(x = "Strata")</code></dt><dd></dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nc &lt;- NAControl(NArate = 0.05)
getNArate(nc)

setNArate(nc, c(0.01, 0.03, 0.05, 0.07, 0.09))
getNArate(nc)

</code></pre>

<hr>
<h2 id='aggregate-methods'>Method for aggregating simulation results</h2><span id='topic+aggregate-methods'></span><span id='topic+aggregate+2CSimResults-method'></span>

<h3>Description</h3>

<p>Aggregate simulation results, i.e, split the data into subsets if applicable
and compute summary statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SimResults'
aggregate(x, select = NULL, FUN = mean, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate-methods_+3A_x">x</code></td>
<td>
<p>the simulation results to be aggregated, i.e., an object of class
<code>"SimResults"</code>.</p>
</td></tr>
<tr><td><code id="aggregate-methods_+3A_select">select</code></td>
<td>
<p>a character vector specifying the columns to be aggregated.  It
must be a subset of the <code>colnames</code> slot of <code>x</code>, which is the
default.</p>
</td></tr>
<tr><td><code id="aggregate-methods_+3A_fun">FUN</code></td>
<td>
<p>a scalar function to compute the summary statistics (defaults to
<code>mean</code>).</p>
</td></tr>
<tr><td><code id="aggregate-methods_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to
<code><a href="stats.html#topic+aggregate">aggregate</a></code> or <code><a href="base.html#topic+apply">apply</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If contamination or missing values have been inserted or the simulations have
been split into different domains, a <code>data.frame</code> is returned, otherwise
a vector.
</p>


<h3>Details</h3>

<p>If contamination or missing values have been inserted or the simulations have
been split into different domains, <code><a href="stats.html#topic+aggregate">aggregate</a></code> is called
to compute the summary statistics for the respective subsets.
</p>
<p>Otherwise, <code><a href="base.html#topic+apply">apply</a></code> is called to compute the summary statistics
for each column specified by <code>select</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "SimResults"</code></dt><dd><p>aggregate simulation results.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+aggregate">aggregate</a></code>, <code><a href="base.html#topic+apply">apply</a></code>,
<code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

## run simulation
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)

## aggregate
aggregate(results)  # means of results
aggregate(results, FUN = sd)  # standard deviations of results


#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

## run simulation
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)

## aggregate
aggregate(results)  # means of results
aggregate(results, FUN = sd)  # standard deviations of results
</code></pre>

<hr>
<h2 id='BasicVector-class'>Class &quot;BasicVector&quot;</h2><span id='topic+BasicVector-class'></span><span id='topic+basicVector-class'></span><span id='topic+basicvector-class'></span><span id='topic+Basicvector-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Extends</h3>

<p>Class <code>"<a href="#topic+OptBasicVector-class">OptBasicVector</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt><code>getStrataLegend</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector")</code>: get a <code>data.frame</code> describing the strata.</p>
</dd>
<dt><code>getStrataSplit</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector")</code>: get a list in which each element contains the 
indices of the observations belonging to the corresponding stratum.</p>
</dd>
<dt><code>getStrataTable</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector")</code>: get a <code>data.frame</code> describing the strata 
and containing the stratum sizes.</p>
</dd>
<dt><code>getStratumSizes</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector")</code>: get the stratum sizes.</p>
</dd>
<dt><code>getStratumValues</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector", split = "missing")</code>: get the stratum number for 
each observation.</p>
</dd>
<dt><code>getStratumValues</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector", split = "list")</code>: get the stratum number for 
each observation.</p>
</dd>
<dt><code>simApply</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector", fun = "function")</code>: apply a function to subsets.</p>
</dd>
<dt><code>simSapply</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector", fun = "function")</code>: apply a function to subsets.</p>
</dd>
<dt><code>stratify</code></dt><dd><p><code>signature(x = "data.frame", 
      design = "BasicVector")</code>: stratify data.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("BasicVector")
</code></pre>

<hr>
<h2 id='clusterRunSimulation'>Run a simulation experiment on a cluster</h2><span id='topic+clusterRunSimulation'></span><span id='topic+clusterRunSimulation-methods'></span><span id='topic+clusterRunSimulation+2CANY+2CANY+2CANY+2CANY+2Cmissing-method'></span><span id='topic+clusterRunSimulation+2CANY+2Cdata.frame+2Cmissing+2Cnumeric+2CSimControl-method'></span><span id='topic+clusterRunSimulation+2CANY+2Cdata.frame+2CSampleSetup+2Cmissing+2CSimControl-method'></span><span id='topic+clusterRunSimulation+2CANY+2Cdata.frame+2CVirtualSampleControl+2Cmissing+2CSimControl-method'></span><span id='topic+clusterRunSimulation+2CANY+2CVirtualDataControl+2Cmissing+2Cnumeric+2CSimControl-method'></span><span id='topic+clusterRunSimulation+2CANY+2CVirtualDataControl+2CVirtualSampleControl+2Cnumeric+2CSimControl-method'></span><span id='topic+clusterrunsimulation'></span><span id='topic+clusterRunsimulation'></span><span id='topic+clusterrunSimulation'></span><span id='topic+ClusterRunSimulation'></span><span id='topic+Clusterrunsimulation'></span><span id='topic+ClusterrunSimulation'></span><span id='topic+ClusterRunsimulation'></span>

<h3>Description</h3>

<p>Generic function for running a simulation experiment on a cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clusterRunSimulation(cl, x, setup, nrep, control,
                     contControl = NULL, NAControl = NULL,
                     design = character(), fun, ...,
                     SAE = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clusterRunSimulation_+3A_cl">cl</code></td>
<td>
<p>a cluster as generated by <code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> (for design-based simulation or simulation based
on real data) or a control object for data generation inheriting from
<code>"VirtualDataControl"</code> (for model-based simulation or mixed simulation
designs).</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_setup">setup</code></td>
<td>
<p>an object of class <code>"SampleSetup"</code>, containing previously
set up samples, or a control class for setting up samples inheriting
from <code>"VirtualSampleControl"</code>.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_nrep">nrep</code></td>
<td>
<p>a non-negative integer giving the number of repetitions of the
simulation experiment (for model-based simulation, mixed simulation designs
or simulation based on real data).</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_control">control</code></td>
<td>
<p>a control object of class <code>"SimControl"</code></p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_contcontrol">contControl</code></td>
<td>
<p>an object of a class inheriting from
<code>"VirtualContControl"</code>, controlling contamination in the simulation
experiment.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_nacontrol">NAControl</code></td>
<td>
<p>an object of a class inheriting from
<code>"VirtualNAControl"</code>, controlling the insertion of missing values in
the simulation experiment.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_design">design</code></td>
<td>
<p>a character vector specifying variables (columns) to be used
for splitting the data into domains.  The simulations, including
contamination and the insertion of missing values (unless <code>SAE=TRUE</code>),
are then performed on every domain.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_fun">fun</code></td>
<td>
<p>a function to be applied in each simulation run.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_...">...</code></td>
<td>
<p>for <code>runSimulation</code>, additional arguments to be passed
to <code>fun</code>.  For <code>runSim</code>, arguments to be passed to
<code>runSimulation</code>.</p>
</td></tr>
<tr><td><code id="clusterRunSimulation_+3A_sae">SAE</code></td>
<td>
<p>a logical indicating whether small area estimation will be used in
the simulation experiment.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Statistical simulation is embarrassingly parallel, hence computational
performance can be increased by parallel computing.  Since version 0.5.0,
parallel computing in <code>simFrame</code> is implemented using the package
<code>parallel</code>, which is part of the <span class="rlang"><b>R</b></span> base distribution since version
2.14.0 and builds upon work done for the contributed packages
<code>multicore</code> and <code>snow</code>.  Note that all objects and packages
required for the computations (including <code>simFrame</code>) need to be made
available on every worker process unless the worker processes are created by
forking (see <code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>).
</p>
<p>In order to prevent problems with random numbers and to ensure
reproducibility, random number streams should be used.  With
<code>parallel</code>, random number streams can be created via the
function <code>clusterSetRNGStream()</code>.
</p>
<p>There are some requirements for slot <code>fun</code> of the control object
<code>control</code>.  The function must return a numeric vector, or a list with
the two components <code>values</code> (a numeric vector) and <code>add</code>
(additional results of any class, e.g., statistical models).  Note that the
latter is computationally slightly more expensive.  A <code>data.frame</code> is
passed to <code>fun</code> in every simulation run.  The corresponding argument
must be called <code>x</code>.  If comparisons with the original data need to be
made, e.g., for evaluating the quality of imputation methods, the function
should have an argument called <code>orig</code>.  If different domains are used
in the simulation, the indices of the current domain can be passed to the
function via an argument called <code>domain</code>.
</p>
<p>For small area estimation, the following points have to be kept in mind.  The
slot <code>design</code> of <code>control</code> for splitting the data must be supplied
and the slot <code>SAE</code> must be set to <code>TRUE</code>.  However, the data are
not actually split into the specified domains.  Instead, the whole data set
(sample) is passed to <code>fun</code>.  Also contamination and missing values are
added to the whole data (sample).  Last, but not least, the function must
have a <code>domain</code> argument so that the current domain can be extracted
from the whole data (sample).
</p>
<p>In every simulation run, <code>fun</code> is evaluated using <code>try</code>.  Hence
no results are lost if computations fail in any of the simulation runs.
</p>


<h3>Value</h3>

<p>An object of class <code>"SimResults"</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>cl = "ANY", x = "ANY", setup = "ANY", nrep = "ANY",
    control = "missing"</code></dt><dd><p>convenience wrapper that allows the slots of
<code>control</code> to be supplied as arguments</p>
</dd>
<dt><code>cl = "ANY", x = "data.frame", setup = "missing", nrep = "numeric",
    control = "SimControl"</code></dt><dd><p>run a simulation experiment based on real data
with repetitions on a cluster.</p>
</dd>
<dt><code>cl = "ANY", x = "data.frame", setup = "SampleSetup",
    nrep = "missing", control = "SimControl"</code></dt><dd><p>run a design-based simulation
experiment with previously set up samples on a cluster.</p>
</dd>
<dt><code>cl = "ANY", x = "data.frame", setup = "VirtualSampleControl",
    nrep = "missing", control = "SimControl"</code></dt><dd><p>run a design-based simulation
experiment on a cluster.</p>
</dd>
<dt><code>cl = "ANY", x = "VirtualDataControl", setup = "missing",
    nrep = "numeric", control = "SimControl"</code></dt><dd><p>run a model-based simulation
experiment with repetitions on a cluster.</p>
</dd>
<dt><code>cl = "ANY", x = "VirtualDataControl",
    setup = "VirtualSampleControl", nrep = "numeric",
    control = "SimControl"</code></dt><dd><p>run a simulation experiment using a mixed
simulation design with repetitions on a cluster.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>
<p>L'Ecuyer, P., Simard, R., Chen E and Kelton, W. (2002) An Object-Oriented
Random-Number Package with Many Long Streams and Substreams. <em>Operations
Research</em>, <b>50</b>(6), 1073&ndash;1075.
</p>
<p>Rossini, A., Tierney L. and Li, N. (2007) Simple Parallel Statistical Computing
in <span class="rlang"><b>R</b></span>. <em>Journal of Computational and Graphical Statistics</em>, <b>16</b>(2),
399&ndash;420.
</p>
<p>Tierney, L., Rossini, A. and Li, N. (2009) <code>snow</code>: A Parallel Computing
Framework for the <span class="rlang"><b>R</b></span> System. <em>International Journal of Parallel
Programming</em>, <b>37</b>(1), 78&ndash;90.
</p>


<h3>See Also</h3>

<p><code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>,
<code><a href="parallel.html#topic+RngStream">clusterSetRNGStream</a></code>,
<code><a href="#topic+runSimulation">runSimulation</a></code>, <code>"<a href="#topic+SimControl-class">SimControl</a>"</code>,
<code>"<a href="#topic+SimResults-class">SimResults</a>"</code>, <code><a href="#topic+simBwplot">simBwplot</a></code>,
<code><a href="#topic+simDensityplot">simDensityplot</a></code>, <code><a href="#topic+simXyplot">simXyplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## these examples requires at least a dual core processor


## design-based simulation
data(eusilcP)  #load data

# start cluster
cl &lt;- makeCluster(2, type = "PSOCK")

# load package and data on workers
clusterEvalQ(cl, {
    library(simFrame)
    data(eusilcP)
})

# set up random number stream
clusterSetRNGStream(cl, iseed = "12345")

# control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

# function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

# export objects to workers
clusterExport(cl, c("sc", "cc", "sim"))

# run simulation on cluster
results &lt;- clusterRunSimulation(cl, eusilcP,
    sc, contControl = cc, fun = sim)

# stop cluster
stopCluster(cl)

# explore results
head(results)
aggregate(results)
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
plot(results, true = tv)



## model-based simulation

# start cluster
cl &lt;- makeCluster(2, type = "PSOCK")

# load package on workers
clusterEvalQ(cl, library(simFrame))

# set up random number stream
clusterSetRNGStream(cl, iseed = "12345")

# function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

# control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

# function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

# export objects to workers
clusterExport(cl, c("rgnorm", "means", "dc", "cc", "sim"))

# run simulation on cluster
results &lt;- clusterRunSimulation(cl, dc, nrep = 100,
    contControl = cc, design = "group", fun = sim)

# stop cluster
stopCluster(cl)

# explore results
head(results)
aggregate(results)
plot(results, true = means)

## End(Not run)
</code></pre>

<hr>
<h2 id='clusterSetup'>Set up multiple samples on a cluster</h2><span id='topic+clusterSetup'></span><span id='topic+clusterSetup-methods'></span><span id='topic+clusterSetup+2CANY+2Cdata.frame+2Ccharacter-method'></span><span id='topic+clusterSetup+2CANY+2Cdata.frame+2Cmissing-method'></span><span id='topic+clusterSetup+2CANY+2Cdata.frame+2CSampleControl-method'></span><span id='topic+clusterSetup+2CANY+2Cdata.frame+2CTwoStageControl-method'></span><span id='topic+clustersetup'></span><span id='topic+ClusterSetup'></span><span id='topic+Clustersetup'></span>

<h3>Description</h3>

<p>Generic function for setting up multiple samples on a cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clusterSetup(cl, x, control, ...)

## S4 method for signature 'ANY,data.frame,SampleControl'
clusterSetup(cl, x, control)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clusterSetup_+3A_cl">cl</code></td>
<td>
<p>a cluster as generated by <code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>.</p>
</td></tr>
<tr><td><code id="clusterSetup_+3A_x">x</code></td>
<td>
<p>the <code>data.frame</code> to sample from.</p>
</td></tr>
<tr><td><code id="clusterSetup_+3A_control">control</code></td>
<td>
<p>a control object inheriting from the virtual class
<code>"VirtualSampleControl"</code> or a character string specifying such a
control class (the default being <code>"SampleControl"</code>).</p>
</td></tr>
<tr><td><code id="clusterSetup_+3A_...">...</code></td>
<td>
<p>if <code>control</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code> for details on the slots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A fundamental design principle of the framework in the case of design-based
simulation studies is that the sampling procedure is separated from the
simulation procedure.  Two main advantages arise from setting up all samples
in advance.
</p>
<p>First, the repeated sampling reduces overall computation time dramatically in
certain situations, since computer-intensive tasks like stratification need
to be performed only once.  This is particularly relevant for large
population data.  In close-to-reality simulation studies carried out in
research projects in survey statistics, often up to 10000 samples are drawn
from a population of millions of individuals with stratified sampling
designs.  For such large data sets, stratification takes a considerable
amount of time and is a very memory-intensive task.  If the samples are taken
on-the-fly, i.e., in every simulation run one sample is drawn, the function
to take the stratified sample would typically split the population into the
different strata in each of the 10000 simulation runs.  If all samples are
drawn in advance, on the other hand, the population data need to be split
only once and all 10000 samples can be taken from the respective strata
together.
</p>
<p>Second, the samples can be stored permanently, which simplifies the
reproduction of simulation results and may help to maximize comparability of
results obtained by different partners in a research project.  In particular,
this is useful for large population data, when complex sampling techniques
may be very time-consuming.  In research projects involving different
partners, usually different groups investigate different kinds of estimators.
If the two groups use not only the same population data, but also the same
previously set up samples, their results are highly comparable.
</p>
<p>The computational performance of setting up multiple samples can be increased
by parallel computing.  Since version 0.5.0, parallel computing in
<code>simFrame</code> is implemented using the package <code>parallel</code>, which is
part of the <span class="rlang"><b>R</b></span> base distribution since version 2.14.0 and builds upon work
done for the contributed packages <code>multicore</code> and <code>snow</code>.  Note
that all objects and packages required for the computations (including
<code>simFrame</code>) need to be made available on every worker process unless the
worker processes are created by forking (see
<code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>).
</p>
<p>In order to prevent problems with random numbers and to ensure
reproducibility, random number streams should be used.  With
<code>parallel</code>, random number streams can be created via the
function <code>clusterSetRNGStream()</code>.
</p>
<p>The control class <code>"SampleControl"</code> is highly flexible and allows
stratified sampling as well as sampling of whole groups rather than
individuals with a specified sampling method.  Hence it is often sufficient
to implement the desired sampling method for the simple non-stratified case
to extend the existing framework.  See <code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>
for some restrictions on the argument names of such a function, which should
return a vector containing the indices of the sampled observations.
</p>
<p>Nevertheless, for very complex sampling procedures, it is possible to define
a control class <code>"MySampleControl"</code> extending
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, and the corresponding method
<code>clusterSetup(cl, x, control)</code> with signature <code>'ANY, data.frame,
  MySampleControl'</code>.  In order to optimize computational performance, it is
necessary to efficiently set up multiple samples.  Thereby the slot <code>k</code>
of <code>"VirtualSampleControl"</code> needs to be used to control the number of
samples, and the resulting object must be of class
<code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"SampleSetup"</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>cl = "ANY", x = "data.frame", control = "character"</code></dt><dd><p>set up
multiple samples on a cluster using a control class specified
by the character string <code>control</code>.  The slots of the control object
may be supplied as additional arguments.</p>
</dd>
<dt><code>cl = "ANY", x = "data.frame", control = "missing"</code></dt><dd><p>set up
multiple samples on a cluster using a control object of class
<code>"SampleControl"</code>.  Its slots may be supplied as additional arguments.</p>
</dd>
<dt><code>cl = "ANY", x = "data.frame", control = "SampleControl"</code></dt><dd><p>set up
multiple samples on a cluster as defined by the control object
<code>control</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>
<p>L'Ecuyer, P., Simard, R., Chen E and Kelton, W. (2002) An Object-Oriented
Random-Number Package with Many Long Streams and Substreams. <em>Operations
Research</em>, <b>50</b>(6), 1073&ndash;1075.
</p>
<p>Rossini, A., Tierney L. and Li, N. (2007) Simple Parallel Statistical Computing
in <span class="rlang"><b>R</b></span>. <em>Journal of Computational and Graphical Statistics</em>, <b>16</b>(2),
399&ndash;420.
</p>
<p>Tierney, L., Rossini, A. and Li, N. (2009) <code>snow</code>: A Parallel Computing
Framework for the <span class="rlang"><b>R</b></span> System. <em>International Journal of Parallel
Programming</em>, <b>37</b>(1), 78&ndash;90.
</p>


<h3>See Also</h3>

<p><code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>,
<code><a href="parallel.html#topic+RngStream">clusterSetRNGStream</a></code>,
<code><a href="#topic+setup">setup</a></code>, <code><a href="#topic+draw">draw</a></code>,
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>,
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>,
<code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# these examples require at least a dual core processor

# load data
data(eusilcP)

# start cluster
cl &lt;- makeCluster(2, type = "PSOCK")

# load package and data on workers
clusterEvalQ(cl, {
        library(simFrame)
        data(eusilcP)
    })

# set up random number stream
clusterSetRNGStream(cl, iseed = "12345")

# simple random sampling
srss &lt;- clusterSetup(cl, eusilcP, size = 20, k = 4)
summary(srss)
draw(eusilcP[, c("id", "eqIncome")], srss, i = 1)

# group sampling
gss &lt;- clusterSetup(cl, eusilcP, grouping = "hid", size = 10, k = 4)
summary(gss)
draw(eusilcP[, c("hid", "id", "eqIncome")], gss, i = 2)

# stratified simple random sampling
ssrss &lt;- clusterSetup(cl, eusilcP, design = "region",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(ssrss)
draw(eusilcP[, c("id", "region", "eqIncome")], ssrss, i = 3)

# stratified group sampling
sgss &lt;- clusterSetup(cl, eusilcP, design = "region",
    grouping = "hid", size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(sgss)
draw(eusilcP[, c("hid", "id", "region", "eqIncome")], sgss, i = 4)

# stop cluster
stopCluster(cl)

## End(Not run)
</code></pre>

<hr>
<h2 id='contaminate'>Contaminate data</h2><span id='topic+contaminate'></span><span id='topic+contaminate-methods'></span><span id='topic+contaminate+2Cdata.frame+2Ccharacter-method'></span><span id='topic+contaminate+2Cdata.frame+2CContControl-method'></span><span id='topic+contaminate+2Cdata.frame+2Cmissing-method'></span>

<h3>Description</h3>

<p>Generic function for contaminating data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>contaminate(x, control, ...)

## S4 method for signature 'data.frame,ContControl'
contaminate(x, control, i)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contaminate_+3A_x">x</code></td>
<td>
<p>the data to be contaminated.</p>
</td></tr>
<tr><td><code id="contaminate_+3A_control">control</code></td>
<td>
<p>a control object of a class inheriting from the virtual class
<code>"VirtualContControl"</code> or a character string specifying such a control
class (the default being <code>"DCARContControl"</code>).</p>
</td></tr>
<tr><td><code id="contaminate_+3A_i">i</code></td>
<td>
<p>an integer giving the element of the slot <code>epsilon</code> of
<code>control</code> to be used as contamination level.</p>
</td></tr>
<tr><td><code id="contaminate_+3A_...">...</code></td>
<td>
<p>if <code>control</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code> and
<code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code> for details on the slots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With the control classes implemented in <span class="pkg">simFrame</span>, contamination is
modeled as a two-step process.  The first step is to select observations to
be contaminated, the second is to model the distribution of the outliers.
</p>
<p>In order to extend the framework by a user-defined control class
<code>"MyContControl"</code> (which must extend
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>), a method
<code>contaminate(x, control, i)</code> with signature
<code>'data.frame, MyContControl'</code> needs to be implemented.  In case the
contaminated observations need to be identified at a later stage of the
simulation, e.g., if conflicts with inserting missing values should be
avoided, a logical indicator variable <code>".contaminated"</code> should be added
to the returned data set.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the contaminated data.  In addition, the
column <code>".contaminated"</code>, which consists of logicals indicating the
contaminated observations, is added to the <code>data.frame</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "data.frame", control = "character"</code></dt><dd><p>contaminate data using
a control class specified by the character string <code>control</code>.  The
slots of the control object may be supplied as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", control = "ContControl"</code></dt><dd><p>contaminate data as
defined by the control object <code>control</code>.</p>
</dd>
<dt><code>x = "data.frame", control = "missing"</code></dt><dd><p>contaminate data using a
control object of class <code>"ContControl"</code>.  Its slots may be supplied as
additional arguments.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Since version 0.3, <code>contaminate</code> no longer checks if the auxiliary
variable with probability weights are numeric and contain only finite positive
values (<code><a href="base.html#topic+sample">sample</a></code> still throws an error in these cases).  This has
been removed to improve computational performance in simulation studies.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>
<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) Contamination Models in the <span class="rlang"><b>R</b></span>
Package <span class="pkg">simFrame</span> for Statistical Simulation. In Aivazian, S., Filzmoser,
P. and Kharin, Y. (editors) <em>Computer Data Analysis and Modeling: Complex
Stochastic Data and Systems</em>, volume 2, 178&ndash;181. Minsk. ISBN 978-985-476-848-9.
</p>
<p>Béguin, C. and Hulliger, B. (2008) The BACON-EEM Algorithm for
Multivariate Outlier Detection in Incomplete Survey Data. <em>Survey
Methodology</em>, <b>34</b>(1), 91&ndash;103.
</p>
<p>Hulliger, B. and Schoch, T. (2009) Robust Multivariate Imputation with Survey
Data. <em>57th Session of the International Statistical Institute</em>, Durban.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>, <code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>,
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, <code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## distributed completely at random
data(eusilcP)
sam &lt;- draw(eusilcP[, c("id", "eqIncome")], size = 20)

# using a control object
dcarc &lt;- ContControl(target = "eqIncome", epsilon = 0.05,
    dots = list(mean = 5e+05, sd = 10000), type = "DCAR")
contaminate(sam, dcarc)

# supply slots of control object as arguments
contaminate(sam, target = "eqIncome", epsilon = 0.05,
    dots = list(mean = 5e+05, sd = 10000))


## distributed at random
foo &lt;- generate(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))

# using a control object
darc &lt;- DARContControl(target = "V1",
    epsilon = 0.2, fun = function(x) x * 100)
contaminate(foo, darc)

# supply slots of control object as arguments
contaminate(foo, "DARContControl", target = "V1",
    epsilon = 0.2, fun = function(x) x * 100)
</code></pre>

<hr>
<h2 id='ContControl'>Create contamination control objects</h2><span id='topic+ContControl'></span><span id='topic+contControl'></span><span id='topic+contcontrol'></span><span id='topic+Contcontrol'></span>

<h3>Description</h3>

<p>Create objects of a class inheriting from <code>"ContControl"</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ContControl(..., type = c("DCAR", "DAR"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ContControl_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>new("DCARContControl", ...)</code> or
<code>new("DARContControl", ...)</code>, as determined by <code>type</code>.</p>
</td></tr>
<tr><td><code id="ContControl_+3A_type">type</code></td>
<td>
<p>a character string specifying whether a control object of class
<code>"DCARContControl"</code> or <code>"DARContControl"</code> should be created.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>type = "DCAR"</code>, an object of class <code>"DCARContControl"</code>.
</p>
<p>If <code>type = "DAR"</code>, an object of class <code>"DARContControl"</code>.
</p>


<h3>Note</h3>

<p>This constructor exists mainly for back compatibility with early draft
versions of <code>simFrame</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>, <code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>,
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## distributed completely at random
data(eusilcP)
sam &lt;- draw(eusilcP[, c("id", "eqIncome")], size = 20)
dcarc &lt;- ContControl(target = "eqIncome", epsilon = 0.05,
    dots = list(mean = 5e+05, sd = 10000), type = "DCAR")
contaminate(sam, dcarc)

## distributed at random
foo &lt;- generate(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))
darc &lt;- ContControl(target = "V1", epsilon = 0.2,
    fun = function(x) x * 100, type = "DAR")
contaminate(foo, darc)
</code></pre>

<hr>
<h2 id='ContControl-class'>Class &quot;ContControl&quot;</h2><span id='topic+ContControl-class'></span><span id='topic+getGrouping+2CContControl-method'></span><span id='topic+setGrouping+2CContControl-method'></span><span id='topic+getAux+2CContControl-method'></span><span id='topic+setAux+2CContControl-method'></span><span id='topic+show+2CContControl-method'></span><span id='topic+contControl-class'></span><span id='topic+contcontrol-class'></span><span id='topic+Contcontrol-class'></span>

<h3>Description</h3>

<p>Virtual class for controlling contamination in a simulation experiment (used
internally).
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Slots</h3>


<dl>
<dt><code>target</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code>; a character
vector specifying specifying the variables (columns) to be contaminated,
or <code>NULL</code> to contaminate all variables (except the additional ones
generated internally).</p>
</dd>
<dt><code>epsilon</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the
contamination levels.</p>
</dd>
<dt><code>grouping</code>:</dt><dd><p>Object of class <code>"character"</code> specifying a
grouping variable (column) to be used for contaminating whole groups
rather than individual observations.</p>
</dd>
<dt><code>aux</code>:</dt><dd><p>Object of class <code>"character"</code> specifying an
auxiliary variable (column) whose values are used as probability weights
for selecting the items (observations or groups) to be contaminated.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, directly.
Class <code>"<a href="#topic+OptContControl-class">OptContControl</a>"</code>, by class &quot;VirtualContControl&quot;,
distance 2.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>getGrouping</code></dt><dd><p><code>signature(x = "ContControl")</code>: get slot
<code>grouping</code>.</p>
</dd>
<dt><code>setGrouping</code></dt><dd><p><code>signature(x = "ContControl")</code>: set slot
<code>grouping</code>.</p>
</dd>
<dt><code>getAux</code></dt><dd><p><code>signature(x = "ContControl")</code>: get slot
<code>aux</code>.</p>
</dd>
<dt><code>setAux</code></dt><dd><p><code>signature(x = "ContControl")</code>: set slot
<code>aux</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>In addition to the methods inherited from
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>contaminate</code></dt><dd><p><code>signature(x = "data.frame",
      control = "ContControl")</code>: contaminate data.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "ContControl")</code>: print the
object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>The slot <code>grouping</code> was named <code>group</code> prior to version 0.2.
Renaming the slot was necessary since accessor and mutator functions were
introduced in this version and a function named <code>getGroup</code> already
exists.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>, <code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>,
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, <code><a href="#topic+contaminate">contaminate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("ContControl")
</code></pre>

<hr>
<h2 id='DARContControl-class'>Class &quot;DARContControl&quot;</h2><span id='topic+DARContControl-class'></span><span id='topic+DARContControl'></span><span id='topic+getFun+2CDARContControl-method'></span><span id='topic+setFun+2CDARContControl-method'></span><span id='topic+getDots+2CDARContControl-method'></span><span id='topic+setDots+2CDARContControl-method'></span><span id='topic+DARcontControl'></span><span id='topic+DARcontcontrol'></span><span id='topic+DARContcontrol'></span><span id='topic+DARcontControl-class'></span><span id='topic+DARcontcontrol-class'></span><span id='topic+DARContcontrol-class'></span><span id='topic+darcontControl'></span><span id='topic+darcontcontrol'></span><span id='topic+darContcontrol'></span><span id='topic+darcontControl-class'></span><span id='topic+darcontcontrol-class'></span><span id='topic+darContcontrol-class'></span>

<h3>Description</h3>

<p>Class for controlling contamination in a simulation experiment.  The values
of the contaminated observations will be distributed at random (<em>DAR</em>),
i.e., they will depend on on the original values.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("DARContControl", ...)</code>, <code>DARContControl(...)</code> or
<code>ContControl(..., type="DAR")</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>target</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code>; a character
vector specifying specifying the variables (columns) to be contaminated,
or <code>NULL</code> to contaminate all variables (except the additional ones
generated internally).</p>
</dd>
<dt><code>epsilon</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the
contamination levels.</p>
</dd>
<dt><code>grouping</code>:</dt><dd><p>Object of class <code>"character"</code> specifying a
grouping variable (column) to be used for contaminating whole groups
rather than individual observations.</p>
</dd>
<dt><code>aux</code>:</dt><dd><p>Object of class <code>"character"</code> specifying an
auxiliary variable (column) whose values are used as probability weights
for selecting the items (observations or groups) to be contaminated.</p>
</dd>
<dt><code>fun</code>:</dt><dd><p>Object of class <code>"function"</code> generating
the values of the contamination data.  The original values of the
observations to be contaminated will be passed as its first argument.
Furthermore, it should return an object that can be coerced to a
<code>data.frame</code>, containing the contamination data.</p>
</dd>
<dt><code>dots</code>:</dt><dd><p>Object of class <code>"list"</code> containing additional
arguments to be passed to <code>fun</code>.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, directly.
Class <code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, by class &quot;ContControl&quot;, distance 2.
Class <code>"<a href="#topic+OptContControl-class">OptContControl</a>"</code>, by class &quot;ContControl&quot;, distance 3.
</p>


<h3>Details</h3>

<p>With this control class, contamination is modeled as a two-step process.  The
first step is to select observations to be contaminated, the second is to
model the distribution of the outliers.  In this case, the original values
will be modified by the function given by slot <code>fun</code>, i.e., values of
the contaminated observations will depend on on the original values.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>getFun</code></dt><dd><p><code>signature(x = "DARContControl")</code>: get slot
<code>fun</code>.</p>
</dd>
<dt><code>setFun</code></dt><dd><p><code>signature(x = "DARContControl")</code>: set slot
<code>fun</code>.</p>
</dd>
<dt><code>getDots</code></dt><dd><p><code>signature(x = "DARContControl")</code>: get slot
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt><dd><p><code>signature(x = "DARContControl")</code>: set slot
<code>dots</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>Methods are inherited from <code>"<a href="#topic+ContControl-class">ContControl</a>"</code>.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>The slot <code>grouping</code> was named <code>group</code> prior to version 0.2.
Renaming the slot was necessary since accessor and mutator functions were
introduced in this version and a function named <code>getGroup</code> already
exists.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>
<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) Contamination Models in the <span class="rlang"><b>R</b></span>
Package <span class="pkg">simFrame</span> for Statistical Simulation. In Aivazian, S., Filzmoser,
P. and Kharin, Y. (editors) <em>Computer Data Analysis and Modeling: Complex
Stochastic Data and Systems</em>, volume 2, 178&ndash;181. Minsk. ISBN 978-985-476-848-9.
</p>
<p>Béguin, C. and Hulliger, B. (2008) The BACON-EEM Algorithm for
Multivariate Outlier Detection in Incomplete Survey Data. <em>Survey
Methodology</em>, <b>34</b>(1), 91&ndash;103.
</p>
<p>Hulliger, B. and Schoch, T. (2009) Robust Multivariate Imputation with Survey
Data. <em>57th Session of the International Statistical Institute</em>, Durban.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>, <code>"<a href="#topic+ContControl-class">ContControl</a>"</code>,
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, <code><a href="#topic+contaminate">contaminate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foo &lt;- generate(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))
cc &lt;- DARContControl(target = "V1",
    epsilon = 0.2, fun = function(x) x * 100)
contaminate(foo, cc)
</code></pre>

<hr>
<h2 id='DataControl-class'>Class &quot;DataControl&quot;</h2><span id='topic+DataControl-class'></span><span id='topic+DataControl'></span><span id='topic+getSize+2CDataControl-method'></span><span id='topic+setSize+2CDataControl-method'></span><span id='topic+getDistribution+2CDataControl-method'></span><span id='topic+setDistribution+2CDataControl-method'></span><span id='topic+getDots+2CDataControl-method'></span><span id='topic+setDots+2CDataControl-method'></span><span id='topic+getColnames+2CDataControl-method'></span><span id='topic+setColnames+2CDataControl-method'></span><span id='topic+show+2CDataControl-method'></span><span id='topic+dataControl-class'></span><span id='topic+datacontrol-class'></span><span id='topic+Datacontrol-class'></span><span id='topic+dataControl'></span><span id='topic+datacontrol'></span><span id='topic+Datacontrol'></span>

<h3>Description</h3>

<p>Class for controlling model-based generation of data.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("DataControl", ...)</code> or
<code>DataControl(...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>size</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the number of
observations to be generated.</p>
</dd>
<dt><code>distribution</code>:</dt><dd><p>Object of class <code>"function"</code> generating
the data, e.g., <code><a href="stats.html#topic+Normal">rnorm</a></code> (the default) or
<code>rmvnorm</code> from package <span class="pkg">mvtnorm</span>.  It should take a positive
integer as its first argument, giving the number of observations to be
generated, and return an object that can be coerced to a
<code>data.frame</code>.</p>
</dd>
<dt><code>dots</code>:</dt><dd><p>Object of class <code>"list"</code> containing additional
arguments to be passed to <code>distribution</code>.</p>
</dd>
<dt><code>colnames</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code> ; a character
vector to be used as column names for the generated <code>data.frame</code>, or
<code>NULL</code>.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+VirtualDataControl-class">VirtualDataControl</a>"</code>, directly.
Class <code>"<a href="#topic+OptDataControl-class">OptDataControl</a>"</code>, by class &quot;VirtualDataControl&quot;, distance 2.
</p>


<h3>Accessor and mutator methods</h3>


<dl>
<dt><code>getSize</code></dt><dd><p><code>signature(x = "DataControl")</code>: get slot
<code>size</code>.</p>
</dd>
<dt><code>setSize</code></dt><dd><p><code>signature(x = "DataControl")</code>: set slot
<code>size</code>.</p>
</dd>
<dt><code>getDistribution</code></dt><dd><p><code>signature(x = "DataControl")</code>: get slot
<code>distribution</code>.</p>
</dd>
<dt><code>setDistribution</code></dt><dd><p><code>signature(x = "DataControl")</code>: set slot
<code>distribution</code>.</p>
</dd>
<dt><code>getDots</code></dt><dd><p><code>signature(x = "DataControl")</code>: get slot
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt><dd><p><code>signature(x = "DataControl")</code>: set slot
<code>dots</code>.</p>
</dd>
<dt><code>getColnames</code></dt><dd><p><code>signature(x = "DataControl")</code>: get slot
<code>colnames</code>.</p>
</dd>
<dt><code>setColnames</code></dt><dd><p><code>signature(x = "DataControl")</code>: set slot
<code>colnames</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>In addition to the methods inherited from
<code>"<a href="#topic+VirtualDataControl-class">VirtualDataControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>generate</code></dt><dd><p><code>signature(control = "DataControl")</code>: generate
data.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "DataControl")</code>: print the
object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+VirtualDataControl-class">VirtualDataControl</a>"</code>, <code><a href="#topic+generate">generate</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>dc &lt;- DataControl(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))
generate(dc)
</code></pre>

<hr>
<h2 id='DCARContControl-class'>Class &quot;DCARContControl&quot;</h2><span id='topic+DCARContControl-class'></span><span id='topic+DCARContControl'></span><span id='topic+getDistribution+2CDCARContControl-method'></span><span id='topic+setDistribution+2CDCARContControl-method'></span><span id='topic+getDots+2CDCARContControl-method'></span><span id='topic+setDots+2CDCARContControl-method'></span><span id='topic+DCARcontControl'></span><span id='topic+DCARcontcontrol'></span><span id='topic+DCARContcontrol'></span><span id='topic+DCARcontControl-class'></span><span id='topic+DCARcontcontrol-class'></span><span id='topic+DCARContcontrol-class'></span><span id='topic+dcarcontControl'></span><span id='topic+dcarcontcontrol'></span><span id='topic+dcarContcontrol'></span><span id='topic+dcarcontControl-class'></span><span id='topic+dcarcontcontrol-class'></span><span id='topic+dcarContcontrol-class'></span>

<h3>Description</h3>

<p>Class for controlling contamination in a simulation experiment.  The values
of the contaminated observations will be distributed completely at random
(<em>DCAR</em>), i.e., they will not depend on on the original values.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("DCARContControl", ...)</code>, <code>DCARContControl(...)</code> or
<code>ContControl(..., type="DCAR")</code> (the latter exists mainly for back
compatibility with early draft versions of <code>simFrame</code>).
</p>


<h3>Slots</h3>


<dl>
<dt><code>target</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code>; a character
vector specifying specifying the variables (columns) to be contaminated,
or <code>NULL</code> to contaminate all variables (except the additional ones
generated internally).</p>
</dd>
<dt><code>epsilon</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the
contamination levels.</p>
</dd>
<dt><code>grouping</code>:</dt><dd><p>Object of class <code>"character"</code> specifying a
grouping variable (column) to be used for contaminating whole groups
rather than individual observations (the same values are used for all
observations in the same group).</p>
</dd>
<dt><code>aux</code>:</dt><dd><p>Object of class <code>"character"</code> specifying an
auxiliary variable (column) whose values are used as probability weights
for selecting the items (observations or groups) to be contaminated.</p>
</dd>
<dt><code>distribution</code>:</dt><dd><p>Object of class <code>"function"</code> generating
the values of the contamination data, e.g.,
<code><a href="stats.html#topic+Normal">rnorm</a></code> (the default) or <code>rmvnorm</code> from
package <span class="pkg">mvtnorm</span>.  It should take a non-negative integer as its
first argument, giving the number of items to be created, and return an
object that can be coerced to a <code>data.frame</code>, containing the
contamination data.</p>
</dd>
<dt><code>dots</code>:</dt><dd><p>Object of class <code>"list"</code> containing additional
arguments to be passed to <code>distribution</code>.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, directly.
Class <code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, by class &quot;ContControl&quot;, distance 2.
Class <code>"<a href="#topic+OptContControl-class">OptContControl</a>"</code>, by class &quot;ContControl&quot;, distance 3.
</p>


<h3>Details</h3>

<p>With this control class, contamination is modeled as a two-step process.  The
first step is to select observations to be contaminated, the second is to
model the distribution of the outliers.  In this case, the values of the
contaminated observations will be generated by the function given by slot
<code>fun</code> and will not depend on on the original values.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>getDistribution</code></dt><dd><p><code>signature(x = "DCARContControl")</code>: get
slot <code>distribution</code>.</p>
</dd>
<dt><code>setDistribution</code></dt><dd><p><code>signature(x = "DCARContControl")</code>: set
slot <code>distribution</code>.</p>
</dd>
<dt><code>getDots</code></dt><dd><p><code>signature(x = "DCARContControl")</code>: get slot
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt><dd><p><code>signature(x = "DCARContControl")</code>: set slot
<code>dots</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>Methods are inherited from <code>"<a href="#topic+ContControl-class">ContControl</a>"</code>.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>The slot <code>grouping</code> was named <code>group</code> prior to version 0.2.
Renaming the slot was necessary since accessor and mutator functions were
introduced in this version and a function named <code>getGroup</code> already
exists.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>
<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) Contamination Models in the <span class="rlang"><b>R</b></span>
Package <span class="pkg">simFrame</span> for Statistical Simulation. In Aivazian, S., Filzmoser,
P. and Kharin, Y. (editors) <em>Computer Data Analysis and Modeling: Complex
Stochastic Data and Systems</em>, volume 2, 178&ndash;181. Minsk. ISBN 978-985-476-848-9.
</p>
<p>Béguin, C. and Hulliger, B. (2008) The BACON-EEM Algorithm for
Multivariate Outlier Detection in Incomplete Survey Data. <em>Survey
Methodology</em>, <b>34</b>(1), 91&ndash;103.
</p>
<p>Hulliger, B. and Schoch, T. (2009) Robust Multivariate Imputation with Survey
Data. <em>57th Session of the International Statistical Institute</em>, Durban.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>, <code>"<a href="#topic+ContControl-class">ContControl</a>"</code>,
<code>"<a href="#topic+VirtualContControl-class">VirtualContControl</a>"</code>, <code><a href="#topic+contaminate">contaminate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)
sam &lt;- draw(eusilcP[, c("id", "eqIncome")], size = 20)
cc &lt;- DCARContControl(target = "eqIncome", epsilon = 0.05,
    dots = list(mean = 5e+05, sd = 10000))
contaminate(sam, cc)
</code></pre>

<hr>
<h2 id='draw'>Draw a sample</h2><span id='topic+draw'></span><span id='topic+draw-methods'></span><span id='topic+draw+2Cdata.frame+2Ccharacter-method'></span><span id='topic+draw+2Cdata.frame+2Cmissing-method'></span><span id='topic+draw+2Cdata.frame+2CSampleSetup-method'></span><span id='topic+draw+2Cdata.frame+2CVirtualSampleControl-method'></span>

<h3>Description</h3>

<p>Generic function for drawing a sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw(x, setup, ...)

## S4 method for signature 'data.frame,SampleSetup'
draw(x, setup, i = 1)

## S4 method for signature 'data.frame,VirtualSampleControl'
draw(x, setup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_+3A_x">x</code></td>
<td>
<p>the data to sample from.</p>
</td></tr>
<tr><td><code id="draw_+3A_setup">setup</code></td>
<td>
<p>an object of class <code>"SampleSetup"</code> containing previously
set up samples, a control object inheriting from the virtual class
<code>"VirtualSampleControl"</code> or a character string specifying such a
control class (the default being <code>"SampleControl"</code>).</p>
</td></tr>
<tr><td><code id="draw_+3A_i">i</code></td>
<td>
<p>an integer specifying which one of the previously set up samples
should be drawn.</p>
</td></tr>
<tr><td><code id="draw_+3A_...">...</code></td>
<td>
<p>if <code>setup</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code> for details on the slots.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the sampled observations.  In addition, the
column <code>".weight"</code>, which consists of the sample weights, is added to
the <code>data.frame</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "data.frame", setup = "character"</code></dt><dd><p>draw a sample using a
control class specified by the character string <code>setup</code>.  The slots of
the control object may be supplied as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", setup = "missing"</code></dt><dd><p>draw a sample using a
control object of class <code>"SampleControl"</code>.  Its slots may be supplied
as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", setup = "SampleSetup"</code></dt><dd><p>draw a previously set
up sample.</p>
</dd>
<dt><code>x = "data.frame", setup = "VirtualSampleControl"</code></dt><dd><p>draw a sample
using a control object inheriting from the virtual class
<code>"VirtualSampleControl"</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setup">setup</a></code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>,
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>,
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data(eusilcP)

## simple random sampling
draw(eusilcP[, c("id", "eqIncome")], size = 20)

## group sampling
draw(eusilcP[, c("hid", "id", "eqIncome")],
    grouping = "hid", size = 10)

## stratified simple random sampling
draw(eusilcP[, c("id", "region", "eqIncome")],
    design = "region", size = c(2, 5, 5, 3, 4, 5, 3, 5, 2))

## stratified group sampling
draw(eusilcP[, c("hid", "id", "region", "eqIncome")],
    design = "region", grouping = "hid",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2))
</code></pre>

<hr>
<h2 id='eusilcP'>
Synthetic EU-SILC data
</h2><span id='topic+eusilcP'></span><span id='topic+eusilcp'></span>

<h3>Description</h3>

<p>This data set is synthetically generated from real Austrian EU-SILC (European 
Union Statistics on Income and Living Conditions) data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(eusilcP)</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 58 654 observations on the following 28 variables:
</p>

<dl>
<dt><code>hid</code></dt><dd><p>integer; the household ID.</p>
</dd>
<dt><code>region</code></dt><dd><p>factor; the federal state in which the household is 
located (levels <code>Burgenland</code>, <code>Carinthia</code>, 
<code>Lower Austria</code>, <code>Salzburg</code>, <code>Styria</code>, <code>Tyrol</code>, 
<code>Upper Austria</code>, <code>Vienna</code> and <code>Vorarlberg</code>).</p>
</dd>
<dt><code>hsize</code></dt><dd><p>integer; the number of persons in the household.</p>
</dd>
<dt><code>eqsize</code></dt><dd><p>numeric; the equivalized household size according to 
the modified OECD scale.</p>
</dd>
<dt><code>eqIncome</code></dt><dd><p>numeric; a simplified version of the equivalized 
household income.</p>
</dd>
<dt><code>pid</code></dt><dd><p>integer; the personal ID.</p>
</dd>
<dt>id</dt><dd><p>the household ID combined with the personal ID.  The first five 
digits represent the household ID, the last two digits the personal ID 
(both with leading zeros).</p>
</dd>
<dt><code>age</code></dt><dd><p>integer; the person's age.</p>
</dd>
<dt><code>gender</code></dt><dd><p>factor; the person's gender (levels <code>male</code> and 
<code>female</code>).</p>
</dd>
<dt><code>ecoStat</code></dt><dd><p>factor; the person's economic status (levels 
<code>1</code> = working full time, <code>2</code> = working part time, <code>3</code> = 
unemployed, <code>4</code> = pupil, student, further training or unpaid work 
experience or in compulsory military or community service, <code>5</code> = in 
retirement or early retirement or has given up business, <code>6</code> = 
permanently disabled or/and unfit to work or other inactive person, 
<code>7</code> = fulfilling domestic tasks and care responsibilities).</p>
</dd>
<dt><code>citizenship</code></dt><dd><p>factor; the person's citizenship (levels 
<code>AT</code>, <code>EU</code> and <code>Other</code>).</p>
</dd>
<dt><code>py010n</code></dt><dd><p>numeric; employee cash or near cash income (net).</p>
</dd>
<dt><code>py050n</code></dt><dd><p>numeric; cash benefits or losses from self-employment 
(net).</p>
</dd>
<dt><code>py090n</code></dt><dd><p>numeric; unemployment benefits (net).</p>
</dd>
<dt><code>py100n</code></dt><dd><p>numeric; old-age benefits (net).</p>
</dd>
<dt><code>py110n</code></dt><dd><p>numeric; survivor's benefits (net).</p>
</dd>
<dt><code>py120n</code></dt><dd><p>numeric; sickness benefits (net).</p>
</dd>
<dt><code>py130n</code></dt><dd><p>numeric; disability benefits (net).</p>
</dd>
<dt><code>py140n</code></dt><dd><p>numeric; education-related allowances (net).</p>
</dd>
<dt><code>hy040n</code></dt><dd><p>numeric; income from rental of a property or land 
(net).</p>
</dd>
<dt><code>hy050n</code></dt><dd><p>numeric; family/children related allowances (net).</p>
</dd>
<dt><code>hy070n</code></dt><dd><p>numeric; housing allowances (net).</p>
</dd>
<dt><code>hy080n</code></dt><dd><p>numeric; regular inter-household cash transfer 
received (net).</p>
</dd>
<dt><code>hy090n</code></dt><dd><p>numeric; interest, dividends, profit from capital 
investments in unincorporated business (net).</p>
</dd>
<dt><code>hy110n</code></dt><dd><p>numeric; income received by people aged under 16 
(net).</p>
</dd>
<dt><code>hy130n</code></dt><dd><p>numeric; regular inter-household cash transfer paid 
(net).</p>
</dd>
<dt><code>hy145n</code></dt><dd><p>numeric; repayments/receipts for tax adjustment (net).</p>
</dd>
<dt><code>main</code></dt><dd><p>logical; indicates the main income holder (i.e., the 
person with the highest income) of each household.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data set is used as population data in some of the examples in package 
<code>simFrame</code>.  Note that it is included for illustrative purposes only.  It 
consists of 25 000 households, hence it does not represent the true population 
sizes of Austria and its regions.
</p>
<p>Only a few of the large number of variables in the original survey are included 
in this example data set.  Some variable names are different from the 
standardized names used by the statistical agencies, as the latter are rather 
cryptic codes.  Furthermore, the variables <code>hsize</code>, <code>eqsize</code>, 
<code>eqIncome</code> and <code>age</code> are not included in the standardized format of 
EU-SILC data, but have been derived from other variables for convenience.  
Moreover, some very sparse income components were not included in the the 
generation of this synthetic data set. Thus the equivalized household income is 
computed from the available income components.
</p>


<h3>Source</h3>

<p>This is a synthetic data set based on Austrian EU-SILC data from 2006.  The 
original sample was provided by Statistics Austria.
</p>


<h3>References</h3>

<p>Eurostat (2004) Description of target variables: Cross-sectional and 
longitudinal. <em>EU-SILC 065/04</em>, Eurostat.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)
summary(eusilcP)

strata &lt;- stratify(eusilcP, c("region", "gender"))
summary(strata)
</code></pre>

<hr>
<h2 id='generate'>Generate data</h2><span id='topic+generate'></span><span id='topic+generate-methods'></span><span id='topic+generate+2Ccharacter-method'></span><span id='topic+generate+2CDataControl-method'></span><span id='topic+generate+2Cmissing-method'></span>

<h3>Description</h3>

<p>Generic function for generating data based on a (distribution) model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate(control, ...)

## S4 method for signature 'DataControl'
generate(control)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_+3A_control">control</code></td>
<td>
<p>a control object inheriting from the virtual class
<code>"VirtualDataControl"</code> or a character string specifying such a
control class (the default being <code>"DataControl"</code>).</p>
</td></tr>
<tr><td><code id="generate_+3A_...">...</code></td>
<td>
<p>if <code>control</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"<a href="#topic+DataControl-class">DataControl</a>"</code> for details on the slots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The control class <code>"DataControl"</code> is quite simple but general.  For
user-defined data generation, it often suffices to implement a function and
use it as the <code>distribution</code> slot in the <code>"DataControl"</code> object.
See <code>"<a href="#topic+DataControl-class">DataControl</a>"</code> for some requirements for such a
function.
</p>
<p>However, if more specialized data generation models are required, the
framework can be extended by defining a control class <code>"MyDataControl"</code>
extending <code>"<a href="#topic+VirtualDataControl-class">VirtualDataControl</a>"</code> and the corresponding
method <code>generate(control)</code> with signature <code>'MyDataControl'</code>.  If,
e.g., a specific distribution or mixture of distributions is frequently used
in simulation experiments, a distinct control class may be more convenient
for the user.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>control = "character"</code></dt><dd><p>generate data using a control class
specified by the character string <code>control</code>.  The slots of the control
object may be supplied as additional arguments.</p>
</dd>
<dt><code>control = "missing"</code></dt><dd><p>generate data using a control object of
class <code>"DataControl"</code>.  Its slots may be supplied as additional
arguments.</p>
</dd>
<dt><code>control = "DataControl"</code></dt><dd><p>generate data as defined by the control
object <code>control</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DataControl-class">DataControl</a>"</code>, <code>"<a href="#topic+VirtualDataControl-class">VirtualDataControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using a control object
dc &lt;- DataControl(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))
generate(dc)

# supply slots of control object as arguments
generate(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))
</code></pre>

<hr>
<h2 id='head-methods'>Methods for returning the first parts of an object</h2><span id='topic+head-methods'></span><span id='topic+head+2CSampleSetup-method'></span><span id='topic+head+2CSimControl-method'></span><span id='topic+head+2CSimResults-method'></span><span id='topic+head+2CStrata-method'></span><span id='topic+head+2CVirtualContControl-method'></span><span id='topic+head+2CVirtualDataControl-method'></span><span id='topic+head+2CVirtualNAControl-method'></span><span id='topic+head+2CVirtualSampleControl-method'></span>

<h3>Description</h3>

<p>Return the first parts of an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SampleSetup'
head(x, k = 6, n = 6, ...)

## S4 method for signature 'SimControl'
head(x)

## S4 method for signature 'SimResults'
head(x, ...)

## S4 method for signature 'Strata'
head(x, ...)

## S4 method for signature 'VirtualContControl'
head(x)

## S4 method for signature 'VirtualDataControl'
head(x)

## S4 method for signature 'VirtualNAControl'
head(x)

## S4 method for signature 'VirtualSampleControl'
head(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="head-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="head-methods_+3A_k">k</code></td>
<td>
<p>for objects of class <code>"SampleSetup"</code>, the number of set up
samples to be kept in the resulting object.</p>
</td></tr>
<tr><td><code id="head-methods_+3A_n">n</code></td>
<td>
<p>for objects of class <code>"SampleSetup"</code>, the number of indices
to be kept in each of the set up samples in the resulting object.</p>
</td></tr>
<tr><td><code id="head-methods_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>x</code>, but in general smaller.  See the
&ldquo;Methods&rdquo; section below for details.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd><p>returns the first parts of set up
samples. The first <code>n</code> indices of each of the first <code>k</code> set up
samples are kept.</p>
</dd>
<dt><code>signature(x = "SimControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "SimResults")</code></dt><dd><p>returns the first parts of
simulation results.  The method of <code><a href="utils.html#topic+head">head</a></code> for the
<code>data.frame</code> in slot <code>values</code> is thereby called.</p>
</dd>
<dt><code>signature(x = "Strata")</code></dt><dd><p>returns the first parts of strata
information.  The method of <code><a href="utils.html#topic+head">head</a></code> for the vector in
slot <code>values</code> is thereby called and the slots <code>split</code> and
<code>size</code> are adapted accordingly.</p>
</dd>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualDataControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualSampleControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+head">head</a></code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>,
<code>"<a href="#topic+SimResults-class">SimResults</a>"</code>, <code>"<a href="#topic+Strata-class">Strata</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data(eusilcP)

## class "SampleSetup"
# set up samples using group sampling
set &lt;- setup(eusilcP, grouping = "hid", size = 1000, k = 50)
summary(set)
# get the first 10 indices of each of the first 5 samples
head(set, k = 5, n = 10)

## class "Strata"
# set up samples using group sampling
strata &lt;- stratify(eusilcP, "region")
summary(strata)
# get strata information for the first 10 observations
head(strata, 10)
</code></pre>

<hr>
<h2 id='inclusionProb'>Inclusion probabilities</h2><span id='topic+inclusionProb'></span><span id='topic+inclusionprob'></span><span id='topic+InclusionProb'></span><span id='topic+inclusionprob'></span>

<h3>Description</h3>

<p>Get the first-order inclusion probabilities from a vector of probability
weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inclusionProb(prob, size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inclusionProb_+3A_prob">prob</code></td>
<td>
<p>a numeric vector of non-negative probability weights.</p>
</td></tr>
<tr><td><code id="inclusionProb_+3A_size">size</code></td>
<td>
<p>a non-negative integer giving the sample size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of the first-order inclusion probabilities.
</p>


<h3>Note</h3>

<p>This is a faster C++ implementation of
<code>inclusionprobabilities</code> from package <code>sampling</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code><a href="#topic+setup">setup</a></code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pweights &lt;- sample(1:5, 25, replace = TRUE)
inclusionProb(pweights, 10)
</code></pre>

<hr>
<h2 id='length-methods'>Methods for getting the length of an object</h2><span id='topic+length-methods'></span><span id='topic+length+2CSampleSetup-method'></span><span id='topic+length+2CVirtualContControl-method'></span><span id='topic+length+2CVirtualNAControl-method'></span><span id='topic+length+2CVirtualSampleControl-method'></span>

<h3>Description</h3>

<p>Get the length of an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SampleSetup'
length(x)

## S4 method for signature 'VirtualContControl'
length(x)

## S4 method for signature 'VirtualNAControl'
length(x)

## S4 method for signature 'VirtualSampleControl'
length(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="length-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer giving the length of the object.  See the &ldquo;Methods&rdquo; section 
below for details. 
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd><p>get the number of set up samples.</p>
</dd>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd><p>get the number of 
contamination levels to be used.</p>
</dd>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd><p>get the number of missing 
value rates to be used (the length in case of a vector in slot 
<code>NArate</code> or the number of rows in case of a matrix).</p>
</dd>
<dt><code>signature(x = "VirtualSampleControl")</code></dt><dd><p>get the number of samples 
to be set up.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+length">length</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data(eusilcP)

## class "SampleSetup"
# set up samples using group sampling
set &lt;- setup(eusilcP, grouping = "hid", size = 1000, k = 50)
summary(set)
length(set)

## class "ContControl"
cc &lt;- ContControl(target = "eqIncome", 
    epsilon = c(0, 0.0025, 0.005, 0.0075, 0.01), 
    dots = list(mean = 5e+05, sd = 10000))
length(cc)

## class "NAControl"
nc &lt;- NAControl(target = "eqIncome", NArate = c(0.1, 0.2, 0.3))
length(nc)
</code></pre>

<hr>
<h2 id='NAControl-class'>Class &quot;NAControl&quot;</h2><span id='topic+NAControl-class'></span><span id='topic+NAControl'></span><span id='topic+getGrouping+2CNAControl-method'></span><span id='topic+setGrouping+2CNAControl-method'></span><span id='topic+getAux+2CNAControl-method'></span><span id='topic+setAux+2CNAControl-method'></span><span id='topic+getIntoContamination+2CNAControl-method'></span><span id='topic+setIntoContamination+2CNAControl-method'></span><span id='topic+show+2CNAControl-method'></span><span id='topic+NAcontrol-class'></span><span id='topic+naControl-class'></span><span id='topic+nacontrol-class'></span><span id='topic+NAcontrol'></span><span id='topic+naControl'></span><span id='topic+nacontrol'></span>

<h3>Description</h3>

<p>Class for controlling the insertion of missing values in a simulation
experiment.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("NAControl", ...)</code> or
<code>NAControl(...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>target</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code>; a character
vector specifying the variables (columns) in which missing values should
be inserted, or <code>NULL</code> to insert missing values in all variables
(except the additional ones generated internally).</p>
</dd>
<dt><code>NArate</code>:</dt><dd><p>Object of class <code>"NumericMatrix"</code> giving the
missing value rates, which may be selected individually for the target
variables. In case of a vector, the same missing value rates are used for
all target variables. In case of a matrix, on the other hand, the missing
value rates to be used for each target variable are given by the
respective column.</p>
</dd>
<dt><code>grouping</code>:</dt><dd><p>Object of class <code>"character"</code> specifying a
grouping variable (column) to be used for setting whole groups to
<code>NA</code> rather than individual values.</p>
</dd>
<dt><code>aux</code>:</dt><dd><p>Object of class <code>"character"</code> specifying auxiliary
variables (columns) whose values are used as probability weights for
selecting the values to be set to <code>NA</code> in the respective target
variables.  If only one variable (column) is specified, it is used for
all target variables.</p>
</dd>
<dt><code>intoContamination</code>:</dt><dd><p>Object of class <code>"logical"</code>
indicating whether missing values should also be inserted into
contaminated observations.  The default is to insert missing values only
into non-contaminated observations.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>, directly.
Class <code>"<a href="#topic+OptNAControl-class">OptNAControl</a>"</code>, by class &quot;VirtualNAControl&quot;,
distance 2.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from
<code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>getGrouping</code></dt><dd><p><code>signature(x = "NAControl")</code>: get slot
<code>grouping</code>.</p>
</dd>
<dt><code>setGrouping</code></dt><dd><p><code>signature(x = "NAControl")</code>: set slot
<code>grouping</code>.</p>
</dd>
<dt><code>getAux</code></dt><dd><p><code>signature(x = "NAControl")</code>: get slot
<code>aux</code>.</p>
</dd>
<dt><code>setAux</code></dt><dd><p><code>signature(x = "NAControl")</code>: set slot
<code>aux</code>.</p>
</dd>
<dt><code>getIntoContamination</code></dt><dd><p><code>signature(x = "NAControl")</code>: get
slot <code>intoContamination</code>.</p>
</dd>
<dt><code>setIntoContamination</code></dt><dd><p><code>signature(x = "NAControl")</code>: set
slot <code>intoContamination</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>In addition to the methods inherited from
<code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>setNA</code></dt><dd><p><code>signature(x = "data.frame",
      control = "NAControl")</code>: set missing values.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "NAControl")</code>: print the object
on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>Since version 0.3, this control class now allows to specify an auxiliary
variable with probability weights for each target variable.
</p>
<p>The slot <code>grouping</code> was named <code>group</code> prior to version 0.2.
Renaming the slot was necessary since accessor and mutator functions were
introduced in this version and a function named <code>getGroup</code> already
exists.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>, <code><a href="#topic+setNA">setNA</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)
eusilcP$age[eusilcP$age &lt; 0] &lt;- 0  # this actually occurs
sam &lt;- draw(eusilcP[, c("id", "age", "eqIncome")], size = 20)

## missing completely at random
mcarc &lt;- NAControl(target = "eqIncome", NArate = 0.2)
setNA(sam, mcarc)

## missing at random
marc &lt;- NAControl(target = "eqIncome", NArate = 0.2, aux = "age")
setNA(sam, marc)

## missing not at random
mnarc &lt;- NAControl(target = "eqIncome",
    NArate = 0.2, aux = "eqIncome")
setNA(sam, mnarc)
</code></pre>

<hr>
<h2 id='NumericMatrix-class'>Class &quot;NumericMatrix&quot;</h2><span id='topic+NumericMatrix-class'></span><span id='topic+numericMatrix-class'></span><span id='topic+Numericmatrix-class'></span><span id='topic+numericmatrix-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"NumericMatrix"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("NumericMatrix")
</code></pre>

<hr>
<h2 id='OptBasicVector-class'>Class &quot;OptBasicVector&quot;</h2><span id='topic+OptBasicVector-class'></span><span id='topic+optBasicVector-class'></span><span id='topic+optbasicVector-class'></span><span id='topic+optBasicvector-class'></span><span id='topic+optbasicvector-class'></span><span id='topic+OptbasicVector-class'></span><span id='topic+Optsbasicvector-class'></span><span id='topic+OptBasicvector-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptBasicVector"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptBasicVector")
</code></pre>

<hr>
<h2 id='OptCall-class'>Class &quot;OptCall&quot;</h2><span id='topic+OptCall-class'></span><span id='topic+optCall-class'></span><span id='topic+optcall-class'></span><span id='topic+Optcall-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptCall"</code> in the signature.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptCall")
</code></pre>

<hr>
<h2 id='OptCharacter-class'>Class &quot;OptCharacter&quot;</h2><span id='topic+OptCharacter-class'></span><span id='topic+optCharacter-class'></span><span id='topic+optcharacter-class'></span><span id='topic+Optcharacter-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptCharacter"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptCharacter")
</code></pre>

<hr>
<h2 id='OptContControl-class'>Class &quot;OptContControl&quot;</h2><span id='topic+OptContControl-class'></span><span id='topic+optContControl-class'></span><span id='topic+optcontControl-class'></span><span id='topic+optContcontrol-class'></span><span id='topic+optcontcontrol-class'></span><span id='topic+OptcontControl-class'></span><span id='topic+Optcontcontrol-class'></span><span id='topic+OptContcontrol-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptContControl"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SimControl-class">SimControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptContControl")
</code></pre>

<hr>
<h2 id='OptDataControl-class'>Class &quot;OptDataControl&quot;</h2><span id='topic+OptDataControl-class'></span><span id='topic+optDataControl-class'></span><span id='topic+optdataControl-class'></span><span id='topic+optDatacontrol-class'></span><span id='topic+optdatacontrol-class'></span><span id='topic+OptdataControl-class'></span><span id='topic+Optdatacontrol-class'></span><span id='topic+OptDatacontrol-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptDataControl"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptDataControl")
</code></pre>

<hr>
<h2 id='OptNAControl-class'>Class &quot;OptNAControl&quot;</h2><span id='topic+OptNAControl-class'></span><span id='topic+optNAControl-class'></span><span id='topic+optnaControl-class'></span><span id='topic+optNAcontrol-class'></span><span id='topic+optnacontrol-class'></span><span id='topic+OptnaControl-class'></span><span id='topic+Optnacontrol-class'></span><span id='topic+OptNAcontrol-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptNAControl"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SimControl-class">SimControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptNAControl")
</code></pre>

<hr>
<h2 id='OptNumeric-class'>Class &quot;OptNumeric&quot;</h2><span id='topic+OptNumeric-class'></span><span id='topic+optNumeric-class'></span><span id='topic+optnumeric-class'></span><span id='topic+Optnumeric-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptNumeric"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptNumeric")
</code></pre>

<hr>
<h2 id='OptSampleControl-class'>Class &quot;OptSampleControl&quot;</h2><span id='topic+OptSampleControl-class'></span><span id='topic+optSampleControl-class'></span><span id='topic+optsampleControl-class'></span><span id='topic+optSamplecontrol-class'></span><span id='topic+optsamplecontrol-class'></span><span id='topic+OptsampleControl-class'></span><span id='topic+Optsamplecontrol-class'></span><span id='topic+OptSamplecontrol-class'></span>

<h3>Description</h3>

<p>Virtual class used internally for convenience.</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Methods</h3>

<p>No methods defined with class <code>"OptSampleControl"</code> in the signature.
</p>


<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("OptSampleControl")
</code></pre>

<hr>
<h2 id='plot-methods'>Plot simulation results</h2><span id='topic+plot-methods'></span><span id='topic+plot+2CSimResults+2Cmissing-method'></span>

<h3>Description</h3>

<p>Plot simulation results.  A suitable plot function is selected
automatically, depending on the structure of the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SimResults,missing'
plot(x, y , ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot-methods_+3A_x">x</code></td>
<td>
<p>the simulation results.</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_y">y</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to the selected plot function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>.  The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to update
components of the object and the <code><a href="lattice.html#topic+print.trellis">print</a></code>
method (usually called by default) will plot it on an appropriate plotting
device.
</p>


<h3>Details</h3>

<p>The results of simulation experiments with at most one contamination level
and at most one missing value rate are visualized by (conditional)
box-and-whisker plots.  For simulations involving different contamination
levels or missing value rates, the average results are plotted against the
contamination levels or missing value rates.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "SimResults", y = "missing"</code></dt><dd><p>plot simulation results.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simBwplot">simBwplot</a></code>, <code><a href="#topic+simDensityplot">simDensityplot</a></code>,
<code><a href="#topic+simXyplot">simXyplot</a></code>, <code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

## run simulation
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)

## plot results
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
plot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

## run simulation
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)

## plot results
plot(results, true = means)
</code></pre>

<hr>
<h2 id='runSimulation'>Run a simulation experiment</h2><span id='topic+runSimulation'></span><span id='topic+runSimulation-methods'></span><span id='topic+runSimulation+2CANY+2CANY+2CANY+2Cmissing-method'></span><span id='topic+runSimulation+2Cdata.frame+2Cmissing+2Cmissing+2CSimControl-method'></span><span id='topic+runSimulation+2Cdata.frame+2Cmissing+2Cnumeric+2CSimControl-method'></span><span id='topic+runSimulation+2Cdata.frame+2CSampleSetup+2Cmissing+2CSimControl-method'></span><span id='topic+runSimulation+2Cdata.frame+2CVirtualSampleControl+2Cmissing+2CSimControl-method'></span><span id='topic+runSimulation+2CVirtualDataControl+2Cmissing+2Cmissing+2CSimControl-method'></span><span id='topic+runSimulation+2CVirtualDataControl+2Cmissing+2Cnumeric+2CSimControl-method'></span><span id='topic+runSimulation+2CVirtualDataControl+2CVirtualSampleControl+2Cmissing+2CSimControl-method'></span><span id='topic+runSimulation+2CVirtualDataControl+2CVirtualSampleControl+2Cnumeric+2CSimControl-method'></span><span id='topic+runSim'></span><span id='topic+runsimulation'></span><span id='topic+Runsimulation'></span><span id='topic+RunSimulation'></span><span id='topic+runsimulation-methods'></span><span id='topic+Runsimulation-methods'></span><span id='topic+RunSimulation-methods'></span>

<h3>Description</h3>

<p>Generic function for running a simulation experiment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runSimulation(x, setup, nrep, control, contControl = NULL,
              NAControl = NULL, design = character(), fun, ...,
              SAE = FALSE)

runSim(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runSimulation_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> (for design-based simulation or simulation based
on real data) or a control object for data generation inheriting from
<code>"VirtualDataControl"</code> (for model-based simulation or mixed simulation
designs).</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_setup">setup</code></td>
<td>
<p>an object of class <code>"SampleSetup"</code>, containing previously
set up samples, or a control class for setting up samples inheriting
from <code>"VirtualSampleControl"</code>.</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_nrep">nrep</code></td>
<td>
<p>a non-negative integer giving the number of repetitions of the
simulation experiment (for model-based simulation, mixed simulation designs
or simulation based on real data).</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_control">control</code></td>
<td>
<p>a control object of class <code>"SimControl"</code></p>
</td></tr>
<tr><td><code id="runSimulation_+3A_contcontrol">contControl</code></td>
<td>
<p>an object of a class inheriting from
<code>"VirtualContControl"</code>, controlling contamination in the simulation
experiment.</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_nacontrol">NAControl</code></td>
<td>
<p>an object of a class inheriting from
<code>"VirtualNAControl"</code>, controlling the insertion of missing values in
the simulation experiment.</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_design">design</code></td>
<td>
<p>a character vector specifying variables (columns) to be used
for splitting the data into domains.  The simulations, including
contamination and the insertion of missing values (unless <code>SAE=TRUE</code>),
are then performed on every domain.</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_fun">fun</code></td>
<td>
<p>a function to be applied in each simulation run.</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_...">...</code></td>
<td>
<p>for <code>runSimulation</code>, additional arguments to be passed
to <code>fun</code>.  For <code>runSim</code>, arguments to be passed to
<code>runSimulation</code>.</p>
</td></tr>
<tr><td><code id="runSimulation_+3A_sae">SAE</code></td>
<td>
<p>a logical indicating whether small area estimation will be used in
the simulation experiment.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For convenience, the slots of <code>control</code> may be supplied as arguments.
</p>
<p>There are some requirements for slot <code>fun</code> of the control object
<code>control</code>.  The function must return a numeric vector, or a list with
the two components <code>values</code> (a numeric vector) and <code>add</code>
(additional results of any class, e.g., statistical models).  Note that the
latter is computationally slightly more expensive.  A <code>data.frame</code> is
passed to <code>fun</code> in every simulation run.  The corresponding argument
must be called <code>x</code>.  If comparisons with the original data need to be
made, e.g., for evaluating the quality of imputation methods, the function
should have an argument called <code>orig</code>.  If different domains are used
in the simulation, the indices of the current domain can be passed to the
function via an argument called <code>domain</code>.
</p>
<p>For small area estimation, the following points have to be kept in mind.  The
<code>design</code> for splitting the data must be supplied and <code>SAE</code>
must be set to <code>TRUE</code>.  However, the data are not actually split into
the specified domains.  Instead, the whole data set (sample) is passed to
<code>fun</code>.  Also contamination and missing values are added to the whole
data (sample).  Last, but not least, the function must have a <code>domain</code>
argument so that the current domain can be extracted from the whole data
(sample).
</p>
<p>In every simulation run, <code>fun</code> is evaluated using <code>try</code>.  Hence
no results are lost if computations fail in any of the simulation runs.
</p>
<p><code>runSim</code> is a wrapper for <code>runSimulation</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"SimResults"</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "ANY", setup = "ANY", nrep = "ANY", control = "missing"</code></dt><dd>
<p>convenience wrapper that allows the slots of <code>control</code> to be supplied
as arguments</p>
</dd>
<dt><code>x = "data.frame", setup = "missing", nrep = "missing",
    control = "SimControl"</code></dt><dd><p>run a simulation experiment based on real data
without repetitions (probably useless, but for completeness).</p>
</dd>
<dt><code>x = "data.frame", setup = "missing", nrep = "numeric",
    control = "SimControl"</code></dt><dd><p>run a simulation experiment based on real data
with repetitions.</p>
</dd>
<dt><code>x = "data.frame", setup = "SampleSetup", nrep = "missing",
    control = "SimControl"</code></dt><dd><p>run a design-based simulation experiment with
previously set up samples.</p>
</dd>
<dt><code>x = "data.frame", setup = "VirtualSampleControl",
    nrep = "missing", control = "SimControl"</code></dt><dd><p>run a design-based simulation
experiment.</p>
</dd>
<dt><code>x = "VirtualDataControl", setup = "missing", nrep = "missing",
    control = "SimControl"</code></dt><dd><p>run a model-based simulation experiment without
repetitions (probably useless, but for completeness).</p>
</dd>
<dt><code>x = "VirtualDataControl", setup = "missing", nrep = "numeric",
    control = "SimControl"</code></dt><dd><p>run a model-based simulation experiment with
repetitions.</p>
</dd>
<dt><code>x = "VirtualDataControl", setup = "VirtualSampleControl",
    nrep = "missing", control = "SimControl"</code></dt><dd><p>run a simulation experiment
using a mixed simulation design without repetitions (probably useless, but
for completeness).</p>
</dd>
<dt><code>x = "VirtualDataControl", setup = "VirtualSampleControl",
    nrep = "numeric", control = "SimControl"</code></dt><dd><p>run a simulation experiment
using a mixed simulation design with repetitions.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SimControl-class">SimControl</a>"</code>, <code>"<a href="#topic+SimResults-class">SimResults</a>"</code>,
<code><a href="#topic+simBwplot">simBwplot</a></code>, <code><a href="#topic+simDensityplot">simDensityplot</a></code>, <code><a href="#topic+simXyplot">simXyplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

## run simulation and explore results
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)
head(results)
aggregate(results)
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
plot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

## run simulation and explore results
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)
head(results)
aggregate(results)
plot(results, true = means)
</code></pre>

<hr>
<h2 id='SampleControl-class'>Class &quot;SampleControl&quot;</h2><span id='topic+SampleControl-class'></span><span id='topic+SampleControl'></span><span id='topic+getDesign+2CSampleControl-method'></span><span id='topic+setDesign+2CSampleControl-method'></span><span id='topic+getGrouping+2CSampleControl-method'></span><span id='topic+setGrouping+2CSampleControl-method'></span><span id='topic+getCollect+2CSampleControl-method'></span><span id='topic+setCollect+2CSampleControl-method'></span><span id='topic+getFun+2CSampleControl-method'></span><span id='topic+setFun+2CSampleControl-method'></span><span id='topic+getSize+2CSampleControl-method'></span><span id='topic+setSize+2CSampleControl-method'></span><span id='topic+getProb+2CSampleControl-method'></span><span id='topic+setProb+2CSampleControl-method'></span><span id='topic+getDots+2CSampleControl-method'></span><span id='topic+setDots+2CSampleControl-method'></span><span id='topic+show+2CSampleControl-method'></span><span id='topic+sampleControl-class'></span><span id='topic+samplecontrol-class'></span><span id='topic+Samplecontrol-class'></span><span id='topic+sampleControl'></span><span id='topic+samplecontrol'></span><span id='topic+Samplecontrol'></span>

<h3>Description</h3>

<p>Class for controlling the setup of samples.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("SampleControl", ...)</code>
or <code>SampleControl(...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>design</code>:</dt><dd><p>Object of class <code>"BasicVector"</code> specifying
variables (columns) to be used for stratified sampling.</p>
</dd>
<dt><code>grouping</code>:</dt><dd><p>Object of class <code>"BasicVector"</code> specifying a
grouping variable (column) to be used for sampling whole groups rather
than individual observations.</p>
</dd>
<dt><code>collect</code>:</dt><dd><p>Object of class <code>"logical"</code>; if  a grouping
variable is specified and this is <code>FALSE</code> (which is the default
value), groups are sampled directly.  If grouping variable is specified
and this is <code>TRUE</code>, individuals are sampled in a first step.  In a
second step, all individuals that belong to the same group as any of the
sampled individuals are collected and added to the sample.  If no
grouping variable is specified, this is ignored.</p>
</dd>
<dt><code>fun</code>:</dt><dd><p>Object of class <code>"function"</code> to be used for
sampling (defaults to <code><a href="#topic+srs">srs</a></code>).  It should return a vector
containing the indices of the sampled items (observations or groups).</p>
</dd>
<dt><code>size</code>:</dt><dd><p>Object of class <code>"OptNumeric"</code>; an optional
non-negative integer giving the number of items (observations or groups)
to sample.  In case of stratified sampling, a vector of non-negative
integers, each giving the number of items to sample from the
corresponding stratum, may be supplied.</p>
</dd>
<dt><code>prob</code>:</dt><dd><p>Object of class <code>"OptBasicVector"</code>; an optional
numeric vector giving the probability weights, or a character string or
logical vector specifying a variable (column) that contains the
probability weights.</p>
</dd>
<dt><code>dots</code>:</dt><dd><p>Object of class <code>"list"</code> containing additional
arguments to be passed to <code>fun</code>.</p>
</dd>
<dt><code>k</code>:</dt><dd><p>Object of class <code>"numeric"</code>; a single positive
integer giving the number of samples to be set up.</p>
</dd>
</dl>



<h3>Details</h3>

<p>There are some restrictions on the argument names of the function
supplied to <code>fun</code>.  If it needs population data as input,
the corresponding argument should be called <code>x</code> and should expect
a <code>data.frame</code>.  If the sampling method only needs the population size
as input, the argument should be called <code>N</code>.  Note that <code>fun</code> is
not expected to have both <code>x</code> and <code>N</code> as arguments, and that the
latter is much faster for stratified sampling or group sampling.
Furthermore, if the function has arguments for sample size and probability
weights, they should be called <code>size</code> and <code>prob</code>, respectively.
Note that a function with <code>prob</code> as its only argument is perfectly valid
(for probability proportional to size sampling).  Further arguments of
<code>fun</code> may be supplied as a list via the slot <code>dots</code>.
</p>


<h3>Extends</h3>

<p>Class <code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, directly.
Class <code>"<a href="#topic+OptSampleControl-class">OptSampleControl</a>"</code>, by class &quot;VirtualSampleControl&quot;, distance 2.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>getDesign</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>design</code>.</p>
</dd>
<dt><code>setDesign</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>design</code>.</p>
</dd>
<dt><code>getGrouping</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>grouping</code>.</p>
</dd>
<dt><code>setGrouping</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>grouping</code>.</p>
</dd>
<dt><code>getCollect</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>collect</code>.</p>
</dd>
<dt><code>setCollect</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>collect</code>.</p>
</dd>
<dt><code>getFun</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>fun</code>.</p>
</dd>
<dt><code>setFun</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>fun</code>.</p>
</dd>
<dt><code>getSize</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>size</code>.</p>
</dd>
<dt><code>setSize</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>size</code>.</p>
</dd>
<dt><code>getProb</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>prob</code>.</p>
</dd>
<dt><code>setProb</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>prob</code>.</p>
</dd>
<dt><code>getDots</code></dt><dd><p><code>signature(x = "SampleControl")</code>: get slot
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt><dd><p><code>signature(x = "SampleControl")</code>: set slot
<code>dots</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>In addition to the methods inherited from
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>clusterSetup</code></dt><dd><p><code>signature(cl = "ANY", x = "data.frame",
      control = "SampleControl")</code>: set up multiple samples on a cluster.</p>
</dd>
<dt><code>setup</code></dt><dd><p><code>signature(x = "data.frame",
      control = "SampleControl")</code>: set up multiple samples.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "SampleControl")</code>: print the
object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>The slots <code>grouping</code> and <code>fun</code> were named <code>group</code> and
<code>method</code>, respectively, prior to version 0.2.  Renaming the slots was
necessary since accessor and mutator functions were introduced in this
version and functions named <code>getGroup</code>, <code>getMethod</code> and
<code>setMethod</code> already exist.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>,
<code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>,
<code><a href="#topic+setup">setup</a></code>, <code><a href="#topic+draw">draw</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)

## simple random sampling
srsc &lt;- SampleControl(size = 20)
draw(eusilcP[, c("id", "eqIncome")], srsc)

## group sampling
gsc &lt;- SampleControl(grouping = "hid", size = 10)
draw(eusilcP[, c("hid", "hid", "eqIncome")], gsc)

## stratified simple random sampling
ssrsc &lt;- SampleControl(design = "region",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2))
draw(eusilcP[, c("id", "region", "eqIncome")], ssrsc)

## stratified group sampling
sgsc &lt;- SampleControl(design = "region", grouping = "hid",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2))
draw(eusilcP[, c("hid", "id", "region", "eqIncome")], sgsc)
</code></pre>

<hr>
<h2 id='SampleSetup-class'>Class &quot;SampleSetup&quot;</h2><span id='topic+SampleSetup-class'></span><span id='topic+SampleSetup'></span><span id='topic+getIndices+2CSampleSetup-method'></span><span id='topic+getProb+2CSampleSetup-method'></span><span id='topic+getControl+2CSampleSetup-method'></span><span id='topic+getSeed+2CSampleSetup-method'></span><span id='topic+getCall+2CSampleSetup-method'></span><span id='topic+show+2CSampleSetup-method'></span><span id='topic+sampleSetup-class'></span><span id='topic+samplesetup-class'></span><span id='topic+Samplesetup-class'></span><span id='topic+sampleSetup'></span><span id='topic+samplesetup'></span><span id='topic+Samplesetup'></span>

<h3>Description</h3>

<p>Class for set up samples.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("SampleSetup", ...)</code> or
<code>SampleSetup(...)</code>.
</p>
<p>However, objects are expected to be created by the function <code><a href="#topic+setup">setup</a></code>
or <code><a href="#topic+clusterSetup">clusterSetup</a></code>, these constructor functions are not supposed to
be called by the user.
</p>


<h3>Slots</h3>


<dl>
<dt><code>indices</code>:</dt><dd><p>Object of class <code>"list"</code>; each list element
contains the indices of the sampled observations.</p>
</dd>
<dt><code>prob</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the
inclusion probabilities.</p>
</dd>
<dt><code>control</code>:</dt><dd><p>Object of class <code>"VirtualSampleControl"</code>; the
control object used to set up the samples.</p>
</dd>
<dt><code>seed</code>:</dt><dd><p>Object of class <code>"list"</code> containing the seeds of
the random number generator before and after setting up the samples,
respectively (for replication purposes).</p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"SimCall"</code>; the function call
used to set up the samples, or <code>NULL</code>.</p>
</dd>
</dl>



<h3>Accessor methods</h3>


<dl>
<dt><code>getIndices</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: get slot
<code>indices</code>.</p>
</dd>
<dt><code>getProb</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: get slot
<code>prob</code>.</p>
</dd>
<dt><code>getControl</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: get slot
<code>control</code>.</p>
</dd>
<dt><code>getSeed</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: get slot
<code>seed</code>.</p>
</dd>
<dt><code>getCall</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: get slot
<code>call</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "data.frame", setup = "SampleSetup", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>draw</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "SampleSetup")</code>: draw a sample.</p>
</dd>
<dt><code>head</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: returns the first
parts of set up samples.</p>
</dd>
<dt><code>length</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: get the number of
set up samples.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "SampleSetup", nrep = "missing", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "SampleSetup")</code>: print set up
samples on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "SampleSetup")</code>: produce a
summary of set up samples.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "SampleSetup")</code>: returns the last
parts of set up samples.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>There are no mutator methods available since the slots are not supposed to
be changed by the user.
</p>
<p>Furthermore, the slot <code>seed</code> was added in version 0.2, and the slot
<code>control</code> was added in version 0.3.  Since the control object used to
set up the samples is now stored, the redundant slots <code>design</code>,
<code>grouping</code>, <code>collect</code> and <code>fun</code> were removed.  This has been
done as preparation for additional control classes for sampling, which will
be introduced in future versions.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>,
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>,
<code><a href="#topic+setup">setup</a></code>, <code><a href="#topic+draw">draw</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("SampleSetup")
</code></pre>

<hr>
<h2 id='sampling'>Random sampling</h2><span id='topic+srs'></span><span id='topic+ups'></span><span id='topic+brewer'></span><span id='topic+midzuno'></span><span id='topic+tille'></span>

<h3>Description</h3>

<p>Functions for random sampling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>srs(N, size, replace = FALSE)

ups(N, size, prob, replace = FALSE)

brewer(prob, eps = 1e-06)

midzuno(prob, eps = 1e-06)

tille(prob, eps = 1e-06)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sampling_+3A_n">N</code></td>
<td>
<p>a non-negative integer giving the number of observations from
which to sample.</p>
</td></tr>
<tr><td><code id="sampling_+3A_size">size</code></td>
<td>
<p>a non-negative integer giving the number of observations to
sample.</p>
</td></tr>
<tr><td><code id="sampling_+3A_prob">prob</code></td>
<td>
<p>for <code>ups</code>, a numeric vector giving the probability weights
(see <code><a href="base.html#topic+sample">sample</a></code>).  For <code>tille</code> and <code>midzuno</code>, a vector
of inclusion probabilities (see <code><a href="#topic+inclusionProb">inclusionProb</a></code>).</p>
</td></tr>
<tr><td><code id="sampling_+3A_replace">replace</code></td>
<td>
<p>a logical indicating whether sampling should be performed
with or without replacement.</p>
</td></tr>
<tr><td><code id="sampling_+3A_eps">eps</code></td>
<td>
<p>a numeric control value giving the desired accuracy.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>srs</code> and <code>ups</code> are wrappers for simple random sampling and
unequal probability sampling, respectively. Both functions make use of
<code><a href="base.html#topic+sample">sample</a></code>.
</p>
<p><code>brewer</code>, <code>midzuno</code> and <code>tille</code> perform Brewer's, Midzuno's and
Tillé's method, respectively, for unequal probability sampling
without replacement and fixed sample size.
</p>


<h3>Value</h3>

<p>An integer vector giving the indices of the sampled observations.
</p>


<h3>Note</h3>

<p><code>brewer</code>, <code>midzuno</code> and <code>tille</code> are faster C++ implementations
of <code>UPbrewer</code>, <code>UPmidzuno</code> and <code>UPtille</code>, respectively, from
package <code>sampling</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Brewer, K. (1975), A simple procedure for sampling <code class="reqn">\pi</code> pswor,
Australian Journal of Statistics, <b>17</b>(3), 166-172.
</p>
<p>Midzuno, H. (1952) On the sampling system with probability proportional to sum
of size. <em>Annals of the Institute of Statistical Mathematics</em>,
<b>3</b>(2), 99&ndash;107.
</p>
<p>Tillé, Y. (1996) An elimination procedure of unequal probability
sampling without replacement. <em>Biometrika</em>, <b>83</b>(1), 238&ndash;241.
</p>
<p>Deville, J.-C. and Tillé, Y. (1998) Unequal probability sampling
without replacement through a splitting method. <em>Biometrika</em>,
<b>85</b>(1), 89&ndash;101.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>,
<code><a href="#topic+setup">setup</a></code>, <code><a href="#topic+inclusionProb">inclusionProb</a></code>, <code><a href="base.html#topic+sample">sample</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## simple random sampling
# without replacement
srs(10, 5)
# with replacement
srs(5, 10, replace = TRUE)

## unequal probability sampling
# without replacement
ups(10, 5, prob = 1:10)
# with replacement
ups(5, 10, prob = 1:5, replace = TRUE)

## Brewer, Midzuno and Tille sampling
# define inclusion probabilities
prob &lt;- c(0.2,0.7,0.8,0.5,0.4,0.4)
# Brewer sampling
brewer(prob)
# Midzuno sampling
midzuno(prob)
# Tille sampling
tille(prob)
</code></pre>

<hr>
<h2 id='setNA'>Set missing values</h2><span id='topic+setNA'></span><span id='topic+setNA-methods'></span><span id='topic+setNA+2Cdata.frame+2Ccharacter-method'></span><span id='topic+setNA+2Cdata.frame+2Cmissing-method'></span><span id='topic+setNA+2Cdata.frame+2CNAControl-method'></span><span id='topic+setna'></span><span id='topic+SetNA'></span><span id='topic+Setna'></span><span id='topic+setna-methods'></span><span id='topic+SetNA-methods'></span><span id='topic+Setna-methods'></span>

<h3>Description</h3>

<p>Generic function for inserting missing values into data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>setNA(x, control, ...)

## S4 method for signature 'data.frame,NAControl'
setNA(x, control, i)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setNA_+3A_x">x</code></td>
<td>
<p>the data in which missing values should be inserted.</p>
</td></tr>
<tr><td><code id="setNA_+3A_control">control</code></td>
<td>
<p>a control object inheriting from the virtual class
<code>"VirtualNAControl"</code> or a character string specifying such a control
class (the default being <code>"NAControl"</code>).</p>
</td></tr>
<tr><td><code id="setNA_+3A_i">i</code></td>
<td>
<p>an integer giving the element or row of the slot <code>NArate</code> of
<code>control</code> to be used as missing value rate(s).</p>
</td></tr>
<tr><td><code id="setNA_+3A_...">...</code></td>
<td>
<p>if <code>control</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"<a href="#topic+NAControl-class">NAControl</a>"</code> for details on the slots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In order to extend the framework by a user-defined control class
<code>"MyNAControl"</code> (which must extend
<code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>), a method
<code>setNA(x, control, i)</code> with signature <code>'data.frame, MyNAControl'</code>
needs to be implemented.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the data with missing values.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "data.frame", control = "character"</code></dt><dd><p>set missing values
using a control class specified by the character string <code>control</code>.
The slots of the control object may be supplied as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", control = "missing"</code></dt><dd><p>set missing values using
a control object of class <code>"NAControl"</code>.  Its slots may be supplied as
additional arguments.</p>
</dd>
<dt><code>x = "data.frame", control = "NAControl"</code></dt><dd><p>set missing values as
defined by the control object <code>control</code>.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Since version 0.3, <code>setNA</code> no longer checks if auxiliary variable(s)
with probability weights are numeric and contain only finite positive values
(<code><a href="base.html#topic+sample">sample</a></code> still throws an error in these cases).  This has been
removed to improve computational performance in simulation studies.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+NAControl-class">NAControl</a>"</code>, <code>"<a href="#topic+VirtualNAControl-class">VirtualNAControl</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)
eusilcP$age[eusilcP$age &lt; 0] &lt;- 0  # this actually occurs
sam &lt;- draw(eusilcP[, c("id", "age", "eqIncome")], size = 20)


## using control objects
# missing completely at random
mcarc &lt;- NAControl(target = "eqIncome", NArate = 0.2)
setNA(sam, mcarc)

# missing at random
marc &lt;- NAControl(target = "eqIncome", NArate = 0.2, aux = "age")
setNA(sam, marc)

# missing not at random
mnarc &lt;- NAControl(target = "eqIncome",
    NArate = 0.2, aux = "eqIncome")
setNA(sam, mnarc)


## supply slots of control object as arguments
# missing completely at random
setNA(sam, target = "eqIncome", NArate = 0.2)

# missing at random
setNA(sam, target = "eqIncome", NArate = 0.2, aux = "age")

# missing not at random
setNA(sam, target = "eqIncome", NArate = 0.2, aux = "eqIncome")
</code></pre>

<hr>
<h2 id='setup'>Set up multiple samples</h2><span id='topic+setup'></span><span id='topic+setup-methods'></span><span id='topic+setup+2Cdata.frame+2Ccharacter-method'></span><span id='topic+setup+2Cdata.frame+2Cmissing-method'></span><span id='topic+setup+2Cdata.frame+2CSampleControl-method'></span><span id='topic+setup+2Cdata.frame+2CTwoStageControl-method'></span>

<h3>Description</h3>

<p>Generic function for setting up multiple samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup(x, control, ...)

## S4 method for signature 'data.frame,SampleControl'
setup(x, control)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setup_+3A_x">x</code></td>
<td>
<p>the data to sample from.</p>
</td></tr>
<tr><td><code id="setup_+3A_control">control</code></td>
<td>
<p>a control object inheriting from the virtual class
<code>"VirtualSampleControl"</code> or a character string specifying such a
control class (the default being <code>"SampleControl"</code>).</p>
</td></tr>
<tr><td><code id="setup_+3A_...">...</code></td>
<td>
<p>if <code>control</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code> for details on the slots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A fundamental design principle of the framework in the case of design-based
simulation studies is that the sampling procedure is separated from the
simulation procedure.  Two main advantages arise from setting up all samples
in advance.
</p>
<p>First, the repeated sampling reduces overall computation time dramatically in
certain situations, since computer-intensive tasks like stratification need
to be performed only once.  This is particularly relevant for large
population data.  In close-to-reality simulation studies carried out in
research projects in survey statistics, often up to 10000 samples are drawn
from a population of millions of individuals with stratified sampling
designs.  For such large data sets, stratification takes a considerable
amount of time and is a very memory-intensive task.  If the samples are taken
on-the-fly, i.e., in every simulation run one sample is drawn, the function
to take the stratified sample would typically split the population into the
different strata in each of the 10000 simulation runs.  If all samples are
drawn in advance, on the other hand, the population data need to be split
only once and all 10000 samples can be taken from the respective strata
together.
</p>
<p>Second, the samples can be stored permanently, which simplifies the
reproduction of simulation results and may help to maximize comparability of
results obtained by different partners in a research project.  In particular,
this is useful for large population data, when complex sampling techniques
may be very time-consuming.  In research projects involving different
partners, usually different groups investigate different kinds of estimators.
If the two groups use not only the same population data, but also the same
previously set up samples, their results are highly comparable.
</p>
<p>The control class <code>"SampleControl"</code> is highly flexible and allows
stratified sampling as well as sampling of whole groups rather than
individuals with a specified sampling method.  Hence it is often sufficient
to implement the desired sampling method for the simple non-stratified case
to extend the existing framework.  See <code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>
for some restrictions on the argument names of such a function, which should
return a vector containing the indices of the sampled observations.
</p>
<p>Nevertheless, for very complex sampling procedures, it is possible to define
a control class <code>"MySampleControl"</code> extending
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, and the corresponding method
<code>setup(x, control)</code> with signature <code>'data.frame, MySampleControl'</code>.
In order to optimize computational performance, it is necessary to
efficiently set up multiple samples.  Thereby the slot <code>k</code> of
<code>"VirtualSampleControl"</code> needs to be used to control the number of
samples, and the resulting object must be of class
<code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"SampleSetup"</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "data.frame", control = "character"</code></dt><dd><p>set up multiple samples
using a control class specified by the character string <code>control</code>.
The slots of the control object may be supplied as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", control = "missing"</code></dt><dd><p>set up multiple samples
using a control object of class <code>"SampleControl"</code>.  Its slots may be
supplied as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", control = "SampleControl"</code></dt><dd><p>set up multiple
samples as defined by the control object <code>control</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simSample">simSample</a></code>, <code><a href="#topic+draw">draw</a></code>,
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>,
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>,
<code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## simple random sampling
srss &lt;- setup(eusilcP, size = 20, k = 4)
summary(srss)
draw(eusilcP[, c("id", "eqIncome")], srss, i = 1)

## group sampling
gss &lt;- setup(eusilcP, grouping = "hid", size = 10, k = 4)
summary(gss)
draw(eusilcP[, c("hid", "id", "eqIncome")], gss, i = 2)

## stratified simple random sampling
ssrss &lt;- setup(eusilcP, design = "region",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(ssrss)
draw(eusilcP[, c("id", "region", "eqIncome")], ssrss, i = 3)

## stratified group sampling
sgss &lt;- setup(eusilcP, design = "region",
    grouping = "hid", size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(sgss)
draw(eusilcP[, c("hid", "id", "region", "eqIncome")], sgss, i = 4)
</code></pre>

<hr>
<h2 id='simApply'>Apply a function to subsets</h2><span id='topic+simApply'></span><span id='topic+simApply-methods'></span><span id='topic+simApply+2Cdata.frame+2CBasicVector+2Cfunction-method'></span><span id='topic+simApply+2Cdata.frame+2CStrata+2Cfunction-method'></span><span id='topic+simSapply'></span><span id='topic+simSapply-methods'></span><span id='topic+simSapply+2Cdata.frame+2CBasicVector+2Cfunction-method'></span><span id='topic+simSapply+2Cdata.frame+2CStrata+2Cfunction-method'></span><span id='topic+simapply'></span><span id='topic+Simapply'></span><span id='topic+SimApply'></span><span id='topic+simapply-methods'></span><span id='topic+Simapply-methods'></span><span id='topic+SimApply-methods'></span><span id='topic+simsapply'></span><span id='topic+Simsapply'></span><span id='topic+SimSapply'></span><span id='topic+simsapply-methods'></span><span id='topic+Simsapply-methods'></span><span id='topic+SimSapply-methods'></span>

<h3>Description</h3>

<p>Generic functions for applying a function to subsets of a data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simApply(x, design, fun, ...)

simSapply(x, design, fun, ..., simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simApply_+3A_x">x</code></td>
<td>
<p>the <code>data.frame</code> to be subsetted.</p>
</td></tr>
<tr><td><code id="simApply_+3A_design">design</code></td>
<td>
<p>a character, logical or numeric vector specifying the variables 
(columns) used for subsetting.</p>
</td></tr>
<tr><td><code id="simApply_+3A_fun">fun</code></td>
<td>
<p>a function to be applied to the subsets.</p>
</td></tr>
<tr><td><code id="simApply_+3A_simplify">simplify</code></td>
<td>
<p>a logical indicating whether the results should be 
simplified to a vector or matrix (if possible).</p>
</td></tr>
<tr><td><code id="simApply_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to <code>fun</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>simApply</code> a <code>data.frame</code>.
</p>
<p>For <code>simSapply</code>, a list, vector or matrix (see <code><a href="base.html#topic+sapply">sapply</a></code>).
</p>


<h3>Methods for function simApply</h3>


<dl>
<dt><code>x = "data.frame", design = "BasicVector", fun = "function"</code></dt><dd><p>apply 
a function to subsets given by the variables (columns) in <code>design</code>.</p>
</dd>
<dt><code>x = "data.frame", design = "Strata", fun = "function"</code></dt><dd><p>apply a 
function to subsets given by <code>design</code>.</p>
</dd>
</dl>



<h3>Methods for function simSapply</h3>


<dl>
<dt><code>x = "data.frame", design = "BasicVector", fun = "function"</code></dt><dd><p>apply 
a function to subsets given by the variables (columns) in <code>design</code>.</p>
</dd>
<dt><code>x = "data.frame", design = "Strata", fun = "function"</code></dt><dd><p>apply a 
function to subsets given by <code>design</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sapply">sapply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)
eusilcP &lt;- eusilcP[, c("region", "gender", "eqIncome")]

## returns data.frame
simApply(eusilcP, c("region", "gender"), 
    function(x) median(x$eqIncome))

## returns vector
simSapply(eusilcP, c("region", "gender"), 
    function(x) median(x$eqIncome))
</code></pre>

<hr>
<h2 id='simBwplot'>Box-and-whisker plots</h2><span id='topic+simBwplot'></span><span id='topic+simBwplot-methods'></span><span id='topic+simBwplot+2CSimResults-method'></span><span id='topic+simbwplot'></span><span id='topic+SimBwplot'></span><span id='topic+SimBwplot'></span><span id='topic+simbwplot-methods'></span><span id='topic+SimBwplot-methods'></span><span id='topic+SimBwplot-methods'></span>

<h3>Description</h3>

<p>Generic function for producing box-and-whisker plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simBwplot(x, ...)

## S4 method for signature 'SimResults'
simBwplot(x, true = NULL, epsilon, NArate, select, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simBwplot_+3A_x">x</code></td>
<td>
<p>the object to be plotted.  For plotting simulation results, this
must be an object of class <code>"SimResults"</code>.</p>
</td></tr>
<tr><td><code id="simBwplot_+3A_true">true</code></td>
<td>
<p>a numeric vector giving the true values.  If supplied,
reference lines are drawn in the corresponding panels.</p>
</td></tr>
<tr><td><code id="simBwplot_+3A_epsilon">epsilon</code></td>
<td>
<p>a numeric vector specifying contamination levels.  If
supplied, the values corresponding to these contamination levels are
extracted from the simulation results and plotted.</p>
</td></tr>
<tr><td><code id="simBwplot_+3A_narate">NArate</code></td>
<td>
<p>a numeric vector specifying missing value rates.  If
supplied, the values corresponding to these missing value rates are
extracted from the simulation results and plotted.</p>
</td></tr>
<tr><td><code id="simBwplot_+3A_select">select</code></td>
<td>
<p>a character vector specifying the columns to be plotted.  It
must be a subset of the <code>colnames</code> slot of <code>x</code>, which is the
default.</p>
</td></tr>
<tr><td><code id="simBwplot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to methods and eventually
to <code><a href="lattice.html#topic+xyplot">bwplot</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For simulation results with multiple contamination levels or missing value
rates, conditional box-and-whisker plots are produced.
</p>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>.  The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to update
components of the object and the <code><a href="lattice.html#topic+print.trellis">print</a></code>
method (usually called by default) will plot it on an appropriate plotting
device.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "SimResults"</code></dt><dd><p>produce box-and-whisker plots of simulation
results.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Functionality for producing conditional box-and-whisker plots was added in
version 0.2.  Prior to that, the function gave an error message if simulation
results with multiple contamination levels or missing value rates were
supplied.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simDensityplot">simDensityplot</a></code>, <code><a href="#topic+simXyplot">simXyplot</a></code>,
<code><a href="lattice.html#topic+xyplot">bwplot</a></code>, <code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

## run simulation
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)

## plot results
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
simBwplot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

## run simulation
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)

## plot results
simBwplot(results, true = means)
</code></pre>

<hr>
<h2 id='SimControl-class'>Class &quot;SimControl&quot;</h2><span id='topic+SimControl-class'></span><span id='topic+SimControl'></span><span id='topic+getContControl+2CSimControl-method'></span><span id='topic+setContControl+2CSimControl-method'></span><span id='topic+getNAControl+2CSimControl-method'></span><span id='topic+setNAControl+2CSimControl-method'></span><span id='topic+getDesign+2CSimControl-method'></span><span id='topic+setDesign+2CSimControl-method'></span><span id='topic+getFun+2CSimControl-method'></span><span id='topic+setFun+2CSimControl-method'></span><span id='topic+getDots+2CSimControl-method'></span><span id='topic+setDots+2CSimControl-method'></span><span id='topic+getSAE+2CSimControl-method'></span><span id='topic+setSAE+2CSimControl-method'></span><span id='topic+show+2CSimControl-method'></span><span id='topic+simControl-class'></span><span id='topic+simcontrol-class'></span><span id='topic+Simcontrol-class'></span><span id='topic+simControl'></span><span id='topic+simcontrol'></span><span id='topic+Simcontrol'></span>

<h3>Description</h3>

<p>Class for controlling how simulation runs are performed.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("SimControl", ...)</code> or
<code>SimControl(...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>contControl</code>:</dt><dd><p>Object of class <code>"OptContControl"</code>; a
control object for contamination, or <code>NULL</code>.</p>
</dd>
<dt><code>NAControl</code>:</dt><dd><p>Object of class <code>"OptNAControl"</code>; a control
object for inserting missing values, or <code>NULL</code>.</p>
</dd>
<dt><code>design</code>:</dt><dd><p>Object of class <code>"character"</code> specifying
variables (columns) to be used for splitting the data into domains.  The
simulations, including contamination and the insertion of missing values
(unless <code>SAE=TRUE</code>), are then performed on every domain.</p>
</dd>
<dt><code>fun</code>:</dt><dd><p>Object of class <code>"function"</code> to be applied in each
simulation run.</p>
</dd>
<dt><code>dots</code>:</dt><dd><p>Object of class <code>"list"</code> containing additional
arguments to be passed to <code>fun</code>.</p>
</dd>
<dt><code>SAE</code>:</dt><dd><p>Object of class <code>"logical"</code> indicating whether
small area estimation will be used in the simulation experiment.</p>
</dd>
</dl>



<h3>Details</h3>

<p>There are some requirements for <code>fun</code>.  It must return a numeric vector,
or a list with the two components <code>values</code> (a numeric vector) and
<code>add</code> (additional results of any class, e.g., statistical models).
Note that the latter is computationally slightly more expensive.  A
<code>data.frame</code> is passed to <code>fun</code> in every simulation run.  The
corresponding argument must be called <code>x</code>.  If comparisons with the
original data need to be made, e.g., for evaluating the quality of imputation
methods, the function should have an argument called <code>orig</code>.  If
different domains are used in the simulation, the indices of the current
domain can be passed to the function via an argument called <code>domain</code>.
</p>
<p>For small area estimation, the following points have to be kept in mind.  The
<code>design</code> for splitting the data must be supplied and <code>SAE</code>
must be set to <code>TRUE</code>.  However, the data are not actually split into
the specified domains.  Instead, the whole data set (sample) is passed to
<code>fun</code>.  Also contamination and missing values are added to the whole
data (sample).  Last, but not least, the function must have a <code>domain</code>
argument so that the current domain can be extracted from the whole data
(sample).
</p>
<p>In every simulation run, <code>fun</code> is evaluated using <code>try</code>.  Hence
no results are lost if computations fail in any of the simulation runs.
</p>


<h3>Accessor and mutator methods</h3>


<dl>
<dt><code>getContControl</code></dt><dd><p><code>signature(x = "SimControl")</code>: get slot
<code>ContControl</code>.</p>
</dd>
<dt><code>setContControl</code></dt><dd><p><code>signature(x = "SimControl")</code>: set slot
<code>ContControl</code>.</p>
</dd>
<dt><code>getNAControl</code></dt><dd><p><code>signature(x = "SimControl")</code>: get slot
<code>NAControl</code>.</p>
</dd>
<dt><code>setNAControl</code></dt><dd><p><code>signature(x = "SimControl")</code>: set slot
<code>NAControl</code>.</p>
</dd>
<dt><code>getDesign</code></dt><dd><p><code>signature(x = "SimControl")</code>: get slot
<code>design</code>.</p>
</dd>
<dt><code>setDesign</code></dt><dd><p><code>signature(x = "SimControl")</code>: set slot
<code>design</code>.</p>
</dd>
<dt><code>getFun</code></dt><dd><p><code>signature(x = "SimControl")</code>: get slot
<code>fun</code>.</p>
</dd>
<dt><code>setFun</code></dt><dd><p><code>signature(x = "SimControl")</code>: set slot
<code>fun</code>.</p>
</dd>
<dt><code>getDots</code></dt><dd><p><code>signature(x = "SimControl")</code>: get slot
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt><dd><p><code>signature(x = "SimControl")</code>: set slot
<code>dots</code>.</p>
</dd>
<dt><code>getSAE</code></dt><dd><p><code>signature(x = "SimControl")</code>: get slot
<code>SAE</code>.</p>
</dd>
<dt><code>setSAE</code></dt><dd><p><code>signature(x = "SimControl")</code>: set slot
<code>SAE</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "data.frame", setup = "missing", nrep = "numeric",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "data.frame", setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "data.frame", setup = "SampleSetup", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "VirtualDataControl", setup = "missing", nrep = "numeric",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "VirtualDataControl", setup = "VirtualSampleControl",
      nrep = "numeric", control = "SimControl")</code>: run a simulation experiment
on a cluster.</p>
</dd>
<dt><code>head</code></dt><dd><p><code>signature(x = "SimControl")</code>: currently returns
the object itself.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "SampleSetup", nrep = "missing", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "missing", nrep = "numeric", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "missing", nrep = "missing", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "missing", nrep = "numeric", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "missing", nrep = "missing", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "VirtualSampleControl", nrep = "numeric",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "SimControl")</code>: print the
object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "SimControl")</code>: currently
returns the object itself.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "SimControl")</code>: currently returns
the object itself.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runSimulation">runSimulation</a></code>, <code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

## combine these to "SimControl" object and run simulation
ctrl &lt;- SimControl(contControl = cc, fun = sim)
results &lt;- runSimulation(eusilcP, sc, control = ctrl)

## explore results
head(results)
aggregate(results)
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
plot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

## combine these to "SimControl" object and run simulation
ctrl &lt;- SimControl(contControl = cc, design = "group", fun = sim)
results &lt;- runSimulation(dc, nrep = 50, control = ctrl)

## explore results
head(results)
aggregate(results)
plot(results, true = means)
</code></pre>

<hr>
<h2 id='simDensityplot'>Kernel density plots</h2><span id='topic+simDensityplot'></span><span id='topic+simDensityplot-methods'></span><span id='topic+simDensityplot+2CSimResults-method'></span><span id='topic+simdensityplot'></span><span id='topic+SimDensityplot'></span><span id='topic+Simdensityplot'></span><span id='topic+simdensityplot-methods'></span><span id='topic+SimDensityplot-methods'></span><span id='topic+Simdensityplot-methods'></span>

<h3>Description</h3>

<p>Generic function for producing kernel density plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simDensityplot(x, ...)

## S4 method for signature 'SimResults'
simDensityplot(x, true = NULL, epsilon, NArate, select, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simDensityplot_+3A_x">x</code></td>
<td>
<p>the object to be plotted.  For plotting simulation results, this
must be an object of class <code>"SimResults"</code>.</p>
</td></tr>
<tr><td><code id="simDensityplot_+3A_true">true</code></td>
<td>
<p>a numeric vector giving the true values.  If supplied,
reference lines are drawn in the corresponding panels.</p>
</td></tr>
<tr><td><code id="simDensityplot_+3A_epsilon">epsilon</code></td>
<td>
<p>a numeric vector specifying contamination levels.  If
supplied, the values corresponding to these contamination levels are
extracted from the simulation results and plotted.</p>
</td></tr>
<tr><td><code id="simDensityplot_+3A_narate">NArate</code></td>
<td>
<p>a numeric vector specifying missing value rates.  If
supplied, the values corresponding to these missing value rates are
extracted from the simulation results and plotted.</p>
</td></tr>
<tr><td><code id="simDensityplot_+3A_select">select</code></td>
<td>
<p>a character vector specifying the columns to be plotted.  It
must be a subset of the <code>colnames</code> slot of <code>x</code>, which is the
default.</p>
</td></tr>
<tr><td><code id="simDensityplot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to methods and eventually
to <code><a href="lattice.html#topic+histogram">densityplot</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For simulation results with multiple contamination levels or missing value
rates, conditional kernel density plots are produced.
</p>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>.  The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to update
components of the object and the <code><a href="lattice.html#topic+print.trellis">print</a></code>
method (usually called by default) will plot it on an appropriate plotting
device.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "SimResults"</code></dt><dd><p>produce kernel density plots of simulation
results.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Functionality for producing conditional kernel density plots was added in
version 0.2.  Prior to that, the function gave an error message if simulation
results with multiple contamination levels or missing value rates were
supplied.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simBwplot">simBwplot</a></code>, <code><a href="#topic+simXyplot">simXyplot</a></code>,
<code><a href="lattice.html#topic+histogram">densityplot</a></code>,
<code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome", epsilon = 0.02,
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.02))
}

## run simulation
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)

## plot results
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
simDensityplot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = 0.02, dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.02),
        median = median(x$value))
}

## run simulation
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)

## plot results
simDensityplot(results, true = means)
</code></pre>

<hr>
<h2 id='SimResults-class'>Class &quot;SimResults&quot;</h2><span id='topic+SimResults-class'></span><span id='topic+SimResults'></span><span id='topic+getValues+2CSimResults-method'></span><span id='topic+getAdd+2CSimResults-method'></span><span id='topic+getDesign+2CSimResults-method'></span><span id='topic+getColnames+2CSimResults-method'></span><span id='topic+getEpsilon+2CSimResults-method'></span><span id='topic+getNArate+2CSimResults-method'></span><span id='topic+getDataControl+2CSimResults-method'></span><span id='topic+getSampleControl+2CSimResults-method'></span><span id='topic+getNrep+2CSimResults-method'></span><span id='topic+getControl+2CSimResults-method'></span><span id='topic+getSeed+2CSimResults-method'></span><span id='topic+getCall+2CSimResults-method'></span><span id='topic+show+2CSimResults-method'></span><span id='topic+simResults-class'></span><span id='topic+simresults-class'></span><span id='topic+Simresults-class'></span><span id='topic+simResults'></span><span id='topic+simresults'></span><span id='topic+Simresults'></span>

<h3>Description</h3>

<p>Class for simulation results.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("SimResults", ...)</code> or
<code>SimResults(...)</code>.
</p>
<p>However, objects are expected to be created by the function
<code><a href="#topic+runSimulation">runSimulation</a></code> or <code><a href="#topic+clusterRunSimulation">clusterRunSimulation</a></code>, these
constructor functions are not supposed to be called by the user.
</p>


<h3>Slots</h3>


<dl>
<dt><code>values</code>:</dt><dd><p>Object of class <code>"data.frame"</code> containing the
simulation results.</p>
</dd>
<dt><code>add</code>:</dt><dd><p>Object of class <code>"list"</code> containing additional
simulation results, e.g., statistical models.</p>
</dd>
<dt><code>design</code>:</dt><dd><p>Object of class <code>"character"</code> giving the
variables (columns) defining the domains used in the simulation
experiment.</p>
</dd>
<dt><code>colnames</code>:</dt><dd><p>Object of class <code>"character"</code> giving the names
of the columns of <code>values</code> that contain the actual simulation
results.</p>
</dd>
<dt><code>epsilon</code>:</dt><dd><p>Object of class <code>"numeric"</code> containing the
contamination levels used in the simulation experiment.</p>
</dd>
<dt><code>NArate</code>:</dt><dd><p>Object of class <code>"NumericMatrix"</code> containing the
missing value rates used in the simulation experiment.</p>
</dd>
<dt><code>dataControl</code>:</dt><dd><p>Object of class <code>"OptDataControl"</code>; the
control object used for data generation in model-based simulation, or
<code>NULL</code>.</p>
</dd>
<dt><code>sampleControl</code>:</dt><dd><p>Object of class <code>"OptSampleControl"</code>; the
control object used for sampling in design-based simulation, or
<code>NULL</code>.</p>
</dd>
<dt><code>nrep</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the number of
repetitions of the simulation experiment (for model-based simulation or
simulation based on real data).</p>
</dd>
<dt><code>control</code>:</dt><dd><p>Object of class <code>"SimControl"</code>; the control
object used for running the simulations.</p>
</dd>
<dt><code>seed</code>:</dt><dd><p>Object of class <code>"list"</code> containing the seeds of
the random number generator before and after the simulation experiment,
respectively (for replication of the results).</p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"SimCall"</code>; the function call
used to run the simulation experiment, or <code>NULL</code>.</p>
</dd>
</dl>



<h3>Accessor methods</h3>


<dl>
<dt><code>getValues</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>values</code>.</p>
</dd>
<dt><code>getAdd</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>add</code>.</p>
</dd>
<dt><code>getDesign</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>design</code>.</p>
</dd>
<dt><code>getColnames</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>colnames</code>.</p>
</dd>
<dt><code>getEpsilon</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>epsilon</code>.</p>
</dd>
<dt><code>getNArate</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>NArate</code>.</p>
</dd>
<dt><code>getDataControl</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>dataControl</code>.</p>
</dd>
<dt><code>getSampleControl</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>sampleControl</code>.</p>
</dd>
<dt><code>getNrep</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>nrep</code>.</p>
</dd>
<dt><code>getControl</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>control</code>.</p>
</dd>
<dt><code>getSeed</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>seed</code>.</p>
</dd>
<dt><code>getCall</code></dt><dd><p><code>signature(x = "SimResults")</code>: get slot
<code>call</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>aggregate</code></dt><dd><p><code>signature(x = "SimResults")</code>: aggregate
simulation results.</p>
</dd>
<dt><code>head</code></dt><dd><p><code>signature(x = "SimResults")</code>: returns the first
parts of simulation results.</p>
</dd>
<dt><code>plot</code></dt><dd><p><code>signature(x = "SimResults", y = "missing")</code>:
selects a suitable graphical representation of the simulation results
automatically.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "SimResults")</code>: print
simulation results on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>simBwplot</code></dt><dd><p><code>signature(x = "SimResults")</code>: conditional
box-and-whisker plot of simulation results.</p>
</dd>
<dt><code>simDensityplot</code></dt><dd><p><code>signature(x = "SimResults")</code>:
conditional kernel density plot of simulation results.</p>
</dd>
<dt><code>simXyplot</code></dt><dd><p><code>signature(x = "SimResults")</code>: conditional x-y
plot of simulation results.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(x = "SimResults")</code>: produce a summary
of simulation results.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "SimResults")</code>: returns the last
parts of simulation results.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>There are no mutator methods available since the slots are not supposed to
be changed by the user.
</p>
<p>Furthermore, the slots <code>dataControl</code>, <code>sampleControl</code>, <code>nrep</code>
and <code>control</code> were added in version 0.3.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+runSimulation">runSimulation</a></code>, <code><a href="#topic+simBwplot">simBwplot</a></code>,
<code><a href="#topic+simDensityplot">simDensityplot</a></code>, <code><a href="#topic+simXyplot">simXyplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("SimResults")
</code></pre>

<hr>
<h2 id='simSample'>Set up multiple samples</h2><span id='topic+simSample'></span><span id='topic+simsample'></span><span id='topic+SimSample'></span><span id='topic+Simsample'></span>

<h3>Description</h3>

<p>A convenience wrapper for setting up multiple samples using <code><a href="#topic+setup">setup</a></code> 
with control class <code><a href="#topic+SampleControl-class">SampleControl</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simSample(x, design = character(), grouping = character(), 
          collect = FALSE, fun = srs, size = NULL, 
          prob = NULL, ..., k = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simSample_+3A_x">x</code></td>
<td>
<p>the <code>data.frame</code> to sample from.</p>
</td></tr>
<tr><td><code id="simSample_+3A_design">design</code></td>
<td>
<p>a character, logical or numeric vector specifying variables 
(columns) to be used for stratified sampling.</p>
</td></tr>
<tr><td><code id="simSample_+3A_grouping">grouping</code></td>
<td>
<p>a character string, single integer or logical vector 
specifying a grouping variable (column) to be used for sampling whole 
groups rather than individual observations.</p>
</td></tr>
<tr><td><code id="simSample_+3A_collect">collect</code></td>
<td>
<p>logical; if  a grouping variable is specified and this is 
<code>FALSE</code> (which is the default value), groups are sampled directly.  
If grouping variable is specified and this is <code>TRUE</code>, individuals 
are sampled in a first step.  In a second step, all individuals that 
belong to the same group as any of the sampled individuals are collected 
and added to the sample.  If no grouping variable is specified, this is 
ignored.</p>
</td></tr>
<tr><td><code id="simSample_+3A_fun">fun</code></td>
<td>
<p>a function to be used for sampling (defaults to 
<code><a href="#topic+srs">srs</a></code>).  It should return a vector containing the indices 
of the sampled items (observations or groups).</p>
</td></tr>
<tr><td><code id="simSample_+3A_size">size</code></td>
<td>
<p>an optional non-negative integer giving the number of items 
(observations or groups) to sample.  For stratified sampling, 
a vector of non-negative integers, each giving the number of items 
to sample from the corresponding stratum.</p>
</td></tr>
<tr><td><code id="simSample_+3A_prob">prob</code></td>
<td>
<p>an optional numeric vector giving the probability weights, or a 
character string or logical vector specifying a variable (column) that 
contains the probability weights.</p>
</td></tr>
<tr><td><code id="simSample_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to <code>fun</code>.</p>
</td></tr>
<tr><td><code id="simSample_+3A_k">k</code></td>
<td>
<p>a single positive integer giving the number of samples to be set 
up.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are some restrictions on the argument names of the function 
supplied to <code>fun</code>.  If it needs population data as input, 
the corresponding argument should be called <code>x</code> and should expect 
a <code>data.frame</code>.  If the sampling method only needs the population size 
as input, the argument should be called <code>N</code>.  Note that <code>fun</code> is 
not expected to have both <code>x</code> and <code>N</code> as arguments, and that the 
latter is much faster for stratified sampling or group sampling.  
Furthermore, if the function has arguments for sample size and probability 
weights, they should be called <code>size</code> and <code>prob</code>, respectively.  
Note that a function with <code>prob</code> as its only argument is perfectly valid 
(for probability proportional to size sampling).  Further arguments of 
<code>fun</code> may be passed directly via the ... argument.
</p>


<h3>Value</h3>

<p>An object of class <code>"SampleSetup"</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code><a href="#topic+setup">setup</a></code>, <code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, 
<code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)

## simple random sampling
srss &lt;- simSample(eusilcP, size = 20, k = 4)
summary(srss)
draw(eusilcP[, c("id", "eqIncome")], srss, i = 1)

## group sampling
gss &lt;- simSample(eusilcP, grouping = "hid", size = 10, k = 4)
summary(gss)
draw(eusilcP[, c("hid", "id", "eqIncome")], gss, i = 2)

## stratified simple random sampling
ssrss &lt;- simSample(eusilcP, design = "region", 
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(ssrss)
draw(eusilcP[, c("id", "region", "eqIncome")], ssrss, i = 3)

## stratified group sampling
sgss &lt;- simSample(eusilcP, design = "region", 
    grouping = "hid", size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(sgss)
draw(eusilcP[, c("hid", "id", "region", "eqIncome")], sgss, i = 4)
</code></pre>

<hr>
<h2 id='simXyplot'>X-Y plots</h2><span id='topic+simXyplot'></span><span id='topic+simXyplot-methods'></span><span id='topic+simXyplot+2CSimResults-method'></span><span id='topic+simxyplot'></span><span id='topic+SimXyplot'></span><span id='topic+Simxyplot'></span><span id='topic+simxyplot-methods'></span><span id='topic+SimXyplot-methods'></span><span id='topic+Simxyplot-methods'></span>

<h3>Description</h3>

<p>Generic function for producing x-y plots.  For simulation results, the average
results are plotted against the corresponding contamination levels or missing
value rates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simXyplot(x, ...)

## S4 method for signature 'SimResults'
simXyplot(x, true = NULL, epsilon, NArate,
          select, cond = c("Epsilon", "NArate"),
          average = c("mean", "median"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simXyplot_+3A_x">x</code></td>
<td>
<p>the object to be plotted.  For plotting simulation results, this
must be an object of class <code>"SimResults"</code>.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_true">true</code></td>
<td>
<p>a numeric vector giving the true values.  If supplied,
reference lines are drawn in the corresponding panels.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_epsilon">epsilon</code></td>
<td>
<p>a numeric vector specifying contamination levels.  If
supplied, the values corresponding to these contamination levels are
extracted from the simulation results and plotted.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_narate">NArate</code></td>
<td>
<p>a numeric vector specifying missing value rates.  If
supplied, the values corresponding to these missing value rates are
extracted from the simulation results and plotted.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_select">select</code></td>
<td>
<p>a character vector specifying the columns to be plotted.  It
must be a subset of the <code>colnames</code> slot of <code>x</code>, which is the
default.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_cond">cond</code></td>
<td>
<p>a character string; for simulation results with multiple
contamination levels and multiple missing value rates, this specifies
the column of the simulation results to be used for producing conditional
x-y plots.  If <code>"Epsilon"</code>, conditional plots are produced for the
different contamination levels.  If <code>"NArate"</code>, conditional plots are
produced for the different missing value rates.  The default is to use
whichever results in less plots.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_average">average</code></td>
<td>
<p>a character string specifying how the averages should be
computed.  Possible values are <code>"mean"</code> for the mean (the default)
or <code>"median"</code> for the median.</p>
</td></tr>
<tr><td><code id="simXyplot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to methods and eventually
to <code><a href="lattice.html#topic+xyplot">xyplot</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For simulation results with multiple contamination levels and multiple
missing value rates, conditional x-y plots are produced, as specified by
<code>cond</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>.  The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to update
components of the object and the <code><a href="lattice.html#topic+print.trellis">print</a></code>
method (usually called by default) will plot it on an appropriate plotting
device.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "SimResults"</code></dt><dd><p>produce x-y plots of simulation results.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Functionality for producing conditional x-y plots (including the argument
<code>cond</code>) was added in version 0.2.  Prior to that, the function gave an
error message if simulation results with multiple contamination levels and
multiple missing value rates were supplied.
</p>
<p>The argument <code>average</code> that specifies how the averages are computed
was added in version 0.1.2.  Prior to that, the mean has always been used.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simBwplot">simBwplot</a></code>, <code><a href="#topic+simDensityplot">simDensityplot</a></code>,
<code><a href="lattice.html#topic+xyplot">xyplot</a></code>, <code>"<a href="#topic+SimResults-class">SimResults</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome",
    epsilon = seq(0, 0.05, by = 0.01),
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.05))
}

## run simulation
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)

## plot results
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
simXyplot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = seq(0, 0.05, by = 0.01),
    dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.05),
        median = median(x$value))
}

## run simulation
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)

## plot results
simXyplot(results, true = means)
</code></pre>

<hr>
<h2 id='Strata-class'>Class &quot;Strata&quot;</h2><span id='topic+Strata-class'></span><span id='topic+Strata'></span><span id='topic+getValues+2CStrata-method'></span><span id='topic+getSplit+2CStrata-method'></span><span id='topic+getDesign+2CStrata-method'></span><span id='topic+getNr+2CStrata-method'></span><span id='topic+getLegend+2CStrata-method'></span><span id='topic+getSize+2CStrata-method'></span><span id='topic+getCall+2CStrata-method'></span><span id='topic+show+2CStrata-method'></span><span id='topic+strata-class'></span><span id='topic+strata'></span>

<h3>Description</h3>

<p>Class containing strata information for a data set.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("Strata", ...)</code> or 
<code>Strata(...)</code>.
</p>
<p>However, objects are expected to be created by the function 
<code><a href="#topic+stratify">stratify</a></code>, these constructor functions are not supposed to be 
called by the user. 
</p>


<h3>Slots</h3>


<dl>
<dt><code>values</code>:</dt><dd><p>Object of class <code>"integer"</code> giving the stratum 
number for each observation.</p>
</dd>
<dt><code>split</code>:</dt><dd><p>Object of class <code>"list"</code>; each list element 
contains the indices of the observations belonging to the corresponding 
stratum.</p>
</dd>
<dt><code>design</code>:</dt><dd><p>Object of class <code>"character"</code> giving the 
variables (columns) defining the strata.</p>
</dd>
<dt><code>nr</code>:</dt><dd><p>Object of class <code>"integer"</code> giving the stratum 
numbers.</p>
</dd>
<dt><code>legend</code>:</dt><dd><p>Object of class <code>"data.frame"</code> describing the 
strata.</p>
</dd>
<dt><code>size</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the stratum 
sizes.</p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"OptCall"</code>; the function call 
used to stratify the data, or <code>NULL</code>.</p>
</dd>
</dl>



<h3>Accessor methods</h3>


<dl>
<dt><code>getValues</code></dt><dd><p><code>signature(x = "Strata")</code>: get slot 
<code>values</code>.</p>
</dd>
<dt><code>getSplit</code></dt><dd><p><code>signature(x = "Strata")</code>:  get slot 
<code>split</code>.</p>
</dd>
<dt><code>getDesign</code></dt><dd><p><code>signature(x = "Strata")</code>: get slot 
<code>design</code>.</p>
</dd>
<dt><code>getNr</code></dt><dd><p><code>signature(x = "Strata")</code>: get slot <code>nr</code>.</p>
</dd>
<dt><code>getLegend</code></dt><dd><p><code>signature(x = "Strata")</code>: get slot 
<code>legend</code>.</p>
</dd>
<dt><code>getSize</code></dt><dd><p><code>signature(x = "Strata")</code>: get slot <code>size</code>.</p>
</dd>
<dt><code>getCall</code></dt><dd><p><code>signature(x = "Strata")</code>: get slot <code>call</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>head</code></dt><dd><p><code>signature(x = "Strata")</code>: returns the first parts 
of strata information.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "Strata")</code>: print strata 
information on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>simApply</code></dt><dd><p><code>signature(x = "data.frame", design = "Strata", 
      fun = "function")</code>: apply a function to subsets.</p>
</dd>
<dt><code>simSapply</code></dt><dd><p><code>signature(x = "data.frame", design = "Strata", 
      fun = "function")</code>: apply a function to subsets.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "Strata")</code>: produce a 
summary of strata information.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "Strata")</code>: returns the last parts 
of strata information.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>There are no mutator methods available since the slots are not supposed to 
be changed by the user.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code><a href="#topic+stratify">stratify</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("Strata")
</code></pre>

<hr>
<h2 id='stratify'>Stratify data</h2><span id='topic+stratify'></span><span id='topic+stratify-methods'></span><span id='topic+stratify+2Cdata.frame+2CBasicVector-method'></span>

<h3>Description</h3>

<p>Generic function for stratifying data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>stratify(x, design)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stratify_+3A_x">x</code></td>
<td>
<p>the <code>data.frame</code> to be stratified.</p>
</td></tr>
<tr><td><code id="stratify_+3A_design">design</code></td>
<td>
<p>a character, logical or numeric vector specifying the variables 
(columns) to be used for stratification.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"Strata"</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "data.frame", design = "BasicVector"</code></dt><dd><p>stratify data 
according to the variables (columns) given by <code>design</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+Strata-class">Strata</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)
strata &lt;- stratify(eusilcP, c("region", "gender"))
summary(strata)
</code></pre>

<hr>
<h2 id='stratify-utilities'>Utility functions for stratifying data</h2><span id='topic+getStrataLegend'></span><span id='topic+getStrataLegend-methods'></span><span id='topic+getStrataLegend+2Cdata.frame+2CBasicVector-method'></span><span id='topic+getStrataSplit'></span><span id='topic+getStrataSplit-methods'></span><span id='topic+getStrataSplit+2Cdata.frame+2CBasicVector-method'></span><span id='topic+getStrataTable'></span><span id='topic+getStrataTable-methods'></span><span id='topic+getStrataTable+2Cdata.frame+2CBasicVector-method'></span><span id='topic+getStratumSizes'></span><span id='topic+getStratumSizes-methods'></span><span id='topic+getStratumSizes+2Clist+2Cmissing-method'></span><span id='topic+getStratumSizes+2Cdata.frame+2CBasicVector-method'></span><span id='topic+getStratumValues'></span><span id='topic+getStratumValues-methods'></span><span id='topic+getStratumValues+2Cdata.frame+2CBasicVector+2Clist-method'></span><span id='topic+getStratumValues+2Cdata.frame+2CBasicVector+2Cmissing-method'></span>

<h3>Description</h3>

<p>Generic utility functions for stratifying data. These are useful if not all the 
information of class <code>"Strata"</code> is necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getStrataLegend(x, design)

getStrataSplit(x, design, USE.NAMES = TRUE)

getStrataTable(x, design)

getStratumSizes(x, design, USE.NAMES = TRUE)

getStratumValues(x, design, split)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stratify-utilities_+3A_x">x</code></td>
<td>
<p>the <code>data.frame</code> to be stratified. For <code>getStratumSizes</code>, 
it is also possible to supply a list in which each list element contains 
the indices of the observations belonging to the corresponding stratum (as 
returned by <code>getStrataSplit</code>).</p>
</td></tr>
<tr><td><code id="stratify-utilities_+3A_design">design</code></td>
<td>
<p>a character, logical or numeric vector specifying the variables 
(columns) to be used for stratification.</p>
</td></tr>
<tr><td><code id="stratify-utilities_+3A_use.names">USE.NAMES</code></td>
<td>
<p>a logical indicating whether information about the strata 
should be used as <code>names</code> for the result.</p>
</td></tr>
<tr><td><code id="stratify-utilities_+3A_split">split</code></td>
<td>
<p>an optional list in which each list element contains the indices 
of the observations belonging to the corresponding stratum (as returned by 
<code>getStrataSplit</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>getStrataLegend</code>, a <code>data.frame</code> describing the strata.
</p>
<p>For <code>getStrataSplit</code>, a list in which each element contains the 
indices of the observations belonging to the corresponding stratum.
</p>
<p>For <code>getStrataTable</code>, a <code>data.frame</code> describing the strata 
and containing the stratum sizes.
</p>
<p>For <code>getStratumSizes</code>, a numeric vector of the stratum sizes.
</p>
<p>For <code>getStratumValues</code>, a numeric vector giving the stratum number for 
each observation.
</p>


<h3>Methods for function getStrataLegend</h3>


<dl>
<dt>x = &quot;data.frame&quot;, design = &quot;BasicVector&quot;</dt><dd><p>get a <code>data.frame</code> 
describing the strata, according to the variables specified by 
<code>design</code>.</p>
</dd>
</dl>



<h3>Methods for function getStrataSplit</h3>


<dl>
<dt>x = &quot;data.frame&quot;, design = &quot;BasicVector&quot;</dt><dd><p>get a list in which each 
element contains the indices of the observations belonging to the 
corresponding stratum, according to the variables specified by 
<code>design</code>.</p>
</dd>
</dl>



<h3>Methods for function getStrataTable</h3>


<dl>
<dt>x = &quot;data.frame&quot;, design = &quot;BasicVector&quot;</dt><dd><p>get a <code>data.frame</code> 
describing the strata and containing the stratum sizes, according to the 
variables specified by <code>design</code>.</p>
</dd>
</dl>



<h3>Methods for function getStratumSizes</h3>


<dl>
<dt>x = &quot;list&quot;, design = &quot;missing&quot;</dt><dd><p>get the stratum sizes for a list in 
which each list element contains the indices of the observations belonging 
to the corresponding stratum (as returned by <code>getStrataSplit</code>).</p>
</dd>
<dt>x = &quot;data.frame&quot;, design = &quot;BasicVector&quot;</dt><dd><p>get the stratum sizes of a 
data set, according to the variables specified by <code>design</code>.</p>
</dd>
</dl>



<h3>Methods for function getStratumValues</h3>


<dl>
<dt>x = &quot;data.frame&quot;, design = &quot;BasicVector&quot;, split = &quot;list&quot;</dt><dd><p>get the 
stratum number for each observation, according to the variables specified 
by <code>design</code>.  A previously computed list in which each list element 
contains the indices of the observations belonging to the corresponding 
stratum (as returned by <code>getStrataSplit</code>) speeds things up a bit.</p>
</dd>
<dt>x = &quot;data.frame&quot;, design = &quot;BasicVector&quot;, split = &quot;missing&quot;</dt><dd><p>get the 
stratum number for each observation, according to the variables specified 
by <code>design</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code><a href="#topic+stratify">stratify</a></code>, <code><a href="#topic+Strata-class">Strata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilcP)

## all data
getStrataLegend(eusilcP, c("region", "gender"))
getStrataTable(eusilcP, c("region", "gender"))
getStratumSizes(eusilcP, c("region", "gender"))

## small sample
sam &lt;- draw(eusilcP, size = 25)
getStrataSplit(sam, "gender")
getStratumValues(sam, "gender")
</code></pre>

<hr>
<h2 id='summary-methods'>Methods for producing a summary of an object</h2><span id='topic+summary-methods'></span><span id='topic+summary+2CSampleSetup-method'></span><span id='topic+summary+2CSimControl-method'></span><span id='topic+summary+2CSimResults-method'></span><span id='topic+summary+2CStrata-method'></span><span id='topic+summary+2CVirtualContControl-method'></span><span id='topic+summary+2CVirtualDataControl-method'></span><span id='topic+summary+2CVirtualNAControl-method'></span><span id='topic+summary+2CVirtualSampleControl-method'></span>

<h3>Description</h3>

<p>Produce a summary an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SampleSetup'
summary(object)

## S4 method for signature 'SimControl'
summary(object)

## S4 method for signature 'SimResults'
summary(object, ...)

## S4 method for signature 'Strata'
summary(object)

## S4 method for signature 'VirtualContControl'
summary(object)

## S4 method for signature 'VirtualDataControl'
summary(object)

## S4 method for signature 'VirtualNAControl'
summary(object)

## S4 method for signature 'VirtualSampleControl'
summary(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary-methods_+3A_object">object</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="summary-methods_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The form of the resulting object depends on the class of the argument
<code>object</code>.  See the &ldquo;Methods&rdquo; section below for details.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd><p>returns an object of class
<code>SummarySampleSetup</code>, which contains information on the size of each
of the set up samples.</p>
</dd>
<dt><code>signature(x = "SimControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "SimResults")</code></dt><dd><p>produces a summary of the
simulation results by calling the method of <code><a href="base.html#topic+summary">summary</a></code>
for the <code>data.frame</code> in slot <code>values</code>.</p>
</dd>
<dt><code>signature(x = "Strata")</code></dt><dd><p>returns a <code>data.frame</code> containing
the size of each stratum.</p>
</dd>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualDataControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualSampleControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+summary">summary</a></code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>,
<code>"<a href="#topic+SummarySampleSetup-class">SummarySampleSetup</a>"</code>, <code>"<a href="#topic+SimResults-class">SimResults</a>"</code>,
<code>"<a href="#topic+Strata-class">Strata</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data(eusilcP)

## class "SampleSetup"
# set up samples using group sampling
set &lt;- setup(eusilcP, grouping = "hid", size = 1000, k = 50)
summary(set)

## class "Strata"
# set up samples using group sampling
strata &lt;- stratify(eusilcP, "region")
summary(strata)
</code></pre>

<hr>
<h2 id='SummarySampleSetup-class'>Class &quot;SummarySampleSetup&quot;</h2><span id='topic+SummarySampleSetup-class'></span><span id='topic+SummarySampleSetup'></span><span id='topic+getSize+2CSummarySampleSetup-method'></span><span id='topic+show+2CSummarySampleSetup-method'></span><span id='topic+summarySampleSetup-class'></span><span id='topic+summarysampleSetup-class'></span><span id='topic+summarysamplesetup-class'></span><span id='topic+summarySamplesetup-class'></span><span id='topic+SummarysampleSetup-class'></span><span id='topic+Summarysamplesetup-class'></span><span id='topic+SummarySamplesetup-class'></span><span id='topic+summarySampleSetup'></span><span id='topic+summarysampleSetup'></span><span id='topic+summarysamplesetup'></span><span id='topic+summarySamplesetup'></span><span id='topic+SummarysampleSetup'></span><span id='topic+Summarysamplesetup'></span><span id='topic+SummarySamplesetup'></span>

<h3>Description</h3>

<p>Class containing a summary of set up samples.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form 
<code>new("SummarySampleSetup", ...)</code> or <code>SummarySampleSetup(...)</code>.  
</p>
<p>However, objects are expected to be created by the <code>summary</code> method for 
class <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>, these constructor functions are not 
supposed to be called by the user. 
</p>


<h3>Slots</h3>


<dl>
<dt><code>size</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the size of 
each of the set up samples.</p>
</dd>
</dl>



<h3>Accessor methods</h3>


<dl>
<dt><code>getSize</code></dt><dd><p><code>signature(x = "SummarySampleSetup")</code>: get slot 
<code>size</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>show</code></dt><dd><p><code>signature(object = "SummarySampleSetup")</code>: print a 
summary of set up samples on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>There are no mutator methods available since the slots are not supposed to 
be changed by the user.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>, 
<code><a href="#topic+summary-methods">summary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("SummarySampleSetup")
</code></pre>

<hr>
<h2 id='tail-methods'>Methods for returning the last parts of an object</h2><span id='topic+tail-methods'></span><span id='topic+tail+2CSampleSetup-method'></span><span id='topic+tail+2CSimControl-method'></span><span id='topic+tail+2CSimResults-method'></span><span id='topic+tail+2CStrata-method'></span><span id='topic+tail+2CVirtualContControl-method'></span><span id='topic+tail+2CVirtualDataControl-method'></span><span id='topic+tail+2CVirtualNAControl-method'></span><span id='topic+tail+2CVirtualSampleControl-method'></span>

<h3>Description</h3>

<p>Return the last parts of an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SampleSetup'
tail(x, k = 6, n = 6, ...)

## S4 method for signature 'SimControl'
tail(x)

## S4 method for signature 'SimResults'
tail(x, ...)

## S4 method for signature 'Strata'
tail(x, ...)

## S4 method for signature 'VirtualContControl'
tail(x)

## S4 method for signature 'VirtualDataControl'
tail(x)

## S4 method for signature 'VirtualNAControl'
tail(x)

## S4 method for signature 'VirtualSampleControl'
tail(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tail-methods_+3A_x">x</code></td>
<td>
<p>an object.</p>
</td></tr>
<tr><td><code id="tail-methods_+3A_k">k</code></td>
<td>
<p>for objects of class <code>"SampleSetup"</code>, the number of set up
samples to be kept in the resulting object.</p>
</td></tr>
<tr><td><code id="tail-methods_+3A_n">n</code></td>
<td>
<p>for objects of class <code>"SampleSetup"</code>, the number of indices
to be kept in each of the set up samples in the resulting object.</p>
</td></tr>
<tr><td><code id="tail-methods_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>x</code>, but in general smaller.  See the
&ldquo;Methods&rdquo; section below for details.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "SampleSetup")</code></dt><dd><p>returns the last parts of set up
samples. The last <code>n</code> indices of each of the last <code>k</code> set up
samples are kept.</p>
</dd>
<dt><code>signature(x = "SimControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "SimResults")</code></dt><dd><p>returns the last parts of
simulation results.  The method of <code><a href="utils.html#topic+head">tail</a></code> for the
<code>data.frame</code> in slot <code>values</code> is thereby called.</p>
</dd>
<dt><code>signature(x = "Strata")</code></dt><dd><p>returns the last parts of strata
information.  The method of <code><a href="utils.html#topic+head">tail</a></code> for the vector in
slot <code>values</code> is thereby called and the slots <code>split</code> and
<code>size</code> are adapted accordingly.</p>
</dd>
<dt><code>signature(x = "VirtualContControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualDataControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualNAControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
<dt><code>signature(x = "VirtualSampleControl")</code></dt><dd><p>currently returns the
object itself.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+head">tail</a></code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>,
<code>"<a href="#topic+SimResults-class">SimResults</a>"</code>, <code>"<a href="#topic+Strata-class">Strata</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data(eusilcP)

## class "SampleSetup"
# set up samples using group sampling
set &lt;- setup(eusilcP, grouping = "hid", size = 1000, k = 50)
summary(set)
# get the last 10 indices of each of the last 5 samples
tail(set, k = 5, n = 10)

## class "Strata"
# set up samples using group sampling
strata &lt;- stratify(eusilcP, "region")
summary(strata)
# get strata information for the last 10 observations
tail(strata, 10)
</code></pre>

<hr>
<h2 id='TwoStageControl-class'>Class &quot;TwoStageControl&quot;</h2><span id='topic+TwoStageControl-class'></span><span id='topic+TwoStageControl'></span><span id='topic+getDesign+2CTwoStageControl-method'></span><span id='topic+setDesign+2CTwoStageControl-method'></span><span id='topic+getGrouping+2CTwoStageControl-method'></span><span id='topic+setGrouping+2CTwoStageControl-method'></span><span id='topic+show+2CTwoStageControl-method'></span><span id='topic+twoStageControl-class'></span><span id='topic+twostageControl-class'></span><span id='topic+twoStagecontrol-class'></span><span id='topic+twostagecontrol-class'></span><span id='topic+TwostageControl-class'></span><span id='topic+Twostagecontrol-class'></span><span id='topic+TwoStagecontrol-class'></span><span id='topic+twoStageControl'></span><span id='topic+twostageControl'></span><span id='topic+twoStagecontrol'></span><span id='topic+twostagecontrol'></span><span id='topic+TwostageControl'></span><span id='topic+Twostagecontrol'></span><span id='topic+TwoStagecontrol'></span>

<h3>Description</h3>

<p>Class for controlling the setup of samples using a two-stage procedure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TwoStageControl(..., fun1 = srs, fun2 = srs, size1 = NULL, 
                size2 = NULL, prob1 = NULL, prob2 = NULL, 
                dots1 = list(), dots2 = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TwoStageControl-class_+3A_...">...</code></td>
<td>
<p>the slots for the new object (see below).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_fun1">fun1</code></td>
<td>
<p>the function to be used for sampling in the first stage (the 
first list component of slot <code>fun</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_fun2">fun2</code></td>
<td>
<p>the function to be used for sampling in the second stage (the 
second list component of slot <code>fun</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_size1">size1</code></td>
<td>
<p>the number of PSUs to sample in the first stage (the first list 
component of slot <code>size</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_size2">size2</code></td>
<td>
<p>the number of items to sample in the second stage (the second 
list component of slot <code>size</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_prob1">prob1</code></td>
<td>
<p>the probability weights for the first stage (the first list 
component of slot <code>prob</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_prob2">prob2</code></td>
<td>
<p>the probability weights for the second stage (the second list 
component of slot <code>prob</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_dots1">dots1</code></td>
<td>
<p>additional arguments to be passed to the function for sampling 
in the first stage (the first list component of slot <code>dots</code>).</p>
</td></tr>
<tr><td><code id="TwoStageControl-class_+3A_dots2">dots2</code></td>
<td>
<p>additional arguments to be passed to the function for sampling 
in the second stage (the second list component of slot <code>dots</code>).</p>
</td></tr>
</table>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("TwoStageControl", ...)</code> 
or via the constructor <code>TwoStageControl</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>design</code>:</dt><dd><p>Object of class <code>"BasicVector"</code> specifying 
variables (columns) to be used for stratified sampling in the first 
stage.</p>
</dd>
<dt><code>grouping</code>:</dt><dd><p>Object of class <code>"BasicVector"</code> specifying 
grouping variables (columns) to be used for sampling primary sampling 
units (PSUs) and secondary sampling units (SSUs), respectively.</p>
</dd>
<dt><code>fun</code>:</dt><dd><p>Object of class <code>"list"</code>; a list of length two 
containing the functions to be used for sampling in the first and second 
stage, respectively (defaults to <code><a href="#topic+srs">srs</a></code> for both stages).  The 
functions should return a vector containing the indices of the sampled 
items.</p>
</dd>
<dt><code>size</code>:</dt><dd><p>Object of class <code>"list"</code>; a list of length two, 
where each component contains an optional non-negative integer giving the 
number of items to sample in the first and second stage, respectively.  
In case of stratified sampling in the first stage, a vector of 
non-negative integers, each giving the number of PSUs to sample from the 
corresponding stratum, may be supplied.  For the second stage, a vector 
of non-negative integers giving the number of items to sample from each 
PSU may be used.</p>
</dd>
<dt><code>prob</code>:</dt><dd><p>Object of class <code>"list"</code>; a list of length two, 
where each component gives optional probability weights for the first and 
second stage, respectively.  Each component may thereby be a numerical 
vector, or a character string or integer vector specifying a variable 
(column) that contains the probability weights.</p>
</dd>
<dt><code>dots</code>:</dt><dd><p>Object of class <code>"list"</code>; a list of length two, 
where each component is again a list containing additional arguments to 
be passed to the corresponding function for sampling in <code>fun</code>.</p>
</dd>
<dt><code>k</code>:</dt><dd><p>Object of class <code>"numeric"</code>; a single positive 
integer giving the number of samples to be set up.</p>
</dd>
</dl>



<h3>Details</h3>

<p>There are some restrictions on the argument names of the functions for 
sampling in <code>fun</code>.  If the sampling method needs population data as 
input, the corresponding argument should be called <code>x</code> and should expect 
a <code>data.frame</code>.  If it only needs the population size as input, the 
argument should be called <code>N</code>.  Note that the function is not expected 
to have both <code>x</code> and <code>N</code> as arguments, and that the latter is 
typically much faster.  Furthermore, if the function has arguments for sample 
size and probability weights, they should be called <code>size</code> and 
<code>prob</code>, respectively.  Note that a function with <code>prob</code> as its only 
argument is perfectly valid (for probability proportional to size sampling).  
Further arguments may be supplied as a list via the slot <code>dots</code>.
</p>


<h3>Extends</h3>

<p>Class <code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, directly.
Class <code>"<a href="#topic+OptSampleControl-class">OptSampleControl</a>"</code>, by class &quot;VirtualSampleControl&quot;, distance 2.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from 
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>getDesign</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>design</code>.</p>
</dd>
<dt><code>setDesign</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>design</code>.</p>
</dd>
<dt><code>getGrouping</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>grouping</code>.</p>
</dd>
<dt><code>setGrouping</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>grouping</code>.</p>
</dd>
<dt><code>getCollect</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>collect</code>.</p>
</dd>
<dt><code>setCollect</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>collect</code>.</p>
</dd>
<dt><code>getFun</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>fun</code>.</p>
</dd>
<dt><code>setFun</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>fun</code>.</p>
</dd>
<dt><code>getSize</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>size</code>.</p>
</dd>
<dt><code>setSize</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>size</code>.</p>
</dd>
<dt><code>getProb</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>prob</code>.</p>
</dd>
<dt><code>setProb</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>prob</code>.</p>
</dd>
<dt><code>getDots</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt><dd><p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>dots</code>.</p>
</dd>
</dl>



<h3>Methods</h3>

<p>In addition to the methods inherited from 
<code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, the following are available:
</p>

<dl>
<dt><code>clusterSetup</code></dt><dd><p><code>signature(cl = "ANY", x = "data.frame", 
      control = "TwoStageControl")</code>: set up multiple samples on a cluster.</p>
</dd>
<dt><code>setup</code></dt><dd><p><code>signature(x = "data.frame", 
      control = "TwoStageControl")</code>: set up multiple samples.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "TwoStageControl")</code>: print the 
object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+VirtualSampleControl-class">VirtualSampleControl</a>"</code>, 
<code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>, 
<code><a href="#topic+setup">setup</a></code>, <code><a href="#topic+draw">draw</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("TwoStageControl")
</code></pre>

<hr>
<h2 id='VirtualContControl-class'>Class &quot;VirtualContControl&quot;</h2><span id='topic+VirtualContControl-class'></span><span id='topic+getTarget+2CVirtualContControl-method'></span><span id='topic+setTarget+2CVirtualContControl-method'></span><span id='topic+getEpsilon+2CVirtualContControl-method'></span><span id='topic+setEpsilon+2CVirtualContControl-method'></span><span id='topic+show+2CVirtualContControl-method'></span><span id='topic+virtualContControl-class'></span><span id='topic+virtualcontControl-class'></span><span id='topic+virtualcontcontrol-class'></span><span id='topic+virtualContcontrol-class'></span><span id='topic+VirtualcontControl-class'></span><span id='topic+VirtualContcontrol-class'></span><span id='topic+Virtualcontcontrol-class'></span>

<h3>Description</h3>

<p>Virtual superclass for controlling contamination in a simulation experiment.
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Slots</h3>


<dl>
<dt><code>target</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code>; a character
vector specifying specifying the variables (columns) to be contaminated,
or <code>NULL</code> to contaminate all variables  (except the additional ones
generated internally).</p>
</dd>
<dt><code>epsilon</code>:</dt><dd><p>Object of class <code>"numeric"</code> giving the
contamination levels.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+OptContControl-class">OptContControl</a>"</code>, directly.
</p>


<h3>Accessor and mutator methods</h3>


<dl>
<dt><code>getTarget</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: get
slot <code>target</code>.</p>
</dd>
<dt><code>setTarget</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: set
slot <code>target</code>.</p>
</dd>
<dt><code>getEpsilon</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: get
slot <code>epsilon</code>.</p>
</dd>
<dt><code>setEpsilon</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: set
slot <code>epsilon</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>head</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: currently
returns the object itself.</p>
</dd>
<dt><code>length</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: get the
number of contamination levels to be used.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "VirtualContControl")</code>: print
the object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "VirtualContControl")</code>:
currently returns the object itself.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: currently
returns the object itself.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DCARContControl-class">DCARContControl</a>"</code>, <code>"<a href="#topic+DARContControl-class">DARContControl</a>"</code>,
<code>"<a href="#topic+ContControl-class">ContControl</a>"</code>, <code><a href="#topic+contaminate">contaminate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("VirtualContControl")
</code></pre>

<hr>
<h2 id='VirtualDataControl-class'>Class &quot;VirtualDataControl&quot;</h2><span id='topic+VirtualDataControl-class'></span><span id='topic+virtualDataControl-class'></span><span id='topic+virtualdataControl-class'></span><span id='topic+virtualdatacontrol-class'></span><span id='topic+virtualDatacontrol-class'></span><span id='topic+VirtualdataControl-class'></span><span id='topic+VirtualDatacontrol-class'></span><span id='topic+Virtualdatacontrol-class'></span>

<h3>Description</h3>

<p>Virtual superclass for controlling model-based generation of data.
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Extends</h3>

<p>Class <code>"<a href="#topic+OptDataControl-class">OptDataControl</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "VirtualDataControl", setup = "missing", nrep = "numeric",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "VirtualDataControl", setup = "VirtualSampleControl",
      nrep = "numeric", control = "SimControl")</code>: run a simulation experiment
on a cluster.</p>
</dd>
<dt><code>head</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: currently
returns the object itself.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "missing", nrep = "numeric", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "missing", nrep = "missing", control = "SimControl")</code>: run a
simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "VirtualSampleControl", nrep = "numeric",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "VirtualContControl")</code>:
currently returns the object itself.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "VirtualContControl")</code>: currently
returns the object itself.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+DataControl-class">DataControl</a>"</code>, <code><a href="#topic+generate">generate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("VirtualDataControl")
</code></pre>

<hr>
<h2 id='VirtualNAControl-class'>Class &quot;VirtualNAControl&quot;</h2><span id='topic+VirtualNAControl-class'></span><span id='topic+getTarget+2CVirtualNAControl-method'></span><span id='topic+setTarget+2CVirtualNAControl-method'></span><span id='topic+getNArate+2CVirtualNAControl-method'></span><span id='topic+setNArate+2CVirtualNAControl-method'></span><span id='topic+show+2CVirtualNAControl-method'></span><span id='topic+virtualNAControl-class'></span><span id='topic+virtualnaControl-class'></span><span id='topic+virtualnacontrol-class'></span><span id='topic+virtualNAcontrol-class'></span><span id='topic+VirtualnaControl-class'></span><span id='topic+VirtualNAcontrol-class'></span><span id='topic+Virtualnacontrol-class'></span>

<h3>Description</h3>

<p>Virtual superclass for controlling the insertion of missing values in a
simulation experiment.
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Slots</h3>


<dl>
<dt><code>target</code>:</dt><dd><p>Object of class <code>"OptCharacter"</code>; a character
vector specifying the variables (columns) in which missing values should
be inserted, or <code>NULL</code> to insert missing values in all variables
(except the additional ones generated internally).</p>
</dd>
<dt><code>NArate</code>:</dt><dd><p>Object of class <code>"NumericMatrix"</code> giving the
missing value rates, which may be selected individually for the target
variables. In case of a vector, the same missing value rates are used for
all target variables. In case of a matrix, on the other hand, the missing
value rates to be used for each target variable are given by the
respective column.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+OptNAControl-class">OptNAControl</a>"</code>, directly.
</p>


<h3>Accessor and mutator methods</h3>


<dl>
<dt><code>getTarget</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: get slot
<code>target</code>.</p>
</dd>
<dt><code>setTarget</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: set slot
<code>target</code>.</p>
</dd>
<dt><code>getNArate</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: get slot
<code>NArate</code>.</p>
</dd>
<dt><code>setNArate</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: set slot
<code>NArate</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>head</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: currently
returns the object itself.</p>
</dd>
<dt><code>length</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: get the
number of missing value rates to be used (the length in case of a vector
or the number of rows in case of a matrix).</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "VirtualNAControl")</code>: print the
object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "VirtualNAControl")</code>:
currently returns the object itself.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "VirtualNAControl")</code>: currently
returns the object itself.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+NAControl-class">NAControl</a>"</code>, <code><a href="#topic+setNA">setNA</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("VirtualNAControl")
</code></pre>

<hr>
<h2 id='VirtualSampleControl-class'>Class &quot;VirtualSampleControl&quot;</h2><span id='topic+VirtualSampleControl-class'></span><span id='topic+getK+2CVirtualSampleControl-method'></span><span id='topic+setK+2CVirtualSampleControl-method'></span><span id='topic+show+2CVirtualSampleControl-method'></span><span id='topic+virtualSampleControl-class'></span><span id='topic+virtualsampleControl-class'></span><span id='topic+virtualsamplecontrol-class'></span><span id='topic+virtualSamplecontrol-class'></span><span id='topic+VirtualsampleControl-class'></span><span id='topic+VirtualSamplecontrol-class'></span><span id='topic+Virtualsamplecontrol-class'></span>

<h3>Description</h3>

<p>Virtual superclass for controlling the setup of samples.
</p>


<h3>Objects from the Class</h3>

<p>A virtual Class: No objects may be created from it.
</p>


<h3>Slots</h3>


<dl>
<dt><code>k</code>:</dt><dd><p>Object of class <code>"numeric"</code>, a single positive
integer giving the number of samples to be set up.</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+OptSampleControl-class">OptSampleControl</a>"</code>, directly.
</p>


<h3>Accessor and mutator methods</h3>


<dl>
<dt><code>getK</code></dt><dd><p><code>signature(x = "VirtualSampleControl")</code>: get slot
<code>k</code>.</p>
</dd>
<dt><code>setK</code></dt><dd><p><code>signature(x = "VirtualSampleControl")</code>: set slot
<code>k</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "data.frame", setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment on a cluster.</p>
</dd>
<dt><code>clusterRunSimulation</code></dt><dd><p><code>signature(cl = "ANY",
      x = "VirtualDataControl", setup = "VirtualSampleControl",
      nrep = "numeric", control = "SimControl")</code>: run a simulation experiment
on a cluster.</p>
</dd>
<dt><code>draw</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "VirtualSampleControl")</code>: draw a sample.</p>
</dd>
<dt><code>head</code></dt><dd><p><code>signature(x = "VirtualSampleControl")</code>: currently
returns the object itself.</p>
</dd>
<dt><code>length</code></dt><dd><p><code>signature(x = "VirtualSampleControl")</code>: get the
number of samples to be set up.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "data.frame",
      setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "VirtualSampleControl", nrep = "numeric",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>runSimulation</code></dt><dd><p><code>signature(x = "VirtualDataControl",
      setup = "VirtualSampleControl", nrep = "missing",
      control = "SimControl")</code>: run a simulation experiment.</p>
</dd>
<dt><code>show</code></dt><dd><p><code>signature(object = "VirtualSampleControl")</code>: print
the object on the <span class="rlang"><b>R</b></span> console.</p>
</dd>
<dt><code>summary</code></dt><dd><p><code>signature(object = "VirtualSampleControl")</code>:
currently returns the object itself.</p>
</dd>
<dt><code>tail</code></dt><dd><p><code>signature(x = "VirtualSampleControl")</code>: currently
returns the object itself.</p>
</dd>
</dl>



<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span class="rlang"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1&ndash;36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"<a href="#topic+SampleControl-class">SampleControl</a>"</code>, <code>"<a href="#topic+TwoStageControl-class">TwoStageControl</a>"</code>,
<code>"<a href="#topic+SampleSetup-class">SampleSetup</a>"</code>, <code><a href="#topic+setup">setup</a></code>, <code><a href="#topic+draw">draw</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("VirtualSampleControl")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

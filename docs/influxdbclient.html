<!DOCTYPE html><html lang="en"><head><title>Help for package influxdbclient</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {influxdbclient}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#InfluxDBClient'><p>InfluxDBClient</p></a></li>
<li><a href='#RetryOptions'><p>RetryOptions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>'InfluxDB' 2.x Client</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Ales Pour &lt;ales.pour@bonitoo.io&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ales Pour &lt;ales.pour@bonitoo.io&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
  'InfluxDB' 2.x time-series database client. Supports both 'InfluxDB' OSS (<a href="https://portal.influxdata.com/downloads/">https://portal.influxdata.com/downloads/</a>) and Cloud (<a href="https://cloud2.influxdata.com/">https://cloud2.influxdata.com/</a>) version.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/influxdata/influxdb-client-r">https://github.com/influxdata/influxdb-client-r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/influxdata/influxdb-client-r/issues">https://github.com/influxdata/influxdb-client-r/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT License</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6, httr, jsonlite, bit64, nanotime (&ge; 0.3.0), plyr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, httptest</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-31 16:36:28 UTC; alespour</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-01 09:10:42 UTC</td>
</tr>
</table>
<hr>
<h2 id='InfluxDBClient'>InfluxDBClient</h2><span id='topic+InfluxDBClient'></span>

<h3>Description</h3>

<p>Client for querying from and writing to InfluxDB 2.x.
</p>


<h3>Format</h3>

<p>An <code>R6Class</code> object
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>url</code></dt><dd><p>Database URL</p>
</dd>
<dt><code>token</code></dt><dd><p>Authentication token</p>
</dd>
<dt><code>org</code></dt><dd><p>Organization name</p>
</dd>
<dt><code>dialect</code></dt><dd><p>Flux dialect</p>
</dd>
<dt><code>retryOptions</code></dt><dd><p>Retry options</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>InfluxDBClient$new()</code></a>
</p>
</li>
<li> <p><a href="#method-health"><code>InfluxDBClient$health()</code></a>
</p>
</li>
<li> <p><a href="#method-query"><code>InfluxDBClient$query()</code></a>
</p>
</li>
<li> <p><a href="#method-ready"><code>InfluxDBClient$ready()</code></a>
</p>
</li>
<li> <p><a href="#method-write"><code>InfluxDBClient$write()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>InfluxDBClient$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates instance of <code>InfluxDBClient</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>InfluxDBClient$new(url, token, org, retryOptions = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>url</code></dt><dd><p>InfluxDB instance URL</p>
</dd>
<dt><code>token</code></dt><dd><p>Authentication token</p>
</dd>
<dt><code>org</code></dt><dd><p>Organization name</p>
</dd>
<dt><code>org</code></dt><dd><p>Retry options. See <code>RetryOptions</code> for details. Set to <code>TRUE</code>
for default retry options. Default is <code>NULL</code> which disables retries.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-health"></a>



<h4>Method <code>health()</code></h4>

<p>Gets health info of the InfluxDB instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>InfluxDBClient$health()</pre></div>



<h5>Returns</h5>

<p>Named list with <code>name</code>, <code>message</code>, <code>status</code>,
<code>version</code>, <code>commit</code> elements or error
</p>


<hr>
<a id="method-query"></a>



<h4>Method <code>query()</code></h4>

<p>Queries data in the InfluxDB instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>InfluxDBClient$query(
  text,
  POSIXctCol = c(`_time` = "time"),
  flatSingleResult = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>text</code></dt><dd><p>Flux query</p>
</dd>
<dt><code>POSIXctCol</code></dt><dd><p>Flux time to (new) <code>POSIXct</code> column mapping (named list).
Default is <code>c("_time"="time")</code>. Use <code>NULL</code> to skip it.</p>
</dd>
<dt><code>flatSingleResult</code></dt><dd><p>Whether to return simple list when response contains
only one result. Default is <code>TRUE</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>List of data frames. Data frame represents Flux table.
It can be a named list of nested lists of data frames when query response contains
multiple results (see Flux <a href="https://docs.influxdata.com/influxdb/v2.0/reference/flux/stdlib/built-in/outputs/yield/">yield</a>),
or a simple list of data frames for single result response.
</p>


<hr>
<a id="method-ready"></a>



<h4>Method <code>ready()</code></h4>

<p>Gets readiness status of the InfluxDB instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>InfluxDBClient$ready()</pre></div>



<h5>Returns</h5>

<p>Named list with <code>status</code>, <code>started</code> and <code>up</code> elements or error
</p>


<hr>
<a id="method-write"></a>



<h4>Method <code>write()</code></h4>

<p>Writes data to the InfluxDB instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>InfluxDBClient$write(
  x,
  bucket,
  batchSize = 5000,
  precision = c("ns", "us", "ms", "s"),
  measurementCol = "_measurement",
  tagCols = NULL,
  fieldCols = c(`_field` = "_value"),
  timeCol = "_time",
  object = NULL,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>Data as (list of) <code>data.frame</code></p>
</dd>
<dt><code>bucket</code></dt><dd><p>Target bucket name</p>
</dd>
<dt><code>batchSize</code></dt><dd><p>Batch size. Positive number or <code>FALSE</code> to disable.
Default is <code>5000</code>.</p>
</dd>
<dt><code>precision</code></dt><dd><p>Time precision</p>
</dd>
<dt><code>measurementCol</code></dt><dd><p>Name of measurement column. Default is <code>"_measurement"</code>.</p>
</dd>
<dt><code>tagCols</code></dt><dd><p>Names of tag (index) columns</p>
</dd>
<dt><code>fieldCols</code></dt><dd><p>Names of field columns. In case of unpivoted data
previously retrieved from InfluxDB, use default value ie. named list
<code>c("_field"="_value")</code>.
For all other cases, just use simple vector of column names (see Examples).</p>
</dd>
<dt><code>timeCol</code></dt><dd><p>Name of time column. The column values should be either
of <code>nanotime</code> or <code>POSIXct</code> type. Default is <code>"_time"</code>.</p>
</dd>
<dt><code>object</code></dt><dd><p><em>Output object name. For dry-run operation, specify the name
of the object to receive the output. Default is <code>NULL</code>. For debugging purposes.</em></p>
</dd>
</dl>

</div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>InfluxDBClient$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Instantiation
client &lt;- InfluxDBClient$new(url = "http://localhost:8086",
                             token = "my-token",
                             org = "my-org")

# Query
data &lt;- client$query('from(bucket: "my-bucket") |&gt; range(start: -1h)')

# Write
data &lt;- data.frame(...)
client$write(data, bucket = "my-bucket", precision = "us",
             measurementCol = "name",
             tagCols = c("location", "id"),
             fieldCols = c("altitude", "temperature"),
             timeCol = "time")

# Ready status
ready &lt;- client$ready()

# Healt info
ready &lt;- client$health()

## End(Not run)
</code></pre>

<hr>
<h2 id='RetryOptions'>RetryOptions</h2><span id='topic+RetryOptions'></span>

<h3>Description</h3>

<p>Retry options may be specified as optional argument to <code>write</code>.
</p>


<h3>Format</h3>

<p>An <code>R6Class</code> object
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>retryJitter</code></dt><dd><p>Maximum number of random milliseconds included in delay. Default is <code>0</code>.</p>
</dd>
<dt><code>retryInterval</code></dt><dd><p>First retry delay in seconds. Default is <code>5</code>.</p>
</dd>
<dt><code>maxDelay</code></dt><dd><p>Maximum delay between retries in seconds. Default is <code>125</code>.</p>
</dd>
<dt><code>maxRetryTime</code></dt><dd><p>Maximum time to spend retrying in seconds. Default is <code>180</code>.</p>
</dd>
<dt><code>maxAttempts</code></dt><dd><p>Number of retry attempts. Default is <code>5</code>.</p>
</dd>
<dt><code>exponentialBase</code></dt><dd><p>Base for exponential backoff strategy. Default is <code>2</code>.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>RetryOptions$new()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>RetryOptions$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates instance of <code>RetryOptions</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>RetryOptions$new(
  retryJitter = 0,
  retryInterval = 5,
  maxDelay = 125,
  maxRetryTime = 180,
  maxAttempts = 5,
  exponentialBase = 2,
  ...
)</pre></div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RetryOptions$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

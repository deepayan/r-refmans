<!DOCTYPE html><html><head><title>Help for package assertive.base</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {assertive.base}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#are_identical'><p>Are the inputs identical?</p></a></li>
<li><a href='#assert_engine'><p>Throws an error if a condition isn't met</p></a></li>
<li><a href='#assertionError'><p>Condition classes</p></a></li>
<li><a href='#bapply'><p>Wrapper to vapply that returns booleans</p></a></li>
<li><a href='#call_and_name'><p>Call a function, and give the result names.</p></a></li>
<li><a href='#cause'><p>Get or set the <code>"cause"</code> attribute</p></a></li>
<li><a href='#coerce_to'><p>Coerce variable to a different class</p></a></li>
<li><a href='#dont_stop'><p>Run code without stopping</p></a></li>
<li><a href='#false'><p>FALSE, with a cause of failure.</p></a></li>
<li><a href='#get_name_in_parent'><p>Get the name of a variable in the parent frame</p></a></li>
<li><a href='#is2'><p>Alternative version of is</p></a></li>
<li><a href='#merge_dots_with_list'><p>Merge ellipsis args with a list.</p></a></li>
<li><a href='#merge.list'><p>Merge two lists</p></a></li>
<li><a href='#na'><p>NA, with a cause of failure.</p></a></li>
<li><a href='#parenthesize'><p>Wrap a string in brackets</p></a></li>
<li><a href='#print_and_capture'><p>Print a variable and capture the output</p></a></li>
<li><a href='#print.scalar_with_cause'><p>Print methods for objects with a cause attribute</p></a></li>
<li><a href='#safe_deparse'><p>Safe version of deparse</p></a></li>
<li><a href='#set_cause'><p>Set a cause and return the input</p></a></li>
<li><a href='#strip_attributes'><p>Strip all attributes from a variable</p></a></li>
<li><a href='#Truth'><p>Is the input TRUE/FALSE/NA?</p></a></li>
<li><a href='#use_first'><p>Only use the first element of a vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Lightweight Core of the 'assertive' Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0-9</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-02-07</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Cotton [aut, cre],
  Sunkyu Choi [trl],
  Ivanka Skakun [trl],
  Gergely Dar&lt;c3&gt;&lt;b3&gt;czi [trl],
  Anton Antonov [trl],
  Hisham Ben Hamidane [trl],
  Anja Billing [trl],
  Aditya Bhagwat [trl],
  Rasmus B&lt;c3&gt;&lt;a5&gt;&lt;c3&gt;&lt;a5&gt;th [trl],
  Mine Cetinkaya-Rundel [trl],
  Aspasia Chatziefthymiou [trl]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Cotton &lt;richierocks@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A minimal set of predicates and assertions used by the assertive
    package.  This is mainly for use by other package developers who want to
    include run-time testing features in their own packages.  End-users will
    usually want to use assertive directly.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://bitbucket.org/richierocks/assertive.base">https://bitbucket.org/richierocks/assertive.base</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://bitbucket.org/richierocks/assertive.base/issues">https://bitbucket.org/richierocks/assertive.base/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Acknowledgments:</td>
<td>Development of this package was partially funded by
the Proteomics Core at Weill Cornell Medical College in Qatar
&lt;https://qatar-weill.cornell.edu&gt;.  The Core is supported by
'Biomedical Research Program' funds, a program funded by Qatar
Foundation. Ukranian translations were supported by
www.coupofy.com.</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-08 00:11:07 UTC; richie</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-08 05:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='are_identical'>Are the inputs identical?</h2><span id='topic+are_identical'></span><span id='topic+are_identical_legacy'></span><span id='topic+assert_are_identical'></span><span id='topic+assert_all_are_identical_legacy'></span><span id='topic+assert_any_are_identical_legacy'></span>

<h3>Description</h3>

<p>Checks if the inputs are identical.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>are_identical(
  x,
  y,
  allow_attributes = FALSE,
  .xname = get_name_in_parent(x),
  .yname = get_name_in_parent(y)
)

are_identical_legacy(..., l = list())

assert_are_identical(
  x,
  y,
  allow_attributes = FALSE,
  severity = getOption("assertive.severity", "stop")
)

assert_all_are_identical_legacy(..., l = list())

assert_any_are_identical_legacy(..., l = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="are_identical_+3A_x">x</code></td>
<td>
<p>An R object or expression.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_y">y</code></td>
<td>
<p>Another R object or expression.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_allow_attributes">allow_attributes</code></td>
<td>
<p>If <code>TRUE</code>, The attributes of <code>x</code> and 
<code>y</code> are allowed to differ.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_.xname">.xname</code></td>
<td>
<p>Not intended to be used directly.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_.yname">.yname</code></td>
<td>
<p>Not intended to be used directly.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_...">...</code></td>
<td>
<p>Some R expressions, deprecated.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_l">l</code></td>
<td>
<p>A list of R expressions, deprecated.</p>
</td></tr>
<tr><td><code id="are_identical_+3A_severity">severity</code></td>
<td>
<p>How severe should the consequences of the assertion be?
Either <code>"stop"</code>, <code>"warning"</code>, <code>"message"</code>, or <code>"none"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>are_identical</code> returns <code>TRUE</code> if <code>x</code> and <code>y</code> 
are identical.  The <code>assert_*</code> function throws an error on failure.
</p>
<p>The legacy function <code>are_identical_legacy</code> allows an arbitrary number
of inputs and returns a symmetric square logical matrix which is <code>TRUE</code> 
where pairs of inputs are identical.  (The new version of the function 
is easier to work with, and it is recommended that you switch your code to 
it.)
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+identical">identical</a></code>, 
<code><a href="assertive.properties.html#topic+are_same_length">are_same_length</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:5
are_identical(c(1, -1), cos(c(0, pi)))
assertive.base::dont_stop(assert_are_identical(c(1, 1), cos(c(0, pi))))
</code></pre>

<hr>
<h2 id='assert_engine'>Throws an error if a condition isn't met</h2><span id='topic+assert_engine'></span>

<h3>Description</h3>

<p>The workhorse of the package that creates an assertion from a predicate.  
If a condition isn't met, then an error is thrown.  This function is exported
for use by package developers so that they can create their own assert 
functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_engine(
  predicate,
  ...,
  msg = "The assertion failed.",
  what = c("all", "any"),
  na_ignore = FALSE,
  severity = c("stop", "warning", "message", "none")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_engine_+3A_predicate">predicate</code></td>
<td>
<p>Function that returns a logical value (possibly 
a vector).</p>
</td></tr>
<tr><td><code id="assert_engine_+3A_...">...</code></td>
<td>
<p>Passed to the <code>predicate</code> function.</p>
</td></tr>
<tr><td><code id="assert_engine_+3A_msg">msg</code></td>
<td>
<p>The error message, in the event of failure.</p>
</td></tr>
<tr><td><code id="assert_engine_+3A_what">what</code></td>
<td>
<p>Either 'all' or 'any', to reduce vectorised tests to a 
single value.</p>
</td></tr>
<tr><td><code id="assert_engine_+3A_na_ignore">na_ignore</code></td>
<td>
<p>A logical value.  If <code>FALSE</code>, <code>NA</code> values
cause an error; otherwise they do not.  Like <code>na.rm</code> in many
stats package functions, except that the position of the failing
values does not change.</p>
</td></tr>
<tr><td><code id="assert_engine_+3A_severity">severity</code></td>
<td>
<p>How severe should the consequences of the assertion be?
Either <code>"stop"</code>, <code>"warning"</code>, <code>"message"</code>, or <code>"none"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>FALSE</code> with the attribute <code>message</code>, as provided
in the input.
</p>


<h3>Note</h3>

<p>Missing values are considered as <code>FALSE</code> for the purposes of
whether or not an error is thrown.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Basic usage is like do.call; pass a predicate and the arguments to it.
dont_stop(assert_engine(is_true, c(TRUE, FALSE, NA)))

# Customise the error message
dont_stop(
  assert_engine(is_true, c(TRUE, FALSE, NA), msg = "Not everything is true")
)

# Only fail when no values match the predicate's conditions
dont_stop(assert_engine(is_true, logical(3), what = "any"))

# You can use base predicates, but the error message isn't as informative
dont_stop(assert_engine(is.matrix, 1:5))

# Reduce the severity of failure
assert_engine(is_true, c(TRUE, FALSE, NA), severity = "message")

</code></pre>

<hr>
<h2 id='assertionError'>Condition classes</h2><span id='topic+assertionError'></span><span id='topic+assertionWarning'></span><span id='topic+assertionMessage'></span>

<h3>Description</h3>

<p>Error, warning, and message classes derived from their simple equivalents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assertionError(message, call = NULL, predicate_name = NULL)

assertionWarning(message, call = NULL, predicate_name = NULL)

assertionMessage(message, call = NULL, predicate_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assertionError_+3A_message">message</code></td>
<td>
<p>A string describing the problem.</p>
</td></tr>
<tr><td><code id="assertionError_+3A_call">call</code></td>
<td>
<p>A call describing the source of the condition.</p>
</td></tr>
<tr><td><code id="assertionError_+3A_predicate_name">predicate_name</code></td>
<td>
<p>A string naming the predicate that was called when the 
condition occured.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>assertionError</code>, <code>assertionWarning</code>, or
<code>assertionMessage</code>.
</p>


<h3>Note</h3>

<p>These objects behave the same as the standard-issue <code>simpleError</code>,
<code>simpleWarning</code>, and <code>simpleMessage</code> objects from base-R.  The
extra class allows you to provide custom handling for assertions inside 
<code>tryCatch</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tryCatch(
  assert_all_are_true(FALSE), 
  error = function(e) 
  {
    if(inherits(e, "assertionCondition"))
    {
      # Handle assertions
      message("This is an assertion condition.")
      
      # Handle assertions cause by a specific predicate
      if(e$predicate_name == "is_true")
      {
      }
    } else
    {
      # Handle other error types
    }
  }
)
</code></pre>

<hr>
<h2 id='bapply'>Wrapper to vapply that returns booleans</h2><span id='topic+bapply'></span>

<h3>Description</h3>

<p>Wrapper to <code><a href="base.html#topic+vapply">vapply</a></code> for functions that return a boolean (logical 
scalar) value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bapply(x, predicate, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bapply_+3A_x">x</code></td>
<td>
<p>A vector (atomic or list).</p>
</td></tr>
<tr><td><code id="bapply_+3A_predicate">predicate</code></td>
<td>
<p>A predicate (function that returns a bool) to apply.
elementwise to <code>x</code>.</p>
</td></tr>
<tr><td><code id="bapply_+3A_...">...</code></td>
<td>
<p>Passed to <code>vapply</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Note</h3>

<p><code>USE.NAMES</code> is set to <code>TRUE</code>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+vapply">vapply</a></code>.
</p>

<hr>
<h2 id='call_and_name'>Call a function, and give the result names.</h2><span id='topic+call_and_name'></span>

<h3>Description</h3>

<p>Calls a function, and names the result with the first argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_and_name(fn, x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="call_and_name_+3A_fn">fn</code></td>
<td>
<p>A function to call.  See note below.</p>
</td></tr>
<tr><td><code id="call_and_name_+3A_x">x</code></td>
<td>
<p>The first input to <code>fn</code>.</p>
</td></tr>
<tr><td><code id="call_and_name_+3A_...">...</code></td>
<td>
<p>Optional additional inputs to <code>fn</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of <code>fn(x, ...)</code>, with names given by the
argument <code>x</code>.
</p>


<h3>Note</h3>

<p>The function, <code>fn</code>, should return an object with the 
same length as the input <code>x</code>.  For speed and simplicity, this
isn't checked; it is up to the developer of the assertion to make
sure that this condition holds.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cause">cause</a></code> and <code><a href="#topic+na">na</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>call_and_name(is.finite, c(1, Inf, NA))

# Make sure that the output is the same size as the input.
# Don't do this:
dont_stop(call_and_name(isTRUE, list(TRUE, FALSE, NA)))
# Do this instead:
call_and_name(
  Vectorize(isTRUE, SIMPLIFY = FALSE),
  list(TRUE, FALSE, NA)
)
</code></pre>

<hr>
<h2 id='cause'>Get or set the <code>"cause"</code> attribute</h2><span id='topic+cause'></span><span id='topic+cause+3C-'></span>

<h3>Description</h3>

<p>Gets or sets the <code>"cause"</code> (of failure) attribute of a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cause(x)

cause(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cause_+3A_x">x</code></td>
<td>
<p>Any variable.</p>
</td></tr>
<tr><td><code id="cause_+3A_value">value</code></td>
<td>
<p>Passed to <code>gettextf</code> and stored in the <code>"cause"</code>
attribute.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The get method returns the <code>"cause"</code> attribute.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_cause">set_cause</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Scalar case
yn &lt;- is_identical_to_true(FALSE)
cause(yn)

# Vector case
yn &lt;- is_true(c(TRUE, FALSE, NA))
cause(yn)
</code></pre>

<hr>
<h2 id='coerce_to'>Coerce variable to a different class</h2><span id='topic+coerce_to'></span>

<h3>Description</h3>

<p>Coerce the input to a different class, with a warning.  More reliable then 
<code><a href="methods.html#topic+as">as</a></code>, and supports coercion to multiple classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coerce_to(x, target_class, .xname = get_name_in_parent(x))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coerce_to_+3A_x">x</code></td>
<td>
<p>Input to coerce.</p>
</td></tr>
<tr><td><code id="coerce_to_+3A_target_class">target_class</code></td>
<td>
<p>The desired class of x.  Multiple values allowed (see 
note).</p>
</td></tr>
<tr><td><code id="coerce_to_+3A_.xname">.xname</code></td>
<td>
<p>Not intended to be used directly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input <code>x</code> after attempted coercion to the target class.
</p>


<h3>Note</h3>

<p>If x does not already have the target class, a warning is given
before coercion.  
The function will try and convert the <code>x</code> to each of the classes given
in <code>target_class</code>, in order, until it succeeds or runs out of classes
to try.  It will first try and convert <code>x</code> using a dedicated 
<code>as.target_class</code> function if that exists.  If it does not exist, or 
throws an error then <code>coerce_to</code> will try to use 
<code>as(x, target_class)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+is">is</a></code> and <code><a href="methods.html#topic+as">as</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Numbers can be coerced to characters but not to calls.
dont_stop(coerce_to(1:5, c("call", "character")))
</code></pre>

<hr>
<h2 id='dont_stop'>Run code without stopping</h2><span id='topic+dont_stop'></span>

<h3>Description</h3>

<p>Runs code without stopping for warnings or errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dont_stop(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dont_stop_+3A_expr">expr</code></td>
<td>
<p>Code to execute.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the results of evaluating each call in <code>expr</code>.
</p>


<h3>Note</h3>

<p>This function is dangerous, since it overrides warnings and errors.
Its intended use is for documenting examples of warnings and errors.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+warning">warning</a></code> and <code><a href="base.html#topic+stop">stop</a></code> for 
generating warnings and errors respectively; <code><a href="base.html#topic+try">try</a></code> and
<code><a href="base.html#topic+conditions">conditions</a></code> for handling them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dont_stop({
  warning("a warning")
  x &lt;- 1
  stop("an error")
  y &lt;- sqrt(exp(x + 1))
  assert_is_identical_to_true(y)
  y &gt; 0
})
</code></pre>

<hr>
<h2 id='false'>FALSE, with a cause of failure.</h2><span id='topic+false'></span>

<h3>Description</h3>

<p>Always returns the value <code>FALSE</code>, with a cause attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>false(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="false_+3A_...">...</code></td>
<td>
<p>Passed to <code>gettextf</code> to create a cause of failure message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>FALSE</code> with the attribute <code>cause</code>, as provided
in the input.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cause">cause</a></code> and <code><a href="#topic+na">na</a></code>.
</p>

<hr>
<h2 id='get_name_in_parent'>Get the name of a variable in the parent frame</h2><span id='topic+get_name_in_parent'></span>

<h3>Description</h3>

<p>Gets the name of the input in the parent frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_name_in_parent(x, escape_percent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_name_in_parent_+3A_x">x</code></td>
<td>
<p>Variable to get the name of.</p>
</td></tr>
<tr><td><code id="get_name_in_parent_+3A_escape_percent">escape_percent</code></td>
<td>
<p>Logical. If <code>TRUE</code>, percent signs are doubled, 
making the value suitable for use with <code>sprintf</code> (and hence by 
<code>false</code> and <code>na</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string giving the name of the input in the parent frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>outside &lt;- 1
f &lt;- function(inside, escape_percent) 
{
  get_name_in_parent(inside, escape_percent)
}
f(outside, TRUE) 
f('10%', TRUE) 
f('10%', FALSE)
</code></pre>

<hr>
<h2 id='is2'>Alternative version of is</h2><span id='topic+is2'></span>

<h3>Description</h3>

<p>If a function named <code>is.class</code> exists, call <code>is.class(x)</code>.
If not, call <code>is(x, class)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is2(x, class, .xname = get_name_in_parent(x))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is2_+3A_x">x</code></td>
<td>
<p>Input to check.</p>
</td></tr>
<tr><td><code id="is2_+3A_class">class</code></td>
<td>
<p>Target class that <code>x</code> maybe belong to.</p>
</td></tr>
<tr><td><code id="is2_+3A_.xname">.xname</code></td>
<td>
<p>Not intended to be used directly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if x belongs to the class and <code>FALSE</code> 
otherwise.
</p>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+is">is</a></code>, and 
<code><a href="assertive.types.html#topic+assert_is_all_of">assert_is_all_of</a></code> for the corresponding assert fns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is2(1:5, "character")
is2(matrix(1:5), "character")
is2(1:5, c("character", "list", "numeric"))
is2(mean, c("function", "data.frame"))
</code></pre>

<hr>
<h2 id='merge_dots_with_list'>Merge ellipsis args with a list.</h2><span id='topic+merge_dots_with_list'></span>

<h3>Description</h3>

<p>Merges variable length ellipsis arguments to a function with a list argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_dots_with_list(
  ...,
  l = list(),
  warn_on_dupes = TRUE,
  allow_unnamed_elements = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_dots_with_list_+3A_...">...</code></td>
<td>
<p>Some inputs.</p>
</td></tr>
<tr><td><code id="merge_dots_with_list_+3A_l">l</code></td>
<td>
<p>A list.</p>
</td></tr>
<tr><td><code id="merge_dots_with_list_+3A_warn_on_dupes">warn_on_dupes</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>.  Should a warning be given 
if both <code>x</code> and <code>y</code> have elements with the same name.  See note.</p>
</td></tr>
<tr><td><code id="merge_dots_with_list_+3A_allow_unnamed_elements">allow_unnamed_elements</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>. Should unnamed
elements be allowed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the merged inputs.
</p>


<h3>Note</h3>

<p>If any arguments are present in both the <code>...</code> and <code>l</code> 
arguments, the <code>...</code> version takes preference, and a warning is thrown.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+merge.list">merge.list</a></code>, <code><a href="base.html#topic+merge">merge</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>merge_dots_with_list(
  foo = 1, 
  bar = 2, 
  baz = 3, 
  l = list(foo = 4, baz = 5, quux = 6)
)
</code></pre>

<hr>
<h2 id='merge.list'>Merge two lists</h2><span id='topic+merge.list'></span>

<h3>Description</h3>

<p>Merges two lists, taking duplicated elements from the first list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
merge(x, y, warn_on_dupes = TRUE, allow_unnamed_elements = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge.list_+3A_x">x</code></td>
<td>
<p>A list.</p>
</td></tr>
<tr><td><code id="merge.list_+3A_y">y</code></td>
<td>
<p>A list.</p>
</td></tr>
<tr><td><code id="merge.list_+3A_warn_on_dupes">warn_on_dupes</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>.  Should a warning be given 
if both <code>x</code> and <code>y</code> have elements with the same name.  See note.</p>
</td></tr>
<tr><td><code id="merge.list_+3A_allow_unnamed_elements">allow_unnamed_elements</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>. Should unnamed
elements be allowed?</p>
</td></tr>
<tr><td><code id="merge.list_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list, combining elements from <code>x</code> and <code>y</code>.
</p>


<h3>Note</h3>

<p>In the event of elements that are duplicated between <code>x</code> and 
<code>y</code>, the versions from <code>x</code> are used.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+merge_dots_with_list">merge_dots_with_list</a></code>, <code><a href="base.html#topic+merge">merge</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>merge(
  list(foo = 1, bar = 2, baz = 3), 
  list(foo = 4, baz = 5, quux = 6)
)

# If unnamed elements are allowed, they are included at the end
merge(
  list("a", foo = 1, "b", bar = 2, baz = 3, "c"), 
  list(foo = 4, "a", baz = 5, "b", quux = 6, "d"),
  allow_unnamed_elements = TRUE
)
</code></pre>

<hr>
<h2 id='na'>NA, with a cause of failure.</h2><span id='topic+na'></span>

<h3>Description</h3>

<p>Always returns the value (logical) <code>NA</code>, with a cause attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>na(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="na_+3A_...">...</code></td>
<td>
<p>Passed to <code>gettextf</code> to create a cause of failure message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NA</code> with the attribute <code>cause</code>, as provided
in the input.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cause">cause</a></code> and <code><a href="#topic+false">false</a></code>.
</p>

<hr>
<h2 id='parenthesize'>Wrap a string in brackets</h2><span id='topic+parenthesize'></span><span id='topic+parenthesise'></span>

<h3>Description</h3>

<p>Parenthesise a character vector by wrapping elements in brackets, 
dashes or commas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parenthesize(
  x,
  type = c("round_brackets", "square_brackets", "curly_brackets", "angle_brackets",
    "chevrons", "hyphens", "en_dashes", "em_dashes", "commas")
)

parenthesise(
  x,
  type = c("round_brackets", "square_brackets", "curly_brackets", "angle_brackets",
    "chevrons", "hyphens", "en_dashes", "em_dashes", "commas")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parenthesize_+3A_x">x</code></td>
<td>
<p>Character vector to wrap in parenthenses.</p>
</td></tr>
<tr><td><code id="parenthesize_+3A_type">type</code></td>
<td>
<p>String naming the type of parenthesis.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the input wrapped in parentheses.
</p>


<h3>Note</h3>

<p>English grammar terminology is awfully confusing.  The verb 'to 
parenthesise' means to wrap a phrase in brackets or dashes or commas,
thus denoting it as supplementary material that could be left out.
A 'parenthesis' as a noun is often used as a synonym for a round bracket.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sQuote">sQuote</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>paste("There were three", parenthesise(3), "mice in the experiment.")
paste(
  "I love parmos", 
  parenthesise("Teesside's finest culinary invention", "en_dashes"), 
  "but they are sure to give me heart disease."
)
parenthesise(letters[1:5], "curly")
paste0(
  "The R language", 
  parenthesise("an offshoot of S and Scheme", "commas"), 
  "is quite good for data analysis."
)
</code></pre>

<hr>
<h2 id='print_and_capture'>Print a variable and capture the output</h2><span id='topic+print_and_capture'></span>

<h3>Description</h3>

<p>Prints a variable and captures the output, collapsing the value to a single 
string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_and_capture(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_and_capture_+3A_x">x</code></td>
<td>
<p>A variable.</p>
</td></tr>
<tr><td><code id="print_and_capture_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="base.html#topic+print">print</a></code> methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+print">print</a></code>, <code><a href="utils.html#topic+capture.output">capture.output</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This is useful for including data frames in warnings or errors
message("This is the sleep dataset:\n", print_and_capture(sleep))
</code></pre>

<hr>
<h2 id='print.scalar_with_cause'>Print methods for objects with a cause attribute</h2><span id='topic+print.scalar_with_cause'></span><span id='topic+print.vector_with_cause'></span>

<h3>Description</h3>

<p>Prints objects of class <code>scalar_with_cause</code> and 
<code>vector_with_cause</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'scalar_with_cause'
print(x, ...)

## S3 method for class 'vector_with_cause'
print(x, na_ignore = FALSE, n_to_show = 10, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.scalar_with_cause_+3A_x">x</code></td>
<td>
<p>an object of class <code>scalar_with_cause</code> or
<code>vector_with_cause</code>.</p>
</td></tr>
<tr><td><code id="print.scalar_with_cause_+3A_...">...</code></td>
<td>
<p>Currently unused.</p>
</td></tr>
<tr><td><code id="print.scalar_with_cause_+3A_na_ignore">na_ignore</code></td>
<td>
<p>A logical value.  If <code>FALSE</code>, <code>NA</code> values
are printed; otherwise they do not.  Like <code>na.rm</code> in many
stats package functions, except that the position of the failing
values does not change.</p>
</td></tr>
<tr><td><code id="print.scalar_with_cause_+3A_n_to_show">n_to_show</code></td>
<td>
<p>A natural number.  The maximum number of failures 
to show.</p>
</td></tr>
</table>

<hr>
<h2 id='safe_deparse'>Safe version of deparse</h2><span id='topic+safe_deparse'></span>

<h3>Description</h3>

<p>A version of <code><a href="base.html#topic+deparse">deparse</a></code> that is guaranteed to always return 
a single string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safe_deparse(expr, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safe_deparse_+3A_expr">expr</code></td>
<td>
<p>Any R expression.</p>
</td></tr>
<tr><td><code id="safe_deparse_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="base.html#topic+deparse">deparse</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector or length one.
</p>


<h3>Note</h3>

<p>By default the RStudio IDE truncates output in the console at 1000 
characters.  Consequently, if you use <code>safe_deparse</code> on large or complex
objects, you won't see the full value. You can change the setting using
Tools -&gt; &quot;Global Options...&quot; -&gt; Code -&gt; Display -&gt; Console -&gt; &quot;Limit length
of lines displayed in console to:&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># safe_deparse only differs from deparse when the deparse string is longer
# than width.cutoff
deparse(CO2, width.cutoff = 500L) # has length 6
safe_deparse(CO2)                 # has length 1
</code></pre>

<hr>
<h2 id='set_cause'>Set a cause and return the input</h2><span id='topic+set_cause'></span>

<h3>Description</h3>

<p>Sets the cause attribute of an object and returns that object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cause(x, false_value, missing_value = "missing")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cause_+3A_x">x</code></td>
<td>
<p>A variable.</p>
</td></tr>
<tr><td><code id="set_cause_+3A_false_value">false_value</code></td>
<td>
<p>A character vector to set the cause to, where <code>x</code> is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="set_cause_+3A_missing_value">missing_value</code></td>
<td>
<p>A character vector to set the cause to, where <code>x</code> is
<code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> is <code>TRUE</code> everywhere, this returns the input 
without setting a cause.  Otherwise, the cause is an empty string where 
<code>x</code> is <code>TRUE</code>, <code>false_value</code> where it is <code>FALSE</code>, and
<code>missing_value</code> where it is <code>NA</code>.
</p>


<h3>Value</h3>

<p><code>x</code>, with a new cause attribute.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cause">cause</a></code>, <code><a href="stats.html#topic+setNames">setNames</a></code>
</p>

<hr>
<h2 id='strip_attributes'>Strip all attributes from a variable</h2><span id='topic+strip_attributes'></span>

<h3>Description</h3>

<p>Strips all the attributes from a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip_attributes(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strip_attributes_+3A_x">x</code></td>
<td>
<p>Input to strip.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, without attributes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- structure(c(foo = 1, bar = 2), some_attr = 3)
x2 &lt;- strip_attributes(x)
attributes(x)
attributes(x2)
</code></pre>

<hr>
<h2 id='Truth'>Is the input TRUE/FALSE/NA?</h2><span id='topic+Truth'></span><span id='topic+assert_is_identical_to_false'></span><span id='topic+assert_is_identical_to_na'></span><span id='topic+assert_is_identical_to_true'></span><span id='topic+assert_all_are_false'></span><span id='topic+assert_any_are_false'></span><span id='topic+assert_all_are_na'></span><span id='topic+assert_any_are_na'></span><span id='topic+assert_all_are_true'></span><span id='topic+assert_any_are_true'></span><span id='topic+assert_all_are_not_false'></span><span id='topic+assert_any_are_not_false'></span><span id='topic+assert_all_are_not_na'></span><span id='topic+assert_any_are_not_na'></span><span id='topic+assert_all_are_not_true'></span><span id='topic+assert_any_are_not_true'></span><span id='topic+is_identical_to_false'></span><span id='topic+is_identical_to_na'></span><span id='topic+is_identical_to_true'></span><span id='topic+is_false'></span><span id='topic+is_na'></span><span id='topic+is_not_na'></span><span id='topic+is_not_false'></span><span id='topic+is_not_true'></span><span id='topic+is_true'></span>

<h3>Description</h3>

<p>Checks to see if the input is <code>TRUE</code>,  <code>FALSE</code> or  <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_is_identical_to_false(
  x,
  allow_attributes = FALSE,
  severity = getOption("assertive.severity", "stop")
)

assert_is_identical_to_na(
  x,
  allow_attributes = FALSE,
  severity = getOption("assertive.severity", "stop")
)

assert_is_identical_to_true(
  x,
  allow_attributes = FALSE,
  severity = getOption("assertive.severity", "stop")
)

assert_all_are_false(x, severity = getOption("assertive.severity", "stop"))

assert_any_are_false(x, severity = getOption("assertive.severity", "stop"))

assert_all_are_na(x, severity = getOption("assertive.severity", "stop"))

assert_any_are_na(x, severity = getOption("assertive.severity", "stop"))

assert_all_are_true(x, severity = getOption("assertive.severity", "stop"))

assert_any_are_true(x, severity = getOption("assertive.severity", "stop"))

assert_all_are_not_false(x, severity = getOption("assertive.severity", "stop"))

assert_any_are_not_false(x, severity = getOption("assertive.severity", "stop"))

assert_all_are_not_na(x, severity = getOption("assertive.severity", "stop"))

assert_any_are_not_na(x, severity = getOption("assertive.severity", "stop"))

assert_all_are_not_true(x, severity = getOption("assertive.severity", "stop"))

assert_any_are_not_true(x, severity = getOption("assertive.severity", "stop"))

is_identical_to_false(
  x,
  allow_attributes = FALSE,
  .xname = get_name_in_parent(x)
)

is_identical_to_na(x, allow_attributes = FALSE, .xname = get_name_in_parent(x))

is_identical_to_true(
  x,
  allow_attributes = FALSE,
  .xname = get_name_in_parent(x)
)

is_false(x, .xname = get_name_in_parent(x))

is_na(x, coerce_to_logical = FALSE, .xname = get_name_in_parent(x))

is_not_na(x, coerce_to_logical = FALSE, .xname = get_name_in_parent(x))

is_not_false(x, .xname = get_name_in_parent(x))

is_not_true(x, .xname = get_name_in_parent(x))

is_true(x, .xname = get_name_in_parent(x))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Truth_+3A_x">x</code></td>
<td>
<p>Input to check.  See note.</p>
</td></tr>
<tr><td><code id="Truth_+3A_allow_attributes">allow_attributes</code></td>
<td>
<p>If <code>TRUE</code>, a scalar value of <code>TRUE</code>
with attributes is allowed.</p>
</td></tr>
<tr><td><code id="Truth_+3A_severity">severity</code></td>
<td>
<p>How severe should the consequences of the assertion be?
Either <code>"stop"</code>, <code>"warning"</code>, <code>"message"</code>, or <code>"none"</code>.</p>
</td></tr>
<tr><td><code id="Truth_+3A_.xname">.xname</code></td>
<td>
<p>Not intended to be used directly.</p>
</td></tr>
<tr><td><code id="Truth_+3A_coerce_to_logical">coerce_to_logical</code></td>
<td>
<p>Logical: should the input be coerced to logical
before checking?  See note.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>is*</code> functions return <code>TRUE</code> if the input is 
<code>TRUE</code>/<code>FALSE</code>. The <code>assert_*</code> functions return nothing but 
throw an error if the corresponding <code>is_*</code> function returns 
<code>FALSE</code>.
</p>


<h3>Note</h3>

<p><code>is_identical_to_true</code> wraps the base function <code>isTRUE</code>, 
providing more information on failure.  Likewise, 
<code>is_identical_to_false</code> checks that the input is identical to FALSE.  If
<code>allow_attributes</code> is <code>TRUE</code>, a scalar value of <code>TRUE</code> with 
attributes is allowed. <code>is_true</code> and <code>is_false</code> are vectorized, 
returning <code>TRUE</code> when the inputs are <code>TRUE</code> and <code>FALSE</code> 
respectively.
</p>
<p>The for <code>is_true</code>, <code>is_false</code>, <code>is_not_true</code> and 
<code>is_not_false</code>, <code>x</code> argument will be coerced to be a logical vector 
if it isn't already.  
</p>
<p>Coercion to logical is optional for <code>is_na</code> and <code>is_not_na</code>. If 
you do coerce, it means that <code>is_na</code> differs in behaviour from 
<code>base::is.na</code> for character vector, list and data frame inputs.  To 
replicate the behaviour of <code>is.na</code>, ensure the argument 
<code>coerce_to_logical</code> is <code>FALSE</code> (this is the default).
</p>
<p>Note that in assertive version 0.1-4 and prior, 
<code>is_identical_to_true/false</code> were named <code>is_true/false</code> and the 
vectorized versions were not present.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+isTRUE">isTRUE</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Checks against logical values using base::identical
assert_is_identical_to_true(TRUE)
assert_is_identical_to_false(FALSE)
assert_is_identical_to_na(NA)

# Other NA types match
assert_is_identical_to_na(NA_complex_)

# NaN is not NA
dont_stop(assert_is_identical_to_na(NaN))

# For a slightly less strict test, you can ignore attributes
assert_is_identical_to_true(c(truth = TRUE), allow_attributes = TRUE)
assert_is_identical_to_false(matrix(FALSE), allow_attributes = TRUE)
assert_is_identical_to_na(structure(NA, class = "nanana"), allow_attributes = TRUE)

# Vectorized predicates (package name explicitly given to prevent
# problems with testthat name clash)
x &lt;- c(TRUE, FALSE, NA)
assertive.base::is_true(x)
assertive.base::is_false(x)
is_na(x)

# ...and their opposites
is_not_true(x)
is_not_false(x)
is_not_na(x)

# Check that at least one element fits the condition
assert_any_are_true(x)
assert_any_are_false(x)
assert_any_are_na(x)

# These checks should fail:
dont_stop({
  assert_is_identical_to_true(c(truth = TRUE))
  assert_is_identical_to_true(1)
  assert_is_identical_to_true(c(TRUE, TRUE))
  assert_is_identical_to_false(matrix(FALSE))
  assert_is_identical_to_na(structure(NA, class = "nanana"))
  assert_all_are_true(x)
  assert_all_are_false(x)
  assert_all_are_na(x)
})

# base::is.na has non-standard behaviour for data.frames and lists.
# is_na and is_not_na coerce to logical vectors (except character input).
# unlist the input or use an apply function.
d &lt;- data.frame(
  x = c(TRUE, FALSE, NA), 
  y = c(0, NA, 2), 
  z = c("a", "NA", NA)
)
is.na(d)
is_na(unlist(d))
</code></pre>

<hr>
<h2 id='use_first'>Only use the first element of a vector</h2><span id='topic+use_first'></span>

<h3>Description</h3>

<p>If the input is not scalar, then only the first element is returned, 
with a warning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_first(x, indexer = c("[[", "["), .xname = get_name_in_parent(x))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_first_+3A_x">x</code></td>
<td>
<p>Input that should be scalar.</p>
</td></tr>
<tr><td><code id="use_first_+3A_indexer">indexer</code></td>
<td>
<p>Either double indexing, <code>"[["</code> (the default) or
single indexing <code>"["</code>.</p>
</td></tr>
<tr><td><code id="use_first_+3A_.xname">.xname</code></td>
<td>
<p>Not intended to be used directly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>x</code> is scalar, it is returned unchanged, otherwise
only the first element is returned, with a warning.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dont_stop(use_first(1:5))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

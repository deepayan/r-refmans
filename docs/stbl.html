<!DOCTYPE html><html lang="en"><head><title>Help for package stbl</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stbl}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#stbl-package'><p>stbl: Stabilize Function Arguments</p></a></li>
<li><a href='#.coerce-params'><p>Shared parameters</p></a></li>
<li><a href='#object_type'><p>Identify the class, type, etc of an object</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#stabilize_arg'><p>Ensure an argument meets expectations</p></a></li>
<li><a href='#stabilize_chr'><p>Ensure a character argument meets expectations</p></a></li>
<li><a href='#stabilize_fct'><p>Ensure a factor argument meets expectations</p></a></li>
<li><a href='#stabilize_int'><p>Ensure an integer argument meets expectations</p></a></li>
<li><a href='#stabilize_lgl'><p>Ensure a logical argument meets expectations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Stabilize Function Arguments</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of consistent, opinionated functions to quickly check
    function arguments, coerce them to the desired configuration, or
    deliver informative error messages when that is not possible.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jonthegeek/stbl">https://github.com/jonthegeek/stbl</a>,
<a href="https://jonthegeek.github.io/stbl/">https://jonthegeek.github.io/stbl/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jonthegeek/stbl/issues">https://github.com/jonthegeek/stbl/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, glue, rlang (&ge; 1.1.0), vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>stringi, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-22 12:49:52 UTC; jonth</td>
</tr>
<tr>
<td>Author:</td>
<td>Jon Harmon <a href="https://orcid.org/0000-0003-4781-4346"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jon Harmon &lt;jonthegeek@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-23 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='stbl-package'>stbl: Stabilize Function Arguments</h2><span id='topic+stbl'></span><span id='topic+stbl-package'></span>

<h3>Description</h3>

<p>A set of consistent, opinionated functions to quickly check function arguments, coerce them to the desired configuration, or deliver informative error messages when that is not possible.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jon Harmon <a href="mailto:jonthegeek@gmail.com">jonthegeek@gmail.com</a> (<a href="https://orcid.org/0000-0003-4781-4346">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/jonthegeek/stbl">https://github.com/jonthegeek/stbl</a>
</p>
</li>
<li> <p><a href="https://jonthegeek.github.io/stbl/">https://jonthegeek.github.io/stbl/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jonthegeek/stbl/issues">https://github.com/jonthegeek/stbl/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.coerce-params'>Shared parameters</h2><span id='topic+.coerce-params'></span>

<h3>Description</h3>

<p>These parameters are used in multiple coercion functions. They are defined
here to make them easier to import and to find.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".coerce-params_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_allow_na">allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_allow_null">allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_allow_zero_length">allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_x">x</code></td>
<td>
<p>The argument to stabilize.</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_x_arg">x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_x_class">x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td></tr>
<tr><td><code id=".coerce-params_+3A_call">call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td></tr>
</table>

<hr>
<h2 id='object_type'>Identify the class, type, etc of an object</h2><span id='topic+object_type'></span>

<h3>Description</h3>

<p>Extract the class (or type) of an object for use in error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>object_type(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="object_type_+3A_x">x</code></td>
<td>
<p>An object to test.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A length-1 character vector describing the class of the object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>object_type("a")
object_type(1L)
object_type(1.1)
object_type(mtcars)
object_type(rlang::quo(something))
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+caller_arg'></span><span id='topic+caller_env'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>rlang</dt><dd><p><code><a href="rlang.html#topic+caller_arg">caller_arg</a></code>, <code><a href="rlang.html#topic+stack">caller_env</a></code></p>
</dd>
</dl>

<hr>
<h2 id='stabilize_arg'>Ensure an argument meets expectations</h2><span id='topic+stabilize_arg'></span><span id='topic+stabilize_arg_scalar'></span>

<h3>Description</h3>

<p><code>stabilize_arg()</code> is used by other functions such as <code><a href="#topic+stabilize_int">stabilize_int()</a></code>. Use
<code>stabilize_arg()</code> if the type-specific functions will not work for your use
case, but you would still like to check things like size or whether the
argument is NULL.
</p>
<p><code>stabilize_arg_scalar()</code> is optimized to check for length-1 vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stabilize_arg(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  min_size = NULL,
  max_size = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

stabilize_arg_scalar(
  x,
  ...,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  allow_na = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stabilize_arg_+3A_x">x</code></td>
<td>
<p>The argument to stabilize.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_allow_null">allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_allow_na">allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_x_arg">x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_call">call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_x_class">x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td></tr>
<tr><td><code id="stabilize_arg_+3A_allow_zero_length">allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, unless one of the checks fails.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wrapper &lt;- function(this_arg, ...) {
  stabilize_arg(this_arg, ...)
}
wrapper(1)
wrapper(NULL)
wrapper(NA)
try(wrapper(NULL, allow_null = FALSE))
try(wrapper(NA, allow_na = FALSE))
try(wrapper(1, min_size = 2))
try(wrapper(1:10, max_size = 5))
stabilize_arg_scalar("a")
stabilize_arg_scalar(1L)
try(stabilize_arg_scalar(1:10))
</code></pre>

<hr>
<h2 id='stabilize_chr'>Ensure a character argument meets expectations</h2><span id='topic+stabilize_chr'></span><span id='topic+stabilize_chr_scalar'></span><span id='topic+to_chr'></span><span id='topic+to_chr_scalar'></span>

<h3>Description</h3>

<p><code>to_chr()</code> checks whether an argument can be coerced to
character without losing information, returning it silently if so.
Otherwise an informative error message is signaled.
</p>
<p><code>stabilize_chr()</code> can check more details about the argument, but is slower
than <code>to_chr()</code>.
</p>
<p><code>stabilize_chr_scalar()</code> and <code>to_chr_scalar()</code> are optimized to check for
length-1 character vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stabilize_chr(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  min_size = NULL,
  max_size = NULL,
  regex = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

stabilize_chr_scalar(
  x,
  ...,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  allow_na = TRUE,
  regex = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_chr(
  x,
  allow_null = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_chr_scalar(
  x,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stabilize_chr_+3A_x">x</code></td>
<td>
<p>The argument to stabilize.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_allow_null">allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_allow_na">allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_regex">regex</code></td>
<td>
<p>Character scalar. An optional regex pattern to compare the
value(s) of <code>x</code> against. If a complex regex pattern throws an error, try
installing the stringi package with <code>install.packages("stringi")</code>.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_x_arg">x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_call">call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_x_class">x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td></tr>
<tr><td><code id="stabilize_chr_+3A_allow_zero_length">allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions have two important differences from
<code><a href="base.html#topic+character">base::as.character()</a></code>:
</p>

<ul>
<li> <p><code>list</code>s and <code>data.frame</code>s are <em>not</em> coerced to character. In base R, such
objects are coerced to character representations of their elements. For
example, <code>as.character(list(1:3))</code> returns &quot;1:10&quot;. In the unlikely event
that this is the expected behavior, use <code>as.character()</code> instead.
</p>
</li>
<li> <p><code>NULL</code> values can be rejected as part of the call to this function (with
<code>allow_null = FALSE</code>).
</p>
</li></ul>



<h3>Value</h3>

<p>The argument as a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_chr("a")
to_chr(letters)
to_chr(1:10)
to_chr(1 + 0i)
to_chr(NULL)
try(to_chr(NULL, allow_null = FALSE))

to_chr_scalar("a")
try(to_chr_scalar(letters))

stabilize_chr(letters)
stabilize_chr(1:10)
stabilize_chr(NULL)
try(stabilize_chr(NULL, allow_null = FALSE))
try(stabilize_chr(c("a", NA), allow_na = FALSE))
try(stabilize_chr(letters, min_size = 50))
try(stabilize_chr(letters, max_size = 20))
try(stabilize_chr(c("hide", "find", "find", "hide"), regex = "hide"))

stabilize_chr_scalar(TRUE)
stabilize_chr_scalar("TRUE")
try(stabilize_chr_scalar(c(TRUE, FALSE, TRUE)))
stabilize_chr_scalar(NULL)
try(stabilize_chr_scalar(NULL, allow_null = FALSE))
</code></pre>

<hr>
<h2 id='stabilize_fct'>Ensure a factor argument meets expectations</h2><span id='topic+stabilize_fct'></span><span id='topic+stabilize_fct_scalar'></span><span id='topic+to_fct'></span><span id='topic+to_fct_scalar'></span>

<h3>Description</h3>

<p><code>to_fct()</code> checks whether an argument can be coerced to
a factor without losing information, returning it silently if so.
Otherwise an informative error message is signaled.
</p>
<p><code>stabilize_fct()</code> can check more details about the argument, but is slower
than <code>to_fct()</code>.
</p>
<p><code>stabilize_fct_scalar()</code> and <code>to_fct_scalar()</code> are optimized to check for
length-1 factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stabilize_fct(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  min_size = NULL,
  max_size = NULL,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

stabilize_fct_scalar(
  x,
  ...,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  allow_na = TRUE,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_fct(
  x,
  allow_null = TRUE,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_fct_scalar(
  x,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  levels = NULL,
  to_na = character(),
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stabilize_fct_+3A_x">x</code></td>
<td>
<p>The argument to stabilize.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_allow_null">allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_allow_na">allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_levels">levels</code></td>
<td>
<p>Character. Expected levels. If <code>NULL</code> (default), the levels
will be computed by <code><a href="base.html#topic+factor">base::factor()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_to_na">to_na</code></td>
<td>
<p>Character. Values to coerce to <code>NA</code>.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_x_arg">x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_call">call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_x_class">x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td></tr>
<tr><td><code id="stabilize_fct_+3A_allow_zero_length">allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions have important differences from <code><a href="base.html#topic+factor">base::as.factor()</a></code> and
<code><a href="base.html#topic+factor">base::factor()</a></code>:
</p>

<ul>
<li><p> Values are never silently coerced to <code>NA</code> unless they are explicitly
supplied in the <code>to_na</code> argument.
</p>
</li>
<li> <p><code>NULL</code> values can be rejected as part of the call to this function (with
<code>allow_null = FALSE</code>).
</p>
</li></ul>



<h3>Value</h3>

<p>The argument as a factor.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_fct("a")
to_fct(1:10)
to_fct(NULL)
try(to_fct(letters[1:5], levels = c("a", "c"), to_na = "b"))

to_fct_scalar("a")
try(to_fct_scalar(letters))

stabilize_fct(letters)
try(stabilize_fct(NULL, allow_null = FALSE))
try(stabilize_fct(c("a", NA), allow_na = FALSE))
try(stabilize_fct(c("a", "b", "c"), min_size = 5))
try(stabilize_fct(c("a", "b", "c"), max_size = 2))

stabilize_fct_scalar("a")
try(stabilize_fct_scalar(letters))
try(stabilize_fct_scalar("c", levels = c("a", "b")))
</code></pre>

<hr>
<h2 id='stabilize_int'>Ensure an integer argument meets expectations</h2><span id='topic+stabilize_int'></span><span id='topic+stabilize_int_scalar'></span><span id='topic+to_int'></span><span id='topic+to_int_scalar'></span>

<h3>Description</h3>

<p><code>to_int()</code> checks whether an argument can be coerced to
integer without losing information, returning it silently if so.
Otherwise an informative error message is signaled.
</p>
<p><code>stabilize_int()</code> can check more details about the argument, but is slower
than <code>to_int()</code>.
</p>
<p><code>stabilize_int_scalar()</code> and <code>to_int_scalar()</code> are optimized to check for
length-1 integer vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stabilize_int(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  min_size = NULL,
  max_size = NULL,
  min_value = NULL,
  max_value = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

stabilize_int_scalar(
  x,
  ...,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  allow_na = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  min_value = NULL,
  max_value = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_int(
  x,
  allow_null = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_int_scalar(
  x,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stabilize_int_+3A_x">x</code></td>
<td>
<p>The argument to stabilize.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_allow_null">allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_allow_na">allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_coerce_character">coerce_character</code></td>
<td>
<p>Logical. Should character vectors such as &quot;1&quot; and
&quot;2.0&quot; be coerced to integer?</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_coerce_factor">coerce_factor</code></td>
<td>
<p>Logical. Should factors with values such as &quot;1&quot; and
&quot;2.0&quot; be coerced to integer? Note that this function uses the character
value from the factor, while <code><a href="base.html#topic+as.integer">as.integer()</a></code> uses the integer index of the
factor.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_min_value">min_value</code></td>
<td>
<p>Integer scalar. The lowest allowed value for <code>x</code>. If <code>NULL</code>
(default) values are not checked.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_max_value">max_value</code></td>
<td>
<p>Integer scalar. The highest allowed value for <code>x</code>. If <code>NULL</code>
(default) values are not checked.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_x_arg">x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_call">call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_x_class">x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td></tr>
<tr><td><code id="stabilize_int_+3A_allow_zero_length">allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The argument as an integer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_int(1:10)
to_int("1")
to_int(1 + 0i)
to_int(NULL)
try(to_int(c(1, 2, 3.1, 4, 5.2)))
try(to_int("1", coerce_character = FALSE))
try(to_int(c("1", "2", "3.1", "4", "5.2")))

to_int_scalar("1")
try(to_int_scalar(1:10))

stabilize_int(1:10)
stabilize_int("1")
stabilize_int(1 + 0i)
stabilize_int(NULL)
try(stabilize_int(NULL, allow_null = FALSE))
try(stabilize_int(c(1, NA), allow_na = FALSE))
try(stabilize_int(letters))
try(stabilize_int("1", coerce_character = FALSE))
try(stabilize_int(factor(c("1", "a"))))
try(stabilize_int(factor("1"), coerce_factor = FALSE))
try(stabilize_int(1:10, min_value = 3))
try(stabilize_int(1:10, max_value = 7))

stabilize_int_scalar(1L)
stabilize_int_scalar("1")
try(stabilize_int_scalar(1:10))
stabilize_int_scalar(NULL)
try(stabilize_int_scalar(NULL, allow_null = FALSE))
</code></pre>

<hr>
<h2 id='stabilize_lgl'>Ensure a logical argument meets expectations</h2><span id='topic+stabilize_lgl'></span><span id='topic+stabilize_lgl_scalar'></span><span id='topic+to_lgl'></span><span id='topic+to_lgl_scalar'></span>

<h3>Description</h3>

<p><code>to_lgl()</code> checks whether an argument can be coerced to
logical without losing information, returning it silently if so.
Otherwise an informative error message is signaled.
</p>
<p><code>stabilize_lgl()</code> can check more details about the argument, but is slower
than <code>to_lgl()</code>.
</p>
<p><code>stabilize_lgl_scalar()</code> and <code>to_lgl_scalar()</code> are optimized to check for
length-1 logical vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stabilize_lgl(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  min_size = NULL,
  max_size = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

stabilize_lgl_scalar(
  x,
  ...,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  allow_na = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_lgl(
  x,
  allow_null = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_lgl_scalar(
  x,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stabilize_lgl_+3A_x">x</code></td>
<td>
<p>The argument to stabilize.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_allow_null">allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_allow_na">allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code><a href="vctrs.html#topic+vec_size">vctrs::vec_size()</a></code>.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_x_arg">x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_call">call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_x_class">x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td></tr>
<tr><td><code id="stabilize_lgl_+3A_allow_zero_length">allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The argument as a logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_lgl(TRUE)
to_lgl("TRUE")
to_lgl(1:10)
to_lgl(NULL)
try(to_lgl(NULL, allow_null = FALSE))
try(to_lgl(letters))
try(to_lgl(list(TRUE)))

to_lgl_scalar("TRUE")
try(to_lgl_scalar(c(TRUE, FALSE)))

stabilize_lgl(c(TRUE, FALSE, TRUE))
stabilize_lgl("true")
stabilize_lgl(NULL)
try(stabilize_lgl(NULL, allow_null = FALSE))
try(stabilize_lgl(c(TRUE, NA), allow_na = FALSE))
try(stabilize_lgl(letters))
try(stabilize_lgl(c(TRUE, FALSE, TRUE), min_size = 5))
try(stabilize_lgl(c(TRUE, FALSE, TRUE), max_size = 2))

stabilize_lgl_scalar(TRUE)
stabilize_lgl_scalar("TRUE")
try(stabilize_lgl_scalar(c(TRUE, FALSE, TRUE)))
stabilize_lgl_scalar(NULL)
try(stabilize_lgl_scalar(NULL, allow_null = FALSE))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

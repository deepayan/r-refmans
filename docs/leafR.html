<!DOCTYPE html><html><head><title>Help for package leafR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {leafR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#FHD'><p>Foliage Height Diversity</p></a></li>
<li><a href='#GC'><p>Gini coefficient of foliage structural diversity</p></a></li>
<li><a href='#GS'><p>Gini-Simpson index of foliage structural diversity</p></a></li>
<li><a href='#k.coefficient'><p>Calculate k coefficient provided a known real LAI and the</p>
calculated LAI</a></li>
<li><a href='#lad.profile'><p>This function calculate the lad profile from the input lad.voxels</p></a></li>
<li><a href='#lad.voxels'><p>Creates a data frame of the 3D voxels information (xyz)</p>
with Leaf Area Density values from las file</a></li>
<li><a href='#LAHV'><p>Leaf Area Height Volume metric</p></a></li>
<li><a href='#lai'><p>calculates the lead area index (LAI)</p></a></li>
<li><a href='#lai.raster'><p>Produce a raster map of LAI. The resolution of the raster depends of grain.size choosed on lad.voxel() funtion.</p></a></li>
<li><a href='#lidar_example.laz'><p>lidar_example.laz included raw data</p></a></li>
<li><a href='#pointsByZSlice'><p>Count number of points in each Z slice</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculates the Leaf Area Index (LAD) and Other Related Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.5</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of functions for analyzing the structure 
  of forests based on the leaf area density (LAD) and leaf area index (LAI) measures 
  calculated from Airborne Laser Scanning (ALS), i.e., scanning lidar (Light Detection 
  and Ranging) data. The methodology is discussed and described in 
  Almeida et al. (2019) &lt;<a href="https://doi.org/10.3390%2Frs11010092">doi:10.3390/rs11010092</a>&gt; and 
  Stark et al. (2012) &lt;<a href="https://doi.org/10.1111%2Fj.1461-0248.2012.01864.x">doi:10.1111/j.1461-0248.2012.01864.x</a>&gt;.</td>
</tr>
<tr>
<td>Imports:</td>
<td>lidR, sp, data.table, raster, stats</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DRAAlmeida/leafR">https://github.com/DRAAlmeida/leafR</a>,
<a href="https://leafr.r-forge.r-project.org">https://leafr.r-forge.r-project.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DRAAlmeida/leafR/issues">https://github.com/DRAAlmeida/leafR/issues</a></td>
</tr>
<tr>
<td>Author:</td>
<td>Danilo Roberti Alves de Almeida
    <a href="https://orcid.org/0000-0002-8747-0085"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Scott Christopher Stark
    <a href="https://orcid.org/0000-0002-1579-1648"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Carlos Alberto Silva
    <a href="https://orcid.org/0000-0002-7844-3560"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Caio Hamamura <a href="https://orcid.org/0000-0001-6149-5885"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Ruben Valbuena <a href="https://orcid.org/0000-0003-0493-7581"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Danilo Roberti Alves de Almeida &lt;daniloflorestas@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Repository/R-Forge/Project:</td>
<td>leafr</td>
</tr>
<tr>
<td>Repository/R-Forge/Revision:</td>
<td>9</td>
</tr>
<tr>
<td>Repository/R-Forge/DateTimeStamp:</td>
<td>2021-07-02 01:39:40</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-04 18:30:02 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-02 01:54:06 UTC; rforge</td>
</tr>
</table>
<hr>
<h2 id='FHD'>Foliage Height Diversity</h2><span id='topic+FHD'></span>

<h3>Description</h3>

<p>Calculates the foliage height diversity (FHD) metric
from abundances considered as per-voxel relative LAD values, as described in MacArthur and MacArthur (1961).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FHD(lad_profile, evenness = FALSE, LAD.threshold = -1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FHD_+3A_lad_profile">lad_profile</code></td>
<td>
<p>a data.frame including values of relative LAD at height intervals, output of the lad.profile function (use relative = TRUE)</p>
</td></tr>
<tr><td><code id="FHD_+3A_evenness">evenness</code></td>
<td>
<p>boolean, defines whether FHD should be based on Shannon's diversity or evenness (Hill 1973).
The default FALSE calculates Shannon diversity as the original FHD by MacArthur and MacArthur (1961);
the alternative TRUE was recommended by Valbuena et al. (2012), and it calculates Shannon evenness dividing it by the natural logarithm of the number of number of voxels with LAD values above the threshold.</p>
</td></tr>
<tr><td><code id="FHD_+3A_lad.threshold">LAD.threshold</code></td>
<td>
<p>numerical (0,1), defines the minimum value of LAD for considering the relative leaf abundance of a voxel in FHD calculation. Defaults to the inverse of the total number of voxels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+numeric">numeric</a></code> containing the Foliage Height Diversity calculated from the Leaf Area Density profile
</p>


<h3>References</h3>

<p>Hill M. O. (1973) Diversity and evenness: a unifying notation and its consequences. Ecology. 54: 427–432. doi: <a href="https://doi.org/10.2307/1934352">10.2307/1934352</a>
</p>
<p>MacArthur R.H., MacArthur J.W. (1961). On bird species diversity. Ecology 42: 594–598. doi: <a href="https://doi.org/10.2307/1932254">10.2307/1932254</a>
</p>
<p>Valbuena R., Packalen P., Martín-Fernández S., Maltamo M. (2012) Diversity and equitability ordering profiles applied to the study of forest structure. Forest Ecology and Management 276: 185–195. doi: <a href="https://doi.org/10.1016/j.foreco.2012.03.036">10.1016/j.foreco.2012.03.036</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

# Calculate the LAD profile
lad_profile = lad.profile(VOXELS_LAD, relative = TRUE)

FHD(lad_profile, evenness = FALSE)
FHD(lad_profile, evenness = TRUE)

</code></pre>

<hr>
<h2 id='GC'>Gini coefficient of foliage structural diversity</h2><span id='topic+GC'></span>

<h3>Description</h3>

<p>Calculates the Gini coefficient (GC) from individual LIDAR returns (i.e. without voxelization),
as described for the L-coefficient of variation (equivalent to Gini) in Valbuena et al. (2017).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GC(normlas.file, threshold = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GC_+3A_normlas.file">normlas.file</code></td>
<td>
<p>normalized las file</p>
</td></tr>
<tr><td><code id="GC_+3A_threshold">threshold</code></td>
<td>
<p>numerical, defines the minimum height considered to represent an echo from leaves.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+numeric">numeric</a></code> containing the Gini coefficient (GC) calculated from the normalized LAS file
</p>


<h3>Note</h3>

<p>Valbuena et al. (2012) argues on why Gini is better suited to describe structural complexity the Foliage Height Diversity or the Gini-Simpon index.
</p>


<h3>References</h3>

<p>Valbuena R., Packalen P., Martín-Fernández S., Maltamo M. (2012) Diversity and equitability ordering profiles applied to the study of forest structure. Forest Ecology and Management 276: 185–195. doi: <a href="https://doi.org/10.1016/j.foreco.2012.03.036">10.1016/j.foreco.2012.03.036</a>
Valbuena R., Maltamo M., Mehtätalo L., Packalen P. (2017) Key structural features of Boreal forests may be detected directly using L-moments from airborne lidar data. Remote Sensing of Environment. 194: 437–446. doi: <a href="https://doi.org/10.1016/j.rse.2016.10.024">10.1016/j.rse.2016.10.024</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

GC(normlas.file, threshold =1)

</code></pre>

<hr>
<h2 id='GS'>Gini-Simpson index of foliage structural diversity</h2><span id='topic+GS'></span>

<h3>Description</h3>

<p>Calculates the Gini-Simpson (GS) index metric (i.e. complement of Simpson diversity (<code class="reqn">1 - \gamma</code>)
from abundances considered as per-voxel relative LAD values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GS(lad_profile, evenness = FALSE, LAD.threshold = -1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GS_+3A_lad_profile">lad_profile</code></td>
<td>
<p>a data.frame including values of relative LAD at height intervals, output of the lad.profile function (use relative = TRUE)</p>
</td></tr>
<tr><td><code id="GS_+3A_evenness">evenness</code></td>
<td>
<p>boolean, defines whether GS should be based on Simpson's diversity or evenness (Hill 1973).
The default FALSE calculates Simpson's diversity (<code class="reqn">\gamma</code>);
the alternative TRUE was recommended by Valbuena et al. (2012), and it divides by the number of voxels with LAD values above the threshold, following Smith and Wilson (1996).</p>
</td></tr>
<tr><td><code id="GS_+3A_lad.threshold">LAD.threshold</code></td>
<td>
<p>numerical (0,1), defines the minimum value of LAD for considering the relative leaf abundance of a voxel in GS calculation. Defaults to the inverse of the total number of voxels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+numeric">numeric</a></code> containing the Fini-Simpson index calculated from the Leaf Area Density profile
</p>


<h3>References</h3>

<p>Hill M. O. (1973) Diversity and evenness: a unifying notation and its consequences. Ecology. 54: 427–432. doi: <a href="https://doi.org/10.2307/1934352">10.2307/1934352</a>
</p>
<p>Smith B., and Wilson J.B. (1996). A consumer's guide to evenness indices. Oikos 76: 70–82. doi: <a href="https://doi.org/10.2307/3545749">10.2307/3545749</a>
</p>
<p>Valbuena R., Packalen P., Martín-Fernández S., Maltamo M. (2012) Diversity and equitability ordering profiles applied to the study of forest structure. Forest Ecology and Management 276: 185–195. doi: <a href="https://doi.org/10.1016/j.foreco.2012.03.036">10.1016/j.foreco.2012.03.036</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

# Calculate the LAD profile
lad_profile = lad.profile(VOXELS_LAD, relative = TRUE)

GS(lad_profile, evenness = FALSE)
GS(lad_profile, evenness = TRUE)

</code></pre>

<hr>
<h2 id='k.coefficient'>Calculate k coefficient provided a known real LAI and the
calculated LAI</h2><span id='topic+k.coefficient'></span>

<h3>Description</h3>

<p>Calculate k coefficient provided a known real LAI and the
calculated LAI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>k.coefficient(lidar.lai, real.lai = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="k.coefficient_+3A_lidar.lai">lidar.lai</code></td>
<td>
<p>the output from lai() function</p>
</td></tr>
<tr><td><code id="k.coefficient_+3A_real.lai">real.lai</code></td>
<td>
<p>numeric, known real LAI</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+numeric">numeric</a></code> with the calculate value for k coefficient for calibrating the real LAI from calculated LAI.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

# Calculate the LAD profile
lad_profile = lad.profile(VOXELS_LAD)

# Calculate LAI derived from LAD profile
lidar.lai = lai(lad_profile); lidar.lai

# The real LAI was measured in the field work for validation
k.coefficient(lidar.lai,  real.lai = 6)

</code></pre>

<hr>
<h2 id='lad.profile'>This function calculate the lad profile from the input lad.voxels</h2><span id='topic+lad.profile'></span>

<h3>Description</h3>

<p>This function calculate the lad profile from the input lad.voxels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lad.profile(VOXELS_LAD, relative = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lad.profile_+3A_voxels_lad">VOXELS_LAD</code></td>
<td>
<p>3D grid of LAD values (output of lad.voxels() function)</p>
</td></tr>
<tr><td><code id="lad.profile_+3A_relative">relative</code></td>
<td>
<p>produce lad profile by relative total LAI values. Indicate when usinh effective LAI</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with the calculated Leaf Area Density
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

lad_profile = lad.profile(VOXELS_LAD)
plot(lad_profile$height ~ lad_profile$lad, type = "l", ylim = c(0, 40),
     ylab = "Canopy height (m)", xlab = "LAD (m2/m3)")

# relative LAD PROFILE
relative.lad_profile = lad.profile(VOXELS_LAD, relative = TRUE)

plot(relative.lad_profile$height ~ relative.lad_profile$lad, type = "l", ylim = c(0, 40),
     ylab = "Canopy height (m)", xlab = "LAD (% of LAI)")

</code></pre>

<hr>
<h2 id='lad.voxels'>Creates a data frame of the 3D voxels information (xyz)
with Leaf Area Density values from las file</h2><span id='topic+lad.voxels'></span>

<h3>Description</h3>

<p>Creates a data frame of the 3D voxels information (xyz)
with Leaf Area Density values from las file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lad.voxels(normlas.file, grain.size = 1, k = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lad.voxels_+3A_normlas.file">normlas.file</code></td>
<td>
<p>normalized las file</p>
</td></tr>
<tr><td><code id="lad.voxels_+3A_grain.size">grain.size</code></td>
<td>
<p>horizontal resolution (suggested 1 meter for lad profiles and 10 meters for LAI maps)</p>
</td></tr>
<tr><td><code id="lad.voxels_+3A_k">k</code></td>
<td>
<p>coefficient to transform effective LAI to real LAI (k = 1; for effective LAI)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> of the 3D voxels information (xyz) with Leaf Area Density values
</p>


<h3>Note</h3>

<p>The values of LAD are not estimated below 1 meter. For the following reasons:
ground points influence
realtive low sampling
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2, k=1)

</code></pre>

<hr>
<h2 id='LAHV'>Leaf Area Height Volume metric</h2><span id='topic+LAHV'></span>

<h3>Description</h3>

<p>Calculates the leaf area height volume (LAHV) metric
as described in Almeida et al. (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LAHV(lad_profile, LAI.weighting = FALSE, height.weighting = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LAHV_+3A_lad_profile">lad_profile</code></td>
<td>
<p>output of the lad.profile function</p>
</td></tr>
<tr><td><code id="LAHV_+3A_lai.weighting">LAI.weighting</code></td>
<td>
<p>boolean, define if LAVH should be weighted by total LAI. default FALSE</p>
</td></tr>
<tr><td><code id="LAHV_+3A_height.weighting">height.weighting</code></td>
<td>
<p>boolean, define if LAVH should be weighted by the max height. default FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+numeric">numeric</a></code> containing the Leaf Area Heght Volume calculated from the Leaf Area Density profile.
</p>


<h3>References</h3>

<p>Almeida, D. R. A., Stark, S. C., Chazdon, R., Nelson, B. W., Cesar, R. G., Meli, P., … Brancalion, P. H. S. (2019). The effectiveness of lidar remote sensing for monitoring forest cover attributes and landscape restoration. Forest Ecology and Management, 438, 34–43. doi: <a href="https://doi.org/10.1016/J.FORECO.2019.02.002">10.1016/J.FORECO.2019.02.002</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

# Calculate the LAD profile
lad_profile = lad.profile(VOXELS_LAD)

LAHV(lad_profile, LAI.weighting = FALSE, height.weighting = FALSE)
LAHV(lad_profile, LAI.weighting = TRUE, height.weighting = FALSE)
LAHV(lad_profile, LAI.weighting = FALSE, height.weighting = TRUE)
LAHV(lad_profile, LAI.weighting = TRUE, height.weighting = TRUE)

</code></pre>

<hr>
<h2 id='lai'>calculates the lead area index (LAI)</h2><span id='topic+lai'></span>

<h3>Description</h3>

<p>calculates the lead area index (LAI)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lai(lad_profile, min = 1, max = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lai_+3A_lad_profile">lad_profile</code></td>
<td>
<p>output of the lad.profile function</p>
</td></tr>
<tr><td><code id="lai_+3A_min">min</code></td>
<td>
<p>mix canopy height</p>
</td></tr>
<tr><td><code id="lai_+3A_max">max</code></td>
<td>
<p>max canopy height</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+numeric">numeric</a></code> containing the LAI calculated from the Leaf Area Density
</p>


<h3>Note</h3>

<p>The use of min and max arguments allowed the estimation of the LAI for different vertical strata
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

# Calculate the LAD profile
lad_profile = lad.profile(VOXELS_LAD)

lidar.lai = lai(lad_profile); lidar.lai
understory.lai = lai(lad_profile, min = 1, max = 5); understory.lai

# relative LAD PROFILE
relative.lad_profile = lad.profile(VOXELS_LAD, relative = TRUE)

#understory relative LAI (% of total LAI)
relative.understory.lai = lai(relative.lad_profile, min = 1, max = 5); relative.understory.lai

</code></pre>

<hr>
<h2 id='lai.raster'>Produce a raster map of LAI. The resolution of the raster depends of grain.size choosed on lad.voxel() funtion.</h2><span id='topic+lai.raster'></span>

<h3>Description</h3>

<p>Produce a raster map of LAI. The resolution of the raster depends of grain.size choosed on lad.voxel() funtion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lai.raster(VOXELS_LAD, min = 1, relative.value = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lai.raster_+3A_voxels_lad">VOXELS_LAD</code></td>
<td>
<p>3D grid of LAD values (output of lad.voxels() function)</p>
</td></tr>
<tr><td><code id="lai.raster_+3A_min">min</code></td>
<td>
<p>mix canopy height</p>
</td></tr>
<tr><td><code id="lai.raster_+3A_relative.value">relative.value</code></td>
<td>
<p>LAI map can be made in percentage of a relative lai value (indicate for effective LAI)
</p>
<p>A Leaf Area Index (LAI) <code><a href="raster.html#topic+Raster-classes">RasterLayer</a></code> produced from the LAD voxels output from <code><a href="#topic+lad.voxels">lad.voxels()</a></code> function.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(raster)
# Get the example laz file
normlas.file = system.file("extdata", "lidar_example.laz", package="leafR")

# Calculate LAD from voxelization
# use thicker grain size to avoid voxels
# without returns
VOXELS_LAD.5 = lad.voxels(normlas.file,
                        grain.size = 5, k=1)

#Map using absolute values
lai_raster = lai.raster(VOXELS_LAD.5)
plot(lai_raster)

#############################
## RELATIVE LAI Raster
######################
# Calculate voxels LAD with finer grain size for
# better estimation of LAI
VOXELS_LAD = lad.voxels(normlas.file,
                        grain.size = 2)

# Calculate the LAD profile
lad_profile = lad.profile(VOXELS_LAD)

#Calculate LAI derived from LAD profile
lidar.lai = lai(lad_profile)

#Map using relative values (%)
relative.lai_raster = lai.raster(VOXELS_LAD.5, relative.value = lidar.lai)
plot(relative.lai_raster)

</code></pre>

<hr>
<h2 id='lidar_example.laz'>lidar_example.laz included raw data</h2><span id='topic+lidar_example.laz'></span>

<h3>Description</h3>

<p>Tiny LiDAR data example for providing functional examples
</p>

<hr>
<h2 id='pointsByZSlice'>Count number of points in each Z slice</h2><span id='topic+pointsByZSlice'></span>

<h3>Description</h3>

<p>Count number of points in each Z slice
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pointsByZSlice(Z, maxZ)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pointsByZSlice_+3A_z">Z</code></td>
<td>
<p>numeric vector. The heights vector.</p>
</td></tr>
<tr><td><code id="pointsByZSlice_+3A_maxz">maxZ</code></td>
<td>
<p>numeric. The maximum height expected in the whole dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list</a></code> of point counts in each Z slice of 1 meter
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

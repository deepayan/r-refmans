<!DOCTYPE html><html><head><title>Help for package pingr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pingr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pingr-package'><p>Check if the local or remote computer is up</p></a></li>
<li><a href='#apple_captive_test'><p>Download Apple's captive portal test</p></a></li>
<li><a href='#is_online'><p>Is the computer online?</p></a></li>
<li><a href='#my_ip'><p>Query the computer's public IP address</p></a></li>
<li><a href='#nsl'><p>DNS query</p></a></li>
<li><a href='#ping'><p>Ping a remote server, to see if it is alive</p></a></li>
<li><a href='#ping_port'><p>Check if a port of a server is active, measure response time</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Check if a Remote Computer is Up</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Check if a remote computer is up. It can either just call the
    system ping command, or check a specified TCP port.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-lib.github.io/pingr/">https://r-lib.github.io/pingr/</a>, <a href="https://github.com/r-lib/pingr">https://github.com/r-lib/pingr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/pingr/issues">https://github.com/r-lib/pingr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>processx, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-10 13:42:05 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>Gábor Csárdi [aut, cre],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gábor Csárdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-10 14:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pingr-package'>Check if the local or remote computer is up</h2><span id='topic+pingr'></span><span id='topic+pingr-package'></span>

<h3>Description</h3>

<p>Check if a remote computer is up. It can either just call the system ping command, or check a specified TCP port.
</p>
<p>Check if a remote computer is up. It can either just call the system ping command, or check a specified TCP port.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gábor Csárdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://r-lib.github.io/pingr/">https://r-lib.github.io/pingr/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/pingr">https://github.com/r-lib/pingr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/pingr/issues">https://github.com/r-lib/pingr/issues</a>
</p>
</li></ul>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://r-lib.github.io/pingr/">https://r-lib.github.io/pingr/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/pingr">https://github.com/r-lib/pingr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/pingr/issues">https://github.com/r-lib/pingr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='apple_captive_test'>Download Apple's captive portal test</h2><span id='topic+apple_captive_test'></span>

<h3>Description</h3>

<p>If the test page, returns &quot;Success&quot; that means that the computer is
connected to the Internet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apple_captive_test()
</code></pre>


<h3>Details</h3>

<p>Note that this function will fail if the computer is offline. Use
<code><a href="#topic+is_online">is_online()</a></code> to check if the computer is online.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
apple_captive_test()

</code></pre>

<hr>
<h2 id='is_online'>Is the computer online?</h2><span id='topic+is_online'></span>

<h3>Description</h3>

<p>Check if the computer is online. It does three tries:
</p>

<ul>
<li><p> Retrieve Apple's Captive Portal test page, see <code><a href="#topic+apple_captive_test">apple_captive_test()</a></code>.
</p>
</li>
<li><p> Queries myip.opendns.com on OpenDNS, see <code><a href="#topic+my_ip">my_ip()</a></code>.
</p>
</li>
<li><p> Retrieves icanhazip.com via HTTPS, see <code><a href="#topic+my_ip">my_ip()</a></code>.
If any of these are successful, it returns <code>TRUE</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>is_online(timeout = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_online_+3A_timeout">timeout</code></td>
<td>
<p>Timeout for the queries. (Note: it is currently not
used for the DNS query.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Possible values: </p>

<ul>
<li> <p><code>TRUE</code> Yes, online.
</p>
</li>
<li> <p><code>FALSE</code> No, not online.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
is_online()

</code></pre>

<hr>
<h2 id='my_ip'>Query the computer's public IP address</h2><span id='topic+my_ip'></span>

<h3>Description</h3>

<p>It can use a DNS query to opendns.com, if <code>method == "dns"</code>, or
an HTTPS query to icanhazip.com, see https://github.com/major/icanhaz.
The DNS query is much faster, the HTTPS query is secure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>my_ip(method = c("dns", "https"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="my_ip_+3A_method">method</code></td>
<td>
<p>Whether to use a DNS or HTTPS query.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Computer's public IP address as a string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
my_ip()
my_ip(method = "https")

</code></pre>

<hr>
<h2 id='nsl'>DNS query</h2><span id='topic+nsl'></span>

<h3>Description</h3>

<p>Perform a DNS query for a domain. It supports custom name servers,
and querying DNS records of certain class and type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nsl(domain, server = NULL, type = 1L, class = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nsl_+3A_domain">domain</code></td>
<td>
<p>Domain to query.</p>
</td></tr>
<tr><td><code id="nsl_+3A_server">server</code></td>
<td>
<p>Custom name server IP address, to use. Note that this
must be an IP address currently. E.g. 8.8.8.8 is Google's DNS server.</p>
</td></tr>
<tr><td><code id="nsl_+3A_type">type</code></td>
<td>
<p>Record type to query, an integer scalar. 1L is an A record,
28L is an AAAA record, etc. See e.g.
https://en.wikipedia.org/wiki/List_of_DNS_record_types for the record
types.</p>
</td></tr>
<tr><td><code id="nsl_+3A_class">class</code></td>
<td>
<p>Query class. This is usually 1L, i.e. &quot;Internet&quot;. See e.g.
https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-2
for all DNS classes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of two entries currently, additional entries might be
added later:
</p>

<ul>
<li> <p><code>answer</code>: a data frame of DNS records, with columns:
<code>name</code>, <code>class</code>, <code>type</code>, <code>ttl</code>, <code>data</code>. <code>data</code> is a list column and
contains the IP(6) address for A and AAAA records, but it contains
other data, e.g. host name for CNAME, for other records. If pingr
could not parse a record (it only parses the most common records
types: A, AAAA, NA, PTR, CNAME, TXT, MX, SOA), then the data of
the record is included as a raw vector.
</p>
</li>
<li> <p><code>flags</code>: a named logical vector of flags <code>aa</code>, <code>tc</code>, <code>rd</code>, <code>ra</code>,
<code>ad</code>, <code>cd</code>. See the RFC (https://www.ietf.org/rfc/rfc1035.txt) for
these. On Windows they are all set to NA currently.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
nsl("r-project.org")
nsl("google.com", type = 28L)

</code></pre>

<hr>
<h2 id='ping'>Ping a remote server, to see if it is alive</h2><span id='topic+ping'></span>

<h3>Description</h3>

<p>This is the classic ping, using ICMP packages. Only the
system administrator can send ICMP packages, so we call out
to the system's ping utility.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ping(
  destination,
  continuous = FALSE,
  verbose = continuous,
  count = 3L,
  timeout = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ping_+3A_destination">destination</code></td>
<td>
<p>Host name or IP address.</p>
</td></tr>
<tr><td><code id="ping_+3A_continuous">continuous</code></td>
<td>
<p>Logical, whether to keep pinging until the
user interrupts.</p>
</td></tr>
<tr><td><code id="ping_+3A_verbose">verbose</code></td>
<td>
<p>Whether to print progress on the screen while
pinging.</p>
</td></tr>
<tr><td><code id="ping_+3A_count">count</code></td>
<td>
<p>Number of pings to perform.</p>
</td></tr>
<tr><td><code id="ping_+3A_timeout">timeout</code></td>
<td>
<p>Timeout for a ping response.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of response times. <code>NA</code> means no response, in
milliseconds. Currently <code>NA</code>s are always at the end of the vector,
and not in their correct position.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ping("8.8.8.8")
ping("r-project.org")

</code></pre>

<hr>
<h2 id='ping_port'>Check if a port of a server is active, measure response time</h2><span id='topic+ping_port'></span><span id='topic+is_up'></span>

<h3>Description</h3>

<p>Check if a port of a server is active, measure response time
</p>
<p><code>is_up()</code> checks if a web server is up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ping_port(
  destination,
  port = 80L,
  continuous = FALSE,
  verbose = continuous,
  count = 3L,
  timeout = 1
)

is_up(
  destination,
  port = 80,
  timeout = 0.5,
  fail_on_dns_error = FALSE,
  check_online = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ping_port_+3A_destination">destination</code></td>
<td>
<p>Host name or IP address.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_port">port</code></td>
<td>
<p>Port.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_continuous">continuous</code></td>
<td>
<p>Logical, whether to keep pinging until
the user interrupts.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_verbose">verbose</code></td>
<td>
<p>Whether to print progress on the screen while
pinging.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_count">count</code></td>
<td>
<p>Number of pings to perform.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_timeout">timeout</code></td>
<td>
<p>Timeout, in seconds. How long to wait for a
ping to succeed.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_fail_on_dns_error">fail_on_dns_error</code></td>
<td>
<p>If <code>TRUE</code> then <code>is_up()</code> fails if the DNS
resolution fails. Otherwise it will return <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ping_port_+3A_check_online">check_online</code></td>
<td>
<p>Whether to check first if the computer is online.
Otherwise it is possible that the computer is behind a proxy, that
hijacks the HTTP connection to <code>destination</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of response times, in milliseconds.
<code>NA</code> means no response within the timeout.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ping_port("r-project.org")


is_up("google.com")
is_up("google.com", timeout = 0.01)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

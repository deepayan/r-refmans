<!DOCTYPE html><html><head><title>Help for package perccalc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {perccalc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#perc_diff'><p>Calculate percentile differences from an ordered categorical variable</p>
and a continuous variable.</a></li>
<li><a href='#perc_dist'><p>Calculate a distribution of percentiles from an ordered categorical variable</p>
and a continuous variable.</a></li>
<li><a href='#pisa_2006'><p>Mathematics test scores of Spain, Germany and Estonia in the PISA 2006 test</p></a></li>
<li><a href='#pisa_2012'><p>Mathematics test scores of Spain, Germany and Estonia in the PISA 2012 test</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Estimate Percentiles from an Ordered Categorical Variable</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of two functions that estimate values for percentiles from an ordered categorical variable as described by Reardon (2011, isbn:978-0-87154-372-1). One function estimates percentile differences from two percentiles while the other returns the values for every percentile from 1 to 100.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cimentadaj.github.io/perccalc/">https://cimentadaj.github.io/perccalc/</a>,
<a href="https://github.com/cimentadaj/perccalc">https://github.com/cimentadaj/perccalc</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, tibble, multcomp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>magrittr, spelling, dplyr, knitr, rmarkdown, testthat,
ggplot2, MASS, carData, tidyr (&ge; 1.0.0), covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-12-17 17:22:57 UTC; jorge</td>
</tr>
<tr>
<td>Author:</td>
<td>Jorge Cimentada <a href="https://orcid.org/0000-0001-5594-1156"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jorge Cimentada &lt;cimentadaj@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-12-17 20:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='perc_diff'>Calculate percentile differences from an ordered categorical variable
and a continuous variable.</h2><span id='topic+perc_diff'></span><span id='topic+perc_diff_df'></span>

<h3>Description</h3>

<p>Calculate percentile differences from an ordered categorical variable
and a continuous variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perc_diff(
  data_model,
  categorical_var,
  continuous_var,
  weights = NULL,
  percentiles = c(90, 10)
)

perc_diff_df(
  data_model,
  categorical_var,
  continuous_var,
  weights = NULL,
  percentiles = c(90, 10)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="perc_diff_+3A_data_model">data_model</code></td>
<td>
<p>A data frame with at least the categorical and continuous
variables from which to estimate the percentile differences</p>
</td></tr>
<tr><td><code id="perc_diff_+3A_categorical_var">categorical_var</code></td>
<td>
<p>The bare unquoted name of the categorical variable.
This variable SHOULD be an ordered factor. If not, will raise an error.</p>
</td></tr>
<tr><td><code id="perc_diff_+3A_continuous_var">continuous_var</code></td>
<td>
<p>The bare unquoted name of the continuous variable from
which to estimate the percentiles</p>
</td></tr>
<tr><td><code id="perc_diff_+3A_weights">weights</code></td>
<td>
<p>The bare unquoted name of the optional weight variable.
If not specified, then estimation is done without weights</p>
</td></tr>
<tr><td><code id="perc_diff_+3A_percentiles">percentiles</code></td>
<td>
<p>A numeric vector of two numbers specifying which
percentiles to subtract</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>perc_diff</code> drops missing observations silently for calculating
the linear combination of coefficients.
</p>


<h3>Value</h3>

<p><code>perc_diff</code> returns a vector with the percentile difference and
its associated standard error. <code>perc_diff_df</code> returns the same but as
a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

set.seed(23131)
N &lt;- 1000
K &lt;- 20

toy_data &lt;- data.frame(id = 1:N,
                       score = rnorm(N, sd = 2),
                       type = rep(paste0("inc", 1:20), each = N/K),
                       wt = 1)


# perc_diff(toy_data, type, score)
# type is not an ordered factor!

toy_data$type &lt;- factor(toy_data$type, levels = unique(toy_data$type), ordered = TRUE)

perc_diff(toy_data, type, score, percentiles = c(90, 10))
perc_diff(toy_data, type, score, percentiles = c(50, 10))

perc_diff(toy_data, type, score, weights = wt, percentiles = c(30, 10))
# Results as data frame
perc_diff_df(toy_data, type, score, weights = wt, percentiles = c(30, 10))

</code></pre>

<hr>
<h2 id='perc_dist'>Calculate a distribution of percentiles from an ordered categorical variable
and a continuous variable.</h2><span id='topic+perc_dist'></span>

<h3>Description</h3>

<p>Calculate a distribution of percentiles from an ordered categorical variable
and a continuous variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perc_dist(data_model, categorical_var, continuous_var, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="perc_dist_+3A_data_model">data_model</code></td>
<td>
<p>A data frame with at least the categorical and continuous
variables from which to estimate the percentiles</p>
</td></tr>
<tr><td><code id="perc_dist_+3A_categorical_var">categorical_var</code></td>
<td>
<p>The bare unquoted name of the categorical variable.
This variable <strong>should</strong> be an ordered factor. If not, will raise
an error.</p>
</td></tr>
<tr><td><code id="perc_dist_+3A_continuous_var">continuous_var</code></td>
<td>
<p>The bare unquoted name of the continuous variable from
which to estimate the percentiles</p>
</td></tr>
<tr><td><code id="perc_dist_+3A_weights">weights</code></td>
<td>
<p>The bare unquoted name of the optional weight variable.
If not specified, then equal weights are assumed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>perc_dist</code> drops missing observations silently for calculating
the linear combination of coefficients.
</p>


<h3>Value</h3>

<p>A data frame with the scores and standard errors for each percentile
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(23131)
N &lt;- 1000
K &lt;- 20

toy_data &lt;- data.frame(id = 1:N,
                       score = rnorm(N, sd = 2),
                       type = rep(paste0("inc", 1:20), each = N/K),
                       wt = 1)


# perc_diff(toy_data, type, score)
# type is not an ordered factor!

toy_data$type &lt;- factor(toy_data$type, levels = unique(toy_data$type), ordered = TRUE)

perc_dist(toy_data, type, score)
</code></pre>

<hr>
<h2 id='pisa_2006'>Mathematics test scores of Spain, Germany and Estonia in the PISA 2006 test</h2><span id='topic+pisa_2006'></span>

<h3>Description</h3>

<p>A dataset containing the test scores and other household information of
students from Spain, Germany and Estonia from the PISA 2006 test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pisa_2006
</code></pre>


<h3>Format</h3>

<p>A data frame with 25884 rows and 10 variables:
</p>

<dl>
<dt>year</dt><dd><p>Year of the survey</p>
</dd>
<dt>CNT</dt><dd><p>Long country names</p>
</dd>
<dt>STIDSTD</dt><dd><p>Unique student id</p>
</dd>
<dt>father_edu</dt><dd><p>The father's highest achieved degree in the ISCED scale</p>
</dd>
<dt>household_income</dt><dd><p>The household's total income in categories</p>
</dd>
<dt>avg_math</dt><dd><p>The average math test score out of the 5 plausible values in Mathematics</p>
</dd>
</dl>


<h3>Source</h3>

<p>A subset extracted from the <code>PISA2006lite</code> R package, https://github.com/pbiecek/PISA2012lite
</p>

<hr>
<h2 id='pisa_2012'>Mathematics test scores of Spain, Germany and Estonia in the PISA 2012 test</h2><span id='topic+pisa_2012'></span>

<h3>Description</h3>

<p>A dataset containing the test scores and other household information of
students from Spain, Germany and Estonia from the PISA 2012 test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pisa_2012
</code></pre>


<h3>Format</h3>

<p>A data frame with 35093 rows and 10 variables:
</p>

<dl>
<dt>year</dt><dd><p>Year of the survey</p>
</dd>
<dt>CNT</dt><dd><p>Long country names</p>
</dd>
<dt>STIDSTD</dt><dd><p>Unique student id</p>
</dd>
<dt>father_edu</dt><dd><p>The father's highest achieved degree in the ISCED scale</p>
</dd>
<dt>household_income</dt><dd><p>The household's total income in categories</p>
</dd>
<dt>avg_math</dt><dd><p>The average math test score out of the 5 plausible values in Mathematics</p>
</dd>
</dl>


<h3>Source</h3>

<p>A subset extracted from the <code>PISA2012lite</code> R package, https://github.com/pbiecek/PISA2012lite
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

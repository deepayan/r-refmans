<!DOCTYPE html><html><head><title>Help for package coxrobust</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {coxrobust}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#coxr'><p>Fit Robustly Proportional Hazards Regression Model</p></a></li>
<li><a href='#coxr.object'><p>Fit Robustly Proportional Hazards Regression Object</p></a></li>
<li><a href='#coxrobust'><p>coxrobust Overview</p></a></li>
<li><a href='#gen_data'><p>Generate Data from the Proportional Hazards Regression Model</p></a></li>
<li><a href='#plot.coxr'><p>Plot Diagnostics for a coxr Object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fit Robustly Proportional Hazards Regression Model</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-02</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of robust estimation in Cox model. Functionality includes fitting efficiently and robustly Cox proportional hazards regression model in its basic form, where explanatory variables are time independent with one event per subject.  Method is based on a smooth modification of the partial likelihood.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ShanaScogin/coxrobust">https://github.com/ShanaScogin/coxrobust</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ShanaScogin/coxrobust/issues">https://github.com/ShanaScogin/coxrobust/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-06 12:47:32 UTC; shanascogin</td>
</tr>
<tr>
<td>Author:</td>
<td>Tadeusz Bednarski [aut],
  Filip Borowicz [aut],
  Shana Scogin <a href="https://orcid.org/0000-0002-7801-853X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shana Scogin &lt;shanarscogin@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-06 14:02:33 UTC</td>
</tr>
</table>
<hr>
<h2 id='coxr'>Fit Robustly Proportional Hazards Regression Model</h2><span id='topic+coxr'></span>

<h3>Description</h3>

<p>Fits efficiently and robustly Cox proportional hazards regression model in its
basic form, where explanatory variables are time independent with one event
per subject.  Method is based on a smooth modification of the partial
likelihood.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coxr(
  formula,
  data,
  subset,
  na.action,
  trunc = 0.95,
  f.weight = c("linear", "quadratic", "exponential"),
  singular.ok = TRUE,
  model = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coxr_+3A_formula">formula</code></td>
<td>
<p>a formula object, with the response on the left of a <code>~</code>
operator, and the terms on the right.  The response must be a
survival object as returned by the <code><a href="survival.html#topic+Surv">Surv</a></code> function.</p>
</td></tr>
<tr><td><code id="coxr_+3A_data">data</code></td>
<td>
<p>a data frame in which to interpret the variables
named in the <code>formula</code>, or in the <code>subset</code>.</p>
</td></tr>
<tr><td><code id="coxr_+3A_subset">subset</code></td>
<td>
<p>expression saying that only a subset of the rows of the data
should be used in the fit.</p>
</td></tr>
<tr><td><code id="coxr_+3A_na.action">na.action</code></td>
<td>
<p>a missing-data filter function, applied to the model.frame,
after any subset argument has been used.</p>
</td></tr>
<tr><td><code id="coxr_+3A_trunc">trunc</code></td>
<td>
<p>roughly, quantile of the sample <code class="reqn">T_i exp(\beta'Z_i)</code>,
it determines the trimming level for the robust estimator.</p>
</td></tr>
<tr><td><code id="coxr_+3A_f.weight">f.weight</code></td>
<td>
<p>type of weighting function, default is <code>"quadratic"</code></p>
</td></tr>
<tr><td><code id="coxr_+3A_singular.ok">singular.ok</code></td>
<td>
<p>logical value indicating how to handle collinearity in the
model matrix. If <code>TRUE</code>, the program will automatically skip
over columns of the X matrix that are linear combinations of
earlier columns.  In this case the coefficients for such
columns will be <code>NA</code>, and the variance matrix will contain
zeros.  For ancillary calculations, such as the linear
predictor, the missing coefficients are treated as zeros.</p>
</td></tr>
<tr><td><code id="coxr_+3A_model">model</code></td>
<td>
<p>a logical value indicating whether model frame should be
included as a component of the returned value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame containing MCMC summary statistics.An object of class
<code>coxr</code>. See <code><a href="#topic+coxr.object">coxr.object</a></code> for details.
</p>


<h3>References</h3>

<p>Bednarski, T. (1993). Robust estimation in Cox's regression model.
Scandinavian Journal of Statistics. Vol. 20, 213&ndash;225.
</p>
<p>Bednarski, T. (1989). On sensitivity of Cox's estimator.
Statistics and Decisions. 7, 215&ndash;228.
</p>
<p>Grzegorek, K.(1993). On robust estimation of baseline hazard under
the Cox model and via Frechet differentiability. Preprint of the Institute of
Mathematics of the Polish Academy of Sciences.518.
</p>
<p>Minder, C.E. &amp; Bednarski, T. (1996). A robust method for
proportional hazards regression. Statistics in Medicine Vol. 15, 1033&ndash;1047.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

if (interactive()) {
# Create a simple test data set using the attached function gen_data
a &lt;- gen_data(200, c(1, 0.1, 2), cont = 0.05, p.censor = 0.30)
result &lt;- coxr(Surv(time, status) ~ X1 + X2 + X3, data = a , trunc = 0.9)
result
plot(result)
}



</code></pre>

<hr>
<h2 id='coxr.object'>Fit Robustly Proportional Hazards Regression Object</h2><span id='topic+coxr.object'></span>

<h3>Description</h3>

<p>This class of objects is returned by <code>coxr</code> function to represent
efficiently and robustly fitted proportional hazards regression model.
Objects of this class have methods for the functions <code>print</code>,
<code>plot</code> and <code>predict</code>.
</p>


<h3>Value</h3>

<p>The following components must be included in a legitimate <code>coxr</code> object.
</p>
<table>
<tr><td><code>coefficients</code></td>
<td>
<p>robust estimate of the regression parameter.</p>
</td></tr>
<tr><td><code>ple.coefficients</code></td>
<td>
<p>non-robust (efficient) estimate of the regression
parameter.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>

<p>an approximate variance matrix of the coefficients (estimated robustly). 
Rows and columns corresponding to any missing coefficients are set to zero.</p>
</td></tr>
<tr><td><code>ple.var</code></td>
<td>

<p>an approximate variance matrix of the coefficients (estimated non-robustly).
Rows and columns corresponding to any missing coefficients are set to zero.</p>
</td></tr>
<tr><td><code>lambda</code></td>
<td>
<p>cumulated hazard (estimated robustly).</p>
</td></tr>
<tr><td><code>lambda.ple</code></td>
<td>
<p>cumulated hazard (estimated non-robustly).</p>
</td></tr>
<tr><td><code>wald.test</code></td>
<td>
<p>the value of Wald test.</p>
</td></tr>
<tr><td><code>ewald.test</code></td>
<td>
<p>the value of extended Wald test.</p>
</td></tr>
<tr><td><code>skip</code></td>
<td>
<p>skipped columns.</p>
</td></tr>
<tr><td><code>na.action</code></td>
<td>
<p>the <code>na.action</code> attribute, if any, that was returned
by the <code>na.action</code> routine.</p>
</td></tr>
</table>
<p>The object also contain the following, for documentation see the
<code><a href="stats.html#topic+lm">lm</a></code> object: <code>terms</code>, <code>call</code>, <code>x</code>, <code>y</code>
and optionally <code>model</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coxr">coxr</a></code>
</p>

<hr>
<h2 id='coxrobust'>coxrobust Overview</h2><span id='topic+coxrobust'></span>

<h3>Description</h3>

<p>This package currently has one main function that fits a robustly proportional
hazards regression model
</p>


<h3>Main Functions</h3>


<ul>
<li> <p><code>coxr()</code>
</p>
</li>
<li> <p><code>gen_data()</code>
</p>
</li>
<li> <p><code>plot.coxr()</code>
</p>
</li>
<li> <p><code>predict.coxr()</code>
</p>
</li></ul>


<hr>
<h2 id='gen_data'>Generate Data from the Proportional Hazards Regression Model</h2><span id='topic+gen_data'></span>

<h3>Description</h3>

<p>Generates data set from the proportional hazards regression model
without or with contamination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_data(n, beta, cont = 0, p.censor = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_data_+3A_n">n</code></td>
<td>
<p>number of observations.</p>
</td></tr>
<tr><td><code id="gen_data_+3A_beta">beta</code></td>
<td>
<p>vector of regression coefficients.</p>
</td></tr>
<tr><td><code id="gen_data_+3A_cont">cont</code></td>
<td>
<p>fraction of contaminated observations.</p>
</td></tr>
<tr><td><code id="gen_data_+3A_p.censor">p.censor</code></td>
<td>
<p>probability of censoring.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame containing the following variables:
</p>

<ul>
<li><p>timevector of survival times.
</p>
</li>
<li><p>statusvector of censoring status.
</p>
</li>
<li><p>X1, X2, ...explanatory variables (their number is determined by the
dimension of vector of regression coefficients).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>

if (interactive()) {
gen_data(50, c(2,-2), cont = 0.05)
}



</code></pre>

<hr>
<h2 id='plot.coxr'>Plot Diagnostics for a coxr Object</h2><span id='topic+plot.coxr'></span>

<h3>Description</h3>

<p>Graphical tool which in a series of 5 graphs let us compare how well data are
explained by the estimated proportional hazards model with non-robust
(black color) and robust method (green color).  The first graph gives
standardized difference of two estimated survival functions; one via the Cox
model and the other via Kaplan Meier estimator.  The following four graphs
show the same differences for four strata, defined by the quartiles of the
estimated linear predictor.  Comparison of estimation results along with
analysis of the graphs leads frequently to a very detailed information about
the model fit (see examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'coxr'
plot(
  x,
  caption = c("Full data set", "First quartile", "Second quartile", "Third quartile",
    "Fourth quartile"),
  main = NULL,
  xlab = "log time",
  ylab = "standardized survival differences",
  ...,
  color = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.coxr_+3A_x">x</code></td>
<td>
<p><code>coxr</code> object, typically result of <code><a href="#topic+coxr">coxr</a></code>.</p>
</td></tr>
<tr><td><code id="plot.coxr_+3A_caption">caption</code></td>
<td>
<p>captions to appear above the plots.</p>
</td></tr>
<tr><td><code id="plot.coxr_+3A_main">main</code></td>
<td>
<p>overall title for the plot.</p>
</td></tr>
<tr><td><code id="plot.coxr_+3A_xlab">xlab</code></td>
<td>
<p>title for the x axis.</p>
</td></tr>
<tr><td><code id="plot.coxr_+3A_ylab">ylab</code></td>
<td>
<p>title for the y axis.</p>
</td></tr>
<tr><td><code id="plot.coxr_+3A_...">...</code></td>
<td>
<p>other parameters to be passed through to plotting functions.</p>
</td></tr>
<tr><td><code id="plot.coxr_+3A_color">color</code></td>
<td>
<p>if <code>FALSE</code> grayscale mode is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame containing the following variables:
</p>

<ul>
<li><p>timevector of survival times.
</p>
</li>
<li><p>statusvector of censoring status.
</p>
</li>
<li><p>X1, X2, ...explanatory variables (their number is determined by the
dimension of vector of regression coefficients).
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package HCD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {HCD}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BTSBM'>
<p>Generates networks from binary tree stochastic block model</p></a></li>
<li><a href='#gen.A.from.P'>
<p>generates a network from the given connection probability</p></a></li>
<li><a href='#HCD'>
<p>hierarchical community detection with recursive spectral methods</p></a></li>
<li><a href='#HCD-package'>
<p>Hierarchical community detection by recursive partitioning</p></a></li>
<li><a href='#HCDplot'>
<p>plot the result of hierarchical community detection</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Hierarchical Community Detection by Recursive Partitioning</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-28</td>
</tr>
<tr>
<td>Description:</td>
<td>Hierarchical community detection on networks by a recursive spectral partitioning strategy, which is shown to be effective and efficient in Li, Lei, Bhattacharyya, Sarkar, Bickel, and Levina (2018) &lt;<a href="https://arxiv.org/abs/1810.01509">arXiv:1810.01509</a>&gt;. The package also includes a data generating function for a binary tree stochastic block model, a special case of stochastic block model that admits hierarchy between communities.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, stats, methods, randnet, RSpectra, irlba, data.tree,
data.table,stringr,dendextend</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-01 06:51:27 UTC; tianxili</td>
</tr>
<tr>
<td>Author:</td>
<td>Tianxi Li [aut, cre],
  Lihua Lei [aut],
  Sharmodeep Bhattacharyya [aut],
  Purna Sarkar [aut],
  Peter Bickel [aut],
  Elizeveta Levina [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tianxi Li &lt;tianxili@umn.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-02 19:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='BTSBM'>
Generates networks from binary tree stochastic block model
</h2><span id='topic+BTSBM'></span>

<h3>Description</h3>

<p>Generates networks from binary tree stochastic block model, with
provided sequence of connection probability along the tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BTSBM(n, d, a.seq, lambda, alpha = NULL, N = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BTSBM_+3A_n">n</code></td>
<td>

<p>number of nodes in the network
</p>
</td></tr>
<tr><td><code id="BTSBM_+3A_d">d</code></td>
<td>

<p>number of layers until leaves (excluding the root)
</p>
</td></tr>
<tr><td><code id="BTSBM_+3A_a.seq">a.seq</code></td>
<td>

<p>the connection probability sequence along the tree, a_r, see details in the paper
</p>
</td></tr>
<tr><td><code id="BTSBM_+3A_lambda">lambda</code></td>
<td>

<p>average node degree, only used when alpha is not provided
</p>
</td></tr>
<tr><td><code id="BTSBM_+3A_alpha">alpha</code></td>
<td>

<p>the common scaling of the a_r sequence. So at the end, essentially the a_r sequence is a.seq*alpha
</p>
</td></tr>
<tr><td><code id="BTSBM_+3A_n">N</code></td>
<td>

<p>the number of networks to generate from the same model
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of objections of
</p>
<table>
<tr><td><code>A.list</code></td>
<td>
<p>the generated network adjacency matrices</p>
</td></tr>
<tr><td><code>B</code></td>
<td>
<p>the connection probability matrix between K communities,
where K = 2^d</p>
</td></tr>
<tr><td><code>label</code></td>
<td>
<p>the vector of community labels for n nodes</p>
</td></tr>
<tr><td><code>P</code></td>
<td>
<p>the connection probability matrix between the n nodes. It is
the expectation of adjacency matrices, except on the diagonal</p>
</td></tr>
<tr><td><code>comm.sim.mat</code></td>
<td>
<p>the binary string similarity matrix between
communities</p>
</td></tr>
<tr><td><code>node.sim.mat</code></td>
<td>
<p>the binary string similarity matrix between nodes</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tianxi Li, Lihua Lei, Sharmodeep Bhattacharyya, Purnamrita Sarkar, Peter Bickel, and Elizaveta Levina.<br />
</p>
<p>Maintainer: Tianxi Li &lt;tianxili@umn.edu&gt;
</p>


<h3>References</h3>

<p>Li, T., Lei, L., Bhattacharyya, S., Van den Berge, K., Sarkar, P., Bickel, P.J. and Levina, E., 2022. Hierarchical community detection by recursive partitioning. Journal of the American Statistical Association, 117(538), pp.951-968.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dt &lt;- BTSBM(n=1600,d=4,a.seq=0.2^seq(0,4),lambda=50)
A &lt;- dt$A.list[[1]]

</code></pre>

<hr>
<h2 id='gen.A.from.P'>
generates a network from the given connection probability
</h2><span id='topic+gen.A.from.P'></span>

<h3>Description</h3>

<p>Generates an adjacency matrix from a given probability matrix,
according independent Bernoulli &ndash; the so-called inhomogeneous
Erdos-Renyi model. It is used to generate new networks from a given model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen.A.from.P(P, undirected = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen.A.from.P_+3A_p">P</code></td>
<td>

<p>connection probability between nodes
</p>
</td></tr>
<tr><td><code id="gen.A.from.P_+3A_undirected">undirected</code></td>
<td>

<p>logic value. FALSE (default) if the network is undirected, so the
adjacency matrix will be symmetric with only upper diagonal entries
being generated as independent Bernoulli.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An adjacency matrix

</p>


<h3>Author(s)</h3>

<p>Tianxi Li, Lihua Lei, Sharmodeep Bhattacharyya, Purnamrita Sarkar, Peter Bickel, and Elizaveta Levina.<br />
</p>
<p>Maintainer: Tianxi Li &lt;tianxili@umn.edu&gt;</p>


<h3>References</h3>

<p>Li, T., Lei, L., Bhattacharyya, S., Van den Berge, K., Sarkar, P., Bickel, P.J. and Levina, E., 2022. Hierarchical community detection by recursive partitioning. Journal of the American Statistical Association, 117(538), pp.951-968.
</p>

<hr>
<h2 id='HCD'>
hierarchical community detection with recursive spectral methods
</h2><span id='topic+HCD'></span>

<h3>Description</h3>

<p>Hierarchical community by recursive spectral partitioning. It includes
the splitting methods of spectral clustering and sign splitting, as well
stopping rules for fixed stopping, non-backtracking matrix checking and
edge cross-validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HCD(A, method = "SS", stopping = "NB", reg = FALSE, n.min = 25, D = NULL,notree=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HCD_+3A_a">A</code></td>
<td>

<p>adjacency matrix. Can be standard R matrix or dsCMatrix (or other type in package Matrix)
</p>
</td></tr>
<tr><td><code id="HCD_+3A_method">method</code></td>
<td>

<p>splitting method. &quot;SS&quot; (default) for sign splitting, &quot;SC&quot; for spectral clustering
</p>
</td></tr>
<tr><td><code id="HCD_+3A_stopping">stopping</code></td>
<td>

<p>stopping rule. &quot;NB&quot; (default) for non-backtracking matrix spectrum,
&quot;ECV&quot; for edge cross-validation, &quot;Fix&quot;for fixed D layers of partitioning
(needs D value)
</p>
</td></tr>
<tr><td><code id="HCD_+3A_reg">reg</code></td>
<td>

<p>logic value on whether regularization is needed. By default it is FALSE.Set it to be TRUE will add reguarlization, which help the performance on sparse networks, but it will make the computation slower.
</p>
</td></tr>
<tr><td><code id="HCD_+3A_n.min">n.min</code></td>
<td>

<p>integer number. The algorithm will stop splitting if the current size is &lt;= 2*n.min.
</p>
</td></tr>
<tr><td><code id="HCD_+3A_d">D</code></td>
<td>

<p>the number of layers to partition, if stopping==&quot;Fix&quot;.
</p>
</td></tr>
<tr><td><code id="HCD_+3A_notree">notree</code></td>
<td>

<p>logical value on whether the tree and the corresponding similarity will
be computed. If TRUE (default), will not produce the data.tree object or the community similarity matrix. Only the cluster label and the tree path strings will be returned. This typically makes the runing faster.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For stopping rules, ECV is nonparametric rank evaluation by
cross-validation, a more generally applicable approach without assuming
SBM or its variants. ECV is also applicable for weighted networks.So it is
believed to be more robust than NB but less effective if the true model
is close to BTSBM. However, the ECV is computationally much more
intensive.
</p>
<p>Notice that the algorithm does not reply on the assumption of the BTSBM.
But
the estimated probabiilty matrix from the output is based on the
BTSBM.
</p>


<h3>Value</h3>

<p>A list of the following objects:
</p>
<table>
<tr><td><code>labels</code></td>
<td>
<p>detected community labels of nodes</p>
</td></tr>
<tr><td><code>ncl</code></td>
<td>
<p>number of clusters from the algorithm</p>
</td></tr>
<tr><td><code>cluster.tree</code></td>
<td>
<p>a data.tree object for the binary tree between
communities</p>
</td></tr>
<tr><td><code>P</code></td>
<td>
<p>estimated connection probability matrix between n nodes,
according to BTSBM</p>
</td></tr>
<tr><td><code>node.bin.sim.mat</code></td>
<td>
<p>binary string similarity between nodes</p>
</td></tr>
<tr><td><code>comm.bin.sim.mat</code></td>
<td>
<p>binary string similarity between communities</p>
</td></tr>
<tr><td><code>tree.path</code></td>
<td>
<p>a list of strings to describe the path from root to
each community along the tree</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tianxi Li, Lihua Lei, Sharmodeep Bhattacharyya, Purnamrita Sarkar, Peter Bickel, and Elizaveta Levina.<br />
</p>
<p>Maintainer: Tianxi Li &lt;tianxili@umn.edu&gt;
</p>


<h3>References</h3>

<p>Li, T., Lei, L., Bhattacharyya, S., Van den Berge, K., Sarkar, P., Bickel, P.J. and Levina, E., 2022. Hierarchical community detection by recursive partitioning. Journal of the American Statistical Association, 117(538), pp.951-968.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dt &lt;- BTSBM(n=1600,d=4,a.seq=0.2^seq(0,4),lambda=50)
A &lt;- dt$A.list[[1]]
# you can try various versions of the algorithm as below: the Fix is fastest and ECV is slowest.
system.time(HCD.result &lt;- HCD(A,method="SC",stopping="Fix",D=4))
</code></pre>

<hr>
<h2 id='HCD-package'>
Hierarchical community detection by recursive partitioning
</h2><span id='topic+HCD-package'></span>

<h3>Description</h3>

<p>The package provides the implementation of the recursive partitioning
strategy to clustering network nodes in a hierarchical way. It also
includes the mechanism of generating networks from a binary tree
stochastic block model.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> HCD</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-01-28</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Tianxi Li, Lihua Lei, Sharmodeep Bhattacharyya, Purnamrita Sarkar, Peter Bickel, and Elizaveta Levina.<br />
</p>
<p>Maintainer: Tianxi Li &lt;tianxili@umn.edu&gt;
</p>


<h3>References</h3>

<p>Li, T., Lei, L., Bhattacharyya, S., Van den Berge, K., Sarkar, P., Bickel, P.J. and Levina, E., 2022. Hierarchical community detection by recursive partitioning. Journal of the American Statistical Association, 117(538), pp.951-968.
</p>

<hr>
<h2 id='HCDplot'>
plot the result of hierarchical community detection
</h2><span id='topic+HCDplot'></span>

<h3>Description</h3>

<p>Generate dendrogram of the HCD result. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HCDplot(hcd,mode="community",labels=NULL,main=NULL,label.cex=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HCDplot_+3A_hcd">hcd</code></td>
<td>

<p>The result of an HCD call.
</p>
</td></tr>
<tr><td><code id="HCDplot_+3A_mode">mode</code></td>
<td>

<p>plotting community hierarchy or node hierarchy. The default value is &quot;community&quot;, indicating plotting hierarchy between communities. Alternatively, the plot is for all nodes, which is not recommended because usually there are too many of them.
</p>
</td></tr>
<tr><td><code id="HCDplot_+3A_labels">labels</code></td>
<td>

<p>the labels of the each leaf of the tree. By default, the community/node index is used. The user can also specify another sequence of characters.
</p>
</td></tr>
<tr><td><code id="HCDplot_+3A_main">main</code></td>
<td>

<p>title of the plot.
</p>
</td></tr>
<tr><td><code id="HCDplot_+3A_label.cex">label.cex</code></td>
<td>

<p>size of the leaf label in the plot. When plotting node hierarchy, typically there are too many nodes so the labels will seriously overlap. Use a smaller size (say, label.cex=0.3) may help.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for visualization.</p>


<h3>Author(s)</h3>

<p>Tianxi Li, Lihua Lei, Sharmodeep Bhattacharyya, Purnamrita Sarkar, Peter Bickel, and Elizaveta Levina.<br />
</p>
<p>Maintainer: Tianxi Li &lt;tianxili@umn.edu&gt;
</p>


<h3>References</h3>

<p>Li, T., Lei, L., Bhattacharyya, S., Van den Berge, K., Sarkar, P., Bickel, P.J. and Levina, E., 2022. Hierarchical community detection by recursive partitioning. Journal of the American Statistical Association, 117(538), pp.951-968.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dt &lt;- BTSBM(n=80,d=4,a.seq=0.2^seq(0,4),lambda=20)
A &lt;- dt$A.list[[1]]
system.time(HCD.result &lt;- HCD(A,method="SC",stopping="Fix",D=4,notree=FALSE,n.min=5))

HCDplot(HCD.result,mode="community",main="Community Tree")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package IDSL.MXP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {IDSL.MXP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#getNetCDF'>
<p>getNetCDF</p></a></li>
<li><a href='#getScanTable'>
<p>getScanTable</p></a></li>
<li><a href='#getSpectra'>
<p>getSpectra</p></a></li>
<li><a href='#MXP_locate_regex'>
<p>MXP Locate regex</p></a></li>
<li><a href='#peak2list'>
<p>Peak to List (The main function)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Parser for mzML, mzXML, and netCDF Files (Mass Spectrometry
Data)</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>xml2, base64enc</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RNetCDF</td>
</tr>
<tr>
<td>Author:</td>
<td>Sadjad Fakouri-Baygi
    <a href="https://orcid.org/0000-0002-6864-6911"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Dinesh Barupal <a href="https://orcid.org/0000-0002-9954-8628"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dinesh Barupal &lt;dinesh.barupal@mssm.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A tiny parser to extract mass spectra data and metadata table of mass spectrometry acquisition properties from mzML, mzXML and netCDF files introduced in &lt;<a href="https://doi.org/10.1021%2Facs.jproteome.2c00120">doi:10.1021/acs.jproteome.2c00120</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/idslme/idsl.mxp">https://github.com/idslme/idsl.mxp</a>
<a href="https://colab.research.google.com/drive/1gXwwuI1zzDHykKfodLSQQt5rwTuFEMpD">https://colab.research.google.com/drive/1gXwwuI1zzDHykKfodLSQQt5rwTuFEMpD</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/idslme/idsl.mxp/issues">https://github.com/idslme/idsl.mxp/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Archs:</td>
<td>i386, x64</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-23 16:38:45 UTC; sfbaygi</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-24 10:00:16 UTC</td>
</tr>
</table>
<hr>
<h2 id='getNetCDF'>
getNetCDF
</h2><span id='topic+getNetCDF'></span>

<h3>Description</h3>

<p>This function returns a list of two data objects needed for the mass spectrometry data processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNetCDF(MSfile)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getNetCDF_+3A_msfile">MSfile</code></td>
<td>

<p>name of the mass spectrometry file with .cdf extension
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>scanTable</code></td>
<td>

<p>a dataframe of different scan properties including 'seqNum', 'msLevel', 'polarity', 'peaksCount', 'totIonCurrent', 'retentionTime', 'basePeakMZ', 'basePeakIntensity', 'collisionEnergy', 'lowMZ', 'highMZ', 'precursorScanNum', 'precursorMZ', 'precursorCharge', 'precursorIntensity', 'injectionTime', 'filterString', 'scanType', 'centroided', 'isolationWindowTargetMZ', 'isolationWindowLowerOffset', 'isolationWindowUpperOffset', 'scanWindowLowerLimit', and 'scanWindowUpperLimit'.
</p>
</td></tr>
<tr><td><code>spectraList</code></td>
<td>

<p>a list of matrices of m/z and intensity values for each chromatogram scan
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>&lsquo;retentionTime' column in the 'scanTable&rsquo; object is presented in minute.
</p>

<hr>
<h2 id='getScanTable'>
getScanTable
</h2><span id='topic+getScanTable'></span>

<h3>Description</h3>

<p>This function creates a scanTable from chromatogram scans of the mass spectrometry data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getScanTable(xmlData, msFormat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getScanTable_+3A_xmldata">xmlData</code></td>
<td>

<p>A structured data of the mass spectrometry data created by the 'read_xml' function.
</p>
</td></tr>
<tr><td><code id="getScanTable_+3A_msformat">msFormat</code></td>
<td>

<p>format extension of the mass spectrometry file c(&quot;mzML&quot;, &quot;mzXML&quot;)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of different scan properties including 'seqNum', 'msLevel', 'polarity', 'peaksCount', 'totIonCurrent', 'retentionTime', 'basePeakMZ', 'basePeakIntensity', 'collisionEnergy', 'lowMZ', 'highMZ', 'precursorScanNum', 'precursorMZ', 'precursorCharge', 'precursorIntensity', 'injectionTime', 'filterString', 'scanType', 'centroided', 'isolationWindowTargetMZ', 'isolationWindowLowerOffset', 'isolationWindowUpperOffset', 'scanWindowLowerLimit', and 'scanWindowUpperLimit'. 'scanType' is only provided for the mzXML data format.
</p>


<h3>Note</h3>

<p>'retentionTime' column is presented in minute.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
temp_wd &lt;- tempdir()
temp_wd_zip &lt;- paste0(temp_wd,"/idsl_ipa_test_files.zip")
download.file(paste0("https://github.com/idslme/IDSL.IPA/blob/main/",
"IPA_educational_files/idsl_ipa_test_files.zip?raw=true"),
destfile = temp_wd_zip, mode = "wb")
unzip(temp_wd_zip, exdir = temp_wd)
xmlData &lt;- xml2::read_xml(paste0(path = temp_wd, "/", MSfile = "003.mzML"))
scanTable &lt;- getScanTable(xmlData, msFormat = "mzML")

</code></pre>

<hr>
<h2 id='getSpectra'>
getSpectra
</h2><span id='topic+getSpectra'></span>

<h3>Description</h3>

<p>This function creates a spectraList for the chromatogram scans of the mass spectrometry data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSpectra(xmlData, msFormat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSpectra_+3A_xmldata">xmlData</code></td>
<td>

<p>a structured data of the mass spectrometry data created by the 'read_xml' function.
</p>
</td></tr>
<tr><td><code id="getSpectra_+3A_msformat">msFormat</code></td>
<td>

<p>format extension of the mass spectrometry file c(&quot;mzML&quot;, &quot;mzXML&quot;)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of matrices of m/z and intensity values for each chromatogram scan
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
temp_wd &lt;- tempdir()
temp_wd_zip &lt;- paste0(temp_wd,"/idsl_ipa_test_files.zip")
download.file(paste0("https://github.com/idslme/IDSL.IPA/blob/main/",
"IPA_educational_files/idsl_ipa_test_files.zip?raw=true"),
destfile = temp_wd_zip, mode = "wb")
unzip(temp_wd_zip, exdir = temp_wd)
xmlData &lt;- xml2::read_xml(paste0(path = temp_wd, "/", MSfile = "003.mzML"))
spectraList &lt;- getSpectra(xmlData, msFormat = "mzML")

</code></pre>

<hr>
<h2 id='MXP_locate_regex'>
MXP Locate regex
</h2><span id='topic+MXP_locate_regex'></span>

<h3>Description</h3>

<p>Locate indices of the pattern in the string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MXP_locate_regex(string, pattern, ignore.case = FALSE, perl = FALSE, fixed = FALSE,
useBytes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MXP_locate_regex_+3A_string">string</code></td>
<td>

<p>a string as character
</p>
</td></tr>
<tr><td><code id="MXP_locate_regex_+3A_pattern">pattern</code></td>
<td>

<p>a pattern to screen
</p>
</td></tr>
<tr><td><code id="MXP_locate_regex_+3A_ignore.case">ignore.case</code></td>
<td>

<p>ignore.case
</p>
</td></tr>
<tr><td><code id="MXP_locate_regex_+3A_perl">perl</code></td>
<td>

<p>perl
</p>
</td></tr>
<tr><td><code id="MXP_locate_regex_+3A_fixed">fixed</code></td>
<td>

<p>fixed
</p>
</td></tr>
<tr><td><code id="MXP_locate_regex_+3A_usebytes">useBytes</code></td>
<td>

<p>useBytes
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns 'NULL' when no matches are detected for the pattern.
</p>


<h3>Value</h3>

<p>A 2-column matrix of location indices. The first and second columns represent start and end positions, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pattern &lt;- "Cl"
string &lt;- "NaCl.5HCl"
Location_Cl &lt;- MXP_locate_regex(string, pattern)
</code></pre>

<hr>
<h2 id='peak2list'>
Peak to List (The main function)
</h2><span id='topic+peak2list'></span>

<h3>Description</h3>

<p>This function returns a list of two data objects required for the mass spectrometry data processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>peak2list(path, MSfileName = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="peak2list_+3A_path">path</code></td>
<td>

<p>address of the mass spectrometry file
</p>
</td></tr>
<tr><td><code id="peak2list_+3A_msfilename">MSfileName</code></td>
<td>

<p>name of the mass spectrometry file with .mzML or .mzXML extensions
</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>scanTable</code></td>
<td>

<p>a dataframe of different scan properties including 'seqNum', 'msLevel', 'polarity', 'peaksCount', 'totIonCurrent', 'retentionTime', 'basePeakMZ', 'basePeakIntensity', 'collisionEnergy', 'lowMZ', 'highMZ', 'precursorScanNum', 'precursorMZ', 'precursorCharge', 'precursorIntensity', 'injectionTime', 'filterString', 'scanType', 'centroided', 'isolationWindowTargetMZ', 'isolationWindowLowerOffset', 'isolationWindowUpperOffset', 'scanWindowLowerLimit', and 'scanWindowUpperLimit'. 'scanType' is only provided for the mzXML data format.
</p>
</td></tr>
<tr><td><code>spectraList</code></td>
<td>

<p>a list of matrices of m/z and intensity values for each chromatogram scan
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>&lsquo;retentionTime' column in the 'scanTable&rsquo; object is presented in minute.
</p>


<h3>See Also</h3>

<p><a href="https://colab.research.google.com/drive/1gXwwuI1zzDHykKfodLSQQt5rwTuFEMpD">https://colab.research.google.com/drive/1gXwwuI1zzDHykKfodLSQQt5rwTuFEMpD</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
temp_wd &lt;- tempdir()
temp_wd_zip &lt;- paste0(temp_wd,"/idsl_ipa_test_files.zip")
download.file(paste0("https://github.com/idslme/IDSL.IPA/blob/main/",
"IPA_educational_files/idsl_ipa_test_files.zip?raw=true"),
destfile = temp_wd_zip, mode = "wb")
unzip(temp_wd_zip, exdir = temp_wd)
p2l &lt;- peak2list(path = temp_wd, MSfileName = "003.mzML")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

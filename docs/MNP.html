<!DOCTYPE html><html><head><title>Help for package MNP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MNP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#coef.mnp'><p>Extract Multinomial Probit Model Coefficients</p></a></li>
<li><a href='#detergent'><p>Detergent Brand Choice</p></a></li>
<li><a href='#japan'><p>Voters' Preferences of Political Parties in Japan (1995)</p></a></li>
<li><a href='#mnp'><p>Fitting the Multinomial Probit Model via Markov chain Monte Carlo</p></a></li>
<li><a href='#predict.mnp'><p>Posterior Prediction under the Bayesian Multinomial Probit Models</p></a></li>
<li><a href='#print.summary.mnp'><p>Print the summary of the results for the Multinomial Probit Models</p></a></li>
<li><a href='#summary.mnp'><p>Summarizing the results for the Multinomial Probit Models</p></a></li>
<li><a href='#vcov.mnp'><p>Extract Multinomial Probit Model Covariance Matrix</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>3.1-5</td>
</tr>
<tr>
<td>Title:</td>
<td>Fitting the Multinomial Probit Model</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kosuke Imai &lt;imai@harvard.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.1), stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Description:</td>
<td>Fits the Bayesian multinomial probit model via Markov chain
 Monte Carlo.  The multinomial probit model is often used to analyze 
 the discrete choices made by individuals recorded in survey data. 
 Examples where the multinomial probit model may be useful include the 
 analysis of product choice by consumers in market research and the 
 analysis of candidate or party choice by voters in electoral studies.  
 The MNP package can also fit the model with different choice sets for 
 each individual, and complete or partial individual choice orderings 
 of the available alternatives from the choice set. The estimation is
 based on the efficient marginal data augmentation algorithm that is 
 developed by Imai and van Dyk (2005). "A Bayesian Analysis of the 
 Multinomial Probit Model Using the Data Augmentation." Journal of 
 Econometrics, Vol. 124, No. 2 (February), pp. 311-334. 
 &lt;<a href="https://doi.org/10.1016%2Fj.jeconom.2004.02.002">doi:10.1016/j.jeconom.2004.02.002</a>&gt;  Detailed examples are given in 
 Imai and van Dyk (2005). "MNP: R Package for Fitting the Multinomial 
 Probit Model."  Journal of Statistical Software, Vol. 14, No. 3 (May), 
 pp. 1-32. &lt;<a href="https://doi.org/10.18637%2Fjss.v014.i03">doi:10.18637/jss.v014.i03</a>&gt;.</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kosukeimai/MNP">https://github.com/kosukeimai/MNP</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kosukeimai/MNP/issues">https://github.com/kosukeimai/MNP/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-20 02:44:05 UTC; kosukeimai</td>
</tr>
<tr>
<td>Author:</td>
<td>Kosuke Imai [aut, cre],
  David van Dyk [aut],
  Hubert Jin [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-20 10:20:25 UTC</td>
</tr>
</table>
<hr>
<h2 id='coef.mnp'>Extract Multinomial Probit Model Coefficients</h2><span id='topic+coef.mnp'></span>

<h3>Description</h3>

<p><code>coef.mnp</code> is a function which extracts multinomial probit model
coefficients from ojbects returned by <code>mnp</code>. <code>coefficients.mnp</code> is
an alias for it. <code>coef</code> method for class <code>mnp</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mnp'
coef(object, subset = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.mnp_+3A_object">object</code></td>
<td>
<p>An output object from <code>mnp</code>.</p>
</td></tr>
<tr><td><code id="coef.mnp_+3A_subset">subset</code></td>
<td>
<p>A scalar or a numerical vector specifying the row number(s) of
<code>param</code> in the output object from <code>mnp</code>. If specified, the
posterior draws of coefficients for those rows are extracted. The default is
<code>NULL</code> where all the posterior draws are extracted.</p>
</td></tr>
<tr><td><code id="coef.mnp_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>coef.mnp</code> returns a matrix (when a numerical vector or
<code>NULL</code> is specified for <code>subset</code> argument) or a vector (when a
scalar is specified for <code>subset</code> arugment) of multinomila probit model
coefficients.
</p>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:kimai@Princeton.Edu">kimai@Princeton.Edu</a>
</p>


<h3>See Also</h3>

<p><code>mnp</code>, <code>vcov.mnp</code>;
</p>

<hr>
<h2 id='detergent'>Detergent Brand Choice</h2><span id='topic+detergent'></span>

<h3>Description</h3>

<p>This dataset gives the laundry detergent brand choice by households and the
price of each brand.
</p>


<h3>Format</h3>

<p>A data frame containing the following 7 variables and 2657
observations.
</p>

<table>
<tr>
 <td style="text-align: left;"> choice </td><td style="text-align: left;"> factor </td><td style="text-align: left;"> a brand chosen by each household</td>
</tr>
<tr>
 <td style="text-align: left;">
TidePrice </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> log price of Tide</td>
</tr>
<tr>
 <td style="text-align: left;"> WiskPrice </td><td style="text-align: left;"> numeric </td><td style="text-align: left;">
log price of Wisk</td>
</tr>
<tr>
 <td style="text-align: left;"> EraPlusPrice </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> log price of EraPlus</td>
</tr>
<tr>
 <td style="text-align: left;">
SurfPrice </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> log price of Surf</td>
</tr>
<tr>
 <td style="text-align: left;"> SoloPrice </td><td style="text-align: left;"> numeric </td><td style="text-align: left;">
log price of Solo</td>
</tr>
<tr>
 <td style="text-align: left;"> AllPrice </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> log price of All</td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>



<h3>References</h3>

<p>Chintagunta, P. K. and Prasad, A. R. (1998) &ldquo;An Empirical
Investigation of the &lsquo;Dynamic McFadden&rsquo; Model of Purchase Timing and Brand
Choice: Implications for Market Structure&rdquo;. <em>Journal of Business and
Economic Statistics</em> vol. 16 no. 1 pp.2-12.
</p>

<hr>
<h2 id='japan'>Voters' Preferences of Political Parties in Japan (1995)</h2><span id='topic+japan'></span>

<h3>Description</h3>

<p>This dataset gives voters' preferences of political parties in Japan on the
0 (least preferred) - 100 (most preferred) scale.  It is based on the 1995
survey data of 418 individual voters.  The data also include the sex,
education level, and age of the voters. The survey allowed voters to choose
among four parties: Liberal Democratic Party (LDP), New Frontier Party
(NFP), Sakigake (SKG), and Japanese Communist Party (JCP).
</p>


<h3>Format</h3>

<p>A data frame containing the following 7 variables for 418
observations.
</p>

<table>
<tr>
 <td style="text-align: left;"> LDP </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> preference for Liberal Democratic
Party </td><td style="text-align: left;"> 0 - 100 </td>
</tr>
<tr>
 <td style="text-align: left;"> NFP </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> preference for New Frontier
Party </td><td style="text-align: left;"> 0 - 100 </td>
</tr>
<tr>
 <td style="text-align: left;"> SKG </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> preference for Sakigake </td><td style="text-align: left;"> 0
- 100 </td>
</tr>
<tr>
 <td style="text-align: left;"> JCP </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> preference for Japanese Communist Party </td><td style="text-align: left;">
0 - 100 </td>
</tr>
<tr>
 <td style="text-align: left;"> gender </td><td style="text-align: left;"> factor </td><td style="text-align: left;"> gender of each voter </td><td style="text-align: left;"> <code>male</code> or
<code>female</code> </td>
</tr>
<tr>
 <td style="text-align: left;"> education </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> levels of education for each
voter </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;"> age </td><td style="text-align: left;"> numeric </td><td style="text-align: left;"> age of each voter </td><td style="text-align: left;"> </td>
</tr>

</table>


<hr>
<h2 id='mnp'>Fitting the Multinomial Probit Model via Markov chain Monte Carlo</h2><span id='topic+mnp'></span><span id='topic+MNP'></span>

<h3>Description</h3>

<p><code>mnp</code> is used to fit (Bayesian) multinomial probit model via Markov
chain Monte Carlo.  <code>mnp</code> can also fit the model with different choice
sets for each observation, and complete or partial ordering of all the
available alternatives. The computation uses the efficient marginal data
augmentation algorithm that is developed by Imai and van Dyk (2005a).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnp(
  formula,
  data = parent.frame(),
  choiceX = NULL,
  cXnames = NULL,
  base = NULL,
  latent = FALSE,
  invcdf = FALSE,
  trace = TRUE,
  n.draws = 5000,
  p.var = "Inf",
  p.df = n.dim + 1,
  p.scale = 1,
  coef.start = 0,
  cov.start = 1,
  burnin = 0,
  thin = 0,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mnp_+3A_formula">formula</code></td>
<td>
<p>A symbolic description of the model to be fit specifying the
response variable and covariates. The formula should not include the
choice-specific covariates. Details and specific examples are given below.</p>
</td></tr>
<tr><td><code id="mnp_+3A_data">data</code></td>
<td>
<p>An optional data frame in which to interpret the variables in
<code>formula</code> and <code>choiceX</code>. The default is the environment in which
<code>mnp</code> is called.</p>
</td></tr>
<tr><td><code id="mnp_+3A_choicex">choiceX</code></td>
<td>
<p>An optional list containing a matrix of choice-specific
covariates for each category. Details and examples are provided below.</p>
</td></tr>
<tr><td><code id="mnp_+3A_cxnames">cXnames</code></td>
<td>
<p>A vector of the names for the choice-specific covariates
specified in <code>choiceX</code>. The details and examples are provided below.</p>
</td></tr>
<tr><td><code id="mnp_+3A_base">base</code></td>
<td>
<p>The name of the base category. For the standard multinomial
probit model, the default is the lowest level of the response variable. For
the multinomial probit model with ordered preferences, the default base
category is the last column in the matrix of response variables.</p>
</td></tr>
<tr><td><code id="mnp_+3A_latent">latent</code></td>
<td>
<p>logical. If <code>TRUE</code>, then the latent variable W will be
returned. See Imai and van Dyk (2005) for the notation. The default is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_invcdf">invcdf</code></td>
<td>
<p>logical. If <code>TRUE</code>, then the inverse cdf method is used
for truncated normal sampling. If <code>FALSE</code>, then the rejection sampling
method is used. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_trace">trace</code></td>
<td>
<p>logical. If <code>TRUE</code>, then the trace of the variance
covariance matrix is set to a constant (here, it is equal to <code>n.dim</code>)
instead of setting its first diagonal element to 1.  The former avoids the
arbitrariness of fixing one particular diagonal element in order to achieve
identification (see Burgette and Nordheim, 2009).</p>
</td></tr>
<tr><td><code id="mnp_+3A_n.draws">n.draws</code></td>
<td>
<p>A positive integer. The number of MCMC draws. The default is
<code>5000</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_p.var">p.var</code></td>
<td>
<p>A positive definite matrix. The prior variance of the
coefficients.  A scalar input can set the prior variance to the diagonal
matrix whose diagonal element is equal to that value. The default is
<code>"Inf"</code>, which represents an improper noninformative prior distribution
on the coefficients.</p>
</td></tr>
<tr><td><code id="mnp_+3A_p.df">p.df</code></td>
<td>
<p>A positive integer greater than <code>n.dim-1</code>. The prior
degrees of freedom parameter for the covariance matrix. The default is
<code>n.dim+1</code>, which is equal to the total number of alternatives.</p>
</td></tr>
<tr><td><code id="mnp_+3A_p.scale">p.scale</code></td>
<td>
<p>A positive definite matrix.  When <code>trace = FALSE</code>, its
first diagonal element is set to <code>1</code> if it is not equal to 1 already.
The prior scale matrix for the covariance matrix. A scalar input can be used
to set the scale matrix to a diagonal matrix with diagonal elements equal to
the scalar input value. The default is <code>1</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_coef.start">coef.start</code></td>
<td>
<p>A vector. The starting values for the coefficients.  A
scalar input sets the starting values for all the coefficients equal to that
value.  The default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_cov.start">cov.start</code></td>
<td>
<p>A positive definite matrix. When <code>trace = FALSE</code>, its
first diagonal element is set to <code>1</code> if it is not equal to 1 already.
The starting values for the covariance matrix. A scalar input can be used to
set the starting value to a diagonal matrix with diagonal elements equal to
the scalar input value. The default is <code>1</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_burnin">burnin</code></td>
<td>
<p>A positive integer. The burnin interval for the Markov chain;
i.e., the number of initial Gibbs draws that should not be stored. The
default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_thin">thin</code></td>
<td>
<p>A positive integer. The thinning interval for the Markov chain;
i.e., the number of Gibbs draws between the recorded values that are
skipped. The default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="mnp_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code>, helpful messages along with a
progress report of the Gibbs sampling are printed on the screen. The default
is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To fit the multinomial probit model when only the most preferred choice is
observed, use the syntax for the formula, <code>y ~ x1 + x2</code>, where <code>y</code>
is a factor variable indicating the most preferred choice and <code>x1</code> and
<code>x2</code> are individual-specific covariates. The interactions of
individual-specific variables with each of the choice indicator variables
will be fit.
</p>
<p>To specify choice-specific covariates, use the syntax,
<code>choiceX=list(A=cbind(z1, z2), B=cbind(z3, z4), C=cbind(z5, z6))</code>,
where <code>A</code>, <code>B</code>, and <code>C</code> represent the choice names of the
response variable, and <code>z1</code> and <code>z2</code> are each vectors of length
<code class="reqn">n</code> that record the values of the two choice-specific covariates for
each individual for choice A, likewise for <code>z3</code>, <code class="reqn">\ldots</code>,
<code>z6</code>. The corresponding variable names via <code>cXnames=c("price",
"quantity")</code> need to be specified, where <code>price</code> refers to the
coefficient name for <code>z1</code>, <code>z3</code>, and <code>z5</code>, and
<code>quantity</code> refers to that for <code>z2</code>, <code>z4</code>, and <code>z6</code>.
</p>
<p>If the choice set varies from one observation to another, use the syntax,
<code>cbind(y1, y2, y3) ~ x1 + x2</code>, in the case of a three choice problem,
and indicate unavailable alternatives by <code>NA</code>. If only the most
preferred choice is observed, <code>y1</code>, <code>y2</code>, and <code>y3</code> are
indicator variables that take on the value one for individuals who prefer
that choice and zero otherwise. The last column of the response matrix,
<code>y3</code> in this particular example syntax, is used as the base category.
</p>
<p>To fit the multinomial probit model when the complete or partial ordering of
the available alternatives is recorded, use the same syntax as when the
choice set varies (i.e., <code>cbind(y1, y2, y3, y4) ~ x1 + x2</code>). For each
observation, all the available alternatives in the response variables should
be numerically ordered in terms of preferences such as <code>1 2 2 3</code>. Ties
are allowed. The missing values in the response variable should be denoted
by <code>NA</code>. The software will impute these missing values using the
specified covariates. The resulting uncertainty estimates of the parameters
will properly reflect the amount of missing data. For example, we expect the
standard errors to be larger when there is more missing data.
</p>


<h3>Value</h3>

<p>An object of class <code>mnp</code> containing the following elements:
</p>
<table>
<tr><td><code>param</code></td>
<td>
<p>A matrix of the Gibbs draws for each parameter; i.e., the
coefficients and covariance matrix. For the covariance matrix, the elements
on or above the diagonal are returned.  </p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>The matrix of covariates.</p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>The vector or matrix of the
response variable.</p>
</td></tr>
<tr><td><code>w</code></td>
<td>
<p>The three dimensional array of the latent
variable, W. The first dimension represents the alternatives, and the second
dimension indexes the observations. The third dimension represents the Gibbs
draws. Note that the latent variable for the base category is set to 0, and
therefore omitted from the output.</p>
</td></tr>
<tr><td><code>alt</code></td>
<td>
<p>The names of alternatives.</p>
</td></tr>
<tr><td><code>n.alt</code></td>
<td>
<p>The total number of alternatives.</p>
</td></tr>
<tr><td><code>base</code></td>
<td>
<p>The base
category used for fitting.</p>
</td></tr>
<tr><td><code>invcdf</code></td>
<td>
<p>The value of
<code>invcdf</code>.</p>
</td></tr>
<tr><td><code>p.var</code></td>
<td>
<p>The prior variance for the coefficients.</p>
</td></tr>
<tr><td><code>p.df</code></td>
<td>
<p>The prior
degrees of freedom parameter for the covariance matrix.</p>
</td></tr>
<tr><td><code>p.scale</code></td>
<td>
<p>The
prior scale matrix for the covariance matrix.</p>
</td></tr>
<tr><td><code>burnin</code></td>
<td>
<p>The number of
initial burnin draws.</p>
</td></tr>
<tr><td><code>thin</code></td>
<td>
<p>The thinning interval.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>, <a href="https://imai.fas.harvard.edu">https://imai.fas.harvard.edu</a>; David A. van
Dyk, Statistics Section, Department of Mathematics, Imperial College London.
</p>


<h3>References</h3>

<p>Imai, Kosuke and David A. van Dyk. (2005a) &ldquo;A Bayesian
Analysis of the Multinomial Probit Model Using the Marginal Data
Augmentation,&rdquo; <em>Journal of Econometrics</em>, Vol. 124, No. 2 (February),
pp.311-334.
</p>
<p>Imai, Kosuke and David A. van Dyk. (2005b) &ldquo;MNP: R Package for
Fitting the Multinomial Probit Models,&rdquo; <em>Journal of Statistical
Software</em>, Vol. 14, No. 3 (May), pp.1-32.
</p>
<p>Burgette, L.F. and E.V. Nordheim. (2009).  &ldquo;An alternate identifying
restriction for the Bayesian multinomial probit model,&rdquo; <em>Technical
report</em>, Department of Statistics, University of Wisconsin, Madison.
</p>


<h3>See Also</h3>

<p><code>coef.mnp</code>, <code>vcov.mnp</code>, <code>predict.mnp</code>,
<code>summary.mnp</code>;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
###
### NOTE: this example is not fully analyzed. In particular, the
### convergence has not been assessed. A full analysis of these data
### sets appear in Imai and van Dyk (2005b).
###

## load the detergent data
data(detergent)
## run the standard multinomial probit model with intercepts and the price
res1 &lt;- mnp(choice ~ 1, choiceX = list(Surf=SurfPrice, Tide=TidePrice,
                                       Wisk=WiskPrice, EraPlus=EraPlusPrice,
                                       Solo=SoloPrice, All=AllPrice),
            cXnames = "price", data = detergent, n.draws = 100, burnin = 10,
            thin = 3, verbose = TRUE)
## summarize the results
summary(res1)
## calculate the quantities of interest for the first 3 observations
pre1 &lt;- predict(res1, newdata = detergent[1:3,])

## load the Japanese election data
data(japan)
## run the multinomial probit model with ordered preferences
res2 &lt;- mnp(cbind(LDP, NFP, SKG, JCP) ~ gender + education + age, data = japan,
            verbose = TRUE)
## summarize the results
summary(res2)
## calculate the predicted probabilities for the 10th observation
## averaging over 100 additional Monte Carlo draws given each of MCMC draw.
pre2 &lt;- predict(res2, newdata = japan[10,], type = "prob", n.draws = 100,
                verbose = TRUE)

</code></pre>

<hr>
<h2 id='predict.mnp'>Posterior Prediction under the Bayesian Multinomial Probit Models</h2><span id='topic+predict.mnp'></span>

<h3>Description</h3>

<p>Obtains posterior predictions under a fitted (Bayesian) multinomial probit
model. <code>predict</code> method for class <code>mnp</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mnp'
predict(
  object,
  newdata = NULL,
  newdraw = NULL,
  n.draws = 1,
  type = c("prob", "choice", "order"),
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.mnp_+3A_object">object</code></td>
<td>
<p>An output object from <code>mnp</code>.</p>
</td></tr>
<tr><td><code id="predict.mnp_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing the values of the predictor
variables. Predictions for multiple values of the predictor variables can be
made simultaneously if <code>newdata</code> has multiple rows. The default is the
original data frame used for fitting the model.</p>
</td></tr>
<tr><td><code id="predict.mnp_+3A_newdraw">newdraw</code></td>
<td>
<p>An optional matrix of MCMC draws to be used for posterior
predictions. The default is the original MCMC draws stored in <code>object</code>.</p>
</td></tr>
<tr><td><code id="predict.mnp_+3A_n.draws">n.draws</code></td>
<td>
<p>The number of additional Monte Carlo draws given each MCMC
draw of coefficients and covariance matrix. The specified number of latent
variables will be sampled from the multivariate normal distribution, and the
quantities of interest will be calculated by averaging over these draws.
This will be particularly useful calculating the uncertainty of predicted
probabilities. The default is <code>1</code>.</p>
</td></tr>
<tr><td><code id="predict.mnp_+3A_type">type</code></td>
<td>
<p>The type of posterior predictions required. There are four
options: <code>type = "prob"</code> returns the predictive probabilities of being
the most preferred choice among the choice set.  <code>type = "choice"</code>
returns the Monte Carlo sample of the most preferred choice, and <code>type
= "order"</code> returns the Monte Carlo sample of the ordered preferences,</p>
</td></tr>
<tr><td><code id="predict.mnp_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code>, helpful messages along with a
progress report on the Monte Carlo sampling from the posterior predictive
distributions are printed on the screen. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="predict.mnp_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The posterior predictive values are computed using the Monte Carlo sample
stored in the <code>mnp</code> output (or other sample if <code>newdraw</code> is
specified). Given each Monte Carlo sample of the parameters and each vector
of predictor variables, we sample the vector-valued latent variable from the
appropriate multivariate Normal distribution. Then, using the sampled
predictive values of the latent variable, we construct the most preferred
choice as well as the ordered preferences. Averaging over the Monte Carlo
sample of the preferred choice, we obtain the predictive probabilities of
each choice being most preferred given the values of the predictor
variables.  Since the predictive values are computed via Monte Carlo
simulations, each run may produce somewhat different values. The computation
may be slow if predictions with many values of the predictor variables are
required and/or if a large Monte Carlo sample of the model parameters is
used. In either case, setting <code>verbose = TRUE</code> may be helpful in
monitoring the progress of the code.
</p>


<h3>Value</h3>

<p><code>predict.mnp</code> yields a list of class
<code>predict.mnp</code> containing at least one of the following elements:
</p>
<table>
<tr><td><code>o</code></td>
<td>
<p>A three dimensional array of the Monte Carlo sample from the posterior predictive
distribution of the ordered preferences. The first dimension corresponds to
the rows of <code>newdata</code> (or the original data set if <code>newdata</code> is
left unspecified), the second dimension corresponds to the alternatives in
the choice set, and the third dimension indexes the Monte Carlo sample. If
<code>n.draws</code> is greater than 1, then each entry will be an average over
these additional draws.  </p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>A two or three dimensional array of the
posterior predictive probabilities for each alternative in the choice set
being most preferred. The first demension corresponds to the rows of
<code>newdata</code> (or the original data set if <code>newdata</code> is left
unspecified), the second dimension corresponds to the alternatives in the
choice set, and the third dimension (if it exists) indexes the Monte Carlo
sample. If <code>n.draws</code> is greater than 1, then the third diemsion exists
and indexes the Monte Carlo sample.  </p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>A matrix of the Monte Carlo
sample from the posterior predictive distribution of the most preferred
choice. The first dimension correspond to the rows of <code>newdata</code> (or the
original data set if <code>newdata</code> is left unspecified), and the second
dimension indexes the Monte Carlo sample. <code>n.draws</code> will be set to 1
when computing this quantity of interest.  </p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>A matrix of covariates used for prediction</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>
</p>


<h3>See Also</h3>

<p><code>mnp</code>
</p>

<hr>
<h2 id='print.summary.mnp'>Print the summary of the results for the Multinomial Probit Models</h2><span id='topic+print.summary.mnp'></span>

<h3>Description</h3>

<p><code>summary</code> print method for class <code>mnp</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.mnp'
print(x, digits = max(3, getOption("digits") - 3), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary.mnp_+3A_x">x</code></td>
<td>
<p>An object of class <code>summary.mnp</code>.</p>
</td></tr>
<tr><td><code id="print.summary.mnp_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to use when printing.</p>
</td></tr>
<tr><td><code id="print.summary.mnp_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Politics, Princeton University
<a href="mailto:kimai@Princeton.Edu">kimai@Princeton.Edu</a>
</p>


<h3>See Also</h3>

<p><code>mnp</code>
</p>

<hr>
<h2 id='summary.mnp'>Summarizing the results for the Multinomial Probit Models</h2><span id='topic+summary.mnp'></span>

<h3>Description</h3>

<p><code>summary</code> method for class <code>mnp</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mnp'
summary(object, CI = c(2.5, 97.5), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.mnp_+3A_object">object</code></td>
<td>
<p>An output object from <code>mnp</code>.</p>
</td></tr>
<tr><td><code id="summary.mnp_+3A_ci">CI</code></td>
<td>
<p>A 2 dimensional vector of lower and upper bounds for the credible
intervals used to summarize the results. The default is the equal tail 95
percent credible interval.</p>
</td></tr>
<tr><td><code id="summary.mnp_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>summary.mnp</code> yields an object of class <code>summary.mnp</code>
containing the following elements: </p>
<table>
<tr><td><code>call</code></td>
<td>
<p>The call from <code>mnp</code>.</p>
</td></tr>
<tr><td><code>n.alt</code></td>
<td>
<p>The total number of alternatives.</p>
</td></tr> <tr><td><code>base</code></td>
<td>
<p>The base
category used for fitting.</p>
</td></tr> <tr><td><code>n.obs</code></td>
<td>
<p>The number of observations.</p>
</td></tr>
<tr><td><code>n.param</code></td>
<td>
<p>The number of estimated parameters.</p>
</td></tr> <tr><td><code>n.draws</code></td>
<td>
<p>The
number of Gibbs draws used for the summary.</p>
</td></tr> <tr><td><code>coef.table</code></td>
<td>
<p>The summary
of the posterior distribution of the coefficients. </p>
</td></tr> <tr><td><code>cov.table</code></td>
<td>
<p>The
summary of the posterior distribution of the covariance matrix.</p>
</td></tr></table>
<p> This object
can be printed by <code>print.summary.mnp</code>
</p>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@Harvard.Edu">imai@Harvard.Edu</a>
</p>


<h3>See Also</h3>

<p><code>mnp</code>
</p>

<hr>
<h2 id='vcov.mnp'>Extract Multinomial Probit Model Covariance Matrix</h2><span id='topic+vcov.mnp'></span>

<h3>Description</h3>

<p><code>vcov.mnp</code> is a function which extracts the posterior draws of
covariance matrix from objects returned by <code>mnp</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mnp'
vcov(object, subset = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.mnp_+3A_object">object</code></td>
<td>
<p>An output object from <code>mnp</code>.</p>
</td></tr>
<tr><td><code id="vcov.mnp_+3A_subset">subset</code></td>
<td>
<p>A scalar or a numerical vector specifying the row number(s) of
<code>param</code> in the output object from <code>mnp</code>. If specified, the
posterior draws of covariance matrix for those rows are extracted. The
default is <code>NULL</code> where all the posterior draws are extracted.</p>
</td></tr>
<tr><td><code id="vcov.mnp_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>When a numerical vector or <code>NULL</code> is specified for
<code>subset</code> argument, <code>vcov.mnp</code> returns a three dimensional array
where the third dimension indexes posterior draws. When a scalar is
specified for <code>subset</code> arugment, <code>vcov.mnp</code> returns a matrix.
</p>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Government and Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>
</p>


<h3>See Also</h3>

<p><code>mnp</code>, <code>coef.mnp</code>;
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package HierPortfolios</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {HierPortfolios}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#daily_returns'>
<p>Daily returns (in percentage) of 15 assets.</p></a></li>
<li><a href='#DHRP_Portfolio'><p>Constrained Hierarchical Risk Parity</p></a></li>
<li><a href='#HCAA_Portfolio'><p>Hierarchical Clustering-Based Asset Allocation</p></a></li>
<li><a href='#HERC_Portfolio'><p>Hierarchical Equal Risk Contribution</p></a></li>
<li><a href='#HRP_Portfolio'><p>Hierarchical Risk Parity</p></a></li>
<li><a href='#mldp_returns'>
<p>Returns of 10 simulated assets.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Hierarchical Risk Clustering Portfolio Allocation Strategies</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-08-18</td>
</tr>
<tr>
<td>Description:</td>
<td>Machine learning hierarchical risk clustering portfolio allocation strategies. 
 The implemented methods are:
  Hierarchical risk parity (De Prado, 2016) &lt;<a href="https://doi.org/10.3905%2Fjpm.2016.42.4.059">doi:10.3905/jpm.2016.42.4.059</a>&gt;.
  Hierarchical clustering-based asset allocation (Raffinot, 2017)  
  &lt;<a href="https://doi.org/10.3905%2Fjpm.2018.44.2.089">doi:10.3905/jpm.2018.44.2.089</a>&gt;.
  Hierarchical equal risk contribution portfolio (Raffinot, 2018)
  &lt;<a href="https://doi.org/10.2139%2Fssrn.3237540">doi:10.2139/ssrn.3237540</a>&gt;.
  A Constrained Hierarchical Risk Parity Algorithm with Cluster-based Capital Allocation (Pfitzingera and Katzke, 2019)
  <a href="https://www.ekon.sun.ac.za/wpapers/2019/wp142019/wp142019.pdf">https://www.ekon.sun.ac.za/wpapers/2019/wp142019/wp142019.pdf</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>fastcluster, cluster</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ctruciosm/HierPortfolios">https://github.com/ctruciosm/HierPortfolios</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ctruciosm/HierPortfolios/issues">https://github.com/ctruciosm/HierPortfolios/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-18 12:49:16 UTC; ctruciosm</td>
</tr>
<tr>
<td>Author:</td>
<td>Carlos Trucios <a href="https://orcid.org/0000-0001-8746-8877"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Moon Jun Kwon [aut],
  SÃ£o Paulo Research Foundation (FAPESP), grant 2022/09122-0 [fnd],
  Programa de Incentivo a Novos Docentes da UNICAMP (PIND), grant 2525/23
    [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carlos Trucios &lt;ctrucios@unicamp.br&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-18 13:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='daily_returns'>
Daily returns (in percentage) of 15 assets.
</h2><span id='topic+daily_returns'></span>

<h3>Description</h3>

<p>Dataset used to illustrate how to use the portfolio allocation strategies implemented in this package.
</p>

<hr>
<h2 id='DHRP_Portfolio'>Constrained Hierarchical Risk Parity</h2><span id='topic+DHRP_Portfolio'></span>

<h3>Description</h3>

<p>Performs the Constrained Hierarchical Risk Parity portfolio strategy proposed by Pfitzinger and Katzke (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DHRP_Portfolio(covar, graph = FALSE, tau = 1, UB = NULL, LB = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="DHRP_Portfolio_+3A_covar">covar</code></td>
<td>
<p>Covariance matrix of returns. The covariance matrix will be transformed into correlation matrix and then into a distance matrix.</p>
</td></tr>
<tr><td><code id="DHRP_Portfolio_+3A_graph">graph</code></td>
<td>
<p>To plot de dendrogram set this value to TRUE. By default this value is equal to FALSE.</p>
</td></tr>
<tr><td><code id="DHRP_Portfolio_+3A_tau">tau</code></td>
<td>
<p>Parameter to evaluate asset similarity at the cluster edges. Default value is 1.</p>
</td></tr>
<tr><td><code id="DHRP_Portfolio_+3A_ub">UB</code></td>
<td>
<p>Upper bound for weights. By default this value is equal to NULL</p>
</td></tr>
<tr><td><code id="DHRP_Portfolio_+3A_lb">LB</code></td>
<td>
<p>Lower bound for weights. By default this value is equal to NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>portfolio weights
</p>


<h3>Author(s)</h3>

<p>Carlos Trucios and Moon Jun Kwon
</p>


<h3>References</h3>

<p>Pfitzinger, J., and Katzke, N. A constrained hierarchical risk parity algorithm with cluster-based capital allocation (2019). Working Paper.
</p>


<h3>See Also</h3>

<p><code>HCAA_Portfolio</code>, <code>HRP_Portfolio</code> and <code>HERC_Portfolio</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covar &lt;- cov(mldp_returns)
DHRP_Portfolio(covar)
</code></pre>

<hr>
<h2 id='HCAA_Portfolio'>Hierarchical Clustering-Based Asset Allocation</h2><span id='topic+HCAA_Portfolio'></span>

<h3>Description</h3>

<p>Performs the Hierarchical Clustering-Based Asset Allocation strategy proposed by Raffinot (2017). Several linkage methods for the hierarchical clustering can be used, by default the &quot;ward&quot; linkage is used. The numbers of clusters is selected using the Gap index of Tibshirani et al. (2001).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HCAA_Portfolio(covar, linkage = "ward", graph = FALSE, clusters = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="HCAA_Portfolio_+3A_covar">covar</code></td>
<td>
<p>Covariance matrix of returns. The covariance matrix will be transformed into correlation matrix and then into a distance matrix.</p>
</td></tr>
<tr><td><code id="HCAA_Portfolio_+3A_linkage">linkage</code></td>
<td>
<p>Linkage method used in the hierarchical clustering. Allowed options are &quot;single&quot;, &quot;complete&quot;, &quot;average&quot; or &quot;ward&quot;. Default option is &quot;ward&quot;.</p>
</td></tr>
<tr><td><code id="HCAA_Portfolio_+3A_graph">graph</code></td>
<td>
<p>To plot de dendrogram set this value to TRUE. By default this value is equal to FALSE.</p>
</td></tr>
<tr><td><code id="HCAA_Portfolio_+3A_clusters">clusters</code></td>
<td>
<p>Numbers of clusters. If NULL (default), the gap index is applied.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>portfolio weights.
</p>


<h3>Author(s)</h3>

<p>Carlos Trucios
</p>


<h3>References</h3>

<p>Raffinot, Thomas. &quot;Hierarchical clustering-based asset allocation.&quot; The Journal of Portfolio Management 44.2 (2017): 89-99.
</p>
<p>Tibshirani, Robert, Guenther Walther, and Trevor Hastie. &quot;Estimating the number of clusters in a data set via the gap statistic.&quot; Journal of the Royal Statistical Society: Series B (Statistical Methodology) 63.2 (2001): 411-423.
</p>


<h3>See Also</h3>

<p><code>HRP_Portfolio</code>, <code>HERC_Portfolio</code> and <code>DHRP_Portfolio</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covar &lt;- cov(daily_returns)
HCAA_Portfolio(covar)
</code></pre>

<hr>
<h2 id='HERC_Portfolio'>Hierarchical Equal Risk Contribution</h2><span id='topic+HERC_Portfolio'></span>

<h3>Description</h3>

<p>Performs the Hierarchical Equal Risk Contribution portfolio strategy proposed by Raffinot (2018). Several linkage methods for the hierarchical clustering can be used, by default the &quot;ward&quot; linkage is used. This function uses the variance as risk measure. The number of clusters is selected using the Gap index of Tibshirani et al. (2001). The implemenation follows Sjostrand and Nina (2020).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HERC_Portfolio(covar, linkage = "ward", graph = FALSE, clusters = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="HERC_Portfolio_+3A_covar">covar</code></td>
<td>
<p>Covariance matrix of returns. The covariance matrix will be transformed into correlation matrix and then into a distance matrix.</p>
</td></tr>
<tr><td><code id="HERC_Portfolio_+3A_linkage">linkage</code></td>
<td>
<p>Linkage method used in the hierarchical clustering. Allowed options are &quot;single&quot;, &quot;complete&quot;, &quot;average&quot; or &quot;ward&quot;. Default option is &quot;ward&quot;.</p>
</td></tr>
<tr><td><code id="HERC_Portfolio_+3A_graph">graph</code></td>
<td>
<p>To plot de dendrogram set this value to TRUE. By default this value is equal to FALSE.</p>
</td></tr>
<tr><td><code id="HERC_Portfolio_+3A_clusters">clusters</code></td>
<td>
<p>Numbers of clusters. If NULL (default), the gap index is applied.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>portfolio weights.
</p>


<h3>Author(s)</h3>

<p>Carlos Trucios and Moon Jun Kwon
</p>


<h3>References</h3>

<p>Raffinot, Thomas. &quot;The hierarchical equal risk contribution portfolio.&quot; Available at SSRN 3237540 (2018).
</p>
<p>Tibshirani, Robert, Guenther Walther, and Trevor Hastie. &quot;Estimating the number of clusters in a data set via the gap statistic.&quot; Journal of the Royal Statistical Society: Series B (Statistical Methodology) 63.2 (2001): 411-423.
</p>


<h3>See Also</h3>

<p><code>HRP_Portfolio</code>, <code>HCAA_Portfolio</code> and <code>DHRP_Portfolio</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covar &lt;- cov(daily_returns)
HERC_Portfolio(covar)
</code></pre>

<hr>
<h2 id='HRP_Portfolio'>Hierarchical Risk Parity</h2><span id='topic+HRP_Portfolio'></span>

<h3>Description</h3>

<p>Performs the Hierarchical Risk Parity portfolio proposed strategy by De Prado (2016). Several linkage methods for the hierarchical clustering can be used, by default the &quot;single&quot; linkage is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HRP_Portfolio(covar, linkage = "single", graph = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="HRP_Portfolio_+3A_covar">covar</code></td>
<td>
<p>Covariance matrix of returns. The covariance matrix will be transformed into correlation matrix and then into a distance matrix.</p>
</td></tr>
<tr><td><code id="HRP_Portfolio_+3A_linkage">linkage</code></td>
<td>
<p>Linkage method used in the hierarchical clustering. Allowed options are &quot;single&quot;, &quot;complete&quot;, &quot;average&quot; or &quot;ward&quot;. Default option is &quot;single&quot;.</p>
</td></tr>
<tr><td><code id="HRP_Portfolio_+3A_graph">graph</code></td>
<td>
<p>To plot de dendrogram set this value to TRUE. By default this value is equal to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>portfolio weights
</p>


<h3>Author(s)</h3>

<p>Carlos Trucios
</p>


<h3>References</h3>

<p>De Prado, Marcos Lopez. &quot;Building diversified portfolios that outperform out of sample.&quot; The Journal of Portfolio Management 42.4 (2016): 59-69.
</p>


<h3>See Also</h3>

<p><code>HCAA_Portfolio</code>, <code>HERC_Portfolio</code> and <code>DHRP_Portfolio</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covar &lt;- cov(mldp_returns)
HRP_Portfolio(covar)
</code></pre>

<hr>
<h2 id='mldp_returns'>
Returns of 10 simulated assets.
</h2><span id='topic+mldp_returns'></span>

<h3>Description</h3>

<p>This dataset contains the simulated returns used in the numerical example of Marcos Lopez de Prado's paper, hence the name <code>mldp_returns</code>. The Python code used to reproduce this simulated data is kindly provided by the author in the supplementary material of his paper.
</p>


<h3>References</h3>

<p>De Prado, Marcos Lopez. &quot;Building diversified portfolios that outperform out of sample.&quot; The Journal of Portfolio Management 42.4 (2016): 59-69.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

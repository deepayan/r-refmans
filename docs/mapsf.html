<!DOCTYPE html><html><head><title>Help for package mapsf</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mapsf}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#mapsf'><p>Package description</p></a></li>
<li><a href='#mf_annotation'><p>Plot an annotation</p></a></li>
<li><a href='#mf_arrow'><p>Plot a north arrow</p></a></li>
<li><a href='#mf_background'><p>Plot a background image</p></a></li>
<li><a href='#mf_base'><p>Plot an sf object</p></a></li>
<li><a href='#mf_choro'><p>Plot a choropleth map</p></a></li>
<li><a href='#mf_credits'><p>Plot credits</p></a></li>
<li><a href='#mf_distr'><p>Plot a distribution</p></a></li>
<li><a href='#mf_export'><p>Export a map</p></a></li>
<li><a href='#mf_get_breaks'><p>Get class intervals</p></a></li>
<li><a href='#mf_get_leg_pos'><p>Get the optimal position of a legend</p></a></li>
<li><a href='#mf_get_links'><p>Get a link layer from a data.frame of links</p></a></li>
<li><a href='#mf_get_mtq'><p>Get the 'mtq' dataset</p></a></li>
<li><a href='#mf_get_pal'><p>Get color palettes</p></a></li>
<li><a href='#mf_get_ratio'><p>Get map width and height values</p></a></li>
<li><a href='#mf_grad'><p>Plot graduated symbols</p></a></li>
<li><a href='#mf_graticule'><p>Plot graticules</p></a></li>
<li><a href='#mf_init'><p>Initialize a map with a specific extent</p></a></li>
<li><a href='#mf_inset_on'><p>Plot an inset</p></a></li>
<li><a href='#mf_label'><p>Plot labels</p></a></li>
<li><a href='#mf_layout'><p>Plot a map layout</p></a></li>
<li><a href='#mf_legend'><p>Plot a legend</p></a></li>
<li><a href='#mf_legend_c'><p>Plot a legend for a choropleth map</p></a></li>
<li><a href='#mf_legend_gl'><p>Plot a legend for a graduated lines map</p></a></li>
<li><a href='#mf_legend_p'><p>Plot a legend for a proportional symbols map</p></a></li>
<li><a href='#mf_legend_pl'><p>Plot a legend for a proportional lines map</p></a></li>
<li><a href='#mf_legend_s'><p>Plot a legend for a symbols map</p></a></li>
<li><a href='#mf_legend_t'><p>Plot a legend for a typology map</p></a></li>
<li><a href='#mf_map'><p>Plot a map</p></a></li>
<li><a href='#mf_prop'><p>Plot proportional symbols</p></a></li>
<li><a href='#mf_prop_choro'><p>Plot proportional symbols using choropleth coloration</p></a></li>
<li><a href='#mf_prop_typo'><p>Plot proportional symbols using typology coloration</p></a></li>
<li><a href='#mf_raster'><p>Plot a raster</p></a></li>
<li><a href='#mf_scale'><p>Plot a scale bar</p></a></li>
<li><a href='#mf_shadow'><p>Plot a shadow</p></a></li>
<li><a href='#mf_symb'><p>Plot symbols</p></a></li>
<li><a href='#mf_symb_choro'><p>Plot symbols using choropleth coloration</p></a></li>
<li><a href='#mf_theme'><p>Set a theme</p></a></li>
<li><a href='#mf_title'><p>Plot a title</p></a></li>
<li><a href='#mf_typo'><p>Plot a typology map</p></a></li>
<li><a href='#mf_worldmap'><p>Plot a point on a world map</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Thematic Cartography</td>
</tr>
<tr>
<td>Version:</td>
<td>0.10.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Create and integrate thematic maps in your workflow. This package
    helps to design various cartographic representations such as proportional
    symbols, choropleth or typology maps. It also offers several functions to
    display layout elements that improve the graphic presentation of maps
    (e.g. scale bar, north arrow, title, labels). 'mapsf' maps 'sf' objects on
    'base' graphics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://riatelab.github.io/mapsf/">https://riatelab.github.io/mapsf/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/riatelab/mapsf/issues/">https://github.com/riatelab/mapsf/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>classInt, graphics, maplegend, s2, sf, stats, utils, grDevices</td>
</tr>
<tr>
<td>Suggests:</td>
<td>terra, png, jpeg, lwgeom, knitr, rmarkdown, tinytest, covr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-06 09:48:23 UTC; tim</td>
</tr>
<tr>
<td>Author:</td>
<td>Timothée Giraud <a href="https://orcid.org/0000-0002-1932-3323"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Hugues Pecout <a href="https://orcid.org/0000-0002-0246-0954"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb] (Logo),
  Ronan Ysebaert <a href="https://orcid.org/0000-0002-7344-5911"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb] (Cheat sheet),
  Ian Fellows [cph] (No overlap algorithm for labels, from wordcloud
    package),
  Jim Lemon [cph] (Arc drawing algorithm for annotations, from plotrix
    package)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Timothée Giraud &lt;timothee.giraud@cnrs.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-06 10:20:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='mapsf'>Package description</h2><span id='topic+mapsf-package'></span><span id='topic+mapsf'></span>

<h3>Description</h3>

<p>Create and integrate thematic maps in your workflow. This package
helps to design various cartographic representations such as proportional
symbols, choropleth or typology maps. It also offers several functions to
display layout elements that improve the graphic presentation of maps
(e.g. scale bar, north arrow, title, labels). <code>mapsf</code> maps <a href="sf.html#topic+sf">sf</a> objects on
<code>base</code> graphics.
</p>
<p>A &quot;Get Started&quot; <strong>vignette</strong> contains commented scripts on how to create
various maps: <code>vignette(topic = "mapsf", package = "mapsf")</code>
</p>


<h3>Symbology</h3>

<p>These functions display cartographic layers.
</p>

<ul>
<li> <p><code><a href="#topic+mf_map">mf_map()</a></code> Plot a map
</p>
</li>
<li> <p><code><a href="#topic+mf_label">mf_label()</a></code> Plot labels
</p>
</li>
<li> <p><code><a href="#topic+mf_raster">mf_raster()</a></code> Plot a raster
</p>
</li>
<li> <p><code><a href="#topic+mf_graticule">mf_graticule()</a></code> Plot graticules
</p>
</li></ul>



<h3>Map layout</h3>

<p>These functions are dedicated to the map layout design.
</p>

<ul>
<li> <p><code><a href="#topic+mf_init">mf_init()</a></code> Initialize a map with a specific extent
</p>
</li>
<li> <p><code><a href="#topic+mf_theme">mf_theme()</a></code> Set a theme
</p>
</li>
<li> <p><code><a href="#topic+mf_shadow">mf_shadow()</a></code> Plot a shadow
</p>
</li>
<li> <p><code><a href="#topic+mf_background">mf_background()</a></code> Plot a background image
</p>
</li>
<li> <p><code><a href="#topic+mf_annotation">mf_annotation()</a></code> Plot an annotation
</p>
</li>
<li> <p><code><a href="#topic+mf_arrow">mf_arrow()</a></code> Plot a north arrow
</p>
</li>
<li> <p><code><a href="#topic+mf_credits">mf_credits()</a></code> Plot credits
</p>
</li>
<li> <p><code><a href="#topic+mf_layout">mf_layout()</a></code> Plot a map layout
</p>
</li>
<li> <p><code><a href="#topic+mf_title">mf_title()</a></code> Plot a title
</p>
</li>
<li> <p><code><a href="#topic+mf_scale">mf_scale()</a></code> Plot a scale bar
</p>
</li>
<li> <p><code><a href="#topic+mf_inset_on">mf_inset_on()</a></code> / <code><a href="#topic+mf_inset_off">mf_inset_off()</a></code> Plot an inset
</p>
</li>
<li> <p><code><a href="#topic+mf_worldmap">mf_worldmap()</a></code> Plot a point on a world map
</p>
</li>
<li> <p><code><a href="#topic+mf_legend">mf_legend()</a></code> Plot a legend
</p>
</li></ul>



<h3>Utility functions</h3>


<ul>
<li> <p><code><a href="#topic+mf_export">mf_export()</a></code> Export a map
</p>
</li>
<li> <p><code><a href="#topic+mf_distr">mf_distr()</a></code> Plot a distribution
</p>
</li>
<li> <p><code><a href="#topic+mf_get_links">mf_get_links()</a></code> Get a link layer from a data.frame of links
</p>
</li>
<li> <p><code><a href="#topic+mf_get_pal">mf_get_pal()</a></code> Get color palettes
</p>
</li>
<li> <p><code><a href="#topic+mf_get_breaks">mf_get_breaks()</a></code> Get class intervals
</p>
</li>
<li> <p><code><a href="#topic+mf_get_mtq">mf_get_mtq()</a></code> Get the 'mtq' dataset
</p>
</li>
<li> <p><code><a href="#topic+mf_get_ratio">mf_get_ratio()</a></code> Get map width and height values
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Timothée Giraud <a href="mailto:timothee.giraud@cnrs.fr">timothee.giraud@cnrs.fr</a> (<a href="https://orcid.org/0000-0002-1932-3323">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Hugues Pecout (<a href="https://orcid.org/0000-0002-0246-0954">ORCID</a>) (Logo) [contributor]
</p>
</li>
<li><p> Ronan Ysebaert (<a href="https://orcid.org/0000-0002-7344-5911">ORCID</a>) (Cheat sheet) [contributor]
</p>
</li>
<li><p> Ian Fellows (No overlap algorithm for labels, from wordcloud package) [copyright holder]
</p>
</li>
<li><p> Jim Lemon (Arc drawing algorithm for annotations, from plotrix package) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://riatelab.github.io/mapsf/">https://riatelab.github.io/mapsf/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/riatelab/mapsf/issues/">https://github.com/riatelab/mapsf/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='mf_annotation'>Plot an annotation</h2><span id='topic+mf_annotation'></span>

<h3>Description</h3>

<p>Plot an annotation on a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_annotation(
  x,
  txt,
  pos = "topright",
  cex = 0.8,
  col_arrow,
  col_txt,
  halo = FALSE,
  bg,
  s = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_annotation_+3A_x">x</code></td>
<td>
<p>an sf object with 1 row, a couple of coordinates (c(x, y)) or
&quot;interactive&quot;</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_txt">txt</code></td>
<td>
<p>the text to display</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_pos">pos</code></td>
<td>
<p>position of the text, one of &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomright&quot;,
&quot;bottomleft&quot;</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_cex">cex</code></td>
<td>
<p>size of the text</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_col_arrow">col_arrow</code></td>
<td>
<p>arrow color</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_col_txt">col_txt</code></td>
<td>
<p>text color</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_halo">halo</code></td>
<td>
<p>add a halo around the text</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_bg">bg</code></td>
<td>
<p>halo color</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_s">s</code></td>
<td>
<p>arrow size (min=1)</p>
</td></tr>
<tr><td><code id="mf_annotation_+3A_...">...</code></td>
<td>
<p>further <a href="graphics.html#topic+text">text</a> arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, an annotation is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_annotation(
  x = c(711167.8, 1614764),
  txt = "Look!\nImportant feature\nhere!",
  pos = "bottomleft", cex = 1.2, font = 2,
  halo = TRUE, s = 1.5
)

mf_annotation(
  x = mtq[20, ],
  txt = "This is less\nimportant",
  cex = .7, font = 3, s = 1.3
)
</code></pre>

<hr>
<h2 id='mf_arrow'>Plot a north arrow</h2><span id='topic+mf_arrow'></span>

<h3>Description</h3>

<p>Plot a north arrow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_arrow(pos = "topleft", col, adjust)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_arrow_+3A_pos">pos</code></td>
<td>
<p>position. It can be one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom','bottomleft', 'left', 'interactive' or a vector of two coordinates in map units (c(x, y))</p>
</td></tr>
<tr><td><code id="mf_arrow_+3A_col">col</code></td>
<td>
<p>arrow color</p>
</td></tr>
<tr><td><code id="mf_arrow_+3A_adjust">adjust</code></td>
<td>
<p>object of class <code>sf</code> or <code>sfc</code> used to adjust the
arrow to the real north</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a north arrow is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_arrow(pos = "topright")
</code></pre>

<hr>
<h2 id='mf_background'>Plot a background image</h2><span id='topic+mf_background'></span>

<h3>Description</h3>

<p>Plot a background image on an existing plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_background(filename, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_background_+3A_filename">filename</code></td>
<td>
<p>filename of the background image, PNG or JPG/JPEG format.</p>
</td></tr>
<tr><td><code id="mf_background_+3A_...">...</code></td>
<td>
<p>further parameters for
<code><a href="graphics.html#topic+rasterImage">rasterImage</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a background image is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq, col = NA, border = NA)
mf_background(system.file("img/background.jpg", package = "mapsf"))
mf_map(mtq, lwd = 3, col = NA, border = "white", add = TRUE)
mf_credits(
  txt = "Background photo by Noita Digital on Unsplash",
  col = "white"
)
</code></pre>

<hr>
<h2 id='mf_base'>Plot an sf object</h2><span id='topic+mf_base'></span>

<h3>Description</h3>

<p>Plot an sf object. This is mostly a wrapper around
<code>plot(st_geometry(x), ...)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_base(
  x,
  col = "grey80",
  border = "grey20",
  bg = "white",
  cex = 1,
  pch = 20,
  lwd = 0.7,
  lty = 1,
  add = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_base_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code>, <code>sfc</code> or <code>sfg</code></p>
</td></tr>
<tr><td><code id="mf_base_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="mf_base_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_base_+3A_bg">bg</code></td>
<td>
<p>background color</p>
</td></tr>
<tr><td><code id="mf_base_+3A_cex">cex</code></td>
<td>
<p>point size</p>
</td></tr>
<tr><td><code id="mf_base_+3A_pch">pch</code></td>
<td>
<p>pch (point type) for symbols</p>
</td></tr>
<tr><td><code id="mf_base_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_base_+3A_lty">lty</code></td>
<td>
<p>line or border type</p>
</td></tr>
<tr><td><code id="mf_base_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_base_+3A_...">...</code></td>
<td>
<p>further parameters from <a href="base.html#topic+plot">plot</a> for sfc objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- mf_get_mtq()
mf_map(mtq, type = "base")
mf_map(mtq, type = "base", col = "blue")
</code></pre>

<hr>
<h2 id='mf_choro'>Plot a choropleth map</h2><span id='topic+mf_choro'></span>

<h3>Description</h3>

<p>Plot choropleth map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_choro(
  x,
  var,
  pal = "Mint",
  alpha = 1,
  rev = FALSE,
  breaks = "quantile",
  nbreaks,
  border = getOption("mapsf.fg"),
  pch = 21,
  cex = 1,
  lwd = 0.7,
  col_na = "white",
  cex_na = 1,
  pch_na = 4,
  leg_pos = mf_get_leg_pos(x),
  leg_title = var,
  leg_title_cex = 0.8,
  leg_val_cex = 0.6,
  leg_val_rnd = 2,
  leg_no_data = "No data",
  leg_frame = FALSE,
  leg_horiz = FALSE,
  leg_adj = c(0, 0),
  leg_size = 1,
  leg_box_border = getOption("mapsf.fg"),
  leg_box_cex = c(1, 1),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_frame_border = getOption("mapsf.fg"),
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_choro_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_choro_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_breaks">breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks, or a classification method name (see <a href="#topic+mf_get_breaks">mf_get_breaks</a> and Details)</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_nbreaks">nbreaks</code></td>
<td>
<p>number of classes</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_pch">pch</code></td>
<td>
<p>pch type of pch if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_cex">cex</code></td>
<td>
<p>cex cex of the symbols if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_cex_na">cex_na</code></td>
<td>
<p>cex for NA values if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_pch_na">pch_na</code></td>
<td>
<p>pch for NA values if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally (for proportional symbols and choropleth types)</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_box_border">leg_box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_choro_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Breaks defined by a numeric vector or a classification method are
left-closed: breaks defined by <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5[, [5 - 10[, [10 - 15[, [15 - 20].
The &quot;jenks&quot; method is an exception and has to be right-closed.
Jenks breaks computed as <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5], ]5 - 10], ]10 - 15], ]15 - 20].
</p>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq, var = "MED", type = "choro")

mtq[6, "MED"] &lt;- NA
mf_map(
  x = mtq, var = "MED", type = "choro",
  col_na = "grey", pal = "Cividis",
  breaks = "quantile", nbreaks = 4, border = "white",
  lwd = .5, leg_pos = "topleft",
  leg_title = "Median Income", leg_title_cex = 1.1,
  leg_val_cex = 1, leg_val_rnd = -2, leg_no_data = "No data",
  leg_frame = TRUE
)
</code></pre>

<hr>
<h2 id='mf_credits'>Plot credits</h2><span id='topic+mf_credits'></span>

<h3>Description</h3>

<p>Plot credits (sources, author, year...).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_credits(
  txt = "Source(s) &amp; Author(s)",
  pos = "bottomleft",
  col,
  cex = 0.6,
  font = 3,
  bg = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_credits_+3A_txt">txt</code></td>
<td>
<p>text of the credits, use '\n' to add line breaks</p>
</td></tr>
<tr><td><code id="mf_credits_+3A_pos">pos</code></td>
<td>
<p>position, one of 'bottomleft', 'bottomright' or 'rightbottom'</p>
</td></tr>
<tr><td><code id="mf_credits_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="mf_credits_+3A_cex">cex</code></td>
<td>
<p>cex of the credits</p>
</td></tr>
<tr><td><code id="mf_credits_+3A_font">font</code></td>
<td>
<p>font of the credits</p>
</td></tr>
<tr><td><code id="mf_credits_+3A_bg">bg</code></td>
<td>
<p>background color</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, credits are displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_credits(txt = "Author\nSources - Year")
</code></pre>

<hr>
<h2 id='mf_distr'>Plot a distribution</h2><span id='topic+mf_distr'></span>

<h3>Description</h3>

<p>This function displays a histogram, a box plot, a strip chart
and a density curve on the same plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_distr(x, nbins, bw)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_distr_+3A_x">x</code></td>
<td>
<p>a numeric variable</p>
</td></tr>
<tr><td><code id="mf_distr_+3A_nbins">nbins</code></td>
<td>
<p>number of bins in the histogram</p>
</td></tr>
<tr><td><code id="mf_distr_+3A_bw">bw</code></td>
<td>
<p>bandwidth of the density curve</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of bins of the histogram and the bandwidth of the density
curve are (invisibly) returned in a list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(mf_distr(rnorm(1000)))
mf_distr(rbeta(1000, .6, 7))
mf_distr(rbeta(1000, 5, .6))
</code></pre>

<hr>
<h2 id='mf_export'>Export a map</h2><span id='topic+mf_export'></span>

<h3>Description</h3>

<p>Export a map with the extent of a spatial object.<br />
The map is exported in PNG or SVG format.<br />
If only one of <code>width</code> or <code>height</code> is set, <code>mf_export</code> uses
the width/height ratio of <code>x</code> bounding box to find a matching ratio for
the export.<br />
Always use <code>add = TRUE</code> in <code>mf_map</code> calls following an
<code>mf_export</code> call.<br />
Use <code>dev.off</code> to finish the export (see Examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_export(
  x,
  filename = "map.png",
  width,
  height,
  res = 96,
  ...,
  expandBB = rep(0, 4),
  theme,
  export = "png"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_export_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code>, <code>sfc</code> or <code>SpatRaster</code></p>
</td></tr>
<tr><td><code id="mf_export_+3A_filename">filename</code></td>
<td>
<p>path to the exported file. If the file extention is &quot;.png&quot; a
png graphic device is opened, if the file extension is &quot;.svg&quot; a svg graphic
device is opened.</p>
</td></tr>
<tr><td><code id="mf_export_+3A_width">width</code></td>
<td>
<p>width of the figure (pixels for png, inches for svg)</p>
</td></tr>
<tr><td><code id="mf_export_+3A_height">height</code></td>
<td>
<p>height of the figure (pixels for png, inches for svg)</p>
</td></tr>
<tr><td><code id="mf_export_+3A_res">res</code></td>
<td>
<p>resolution (for png)</p>
</td></tr>
<tr><td><code id="mf_export_+3A_...">...</code></td>
<td>
<p>further parameters for png or svg export</p>
</td></tr>
<tr><td><code id="mf_export_+3A_expandbb">expandBB</code></td>
<td>
<p>fractional values to expand the bounding box with, in each
direction (bottom, left, top, right)</p>
</td></tr>
<tr><td><code id="mf_export_+3A_theme">theme</code></td>
<td>
<p>apply a theme (deprecated)</p>
</td></tr>
<tr><td><code id="mf_export_+3A_export">export</code></td>
<td>
<p>deprecated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a map file is initiated (in PNG or SVG format).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
(filename &lt;- tempfile(fileext = ".png"))
mf_export(mtq, filename = filename)
mf_map(mtq, add = TRUE)
dev.off()
</code></pre>

<hr>
<h2 id='mf_get_breaks'>Get class intervals</h2><span id='topic+mf_get_breaks'></span>

<h3>Description</h3>

<p>A function to classify continuous variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_get_breaks(x, nbreaks, breaks, k = 1, central = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_get_breaks_+3A_x">x</code></td>
<td>
<p>a vector of numeric values. NA and Inf values are not used in the
classification.</p>
</td></tr>
<tr><td><code id="mf_get_breaks_+3A_nbreaks">nbreaks</code></td>
<td>
<p>a number of classes</p>
</td></tr>
<tr><td><code id="mf_get_breaks_+3A_breaks">breaks</code></td>
<td>
<p>a classification method; one of &quot;fixed&quot;, &quot;sd&quot;, &quot;equal&quot;,
&quot;pretty&quot;, &quot;quantile&quot;,
&quot;kmeans&quot;, &quot;hclust&quot;, &quot;bclust&quot;, &quot;fisher&quot;, &quot;jenks&quot;, &quot;dpih&quot;, &quot;q6&quot;, &quot;geom&quot;,
&quot;arith&quot;, &quot;em&quot; or &quot;msd&quot; (see Details).</p>
</td></tr>
<tr><td><code id="mf_get_breaks_+3A_k">k</code></td>
<td>
<p>number of standard deviation for &quot;msd&quot; method (see Details)</p>
</td></tr>
<tr><td><code id="mf_get_breaks_+3A_central">central</code></td>
<td>
<p>creation of a central class for &quot;msd&quot; method (see Details)</p>
</td></tr>
<tr><td><code id="mf_get_breaks_+3A_...">...</code></td>
<td>
<p>further arguments
of <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>&quot;fixed&quot;, &quot;sd&quot;, &quot;equal&quot;, &quot;pretty&quot;, &quot;quantile&quot;, &quot;kmeans&quot;, &quot;hclust&quot;,
&quot;bclust&quot;, &quot;fisher&quot;, &quot;jenks&quot; and &quot;dpih&quot;
are <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>
methods. You may need to pass additional arguments for some of them.<br /><br />
Jenks (&quot;jenks&quot; method) and Fisher (&quot;fisher&quot; method) algorithms are
based on the same principle and give
quite similar results but Fisher is much faster. <br /><br />
The &quot;q6&quot; method uses the following <code><a href="stats.html#topic+quantile">quantile</a></code>
probabilities: 0, 0.05, 0.275, 0.5, 0.725, 0.95, 1.<br /><br />
The &quot;geom&quot; method is based on a geometric progression along
the variable values, all values must be strictly greater than zero.<br /><br />
The &quot;arith&quot; method is based on an arithmetic progression along
the variable values.<br /><br />
The &quot;em&quot; method is based on nested averages computation.<br /><br />
The &quot;msd&quot; method is based on the mean and the standard deviation
of a numeric vector.
The <code>nbreaks</code> parameter is not relevant, use <code>k</code> and
<code>central</code> instead. <code>k</code> indicates
the extent of each class in share of standard deviation.
If <code>central=TRUE</code> then
the mean value is the center of a class else the mean is a break value.
</p>


<h3>Value</h3>

<p>A numeric vector of breaks
</p>


<h3>Note</h3>

<p>This function is mainly a wrapper
of <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> +
&quot;arith&quot;, &quot;em&quot;, &quot;q6&quot;, &quot;geom&quot; and &quot;msd&quot; methods.
</p>


<h3>See Also</h3>

<p><a href="classInt.html#topic+classIntervals">classIntervals</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_get_breaks(x = mtq$MED, nbreaks = 6, breaks = "quantile")
</code></pre>

<hr>
<h2 id='mf_get_leg_pos'>Get the optimal position of a legend</h2><span id='topic+mf_get_leg_pos'></span>

<h3>Description</h3>

<p>Find the optimal for one or two legends. The optimal position is
a position that minimizes overlap between a spatial object and a legend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_get_leg_pos(x, n = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_get_leg_pos_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_get_leg_pos_+3A_n">n</code></td>
<td>
<p>number of positions to get (1 or 2)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of position is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_get_leg_pos(mtq)
</code></pre>

<hr>
<h2 id='mf_get_links'>Get a link layer from a data.frame of links</h2><span id='topic+mf_get_links'></span>

<h3>Description</h3>

<p>Create a link layer from a data.frame of links and an sf object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_get_links(x, df, x_id, df_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_get_links_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td></tr>
<tr><td><code id="mf_get_links_+3A_df">df</code></td>
<td>
<p>a data.frame that contains identifiers of starting and ending
points.</p>
</td></tr>
<tr><td><code id="mf_get_links_+3A_x_id">x_id</code></td>
<td>
<p>name of the identifier variable in x, default to the first
column (optional)</p>
</td></tr>
<tr><td><code id="mf_get_links_+3A_df_id">df_id</code></td>
<td>
<p>names of the identifier variables in df, character vector of
length 2, default to
the two first columns. (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An sf object is returned, it is composed of df and the sfc
(LINESTRING) of links.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mob &lt;- read.csv(system.file("csv/mob.csv", package = "mapsf"))
# Select links from Fort-de-France (97209))
mob_97209 &lt;- mob[mob$i == 97209, ]
# Create a link layer
mob_links &lt;- mf_get_links(x = mtq, df = mob_97209)
# Plot the links
mf_map(mtq)
mf_map(mob_links, col = "red4", lwd = 2, add = TRUE)
</code></pre>

<hr>
<h2 id='mf_get_mtq'>Get the 'mtq' dataset</h2><span id='topic+mf_get_mtq'></span>

<h3>Description</h3>

<p>Import the mtq dataset (Martinique municipalities).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_get_mtq()
</code></pre>


<h3>Details</h3>

<p>This a wrapper around
<code>st_read(system.file("gpkg/mtq.gpkg", package = "mapsf"),quiet = TRUE)</code>.
</p>


<h3>Value</h3>

<p>an sf object of Martinique municipalities
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
</code></pre>

<hr>
<h2 id='mf_get_pal'>Get color palettes</h2><span id='topic+mf_get_pal'></span>

<h3>Description</h3>

<p><code>mf_get_pal</code> builds sequential, diverging and
qualitative color palettes.
Diverging color palettes can be dissymmetric (different number of colors in
each of the two gradients).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_get_pal(n, palette, alpha = NULL, rev = c(FALSE, FALSE), neutral)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_get_pal_+3A_n">n</code></td>
<td>
<p>the number of colors (&gt;= 1) to be in the palette.</p>
</td></tr>
<tr><td><code id="mf_get_pal_+3A_palette">palette</code></td>
<td>
<p>a valid palette name (one of hcl.pals()). The name is matched
to
the list of available palettes, ignoring upper vs. lower case, spaces,
dashes,
etc. in the matching.</p>
</td></tr>
<tr><td><code id="mf_get_pal_+3A_alpha">alpha</code></td>
<td>
<p>an alpha-transparency level in the range [0,1] (0 means
transparent and 1 means opaque), see argument alpha in hsv and hcl,
respectively.</p>
</td></tr>
<tr><td><code id="mf_get_pal_+3A_rev">rev</code></td>
<td>
<p>logical indicating whether the ordering of the colors should be
reversed.</p>
</td></tr>
<tr><td><code id="mf_get_pal_+3A_neutral">neutral</code></td>
<td>
<p>a color, if two gradients are used, the 'neutral' color can be
added between them.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="grDevices.html#topic+hcl.pals">hcl.pals</a> to get available palette names.
If two gradients are used, the 'neutral' color can be added between them.
</p>


<h3>Value</h3>

<p>A vector of colors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cols &lt;- mf_get_pal(n = 10, pal = "Reds 2")
plot(1:10, rep(1, 10), bg = cols, pch = 22, cex = 4)
cols &lt;- mf_get_pal(n = c(3, 7), pal = c("Reds 2", "Greens"))
plot(1:10, rep(1, 10), bg = cols, pch = 22, cex = 4)
cols &lt;- mf_get_pal(n = c(5, 5), pal = c("Reds 2", "Greens"))
plot(1:10, rep(1, 10), bg = cols, pch = 22, cex = 4)
cols &lt;- mf_get_pal(n = c(7, 3), pal = c("Reds 2", "Greens"))
plot(1:10, rep(1, 10), bg = cols, pch = 22, cex = 4)
cols &lt;- mf_get_pal(
  n = c(5, 5), pal = c("Reds 2", "Greens"),
  neutral = "grey"
)
plot(1:11, rep(1, 11), bg = cols, pch = 22, cex = 4)
opar &lt;- par(bg = "black")
cols &lt;- mf_get_pal(
  n = c(7, 3), pal = c("Reds 2", "Greens"),
  alpha = c(.3, .7)
)
plot(1:10, rep(1, 10), bg = cols, pch = 22, cex = 4)
par(opar)
cols &lt;- mf_get_pal(
  n = c(5, 5), pal = c("Reds 2", "Greens"),
  rev = c(TRUE, TRUE)
)
plot(1:10, rep(1, 10), bg = cols, pch = 22, cex = 4)
</code></pre>

<hr>
<h2 id='mf_get_ratio'>Get map width and height values</h2><span id='topic+mf_get_ratio'></span>

<h3>Description</h3>

<p>This function is to be used to get width and height values
for maps created in reports (*.Rmd, *.qmd).<br />
It uses the width / height ratio of a spatial object bounding box to find a
matching ratio for the map.<br />
If width is specified, then height is deduced from the width / height ratio
of x, figure margins and title size.<br />
If height is specified, then width is
deduced from the width / height ratio of x, figure margins and title size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_get_ratio(
  x,
  width,
  height,
  res = 96,
  expandBB = rep(0, 4),
  theme = mf_theme()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_get_ratio_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code>, <code>sfc</code> or <code>SpatRaster</code></p>
</td></tr>
<tr><td><code id="mf_get_ratio_+3A_width">width</code></td>
<td>
<p>width of the figure (inches), use only one of width or height</p>
</td></tr>
<tr><td><code id="mf_get_ratio_+3A_height">height</code></td>
<td>
<p>height of the figure (inches), use only one of width or height</p>
</td></tr>
<tr><td><code id="mf_get_ratio_+3A_res">res</code></td>
<td>
<p>resolution</p>
</td></tr>
<tr><td><code id="mf_get_ratio_+3A_expandbb">expandBB</code></td>
<td>
<p>fractional values to expand the bounding box with, in each
direction (bottom, left, top, right)</p>
</td></tr>
<tr><td><code id="mf_get_ratio_+3A_theme">theme</code></td>
<td>
<p>theme used for the map</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Width and height are returned in inches.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_get_ratio(x = mtq, width = 5)
</code></pre>

<hr>
<h2 id='mf_grad'>Plot graduated symbols</h2><span id='topic+mf_grad'></span>

<h3>Description</h3>

<p>Plot graduated symbols based on quantitative data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_grad(
  x,
  var,
  breaks = "quantile",
  nbreaks = 3,
  col = "tomato4",
  border = getOption("mapsf.fg"),
  pch = 21,
  cex,
  lwd,
  leg_pos = mf_get_leg_pos(x),
  leg_title = var,
  leg_title_cex = 0.8,
  leg_val_cex = 0.6,
  leg_val_rnd = 2,
  leg_frame = FALSE,
  leg_adj = c(0, 0),
  leg_size = 1,
  leg_border = border,
  leg_box_cex = c(1, 1),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_frame_border = getOption("mapsf.fg"),
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_grad_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_grad_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_breaks">breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks, or a classification method name (see <a href="#topic+mf_get_breaks">mf_get_breaks</a> and Details)</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_nbreaks">nbreaks</code></td>
<td>
<p>number of classes</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_pch">pch</code></td>
<td>
<p>pch (point type) for symbols</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_cex">cex</code></td>
<td>
<p>cex (point size) for symbols</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_border">leg_border</code></td>
<td>
<p>symbol border color(s)</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_grad_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Breaks defined by a numeric vector or a classification method are
left-closed: breaks defined by <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5[, [5 - 10[, [10 - 15[, [15 - 20].
The &quot;jenks&quot; method is an exception and has to be right-closed.
Jenks breaks computed as <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5], ]5 - 10], ]10 - 15], ]15 - 20].
</p>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_map(mtq, "POP", "grad", pch = 22)
</code></pre>

<hr>
<h2 id='mf_graticule'>Plot graticules</h2><span id='topic+mf_graticule'></span>

<h3>Description</h3>

<p>Display graticules and labels on a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_graticule(
  x,
  col = col,
  lwd = 1,
  lty = 1,
  expandBB = rep(0, 4),
  label = TRUE,
  pos = c("top", "left"),
  cex = 0.7,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_graticule_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code>, <code>sfc</code> or <code>SpatRaster</code></p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_col">col</code></td>
<td>
<p>graticules and label color</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_lwd">lwd</code></td>
<td>
<p>graticules line width</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_lty">lty</code></td>
<td>
<p>graticules line type</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_expandbb">expandBB</code></td>
<td>
<p>fractional values to expand the bounding box with, in each
direction (bottom, left, top, right)</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_label">label</code></td>
<td>
<p>whether to add labels (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_pos">pos</code></td>
<td>
<p>labels positions (&quot;bottom&quot;, &quot;left&quot;, &quot;top&quot; and / or &quot;right&quot;)</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_cex">cex</code></td>
<td>
<p>labels size</p>
</td></tr>
<tr><td><code id="mf_graticule_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or
not (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An (invisible) layer of graticules is returned (LINESTRING).
</p>


<h3>Use of graticules</h3>

<p>From <code><a href="sf.html#topic+st_graticule">st_graticule</a></code>:
&quot;In cartographic visualization, the use of graticules is not advised, unless
the graphical output will be used for measurement or navigation, or the
direction of North is important for the interpretation of the content, or
the content is intended to display distortions and artifacts created by
projection. Unnecessary use of graticules only adds visual clutter but
little relevant information. Use of coastlines, administrative boundaries
or place names permits most viewers of the output to orient themselves
better than a graticule.&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq, expandBB = c(0, .1, .1, 0))
mf_graticule(mtq)

mf_graticule(
  x = mtq,
  col = "coral4",
  lwd = 2,
  lty = 2,
  expandBB = c(.1, 0, 0, .1),
  label = TRUE,
  pos = c("right", "bottom"),
  cex = .8,
  add = FALSE
)
mf_map(mtq, add = TRUE)
</code></pre>

<hr>
<h2 id='mf_init'>Initialize a map with a specific extent</h2><span id='topic+mf_init'></span>

<h3>Description</h3>

<p>Plot an invisible layer with the extent of a spatial object.<br />
Always use <code>add = TRUE</code> in <code>mf_map</code> calls following an
<code>mf_init</code> call.
This function is similar to <code>mf_map(x, col = NA, border = NA)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_init(x, expandBB = rep(0, 4), theme)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_init_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code>, <code>sfc</code> or <code>SpatRaster</code></p>
</td></tr>
<tr><td><code id="mf_init_+3A_expandbb">expandBB</code></td>
<td>
<p>fractional values to expand the bounding box with, in each
direction (bottom, left, top, right)</p>
</td></tr>
<tr><td><code id="mf_init_+3A_theme">theme</code></td>
<td>
<p>apply a theme (deprecated)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a map is initiated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
target &lt;- mtq[30, ]
mf_init(target)
mf_map(mtq, add = TRUE)
</code></pre>

<hr>
<h2 id='mf_inset_on'>Plot an inset</h2><span id='topic+mf_inset_on'></span><span id='topic+mf_inset_off'></span>

<h3>Description</h3>

<p>This function is used to add an inset map to the current map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_inset_on(x, pos = "topright", cex = 0.2, fig)

mf_inset_off()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_inset_on_+3A_x">x</code></td>
<td>
<p>an sf object, or &quot;worldmap&quot; to use with <a href="#topic+mf_worldmap">mf_worldmap</a>.</p>
</td></tr>
<tr><td><code id="mf_inset_on_+3A_pos">pos</code></td>
<td>
<p>position, one of &quot;bottomleft&quot;, &quot;left&quot;, &quot;topleft&quot;, &quot;top&quot;, &quot;bottom&quot;,
&quot;bottomright&quot;, &quot;right&quot;, &quot;topright&quot;</p>
</td></tr>
<tr><td><code id="mf_inset_on_+3A_cex">cex</code></td>
<td>
<p>share of the map width occupied by the inset</p>
</td></tr>
<tr><td><code id="mf_inset_on_+3A_fig">fig</code></td>
<td>
<p>coordinates of the inset region (in NDC, see in ?par())</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If x is used (with pos and cex), the width/height ratio of the inset will
match the width/height ratio of x bounding box.<br />
If fig is used, coordinates (xmin, xmax, ymin, ymax) are expressed as
fractions of the mapping space (i.e. excluding margins).<br />
If map layers have to be plotted after the inset (i.e after mf_inset_off()),
please use add = TRUE.<br />
It is not possible to plot an inset within an inset.<br />
It is possible to plot anything (base plots) within the inset, not only map
layers.
</p>


<h3>Value</h3>

<p>No return value, an inset is initiated or closed.
</p>


<h3>Note</h3>

<p>This function does not work when mfrow is used in par().
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_inset_on(x = mtq[1, ], cex = .2)
mf_map(mtq[1, ])
mf_inset_off()

mf_map(mtq)
mf_inset_on(x = "worldmap", pos = "bottomleft")
mf_worldmap(x = mtq)
mf_inset_off()

mf_map(mtq)
mf_inset_on(fig = c(0, 0.25, 0, 0.25))
mf_map(x = mtq)
mf_inset_off()
</code></pre>

<hr>
<h2 id='mf_label'>Plot labels</h2><span id='topic+mf_label'></span>

<h3>Description</h3>

<p>Put labels on a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_label(
  x,
  var,
  col,
  cex = 0.7,
  overlap = TRUE,
  lines = TRUE,
  halo = FALSE,
  bg,
  r = 0.1,
  q = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_label_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_label_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_label_+3A_col">col</code></td>
<td>
<p>labels color, it can be a single color or a vector of colors</p>
</td></tr>
<tr><td><code id="mf_label_+3A_cex">cex</code></td>
<td>
<p>labels cex, it can be a single size or a vector of sizes</p>
</td></tr>
<tr><td><code id="mf_label_+3A_overlap">overlap</code></td>
<td>
<p>if FALSE, labels are moved so they do not overlap.</p>
</td></tr>
<tr><td><code id="mf_label_+3A_lines">lines</code></td>
<td>
<p>if TRUE, then lines are plotted between x,y and the word,
for those words not covering their x,y coordinate</p>
</td></tr>
<tr><td><code id="mf_label_+3A_halo">halo</code></td>
<td>
<p>if TRUE, a 'halo' is displayed around the text and additional
arguments bg and r can be modified to set the color and width of the halo.</p>
</td></tr>
<tr><td><code id="mf_label_+3A_bg">bg</code></td>
<td>
<p>halo color, it can be a single color or a vector of colors</p>
</td></tr>
<tr><td><code id="mf_label_+3A_r">r</code></td>
<td>
<p>width of the halo, it can be a single value or a vector of values</p>
</td></tr>
<tr><td><code id="mf_label_+3A_q">q</code></td>
<td>
<p>quality of the non overlapping labels placement. Possible values
are 0 (quick results), 1 (reasonable quality and speed), 2 (better quality),
3 (insane quality, can take a lot of time).</p>
</td></tr>
<tr><td><code id="mf_label_+3A_...">...</code></td>
<td>
<p>further <a href="graphics.html#topic+text">text</a> arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, labels are displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mtq$cex &lt;- c(rep(.8, 8), 2, rep(.8, 25))
mf_label(
  x = mtq, var = "LIBGEO",
  col = "grey10", halo = TRUE, cex = mtq$cex,
  overlap = FALSE, lines = FALSE
)
</code></pre>

<hr>
<h2 id='mf_layout'>Plot a map layout</h2><span id='topic+mf_layout'></span>

<h3>Description</h3>

<p>Plot a map layout (title, credits, scalebar,
north arrow, frame).
</p>
<p>This function uses <code><a href="#topic+mf_title">mf_title</a></code>, <code><a href="#topic+mf_credits">mf_credits</a></code>,
<code><a href="#topic+mf_scale">mf_scale</a></code> and <code><a href="#topic+mf_arrow">mf_arrow</a></code> with default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_layout(
  title = "Map Title",
  credits = "Authors &amp; Sources",
  scale = TRUE,
  arrow = TRUE,
  frame = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_layout_+3A_title">title</code></td>
<td>
<p>title of the map</p>
</td></tr>
<tr><td><code id="mf_layout_+3A_credits">credits</code></td>
<td>
<p>credits</p>
</td></tr>
<tr><td><code id="mf_layout_+3A_scale">scale</code></td>
<td>
<p>display a scale bar</p>
</td></tr>
<tr><td><code id="mf_layout_+3A_arrow">arrow</code></td>
<td>
<p>display an arrow</p>
</td></tr>
<tr><td><code id="mf_layout_+3A_frame">frame</code></td>
<td>
<p>display a frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a map layout is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_layout()
</code></pre>

<hr>
<h2 id='mf_legend'>Plot a legend</h2><span id='topic+mf_legend'></span>

<h3>Description</h3>

<p>Plot different types of legend. The &quot;type&quot; argument defines the
legend type.
Please note that some arguments are available for all types of legend and
some others are only relevant for specific legend types (see Details).
<code>mf_legend()</code> is a wrapper for <code>maplegend::leg()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend(
  type,
  val,
  pos = "left",
  pal = "Inferno",
  col = "tomato4",
  inches = 0.3,
  symbol = "circle",
  self_adjust = FALSE,
  lwd = 0.7,
  border = "#333333",
  pch = seq_along(val),
  cex = rep(1, length(val)),
  title = "Legend Title",
  title_cex = 0.8 * size,
  val_cex = 0.6 * size,
  val_rnd = 0,
  col_na = "white",
  cex_na = 1,
  pch_na = 4,
  no_data = FALSE,
  no_data_txt = "No Data",
  box_border = "#333333",
  box_cex = c(1, 1),
  horiz = FALSE,
  frame_border,
  frame = FALSE,
  bg,
  fg,
  size = 1,
  return_bbox = FALSE,
  adj = c(0, 0),
  pt_pch,
  pt_cex,
  pt_cex_na,
  pt_pch_na
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_+3A_type">type</code></td>
<td>
<p>type of legend:
</p>

<ul>
<li> <p><strong>prop</strong> for proportional symbols,
</p>
</li>
<li> <p><strong>choro</strong> for choropleth maps,
</p>
</li>
<li> <p><strong>cont</strong> for continuous maps (e.g. raster),
</p>
</li>
<li> <p><strong>typo</strong> for typology maps,
</p>
</li>
<li> <p><strong>symb</strong> for symbols maps,
</p>
</li>
<li> <p><strong>prop_line</strong> for proportional lines maps,
</p>
</li>
<li> <p><strong>grad_line</strong> for graduated lines maps.
</p>
</li></ul>
</td></tr>
<tr><td><code id="mf_legend_+3A_val">val</code></td>
<td>
<p>vector of value(s) (for &quot;prop&quot; and &quot;prop_line&quot;, at least c(min, max)
for &quot;cont&quot;),
vector of categories (for &quot;symb&quot; and &quot;typo&quot;),
break labels (for &quot;choro&quot; and &quot;grad_line&quot;).</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pos">pos</code></td>
<td>
<p>position of the legend. It can be one of 'topleft', 'top',
'topright', 'right', 'bottomright', 'bottom','bottomleft',
'left', 'interactive' or a vector of two coordinates
in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pal">pal</code></td>
<td>
<p>a color palette name or a vector of colors</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_col">col</code></td>
<td>
<p>color of the symbols (for &quot;prop&quot;) or color of the lines (for
&quot;prop_line&quot; and &quot;grad_line&quot;)</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_inches">inches</code></td>
<td>
<p>size of the largest symbol (radius for circles, half width
for squares) in inches</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_symbol">symbol</code></td>
<td>
<p>type of symbols, 'circle' or 'square'</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_self_adjust">self_adjust</code></td>
<td>
<p>if TRUE values are self-adjusted to keep min, max and
intermediate rounded values</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_lwd">lwd</code></td>
<td>
<p>width(s) of the symbols borders (for &quot;prop&quot; and &quot;symb&quot;),
width of the largest line (for &quot;prop_line&quot;), vector of line width
(for &quot;grad_line&quot;)</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_border">border</code></td>
<td>
<p>symbol border color(s)</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pch">pch</code></td>
<td>
<p>type(s) of the symbols (0:25)</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_cex">cex</code></td>
<td>
<p>size(s) of the symbols</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_val_rnd">val_rnd</code></td>
<td>
<p>number of decimal places of the values in
the legend</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_cex_na">cex_na</code></td>
<td>
<p>size of the symbols for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pch_na">pch_na</code></td>
<td>
<p>type of the symbols for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_no_data">no_data</code></td>
<td>
<p>if TRUE a &quot;missing value&quot; box is plotted</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_no_data_txt">no_data_txt</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_box_border">box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_box_cex">box_cex</code></td>
<td>
<p>width and height size expansion of boxes,
(or offset between circles for &quot;prop&quot; legends with horiz = TRUE)</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_horiz">horiz</code></td>
<td>
<p>if TRUE plot an horizontal legend</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_frame_border">frame_border</code></td>
<td>
<p>border color of the frame</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_frame">frame</code></td>
<td>
<p>if TRUE the legend is plotted within a frame</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_bg">bg</code></td>
<td>
<p>background color of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_fg">fg</code></td>
<td>
<p>foreground color of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_size">size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_return_bbox">return_bbox</code></td>
<td>
<p>return only bounding box of the legend.
No legend is plotted.</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_adj">adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pt_pch">pt_pch</code></td>
<td>
<p>deprecated</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pt_cex">pt_cex</code></td>
<td>
<p>deprecated</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pt_cex_na">pt_cex_na</code></td>
<td>
<p>deprecated</p>
</td></tr>
<tr><td><code id="mf_legend_+3A_pt_pch_na">pt_pch_na</code></td>
<td>
<p>deprecated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some arguments are available for all types of legend: <code>val</code>, <code>pos</code>, <code>title</code>,
<code>title_cex</code>, <code>val_cex</code>, <code>frame</code>, <code>bg</code>, <code>fg</code>, <code>size</code>, <code>adj</code>,
<code>return_bbox</code>).
</p>
<p>Relevant arguments for each specific legend types:
</p>

<ul>
<li> <p><code>leg(type = "prop", val, inches, symbol, col, lwd, border, val_rnd, self_adjust, horiz)</code>
</p>
</li>
<li> <p><code>leg(type = "choro", val, pal, val_rnd, col_na, no_data, no_data_txt, box_border, horiz)</code>
</p>
</li>
<li> <p><code>leg(type = "cont", val, pal, val_rnd, col_na, no_data, no_data_txt, box_border, horiz)</code>
</p>
</li>
<li> <p><code>leg(type = "typo", val, pal, col_na, no_data, no_data_txt, box_border)</code>
</p>
</li>
<li> <p><code>leg(type = "symb", val, pal, pch, cex, lwd, pch_na, cex_na, col_na, no_data, no_data_txt)</code>
</p>
</li>
<li> <p><code>leg(type = "prop_line", val, col, lwd, val_rnd)</code>
</p>
</li>
<li> <p><code>leg(type = "grad_line", val, col, lwd, val_rnd)</code>
</p>
</li></ul>



<h3>Value</h3>

<p>No value is returned, a legend is displayed
(except if <code>return_bbox</code> is used).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_legend(type = "prop", pos = "topright", val = c(1, 5, 10), inches = .3)
mf_legend(
  type = "choro", pos = "bottomright", val = c(10, 20, 30, 40, 50),
  pal = hcl.colors(4, "Reds 2")
)
mf_legend(
  type = "typo", pos = "topleft", val = c("A", "B", "C", "D"),
  pal = hcl.colors(4, "Dynamic")
)
mf_legend(
  type = "symb", pos = "bottomleft", val = c("A", "B", "C"),
  pch = 21:23, cex = c(1, 2, 2),
  pal = hcl.colors(3, "Dynamic")
)
mf_legend(
  type = "grad_line", pos = "top", val = c(1, 2, 3, 4, 10, 15),
  lwd = c(0.2, 2, 4, 5, 10)
)
mf_legend(type = "prop_line", pos = "bottom", lwd = 20, val = c(5, 50, 100))
</code></pre>

<hr>
<h2 id='mf_legend_c'>Plot a legend for a choropleth map</h2><span id='topic+mf_legend_c'></span>

<h3>Description</h3>

<p>Deprecated.
</p>
<p>This function plots a legend for a choropleth map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend_c(
  pos = "topleft",
  val,
  pal,
  title = "Legend Title",
  title_cex = 0.8,
  val_cex = 0.6,
  val_rnd = 2,
  col_na = "white",
  no_data = FALSE,
  no_data_txt = "No Data",
  frame = FALSE,
  border,
  bg,
  fg,
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_c_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;,
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;,
&quot;left&quot;, &quot;interactive&quot; or a vector of two coordinates in map units
(c(x, y))</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_val">val</code></td>
<td>
<p>break labels</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_pal">pal</code></td>
<td>
<p>a set of colors.</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_val_rnd">val_rnd</code></td>
<td>
<p>number of decimal places of the values in
the legend.</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_no_data">no_data</code></td>
<td>
<p>if TRUE a &quot;missing value&quot; box is plotted</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_no_data_txt">no_data_txt</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_border">border</code></td>
<td>
<p>color of the boxes' borders</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_bg">bg</code></td>
<td>
<p>background of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_fg">fg</code></td>
<td>
<p>foreground of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_c_+3A_cex">cex</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a legend is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
plot.new()
plot.window(xlim = c(0, 1), ylim = c(0, 1), asp = 1)
mf_legend_c(val = c(1, 2, 3, 4), pal = c("red1", "red3", "red4"))

## End(Not run)
</code></pre>

<hr>
<h2 id='mf_legend_gl'>Plot a legend for a graduated lines map</h2><span id='topic+mf_legend_gl'></span>

<h3>Description</h3>

<p>Deprecated.
</p>
<p>This function plots a legend for graduated lines maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend_gl(
  pos = "topleft",
  val,
  col = "tomato4",
  lwd,
  title = "Legend Title",
  title_cex = 0.8,
  val_cex = 0.6,
  val_rnd = 2,
  frame = FALSE,
  bg,
  fg,
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_gl_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;,
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;,
&quot;left&quot;, &quot;interactive&quot; or a vector of two coordinates in map units
(c(x, y))</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_val">val</code></td>
<td>
<p>break labels</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_col">col</code></td>
<td>
<p>lines color</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_lwd">lwd</code></td>
<td>
<p>lines widths</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_val_rnd">val_rnd</code></td>
<td>
<p>number of decimal places of the values in
the legend.</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_bg">bg</code></td>
<td>
<p>background of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_fg">fg</code></td>
<td>
<p>foreground of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_gl_+3A_cex">cex</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a legend is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
plot.new()
plot.window(xlim = c(0, 1), ylim = c(0, 1), asp = 1)
mf_legend_gl(lwd = c(0.2, 2, 4, 5, 10), val = c(1, 2, 3, 4, 10.2, 15.2))

## End(Not run)
</code></pre>

<hr>
<h2 id='mf_legend_p'>Plot a legend for a proportional symbols map</h2><span id='topic+mf_legend_p'></span>

<h3>Description</h3>

<p>Deprecated.
</p>
<p>This function plots a legend for proportional symbols.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend_p(
  pos = "left",
  val,
  col = "tomato4",
  inches,
  symbol = "circle",
  border,
  lwd = 0.7,
  title = "Legend Title",
  title_cex = 0.8,
  val_cex = 0.6,
  val_rnd = 0,
  frame = FALSE,
  bg,
  fg,
  cex = 1,
  self_adjust = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_p_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;,
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;,
&quot;left&quot;, &quot;interactive&quot; or a vector of two coordinates in map units
(c(x, y)).</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_val">val</code></td>
<td>
<p>vector of values (at least min and max).</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_col">col</code></td>
<td>
<p>color of the symbols</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, half width
for squares) in inches</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_symbol">symbol</code></td>
<td>
<p>type of symbols, 'circle' or 'square'</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_border">border</code></td>
<td>
<p>color of the symbols borders</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_lwd">lwd</code></td>
<td>
<p>width of the symbols borders</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_val_rnd">val_rnd</code></td>
<td>
<p>number of decimal places of the values in
the legend.</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_bg">bg</code></td>
<td>
<p>background of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_fg">fg</code></td>
<td>
<p>foreground of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_cex">cex</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_legend_p_+3A_self_adjust">self_adjust</code></td>
<td>
<p>if TRUE values are self-adjusted to keep min, max and
intermediate rounded values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a legend is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
plot.new()
plot.window(xlim = c(0, 1), ylim = c(0, 1), asp = 1)
mf_legend_p(val = c(1, 20, 100), col = "red", inches = .3)

## End(Not run)
</code></pre>

<hr>
<h2 id='mf_legend_pl'>Plot a legend for a proportional lines map</h2><span id='topic+mf_legend_pl'></span>

<h3>Description</h3>

<p>Deprecated.
</p>
<p>This function plots a legend for proportional lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend_pl(
  pos = "left",
  val,
  lwd,
  col = "tomato4",
  title = "Legend Title",
  title_cex = 0.8,
  val_cex = 0.6,
  val_rnd = 0,
  frame = FALSE,
  bg,
  fg,
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_pl_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;,
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;,
&quot;left&quot;, &quot;interactive&quot; or a vector of two coordinates in map units
(c(x, y)).</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_val">val</code></td>
<td>
<p>vector of values (at least min and max).</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_lwd">lwd</code></td>
<td>
<p>width of the largest line</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_col">col</code></td>
<td>
<p>color of the lines</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_val_rnd">val_rnd</code></td>
<td>
<p>number of decimal places of the values in
the legend.</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_bg">bg</code></td>
<td>
<p>background of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_fg">fg</code></td>
<td>
<p>foreground of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_pl_+3A_cex">cex</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a legend is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
plot.new()
plot.window(xlim = c(0, 1), ylim = c(0, 1), asp = 1)
mf_legend_pl(lwd = 20, val = c(5, 10, 50, 100))

## End(Not run)
</code></pre>

<hr>
<h2 id='mf_legend_s'>Plot a legend for a symbols map</h2><span id='topic+mf_legend_s'></span>

<h3>Description</h3>

<p>Deprecated.
</p>
<p>This function can plot a legend for a symbols maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend_s(
  pos = "right",
  val,
  pal,
  pt_pch,
  pt_cex,
  border,
  lwd = 0.7,
  title = "Legend title",
  title_cex = 0.8,
  val_cex = 0.6,
  pt_cex_na = 1,
  pt_pch_na = 4,
  col_na = "white",
  no_data = FALSE,
  no_data_txt = "No Data",
  frame = FALSE,
  bg,
  fg,
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_s_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;,
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;,
&quot;left&quot;, &quot;interactive&quot; or a vector of two coordinates in map units
(c(x, y)).</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_val">val</code></td>
<td>
<p>vector of categories.</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_pal">pal</code></td>
<td>
<p>a set of colors</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_pt_pch">pt_pch</code></td>
<td>
<p>pch of the symbols (0:25)</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_pt_cex">pt_cex</code></td>
<td>
<p>cex of the symbols</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_border">border</code></td>
<td>
<p>type = &quot;prop&quot;: color of the symbols borders</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_lwd">lwd</code></td>
<td>
<p>width of the symbols borders</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_pt_cex_na">pt_cex_na</code></td>
<td>
<p>cex of the symbols for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_pt_pch_na">pt_pch_na</code></td>
<td>
<p>pch of the symbols for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_no_data">no_data</code></td>
<td>
<p>if TRUE a &quot;missing value&quot; box is plotted</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_no_data_txt">no_data_txt</code></td>
<td>
<p>label for missing values.</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_bg">bg</code></td>
<td>
<p>background of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_fg">fg</code></td>
<td>
<p>foreground of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_s_+3A_cex">cex</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a legend is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot.new()
plot.window(xlim = c(0, 1), ylim = c(0, 1), asp = 1)
mf_legend_s(
  val = c("Type C", "Type D"), pal = c("cyan", "plum"),
  pt_pch = c(21, 23), pt_cex = c(1, 2)
)
</code></pre>

<hr>
<h2 id='mf_legend_t'>Plot a legend for a typology map</h2><span id='topic+mf_legend_t'></span>

<h3>Description</h3>

<p>Deprecated.
</p>
<p>This function plots a legend for a typology map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_legend_t(
  pos = "topright",
  val,
  pal,
  title = "Legend Title",
  title_cex = 0.8,
  val_cex = 0.6,
  col_na = "white",
  no_data = FALSE,
  no_data_txt = "No Data",
  frame = FALSE,
  border,
  bg,
  fg,
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_legend_t_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;,
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;,
&quot;left&quot;, &quot;interactive&quot; or a vector of two coordinates in map units
(c(x, y)).</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_val">val</code></td>
<td>
<p>vector of categories.</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_pal">pal</code></td>
<td>
<p>a set of colors</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_title">title</code></td>
<td>
<p>title of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_title_cex">title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_val_cex">val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_no_data">no_data</code></td>
<td>
<p>if TRUE a &quot;missing value&quot; box is plotted</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_no_data_txt">no_data_txt</code></td>
<td>
<p>label for missing values.</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_border">border</code></td>
<td>
<p>color of the boxes' borders</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_bg">bg</code></td>
<td>
<p>background of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_fg">fg</code></td>
<td>
<p>foreground of the legend</p>
</td></tr>
<tr><td><code id="mf_legend_t_+3A_cex">cex</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a legend is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
plot.new()
plot.window(xlim = c(0, 1), ylim = c(0, 1), asp = 1)
mf_legend_t(val = c("type A", "type B"), pal = c("navy", "tomato"))

## End(Not run)
</code></pre>

<hr>
<h2 id='mf_map'>Plot a map</h2><span id='topic+mf_map'></span>

<h3>Description</h3>

<p><code>mf_map()</code> is the main function of the package, it displays map layers on a
georeferenced plot.
</p>
<p><code>mf_map()</code> has three main arguments:
</p>

<ul>
<li> <p><code>x</code>, an sf object;
</p>
</li>
<li> <p><code>var</code>, the name(s) of a variable(s) to map;
</p>
</li>
<li> <p><code>type</code>, the map layer type.
</p>
</li></ul>

<p>Many parameters are available to fine tune symbologies and legends.
</p>
<p>Relevant arguments and default values are different for each map type and are
described in the &quot;Details&quot; section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_map(x, var, type = "base",
       breaks, nbreaks, pal, alpha, rev, inches, val_max, symbol, col,
       lwd_max, val_order, pch, cex, border, lwd, col_na, cex_na, pch_na,
       expandBB, add,
       leg_pos, leg_title, leg_title_cex, leg_val_cex, leg_val_rnd,
       leg_no_data, leg_frame, leg_frame_border, leg_horiz, leg_adj, leg_bg,
       leg_fg, leg_size, leg_border, leg_box_border, leg_box_cex, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_map_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code> or <code>sfc</code></p>
</td></tr>
<tr><td><code id="mf_map_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_map_+3A_type">type</code></td>
<td>

<ul>
<li> <p><strong>base</strong>: base maps
</p>
</li>
<li> <p><strong>prop</strong>: proportional symbols maps
</p>
</li>
<li> <p><strong>choro</strong>: choropleth maps
</p>
</li>
<li> <p><strong>typo</strong>: typology maps
</p>
</li>
<li> <p><strong>symb</strong>: symbols maps
</p>
</li>
<li> <p><strong>grad</strong>: graduated symbols maps
</p>
</li>
<li> <p><strong>prop_choro</strong>: proportional symbols maps with symbols colors based
on a quantitative data classification
</p>
</li>
<li> <p><strong>prop_typo</strong>: proportional symbols maps with symbols colors based
on qualitative data
</p>
</li>
<li> <p><strong>symb_choro</strong>: symbols maps with symbols colors based on
a quantitative data classification
</p>
</li></ul>
</td></tr>
<tr><td><code id="mf_map_+3A_breaks">breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks, or a classification method name (see <a href="#topic+mf_get_breaks">mf_get_breaks</a> and Details)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_nbreaks">nbreaks</code></td>
<td>
<p>number of classes</p>
</td></tr>
<tr><td><code id="mf_map_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_map_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, half width for squares) in inches.</p>
</td></tr>
<tr><td><code id="mf_map_+3A_val_max">val_max</code></td>
<td>
<p>maximum value used for proportional symbols</p>
</td></tr>
<tr><td><code id="mf_map_+3A_symbol">symbol</code></td>
<td>
<p>type of symbols, 'circle' or 'square'</p>
</td></tr>
<tr><td><code id="mf_map_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="mf_map_+3A_lwd_max">lwd_max</code></td>
<td>
<p>line width of the largest line</p>
</td></tr>
<tr><td><code id="mf_map_+3A_val_order">val_order</code></td>
<td>
<p>values order, a character vector that matches var modalities</p>
</td></tr>
<tr><td><code id="mf_map_+3A_pch">pch</code></td>
<td>
<p>point type</p>
</td></tr>
<tr><td><code id="mf_map_+3A_cex">cex</code></td>
<td>
<p>point size</p>
</td></tr>
<tr><td><code id="mf_map_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_map_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_map_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_map_+3A_cex_na">cex_na</code></td>
<td>
<p>cex (point size) for NA values</p>
</td></tr>
<tr><td><code id="mf_map_+3A_pch_na">pch_na</code></td>
<td>
<p>pch (point type) for NA values</p>
</td></tr>
<tr><td><code id="mf_map_+3A_expandbb">expandBB</code></td>
<td>
<p>fractional values to expand the bounding box with, in each
direction (bottom, left, top, right)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally (for proportional symbols and choropleth types)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_border">leg_border</code></td>
<td>
<p>symbol border color(s)</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_box_border">leg_box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_map_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_map_+3A_...">...</code></td>
<td>
<p>further parameters from <a href="base.html#topic+plot">plot</a> for sfc objects</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Relevant arguments and default values for each map types:</h4>

<p><strong>base</strong>: displays sf objects geometries.
</p>
<pre>
mf_map(x, col = "grey80", pch = 20, cex = 1, border = "grey20", lwd = 0.7,
       expandBB, add = FALSE, ...)
       </pre>
<p><strong>prop</strong>: displays symbols with areas proportional to a quantitative
variable (stocks). <code>inches</code> is used to set symbols sizes.
</p>
<pre>
mf_map(x, var, type = "prop", inches = 0.3, val_max, symbol = "circle",
       col = "tomato4", lwd_max = 20, border = getOption("mapsf.fg"),
       lwd = 0.7, expandBB, add = TRUE,
       leg_pos = mf_get_leg_pos(x), leg_title = var,
       leg_title_cex = 0.8, leg_val_cex = 0.6, leg_val_rnd = 0,
       leg_frame = FALSE, leg_frame_border = getOption("mapsf.fg"),
       leg_horiz = FALSE, leg_adj = c(0, 0),
       leg_bg = getOption("mapsf.bg"), leg_fg = getOption("mapsf.fg"),
       leg_size = 1)
       </pre>
<p><strong>choro</strong>: areas are shaded according to the variation of a quantitative
variable. Choropleth maps are used to represent ratios or indices.
<code>nbreaks</code>, and <code>breaks</code> allow to set the variable classification.
Colors palettes, defined with <code>pal</code>, can be created with <code>mf_get_pal()</code> or
can use palette names from <code>hcl.pals()</code>.
</p>
<pre>
mf_map(x, var, type = "choro", breaks = "quantile", nbreaks, pal = "Mint",
       alpha = 1, rev = FALSE, pch = 21, cex = 1,
       border = getOption("mapsf.fg"), lwd = 0.7, col_na = "white",
       cex_na = 1, pch_na = 4, expandBB, add = FALSE,
       leg_pos = mf_get_leg_pos(x), leg_title = var, leg_title_cex = 0.8,
       leg_val_cex = 0.6, leg_val_rnd = 2, leg_no_data = "No data",
       leg_frame = FALSE, leg_frame_border = getOption("mapsf.fg"),
       leg_horiz = FALSE, leg_adj = c(0, 0), leg_bg = getOption("mapsf.bg"),
       leg_fg = getOption("mapsf.fg"), leg_size = 1,
       leg_box_border = getOption("mapsf.fg"), leg_box_cex = c(1, 1))
       </pre>
<p><strong>typo</strong>: displays a typology map of a qualitative variable.
<code>val_order</code> is used to set modalities order in the legend.
</p>
<pre>
mf_map(x, var, type = "typo", pal = "Dynamic", alpha = 1, rev = FALSE,
       val_order,border = getOption("mapsf.fg"), pch = 21, cex = 1,
       lwd = 0.7, cex_na = 1, pch_na = 4, col_na = "white",
       leg_pos = mf_get_leg_pos(x), leg_title = var, leg_title_cex = 0.8,
       leg_val_cex = 0.6, leg_no_data = "No data", leg_frame = FALSE,
       leg_frame_border = getOption("mapsf.fg"), leg_adj = c(0, 0),
       leg_size = 1, leg_box_border = getOption("mapsf.fg"),
       leg_box_cex = c(1, 1), leg_fg = getOption("mapsf.fg"),
       leg_bg = getOption("mapsf.bg"), add = FALSE)
       </pre>
<p><strong>symb</strong>: displays the different modalities of a qualitative variable as
symbols.
</p>
<pre>
mf_map(x, var, type = "symb", pal = "Dynamic", alpha = 1, rev = FALSE,
       border = getOption("mapsf.fg"), pch, cex = 1, lwd = 0.7,
       col_na = "grey", pch_na = 4, cex_na = 1, val_order,
       leg_pos = mf_get_leg_pos(x), leg_title = var, leg_title_cex = 0.8,
       leg_val_cex = 0.6, leg_val_rnd = 2, leg_no_data = "No data",
       leg_frame = FALSE, leg_frame_border = getOption("mapsf.fg"),
       leg_adj = c(0, 0), leg_fg = getOption("mapsf.fg"),
       leg_bg = getOption("mapsf.bg"), leg_size = 1, add = TRUE)
       </pre>
<p><strong>grad</strong>: displays graduated symbols. Sizes classes are set with
<code>breaks</code> and <code>nbreaks</code>. Symbol sizes are set with <code>cex</code>.
</p>
<pre>
mf_map(x, var, type = "grad", breaks = "quantile", nbreaks = 3, col = "tomato4",
       border = getOption("mapsf.fg"), pch = 21, cex, lwd,
       leg_pos = mf_get_leg_pos(x), leg_title = var, leg_title_cex = 0.8,
       leg_val_cex = 0.6, leg_val_rnd = 2, leg_frame = FALSE,
       leg_adj = c(0, 0), leg_size = 1, leg_border = border,
       leg_box_cex = c(1, 1), leg_fg = getOption("mapsf.fg"),
       leg_bg = getOption("mapsf.bg"), leg_frame_border = getOption("mapsf.fg"),
       add = TRUE)
       </pre>
<p><strong>prop_choro</strong>: displays symbols with sizes proportional to values of a
first variable and colored to reflect the classification of a second
quantitative variable.
</p>
<pre>
mf_map(x, var, type = "prop_choro", inches = 0.3, val_max, symbol = "circle",
       pal = "Mint", alpha = 1, rev = FALSE, breaks = "quantile", nbreaks,
       border = getOption("mapsf.fg"), lwd = 0.7, col_na = "white",
       leg_pos = mf_get_leg_pos(x, 1), leg_title = var,
       leg_title_cex = c(0.8, 0.8), leg_val_cex = c(0.6, 0.6),
       leg_val_rnd = c(0, 2), leg_no_data = "No data",
       leg_frame = c(FALSE, FALSE), leg_frame_border = getOption("mapsf.fg"),
       leg_horiz = c(FALSE, FALSE), leg_adj = c(0, 0),
       leg_fg = getOption("mapsf.fg"), leg_bg = getOption("mapsf.bg"),
       leg_size = 1, leg_box_border = getOption("mapsf.fg"),
       leg_box_cex = c(1, 1), add = TRUE)
       </pre>
<p><strong>prop_typo</strong>: displays symbols with sizes proportional to values of a
first variable and colored to reflect the modalities of a second qualitative
variable.
</p>
<pre>
mf_map(x, var, type = "prop_typo", inches = 0.3, val_max, symbol = "circle",
       pal = "Dynamic", alpha = 1, rev = FALSE, val_order,
       border = getOption("mapsf.fg"), lwd = 0.7, lwd_max = 15,
       col_na = "white",
       leg_pos = mf_get_leg_pos(x, 1), leg_title = var,
       leg_title_cex = c(0.8, 0.8), leg_val_cex = c(0.6, 0.6),
       leg_val_rnd = c(0), leg_no_data = "No data", leg_frame = c(FALSE, FALSE),
       leg_frame_border = getOption("mapsf.fg"), leg_horiz = FALSE,
       leg_adj = c(0, 0), leg_fg = getOption("mapsf.fg"),
       leg_bg = getOption("mapsf.bg"), leg_size = 1,
       leg_box_border = getOption("mapsf.fg"), leg_box_cex = c(1, 1),
       add = TRUE)
       </pre>
<p><strong>symb_choro</strong>: displays the different modalities of a first qualitative
variable as symbols colored to reflect the classification of a second
quantitative variable.
</p>
<pre>
mf_map(x, var, type = "symb_choro", pal = "Mint", alpha = 1, rev = FALSE,
       breaks = "quantile", nbreaks, border = getOption("mapsf.fg"),
       pch, cex = 1, lwd = 0.7, pch_na = 4, cex_na = 1, col_na = "white",
       val_order,
       leg_pos = mf_get_leg_pos(x, 1), leg_title = var,
       leg_title_cex = c(0.8, 0.8), leg_val_cex = c(0.6, 0.6),
       leg_val_rnd = 2, leg_no_data = c("No data", "No data"),
       leg_frame = c(FALSE, FALSE), leg_frame_border = getOption("mapsf.fg"),
       leg_horiz = FALSE, leg_adj = c(0, 0), leg_fg = getOption("mapsf.fg"),
       leg_bg = getOption("mapsf.bg"), leg_size = 1,
       leg_box_border = getOption("mapsf.fg"), leg_box_cex = c(1, 1),
       add = TRUE)
       </pre>



<h4>Breaks limits</h4>

<p>Breaks defined by a numeric vector or a classification method are
left-closed: breaks defined by <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5[, [5 - 10[, [10 - 15[, [15 - 20].
The &quot;jenks&quot; method is an exception and has to be right-closed.
Jenks breaks computed as <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5], ]5 - 10], ]10 - 15], ]15 - 20].
</p>



<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(mapsf)
mtq &lt;- mf_get_mtq()
# basic examples
# type = "base"
mf_map(mtq)
# type = "prop"
mf_map(mtq)
mf_map(mtq, var = "POP", type = "prop")
# type = "choro"
mf_map(mtq, var = "MED", type = "choro")
# type = "typo"
mf_map(mtq, "STATUS", "typo")
# type = "symb"
mf_map(mtq)
mf_map(mtq, "STATUS", "symb")
# type = "grad"
mf_map(mtq)
mf_map(mtq, var = "POP", type = "grad")
# type = "prop_choro"
mf_map(mtq)
mf_map(mtq, var = c("POP", "MED"), type = "prop_choro")
# type = "prop_typo"
mf_map(mtq)
mf_map(mtq, var = c("POP", "STATUS"), type = "prop_typo")
# type = "symb_choro
mf_map(mtq)
mf_map(mtq, var = c("STATUS", "MED"), type = "symb_choro")




# detailed examples
# type = "base"
mf_map(mtq, type = "base", col = "lightblue", lwd = 1.5, lty = 2)

# type = "prop"
mf_map(mtq)
mf_map(
  x = mtq, var = "POP", type = "prop",
  inches = .4, symbol = "circle", val_max = 90000,
  col = "lightblue", border = "grey", lwd = 1,
  leg_pos = "right", leg_title = "Population",
  leg_title_cex = 1, leg_val_cex = .8, leg_val_rnd = 0,
  leg_frame = TRUE, add = TRUE
)

# type = "choro"
mtq[6, "MED"] &lt;- NA
mf_map(
  x = mtq, var = "MED", type = "choro",
  col_na = "grey80", pal = "Cividis",
  breaks = "quantile", nbreaks = 4, border = "white",
  lwd = .5, leg_pos = "topleft",
  leg_title = "Median Income", leg_title_cex = 1.1,
  leg_val_cex = 1, leg_val_rnd = -2, leg_no_data = "No data",
  leg_frame = TRUE, leg_adj = c(0, -3)
)

# type = "typo"
mtq[4, "STATUS"] &lt;- NA
mf_map(
  x = mtq, var = "STATUS", type = "typo",
  pal = c("red", "blue", "yellow"), lwd = 1.1,
  val_order = c("Prefecture", "Sub-prefecture", "Simple municipality"),
  col_na = "green", border = "brown",
  leg_pos = "bottomleft",
  leg_title = "Status", leg_title_cex = 1.1,
  leg_val_cex = 1, leg_no_data = "No data",
  leg_frame = TRUE, add = FALSE
)

# type = "symb"
mf_map(mtq)
mf_map(
  x = mtq, var = "STATUS", type = "symb",
  pch = c(21:23), pal = c("red1", "tan1", "khaki1"),
  border = "grey20", cex = c(2, 1.5, 1), lwd = .5,
  val_order = c("Prefecture", "Sub-prefecture", "Simple municipality"),
  pch_na = 24, col_na = "blue", leg_frame = TRUE
)

# type = "grad"
mf_map(mtq)
mf_map(
  x = mtq, var = "POP", type = "grad",
  pch = 22, breaks = "quantile", nbreaks = 4, lwd = 2, border = "blue",
  cex = c(.75, 1.5, 3, 5), col = "lightgreen"
)

# type = "prop_choro"
mf_map(mtq)
mf_map(
  x = mtq, var = c("POP", "MED"), type = "prop_choro",
  inches = .35, border = "tomato4",
  val_max = 90000, symbol = "circle", col_na = "white", pal = "Cividis",
  breaks = "equal", nbreaks = 4, lwd = 4,
  leg_pos = "bottomleft",
  leg_title = c("Population", "Median Income"),
  leg_title_cex = c(0.8, 1),
  leg_val_cex = c(.7, .9),
  leg_val_rnd = c(0, 0),
  leg_no_data = "No data",
  leg_frame = c(TRUE, TRUE),
  add = TRUE
)

# type = "prop_typo"
mf_map(mtq)
mf_map(
  x = mtq, var = c("POP", "STATUS"), type = "prop_typo",
  inches = .35, border = "tomato4",
  val_max = 90000, symbol = "circle", col_na = "white", pal = "Dynamic",
  lwd = 2,
  leg_pos = c("bottomright", "bottomleft"),
  leg_title = c("Population", "Municipality\nstatus"),
  leg_title_cex = c(0.9, 0.9),
  leg_val_cex = c(.7, .7),
  val_order = c("Prefecture", "Sub-prefecture", "Simple municipality"),
  leg_no_data = "No dada",
  leg_frame = c(TRUE, TRUE),
  add = TRUE
)

# type = "symb_choro"
mf_map(mtq)
mf_map(
  x = mtq, c("STATUS", "MED"), type = "symb_choro",
  pal = "Reds 3", breaks = "quantile", nbreaks = 4,
  pch = 21:23, cex = c(3, 2, 1),
  pch_na = 25, cex_na = 1.5, col_na = "blue",
  val_order = c(
    "Prefecture",
    "Sub-prefecture",
    "Simple municipality"
  )
)
</code></pre>

<hr>
<h2 id='mf_prop'>Plot proportional symbols</h2><span id='topic+mf_prop'></span>

<h3>Description</h3>

<p>Plot proportional symbols.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_prop(
  x,
  var,
  inches = 0.3,
  val_max,
  lwd_max = 20,
  symbol = "circle",
  col = "tomato4",
  border = getOption("mapsf.fg"),
  lwd = 0.7,
  leg_pos = mf_get_leg_pos(x),
  leg_title = var,
  leg_title_cex = 0.8,
  leg_val_cex = 0.6,
  leg_val_rnd = 0,
  leg_frame = FALSE,
  leg_frame_border = getOption("mapsf.fg"),
  leg_horiz = FALSE,
  leg_adj = c(0, 0),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_size = 1,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_prop_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_prop_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, half width for squares) in inches.</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_val_max">val_max</code></td>
<td>
<p>maximum value used for proportional symbols</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_lwd_max">lwd_max</code></td>
<td>
<p>line width of the largest line</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_symbol">symbol</code></td>
<td>
<p>type of symbols, 'circle' or 'square'</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally (for proportional symbols and choropleth types)</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_prop_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_map(mtq, "POP", "prop")

mf_map(mtq)
mf_map(
  x = mtq, var = "POP", type = "prop",
  inches = .4, symbol = "circle", val_max = 90000,
  col = "tomato1", border = "blue", lwd = 1,
  leg_pos = "right", leg_title = "Population",
  leg_title_cex = 1, leg_val_cex = .8, leg_val_rnd = 0,
  leg_frame = TRUE, add = TRUE
)
</code></pre>

<hr>
<h2 id='mf_prop_choro'>Plot proportional symbols using choropleth coloration</h2><span id='topic+mf_prop_choro'></span>

<h3>Description</h3>

<p>Plot proportional symbols with colors based on a quantitative
data classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_prop_choro(
  x,
  var,
  inches = 0.3,
  val_max,
  symbol = "circle",
  pal = "Mint",
  alpha = 1,
  rev = FALSE,
  breaks = "quantile",
  nbreaks,
  border = getOption("mapsf.fg"),
  lwd = 0.7,
  col_na = "white",
  leg_pos = mf_get_leg_pos(x, 1),
  leg_title = var,
  leg_title_cex = c(0.8, 0.8),
  leg_val_cex = c(0.6, 0.6),
  leg_val_rnd = c(0, 2),
  leg_no_data = "No data",
  leg_frame = c(FALSE, FALSE),
  leg_frame_border = getOption("mapsf.fg"),
  leg_horiz = c(FALSE, FALSE),
  leg_adj = c(0, 0),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_size = 1,
  leg_box_border = getOption("mapsf.fg"),
  leg_box_cex = c(1, 1),
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_prop_choro_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, half width for squares) in inches.</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_val_max">val_max</code></td>
<td>
<p>maximum value used for proportional symbols</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_symbol">symbol</code></td>
<td>
<p>type of symbols, 'circle' or 'square'</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_breaks">breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks, or a classification method name (see <a href="#topic+mf_get_breaks">mf_get_breaks</a> and Details)</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_nbreaks">nbreaks</code></td>
<td>
<p>number of classes</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, two of 'topleft', 'top','topright', 'right','bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). leg_pos argument can be c('position', 'position'), c('position', x2, y2), c(x1,y1, 'position') or c(x1, y1, x2, y2). Use NA to avoid plotting the legend, use 'interactive' to choose thelegend position interactively.</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally (for proportional symbols and choropleth types)</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_box_border">leg_box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_prop_choro_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Breaks defined by a numeric vector or a classification method are
left-closed: breaks defined by <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5[, [5 - 10[, [10 - 15[, [15 - 20].
The &quot;jenks&quot; method is an exception and has to be right-closed.
Jenks breaks computed as <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5], ]5 - 10], ]10 - 15], ]15 - 20].
</p>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_map(mtq, c("POP", "MED"), "prop_choro")

mf_map(mtq)
mtq[6, "MED"] &lt;- NA
mf_map(
  x = mtq, var = c("POP", "MED"), type = "prop_choro",
  inches = .35, border = "tomato4",
  val_max = 90000, symbol = "circle", col_na = "grey", pal = "Cividis",
  breaks = "equal", nbreaks = 4, lwd = 4,
  leg_pos = c("bottomright", "bottomleft"),
  leg_title = c("Population", "Median Income"),
  leg_title_cex = c(0.8, 1),
  leg_val_cex = c(.7, .9),
  leg_val_rnd = c(0, 0),
  leg_no_data = "No data",
  leg_frame = c(TRUE, TRUE),
  add = TRUE
)
</code></pre>

<hr>
<h2 id='mf_prop_typo'>Plot proportional symbols using typology coloration</h2><span id='topic+mf_prop_typo'></span>

<h3>Description</h3>

<p>Plot proportional symbols with colors based on qualitative data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_prop_typo(
  x,
  var,
  inches = 0.3,
  val_max,
  symbol = "circle",
  pal = "Dynamic",
  alpha = 1,
  rev = FALSE,
  val_order,
  border = getOption("mapsf.fg"),
  lwd = 0.7,
  lwd_max = 15,
  col_na = "white",
  leg_pos = mf_get_leg_pos(x, 1),
  leg_title = var,
  leg_title_cex = c(0.8, 0.8),
  leg_val_cex = c(0.6, 0.6),
  leg_val_rnd = c(0),
  leg_no_data = "No data",
  leg_frame = c(FALSE, FALSE),
  leg_frame_border = getOption("mapsf.fg"),
  leg_horiz = FALSE,
  leg_adj = c(0, 0),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_size = 1,
  leg_box_border = getOption("mapsf.fg"),
  leg_box_cex = c(1, 1),
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_prop_typo_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, half width for squares) in inches.</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_val_max">val_max</code></td>
<td>
<p>maximum value used for proportional symbols</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_symbol">symbol</code></td>
<td>
<p>type of symbols, 'circle' or 'square'</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_val_order">val_order</code></td>
<td>
<p>values order, a character vector that matches var modalities</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_lwd_max">lwd_max</code></td>
<td>
<p>line width of the largest line</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, two of 'topleft', 'top','topright', 'right','bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). leg_pos argument can be c('position', 'position'), c('position', x2, y2), c(x1,y1, 'position') or c(x1, y1, x2, y2). Use NA to avoid plotting the legend, use 'interactive' to choose thelegend position interactively.</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally (for proportional symbols and choropleth types)</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_prop_typo_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_map(mtq, c("POP", "STATUS"), "prop_typo")

mtq[6, "STATUS"] &lt;- NA
mf_map(mtq)
mf_map(
  x = mtq, var = c("POP", "STATUS"), type = "prop_typo",
  inches = .35, border = "tomato4",
  val_max = 90000, symbol = "circle", col_na = "grey", pal = "Dynamic",
  lwd = 2,
  leg_pos = c("bottomright", "bottomleft"),
  leg_title = c("Population", "Municipality\nstatus"),
  leg_title_cex = c(0.9, 0.9),
  leg_val_cex = c(.7, .7),
  val_order = c("Prefecture", "Sub-prefecture", "Simple municipality"),
  leg_no_data = "No dada",
  leg_frame = c(TRUE, TRUE),
  add = TRUE
)
</code></pre>

<hr>
<h2 id='mf_raster'>Plot a raster</h2><span id='topic+mf_raster'></span>

<h3>Description</h3>

<p>Plot a raster object (SpatRaster from terra).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_raster(
  x,
  type,
  nbreaks,
  breaks = "equal",
  val_order,
  pal,
  expandBB = rep(0, 4),
  alpha = 1,
  rev = FALSE,
  leg_pos = "right",
  leg_title = names(x),
  leg_title_cex = 0.8,
  leg_val_cex = 0.6,
  leg_val_rnd = 1,
  leg_frame = FALSE,
  leg_frame_border = getOption("mapsf.fg"),
  leg_horiz = FALSE,
  leg_adj = c(0, 0),
  leg_box_border = "#333333",
  leg_box_cex = c(1, 1),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_size = 1,
  add = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_raster_+3A_x">x</code></td>
<td>
<p>a SpatRaster</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_type">type</code></td>
<td>
<p>type of raster map, one of &quot;continuous&quot;, &quot;classes&quot;, or
&quot;interval&quot;. Default type for a numeric and categorial raster are
&quot;continuous&quot; and &quot;classes&quot; respectively.</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_nbreaks">nbreaks</code></td>
<td>
<p>number of classes</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_breaks">breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks
(for type = &quot;continuous&quot; and type = &quot;interval&quot;), or a
classification method name (for type = &quot;interval&quot; only;
see <a href="#topic+mf_get_breaks">mf_get_breaks</a> for classification methods)</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_val_order">val_order</code></td>
<td>
<p>values order, a character vector that matches var modalities</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_expandbb">expandBB</code></td>
<td>
<p>fractional values to expand the bounding box with, in each
direction (bottom, left, top, right)</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_box_border">leg_box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or
not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_raster_+3A_...">...</code></td>
<td>
<p>bgalpha, smooth, maxcell or other arguments passed to be
passed to
<code><a href="terra.html#topic+plotRGB">plotRGB</a></code> or <code><a href="terra.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("terra")) {
  # multi band
  logo &lt;- rast(system.file("ex/logo.tif", package = "terra"))
  mf_raster(logo)

  # one band
  elev &lt;- rast(system.file("ex/elev.tif", package = "terra"))

  ## continuous
  mf_raster(elev)
  mf_raster(elev,
    pal = "Burg", expandBB = c(.2, 0, 0, 0),
    leg_pos = "bottom", leg_horiz = TRUE
  )

  ## continuous with colors and breaks
  mf_raster(elev,
    type = "continuous",
    breaks = c(141, 400, 547),
    pal = c("darkseagreen1", "black", "red")
  )

  ## interval
  mf_raster(elev,
    type = "interval",
    nbreaks = 5, breaks = "equal", pal = "Teal"
  )

  ## classes
  elev2 &lt;- classify(elev, c(140, 400, 450, 549))
  lev_evel &lt;- data.frame(ID = 0:2, elevation = c("Low", "High", "Super High"))
  levels(elev2) &lt;- lev_evel
  mf_raster(elev2)
  mf_raster(elev2,
    pal = c("salmon4", "olivedrab", "yellow3"),
    val_order = c("Super High", "High", "Low")
  )
}
</code></pre>

<hr>
<h2 id='mf_scale'>Plot a scale bar</h2><span id='topic+mf_scale'></span>

<h3>Description</h3>

<p>Plot a scale bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_scale(
  size,
  pos = "bottomright",
  lwd = 1.5,
  cex = 0.6,
  col,
  crs_units = "m",
  scale_units = "km",
  x,
  unit
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_scale_+3A_size">size</code></td>
<td>
<p>size of the scale bar in scale units (<code>scale_units</code>,
default to km). If size is not
set, an automatic size is used (1/10 of the map width).</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_pos">pos</code></td>
<td>
<p>position. It can be one of 'bottomright', 'bottomleft',
'interactive' or a vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_lwd">lwd</code></td>
<td>
<p>line width of the scale bar</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_cex">cex</code></td>
<td>
<p>size of the scale bar text</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_col">col</code></td>
<td>
<p>color of the scale bar (line and text)</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_crs_units">crs_units</code></td>
<td>
<p>units used in the CRS of the currently plotted layer.
Possible values are &quot;m&quot; and &quot;ft&quot; (see Details).</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_scale_units">scale_units</code></td>
<td>
<p>units used for the scale bar. Can be &quot;mi&quot; for miles,
&quot;ft&quot; for feet, &quot;m&quot; for meters, or &quot;km&quot; for kilometers (default).</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_x">x</code></td>
<td>
<p>object of class crs, sf or sfc. If set, the CRS of x will be used
instead of <code>crs_units</code> to define CRS units.</p>
</td></tr>
<tr><td><code id="mf_scale_+3A_unit">unit</code></td>
<td>
<p>deprecated, use scale_units instead</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most CRS use the meter as unit. Some US CRS use feet or US survey
feet. If unsure of the unit used in the CRS you can use the x argument of the
function.
Alternatively, you can use
<code>sf::st_crs(zz, parameters = TRUE)$units_gdal</code> to see which units
are used in the <code>zz</code> layer.
</p>
<p>This scale bar does not work on unprojected (long/lat) maps.
</p>


<h3>Value</h3>

<p>No return value, a scale bar is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_scale()

library(sf)
nc &lt;- st_read(system.file("shape/nc.shp", package = "sf"))[1, ]

nc_foot &lt;- st_transform(nc, 2264) # NC state plane, US foot
mf_map(nc_foot)
mf_scale(size = 5, crs_units = "ft", scale_units = "mi")
mf_map(nc_foot)
mf_scale(size = 5, x = nc_foot, scale_units = "mi")

nc_meter &lt;- st_transform(nc, 32119) # NC state plane, m
mf_map(nc_meter)
mf_scale(size = 5, crs_units = "m", scale_units = "mi")
mf_scale(size = 5, crs_units = "m", scale_units = "km", pos = "bottomleft")
</code></pre>

<hr>
<h2 id='mf_shadow'>Plot a shadow</h2><span id='topic+mf_shadow'></span>

<h3>Description</h3>

<p>Plot the shadow of a polygon layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_shadow(x, col = "grey50", cex = 1, add = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_shadow_+3A_x">x</code></td>
<td>
<p>an sf or sfc polygon object</p>
</td></tr>
<tr><td><code id="mf_shadow_+3A_col">col</code></td>
<td>
<p>shadow color</p>
</td></tr>
<tr><td><code id="mf_shadow_+3A_cex">cex</code></td>
<td>
<p>shadow extent</p>
</td></tr>
<tr><td><code id="mf_shadow_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_shadow(mtq)
mf_map(mtq, add = TRUE)
</code></pre>

<hr>
<h2 id='mf_symb'>Plot symbols</h2><span id='topic+mf_symb'></span>

<h3>Description</h3>

<p>Plot symbols based on qualitative data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_symb(
  x,
  var,
  pal = "Dynamic",
  alpha = 1,
  rev = FALSE,
  border = getOption("mapsf.fg"),
  pch,
  cex = 1,
  lwd = 0.7,
  col_na = "grey",
  pch_na = 4,
  cex_na = 1,
  val_order,
  leg_pos = mf_get_leg_pos(x),
  leg_title = var,
  leg_title_cex = 0.8,
  leg_val_cex = 0.6,
  leg_val_rnd = 2,
  leg_no_data = "No data",
  leg_frame = FALSE,
  leg_frame_border = getOption("mapsf.fg"),
  leg_adj = c(0, 0),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_size = 1,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_symb_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_symb_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_pch">pch</code></td>
<td>
<p>pch (point type) for symbols</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_cex">cex</code></td>
<td>
<p>cex (point size) for symbols</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_pch_na">pch_na</code></td>
<td>
<p>pch (point type) for NA values</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_cex_na">cex_na</code></td>
<td>
<p>cex (point size) for NA values</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_val_order">val_order</code></td>
<td>
<p>values order, a character vector that matches var modalities</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_symb_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_map(mtq, "STATUS", "symb")

mtq[6, "STATUS"] &lt;- NA
mf_map(mtq)
mf_map(
  x = mtq, var = "STATUS", type = "symb",
  pch = c(21:23), pal = c("red1", "tan1", "khaki1"),
  border = "grey20", cex = c(1.5, 1, .9), lwd = .5,
  val_order = c("Prefecture", "Sub-prefecture", "Simple municipality"),
  pch_na = 24, leg_frame = TRUE
)
</code></pre>

<hr>
<h2 id='mf_symb_choro'>Plot symbols using choropleth coloration</h2><span id='topic+mf_symb_choro'></span>

<h3>Description</h3>

<p>Plot symbols with colors based on a quantitative
data classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_symb_choro(
  x,
  var,
  pal = "Mint",
  alpha = 1,
  rev = FALSE,
  breaks = "quantile",
  nbreaks,
  border = getOption("mapsf.fg"),
  pch,
  cex = 1,
  lwd = 0.7,
  pch_na = 4,
  cex_na = 1,
  col_na = "white",
  val_order,
  leg_pos = mf_get_leg_pos(x, 1),
  leg_title = var,
  leg_title_cex = c(0.8, 0.8),
  leg_val_cex = c(0.6, 0.6),
  leg_val_rnd = 2,
  leg_no_data = c("No data", "No data"),
  leg_frame = c(FALSE, FALSE),
  leg_frame_border = getOption("mapsf.fg"),
  leg_horiz = FALSE,
  leg_adj = c(0, 0),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  leg_size = 1,
  leg_box_border = getOption("mapsf.fg"),
  leg_box_cex = c(1, 1),
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_symb_choro_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_breaks">breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks, or a classification method name (see <a href="#topic+mf_get_breaks">mf_get_breaks</a> and Details)</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_nbreaks">nbreaks</code></td>
<td>
<p>number of classes</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_pch">pch</code></td>
<td>
<p>pch (point type) for symbols</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_cex">cex</code></td>
<td>
<p>cex (point size) for symbols</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_pch_na">pch_na</code></td>
<td>
<p>pch (point type) for NA values</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_cex_na">cex_na</code></td>
<td>
<p>cex (point size) for NA values</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_val_order">val_order</code></td>
<td>
<p>values order, a character vector that matches var modalities</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, two of 'topleft', 'top','topright', 'right','bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). leg_pos argument can be c('position', 'position'), c('position', x2, y2), c(x1,y1, 'position') or c(x1, y1, x2, y2). Use NA to avoid plotting the legend, use 'interactive' to choose thelegend position interactively.</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_val_rnd">leg_val_rnd</code></td>
<td>
<p>number of decimal places of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_horiz">leg_horiz</code></td>
<td>
<p>display the legend horizontally (for proportional symbols and choropleth types)</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_box_border">leg_box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_symb_choro_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Breaks defined by a numeric vector or a classification method are
left-closed: breaks defined by <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5[, [5 - 10[, [10 - 15[, [15 - 20].
The &quot;jenks&quot; method is an exception and has to be right-closed.
Jenks breaks computed as <code>c(2, 5, 10, 15, 20)</code>
will be mapped as [2 - 5], ]5 - 10], ]10 - 15], ]15 - 20].
</p>


<h3>Value</h3>

<p>x is (invisibly) returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_map(mtq, c("STATUS", "MED"), "symb_choro")

mf_map(mtq)
mtq$STATUS[30] &lt;- NA
mtq$MED[5] &lt;- NA
mf_map(mtq, c("STATUS", "MED"),
  type = "symb_choro",
  pal = "Reds 3", breaks = "quantile", nbreaks = 4,
  pch = 21:23, cex = c(3, 2, 1),
  pch_na = 25, cex_na = 1.5, col_na = "blue",
  val_order = c(
    "Prefecture",
    "Sub-prefecture",
    "Simple municipality"
  )
)
</code></pre>

<hr>
<h2 id='mf_theme'>Set a theme</h2><span id='topic+mf_theme'></span>

<h3>Description</h3>

<p>This function set a map theme.
The parameters set by this function are the figure margins, background and
foreground colors and some <a href="#topic+mf_title">mf_title</a> options.
Use <code>mf_theme(NULL)</code> or <code>mf_theme('default')</code> to reset to default
theme settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_theme(x, bg, fg, mar, tab, pos, inner, line, cex, font)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_theme_+3A_x">x</code></td>
<td>
<p>name of a map theme. One of &quot;default&quot;, &quot;brutal&quot;, &quot;ink&quot;,
&quot;dark&quot;, &quot;agolalight&quot;, &quot;candy&quot;, &quot;darkula&quot;, &quot;iceberg&quot;, &quot;green&quot;, &quot;nevermind&quot;,
&quot;jsk&quot;, &quot;barcelona&quot;.</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_bg">bg</code></td>
<td>
<p>background color</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_fg">fg</code></td>
<td>
<p>foreground color</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_mar">mar</code></td>
<td>
<p>margins</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_tab">tab</code></td>
<td>
<p>if TRUE the title is displayed as a 'tab'</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_pos">pos</code></td>
<td>
<p>title position, one of 'left', 'center', 'right'</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_inner">inner</code></td>
<td>
<p>if TRUE the title is displayed inside the plot area.</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_line">line</code></td>
<td>
<p>number of lines used for the title</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_cex">cex</code></td>
<td>
<p>cex of the title</p>
</td></tr>
<tr><td><code id="mf_theme_+3A_font">font</code></td>
<td>
<p>font of the title</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is also possible to set a custom theme using a list of arguments
(see Examples).
<code>mf_theme()</code> returns the current theme settings.
</p>


<h3>Value</h3>

<p>The (invisible) list of theme parameters is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()

# Choosing a theme by name:
mf_theme("default")
mf_map(mtq)
mf_title()

# Specifying some values directly:
mf_theme(bg = "darkslategrey", fg = "lightgrey")
mf_map(mtq)
mf_title()

# Using a mix of the above:
mf_theme("brutal", fg = "lightgreen", pos = "center", font = 2, tab = FALSE)
mf_map(mtq)
mf_title()

# Specifying a list with theme values:
theme &lt;- mf_theme("default")
theme$mar &lt;- c(1, 1, 3, 1)
theme$line &lt;- 2
theme$cex &lt;- 1.5
mf_theme(theme)
mf_map(mtq)
mf_title()

# or
theme &lt;- list(
  bg = "green",
  fg = "red",
  mar = c(2, 2, 2, 2),
  tab = TRUE,
  pos = "center",
  inner = TRUE,
  line = 2,
  cex = 1.5,
  font = 3
)
mf_theme(theme)
mf_map(mtq)
mf_title()

# Obtaining a list of parameters for the current theme:
mf_theme()

# Removing the current theme:
mf_theme(NULL)
# or
mf_theme("default")
</code></pre>

<hr>
<h2 id='mf_title'>Plot a title</h2><span id='topic+mf_title'></span>

<h3>Description</h3>

<p>Plot a title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_title(txt = "Map Title", pos, tab, bg, fg, cex, line, font, inner)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_title_+3A_txt">txt</code></td>
<td>
<p>title text</p>
</td></tr>
<tr><td><code id="mf_title_+3A_pos">pos</code></td>
<td>
<p>position, one of 'left', 'center', 'right'</p>
</td></tr>
<tr><td><code id="mf_title_+3A_tab">tab</code></td>
<td>
<p>if TRUE the title is displayed as a 'tab'</p>
</td></tr>
<tr><td><code id="mf_title_+3A_bg">bg</code></td>
<td>
<p>background of the title</p>
</td></tr>
<tr><td><code id="mf_title_+3A_fg">fg</code></td>
<td>
<p>foreground of the title</p>
</td></tr>
<tr><td><code id="mf_title_+3A_cex">cex</code></td>
<td>
<p>cex of the title</p>
</td></tr>
<tr><td><code id="mf_title_+3A_line">line</code></td>
<td>
<p>number of lines used for the title</p>
</td></tr>
<tr><td><code id="mf_title_+3A_font">font</code></td>
<td>
<p>font of the title</p>
</td></tr>
<tr><td><code id="mf_title_+3A_inner">inner</code></td>
<td>
<p>if TRUE the title is displayed inside the plot area.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a title is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq)
mf_title()
</code></pre>

<hr>
<h2 id='mf_typo'>Plot a typology map</h2><span id='topic+mf_typo'></span>

<h3>Description</h3>

<p>Plot a typology map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_typo(
  x,
  var,
  pal = "Dynamic",
  alpha = 1,
  rev = FALSE,
  val_order,
  border = getOption("mapsf.fg"),
  pch = 21,
  cex = 1,
  lwd = 0.7,
  cex_na = 1,
  pch_na = 4,
  col_na = "white",
  leg_pos = mf_get_leg_pos(x),
  leg_title = var,
  leg_title_cex = 0.8,
  leg_val_cex = 0.6,
  leg_no_data = "No data",
  leg_frame = FALSE,
  leg_frame_border = getOption("mapsf.fg"),
  leg_adj = c(0, 0),
  leg_size = 1,
  leg_box_border = getOption("mapsf.fg"),
  leg_box_cex = c(1, 1),
  leg_fg = getOption("mapsf.fg"),
  leg_bg = getOption("mapsf.bg"),
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_typo_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code></p>
</td></tr>
<tr><td><code id="mf_typo_+3A_var">var</code></td>
<td>
<p>name(s) of the variable(s) to plot</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_pal">pal</code></td>
<td>
<p>a set of colors or a palette name (from <a href="grDevices.html#topic+hcl.colors">hcl.colors</a>)</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_alpha">alpha</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, the alpha-transparency level in the range [0,1]</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_rev">rev</code></td>
<td>
<p>if <code>pal</code> is a <a href="grDevices.html#topic+hcl.colors">hcl.colors</a> palette name, whether the ordering of the colors should be reversed (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_val_order">val_order</code></td>
<td>
<p>values order, a character vector that matches var modalities</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_border">border</code></td>
<td>
<p>border color</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_pch">pch</code></td>
<td>
<p>pch type of pch if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_cex">cex</code></td>
<td>
<p>cex cex of the symbols if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_lwd">lwd</code></td>
<td>
<p>border width</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_cex_na">cex_na</code></td>
<td>
<p>cex for NA values if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_pch_na">pch_na</code></td>
<td>
<p>pch for NA values if x is a POINT layer</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_col_na">col_na</code></td>
<td>
<p>color for missing values</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_pos">leg_pos</code></td>
<td>
<p>position of the legend, one of 'topleft', 'top','topright', 'right', 'bottomright', 'bottom', 'bottomleft', 'left' or a vector of two coordinates in map units (c(x, y)). If leg_pos = NA then the legend is not plotted. If leg_pos = 'interactive' click onthe map to choose the legend position.</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_title">leg_title</code></td>
<td>
<p>legend title</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_title_cex">leg_title_cex</code></td>
<td>
<p>size of the legend title</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_val_cex">leg_val_cex</code></td>
<td>
<p>size of the values in the legend</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_no_data">leg_no_data</code></td>
<td>
<p>label for missing values</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_frame">leg_frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_frame_border">leg_frame_border</code></td>
<td>
<p>border color of the legend frame</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_adj">leg_adj</code></td>
<td>
<p>adjust the postion of the legend in x and y directions</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_size">leg_size</code></td>
<td>
<p>size of the legend; 2 means two times bigger</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_box_border">leg_box_border</code></td>
<td>
<p>border color of legend boxes</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_box_cex">leg_box_cex</code></td>
<td>
<p>width and height size expansion of boxes</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_fg">leg_fg</code></td>
<td>
<p>color of the legend foreground</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_leg_bg">leg_bg</code></td>
<td>
<p>color of the legend backgournd</p>
</td></tr>
<tr><td><code id="mf_typo_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a map is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_map(mtq, "STATUS", "typo")
mtq[6, "STATUS"] &lt;- NA
mf_map(
  x = mtq, var = "STATUS", type = "typo",
  pal = c("red", "blue", "yellow"), lwd = 1.1,
  val_order = c("Prefecture", "Sub-prefecture", "Simple municipality"),
  col_na = "green", border = "brown",
  leg_pos = "bottomleft",
  leg_title = "Status", leg_title_cex = 1.1,
  leg_val_cex = 1, leg_no_data = "No data",
  leg_frame = TRUE, add = FALSE
)
</code></pre>

<hr>
<h2 id='mf_worldmap'>Plot a point on a world map</h2><span id='topic+mf_worldmap'></span>

<h3>Description</h3>

<p>Plot a point on a world map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_worldmap(
  x,
  lon,
  lat,
  water_col = "lightblue",
  land_col = "grey60",
  border_col = "grey40",
  border_lwd = 0.8,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_worldmap_+3A_x">x</code></td>
<td>
<p>object of class <code>sf</code> or <code>sfc</code></p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_lon">lon</code></td>
<td>
<p>longitude</p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_lat">lat</code></td>
<td>
<p>latitude</p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_water_col">water_col</code></td>
<td>
<p>color of the water</p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_land_col">land_col</code></td>
<td>
<p>color of the land</p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_border_col">border_col</code></td>
<td>
<p>color of the borders</p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_border_lwd">border_lwd</code></td>
<td>
<p>width of the borders</p>
</td></tr>
<tr><td><code id="mf_worldmap_+3A_...">...</code></td>
<td>
<p>further parameters related to the plotted point aspect
(cex, pch, col...)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, a world map is displayed.
</p>


<h3>Note</h3>

<p>The main part of the code is stolen from @fzenoni
(<a href="https://gist.github.com/fzenoni/ef23faf6d1ada5e4a91c9ef23b0ba2c1">https://gist.github.com/fzenoni/ef23faf6d1ada5e4a91c9ef23b0ba2c1</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtq &lt;- mf_get_mtq()
mf_worldmap(mtq)
mf_worldmap(lon = 24, lat = 39)
mf_worldmap(
  lon = 106, lat = 26,
  pch = 4, lwd = 3, cex = 2, col = "tomato4",
  water_col = "#232525", land_col = "#A9B7C6",
  border_col = "white", border_lwd = 1
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

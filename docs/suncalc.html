<!DOCTYPE html><html lang="en"><head><title>Help for package suncalc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {suncalc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#getMoonIllumination'><p>Get Moon illumination</p></a></li>
<li><a href='#getMoonPosition'><p>Get Moon position</p></a></li>
<li><a href='#getMoonTimes'><p>Get Moon times</p></a></li>
<li><a href='#getSunlightPosition'><p>Get Sunlight position</p></a></li>
<li><a href='#getSunlightTimes'><p>Get Sunlight times</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Title:</td>
<td>Compute Sun Position, Sunlight Phases, Moon Position and Lunar
Phase</td>
</tr>
<tr>
<td>Description:</td>
<td>Get sun position, sunlight phases (times for sunrise, sunset, dusk, etc.),
        moon position and lunar phase for the given location and time. Most calculations are based on the 
        formulas given in Astronomy Answers articles about position of the sun and the planets : 
        <a href="https://www.aa.quae.nl/en/reken/zonpositie.html">https://www.aa.quae.nl/en/reken/zonpositie.html</a>.</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, lubridate, magrittr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/datastorm-open/suncalc">https://github.com/datastorm-open/suncalc</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-29 05:56:11 UTC; BenoitThieurmel</td>
</tr>
<tr>
<td>Author:</td>
<td>Benoit Thieurmel [aut, cre] (R interface),
  Achraf Elmarhraoui [aut] (R interface)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benoit Thieurmel &lt;bthieurmel@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-29 16:20:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='getMoonIllumination'>Get Moon illumination</h2><span id='topic+getMoonIllumination'></span>

<h3>Description</h3>

<p>Get Moon illumination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMoonIllumination(date = Sys.Date(), keep = c("fraction", "phase", "angle"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMoonIllumination_+3A_date">date</code></td>
<td>
<p>: Single or multiple DateTime. Can be a <code>Date</code> (YYYY-MM-DD), 
a <code>character</code> in UTC (YYYY-MM-DD HH:mm:ss) or a <code>POSIXct</code></p>
</td></tr>
<tr><td><code id="getMoonIllumination_+3A_keep">keep</code></td>
<td>
<p>: <code>character</code>. Vector of variables to keep. See <code>Details</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns an object with the following properties:
</p>

<ul>
<li><p>&quot;fraction&quot; :  illuminated fraction of the moon; varies from 0.0 (new moon) to 1.0 (full moon)
</p>
</li>
<li><p>&quot;phase&quot; :  moon phase; varies from 0.0 to 1.0, described below
</p>
</li>
<li><p>&quot;angle&quot; :  midpoint angle in radians of the illuminated limb of the moon reckoned eastward from 
the north point of the disk; the moon is waxing if the angle is negative, and waning if positive
</p>
</li></ul>

<p>Moon phase value should be interpreted like this:
</p>

<ul>
<li><p>0 : New Moon
</p>
</li>
<li><p>Waxing Crescent
</p>
</li>
<li><p>0.25 : First Quarter
</p>
</li>
<li><p> : Waxing Gibbous
</p>
</li>
<li><p>0.5Full Moon
</p>
</li>
<li><p> : Waning Gibbous
</p>
</li>
<li><p>0.75Last Quarter
</p>
</li>
<li><p> : Waning Crescent
</p>
</li></ul>
 
<p>By subtracting the parallacticAngle from the angle one can get the zenith angle of the moons bright limb (anticlockwise). The zenith angle can be used do draw the moon shape from the observers perspective (e.g. moon lying on its back).
</p>


<h3>Value</h3>

<p><code>data.frame</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+getSunlightTimes">getSunlightTimes</a>, <a href="#topic+getMoonTimes">getMoonTimes</a>, <a href="#topic+getMoonIllumination">getMoonIllumination</a>,
<a href="#topic+getMoonPosition">getMoonPosition</a>,<a href="#topic+getSunlightPosition">getSunlightPosition</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# one date
getMoonIllumination(date = Sys.Date())

# in character
getMoonIllumination(date = c("2017-05-12", "2017-05-12 00:00:00"), 
  keep = c("fraction", "phase"))

# in POSIXct
getMoonIllumination(date = as.POSIXct("2017-05-12 00:00:00", tz = "UTC"))
getMoonIllumination(date = as.POSIXct("2017-05-12 02:00:00", tz = "CET"))

date &lt;- seq(ISOdate(2009,1,1), ISOdate(2010,1,1), "hours")
date_cet &lt;- date
attr(date_cet, "tzone") &lt;- "CET"
res &lt;- getMoonIllumination(date = date_cet)
      
</code></pre>

<hr>
<h2 id='getMoonPosition'>Get Moon position</h2><span id='topic+getMoonPosition'></span>

<h3>Description</h3>

<p>Get Moon position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMoonPosition(
  date = NULL,
  lat = NULL,
  lon = NULL,
  data = NULL,
  keep = c("altitude", "azimuth", "distance", "parallacticAngle")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMoonPosition_+3A_date">date</code></td>
<td>
<p>: Single or multiple DateTime. Can be a <code>Date</code> (YYYY-MM-DD), 
a <code>character</code> in UTC (YYYY-MM-DD HH:mm:ss) or a <code>POSIXct</code></p>
</td></tr>
<tr><td><code id="getMoonPosition_+3A_lat">lat</code></td>
<td>
<p>: <code>numeric</code>. Single latitude</p>
</td></tr>
<tr><td><code id="getMoonPosition_+3A_lon">lon</code></td>
<td>
<p>: <code>numeric</code>. Single longitude</p>
</td></tr>
<tr><td><code id="getMoonPosition_+3A_data">data</code></td>
<td>
<p>: <code>data.frame</code>. Alternative to use <code>date</code>, <code>lat</code>, <code>lon</code> for passing multiple coordinates</p>
</td></tr>
<tr><td><code id="getMoonPosition_+3A_keep">keep</code></td>
<td>
<p>: <code>character</code>. Vector of variables to keep. See <code>Details</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns an object with the following properties:
</p>

<ul>
<li><p>&quot;altitude&quot; : moon altitude above the horizon in radians
</p>
</li>
<li><p>&quot;azimuth&quot; : moon azimuth in radians
</p>
</li>
<li><p>&quot;distance&quot; : distance to moon in kilometers
</p>
</li>
<li><p>&quot;parallacticAngle&quot; : parallactic angle of the moon in radians
</p>
</li></ul>



<h3>Value</h3>

<p><code>data.frame</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+getSunlightTimes">getSunlightTimes</a>, <a href="#topic+getMoonTimes">getMoonTimes</a>, <a href="#topic+getMoonIllumination">getMoonIllumination</a>,
<a href="#topic+getMoonPosition">getMoonPosition</a>,<a href="#topic+getSunlightPosition">getSunlightPosition</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# one date
getMoonPosition(date = Sys.Date(), lat = 50.1, lon = 1.83)

# in character
getMoonPosition(date = c("2017-05-12", "2017-05-12 00:00:00"), 
    lat = 50.1, lon = 1.83)

# in POSIXct
getMoonPosition(date = as.POSIXct("2017-05-12 00:00:00", tz = "UTC"),
    lat = 50.1, lon = 1.83)
getMoonPosition(date = as.POSIXct("2017-05-12 02:00:00", tz = "CET"),
    lat = 50.1, lon = 1.83)

# multiple date + subset
getMoonPosition(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
  keep = c("altitude", "azimuth"), 
  lat = 50.1, lon = 1.83)
  
# multiple coordinates
data &lt;- data.frame(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
    lat = c(rep(50.1, 10), rep(49, 10)), 
    lon = c(rep(1.83, 10), rep(2, 10)))
    
getMoonPosition(data = data, 
  keep = c("altitude", "azimuth"))

      
</code></pre>

<hr>
<h2 id='getMoonTimes'>Get Moon times</h2><span id='topic+getMoonTimes'></span>

<h3>Description</h3>

<p>Get Moon times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMoonTimes(
  date = NULL,
  lat = NULL,
  lon = NULL,
  data = NULL,
  keep = c("rise", "set", "alwaysUp", "alwaysDown"),
  tz = "UTC",
  inUTC = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMoonTimes_+3A_date">date</code></td>
<td>
<p>: <code>Date</code>. Single or multiple Date. YYYY-MM-DD</p>
</td></tr>
<tr><td><code id="getMoonTimes_+3A_lat">lat</code></td>
<td>
<p>: <code>numeric</code>. Single latitude</p>
</td></tr>
<tr><td><code id="getMoonTimes_+3A_lon">lon</code></td>
<td>
<p>: <code>numeric</code>. Single longitude</p>
</td></tr>
<tr><td><code id="getMoonTimes_+3A_data">data</code></td>
<td>
<p>: <code>data.frame</code>. Alternative to use <code>date</code>, <code>lat</code>, <code>lon</code> for passing multiple coordinates</p>
</td></tr>
<tr><td><code id="getMoonTimes_+3A_keep">keep</code></td>
<td>
<p>: <code>character</code>. Vector of variables to keep. See <code>Details</code></p>
</td></tr>
<tr><td><code id="getMoonTimes_+3A_tz">tz</code></td>
<td>
<p>: <code>character</code>. Timezone of results</p>
</td></tr>
<tr><td><code id="getMoonTimes_+3A_inutc">inUTC</code></td>
<td>
<p>: <code>logical</code>. By default, it will search for moon rise and set during local user's day (from 0 to 24 hours). If TRUE, it will instead search the specified date from 0 to 24 UTC hours.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available variables are :
</p>

<ul>
<li><p>&quot;rise&quot; : <code>Date</code>. moonrise time
</p>
</li>
<li><p>&quot;set&quot; : <code>Date</code>. moonset time
</p>
</li>
<li><p>&quot;alwaysUp&quot; : <code>Logical</code>. TRUE if the moon never rises or sets and is always above the horizon during the day
</p>
</li>
<li><p>&quot;alwaysDown&quot; : <code>Logical</code>. TRUE if the moon is always below the horizon
</p>
</li></ul>



<h3>Value</h3>

<p><code>data.frame</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+getSunlightTimes">getSunlightTimes</a>, <a href="#topic+getMoonTimes">getMoonTimes</a>, <a href="#topic+getMoonIllumination">getMoonIllumination</a>,
<a href="#topic+getMoonPosition">getMoonPosition</a>,<a href="#topic+getSunlightPosition">getSunlightPosition</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# one date
getMoonTimes(date = Sys.Date(), lat = 47.21, lon = -1.557, tz = "CET")

# multiple date + subset
getMoonTimes(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
  keep = c("rise", "set", "alwaysUp"), 
  lat = 47.21, lon = -1.557, tz = "CET")
  
# multiple coordinates
data &lt;- data.frame(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
    lat = c(rep(50.1, 10), rep(49, 10)), 
    lon = c(rep(1.83, 10), rep(2, 10)))
    
getMoonTimes(data = data, tz = "CET")
      
</code></pre>

<hr>
<h2 id='getSunlightPosition'>Get Sunlight position</h2><span id='topic+getSunlightPosition'></span>

<h3>Description</h3>

<p>Get Sunlight position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSunlightPosition(
  date = NULL,
  lat = NULL,
  lon = NULL,
  data = NULL,
  keep = c("altitude", "azimuth")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSunlightPosition_+3A_date">date</code></td>
<td>
<p>: Single or multiple DateTime. Can be a <code>Date</code> (YYYY-MM-DD), 
a <code>character</code> in UTC (YYYY-MM-DD HH:mm:ss) or a <code>POSIXct</code></p>
</td></tr>
<tr><td><code id="getSunlightPosition_+3A_lat">lat</code></td>
<td>
<p>: <code>numeric</code>. Single latitude</p>
</td></tr>
<tr><td><code id="getSunlightPosition_+3A_lon">lon</code></td>
<td>
<p>: <code>numeric</code>. Single longitude</p>
</td></tr>
<tr><td><code id="getSunlightPosition_+3A_data">data</code></td>
<td>
<p>: <code>data.frame</code>. Alternative to use <code>date</code>, <code>lat</code>, <code>lon</code> for passing multiple coordinates</p>
</td></tr>
<tr><td><code id="getSunlightPosition_+3A_keep">keep</code></td>
<td>
<p>: <code>character</code>. Vector of variables to keep. See <code>Details</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns an object with the following properties:
</p>

<ul>
<li><p>&quot;altitude&quot; : sun altitude above the horizon in radians, e.g. 0 at the horizon and PI/2 at the zenith (straight over your head)
</p>
</li>
<li><p>&quot;azimuth&quot; : sun azimuth in radians (direction along the horizon, measured from south to west), e.g. 0 is south and Math.PI * 3/4 is northwest
</p>
</li></ul>



<h3>Value</h3>

<p><code>data.frame</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+getSunlightTimes">getSunlightTimes</a>, <a href="#topic+getMoonTimes">getMoonTimes</a>, <a href="#topic+getMoonIllumination">getMoonIllumination</a>,
<a href="#topic+getMoonPosition">getMoonPosition</a>,<a href="#topic+getSunlightPosition">getSunlightPosition</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# one date
getSunlightPosition(date = Sys.Date(), lat = 50.1, lon = 1.83)

# in character
getSunlightPosition(date = c("2017-05-12", "2017-05-12 00:00:00"), 
    lat = 50.1, lon = 1.83)

# in POSIXct
getSunlightPosition(date = as.POSIXct("2017-05-12 00:00:00", tz = "UTC"),
    lat = 50.1, lon = 1.83)
getSunlightPosition(date = as.POSIXct("2017-05-12 02:00:00", tz = "CET"),
    lat = 50.1, lon = 1.83)

# multiple date + subset
getSunlightPosition(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
  keep = c("altitude"), 
  lat = 50.1, lon = 1.83)
  
# multiple coordinates
data &lt;- data.frame(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
    lat = c(rep(50.1, 10), rep(49, 10)), 
    lon = c(rep(1.83, 10), rep(2, 10)))
    
getSunlightPosition(data = data, 
  keep = c("altitude", "azimuth"))

      
</code></pre>

<hr>
<h2 id='getSunlightTimes'>Get Sunlight times</h2><span id='topic+getSunlightTimes'></span>

<h3>Description</h3>

<p>Get Sunlight times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSunlightTimes(
  date = NULL,
  lat = NULL,
  lon = NULL,
  data = NULL,
  keep = c("solarNoon", "nadir", "sunrise", "sunset", "sunriseEnd", "sunsetStart",
    "dawn", "dusk", "nauticalDawn", "nauticalDusk", "nightEnd", "night", "goldenHourEnd",
    "goldenHour"),
  tz = "UTC"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSunlightTimes_+3A_date">date</code></td>
<td>
<p>: <code>Date</code>. Single or multiple Date. YYYY-MM-DD</p>
</td></tr>
<tr><td><code id="getSunlightTimes_+3A_lat">lat</code></td>
<td>
<p>: <code>numeric</code>. Single latitude</p>
</td></tr>
<tr><td><code id="getSunlightTimes_+3A_lon">lon</code></td>
<td>
<p>: <code>numeric</code>. Single longitude</p>
</td></tr>
<tr><td><code id="getSunlightTimes_+3A_data">data</code></td>
<td>
<p>: <code>data.frame</code>. Alternative to use <code>date</code>, <code>lat</code>, <code>lon</code> for passing multiple coordinates</p>
</td></tr>
<tr><td><code id="getSunlightTimes_+3A_keep">keep</code></td>
<td>
<p>: <code>character</code>. Vector of variables to keep. See <code>Details</code></p>
</td></tr>
<tr><td><code id="getSunlightTimes_+3A_tz">tz</code></td>
<td>
<p>: <code>character</code>. Timezone of results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available variables are :
</p>

<ul>
<li><p>&quot;sunrise&quot; : sunrise (top edge of the sun appears on the horizon)
</p>
</li>
<li><p>&quot;sunriseEnd&quot; : sunrise ends (bottom edge of the sun touches the horizon)
</p>
</li>
<li><p>&quot;goldenHourEnd&quot; : morning golden hour (soft light, best time for photography) ends
</p>
</li>
<li><p>&quot;solarNoon&quot; : solar noon (sun is in the highest position)
</p>
</li>
<li><p>&quot;goldenHour&quot; : evening golden hour starts
</p>
</li>
<li><p>&quot;sunsetStart&quot; : sunset starts (bottom edge of the sun touches the horizon)
</p>
</li>
<li><p>&quot;sunset&quot; : sunset (sun disappears below the horizon, evening civil twilight starts)
</p>
</li>
<li><p>&quot;dusk&quot; : dusk (evening nautical twilight starts)
</p>
</li>
<li><p>&quot;nauticalDusk&quot; : nautical dusk (evening astronomical twilight starts)
</p>
</li>
<li><p>&quot;night&quot; : night starts (dark enough for astronomical observations)
</p>
</li>
<li><p>&quot;nadir&quot; : nadir (darkest moment of the night, sun is in the lowest position)
</p>
</li>
<li><p>&quot;nightEnd&quot; : night ends (morning astronomical twilight starts)
</p>
</li>
<li><p>&quot;nauticalDawn&quot; : nautical dawn (morning nautical twilight starts)
</p>
</li>
<li><p>&quot;dawn&quot; : dawn (morning nautical twilight ends, morning civil twilight starts)
</p>
</li></ul>



<h3>Value</h3>

<p><code>data.frame</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+getSunlightTimes">getSunlightTimes</a>, <a href="#topic+getMoonTimes">getMoonTimes</a>, <a href="#topic+getMoonIllumination">getMoonIllumination</a>,
<a href="#topic+getMoonPosition">getMoonPosition</a>,<a href="#topic+getSunlightPosition">getSunlightPosition</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# one date
getSunlightTimes(date = Sys.Date(), lat = 50.1, lon = 1.83, tz = "CET")

# multiple date + subset
getSunlightTimes(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
  keep = c("sunrise", "sunriseEnd", "sunset", "sunsetStart"), 
  lat = 50.1, lon = 1.83, tz = "CET")
  
# multiple coordinates
data &lt;- data.frame(date = seq.Date(Sys.Date()-9, Sys.Date(), by = 1), 
    lat = c(rep(50.1, 10), rep(49, 10)), 
    lon = c(rep(1.83, 10), rep(2, 10)))
    
getSunlightTimes(data = data, 
  keep = c("sunrise", "sunriseEnd", "sunset", "sunsetStart"), tz = "CET")
      
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

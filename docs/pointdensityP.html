<!DOCTYPE html><html lang="en"><head><title>Help for package pointdensityP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pointdensityP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Arigon'><p>Arigon dataset</p></a></li>
<li><a href='#clean_crime'><p>Houston crime dataset</p></a></li>
<li><a href='#pointdensity'><p>Point density function for geospatial data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Point Density for Geospatial Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.5</td>
</tr>
<tr>
<td>Author:</td>
<td>"Paul Evangelista &lt;paul.evangelista@westpoint.edu&gt; and Dave Beskow
    &lt;david.beskow@westpoint.edu&gt;"</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Evangelista &lt;paul.evangelista@westpoint.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The function pointdensity returns a density count and the temporal average for
    every point in the original list. The dataframe returned includes four
    columns: lat, lon, count, and date_avg. The "lat" column is the original
    latitude data; the "lon" column is the original longitude data; the "count"
    is the density count of the number of points within a radius of
    radius*grid_size (the neighborhood); and the date_avg column includes the
    average date of each point in the neighborhood.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-12-12 16:16:56 UTC; paul.evangelista</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-12-13 00:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='Arigon'>Arigon dataset</h2><span id='topic+Arigon'></span>

<h3>Description</h3>

<p>A mock dataset containing meaningless events in a fictional state of Arigon (data overlays Oregon).
</p>

<ul>
<li><p> latitude. Latitude of event.
</p>
</li>
<li><p> longitude. Longitude of event.
</p>
</li>
<li><p> date. Date of event.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data(Arigon)
</code></pre>


<h3>Format</h3>

<p>A data frame with 80000 rows and 3 variables
</p>


<h3>Author(s)</h3>

<p>LTC Steve Henderson and The Department of Systems Engineering at West Point
</p>

<hr>
<h2 id='clean_crime'>Houston crime dataset</h2><span id='topic+clean_crime'></span>

<h3>Description</h3>

<p>Lightly cleaned Houston crime; no NA events included and all dates recognized by <code>pointdensity</code>; data from January 2010 to August 2010 geocoded with Google Maps and courtesy of <span class="pkg">ggmap</span>
</p>


<h3>Author(s)</h3>

<p>Houston Police Department, City of Houston
</p>


<h3>References</h3>

<p>http://www.houstontx.gov/police/cs/stats2.htm
</p>

<hr>
<h2 id='pointdensity'>Point density function for geospatial data</h2><span id='topic+pointdensity'></span>

<h3>Description</h3>

<p>This function maps a dataset of geospatial points to a regular grid and calculates the density and temporal average of the points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pointdensity(df, lat_col, lon_col, date_col = NULL, grid_size, radius)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pointdensity_+3A_df">df</code></td>
<td>
<p>Data frame minimally containing latitude and longitude of spatial point data</p>
</td></tr>
<tr><td><code id="pointdensity_+3A_lat_col">lat_col</code></td>
<td>
<p>name of column in <code>df</code> that contains latitude or vertical dimension of data</p>
</td></tr>
<tr><td><code id="pointdensity_+3A_lon_col">lon_col</code></td>
<td>
<p>name of column in <code>df</code> that contains longitude or horizontal dimension of data</p>
</td></tr>
<tr><td><code id="pointdensity_+3A_date_col">date_col</code></td>
<td>
<p>name of column in <code>df</code> that contains date associated with the event</p>
</td></tr>
<tr><td><code id="pointdensity_+3A_grid_size">grid_size</code></td>
<td>
<p>distance in kilometers between the grid lines that will support discretization of data and density reference</p>
</td></tr>
<tr><td><code id="pointdensity_+3A_radius">radius</code></td>
<td>
<p>distance in kilometers that represents the local neighborhood where an event adds density</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pointdensity</code> returns a density count and the temporal average for every point in the original list.  The dataframe returned includes four columns:  lat, lon, count, and date_avg.  The &quot;lat&quot; column is the original latitude data; the &quot;lon&quot; column is the original longitude data; the &quot;count&quot; is the density count of the number of points within a defined radius (the neighborhood); and the date_avg column includes the average date of each point in the neighborhood.  Designed specifically for geospatial point processes and originally developed for military applications, this technique applies to any geospatial point process where there is a desire for an explainable measurement of density and maintaining fidelity of the original point locations.  Typical spatial density plotting algorithms, such as kernel density estimation, implement some type of smoothing function that often results in a density value that is difficult to interpret.  <code>pointdensity</code> was designed for ease of interpretation.  Potential applications include analysis of military events,  crime, and real estate transactions.  An example follows with the Arigon data using <span class="pkg">ggmap</span> (recommended) for visualization: <br /><br />
<code>Arigon_density &lt;- pointdensity(df = Arigon, lat_col = "latitude", lon_col = "longitude",</code> <br />
<code>date_col = "date", grid_size = 1, radius = 2)</code> <br />
<code>map_base &lt;- qmap(location="44.12,-120.83", zoom = 7, darken=0.3)</code> <br />
<code>map_base + geom_point(aes(x = lon, y = lat, colour = count), shape = 16, size = 2,</code> <br />
<code>data = Arigon_density) + scale_colour_gradient(low = "green", high = "red")</code> <br /><br />
</p>
<p>Here is another example using the crime dataset from <span class="pkg">ggmap</span>:<br /><br />
<code>H_crime &lt;- pointdensity(df = clean_crime, lat_col = "lat", lon_col = "lon",</code> <br />
<code>grid_size = 1, radius = 4)</code><br />
<code>map_base &lt;- qmap(location="29.76,-95.42", zoom = 11, darken=0.3)</code><br />
<code>map_base + geom_point(aes(x = lon, y = lat, colour = count), shape = 16, size = 2,</code> <br /> 
<code>data = H_crime) + scale_colour_gradient(low = "green", high = "red")</code>
</p>


<h3>Author(s)</h3>

<p>Paul Evangelista <a href="mailto:paul.evangelista@usma.edu">paul.evangelista@usma.edu</a>
</p>
<p>David Beskow <a href="mailto:david.beskow@usma.edu">david.beskow@usma.edu</a>
</p>


<h3>References</h3>

<p>Wand, M. P. (1994). Fast Computation of Multivariate Kernel Estimators. <em>Journal of Computational and Graphical Statistics</em>, 3, 433-445.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Arigon_test &lt;- Arigon[1:1000,]
Arigon_density &lt;- pointdensity(df = Arigon_test, lat_col = "latitude", 
lon_col = "longitude", date_col = "date", grid_size = 1, radius = 2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

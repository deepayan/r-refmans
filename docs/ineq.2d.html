<!DOCTYPE html><html lang="en"><head><title>Help for package ineq.2d</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ineq.2d}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#scv.2d'><p>Function performing two-dimensional decomposition of the squared</p>
coefficient of variation (SCV)</a></li>
<li><a href='#theil.2d'><p>Function performing two-dimensional decomposition of the Theil index</p></a></li>
<li><a href='#us16'><p>Test dataset for the ineq.2d package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Two-Dimensional Decomposition of the Theil Index and the Squared
Coefficient of Variation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Ivan Skliarov</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ivan Skliarov &lt;i.skliarov@student.uw.edu.pl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Decomposition of income inequality by groups formed of individuals 
    possessing similar characteristics (e.g., sex, education, age) and their 
    income sources at the same time.
    Decomposition of the Theil index is based on Giammatteo, M. (2007) 
    <a href="https://www.lisdatacenter.org/wps/liswps/466.pdf">https://www.lisdatacenter.org/wps/liswps/466.pdf</a>.
    Decomposition of the squared coefficient of variation is based on
    Garcia-Penalosa, C., &amp; Orgiazzi, E. (2013) &lt;<a href="https://doi.org/10.1111%2Froiw.12054">doi:10.1111/roiw.12054</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sklivan/ineq.2d">https://github.com/sklivan/ineq.2d</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sklivan/ineq.2d/issues">https://github.com/sklivan/ineq.2d/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-01 16:33:53 UTC; Ivan</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-02 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='scv.2d'>Function performing two-dimensional decomposition of the squared
coefficient of variation (SCV)</h2><span id='topic+scv.2d'></span>

<h3>Description</h3>

<p>The function performs two-dimensional decomposition of the
squared coefficient of variation according to Garcia-Penalosa &amp; Orgiazzi
(2013). That is, the coefficient can be decomposed by some feature that
members of the studied population possess (e.g., sex, education, age) and
their income source at the same time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scv.2d(
  data,
  total,
  feature = NULL,
  sources = NULL,
  weights = NULL,
  perc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scv.2d_+3A_data">data</code></td>
<td>
<p>Data frame containing income data. Must contain at least one
column with numeric values.</p>
</td></tr>
<tr><td><code id="scv.2d_+3A_total">total</code></td>
<td>
<p>String specifying the name of the column containing data on
total income.</p>
</td></tr>
<tr><td><code id="scv.2d_+3A_feature">feature</code></td>
<td>
<p>String specifying the name of the column containing
information about the feature used for inequality decomposition. If left
blank, total income is not decomposed by feature.</p>
</td></tr>
<tr><td><code id="scv.2d_+3A_sources">sources</code></td>
<td>
<p>Vector containing strings specifying the names of the columns
with data on income sources, the sum of which must be equal to total income.
If left blank, or the same value as in &quot;total&quot; is specified, then total
income is not decomposed by income source.</p>
</td></tr>
<tr><td><code id="scv.2d_+3A_weights">weights</code></td>
<td>
<p>String specifying the name of the column containing population
weights.</p>
</td></tr>
<tr><td><code id="scv.2d_+3A_perc">perc</code></td>
<td>
<p>If set to TRUE, then the function returns percentage shares of
every inequality component in overall inequality. Set to FALSE by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame containing values of components of SCV.
</p>
<p>Columns of the data frame represent values of the feature used for
decomposition. There can be inequality within groups formed by this feature
and between them - there are twice as much columns as values of the given
feature. Whether a column contains a value of within or between-group
inequality is indicated by &quot;.W&quot; and &quot;.B&quot; suffixes respectively.
</p>
<p>Every row of the data frame represents an income source.
</p>
<p>Thus, every value in this data frame is the contribution of inequality in
income earned from i-th source by members of j-th population cohort to
overall income inequality.
</p>
<p>Remember that overall SCV, which is the sum of all values in the data
frame, is always positive. However, some components of the coefficient can
have negative contribution to inequality.
</p>
<p>If all members of the studied population earn the same income, SCV normally
must be equal to zero. But, scv.2d calculates &quot;alpha,&quot; which is the absolute
contribution of the given income source to overall inequality. Its
calculation is impossible for identical incomes because the formula involves
division by variance of income, which is zero in this case. Thus, the
function will return the NaN value.
</p>


<h3>References</h3>

<p>Garcia-Penalosa, C., &amp; Orgiazzi, E. (2013). Factor Components of Inequality:
A Cross-Country Study. Review of Income and Wealth, 59(4), 689-727.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the test data set.
data("us16")

# No decomposition, just SCV of total income.
result &lt;- scv.2d(us16, "hitotal", weights = "hpopwgt")

# Decomposition of income inequality by gender.
result &lt;- scv.2d(us16, "hitotal", "sex", "hitotal", "hpopwgt")

# Decomposition of income inequality by gender and income source.
result &lt;- scv.2d(us16, "hitotal", "sex", c("hilabour", "hicapital",
"hitransfer"), "hpopwgt")
</code></pre>

<hr>
<h2 id='theil.2d'>Function performing two-dimensional decomposition of the Theil index</h2><span id='topic+theil.2d'></span>

<h3>Description</h3>

<p>The function performs two-dimensional decomposition of the
Theil index according to Giammatteo (2007). That is, the index can be
decomposed by some feature that members of the studied population possess
(e.g., sex, education, age) and their income source at the same time.
</p>
<p>The Theil index contains natural logarithm in its formula. This is why
non-positive values of total income are removed during calculation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theil.2d(
  data,
  total,
  feature = NULL,
  sources = NULL,
  weights = NULL,
  perc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theil.2d_+3A_data">data</code></td>
<td>
<p>Data frame containing income data. Must contain at least one
column with numeric values.</p>
</td></tr>
<tr><td><code id="theil.2d_+3A_total">total</code></td>
<td>
<p>String specifying the name of the column containing data on
total income.</p>
</td></tr>
<tr><td><code id="theil.2d_+3A_feature">feature</code></td>
<td>
<p>String specifying the name of the column containing
information about the feature used for inequality decomposition. If left
blank, total income is not decomposed by feature.</p>
</td></tr>
<tr><td><code id="theil.2d_+3A_sources">sources</code></td>
<td>
<p>Vector containing strings specifying the names of the columns
with data on income sources, the sum of which must be equal to total income.
If left blank, or the same value as in &quot;total&quot; is specified, then total
income is not decomposed by income source.</p>
</td></tr>
<tr><td><code id="theil.2d_+3A_weights">weights</code></td>
<td>
<p>String specifying the name of the column containing population
weights.</p>
</td></tr>
<tr><td><code id="theil.2d_+3A_perc">perc</code></td>
<td>
<p>If set to TRUE, then the function returns percentage shares of
every inequality component in overall inequality. Set to FALSE by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame containing values of components of the Theil index.
</p>
<p>Columns of the data frame represent values of the feature used for
decomposition. There can be inequality within groups formed by this feature
and between them - there are twice as much columns as values of the given
feature. Whether a column contains a value of within or between-group
inequality is indicated by &quot;.W&quot; and &quot;.B&quot; suffixes respectively.
</p>
<p>Every row of the data frame represents an income source.
</p>
<p>Thus, every value in this data frame is the contribution of inequality in
income earned from i-th source by members of j-th population cohort to
overall income inequality.
</p>
<p>Remember that overall Theil index, which is the sum of all values in the data
frame, is always positive. However, some components of the index can have
negative contribution to inequality.
</p>


<h3>References</h3>

<p>Giammatteo, M. (2007). The Bidimensional Decomposition of Inequality:
A nested Theil Approach. LIS Working papers, Article 466, 1-30.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the test data set.
data("us16")

# No decomposition, just Theil index of total income.
result &lt;- theil.2d(us16, "hitotal", weights = "hpopwgt")

# Decomposition of income inequality by gender.
result &lt;- theil.2d(us16, "hitotal", "sex", "hitotal", "hpopwgt")

# Decomposition of income inequality by gender and income source.
result &lt;- theil.2d(us16, "hitotal", "sex", c("hilabour", "hicapital",
"hitransfer"), "hpopwgt")
</code></pre>

<hr>
<h2 id='us16'>Test dataset for the ineq.2d package</h2><span id='topic+us16'></span>

<h3>Description</h3>

<p>This data set is a combination of household and personal-level data sets
available as sample files on the Luxembourg Income Study website. The data
sets were combined to assign personal characteristics of household heads to
households.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us16
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 8 variables:
</p>

<dl>
<dt>hitotal</dt><dd><p>Total income, sum of hitransfer, hilabour, and hicapital.</p>
</dd>
<dt>hitransfer</dt><dd><p>Transfer income.</p>
</dd>
<dt>hilabour</dt><dd><p>Labor income.</p>
</dd>
<dt>hicapital</dt><dd><p>Capital income.</p>
</dd>
<dt>hpopwgt</dt><dd><p>Population weights.</p>
</dd>
<dt>age</dt><dd><p>Age of the household head.</p>
</dd>
<dt>sex</dt><dd><p>Sex of the household head.</p>
</dd>
<dt>educ</dt><dd><p>Education level of the household head.</p>
</dd>
</dl>



<h3>Details</h3>

<p>Thus, the combined data set contains income data on 1000 households. This
includes three income sources and value for total income. Additionally,
contains several features of every household head: sex, education, and age.
</p>


<h3>Source</h3>

<p>LIS Cross-national Data Center,
https://www.lisdatacenter.org/resources/self-teaching/

</p>


<h3>Examples</h3>

<pre><code class='language-R'># To load the dataset to the environment, use the following code:
data(us16)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

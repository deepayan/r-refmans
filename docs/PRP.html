<!DOCTYPE html><html><head><title>Help for package PRP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PRP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#egger'><p>Egger test statistics</p></a></li>
<li><a href='#mortality'><p>Cardiovascular disease impact on the mortality of COVID-19</p></a></li>
<li><a href='#posterior_prp'><p>Posterior Predictive Replication p-value Calculation</p></a></li>
<li><a href='#prior_prp'><p>Prior Predictive Replication p-value Calculation</p></a></li>
<li><a href='#prob_to_r'><p>Sign consistency probability and the value for r parameter 1-1 transformation</p></a></li>
<li><a href='#Q'><p>Q test statistics</p></a></li>
<li><a href='#RPP_filtered'><p>Filtered RPP data</p></a></li>
<li><a href='#severity'><p>Cardiovascular disease impact on the severe case rate of COVID-19</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Bayesian Prior and Posterior Predictive Replication Assessment</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Yi Zhao [aut, cre],
  Xiaoquan Wen [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yi Zhao &lt;zhayi@umich.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Utilize the Bayesian prior and posterior predictive checking
   approach to provide a statistical assessment of replication success 
   and failure. The package is based on the methods proposed in 
   Zhao,Y., Wen X.(2021) &lt;<a href="https://arxiv.org/abs/2105.03993">arXiv:2105.03993</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>mvtnorm, stats, graphics</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-12-10 17:20:35 UTC; yizhao</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-12-13 08:20:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='egger'>Egger test statistics</h2><span id='topic+egger'></span>

<h3>Description</h3>

<p>This function provides the calculation for Egger test quantities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>egger(beta, se2, barbeta, phi2, m)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="egger_+3A_beta">beta</code></td>
<td>
<p>The original or the simulated estimated effects.</p>
</td></tr>
<tr><td><code id="egger_+3A_se2">se2</code></td>
<td>
<p>The squared standard errors of the estimated effects.</p>
</td></tr>
<tr><td><code id="egger_+3A_barbeta">barbeta</code></td>
<td>
<p>The estimated true underlying effect.</p>
</td></tr>
<tr><td><code id="egger_+3A_phi2">phi2</code></td>
<td>
<p>The value of the hyperparameter phi.</p>
</td></tr>
<tr><td><code id="egger_+3A_m">m</code></td>
<td>
<p>The number of replications</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The egger test statistic value
</p>

<hr>
<h2 id='mortality'>Cardiovascular disease impact on the mortality of COVID-19</h2><span id='topic+mortality'></span>

<h3>Description</h3>

<p>This is a dataset containing several effect estimates and their standard errors
for the impact of cardivascular disease on the mortality of COVID-19 in the literature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("mortality")
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 6 rows and 3 columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("mortality")
</code></pre>

<hr>
<h2 id='posterior_prp'>Posterior Predictive Replication p-value Calculation</h2><span id='topic+posterior_prp'></span>

<h3>Description</h3>

<p>Posterior Predictive Replication p-value Calculation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>posterior_prp(
  beta,
  se,
  L = 1000,
  r_vec = c(0, 8e-04, 0.006, 0.024),
  test = Q,
  print_test_dist = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="posterior_prp_+3A_beta">beta</code></td>
<td>
<p>A vector, containing the estimates in the original study and the
replication study.</p>
</td></tr>
<tr><td><code id="posterior_prp_+3A_se">se</code></td>
<td>
<p>A vector, containing the standard errors of the estimates in the original
study and the replication study.</p>
</td></tr>
<tr><td><code id="posterior_prp_+3A_l">L</code></td>
<td>
<p>A value, determining the times of repeating simulation.</p>
</td></tr>
<tr><td><code id="posterior_prp_+3A_r_vec">r_vec</code></td>
<td>
<p>A vector, defining the prior reproducible model. Each r value
corresponds to a probability of sign consistency.</p>
</td></tr>
<tr><td><code id="posterior_prp_+3A_test">test</code></td>
<td>
<p>A function designed to calculate the test quantity, the default
one is the Cochran's Q test statistics.</p>
</td></tr>
<tr><td><code id="posterior_prp_+3A_print_test_dist">print_test_dist</code></td>
<td>
<p>A boolean, determining whether the simulated test statistics
value difference will be plot as a histogram or not. Default is False.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components:
</p>
<table>
<tr><td><code>grid</code></td>
<td>
<p> Detailed grid values for the hyperparameters.</p>
</td></tr>
<tr><td><code>test_statistics</code></td>
<td>
<p> The test statistics used in calculating the replication p-value.</p>
</td></tr>
<tr><td><code>n_sim</code></td>
<td>
<p> The L value.</p>
</td></tr>
<tr><td><code>test_stats_dif</code></td>
<td>
<p> The difference between the simulated test statistics
quantity and the original value.</p>
</td></tr>
<tr><td><code>pvalue</code></td>
<td>
<p> The resulting posterior predictive replicaiton p-value.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("mortality")
res = posterior_prp(beta = mortality$beta, se = mortality$se, test=Q)
names(res)
print(res$pvalue)

</code></pre>

<hr>
<h2 id='prior_prp'>Prior Predictive Replication p-value Calculation</h2><span id='topic+prior_prp'></span>

<h3>Description</h3>

<p>Assessing the prior predictive distribution and calculating the replication
p-value based on it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_prp(
  beta,
  se,
  r_vec = c(0, 8e-04, 0.006, 0.024),
  test = "two_sided",
  report_PI = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_prp_+3A_beta">beta</code></td>
<td>
<p>A 2-D vector, containing the estimates in the original study and the
replication study.</p>
</td></tr>
<tr><td><code id="prior_prp_+3A_se">se</code></td>
<td>
<p>A 2-D vector, containing the standard errors of the estimates in the original
study and the replication study.</p>
</td></tr>
<tr><td><code id="prior_prp_+3A_r_vec">r_vec</code></td>
<td>
<p>A vector, defining the prior reproducible model. Each r value
corresponds to a probability of sign consistency.</p>
</td></tr>
<tr><td><code id="prior_prp_+3A_test">test</code></td>
<td>
<p>A string, determining which test statistics to utilize. If not specified,
the default two-sided one will be used.</p>
</td></tr>
<tr><td><code id="prior_prp_+3A_report_pi">report_PI</code></td>
<td>
<p>A boolean, denoting whether the 95% predictive interval for
the estimates be reported or not. This option is only valid for two-sided
test statistics. The default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components:
</p>
<table>
<tr><td><code>grid</code></td>
<td>
<p> The detailed grid values for the hyperparameters.</p>
</td></tr>
<tr><td><code>test_statistics</code></td>
<td>
<p> The test statistics used in calculating the replication p-value.</p>
</td></tr>
<tr><td><code>pvalue</code></td>
<td>
<p> The resulting prior predictive replicaiton p-value.</p>
</td></tr>
<tr><td><code>predictive_interval</code></td>
<td>
<p>The 95% predictive interval if required.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("RPP_filtered")
attach(RPP_filtered)
rpp_pval&lt;-sapply(1:nrow(RPP_filtered),function(x)
  prior_prp(beta=c(beta_orig[x], beta_rep[x]),se=c(se_orig[x],  se_rep[x]))$pvalue)

</code></pre>

<hr>
<h2 id='prob_to_r'>Sign consistency probability and the value for r parameter 1-1 transformation</h2><span id='topic+prob_to_r'></span>

<h3>Description</h3>

<p>This function transforms the probability of simulated beta_j having the same
sign with the underlying true effect barbeta to the corresponding heterogeneity
r parameter value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prob_to_r(p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prob_to_r_+3A_p">p</code></td>
<td>
<p>A value, the required probability of sign consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The corresponding heterogeneity parameter value.
</p>

<hr>
<h2 id='Q'>Q test statistics</h2><span id='topic+Q'></span>

<h3>Description</h3>

<p>This function calculates the Q test quantity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Q(beta, se2, barbeta, phi2, m)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Q_+3A_beta">beta</code></td>
<td>
<p>The original or the simulated estimated effects.</p>
</td></tr>
<tr><td><code id="Q_+3A_se2">se2</code></td>
<td>
<p>The squared standard errors of the estimated effects.</p>
</td></tr>
<tr><td><code id="Q_+3A_barbeta">barbeta</code></td>
<td>
<p>The estimated true underlying effect.</p>
</td></tr>
<tr><td><code id="Q_+3A_phi2">phi2</code></td>
<td>
<p>The value of the hyperparameter phi.</p>
</td></tr>
<tr><td><code id="Q_+3A_m">m</code></td>
<td>
<p>The number of replications</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Q test statistic value
</p>

<hr>
<h2 id='RPP_filtered'>Filtered RPP data</h2><span id='topic+RPP_filtered'></span>

<h3>Description</h3>

<p>This contains the RP:P data from the Open Science Collaboration project after filtering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("RPP_filtered")
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 73 rows and 5 columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("RPP_filtered")
</code></pre>

<hr>
<h2 id='severity'>Cardiovascular disease impact on the severe case rate of COVID-19</h2><span id='topic+severity'></span>

<h3>Description</h3>

<p>This is a dataset containing several effect estimates and their standard errors
for the impact of cardiovascular disease on the severe case rate of COVID-19 in the literature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("severity")
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 6 rows and 3 columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("severity")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

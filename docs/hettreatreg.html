<!DOCTYPE html><html><head><title>Help for package hettreatreg</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hettreatreg}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#hettreatreg'><p>OLS Weights on Heterogeneous Treatment Effects</p></a></li>
<li><a href='#nswcps'><p>National Supported Work &ndash; Current Population Survey (NSW&ndash;CPS)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Heterogeneous Treatment Effects in Regression Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Computes diagnostics for linear regression when treatment effects are heterogeneous.
    The output of 'hettreatreg' represents ordinary least squares (OLS) 
    estimates of the effect of a binary treatment as a weighted average of the average treatment effect 
    on the treated (ATT) and the average treatment effect on the untreated (ATU). 
    The program estimates the OLS weights on these parameters, computes the associated model diagnostics, 
    and reports the implicit OLS estimate of the average treatment effect (ATE). 
    See Sloczynski (2019), <a href="http://people.brandeis.edu/~tslocz/Sloczynski_paper_regression.pdf">http://people.brandeis.edu/~tslocz/Sloczynski_paper_regression.pdf</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tslocz/hettreatreg">https://github.com/tslocz/hettreatreg</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-05-11 17:27:20 UTC; Maple</td>
</tr>
<tr>
<td>Author:</td>
<td>Tymon Sloczynski [aut],
  Mark McAvoy [cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mark McAvoy &lt;mcavoy@brandeis.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-05-13 14:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='hettreatreg'>OLS Weights on Heterogeneous Treatment Effects</h2><span id='topic+hettreatreg'></span>

<h3>Description</h3>

<p>Computes diagnostics for linear regression when treatment effects are heterogeneous.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hettreatreg(outcome, treatment, covariates, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hettreatreg_+3A_outcome">outcome</code></td>
<td>
<p>the outcome variable.</p>
</td></tr>
<tr><td><code id="hettreatreg_+3A_treatment">treatment</code></td>
<td>
<p>the treatment variable. The variable must be binary and coded 0 for the untreated units and 1 for the treated units.</p>
</td></tr>
<tr><td><code id="hettreatreg_+3A_covariates">covariates</code></td>
<td>
<p>the list of control variables. The list must not include the treatment variable.</p>
</td></tr>
<tr><td><code id="hettreatreg_+3A_verbose">verbose</code></td>
<td>
<p>logical. If <code>TRUE</code> estimation output is displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hettreatreg</code> represents ordinary least squares (OLS) estimates of the effect of a binary treatment as a weighted average of the average treatment effect on the treated (ATT) and the average treatment effect on the untreated (ATU). The program estimates the OLS weights on these parameters, computes the associated model diagnostics, and reports the implicit OLS estimate of the average treatment effect (ATE). See Sloczynski (2019) for the underlying theoretical results and further details.
</p>
<p>The arguments <code>outcome</code> and <code>treatment</code> are used to designate an outcome variable and a treatment variable, respectively. The treatment variable must be binary and coded 0 for the untreated units and 1 for the treated units. <code>covariates</code> is a list of control variables that must not include the treatment variable.
</p>
<p><code>hettreatreg</code> displays a number of statistics. <code>OLS</code> is the estimated regression coefficient on the treatment variable. <code>P(d=1)</code> and <code>P(d=0)</code> are the sample proportions of treated and untreated units, respectively. <code>w1</code> and <code>w0</code> are the OLS weights on ATT and ATU, respectively. <code>delta</code> is a diagnostic for interpreting OLS as ATE. <code>ATE</code>, <code>ATT</code>, and <code>ATU</code> are the implicit OLS estimates of the corresponding parameters. See Sloczynski (2019) for further details.
</p>
<p>If you use this program in your work, please cite Sloczynski (2019).
</p>


<h3>Value</h3>

<table>
<tr><td><code>OLS</code></td>
<td>
<p> OLS estimate of the treatment effect</p>
</td></tr>
<tr><td><code>P(d=1)</code></td>
<td>
<p> proportion of treated units</p>
</td></tr>
<tr><td><code>P(d=0)</code></td>
<td>
<p> proportion of untreated units</p>
</td></tr>
<tr><td><code>w1</code></td>
<td>
<p> OLS weight on ATT</p>
</td></tr>
<tr><td><code>w0</code></td>
<td>
<p> OLS weight on ATU</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p> diagnostic for interpreting OLS as ATE</p>
</td></tr>
<tr><td><code>ATE</code></td>
<td>
<p> implicit OLS estimate of ATE</p>
</td></tr>
<tr><td><code>ATT</code></td>
<td>
<p> implicit OLS estimate of ATT</p>
</td></tr>
<tr><td><code>ATU</code></td>
<td>
<p>  implicit OLS estimate of ATU</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Tymon Sloczynski, Brandeis University, <a href="mailto:tslocz@brandeis.edu">tslocz@brandeis.edu</a>, <a href="http://people.brandeis.edu/~tslocz/">http://people.brandeis.edu/~tslocz/</a>
</p>
<p>Maintained by: Mark McAvoy, Brandeis University, <a href="mailto:mcavoy@brandeis.edu">mcavoy@brandeis.edu</a>
</p>
<p>Please feel free to report bugs and share your comments on this program.
</p>


<h3>References</h3>

<p>Sloczynski, Tymon (2019). &quot;Interpreting OLS Estimands When Treatment Effects Are Heterogeneous: Smaller Groups Get Larger Weights.&quot; Available at <a href="http://people.brandeis.edu/~tslocz/Sloczynski_paper_regression.pdf">http://people.brandeis.edu/~tslocz/Sloczynski_paper_regression.pdf</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load package
library(hettreatreg)

# read in data
data("nswcps")

# save the outcome variable
outcome &lt;- nswcps$re78

# save the treatment variable
treated &lt;- nswcps$treated

# select control variables
our_vars &lt;- c("age", "age2", "educ", "black", "hispanic", "married", "nodegree")
covariates &lt;- subset(nswcps, select = our_vars)

# run function
results &lt;- hettreatreg(outcome, treated, covariates)
print(results)

</code></pre>

<hr>
<h2 id='nswcps'>National Supported Work &ndash; Current Population Survey (NSW&ndash;CPS)</h2><span id='topic+nswcps'></span>

<h3>Description</h3>

<p>The data set combines a subsample of the experimental treated units from NSW, constructed by Dehejia and Wahba (1999), with &quot;CPS-1,&quot; a nonexperimental comparison group from CPS, constructed by LaLonde (1986).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nswcps
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 16177 rows and 11 columns.
</p>


<h3>Value</h3>

<p>A data frame with 11 variables:
</p>
<table>
<tr><td><code>treated</code></td>
<td>
<p>1 if treated, 0 otherwise</p>
</td></tr>
<tr><td><code>age</code></td>
<td>
<p>age</p>
</td></tr>
<tr><td><code>age2</code></td>
<td>
<p>age squared</p>
</td></tr>
<tr><td><code>educ</code></td>
<td>
<p>years of schooling</p>
</td></tr>
<tr><td><code>black</code></td>
<td>
<p>1 if black, 0 otherwise</p>
</td></tr>
<tr><td><code>hispanic</code></td>
<td>
<p>1 if Hispanic, 0 otherwise</p>
</td></tr>
<tr><td><code>married</code></td>
<td>
<p>1 if married, 0 otherwise</p>
</td></tr>
<tr><td><code>nodegree</code></td>
<td>
<p>1 if high school dropout, 0 otherwise</p>
</td></tr>
<tr><td><code>re74</code></td>
<td>
<p>real earnings in 1974</p>
</td></tr>
<tr><td><code>re75</code></td>
<td>
<p>real earnings in 1975</p>
</td></tr>
<tr><td><code>re78</code></td>
<td>
<p>real earnings in 1978</p>
</td></tr>
</table>


<h3>References</h3>

<p>Dehejia, R. H. and Wahba, S. (1999). &quot;Causal Effects in Nonexperimental Studies: Reevaluating the Evaluation of Training Programs,&quot; <em>Journal of the American Statistical Association</em>, 94:1053&ndash;1062.
</p>
<p>LaLonde, R. J. (1986). &quot;Evaluating the Econometric Evaluations of Training Programs with Experimental Data,&quot; <em>American Economic Review</em>, 76:604&ndash;620.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

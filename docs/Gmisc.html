<!DOCTYPE html><html lang="en"><head><title>Help for package Gmisc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Gmisc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Gmisc-package'><p>Collection of functions for plotting relations, generating tables, and more.</p></a></li>
<li><a href='#align'><p>Align boxes</p></a></li>
<li><a href='#assert_unit'><p>Checks if unit or number 0-1</p></a></li>
<li><a href='#bezierArrowGradient'><p>A bezier arrow with gradient</p></a></li>
<li><a href='#bezierArrowSmpl'><p>A simple bezier arrow</p></a></li>
<li><a href='#boxGrob'><p>Create a box with text</p></a></li>
<li><a href='#boxPropGrob'><p>Create a box with a color split</p></a></li>
<li><a href='#calculateLinesAndArrow'><p>Gets offsetted lines</p></a></li>
<li><a href='#connectGrob'><p>Connect boxes with an arrow</p></a></li>
<li><a href='#convertShowMissing'><p>A function for converting a show_missing variable.</p></a></li>
<li><a href='#coords'><p>Get the box coordinates</p></a></li>
<li><a href='#copyAllNewAttributes'><p>A simple thing to keep the attributes</p></a></li>
<li><a href='#descGetMissing'><p>Get statistics for missing data</p></a></li>
<li><a href='#describeFactors'><p>Describes factor variables</p></a></li>
<li><a href='#describeMean'><p>Describe the mean</p></a></li>
<li><a href='#describeMedian'><p>A function that returns a description median that contains</p>
the interquartile range or the full range</a></li>
<li><a href='#describeProp'><p>A function that returns a description proportion that contains</p>
the number and the percentage</a></li>
<li><a href='#distance'><p>Get the distance between grid objects</p></a></li>
<li><a href='#docx_document'><p>Formatter wrapper for <code>html_document</code>, facilitates easier porting to docx</p></a></li>
<li><a href='#fastDoCall'><p>An alternative to the internal <code>do.call</code></p></a></li>
<li><a href='#figCapNo'><p>Adds a figure caption number</p></a></li>
<li><a href='#figCapNoLast'><p>Gets the last figure caption number</p></a></li>
<li><a href='#figCapNoNext'><p>Gets the next figure caption number</p></a></li>
<li><a href='#getAbsoluteWidth'><p>Translates &quot;npc&quot; widths into absolute units</p></a></li>
<li><a href='#getBezierAdj4Arrw'><p>Gets the bezier points adjusted for an arrow</p></a></li>
<li><a href='#getDescriptionStatsBy'><p>Creating of description statistics</p></a></li>
<li><a href='#getGridVal'><p>Gets grid value</p></a></li>
<li><a href='#getPvalWilcox'><p>P-value extractors for <code>getDescriptionStatsBy</code></p></a></li>
<li><a href='#getSvdMostInfluential'><p>Gets the maximum contributor variables from svd()</p></a></li>
<li><a href='#getVectorAngle'><p>Gets an angle</p></a></li>
<li><a href='#Gmisc-deprecated'><p>Deprecated function(s) in <span class="pkg">Gmisc</span></p></a></li>
<li><a href='#gnrlBezierPoints'><p>Generates a generalized Bézier line</p></a></li>
<li><a href='#has'><p>An R alternative to the lodash <code>has</code> in JavaScript</p></a></li>
<li><a href='#insertRowAndKeepAttr'><p>Insert a row into a matrix</p></a></li>
<li><a href='#isHorizontal'><p>Just a simple help with interpreting the radians</p></a></li>
<li><a href='#latex.descMrg'><p>A wrapper around the <code>htmlTable</code>/<code>latex</code> function</p></a></li>
<li><a href='#mergeDesc'><p>Prepares a matrix for <code>htmlTable</code> from a list</p></a></li>
<li><a href='#mergeLists'><p>Merging of multiple lists</p></a></li>
<li><a href='#mergeLists_internal'><p>A helper function for mergeLists that does the actual work.</p></a></li>
<li><a href='#moveBox'><p>Move a boxGrob</p></a></li>
<li><a href='#pathJoin'><p>A path join function</p></a></li>
<li><a href='#prAddDescStats'><p>Add a p-value column to the results</p></a></li>
<li><a href='#prAddDescUnitColumn'><p>Add a units column to the results</p></a></li>
<li><a href='#prAddEmptyVals'><p>Convert the by-list into a matrix compatible format</p></a></li>
<li><a href='#prAddTotalDescColumn'><p>Add a total column to the results</p></a></li>
<li><a href='#prBuildSubLabel'><p>Add a sub-label to <code>boxPropGrob</code></p></a></li>
<li><a href='#prCaptionFix'><p>Fixes the caption for elements without caption</p></a></li>
<li><a href='#prConvert2Coords'><p>Converts an object to coordinates</p></a></li>
<li><a href='#prCreateBoxCoordinates'><p>Creates coordinates for box</p></a></li>
<li><a href='#prDescGetAndValidateDefaultRef'><p>A helper function for the description stats</p></a></li>
<li><a href='#prFactorDescs'><p>Helper to [getDescriptionStatsBy()]</p></a></li>
<li><a href='#prFixDescRownames'><p>Fix rownames for descriptive results</p></a></li>
<li><a href='#prFtpHeaderStyle'><p>Helper to ftp_document</p></a></li>
<li><a href='#prFtpOtherChanges'><p>Changes lines for XML-conformity</p></a></li>
<li><a href='#prFtpOtherRemoval'><p>Removes other unwanted lines</p></a></li>
<li><a href='#prFtpScriptRemoval'><p>Removes the &lt;script&gt;*&lt;/scrip&gt;</p></a></li>
<li><a href='#prGetDescHeader'><p>Retrieve basic description stats by header</p></a></li>
<li><a href='#prGetStatistics'><p>Get statistics according to the type</p></a></li>
<li><a href='#prGetTextGrobCex'><p>Just a simple acces to the gp$cex parameter</p></a></li>
<li><a href='#prGridPlotTitle'><p>Adds a title to the plot</p></a></li>
<li><a href='#print.Gmisc_list_of_boxes'><p>Output boxes</p></a></li>
<li><a href='#prNumericDescs'><p>Helper to [getDescriptionStatsBy()]</p></a></li>
<li><a href='#prPasteVec'><p>Collapses a vector for throwing errors</p></a></li>
<li><a href='#prPropDescs'><p>Helper to [getDescriptionStatsBy()]</p></a></li>
<li><a href='#prPushMarginViewport'><p>Pushes viewport with margins</p></a></li>
<li><a href='#prSetMaxWidth'><p>Updates the css max-width</p></a></li>
<li><a href='#prTcMatchClr'><p>Finds the matching colors for the new addition based on the original set</p>
of colors</a></li>
<li><a href='#prTcPlotArrows'><p>Plots the arrows within a single transition set</p></a></li>
<li><a href='#prTcPlotBoxColumn'><p>Plots a column of boxes</p></a></li>
<li><a href='#prTcValidateAndPrepClr'><p>Checks and prepares colors</p></a></li>
<li><a href='#prTpGetBoxPositions'><p>Gets the box position</p></a></li>
<li><a href='#prTpGetBoxPropClr'><p>Gets the color for the given box</p></a></li>
<li><a href='#prTpGetBoxSizedTextGrob'><p>Gets the text size for the box</p></a></li>
<li><a href='#prTpGetColors'><p>Gets a set of colors or just one color</p></a></li>
<li><a href='#prTpPlotArrows'><p>Plots the arrows</p></a></li>
<li><a href='#prTpPlotBox'><p>Plots the box for the transition plot</p></a></li>
<li><a href='#prTpPlotBoxes'><p>Plot boxes and arrows</p></a></li>
<li><a href='#retrieve'><p>An R alternative to the lodash <code>get</code> in JavaScript</p></a></li>
<li><a href='#set_column_labels'><p>Add [Hmisc::label()] to multiple columns</p></a></li>
<li><a href='#set_column_units'><p>Add [Hmisc::unit()] to multiple columns</p></a></li>
<li><a href='#spread'><p>Spread boxes</p></a></li>
<li><a href='#time2spanTxt'><p>A dense time-span text</p></a></li>
<li><a href='#Transition-class'><p>A reference class for generating transition plots</p></a></li>
<li><a href='#transitionPlot'><p>A transition plot</p></a></li>
<li><a href='#validateAndConvertVectorInputs'><p>Checks the input of a vector</p></a></li>
<li><a href='#yamlDump'><p>Outputs an object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>3.0.3</td>
</tr>
<tr>
<td>Title:</td>
<td>Descriptive Statistics, Transition Plots, and More</td>
</tr>
<tr>
<td>Author:</td>
<td>Max Gordon &lt;max@gforge.se&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Max Gordon &lt;max@gforge.se&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for making the descriptive "Table 1" used in medical
    articles, a transition plot for showing changes between categories
    (also known as a Sankey diagram), flow charts by extending the grid package,
    a method for variable selection based on the SVD, Bézier lines with arrows
    complementing the ones in the 'grid' package, and more.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gforge.se">https://gforge.se</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/gforge/Gmisc/issues">https://github.com/gforge/Gmisc/issues</a></td>
</tr>
<tr>
<td>Biarch:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), Rcpp (&ge; 0.11.4), htmlTable (&ge; 2.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>abind, checkmate, forestplot, Hmisc, glue, grid, grDevices,
graphics, knitr, lattice, lubridate, magrittr, methods, rlang,
rmarkdown, stringr, stats, XML, yaml, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>datasets, dplyr, jsonlite, testthat, tidyselect</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-25 21:56:26 UTC; max</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-25 23:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Gmisc-package'>Collection of functions for plotting relations, generating tables, and more.</h2><span id='topic+Gmisc-package'></span>

<h3>Description</h3>

<p>This is a collection of functions that I've found useful in my research.
The package is inspired by Frank Harrell's <span class="pkg">Hmisc</span> package. The main focus
is on tables, plots, and <span class="pkg">knitr</span>-integration.
</p>


<h3>Awesome tables</h3>

<p>The <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code> is a straight forward function that
aims at helping you to generate descriptive table stratified by different
variables. In other words, the function returns everything you need for generating
a <em>Table 1</em> ready for publication. This function is accompanied by the
<code><a href="#topic+describeMean">describeMean</a></code>, <code><a href="#topic+describeMedian">describeMedian</a></code>, <code><a href="#topic+describeProp">describeProp</a></code>,
and <code><a href="#topic+describeFactors">describeFactors</a></code> functions.
</p>
<p>The <code><a href="#topic+mergeDesc">mergeDesc</a></code> allows you to merge a set of outputs <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>
into a <code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code> with the rgroup arguments automatically
generated, see <code>vignette("descriptives", package = "Gmisc")</code> for a
detailed workflow description.
</p>


<h3>Some fancy plots</h3>

<p>The transition plot function, <code><a href="#topic+transitionPlot">transitionPlot</a></code>, is for
descriptive purposes. It tries to illustrate the size of change
between one state and the next, i.e. a transition. This is
basically a graph of based upon <code>table(var1, var2)</code>.
</p>
<p>The <a href="https://en.wikipedia.org/wiki/Singular_value_decomposition">Singular value decomposition</a>
is a common method for reducing the number of variables. Unfortunately
this compression can reduce the interpretability of the model. The <code><a href="#topic+getSvdMostInfluential">getSvdMostInfluential</a></code>
function tries to remedy that by identifying the most influential
elements from the <code>V</code>-matrix.
</p>


<h3>Other stuff</h3>

<p>The <code><a href="#topic+insertRowAndKeepAttr">insertRowAndKeepAttr</a></code> simply adds a row while remembering
all the attributes previously set by using the <code><a href="#topic+copyAllNewAttributes">copyAllNewAttributes</a></code>.
The <code><a href="#topic+mergeLists">mergeLists</a></code> tries to merge lists that do not have identical
elements.
</p>

<hr>
<h2 id='align'>Align boxes</h2><span id='topic+align'></span><span id='topic+alignVertical'></span><span id='topic+alignHorizontal'></span>

<h3>Description</h3>

<p>Aligns a set of <code><a href="#topic+boxGrob">boxGrob</a></code>/<code><a href="#topic+boxPropGrob">boxPropGrob</a></code> according to the first positional argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alignVertical(reference, ..., .position = c("center", "top", "bottom"))

alignHorizontal(
  reference,
  ...,
  .position = c("center", "left", "right"),
  .sub_position = c("none", "left", "right")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="align_+3A_reference">reference</code></td>
<td>
<p>A <code><a href="#topic+boxGrob">boxGrob</a></code>/<code><a href="#topic+boxPropGrob">boxPropGrob</a></code>/<code><a href="#topic+coords">coords</a></code> object or a <code><a href="grid.html#topic+unit">unit</a></code> or a
numerical value that can be converted into a <code><a href="grid.html#topic+unit">unit</a></code> of <code>npc</code> type.</p>
</td></tr>
<tr><td><code id="align_+3A_...">...</code></td>
<td>
<p>A set of boxes.</p>
</td></tr>
<tr><td><code id="align_+3A_.position">.position</code></td>
<td>
<p>How to align the boxes, differs slightly for vertical and horizontal alignment
see the accepted arguments</p>
</td></tr>
<tr><td><code id="align_+3A_.sub_position">.sub_position</code></td>
<td>
<p>When the box is a <code><a href="#topic+boxPropGrob">boxPropGrob</a></code> it not only has the general <code>.positions</code> but
also <code>left</code> and <code>right</code> which can be viewed as separate boxes that have simply been merged.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> with the boxes that are to be aligned
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()

box &lt;- boxGrob("A cool\nreference\nbox",
               x = .5, y = .8,
               box_gp = gpar(fill = "#ADB5C7"))
another_box &lt;- boxGrob("A horizontal box", x = .1, y =  .5)
yet_another_box &lt;- boxGrob("Another horizontal box", x = .8, y = .3)

alignedBoxes &lt;- alignHorizontal(box,
                                another_box,
                                yet_another_box,
                                .position = "right")

box
for (b in alignedBoxes) {
  print(b)
}


vert_box &lt;- boxGrob("Vert", 
                    x = .8, y = .3,
                    box_gp = gpar(fill = "darkgreen"),
                    txt_gp = gpar(col = "white"))
another_vert_box &lt;- boxGrob("Another vertical", 
                            x = .1, y =  .5,
                            box_gp = gpar(fill = "darkgreen"),
                            txt_gp = gpar(col = "white"))

alignedBoxes &lt;- alignVertical(box,
                              vert_box,
                              another_vert_box,
                              .position = "bottom")
for (b in alignedBoxes) {
  print(b)
}
</code></pre>

<hr>
<h2 id='assert_unit'>Checks if unit or number 0-1</h2><span id='topic+assert_unit'></span><span id='topic+assert_label'></span><span id='topic+assert_just'></span>

<h3>Description</h3>

<p>Checks if unit or number 0-1
</p>
<p>Assert that its a string or number
</p>
<p>Assert valid color
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_unit(var, allow_missing = TRUE)

assert_label(var, allow_missing = TRUE)

assert_just(var, allow_missing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assert_unit_+3A_var">var</code></td>
<td>
<p>Variable 2 check</p>
</td></tr>
<tr><td><code id="assert_unit_+3A_allow_missing">allow_missing</code></td>
<td>
<p>Allow missing variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>void
</p>
<p>void
</p>
<p>void
</p>

<hr>
<h2 id='bezierArrowGradient'>A bezier arrow with gradient</h2><span id='topic+bezierArrowGradient'></span>

<h3>Description</h3>

<p>This is an experimental addition to the original <code><a href="#topic+bezierArrowSmpl">bezierArrowSmpl</a></code>
with the addition of a gradient in the center of the arrow that fades.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bezierArrowGradient(
  x = c(0.2, 0.7, 0.3, 0.9),
  y = c(0.2, 0.2, 0.9, 0.9),
  width = 0.05,
  clr = "#000000",
  default.units = "npc",
  align_2_axis = TRUE,
  grdt_type = c("triangle", "rectangle"),
  grdt_prop = 0.8,
  grdt_decrease_prop = 0.5,
  grdt_clr_prop = 0.7,
  grdt_line_width,
  grdt_clr = "#2F4F2F",
  vp = NULL,
  gp = gpar(),
  rm_intersect = 3L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bezierArrowGradient_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations of
spline control points.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations of
spline control points.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_width">width</code></td>
<td>
<p>The width of the arrow, either a numeric single number or a unit. <strong>Note:</strong>
The arrow does not rely on <code>lwd</code> but on actual width.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_clr">clr</code></td>
<td>
<p>The color of the arrow. This is the main color of the arrow and not the gradient color.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_default.units">default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_align_2_axis">align_2_axis</code></td>
<td>
<p>Indicates if the arrow should be vertically/horizontally
aligned. This is useful for instance if the arrow attaches to a box.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_grdt_type">grdt_type</code></td>
<td>
<p>The type of growth and gradient that is to be used,
currently it only supports triangle (I'm considering adding bezier curves
but currently I'm a little tired of coding)</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_grdt_prop">grdt_prop</code></td>
<td>
<p>The proportion of the full length that should be a the gradient. The gradient
consists of three things:
(1) the central band,
(2) the slimming of the central band,
(3) the color shift into the arrow color.
<em>Note</em> that the the slimming and color proportions can be overlapping.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_grdt_decrease_prop">grdt_decrease_prop</code></td>
<td>
<p>The proportion of the gradient that should be decreasing,
i.e. narrowing according to the <code>grdt_type</code> argument.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_grdt_clr_prop">grdt_clr_prop</code></td>
<td>
<p>The proportion of the gradient that should be converging to the arrow color.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_grdt_line_width">grdt_line_width</code></td>
<td>
<p>The width of the border line. If not specified it defaults to 5 % of
the original width, note the gradient's width is thus 90 %.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_grdt_clr">grdt_clr</code></td>
<td>
<p>The color of the gradient.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_vp">vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_gp">gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="grid.html#topic+gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_rm_intersect">rm_intersect</code></td>
<td>
<p>Set to 0 if you want to skip intersection removal, 1 only to remove left or
2 to only remove right. See details for why.
</p>
<p>@section Remove intersections:
</p>
<p>When the line is wide and the arrow has a narrow curve there may appear an empty triangle due
to polygon cancellation (two polygons within the same are cancel out). This behaviour may be
ugly and the function therefor tries to remove these.
</p>
<p><em>Note:</em> it is expensive to check if there are the lineas may intersect at one point,
remove those unexpected, and then adjust the line to the new situation so that the
top and bottom lines match. It can also cause some unexpected behaviour why you may want to
remove this feature if the arrow behaves erratically.</p>
</td></tr>
<tr><td><code id="bezierArrowGradient_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="#topic+bezierArrowSmpl">bezierArrowSmpl</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grob of <code><a href="grid.html#topic+grid.grob">gList</a></code>-type
</p>


<h3>Note</h3>

<p>The triangle section of the arrow is not currently included in the gradient.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
arrowGrob &lt;- bezierArrowGradient(
  x = c(.1, .3, .6, .9),
  y = c(0.2, 0.2, 0.9, 0.9)
)
grid.draw(arrowGrob)
</code></pre>

<hr>
<h2 id='bezierArrowSmpl'>A simple bezier arrow</h2><span id='topic+bezierArrowSmpl'></span>

<h3>Description</h3>

<p>This is an alternative to the grid packages <code><a href="grid.html#topic+grid.bezier">bezierGrob</a></code>
with the advantage that it allows you to draw an arrow with a specific
unit width. Note, it has only a end-arrow at this point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bezierArrowSmpl(
  x = c(0.2, 0.7, 0.3, 0.9),
  y = c(0.2, 0.2, 0.9, 0.9),
  width = 0.05,
  clr = "#000000",
  default.units = "npc",
  arrow = list(),
  rez = 200,
  align_2_axis = TRUE,
  name = NULL,
  rm_intersect = 3L,
  gp = gpar(),
  vp = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bezierArrowSmpl_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations of
spline control points.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations of
spline control points.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_width">width</code></td>
<td>
<p>The width of the arrow, either a numeric single number or a unit. <strong>Note:</strong>
The arrow does not rely on <code>lwd</code> but on actual width.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_clr">clr</code></td>
<td>
<p>The color of the arrow.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_default.units">default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_arrow">arrow</code></td>
<td>
<p>This is a list with all the <strong>base</strong> (width) and the desired
<strong>length</strong> for the arrow. <strong>Note:</strong> This differs from the original
<code><a href="grid.html#topic+bezierGrob">bezierGrob</a></code> function.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_rez">rez</code></td>
<td>
<p>The resolution of the arrow. This specifies how many points to retrieve from the
<code><a href="#topic+gnrlBezierPoints">gnrlBezierPoints</a></code> function. Defaults to 200.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_align_2_axis">align_2_axis</code></td>
<td>
<p>Indicates if the arrow should be vertically/horizontally
aligned. This is useful for instance if the arrow attaches to a box.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_name">name</code></td>
<td>
<p>A character identifier.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_rm_intersect">rm_intersect</code></td>
<td>
<p>Set to 0 if you want to skip intersection removal, 1 only to remove left or
2 to only remove right. See details for why.
</p>
<p>@section Remove intersections:
</p>
<p>When the line is wide and the arrow has a narrow curve there may appear an empty triangle due
to polygon cancellation (two polygons within the same are cancel out). This behaviour may be
ugly and the function therefor tries to remove these.
</p>
<p><em>Note:</em> it is expensive to check if there are the lineas may intersect at one point,
remove those unexpected, and then adjust the line to the new situation so that the
top and bottom lines match. It can also cause some unexpected behaviour why you may want to
remove this feature if the arrow behaves erratically.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_gp">gp</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output
from a call to the function <code><a href="grid.html#topic+gpar">gpar</a></code>.  This is basically
a list of graphical parameter settings.</p>
</td></tr>
<tr><td><code id="bezierArrowSmpl_+3A_vp">vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>grid::grob</code> A grob of the class polygonGrob with attributes that
correspond to the bezier points.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
arrowGrob &lt;- bezierArrowSmpl(
  x = c(.1, .3, .6, .9),
  y = c(0.2, 0.2, 0.9, 0.9)
)
grid.draw(arrowGrob)
</code></pre>

<hr>
<h2 id='boxGrob'>Create a box with text</h2><span id='topic+boxGrob'></span><span id='topic+print.box'></span><span id='topic+plot.box'></span><span id='topic+widthDetails.box'></span><span id='topic+heightDetails.box'></span>

<h3>Description</h3>

<p>Creates a <code><a href="grid.html#topic+grid.grob">grob</a></code> box with text inside it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxGrob(
  label,
  y = unit(0.5, "npc"),
  x = unit(0.5, "npc"),
  width,
  height,
  just = "center",
  bjust = "center",
  txt_gp = getOption("boxGrobTxt", default = gpar(color = "black", cex = 1)),
  box_gp = getOption("boxGrob", default = gpar(fill = "white")),
  box_fn = roundrectGrob,
  name = NULL
)

## S3 method for class 'box'
print(x, ...)

## S3 method for class 'box'
plot(x, ...)

## S3 method for class 'box'
widthDetails(x)

## S3 method for class 'box'
heightDetails(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boxGrob_+3A_label">label</code></td>
<td>
<p>The label to print - should be a number, text or expression.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_y">y</code></td>
<td>
<p>The y position to put the box at. Can be either in <code>npc</code> (i.e. 0-1) or a <code><a href="grid.html#topic+unit">unit</a></code>.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_x">x</code></td>
<td>
<p>The x position to put the box at. Can be either in <code>npc</code> (i.e. 0-1) or a <code><a href="grid.html#topic+unit">unit</a></code>.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_width">width</code></td>
<td>
<p>The box automatically adapts the size but you can force by specifying the width</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_height">height</code></td>
<td>
<p>The box automatically adapts the size but you can force by specifying the height</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_just">just</code></td>
<td>
<p>The justification for the text: left, center or right.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_bjust">bjust</code></td>
<td>
<p>The justification for the box: left, center, right, top or bottom.
See the <code>just</code> option for the <code><a href="grid.html#topic+viewport">viewport</a></code></p>
</td></tr>
<tr><td><code id="boxGrob_+3A_txt_gp">txt_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the text. Set <code>boxGrobTxt</code> option
if you want to customize all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_box_gp">box_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the box function of 'box_fn' below.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_box_fn">box_fn</code></td>
<td>
<p>Function to create box for the text. Parameters of 'x=0.5', 'y=0.5' and 'box_gp' will
be passed to this function and return a <code>grob</code> object.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_name">name</code></td>
<td>
<p>a character identifier for the <code>grob</code>. Used to find the <code>grob</code> on the display
list and/or as a child of another grob.</p>
</td></tr>
<tr><td><code id="boxGrob_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="grid.html#topic+grid.draw">grid.draw</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grob
</p>


<h3>The <code>plot</code>/<code>print</code></h3>

<p>To output the <code><a href="grid.html#topic+grid.grob">grob</a></code> objects to the plot either call <code>plot</code>
on the object or <code>print</code> it. Note that R automatically prints any object that is outputted
to the console. The function calls in turn the <code><a href="grid.html#topic+grid.draw">grid.draw</a></code> function on the object.
</p>


<h3>S3 from the <span class="pkg">grid</span> package</h3>

<p>Width and height functions address the <code><a href="#topic+coords">coords</a></code> attribute for the corresponding information.
The <code><a href="grid.html#topic+widthDetails">widthDetails</a></code> and <code><a href="grid.html#topic+widthDetails">heightDetails</a></code>
that provide information on an object.
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
boxGrob("My box")
</code></pre>

<hr>
<h2 id='boxPropGrob'>Create a box with a color split</h2><span id='topic+boxPropGrob'></span>

<h3>Description</h3>

<p>Creates a grob box with text inside it and a color split in the
horizontal axes that allow indicating different proportions. The
box can also have a title that spanse the two color areas and
that has its own background.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxPropGrob(
  label,
  label_left,
  label_right,
  prop,
  y = unit(0.5, "npc"),
  x = unit(0.5, "npc"),
  width,
  height,
  just = "center",
  bjust = "center",
  txt_gp = getOption("boxPropGrobTxt", default = gpar(color = "black")),
  txt_left_gp = getOption("boxPropGrobLeftTxt", default = gpar(col = "black")),
  txt_right_gp = getOption("boxPropGrobRightTxt", default = gpar(col = "black")),
  box_left_gp = getOption("boxPropGrobLeft", default = gpar(fill = "#E6E8EF")),
  box_right_gp = getOption("boxPropGrobRight", default = gpar(fill = "#FFFDF6")),
  box_highlight_gp = getOption("boxPropGrobHighlight", default = gpar(fill = "#ffffff55",
    col = NA)),
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boxPropGrob_+3A_label">label</code></td>
<td>
<p>The label to print - should be a number, text or expression.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_label_left">label_left</code></td>
<td>
<p>The label for the left area</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_label_right">label_right</code></td>
<td>
<p>The label for the right area</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_prop">prop</code></td>
<td>
<p>The proportion to split along</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_y">y</code></td>
<td>
<p>The y position to put the box at. Can be either in <code>npc</code> (i.e. 0-1) or a <code><a href="grid.html#topic+unit">unit</a></code>.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_x">x</code></td>
<td>
<p>The x position to put the box at. Can be either in <code>npc</code> (i.e. 0-1) or a <code><a href="grid.html#topic+unit">unit</a></code>.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_width">width</code></td>
<td>
<p>The box automatically adapts the size but you can force by specifying the width</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_height">height</code></td>
<td>
<p>The box automatically adapts the size but you can force by specifying the height</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_just">just</code></td>
<td>
<p>The justification for the text: left, center or right.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_bjust">bjust</code></td>
<td>
<p>The justification for the box: left, center, right, top or bottom.
See the <code>just</code> option for the <code><a href="grid.html#topic+viewport">viewport</a></code></p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_txt_gp">txt_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the text. Set <code>boxPropGrobTxt</code> option
if you want to customize all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_txt_left_gp">txt_left_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the left text. Set
<code>boxPropGrobLeftTxt</code> option if you want to customize all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_txt_right_gp">txt_right_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the right text. Set
<code>boxPropGrobRightTxt</code> option if you want to customize all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_box_left_gp">box_left_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the left box. Set
<code>boxPropGrobLeft</code> option if you want to customize all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_box_right_gp">box_right_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the right box. Set
<code>boxPropGrobRight</code> option if you want to customize all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_box_highlight_gp">box_highlight_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> style to apply to the background
of the main label. Set <code>boxPropGrobHighlight</code> option if you want to customize
all the boxes at once.</p>
</td></tr>
<tr><td><code id="boxPropGrob_+3A_name">name</code></td>
<td>
<p>a character identifier for the <code>grob</code>. Used to find the <code>grob</code> on the display
list and/or as a child of another grob.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A box grob
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
boxPropGrob("Main label", "Left text", "Right text", prop = .3)
</code></pre>

<hr>
<h2 id='calculateLinesAndArrow'>Gets offsetted lines</h2><span id='topic+calculateLinesAndArrow'></span>

<h3>Description</h3>

<p>The function calculates new points according to the offset
that lie to the left/right of the provided line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateLinesAndArrow(
  x,
  y,
  offset,
  end_x = -1,
  end_y = -1,
  arrow_offset = -1,
  rm_intersect = 3L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculateLinesAndArrow_+3A_x">x</code></td>
<td>
<p>A numeric vector containing all the x-elements</p>
</td></tr>
<tr><td><code id="calculateLinesAndArrow_+3A_y">y</code></td>
<td>
<p>A numeric vector containing all the y-elements</p>
</td></tr>
<tr><td><code id="calculateLinesAndArrow_+3A_offset">offset</code></td>
<td>
<p>The offset to add to the line, can be a vector if you
want to use different offsets.</p>
</td></tr>
<tr><td><code id="calculateLinesAndArrow_+3A_end_x">end_x</code></td>
<td>
<p>The x end of the line where the arrow occurrs (if &lt; 0 arrow is skipped)</p>
</td></tr>
<tr><td><code id="calculateLinesAndArrow_+3A_end_y">end_y</code></td>
<td>
<p>The y end of the line where the arrow occurrs (if &lt; 0 arrow is skipped)</p>
</td></tr>
<tr><td><code id="calculateLinesAndArrow_+3A_arrow_offset">arrow_offset</code></td>
<td>
<p>The offset to add to the arrow section if any (if &lt;= 0 arrow is skipped)</p>
</td></tr>
<tr><td><code id="calculateLinesAndArrow_+3A_rm_intersect">rm_intersect</code></td>
<td>
<p>Set to 0 if you want to skip intersection removal, 1 only to remove left or
2 to only remove right. See details for why.
</p>
<p>@section Remove intersections:
</p>
<p>When the line is wide and the arrow has a narrow curve there may appear an empty triangle due
to polygon cancellation (two polygons within the same are cancel out). This behaviour may be
ugly and the function therefor tries to remove these.
</p>
<p><em>Note:</em> it is expensive to check if there are the lineas may intersect at one point,
remove those unexpected, and then adjust the line to the new situation so that the
top and bottom lines match. It can also cause some unexpected behaviour why you may want to
remove this feature if the arrow behaves erratically.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list(list(x = ..., y = ...))</code> Returns a list with the right/left
lines that in turn lists with <em>x</em> and <em>y</em> elements
</p>

<hr>
<h2 id='connectGrob'>Connect boxes with an arrow</h2><span id='topic+connectGrob'></span><span id='topic+print.connect_boxes'></span><span id='topic+plot.connect_boxes'></span>

<h3>Description</h3>

<p>The function creates a grob that links two boxes together. It looks for
which side it should attach the arrow, e.g. if the start is on top of
the bottom it should attach to the bottom edge of ther start box and then
to the top at the end.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>connectGrob(
  start,
  end,
  type = c("vertical", "horizontal", "L", "-", "Z", "N"),
  subelmnt = c("right", "left"),
  lty_gp = getOption("connectGrob", default = gpar(fill = "black")),
  arrow_obj = getOption("connectGrobArrow", default = arrow(ends = "last", type =
    "closed"))
)

## S3 method for class 'connect_boxes'
print(x, ...)

## S3 method for class 'connect_boxes'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="connectGrob_+3A_start">start</code></td>
<td>
<p>The start box</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_end">end</code></td>
<td>
<p>The end box</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_type">type</code></td>
<td>
<p>How the boxes are stacked. The <code>L</code> alternative generates a
straight line up/down and then turns to righT/left for connecting with the end.
The <code>-</code> generates a straight horizontal arrow. The <code>Z</code> creates a
horizontal line that looks like a <code>Z</code> with 90 degree turns. The option
<code>N</code> allows for vertical lines.</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_subelmnt">subelmnt</code></td>
<td>
<p>If we have a split box we can specify the right/left x as the
connector point.</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_lty_gp">lty_gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> for the line. Set
<code>connectGrob</code> option if you want to customize all the arrows at once.</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_arrow_obj">arrow_obj</code></td>
<td>
<p>The arrow spec according to <code><a href="grid.html#topic+arrow">arrow</a></code>. Set
<code>connectGrobArrow</code> option if you want to customize all the arrows at once.</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_x">x</code></td>
<td>
<p>The grob to print/plot</p>
</td></tr>
<tr><td><code id="connectGrob_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="grid.html#topic+grid.draw">grid.draw</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The exact positions of the line is stored at the <code>attr(..., "line")</code>.
If you want to draw your own custom line all you need to do is check which
<code>attr(my_line, "line")$x</code> and <code>attr(my_line, "line")$y</code> you want
to attach to and then create your own custom <code><a href="grid.html#topic+grid.lines">linesGrob</a></code>.
</p>


<h3>Value</h3>

<p>grob with an arrow
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()

# Initiate the boxes that we want to connect
start &lt;- boxGrob("Top", x = .5, y = .8)
end &lt;- boxGrob("Bottom", x = .5, y = .2)
side &lt;- boxPropGrob("Side", "Left", "Right", prop = .3, x = .2, y = .8)
sub_side_left &lt;- boxGrob("Left", x = attr(side, "coords")$left_x, y = .5)
sub_side_right &lt;- boxGrob("Right", x = attr(side, "coords")$right_x, y = .5)
exclude &lt;- boxGrob("Exclude:\n - Too sick\n - Prev. surgery", x = .8, y = .5, just = "left")

# Connect the boxes and print/plot them
connectGrob(start, end, "vertical")
connectGrob(start, side, "horizontal")
connectGrob(side, sub_side_left, "v", "l")
connectGrob(side, sub_side_right, "v", "r")
connectGrob(start, exclude, "L")

# Print the grobs
start
end
side
exclude
sub_side_left
sub_side_right
</code></pre>

<hr>
<h2 id='convertShowMissing'>A function for converting a show_missing variable.</h2><span id='topic+convertShowMissing'></span>

<h3>Description</h3>

<p>The variable is supposed to be directly compatible with
<code><a href="base.html#topic+table">table</a></code>(..., useNA = show_missing). It throws an error
if not compatible. It is mostly useful for custom describe functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertShowMissing(show_missing)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertShowMissing_+3A_show_missing">show_missing</code></td>
<td>
<p>Boolean or &quot;no&quot;, &quot;ifany&quot;, &quot;always&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p><em>Deprecated:</em> This function will be deprecated
as all functions now use the useNA style in order to comply
with standard R naming.
</p>


<h3>Value</h3>

<p>string
</p>

<hr>
<h2 id='coords'>Get the box coordinates</h2><span id='topic+coords'></span>

<h3>Description</h3>

<p>Retrieves the boxes <code>"coords"</code> attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coords(box)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coords_+3A_box">box</code></td>
<td>
<p>The <code><a href="#topic+boxGrob">boxGrob</a></code> or <code><a href="#topic+boxPropGrob">boxPropGrob</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the coordinates
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>box &lt;- boxGrob("A test box")
coords(box)
</code></pre>

<hr>
<h2 id='copyAllNewAttributes'>A simple thing to keep the attributes</h2><span id='topic+copyAllNewAttributes'></span>

<h3>Description</h3>

<p>Skips the attributes that the to object already has
to avoid overwriting dim and other important attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>copyAllNewAttributes(from, to, attr2skip = c(), attr2force = c())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="copyAllNewAttributes_+3A_from">from</code></td>
<td>
<p>The from object</p>
</td></tr>
<tr><td><code id="copyAllNewAttributes_+3A_to">to</code></td>
<td>
<p>The to object</p>
</td></tr>
<tr><td><code id="copyAllNewAttributes_+3A_attr2skip">attr2skip</code></td>
<td>
<p>An optional lists of attributes
that you may want to avoid having copied</p>
</td></tr>
<tr><td><code id="copyAllNewAttributes_+3A_attr2force">attr2force</code></td>
<td>
<p>An optional lists of attributes
that you may want to force copy even if they already
exist in the new object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>object</code> The <code>to</code> argument object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- "test"
attr(a, 'wow') &lt;- 1000
b &lt;- a
b &lt;- copyAllNewAttributes(a, b)
print(attr(b, 'wow'))

</code></pre>

<hr>
<h2 id='descGetMissing'>Get statistics for missing data</h2><span id='topic+descGetMissing'></span>

<h3>Description</h3>

<p>This function calculates the amount of missing per row for <code><a href="#topic+describeMean">describeMean</a></code>,
<code><a href="#topic+describeMedian">describeMedian</a></code> and custom description functions.
It will return invisibly when no missing values are present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descGetMissing(
  x,
  html = TRUE,
  number_first = TRUE,
  percentage_sign = TRUE,
  language = "en",
  useNA.digits = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="descGetMissing_+3A_x">x</code></td>
<td>
<p>The variable that you want the statistics for</p>
</td></tr>
<tr><td><code id="descGetMissing_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="descGetMissing_+3A_number_first">number_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().
This is only used together with the useNA variable.</p>
</td></tr>
<tr><td><code id="descGetMissing_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable. Note, this is
only used when combined with the missing information.</p>
</td></tr>
<tr><td><code id="descGetMissing_+3A_language">language</code></td>
<td>
<p>The ISO-639-1 two-letter code for the language of
interest. Currently only english is distinguished from the ISO
format using a ',' as the separator in the <code>txtInt</code>
function.</p>
</td></tr>
<tr><td><code id="descGetMissing_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="descGetMissing_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="#topic+describeFactors">describeFactors</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>vector</code> A vector with the missing estimate
</p>

<hr>
<h2 id='describeFactors'>Describes factor variables</h2><span id='topic+describeFactors'></span>

<h3>Description</h3>

<p>A function that returns a description of proportions in a
factor that contains the number of times a level occurs and the percentage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describeFactors(
  x,
  html = TRUE,
  digits = 1,
  digits.nonzero = NA,
  number_first = TRUE,
  useNA = c("ifany", "no", "always"),
  useNA.digits = digits,
  horizontal_proportions,
  percentage_sign = TRUE,
  language = "en",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="describeFactors_+3A_x">x</code></td>
<td>
<p>The variable that you want the statistics for</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_number_first">number_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().
This is only used together with the useNA variable.</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_horizontal_proportions">horizontal_proportions</code></td>
<td>
<p>Is only active if useNA since this is
the only case of a proportion among continuous variables. This is default NULL and indicates
that the proportions are to be interpreted in a vertical manner.
If we want the data to be horizontal, i.e. the total should be shown
and then how these differ in the different groups then supply the
function with the total number in each group, i.e. if done in a by
manner as in <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code> it needs to provide
the number before the by() command.</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable. Note, this is
only used when combined with the missing information.</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_language">language</code></td>
<td>
<p>The ISO-639-1 two-letter code for the language of
interest. Currently only english is distinguished from the ISO
format using a ',' as the separator in the <code>txtInt</code>
function.</p>
</td></tr>
<tr><td><code id="describeFactors_+3A_...">...</code></td>
<td>
<p>Passed on to <code>txtInt</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string formatted for printing either latex by  HTML
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>
</p>
<p>Other descriptive functions: 
<code><a href="#topic+describeMean">describeMean</a>()</code>,
<code><a href="#topic+describeMedian">describeMedian</a>()</code>,
<code><a href="#topic+describeProp">describeProp</a>()</code>,
<code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a>()</code>,
<code><a href="#topic+getPvalWilcox">getPvalWilcox</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
describeFactors(sample(50, x = c("A", "B", "C"), replace = TRUE))

n &lt;- 500
my_var &lt;- factor(sample(size = n, x = c("A", "B", "C", NA), replace = TRUE))
my_exp &lt;- rbinom(n = n, size = 1, prob = 0.2)
total &lt;- table(my_var, useNA = "ifany")
by(my_var,
  INDICES = my_exp,
  FUN = describeFactors,
  useNA = "ifany",
  horizontal_proportions = total
)
</code></pre>

<hr>
<h2 id='describeMean'>Describe the mean</h2><span id='topic+describeMean'></span>

<h3>Description</h3>

<p>A function that returns a description of a continuous variable using
the mean together with the standard deviation. The standard deviation
is used as it is &quot;industry standard&quot; to use mean with standard deviation
and not because it's the only option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describeMean(
  x,
  html = TRUE,
  digits = 1,
  digits.nonzero = NA,
  number_first = TRUE,
  useNA = c("ifany", "no", "always"),
  useNA.digits = digits,
  percentage_sign = TRUE,
  plusmin_str,
  language = "en",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="describeMean_+3A_x">x</code></td>
<td>
<p>The variable that you want the statistics for</p>
</td></tr>
<tr><td><code id="describeMean_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="describeMean_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="describeMean_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="describeMean_+3A_number_first">number_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().
This is only used together with the useNA variable.</p>
</td></tr>
<tr><td><code id="describeMean_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="describeMean_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="describeMean_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable. Note, this is
only used when combined with the missing information.</p>
</td></tr>
<tr><td><code id="describeMean_+3A_plusmin_str">plusmin_str</code></td>
<td>
<p>Provide if you want anything other than the plus minus sign
suited for the given output format.</p>
</td></tr>
<tr><td><code id="describeMean_+3A_language">language</code></td>
<td>
<p>The ISO-639-1 two-letter code for the language of
interest. Currently only english is distinguished from the ISO
format using a ',' as the separator in the <code>txtInt</code>
function.</p>
</td></tr>
<tr><td><code id="describeMean_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="#topic+describeFactors">describeFactors</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>string</code> Returns a string formatted for either LaTeX or HTML
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>
</p>
<p>Other descriptive functions: 
<code><a href="#topic+describeFactors">describeFactors</a>()</code>,
<code><a href="#topic+describeMedian">describeMedian</a>()</code>,
<code><a href="#topic+describeProp">describeProp</a>()</code>,
<code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a>()</code>,
<code><a href="#topic+getPvalWilcox">getPvalWilcox</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>describeMean(1:10)
describeMean(c(1:10, NA), useNA = "always")
describeMean(c(1:10, NA), useNA = "no")
</code></pre>

<hr>
<h2 id='describeMedian'>A function that returns a description median that contains
the interquartile range or the full range</h2><span id='topic+describeMedian'></span>

<h3>Description</h3>

<p>A function that returns a description median that contains
the interquartile range or the full range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describeMedian(
  x,
  iqr = TRUE,
  html = TRUE,
  digits = 1,
  digits.nonzero = NA,
  number_first = TRUE,
  useNA = c("ifany", "no", "always"),
  useNA.digits = digits,
  percentage_sign = TRUE,
  language = "en",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="describeMedian_+3A_x">x</code></td>
<td>
<p>The variable that you want the statistics for</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_iqr">iqr</code></td>
<td>
<p>If interquartile range should be used</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_number_first">number_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().
This is only used together with the useNA variable.</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable. Note, this is
only used when combined with the missing information.</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_language">language</code></td>
<td>
<p>The ISO-639-1 two-letter code for the language of
interest. Currently only english is distinguished from the ISO
format using a ',' as the separator in the <code>txtInt</code>
function.</p>
</td></tr>
<tr><td><code id="describeMedian_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="#topic+describeFactors">describeFactors</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>string</code> A string formatted for either LaTeX or HTML
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>
</p>
<p>Other descriptive functions: 
<code><a href="#topic+describeFactors">describeFactors</a>()</code>,
<code><a href="#topic+describeMean">describeMean</a>()</code>,
<code><a href="#topic+describeProp">describeProp</a>()</code>,
<code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a>()</code>,
<code><a href="#topic+getPvalWilcox">getPvalWilcox</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>describeMedian(1:10)
describeMedian(c(1:10, NA), useNA = "ifany")
</code></pre>

<hr>
<h2 id='describeProp'>A function that returns a description proportion that contains
the number and the percentage</h2><span id='topic+describeProp'></span>

<h3>Description</h3>

<p>A function that returns a description proportion that contains
the number and the percentage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describeProp(
  x,
  html = TRUE,
  digits = 1,
  digits.nonzero = NA,
  number_first = TRUE,
  useNA = c("ifany", "no", "always"),
  useNA.digits = digits,
  default_ref = NULL,
  percentage_sign = TRUE,
  language = "en",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="describeProp_+3A_x">x</code></td>
<td>
<p>The variable that you want the statistics for</p>
</td></tr>
<tr><td><code id="describeProp_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="describeProp_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="describeProp_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="describeProp_+3A_number_first">number_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().
This is only used together with the useNA variable.</p>
</td></tr>
<tr><td><code id="describeProp_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="describeProp_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="describeProp_+3A_default_ref">default_ref</code></td>
<td>
<p>The default reference, either first,
the level name or a number within the levels. If left out
it defaults to the first value.</p>
</td></tr>
<tr><td><code id="describeProp_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable. Note, this is
only used when combined with the missing information.</p>
</td></tr>
<tr><td><code id="describeProp_+3A_language">language</code></td>
<td>
<p>The ISO-639-1 two-letter code for the language of
interest. Currently only english is distinguished from the ISO
format using a ',' as the separator in the <code>txtInt</code>
function.</p>
</td></tr>
<tr><td><code id="describeProp_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="#topic+describeFactors">describeFactors</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>string</code> A string formatted for either LaTeX or HTML
</p>


<h3>See Also</h3>

<p>Other descriptive functions: 
<code><a href="#topic+describeFactors">describeFactors</a>()</code>,
<code><a href="#topic+describeMean">describeMean</a>()</code>,
<code><a href="#topic+describeMedian">describeMedian</a>()</code>,
<code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a>()</code>,
<code><a href="#topic+getPvalWilcox">getPvalWilcox</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>describeProp(factor(sample(50, x = c("A", "B", NA), replace = TRUE)))
</code></pre>

<hr>
<h2 id='distance'>Get the distance between grid objects</h2><span id='topic+distance'></span><span id='topic+print.Gmisc_unit'></span>

<h3>Description</h3>

<p>Retrieves the distance between two boxes as absolute <code>"mm"</code> units. The function also
accepts <code><a href="#topic+coords">coords</a></code> objects as well as a <code><a href="grid.html#topic+unit">unit</a></code> or a numeric input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distance(
  box1,
  box2,
  type = c("vertical", "horizontal", "euclidean"),
  half = FALSE,
  center = FALSE
)

## S3 method for class 'Gmisc_unit'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="distance_+3A_box1">box1</code></td>
<td>
<p>The first <code><a href="#topic+boxGrob">boxGrob</a></code>. Can also be a <code><a href="#topic+coords">coords</a></code>
object, a <code><a href="grid.html#topic+unit">unit</a></code> or a numeric. The latter is evaluated to
a <code>unit</code> with <code>units="npc"</code>.</p>
</td></tr>
<tr><td><code id="distance_+3A_box2">box2</code></td>
<td>
<p>The second object to calculate the distance to. Same type as for <code>box1</code>.</p>
</td></tr>
<tr><td><code id="distance_+3A_type">type</code></td>
<td>
<p>Whether we should retrieve the vertical, horizontal or euclidean distance</p>
</td></tr>
<tr><td><code id="distance_+3A_half">half</code></td>
<td>
<p>If set to true it returns half the distance. This is convenient
when positioning boxes between each other.</p>
</td></tr>
<tr><td><code id="distance_+3A_center">center</code></td>
<td>
<p>Calculate the distance from the center of each object</p>
</td></tr>
<tr><td><code id="distance_+3A_x">x</code></td>
<td>
<p>A unit with from the <code>distance</code> function</p>
</td></tr>
<tr><td><code id="distance_+3A_...">...</code></td>
<td>
<p>Passed on to print</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>unit</code> in <code>"mm"</code> with an absolute value. The attribute
<code>positive</code> indicates the direction of the value, i.e. if it is <code>TRUE</code> the
distance was calculated from the first to the second, otherwise it is <code>FALSE</code>.
For <code>euclidean</code> distance the <code>positive</code> attribute is <code>NA</code>. There is also the
<code>from</code> and <code>to</code> attributes that has the coordinates that were used for the
calculations, for <code>euclidean</code> distance this is <code>NA</code>.
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>box1 &lt;- boxGrob("A test box", y = .8)
box2 &lt;- boxGrob("Another test box", y = .2)
distance(box1, box2, "v")
</code></pre>

<hr>
<h2 id='docx_document'>Formatter wrapper for <code><a href="rmarkdown.html#topic+html_document">html_document</a></code>, facilitates easier porting to docx</h2><span id='topic+docx_document'></span>

<h3>Description</h3>

<p>This function adds the option of having adaptations needed for seemless integration with
MS Word for importing html-documents in the .docx-format. The advantage of html documents is
the ability to create advanced formatting frequently needed in medical publications
and that is available in the <code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code> function. You can view
<a href="https://gforge.se/2014/07/fast-track-publishing-using-rmarkdown/">the series</a>
for more details regarding how to achieve
fast-track-publishing (ftp) together with knitr.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>docx_document(
  ...,
  self_contained = FALSE,
  mathjax = NULL,
  theme = NULL,
  highlight = NULL,
  css = "rmarkdown/docx.css",
  h1_style = "margin: 24pt 0pt 0pt 0pt;",
  other_h_style = "margin: 10pt 0pt 0pt 0pt;",
  remove_scripts = TRUE,
  force_captions = FALSE,
  css_max_width
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="docx_document_+3A_...">...</code></td>
<td>
<p>Passed onto <code><a href="rmarkdown.html#topic+html_document">html_document</a></code>.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_self_contained">self_contained</code></td>
<td>
<p>Overrides the default <code>TRUE</code> for
<code><a href="rmarkdown.html#topic+html_document">html_document</a></code> to <code>FALSE</code> as
LibreOffice hangs on long lines such as the base64
images included in the self-contained version.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_mathjax">mathjax</code></td>
<td>
<p>The advanced mathjax does not work with with
Word/LibreOffice.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_theme">theme</code></td>
<td>
<p>No theme should be used for the output as the
custom CSS should take care of everything.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_highlight">highlight</code></td>
<td>
<p>By default turn off highlighting as scripts
are difficult to import. This does though work somewhat OK when
copy-pasting from the web-browser.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_css">css</code></td>
<td>
<p>The CSS if other that the default within the package</p>
</td></tr>
<tr><td><code id="docx_document_+3A_h1_style">h1_style</code></td>
<td>
<p>You can choose any css style formatting here that you
want to be applied to all h1 elements. Note: this is only applied
if LibreOffice_adapt is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_other_h_style">other_h_style</code></td>
<td>
<p>This is the formatting applied to any other
h elements not included to the first. Note: this is only applied
if LibreOffice_adapt is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_remove_scripts">remove_scripts</code></td>
<td>
<p><code>TRUE</code> if &lt;script&gt;&lt;/script&gt; tags are
to be removed. These are usually not compatible with Word-processors
and should therefore in most cases be stripped from the document.</p>
</td></tr>
<tr><td><code id="docx_document_+3A_force_captions">force_captions</code></td>
<td>
<p>Since out.width and out.height remove the option of
having captions this allows a workaround through some processing
via the XML-package</p>
</td></tr>
<tr><td><code id="docx_document_+3A_css_max_width">css_max_width</code></td>
<td>
<p>The max width of the body element. Defaults to &quot;40em&quot;
if not specified. Any CSS-compliant width format works.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you want to get equations into Word the currently best way is to
use the <code><a href="rmarkdown.html#topic+word_document">word_document</a></code> format.
</p>


<h3>Value</h3>

<p>R Markdown output format to pass to <code><a href="rmarkdown.html#topic+render">render</a></code>
</p>


<h3>Author(s)</h3>

<p>Max Gordon
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Possible yaml configuration at the top of the Rmd doc
## Not run: 
---
title: "Test"
author: "Max Gordon"
output:
  Gmisc::docx_document
---

## End(Not run)
</code></pre>

<hr>
<h2 id='fastDoCall'>An alternative to the internal <code>do.call</code></h2><span id='topic+fastDoCall'></span>

<h3>Description</h3>

<p>The <code><a href="base.html#topic+do.call">do.call</a></code> can be somewhat slow, especially when working
with large objects. This function is based upon the suggestions from Hadley
Wickham on the R mailing list.
Also thanks to <em>Tommy</em> at StackOverflow for
<a href="https://stackoverflow.com/questions/10022436/do-call-in-combination-with">suggesting</a>
how to handle double and triple colon operators, <code>::</code>, further
enhancing the function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fastDoCall(what, args, quote = FALSE, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fastDoCall_+3A_what">what</code></td>
<td>
<p>either a function or a non-empty character string naming the
function to be called.</p>
</td></tr>
<tr><td><code id="fastDoCall_+3A_args">args</code></td>
<td>
<p>a <em>list</em> of arguments to the function call.  The
<code>names</code> attribute of <code>args</code> gives the argument names.</p>
</td></tr>
<tr><td><code id="fastDoCall_+3A_quote">quote</code></td>
<td>
<p>a logical value indicating whether to quote the
arguments.</p>
</td></tr>
<tr><td><code id="fastDoCall_+3A_envir">envir</code></td>
<td>
<p>an environment within which to evaluate the call.  This
will be most useful if <code>what</code> is a character string and
the arguments are symbols or quoted expressions.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>While the function attempts to do most of what <code><a href="base.html#topic+do.call">do.call</a></code>
can it has limitations. It can currently not parse the example code from the
original function: <code>do.call(paste, list(as.name("A"), as.name("B")), quote = TRUE)</code>
and the functionality of <code>quote</code> has not been thoroughly tested.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fastDoCall("complex", list(imaginary = 1:3))

## if we already have a list (e.g. a data frame)
## we need c() to add further arguments
tmp &lt;- expand.grid(letters[1:2], 1:3, c("+", "-"))
fastDoCall("paste", c(tmp, sep = ""))

## examples of where objects will be found.
A &lt;- 2
f &lt;- function(x) print(x^2)
env &lt;- new.env()
assign("A", 10, envir = env)
assign("f", f, envir = env)
f &lt;- function(x) print(x)
f(A)                                      # 2
fastDoCall("f", list(A))                     # 2
fastDoCall("f", list(A), envir = env)        # 4
fastDoCall(f, list(A), envir = env)          # 2
fastDoCall("f", list(quote(A)), envir = env) # 100
fastDoCall(f, list(quote(A)), envir = env)   # 10
fastDoCall("f", list(as.name("A")), envir = env) # 100

eval(call("f", A))                      # 2
eval(call("f", quote(A)))               # 2
eval(call("f", A), envir = env)         # 4
eval(call("f", quote(A)), envir = env)  # 100
</code></pre>

<hr>
<h2 id='figCapNo'>Adds a figure caption number</h2><span id='topic+figCapNo'></span>

<h3>Description</h3>

<p>The function relies on <code>options("fig_caption_no")</code>
in order to keep track of the last number. If
you want to force the caption function to skip
captions while still using it in the knitr fig.cap option
then simply set <code>options(fig_caption_no = FALSE)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>figCapNo(
  str,
  roman = getOption("fig_caption_no_roman", default = FALSE),
  sprintf_str = getOption("fig_caption_no_sprintf", default = "Fig. %s: %s")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="figCapNo_+3A_str">str</code></td>
<td>
<p>The string that is to be prepended with string</p>
</td></tr>
<tr><td><code id="figCapNo_+3A_roman">roman</code></td>
<td>
<p>Whether or not to use roman numbers instead
of Arabic. Can also be set through <code>options(fig_caption_no_roman = TRUE)</code></p>
</td></tr>
<tr><td><code id="figCapNo_+3A_sprintf_str">sprintf_str</code></td>
<td>
<p>An <code><a href="base.html#topic+sprintf">sprintf</a></code> formatted
string where the first argument is reserved for the string
generated by the counter and the second one is for the caption
text. Can also be set through <code>options(fig_caption_no_sprintf = TRUE)</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other figure caption functions: 
<code><a href="#topic+figCapNoLast">figCapNoLast</a>()</code>,
<code><a href="#topic+figCapNoNext">figCapNoNext</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
```{r, fig.cap = pigCapNo("My nice plot")}
plot(1:10 + rnorm(10), 1:10)
```

## End(Not run)
org_opts &lt;- options(fig_caption_no = 2,
                    fig_caption_no_sprintf = "Figure %s: %s")
figCapNo("A plot with caption number = 3")

org_opts &lt;- options(fig_caption_no = TRUE)
figCapNo("A plot with caption number = 1")

# Use default setting
options(fig_caption_no_sprintf = NULL)
figCapNo("A plot with caption number = 2")

# Return the original settings
options(org_opts)
</code></pre>

<hr>
<h2 id='figCapNoLast'>Gets the last figure caption number</h2><span id='topic+figCapNoLast'></span>

<h3>Description</h3>

<p>The function relies on <code>options("fig_caption_no")</code>
in order to keep track of the last number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>figCapNoLast(roman = getOption("fig_caption_no_roman", FALSE))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="figCapNoLast_+3A_roman">roman</code></td>
<td>
<p>Whether or not to use roman numbers instead
of Arabic. Can also be set through <code>options(fig_caption_no_roman = TRUE)</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other figure caption functions: 
<code><a href="#topic+figCapNoNext">figCapNoNext</a>()</code>,
<code><a href="#topic+figCapNo">figCapNo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>org_opts &lt;- options(fig_caption_no = 1)
figCapNoLast()
options(org_opts)
</code></pre>

<hr>
<h2 id='figCapNoNext'>Gets the next figure caption number</h2><span id='topic+figCapNoNext'></span>

<h3>Description</h3>

<p>The function relies on <code>options("fig_caption_no")</code>
in order to keep track of the last number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>figCapNoNext(roman = getOption("fig_caption_no_roman", default = FALSE))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="figCapNoNext_+3A_roman">roman</code></td>
<td>
<p>Whether or not to use roman numbers instead
of Arabic. Can also be set through <code>options(fig_caption_no_roman = TRUE)</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other figure caption functions: 
<code><a href="#topic+figCapNoLast">figCapNoLast</a>()</code>,
<code><a href="#topic+figCapNo">figCapNo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>org_opts &lt;- options(fig_caption_no = 1)
figCapNoNext()
options(org_opts)
</code></pre>

<hr>
<h2 id='getAbsoluteWidth'>Translates &quot;npc&quot; widths into absolute units</h2><span id='topic+getAbsoluteWidth'></span>

<h3>Description</h3>

<p>The &quot;npc&quot; <code><a href="grid.html#topic+unit">unit</a></code> is not absolute, i.e.
it depends on the relation between height and  width within
the current viewport. We therefore need to change these values
to the value most likely intended. This is believed to be the
main direction of the arrow as specified by the first and last
bezier control points <code>x</code> and <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAbsoluteWidth(w, default.units, x = x, y = y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getAbsoluteWidth_+3A_w">w</code></td>
<td>
<p>The width that is to be changed</p>
</td></tr>
<tr><td><code id="getAbsoluteWidth_+3A_default.units">default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td></tr>
<tr><td><code id="getAbsoluteWidth_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit object specifying x-locations of
spline control points.</p>
</td></tr>
<tr><td><code id="getAbsoluteWidth_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit object specifying y-locations of
spline control points.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The width transformed into a <code><a href="grid.html#topic+unit">unit</a></code> of &quot;mm&quot;
</p>

<hr>
<h2 id='getBezierAdj4Arrw'>Gets the bezier points adjusted for an arrow</h2><span id='topic+getBezierAdj4Arrw'></span>

<h3>Description</h3>

<p>Gets the bezier points adjusted for an arrow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBezierAdj4Arrw(x, y, arrow_length, length_out = 100)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getBezierAdj4Arrw_+3A_x">x</code></td>
<td>
<p>The x start and end points</p>
</td></tr>
<tr><td><code id="getBezierAdj4Arrw_+3A_y">y</code></td>
<td>
<p>The spline control points</p>
</td></tr>
<tr><td><code id="getBezierAdj4Arrw_+3A_arrow_length">arrow_length</code></td>
<td>
<p>The desired length of the arrow</p>
</td></tr>
<tr><td><code id="getBezierAdj4Arrw_+3A_length_out">length_out</code></td>
<td>
<p>Increases the resolution for the final bezier
points, i.e. generating more fine-grained intervals</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>

<hr>
<h2 id='getDescriptionStatsBy'>Creating of description statistics</h2><span id='topic+getDescriptionStatsBy'></span><span id='topic+htmlTable.Gmisc_getDescriptionStatsBy'></span><span id='topic+print.Gmisc_getDescriptionStatsBy'></span><span id='topic+knit_print.Gmisc_getDescriptionStatsBy'></span><span id='topic+length.Gmisc_getDescriptionStatsBy'></span>

<h3>Description</h3>

<p>A function that returns a description statistic that can be used
for creating a publication &quot;table 1&quot; when you want it by groups.
The function identifies if the variable is a continuous, binary
or a factored variable. The format is inspired by NEJM, Lancet &amp;
BMJ.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDescriptionStatsBy(
  x,
  ...,
  by,
  digits = 1,
  digits.nonzero = NA,
  html = TRUE,
  numbers_first = TRUE,
  statistics = FALSE,
  statistics.sig_lim = 10^-4,
  statistics.two_dec_lim = 10^-2,
  statistics.suppress_warnings = TRUE,
  useNA = c("ifany", "no", "always"),
  useNA.digits = digits,
  continuous_fn = describeMean,
  prop_fn = describeProp,
  factor_fn = describeFactors,
  show_all_values = FALSE,
  hrzl_prop = FALSE,
  add_total_col,
  total_col_show_perc = TRUE,
  use_units = FALSE,
  units_column_name = "Units",
  default_ref = NULL,
  NEJMstyle = FALSE,
  percentage_sign = TRUE,
  header_count = NULL,
  missing_value = "-",
  names_of_missing = NULL
)

## S3 method for class 'Gmisc_getDescriptionStatsBy'
htmlTable(x, ...)

## S3 method for class 'Gmisc_getDescriptionStatsBy'
print(x, ...)

## S3 method for class 'Gmisc_getDescriptionStatsBy'
knit_print(x, ...)

## S3 method for class 'Gmisc_getDescriptionStatsBy'
length(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getDescriptionStatsBy_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_...">...</code></td>
<td>
<p>The variables that you want you statistic for. In the print all thes parameters
are passed on as [htmlTable::htmlTable] arguments.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_numbers_first">numbers_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_statistics">statistics</code></td>
<td>
<p>Add statistics, fisher test for proportions and Wilcoxon
for continuous variables. See details below for more customization.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_statistics.sig_lim">statistics.sig_lim</code></td>
<td>
<p>The significance limit for &lt; sign, i.e. p-value 0.0000312
should be &lt; 0.0001 with the default setting.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_statistics.two_dec_lim">statistics.two_dec_lim</code></td>
<td>
<p>The limit for showing two decimals. E.g.
the p-value may be 0.056 and we may want to keep the two decimals in order
to emphasize the proximity to the all-mighty 0.05 p-value and set this to
<code class="reqn">10^-2</code>. This allows that a value of 0.0056 is rounded to 0.006 and this
makes intuitive sense as the 0.0056 level as this is well below
the 0.05 value and thus not as interesting to know the exact proximity to
0.05. <em>Disclaimer:</em> The 0.05-limit is really silly and debated, unfortunately
it remains a standard and this package tries to adapt to the current standards in order
to limit publication associated issues.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_statistics.suppress_warnings">statistics.suppress_warnings</code></td>
<td>
<p>Hide warnings from the statistics function.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_continuous_fn">continuous_fn</code></td>
<td>
<p>The method to describe continuous variables. The
default is <code><a href="#topic+describeMean">describeMean</a></code>.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_prop_fn">prop_fn</code></td>
<td>
<p>The method used to describe proportions, see <code><a href="#topic+describeProp">describeProp</a></code>.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_factor_fn">factor_fn</code></td>
<td>
<p>The method used to describe factors, see <code><a href="#topic+describeFactors">describeFactors</a></code>.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_show_all_values">show_all_values</code></td>
<td>
<p>Show all values in proportions. For factors with only two values
it is most sane to only show one option as the other one will just be a complement
to the first, i.e. we want to convey a proportion. For instance sex - if you know
gender then automatically you know the distribution of the other sex as it's 100 % - other %.
To choose which one you want to show then set the <code>default_ref</code> parameter.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_hrzl_prop">hrzl_prop</code></td>
<td>
<p>This is default FALSE and indicates
that the proportions are to be interpreted in a vertical manner.
If we want the data to be horizontal, i.e. the total should be shown
and then how these differ in the different groups then set this to TRUE.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_add_total_col">add_total_col</code></td>
<td>
<p>This adds a total column to the resulting table.
You can also specify if you want the total column &quot;first&quot; or &quot;last&quot;
in the column order.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_total_col_show_perc">total_col_show_perc</code></td>
<td>
<p>This is by default true but if
requested the percentages are suppressed as this sometimes may be confusing.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_use_units">use_units</code></td>
<td>
<p>If the Hmisc package's units() function has been employed
it may be interesting to have a column at the far right that indicates the
unit measurement. If this column is specified then the total column will
appear before the units (if specified as last). You can also set the value to
<code>"name"</code> and the units will be added to the name as a parenthesis,
e.g. Age (years).</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_units_column_name">units_column_name</code></td>
<td>
<p>The name of the units column. Used if use_units = TRUE</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_default_ref">default_ref</code></td>
<td>
<p>The default reference when dealing with proportions. When using
'dplyr' syntax ('tidyselect') you can specify a named vector/list for each column name.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_nejmstyle">NEJMstyle</code></td>
<td>
<p>Adds - no (%) at the end to proportions</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_header_count">header_count</code></td>
<td>
<p>Set to <code>TRUE</code> if you want to add a header count,
e.g. Smoking; No. 25 observations, where there is a new line after the
factor name. If you want a different text for the second line you can
specifically use the <code><a href="base.html#topic+sprintf">sprintf</a></code> formatting, e.g. &quot;No. %s patients&quot;.</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_missing_value">missing_value</code></td>
<td>
<p>Value that is substituted for empty cells. Defaults to &quot;-&quot;</p>
</td></tr>
<tr><td><code id="getDescriptionStatsBy_+3A_names_of_missing">names_of_missing</code></td>
<td>
<p>Optional character vector containing the names of returned statistics,
in case all returned values for a given <code>by</code> level are missing. Defaults to NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>matrix</code> if a single value was provided, otherwise a <code>list</code>
of matrices with the class <code>"Gmisc_getDescriptionStatsBy"</code>.
</p>


<h3>Customizing statistics</h3>

<p>You can specify what function that you want for statistic by providing a function
that takes two arguments <code>x</code> and <code>by</code> and returns a p-value. There are
a few functions already prepared for this see <code><a href="#topic+getPvalAnova">getPvalAnova</a></code>,
<code><a href="#topic+getPvalChiSq">getPvalChiSq</a></code>
<code><a href="#topic+getPvalFisher">getPvalFisher</a></code>
<code><a href="#topic+getPvalKruskal">getPvalKruskal</a></code>
<code><a href="#topic+getPvalWilcox">getPvalWilcox</a></code>.
The default functions used are <code>getPvalFisher</code> and <code>getPvalWilcox</code> (unless the by
argument has more than three unique levels where it defaults to <code>getPvalAnova</code>).
</p>
<p>If you want the function to select functions depending on the type of input
you can provide a list with the names <code>'continuous'</code>, <code>'proportion'</code>, <code>'factor'</code> and
the function will choose accordingly. If you fail to define a certain category
it will default to the above.
</p>
<p>You can also use a custom function that returns a string with the attribute <code>'colname'</code>
set that will be appended to the results instead of the p-value column.
</p>


<h3>See Also</h3>

<p>Other descriptive functions: 
<code><a href="#topic+describeFactors">describeFactors</a>()</code>,
<code><a href="#topic+describeMean">describeMean</a>()</code>,
<code><a href="#topic+describeMedian">describeMedian</a>()</code>,
<code><a href="#topic+describeProp">describeProp</a>()</code>,
<code><a href="#topic+getPvalWilcox">getPvalWilcox</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
library(dplyr)
library(htmlTable)

data(mtcars)
mtcars %&lt;&gt;%
  mutate(am = factor(am, levels = 0:1, labels = c("Automatic", "Manual")),
         vs = factor(vs, levels = 0:1, labels = c("V-shaped", "straight")),
         drat_prop = drat &gt; median(drat),
         drat_prop = factor(drat_prop,
                            levels = c(FALSE, TRUE),
                            labels = c("High ratio", "Low ratio")),
         carb_prop = carb &gt; 2,
         carb_prop = factor(carb_prop,
                            levels = c(FALSE, TRUE),
                            labels = c("&amp;le; 2", "&amp;gt; 2")),
         across(c(gear, carb, cyl), factor))

# A simple bare-bone example
mtcars %&gt;%
  getDescriptionStatsBy(`Miles per gallon` = mpg,
                        Weight = wt,
                        `Carborators &amp;le; 2` = carb_prop,
                        by = am) %&gt;%
  htmlTable(caption  = "Basic continuous stats from the mtcars dataset")
invisible(readline(prompt = "Press [enter] to continue"))

# For labeling &amp; units we use set_column_labels/set_column_unit that use
# the Hmisc package annotation functions
mtcars %&lt;&gt;%
  set_column_labels(am = "Transmission",
                    mpg = "Gas",
                    wt = "Weight",
                    gear = "Gears",
                    disp = "Displacement",
                    vs = "Engine type",
                    drat_prop = "Rear axel ratio",
                    carb_prop = "Carburetors") %&gt;%
  set_column_units(mpg = "Miles/(US) gallon",
                   wt = "10&lt;sup&gt;3&lt;/sup&gt; lbs",
                   disp = "cu.in.")

mtcars %&gt;%
  getDescriptionStatsBy(mpg,
                        wt,
                        `Gear&amp;dagger;` = gear,
                        drat_prop,
                        carb_prop,
                        vs,
                        by = am,
                        header_count = TRUE,
                        use_units = TRUE,
                        show_all_values = TRUE)  %&gt;%
  addHtmlTableStyle(pos.caption = "bottom") %&gt;%
  htmlTable(caption  = "Stats from the mtcars dataset",
            tfoot = "&amp;dagger; Number of forward gears")
invisible(readline(prompt = "Press [enter] to continue"))

# Using the default parameter we can
mtcars %&gt;%
  getDescriptionStatsBy(mpg,
                        wt,
                        `Gear&amp;dagger;` = gear,
                        drat_prop,
                        carb_prop,
                        vs,
                        by = am,
                        header_count = TRUE,
                        use_units = TRUE,
                        default_ref = c(drat_prop = "Low ratio",
                                        carb_prop = "&amp;gt; 2"))  %&gt;%
  addHtmlTableStyle(pos.caption = "bottom") %&gt;%
  htmlTable(caption  = "Stats from the mtcars dataset",
            tfoot = "&amp;dagger; Number of forward gears")
invisible(readline(prompt = "Press [enter] to continue"))

# We can also use lists
tll &lt;- list()
tll[["Gear (3 to 5)"]] &lt;- getDescriptionStatsBy(mtcars$gear, mtcars$am)
tll &lt;- c(tll,
         list(getDescriptionStatsBy(mtcars$disp, mtcars$am)))

mergeDesc(tll,
          htmlTable_args = list(caption  = "Factored variables")) %&gt;%
  htmlTable::addHtmlTableStyle(css.rgroup = "")
invisible(readline(prompt = "Press [enter] to continue"))

tl_no_units &lt;- list()
tl_no_units[["Gas (mile/gallons)"]] &lt;-
  getDescriptionStatsBy(mtcars$mpg, mtcars$am,
                        header_count = TRUE)
tl_no_units[["Weight (10&lt;sup&gt;3&lt;/sup&gt; kg)"]] &lt;-
  getDescriptionStatsBy(mtcars$wt, mtcars$am,
                        header_count = TRUE)
mergeDesc(tl_no_units,
          tll) %&gt;%
  htmlTable::addHtmlTableStyle(css.rgroup = "")
invisible(readline(prompt = "Press [enter] to continue"))

# Other settings
mtcars$mpg[sample(1:NROW(mtcars), size = 5)] &lt;- NA
getDescriptionStatsBy(mtcars$mpg,
                      mtcars$am,
                      statistics = TRUE)
invisible(readline(prompt = "Press [enter] to continue"))

# Do the horizontal version
getDescriptionStatsBy(mtcars$gear,
                      mtcars$am,
                      statistics = TRUE,
                      hrzl_prop = TRUE)
invisible(readline(prompt = "Press [enter] to continue"))

mtcars$wt_with_missing &lt;- mtcars$wt
mtcars$wt_with_missing[sample(1:NROW(mtcars), size = 8)] &lt;- NA
getDescriptionStatsBy(mtcars$wt_with_missing, mtcars$am, statistics = TRUE,
                      hrzl_prop = TRUE, total_col_show_perc = FALSE)
invisible(readline(prompt = "Press [enter] to continue"))

## Not run: 
  ## There is also a LaTeX wrapper
  tll &lt;- list(
    getDescriptionStatsBy(mtcars$gear, mtcars$am),
    getDescriptionStatsBy(mtcars$col, mtcars$am))

  latex(mergeDesc(tll),
        caption  = "Factored variables",
        file = "")

## End(Not run)
</code></pre>

<hr>
<h2 id='getGridVal'>Gets grid value</h2><span id='topic+getGridVal'></span>

<h3>Description</h3>

<p>Returns the raw value in units if the provided is of type unit else
it returns the default unit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getGridVal(x, default.units, axisTo = "x")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getGridVal_+3A_x">x</code></td>
<td>
<p>Value</p>
</td></tr>
<tr><td><code id="getGridVal_+3A_default.units">default.units</code></td>
<td>
<p>The unit type</p>
</td></tr>
<tr><td><code id="getGridVal_+3A_axisto">axisTo</code></td>
<td>
<p>The axis that is used, useful for &quot;npc&quot; where
there is a big difference in height and width</p>
</td></tr>
</table>


<h3>Value</h3>

<p>float
</p>

<hr>
<h2 id='getPvalWilcox'>P-value extractors for <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code></h2><span id='topic+getPvalWilcox'></span><span id='topic+getPvalAnova'></span><span id='topic+getPvalFisher'></span><span id='topic+getPvalChiSq'></span><span id='topic+getPvalKruskal'></span>

<h3>Description</h3>

<p>These functions are the base functions for getting the description
p-values. You can provide your own functions but all functions should
take two arguments and return a p-value (numeric, non-formatted)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPvalWilcox(x, by)

getPvalAnova(x, by)

getPvalFisher(x, by)

getPvalChiSq(x, by)

getPvalKruskal(x, by)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getPvalWilcox_+3A_x">x</code></td>
<td>
<p>The main variable of interest</p>
</td></tr>
<tr><td><code id="getPvalWilcox_+3A_by">by</code></td>
<td>
<p>The variable for the stratification</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>numeric</code> Returns the p-value from that particular test
</p>


<h3>getPvalWilcox</h3>

<p>Performs a two-sample two-sided Wilcoxon test (also known as the Mann-Whitney test),
see <code><a href="stats.html#topic+wilcox.test">wilcox.test</a></code>.
</p>


<h3>getPvalAnova</h3>

<p>Performs a standard Analysis of Variance model
through <code><a href="stats.html#topic+anova">anova</a>(<a href="stats.html#topic+lm">lm</a>(x ~ by))</code>
</p>


<h3>getPvalFisher</h3>

<p>Performs Fisher's exact test through the <code><a href="stats.html#topic+fisher.test">fisher.test</a></code>.
</p>


<h3>getPvalChiSq</h3>

<p>Performs a standard Chi-Squares analysis
through <code><a href="stats.html#topic+chisq.test">chisq.test</a></code>
</p>


<h3>getPvalKruskal</h3>

<p>Performs a  Kruskal-Wallis rank sum test
through <code><a href="stats.html#topic+kruskal.test">kruskal.test</a></code>
</p>


<h3>See Also</h3>

<p>Other descriptive functions: 
<code><a href="#topic+describeFactors">describeFactors</a>()</code>,
<code><a href="#topic+describeMean">describeMean</a>()</code>,
<code><a href="#topic+describeMedian">describeMedian</a>()</code>,
<code><a href="#topic+describeProp">describeProp</a>()</code>,
<code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
getPvalFisher(
  sample(letters[1:3], size = 100, replace = TRUE),
  sample(LETTERS[1:3], size = 100, replace = TRUE)
)
getPvalWilcox(
  rnorm(100),
  sample(LETTERS[1:2], size = 100, replace = TRUE)
)
</code></pre>

<hr>
<h2 id='getSvdMostInfluential'>Gets the maximum contributor variables from svd()</h2><span id='topic+getSvdMostInfluential'></span>

<h3>Description</h3>

<p>This function is inspired by Jeff Leeks Data Analysis course where
he suggests that one way to use the <code><a href="base.html#topic+svd">svd</a></code> is to look
at the most influential rows for first columns in the V matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSvdMostInfluential(
  mtrx,
  quantile,
  similarity_threshold,
  plot_selection = TRUE,
  plot_threshold = 0.05,
  varnames = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSvdMostInfluential_+3A_mtrx">mtrx</code></td>
<td>
<p>A matrix or data frame with the variables. Note: if it contains missing
variables make sure to impute prior to this function as the <code><a href="base.html#topic+svd">svd</a></code> can't
handle missing values.</p>
</td></tr>
<tr><td><code id="getSvdMostInfluential_+3A_quantile">quantile</code></td>
<td>
<p>The SVD D-matrix gives an estimate for the amount that is explained.
This parameter is used for selecting the columns that have that quantile
of explanation.</p>
</td></tr>
<tr><td><code id="getSvdMostInfluential_+3A_similarity_threshold">similarity_threshold</code></td>
<td>
<p>A quantile for how close other variables have to be in value to
maximum contributor of that particular column. If you only want the maximum value
then set this value to 1.</p>
</td></tr>
<tr><td><code id="getSvdMostInfluential_+3A_plot_selection">plot_selection</code></td>
<td>
<p>As this is all about variable exploring it is often interesting
to see how the variables were distributed among the vectors</p>
</td></tr>
<tr><td><code id="getSvdMostInfluential_+3A_plot_threshold">plot_threshold</code></td>
<td>
<p>The threshold of the plotted bars, measured as
percent explained by the D-matrix. By default it is set to 0.05.</p>
</td></tr>
<tr><td><code id="getSvdMostInfluential_+3A_varnames">varnames</code></td>
<td>
<p>A vector with alternative names to the colnames</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function expands on that idea and adds the option of choosing
more than just the most contributing variable for each row. For instance
two variables may have a major impact on a certain component where the second
variable has 95
important in that particular component it makes sense to include it
in the selection.
</p>
<p>It is of course useful when you have many continuous variables and you want
to determine a subgroup to look at, i.e. finding the needle in the haystack.
</p>


<h3>Value</h3>

<p>Returns a list with vector with the column numbers
that were picked in the &quot;most_influential&quot; variable and the
svd caluclation in the &quot;svd&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>org_par &lt;- par(ask = TRUE)
set.seed(1345)
# Simulate data with a pattern
dataMatrix &lt;- matrix(rnorm(15 * 160), ncol = 15)
colnames(dataMatrix) &lt;- c(
    paste("Pos.3:", 1:3, sep = " #"),
    paste("Neg.Decr:", 4:6, sep = " #"),
    paste("No pattern:", 7:8, sep = " #"),
    paste("Pos.Incr:", 9:11, sep = " #"),
    paste("No pattern:", 12:15, sep = " #"))

for (i in 1:nrow(dataMatrix)) {
  # flip a coin
  coinFlip1 &lt;- rbinom(1, size = 1, prob = 0.5)
  coinFlip2 &lt;- rbinom(1, size = 1, prob = 0.5)
  coinFlip3 &lt;- rbinom(1, size = 1, prob = 0.5)

  # if coin is heads add a common pattern to that row
  if (coinFlip1) {
    cols &lt;- grep("Pos.3", colnames(dataMatrix))
    dataMatrix[i, cols] &lt;- dataMatrix[i, cols] + 3
  }

  if (coinFlip2) {
    cols &lt;- grep("Neg.Decr", colnames(dataMatrix))
    dataMatrix[i, cols] &lt;- dataMatrix[i, cols] - seq(from = 5, to = 15, length.out = length(cols))
  }

  if (coinFlip3) {
    cols &lt;- grep("Pos.Incr", colnames(dataMatrix))
    dataMatrix[i, cols] &lt;- dataMatrix[i, cols] + seq(from = 3, to = 15, length.out = length(cols))
  }
}

# Illustrate data
heatmap(dataMatrix, Colv = NA, Rowv = NA, margins = c(7, 2), labRow = "")

svd_out &lt;- svd(scale(dataMatrix))

library(lattice)
b_clr &lt;- c("steelblue", "darkred")
key &lt;- simpleKey(
  rectangles = TRUE, space = "top", points = FALSE,
  text = c("Positive", "Negative")
)
key$rectangles$col &lt;- b_clr

b1 &lt;- barchart(as.table(svd_out$v[, 1]),
               main = "First column",
               horizontal = FALSE, col = ifelse(svd_out$v[, 1] &gt; 0,
                                                b_clr[1], b_clr[2]
               ),
               ylab = "Impact value",
               scales = list(x = list(rot = 55, labels = colnames(dataMatrix), cex = 1.1)),
               key = key
)

b2 &lt;- barchart(as.table(svd_out$v[, 2]),
               main = "Second column",
               horizontal = FALSE, col = ifelse(svd_out$v[, 2] &gt; 0,
                                                b_clr[1], b_clr[2]
               ),
               ylab = "Impact value",
               scales = list(x = list(rot = 55, labels = colnames(dataMatrix), cex = 1.1)),
               key = key
)

b3 &lt;- barchart(as.table(svd_out$v[, 3]),
               main = "Third column",
               horizontal = FALSE, col = ifelse(svd_out$v[, 3] &gt; 0,
                                                b_clr[1], b_clr[2]
               ),
               ylab = "Impact value",
               scales = list(x = list(rot = 55, labels = colnames(dataMatrix), cex = 1.1)),
               key = key
)

b4 &lt;- barchart(as.table(svd_out$v[, 4]),
               main = "Fourth column",
               horizontal = FALSE, col = ifelse(svd_out$v[, 4] &gt; 0,
                                                b_clr[1], b_clr[2]
               ),
               ylab = "Impact value",
               scales = list(x = list(rot = 55, labels = colnames(dataMatrix), cex = 1.1)),
               key = key
)

# Note that the fourth has the no pattern columns as the
# chosen pattern, probably partly because of the previous
# patterns already had been identified
print(b1, position = c(0, 0.5, .5, 1), more = TRUE)
print(b2, position = c(0.5, 0.5, 1, 1), more = TRUE)
print(b3, position = c(0, 0, .5, .5), more = TRUE)
print(b4, position = c(0.5, 0, 1, .5))

# Let's look at how well the SVD identifies
# the most influential columns
getSvdMostInfluential(dataMatrix,
                      quantile = .8,
                      similarity_threshold = .9,
                      plot_threshold = .05,
                      plot_selection = TRUE)
par(org_par)
</code></pre>

<hr>
<h2 id='getVectorAngle'>Gets an angle</h2><span id='topic+getVectorAngle'></span>

<h3>Description</h3>

<p>Uses a vector to get an angle by <code><a href="base.html#topic+atan2">atan2</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getVectorAngle(x, y, x_origo = NA, y_origo = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getVectorAngle_+3A_x">x</code></td>
<td>
<p>The x point of the vector</p>
</td></tr>
<tr><td><code id="getVectorAngle_+3A_y">y</code></td>
<td>
<p>The y point of the vector</p>
</td></tr>
<tr><td><code id="getVectorAngle_+3A_x_origo">x_origo</code></td>
<td>
<p>The x origin if other than 0</p>
</td></tr>
<tr><td><code id="getVectorAngle_+3A_y_origo">y_origo</code></td>
<td>
<p>The y origin if other than 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>angle in radians (see <code><a href="base.html#topic+atan2">atan2</a></code>)
</p>

<hr>
<h2 id='Gmisc-deprecated'>Deprecated function(s) in <span class="pkg">Gmisc</span></h2><span id='topic+Gmisc-deprecated'></span><span id='topic+forestplot2'></span>

<h3>Description</h3>

<p>The <code>forestplot2</code> has moved to <span class="pkg">forestplot</span> package and changed name to <code><a href="forestplot.html#topic+forestplot">forestplot</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forestplot2(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Gmisc-deprecated_+3A_...">...</code></td>
<td>
<p>Parameters to be passed to the new version of the function</p>
</td></tr>
</table>

<hr>
<h2 id='gnrlBezierPoints'>Generates a generalized Bézier line</h2><span id='topic+gnrlBezierPoints'></span>

<h3>Description</h3>

<p>This is a general form of bezier line that can be used for cubic, quadratic,
and more advanced Bézier lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gnrlBezierPoints(ctrl_points, length_out = 100L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gnrlBezierPoints_+3A_ctrl_points">ctrl_points</code></td>
<td>
<p>The ctrl_points for the bezier control points. This should
either be a <code>matrix</code> or a <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="gnrlBezierPoints_+3A_length_out">length_out</code></td>
<td>
<p>The length of the return points, i.e. how fine
detailed the points should be.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
l &lt;- gnrlBezierPoints(data.frame(x = c(.1, -.1, .7, 1, 1, 0.1),
                                 y = c(.9, 0, 1, .8, .4, .1)),
                      length_out = 100)
grid.lines(l[,1], l[,2], gp=gpar(col="#550000", lwd = 4))

out_sizes &lt;- 4:20
clrs &lt;- colorRampPalette(c("orange", "darkblue"))(length(out_sizes))
for (i in out_sizes){
   l &lt;- gnrlBezierPoints(data.frame(x = c(.1, -.1, .7, 1, 1, 0.1),
                                    y = c(.9, 0, 1, .8, .4, .1)),
                         length_out = i)
   grid.lines(l[,1], l[,2],
   gp=gpar(col=clrs[which(i == out_sizes)]))
}
</code></pre>

<hr>
<h2 id='has'>An R alternative to the lodash <code>has</code> in JavaScript</h2><span id='topic+has'></span>

<h3>Description</h3>

<p>This is a handy function for checking if item exist in a nested structure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has(sourceList, path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_+3A_sourcelist">sourceList</code></td>
<td>
<p>The <code>list()</code>/<code>c()</code> that is to be searched for the element</p>
</td></tr>
<tr><td><code id="has_+3A_path">path</code></td>
<td>
<p>A string that can be separated by [,] or ., the string <code>"elementname1.1.elementname"</code>
the validity of the path - it only separates and tries to address that element with '[[]]'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a boolean.
</p>


<h3>See Also</h3>

<p>Other lodash similar functions: 
<code><a href="#topic+retrieve">retrieve</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>has(list(a = list(b = 1)), "a.b")

</code></pre>

<hr>
<h2 id='insertRowAndKeepAttr'>Insert a row into a matrix</h2><span id='topic+insertRowAndKeepAttr'></span>

<h3>Description</h3>

<p>Inserts a row and keeps the attributes <code><a href="#topic+copyAllNewAttributes">copyAllNewAttributes</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>insertRowAndKeepAttr(m, r, v = NA, rName = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="insertRowAndKeepAttr_+3A_m">m</code></td>
<td>
<p>matrix</p>
</td></tr>
<tr><td><code id="insertRowAndKeepAttr_+3A_r">r</code></td>
<td>
<p>row number where the new row should be inserted</p>
</td></tr>
<tr><td><code id="insertRowAndKeepAttr_+3A_v">v</code></td>
<td>
<p>optional values for the new row</p>
</td></tr>
<tr><td><code id="insertRowAndKeepAttr_+3A_rname">rName</code></td>
<td>
<p>optional character string: the name of the new row.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>matrix</code> Returns a matrix with one more row than the provided matrix <code>m</code>
</p>


<h3>Author(s)</h3>

<p>Max Gordon, Arne Henningsen
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test &lt;- matrix(1:4, ncol = 2)
attr(test, "wow") &lt;- 1000
test &lt;- insertRowAndKeepAttr(test, 2)
print(attr(test, "wow"))
</code></pre>

<hr>
<h2 id='isHorizontal'>Just a simple help with interpreting the radians</h2><span id='topic+isHorizontal'></span>

<h3>Description</h3>

<p>Just a simple help with interpreting the radians
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isHorizontal(angle_radian)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="isHorizontal_+3A_angle_radian">angle_radian</code></td>
<td>
<p>The angle in radians</p>
</td></tr>
</table>


<h3>Value</h3>

<p>boolean
</p>

<hr>
<h2 id='latex.descMrg'>A wrapper around the <code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code>/<code><a href="Hmisc.html#topic+latex">latex</a></code> function</h2><span id='topic+latex.descMrg'></span><span id='topic+htmlTable.descMrg'></span><span id='topic+print.descMrg'></span><span id='topic+knit_print.descMrg'></span>

<h3>Description</h3>

<p>Calls the <code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code>/<code><a href="Hmisc.html#topic+latex">latex</a></code> after extracting the
<code>rgroup</code>/<code>n.rgroup</code> arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'descMrg'
latex(object, ...)

## S3 method for class 'descMrg'
htmlTable(x, ...)

## S3 method for class 'descMrg'
print(x, ...)

## S3 method for class 'descMrg'
knit_print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="latex.descMrg_+3A_object">object</code></td>
<td>
<p>The <code><a href="#topic+mergeDesc">mergeDesc</a></code> object</p>
</td></tr>
<tr><td><code id="latex.descMrg_+3A_...">...</code></td>
<td>
<p>Passed onto <code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code>/<code><a href="Hmisc.html#topic+latex">latex</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='mergeDesc'>Prepares a matrix for <code>htmlTable</code> from a list</h2><span id='topic+mergeDesc'></span>

<h3>Description</h3>

<p>By putting all the output from the <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>
into a list, naming each element that we want in an <code>rgroup</code> we can
automatically merge everything and create an object ready for the
<code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeDesc(..., htmlTable_args = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeDesc_+3A_...">...</code></td>
<td>
<p>One or more elements coming from <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>.
You can also provide pure output from the <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code> function
and have the function merge this together with the <code>...</code> argument.
<em>Note</em> that all elements must have the same <code>by</code> argument or you
will not be able to merge it into a list.</p>
</td></tr>
<tr><td><code id="mergeDesc_+3A_htmltable_args">htmlTable_args</code></td>
<td>
<p>Any arguments that should be passed to
<code><a href="htmlTable.html#topic+htmlTable">htmlTable</a></code> function. The default is to remove
any css formatting for the <code>rgroup</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>matrix</code> Returns a matrix object of class descList
</p>


<h3>The <code>rgroup</code> value</h3>

<p>The value for the <code>rgroup</code> is by default the name of the list element. If you have
passed a list without a name for that particular element or if you have passed a
matrix it will look for a label set by the <span class="pkg">Hmisc</span><code>::<a href="Hmisc.html#topic+label">label</a></code> function.
For those elements that have only one row no <code>rgroup</code> is set, and the naming sequence
is the same as above but with an additional <code><a href="base.html#topic+colnames">rownames</a></code> if the previous
two turn out empty. All this behavior is exemplified in the example.
</p>
<p>The <code>rgroup</code> value can be overridden by simply specifying a custom <code>rgroup</code> when
calling the <code>htmlTable</code> function.
</p>


<h3>The <code>colnames</code> of the matrix</h3>

<p>The function chooses the <code><a href="base.html#topic+colnames">colnames</a></code> from the first element in
the <code>tlist</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
library(dplyr)
library(htmlTable)

data(mtcars)
mtcars %&lt;&gt;%
  mutate(am = factor(am, levels = 0:1, labels = c("Automatic", "Manual")),
         vs = factor(vs, levels = 0:1, labels = c("V-shaped", "straight")),
         drat_prop = drat &gt; median(drat),
         drat_prop = factor(drat_prop,
                            levels = c(FALSE, TRUE),
                            labels = c("High ratio", "Low ratio")),
         carb_prop = carb &gt; 2,
         carb_prop = factor(carb_prop,
                            levels = c(FALSE, TRUE),
                            labels = c("&amp;le; 2", "&amp;gt; 2")),
         across(c(gear, carb, cyl), factor))

# A simple bare-bone example
mtcars %&gt;%
  getDescriptionStatsBy(`Miles per gallon` = mpg,
                        Weight = wt,
                        `Carborators &amp;le; 2` = carb_prop,
                        by = am) %&gt;%
  htmlTable(caption  = "Basic continuous stats from the mtcars dataset")
invisible(readline(prompt = "Press [enter] to continue"))

# For labeling &amp; units we use set_column_labels/set_column_unit that use
# the Hmisc package annotation functions
mtcars %&lt;&gt;%
  set_column_labels(am = "Transmission",
                    mpg = "Gas",
                    wt = "Weight",
                    gear = "Gears",
                    disp = "Displacement",
                    vs = "Engine type",
                    drat_prop = "Rear axel ratio",
                    carb_prop = "Carburetors") %&gt;%
  set_column_units(mpg = "Miles/(US) gallon",
                   wt = "10&lt;sup&gt;3&lt;/sup&gt; lbs",
                   disp = "cu.in.")

mtcars %&gt;%
  getDescriptionStatsBy(mpg,
                        wt,
                        `Gear&amp;dagger;` = gear,
                        drat_prop,
                        carb_prop,
                        vs,
                        by = am,
                        header_count = TRUE,
                        use_units = TRUE,
                        show_all_values = TRUE)  %&gt;%
  addHtmlTableStyle(pos.caption = "bottom") %&gt;%
  htmlTable(caption  = "Stats from the mtcars dataset",
            tfoot = "&amp;dagger; Number of forward gears")
invisible(readline(prompt = "Press [enter] to continue"))

# Using the default parameter we can
mtcars %&gt;%
  getDescriptionStatsBy(mpg,
                        wt,
                        `Gear&amp;dagger;` = gear,
                        drat_prop,
                        carb_prop,
                        vs,
                        by = am,
                        header_count = TRUE,
                        use_units = TRUE,
                        default_ref = c(drat_prop = "Low ratio",
                                        carb_prop = "&amp;gt; 2"))  %&gt;%
  addHtmlTableStyle(pos.caption = "bottom") %&gt;%
  htmlTable(caption  = "Stats from the mtcars dataset",
            tfoot = "&amp;dagger; Number of forward gears")
invisible(readline(prompt = "Press [enter] to continue"))

# We can also use lists
tll &lt;- list()
tll[["Gear (3 to 5)"]] &lt;- getDescriptionStatsBy(mtcars$gear, mtcars$am)
tll &lt;- c(tll,
         list(getDescriptionStatsBy(mtcars$disp, mtcars$am)))

mergeDesc(tll,
          htmlTable_args = list(caption  = "Factored variables")) %&gt;%
  htmlTable::addHtmlTableStyle(css.rgroup = "")
invisible(readline(prompt = "Press [enter] to continue"))

tl_no_units &lt;- list()
tl_no_units[["Gas (mile/gallons)"]] &lt;-
  getDescriptionStatsBy(mtcars$mpg, mtcars$am,
                        header_count = TRUE)
tl_no_units[["Weight (10&lt;sup&gt;3&lt;/sup&gt; kg)"]] &lt;-
  getDescriptionStatsBy(mtcars$wt, mtcars$am,
                        header_count = TRUE)
mergeDesc(tl_no_units,
          tll) %&gt;%
  htmlTable::addHtmlTableStyle(css.rgroup = "")
invisible(readline(prompt = "Press [enter] to continue"))

# Other settings
mtcars$mpg[sample(1:NROW(mtcars), size = 5)] &lt;- NA
getDescriptionStatsBy(mtcars$mpg,
                      mtcars$am,
                      statistics = TRUE)
invisible(readline(prompt = "Press [enter] to continue"))

# Do the horizontal version
getDescriptionStatsBy(mtcars$gear,
                      mtcars$am,
                      statistics = TRUE,
                      hrzl_prop = TRUE)
invisible(readline(prompt = "Press [enter] to continue"))

mtcars$wt_with_missing &lt;- mtcars$wt
mtcars$wt_with_missing[sample(1:NROW(mtcars), size = 8)] &lt;- NA
getDescriptionStatsBy(mtcars$wt_with_missing, mtcars$am, statistics = TRUE,
                      hrzl_prop = TRUE, total_col_show_perc = FALSE)
invisible(readline(prompt = "Press [enter] to continue"))

## Not run: 
  ## There is also a LaTeX wrapper
  tll &lt;- list(
    getDescriptionStatsBy(mtcars$gear, mtcars$am),
    getDescriptionStatsBy(mtcars$col, mtcars$am))

  latex(mergeDesc(tll),
        caption  = "Factored variables",
        file = "")

## End(Not run)
</code></pre>

<hr>
<h2 id='mergeLists'>Merging of multiple lists</h2><span id='topic+mergeLists'></span>

<h3>Description</h3>

<p>The merge allows for a recursive component
where the lists are compared on the subelement.
If one does not contain that element it will get NA
in for those parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeLists(
  ...,
  lapplyOutput = NULL,
  sortNames = getOption("Gmisc.mergeList.sort", default = TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeLists_+3A_...">...</code></td>
<td>
<p>Any number of lists that you want to merge</p>
</td></tr>
<tr><td><code id="mergeLists_+3A_lapplyoutput">lapplyOutput</code></td>
<td>
<p>The <code><a href="base.html#topic+lapply">lapply</a></code> function outputs a number
of lists and this is for specifically merging all of those.</p>
</td></tr>
<tr><td><code id="mergeLists_+3A_sortnames">sortNames</code></td>
<td>
<p>Set to false if you don't want the names to be sorted.
This can also be done via the option 'Gmisc.mergeList.sort'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with all the given lists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>v1 &lt;- list("a" = c(1, 2), b = "test 1", sublist = list(one = 20:21, two = 21:22))
v2 &lt;- list("a" = c(3, 4), b = "test 2", sublist = list(one = 10:11, two = 11:12, three = 1:2))
mergeLists(v1, v2)
</code></pre>

<hr>
<h2 id='mergeLists_internal'>A helper function for mergeLists that does the actual work.</h2><span id='topic+mergeLists_internal'></span>

<h3>Description</h3>

<p>A helper function for mergeLists that does the actual work.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeLists_internal(o_element, n_element)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeLists_internal_+3A_o_element">o_element</code></td>
<td>
<p>Old element</p>
</td></tr>
<tr><td><code id="mergeLists_internal_+3A_n_element">n_element</code></td>
<td>
<p>New element to add to the old element</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with the two merged
</p>

<hr>
<h2 id='moveBox'>Move a boxGrob</h2><span id='topic+moveBox'></span>

<h3>Description</h3>

<p>Moves a <code><a href="#topic+boxGrob">boxGrob</a></code>/<code><a href="#topic+boxPropGrob">boxPropGrob</a></code> by modifying it's <code><a href="grid.html#topic+viewport">viewport</a></code>.
This can be useful if you want to create a series of boxes whose position are relative
to each other and depend on each box's width/height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>moveBox(
  element,
  x = NULL,
  y = NULL,
  space = c("absolute", "relative"),
  just = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="moveBox_+3A_element">element</code></td>
<td>
<p>A <code><a href="#topic+boxGrob">boxGrob</a></code>/<code><a href="#topic+boxPropGrob">boxPropGrob</a></code> object.</p>
</td></tr>
<tr><td><code id="moveBox_+3A_x">x</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> element or a numeric that can be converted to a <code>npc</code> unit object.</p>
</td></tr>
<tr><td><code id="moveBox_+3A_y">y</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> element or a numeric that can be converted to a <code>npc</code> unit object.</p>
</td></tr>
<tr><td><code id="moveBox_+3A_space">space</code></td>
<td>
<p>We can provide <code>absolute</code> that confers the box absolute position within the parent
<code><a href="grid.html#topic+viewport">viewport</a></code>. If <code>relative</code> the movement is related to the current position.</p>
</td></tr>
<tr><td><code id="moveBox_+3A_just">just</code></td>
<td>
<p>The justification of an argument as used by <code><a href="grid.html#topic+viewport">viewport</a></code> some tiny differences:
(1) you only want to change the justification in the vertical direction you can retain the
existing justification by using <code>NA</code>, e.g. <code>c(NA, 'top')</code>, (2) if you specify only one string
and that string is either <code>top</code> or <code>bottom</code> it will assume vertical justification.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The element with updated
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+spread">spread</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()

box &lt;- boxGrob("A simple box", x = .5, y = .8)
moveBox(box, x = -.2, space = "relative")
</code></pre>

<hr>
<h2 id='pathJoin'>A path join function</h2><span id='topic+pathJoin'></span>

<h3>Description</h3>

<p>This function joins strings into a valid path. It is a simple version of python's
<code>os.path.join</code> and fixes simple problems such as having/not having trailing /
in each section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pathJoin(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pathJoin_+3A_...">...</code></td>
<td>
<p>A set of strings to join. Each may be a single string or a vector.
If you provide vectors they can either be all of the same length
or where there are two lengths where one is equal to 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>string</code> A string with the merged path
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pathJoin("my_base_path/helpers", "superfunction.R")
# 'my_base_path/helpers/superfunction.R'

base_dir &lt;- "/home/tester/images"
out &lt;- data.frame(filename = c("file1.png", "file2.png", "file3.png")) |&gt;
  dplyr::mutate(full_path = pathJoin(base_dir, filename))

</code></pre>

<hr>
<h2 id='prAddDescStats'>Add a p-value column to the results</h2><span id='topic+prAddDescStats'></span>

<h3>Description</h3>

<p>Add a p-value column to the results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prAddDescStats(
  results,
  x,
  by,
  statistics,
  statistics.suppress_warnings,
  statistics.sig_lim,
  statistics.two_dec_lim,
  html
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prAddDescStats_+3A_results">results</code></td>
<td>
<p>The results that we want to add the column to</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_statistics">statistics</code></td>
<td>
<p>Add statistics, fisher test for proportions and Wilcoxon
for continuous variables. See details below for more customization.</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_statistics.suppress_warnings">statistics.suppress_warnings</code></td>
<td>
<p>Hide warnings from the statistics function.</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_statistics.sig_lim">statistics.sig_lim</code></td>
<td>
<p>The significance limit for &lt; sign, i.e. p-value 0.0000312
should be &lt; 0.0001 with the default setting.</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_statistics.two_dec_lim">statistics.two_dec_lim</code></td>
<td>
<p>The limit for showing two decimals. E.g.
the p-value may be 0.056 and we may want to keep the two decimals in order
to emphasize the proximity to the all-mighty 0.05 p-value and set this to
<code class="reqn">10^-2</code>. This allows that a value of 0.0056 is rounded to 0.006 and this
makes intuitive sense as the 0.0056 level as this is well below
the 0.05 value and thus not as interesting to know the exact proximity to
0.05. <em>Disclaimer:</em> The 0.05-limit is really silly and debated, unfortunately
it remains a standard and this package tries to adapt to the current standards in order
to limit publication associated issues.</p>
</td></tr>
<tr><td><code id="prAddDescStats_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results with added column
</p>

<hr>
<h2 id='prAddDescUnitColumn'>Add a units column to the results</h2><span id='topic+prAddDescUnitColumn'></span>

<h3>Description</h3>

<p>Add a units column to the results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prAddDescUnitColumn(results, x, use_units, units_column_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prAddDescUnitColumn_+3A_results">results</code></td>
<td>
<p>The results that we want to add the column to</p>
</td></tr>
<tr><td><code id="prAddDescUnitColumn_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prAddDescUnitColumn_+3A_use_units">use_units</code></td>
<td>
<p>If the Hmisc package's units() function has been employed
it may be interesting to have a column at the far right that indicates the
unit measurement. If this column is specified then the total column will
appear before the units (if specified as last). You can also set the value to
<code>"name"</code> and the units will be added to the name as a parenthesis,
e.g. Age (years).</p>
</td></tr>
<tr><td><code id="prAddDescUnitColumn_+3A_units_column_name">units_column_name</code></td>
<td>
<p>The name of the units column. Used if use_units = TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results with added column
</p>

<hr>
<h2 id='prAddEmptyVals'>Convert the by-list into a matrix compatible format</h2><span id='topic+prAddEmptyVals'></span>

<h3>Description</h3>

<p>Helper for [getDescriptionStatsBy] that fixes empty values in matrix
so that they are compatible with the matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prAddEmptyVals(t, missing_value)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prAddEmptyVals_+3A_t">t</code></td>
<td>
<p>Output from [prNumericDescs], [prPropDescs], or [prFactorDescs].</p>
</td></tr>
<tr><td><code id="prAddEmptyVals_+3A_missing_value">missing_value</code></td>
<td>
<p>Value that is substituted for empty cells. Defaults to &quot;-&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A fixed list
</p>

<hr>
<h2 id='prAddTotalDescColumn'>Add a total column to the results</h2><span id='topic+prAddTotalDescColumn'></span>

<h3>Description</h3>

<p>Add a total column to the results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prAddTotalDescColumn(
  results,
  x,
  by,
  numbers_first,
  total_col_show_perc,
  show_all_values,
  useNA,
  useNA.digits,
  html,
  digits,
  continuous_fn,
  factor_fn,
  prop_fn,
  percentage_sign,
  default_ref,
  header_count = NULL,
  add_total_col
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prAddTotalDescColumn_+3A_results">results</code></td>
<td>
<p>The results that we want to add the column to</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_numbers_first">numbers_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_total_col_show_perc">total_col_show_perc</code></td>
<td>
<p>This is by default true but if
requested the percentages are suppressed as this sometimes may be confusing.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_show_all_values">show_all_values</code></td>
<td>
<p>Show all values in proportions. For factors with only two values
it is most sane to only show one option as the other one will just be a complement
to the first, i.e. we want to convey a proportion. For instance sex - if you know
gender then automatically you know the distribution of the other sex as it's 100 % - other %.
To choose which one you want to show then set the <code>default_ref</code> parameter.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_continuous_fn">continuous_fn</code></td>
<td>
<p>The method to describe continuous variables. The
default is <code><a href="#topic+describeMean">describeMean</a></code>.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_factor_fn">factor_fn</code></td>
<td>
<p>The method used to describe factors, see <code><a href="#topic+describeFactors">describeFactors</a></code>.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_prop_fn">prop_fn</code></td>
<td>
<p>The method used to describe proportions, see <code><a href="#topic+describeProp">describeProp</a></code>.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_default_ref">default_ref</code></td>
<td>
<p>The default reference when dealing with proportions. When using
'dplyr' syntax ('tidyselect') you can specify a named vector/list for each column name.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_header_count">header_count</code></td>
<td>
<p>Set to <code>TRUE</code> if you want to add a header count,
e.g. Smoking; No. 25 observations, where there is a new line after the
factor name. If you want a different text for the second line you can
specifically use the <code><a href="base.html#topic+sprintf">sprintf</a></code> formatting, e.g. &quot;No. %s patients&quot;.</p>
</td></tr>
<tr><td><code id="prAddTotalDescColumn_+3A_add_total_col">add_total_col</code></td>
<td>
<p>This adds a total column to the resulting table.
You can also specify if you want the total column &quot;first&quot; or &quot;last&quot;
in the column order.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results with added column
</p>

<hr>
<h2 id='prBuildSubLabel'>Add a sub-label to <code>boxPropGrob</code></h2><span id='topic+prBuildSubLabel'></span>

<h3>Description</h3>

<p>Add a sub-label to <code>boxPropGrob</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prBuildSubLabel(label, prop, txt_gp, side = c("left", "right"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prBuildSubLabel_+3A_label">label</code></td>
<td>
<p>The text of the label</p>
</td></tr>
<tr><td><code id="prBuildSubLabel_+3A_prop">prop</code></td>
<td>
<p>The proportion</p>
</td></tr>
<tr><td><code id="prBuildSubLabel_+3A_txt_gp">txt_gp</code></td>
<td>
<p>The style as defined by <code><a href="grid.html#topic+gpar">gpar</a>()</code></p>
</td></tr>
<tr><td><code id="prBuildSubLabel_+3A_side">side</code></td>
<td>
<p>The side that the label belongs to</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>textGrob</code> with he additional attributes <code>width</code> and <code>height</code>.
</p>

<hr>
<h2 id='prCaptionFix'>Fixes the caption for elements without caption</h2><span id='topic+prCaptionFix'></span>

<h3>Description</h3>

<p>Fixes the caption for elements without caption
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prCaptionFix(outFile)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prCaptionFix_+3A_outfile">outFile</code></td>
<td>
<p>The name of the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>outFile The name of the file
</p>

<hr>
<h2 id='prConvert2Coords'>Converts an object to coordinates</h2><span id='topic+prConvert2Coords'></span>

<h3>Description</h3>

<p>Sometimes we have an object that can be either a box,
a coprdinate, a unit or a numerical value and all we
want is a <code>list</code> of coordinates that we can use for
calculating distance, alignment and other things.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prConvert2Coords(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prConvert2Coords_+3A_obj">obj</code></td>
<td>
<p>A <code><a href="#topic+boxGrob">boxGrob</a></code>, <code><a href="#topic+boxPropGrob">boxPropGrob</a></code>, <code><a href="#topic+coords">coords</a></code> output, <code><a href="grid.html#topic+unit">unit</a></code> or a number ranging to
be converted to a <code>npc</code> <code><a href="grid.html#topic+unit">unit</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> with all the points that <code><a href="#topic+coords">coords</a></code> returns
</p>

<hr>
<h2 id='prCreateBoxCoordinates'>Creates coordinates for box</h2><span id='topic+prCreateBoxCoordinates'></span>

<h3>Description</h3>

<p>Creates coordinates for box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prCreateBoxCoordinates(viewport_data, extra_coordinate_functions = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prCreateBoxCoordinates_+3A_viewport_data">viewport_data</code></td>
<td>
<p>The arguments that will be used for generating the <code>viewport</code></p>
</td></tr>
<tr><td><code id="prCreateBoxCoordinates_+3A_extra_coordinate_functions">extra_coordinate_functions</code></td>
<td>
<p>A list with named functions if we want additional
parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of class <code>coords</code>
</p>

<hr>
<h2 id='prDescGetAndValidateDefaultRef'>A helper function for the description stats</h2><span id='topic+prDescGetAndValidateDefaultRef'></span>

<h3>Description</h3>

<p>A helper function for the description stats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prDescGetAndValidateDefaultRef(x, default_ref)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prDescGetAndValidateDefaultRef_+3A_x">x</code></td>
<td>
<p>The variable of interest with the levels</p>
</td></tr>
<tr><td><code id="prDescGetAndValidateDefaultRef_+3A_default_ref">default_ref</code></td>
<td>
<p>The default reference, either first,
the level name or a number within the levels. If left out
it defaults to the first value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>integer</code> The level number of interest
</p>

<hr>
<h2 id='prFactorDescs'>Helper to [getDescriptionStatsBy()]</h2><span id='topic+prFactorDescs'></span>

<h3>Description</h3>

<p>Helper to [getDescriptionStatsBy()]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFactorDescs(
  x,
  by,
  factor_fn,
  hrzl_prop,
  html,
  digits,
  digits.nonzero,
  numbers_first,
  useNA,
  useNA.digits,
  percentage_sign,
  missing_value,
  names_of_missing
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFactorDescs_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_factor_fn">factor_fn</code></td>
<td>
<p>The method used to describe factors, see <code><a href="#topic+describeFactors">describeFactors</a></code>.</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_hrzl_prop">hrzl_prop</code></td>
<td>
<p>This is default FALSE and indicates
that the proportions are to be interpreted in a vertical manner.
If we want the data to be horizontal, i.e. the total should be shown
and then how these differ in the different groups then set this to TRUE.</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_numbers_first">numbers_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable.</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_missing_value">missing_value</code></td>
<td>
<p>Value that is substituted for empty cells. Defaults to &quot;-&quot;</p>
</td></tr>
<tr><td><code id="prFactorDescs_+3A_names_of_missing">names_of_missing</code></td>
<td>
<p>Optional character vector containing the names of returned statistics,
in case all returned values for a given <code>by</code> level are missing. Defaults to NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A [base::by] list
</p>

<hr>
<h2 id='prFixDescRownames'>Fix rownames for descriptive results</h2><span id='topic+prFixDescRownames'></span>

<h3>Description</h3>

<p>Helper for [getDescriptionStatsBy] that fixes row names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFixDescRownames(results, t, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFixDescRownames_+3A_results">results</code></td>
<td>
<p>A matrix with the results</p>
</td></tr>
<tr><td><code id="prFixDescRownames_+3A_t">t</code></td>
<td>
<p>The [base::by()] output</p>
</td></tr>
<tr><td><code id="prFixDescRownames_+3A_name">name</code></td>
<td>
<p>Name if row names are missing or the results is a single row</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results with fixed names
</p>

<hr>
<h2 id='prFtpHeaderStyle'>Helper to ftp_document</h2><span id='topic+prFtpHeaderStyle'></span>

<h3>Description</h3>

<p>Helper to ftp_document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFtpHeaderStyle(output_str, h1_style, other_h_style)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFtpHeaderStyle_+3A_output_str">output_str</code></td>
<td>
<p>The output string from readLines()</p>
</td></tr>
<tr><td><code id="prFtpHeaderStyle_+3A_h1_style">h1_style</code></td>
<td>
<p>You can choose any css style formatting here that you
want to be applied to all h1 elements. Note: this is only applied
if LibreOffice_adapt is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="prFtpHeaderStyle_+3A_other_h_style">other_h_style</code></td>
<td>
<p>This is the formatting applied to any other
h elements not included to the first. Note: this is only applied
if LibreOffice_adapt is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>string
</p>

<hr>
<h2 id='prFtpOtherChanges'>Changes lines for XML-conformity</h2><span id='topic+prFtpOtherChanges'></span>

<h3>Description</h3>

<p>Changes lines for XML-conformity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFtpOtherChanges(output_str)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFtpOtherChanges_+3A_output_str">output_str</code></td>
<td>
<p>The input from readLines()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>string Returns with changes
</p>

<hr>
<h2 id='prFtpOtherRemoval'>Removes other unwanted lines</h2><span id='topic+prFtpOtherRemoval'></span>

<h3>Description</h3>

<p>Removes other unwanted lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFtpOtherRemoval(output_str)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFtpOtherRemoval_+3A_output_str">output_str</code></td>
<td>
<p>The input from readLines()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>string Returns without the unwanted lines
</p>

<hr>
<h2 id='prFtpScriptRemoval'>Removes the &lt;script&gt;*&lt;/scrip&gt;</h2><span id='topic+prFtpScriptRemoval'></span>

<h3>Description</h3>

<p>Removes the &lt;script&gt;*&lt;/scrip&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFtpScriptRemoval(output_str)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFtpScriptRemoval_+3A_output_str">output_str</code></td>
<td>
<p>The input from readLines()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>string Returns without the script elements
</p>

<hr>
<h2 id='prGetDescHeader'>Retrieve basic description stats by header</h2><span id='topic+prGetDescHeader'></span>

<h3>Description</h3>

<p>Helper for [getDescriptionStatsBy] that retrieves the basic
header names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGetDescHeader(by, html, header_count, already_table_format = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGetDescHeader_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="prGetDescHeader_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="prGetDescHeader_+3A_header_count">header_count</code></td>
<td>
<p>Set to <code>TRUE</code> if you want to add a header count,
e.g. Smoking; No. 25 observations, where there is a new line after the
factor name. If you want a different text for the second line you can
specifically use the <code><a href="base.html#topic+sprintf">sprintf</a></code> formatting, e.g. &quot;No. %s patients&quot;.</p>
</td></tr>
<tr><td><code id="prGetDescHeader_+3A_already_table_format">already_table_format</code></td>
<td>
<p>Just a boolean as we use this in the total column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with basic headers
</p>

<hr>
<h2 id='prGetStatistics'>Get statistics according to the type</h2><span id='topic+prGetStatistics'></span>

<h3>Description</h3>

<p>A simple function applied by the <code><a href="#topic+getDescriptionStatsBy">getDescriptionStatsBy</a></code>
for the total column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGetStatistics(
  x,
  show_perc = FALSE,
  html = TRUE,
  digits = 1,
  digits.nonzero = NA,
  numbers_first = TRUE,
  useNA = c("ifany", "no", "always"),
  useNA.digits = digits,
  show_all_values = FALSE,
  continuous_fn = describeMean,
  factor_fn = describeFactors,
  prop_fn = factor_fn,
  percentage_sign = TRUE,
  default_ref = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGetStatistics_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_numbers_first">numbers_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_show_all_values">show_all_values</code></td>
<td>
<p>Show all values in proportions. For factors with only two values
it is most sane to only show one option as the other one will just be a complement
to the first, i.e. we want to convey a proportion. For instance sex - if you know
gender then automatically you know the distribution of the other sex as it's 100 % - other %.
To choose which one you want to show then set the <code>default_ref</code> parameter.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_continuous_fn">continuous_fn</code></td>
<td>
<p>The method to describe continuous variables. The
default is <code><a href="#topic+describeMean">describeMean</a></code>.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_factor_fn">factor_fn</code></td>
<td>
<p>The method used to describe factors, see <code><a href="#topic+describeFactors">describeFactors</a></code>.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_prop_fn">prop_fn</code></td>
<td>
<p>The method used to describe proportions, see <code><a href="#topic+describeProp">describeProp</a></code>.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable.</p>
</td></tr>
<tr><td><code id="prGetStatistics_+3A_default_ref">default_ref</code></td>
<td>
<p>The default reference when dealing with proportions. When using
'dplyr' syntax ('tidyselect') you can specify a named vector/list for each column name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix or a vector depending on the settings
</p>

<hr>
<h2 id='prGetTextGrobCex'>Just a simple acces to the gp$cex parameter</h2><span id='topic+prGetTextGrobCex'></span>

<h3>Description</h3>

<p>Just a simple acces to the gp$cex parameter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGetTextGrobCex(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGetTextGrobCex_+3A_x">x</code></td>
<td>
<p>The text-grob of interest</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>numeric</code> The cex value, 1 if no cex was present
</p>

<hr>
<h2 id='prGridPlotTitle'>Adds a title to the plot</h2><span id='topic+prGridPlotTitle'></span>

<h3>Description</h3>

<p>Adds the title and generates a new
main viewport below the title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGridPlotTitle(
  title,
  base_cex,
  cex_mult = 1.2,
  fontface = "bold",
  space_below = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGridPlotTitle_+3A_title">title</code></td>
<td>
<p>The title as accepted by <code><a href="grid.html#topic+grid.text">textGrob</a></code></p>
</td></tr>
<tr><td><code id="prGridPlotTitle_+3A_base_cex">base_cex</code></td>
<td>
<p>The base cex used for the plot</p>
</td></tr>
<tr><td><code id="prGridPlotTitle_+3A_cex_mult">cex_mult</code></td>
<td>
<p>The multiplier of the base - i.e. the increase of the
text size for the title as compared to the general</p>
</td></tr>
<tr><td><code id="prGridPlotTitle_+3A_fontface">fontface</code></td>
<td>
<p>The type of fontface</p>
</td></tr>
<tr><td><code id="prGridPlotTitle_+3A_space_below">space_below</code></td>
<td>
<p>The space below, defaults to 1/5 of the title height</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> The function does not return a value
</p>

<hr>
<h2 id='print.Gmisc_list_of_boxes'>Output boxes</h2><span id='topic+print.Gmisc_list_of_boxes'></span>

<h3>Description</h3>

<p>Outputs a list of boxes as produced by either the
spread or align functions for boxGrobs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Gmisc_list_of_boxes'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.Gmisc_list_of_boxes_+3A_x">x</code></td>
<td>
<p>A list of a set of ['boxGrob']/['boxPropGrob'] to plot</p>
</td></tr>
<tr><td><code id="print.Gmisc_list_of_boxes_+3A_...">...</code></td>
<td>
<p>Ignored argument</p>
</td></tr>
</table>

<hr>
<h2 id='prNumericDescs'>Helper to [getDescriptionStatsBy()]</h2><span id='topic+prNumericDescs'></span>

<h3>Description</h3>

<p>Helper to [getDescriptionStatsBy()]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prNumericDescs(
  x,
  by,
  hrzl_prop,
  continuous_fn,
  html,
  digits,
  digits.nonzero,
  numbers_first,
  useNA,
  useNA.digits,
  percentage_sign,
  missing_value,
  names_of_missing
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prNumericDescs_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_hrzl_prop">hrzl_prop</code></td>
<td>
<p>This is default FALSE and indicates
that the proportions are to be interpreted in a vertical manner.
If we want the data to be horizontal, i.e. the total should be shown
and then how these differ in the different groups then set this to TRUE.</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_continuous_fn">continuous_fn</code></td>
<td>
<p>The method to describe continuous variables. The
default is <code><a href="#topic+describeMean">describeMean</a></code>.</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_numbers_first">numbers_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable.</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_missing_value">missing_value</code></td>
<td>
<p>Value that is substituted for empty cells. Defaults to &quot;-&quot;</p>
</td></tr>
<tr><td><code id="prNumericDescs_+3A_names_of_missing">names_of_missing</code></td>
<td>
<p>Optional character vector containing the names of returned statistics,
in case all returned values for a given <code>by</code> level are missing. Defaults to NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A [base::by] list
</p>

<hr>
<h2 id='prPasteVec'>Collapses a vector for throwing errors</h2><span id='topic+prPasteVec'></span>

<h3>Description</h3>

<p>The function collapses a vector into an output useful when throwing
errors, e.g. 1:3 becomes '1', '2', '3'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prPasteVec(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prPasteVec_+3A_x">x</code></td>
<td>
<p>The vector</p>
</td></tr>
</table>

<hr>
<h2 id='prPropDescs'>Helper to [getDescriptionStatsBy()]</h2><span id='topic+prPropDescs'></span>

<h3>Description</h3>

<p>Helper to [getDescriptionStatsBy()]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prPropDescs(
  x,
  by,
  name,
  default_ref,
  prop_fn,
  html,
  digits,
  digits.nonzero,
  numbers_first,
  useNA,
  useNA.digits,
  percentage_sign,
  missing_value,
  names_of_missing,
  NEJMstyle
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prPropDescs_+3A_x">x</code></td>
<td>
<p>If a data.frame it will be used as the data source for the variables in the <code>...</code> parameter.
If it is a single variable it will be the core value that want the statistics for.
In the print this is equivalent to the output of this function.</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_by">by</code></td>
<td>
<p>The variable that you want to split into different columns</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_name">name</code></td>
<td>
<p>The name of the row</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_default_ref">default_ref</code></td>
<td>
<p>The default reference when dealing with proportions. When using
'dplyr' syntax ('tidyselect') you can specify a named vector/list for each column name.</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_prop_fn">prop_fn</code></td>
<td>
<p>The method used to describe proportions, see <code><a href="#topic+describeProp">describeProp</a></code>.</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_html">html</code></td>
<td>
<p>If HTML compatible output should be used. If <code>FALSE</code>
it outputs LaTeX formatting</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_digits">digits</code></td>
<td>
<p>The number of decimals used</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_digits.nonzero">digits.nonzero</code></td>
<td>
<p>The number of decimals used for values that are close to zero</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_numbers_first">numbers_first</code></td>
<td>
<p>If the number should be given or if the percentage
should be presented first. The second is encapsulated in parentheses ().</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_usena">useNA</code></td>
<td>
<p>This indicates if missing should be added as a separate
row below all other. See <code><a href="base.html#topic+table">table</a></code> for <code>useNA</code>-options.
<em>Note:</em> defaults to ifany and not &quot;no&quot; as <code><a href="base.html#topic+table">table</a></code> does.</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_usena.digits">useNA.digits</code></td>
<td>
<p>The number of digits to use for the
missing percentage, defaults to the overall <code>digits</code>.</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_percentage_sign">percentage_sign</code></td>
<td>
<p>If you want to suppress the percentage sign you
can set this variable to FALSE. You can also choose something else that
the default % if you so wish by setting this variable.</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_missing_value">missing_value</code></td>
<td>
<p>Value that is substituted for empty cells. Defaults to &quot;-&quot;</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_names_of_missing">names_of_missing</code></td>
<td>
<p>Optional character vector containing the names of returned statistics,
in case all returned values for a given <code>by</code> level are missing. Defaults to NULL</p>
</td></tr>
<tr><td><code id="prPropDescs_+3A_nejmstyle">NEJMstyle</code></td>
<td>
<p>Adds - no (%) at the end to proportions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A [base::by] list
</p>

<hr>
<h2 id='prPushMarginViewport'>Pushes viewport with margins</h2><span id='topic+prPushMarginViewport'></span>

<h3>Description</h3>

<p>A <code><a href="grid.html#topic+grid.layout">grid.layout</a></code> object is used to
generate the margins. A second viewport selecting the
mid-row/col is used to create the effect of margins
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prPushMarginViewport(bottom, left, top, right, name = "margin")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prPushMarginViewport_+3A_bottom">bottom</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object,
or a vector of 4 if you want the same margins allover.</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_left">left</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object.</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_top">top</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_right">right</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_name">name</code></td>
<td>
<p>The name of the last viewport</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>2</code> - the number of pushed viewports
</p>

<hr>
<h2 id='prSetMaxWidth'>Updates the css max-width</h2><span id='topic+prSetMaxWidth'></span>

<h3>Description</h3>

<p>Reads the file, changes the max-width
for the body element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prSetMaxWidth(max_width, css_file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prSetMaxWidth_+3A_max_width">max_width</code></td>
<td>
<p>The new max-width css setting</p>
</td></tr>
<tr><td><code id="prSetMaxWidth_+3A_css_file">css_file</code></td>
<td>
<p>The CSS file name</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>string</code> The file name
</p>

<hr>
<h2 id='prTcMatchClr'>Finds the matching colors for the new addition based on the original set
of colors</h2><span id='topic+prTcMatchClr'></span>

<h3>Description</h3>

<p>Finds the matching colors for the new addition based on the original set
of colors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTcMatchClr(add, org, no_cols, no_rows, is3D)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTcMatchClr_+3A_add">add</code></td>
<td>
<p>The colors that we want to add</p>
</td></tr>
<tr><td><code id="prTcMatchClr_+3A_org">org</code></td>
<td>
<p>The original colors</p>
</td></tr>
<tr><td><code id="prTcMatchClr_+3A_no_cols">no_cols</code></td>
<td>
<p>The no. of columns in the transition matrix</p>
</td></tr>
<tr><td><code id="prTcMatchClr_+3A_no_rows">no_rows</code></td>
<td>
<p>All the row counts in the transition plot</p>
</td></tr>
<tr><td><code id="prTcMatchClr_+3A_is3d">is3D</code></td>
<td>
<p>Whether the transition matrix has 3 dimensions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with colors that is appropriate for the transition object
</p>

<hr>
<h2 id='prTcPlotArrows'>Plots the arrows within a single transition set</h2><span id='topic+prTcPlotArrows'></span>

<h3>Description</h3>

<p>Plots the arrows within a single transition set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTcPlotArrows(
  trnstn_set,
  widths,
  type = c("simple", "gradient"),
  clr,
  rez,
  origin_boxes,
  target_boxes,
  left_box_clrs,
  add_width,
  max_flow,
  min_width,
  max_width,
  abs_arrow_width = FALSE,
  clr_bar_subspace
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTcPlotArrows_+3A_trnstn_set">trnstn_set</code></td>
<td>
<p>The set of transitions to plot</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_widths">widths</code></td>
<td>
<p>The arrow widths</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_type">type</code></td>
<td>
<p>The type of arrow to be used</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_clr">clr</code></td>
<td>
<p>The arrow colors (a matrix)</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_rez">rez</code></td>
<td>
<p>The arrow resolution</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_origin_boxes">origin_boxes</code></td>
<td>
<p>The origin boxes' positions to the left</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_target_boxes">target_boxes</code></td>
<td>
<p>The target boxes' positions to the right</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_left_box_clrs">left_box_clrs</code></td>
<td>
<p>The colors of the left side boxes</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_add_width">add_width</code></td>
<td>
<p>Adds a certain width - useful for background arrows</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_max_flow">max_flow</code></td>
<td>
<p>The maximum flow if it is common for the entire image</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_min_width">min_width</code></td>
<td>
<p>The minimum line width</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_max_width">max_width</code></td>
<td>
<p>The maximum line width</p>
</td></tr>
<tr><td><code id="prTcPlotArrows_+3A_abs_arrow_width">abs_arrow_width</code></td>
<td>
<p>If the arrow width should be the same for all arrows</p>
</td></tr>
</table>

<hr>
<h2 id='prTcPlotBoxColumn'>Plots a column of boxes</h2><span id='topic+prTcPlotBoxColumn'></span>

<h3>Description</h3>

<p>Takes a set of box settings and plots them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTcPlotBoxColumn(
  box_positions,
  proportions,
  fill,
  txt,
  txt_clr,
  txt_gpar,
  cex
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTcPlotBoxColumn_+3A_box_positions">box_positions</code></td>
<td>
<p>The box positions</p>
</td></tr>
<tr><td><code id="prTcPlotBoxColumn_+3A_proportions">proportions</code></td>
<td>
<p>The box vertical proportions (needed for the prop attribute)</p>
</td></tr>
<tr><td><code id="prTcPlotBoxColumn_+3A_fill">fill</code></td>
<td>
<p>The fill colors of length equal to the proportions</p>
</td></tr>
<tr><td><code id="prTcPlotBoxColumn_+3A_txt">txt</code></td>
<td>
<p>The texts of length equal to the proportions</p>
</td></tr>
<tr><td><code id="prTcPlotBoxColumn_+3A_txt_clr">txt_clr</code></td>
<td>
<p>The text colors of length equal to the proportions</p>
</td></tr>
<tr><td><code id="prTcPlotBoxColumn_+3A_txt_gpar">txt_gpar</code></td>
<td>
<p>A list of gpar object for the text box</p>
</td></tr>
<tr><td><code id="prTcPlotBoxColumn_+3A_cex">cex</code></td>
<td>
<p>The fontsize multiplier</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='prTcValidateAndPrepClr'>Checks and prepares colors</h2><span id='topic+prTcValidateAndPrepClr'></span>

<h3>Description</h3>

<p>The colors need to match the size of the transition matrix
and therefore we need to have this input check. The output is
always a matrix of the exact same dimensions as the transition
matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTcValidateAndPrepClr(value, no_cols, no_rows, is3D)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTcValidateAndPrepClr_+3A_value">value</code></td>
<td>
<p>The color values</p>
</td></tr>
<tr><td><code id="prTcValidateAndPrepClr_+3A_no_cols">no_cols</code></td>
<td>
<p>The no. of columns in the transition matrix</p>
</td></tr>
<tr><td><code id="prTcValidateAndPrepClr_+3A_no_rows">no_rows</code></td>
<td>
<p>All the row counts in the transition plot</p>
</td></tr>
<tr><td><code id="prTcValidateAndPrepClr_+3A_is3d">is3D</code></td>
<td>
<p>Whether the transition matrix has 3 dimensions</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>matrix</code> Returns a matrix of the same size as the
transition matrix
</p>

<hr>
<h2 id='prTpGetBoxPositions'>Gets the box position</h2><span id='topic+prTpGetBoxPositions'></span>

<h3>Description</h3>

<p>Gets the box position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpGetBoxPositions(
  no,
  side,
  transitions,
  prop_start_sizes,
  prop_end_sizes,
  tot_spacing,
  box_width
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpGetBoxPositions_+3A_no">no</code></td>
<td>
<p>The box number</p>
</td></tr>
<tr><td><code id="prTpGetBoxPositions_+3A_side">side</code></td>
<td>
<p>The right or left side</p>
</td></tr>
<tr><td><code id="prTpGetBoxPositions_+3A_transitions">transitions</code></td>
<td>
<p>The flows to or from</p>
</td></tr>
<tr><td><code id="prTpGetBoxPositions_+3A_prop_start_sizes">prop_start_sizes</code></td>
<td>
<p>The size of the start boxes</p>
</td></tr>
<tr><td><code id="prTpGetBoxPositions_+3A_prop_end_sizes">prop_end_sizes</code></td>
<td>
<p>The size of the end boxes</p>
</td></tr>
<tr><td><code id="prTpGetBoxPositions_+3A_tot_spacing">tot_spacing</code></td>
<td>
<p>The proportion of the vertical space that is to be left
empty. It is then split evenly between the boxes.</p>
</td></tr>
<tr><td><code id="prTpGetBoxPositions_+3A_box_width">box_width</code></td>
<td>
<p>The width of the box. By default the box is one fourth of
the plot width.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list(top, left, bottom, right, width, height)</code>
</p>

<hr>
<h2 id='prTpGetBoxPropClr'>Gets the color for the given box</h2><span id='topic+prTpGetBoxPropClr'></span>

<h3>Description</h3>

<p>Gets the color for the given box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpGetBoxPropClr(clr, no_boxes, lengthOneOK = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpGetBoxPropClr_+3A_clr">clr</code></td>
<td>
<p>The color of the boxes, either
a matrix, a vector of length two, or a single color</p>
</td></tr>
<tr><td><code id="prTpGetBoxPropClr_+3A_no_boxes">no_boxes</code></td>
<td>
<p>The number of boxes</p>
</td></tr>
<tr><td><code id="prTpGetBoxPropClr_+3A_lengthoneok">lengthOneOK</code></td>
<td>
<p>If it is ok to have only one color</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>matrix</code> With two columns and no_boxes rows.
If function fails then return <code>NULL</code>
</p>

<hr>
<h2 id='prTpGetBoxSizedTextGrob'>Gets the text size for the box</h2><span id='topic+prTpGetBoxSizedTextGrob'></span>

<h3>Description</h3>

<p>Gets the text size for the box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpGetBoxSizedTextGrob(
  txt,
  txt_clr,
  txt_cex,
  txt_gpar = NULL,
  force_cex = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpGetBoxSizedTextGrob_+3A_txt">txt</code></td>
<td>
<p>The text</p>
</td></tr>
<tr><td><code id="prTpGetBoxSizedTextGrob_+3A_txt_clr">txt_clr</code></td>
<td>
<p>The color of the text</p>
</td></tr>
<tr><td><code id="prTpGetBoxSizedTextGrob_+3A_txt_cex">txt_cex</code></td>
<td>
<p>The font size</p>
</td></tr>
<tr><td><code id="prTpGetBoxSizedTextGrob_+3A_txt_gpar">txt_gpar</code></td>
<td>
<p>The [grid::gpar()] object that is overridden with col &amp; cex by other parameters</p>
</td></tr>
<tr><td><code id="prTpGetBoxSizedTextGrob_+3A_force_cex">force_cex</code></td>
<td>
<p>If font size should be forced</p>
</td></tr>
<tr><td><code id="prTpGetBoxSizedTextGrob_+3A_...">...</code></td>
<td>
<p>Other options</p>
</td></tr>
</table>

<hr>
<h2 id='prTpGetColors'>Gets a set of colors or just one color</h2><span id='topic+prTpGetColors'></span>

<h3>Description</h3>

<p>Used in order to illustrate the mix between two
proportions in the <code><a href="#topic+transitionPlot">transitionPlot</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpGetColors(colors, proportion, space = NULL, no = 101)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpGetColors_+3A_colors">colors</code></td>
<td>
<p>A set of min. two colors that is used
for <code><a href="grDevices.html#topic+colorRamp">colorRampPalette</a></code>.</p>
</td></tr>
<tr><td><code id="prTpGetColors_+3A_proportion">proportion</code></td>
<td>
<p>A proportion or a set of proportions
between 0 and 1. If you leave this out then the full color
span will be returned.</p>
</td></tr>
<tr><td><code id="prTpGetColors_+3A_space">space</code></td>
<td>
<p>If there is little or no difference
at the low/high proportions of the spectrum then it
can be of interest to focus the color change to the center
leaving the tails constant</p>
</td></tr>
<tr><td><code id="prTpGetColors_+3A_no">no</code></td>
<td>
<p>The color resolution to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> The function can return both single colors
or multiple colors as character vector (see <code><a href="grDevices.html#topic+rgb">rgb</a></code>)
</p>

<hr>
<h2 id='prTpPlotArrows'>Plots the arrows</h2><span id='topic+prTpPlotArrows'></span>

<h3>Description</h3>

<p>Outputs all the arrows from a box row
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpPlotArrows(
  type,
  box_row,
  transition_flow,
  max_flow,
  min_lwd,
  max_lwd,
  clr,
  box_clr,
  transition_arrow_props,
  prop_start_sizes,
  prop_end_sizes,
  tot_spacing,
  box_width,
  abs_arrow_width,
  color_bar_subspace,
  add_width = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpPlotArrows_+3A_type">type</code></td>
<td>
<p>The type of arrow used</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_box_row">box_row</code></td>
<td>
<p>Which box do the arrows originate from</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_max_flow">max_flow</code></td>
<td>
<p>The largest transition flow</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_min_lwd">min_lwd</code></td>
<td>
<p>The minimum line width</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_max_lwd">max_lwd</code></td>
<td>
<p>The maximum line width</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_clr">clr</code></td>
<td>
<p>The color of the line</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_box_clr">box_clr</code></td>
<td>
<p>The color of the box</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_transition_arrow_props">transition_arrow_props</code></td>
<td>
<p>The proportions of the different transitions if
available.</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_prop_start_sizes">prop_start_sizes</code></td>
<td>
<p>The proportions to the left</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_prop_end_sizes">prop_end_sizes</code></td>
<td>
<p>The proportions to the right</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_tot_spacing">tot_spacing</code></td>
<td>
<p>Total spacing between boxes</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_box_width">box_width</code></td>
<td>
<p>The box width</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_color_bar_subspace">color_bar_subspace</code></td>
<td>
<p>If there is little or no difference exists
at the low/high proportions of the spectrum then it
can be of interest to focus the color change to the center
leaving the tails constant</p>
</td></tr>
<tr><td><code id="prTpPlotArrows_+3A_add_width">add_width</code></td>
<td>
<p>Add a certain width</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='prTpPlotBox'>Plots the box for the transition plot</h2><span id='topic+prTpPlotBox'></span>

<h3>Description</h3>

<p>Plots the box for the transition plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpPlotBox(
  bx,
  bx_txt,
  fill,
  txt_clr,
  txt_gpar = NULL,
  cex,
  line_col,
  lwd,
  prop = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpPlotBox_+3A_bx">bx</code></td>
<td>
<p>A list with the x, y, height and width parameters</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_bx_txt">bx_txt</code></td>
<td>
<p>The box text</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_fill">fill</code></td>
<td>
<p>The fill color</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_txt_clr">txt_clr</code></td>
<td>
<p>The text color</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_txt_gpar">txt_gpar</code></td>
<td>
<p>The [grid::gpar()] object that is overridden with col &amp; cex by other parameters</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_cex">cex</code></td>
<td>
<p>The font size</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_line_col">line_col</code></td>
<td>
<p>The line color around the box</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_lwd">lwd</code></td>
<td>
<p>The line width</p>
</td></tr>
<tr><td><code id="prTpPlotBox_+3A_prop">prop</code></td>
<td>
<p>Provide a proportion if the box should be split (0-1)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='prTpPlotBoxes'>Plot boxes and arrows</h2><span id='topic+prTpPlotBoxes'></span>

<h3>Description</h3>

<p>Outputs all the boxes and arrow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTpPlotBoxes(
  overlap_order,
  transition_flow,
  no_boxes,
  box_width,
  tot_spacing,
  txt,
  cex,
  txt_gpar = NULL,
  prop_start_sizes,
  prop_end_sizes,
  box_prop,
  lwd_prop_total = lwd_prop_total,
  fill_start_clr,
  fill_end_clr,
  txt_start_clr,
  txt_end_clr,
  lwd = 2,
  line_col = "#000000",
  min_lwd,
  max_lwd,
  overlap_add_width,
  overlap_bg_clr,
  type_of_arrow,
  abs_arrow_width,
  arrow_clr,
  transition_arrow_props,
  color_bar_subspace,
  plot_arrows = TRUE,
  proportion = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prTpPlotBoxes_+3A_overlap_order">overlap_order</code></td>
<td>
<p>The order from first-&gt;last for the lines. This means that the last
line will be on top while the first one will appear at the bottom. This should be provided
as a vector.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_transition_flow">transition_flow</code></td>
<td>
<p>This should be a matrix with the size of the transitions.
The unit for each cell should be number of observations, row/column-proportions
will show incorrect sizes. The matrix needs to be square. The best way to generate
this matrix is probably just do a <code>table(starting_state, end_state)</code>. The rows
represent the starting positions, while the columns the end positions. I.e. the first
rows third column is the number of observations that go from the first class to the
third class.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_no_boxes">no_boxes</code></td>
<td>
<p>Number of boxes to plot</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_box_width">box_width</code></td>
<td>
<p>The width of the box. By default the box is one fourth of
the plot width.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_tot_spacing">tot_spacing</code></td>
<td>
<p>The proportion of the vertical space that is to be left
empty. It is then split evenly between the boxes.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_txt">txt</code></td>
<td>
<p>The text</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_cex">cex</code></td>
<td>
<p>The cex <code><a href="grid.html#topic+gpar">gpar</a></code> of the text</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_txt_gpar">txt_gpar</code></td>
<td>
<p>The [grid::gpar()] object that is overridden with col &amp; cex by other parameters</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_prop_start_sizes">prop_start_sizes</code></td>
<td>
<p>The proportion of the different boxes
to the left</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_prop_end_sizes">prop_end_sizes</code></td>
<td>
<p>The proportion of the different boxes
to the right</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_box_prop">box_prop</code></td>
<td>
<p>If you want the boxes to have proportions indicating some other factors then input
a matrix with quantiles for the proportions. Note the size must be <code>nrow(transition_flow) x 2</code>.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_lwd_prop_total">lwd_prop_total</code></td>
<td>
<p>The width of the lines may be proportional to either the
other flows from that box, or they may be related to all flows. This is a boolean
parameter that is set to true by default, i.e. relating to all flows.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_fill_start_clr">fill_start_clr</code></td>
<td>
<p>The color of the boxes to the left</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_fill_end_clr">fill_end_clr</code></td>
<td>
<p>The color of the boxes to the right</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_txt_start_clr">txt_start_clr</code></td>
<td>
<p>The text color of the start boxes. This can either
be a single value or a vector if you desire different colors for each
box. If you specify box_prop then this has to be a 2 column matrix.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_txt_end_clr">txt_end_clr</code></td>
<td>
<p>The text color of the end boxes. This can either
be a single value or a vector if you desire different colors for each
box. If you specify box_prop then this has to be a 2 column matrix.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_lwd">lwd</code></td>
<td>
<p>The line width</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_line_col">line_col</code></td>
<td>
<p>The color of the line</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_min_lwd">min_lwd</code></td>
<td>
<p>The minimum width of the line that we want to illustrate the
tranisition with.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_max_lwd">max_lwd</code></td>
<td>
<p>The maximum width of the line that we want to illustrate the
tranisition with.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_overlap_add_width">overlap_add_width</code></td>
<td>
<p>The width of the white cross-over line. You can specify this as a scalar
multiplication of the current line width. In case of non-grid arrows then you can also have this
as a unit which is recommended as it looks better. If the scalar is &lt; 1 then the overlap is ignored.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_overlap_bg_clr">overlap_bg_clr</code></td>
<td>
<p>In order to enhance the 3D perspective and to make it easier
to follow arrows the arrows have a background color to separate them from those underneath.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_type_of_arrow">type_of_arrow</code></td>
<td>
<p>The types of arrow may be grid, simple, or gradient. Simple grid
arrows are the <code><a href="grid.html#topic+grid.bezier">bezierGrob</a></code> arrows (not that pretty),
simple is the <code><a href="#topic+bezierArrowSmpl">bezierArrowSmpl</a></code> that I've created to get a more exact
control of the arrow position and width, while gradient
corresponds to <code><a href="#topic+bezierArrowGradient">bezierArrowGradient</a></code>
allowing the arrow to have a fill color that slowly turns into the color of the arrow.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_abs_arrow_width">abs_arrow_width</code></td>
<td>
<p>The absolute width of the arrow</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_arrow_clr">arrow_clr</code></td>
<td>
<p>The color of the arrows. Usually black, can be a vector indicating each arrow
from first to last arrow (counting from the top). If the vector is of the same length as the
boxes then all box arrows will have the same color (that is all the arrows stemming from the
left boxes)</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_transition_arrow_props">transition_arrow_props</code></td>
<td>
<p>The proportions of the different transitions if
available.</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_color_bar_subspace">color_bar_subspace</code></td>
<td>
<p>If there is little or no difference
at the low/high proportions of the spectrum then it
can be of interest to focus the color change to the center
leaving the tails constant</p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_plot_arrows">plot_arrows</code></td>
<td>
<p>If we are plotting shadow boxes then
arrows should not be plotted and this should be set to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="prTpPlotBoxes_+3A_proportion">proportion</code></td>
<td>
<p>It there is a proportion</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='retrieve'>An R alternative to the lodash <code>get</code> in JavaScript</h2><span id='topic+retrieve'></span>

<h3>Description</h3>

<p>This is a handy function for retrieving items deep in a nested structure
without causing error if not found
</p>


<h3>Usage</h3>

<pre><code class='language-R'>retrieve(sourceList, path, default = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="retrieve_+3A_sourcelist">sourceList</code></td>
<td>
<p>The <code>list()</code>/<code>c()</code> that is to be searched for the element</p>
</td></tr>
<tr><td><code id="retrieve_+3A_path">path</code></td>
<td>
<p>A string that can be separated by [,] or ., the string <code>"elementname1.1.elementname"</code>
is equivalent to <code>"elementname1[[1]]]elementname"</code>. Note that the function doesn't check
the validity of the path - it only separates and tries to address that element with '[[]]'.</p>
</td></tr>
<tr><td><code id="retrieve_+3A_default">default</code></td>
<td>
<p>The value to return if the element isn't found</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a sub-element from <code>sourceList</code> or the <code>default</code> value.
</p>


<h3>See Also</h3>

<p>Other lodash similar functions: 
<code><a href="#topic+has">has</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>source &lt;- list(a = list(b = 1, `odd.name` = 'I hate . in names', c(1,2,3)))
retrieve(source, "a.b")
retrieve(source, "a.b.1")
retrieve(source, "a.odd\\.name")
retrieve(source, "a.not_in_list")

</code></pre>

<hr>
<h2 id='set_column_labels'>Add [Hmisc::label()] to multiple columns</h2><span id='topic+set_column_labels'></span>

<h3>Description</h3>

<p>Add label attribute using 'dplyr' syntax using the [Hmisc::label()]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_column_labels(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_column_labels_+3A_x">x</code></td>
<td>
<p>The data frame that we want to label</p>
</td></tr>
<tr><td><code id="set_column_labels_+3A_...">...</code></td>
<td>
<p>Variable names with their intended label, e.g. 'mpg = &quot;Miles per gallon&quot;'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The original data.frame
</p>


<h3>See Also</h3>

<p>Other Hmisc helpers: 
<code><a href="#topic+set_column_units">set_column_units</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
data(mtcars)
mtcars_with_labels &lt;- mtcars %&gt;%
  set_column_labels(mpg = "Gas",
                    cyl = "Cylinders",
                    hp = "Strength")
Hmisc::label(mtcars_with_labels$mpg)
</code></pre>

<hr>
<h2 id='set_column_units'>Add [Hmisc::unit()] to multiple columns</h2><span id='topic+set_column_units'></span>

<h3>Description</h3>

<p>Add label attribute using 'dplyr' syntax using the [Hmisc::unit()]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_column_units(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_column_units_+3A_x">x</code></td>
<td>
<p>The data frame that we want to define units on</p>
</td></tr>
<tr><td><code id="set_column_units_+3A_...">...</code></td>
<td>
<p>Variable names with their intended unit, e.g. 'hp = &quot;Hp&quot;'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The original data.frame
</p>


<h3>See Also</h3>

<p>Other Hmisc helpers: 
<code><a href="#topic+set_column_labels">set_column_labels</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
data(mtcars)
mtcars_with_units &lt;- mtcars %&gt;%
  set_column_units(wt = "1000 lbs")
Hmisc::units(mtcars_with_units$wt)
</code></pre>

<hr>
<h2 id='spread'>Spread boxes</h2><span id='topic+spread'></span><span id='topic+spreadVertical'></span><span id='topic+spreadHorizontal'></span>

<h3>Description</h3>

<p>Spreads a set of <code><a href="#topic+boxGrob">boxGrob</a></code>/<code><a href="#topic+boxPropGrob">boxPropGrob</a></code> in either horizontal or vertical direction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spreadVertical(..., .from = NULL, .to = NULL, .type = c("between", "center"))

spreadHorizontal(..., .from = NULL, .to = NULL, .type = c("between", "center"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spread_+3A_...">...</code></td>
<td>
<p>A set of boxes to spread. Can also be a <code>list</code> of boxes.</p>
</td></tr>
<tr><td><code id="spread_+3A_.from">.from</code></td>
<td>
<p>A box that the spread originates from. If left empty the entire <code>viewport</code> will be used.</p>
</td></tr>
<tr><td><code id="spread_+3A_.to">.to</code></td>
<td>
<p>A box that the spread ends at. If left empty the entire <code>viewport</code> will be used.</p>
</td></tr>
<tr><td><code id="spread_+3A_.type">.type</code></td>
<td>
<p>If <code>between</code> the space between the boxes will be identical while
<code>center</code> has each box's center is equally distributed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> with the boxes that have been spread
</p>


<h3>See Also</h3>

<p>Other flowchart components: 
<code><a href="#topic+align">align</a></code>,
<code><a href="#topic+boxGrob">boxGrob</a>()</code>,
<code><a href="#topic+boxPropGrob">boxPropGrob</a>()</code>,
<code><a href="#topic+connectGrob">connectGrob</a>()</code>,
<code><a href="#topic+coords">coords</a>()</code>,
<code><a href="#topic+distance">distance</a>()</code>,
<code><a href="#topic+moveBox">moveBox</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()

box1 &lt;- boxGrob("B1", x = .2, y = .8)
box2 &lt;- boxGrob("B2\n\n\neach\nbox\neven\nspace\nbetween", x = .2, y = .8)
box3 &lt;- boxGrob("B3", x = .2, y = .8)
box4 &lt;- boxGrob("B4", x = .2, y = .8)
box5 &lt;- boxGrob("B5", x = .2, y = .8)

spread_boxes &lt;- spreadVertical(box1,
                               box2,
                               box3,
                               a = box4,
                               box5, 
                               .type = "between")
for (b in spread_boxes) {
  print(b)
}

box1 &lt;- boxGrob("B1\n\nanother group\ncenter oriented", x = .6, y = .8)
box2 &lt;- boxGrob("B2", x = .6, y = .8)
box3 &lt;- boxGrob("B3", x = .6, y = .8)
box4 &lt;- boxGrob("B4", x = .6, y = .8)
box5 &lt;- boxGrob("B5", x = .6, y = .8)

spread_boxes &lt;- spreadVertical(box1,
                               box2,
                               box3,
                               a = box4,
                               box5, 
                               .type = "center")
for (b in spread_boxes) {
  print(b)
}
</code></pre>

<hr>
<h2 id='time2spanTxt'>A dense time-span text</h2><span id='topic+time2spanTxt'></span>

<h3>Description</h3>

<p>When adding a time span text we often don't want to write <em>3 jun - 10 jun</em> but
shorten it to <em>3 - 10 jun</em> while retaining month and year info only if the span
crosses between months or years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time2spanTxt(
  times,
  day_month_glue_txt = getOption("Gmisc_time2spanTxt_day_month", default =
    "{mday(time)} {month(time, label = TRUE)}"),
  full_year_format = getOption("Gmisc_time2spanTxt_full_year", default =
    "{mday(time)} {month(time, label = TRUE)} {year(time)}"),
  start_stop_glue_txt = getOption("Gmisc_time2spanTxt_template", default =
    "{start} to {stop}")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="time2spanTxt_+3A_times">times</code></td>
<td>
<p>The dates or POSIX timestamps to used for time span</p>
</td></tr>
<tr><td><code id="time2spanTxt_+3A_day_month_glue_txt">day_month_glue_txt</code></td>
<td>
<p>The <code><a href="glue.html#topic+glue">glue</a></code> string to format days and months with <code>time</code> as the time input</p>
</td></tr>
<tr><td><code id="time2spanTxt_+3A_full_year_format">full_year_format</code></td>
<td>
<p>The <code><a href="glue.html#topic+glue">glue</a></code> string to format the full year with <code>time</code> as the time input</p>
</td></tr>
<tr><td><code id="time2spanTxt_+3A_start_stop_glue_txt">start_stop_glue_txt</code></td>
<td>
<p>The string used in the <code><a href="glue.html#topic+glue">glue</a></code> for putting the
start and stop dates together into one string</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are options that can be set using the <code><a href="base.html#topic+options">options</a></code>:
</p>

<ul>
<li> <p><code>Gmisc_time2spanTxt_day_month</code> The date with day + month as formatted by <code><a href="glue.html#topic+glue">glue</a></code> where the time is passed as <code>time</code>.
</p>
</li>
<li> <p><code>Gmisc_time2spanTxt_full_year</code> The full date with day + month + year as formatted by <code><a href="glue.html#topic+glue">glue</a></code> where the time is passed as <code>time</code>.
</p>
</li>
<li> <p><code>Gmisc_time2spanTxt_template</code> The merge of the stop &amp; start elements using <code><a href="glue.html#topic+glue">glue</a></code>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>string</code> A string describing the time span
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time2spanTxt(as.POSIXct(c("2020-01-02", "2020-03-01", NA)))
# 2 jan to 1 mar

</code></pre>

<hr>
<h2 id='Transition-class'>A reference class for generating transition plots</h2><span id='topic+Transition-class'></span><span id='topic+Transition'></span>

<h3>Description</h3>

<p>This class simplifies the creating of transition plots. It also
allows for advanced multi-column transitions.
</p>


<h3>Details</h3>

<p>Transition plots are a type of <em>Sankey diagrams</em>. These are a specific type
of flow diagram, in which the width of the arrows is shown proportionally
to the flow quantity. See <a href="https://en.wikipedia.org/wiki/Sankey_diagram">Wikipedia</a>
for details.
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Optional id. The render uses named viewports that require a unique id if multiple transition plots
are combined. In order to avoid having overlapping graphs we need to generate a unique id for each viewport
and thus this variable exists. If left empty it will create a counter that is stored in the <code><a href="base.html#topic+options">options</a></code>
(<code>"Gmisc.transitionClassCounter"</code>) and each viewport will have the name preceded with <code>tc_[0-9]+</code>. Set this
if you intend to use <code><a href="grid.html#topic+viewports">seekViewport</a></code>.</p>
</dd>
<dt><code>transitions</code></dt><dd><p>This is a &gt;= 3 dimensional array with the transitions. Should not be directly accessed.</p>
</dd>
<dt><code>box_width</code></dt><dd><p>The box width</p>
</dd>
<dt><code>box_txt</code></dt><dd><p>The texts of each box</p>
</dd>
<dt><code>box_label</code></dt><dd><p>Box labels</p>
</dd>
<dt><code>box_label_pos</code></dt><dd><p>The label's positions, either &quot;top&quot;/&quot;bottom&quot;</p>
</dd>
<dt><code>box_label_cex</code></dt><dd><p>The size of the box labels</p>
</dd>
<dt><code>box_cex</code></dt><dd><p>The font-size multiplier for the text within the boxes</p>
</dd>
<dt><code>arrow_type</code></dt><dd><p>The type of arrow to use, defaults to &quot;gradient&quot;, but can also be &quot;simple&quot;.
The corresponding functions are <code><a href="#topic+bezierArrowGradient">bezierArrowGradient</a></code>, and
<code><a href="#topic+bezierArrowSmpl">bezierArrowSmpl</a></code>. <em>Note</em> The <code>bezierGrob</code> has been deprecated
as it is no longer faster than the bezier arrows and there is a difference in design.</p>
</dd>
<dt><code>arrow_clr</code></dt><dd><p>The arrow color</p>
</dd>
<dt><code>arrow_rez</code></dt><dd><p>The resolution of the arrow</p>
</dd>
<dt><code>vertical_space</code></dt><dd><p>The space between the boxes</p>
</dd>
<dt><code>fill_clr</code></dt><dd><p>The box fill color</p>
</dd>
<dt><code>clr_bar</code></dt><dd><p>Shows a color bar if there are proportions. Can be <code>"none"</code>, <code>"top"</code>, <code>"bottom"</code></p>
</dd>
<dt><code>clr_bar_clrs</code></dt><dd><p>Extracts the colors for the color bar from the <code>fill_clr</code> if none is provided</p>
</dd>
<dt><code>clr_bar_cex</code></dt><dd><p>The size of the ticks in the color bar</p>
</dd>
<dt><code>clr_bar_subspace</code></dt><dd><p>If little or no difference exists at the low/high proportions of
the spectrum then it can be of interest to focus the color change to the center leaving the tails constant</p>
</dd>
<dt><code>clr_bar_labels</code></dt><dd><p>The labels of the color bars. Defaults to the dim names for the proportions.</p>
</dd>
<dt><code>txt_clr</code></dt><dd><p>The text color within the boxes</p>
</dd>
<dt><code>txt_gpar</code></dt><dd><p>Similar to 'txt_clr' but for more advanced styling with fontfamily (see [grid::gpar()]). *Note* that
col &amp; cex are overridden.</p>
</dd>
<dt><code>title</code></dt><dd><p>The plot title if any</p>
</dd>
<dt><code>title_cex</code></dt><dd><p>The font-size multiplier for the title</p>
</dd>
<dt><code>skip_shadows</code></dt><dd><p>Skip the shadow effect on the boxes</p>
</dd>
<dt><code>mar</code></dt><dd><p>The margins for the plot.</p>
</dd>
<dt><code>min_lwd</code></dt><dd><p>The minimum line width that is still shown. The pixels will most likely
not have the same fine resolution as the data and you therefore may want to hide
lines that are smaller than a certain amount.</p>
</dd>
<dt><code>max_lwd</code></dt><dd><p>The maximum line width to show</p>
</dd>
<dt><code>lwd_prop_type</code></dt><dd><p>The line can either be proportional to the <code>"set"</code> of transitions
(group of two box columns), to <code>"all"</code> transitions, or to each <code>"box"</code>. It defaults
to <code>"all"</code>.</p>
</dd>
<dt><code>data</code></dt><dd><p>Internal storage variable. Should not be accessed directly.</p>
</dd>
</dl>


<h3>Methods</h3>


<dl>
<dt><code>addBoxStyle(fill, txt, gpar)</code></dt><dd><p>Adds colors or extends existing one so that they match the transition matrix.
The fill corresponds to the fill_clr and txt corresponds to the txt_clr. If
the colors are missing and the transitions consist of only two columns the default
colors will be used. If the matrix is being extended and these values are missing the
values from the previous last column will be used for the default columns.</p>
</dd>
<dt><code>addTransitions(mtrx, label, txt, fill_clr, txt_clr, txt_gpar)</code></dt><dd><p>Add a transition matrix. The input has to be a numerical matrix between 2 and 3 dimensions.
If you don't provide the txt field the box' text field will be deduced from the transition matrix'
dimnames. The fill_clr and txt_clr are passed on to the <code>addBoxStyle</code> function.</p>
</dd>
<dt><code>arrowWidths(set_no, add_width)</code></dt><dd><p>Retrieves the details regarding arrow sizes for each arrow within the transition
group</p>
</dd>
<dt><code>boxPositions(col)</code></dt><dd><p>The box positions as a list with scalars for the positions:
</p>

<ol>
<li> <p><em>x</em> The center x-position
</p>
</li>
<li> <p><em>y</em> The center y-position
</p>
</li>
<li> <p><em>right</em> The right edge
</p>
</li>
<li> <p><em>left</em> The left edge
</p>
</li>
<li> <p><em>top</em> The top edge
</p>
</li>
<li> <p><em>bottom</em> The bottom edge
</p>
</li>
<li> <p><em>height</em> The box height
</p>
</li>
<li> <p><em>width</em> The box width
</p>
</li>
<li> <p><em>unit</em> The unit used for the values (npc)
</p>
</li></ol>
</dd>
<dt><code>boxSizes(col)</code></dt><dd><p>Gets the size of the boxes. The <code>col</code> argument should
be either an integer or 'last'</p>
</dd>
<dt><code>getDim()</code></dt><dd><p>Gets the current dimensions of the transitions</p>
</dd>
<dt><code>getTransitionSet(no, reduce_dim = FALSE)</code></dt><dd><p>Gets a specific set of transitions. If the <code>reduce_dim</code> is set
to TRUE it will only return a 2-dimensional matrix even if the original
has a 3rd proportions dimension</p>
</dd>
<dt><code>getYProps(col)</code></dt><dd><p>Gets the proportions after removing the <code>vertical_space</code>
between the boxes</p>
</dd>
<dt><code>initialize(transitions, label, txt, fill_clr, txt_clr, txt_gpar, id, ...)</code></dt><dd><p>Set up a Transition object. The <code>transitions</code> should be a 2D or 3D matrix
as defined in the <code>$addTransitions</code> section and not as later internally stored.</p>
</dd>
<dt><code>noCols()</code></dt><dd><p>Gets the number of columns, i.e. the number of transitions</p>
</dd>
<dt><code>noRows(no)</code></dt><dd><p>Gets the number of boxes in each row.
If multiple rows the number of rows may differ
betwen each transition matrix we therefore need
to specify what transitions that we refer to.
If no value is specified it returns all of them.</p>
</dd>
<dt><code>render(new_page = TRUE)</code></dt><dd><p>Call this to render the full graph. The <code>new_page</code> argument
is for creating a new plot, set this to <code>FALSE</code>
if you want to combine this plot with another or if you have
additional viewports that you intend to use.</p>
</dd>
<dt><code>trnstnSizes(set_no)</code></dt><dd><p>Gets the transitions per box as a 2D matrix. For the proportions
it also adds an attribute <code>attr('props', prop_mtrx)</code> that
is a 2D matrix with the corresponding proportions.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'># Transitions
set.seed(1)
n &lt;- 10
my_data &lt;-
  data.frame(
    Var_a = sample(c(
      "Test 1",
      "Test 2",
      "Test 3"
    ),
    size = n,
    replace = TRUE,
    prob = 3:1
    ),
    Var_b = sample(c(
      "Test 1",
      "Test 2",
      "Test 3"
    ),
    size = n,
    replace = TRUE,
    prob = 1:3
    )
  )
mtrx &lt;- with(
  my_data,
  table(Var_a, Var_b)
)

# Initialize the transition plot
transitions &lt;- getRefClass("Transition")$new(mtrx,
                                             label = c("Before", "After"))

# Render the plot
transitions$render()
</code></pre>

<hr>
<h2 id='transitionPlot'>A transition plot</h2><span id='topic+transitionPlot'></span>

<h3>Description</h3>

<p>This plot's purpose is to illustrate how states change before and
after. In my research I use it before surgery and after surgery
but it can be used in any situation where you have a change from
one state to another
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transitionPlot(
  transition_flow,
  type_of_arrow = c("grid", "simple", "gradient"),
  box_txt = rownames(transition_flow),
  tot_spacing = 0.2,
  box_width = 1/4,
  fill_start_box = "darkgreen",
  txt_start_clr = "white",
  fill_end_box = fill_start_box,
  txt_end_clr = txt_start_clr,
  cex = 2,
  min_lwd = if (type_of_arrow == "grid") 1 else unit(0.1, "mm"),
  max_lwd = if (type_of_arrow == "grid") 6 else unit(5, "mm"),
  lwd_prop_total = TRUE,
  arrow_clr = "#000000",
  abs_arrow_width = FALSE,
  overlap_bg_clr = "#FFFFFF",
  overlap_order = 1:nrow(transition_flow),
  overlap_add_width = if (type_of_arrow == "grid") 1.5 else unit(1, "mm"),
  box_prop,
  mar = unit(rep(3, times = 4), "mm"),
  main = NULL,
  box_label = NULL,
  box_label_pos = "top",
  box_label_cex = cex,
  color_bar = TRUE,
  color_bar_cex = cex * 0.33,
  color_bar_labels,
  color_bar_subspace = NULL,
  new_page = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transitionPlot_+3A_transition_flow">transition_flow</code></td>
<td>
<p>This should be a matrix with the size of the transitions.
The unit for each cell should be number of observations, row/column-proportions
will show incorrect sizes. The matrix needs to be square. The best way to generate
this matrix is probably just do a <code>table(starting_state, end_state)</code>. The rows
represent the starting positions, while the columns the end positions. I.e. the first
rows third column is the number of observations that go from the first class to the
third class.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_type_of_arrow">type_of_arrow</code></td>
<td>
<p>The types of arrow may be grid, simple, or gradient. Simple grid
arrows are the <code><a href="grid.html#topic+grid.bezier">bezierGrob</a></code> arrows (not that pretty),
simple is the <code><a href="#topic+bezierArrowSmpl">bezierArrowSmpl</a></code> that I've created to get a more exact
control of the arrow position and width, while gradient
corresponds to <code><a href="#topic+bezierArrowGradient">bezierArrowGradient</a></code>
allowing the arrow to have a fill color that slowly turns into the color of the arrow.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_box_txt">box_txt</code></td>
<td>
<p>The text to appear inside of the boxes. If you need line breaks
then you need to manually add a \n inside the string.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_tot_spacing">tot_spacing</code></td>
<td>
<p>The proportion of the vertical space that is to be left
empty. It is then split evenly between the boxes.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_box_width">box_width</code></td>
<td>
<p>The width of the box. By default the box is one fourth of
the plot width.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_fill_start_box">fill_start_box</code></td>
<td>
<p>The fill color of the start boxes. This can either
be a single value or a vector if you desire different colors for each
box. If you specify box_prop then this has to be a 2 column matrix.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_txt_start_clr">txt_start_clr</code></td>
<td>
<p>The text color of the start boxes. This can either
be a single value or a vector if you desire different colors for each
box. If you specify box_prop then this has to be a 2 column matrix.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_fill_end_box">fill_end_box</code></td>
<td>
<p>The fill color of the end boxes. This can either
be a single value or a vector if you desire different colors for each
box. If you specify box_prop then this has to be a 2 column matrix.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_txt_end_clr">txt_end_clr</code></td>
<td>
<p>The text color of the end boxes. This can either
be a single value or a vector if you desire different colors for each
box. If you specify box_prop then this has to be a 2 column matrix.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_cex">cex</code></td>
<td>
<p>The cex <code><a href="grid.html#topic+gpar">gpar</a></code> of the text</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_min_lwd">min_lwd</code></td>
<td>
<p>The minimum width of the line that we want to illustrate the
tranisition with.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_max_lwd">max_lwd</code></td>
<td>
<p>The maximum width of the line that we want to illustrate the
tranisition with.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_lwd_prop_total">lwd_prop_total</code></td>
<td>
<p>The width of the lines may be proportional to either the
other flows from that box, or they may be related to all flows. This is a boolean
parameter that is set to true by default, i.e. relating to all flows.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_arrow_clr">arrow_clr</code></td>
<td>
<p>The color of the arrows. Usually black, can be a vector indicating each arrow
from first to last arrow (counting from the top). If the vector is of the same length as the
boxes then all box arrows will have the same color (that is all the arrows stemming from the
left boxes)</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_abs_arrow_width">abs_arrow_width</code></td>
<td>
<p>The width can either be absolute, i.e. each arrow headed for a box
has the exact same width. The alternative is that the width is related to the line width.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_overlap_bg_clr">overlap_bg_clr</code></td>
<td>
<p>In order to enhance the 3D perspective and to make it easier
to follow arrows the arrows have a background color to separate them from those underneath.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_overlap_order">overlap_order</code></td>
<td>
<p>The order from first-&gt;last for the lines. This means that the last
line will be on top while the first one will appear at the bottom. This should be provided
as a vector.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_overlap_add_width">overlap_add_width</code></td>
<td>
<p>The width of the white cross-over line. You can specify this as a scalar
multiplication of the current line width. In case of non-grid arrows then you can also have this
as a unit which is recommended as it looks better. If the scalar is &lt; 1 then the overlap is ignored.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_box_prop">box_prop</code></td>
<td>
<p>If you want the boxes to have proportions indicating some other factors then input
a matrix with quantiles for the proportions. Note the size must be <code>nrow(transition_flow) x 2</code>.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_mar">mar</code></td>
<td>
<p>A numerical vector of the form c(bottom, left, top, right) of the type <code>unit()</code></p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_main">main</code></td>
<td>
<p>The title of the plot if any, default <code>NULL</code></p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_box_label">box_label</code></td>
<td>
<p>A vector of length 2 if you want to label each box column</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_box_label_pos">box_label_pos</code></td>
<td>
<p>The position of the label, either <code>'top'</code> or <code>'bottom'</code></p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_box_label_cex">box_label_cex</code></td>
<td>
<p>The cex of the label, defaults to the default cex</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_color_bar">color_bar</code></td>
<td>
<p>If you have proportions inside the transition_flow variable
then the color_bar will automatically appear at the bottom unless you set
this to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_color_bar_cex">color_bar_cex</code></td>
<td>
<p>The size of the tick labels for the color bar</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_color_bar_labels">color_bar_labels</code></td>
<td>
<p>The labels of the two proportions that make up the color bar.
Defaults to the labels of the third dimension for the <code>transition_flow</code>
argument.</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_color_bar_subspace">color_bar_subspace</code></td>
<td>
<p>If there is little or no difference
at the low/high proportions of the spectrum then it
can be of interest to focus the color change to the center
leaving the tails constant</p>
</td></tr>
<tr><td><code id="transitionPlot_+3A_new_page">new_page</code></td>
<td>
<p>If you want the plot to appear on a new blank page then set this to <code>TRUE</code>, by
default it is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>void
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This example does not run since it
# takes a little while to assemble the
# arrows and RMD Check complains that this
# is more than allowed for
library(grid)
par_org &lt;- par(ask = TRUE)
# Settings
no_boxes &lt;- 3
# Generate test setting
transition_matrix &lt;- matrix(NA, nrow = no_boxes, ncol = no_boxes)
transition_matrix[1, ] &lt;- 200 * c(.5, .25, .25)
transition_matrix[2, ] &lt;- 540 * c(.75, .10, .15)
transition_matrix[3, ] &lt;- 340 * c(0, .2, .80)

grid.newpage()
transitionPlot(transition_matrix,
  box_txt = c("First", "Second", "Third"),
  type_of_arrow = "simple",
  min_lwd = unit(1, "mm"),
  max_lwd = unit(6, "mm"),
  overlap_add_width = unit(1, "mm")
)


# Setup proportions
box_prop &lt;- cbind(c(1, 0, 0.5), c(.52, .2, .8))
# From the Set2 Colorbrewer
start_box_clr &lt;- c("#8DA0CB", "#FC8D62")
# Darken the colors slightly
end_box_clr &lt;- c(
  colorRampPalette(c(start_box_clr[1], "#000000"))(10)[2],
  colorRampPalette(c(start_box_clr[2], "#000000"))(10)[2]
)
# Create a new grid
grid.newpage()
transitionPlot(transition_matrix,
  box_prop = box_prop,
  fill_start_box = start_box_clr, fill_end_box = end_box_clr,
  txt_start_clr = c("#FFFFFF", "#000000"), txt_end_clr = c("#FFFFFF", "#000000"),
  box_txt = c("First", "Second", "Third"),
  type_of_arrow = "gradient",
  min_lwd = unit(1, "mm"),
  max_lwd = unit(10, "mm"),
  overlap_add_width = unit(1, "mm")
)
par(par_org)
</code></pre>

<hr>
<h2 id='validateAndConvertVectorInputs'>Checks the input of a vector</h2><span id='topic+validateAndConvertVectorInputs'></span>

<h3>Description</h3>

<p>It checks that a vector makes sense in its
grid parameters. It also creates an origo
at point 0 if none is provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validateAndConvertVectorInputs(x, y, x_origo, y_origo)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validateAndConvertVectorInputs_+3A_x">x</code></td>
<td>
<p>The x point of the vector</p>
</td></tr>
<tr><td><code id="validateAndConvertVectorInputs_+3A_y">y</code></td>
<td>
<p>The y point of the vector</p>
</td></tr>
<tr><td><code id="validateAndConvertVectorInputs_+3A_x_origo">x_origo</code></td>
<td>
<p>The x origin if other than 0</p>
</td></tr>
<tr><td><code id="validateAndConvertVectorInputs_+3A_y_origo">y_origo</code></td>
<td>
<p>The y origin if other than 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with the input variables checked and
converted if necessary.
</p>

<hr>
<h2 id='yamlDump'>Outputs an object</h2><span id='topic+yamlDump'></span>

<h3>Description</h3>

<p>Manually viewing a list object can be tricky where the natural print
can be hard to work through. The config format *yaml* is increadibly
dense and useful not only for writing configs but also viewing them
which 'yamlDump' helps with.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yamlDump(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yamlDump_+3A_x">x</code></td>
<td>
<p>An object that <code><a href="yaml.html#topic+as.yaml">as.yaml</a></code> accepts</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>some_fancy_list &lt;- list(complex = list(some_data = 1:3,
                                       other_data = list(name = "Max")),
                        simple = "awesome overview")
yamlDump(some_fancy_list)
#complex:
#  some_data:
#  - 1
#  - 2
#  - 3
#  other_data:
#    name: Max
#simple: awesome overview

# If you got a character json you can also input it directly
# and the function will automatically convert it to a list
yamlDump('{"a":{"b":["1"]}}')

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

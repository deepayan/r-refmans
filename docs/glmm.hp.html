<!DOCTYPE html><html><head><title>Help for package glmm.hp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {glmm.hp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#creatbin'><p>Internal function for glmm.hp() to create diagonal matrix</p></a></li>
<li><a href='#genList'><p>Internal function for glmm.hp()</p></a></li>
<li><a href='#glmm.hp'><p>Hierarchical Partitioning of Marginal R2 for Generalized Mixed-Effect Models</p></a></li>
<li><a href='#odd'><p>Internal function for glmm.hp() to determine whether the odd number</p></a></li>
<li><a href='#plot.glmmhp'><p>Plot for a <code>glmm.hp</code> object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Hierarchical Partitioning of Marginal R2 for Generalized
Mixed-Effect Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-12-27</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0),MuMIn,ggplot2,vegan</td>
</tr>
<tr>
<td>Imports:</td>
<td>lme4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jiangshan Lai &lt;lai@njfu.edu.cn&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Conducts hierarchical partitioning to calculate individual contributions of each predictor (fixed effects) towards marginal R2 for generalized linear mixed-effect model (including lm, glm and glmm) based on output of r.squaredGLMM() in 'MuMIn', applying the algorithm of Lai J.,Zou Y., Zhang S.,Zhang X.,Mao L.(2022)glmm.hp: an R package for computing individual effect of predictors in generalized linear mixed models.Journal of Plant Ecology,15(6)1302-1307&lt;<a href="https://doi.org/10.1093%2Fjpe%2Frtac096">doi:10.1093/jpe/rtac096</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/laijiangshan/glmm.hp">https://github.com/laijiangshan/glmm.hp</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-08 14:02:53 UTC; lai</td>
</tr>
<tr>
<td>Author:</td>
<td>Jiangshan Lai <a href="https://orcid.org/0000-0002-0279-8816"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Kim Nimon [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-08 20:10:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='creatbin'>Internal function for glmm.hp() to create diagonal matrix</h2><span id='topic+creatbin'></span>

<h3>Description</h3>

<p>Internal function for glmm.hp() to create diagonal matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>creatbin(col, binmatrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="creatbin_+3A_col">col</code></td>
<td>
<p>Imput number.</p>
</td></tr>
<tr><td><code id="creatbin_+3A_binmatrix">binmatrix</code></td>
<td>
<p>Imput empty matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix
</p>
<table>
<tr><td><code>a matix</code></td>
<td>
<p>A diagonal matrix</p>
</td></tr>
</table>

<hr>
<h2 id='genList'>Internal function for glmm.hp()</h2><span id='topic+genList'></span>

<h3>Description</h3>

<p>Internal function for glmm.hp()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genList(ivlist, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genList_+3A_ivlist">ivlist</code></td>
<td>
<p>The names of explanatory variable.</p>
</td></tr>
<tr><td><code id="genList_+3A_value">value</code></td>
<td>
<p>The sequence ID.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>
<table>
<tr><td><code>newlist</code></td>
<td>
<p>A vector for variable index.</p>
</td></tr>
</table>

<hr>
<h2 id='glmm.hp'>Hierarchical Partitioning of Marginal R2 for Generalized Mixed-Effect Models</h2><span id='topic+glmm.hp'></span>

<h3>Description</h3>

<p>Hierarchical Partitioning of Marginal R2 for Generalized Mixed-Effect Models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glmm.hp(mod, type = "adjR2", commonality = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glmm.hp_+3A_mod">mod</code></td>
<td>
<p>Fitted lme4,nlme,glmmTMB,glm or lm model objects.</p>
</td></tr>
<tr><td><code id="glmm.hp_+3A_type">type</code></td>
<td>
<p>The type of R-square of lm, either &quot;R2&quot; or &quot;adjR2&quot;, in which &quot;R2&quot; is unadjusted R-square and &quot;adjR2&quot; is adjusted R-square, the default is &quot;adjR2&quot;. The adjusted R-square is calculated using Ezekiel's formula (Ezekiel 1930) for lm.</p>
</td></tr>
<tr><td><code id="glmm.hp_+3A_commonality">commonality</code></td>
<td>
<p>Logical; If TRUE, the result of commonality analysis (2^N-1 fractions for N predictors) is shown, the default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function conducts hierarchical partitioning to calculate the individual contributions of each predictor towards total (marginal) R2 for Generalized Linear Mixed-effect Model (including lm,glm and glmm). The marginal R2 is the output of r.squaredGLMM in MuMIn package for glm and glmm.
</p>


<h3>Value</h3>

<table>
<tr><td><code>r.squaredGLMM</code></td>
<td>
<p>The R2 for the full model.</p>
</td></tr>
<tr><td><code>hierarchical.partitioning</code></td>
<td>
<p>A matrix containing individual effects and percentage of individual effects towards total (marginal) R2 for each predictor.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jiangshan Lai <a href="mailto:lai@njfu.edu.cn">lai@njfu.edu.cn</a>
</p>


<h3>References</h3>


<ul>
<li><p> Lai J.,Zhu W., Cui D.,Mao L.(2023)Extension of the glmm.hp package to Zero-Inflated generalized linear mixed models and multiple regression.Journal of Plant Ecology,16(6):rtad038&lt;DOI:10.1093/jpe/rtad038&gt;
</p>
</li>
<li><p> Lai J.,Zou Y., Zhang S.,Zhang X.,Mao L.(2022)glmm.hp: an R package for computing individual effect of predictors in generalized linear mixed models.Journal of Plant Ecology,15(6):1302-1307&lt;DOI:10.1093/jpe/rtac096&gt;
</p>
</li>
<li><p> Lai J.,Zou Y., Zhang J.,Peres-Neto P.(2022) Generalizing hierarchical and variation partitioning in multiple regression and canonical analyses using the rdacca.hp R package.Methods in Ecology and Evolution,13(4):782-788&lt;DOI:10.1111/2041-210X.13800&gt;
</p>
</li>
<li><p> Chevan, A. &amp; Sutherland, M. (1991). Hierarchical partitioning. American Statistician, 45, 90-96. doi:10.1080/00031305.1991.10475776
</p>
</li>
<li><p> Nimon, K., Oswald, F.L. &amp; Roberts, J.K. (2013). Yhat: Interpreting regression effects. R package version 2.0.0.
</p>
</li>
<li><p> Nakagawa, S., &amp; Schielzeth, H. (2013). A general and simple method for obtaining R2 from generalized linear mixed-effects models. Methods in Ecology and Evolution, 4(2), 133-142.
</p>
</li>
<li><p> Nakagawa, S., Johnson, P. C., &amp; Schielzeth, H. (2017). The coefficient of determination R2 and intra-class correlation coefficient from generalized linear mixed-effects models revisited and expanded. Journal of the Royal Society Interface, 14(134), 20170213.
</p>
</li>
<li><p> Ezekiel, M. (1930) Methods of Correlational Analysis. Wiley, New York.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(MuMIn)
library(lme4)
mod1 &lt;- lmer(Sepal.Length ~ Petal.Length + Petal.Width+(1|Species),data = iris)
r.squaredGLMM(mod1)
glmm.hp(mod1)
a &lt;- glmm.hp(mod1)
plot(a)
mod2 &lt;- glm(Sepal.Length ~ Petal.Length + Petal.Width, data = iris)
r.squaredGLMM(mod2)
glmm.hp(mod2)
b &lt;- glmm.hp(mod2)
plot(b)
plot(glmm.hp(mod2))
mod3 &lt;- lm(Sepal.Length ~ Petal.Length + Petal.Width + Petal.Length:Petal.Width, data = iris)
glmm.hp(mod3,type="R2")
glmm.hp(mod3,commonality=TRUE)
</code></pre>

<hr>
<h2 id='odd'>Internal function for glmm.hp() to determine whether the odd number</h2><span id='topic+odd'></span>

<h3>Description</h3>

<p>Internal function for glmm.hp() to determine whether the odd number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>odd(val)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odd_+3A_val">val</code></td>
<td>
<p>Imput number.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical value
</p>
<table>
<tr><td><code>Logical value</code></td>
<td>
<p>TRUE or FALSE</p>
</td></tr>
</table>

<hr>
<h2 id='plot.glmmhp'>Plot for a <code><a href="#topic+glmm.hp">glmm.hp</a></code> object</h2><span id='topic+plot.glmmhp'></span>

<h3>Description</h3>

<p>Plot for a <code><a href="#topic+glmm.hp">glmm.hp</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glmmhp'
plot(x, plot.perc = FALSE, color = NULL, n = 1, dig = 4, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.glmmhp_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+glmm.hp">glmm.hp</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.glmmhp_+3A_plot.perc">plot.perc</code></td>
<td>
<p>Logical;if TRUE, the bar plot (based on ggplot2 package) of the percentage to individual effects of variables or groups towards total explained variation, the default is FALSE to show plot with original individual effects.</p>
</td></tr>
<tr><td><code id="plot.glmmhp_+3A_color">color</code></td>
<td>
<p>Color of variables.</p>
</td></tr>
<tr><td><code id="plot.glmmhp_+3A_n">n</code></td>
<td>
<p>Integer; which marginal R2 in output of r.squaredGLMM to plot.</p>
</td></tr>
<tr><td><code id="plot.glmmhp_+3A_dig">dig</code></td>
<td>
<p>Integer; number of decimal places in Venn diagram.</p>
</td></tr>
<tr><td><code id="plot.glmmhp_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object
</p>


<h3>Author(s)</h3>

<p>Jiangshan Lai <a href="mailto:lai@njfu.edu.cn">lai@njfu.edu.cn</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MuMIn)
library(lme4)
mod1 &lt;- lmer(Sepal.Length ~ Petal.Length + Petal.Width +(1 | Species), data = iris)
a &lt;- glmm.hp(mod1)
plot(a)
mod3 &lt;- lm(Sepal.Length ~ Petal.Length+Petal.Width,data = iris)
plot(glmm.hp(mod3,type="R2"))
plot(glmm.hp(mod3,commonality=TRUE),color = c("#8DD3C7", "#FFFFB3"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

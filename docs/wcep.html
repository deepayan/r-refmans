<!DOCTYPE html><html><head><title>Help for package wcep</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wcep}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#wcep-package'><p>wcep: Survival Analysis for Weighted Composite Endpoints</p></a></li>
<li><a href='#plot.wcep'><p>wcep plot</p></a></li>
<li><a href='#toyexample'><p>Toy example</p></a></li>
<li><a href='#wcep'><p>Analysis of weighted composite endpoints</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Survival Analysis for Weighted Composite Endpoints</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sarah Rathwell &lt;srathwel@ualberta.ca&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sarah-0k/wcep">https://github.com/sarah-0k/wcep</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sarah-0k/wcep">https://github.com/sarah-0k/wcep</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Analyze given data frame with multiple endpoints and return Kaplan-Meier survival probabilities together with the specified confidence interval. See Nabipoor M, Westerhout CM, Rathwell S, and Bakal JA (2023) &lt;<a href="https://doi.org/10.1186%2Fs12874-023-01857-0">doi:10.1186/s12874-023-01857-0</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Language:</td>
<td>en-us</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>coin (&ge; 1.3-1), dplyr (&ge; 1.1.0), graphics (&ge; 3.6.1),
grDevices (&ge; 3.6.1), progress (&ge; 1.2.2), stats (&ge; 3.6.1),
tidyr (&ge; 1.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Collate:</td>
<td>'data.R' 'nam.R' 'plot.R' 'wcep-package.R' 'wcep_core.R'
'wcep.R'</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-19 16:49:08 UTC; vapidmayhem</td>
</tr>
<tr>
<td>Author:</td>
<td>Majid Nabipoor <a href="https://orcid.org/0000-0003-2578-8300"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Cynthia Westerhout
    <a href="https://orcid.org/0000-0003-1082-5981"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jeffrey Bakal <a href="https://orcid.org/0000-0002-3658-2554"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Sarah Rathwell <a href="https://orcid.org/0000-0003-3176-994X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-19 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='wcep-package'>wcep: Survival Analysis for Weighted Composite Endpoints</h2><span id='topic+wcep-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Analyze given data frame with multiple endpoints and return Kaplan-Meier survival probabilities together with the specified confidence interval. See Nabipoor M, Westerhout CM, Rathwell S, and Bakal JA (2023) <a href="https://doi.org/10.1186/s12874-023-01857-0">doi:10.1186/s12874-023-01857-0</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Sarah Rathwell <a href="mailto:srathwel@ualberta.ca">srathwel@ualberta.ca</a> (<a href="https://orcid.org/0000-0003-3176-994X">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Majid Nabipoor <a href="mailto:nabipoor@ualberta.ca">nabipoor@ualberta.ca</a> (<a href="https://orcid.org/0000-0003-2578-8300">ORCID</a>)
</p>
</li>
<li><p> Cynthia Westerhout <a href="mailto:cindy.westerhout@ualberta.ca">cindy.westerhout@ualberta.ca</a> (<a href="https://orcid.org/0000-0003-1082-5981">ORCID</a>)
</p>
</li>
<li><p> Jeffrey Bakal <a href="mailto:jbakal@ualberta.ca">jbakal@ualberta.ca</a> (<a href="https://orcid.org/0000-0002-3658-2554">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/sarah-0k/wcep">https://github.com/sarah-0k/wcep</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/sarah-0k/wcep">https://github.com/sarah-0k/wcep</a>
</p>
</li></ul>


<hr>
<h2 id='plot.wcep'>wcep plot</h2><span id='topic+plot.wcep'></span>

<h3>Description</h3>

<p>Create a plot of Kaplan-Meier curve with its specified confidence interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'wcep'
plot(
  x,
  main = " ",
  type = "n",
  lty = NULL,
  lwd = NULL,
  xlab = " ",
  ylab = "Survival Probability",
  xlim = NULL,
  ylim = NULL,
  cex = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.wcep_+3A_x">x</code></td>
<td>
<p>is an object of class &quot;wcep&quot;</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_main">main</code></td>
<td>
<p>title of plot</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_type">type</code></td>
<td>
<p>type of plot</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_lty">lty</code></td>
<td>
<p>line type</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_xlab">xlab</code></td>
<td>
<p>first axis label</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_ylab">ylab</code></td>
<td>
<p>second axis label</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_xlim">xlim</code></td>
<td>
<p>first axis limits</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_ylim">ylim</code></td>
<td>
<p>second axis limits</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_cex">cex</code></td>
<td>
<p>legend font size</p>
</td></tr>
<tr><td><code id="plot.wcep_+3A_...">...</code></td>
<td>
<p>other parameters of generic &quot;plot&quot; have no use here
setOldClass(&quot;wcep&quot;)</p>
</td></tr>
</table>

<hr>
<h2 id='toyexample'>Toy example</h2><span id='topic+toyexample'></span>

<h3>Description</h3>

<p>A data set containing patient IDs, event types, event times, and
gender of 100 patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toyexample
</code></pre>


<h3>Format</h3>

<p>A data frame with 104 rows and 4 columns
</p>

<dl>
<dt>PTID</dt><dd><p>ID number of patients</p>
</dd>
<dt>EvTp</dt><dd><p>Event Types: SHK as Shock, CHF as Congestive Heart
Failure, REMI as Recurrent Myocardial Infarction, DTH as
Death; and N as No event</p>
</dd>
<dt>EvTm</dt><dd><p>Event Time (day)</p>
</dd>
<dt>sex</dt><dd><p>Gender of patients, M as Male, F as Female</p>
</dd>
</dl>




<h3>References</h3>

<p>Armstrong P. W., Westerhout C. M., Van de Werf F., Califf R. M., Welsh R. C.,
Wilcox R. G., Bakal J. A. (2011) Refining clinical trial composite outcomes:
an application to the Assessment of the Safety and Efficacy of a New
Thrombolytic-3 (ASSENT-3) trial. <var>American Heart Journal</var>. <b>161</b>(5)
848-854.
</p>


<h3>Source</h3>

<p>It is a generated example based on ASSENT-3:
<a href="https://pubmed.ncbi.nlm.nih.gov/21570513">https://pubmed.ncbi.nlm.nih.gov/21570513</a>
</p>

<hr>
<h2 id='wcep'>Analysis of weighted composite endpoints</h2><span id='topic+wcep'></span>

<h3>Description</h3>

<p>Analyze given data frame and return Kaplan-Meier survival probabilities together with the specified confidence interval.
<code>wcep</code> modifies Kaplan-Meier curve by taking into account severity weights of different event. Alternative methods are Anderson Gill model and win ratio of composite outcomes.The function takes event dataset and user-specified severity weights  to generate a modified Kaplan-Meier curve and comparison statistics based on the weighted composite endpoint method.  The user supplies the event data set, the weights, and the factor to split on . The package will generate the weighted survival curve, confidence interval and test the differences between the two groups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wcep(x, EW, alpha = 0.05, split = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wcep_+3A_x">x</code></td>
<td>
<p>This data frame usually has 3 columns. The first column specifies patient ID,
which is a character or numeric vector, the second column is a factor with character values
of event types. The third column is a numeric vector of event times. If split = TRUE,
then the forth column is a character vector of split groups of at most two groups,
like gender.</p>
</td></tr>
<tr><td><code id="wcep_+3A_ew">EW</code></td>
<td>
<p>This data frame has two columns. The first column
specifies a character vector of event types. The second column specify weights.
The naming of event types in x and EW should be exactly similar.</p>
</td></tr>
<tr><td><code id="wcep_+3A_alpha">alpha</code></td>
<td>
<p>A numeric value between 0-1 which specifies the confidence level,
if it is not specified, by default is 0.05.</p>
</td></tr>
<tr><td><code id="wcep_+3A_split">split</code></td>
<td>
<p>A logical value of T or F which allows to compare two groups.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Bakal J., Westerhout C. M., Armstrong P. W. (2015) Impact of weighted composite
compared to traditional composite endpoints for the design of randomized
controlled trails. <var>Statistical Methods in Medicine Research</var>. <b>24</b>(6) 980-988.
</p>
<p>Nabipoor M., Westerhout C. M., Rathwell S., Bakal J. (2023) The empirical
estimate of the survival and variance using a weighted composite endpoint,
<var>BMC Medical Research Methodology</var>. <b>23</b>(35).
</p>


<h3>Author(s)</h3>

<p>Majid Nabipoor: nabipoor@ualberta.ca,
Cynthia Westerhout: cindy.westerhout@ualberta.ca,
Jeffrey Bakal: jbakal@ualberta.ca
</p>


<h3>See Also</h3>

<p><code>coxph</code> for Anderson Gill model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(toyexample)
#event weights
EW &lt;- data.frame(event = c('CHF','DTH','SHK','REMI'), weight = c(0.3,1,0.5,0.2))
res1 &lt;- wcep(toyexample, EW)
str(res1)
res1$survival_probabilities
plot(res1)
#comparing two genders
res2 &lt;- wcep(toyexample, EW, split=TRUE)
plot(res2)
#wilcox and t test
res2$Wilcoxontest
res2$t_test
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

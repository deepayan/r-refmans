<!DOCTYPE html><html lang="en-US"><head><title>Help for package uklr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {uklr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ons_countries'><p>Office of National Statistic Location Classification</p></a></li>
<li><a href='#ons_lookup'><p>Office of National Statistic Location Classification</p></a></li>
<li><a href='#ons_pc'><p>UK Postcodes</p></a></li>
<li><a href='#pc'><p>UK Postcodes and NUTS3 Codes</p></a></li>
<li><a href='#retrieve_query'><p>Get the sparql query performed with <code>sparql</code>.</p></a></li>
<li><a href='#sparql'><p>Tools to create a custom SPARQL query</p></a></li>
<li><a href='#ukhp_avail_items'><p>Display Land Registry available categories</p></a></li>
<li><a href='#ukhp_get'><p>Get House Price Data</p></a></li>
<li><a href='#uklr_browse'><p>Quickly browse to Land Registry's webpage</p></a></li>
<li><a href='#uklr_def'><p>Linked Data Definitions</p></a></li>
<li><a href='#uklr-deprecated'><p>Deprecated functions in package <span class="pkg">uklr</span>.</p></a></li>
<li><a href='#ukppd_avail_items'><p>Display Price Paid Date available categories</p></a></li>
<li><a href='#ukppd_get'><p>Get Price Paid Data</p></a></li>
<li><a href='#uktrans_avail_items'><p>Display Land Registry Transaction available categories</p></a></li>
<li><a href='#uktrans_get'><p>Get Transaction Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Client to United Kingdom Land Registry</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Access data from Land Registry Open Data
    <a href="http://landregistry.data.gov.uk/">http://landregistry.data.gov.uk/</a> through 'SPARQL' queries. 'uklr'
    supports the house price index, transaction and price paid data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kvasilopoulos.github.io/uklr/">https://kvasilopoulos.github.io/uklr/</a>,
<a href="https://github.com/kvasilopoulos/uklr/">https://github.com/kvasilopoulos/uklr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kvasilopoulos/uklr/issues">https://github.com/kvasilopoulos/uklr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl (&ge; 4.3), httr (&ge; 1.4.1), jsonlite (&ge; 1.6), tibble (&ge;
2.1.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>markdown (&ge; 1.1), covr (&ge; 3.5.0), spelling (&ge; 2.1),
testthat (&ge; 2.1.0), knitr (&ge; 1.29)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-05-21 14:54:59 UTC; T460p</td>
</tr>
<tr>
<td>Author:</td>
<td>Kostas Vasilopoulos
    <a href="https://orcid.org/0000-0002-9769-6395"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kostas Vasilopoulos &lt;k.vasilopoulo@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-05-25 00:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ons_countries'>Office of National Statistic Location Classification</h2><span id='topic+ons_countries'></span><span id='topic+ons_eng_regions'></span><span id='topic+ons_regions'></span><span id='topic+ons_eng_counties'></span><span id='topic+ons_la'></span>

<h3>Description</h3>

<p>Functions <code>ons_countries</code>, <code>ons_regions</code>, <code>ons_eng_counties</code>
and <code>ons_la</code> provide a vector of countries, regions, English counties
and local authorities respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_countries(modify = TRUE)

ons_eng_regions(modify = TRUE)

ons_regions(modify = TRUE)

ons_eng_counties(modify = TRUE)

ons_la(modify = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_countries_+3A_modify">modify</code></td>
<td>
<p>Modifies the vector to conform with the queries.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the location names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_countries()

</code></pre>

<hr>
<h2 id='ons_lookup'>Office of National Statistic Location Classification</h2><span id='topic+ons_lookup'></span><span id='topic+ons_nuts1'></span><span id='topic+ons_nuts2'></span><span id='topic+ons_nuts3'></span><span id='topic+ons_lad'></span>

<h3>Description</h3>

<p><code>ons_lookup</code> provides a table that that combines local authority
districts (lad), local administrative units (lau), nomenclature of territorial
units for statistics(NUTS) 1,2 and 3. The other functions can extract the
mentioned variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_lookup()

ons_nuts1()

ons_nuts2()

ons_nuts3()

ons_lad()
</code></pre>


<h3>Value</h3>

<p>A character vector with the location names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ons_lookup()

</code></pre>

<hr>
<h2 id='ons_pc'>UK Postcodes</h2><span id='topic+ons_pc'></span>

<h3>Description</h3>

<p>Vector of UK postcodes. Search for matches with the 'pattern' argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ons_pc(pattern = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ons_pc_+3A_pattern">pattern</code></td>
<td>
<p>partial matching</p>
</td></tr>
</table>


<h3>Details</h3>

<p>ons_pc(&quot;EH21 8A&quot;)
</p>

<hr>
<h2 id='pc'>UK Postcodes and NUTS3 Codes</h2><span id='topic+pc'></span>

<h3>Description</h3>

<p>UK Postcodes and NUTS3 Codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pc
</code></pre>


<h3>Format</h3>

<p>An object of class <code>spec_tbl_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 1759911 rows and 2 columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pc
</code></pre>

<hr>
<h2 id='retrieve_query'>Get the sparql query performed with <code>sparql</code>.</h2><span id='topic+retrieve_query'></span>

<h3>Description</h3>

<p>Get the sparql query performed with <code>sparql</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>retrieve_query(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="retrieve_query_+3A_x">x</code></td>
<td>
<p>the result of query.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the a character vector with the query.
</p>

<hr>
<h2 id='sparql'>Tools to create a custom SPARQL query</h2><span id='topic+sparql'></span><span id='topic+prefix_query'></span>

<h3>Description</h3>

<p>Function to create custom queries with the '/landregistry/query endpoint'. All
necessary prefixes have to be included and output will be parsed from json to
dataframe. The most prefixes from land registry can be include with <code>prefix_query</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sparql(
  query,
  endpoint = "http://landregistry.data.gov.uk/landregistry/query",
  ...
)

prefix_query(query)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sparql_+3A_query">query</code></td>
<td>
<p>custom query.</p>
</td></tr>
<tr><td><code id="sparql_+3A_endpoint">endpoint</code></td>
<td>
<p>land registry's web service endpoint.</p>
</td></tr>
<tr><td><code id="sparql_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code>httr::GET</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble that has been parsed from json.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>custom_query &lt;- "select * where {
  &lt;http://landregistry.data.gov.uk/data/ukhpi/region/newport/month/2013-10&gt; ?property ?value
}"
sparql(prefix_query(custom_query))

</code></pre>

<hr>
<h2 id='ukhp_avail_items'>Display Land Registry available categories</h2><span id='topic+ukhp_avail_items'></span><span id='topic+ukhp_avail_regions'></span><span id='topic+ukhp_avail_date_span'></span><span id='topic+ukhp_avail_date_last'></span>

<h3>Description</h3>

<p><code>ukhp_avail_regions()</code> displays available regions, <code>ukhp_avail_regions()</code>
displays available items, <code>ukhp_avail_date_span()</code> displays available date sample,
and <code>ukhp_avail_date_last</code> displays the last available date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukhp_avail_items()

ukhp_avail_regions()

ukhp_avail_date_span()

ukhp_avail_date_last()
</code></pre>


<h3>Value</h3>

<p>Returns a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ukhp_avail_regions()[1:10]
ukhp_avail_items()
ukhp_avail_date_last()

</code></pre>

<hr>
<h2 id='ukhp_get'>Get House Price Data</h2><span id='topic+ukhp_get'></span>

<h3>Description</h3>

<p>The UK House Price Index (UK HPI) captures changes in the value of residential
properties. The UK HPI uses sales data collected on residential housing
transactions, whether for cash or with a mortgage. Data is available at a
national and regional level, as well as counties, local authorities and London boroughs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukhp_get(
  region = "england",
  item = "housePriceIndex",
  regexp = FALSE,
  start_date = NULL,
  end_date = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukhp_get_+3A_region">region</code></td>
<td>
<p>the region to select. If regexp is set to FALSE then the matching
should be exact, see <code>ukhp_avail_regions</code> for available regions. If regexp
is set to TRUE then partial matching is possible. Furthermore if it is set to
NULL then selects all available regions.</p>
</td></tr>
<tr><td><code id="ukhp_get_+3A_item">item</code></td>
<td>
<p>the item to select. See <code>ukhp_avail_items</code> for the available
categories.</p>
</td></tr>
<tr><td><code id="ukhp_get_+3A_regexp">regexp</code></td>
<td>
<p>use regular expression in sparql to search for regions.</p>
</td></tr>
<tr><td><code id="ukhp_get_+3A_start_date">start_date</code></td>
<td>
<p>the start date as YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="ukhp_get_+3A_end_date">end_date</code></td>
<td>
<p>the end date as YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="ukhp_get_+3A_...">...</code></td>
<td>
<p>query modifiers passed through <code>rdf_modifiers</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Properties have been included:
</p>

<ul>
<li><p> in England and Wales since January 1995
</p>
</li>
<li><p> in Scotland since January 2004
</p>
</li>
<li><p> in Northern Ireland since January 2005
</p>
</li></ul>



<h3>Value</h3>

<p>Returns a tibble in long format.
</p>


<h3>See Also</h3>

<p><code>rdf_modifiers</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# This is case sensitive
ukhp_get("england")

# However you can use regular expression instead of exact match
ukhp_get("england", regexp = TRUE)

# For all available items
ukhp_avail_items()

ukhp_get(c("england", "wales"), item = c("salesVolume", "housePriceIndexDetached"))

</code></pre>

<hr>
<h2 id='uklr_browse'>Quickly browse to Land Registry's webpage</h2><span id='topic+uklr_browse'></span><span id='topic+ukhp_browse'></span><span id='topic+ukppd_browse'></span><span id='topic+uktrans_browse'></span>

<h3>Description</h3>

<p>These functions take you to land registry's webpages and return the URL invisibly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uklr_browse()

ukhp_browse()

ukppd_browse()

uktrans_browse()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>uklr_browse()

</code></pre>

<hr>
<h2 id='uklr_def'>Linked Data Definitions</h2><span id='topic+uklr_def'></span><span id='topic+ukhp_def'></span><span id='topic+ukppd_def'></span><span id='topic+uktrans_def'></span>

<h3>Description</h3>

<p>These functions return the definitions for the linked data construction in
a tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uklr_def()

ukhp_def()

ukppd_def()

uktrans_def()
</code></pre>


<h3>Value</h3>

<p>Returns a tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
uklr_def()

ukhp_def()

</code></pre>

<hr>
<h2 id='uklr-deprecated'>Deprecated functions in package <span class="pkg">uklr</span>.</h2><span id='topic+uklr-deprecated'></span><span id='topic+get_query'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for deprecated functions are
available at <code>help("-deprecated")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_query(x)
</code></pre>

<hr>
<h2 id='ukppd_avail_items'>Display Price Paid Date available categories</h2><span id='topic+ukppd_avail_items'></span><span id='topic+ukppd_avail_optional_items'></span><span id='topic+ukppd_avail_postcodes'></span>

<h3>Description</h3>

<p><code>ukppd_avail_items()</code> displays all available items for search,
<code>ukppd_avail_optional_items()</code> displays optional items that refer to the
location of the transaction and <code>ukppd_avail_postcodes</code> displays the
available postcodes.
/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukppd_avail_items()

ukppd_avail_optional_items()

ukppd_avail_postcodes()
</code></pre>


<h3>Value</h3>

<p>Returns a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ukppd_avail_items()

ukppd_avail_optional_items()

ukppd_avail_postcodes()[1:10]

</code></pre>

<hr>
<h2 id='ukppd_get'>Get Price Paid Data</h2><span id='topic+ukppd_get'></span>

<h3>Description</h3>

<p>Price Paid Data tracks property sales in England and Wales submitted to HM Land
Registry for registration.  Price Paid Data is based on the raw data released each month.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ukppd_get(
  postcode = "PL6 8RU",
  item = NULL,
  optional_item = NULL,
  start_date = NULL,
  end_date = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ukppd_get_+3A_postcode">postcode</code></td>
<td>
<p>postcode to select, see <code>ukppd_avail_postcode()</code> for
available postcodes.</p>
</td></tr>
<tr><td><code id="ukppd_get_+3A_item">item</code></td>
<td>
<p>item to select, see <code>ukppd_avail_items()</code> for
available items.</p>
</td></tr>
<tr><td><code id="ukppd_get_+3A_optional_item">optional_item</code></td>
<td>
<p>optional item to select that describes the location of
the transaction, , see <code>ukppd_avail_optional_items()</code> for available
items.</p>
</td></tr>
<tr><td><code id="ukppd_get_+3A_start_date">start_date</code></td>
<td>
<p>the start date as YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="ukppd_get_+3A_end_date">end_date</code></td>
<td>
<p>the end date as YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="ukppd_get_+3A_...">...</code></td>
<td>
<p>query modifiers passed through <code>rdf_modifiers</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble in long format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ukppd_get("PL6 8RU")

ukppd_get("PL6 8RU", start_date = "2001-01-01")

ukppd_get("PL6 8RU", item = "newBuild", optional_item = "street")

</code></pre>

<hr>
<h2 id='uktrans_avail_items'>Display Land Registry Transaction available categories</h2><span id='topic+uktrans_avail_items'></span><span id='topic+uktrans_avail_regions'></span>

<h3>Description</h3>

<p><code>uktrans_avail_items()</code> and <code>uktrans_avail_regions()</code> display
available items and regions for search respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uktrans_avail_items()

uktrans_avail_regions()
</code></pre>


<h3>Value</h3>

<p>Returns a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
uktrans_avail_items()
uktrans_avail_regions()
</code></pre>

<hr>
<h2 id='uktrans_get'>Get Transaction Data</h2><span id='topic+uktrans_get'></span>

<h3>Description</h3>

<p>Transaction Data is a dataset that shows how many customer applications we completed,
in the preceding month for: first registrations, leases, transfers of part,
dealings, official copies and searches. This is based on customer and location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uktrans_get(
  item = "totalApplicationCountByRegion",
  region = NULL,
  regexp = TRUE,
  start_date = NULL,
  end_date = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="uktrans_get_+3A_item">item</code></td>
<td>
<p>item to select, see <code>uktrans_avail_items()</code> for
available items.</p>
</td></tr>
<tr><td><code id="uktrans_get_+3A_region">region</code></td>
<td>
<p>region to select, see <code>uktrans_avail_regions()</code> for
available regions.</p>
</td></tr>
<tr><td><code id="uktrans_get_+3A_regexp">regexp</code></td>
<td>
<p>use regular expression in sparql to search for regions.</p>
</td></tr>
<tr><td><code id="uktrans_get_+3A_start_date">start_date</code></td>
<td>
<p>the start date as YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="uktrans_get_+3A_end_date">end_date</code></td>
<td>
<p>the end date as YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="uktrans_get_+3A_...">...</code></td>
<td>
<p>query modifiers passed through <code>rdf_modifiers</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble in long format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
uktrans_get(item = "totalApplicationCountByRegion", region = "East Anglia")

# If `region` is left as NULL then it returns all available regions
uktrans_get(item = "totalApplicationCountByRegion")

# Quering all available transaction data
uktrans_get(item = uktrans_avail_items())

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

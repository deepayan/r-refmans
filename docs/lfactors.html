<!DOCTYPE html><html><head><title>Help for package lfactors</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lfactors}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.factor.lfactor'><p>factor from an lfactor</p></a></li>
<li><a href='#as.integer.lfactor'><p>Integer Vectors from lfactors</p></a></li>
<li><a href='#as.numeric.lfactor'><p>Numeric Vectors from lfactors</p></a></li>
<li><a href='#inlf'><p>Implements %in% for lfactors</p></a></li>
<li><a href='#lfactor'><p>lfactors</p></a></li>
<li><a href='#lfactors-package'><p>Allow a user to use == and %in% on an lfactor for both the label and the</p>
level</a></li>
<li><a href='#llevels'><p>Numeric Levels of an lfactor</p></a></li>
<li><a href='#mlfactor'><p><code>match</code> Function for lfactors</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-03-16</td>
</tr>
<tr>
<td>Title:</td>
<td>Factors with Levels</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul Bailey [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Bailey &lt;pbailey@air.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, Matrix</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an extension to factors called 'lfactor' that are similar
    to factors but allows users to refer to 'lfactor' levels by either the level or
    the label.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-03-16 18:28:25 UTC; pbailey</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-03-16 21:41:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.factor.lfactor'>factor from an lfactor</h2><span id='topic+as.factor.lfactor'></span><span id='topic+as.factor+2Clfactor-method'></span>

<h3>Description</h3>

<p>Returns a <a href="base.html#topic+factor">factor</a> from an <code><a href="#topic+lfactor">lfactor</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lfactor'
as.factor(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.factor.lfactor_+3A_x">x</code></td>
<td>
<p>the lfactor to be coerced to a factor</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simply drops the numeric levels from the lfactor and returns a normal factor.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+factor">as.factor</a></code>
</p>

<hr>
<h2 id='as.integer.lfactor'>Integer Vectors from lfactors</h2><span id='topic+as.integer.lfactor'></span>

<h3>Description</h3>

<p>Returns integer representation of an lfactor that ignores the values used in
the <code>levels</code> argument when the lfactor was created and instead returns
an integer representation starting with 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lfactor'
as.integer(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.integer.lfactor_+3A_x">x</code></td>
<td>
<p>same as <code><a href="base.html#topic+integer">as.integer</a></code></p>
</td></tr>
<tr><td><code id="as.integer.lfactor_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method does not return integer results that are otherwise equal to the
results from as.numeric for compatibility with
<code><a href="Matrix.html#topic+sparse.model.matrix">sparse.model.matrix</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+integer">as.integer</a></code>, <code><a href="#topic+as.numeric.lfactor">as.numeric.lfactor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(lfactors)
# create an example
let &lt;- lfactor(4:12,
               levels=4:12,
               labels=letters[4:12])

as.numeric(let)
#same as as.numeric(4:12)
as.integer(let)
#same as 1:9

</code></pre>

<hr>
<h2 id='as.numeric.lfactor'>Numeric Vectors from lfactors</h2><span id='topic+as.numeric.lfactor'></span>

<h3>Description</h3>

<p>Returns numeric representation of an lfactor equal to the <code>levels</code>
argument for each value. This is different from the behavior of factor which
would ignore the values of <code>level</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lfactor'
as.numeric(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.numeric.lfactor_+3A_x">x</code></td>
<td>
<p>same as <code><a href="base.html#topic+numeric">as.numeric</a></code></p>
</td></tr>
<tr><td><code id="as.numeric.lfactor_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method does not return floating point (numeric) results that are otherwise equal to the results from <code><a href="#topic+as.integer.lfactor">as.integer.lfactor</a></code>.
Instead it returns the value of the level that was input when the lfactor was created.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+numeric">as.numeric</a></code>,
<code><a href="#topic+as.integer.lfactor">as.integer.lfactor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(lfactors)
# create an example
let &lt;- lfactor(4:12,
               levels=4:12,
               labels=letters[4:12])

as.numeric(let)
#same as as.numeric(4:12)
as.integer(let)
#same as 1:9

</code></pre>

<hr>
<h2 id='inlf'>Implements %in% for lfactors</h2><span id='topic+inlf'></span><span id='topic++25in+25+2CANY+2Clfactor-method'></span><span id='topic++25in+25+2Clfactor+2CANY-method'></span><span id='topic++25in+25+2Clfactor+2Clfactor-method'></span>

<h3>Description</h3>

<p>Implements %in% for lfactors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inlf(x, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inlf_+3A_x">x</code></td>
<td>
<p>same as <code><a href="base.html#topic+match">%in%</a></code></p>
</td></tr>
<tr><td><code id="inlf_+3A_table">table</code></td>
<td>
<p>same as <code><a href="base.html#topic+match">%in%</a></code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="base.html#topic+match">%in%</a></code>
</p>

<hr>
<h2 id='lfactor'>lfactors</h2><span id='topic+lfactor'></span>

<h3>Description</h3>

<p><code>lfactor</code> creates a factor that can be compared to its levels or labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lfactor(x, levels, labels = levels, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lfactor_+3A_x">x</code></td>
<td>
<p>a numeric or character vector of data. Levels of x can be taken
either from levels or labels.</p>
</td></tr>
<tr><td><code id="lfactor_+3A_levels">levels</code></td>
<td>
<p>a numeric vector of levels in x. Note that, unlike
<code>factor</code>, these must be numeric.</p>
</td></tr>
<tr><td><code id="lfactor_+3A_labels">labels</code></td>
<td>
<p>a vector of labels for the levels. This vector must be either
characters that cannot be cast as numeric or characters that
are equal to the level, of the same index,
when cast as numeric.</p>
</td></tr>
<tr><td><code id="lfactor_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="base.html#topic+factor">factor</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>An lfactor can be compared to the levels or the labels
(see the Examples). Because of that,
the levels must be numeric, and the labels must be either not castable
as numeric or equal to
the levels of the same index when cast as numeric.
</p>
<p>An lfactor is, essentially, a factor that remembers the levels
as well as the labels argument.
Note that all of the arguments are passed to
<code><a href="base.html#topic+factor">factor</a></code>. Because lfactor imposes
some additional constraints on the types of levels and labels
and stores additional information,
an lfactor uses more memory than a factor&mdash;because it stores both
labels and levels&mdash;and is,
in some ways, more limited than a factor.
</p>


<h3>Value</h3>

<p>An object of class lfactor that also implements <code><a href="base.html#topic+factor">factor</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+factor">factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(lfactors)
# make an example lfactor object
mon &lt;- lfactor(1:12,
               levels=1:12,
               labels=c("Jan", "Feb", "Mar", "Apr", "May","Jun",
                        "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"))
# print out the lfactor
mon
# compare to label
mon == "Feb"
# Compare to level
mon == 2
# Show that the == works correctly
all.equal(mon == "Feb", mon == 2)
# Show that the != works correctly
all.equal(mon != "Feb", mon != 2)
# also works when the vector is not the lfactor
all.equal(mon[3] == c("Jan", "Feb", "Mar"), mon[3] == 1:3)

# or when both the lfactor and the object being compare to are vectors
all.equal(mon[1:2] == c("Feb", "Tuesday"), mon[1:2] == c(2,-4) )

# similar to Ops.factor, this gives a helpful warning and NA results
mon &gt;= "Jan" 

# %in% works correctly
all.equal(mon %in% c(2, 3), mon %in% c("Feb", "Mar"))
# and when the lfactor is on the right
all.equal(c(-4, 14,3,10) %in% mon, c("not a month", "Third December","Mar","Oct") %in% mon)
# and when both left and right are lfactors
all.equal(mon %in% mon, rep(TRUE,12))
</code></pre>

<hr>
<h2 id='lfactors-package'>Allow a user to use == and %in% on an lfactor for both the label and the
level</h2><span id='topic+lfactors-package'></span>

<h3>Description</h3>

<p>Similar to a factor, the user defines levels and labels when 
creating an <code>lfactor</code>. This is especially useful when
labels are long, and users know the levels well.
</p>


<h3>Details</h3>

<p>See <code><a href="#topic+lfactor">lfactor</a></code> for examples.
</p>

<hr>
<h2 id='llevels'>Numeric Levels of an lfactor</h2><span id='topic+llevels'></span>

<h3>Description</h3>

<p><code>llevels</code> gives the numeric levels of an lfactor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>llevels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="llevels_+3A_x">x</code></td>
<td>
<p>object of class lfactor</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of levels
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+levels">levels</a></code>
</p>

<hr>
<h2 id='mlfactor'><code><a href="base.html#topic+match">match</a></code> Function for lfactors</h2><span id='topic+mlfactor'></span><span id='topic+match+2Clfactor+2CANY-method'></span><span id='topic+match+2CANY+2Clfactor-method'></span><span id='topic+match+2Clfactor+2Clfactor-method'></span>

<h3>Description</h3>

<p><code><a href="base.html#topic+match">match</a></code> function for lfactors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mlfactor(x, table, nomatch = NA_integer_, incomparables = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mlfactor_+3A_x">x</code></td>
<td>
<p>same as <code><a href="base.html#topic+match">match</a></code></p>
</td></tr>
<tr><td><code id="mlfactor_+3A_table">table</code></td>
<td>
<p>same as <code><a href="base.html#topic+match">match</a></code></p>
</td></tr>
<tr><td><code id="mlfactor_+3A_nomatch">nomatch</code></td>
<td>
<p>same as <code><a href="base.html#topic+match">match</a></code></p>
</td></tr>
<tr><td><code id="mlfactor_+3A_incomparables">incomparables</code></td>
<td>
<p>same as <code><a href="base.html#topic+match">match</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Allows <code>match</code> to work when the <code>x</code> or <code>table</code> arguments in a call to match are lfactors.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+match">match</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

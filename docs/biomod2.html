<!DOCTYPE html><html><head><title>Help for package biomod2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {biomod2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.categorical2numeric'><p>Transform categorical into numeric variables</p></a></li>
<li><a href='#.check_bytes_format'><p>Check bytes formatting</p></a></li>
<li><a href='#.get_categorical_names'><p>Get categorical variable names</p></a></li>
<li><a href='#.get_env_class'><p>Get class of environmental data provided</p></a></li>
<li><a href='#.load_gam_namespace'><p>Load library for GAM models</p></a></li>
<li><a href='#.transform_model.as.col'><p>Transform predictions data.frame from long to wide with models as columns</p></a></li>
<li><a href='#.transform.outputs.array-deprecated'><p>.transform.outputs.array</p></a></li>
<li><a href='#.transform.outputs.list-deprecated'><p>.transform.outputs.list</p></a></li>
<li><a href='#BinaryTransformation-deprecated'><p>BinaryTransformation</p></a></li>
<li><a href='#bioclim_current'><p>Bioclimatic variables for SDM based on current condition</p></a></li>
<li><a href='#bioclim_future'><p>Bioclimatic variables for SDM based on future condition</p></a></li>
<li><a href='#BIOMOD_ConvertOldRun-deprecated'><p>BIOMOD_ConvertOldRun</p></a></li>
<li><a href='#BIOMOD_CrossValidation-deprecated'><p>BIOMOD_CrossValidation</p></a></li>
<li><a href='#BIOMOD_cv-deprecated'><p>BIOMOD_cv</p></a></li>
<li><a href='#BIOMOD_EnsembleForecasting'><p>Project ensemble species distribution models onto new environment</p></a></li>
<li><a href='#BIOMOD_EnsembleModeling'><p>Create and evaluate an ensemble set of models and predictions</p></a></li>
<li><a href='#BIOMOD_FormatingData'><p>Format input data, and select pseudo-absences if wanted, for usage in <span class="pkg">biomod2</span></p></a></li>
<li><a href='#BIOMOD_LoadModels'><p>Load species distribution models built with <span class="pkg">biomod2</span></p></a></li>
<li><a href='#BIOMOD_Modeling'><p>Run a range of species distribution models</p></a></li>
<li><a href='#BIOMOD_ModelingOptions'><p>Configure the modeling options for each selected model</p></a></li>
<li><a href='#BIOMOD_PresenceOnly'><p>Evaluate models with presence-only metrics</p></a></li>
<li><a href='#BIOMOD_presenceonly-deprecated'><p>BIOMOD_presenceonly</p></a></li>
<li><a href='#BIOMOD_Projection'><p>Project a range of calibrated species distribution models onto new environment</p></a></li>
<li><a href='#BIOMOD_RangeSize'><p>Analyze the range size differences between projections of species distribution models</p></a></li>
<li><a href='#BIOMOD_Tuning'><p>Tune models parameters</p></a></li>
<li><a href='#BIOMOD_tuning-deprecated'><p>BIOMOD_tuning</p></a></li>
<li><a href='#BIOMOD.ensemble.models.out'><p><code>BIOMOD_EnsembleModeling()</code> output object class</p></a></li>
<li><a href='#BIOMOD.formated.data'><p><code>BIOMOD_FormatingData()</code> output object class</p></a></li>
<li><a href='#BIOMOD.formated.data.PA'><p><code>BIOMOD_FormatingData()</code> output object class (with pseudo-absences)</p></a></li>
<li><a href='#BIOMOD.models.options'><p><code>BIOMOD_ModelingOptions()</code> output object class</p></a></li>
<li><a href='#BIOMOD.models.out'><p><code>BIOMOD_Modeling()</code> output object class</p></a></li>
<li><a href='#BIOMOD.projection.out'><p><code>BIOMOD_Projection()</code> output object class</p></a></li>
<li><a href='#BIOMOD.stored.data'><p><code>BIOMOD_EnsembleModeling()</code> output object class</p></a></li>
<li><a href='#biomod2_ensemble_model'><p>Ensemble model output object class (when running <code>BIOMOD_EnsembleModeling()</code>)</p></a></li>
<li><a href='#biomod2_model'><p>Single model output object class (when running <code>BIOMOD_Modeling()</code>)</p></a></li>
<li><a href='#biomod2-deprecated'><p>Deprecated functions in package <span class="pkg">biomod2</span>.</p></a></li>
<li><a href='#bm_BinaryTransformation'><p>Convert probability values into binary values using a predefined threshold</p></a></li>
<li><a href='#bm_CrossValidation'><p>Build cross-validation table</p></a></li>
<li><a href='#bm_CVnnet'><p>Cross-validation for Neural Networks</p></a></li>
<li><a href='#bm_FindOptimStat'><p>Calculate the best score according to a given evaluation method</p></a></li>
<li><a href='#bm_MakeFormula'><p>Standardized formula maker</p></a></li>
<li><a href='#bm_PlotEvalBoxplot'><p>Plot boxplot of evaluation scores</p></a></li>
<li><a href='#bm_PlotEvalMean'><p>Plot mean evaluation scores</p></a></li>
<li><a href='#bm_PlotRangeSize'><p>Plot species range change</p></a></li>
<li><a href='#bm_PlotResponseCurves'><p>Plot response curves</p></a></li>
<li><a href='#bm_PlotVarImpBoxplot'><p>Plot boxplot of variables importance</p></a></li>
<li><a href='#bm_PseudoAbsences'><p>Select pseudo-absences</p></a></li>
<li><a href='#bm_RunModelsLoop'><p>Loop to compute all single species distribution models</p></a></li>
<li><a href='#bm_SampleBinaryVector'><p>Sample binary vector</p></a></li>
<li><a href='#bm_SampleFactorLevels'><p>Tool to ensure the sampling of all levels of a factorial variable</p></a></li>
<li><a href='#bm_SRE'><p>Surface Range Envelope</p></a></li>
<li><a href='#bm_VariablesImportance'><p>Variables' importance calculation</p></a></li>
<li><a href='#calculate.stat-deprecated'><p>calculate.stat</p></a></li>
<li><a href='#check_duplicated_cells'><p>Check duplicated cells</p></a></li>
<li><a href='#CustomIndexMaker-deprecated'><p>CustomIndexMaker</p></a></li>
<li><a href='#DataSpecies'><p>Presence-Absence data to build test SDM</p></a></li>
<li><a href='#FilteringTransformation-deprecated'><p>FilteringTransformation</p></a></li>
<li><a href='#Find.Optim.Stat-deprecated'><p>Find.Optim.Stat</p></a></li>
<li><a href='#getStatOptimValue-deprecated'><p>getStatOptimValue</p></a></li>
<li><a href='#getters.bm'><p>Functions to extract informations from <code>biomod2_model</code> objects</p></a></li>
<li><a href='#getters.out'><p>Functions to extract informations from <code>BIOMOD.models.out</code>,</p>
<code>BIOMOD.projection.out</code> or <code>BIOMOD.ensemble.models.out</code> objects</a></li>
<li><a href='#load_stored_object'><p>Functions to load <code>BIOMOD.stored.data</code> objects</p></a></li>
<li><a href='#makeFormula-deprecated'><p>makeFormula</p></a></li>
<li><a href='#models_scores_graph-deprecated'><p>models_scores_graph</p></a></li>
<li><a href='#plot,BIOMOD.formated.data,missing-method'><p><code>plot</code> method for <code>BIOMOD.formated.data</code> object class</p></a></li>
<li><a href='#predict.bm'><p>Functions to get predictions from <code>biomod2_model</code> objects</p></a></li>
<li><a href='#predict.em'><p>Functions to get predictions from <code>biomod2_ensemble_model</code> objects</p></a></li>
<li><a href='#predict2.bm'><p>Functions to get predictions from <code>biomod2_model</code> objects</p></a></li>
<li><a href='#predict2.em'><p>Functions to get predictions from <code>biomod2_ensemble_model</code> objects</p></a></li>
<li><a href='#Print_Default_ModelingOptions-deprecated'><p>Print_Default_ModelingOptions</p></a></li>
<li><a href='#ProbDensFunc-deprecated'><p>ProbDensFunc</p></a></li>
<li><a href='#rast.has.values'><p>Check whether SpatRaster is an empty <code>rast()</code></p></a></li>
<li><a href='#response.plot-deprecated'><p>response.plot</p></a></li>
<li><a href='#response.plot2-deprecated'><p>response.plot2</p></a></li>
<li><a href='#sample.factor.levels-deprecated'><p>sample.factor.levels</p></a></li>
<li><a href='#sre-deprecated'><p>sre</p></a></li>
<li><a href='#summary,BIOMOD.formated.data-method'><p><code>summary</code> method for <code>BIOMOD.formated.data</code> object class</p></a></li>
<li><a href='#update_objects-deprecated'><p>update_objects</p></a></li>
<li><a href='#variables_importance-deprecated'><p>variables_importance</p></a></li>
<li><a href='#zzz_bm'><p>Dummy function to clean working directory after package checks</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Ensemble Platform for Species Distribution Modeling</td>
</tr>
<tr>
<td>Version:</td>
<td>4.2-4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-06-15</td>
</tr>
<tr>
<td>Author:</td>
<td>Wilfried Thuiller [aut],
  Damien Georges [aut],
  Maya Gueguen [aut, cre],
  Robin Engler [aut],
  Frank Breiner [aut],
  Bruno Lafourcade [aut],
  Remi Patin [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Maya Gueguen &lt;maya.gueguen@univ-grenoble-alpes.fr&gt;</td>
</tr>
<tr>
<td>Contact:</td>
<td>Wilfried Thuiller &lt;wilfried.thuiller@univ-grenoble-alpes.fr&gt;,
Damien Georges &lt;damien.georges2@gmail.com&gt;, Maya Gueguen
&lt;maya.gueguen@univ-grenoble-alpes.fr&gt;, Remi Patin
&lt;remi.patin@univ-grenoble-alpes.fr&gt;</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/biomodhub/biomod2/issues">https://github.com/biomodhub/biomod2/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for species distribution modeling, calibration and evaluation, 
  ensemble of models, ensemble forecasting and visualization. The package permits to run
  consistently up to 10 single models on a presence/absences (resp presences/pseudo-absences)
  dataset and to combine them in ensemble models and ensemble projections. Some bench of other 
  evaluation and visualisation tools are also available within the package.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, methods, terra (&ge; 1.6-33), sp, reshape,
reshape2, abind, foreach, ggplot2, nnet, gbm (&ge; 2.1.3),
xgboost, mda, randomForest, maxnet, rpart, MASS, pROC (&ge;
1.15.0), PresenceAbsence, earth, dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>Hmisc, gam, mgcv, car, caret, dismo, ENMeval, doParallel,
raster, ggpubr, testthat, knitr, markdown, tidyterra, ggtext</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'biomod2-package.R' 'biomod2_globalVariables.R'
'biomod2_classes_1.R' 'biomod2_classes_2.R'
'biomod2_classes_3.R' 'biomod2_classes_4.R'
'biomod2_classes_5.R' 'biomod2_internal.R' 'biomod2_data.R'
'BIOMOD_EnsembleForecasting.R' 'BIOMOD_EnsembleModeling.R'
'BIOMOD_FormatingData.R' 'BIOMOD_LoadModels.R'
'BIOMOD_Modeling.R' 'BIOMOD_ModelingOptions.R'
'BIOMOD_PresenceOnly.R' 'BIOMOD_Projection.R'
'BIOMOD_RangeSize.R' 'BIOMOD_Tuning.R' 'DEPRECATED.R'
'bm_BinaryTransformation.R' 'bm_CrossValidation.R'
'bm_CVnnet.R' 'bm_FindOptimStat.R' 'bm_MakeFormula.R'
'bm_PlotEvalBoxplot.R' 'bm_PlotEvalMean.R' 'bm_PlotRangeSize.R'
'bm_PlotResponseCurves.R' 'bm_PlotVarImpBoxplot.R'
'bm_PseudoAbsences.R' 'bm_RunModelsLoop.R' 'bm_SRE.R'
'bm_SampleBinaryVector.R' 'bm_SampleFactorLevels.R'
'bm_VariablesImportance.R' 'zzz.R'</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-16 09:22:19 UTC; patinr</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-16 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.categorical2numeric'>Transform categorical into numeric variables</h2><span id='topic+.categorical2numeric'></span>

<h3>Description</h3>

<p>Internal function transform categorical variables in a 
data.frame into numeric variables. Mostly used with maxent which cannot 
read character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.categorical2numeric(df, categorical_var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".categorical2numeric_+3A_df">df</code></td>
<td>
<p>data.frame to be transformed</p>
</td></tr>
<tr><td><code id=".categorical2numeric_+3A_categorical_var">categorical_var</code></td>
<td>
<p>the names of categorical variables in df</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame without categorical variables
</p>

<hr>
<h2 id='.check_bytes_format'>Check bytes formatting</h2><span id='topic+.check_bytes_format'></span>

<h3>Description</h3>

<p>Internal function that check a character string to match a byte
format for Java. e.g. 1024M, 1024m, 1024k or 1024K
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.check_bytes_format(this_test, x, varname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".check_bytes_format_+3A_x">x</code></td>
<td>
<p>string to be transformed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a boolean
</p>

<hr>
<h2 id='.get_categorical_names'>Get categorical variable names</h2><span id='topic+.get_categorical_names'></span>

<h3>Description</h3>

<p>Internal function to get categorical variables name from a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.get_categorical_names(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".get_categorical_names_+3A_df">df</code></td>
<td>
<p>data.frame to be checked</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector with the name of categorical variables
</p>

<hr>
<h2 id='.get_env_class'>Get class of environmental data provided</h2><span id='topic+.get_env_class'></span>

<h3>Description</h3>

<p>Get class of environmental data provided
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.get_env_class(new.env)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".get_env_class_+3A_new.env">new.env</code></td>
<td>
<p>object to identify</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character
</p>

<hr>
<h2 id='.load_gam_namespace'>Load library for GAM models</h2><span id='topic+.load_gam_namespace'></span>

<h3>Description</h3>

<p>This function loads library for either GAM and BAM from mgcv
package or for GAM from gam package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.load_gam_namespace(model_subclass = c("GAM_mgcv", "BAM_mgcv", "GAM_gam"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".load_gam_namespace_+3A_model_subclass">model_subclass</code></td>
<td>
<p>the subclass of GAM model</p>
</td></tr>
</table>

<hr>
<h2 id='.transform_model.as.col'>Transform predictions data.frame from long to wide with models as columns</h2><span id='topic+.transform_model.as.col'></span>

<h3>Description</h3>

<p>This function is used internally in <code><a href="#topic+get_predictions">get_predictions</a></code>
to ensure back-compatibility with former output of <code><a href="#topic+get_predictions">get_predictions</a></code>
(i.e. for <span class="pkg">biomod2</span> version &lt; 4.2-2). It transform a long <code>data.frame</code>
into a wide <code>data.frame</code> with each column corresponding to a single model.
</p>
<p><em>Note that the function is intended for internal use but have been 
made available for compatibility with <span class="pkg">ecospat</span></em>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.transform_model.as.col(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".transform_model.as.col_+3A_df">df</code></td>
<td>
<p>a long <code>data.frame</code>, generally a standard output of 
<code><a href="#topic+get_predictions">get_predictions</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a wide <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Remi Patin
</p>

<hr>
<h2 id='.transform.outputs.array-deprecated'>.transform.outputs.array</h2><span id='topic+.transform.outputs.array-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function used in <span class="pkg">biomod2</span> 3.5.1 to transform
outputs into array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.transform.outputs.array(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".transform.outputs.array-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='.transform.outputs.list-deprecated'>.transform.outputs.list</h2><span id='topic+.transform.outputs.list-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code>.transform_outputs_list</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.transform.outputs.list(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".transform.outputs.list-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='BinaryTransformation-deprecated'>BinaryTransformation</h2><span id='topic+BinaryTransformation-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BinaryTransformation(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BinaryTransformation-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='bioclim_current'>Bioclimatic variables for SDM based on current condition</h2><span id='topic+bioclim_current'></span>

<h3>Description</h3>

<p>A <code><a href="terra.html#topic+rast">SpatRaster</a></code> with 5 bioclimatic variables commonly
used for SDM and describing current climate. Additional information available
at <a href="https://www.worldclim.org/data/bioclim.html">worldclim</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bioclim_current
</code></pre>


<h3>Format</h3>

<p>A <code><a href="terra.html#topic+rast">SpatRaster</a></code> with 5 layers:
</p>

<dl>
<dt>bio3</dt><dd><p>Isothermality</p>
</dd>
<dt>bio4</dt><dd><p>Temperature Seasonality</p>
</dd>
<dt>bio7</dt><dd><p>Temperature Annual Range</p>
</dd>
<dt>bio11</dt><dd><p>Mean Temperature of Coldest Quarter</p>
</dd>
<dt>bio12</dt><dd><p>Annual Precipitation</p>
</dd>
</dl>


<hr>
<h2 id='bioclim_future'>Bioclimatic variables for SDM based on future condition</h2><span id='topic+bioclim_future'></span>

<h3>Description</h3>

<p>A <code><a href="terra.html#topic+rast">SpatRaster</a></code> with 5 bioclimatic variables commonly
used for SDM and describing future climate based on old RCP scenarios at the
horizon 2080.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bioclim_future
</code></pre>


<h3>Format</h3>

<p>A <code><a href="terra.html#topic+rast">SpatRaster</a></code> with 5 layers:
</p>

<dl>
<dt>bio3</dt><dd><p>Isothermality</p>
</dd>
<dt>bio4</dt><dd><p>Temperature Seasonality</p>
</dd>
<dt>bio7</dt><dd><p>Temperature Annual Range</p>
</dd>
<dt>bio11</dt><dd><p>Mean Temperature of Coldest Quarter</p>
</dd>
<dt>bio12</dt><dd><p>Annual Precipitation</p>
</dd>
</dl>


<hr>
<h2 id='BIOMOD_ConvertOldRun-deprecated'>BIOMOD_ConvertOldRun</h2><span id='topic+BIOMOD_ConvertOldRun-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function used in <span class="pkg">biomod2</span> 3.5.1 to convert
results from older version into the current version
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_ConvertOldRun(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_ConvertOldRun-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='BIOMOD_CrossValidation-deprecated'>BIOMOD_CrossValidation</h2><span id='topic+BIOMOD_CrossValidation-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_CrossValidation(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_CrossValidation-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='BIOMOD_cv-deprecated'>BIOMOD_cv</h2><span id='topic+BIOMOD_cv-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+BIOMOD_CrossValidation">BIOMOD_CrossValidation</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_cv(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_cv-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='BIOMOD_EnsembleForecasting'>Project ensemble species distribution models onto new environment</h2><span id='topic+BIOMOD_EnsembleForecasting'></span>

<h3>Description</h3>

<p>This function allows to project ensemble models built with the 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> function onto new environmental data 
(<em>which can represent new areas, resolution or time scales for example</em>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_EnsembleForecasting(
  bm.em,
  bm.proj = NULL,
  proj.name = NULL,
  new.env = NULL,
  new.env.xy = NULL,
  models.chosen = "all",
  metric.binary = NULL,
  metric.filter = NULL,
  compress = TRUE,
  nb.cpu = 1,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_bm.em">bm.em</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object returned by the 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_bm.proj">bm.proj</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code> object returned by the 
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_proj.name">proj.name</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>bm.proj = NULL</code>, a <code>character</code> corresponding to the name (ID) of the 
projection set (<em>a new folder will be created within the simulation folder with this 
name</em>)</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_new.env">new.env</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>bm.proj = NULL</code>, a <code>matrix</code>, <code>data.frame</code> or
<code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the new 
explanatory variables (in columns or layers, with names matching the
variables names given to the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function to build 
<code>bm.mod</code>) that will be used to project the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">raster</span> are still supported such as 
<code>RasterStack</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_new.env.xy">new.env.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>new.env</code> is a <code>matrix</code> or a <code>data.frame</code>, a 2-columns <code>matrix</code> or 
<code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> coordinates that will 
be used to project the ensemble species distribution model(s)</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_models.chosen">models.chosen</code></td>
<td>
<p>a <code>vector</code> containing model names to be kept, must be either 
<code>all</code> or a sub-selection of model names that can be obtained with the 
<code><a href="#topic+get_built_models">get_built_models</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_metric.binary">metric.binary</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric names to be used to transform prediction values 
into binary values based on models evaluation scores obtained with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function. Must be among <code>all</code> (same evaluation metrics than 
those of <code>modeling.output</code>) or <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, 
<code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, 
<code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_metric.filter">metric.filter</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric names to be used to transform prediction values 
into filtered values based on models evaluation scores obtained with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function. Must be among <code>all</code> (same evaluation metrics than 
those of <code>modeling.output</code>) or <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, 
<code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, 
<code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_compress">compress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> or a <code>character</code> value defining whether and how objects should be 
compressed when saved on hard drive, must be either <code>TRUE</code>, <code>FALSE</code>, <code>xz</code> or 
<code>gzip</code> (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_nb.cpu">nb.cpu</code></td>
<td>
<p>(<em>optional, default</em> <code>1</code>) <br /> 
An <code>integer</code> value corresponding to the number of computing resources to be used to 
parallelize the single models computation</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_na.rm">na.rm</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br />
A boolean defining whether Ensemble Model projection should ignore <code>NA</code>
in Individual Model projection. Argument ignored by EWmean ensemble algorithm.</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleForecasting_+3A_...">...</code></td>
<td>
<p>(<em>optional, see Details</em>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>models.chosen = 'all'</code>, projections are done for all calibration and pseudo absences 
runs if applicable. <br /> These projections may be used later by the 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code> function. <br /> <br />
</p>
<p>If <code>build.clamping.mask = TRUE</code>, a raster file will be saved within the projection 
folder. This mask values will correspond to the number of variables in each pixel that are out 
of their calibration / validation range, identifying locations where predictions are uncertain. 
<br /> <br />
</p>
<p><code>...</code> can take the following values :
</p>

<ul>
<li><p><code>on_0_1000</code> : a <code>logical</code> value defining whether <code>0 - 1</code> 
probabilities are to be converted to <code>0 - 1000</code> scale to save memory on backup
</p>
</li>
<li><p><code>do.stack</code> : a <code>logical</code> value defining whether all projections are to be 
saved as one <code>SpatRaster</code> object or several <code>SpatRaster</code> files (<em>the 
default if projections are too heavy to be all loaded at once in memory</em>)
</p>
</li>
<li><p><code>keep.in.memory</code> : a <code>logical</code> value defining whether all projections are 
to be kept loaded at once in memory, or only links pointing to hard drive are to be returned
</p>
</li>
<li><p><code>output.format</code> : a <code>character</code> value corresponding to the projections 
saving format on hard drive, must be either <code>.grd</code>, <code>.img</code>, <code>.tif</code> or <code>.RData</code> (the 
default if <code>new.env</code> is given as <code>matrix</code> or <code>data.frame</code>)
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>BIOMOD.projection.out</code> object containing models projections, or links to saved 
outputs. <br /> Models projections are stored out of <span class="rlang"><b>R</b></span> (for memory storage reasons) in 
<code>proj.name</code> folder created in the current working directory :
</p>

<ol>
<li><p> the output is a <code>data.frame</code> if <code>new.env</code> is a <code>matrix</code> or a 
<code>data.frame</code>
</p>
</li>
<li><p> it is a <code><a href="terra.html#topic+rast">SpatRaster</a></code> if <code>new.env</code> 
is a <code><a href="terra.html#topic+rast">SpatRaster</a></code> (or several
<code><a href="terra.html#topic+rast">SpatRaster</a></code> objects, if <code>new.env</code> is too large)
</p>
</li>
<li><p> raw projections, as well as binary and filtered projections (if asked),
are saved in the <code>proj.name</code> folder
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges, Robin Engler
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, 
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)
# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



 
# --------------------------------------------------------------- #
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


file.proj &lt;- paste0(myRespName, "/proj_Current/", myRespName, ".Current.projection.out")
if (file.exists(file.proj)) {
  myBiomodProj &lt;- get(load(file.proj))
} else {

  # Project single models
  myBiomodProj &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                    proj.name = 'Current',
                                    new.env = myExpl,
                                    models.chosen = 'all',
                                    build.clamping.mask = TRUE)
}


file.EM &lt;- paste0(myRespName, "/", myRespName, ".AllModels.ensemble.models.out")
if (file.exists(file.EM)) {
  myBiomodEM &lt;- get(load(file.EM))
} else {

  # Model ensemble models
  myBiomodEM &lt;- BIOMOD_EnsembleModeling(bm.mod = myBiomodModelOut,
                                        models.chosen = 'all',
                                        em.by = 'all',
                                        em.algo = c('EMmean', 'EMca'),
                                        metric.select = c('TSS'),
                                        metric.select.thresh = c(0.7),
                                        metric.eval = c('TSS', 'ROC'),
                                        var.import = 3,
                                        seed.val = 42)
}


# --------------------------------------------------------------- #
# Project ensemble models (from single projections)
myBiomodEMProj &lt;- BIOMOD_EnsembleForecasting(bm.em = myBiomodEM, 
                                             bm.proj = myBiomodProj,
                                             models.chosen = 'all',
                                             metric.binary = 'all',
                                             metric.filter = 'all')

# Project ensemble models (building single projections)
myBiomodEMProj &lt;- BIOMOD_EnsembleForecasting(bm.em = myBiomodEM,
                                             proj.name = 'CurrentEM',
                                             new.env = myExpl,
                                             models.chosen = 'all',
                                             metric.binary = 'all',
                                             metric.filter = 'all')
myBiomodEMProj
plot(myBiomodEMProj)


</code></pre>

<hr>
<h2 id='BIOMOD_EnsembleModeling'>Create and evaluate an ensemble set of models and predictions</h2><span id='topic+BIOMOD_EnsembleModeling'></span>

<h3>Description</h3>

<p>This function allows to combine a range of models built with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function in one (or several) ensemble model. Modeling 
uncertainty can be assessed as well as variables importance, ensemble predictions can be 
evaluated against original data, and created ensemble models can be projected over new 
conditions (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_EnsembleModeling(
  bm.mod,
  models.chosen = "all",
  em.by = "PA+run",
  em.algo,
  metric.select = "all",
  metric.select.thresh = NULL,
  metric.select.table = NULL,
  metric.select.dataset = NULL,
  metric.eval = c("KAPPA", "TSS", "ROC"),
  var.import = 0,
  EMci.alpha = 0.05,
  EMwmean.decay = "proportional",
  nb.cpu = 1,
  seed.val = NULL,
  do.progress = TRUE,
  prob.mean,
  prob.median,
  prob.cv,
  prob.ci,
  committee.averaging,
  prob.mean.weight,
  prob.mean.weight.decay,
  prob.ci.alpha
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_bm.mod">bm.mod</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object returned by the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_models.chosen">models.chosen</code></td>
<td>
<p>a <code>vector</code> containing model names to be kept, must be either 
<code>all</code> or a sub-selection of model names that can be obtained with the 
<code><a href="#topic+get_built_models">get_built_models</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_em.by">em.by</code></td>
<td>
<p>a <code>character</code> corresponding to the way kept models will be combined to build 
the ensemble models, must be among <code>all</code>, <code>algo</code>, <code>PA</code>, <code>PA+algo</code>, 
<code>PA+run</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_em.algo">em.algo</code></td>
<td>
<p>a <code>vector</code> corresponding to the ensemble models that will be computed, 
must be among <code>'EMmean'</code>, <code>'EMmedian'</code>, <code>'EMcv'</code>, <code>'EMci'</code>, 
<code>'EMca'</code>, <code>'EMwmean'</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_metric.select">metric.select</code></td>
<td>
<p>a <code>vector</code> containing evaluation metric names to be used together with 
<code>metric.select.thresh</code> to exclude single models based on their evaluation scores 
(for ensemble methods like probability weighted mean or committee averaging). Must be among  
<code>all</code> (same evaluation metrics than those of <code>bm.mod</code>), <code>user.defined</code> 
(and defined through <code>metric.select.table</code>) or <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, 
<code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, 
<code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_metric.select.thresh">metric.select.thresh</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> of <code>numeric</code> values corresponding to the minimum scores (one for each 
<code>metric.select</code>) below which single models will be excluded from the ensemble model 
building</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_metric.select.table">metric.select.table</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> If
<code>metric.select = 'user.defined'</code>, a <code>data.frame</code> containing
evaluation scores calculated for each single models and that will be
compared to <code>metric.select.thresh</code> values to exclude some of them
from the ensemble model building, with <code>metric.select</code> rownames, and
<code>models.chosen</code> colnames</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_metric.select.dataset">metric.select.dataset</code></td>
<td>
<p>(<em>optional, default</em> <code>'validation'</code>
<em>if possible</em>). A character determining which dataset should be used
to filter and/or weigh the ensemble models should be among 'evaluation',
'validation' or 'calibration'.</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_metric.eval">metric.eval</code></td>
<td>
<p>a <code>vector</code> containing evaluation metric names to be used, must 
be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, 
<code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, 
<code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_var.import">var.import</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> corresponding to the number of permutations to be done for each variable to 
estimate variable importance</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_emci.alpha">EMci.alpha</code></td>
<td>
<p>(<em>optional, default</em> <code>0.05</code>) <br /> 
A <code>numeric</code> value corresponding to the significance level to estimate confidence interval</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_emwmean.decay">EMwmean.decay</code></td>
<td>
<p>(<em>optional, default</em> <code>proportional</code>) <br /> A
value defining the relative importance of the weights (if <code>'EMwmean'</code>
was given to argument <code>em.algo</code>). A high value will strongly
discriminate <em>good</em> models from the <em>bad</em> ones (see Details),
while <code>proportional</code> will attribute weights proportionally to the
models evaluation scores</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_nb.cpu">nb.cpu</code></td>
<td>
<p>(<em>optional, default</em> <code>1</code>) <br /> 
An <code>integer</code> value corresponding to the number of computing resources to be used to 
parallelize the single models computation</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_seed.val">seed.val</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_do.progress">do.progress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the progress bar is to be rendered or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.mean">prob.mean</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>em.algo</code> instead) <br />
A <code>logical</code> value defining whether to compute the mean probabilities
across predictions or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.median">prob.median</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>em.algo</code> instead)
<br /> A <code>logical</code> value defining whether to compute the median
probabilities across predictions or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.cv">prob.cv</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>em.algo</code> instead) <br /> A
<code>logical</code> value defining whether to compute the coefficient of
variation across predictions or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.ci">prob.ci</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>em.algo</code> instead) <br /> A
<code>logical</code> value defining whether to compute the confidence interval
around the <code>prob.mean</code> ensemble model or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_committee.averaging">committee.averaging</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>em.algo</code>
instead) <br /> A <code>logical</code> value defining whether to compute the
committee averaging across predictions or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.mean.weight">prob.mean.weight</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>em.algo</code>
instead) <br /> A <code>logical</code> value defining whether to compute the
weighted sum of probabilities across predictions or not</p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.mean.weight.decay">prob.mean.weight.decay</code></td>
<td>
<p>(<em>deprecated</em>, please use
<code>EMwmean.decay</code> instead)  <br /> old argument name for
<code>EMwmean.decay</code></p>
</td></tr>
<tr><td><code id="BIOMOD_EnsembleModeling_+3A_prob.ci.alpha">prob.ci.alpha</code></td>
<td>
<p>(<em>deprecated</em>, please use <code>EMci.alpha</code>
instead) <br /> old argument name for <code>EMci.alpha</code></p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt>Models sub-selection (<code>models.chosen</code>)</dt><dd><p>Applying <code><a href="#topic+get_built_models">get_built_models</a></code> 
function to the <code>bm.mod</code> object gives the names of the single models created 
with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function. The <code>models.chosen</code> argument can take 
either a sub-selection of these single model names, or the <code>all</code> default value, to 
decide which single models will be used for the ensemble model building.</p>
</dd>
<dt>Models assembly rules (<code>em.by</code>)</dt><dd><p>Single models built with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function can be combined in 5 different ways to obtain 
ensemble models :
</p>

<ul>
<li><p><code>PA+run</code> : each combination of pseudo-absence and repetition 
datasets is done, <em>merging</em> algorithms together
</p>
</li>
<li><p><code>PA+algo</code> : each combination of pseudo-absence and algorithm datasets 
is done, <em>merging</em> repetitions together
</p>
</li>
<li><p><code>PA</code> : pseudo-absence datasets are considered individually, 
<em>merging</em> algorithms and repetitions together
</p>
</li>
<li><p><code>algo</code> : algorithm datasets are considered individually, <em>merging</em> 
pseudo-absence and repetitions together
</p>
</li>
<li><p><code>all</code> : all models are combined into one
</p>
</li></ul>

<p>Hence, depending on the chosen method, the number of ensemble models built will vary. <br />
<em>Be aware that if no evaluation data was given to the 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function, some ensemble model evaluations may be biased 
due to difference in data used for single model evaluations.</em>
<b>Be aware that all of these combinations are allowed, but some may not make sense 
depending mainly on how pseudo-absence datasets have been built and whether all of them 
have been used for all single models or not (see <code>PA.nb.absences</code> and <code>models.pa</code> 
parameters in <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> and <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> functions 
respectively).</b>
</p>
</dd>
<dt>Evaluation metrics</dt><dd>

<ul>
<li><p><b><code>metric.select</code></b> : the selected metrics must be chosen among the ones used
within the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function to build the <code>model.output</code> object,
unless <code>metric.select = 'user.defined'</code> and therefore values will be provided through
the <code>metric.select.table</code> parameter. <br /> In the case of the selection of several
metrics, they will be used at different steps of the ensemble modeling function :
</p>

<ol>
<li><p> remove <em>low quality</em> single models, having a score lower than
<code>metric.select.thresh</code>
</p>
</li>
<li><p> perform the binary transformation needed if <code>'EMca'</code>
was given to argument <code>em.algo</code>
</p>
</li>
<li><p> weight models if <code>'EMwmean'</code> was given to argument <code>em.algo</code>
</p>
</li></ol>


</li>
<li><p><b><code>metric.select.thresh</code></b> : as many values as evaluation metrics
selected with the <code>metric.select</code> parameter, and defining the corresponding quality
thresholds below which the single models will be excluded from the ensemble model
building.
</p>
</li>
<li><p><b><code>metric.select.table</code></b> : a <code>data.frame</code> must be given if
<code>metric.select = 'user.defined'</code> to allow the use of evaluation metrics other than
those calculated within <span class="pkg">biomod2</span>. The <code>data.frame</code> must contain as many columns
as <code>models.chosen</code> with matching names, and as many rows as evaluation metrics to be
used. The number of rows must match the length of the <code>metric.select.thresh</code>
parameter. The values contained in the <code>data.frame</code> will be compared to those defined
in <code>metric.select.thresh</code> to remove <em>low quality</em> single models from
the ensemble model building.
</p>
</li>
<li><p><b><code>metric.select.dataset</code></b> : a <code>character</code> determining the dataset
which evaluation metric should be used to filter and/or weigh the
ensemble models. Should be among <code>evaluation</code>, <code>validation</code> or
<code>calibration</code>. By default <code>BIOMOD_EnsembleModeling</code> will use
the validation dataset unless no validation is available in which case
calibration dataset are used.
</p>
</li>
<li><p><b><code>metric.eval</code></b> : the selected metrics will be used to validate/evaluate
the ensemble models built
</p>
</li></ul>

</dd>
<dt>Ensemble-models algorithms</dt><dd><p>The set of models to be calibrated on the data. <br /> 
6 modeling techniques are currently available :
</p>

<ul>
<li><p><b><code>EMmean</code></b> : Mean of probabilities over the selected models. Old name: <code>prob.mean</code>
</p>
</li>
<li><p><b><code>EMmedian</code></b> : Median of probabilities over the selected models <br /> 
The median is less sensitive to outliers than the mean, however it requires more 
computation time and memory as it loads all predictions (on the contrary to the mean or 
the weighted mean). Old name: <code>prob.median</code>
</p>
</li>
<li><p><b><code>EMcv</code></b> : Coefficient of variation (sd / mean) of probabilities 
over the selected models <br /> 
This model is not scaled. It will be evaluated like all other ensemble models although its 
interpretation will be obviously different. CV is a measure of uncertainty rather a 
measure of probability of occurrence. If the CV gets a high evaluation score, it means 
that the uncertainty is high where the species is observed (which might not be a good 
feature of the model). <em>The lower is the score, the better are the models.</em> 
CV is a nice complement to the mean probability.  Old name: <code>prob.cv</code>
</p>
</li>
<li><p><b><code>EMci</code></b> &amp; <b><code>EMci.alpha</code></b> : Confidence interval around 
the mean of probabilities of the selected models <br /> 
It is also a nice complement to the mean probability. It creates 2 ensemble models : 
</p>

<ul>
<li> <p><em>LOWER</em> : there is less than <code>100 * EMci.alpha / 2</code> % of chance to 
get probabilities lower than the given ones
</p>
</li>
<li> <p><em>UPPER</em> : there is less than <code>100 * EMci.alpha / 2</code> % of chance to 
get probabilities upper than the given ones
</p>
</li></ul>

<p>These intervals are calculated with the following function :
</p>
<p style="text-align: center;"><code class="reqn">I_c = [ \bar{x} -  \frac{t_\alpha sd }{ \sqrt{n} }; 
    \bar{x} +  \frac{t_\alpha sd }{ \sqrt{n} }]</code>
</p>

<p><br />
Old parameter name: <code>prob.ci</code> &amp; <code>prob.ci.alpha</code>

</p>
</li>
<li><p><b><code>EMca</code></b> : Probabilities from the selected models are 
first transformed into binary data according to the thresholds defined when building the 
<code>model.output</code> object with the <code>BIOMOD_Modeling</code> function, maximizing the 
evaluation metric score over the testing dataset. The committee averaging score is 
obtained by taking the average of these binary predictions. It is built on the analogy 
of a simple vote :
</p>

<ul>
<li><p> each single model votes for the species being either present (<code>1</code>) or absent 
(<code>0</code>)
</p>
</li>
<li><p> the sum of <code>1</code> is then divided by the number of single models <em>voting</em>
</p>
</li></ul>

<p>The interesting feature of this measure is that it gives both a prediction and a measure 
of uncertainty. When the prediction is close to <code>0</code> or <code>1</code>, it means that all 
models agree to predict <code>0</code> or <code>1</code> respectively. When the prediction is around 
<code>0.5</code>, it means that half the models predict <code>1</code> and the other half <code>0</code>. 
<br /> Old parameter name: <code>committee.averaging</code>
</p>
</li>
<li><p><b><code>EMwmean</code></b> &amp; <b><code>EMwmean.decay</code></b> : 
Probabilities from the selected models are weighted according to their evaluation scores 
obtained when building the <code>model.output</code> object with the <code>BIOMOD_Modeling</code> 
function (<em>better a model is, more importance it has in the ensemble</em>) and summed. <br />
Old parameter name: <code>prob.mean.weight</code> &amp; <code>prob.mean.weight.decay</code> 
</p>
</li></ul>

<p>The <code>EMwmean.decay</code> is the ratio between a weight and the next or previous one. 
The formula is : <code>W = W(-1) * EMwmean.decay</code>. <em>For example, with the value 
of <code>1.6</code> and <code>4</code> weights wanted, the relative importance of the weights will be 
<code>1/1.6/2.56(=1.6*1.6)/4.096(=2.56*1.6)</code> from the weakest to the strongest, and gives 
<code>0.11/0.17/0.275/0.445</code> considering that the sum of the weights is equal to one. The 
lower the <code>EMwmean.decay</code>, the smoother the differences between the weights 
enhancing a weak discrimination between models.</em>
</p>
<p>If <code>EMwmean.decay = 'proportional'</code>, the weights are assigned to each model 
proportionally to their evaluation scores. The discrimination is fairer than using the 
<em>decay</em> method where close scores can have strongly diverging weights, while the 
proportional method would assign them similar weights.
</p>
<p>It is also possible to define the <code>EMwmean.decay</code> parameter as a function that 
will be applied to single models scores and transform them into weights. <em>For example, 
if <code>EMwmean.decay = function(x) {x^2}</code>, the squared of evaluation score of each 
model will be used to weight the models predictions.</em></p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>BIOMOD.ensemble.models.out</code> object containing models outputs, or links to saved 
outputs. <br /> Models outputs are stored out of <span class="rlang"><b>R</b></span> (for memory storage reasons) in 2 different 
folders created in the current working directory :
</p>

<ol>
<li><p> a <em>models</em> folder, named after the <code>resp.name</code> argument of 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, and containing all ensemble models
</p>
</li>
<li><p> a <em>hidden</em> folder, named <code>.BIOMOD_DATA</code>, and containing outputs related 
files (original dataset, calibration lines, pseudo-absences selected, predictions, 
variables importance, evaluation values...), that can be retrieved with 
<a href="https://biomodhub.github.io/biomod2/reference/getters.out.html"><code>get_[...]</code></a> or <code><a href="base.html#topic+load">load</a></code> functions, and used by other 
<span class="pkg">biomod2</span> functions, like <code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges, Robin Engler
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, 
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>, <code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a></code>, <code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a></code>, 
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a></code>, <code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)
# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}

## ----------------------------------------------------------------------- #
# Model ensemble models
myBiomodEM &lt;- BIOMOD_EnsembleModeling(bm.mod = myBiomodModelOut,
                                      models.chosen = 'all',
                                      em.by = 'all',
                                      em.algo = c('EMmean', 'EMca'),
                                      metric.select = c('TSS'),
                                      metric.select.thresh = c(0.7),
                                      metric.eval = c('TSS', 'ROC'),
                                      var.import = 3,
                                      seed.val = 42)
myBiomodEM

# Get evaluation scores &amp; variables importance
get_evaluations(myBiomodEM)
get_variables_importance(myBiomodEM)

# Represent evaluation scores
bm_PlotEvalMean(bm.out = myBiomodEM, dataset = 'calibration')
bm_PlotEvalBoxplot(bm.out = myBiomodEM, group.by = c('algo', 'algo'))

# # Represent variables importance
# bm_PlotVarImpBoxplot(bm.out = myBiomodEM, group.by = c('expl.var', 'algo', 'algo'))
# bm_PlotVarImpBoxplot(bm.out = myBiomodEM, group.by = c('expl.var', 'algo', 'merged.by.PA'))
# bm_PlotVarImpBoxplot(bm.out = myBiomodEM, group.by = c('algo', 'expl.var', 'merged.by.PA'))

# # Represent response curves
# bm_PlotResponseCurves(bm.out = myBiomodEM, 
#                       models.chosen = get_built_models(myBiomodEM),
#                       fixed.var = 'median')
# bm_PlotResponseCurves(bm.out = myBiomodEM, 
#                       models.chosen = get_built_models(myBiomodEM),
#                       fixed.var = 'min')
# bm_PlotResponseCurves(bm.out = myBiomodEM, 
#                       models.chosen = get_built_models(myBiomodEM, algo = 'EMmean'),
#                       fixed.var = 'median',
#                       do.bivariate = TRUE)


</code></pre>

<hr>
<h2 id='BIOMOD_FormatingData'>Format input data, and select pseudo-absences if wanted, for usage in <span class="pkg">biomod2</span></h2><span id='topic+BIOMOD_FormatingData'></span>

<h3>Description</h3>

<p>This function gathers together all input data needed (<em>xy, 
presences/absences, explanatory variables, and the same for evaluation data if available</em>) to 
run <span class="pkg">biomod2</span> models. It allows to select pseudo-absences if no absence data is available, 
with different strategies (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_FormatingData(
  resp.name,
  resp.var,
  expl.var,
  dir.name = ".",
  resp.xy = NULL,
  eval.resp.var = NULL,
  eval.expl.var = NULL,
  eval.resp.xy = NULL,
  PA.nb.rep = 0,
  PA.nb.absences = 1000,
  PA.strategy = NULL,
  PA.dist.min = 0,
  PA.dist.max = NULL,
  PA.sre.quant = 0.025,
  PA.user.table = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_FormatingData_+3A_resp.name">resp.name</code></td>
<td>
<p>a <code>character</code> corresponding to the species name</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_resp.var">resp.var</code></td>
<td>
<p>a <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code>
without associated data (<em>if presence-only</em>), 
or a <code><a href="terra.html#topic+vect">SpatVector</a></code> object containing binary data  
(<code>0</code> : absence, <code>1</code> : presence, <code>NA</code> : indeterminate) 
for a single species that will be used to build the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_expl.var">expl.var</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables 
(in columns or layers) that will be used to build the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_dir.name">dir.name</code></td>
<td>
<p>(<em>optional, default</em> <code>.</code>) <br />
A <code>character</code> corresponding to the modeling folder</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_resp.xy">resp.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or <code>data.frame</code> 
containing the corresponding <code>X</code> and <code>Y</code> coordinates that will be
used to build the species distribution model(s)</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_eval.resp.var">eval.resp.var</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code>
without associated data (<em>if presence-only</em>), 
or a <code><a href="terra.html#topic+vect">SpatVector</a></code> object containing binary data  
(<code>0</code> : absence, <code>1</code> : presence, <code>NA</code> : indeterminate) 
for a single species that will be used to 
evaluate the species distribution model(s) with independent data
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_eval.expl.var">eval.expl.var</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables (in 
columns or layers) that will be used to evaluate the species distribution model(s) with 
independent data.
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_eval.resp.xy">eval.resp.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or <code>data.frame</code> 
containing the corresponding <code>X</code> and <code>Y</code> coordinates that will be used to evaluate 
the species distribution model(s) with independent data</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.nb.rep">PA.nb.rep</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection, an <code>integer</code> corresponding to the number of sets 
(repetitions) of pseudo-absence points that will be drawn</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.nb.absences">PA.nb.absences</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection, and <code>PA.strategy = 'random'</code> or <code>PA.strategy = 'sre'</code> 
or <code>PA.strategy = 'disk'</code>, an <code>integer</code> corresponding to the number of pseudo-absence 
points that will be selected for each pseudo-absence repetition (true absences included). <br />
It can also be a <code>vector</code> of the same length as <code>PA.nb.rep</code> containing <code>integer</code> 
values corresponding to the different numbers of pseudo-absences to be selected</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.strategy">PA.strategy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If pseudo-absence selection, a <code>character</code> defining the strategy that will be used to 
select the pseudo-absence points. Must be <code>random</code>, <code>sre</code>, <code>disk</code> or 
<code>user.defined</code> (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.dist.min">PA.dist.min</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'disk'</code>, a <code>numeric</code> defining the 
minimal distance to presence points used to make the <code>disk</code> pseudo-absence selection 
(in meters, see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.dist.max">PA.dist.max</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'disk'</code>, a <code>numeric</code> defining the 
maximal distance to presence points used to make the <code>disk</code> pseudo-absence selection 
(in meters, see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.sre.quant">PA.sre.quant</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'sre'</code>, a <code>numeric</code> between <code>0</code> 
and <code>0.5</code> defining the half-quantile used to make the <code>sre</code> pseudo-absence selection 
(see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_pa.user.table">PA.user.table</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'user.defined'</code>, a <code>matrix</code> or 
<code>data.frame</code> with as many rows as <code>resp.var</code> values, as many columns as 
<code>PA.nb.rep</code>, and containing <code>TRUE</code> or <code>FALSE</code> values defining which points 
will be used to build the species distribution model(s) for each repetition (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_na.rm">na.rm</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether points having one or several missing values for 
explanatory variables should be removed from the analysis or not</p>
</td></tr>
<tr><td><code id="BIOMOD_FormatingData_+3A_filter.raster">filter.raster</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
If <code>expl.var</code> is of raster type, a <code>logical</code> value defining whether <code>resp.var</code> 
is to be filtered when several points occur in the same raster cell</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function gathers and formats all input data needed to run <span class="pkg">biomod2</span> models. It 
supports different kind of inputs (e.g. <code>matrix</code>,
<code><a href="terra.html#topic+vect">SpatVector</a></code>, <code><a href="terra.html#topic+rast">SpatRaster</a></code>)
and provides different methods to select pseudo-absences if needed. <br /> <br />
</p>
<p><b>Concerning explanatory variables and XY coordinates :</b> 
</p>

<ul>
<li><p> if <code><a href="terra.html#topic+rast">SpatRaster</a></code>, <code>RasterLayer</code> or <code>RasterStack</code>
provided for <code>expl.var</code> or <code>eval.expl.var</code>, <br /> <span class="pkg">biomod2</span> will extract 
the corresponding values from XY coordinates provided :
</p>

<ul>
<li><p> either through <code>resp.xy</code> or <code>eval.resp.xy</code> respectively
</p>
</li>
<li><p> or <code>resp.var</code> or <code>eval.resp.var</code>, if provided as 
<code><a href="terra.html#topic+vect">SpatVector</a></code> or <code>SpatialPointsDataFrame</code>
</p>
</li></ul>

<p><em>Be sure to give the objects containing XY coordinates in the same projection 
system than the raster objects !</em>
</p>
</li>
<li><p> if <code>data.frame</code> or <code>matrix</code> provided for <code>expl.var</code> or
<code>eval.expl.var</code>, <br /> <span class="pkg">biomod2</span> will simply merge it (<code>cbind</code>) 
with <code>resp.var</code> without considering XY coordinates. <br />
<em>Be sure to give explanatory and response values in the same row order !</em>
</p>
</li></ul>

<p><b>Concerning pseudo-absence selection (see <code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a></code>) :</b>
</p>

<ul>
<li><p>if both presence and absence data are available, and there is enough absences :
set <code>PA.nb.rep = 0</code> and no pseudo-absence will be selected.

</p>
</li>
<li><p>if no absence data is available, several pseudo-absence repetitions  
are recommended (to estimate the effect of pseudo-absence selection), as well as high 
number of pseudo-absence points. <br />
<em>Be sure not to select more pseudo-absence points than maximum number of pixels in 
the studied area ! <br /> <br /> <br /> <br /></em>

</p>
</li>
<li><p>it is possible now to create several pseudo-absence repetitions with different 
number of points, but with the same sampling strategy
</p>
</li></ul>


<dl>
<dt>Response variable</dt><dd>
<p><span class="pkg">biomod2</span> models single species at a time (no multi-species). Hence, <code>resp.var</code> 
must be a uni-dimensional object (either a <code>vector</code>, a one-column <code>matrix</code>, 
<code>data.frame</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code> (<em>without associated 
data - if presence-only</em>), a <code>SpatialPoints</code> (<em>if presence-only</em>), 
a <code>SpatialPointsDataFrame</code> or <code><a href="terra.html#topic+vect">SpatVector</a></code> object),
containing values among :
</p>

<ul>
<li> <p><code>1</code> : presences
</p>
</li>
<li> <p><code>0</code> : true absences (if any)
</p>
</li>
<li> <p><code>NA</code> : no information point (might be used to select pseudo-absences if any)
</p>
</li></ul>

<p>If no true absences are available, pseudo-absence selection must be done. <br />
If <code>resp.var</code> is a non-spatial object (<code>vector</code>, <code>matrix</code> or 
<code>data.frame</code>), XY coordinates must be provided through <code>resp.xy</code>. <br /> 
If pseudo-absence points are to be selected, <code>NA</code> points must be provided in order to 
select pseudo-absences among them.
</p>
</dd>
<dt>Explanatory variables</dt><dd>
<p>Factorial variables are allowed, but might lead to some pseudo-absence strategy or models 
omissions (e.g. <code>sre</code>).
</p>
</dd>
<dt>Evaluation data</dt><dd>
<p>Although <span class="pkg">biomod2</span> provides tools to automatically divide dataset into calibration and 
validation parts through the modeling process (see <code>CV.[..]</code> parameters in 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function ; or <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a> 
  function</code>), it is also possible (and strongly advised) to directly provide two independent 
datasets, one for calibration/validation and one for evaluation
</p>
</dd>
<dt>Pseudo-absence selection</dt><dd>
<p>If no true absences are available, pseudo-absences must be selected from the 
<em>background data</em>, meaning data there is no information whether the species of 
interest occurs or not. It corresponds either to the remaining pixels of the <code>expl.var</code> 
(if provided as a <code><a href="terra.html#topic+rast">SpatRaster</a></code> or <code>RasterSatck</code>)
or to the points identified as  <code>NA</code> in <code>resp.var</code> (if <code>expl.var</code>
provided as a <code>matrix</code> or <code>data.frame</code>). <br /> 
Several methods are available to do this selection :
</p>

<dl>
<dt>random</dt><dd><p>all points of initial background are pseudo-absence candidates. 
<code>PA.nb.absences</code> are drawn randomly, for each <code>PA.nb.rep</code> requested.
</p>
</dd>
<dt>sre</dt><dd><p>pseudo-absences have to be selected in conditions (combination of explanatory 
variables) that differ in a defined proportion (<code>PA.sre.quant</code>) from those of 
presence points. A <em>Surface Range Envelop</em> model is first run over the species of 
interest, and pseudo-absences are selected outside this envelop. <br />
<em>This case is appropriate when all the species climatic niche has been sampled, 
otherwise it may lead to over-optimistic model evaluations and predictions !</em>
</p>
</dd>
<dt>disk</dt><dd><p>pseudo-absences are selected within circles around presence points defined by 
<code>PA.dist.min</code> and <code>PA.dist.max</code> distance values (in meters). It allows to select 
pseudo-absence points that are not too close to (avoid same niche and pseudo-replication) 
or too far (localized sampling strategy) from presences.
</p>
</dd>
<dt>user.defined</dt><dd><p>pseudo-absences are defined in advance and given as <code>data.frame</code> 
through the <code>PA.user.table</code> parameter.
</p>
</dd>
</dl>

</dd>
</dl>



<h3>Value</h3>

<p>A <code>BIOMOD.formated.data</code> object that can be used to build species distribution model(s) 
with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function. <br />
<code>print</code> and <code>plot</code> functions are available to have a summary of the created object.
</p>


<h3>Author(s)</h3>

<p>Damien Georges, Wilfried Thuiller
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------#
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)
myBiomodData
summary(myBiomodData)
plot(myBiomodData)


# ---------------------------------------------------------------#
# # Transform true absences into potential pseudo-absences
# myResp.PA &lt;- ifelse(myResp == 1, 1, NA)
# 
# # Format Data with pseudo-absences : random method
# myBiomodData.r &lt;- BIOMOD_FormatingData(resp.var = myResp.PA,
#                                        expl.var = myExpl,
#                                        resp.xy = myRespXY,
#                                        resp.name = myRespName,
#                                        PA.nb.rep = 4,
#                                        PA.nb.absences = 1000,
#                                        PA.strategy = 'random')
# 
# # Format Data with pseudo-absences : disk method
# myBiomodData.d &lt;- BIOMOD_FormatingData(resp.var = myResp.PA,
#                                        expl.var = myExpl,
#                                        resp.xy = myRespXY,
#                                        resp.name = myRespName,
#                                        PA.nb.rep = 4,
#                                        PA.nb.absences = 500,
#                                        PA.strategy = 'disk',
#                                        PA.dist.min = 5,
#                                        PA.dist.max = 35)
# 
# # Format Data with pseudo-absences : SRE method
# myBiomodData.s &lt;- BIOMOD_FormatingData(resp.var = myResp.PA,
#                                        expl.var = myExpl,
#                                        resp.xy = myRespXY,
#                                        resp.name = myRespName,
#                                        PA.nb.rep = 4,
#                                        PA.nb.absences = 1000,
#                                        PA.strategy = 'sre',
#                                        PA.sre.quant = 0.025)
# 
# # Format Data with pseudo-absences : user.defined method
# myPAtable &lt;- data.frame(PA1 = ifelse(myResp == 1, TRUE, FALSE),
#                         PA2 = ifelse(myResp == 1, TRUE, FALSE))
# for (i in 1:ncol(myPAtable)) myPAtable[sample(which(myPAtable[, i] == FALSE), 500), i] = TRUE
# myBiomodData.u &lt;- BIOMOD_FormatingData(resp.var = myResp.PA,
#                                        expl.var = myExpl,
#                                        resp.xy = myRespXY,
#                                        resp.name = myRespName,
#                                        PA.strategy = 'user.defined',
#                                        PA.user.table = myPAtable)
# 
# myBiomodData.r
# myBiomodData.d
# myBiomodData.s
# myBiomodData.u
# plot(myBiomodData.r)
# plot(myBiomodData.d)
# plot(myBiomodData.s)
# plot(myBiomodData.u)


# ---------------------------------------------------------------#
# # Select multiple sets of pseudo-absences
#
# # Transform true absences into potential pseudo-absences
# myResp.PA &lt;- ifelse(myResp == 1, 1, NA)
# 
# # Format Data with pseudo-absences : random method
# myBiomodData.multi &lt;- BIOMOD_FormatingData(resp.var = myResp.PA,
#                                            expl.var = myExpl,
#                                            resp.xy = myRespXY,
#                                            resp.name = myRespName,
#                                            PA.nb.rep = 4,
#                                            PA.nb.absences = c(1000, 500, 500, 200),
#                                            PA.strategy = 'random')
# myBiomodData.multi
# summary(myBiomodData.multi)
# plot(myBiomodData.multi)


</code></pre>

<hr>
<h2 id='BIOMOD_LoadModels'>Load species distribution models built with <span class="pkg">biomod2</span></h2><span id='topic+BIOMOD_LoadModels'></span>

<h3>Description</h3>

<p>This function loads individual models built with <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> 
or <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_LoadModels(
  bm.out,
  full.name = NULL,
  PA = NULL,
  run = NULL,
  algo = NULL,
  merged.by.PA = NULL,
  merged.by.run = NULL,
  merged.by.algo = NULL,
  filtered.by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_LoadModels_+3A_bm.out">bm.out</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
object that can be obtained with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions</p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_full.name">full.name</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing model names to be kept, must be either <code>all</code> or a 
sub-selection of model names that can be obtained with the <code><a href="#topic+get_built_models">get_built_models</a></code> 
function</p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_pa">PA</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing pseudo-absence set to be loaded, must be among <code>PA1</code>, 
<code>PA2</code>, <code>...</code>, <code>allData</code></p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_run">run</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing repetition set to be loaded, must be among <code>RUN1</code>, 
<code>RUN2</code>, <code>...</code>, <code>allRun</code></p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_algo">algo</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>character</code> containing algorithm to be loaded, must be either <code>GLM</code>, 
<code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, <code>MARS</code>, 
<code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>, <code>XGBOOST</code></p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_merged.by.pa">merged.by.PA</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing merged pseudo-absence set to be loaded, must be among <code>PA1</code>, 
<code>PA2</code>, <code>...</code>, <code>mergedData</code></p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_merged.by.run">merged.by.run</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing merged repetition set to be loaded, must be among <code>RUN1</code>, 
<code>RUN2</code>, <code>...</code>, <code>mergedRun</code></p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_merged.by.algo">merged.by.algo</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>character</code> containing merged algorithm to be loaded, must be among <code>GLM</code>, 
<code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, <code>MARS</code>, 
<code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>, <code>XGBOOST</code>, <code>mergedAlgo</code></p>
</td></tr>
<tr><td><code id="BIOMOD_LoadModels_+3A_filtered.by">filtered.by</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric selected to filter single models to build the 
ensemble models, must be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, 
<code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, 
<code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function might be of particular use to load models and make response plot analyses. <br /> <br />
</p>
<p>Running the function providing only <code>bm.out</code> argument will load all models built by the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> function, but a 
subselection of models can be done using the additional arguments (<code>full.name</code>, <code>PA</code>, 
<code>run</code>, <code>algo</code>, <code>merged.by.PA</code>, <code>merged.by.run</code>, <code>merged.by.algo</code>, 
<code>filtered.by</code>).
</p>


<h3>Value</h3>

<p>A <code>vector</code> containing the names of the loaded models.
</p>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


# ---------------------------------------------------------------
# Loading some models built
BIOMOD_LoadModels(bm.out = myBiomodModelOut, algo = 'RF')


</code></pre>

<hr>
<h2 id='BIOMOD_Modeling'>Run a range of species distribution models</h2><span id='topic+BIOMOD_Modeling'></span>

<h3>Description</h3>

<p>This function allows to calibrate and evaluate a range of modeling techniques 
for a given species distribution. The dataset can be split up in calibration/validation parts,
and the predictive power of the different models can be estimated using a range of evaluation 
metrics (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_Modeling(
  bm.format,
  modeling.id = as.character(format(Sys.time(), "%s")),
  models = c("GLM", "GBM", "GAM", "CTA", "ANN", "SRE", "FDA", "MARS", "RF", "MAXENT",
    "MAXNET", "XGBOOST"),
  models.pa = NULL,
  bm.options = NULL,
  CV.strategy = "random",
  CV.nb.rep = 1,
  CV.perc = NULL,
  CV.k = NULL,
  CV.balance = NULL,
  CV.env.var = NULL,
  CV.strat = NULL,
  CV.user.table = NULL,
  CV.do.full.models = FALSE,
  nb.rep,
  data.split.perc,
  data.split.table,
  do.full.models,
  weights = NULL,
  prevalence = NULL,
  metric.eval = c("KAPPA", "TSS", "ROC"),
  var.import = 0,
  scale.models = FALSE,
  nb.cpu = 1,
  seed.val = NULL,
  do.progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_Modeling_+3A_bm.format">bm.format</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code> 
object returned by the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_modeling.id">modeling.id</code></td>
<td>
<p>a <code>character</code> corresponding to the name (ID) of the simulation set 
(<em>a random number by default</em>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_models">models</code></td>
<td>
<p>a <code>vector</code> containing model names to be computed, must be among <code>GLM</code>, 
<code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, <code>MARS</code>, 
<code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>, <code>XGBOOST</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_models.pa">models.pa</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>list</code> containing for each model a <code>vector</code> defining which pseudo-absence datasets 
are to be used, must be among <code>colnames(bm.format@PA.table)</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_bm.options">bm.options</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object returned by the
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.strategy">CV.strategy</code></td>
<td>
<p>a <code>character</code> corresponding to the cross-validation selection strategy, 
must be among <code>random</code>, <code>kfold</code>, <code>block</code>, <code>strat</code>, <code>env</code> or 
<code>user.defined</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.nb.rep">CV.nb.rep</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'random'</code> or <code>strategy = 'kfold'</code>, an <code>integer</code> corresponding 
to the number of sets (repetitions) of cross-validation points that will be drawn</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.perc">CV.perc</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'random'</code>, a <code>numeric</code> between <code>0</code> and <code>1</code> defining the 
percentage of data that will be kept for calibration</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.k">CV.k</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'kfold'</code> or <code>strategy = 'strat'</code> or <code>strategy = 'env'</code>, an 
<code>integer</code> corresponding to the number of partitions</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.balance">CV.balance</code></td>
<td>
<p>(<em>optional, default</em> <code>'presences'</code>) <br />
If <code>strategy = 'strat'</code> or <code>strategy = 'env'</code>, a <code>character</code> corresponding 
to how data will be balanced between partitions, must be either <code>presences</code> or
<code>absences</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.env.var">CV.env.var</code></td>
<td>
<p>(<em>optional</em>) <br /> If <code>strategy = 'env'</code>, a
<code>character</code> corresponding to the environmental variables used to
build the partition. <code>k</code> partitions will be built for each
environmental variables. By default the function uses all environmental
variables available.</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.strat">CV.strat</code></td>
<td>
<p>(<em>optional, default</em> <code>'both'</code>) <br />
If <code>strategy = 'env'</code>, a <code>character</code> corresponding to how data will partitioned 
along gradient, must be among <code>x</code>, <code>y</code>, <code>both</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.user.table">CV.user.table</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
If <code>strategy = 'user.defined'</code>, a <code>matrix</code> or <code>data.frame</code> defining for each 
repetition (in columns) which observation lines should be used for models calibration 
(<code>TRUE</code>) and validation (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_cv.do.full.models">CV.do.full.models</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br />
A <code>logical</code> value defining whether models should be also calibrated and validated over 
the whole dataset (and pseudo-absence datasets) or not</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_nb.rep">nb.rep</code></td>
<td>
<p><em>deprecated</em>, now called <code>CV.nb.rep</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_data.split.perc">data.split.perc</code></td>
<td>
<p><em>deprecated</em>, now called <code>CV.perc</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_data.split.table">data.split.table</code></td>
<td>
<p><em>deprecated</em>, now called <code>CV.user.table</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_do.full.models">do.full.models</code></td>
<td>
<p><em>deprecated</em>, now called <code>CV.do.full.models</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_weights">weights</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> of <code>numeric</code> values corresponding to observation weights (one per 
observation, see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_prevalence">prevalence</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>numeric</code> between <code>0</code> and <code>1</code> corresponding to the species prevalence to 
build '<em>weighted response weights</em>' (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_metric.eval">metric.eval</code></td>
<td>
<p>a <code>vector</code> containing evaluation metric names to be used, must 
be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, 
<code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, 
<code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_var.import">var.import</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> corresponding to the number of permutations to be done for each variable to 
estimate variable importance</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_scale.models">scale.models</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether all models predictions should be scaled with a 
binomial GLM or not</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_nb.cpu">nb.cpu</code></td>
<td>
<p>(<em>optional, default</em> <code>1</code>) <br /> 
An <code>integer</code> value corresponding to the number of computing resources to be used to 
parallelize the single models computation</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_seed.val">seed.val</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="BIOMOD_Modeling_+3A_do.progress">do.progress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the progress bar is to be rendered or not</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt>bm.format</dt><dd><p>If you have decided to add pseudo absences to your original dataset (see 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>), <br /> <code>PA.nb.rep *(nb.rep + 1)</code> models will be 
created.</p>
</dd>
<dt>models</dt><dd><p>The set of models to be calibrated on the data. 10 modeling techniques 
are currently available :
</p>

<ul>
<li> <p><code>GLM</code> : Generalized Linear Model (<code><a href="stats.html#topic+glm">glm</a></code>)
</p>
</li>
<li> <p><code>GAM</code> : Generalized Additive Model (<code><a href="gam.html#topic+gam">gam</a></code>, <code><a href="mgcv.html#topic+gam">gam</a></code> 
or <code><a href="mgcv.html#topic+bam">bam</a></code>) <br /> 
(see <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a> for details on algorithm selection</code>)
</p>
</li>
<li> <p><code>GBM</code> : Generalized Boosting Model, or usually called Boosted Regression Trees 
(<code><a href="gbm.html#topic+gbm">gbm</a></code>)
</p>
</li>
<li> <p><code>CTA</code> : Classification Tree Analysis (<code><a href="rpart.html#topic+rpart">rpart</a></code>)
</p>
</li>
<li> <p><code>ANN</code> : Artificial Neural Network (<code><a href="nnet.html#topic+nnet">nnet</a></code>)
</p>
</li>
<li> <p><code>SRE</code> : Surface Range Envelop or usually called BIOCLIM
</p>
</li>
<li> <p><code>FDA</code> : Flexible Discriminant Analysis (<code><a href="mda.html#topic+fda">fda</a></code>)
</p>
</li>
<li> <p><code>MARS</code> : Multiple Adaptive Regression Splines (<code><a href="earth.html#topic+earth">earth</a></code>)
</p>
</li>
<li> <p><code>RF</code> : Random Forest (<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>)
</p>
</li>
<li> <p><code>MAXENT</code> : Maximum Entropy 
(<a href="https://biodiversityinformatics.amnh.org/open_source/maxent/">https://biodiversityinformatics.amnh.org/open_source/maxent/</a>)
</p>
</li>
<li> <p><code>MAXNET</code> : Maximum Entropy (<code><a href="maxnet.html#topic+maxnet">maxnet</a></code>)
</p>
</li>
<li> <p><code>XGBOOST</code> : eXtreme Gradient Boosting Training (<code><a href="xgboost.html#topic+xgboost">xgboost</a></code>)
</p>
</li></ul>
</dd>
<dt>models.pa</dt><dd><p>Different models might respond differently to different numbers of 
pseudo-absences. It is possible to create sets of pseudo-absences with different numbers 
of points (see <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>) and to assign only some of these 
datasets to each single model.
</p>
</dd>
<dt>CV.[...] parameters</dt><dd><p>Different methods are available to calibrate/validate the 
single models (see <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>.)</p>
</dd>
<dt>weights &amp; prevalence</dt><dd><p>More or less weight can be given to some specific observations.
</p>

<ul>
<li><p> If <code>weights = prevalence = NULL</code>, each observation (presence or absence) will 
have the same weight, no matter the total number of presences and absences.
</p>
</li>
<li><p> If <code>prevalence = 0.5</code>, presences and absences will be weighted equally 
(<em>i.e. the weighted sum of presences equals the weighted sum of absences</em>). 
</p>
</li>
<li><p> If <code>prevalence</code> is set below (<em>above</em>) <code>0.5</code>, more weight will be 
given to absences (<em>presences</em>).
</p>
</li>
<li><p> If <code>weights</code> is defined, <code>prevalence</code> argument will be ignored, and each 
observation will have its own weight.
</p>
</li>
<li><p> If pseudo-absences have been generated (<code>PA.nb.rep &gt; 0</code> in 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>), weights are by default calculated such that 
<code>prevalence = 0.5</code>. <em>Automatically created <code>weights</code> will be <code>integer</code> 
values to prevent some modeling issues.</em>
</p>
</li></ul>
</dd>
<dt>metric.eval</dt><dd>

<ul>
<li> <p><code>ROC</code> : Relative Operating Characteristic
</p>
</li>
<li> <p><code>KAPPA</code> : Cohen's Kappa (Heidke skill score)
</p>
</li>
<li> <p><code>TSS</code> : True kill statistic (Hanssen and Kuipers discriminant, Peirce's skill 
score)
</p>
</li>
<li> <p><code>FAR</code> : False alarm ratio
</p>
</li>
<li> <p><code>SR</code> : Success ratio
</p>
</li>
<li> <p><code>ACCURANCY</code> : Accuracy (fraction correct)
</p>
</li>
<li> <p><code>BIAS</code> : Bias score (frequency bias)
</p>
</li>
<li> <p><code>POD</code> : Probability of detection (hit rate)
</p>
</li>
<li> <p><code>CSI</code> : Critical success index (threat score)
</p>
</li>
<li> <p><code>ETS</code> : Equitable threat score (Gilbert skill score)
</p>
</li></ul>

<p>Optimal value of each method can be obtained with the <code><a href="#topic+get_optim_value">get_optim_value</a></code> 
function. Several evaluation metrics can be selected. <em>Please refer to the 
<a href="https://www.cawcr.gov.au/projects/verification/">CAWRC website (section &quot;Methods for dichotomous forecasts&quot;)</a> 
to get detailed description of each metric.</em>
</p>
</dd>
<dt>scale.models</dt><dd><p><b>This parameter is quite experimental and it is recommended 
not to use it. It may lead to reduction in projection scale amplitude.</b> Some categorical 
models always have to be scaled (<code>FDA</code>, <code>ANN</code>), but it may be interesting to 
scale all computed models to ensure comparable predictions (<code>0-1000</code> range). It might 
be particularly useful when doing ensemble forecasting to remove the scale prediction effect 
(<em>the more extended projections are, the more they influence ensemble forecasting 
results</em>).
</p>
</dd>
</dl>



<h3>Value</h3>

<p>A <code>BIOMOD.models.out</code> object containing models outputs, or links to saved outputs. <br />
Models outputs are stored out of <span class="rlang"><b>R</b></span> (for memory storage reasons) in 2 different folders 
created in the current working directory :
</p>

<ol>
<li><p> a <em>models</em> folder, named after the <code>resp.name</code> argument of 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, and containing all calibrated models for each 
repetition and pseudo-absence run
</p>
</li>
<li><p> a <em>hidden</em> folder, named <code>.BIOMOD_DATA</code>, and containing outputs related 
files (original dataset, calibration lines, pseudo-absences selected, predictions, 
variables importance, evaluation values...), that can be retrieved with 
<a href="https://biomodhub.github.io/biomod2/reference/getters.out.html"><code>get_[...]</code></a> or <code><a href="base.html#topic+load">load</a></code> functions, and used by other 
<span class="pkg">biomod2</span> functions, like <code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges, Robin Engler
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+glm">glm</a></code>, <code><a href="gam.html#topic+gam">gam</a></code>,
<code><a href="mgcv.html#topic+gam">gam</a></code>, <code><a href="mgcv.html#topic+bam">bam</a></code>, <code><a href="gbm.html#topic+gbm">gbm</a></code>,
<code><a href="rpart.html#topic+rpart">rpart</a></code>, code<a href="nnet.html#topic+nnet">nnet</a>,
<code><a href="mda.html#topic+fda">fda</a></code>, <code><a href="earth.html#topic+earth">earth</a></code>,
<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>, <code><a href="maxnet.html#topic+maxnet">maxnet</a></code>,
<code><a href="xgboost.html#topic+xgboost">xgboost</a></code>, <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>,
<code> <a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>, <code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, <code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a></code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a></code>, <code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a></code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)

# Create default modeling options
myBiomodOptions &lt;- BIOMOD_ModelingOptions()


# ---------------------------------------------------------------------------- #
# Model single models
myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                    modeling.id = 'AllModels',
                                    models = c('RF', 'GLM'),
                                    bm.options = myBiomodOptions,
                                    CV.strategy = 'random',
                                    CV.nb.rep = 2,
                                    CV.perc = 0.8,
                                    metric.eval = c('TSS','ROC'),
                                    var.import = 2,
                                    seed.val = 42)
myBiomodModelOut

# Get evaluation scores &amp; variables importance
get_evaluations(myBiomodModelOut)
get_variables_importance(myBiomodModelOut)

# Represent evaluation scores 
bm_PlotEvalMean(bm.out = myBiomodModelOut, dataset = 'calibration')
bm_PlotEvalMean(bm.out = myBiomodModelOut, dataset = 'validation')
bm_PlotEvalBoxplot(bm.out = myBiomodModelOut, group.by = c('algo', 'run'))

# # Represent variables importance 
# bm_PlotVarImpBoxplot(bm.out = myBiomodModelOut, group.by = c('expl.var', 'algo', 'algo'))
# bm_PlotVarImpBoxplot(bm.out = myBiomodModelOut, group.by = c('expl.var', 'algo', 'dataset'))
# bm_PlotVarImpBoxplot(bm.out = myBiomodModelOut, group.by = c('algo', 'expl.var', 'dataset'))

# # Represent response curves 
# mods &lt;- get_built_models(myBiomodModelOut, run = 'RUN1')
# bm_PlotResponseCurves(bm.out = myBiomodModelOut, 
#                       models.chosen = mods,
#                       fixed.var = 'median')
# bm_PlotResponseCurves(bm.out = myBiomodModelOut, 
#                       models.chosen = mods,
#                       fixed.var = 'min')
# mods &lt;- get_built_models(myBiomodModelOut, full.name = 'GuloGulo_allData_RUN2_RF')
# bm_PlotResponseCurves(bm.out = myBiomodModelOut, 
#                       models.chosen = mods,
#                       fixed.var = 'median',
#                       do.bivariate = TRUE)


</code></pre>

<hr>
<h2 id='BIOMOD_ModelingOptions'>Configure the modeling options for each selected model</h2><span id='topic+BIOMOD_ModelingOptions'></span><span id='topic+bm_DefaultModelingOptions'></span>

<h3>Description</h3>

<p>Parametrize and/or tune <span class="pkg">biomod2</span>'s single models options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_ModelingOptions(
  GLM = NULL,
  GBM = NULL,
  GAM = NULL,
  CTA = NULL,
  ANN = NULL,
  SRE = NULL,
  FDA = NULL,
  MARS = NULL,
  RF = NULL,
  MAXENT = NULL,
  XGBOOST = NULL
)

bm_DefaultModelingOptions()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_glm">GLM</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing GLM options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_gbm">GBM</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing GBM options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_gam">GAM</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing GAM options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_cta">CTA</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing CTA options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_ann">ANN</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing ANN options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_sre">SRE</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing SRE options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_fda">FDA</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing FDA options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_mars">MARS</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing MARS options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_rf">RF</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> containing RF options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_maxent">MAXENT</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> 
containing MAXENT options</p>
</td></tr>
<tr><td><code id="BIOMOD_ModelingOptions_+3A_xgboost">XGBOOST</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> A <code>list</code> 
containing XGBOOST options</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows advanced user to change some default parameters of <span class="pkg">biomod2</span> inner 
models. <br /> 10 single models are available within the package, and their options can be set 
with this function through <code>list</code> objects.
</p>
<p>The <code><a href="#topic+bm_DefaultModelingOptions">bm_DefaultModelingOptions</a></code> function prints all default parameter values for 
all available models. <br /> This output can be copied and pasted to be used as is (with wanted 
changes) as function arguments (see <a href="https://biomodhub.github.io/biomod2/reference/BIOMOD_ModelingOptions.html#examples">Examples</a>).
</p>
<p>Below is the detailed list of all modifiable parameters for each available model.
</p>


<h3>Value</h3>

<p>A <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object that can be used to build species distribution 
model(s) with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function.
</p>


<h3>GLM </h3>

<p>(<code><a href="stats.html#topic+glm">glm</a></code>)
</p>

<ul>
<li><p><code>myFormula</code> : a typical <code>formula</code> object (see 
<a href="https://biomodhub.github.io/biomod2/reference/BIOMOD_ModelingOptions.html#examples">Examples</a>). <br /> If not <code>NULL</code>, <code>type</code> 
and <code>interaction.level</code> parameters are switched off. <br /> 
You can choose to either :
</p>

<ul>
<li><p>generate automatically the GLM formula with the following parameters :
</p>

<ul>
<li><p><code>type = 'quadratic'</code> : formula given to the model, must 
be <code>simple</code>, <code>quadratic</code> or <code>polynomial</code>
</p>
</li>
<li><p><code>interaction.level = 0</code> : an <code>integer</code> corresponding 
to the interaction level between considered variables considered (<em>be aware that 
interactions quickly enlarge the number of effective variables used into the GLM !</em>)
</p>
</li></ul>


</li>
<li><p>or construct specific formula
</p>
</li></ul>


</li>
<li><p><code>test = 'AIC'</code> : information criteria for the stepwise 
selection procedure, must be <code>AIC</code> (<em>Akaike Information Criteria</em>, <code>BIC</code> 
(<em>Bayesian Information Criteria</em>) or <code>none</code> (<em>consider only the full model, 
no stepwise selection, but this can lead to convergence issue and strange results !</em>)
</p>
</li>
<li><p><code>family = binomial(link = 'logit')</code> : a <code>character</code> 
defining the error distribution and link function to be used in the model, mus be a family 
name, a family function or the result of a call to a family function (see <a href="stats.html#topic+family">family</a>) 
(<em>so far, <span class="pkg">biomod2</span> only runs on presence-absence data, so binomial family is the 
default !</em>)
</p>
</li>
<li><p><code>control</code> : a <code>list</code> of parameters to control the fitting process (passed to 
<code><a href="stats.html#topic+glm.control">glm.control</a></code>)
</p>
</li></ul>



<h3>GBM </h3>

<p>(default <code><a href="gbm.html#topic+gbm">gbm</a></code>)
</p>
<p><em>Please refer to <code><a href="gbm.html#topic+gbm">gbm</a></code> help file for more details.</em>
</p>

<ul>
<li><p><code>distribution = 'bernoulli'</code>
</p>
</li>
<li><p><code>n.trees = 2500</code>
</p>
</li>
<li><p><code>interaction.depth = 7</code>
</p>
</li>
<li><p><code>n.minobsinnode = 5</code>
</p>
</li>
<li><p><code>shrinkage = 0.001</code>
</p>
</li>
<li><p><code>bag.fraction = 0.5</code>
</p>
</li>
<li><p><code>train.fraction = 1</code>
</p>
</li>
<li><p><code>cv.folds = 3</code>
</p>
</li>
<li><p><code>keep.data = FALSE</code>
</p>
</li>
<li><p><code>verbose = FALSE</code>
</p>
</li>
<li><p><code>perf.method = 'cv'</code>
</p>
</li>
<li><p><code>n.cores = 1</code>
</p>
</li></ul>



<h3>GAM </h3>

<p>(<code><a href="gam.html#topic+gam">gam</a></code> or <code><a href="mgcv.html#topic+gam">gam</a></code>)
</p>

<ul>
<li><p><code>algo = 'GAM_gam'</code> : a <code>character</code> defining the chosen GAM function, must 
be <code>GAM_gam</code> (see <code><a href="gam.html#topic+gam">gam</a></code>), <code>GAM_mgcv</code> (see <code><a href="mgcv.html#topic+gam">gam</a></code>) 
or <code>BAM_mgcv</code> (see <code><a href="mgcv.html#topic+bam">bam</a></code>)
</p>
</li>
<li><p><code>myFormula</code> : a typical <code>formula</code> object (see 
<a href="https://biomodhub.github.io/biomod2/reference/BIOMOD_ModelingOptions.html#examples">Examples</a>). <br /> If not <code>NULL</code>, <code>type</code> 
and <code>interaction.level</code> parameters are switched off. <br /> 
You can choose to either :
</p>

<ul>
<li><p>generate automatically the GAM formula with the following parameters :
</p>

<ul>
<li><p><code>type = 's_smoother'</code> : the smoother used to generate the formula
</p>
</li>
<li><p><code>interaction.level = 0</code> : an <code>integer</code> corresponding 
to the interaction level between considered variables considered (<em>be aware that 
interactions quickly enlarge the number of effective variables used into the GLM !</em>)
</p>
</li></ul>


</li>
<li><p>or construct specific formula
</p>
</li></ul>


</li>
<li><p><code>k = -1</code>a smooth term in a formula argument to gam, must be <code>-1</code> or 
<code>4</code> (see <span class="pkg">gam</span> <code><a href="gam.html#topic+s">s</a></code> or <span class="pkg">mgcv</span> <code><a href="mgcv.html#topic+s">s</a></code>)
</p>
</li>
<li><p><code>family = binomial(link = 'logit')</code> : a <code>character</code> defining 
the error distribution and link function to be used in the model, mus be a family name, a 
family function or the result of a call to a family function (see <a href="stats.html#topic+family">family</a>) 
(<em>so far, <span class="pkg">biomod2</span> only runs on presence-absence data, so binomial family is the 
default !</em>)
</p>
</li>
<li><p><code>control</code> : a <code>list</code> of parameters to control the fitting process (passed to 
<code><a href="mgcv.html#topic+gam.control">gam.control</a></code> or <code><a href="gam.html#topic+gam.control">gam.control</a></code>)
</p>
</li>
<li><p>some options specific to <code>GAM_mgcv</code> (<em>ignored if <code>algo = 'GAM_gam'</code></em>)
</p>

<ul>
<li><p><code>method = 'GCV.Cp'</code>)
</p>
</li>
<li><p><code>optimizer = c('outer','newton')</code>
</p>
</li>
<li><p><code>select = FALSE</code>
</p>
</li>
<li><p><code>knots = NULL</code>
</p>
</li>
<li><p><code>paramPen = NULL</code>
</p>
</li></ul>


</li></ul>



<h3>CTA </h3>

<p>(<code><a href="rpart.html#topic+rpart">rpart</a></code>)
</p>
<p><em>Please refer to <code><a href="rpart.html#topic+rpart">rpart</a></code> help file for more details.</em>
</p>

<ul>
<li><p><code>method = 'class'</code>
</p>
</li>
<li><p><code>parms = 'default'</code> : if <code>'default'</code>, default <span class="pkg">rpart</span> 
<code>parms</code> value are kept
</p>
</li>
<li><p><code>cost = NULL</code>
</p>
</li>
<li><p><code>control</code> : see <code><a href="rpart.html#topic+rpart.control">rpart.control</a></code>
</p>
</li></ul>



<h3>ANN </h3>

<p>(<code><a href="nnet.html#topic+nnet">nnet</a></code>)
</p>

<ul>
<li><p><code>NbCV = 5</code> : an <code>integer</code> corresponding to the number of cross-validation 
repetitions to find best size and decay parameters
</p>
</li>
<li><p><code>size = NULL</code> : an <code>integer</code> corresponding to the number of units in the 
hidden layer. If <code>NULL</code> then size parameter will be optimized by cross-validation based 
on model AUC (<code>NbCv</code> cross-validations ; tested size will be the following : 
<code>c(2, 4, 6, 8)</code>). It is also possible to give a <code>vector</code> of size values to be tested, 
and the one giving the best model AUC will be kept.
</p>
</li>
<li><p><code>decay = NULL</code> : a <code>numeric</code> corresponding to weight decay. If <code>NULL</code> 
then decay parameter will be optimized by cross-validation based on model AUC (<code>NbCv</code> 
cross-validations ; tested size will be the following : <code>c(0.001, 0.01, 0.05, 0.1)</code>). 
It is also possible to give a <code>vector</code> of decay values to be tested, and the one giving 
the best model AUC will be kept.
</p>
</li>
<li><p><code>rang = 0.1</code> : a <code>numeric</code> corresponding to the initial random weights on 
<code>[-rang, rang]</code>
</p>
</li>
<li><p><code>maxit = 200</code> : an <code>integer</code> corresponding to the maximum number of 
iterations
</p>
</li></ul>



<h3>SRE </h3>

<p>(<code><a href="#topic+bm_SRE">bm_SRE</a></code>)
</p>

<ul>
<li><p><code>quant = 0.025</code> : a <code>numeric</code> corresponding to the quantile of 
'<em>extreme environmental variable</em>' removed to select species envelops
</p>
</li></ul>



<h3>FDA </h3>

<p>(<code><a href="mda.html#topic+fda">fda</a></code>)
</p>
<p><em>Please refer to <code><a href="mda.html#topic+fda">fda</a></code> help file for more details.</em>
</p>

<ul>
<li><p><code>method = 'mars'</code>
</p>
</li>
<li><p><code>add_args = NULL</code> : a <code>list</code> of additional parameters to <code>method</code> and 
given to the <code>...</code> options of <code><a href="mda.html#topic+fda">fda</a></code> function
</p>
</li></ul>



<h3>MARS </h3>

<p>(<code><a href="earth.html#topic+earth">earth</a></code>)
</p>
<p><em>Please refer to <code><a href="earth.html#topic+earth">earth</a></code> help file for more details.</em>
</p>

<ul>
<li><p><code>myFormula</code> : a typical <code>formula</code> object (see 
<a href="https://biomodhub.github.io/biomod2/reference/BIOMOD_ModelingOptions.html#examples">Examples</a>). <br /> If not <code>NULL</code>, <code>type</code> 
and <code>interaction.level</code> parameters are switched off. <br /> 
You can choose to either :
</p>

<ul>
<li><p>generate automatically the MARS formula with the following parameters :
</p>

<ul>
<li><p><code>type = 'simple'</code> : formula given to the model, must 
be <code>simple</code>, <code>quadratic</code> or <code>polynomial</code>
</p>
</li>
<li><p><code>interaction.level = 0</code> : an <code>integer</code> corresponding 
to the interaction level between considered variables considered (<em>be aware that 
interactions quickly enlarge the number of effective variables used into the MARS !</em>)
</p>
</li></ul>


</li>
<li><p>or construct specific formula
</p>
</li></ul>


</li>
<li><p><code>nk = NULL</code> : an <code>integer</code> corresponding to the maximum number of model 
terms. <br /> 
If <code>NULL</code> default MARS function value is used : <code>max(21, 2 * nb_expl_var + 1)</code>
</p>
</li>
<li><p><code>penalty = 2</code>
</p>
</li>
<li><p><code>thresh = 0.001</code>
</p>
</li>
<li><p><code>nprune = NULL</code>
</p>
</li>
<li><p><code>pmethod = 'backward'</code>
</p>
</li></ul>



<h3>RF </h3>

<p>(<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>)
</p>

<ul>
<li><p><code>do.classif = TRUE</code> : if <code>TRUE</code> <em>random.forest classification</em> will 
be computed, otherwise <em>random.forest regression</em> will be done
</p>
</li>
<li><p><code>ntree = 500</code>
</p>
</li>
<li><p><code>mtry = 'default'</code>
</p>
</li>
<li><p><code>sampsize = NULL</code>
</p>
</li>
<li><p><code>nodesize = 5</code>
</p>
</li>
<li><p><code>maxnodes = NULL</code>
</p>
</li></ul>



<h3>MAXENT </h3>

<p>(<a href="https://biodiversityinformatics.amnh.org/open_source/maxent/">https://biodiversityinformatics.amnh.org/open_source/maxent/</a>)
</p>

<ul>
<li><p><code>path_to_maxent.jar = getwd()</code> : a <code>character</code>
corresponding to <span class="pkg">maxent.jar</span> file link 
</p>
</li>
<li><p><code>memory_allocated = 512</code> : an <code>integer</code> corresponding to
the amount of memory (in Mo) reserved for <code>java</code> to run
<code>MAXENT</code>, must be <code>64</code>, <code>128</code>, <code>256</code>,
<code>512</code>, <code>1024</code>... or <code>NULL</code> to use default <code>java</code>
memory limitation parameter
</p>
</li>
<li><p><code>initial_heap_size = NULL</code> : a <code>character</code> initial heap
space (shared memory space) allocated to java. Argument transmitted to
<code>-Xms</code> when calling java. Used in <code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code> but
not in <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>. Values can be <code>1024K</code>,
<code>4096M</code>, <code>10G</code> ... or <code>NULL</code> to use default <code>java</code>
parameter
</p>
</li>
<li><p><code>max_heap_size = NULL</code> : a <code>character</code> initial heap
space (shared memory space) allocated to java. Argument transmitted to
<code>-Xmx</code> when calling java. Used in <code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code> but
not in <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>. Must be larger than
<code>initial_heap_size</code>. Values can be <code>1024K</code>, <code>4096M</code>,
<code>10G</code> ... or <code>NULL</code> to use default <code>java</code> parameter
</p>
</li>
<li><p><code>background_data_dir</code> : a <code>character</code> corresponding to
directory path where explanatory variables are stored as <code>ASCII</code>
files (raster format). If specified, <code>MAXENT</code> will generate
its own background data from explanatory variables rasters (as usually
done in <code>MAXENT</code> studies). Otherwise <span class="pkg">biomod2</span> pseudo-absences
will be used (see <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>)
</p>
</li>
<li><p><code>maximumbackground</code> : an <code>integer</code> corresponding to the
maximum number of background data to sample if the
<code>background_data_dir</code> parameter has been set
</p>
</li>
<li><p><code>maximumiterations = 200</code> : an <code>integer</code> corresponding
to the maximum number of iterations to do 
</p>
</li>
<li><p><code>visible = FALSE</code> : a <code>logical</code> to make the
<code>MAXENT</code> user interface available
</p>
</li>
<li><p><code>linear = TRUE</code> : a <code>logical</code> to allow linear features
to be used </p>
</li>
<li><p><code>quadratic = TRUE</code> : a <code>logical</code> to allow
quadratic features to be used 
</p>
</li>
<li><p><code>product = TRUE</code> : a <code>logical</code> to allow product features
to be used
</p>
</li>
<li><p><code>threshold = TRUE</code> : a <code>logical</code> to allow threshold
features to be used
</p>
</li>
<li><p><code>hinge = TRUE</code> : a <code>logical</code> to allow hinge features to
be used </p>
</li>
<li><p><code>lq2lqptthreshold = 80</code> : an <code>integer</code>
corresponding to the number of samples at which product and threshold
features start being used 
</p>
</li>
<li><p><code>l2lqthreshold = 10</code> : an
<code>integer</code> corresponding to the number of samples at which quadratic
features start being used 
</p>
</li>
<li><p><code>hingethreshold = 15</code> : an
<code>integer</code> corresponding to the number of samples at which hinge
features start being used
</p>
</li>
<li><p><code>beta_threshold = -1.0</code> : a
<code>numeric</code> corresponding to the regularization parameter to be applied
to all threshold features (<em>negative value enables automatic
setting</em>) 
</p>
</li>
<li><p><code>beta_categorical = -1.0</code> : a <code>numeric</code>
corresponding to the regularization parameter to be applied to all
categorical features (<em>negative value enables automatic setting</em>)
</p>
</li>
<li><p><code>beta_lqp = -1.0</code> : a <code>numeric</code> corresponding to the
regularization parameter to be applied to all linear, quadratic and
product features (<em>negative value enables automatic setting</em>)
</p>
</li>
<li><p><code>beta_hinge = -1.0</code> : a <code>numeric</code> corresponding to the
regularization parameter to be applied to all hinge features
(<em>negative value enables automatic setting</em>)
</p>
</li>
<li><p><code>betamultiplier = 1</code> : a <code>numeric</code> to multiply all
automatic regularization parameters <br /> (<em>higher number gives a more
spread-out distribution</em>) 
</p>
</li>
<li><p><code>defaultprevalence = 0.5</code> : a
<code>numeric</code> corresponding to the default prevalence of the species <br />
(<em>probability of presence at ordinary occurrence points</em>)
</p>
</li></ul>



<h3>XGBOOST </h3>

<p>(default <code><a href="xgboost.html#topic+xgboost">xgboost</a></code>)
</p>
<p><em>Please refer to <code><a href="xgboost.html#topic+xgboost">xgboost</a></code> help file for more details.</em>
</p>

<ul>
<li><p><code>max.depth = 5</code>
</p>
</li>
<li><p><code>eta = 0.1</code>
</p>
</li>
<li><p><code>nrounds = 512</code>
</p>
</li>
<li><p><code>objective = "binary:logistic"</code>
</p>
</li>
<li><p><code>nthread = 1</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Damien Georges, Wilfried Thuiller
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------#
# Print default modeling options
bm_DefaultModelingOptions()

# Create default modeling options
myBiomodOptions &lt;- BIOMOD_ModelingOptions()
myBiomodOptions

# # Part (or totality) of the print can be copied and customized
# # Below is an example to compute quadratic GLM and select best model with 'BIC' criterium
# myBiomodOptions &lt;- BIOMOD_ModelingOptions(
#   GLM = list(type = 'quadratic',
#              interaction.level = 0,
#              myFormula = NULL,
#              test = 'BIC',
#              family = 'binomial',
#              control = glm.control(epsilon = 1e-08,
#                                    maxit = 1000,
#                                    trace = FALSE)))
# myBiomodOptions
# 
# # It is also possible to give a specific GLM formula
# myForm &lt;- 'Sp277 ~ bio3 + log(bio10) + poly(bio16, 2) + bio19 + bio3:bio19'
# myBiomodOptions &lt;- BIOMOD_ModelingOptions(GLM = list(myFormula = formula(myForm)))
# myBiomodOptions


</code></pre>

<hr>
<h2 id='BIOMOD_PresenceOnly'>Evaluate models with presence-only metrics</h2><span id='topic+BIOMOD_PresenceOnly'></span>

<h3>Description</h3>

<p>This function computes presence-only evaluation metrics (Boyce index and Minimal 
Predicted Area) for <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
objects that can be obtained with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_PresenceOnly(bm.mod = NULL, bm.em = NULL, bg.env = NULL, perc = 0.9)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_PresenceOnly_+3A_bm.mod">bm.mod</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object returned by the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_PresenceOnly_+3A_bm.em">bm.em</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object returned by the 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_PresenceOnly_+3A_bg.env">bg.env</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing values of 
environmental variables (in columns or layers) extracted from the background 
(<em>if presences are to be compared to background instead of absences or 
pseudo-absences selected for modeling</em>)
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD_PresenceOnly_+3A_perc">perc</code></td>
<td>
<p>a <code>numeric</code> between <code>0</code> and <code>1</code> corresponding to the percentage of 
correctly classified presences for Minimal Predicted Area (see 
<code>ecospat.mpa()</code> in <span class="pkg">ecospat</span>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>em.by</code> parameter of <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> must have been set to 
<code>PA+run</code> in order to have an ensemble for each <em>RUN</em> of the 
<code>NbRunEval</code> parameter of the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function for evaluation. 
<br /> <br />
</p>
<p>The Boyce index returns <code>NA</code> values for <code>SRE</code> models because it can not be 
calculated with binary predictions. <br /> This is also the reason why some <code>NA</code> values 
might appear for <code>GLM</code> models if they do not converge.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing evaluation scores both for the evaluation metrics used in the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function and additional Boyce index and Minimal Predicted Area.
</p>


<h3>Note</h3>

<p>In order to break dependency loop between packages <span class="pkg">biomod2</span> and <span class="pkg">ecospat</span>, 
code of <code>ecospat.boyce()</code> and <code>ecospat.mpa()</code> in <span class="pkg">ecospat</span>)
functions have been copied within this file from version 3.2.2 (august 2022).
</p>


<h3>Author(s)</h3>

<p>Frank Breiner, Maya Gueguen
</p>


<h3>References</h3>


<ul>
<li><p> Engler, R., Guisan, A., and Rechsteiner L. 2004. An improved approach for predicting 
the distribution of rare and endangered species from occurrence and pseudo-absence data. 
<em>Journal of Applied Ecology</em>, <b>41(2)</b>, 263-274.
</p>
</li>
<li><p> Hirzel, A. H., Le Lay, G., Helfer, V., Randin, C., and Guisan, A. 2006. Evaluating 
the ability of habitat suitability models to predict species presences. <em>Ecological 
Modelling</em>, <b>199(2)</b>, 142-152.
</p>
</li></ul>



<h3>See Also</h3>

<p><code>ecospat.boyce()</code> and <code>ecospat.mpa()</code> in <span class="pkg">ecospat</span>, 
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# --------------------------------------------------------------- #
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


file.EM &lt;- paste0(myRespName, "/", myRespName, ".AllModels.ensemble.models.out")
if (file.exists(file.EM)) {
  myBiomodEM &lt;- get(load(file.EM))
} else {

  # Model ensemble models
  myBiomodEM &lt;- BIOMOD_EnsembleModeling(bm.mod = myBiomodModelOut,
                                        models.chosen = 'all',
                                        em.by = 'all',
                                        em.algo = c('EMmean', 'EMca'),
                                        metric.select = c('TSS'),
                                        metric.select.thresh = c(0.7),
                                        metric.eval = c('TSS', 'ROC'),
                                        var.import = 3,
                                        seed.val = 42)
}


# --------------------------------------------------------------- #
# # Evaluate models with Boyce index and MPA
# myBiomodPO &lt;- BIOMOD_PresenceOnly(bm.mod = myBiomodModelOut,
#                                   bm.em = myBiomodEM)
# myBiomodPO
# 
# # Evaluate models with Boyce index and MPA (using background data)
# myBiomodPO &lt;- BIOMOD_PresenceOnly(bm.mod = myBiomodModelOut,
#                                   bm.em = myBiomodEM, 
#                                   bg.env = myExpl)
# myBiomodPO


</code></pre>

<hr>
<h2 id='BIOMOD_presenceonly-deprecated'>BIOMOD_presenceonly</h2><span id='topic+BIOMOD_presenceonly-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_presenceonly(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_presenceonly-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='BIOMOD_Projection'>Project a range of calibrated species distribution models onto new environment</h2><span id='topic+BIOMOD_Projection'></span>

<h3>Description</h3>

<p>This function allows to project a range of models built with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function onto new environmental data (<em>which can 
represent new areas, resolution or time scales for example</em>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_Projection(
  bm.mod,
  proj.name,
  new.env,
  new.env.xy = NULL,
  models.chosen = "all",
  metric.binary = NULL,
  metric.filter = NULL,
  compress = TRUE,
  build.clamping.mask = TRUE,
  nb.cpu = 1,
  seed.val = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_Projection_+3A_bm.mod">bm.mod</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object returned by the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_proj.name">proj.name</code></td>
<td>
<p>a <code>character</code> corresponding to the name (ID) of the projection set 
(<em>a new folder will be created within the simulation folder with this name</em>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_new.env">new.env</code></td>
<td>
<p>A <code>matrix</code>, <code>data.frame</code> or
<code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the new 
explanatory variables (in columns or layers, with names matching the
variables names given to the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function to build 
<code>bm.mod</code>) that will be used to project the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">raster</span> are still supported such as 
<code>RasterStack</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_new.env.xy">new.env.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>new.env</code> is a <code>matrix</code> or a <code>data.frame</code>, a 2-columns <code>matrix</code> or 
<code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> coordinates that will be 
used to project the species distribution model(s)</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_models.chosen">models.chosen</code></td>
<td>
<p>a <code>vector</code> containing model names to be kept, must be either 
<code>all</code> or a sub-selection of model names that can be obtained with the 
<code><a href="#topic+get_built_models">get_built_models</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_metric.binary">metric.binary</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric names to be used to transform prediction values 
into binary values based on models evaluation scores obtained with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function. Must be among <code>all</code> (same evaluation metrics than 
those of <code>bm.mod</code>) or <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, 
<code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, 
<code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_metric.filter">metric.filter</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric names to be used to transform prediction values 
into filtered values based on models evaluation scores obtained with the 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function. Must be among <code>all</code> (same evaluation metrics than 
those of <code>bm.mod</code>) or <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, 
<code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, 
<code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_compress">compress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> or a <code>character</code> value defining whether and how objects should be 
compressed when saved on hard drive. Must be either <code>TRUE</code>, <code>FALSE</code>, <code>xz</code> or 
<code>gzip</code> (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_build.clamping.mask">build.clamping.mask</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether a clamping mask should be built and saved on hard 
drive or not (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_nb.cpu">nb.cpu</code></td>
<td>
<p>(<em>optional, default</em> <code>1</code>) <br /> 
An <code>integer</code> value corresponding to the number of computing resources to be used to 
parallelize the single models computation</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_seed.val">seed.val</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="BIOMOD_Projection_+3A_...">...</code></td>
<td>
<p>(<em>optional, see Details)</em>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>models.chosen = 'all'</code>, projections are done for all calibration and pseudo absences 
runs if applicable. <br /> These projections may be used later by the 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code> function. <br /> <br /> 
</p>
<p>If <code>build.clamping.mask = TRUE</code>, a raster file will be saved within the projection folder. 
This mask values will correspond to the number of variables in each pixel that are out of their 
calibration / validation range, identifying locations where predictions are uncertain. <br /> <br />
</p>
<p><code>...</code> can take the following values :
</p>

<ul>
<li><p><code>omit.na</code> : a <code>logical</code> value defining whether all not fully referenced 
environmental points will get <code>NA</code> as predictions or not
</p>
</li>
<li><p><code>on_0_1000</code> : a <code>logical</code> value defining whether <code>0 - 1</code> probabilities 
are to be converted to <code>0 - 1000</code> scale to save memory on backup
</p>
</li>
<li><p><code>do.stack</code> : a <code>logical</code> value defining whether all projections are to be 
saved as one <code><a href="terra.html#topic+rast">SpatRaster</a></code> object or several 
<code><a href="terra.html#topic+rast">SpatRaster</a></code> files (<em>the default if projections are too heavy to 
be all loaded at once in memory</em>)
</p>
</li>
<li><p><code>keep.in.memory</code> : a <code>logical</code> value defining whether all projections are 
to be kept loaded at once in memory, or only links pointing to hard drive are to be returned
</p>
</li>
<li><p><code>output.format</code> : a <code>character</code> value corresponding to the projections 
saving format on hard drive, must be either <code>.grd</code>, <code>.img</code>, <code>.tif</code> or <code>.RData</code> (the 
default if <code>new.env</code> is given as <code>matrix</code> or <code>data.frame</code>)
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>BIOMOD.projection.out</code> object containing models projections, or links to saved 
outputs. <br /> Models projections are stored out of <span class="rlang"><b>R</b></span> (for memory storage reasons) in 
<code>proj.name</code> folder created in the current working directory :
</p>

<ol>
<li><p> the output is a <code>data.frame</code> if <code>new.env</code> is a <code>matrix</code> or a 
<code>data.frame</code>
</p>
</li>
<li><p> it is a <code><a href="terra.html#topic+rast">SpatRaster</a></code> if <code>new.env</code> is a 
<code><a href="terra.html#topic+rast">SpatRaster</a></code> (or several <code><a href="terra.html#topic+rast">SpatRaster</a></code> 
objects, if <code>new.env</code> is too large)
</p>
</li>
<li><p> raw projections, as well as binary and filtered projections (if asked), are saved in 
the <code>proj.name</code> folder
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, 
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------#
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


# ---------------------------------------------------------------#
# Project single models
file.proj &lt;- paste0(myRespName, "/proj_Current/", myRespName, ".Current.projection.out")
if (file.exists(file.proj)) {
  myBiomodProj &lt;- get(load(file.proj))
} else {
myBiomodProj &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                  proj.name = 'Current',
                                  new.env = myExpl,
                                  models.chosen = 'all')
}
myBiomodProj
plot(myBiomodProj)


</code></pre>

<hr>
<h2 id='BIOMOD_RangeSize'>Analyze the range size differences between projections of species distribution models</h2><span id='topic+BIOMOD_RangeSize'></span><span id='topic+BIOMOD_RangeSize+2Cdata.frame+2Cdata.frame-method'></span><span id='topic+BIOMOD_RangeSize+2CSpatRaster+2CSpatRaster-method'></span>

<h3>Description</h3>

<p>This function allows to calculate the absolute number of locations (pixels) lost,
stable and gained, as well as the corresponding relative proportions, between two (or more)
binary projections of (ensemble) species distribution models (<em>which can represent new
time scales or environmental scenarios for example</em>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_RangeSize(proj.current, proj.future)

## S4 method for signature 'data.frame,data.frame'
BIOMOD_RangeSize(proj.current, proj.future)

## S4 method for signature 'SpatRaster,SpatRaster'
BIOMOD_RangeSize(proj.current, proj.future)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_RangeSize_+3A_proj.current">proj.current</code></td>
<td>
<p>a <code>data.frame</code>, <code><a href="raster.html#topic+stack">RasterLayer</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the initial binary projection(s)
of the (ensemble) species distribution model(s)</p>
</td></tr>
<tr><td><code id="BIOMOD_RangeSize_+3A_proj.future">proj.future</code></td>
<td>
<p>a <code>data.frame</code>, <code><a href="raster.html#topic+stack">RasterLayer</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the final binary projection(s)
of the (ensemble) species distribution model(s)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that <b>this function is only relevant to compare binary projections, made on the
same area with the same resolution</b>. <br />
</p>
<p>Comparison between <code>proj.current</code> and <code>proj.future</code> depends
on the number of projection in both objects:</p>

<table>
<tr>
 <td style="text-align: left;">
   <code>proj.current</code> </td><td style="text-align: left;"> <code>proj.future</code> </td><td style="text-align: left;"> <b>Comparison</b> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <b>1 projection</b> (<em>e.g. data.frame with 1 column, SpatRaster with 1 layer</em>) </td><td style="text-align: left;"> <b>1 projection</b>  (<em>e.g. data.frame with 1 column, SpatRaster with 1 layer</em>) </td><td style="text-align: left;"> comparison of both projection  (<em>e.g. current vs future conditions for the same model ; current vs current condition for two different models</em>) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <b><code>n</code> projections</b>  (<em>e.g. data.frame with n column, SpatRaster with n layer</em>) </td><td style="text-align: left;"> <b><code>n</code> projections</b>  (<em>e.g. data.frame with n column, SpatRaster with n layer</em>) </td><td style="text-align: left;"> comparing projection <code>i</code> in <code>proj.current</code> to projection <code>i</code> in <code>proj.future</code>  (<em>e.g. comparing current vs future condition for n models</em>) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <b><code>1</code> projection</b>   (<em>e.g. data.frame with 1 column, SpatRaster with 1 layer</em>) </td><td style="text-align: left;"> <b><code>n</code> projections</b>  (<em>e.g. data.frame with n column, SpatRaster with n layer</em>) </td><td style="text-align: left;"> comparing projection in <code>proj.current</code> to each projection in <code>proj.future</code>  (<em>e.g. comparing current vs n different future condition (e.g. climate change scenario) for 1 model</em>) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><code>Diff.By.Pixel</code> object is obtained by applying the simple following formula :
</p>
<p style="text-align: center;"><code class="reqn">proj.future - 2 * proj.current</code>
</p>



<h3>Value</h3>

<p>A <code>list</code> containing two objects :
</p>

<dl>
<dt>Compt.By.Species</dt><dd><p>a <code>data.frame</code> containing the summary of range change for each
comparison
</p>

<ul>
<li><p><code>Loss</code> : number of pixels predicted to be lost
</p>
</li>
<li><p><code>Stable0</code> : number of pixels not currently occupied and not predicted to be
</p>
</li>
<li><p><code>Stable1</code> : number of pixels currently occupied and predicted to remain
occupied
</p>
</li>
<li><p><code>Gain</code> : number of pixels predicted to be gained
</p>
</li>
<li><p><code>PercLoss</code> : percentage of pixels currently occupied and predicted to be lost
(<code>Loss / (Loss + Stable1)</code>)
</p>
</li>
<li><p><code>PercGain</code> : percentage of pixels predicted to be gained compare to the
number of pixels currently occupied (<code>Gain / (Loss + Stable1)</code>)
</p>
</li>
<li><p><code>SpeciesRangeChange</code> : percentage of pixels predicted to change (loss or gain)
compare to the number of pixels currently occupied (<code>PercGain - PercLoss</code>)
</p>
</li>
<li><p><code>CurrentRangeSize</code> : number of pixels currently occupied
</p>
</li>
<li><p><code>FutureRangeSize0Disp</code> : number of pixels predicted to be occupied, assuming
no migration
</p>
</li>
<li><p><code>FutureRangeSize1Disp</code> : number of pixels predicted to be occupied, assuming
migration
</p>
</li></ul>

</dd>
<dt>Diff.By.Pixel</dt><dd><p>an object in the same form than the input data (<code>proj.current</code> and
<code>proj.future</code>) and containing a value for each point/pixel of each comparison among :
</p>

<ul>
<li> <p><code>-2</code> : predicted to be lost
</p>
</li>
<li> <p><code>-1</code> : predicted to remain occupied
</p>
</li>
<li> <p><code>0</code> : predicted to remain unoccupied
</p>
</li>
<li> <p><code>1</code> : predicted to be gained
</p>
</li></ul>

</dd>
</dl>



<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges, Bruno Lafourcade
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>, <code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# --------------------------------------------------------------- #
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}

models.proj &lt;- get_built_models(myBiomodModelOut, algo = "RF")
  # Project single models
  myBiomodProj &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                    proj.name = 'CurrentRangeSize',
                                    new.env = myExpl,
                                    models.chosen = models.proj,
                                    metric.binary = 'all',
                                    build.clamping.mask = TRUE)


# --------------------------------------------------------------- #
# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_future)
myExplFuture &lt;- terra::rast(bioclim_future)

# Project onto future conditions
myBiomodProjectionFuture &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                              proj.name = 'FutureRangeSize',
                                              new.env = myExplFuture,
                                              models.chosen = models.proj,
                                              metric.binary = 'TSS')

# Load current and future binary projections
CurrentProj &lt;- get_predictions(myBiomodProj,
                               metric.binary = "TSS",
                               model.as.col = TRUE)
FutureProj &lt;- get_predictions(myBiomodProjectionFuture,
                               metric.binary = "TSS",
                               model.as.col = TRUE)
# Compute differences
myBiomodRangeSize &lt;- BIOMOD_RangeSize(proj.current = CurrentProj, proj.future = FutureProj)

myBiomodRangeSize$Compt.By.Models
plot(myBiomodRangeSize$Diff.By.Pixel)

# Represent main results 
bm_PlotRangeSize(bm.range = myBiomodRangeSize)


</code></pre>

<hr>
<h2 id='BIOMOD_Tuning'>Tune models parameters</h2><span id='topic+BIOMOD_Tuning'></span>

<h3>Description</h3>

<p>Function to tune <span class="pkg">biomod2</span> single models parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_Tuning(
  bm.format,
  bm.options = BIOMOD_ModelingOptions(),
  models = c("GLM", "GBM", "GAM", "CTA", "ANN", "SRE", "FDA", "MARS", "RF", "MAXENT"),
  metric.eval = "ROC",
  ctrl.train = NULL,
  ctrl.train.tuneLength = 30,
  ctrl.ANN = NULL,
  ctrl.CTA = NULL,
  ctrl.FDA = NULL,
  ctrl.GAM = NULL,
  ctrl.GBM = NULL,
  ctrl.GLM = NULL,
  ctrl.MARS = NULL,
  ctrl.RF = NULL,
  ANN.method = "avNNet",
  ANN.decay.tune = c(0.001, 0.01, 0.05, 0.1),
  ANN.size.tune = c(2, 4, 6, 8),
  ANN.maxit = 500,
  ANN.MaxNWts = 10 * (ncol(bm.format@data.env.var) + 1) + 10 + 1,
  MARS.method = "earth",
  GAM.method = "gam",
  GLM.method = "glmStepAIC",
  GLM.type = c("simple", "quadratic", "polynomial", "s_smoother"),
  GLM.interaction = c(0, 1),
  ME.cvmethod = "randomkfold",
  ME.overlap = FALSE,
  ME.kfolds = 10,
  ME.n.bg = 10000,
  ME.env = NULL,
  ME.metric = "ROC",
  ME.clamp = TRUE,
  ME.parallel = FALSE,
  ME.numCores = NULL,
  RF.method = "rf",
  weights = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_Tuning_+3A_bm.format">bm.format</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code> 
object returned by the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_bm.options">bm.options</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object returned by the
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_models">models</code></td>
<td>
<p>a <code>vector</code> containing model names to be tuned, <br /> 
must be among <code>GLM</code>, <code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, 
<code>FDA</code>, <code>MARS</code>, <code>RF</code>, <code>MAXENT</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_metric.eval">metric.eval</code></td>
<td>
<p>a <code>character</code> corresponding to the evaluation metric used to select 
optimal models and tune parameters, must be either <code>ROC</code> or <code>TSS</code> 
(<em>maximizing Sensitivity and Specificity</em>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.train">ctrl.train</code></td>
<td>
<p>global control parameters that can be obtained from the 
<code><a href="caret.html#topic+trainControl">trainControl</a></code> function</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.train.tunelength">ctrl.train.tuneLength</code></td>
<td>
<p>(see <code>tuneLength</code> parameter in <code><a href="caret.html#topic+train">train</a></code>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.ann">ctrl.ANN</code></td>
<td>
<p>control parameters for <code>ANN</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.cta">ctrl.CTA</code></td>
<td>
<p>control parameters for <code>CTA</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.fda">ctrl.FDA</code></td>
<td>
<p>control parameters for <code>FDA</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.gam">ctrl.GAM</code></td>
<td>
<p>control parameters for <code>GAM</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.gbm">ctrl.GBM</code></td>
<td>
<p>control parameters for <code>GBM</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.glm">ctrl.GLM</code></td>
<td>
<p>control parameters for <code>GLM</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.mars">ctrl.MARS</code></td>
<td>
<p>control parameters for <code>MARS</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ctrl.rf">ctrl.RF</code></td>
<td>
<p>control parameters for <code>RF</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ann.method">ANN.method</code></td>
<td>
<p>a <code>character</code> corresponding to the classification or regression model 
to use for <code>ANN</code>, <br /> 
must be <code>avNNet</code> (see <a href="http://topepo.github.io/caret/train-models-by-tag.html#Neural_Network">http://topepo.github.io/caret/train-models-by-tag.html#Neural_Network</a>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ann.decay.tune">ANN.decay.tune</code></td>
<td>
<p>a <code>vector</code> of weight decay parameters for <code>ANN</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ann.size.tune">ANN.size.tune</code></td>
<td>
<p>a <code>vector</code> of size parameters (number of units in the hidden layer) 
for <code>ANN</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ann.maxit">ANN.maxit</code></td>
<td>
<p>an <code>integer</code> corresponding to the maximum number of iterations for 
<code>ANN</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_ann.maxnwts">ANN.MaxNWts</code></td>
<td>
<p>an <code>integer</code> corresponding to the maximum allowable number of weights 
for <code>ANN</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_mars.method">MARS.method</code></td>
<td>
<p>a <code>character</code> corresponding to the classification or regression model 
to use for <code>MARS</code>, <br /> 
must be <code>earth</code> (see 
<a href="http://topepo.github.io/caret/train-models-by-tag.html#Multivariate_Adaptive_Regression_Splines">http://topepo.github.io/caret/train-models-by-tag.html#Multivariate_Adaptive_Regression_Splines</a>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_gam.method">GAM.method</code></td>
<td>
<p>a <code>character</code> corresponding to the classification or regression model 
to use for <code>GAM</code>, <br /> 
must be <code>gam</code> (see <a href="http://topepo.github.io/caret/train-models-by-tag.html#generalized-additive-model">http://topepo.github.io/caret/train-models-by-tag.html#generalized-additive-model</a>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_glm.method">GLM.method</code></td>
<td>
<p>a <code>character</code> corresponding to the classification or regression model 
to use for <code>GLM</code>, <br /> 
must be <code>glmStepAIC</code> (see 
<a href="http://topepo.github.io/caret/train-models-by-tag.html#Generalized_Linear_Model">http://topepo.github.io/caret/train-models-by-tag.html#Generalized_Linear_Model</a>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_glm.type">GLM.type</code></td>
<td>
<p>a <code>vector</code> of <code>character</code> corresponding to modeling types for 
<code>GLM</code>, <br /> must be among <code>simple</code>, <code>quadratic</code>, <code>polynomial</code>, 
<code>s_smoother</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_glm.interaction">GLM.interaction</code></td>
<td>
<p>a <code>vector</code> of interaction types, must be among <code>0</code>, <code>1</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.cvmethod">ME.cvmethod</code></td>
<td>
<p>a <code>character</code> corresponding to the method used to partition data for 
<code>MAXENT</code>, <br /> must be <code>randomkfold</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.overlap">ME.overlap</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether to calculate pairwise metric of niche overlap or not 
(see <code><a href="ENMeval.html#topic+calc.niche.overlap">calc.niche.overlap</a></code>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.kfolds">ME.kfolds</code></td>
<td>
<p>an <code>integer</code> corresponding to the number of bins for k-fold 
cross-validation for <code>MAXENT</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.n.bg">ME.n.bg</code></td>
<td>
<p>an <code>integer</code> corresponding to the number of background points used to run 
<code>MAXENT</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.env">ME.env</code></td>
<td>
<p>a <code><a href="terra.html#topic+rast">SpatRaster</a></code> object 
containing model predictor variables</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.metric">ME.metric</code></td>
<td>
<p>a <code>character</code> corresponding to the evaluation metric used to select 
optimal model and tune parameters for <code>MAXENT</code>, must be either 
<code>auc.val.avg</code>, <code>auc.diff.avg</code>, <code>or.mtp.avg</code>, <code>or.10p.avg</code> or <code>AICc</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.clamp">ME.clamp</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether <em>Features are constrained to remain within the 
range of values in the training data</em> (Elith et al. 2011) or not</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.parallel">ME.parallel</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether to enable parallel computing for 
<code>MAXENT</code> or not</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_me.numcores">ME.numCores</code></td>
<td>
<p>an <code>integer</code> corresponding to the number of cores to be used to 
train <code>MAXENT</code></p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_rf.method">RF.method</code></td>
<td>
<p>a <code>character</code> corresponding to the classification or regression model 
to use for <code>RF</code>, <br /> 
must be <code>rf</code> (see <a href="http://topepo.github.io/caret/train-models-by-tag.html#random-forest">http://topepo.github.io/caret/train-models-by-tag.html#random-forest</a>)</p>
</td></tr>
<tr><td><code id="BIOMOD_Tuning_+3A_weights">weights</code></td>
<td>
<p>a <code>vector</code> of <code>numeric</code> values corresponding to observation weights</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>ctrl.train</code> parameter is set by default to : <br />
<code>caret::trainControl(method = 'cv', summaryFunction = caret::twoClassSummary,</code> <br />
<code>classProbs = TRUE, returnData = FALSE)</code>.
</p>
</li>
<li><p> All control parameters for other models are set to <code>ctrl.train</code> if unspecified.
</p>
</li>
<li><p> For more details on <code>MAXENT</code> tuning, please refer to 
<code><a href="ENMeval.html#topic+ENMevaluate">ENMevaluate</a></code>.
</p>
</li>
<li><p> For more details on other models tuning, please refer to <code><a href="caret.html#topic+train">train</a></code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object (see <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>) with 
optimized parameters
</p>


<h3>Author(s)</h3>

<p>Frank Breiner
</p>


<h3>References</h3>


<ul>
<li><p> Kuhn, Max. 2008. Building predictive models in R using the caret package. 
<em>Journal of Statistical Software</em> <b>28</b>, 1-26.
</p>
</li>
<li><p> Kuhn, Max, and Kjell Johnson. 2013. Applied predictive modeling. New York: Springer.
</p>
</li>
<li><p> Muscarella, Robert, et al. 2014. ENMeval: An R package for conducting spatially 
independent evaluations and estimating optimal model complexity for Maxent ecological 
niche models. <em>Methods in Ecology and Evolution</em>, <b>5</b>, 1198-1205.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="caret.html#topic+trainControl">trainControl</a></code>, <code><a href="caret.html#topic+train">train</a></code>, 
<code><a href="ENMeval.html#topic+calc.niche.overlap">calc.niche.overlap</a></code>, <code><a href="ENMeval.html#topic+ENMevaluate">ENMevaluate</a></code>, 
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>
<p>Other Main functions: 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a>()</code>,
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a>()</code>,
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a>()</code>,
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a>()</code>,
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a>()</code>,
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a>()</code>,
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a>()</code>,
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a>()</code>,
<code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# --------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)


# --------------------------------------------------------------- #
### Duration for turing all models sequential with default settings 
### on 3.4 GHz processor: approx. 45 min tuning all models in parallel
### (on 8 cores) using foreach loops runs much faster: approx. 14 min

## Not run: 
# library(doParallel)
# cl &lt;- makeCluster(8)
# doParallel::registerDoParallel(cl) 

time.seq &lt;- system.time(
  bm.tuning &lt;- BIOMOD_Tuning(bm.format = myBiomodData, ME.env = myExpl, ME.n.bg = ncell(myExpl))
)

# stopCluster(cl)

plot(bm.tuning$tune.CTA.rpart)
plot(bm.tuning$tune.CTA.rpart2)
plot(bm.tuning$tune.RF)
plot(bm.tuning$tune.ANN)
plot(bm.tuning$tune.MARS)
plot(bm.tuning$tune.FDA)
plot(bm.tuning$tune.GBM)
plot(bm.tuning$tune.GAM)

# Get tuned modeling options
myBiomodOptions &lt;- bm.tuning$models.options

## End(Not run)


</code></pre>

<hr>
<h2 id='BIOMOD_tuning-deprecated'>BIOMOD_tuning</h2><span id='topic+BIOMOD_tuning-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_tuning(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD_tuning-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='BIOMOD.ensemble.models.out'><code>BIOMOD_EnsembleModeling()</code> output object class</h2><span id='topic+BIOMOD.ensemble.models.out'></span><span id='topic+BIOMOD.ensemble.models.out-class'></span><span id='topic+show+2CBIOMOD.ensemble.models.out-method'></span>

<h3>Description</h3>

<p>Class returned by <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, and used by 
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a></code>, <code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a></code> and 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.ensemble.models.out'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD.ensemble.models.out_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>modeling.id</code></dt><dd><p>a <code>character</code> corresponding to the name (ID) of the
simulation set</p>
</dd>
<dt><code>dir.name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>sp.name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>expl.var.names</code></dt><dd><p>a <code>vector</code> containing names of explanatory
variables</p>
</dd>
<dt><code>models.out</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.models.out-class">BIOMOD.stored.models.out-class</a></code> object
containing informations from <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> object</p>
</dd>
<dt><code>em.by</code></dt><dd><p>a <code>character</code> corresponding to the way kept models have
been combined to build the ensemble models, must be among
<code>PA+run</code>, <code>PA+algo</code>, <code>PA</code>,
<code>algo</code>, <code>all</code></p>
</dd>
<dt><code>em.computed</code></dt><dd><p>a <code>vector</code> containing names of ensemble models</p>
</dd>
<dt><code>em.failed</code></dt><dd><p>a <code>vector</code> containing names of failed ensemble models</p>
</dd>
<dt><code>em.models_kept</code></dt><dd><p>a <code>list</code> containing single models for each ensemble model</p>
</dd>
<dt><code>models.evaluation</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing models evaluation</p>
</dd>
<dt><code>variables.importance</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing variables importance</p>
</dd>
<dt><code>models.prediction</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing models predictions</p>
</dd>
<dt><code>models.prediction.eval</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code>
object containing models predictions for evaluation data</p>
</dd>
<dt><code>link</code></dt><dd><p>a <code>character</code> containing the file name of the saved object</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, <code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a></code>, 
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a></code>, <code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>, 
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a></code>, <code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a></code>, 
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a></code>, <code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.ensemble.models.out")

## ----------------------------------------------------------------------- #
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


## ----------------------------------------------------------------------- #
# Model ensemble models
myBiomodEM &lt;- BIOMOD_EnsembleModeling(bm.mod = myBiomodModelOut,
                                      models.chosen = 'all',
                                      em.by = 'all',
                                      em.algo = c('EMmean', 'EMca'),
                                      metric.select = c('TSS'),
                                      metric.select.thresh = c(0.7),
                                      metric.eval = c('TSS', 'ROC'),
                                      var.import = 3,
                                      seed.val = 42)
myBiomodEM


</code></pre>

<hr>
<h2 id='BIOMOD.formated.data'><code>BIOMOD_FormatingData()</code> output object class</h2><span id='topic+BIOMOD.formated.data'></span><span id='topic+BIOMOD.formated.data-class'></span><span id='topic+BIOMOD.formated.data+2Cnumeric+2Cdata.frame-method'></span><span id='topic+BIOMOD.formated.data+2Cdata.frame+2CANY-method'></span><span id='topic+BIOMOD.formated.data+2Cnumeric+2Cmatrix-method'></span><span id='topic+BIOMOD.formated.data+2Cnumeric+2CSpatRaster-method'></span><span id='topic+show+2CBIOMOD.formated.data-method'></span>

<h3>Description</h3>

<p>Class returned by <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, and used by 
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code> and 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'numeric,data.frame'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  data.mask = NULL,
  shared.eval.env = FALSE,
  filter.raster = FALSE
)

## S4 method for signature 'data.frame,ANY'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)

## S4 method for signature 'numeric,matrix'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)

## S4 method for signature 'numeric,SpatRaster'
BIOMOD.formated.data(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  na.rm = TRUE,
  shared.eval.env = FALSE,
  filter.raster = FALSE
)

## S4 method for signature 'BIOMOD.formated.data'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD.formated.data_+3A_sp">sp</code></td>
<td>
<p>A <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code> without associated 
data (<em>if presence-only</em>), or a <code><a href="terra.html#topic+vect">SpatVector</a></code>
object containing binary data (<code>0</code> : absence,  <code>1</code> : presence,
<code>NA</code> : indeterminate) for a single species that will be used to 
build the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_env">env</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables 
(in columns or layers) that will be used to build the species distribution model(s).
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_xy">xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or <code>data.frame</code> 
containing the corresponding <code>X</code> and <code>Y</code> coordinates that will be used to build the 
species distribution model(s)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_dir.name">dir.name</code></td>
<td>
<p>a <code>character</code> corresponding to the modeling folder</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_sp.name">sp.name</code></td>
<td>
<p>a <code>character</code> corresponding to the species name</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_eval.sp">eval.sp</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code> without associated 
data (<em>if presence-only</em>), or a <code><a href="terra.html#topic+vect">SpatVector</a></code>
object containing binary data (<code>0</code> : absence, <code>1</code> : presence, 
<code>NA</code> : indeterminate) for a single species that will be used to
evaluate the species distribution model(s) with independent data
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_eval.env">eval.env</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code> or
<code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory
variables (in columns or layers) that will be used to evaluate the species
distribution model(s) with independent data
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still
supported such as <code>RasterStack</code> and <code>SpatialPointsDataFrame</code>
objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_eval.xy">eval.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or
<code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code>
coordinates that will be used to evaluate the species distribution model(s)
with independent data</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_na.rm">na.rm</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether points having one or several missing
values for explanatory variables should be removed from the analysis or not</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_data.mask">data.mask</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the mask of the studied area</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_shared.eval.env">shared.eval.env</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether the explanatory variables used for the 
evaluation dataset are the same than the ones for calibration (if <code>eval.env</code> not 
provided for example) or not</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_filter.raster">filter.raster</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
If <code>env</code> is of raster type, a <code>logical</code> value defining whether <code>sp</code> 
is to be filtered when several points occur in the same raster cell</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> object</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>dir.name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>sp.name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>coord</code></dt><dd><p>a 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> 
coordinates</p>
</dd>
<dt><code>data.species</code></dt><dd><p>a <code>vector</code> containing the species observations (<code>0</code>, <code>1</code> or 
<code>NA</code>)</p>
</dd>
<dt><code>data.env.var</code></dt><dd><p>a <code>data.frame</code> containing explanatory variables</p>
</dd>
<dt><code>data.mask</code></dt><dd><p>a <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the mask of the 
studied area</p>
</dd>
<dt><code>has.data.eval</code></dt><dd><p>a <code>logical</code> value defining whether evaluation data is given</p>
</dd>
<dt><code>eval.coord</code></dt><dd><p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> 
coordinates for evaluation data</p>
</dd>
<dt><code>eval.data.species</code></dt><dd><p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing the species observations (<code>0</code>, <code>1</code> or <code>NA</code>) for 
evaluation data</p>
</dd>
<dt><code>eval.data.env.var</code></dt><dd><p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>data.frame</code> containing explanatory variables for evaluation data</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, <code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, 
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, 
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.formated.data")

## ----------------------------------------------------------------------- #
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)
myBiomodData
plot(myBiomodData)
summary(myBiomodData)


</code></pre>

<hr>
<h2 id='BIOMOD.formated.data.PA'><code>BIOMOD_FormatingData()</code> output object class (with pseudo-absences)</h2><span id='topic+BIOMOD.formated.data.PA'></span><span id='topic+BIOMOD.formated.data.PA-class'></span><span id='topic+BIOMOD.formated.data.PA+2Cnumeric+2Cdata.frame-method'></span><span id='topic+BIOMOD.formated.data.PA+2Cnumeric+2CSpatRaster-method'></span>

<h3>Description</h3>

<p>Class returned by <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, and used by 
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code> and 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'numeric,data.frame'
BIOMOD.formated.data.PA(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  PA.nb.rep = 1,
  PA.strategy = "random",
  PA.nb.absences = NULL,
  PA.dist.min = 0,
  PA.dist.max = NULL,
  PA.sre.quant = 0.025,
  PA.user.table = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)

## S4 method for signature 'numeric,SpatRaster'
BIOMOD.formated.data.PA(
  sp,
  env,
  xy = NULL,
  dir.name = ".",
  sp.name = NULL,
  eval.sp = NULL,
  eval.env = NULL,
  eval.xy = NULL,
  PA.nb.rep = 1,
  PA.strategy = "random",
  PA.nb.absences = NULL,
  PA.dist.min = 0,
  PA.dist.max = NULL,
  PA.sre.quant = 0.025,
  PA.user.table = NULL,
  na.rm = TRUE,
  filter.raster = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_sp">sp</code></td>
<td>
<p>A <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code> without associated 
data (<em>if presence-only</em>), or a <code><a href="terra.html#topic+vect">SpatVector</a></code>
object containing binary data (<code>0</code> : absence,  <code>1</code> : presence,
<code>NA</code> : indeterminate) for a single species that will be used to 
build the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_env">env</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables 
(in columns or layers) that will be used to build the species distribution model(s).
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_xy">xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or <code>data.frame</code> 
containing the corresponding <code>X</code> and <code>Y</code> coordinates that will be used to build the 
species distribution model(s)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_dir.name">dir.name</code></td>
<td>
<p>a <code>character</code> corresponding to the modeling folder</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_sp.name">sp.name</code></td>
<td>
<p>a <code>character</code> corresponding to the species name</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_eval.sp">eval.sp</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code> without associated 
data (<em>if presence-only</em>), or a <code><a href="terra.html#topic+vect">SpatVector</a></code>
object containing binary data (<code>0</code> : absence, <code>1</code> : presence, 
<code>NA</code> : indeterminate) for a single species that will be used to
evaluate the species distribution model(s) with independent data
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_eval.env">eval.env</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code> or
<code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory
variables (in columns or layers) that will be used to evaluate the species
distribution model(s) with independent data
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still
supported such as <code>RasterStack</code> and <code>SpatialPointsDataFrame</code>
objects. </em></p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_eval.xy">eval.xy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If <code>resp.var</code> is a <code>vector</code>, a 2-columns <code>matrix</code> or
<code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code>
coordinates that will be used to evaluate the species distribution model(s)
with independent data</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.nb.rep">PA.nb.rep</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection, an <code>integer</code> corresponding to the number of sets 
(repetitions) of pseudo-absence points that will be drawn</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.strategy">PA.strategy</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If pseudo-absence selection, a <code>character</code> defining the strategy that will be used to 
select the pseudo-absence points. Must be <code>random</code>, <code>sre</code>, <code>disk</code> or 
<code>user.defined</code> (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.nb.absences">PA.nb.absences</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection, and <code>PA.strategy = 'random'</code> or <code>PA.strategy = 'sre'</code> 
or <code>PA.strategy = 'disk'</code>, an <code>integer</code> (or a <code>vector</code> of <code>integer</code> the 
same size as <code>PA.nb.rep</code>) corresponding to the number of pseudo-absence points that 
will be selected for each pseudo-absence repetition (true absences included)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.dist.min">PA.dist.min</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'disk'</code>, a <code>numeric</code> defining the 
minimal distance to presence points used to make the <code>disk</code> pseudo-absence selection 
(in meters, see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.dist.max">PA.dist.max</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'disk'</code>, a <code>numeric</code> defining the 
maximal distance to presence points used to make the <code>disk</code> pseudo-absence selection 
(in meters, see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.sre.quant">PA.sre.quant</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'sre'</code>, a <code>numeric</code> between <code>0</code> 
and <code>0.5</code> defining the half-quantile used to make the <code>sre</code> pseudo-absence selection 
(see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_pa.user.table">PA.user.table</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
If pseudo-absence selection and <code>PA.strategy = 'user.defined'</code>, a <code>matrix</code> or 
<code>data.frame</code> with as many rows as <code>resp.var</code> values, as many columns as 
<code>PA.nb.rep</code>, and containing <code>TRUE</code> or <code>FALSE</code> values defining which points 
will be used to build the species distribution model(s) for each repetition (see Details)</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_na.rm">na.rm</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether points having one or several missing
values for explanatory variables should be removed from the analysis or not</p>
</td></tr>
<tr><td><code id="BIOMOD.formated.data.PA_+3A_filter.raster">filter.raster</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
If <code>env</code> is of raster type, a <code>logical</code> value defining whether <code>sp</code> 
is to be filtered when several points occur in the same raster cell</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>dir.name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>sp.name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>coord</code></dt><dd><p>a 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> 
coordinates</p>
</dd>
<dt><code>data.species</code></dt><dd><p>a <code>vector</code> containing the species observations (<code>0</code>, <code>1</code> or 
<code>NA</code>)</p>
</dd>
<dt><code>data.env.var</code></dt><dd><p>a <code>data.frame</code> containing explanatory variables</p>
</dd>
<dt><code>data.mask</code></dt><dd><p>a <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing 
the mask of the studied area</p>
</dd>
<dt><code>has.data.eval</code></dt><dd><p>a <code>logical</code> value defining whether evaluation data is given</p>
</dd>
<dt><code>eval.coord</code></dt><dd><p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code> 
coordinates for evaluation data</p>
</dd>
<dt><code>eval.data.species</code></dt><dd><p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing the species observations (<code>0</code>, <code>1</code> or <code>NA</code>) for 
evaluation data</p>
</dd>
<dt><code>eval.data.env.var</code></dt><dd><p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>data.frame</code> containing explanatory variables for evaluation data</p>
</dd>
<dt><code>PA.strategy</code></dt><dd><p>a <code>character</code> corresponding to the pseudo-absence selection strategy</p>
</dd>
<dt><code>PA.table</code></dt><dd><p>a <code>data.frame</code> containing the corresponding table of selected 
pseudo-absences (indicated by <code>TRUE</code> or <code>FALSE</code>) from the <code>pa.tab</code> list 
element returned by the <code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a></code> function</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, <code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a></code>, 
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.formated.data.PA")

## ----------------------------------------------------------------------- #
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Keep only presence informations
DataSpecies &lt;- DataSpecies[which(DataSpecies[, myRespName] == 1), ]

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
# Format Data with pseudo-absences : random method
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName,
                                     PA.nb.rep = 4,
                                     PA.strategy = 'random',
                                     PA.nb.absences = 1000)
myBiomodData
plot(myBiomodData)


</code></pre>

<hr>
<h2 id='BIOMOD.models.options'><code>BIOMOD_ModelingOptions()</code> output object class</h2><span id='topic+BIOMOD.models.options'></span><span id='topic+BIOMOD.models.options-class'></span><span id='topic+show+2CBIOMOD.models.options-method'></span>

<h3>Description</h3>

<p>Class returned by <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, and used by 
<code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code> and <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.models.options'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD.models.options_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>GLM</code></dt><dd><p>a <code>list</code> containing GLM options</p>
</dd>
<dt><code>GBM</code></dt><dd><p>a <code>list</code> containing GBM options</p>
</dd>
<dt><code>GAM</code></dt><dd><p>a <code>list</code> containing GAM options</p>
</dd>
<dt><code>CTA</code></dt><dd><p>a <code>list</code> containing CTA options</p>
</dd>
<dt><code>ANN</code></dt><dd><p>a <code>list</code> containing ANN options</p>
</dd>
<dt><code>SRE</code></dt><dd><p>a <code>list</code> containing SRE options</p>
</dd>
<dt><code>FDA</code></dt><dd><p>a <code>list</code> containing FDA options</p>
</dd>
<dt><code>MARS</code></dt><dd><p>a <code>list</code> containing MARS options</p>
</dd>
<dt><code>RF</code></dt><dd><p>a <code>list</code> containing RF options</p>
</dd>
<dt><code>MAXENT</code></dt><dd><p>a <code>list</code> containing MAXENT options</p>
</dd>
<dt><code>MAXNET</code></dt><dd><p>a <code>list</code> containing MAXNET options</p>
</dd>
<dt><code>XGBOOST</code></dt><dd><p>a <code>list</code> containing XGBOOST options</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.models.options")

## ----------------------------------------------------------------------- #
## default BIOMOD.models.options object
myBiomodOptions &lt;- BIOMOD_ModelingOptions()

## print the object
myBiomodOptions


</code></pre>

<hr>
<h2 id='BIOMOD.models.out'><code>BIOMOD_Modeling()</code> output object class</h2><span id='topic+BIOMOD.models.out'></span><span id='topic+BIOMOD.models.out-class'></span><span id='topic+show+2CBIOMOD.models.out-method'></span>

<h3>Description</h3>

<p>Class returned by <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, and used by 
<code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a></code>, <code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a></code>, 
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code> and <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.models.out'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD.models.out_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>modeling.id</code></dt><dd><p>a <code>character</code> corresponding to the name (ID) of the
simulation set</p>
</dd>
<dt><code>dir.name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>sp.name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>expl.var.names</code></dt><dd><p>a <code>vector</code> containing names of explanatory
variables</p>
</dd>
<dt><code>models.computed</code></dt><dd><p>a <code>vector</code> containing names of computed models</p>
</dd>
<dt><code>models.failed</code></dt><dd><p>a <code>vector</code> containing names of failed models</p>
</dd>
<dt><code>has.evaluation.data</code></dt><dd><p>a <code>logical</code> value defining whether evaluation
data is given</p>
</dd>
<dt><code>scale.models</code></dt><dd><p>a <code>logical</code> value defining whether models have been
rescaled or not</p>
</dd>
<dt><code>formated.input.data</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.formated.data-class">BIOMOD.stored.formated.data-class</a></code>
object containing informations from <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>
object</p>
</dd>
<dt><code>calib.lines</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing calibration lines</p>
</dd>
<dt><code>models.options</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.models.options-class">BIOMOD.stored.models.options-class</a></code>
object containing informations from <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>
object</p>
</dd>
<dt><code>models.evaluation</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing models evaluation</p>
</dd>
<dt><code>variables.importance</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing variables importance</p>
</dd>
<dt><code>models.prediction</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object
containing models predictions</p>
</dd>
<dt><code>models.prediction.eval</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code>
object containing models predictions for evaluation data</p>
</dd>
<dt><code>link</code></dt><dd><p>a <code>character</code> containing the file name of the saved object</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_LoadModels">BIOMOD_LoadModels</a></code>, 
<code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a></code>, <code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>, 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, <code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>, 
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a></code>, <code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a></code>, 
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a></code>, <code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.models.out")

## ----------------------------------------------------------------------- #
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)

# Create default modeling options
myBiomodOptions &lt;- BIOMOD_ModelingOptions()


## ----------------------------------------------------------------------- #
# Model single models
myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                    modeling.id = 'AllModels',
                                    models = c('RF', 'GLM'),
                                    bm.options = myBiomodOptions,
                                    CV.strategy = 'random',
                                    CV.nb.rep = 2,
                                    CV.perc = 0.8,
                                    metric.eval = c('TSS','ROC'),
                                    var.import = 3,
                                    seed.val = 42)
myBiomodModelOut


</code></pre>

<hr>
<h2 id='BIOMOD.projection.out'><code>BIOMOD_Projection()</code> output object class</h2><span id='topic+BIOMOD.projection.out'></span><span id='topic+BIOMOD.projection.out-class'></span><span id='topic+plot+2CBIOMOD.projection.out+2Cmissing-method'></span><span id='topic+show+2CBIOMOD.projection.out-method'></span>

<h3>Description</h3>

<p>Class returned by <code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>, and used by 
<code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.projection.out,missing'
plot(
  x,
  coord = NULL,
  plot.output,
  do.plot = TRUE,
  std = TRUE,
  scales,
  size,
  ...
)

## S4 method for signature 'BIOMOD.projection.out'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BIOMOD.projection.out_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code> object</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_coord">coord</code></td>
<td>
<p>a 2-columns <code>data.frame</code> containing the corresponding <code>X</code> and <code>Y</code></p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_plot.output">plot.output</code></td>
<td>
<p>(<em>optional, default</em> <code>facet</code>) a character
determining the type of output: with <code>plot.output = 'list'</code> the
function will return a list of plots (one plot per model) ; with 'facet' ;
with <code>plot.output = 'facet'</code> the function will return a single plot
with all asked projections as facet.</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) a boolean determining
whether the plot should be displayed or just returned.</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_std">std</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) a boolean controlling the
limits of the color scales. With <code>std = TRUE</code> color scales are
displayed between 0 and 1 (or 1000). With <code>std = FALSE</code> color scales
are displayed between 0 and the maximum value observed.</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_scales">scales</code></td>
<td>
<p>(<em>optional, default</em> <code>fixed</code>) a character
determining whether x and y scales are shared among facet. Argument passed
to <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code>. Possible values: 'fixed', 'free_x',
'free_y', 'free'.</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_size">size</code></td>
<td>
<p>(<em>optional, default</em> <code>0.75</code>) a numeric determing the
size of points on the plots and passed to
<code><a href="ggplot2.html#topic+geom_point">geom_point</a></code>.</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_...">...</code></td>
<td>
<p>additional parameters to be passed to <code><a href="#topic+get_predictions">get_predictions</a></code> 
to select the models that will be plotted</p>
</td></tr>
<tr><td><code id="BIOMOD.projection.out_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code> object</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>modeling.id</code></dt><dd><p>a <code>character</code> corresponding to the name (ID) of the simulation set</p>
</dd>
<dt><code>proj.name</code></dt><dd><p>a <code>character</code> corresponding to the projection name</p>
</dd>
<dt><code>dir.name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>sp.name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>expl.var.names</code></dt><dd><p>a <code>vector</code> containing names of explanatory variables</p>
</dd>
<dt><code>coord</code></dt><dd><p>a 2-columns <code>matrix</code> or <code>data.frame</code> containing the corresponding 
<code>X</code> and <code>Y</code> coordinates used to project the species distribution model(s)</p>
</dd>
<dt><code>scale.models</code></dt><dd><p>a <code>logical</code> value defining whether models have been rescaled or 
not</p>
</dd>
<dt><code>models.projected</code></dt><dd><p>a <code>vector</code> containing names of projected models</p>
</dd>
<dt><code>models.out</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code> object</p>
</dd>
<dt><code>type</code></dt><dd><p>a <code>character</code> corresponding to the class of the <code>val</code> slot of the 
<code>proj.out</code> slot</p>
</dd>
<dt><code>proj.out</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code> object</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>, <code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.projection.out")

## ----------------------------------------------------------------------- #
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


## ----------------------------------------------------------------------- #
# Project single models
myBiomodProj &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                  proj.name = 'Current',
                                  new.env = myExpl,
                                  models.chosen = 'all',
                                  metric.binary = 'all',
                                  metric.filter = 'all',
                                  build.clamping.mask = TRUE)
myBiomodProj
plot(myBiomodProj)


</code></pre>

<hr>
<h2 id='BIOMOD.stored.data'><code>BIOMOD_EnsembleModeling()</code> output object class</h2><span id='topic+BIOMOD.stored.data'></span><span id='topic+BIOMOD.stored.data-class'></span><span id='topic+BIOMOD.stored.data.frame-class'></span><span id='topic+BIOMOD.stored.SpatRaster-class'></span><span id='topic+BIOMOD.stored.files-class'></span><span id='topic+BIOMOD.stored.formated.data-class'></span><span id='topic+BIOMOD.stored.models.options-class'></span><span id='topic+BIOMOD.stored.models.out-class'></span>

<h3>Description</h3>

<p>Classes used by <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> and 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> to build their output object (see 
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> objects)
</p>


<h3>Details</h3>

<p><code>BIOMOD.stored.data</code> is the basic object containing the slots <code>inMemory</code> and 
<code>link</code>. <br /> All listed classes below are derived from <code>BIOMOD.stored.data</code>, and 
contain a <code>val</code> slot of specific type :
</p>

<ul>
<li><p><code>BIOMOD.stored.data.frame</code> : <code>val</code> is a <code>data.frame</code>
</p>
</li>
<li><p><code>BIOMOD.stored.SpatRaster</code> : <code>val</code> is a 
<code><a href="terra.html#topic+PackedSpatRaster-class">PackedSpatRaster</a></code>
</p>
</li>
<li><p><code>BIOMOD.stored.files</code> : <code>val</code> is a <code>character</code>
</p>
</li>
<li><p><code>BIOMOD.stored.formated.data</code> : <code>val</code> is a 
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> object
</p>
</li>
<li><p><code>BIOMOD.stored.models.options</code> : <code>val</code> is a 
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object
</p>
</li>
<li><p><code>BIOMOD.stored.models.out</code> : <code>val</code> is a 
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object
</p>
</li></ul>



<h3>Slots</h3>


<dl>
<dt><code>inMemory</code></dt><dd><p>a <code>logical</code> defining whether the <code>val</code> slot has been loaded in 
memory or not</p>
</dd>
<dt><code>link</code></dt><dd><p>a <code>character</code> containing the file name of the saved <code>val</code> slot</p>
</dd>
<dt><code>val</code></dt><dd><p>an object of type depending on the <code>BIOMOD.stored.[...]</code> class (see Details)</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>, <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, 
<code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>, <code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("BIOMOD.stored.data")
showClass("BIOMOD.stored.data.frame") 
showClass("BIOMOD.stored.SpatRaster") 
showClass("BIOMOD.stored.files") 
showClass("BIOMOD.stored.formated.data") 
showClass("BIOMOD.stored.models.options") 
showClass("BIOMOD.stored.models.out") 


</code></pre>

<hr>
<h2 id='biomod2_ensemble_model'>Ensemble model output object class (when running <code>BIOMOD_EnsembleModeling()</code>)</h2><span id='topic+biomod2_ensemble_model'></span><span id='topic+biomod2_ensemble_model-class'></span><span id='topic+EMmean_biomod2_model-class'></span><span id='topic+EMmedian_biomod2_model-class'></span><span id='topic+EMcv_biomod2_model-class'></span><span id='topic+EMci_biomod2_model-class'></span><span id='topic+EMca_biomod2_model-class'></span><span id='topic+EMwmean_biomod2_model-class'></span><span id='topic+show+2Cbiomod2_ensemble_model-method'></span>

<h3>Description</h3>

<p>Class created by <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'biomod2_ensemble_model'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biomod2_ensemble_model_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>biomod2_model</code> is the basic object for <span class="pkg">biomod2</span> ensemble species distribution models. 
<br /> All listed classes below are derived from <code>biomod2_model</code>, and have a 
<code>model_class</code> slot specific value :
</p>

<ul>
<li><p><code>biomod2_ensemble_model</code> : <code>model_class</code> is <code>EM</code>
</p>
</li>
<li><p><code>EMmean_biomod2_model</code> : <code>model_class</code> is <code>EMmean</code>
</p>
</li>
<li><p><code>EMmedian_biomod2_model</code> : <code>model_class</code> is <code>EMmedian</code>
</p>
</li>
<li><p><code>EMcv_biomod2_model</code> : <code>model_class</code> is <code>EMcv</code>
</p>
</li>
<li><p><code>EMci_biomod2_model</code> : <code>model_class</code> is <code>EMci</code>
</p>
</li>
<li><p><code>EMca_biomod2_model</code> : <code>model_class</code> is <code>EMca</code>
</p>
</li>
<li><p><code>EMwmean_biomod2_model</code> : <code>model_class</code> is <code>EMwmean</code>
</p>
</li></ul>



<h3>Slots</h3>


<dl>
<dt><code>modeling.id</code></dt><dd><p>a <code>character</code> corresponding to the name (ID) of the simulation set</p>
</dd>
<dt><code>model_name</code></dt><dd><p>a <code>character</code> corresponding to the model name</p>
</dd>
<dt><code>model_class</code></dt><dd><p>a <code>character</code> corresponding to the model class</p>
</dd>
<dt><code>model_options</code></dt><dd><p>a <code>list</code> containing the model options</p>
</dd>
<dt><code>model</code></dt><dd><p>the corresponding model object</p>
</dd>
<dt><code>scaling_model</code></dt><dd><p>the corresponding scaled model object</p>
</dd>
<dt><code>dir_name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>resp_name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>expl_var_names</code></dt><dd><p>a <code>vector</code> containing names of explanatory variables</p>
</dd>
<dt><code>expl_var_type</code></dt><dd><p>a <code>vector</code> containing classes of explanatory variables</p>
</dd>
<dt><code>expl_var_range</code></dt><dd><p>a <code>list</code> containing ranges of explanatory variables</p>
</dd>
<dt><code>model_evaluation</code></dt><dd><p>a <code>data.frame</code> containing the model evaluations</p>
</dd>
<dt><code>model_variables_importance</code></dt><dd><p>a <code>data.frame</code> containing the model variables importance</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2_model">biomod2_model</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("biomod2_ensemble_model")
showClass("EMmean_biomod2_model")
showClass("EMmedian_biomod2_model")
showClass("EMcv_biomod2_model")
showClass("EMci_biomod2_model")
showClass("EMca_biomod2_model")
showClass("EMwmean_biomod2_model")


</code></pre>

<hr>
<h2 id='biomod2_model'>Single model output object class (when running <code>BIOMOD_Modeling()</code>)</h2><span id='topic+biomod2_model'></span><span id='topic+biomod2_model-class'></span><span id='topic+ANN_biomod2_model-class'></span><span id='topic+CTA_biomod2_model-class'></span><span id='topic+FDA_biomod2_model-class'></span><span id='topic+GAM_biomod2_model-class'></span><span id='topic+GBM_biomod2_model-class'></span><span id='topic+GLM_biomod2_model-class'></span><span id='topic+MARS_biomod2_model-class'></span><span id='topic+MAXENT_biomod2_model-class'></span><span id='topic+MAXNET_biomod2_model-class'></span><span id='topic+RF_biomod2_model-class'></span><span id='topic+SRE_biomod2_model-class'></span><span id='topic+XGBOOST_biomod2_model-class'></span><span id='topic+show+2Cbiomod2_model-method'></span>

<h3>Description</h3>

<p>Class created by <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> and <code><a href="#topic+bm_RunModel">bm_RunModel</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'biomod2_model'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biomod2_model_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_model">biomod2_model</a></code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>biomod2_model</code> is the basic object for <span class="pkg">biomod2</span> single species distribution models. 
<br /> All listed classes below are derived from <code>biomod2_model</code>, and have a 
<code>model_class</code> slot specific value :
</p>

<ul>
<li><p><code>ANN_biomod2_model</code> : <code>model_class</code> is <code>ANN</code>
</p>
</li>
<li><p><code>CTA_biomod2_model</code> : <code>model_class</code> is <code>CTA</code>
</p>
</li>
<li><p><code>FDA_biomod2_model</code> : <code>model_class</code> is <code>FDA</code>
</p>
</li>
<li><p><code>GBM_biomod2_model</code> : <code>model_class</code> is <code>GBM</code>
</p>
</li>
<li><p><code>GLM_biomod2_model</code> : <code>model_class</code> is <code>GLM</code>
</p>
</li>
<li><p><code>MARS_biomod2_model</code> : <code>model_class</code> is <code>MARS</code>
</p>
</li>
<li><p><code>MAXENT_biomod2_model</code> : <code>model_class</code> is <code>MAXENT</code>
</p>
</li>
<li><p><code>MAXNET_biomod2_model</code> : <code>model_class</code> is 
<code>MAXNET</code>
</p>
</li>
<li><p><code>RF_biomod2_model</code> : <code>model_class</code> is <code>RF</code>
</p>
</li>
<li><p><code>SRE_biomod2_model</code> : <code>model_class</code> is <code>SRE</code>
</p>
</li></ul>



<h3>Slots</h3>


<dl>
<dt><code>model_name</code></dt><dd><p>a <code>character</code> corresponding to the model name</p>
</dd>
<dt><code>model_class</code></dt><dd><p>a <code>character</code> corresponding to the model class</p>
</dd>
<dt><code>model_options</code></dt><dd><p>a <code>list</code> containing the model options</p>
</dd>
<dt><code>model</code></dt><dd><p>the corresponding model object</p>
</dd>
<dt><code>scaling_model</code></dt><dd><p>the corresponding scaled model object</p>
</dd>
<dt><code>dir_name</code></dt><dd><p>a <code>character</code> corresponding to the modeling folder</p>
</dd>
<dt><code>resp_name</code></dt><dd><p>a <code>character</code> corresponding to the species name</p>
</dd>
<dt><code>expl_var_names</code></dt><dd><p>a <code>vector</code> containing names of explanatory variables</p>
</dd>
<dt><code>expl_var_type</code></dt><dd><p>a <code>vector</code> containing classes of explanatory variables</p>
</dd>
<dt><code>expl_var_range</code></dt><dd><p>a <code>list</code> containing ranges of explanatory variables</p>
</dd>
<dt><code>model_evaluation</code></dt><dd><p>a <code>data.frame</code> containing the model evaluations</p>
</dd>
<dt><code>model_variables_importance</code></dt><dd><p>a <code>data.frame</code> containing the model variables importance</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+bm_RunModel">bm_RunModel</a></code>
</p>
<p>Other Toolbox objects: 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>,
<code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>,
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>,
<code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code>,
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>,
<code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>,
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("biomod2_model")
showClass("ANN_biomod2_model")
showClass("CTA_biomod2_model")
showClass("FDA_biomod2_model")
showClass("GAM_biomod2_model")
showClass("GBM_biomod2_model")
showClass("GLM_biomod2_model")
showClass("MARS_biomod2_model")
showClass("MAXENT_biomod2_model")
showClass("MAXNET_biomod2_model")
showClass("RF_biomod2_model")
showClass("SRE_biomod2_model")

</code></pre>

<hr>
<h2 id='biomod2-deprecated'>Deprecated functions in package <span class="pkg">biomod2</span>.</h2><span id='topic+biomod2-deprecated'></span><span id='topic+BIOMOD_ConvertOldRun'></span><span id='topic+BIOMOD_cv'></span><span id='topic+BIOMOD_CrossValidation'></span><span id='topic+BIOMOD_presenceonly'></span><span id='topic+BIOMOD_tuning'></span><span id='topic+BinaryTransformation'></span><span id='topic+calculate.stat'></span><span id='topic+CustomIndexMaker'></span><span id='topic+FilteringTransformation'></span><span id='topic+Find.Optim.Stat'></span><span id='topic+getStatOptimValue'></span><span id='topic+makeFormula'></span><span id='topic+models_scores_graph'></span><span id='topic+Print_Default_ModelingOptions'></span><span id='topic+ProbDensFunc'></span><span id='topic+response.plot'></span><span id='topic+response.plot2'></span><span id='topic+sample.factor.levels'></span><span id='topic+sre'></span><span id='topic+.transform.outputs.array'></span><span id='topic+.transform.outputs.list'></span><span id='topic+update_objects'></span><span id='topic+variables_importance'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and were removed
in the current version. When possible, alternative functions with similar
functionality are mentioned. Help pages for deprecated functions are
available at <code>help("&lt;function&gt;-deprecated")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BIOMOD_ConvertOldRun(...)

BIOMOD_cv(...)

BIOMOD_CrossValidation(...)

BIOMOD_presenceonly(...)

BIOMOD_tuning(...)

BinaryTransformation(...)

calculate.stat(...)

CustomIndexMaker(...)

FilteringTransformation(...)

Find.Optim.Stat(...)

getStatOptimValue(...)

makeFormula(...)

models_scores_graph(...)

Print_Default_ModelingOptions(...)

ProbDensFunc(...)

response.plot(...)

response.plot2(...)

sample.factor.levels(...)

sre(...)

.transform.outputs.array(...)

.transform.outputs.list(...)

update_objects(...)

variables_importance(...)
</code></pre>


<h3><code>BIOMOD_ConvertOldRun</code></h3>

<p><code>BIOMOD_ConvertOldRun</code> was removed in <span class="pkg">biomod2</span> version 4.0.
</p>


<h3><code>BIOMOD_cv</code></h3>

<p>For <code>BIOMOD_cv</code> use <code><a href="#topic+BIOMOD_CrossValidation">BIOMOD_CrossValidation</a></code>.
</p>


<h3><code>BIOMOD_CrossValidation</code></h3>

<p>For <code>BIOMOD_CrossValidation</code> use <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code>.
</p>


<h3><code>BIOMOD_presenceonly</code></h3>

<p>For <code>BIOMOD_presenceonly</code> use <code><a href="#topic+BIOMOD_PresenceOnly">BIOMOD_PresenceOnly</a></code>.
</p>


<h3><code>BIOMOD_tuning</code></h3>

<p>For <code>BIOMOD_tuning</code> use <code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>.
</p>


<h3><code>BinaryTransformation</code></h3>

<p>For <code>BinaryTransformation</code> use <code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a></code>.
</p>


<h3><code>calculate.stat</code></h3>

<p>For <code>calculate.stat</code> use <code><a href="#topic+bm_CalculateStat">bm_CalculateStat</a></code>.
</p>


<h3><code>CustomIndexMaker</code></h3>

<p><code>CustomIndexMaker</code> was removed in <span class="pkg">biomod2</span> version 4.0.
</p>


<h3><code>FilteringTransformation</code></h3>

<p>For <code>FilteringTransformation</code> use <code><a href="#topic+BinaryTransformation">BinaryTransformation</a></code>.
</p>


<h3><code>Find.Optim.Stat</code></h3>

<p>For <code>Find.Optim.Stat</code> use <code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a></code>.
</p>


<h3><code>getStatOptimValue</code></h3>

<p>For <code>getStatOptimValue</code> use <code><a href="#topic+get_optim_value">get_optim_value</a></code>.
</p>


<h3><code>makeFormula</code></h3>

<p>For <code>makeFormula</code> use <code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a></code>.
</p>


<h3><code>models_scores_graph</code></h3>

<p>For <code>models_scores_graph</code> use <code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a></code>.
</p>


<h3><code>Print_Default_ModelingOptions</code></h3>

<p>For <code>Print_Default_ModelingOptions</code> use <code><a href="#topic+bm_DefaultModelingOptions">bm_DefaultModelingOptions</a></code>.
</p>


<h3><code>ProbDensFunc</code></h3>

<p>For <code>ProbDensFunc</code> use <code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a></code>.
</p>


<h3><code>response.plot</code></h3>

<p>For <code>response.plot</code> use <code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>.
</p>


<h3><code>response.plot2</code></h3>

<p>For <code>response.plot2</code> use <code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>.
</p>


<h3><code>sample.factor.levels</code></h3>

<p>For <code>sample.factor.levels</code> use <code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a></code>.
</p>


<h3><code>sre</code></h3>

<p>For <code>sre</code> use <code><a href="#topic+bm_SRE">bm_SRE</a></code>.
</p>


<h3><code>.transform.outputs.array</code></h3>

<p><code>.transform.outputs.array</code> was removed in <span class="pkg">biomod2</span> version 4.0.
</p>


<h3><code>.transform.outputs.list</code></h3>

<p>For <code>.transform.outputs.list</code> use <code>.transform_outputs_list</code>.
</p>


<h3><code>update_objects</code></h3>

<p><code>update_objects</code> was removed in <span class="pkg">biomod2</span> version 4.0.
</p>


<h3><code>variables_importance</code></h3>

<p>For <code>variables_importance</code> use <code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>.
</p>

<hr>
<h2 id='bm_BinaryTransformation'>Convert probability values into binary values using a predefined threshold</h2><span id='topic+bm_BinaryTransformation'></span><span id='topic+bm_BinaryTransformation+2Cdata.frame-method'></span><span id='topic+bm_BinaryTransformation+2Cmatrix-method'></span><span id='topic+bm_BinaryTransformation+2Cnumeric-method'></span><span id='topic+bm_BinaryTransformation+2CSpatRaster-method'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows to convert probability (not necessary 
between <code>0</code> and <code>1</code>) values into binary presence-absence (<code>0</code> or <code>1</code>) values 
according to a predefined threshold (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_BinaryTransformation(data, threshold, do.filtering = FALSE)

## S4 method for signature 'data.frame'
bm_BinaryTransformation(data, threshold, do.filtering = FALSE)

## S4 method for signature 'matrix'
bm_BinaryTransformation(data, threshold, do.filtering = FALSE)

## S4 method for signature 'numeric'
bm_BinaryTransformation(data, threshold, do.filtering = FALSE)

## S4 method for signature 'SpatRaster'
bm_BinaryTransformation(data, threshold, do.filtering = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_BinaryTransformation_+3A_data">data</code></td>
<td>
<p>a <code>vector</code>, a <code>matrix</code>, <code>data.frame</code>, or a 
<code><a href="terra.html#topic+rast">SpatRaster</a></code> containing the data to be converted</p>
</td></tr>
<tr><td><code id="bm_BinaryTransformation_+3A_threshold">threshold</code></td>
<td>
<p>a <code>numeric</code> or a <code>vector</code> of <code>numeric</code> corresponding to 
the threshold used to convert the given data</p>
</td></tr>
<tr><td><code id="bm_BinaryTransformation_+3A_do.filtering">do.filtering</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether filtered data should be returned, or binary one 
(see Details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>data</code> is a <code>vector</code>, <code>threshold</code> should be a single 
<code>numeric</code> value. <br />
If <code>data</code> is a <code>matrix</code>, <code>data.frame</code> or 
<code><a href="terra.html#topic+rast">SpatRaster</a></code>, <code>threshold</code> should be a
<code>vector</code> containing as many values as the number of columns or 
layers contained in <code>data</code>. If only one <code>numeric</code> value is given,
the same threshold will be applied to all columns or layers. 
<br /> <br />
</p>
<p>If <code>do.filtering = FALSE</code>, binary (<code>0</code> or <code>1</code>) values are returned. <br /> 
If <code>do.filtering = TRUE</code>, values will be <em>filtered</em> according to <code>threshold</code>, 
meaning that :
</p>

<ul>
<li> <p><code>data &lt; threshold</code> will return 0
</p>
</li>
<li> <p><code>data &gt;= threshold </code> will return the actual values of <code>data</code> (not 
transformed in <code>1</code>)
</p>
</li></ul>



<h3>Value</h3>

<p>An object of the same class than <code>data</code> and containing either
binary (<code>0</code> or <code>1</code>) values, or filtered values.
</p>


<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Projection">BIOMOD_Projection</a></code>, <code><a href="#topic+BIOMOD_EnsembleForecasting">BIOMOD_EnsembleForecasting</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Generate a 0-1000 vector (normal distribution)
vec.d &lt;- rnorm(100, 500, 100)

## From continuous to binary / filtered vector
vec.d_bin &lt;- bm_BinaryTransformation(data = vec.d, threshold = 500)
vec.d_filt &lt;- bm_BinaryTransformation(data = vec.d, threshold = 500, do.filtering = TRUE)
cbind(vec.d, vec.d_bin, vec.d_filt)


</code></pre>

<hr>
<h2 id='bm_CrossValidation'>Build cross-validation table</h2><span id='topic+bm_CrossValidation'></span><span id='topic+bm_CrossValidation_user.defined'></span><span id='topic+bm_CrossValidation_user.defined+2CBIOMOD.formated.data-method'></span><span id='topic+bm_CrossValidation_user.defined+2CBIOMOD.formated.data.PA-method'></span><span id='topic+bm_CrossValidation_random'></span><span id='topic+bm_CrossValidation_random+2CBIOMOD.formated.data-method'></span><span id='topic+bm_CrossValidation_random+2CBIOMOD.formated.data.PA-method'></span><span id='topic+bm_CrossValidation_kfold'></span><span id='topic+bm_CrossValidation_kfold+2CBIOMOD.formated.data-method'></span><span id='topic+bm_CrossValidation_kfold+2CBIOMOD.formated.data.PA-method'></span><span id='topic+bm_CrossValidation_block'></span><span id='topic+bm_CrossValidation_block+2CBIOMOD.formated.data-method'></span><span id='topic+bm_CrossValidation_block+2CBIOMOD.formated.data.PA-method'></span><span id='topic+bm_CrossValidation_strat'></span><span id='topic+bm_CrossValidation_strat+2CBIOMOD.formated.data-method'></span><span id='topic+bm_CrossValidation_strat+2CBIOMOD.formated.data.PA-method'></span><span id='topic+bm_CrossValidation_env'></span><span id='topic+bm_CrossValidation_env+2CBIOMOD.formated.data-method'></span><span id='topic+bm_CrossValidation_env+2CBIOMOD.formated.data.PA-method'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows to build a cross-validation table 
according to 6 different methods : <code>random</code>, <code>kfold</code>, <code>block</code>, <code>strat</code>, 
<code>env</code> or <code>user.defined</code> (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_CrossValidation(
  bm.format,
  strategy = "random",
  nb.rep = 0,
  perc = 0.8,
  k = 0,
  balance = "presences",
  env.var = NULL,
  strat = "both",
  user.table = NULL,
  do.full.models = FALSE
)

bm_CrossValidation_user.defined(bm.format, ...)

## S4 method for signature 'BIOMOD.formated.data'
bm_CrossValidation_user.defined(bm.format, user.table)

## S4 method for signature 'BIOMOD.formated.data.PA'
bm_CrossValidation_user.defined(bm.format, user.table)

bm_CrossValidation_random(bm.format, ...)

## S4 method for signature 'BIOMOD.formated.data'
bm_CrossValidation_random(bm.format, nb.rep, perc)

## S4 method for signature 'BIOMOD.formated.data.PA'
bm_CrossValidation_random(bm.format, nb.rep, perc)

bm_CrossValidation_kfold(bm.format, ...)

## S4 method for signature 'BIOMOD.formated.data'
bm_CrossValidation_kfold(bm.format, nb.rep, k)

## S4 method for signature 'BIOMOD.formated.data.PA'
bm_CrossValidation_kfold(bm.format, nb.rep, k)

bm_CrossValidation_block(bm.format, ...)

## S4 method for signature 'BIOMOD.formated.data'
bm_CrossValidation_block(bm.format)

## S4 method for signature 'BIOMOD.formated.data.PA'
bm_CrossValidation_block(bm.format)

bm_CrossValidation_strat(bm.format, ...)

## S4 method for signature 'BIOMOD.formated.data'
bm_CrossValidation_strat(bm.format, balance, strat, k)

## S4 method for signature 'BIOMOD.formated.data.PA'
bm_CrossValidation_strat(bm.format, balance, strat, k)

bm_CrossValidation_env(bm.format, ...)

## S4 method for signature 'BIOMOD.formated.data'
bm_CrossValidation_env(bm.format, balance, k, env.var)

## S4 method for signature 'BIOMOD.formated.data.PA'
bm_CrossValidation_env(bm.format, balance, k, env.var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_CrossValidation_+3A_bm.format">bm.format</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data-class">BIOMOD.formated.data-class</a></code> or 
<code><a href="#topic+BIOMOD.formated.data.PA-class">BIOMOD.formated.data.PA-class</a></code> object returned by the 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_strategy">strategy</code></td>
<td>
<p>a <code>character</code> corresponding to the cross-validation selection strategy, 
must be among <code>random</code>, <code>kfold</code>, <code>block</code>, <code>strat</code>, <code>env</code> or 
<code>user.defined</code></p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_nb.rep">nb.rep</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'random'</code> or <code>strategy = 'kfold'</code>, an <code>integer</code> corresponding 
to the number of sets (repetitions) of cross-validation points that will be drawn</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_perc">perc</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'random'</code>, a <code>numeric</code> between <code>0</code> and <code>1</code> defining the 
percentage of data that will be kept for calibration</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_k">k</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'kfold'</code> or <code>strategy = 'strat'</code> or <code>strategy = 'env'</code>, an 
<code>integer</code> corresponding to the number of partitions</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_balance">balance</code></td>
<td>
<p>(<em>optional, default</em> <code>'presences'</code>) <br /> If
<code>strategy = 'strat'</code> or <code>strategy = 'env'</code>, a <code>character</code>
corresponding to how data will be balanced between partitions, must be
either <code>presences</code> or <code>absence</code></p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_env.var">env.var</code></td>
<td>
<p>(<em>optional</em>) <br /> If <code>strategy = 'env'</code>, a
<code>character</code> corresponding to the environmental variables used to
build the partition. <code>k</code> partitions will be built for each
environmental variables. By default the function uses all environmental
variables available.</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_strat">strat</code></td>
<td>
<p>(<em>optional, default</em> <code>'both'</code>) <br /> If <code>strategy
= 'env'</code>, a <code>character</code> corresponding to how data will partitioned
along gradient, must be among <code>x</code>, <code>y</code>, <code>both</code></p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_user.table">user.table</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
If <code>strategy = 'user.defined'</code>, a <code>matrix</code> or <code>data.frame</code> defining for each 
repetition (in columns) which observation lines should be used for models calibration 
(<code>TRUE</code>) and validation (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_do.full.models">do.full.models</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br />
A <code>logical</code> value defining whether models should be also calibrated and validated over 
the whole dataset (and pseudo-absence datasets) or not</p>
</td></tr>
<tr><td><code id="bm_CrossValidation_+3A_...">...</code></td>
<td>
<p>(<em>optional, one or several of the following arguments depending on the selected 
method</em>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Several parameters are available within the function and some of them can be used with 
different cross-validation strategies :
</p>
<p><code>| ....... | random | kfold | block | strat | env |</code> <br />
__________________________________________________ <br />
<code>| nb.rep. | x..... | x.... | ..... | ..... | ... |</code> <br />
<code>| perc... | x..... | ..... | ..... | ..... | ... |</code> <br />
<code>| k...... | ...... | x.... | ..... | x.... | x.. |</code> <br />
<code>| balance | ...... | ..... | ..... | x.... | x.. |</code> <br />
<code>| strat.. | ...... | ..... | ..... | x.... | ... |</code> <br /> <br /> <br />
</p>
<p><b>Concerning column names of <code>matrix</code> output :</b>
</p>
<p>The number of columns depends on the strategy selected. 
The column names are given <em>a posteriori</em> of the selection, ranging from 1 to the 
number of columns. 
If <code>do.full.models = TRUE</code>, columns merging runs (and/or pseudo-absence datasets) 
are added at the end. <br /> <br />
</p>
<p><b>Concerning cross-validation strategies :</b>
</p>

<dl>
<dt>random</dt><dd><p>Most simple method to calibrate and validate a model is to split the original dataset in two 
datasets : one to calibrate the model and the other one to validate it. The splitting can be 
repeated <code>nb.rep</code> times.</p>
</dd>
<dt>k-fold</dt><dd><p>The k-fold method splits the original dataset in <code>k</code> datasets of equal sizes : each part 
is used successively as the validation dataset while the other <code>k-1</code> parts are used for 
the calibration, leading to <code>k</code> calibration/validation ensembles. This multiple splitting 
can be repeated <code>nb.rep</code> times.</p>
</dd>
<dt>block</dt><dd><p>It may be used to test for model overfitting and to assess transferability in geographic space.
<code>block</code> stratification was described in <em>Muscarella et al. 2014</em> (see References). 
Four bins of equal size are partitioned (bottom-left, bottom-right, top-left and top-right).</p>
</dd>
<dt>stratified</dt><dd><p>It may be used to test for model overfitting and to assess transferability in geographic space.
<code>x</code> and <code>y</code> stratification was described in <em>Wenger and Olden 2012</em> (see 
References). <code>y</code> stratification uses <code>k</code> partitions along the y-gradient, <code>x</code> 
stratification does the same for the x-gradient. <code>both</code> returns <code>2k</code> partitions: <code>k</code> partitions stratified along the x-gradient and <code>k</code> partitions stratified along the y-gradient.</p>
</dd>
<dt>environmental</dt><dd><p>It may be used to test for model overfitting and to assess transferability in environmental space. It returns <code>k</code> partitions for each variable given in <code>env.var</code>.</p>
</dd>
<dt>user-defined</dt><dd><p>Allow the user to give its own crossvalidation table. For a presence-absence dataset, column names must be formatted as: <code>_allData_RUNx</code> with <code>x</code> an integer. For a presence-only dataset for which several pseudo-absence dataset were generated, column names must be formatted as: <code>_PAx_RUNy</code> with <code>x</code> an integer and <code>PAx</code> an existing pseudo-absence dataset and <code>y</code> an integer <br /> <br /></p>
</dd>
</dl>

<p><b>Concerning balance parameter :</b>
</p>
<p>If <code>balance = 'presences'</code>, presences are divided (balanced) equally
over the partitions (e.g. <em>Fig. 1b in Muscarelly et al. 2014</em>).
Absences or pseudo-absences will however be unbalanced over the partitions
especially if the presences are clumped on an edge of the study area.
</p>
<p>If <code>balance = 'absences'</code>, absences (resp. pseudo-absences or
background) are divided (balanced) as equally as possible between the
partitions (geographical balanced bins given
that absences are spread over the study area equally, approach similar to <em>Fig. 1 in
Wenger et Olden 2012</em>). Presences will however be unbalanced over the partitions especially
if the presences are clumped on an edge of the study area.
</p>


<h3>Value</h3>

<p>A <code>matrix</code> or <code>data.frame</code> defining for each repetition (in columns) which 
observation lines should be used for models calibration (<code>TRUE</code>) and validation 
(<code>FALSE</code>).
</p>


<h3>Author(s)</h3>

<p>Frank Breiner, Maya Gueguen
</p>


<h3>References</h3>


<ul>
<li><p> Muscarella, R., Galante, P.J., Soley-Guardia, M., Boria, R.A., Kass, J.M., Uriarte, M. 
&amp; Anderson, R.P. (2014). ENMeval: An R package for conducting spatially independent 
evaluations and estimating optimal model complexity for Maxent ecological niche models. 
<em>Methods in Ecology and Evolution</em>, <b>5</b>, 1198-1205.
</p>
</li>
<li><p> Wenger, S.J. &amp; Olden, J.D. (2012). Assessing transferability of ecological models: an 
underappreciated aspect of statistical validation. <em>Methods in Ecology and Evolution</em>, 
<b>3</b>, 260-267.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="ENMeval.html#topic+get.block">get.block</a></code>, <code><a href="dismo.html#topic+kfold">kfold</a></code>, 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)
# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# --------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)

# --------------------------------------------------------------- #
# Create the different validation datasets

# random selection
cv.r &lt;- bm_CrossValidation(bm.format = myBiomodData,
                           strategy = "random",
                           nb.rep = 3,
                           k = 0.8)

# k-fold selection
cv.k &lt;- bm_CrossValidation(bm.format = myBiomodData,
                           strategy = "kfold",
                           nb.rep = 2,
                           k = 3)

# block selection
cv.b &lt;- bm_CrossValidation(bm.format = myBiomodData,
                           strategy = "block")

# stratified selection (geographic)
cv.s &lt;- bm_CrossValidation(bm.format = myBiomodData,
                           strategy = "strat",
                           k = 2,
                           balance = "presences",
                           strat = "x")

# stratified selection (environmental)
cv.e &lt;- bm_CrossValidation(bm.format = myBiomodData,
                           strategy = "env",
                           k = 2,
                           balance = "presences")

head(cv.r)
apply(cv.r, 2, table)
head(cv.k)
apply(cv.k, 2, table)
head(cv.b)
apply(cv.b, 2, table)
head(cv.s)
apply(cv.s, 2, table)
head(cv.e)
apply(cv.e, 2, table)


</code></pre>

<hr>
<h2 id='bm_CVnnet'>Cross-validation for Neural Networks</h2><span id='topic+bm_CVnnet'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to compute cross-validation 
for neural networks in ANN model (see <code><a href="nnet.html#topic+nnet">nnet</a></code> and 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_CVnnet(
  Input,
  Target,
  size = c(2, 4, 6, 8),
  decay = c(0.001, 0.01, 0.05, 0.1),
  maxit = 200,
  nbCV = 5,
  weights = NULL,
  seedval = 555
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_CVnnet_+3A_input">Input</code></td>
<td>
<p>complete dataset with explanatory variables</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_target">Target</code></td>
<td>
<p>calibration dataset with observed presence / absence</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_size">size</code></td>
<td>
<p>(see parameter <code>ANN$size</code> in <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>)</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_decay">decay</code></td>
<td>
<p>(see parameter <code>ANN$decay</code> in <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>)</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_maxit">maxit</code></td>
<td>
<p>(see parameter <code>ANN$maxit</code> in <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>)</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_nbcv">nbCV</code></td>
<td>
<p>(see parameter <code>ANN$nbCV</code> in <code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>)</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_weights">weights</code></td>
<td>
<p>a <code>vector</code> of <code>numeric</code> values corresponding to weights over 
calibration lines</p>
</td></tr>
<tr><td><code id="bm_CVnnet_+3A_seedval">seedval</code></td>
<td>
<p>an <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the following elements :
</p>

<ul>
<li><p><code>Size</code> : the size
</p>
</li>
<li><p><code>Decay</code> : the decay value
</p>
</li>
<li><p><code>AUC</code> : the corresponding Area Under Curve
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="nnet.html#topic+nnet">nnet</a></code>, <code><a href="pROC.html#topic+auc">auc</a></code>, <code><a href="pROC.html#topic+roc">roc</a></code>, 
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, 
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a></code>, <code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>

<hr>
<h2 id='bm_FindOptimStat'>Calculate the best score according to a given evaluation method</h2><span id='topic+bm_FindOptimStat'></span><span id='topic+bm_CalculateStat'></span><span id='topic+get_optim_value'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to find the threshold to 
convert continuous values into binary ones leading to the best score for a given evaluation 
metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_FindOptimStat(
  metric.eval = "TSS",
  obs,
  fit,
  nb.thresh = 100,
  threshold = NULL
)

get_optim_value(metric.eval)

bm_CalculateStat(misc, metric.eval = "TSS")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_FindOptimStat_+3A_metric.eval">metric.eval</code></td>
<td>
<p>a <code>character</code> corresponding to the evaluation metric to be used, must 
be either <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, 
<code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code> 
or <code>ORSS</code></p>
</td></tr>
<tr><td><code id="bm_FindOptimStat_+3A_obs">obs</code></td>
<td>
<p>a <code>vector</code> of observed values (binary, <code>0</code> or <code>1</code>)</p>
</td></tr>
<tr><td><code id="bm_FindOptimStat_+3A_fit">fit</code></td>
<td>
<p>a <code>vector</code> of fitted values (continuous)</p>
</td></tr>
<tr><td><code id="bm_FindOptimStat_+3A_nb.thresh">nb.thresh</code></td>
<td>
<p>an <code>integer</code> corresponding to the number of thresholds to be 
tested over the range of fitted values</p>
</td></tr>
<tr><td><code id="bm_FindOptimStat_+3A_threshold">threshold</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>numeric</code> corresponding to the threshold used to convert the given data</p>
</td></tr>
<tr><td><code id="bm_FindOptimStat_+3A_misc">misc</code></td>
<td>
<p>a <code>matrix</code> corresponding to a contingency table</p>
</td></tr>
</table>


<h3>Details</h3>

<p><em>Please refer to <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> to get more information about these 
evaluation metrics.</em>
</p>
<p>Note that if a value is given to <code>threshold</code>, no optimisation will be done., and 
only the score for this threshold will be returned.
</p>


<h3>Value</h3>

<p>A <code>1</code> row x <code>5</code> columns <code>data.frame</code> containing :
</p>

<ul>
<li><p><code>metric.eval</code> : the chosen evaluation metric
</p>
</li>
<li><p><code>cutoff</code> : the associated cut-off used to transform the continuous values into 
binary
</p>
</li>
<li><p><code>sensitivity</code> : the sensibility obtained on fitted values with this threshold
</p>
</li>
<li><p><code>specificity</code> : the specificity obtained on fitted values with this threshold
</p>
</li>
<li><p><code>best.stat</code> : the best score obtained for the chosen evaluation metric
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>, 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Generate a binary vector
vec.a &lt;- sample(c(0, 1), 100, replace = TRUE)

## Generate a 0-1000 vector (random drawing)
vec.b &lt;- runif(100, min = 0, max = 1000)

## Generate a 0-1000 vector (biased drawing)
BiasedDrawing &lt;- function(x, m1 = 300, sd1 = 200, m2 = 700, sd2 = 200) {
  return(ifelse(x &lt; 0.5, rnorm(1, m1, sd1), rnorm(1, m2, sd2)))
}
vec.c &lt;- sapply(vec.a, BiasedDrawing)
vec.c[which(vec.c &lt; 0)] &lt;- 0
vec.c[which(vec.c &gt; 1000)] &lt;- 1000

## Find optimal threshold for a specific evaluation metric
bm_FindOptimStat(metric.eval = 'TSS', fit = vec.b, obs = vec.a)
bm_FindOptimStat(metric.eval = 'TSS', fit = vec.c, obs = vec.a, nb.thresh = 100)
bm_FindOptimStat(metric.eval = 'TSS', fit = vec.c, obs = vec.a, threshold = 280)


</code></pre>

<hr>
<h2 id='bm_MakeFormula'>Standardized formula maker</h2><span id='topic+bm_MakeFormula'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to create easily a 
standardized formula that can be used later by statistical models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_MakeFormula(
  resp.name,
  expl.var,
  type = "simple",
  interaction.level = 0,
  k = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_MakeFormula_+3A_resp.name">resp.name</code></td>
<td>
<p>a <code>character</code> corresponding to the response variable name</p>
</td></tr>
<tr><td><code id="bm_MakeFormula_+3A_expl.var">expl.var</code></td>
<td>
<p>a <code>matrix</code> or <code>data.frame</code> containing the explanatory variables that 
will be used at the modeling step</p>
</td></tr>
<tr><td><code id="bm_MakeFormula_+3A_type">type</code></td>
<td>
<p>a <code>character</code> corresponding to the wanted type of formula, must be 
<code>simple</code>, <code>quadratic</code>, <code>polynomial</code> or <code>s_smoother</code></p>
</td></tr>
<tr><td><code id="bm_MakeFormula_+3A_interaction.level">interaction.level</code></td>
<td>
<p>an <code>integer</code> corresponding to the interaction level depth 
between explanatory variables</p>
</td></tr>
<tr><td><code id="bm_MakeFormula_+3A_k">k</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> corresponding to the smoothing parameter value of <code><a href="mgcv.html#topic+s">s</a></code> 
or <code><a href="gam.html#topic+s">s</a></code> arguments (<em>used only if <code>type = 's_smoother'</code></em>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is advised to give only a subset of <code>expl.var</code> table to avoid useless memory consuming. 
<br /> If some explanatory variables are factorial, <code>expl.var</code> must be a <code>data.frame</code> 
whose corresponding columns are defined as <code>factor</code>.
</p>


<h3>Value</h3>

<p>A <code><a href="stats.html#topic+formula">formula</a></code> class object that can be directly given to most of 
<span class="rlang"><b>R</b></span> statistical models.
</p>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+formula">formula</a></code>, <code><a href="mgcv.html#topic+s">s</a></code>, <code><a href="gam.html#topic+s">s</a></code>, 
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, 
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Create simple simulated data
myResp.s &lt;- sample(c(0, 1), 20, replace = TRUE)
myExpl.s &lt;- data.frame(var1 = sample(c(0, 1), 100, replace = TRUE),
                       var2 = rnorm(100),
                       var3 = 1:100)

## Generate automatic formula
bm_MakeFormula(resp.name = 'myResp.s',
               expl.var = head(myExpl.s),
               type = 'quadratic',
               interaction.level = 0)


</code></pre>

<hr>
<h2 id='bm_PlotEvalBoxplot'>Plot boxplot of evaluation scores</h2><span id='topic+bm_PlotEvalBoxplot'></span>

<h3>Description</h3>

<p>This function represents boxplot of evaluation scores of species distribution 
models, from <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
objects that can be obtained from <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions. Scores are represented according to 2 
grouping methods (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_PlotEvalBoxplot(
  bm.out,
  dataset = "calibration",
  group.by = c("algo", "run"),
  do.plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_PlotEvalBoxplot_+3A_bm.out">bm.out</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
object that can be obtained with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions</p>
</td></tr>
<tr><td><code id="bm_PlotEvalBoxplot_+3A_dataset">dataset</code></td>
<td>
<p>a <code>character</code> corresponding to the dataset upon which evaluation metrics 
have been calculated and that is to be represented, must be among <code>calibration</code>, 
<code>validation</code>, <code>evaluation</code></p>
</td></tr>
<tr><td><code id="bm_PlotEvalBoxplot_+3A_group.by">group.by</code></td>
<td>
<p>a 2-length <code>vector</code> containing the way kept models will be represented,
must be among <code>full.name</code>, <code>PA</code>, <code>run</code>, <code>algo</code> (if <code>bm.out</code> is a 
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object), or <code>full.name</code>, <code>merged.by.PA</code>, 
<code>merged.by.run</code>, <code>merged.by.algo</code> (if <code>bm.out</code> is a 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object)</p>
</td></tr>
<tr><td><code id="bm_PlotEvalBoxplot_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the plot is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_PlotEvalBoxplot_+3A_...">...</code></td>
<td>
<p>some additional arguments (see Details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>...</code> can take the following values :
</p>

<ul>
<li><p><code>main</code> : a <code>character</code> corresponding to the graphic title
</p>
</li>
<li><p><code>scales</code> : a <code>character</code> corresponding to the <code>scales</code> argument of 
the <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code> function, must be either <code>fixed</code>, <code>free_x</code>, 
<code>free_y</code> or <code>free</code>
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>list</code> containing a <code>data.frame</code> with evaluation scores and the corresponding 
<code>ggplot</code> object representing them in boxplot.
</p>


<h3>Author(s)</h3>

<p>Damien Georges, Maya Gueguen
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, 
<code><a href="#topic+get_evaluations">get_evaluations</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>
<p>Other Plot functions: 
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


# ---------------------------------------------------------------
# Get evaluation scores
get_evaluations(myBiomodModelOut)

# Represent evaluation scores
bm_PlotEvalBoxplot(bm.out = myBiomodModelOut, group.by = c('algo', 'run'))


</code></pre>

<hr>
<h2 id='bm_PlotEvalMean'>Plot mean evaluation scores</h2><span id='topic+bm_PlotEvalMean'></span>

<h3>Description</h3>

<p>This function represents mean evaluation scores (and their standard deviation) 
of species distribution models, from <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> objects that can be obtained from 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions. Scores are 
represented according to 2 different evaluation methods, and models can be grouped 
(see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_PlotEvalMean(
  bm.out,
  metric.eval = NULL,
  dataset = "calibration",
  group.by = "algo",
  do.plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_PlotEvalMean_+3A_bm.out">bm.out</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
object that can be obtained with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions</p>
</td></tr>
<tr><td><code id="bm_PlotEvalMean_+3A_metric.eval">metric.eval</code></td>
<td>
<p>a <code>vector</code> containing evaluation metric names to be used, must 
be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, 
<code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, 
<code>ORSS</code></p>
</td></tr>
<tr><td><code id="bm_PlotEvalMean_+3A_dataset">dataset</code></td>
<td>
<p>a <code>character</code> corresponding to the dataset upon which evaluation metrics 
have been calculated and that is to be represented, must be among <code>calibration</code>, 
<code>validation</code>, <code>evaluation</code></p>
</td></tr>
<tr><td><code id="bm_PlotEvalMean_+3A_group.by">group.by</code></td>
<td>
<p>a <code>character</code> corresponding to the way kept models will be combined to 
compute mean and sd evaluation scores, must be among <code>full.name</code>, <code>PA</code>, <code>run</code>, 
<code>algo</code> (if <code>bm.out</code> is a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object), or 
<code>full.name</code>, <code>merged.by.PA</code>, <code>merged.by.run</code>, <code>merged.by.algo</code> 
(if <code>bm.out</code> is a <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object)</p>
</td></tr>
<tr><td><code id="bm_PlotEvalMean_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the plot is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_PlotEvalMean_+3A_...">...</code></td>
<td>
<p>some additional arguments (see Details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>...</code> can take the following values :
</p>

<ul>
<li><p><code>xlim</code> : an <code>integer</code> corresponding to the x maximum limit to represent
</p>
</li>
<li><p><code>ylim</code> : an <code>integer</code> corresponding to the y maximum limit to represent
</p>
</li>
<li><p><code>main</code> : a <code>character</code> corresponding to the graphic title
</p>
</li>
<li><p><code>col</code> : a <code>vector</code> containing new color values
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>list</code> containing a <code>data.frame</code> with mean and standard deviation of evaluation 
scores and the corresponding <code>ggplot</code> object representing them according to 2 different 
evaluation methods.
</p>


<h3>Author(s)</h3>

<p>Damien Georges, Maya Gueguen
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, 
<code><a href="#topic+get_evaluations">get_evaluations</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>
<p>Other Plot functions: 
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


# ---------------------------------------------------------------
# Get evaluation scores
get_evaluations(myBiomodModelOut)

# Represent mean evaluation scores
bm_PlotEvalMean(bm.out = myBiomodModelOut)


</code></pre>

<hr>
<h2 id='bm_PlotRangeSize'>Plot species range change</h2><span id='topic+bm_PlotRangeSize'></span>

<h3>Description</h3>

<p>This function represents species range change from object that can be obtained 
from <code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a></code> function. Several graphics can be obtained, representing 
global counts or proportions of gains / losses, as well as spatial representations (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_PlotRangeSize(
  bm.range,
  do.count = TRUE,
  do.perc = TRUE,
  do.maps = TRUE,
  do.mean = TRUE,
  do.plot = TRUE,
  row.names = c("Species", "Dataset", "Run", "Algo")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_PlotRangeSize_+3A_bm.range">bm.range</code></td>
<td>
<p>an object returned by the <code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a></code> function</p>
</td></tr>
<tr><td><code id="bm_PlotRangeSize_+3A_do.count">do.count</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the count plot is to be computed or not</p>
</td></tr>
<tr><td><code id="bm_PlotRangeSize_+3A_do.perc">do.perc</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the percentage plot is to be computed or not</p>
</td></tr>
<tr><td><code id="bm_PlotRangeSize_+3A_do.maps">do.maps</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the maps plot is to be computed or not</p>
</td></tr>
<tr><td><code id="bm_PlotRangeSize_+3A_do.mean">do.mean</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the mean maps plot is to be computed or not</p>
</td></tr>
<tr><td><code id="bm_PlotRangeSize_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the plots are to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_PlotRangeSize_+3A_row.names">row.names</code></td>
<td>
<p>(<em>optional, default</em> <code>c('Species', 'Dataset', 'Run', 'Algo')</code>) <br /> 
A <code>vector</code> containing tags matching <code>bm.range$Compt.By.Models</code> rownames splitted by 
'_' character</p>
</td></tr>
</table>


<h3>Details</h3>

<p>4 plots can be obtained with this function :
</p>

<dl>
<dt>Count barplot</dt><dd><p>representing absolute number of locations (pixels) lost, stable and 
gained</p>
</dd>
<dt>Percentage barplot</dt><dd><p>representing percentage of locations (pixels) lost, stable, and 
the corresponding Species Range Change (<code>PercGain - PercLoss</code>)</p>
</dd>
<dt>SRC models maps</dt><dd><p>representing spatially locations (pixels) lost, stable and 
gained for each single distribution model</p>
</dd>
<dt>SRC community averaging maps</dt><dd><p>representing spatially locations (pixels) lost, stable 
and gained, taking the majoritary value across single distribution models (and representing 
the percentage of models' agreement)</p>
</dd>
</dl>

<p><em>Please see <code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a></code> function for more details about the values.</em>
</p>


<h3>Value</h3>

<p>A <code>list</code> containing one or several <code>data.frame</code> and the corresponding 
<code>ggplot</code> object representing species range change.
</p>


<h3>Author(s)</h3>

<p>Maya Gueguen
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD_RangeSize">BIOMOD_RangeSize</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>
<p>Other Plot functions: 
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------#
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl, 
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}

models.proj &lt;- get_built_models(myBiomodModelOut, algo = "RF")
  # Project single models
  myBiomodProj &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                    proj.name = 'CurrentRangeSize',
                                    new.env = myExpl,
                                    models.chosen = models.proj,
                                    metric.binary = 'all')



# ---------------------------------------------------------------#
# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_future)
myExplFuture &lt;- terra::rast(bioclim_future)


# Project onto future conditions
myBiomodProjectionFuture &lt;- BIOMOD_Projection(bm.mod = myBiomodModelOut,
                                              proj.name = 'FutureRangeSize',
                                              new.env = myExplFuture,
                                              models.chosen = models.proj,
                                              metric.binary = 'TSS')

# Load current and future binary projections
CurrentProj &lt;- get_predictions(myBiomodProj,
                               metric.binary = "TSS",
                               model.as.col = TRUE)
FutureProj &lt;- get_predictions(myBiomodProjectionFuture,
                               metric.binary = "TSS",
                               model.as.col = TRUE)

# Compute differences
myBiomodRangeSize &lt;- BIOMOD_RangeSize(proj.current = CurrentProj, proj.future = FutureProj)


# ---------------------------------------------------------------#
myBiomodRangeSize$Compt.By.Models
plot(myBiomodRangeSize$Diff.By.Pixel)

# Represent main results 
bm_PlotRangeSize(bm.range = myBiomodRangeSize)


</code></pre>

<hr>
<h2 id='bm_PlotResponseCurves'>Plot response curves</h2><span id='topic+bm_PlotResponseCurves'></span>

<h3>Description</h3>

<p>This function represents response curves of species distribution models, from 
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> objects that can 
be obtained from <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> 
functions. Response curves can be represented in either 2 or 3 dimensions (meaning 1 or 2 
explanatory variables at a time, see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_PlotResponseCurves(
  bm.out,
  models.chosen = "all",
  new.env = get_formal_data(bm.out, "expl.var"),
  show.variables = get_formal_data(bm.out, "expl.var.names"),
  fixed.var = "mean",
  do.bivariate = FALSE,
  do.plot = TRUE,
  do.progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_PlotResponseCurves_+3A_bm.out">bm.out</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
object that can be obtained with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions</p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_models.chosen">models.chosen</code></td>
<td>
<p>a <code>vector</code> containing model names to be kept, must be either 
<code>all</code> or a sub-selection of model names that can be obtained with the 
<code><a href="#topic+get_built_models">get_built_models</a></code> function</p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_new.env">new.env</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code> or 
<code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the new explanatory
variables (in columns or layers, with names matching the variables names
given to the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function to build
<code>bm.out</code>) that will be used to project the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">raster</span> are still supported such as 
<code>RasterStack</code> objects. </em></p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_show.variables">show.variables</code></td>
<td>
<p>a <code>vector</code> containing the names of the explanatory variables 
present into <code>new.env</code> parameter and to be plotted</p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_fixed.var">fixed.var</code></td>
<td>
<p>a <code>character</code> corresponding to the statistic to be used to fix as 
constant the remaining variables other than the one used to predict response, must be either 
<code>mean</code>, <code>median</code>, <code>min</code>, <code>max</code></p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_do.bivariate">do.bivariate</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether the response curves are to be represented in 3 
dimensions (meaning 2 explanatory variables at a time) or not (meaning only 1)</p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the plot is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_do.progress">do.progress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the progress bar is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_PlotResponseCurves_+3A_...">...</code></td>
<td>
<p>some additional arguments (see Details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is an adaptation of the Evaluation Strip method proposed by Elith et al. (2005). 
To build the predicted response curves :
</p>

<ul>
<li> <p><code>n-1</code> variables are set constant to a fixed value determined by the 
<code>fixed.var</code> parameter (in the case of categorical variable, the most represented 
class is taken)
</p>
</li>
<li><p> the remaining variable is made to vary throughout its range given by the <code>new.env</code> 
parameter 
</p>
</li>
<li><p> predicted values are computed with these <code>n-1</code> fixed variables, and this 
studied variable varying 
</p>
</li></ul>

<p>If <code>do.bivariate = TRUE</code>, 2 variables are varying at the same time. <br /> <br />
</p>
<p>The response curves obtained show the sensibility of the model to the studied variable. <br /> 
Note that this method does not account for interactions between variables. <br /> <br />
</p>
<p><code>...</code> can take the following values :
</p>

<ul>
<li><p><code>main</code> : a <code>character</code> corresponding to the graphic title
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>list</code> containing a <code>data.frame</code> with variables and predicted values and the 
corresponding <code>ggplot</code> object representing response curves.
</p>


<h3>Author(s)</h3>

<p>Damien Georges, Maya Gueguen
</p>


<h3>References</h3>


<ul>
<li><p> Elith, J., Ferrier, S., Huettmann, FALSE. and Leathwick, J. R. 2005. The evaluation 
strip: A new and robust method for plotting predicted responses from species distribution 
models. <em>Ecological Modelling</em>, <b>186</b>, 280-289.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>
<p>Other Plot functions: 
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------#
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


# ---------------------------------------------------------------#
# Represent response curves
mods &lt;- get_built_models(myBiomodModelOut, run = 'RUN1')
bm_PlotResponseCurves(bm.out = myBiomodModelOut, 
                      models.chosen = mods,
                      fixed.var = 'median')
## fixed.var can also be set to 'min', 'max' or 'mean'
# bm_PlotResponseCurves(bm.out = myBiomodModelOut, 
#                       models.chosen = mods,
#                       fixed.var = 'min')

# Bivariate case (one model)
# variables can be selected with argument 'show.variables'
# models can be selected with argument 'models.chosen'
mods &lt;- get_built_models(myBiomodModelOut, full.name = 'GuloGulo_allData_RUN2_RF')
bm_PlotResponseCurves(bm.out = myBiomodModelOut, 
                      show.variables = c("bio4","bio12","bio11"),
                      models.chosen = mods,
                      fixed.var = 'median',
                      do.bivariate = TRUE)
                                      
                                      
</code></pre>

<hr>
<h2 id='bm_PlotVarImpBoxplot'>Plot boxplot of variables importance</h2><span id='topic+bm_PlotVarImpBoxplot'></span>

<h3>Description</h3>

<p>This function represents boxplot of variables importance of species distribution 
models, from <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
objects that can be obtained from <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions. Scores are represented according to 3 
grouping methods (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_PlotVarImpBoxplot(
  bm.out,
  group.by = c("run", "expl.var", "algo"),
  do.plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_PlotVarImpBoxplot_+3A_bm.out">bm.out</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> 
object that can be obtained with the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> or 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code> functions</p>
</td></tr>
<tr><td><code id="bm_PlotVarImpBoxplot_+3A_group.by">group.by</code></td>
<td>
<p>a 3-length <code>vector</code> containing the way kept models will be represented,
must be among <code>full.name</code>, <code>PA</code>, <code>run</code>, <code>algo</code>, <code>expl.var</code> (if 
<code>bm.out</code> is a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object), or <code>full.name</code>, 
<code>merged.by.PA</code>, <code>merged.by.run</code>, <code>merged.by.algo</code>, <code>expl.var</code> 
(if <code>bm.out</code> is a <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object)</p>
</td></tr>
<tr><td><code id="bm_PlotVarImpBoxplot_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the plot is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_PlotVarImpBoxplot_+3A_...">...</code></td>
<td>
<p>some additional arguments (see Details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>...</code> can take the following values :
</p>

<ul>
<li><p><code>main</code> : a <code>character</code> corresponding to the graphic title
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>list</code> containing a <code>data.frame</code> with variables importance and the corresponding 
<code>ggplot</code> object representing them in boxplot.
</p>


<h3>Author(s)</h3>

<p>Damien Georges, Maya Gueguen
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, <code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, 
<code><a href="#topic+get_variables_importance">get_variables_importance</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>
<p>Other Plot functions: 
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



# ---------------------------------------------------------------
file.out &lt;- paste0(myRespName, "/", myRespName, ".AllModels.models.out")
if (file.exists(file.out)) {
  myBiomodModelOut &lt;- get(load(file.out))
} else {

  # Format Data with true absences
  myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                       expl.var = myExpl,
                                       resp.xy = myRespXY,
                                       resp.name = myRespName)

  # Create default modeling options
  myBiomodOptions &lt;- BIOMOD_ModelingOptions()

  # Model single models
  myBiomodModelOut &lt;- BIOMOD_Modeling(bm.format = myBiomodData,
                                      modeling.id = 'AllModels',
                                      models = c('RF', 'GLM'),
                                      bm.options = myBiomodOptions,
                                      CV.strategy = 'random',
                                      CV.nb.rep = 2,
                                      CV.perc = 0.8,
                                      metric.eval = c('TSS','ROC'),
                                      var.import = 3,
                                      seed.val = 42)
}


# ---------------------------------------------------------------
# Get variables importance
get_variables_importance(myBiomodModelOut)

# Represent variables importance
bm_PlotVarImpBoxplot(bm.out = myBiomodModelOut, group.by = c('expl.var', 'algo', 'algo'))
bm_PlotVarImpBoxplot(bm.out = myBiomodModelOut, group.by = c('expl.var', 'algo', 'PA'))
bm_PlotVarImpBoxplot(bm.out = myBiomodModelOut, group.by = c('algo', 'expl.var', 'PA'))


</code></pre>

<hr>
<h2 id='bm_PseudoAbsences'>Select pseudo-absences</h2><span id='topic+bm_PseudoAbsences'></span><span id='topic+bm_PseudoAbsences_random'></span><span id='topic+bm_PseudoAbsences_sre'></span><span id='topic+bm_PseudoAbsences_disk'></span><span id='topic+bm_PseudoAbsences_user.defined'></span><span id='topic+bm_PseudoAbsences_user.defined+2CANY+2CSpatVector-method'></span><span id='topic+bm_PseudoAbsences_user.defined+2CANY+2CSpatRaster-method'></span><span id='topic+bm_PseudoAbsences_random+2CANY+2CSpatVector-method'></span><span id='topic+bm_PseudoAbsences_random+2CANY+2CSpatRaster-method'></span><span id='topic+bm_PseudoAbsences_sre+2CANY+2CSpatVector-method'></span><span id='topic+bm_PseudoAbsences_sre+2CANY+2CSpatRaster-method'></span><span id='topic+bm_PseudoAbsences_disk+2CANY+2CSpatVector-method'></span><span id='topic+bm_PseudoAbsences_disk+2CANY+2CSpatRaster-method'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows to select pseudo-absences according 
to 4 different methods : <code>random</code>, <code>sre</code>, <code>disk</code> or <code>user.defined</code> (see Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_PseudoAbsences(
  resp.var,
  expl.var,
  nb.rep = 1,
  strategy = "random",
  nb.absences = NULL,
  sre.quant = 0,
  dist.min = 0,
  dist.max = NULL,
  user.table = NULL
)

bm_PseudoAbsences_user.defined(resp.var, expl.var, ...)

## S4 method for signature 'ANY,SpatVector'
bm_PseudoAbsences_user.defined(resp.var, expl.var, user.table)

## S4 method for signature 'ANY,SpatRaster'
bm_PseudoAbsences_user.defined(resp.var, expl.var, user.table)

bm_PseudoAbsences_random(resp.var, expl.var, ...)

## S4 method for signature 'ANY,SpatVector'
bm_PseudoAbsences_random(resp.var, expl.var, nb.absences, nb.rep)

## S4 method for signature 'ANY,SpatRaster'
bm_PseudoAbsences_random(resp.var, expl.var, nb.absences, nb.rep)

bm_PseudoAbsences_sre(resp.var, expl.var, ...)

## S4 method for signature 'ANY,SpatVector'
bm_PseudoAbsences_sre(resp.var, expl.var, sre.quant, nb.absences, nb.rep)

## S4 method for signature 'ANY,SpatRaster'
bm_PseudoAbsences_sre(resp.var, expl.var, sre.quant, nb.absences, nb.rep)

bm_PseudoAbsences_disk(resp.var, expl.var, ...)

## S4 method for signature 'ANY,SpatVector'
bm_PseudoAbsences_disk(
  resp.var,
  expl.var,
  dist.min,
  dist.max,
  nb.absences,
  nb.rep
)

## S4 method for signature 'ANY,SpatRaster'
bm_PseudoAbsences_disk(
  resp.var,
  expl.var,
  dist.min,
  dist.max,
  nb.absences,
  nb.rep
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_PseudoAbsences_+3A_resp.var">resp.var</code></td>
<td>
<p>a <code>vector</code>, <code><a href="sp.html#topic+SpatialPoints">SpatialPoints</a></code> or 
<code><a href="sp.html#topic+SpatialPointsDataFrame">SpatialPointsDataFrame</a></code> object containing binary data (<code>0</code> : absence, 
<code>1</code> : presence, <code>NA</code> : indeterminate) for a single species that will be used to 
find the pseudo-absences</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_expl.var">expl.var</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code><a href="sp.html#topic+SpatialPointsDataFrame">SpatialPointsDataFrame</a></code> 
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables (in 
columns or layers) that will be used to find the pseudo-absences</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_nb.rep">nb.rep</code></td>
<td>
<p>an <code>integer</code> corresponding to the number of sets (repetitions) of 
pseudo-absence points that will be drawn</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_strategy">strategy</code></td>
<td>
<p>a <code>character</code> corresponding to the pseudo-absence selection strategy, 
must be among <code>random</code>, <code>sre</code>, <code>disk</code> or <code>user.defined</code></p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_nb.absences">nb.absences</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
If <code>strategy = 'random'</code> or <code>strategy = 'sre'</code> or <code>strategy = 'disk'</code>, an 
<code>integer</code> corresponding to the number of pseudo-absence points that will be selected for 
each pseudo-absence repetition (true absences included)</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_sre.quant">sre.quant</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'sre'</code>, a <code>numeric</code> between <code>0</code> and <code>0.5</code> defining the 
half-quantile used to make the <code>sre</code> pseudo-absence selection (see <code><a href="#topic+bm_SRE">bm_SRE</a></code>)</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_dist.min">dist.min</code></td>
<td>
<p>(<em>optional, default</em> <code>0</code>) <br />
If <code>strategy = 'disk'</code>, a <code>numeric</code> defining the minimal distance to presence points 
used to make the <code>disk</code> pseudo-absence selection (in meters)</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_dist.max">dist.max</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
If <code>strategy = 'disk'</code>, a <code>numeric</code> defining the maximal distance to presence points 
used to make the <code>disk</code> pseudo-absence selection (in meters)</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_user.table">user.table</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
If <code>strategy = 'user.defined'</code>, a <code>matrix</code> or <code>data.frame</code> with as many rows as 
<code>resp.var</code> values, as many columns as <code>nb.rep</code>, and containing <code>TRUE</code> or 
<code>FALSE</code> values defining which points will be used to build the species distribution 
model(s) for each repetition</p>
</td></tr>
<tr><td><code id="bm_PseudoAbsences_+3A_...">...</code></td>
<td>
<p>(<em>optional, one or several of the following arguments depending on the selected 
method</em>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>Concerning random selection :</b>
</p>
<p>The idea is to select pseudo-absences randomly in spatial locations where the species has not 
been sampled. This method is the simplest one and the most appropriate if lacking information 
about the presence sampling (non-exhaustive, biased sampling, etc). <br /> <br />
</p>
<p><b>Concerning SRE selection :</b>
</p>
<p>The idea is to select pseudo-absences in spatial locations whose environmental conditions are 
different from those of the presence points. This method is appropriate when most of the 
environmental space of the species has been sampled. <br /> <br />
</p>
<p><b>Concerning disk selection :</b>
</p>
<p>The idea is to select pseudo-absences, not too close from presence points, but not too far 
away either. This method is appropriate when most of the spatial range of the species has 
been sampled. <br /> <br />
</p>
<p><b>Concerning user defined selection :</b>
</p>
<p>The user can provide pseudo-absences locations through a table containing spatial locations 
in rows, pseudo-absences repetitions in columns, and <code>TRUE/FALSE</code> values indicating 
whether each point is to be considered as pseudo-absence or not for each dataset.
</p>


<h3>Value</h3>

<p>A <code>list</code> containing the following elements :
</p>

<ul>
<li><p><code>xy</code> : the coordinates of the species observations
</p>
</li>
<li><p><code>sp</code> : the values of the species observations (<code>0</code>, <code>1</code> or <code>NA</code>)
</p>
</li>
<li><p><code>env</code> : the explanatory variables
</p>
</li>
<li><p><code>pa.tab</code> : the corresponding table of selected pseudo-absences (indicated by 
<code>TRUE</code> or <code>FALSE</code>)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Wilfried Thuiller, Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>, <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)
# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)




# --------------------------------------------------------------- #
# Create the different pseudo-absence datasets

# Transform true absences into potential pseudo-absences
myResp.PA &lt;- ifelse(myResp == 1, 1, NA)
myResp.PA.vect &lt;- vect(cbind(myRespXY, myResp.PA), geom = c("X_WGS84","Y_WGS84"))

# random method
PA.r &lt;- bm_PseudoAbsences(resp.var = myResp.PA,
                          expl.var = myExpl,
                          nb.rep = 4,
                          nb.absences = 1000,
                          strategy = 'random')

# disk method
PA.d &lt;- bm_PseudoAbsences(resp.var = myResp.PA,
                          expl.var = myExpl,
                          nb.rep = 4,
                          nb.absences = 500,
                          strategy = 'disk',
                          dist.min = 5,
                          dist.max = 35)

# SRE method
PA.s &lt;- bm_PseudoAbsences(resp.var = myResp.PA,
                          expl.var = myExpl,
                          nb.rep = 4,
                          nb.absences = 1000,
                          strategy = 'sre',
                          sre.quant = 0.025)

# user.defined method
myPAtable &lt;- data.frame(PA1 = ifelse(myResp == 1, TRUE, FALSE),
                        PA2 = ifelse(myResp == 1, TRUE, FALSE))
for (i in 1:ncol(myPAtable)) myPAtable[sample(which(myPAtable[, i] == FALSE), 500), i] = TRUE
PA.u &lt;- bm_PseudoAbsences(resp.var = myResp.PA,
                          expl.var = myExpl,
                          strategy = 'user.defined',
                          user.table = myPAtable)

str(PA.r)
head(PA.r$pa.tab)
apply(PA.r$pa.tab, 2, table)

head(PA.d$pa.tab)
apply(PA.d$pa.tab, 2, table)

head(PA.s$pa.tab)
apply(PA.s$pa.tab, 2, table)

tail(PA.u$pa.tab)
apply(PA.u$pa.tab, 2, table)


# random method : different number of PA
PA.r_mult &lt;- bm_PseudoAbsences(resp.var = myResp.PA.vect,
                               expl.var = myExpl,
                               nb.rep = 4,
                               nb.absences = c(1000, 500, 500, 200),
                               strategy = 'random')

str(PA.r_mult)
head(PA.r_mult$pa.tab)
apply(PA.r_mult$pa.tab, 2, table)


</code></pre>

<hr>
<h2 id='bm_RunModelsLoop'>Loop to compute all single species distribution models</h2><span id='topic+bm_RunModelsLoop'></span><span id='topic+bm_RunModel'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to compute all single 
species distribution models (asked by the <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code> function).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_RunModelsLoop(
  bm.format,
  weights,
  calib.lines,
  modeling.id,
  models,
  models.pa,
  bm.options,
  metric.eval,
  var.import,
  scale.models = TRUE,
  nb.cpu = 1,
  seed.val = NULL,
  do.progress = TRUE
)

bm_RunModel(
  model,
  run.name,
  dir.name = ".",
  modeling.id = "",
  bm.options,
  Data,
  weights.vec,
  calib.lines.vec,
  eval.data = NULL,
  metric.eval = c("ROC", "TSS", "KAPPA"),
  var.import = 0,
  scale.models = TRUE,
  nb.cpu = 1,
  seed.val = NULL,
  do.progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_RunModelsLoop_+3A_bm.format">bm.format</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code> 
object returned by the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_weights">weights</code></td>
<td>
<p>a <code>matrix</code> containing observation weights for each pseudo-absence (or 
<code>allData</code>) dataset</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_calib.lines">calib.lines</code></td>
<td>
<p>a <code>matrix</code> containing calibration / validation lines for each 
pseudo-absence (or <code>allData</code>) x repetition (or <code>allRun</code>) combination that can be 
obtained with the <code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code> function</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_modeling.id">modeling.id</code></td>
<td>
<p>a <code>character</code> corresponding to the name (ID) of the simulation set 
(<em>a random number by default</em>)</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_models">models</code></td>
<td>
<p>a <code>vector</code> containing model names to be computed, must be among 
<code>GLM</code>, <code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, 
<code>MARS</code>, <code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>,  <code>XGBOOST</code></p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_models.pa">models.pa</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>list</code> containing for each model a <code>vector</code> defining which pseudo-absence datasets 
are to be used, must be among <code>colnames(bm.format@PA.table)</code></p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_bm.options">bm.options</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.models.options">BIOMOD.models.options</a></code> object returned by the
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code> function</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_metric.eval">metric.eval</code></td>
<td>
<p>a <code>vector</code> containing evaluation metric names to be used, must 
be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, 
<code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, 
<code>ORSS</code></p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_var.import">var.import</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> corresponding to the number of permutations to be done for each variable to 
estimate variable importance</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_scale.models">scale.models</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether all models predictions should be scaled with a 
binomial GLM or not</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_nb.cpu">nb.cpu</code></td>
<td>
<p>(<em>optional, default</em> <code>1</code>) <br /> 
An <code>integer</code> value corresponding to the number of computing resources to be used to 
parallelize the single models computation</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_seed.val">seed.val</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_do.progress">do.progress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the progress bar is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_model">model</code></td>
<td>
<p>a <code>character</code> corresponding to the model name to be computed, must be either 
<code>GLM</code>, <code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, 
<code>MARS</code>, <code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>, <code>XGBOOST</code></p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_run.name">run.name</code></td>
<td>
<p>a <code>character</code> corresponding to the model to be run (sp.name + pa.id + 
run.id)</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_dir.name">dir.name</code></td>
<td>
<p>(<em>optional, default</em> <code>.</code>) <br />
A <code>character</code> corresponding to the modeling folder</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_data">Data</code></td>
<td>
<p>a <code>data.frame</code> containing observations, coordinates and environmental 
variables that can be obtained with the <code>get_species_data</code> function</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_weights.vec">weights.vec</code></td>
<td>
<p>a <code>vector</code> containing observation weights the concerned pseudo-absence 
(or <code>allData</code>) dataset</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_calib.lines.vec">calib.lines.vec</code></td>
<td>
<p>a <code>vector</code> containing calibration / validation lines for the 
concerned pseudo-absence (or <code>allData</code>) x repetition (or <code>allRun</code>) combination</p>
</td></tr>
<tr><td><code id="bm_RunModelsLoop_+3A_eval.data">eval.data</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
A <code>data.frame</code> containing validation observations, coordinates and environmental 
variables that can be obtained with the <code>get_eval_data</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> containing for each model a <code>list</code> containing the following elements :
</p>

<ul>
<li><p><code>model</code> : the name of correctly computed model
</p>
</li>
<li><p><code>calib.failure</code> : the name of incorrectly computed model
</p>
</li>
<li><p><code>pred</code> : the prediction outputs for calibration data
</p>
</li>
<li><p><code>pred.eval</code> : the prediction outputs for evaluation data
</p>
</li>
<li><p><code>evaluation</code> : the evaluation outputs returned by the 
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a></code> function
</p>
</li>
<li><p><code>var.import</code> : the mean of variables importance returned by the 
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code> function
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="rpart.html#topic+rpart">rpart</a></code>, <code><a href="rpart.html#topic+prune">prune</a></code>, <code><a href="gbm.html#topic+gbm">gbm</a></code>, 
<code><a href="MASS.html#topic+stepAIC">stepAIC</a></code>, <code><a href="nnet.html#topic+nnet">nnet</a></code>, <code><a href="earth.html#topic+earth">earth</a></code>, 
<code><a href="mda.html#topic+fda">fda</a></code>, <code><a href="mda.html#topic+mars">mars</a></code>, <code><a href="maxnet.html#topic+maxnet">maxnet</a></code>, 
<code><a href="randomForest.html#topic+randomForest">randomForest</a></code>, <code><a href="xgboost.html#topic+xgboost">xgboost</a></code>, 
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, 
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a></code>, <code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a></code>, 
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a></code>, <code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>

<hr>
<h2 id='bm_SampleBinaryVector'>Sample binary vector</h2><span id='topic+bm_SampleBinaryVector'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to sample a binary vector 
keeping the same proportion of <code>0</code> and <code>1</code> as the initial vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_SampleBinaryVector(obs, ratio, as.logical = FALSE, seedval = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_SampleBinaryVector_+3A_obs">obs</code></td>
<td>
<p>a <code>vector</code> containing binary values (either <code>0</code> or <code>1</code>)</p>
</td></tr>
<tr><td><code id="bm_SampleBinaryVector_+3A_ratio">ratio</code></td>
<td>
<p>a <code>numeric</code> between <code>0</code> and <code>1</code> corresponding to the proportion 
of <code>obs</code> values to sample</p>
</td></tr>
<tr><td><code id="bm_SampleBinaryVector_+3A_as.logical">as.logical</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether a <code>vector</code> of <code>TRUE/FALSE</code> values should 
be returned (if <code>as.logical = TRUE</code>) or a <code>vector</code> containing the indices of 
<code>obs</code> elements to keep</p>
</td></tr>
<tr><td><code id="bm_SampleBinaryVector_+3A_seedval">seedval</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> containing to elements is returned :
</p>

<dl>
<dt>calibration</dt><dd><p>IDs of elements selected for calibration</p>
</dd>
<dt>validation</dt><dd><p>IDs of elements selected for validation (complementary to the calibration 
set)</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_CVnnet">bm_CVnnet</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Generate a binary vector
vec.a &lt;- sample(c(0, 1), 100, replace = TRUE)

## Generate calibration / validation datasets
bm_SampleBinaryVector(obs = vec.a, ratio = 0.7)


</code></pre>

<hr>
<h2 id='bm_SampleFactorLevels'>Tool to ensure the sampling of all levels of a factorial variable</h2><span id='topic+bm_SampleFactorLevels'></span><span id='topic+bm_SampleFactorLevels.raster'></span><span id='topic+bm_SampleFactorLevels.data.frame'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function samples randomly an element of each level of 
all the factorial variables contained in a <code>raster*</code> or <code>data.frame</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_SampleFactorLevels(expl.var, mask.out = NULL, mask.in = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_SampleFactorLevels_+3A_expl.var">expl.var</code></td>
<td>
<p>a <code>data.frame</code> or <code><a href="terra.html#topic+rast">SpatRaster</a></code>
object containing the explanatory variables (in columns or layers)</p>
</td></tr>
<tr><td><code id="bm_SampleFactorLevels_+3A_mask.out">mask.out</code></td>
<td>
<p>a <code>data.frame</code> or <code><a href="terra.html#topic+rast">SpatRaster</a></code>
object containing the area that has already been sampled (<em>factor 
levels within this mask will not be sampled</em>)</p>
</td></tr>
<tr><td><code id="bm_SampleFactorLevels_+3A_mask.in">mask.in</code></td>
<td>
<p>a <code>data.frame</code> or <code><a href="terra.html#topic+rast">SpatRaster</a></code>
object containing areas where factor levels are to be sampled in priority. 
<em>Note that if after having explored these masks, some factor levels 
remain unsampled, they will be sampled in the reference input object <code>expl.var</code>.</em></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>expl.var</code>, <code>mask.out</code> and <code>mask.in</code> parameters must be coherent in terms of 
dimensions :
</p>

<ul>
<li><p> same number of rows for <code>data.frame</code> objects
</p>
</li>
<li><p> same resolution, projection system and number of cells for <code>raster*</code> objects 
<br /> <br />
</p>
</li></ul>

<p>If <code>mask.in</code> contains several masks (either it is a 
<code><a href="raster.html#topic+stack">RasterStack</a></code> object or a multi-columns <code>data.frame</code>), then 
the order of masks / columns matters : they will be considered successively to sample missing 
factor levels. <br /> <br />
</p>

<ul>
<li> <p><code>raster*</code> masks will be understood as :
</p>

<ul>
<li> <p><code>NA</code> : out of mask
</p>
</li>
<li> <p><code>not NA</code> : in mask
</p>
</li></ul>

</li>
<li> <p><code>data.frame</code> masks will be understood as :
</p>

<ul>
<li> <p><code>FALSE</code> : out of mask
</p>
</li>
<li> <p><code>TRUE</code> : in mask
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>A <code>numeric vector</code> containing point IDs (either cell number for <code>raster*</code> objects, 
or row number for <code>data.frame</code>), each refering to a single level of a single factorial 
variable.
</p>
<p>In case any factorial variable is found in the input object, <code>NULL</code> is returned.
</p>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a></code>, <code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>, 
<code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)

## Create raster data
ras.1 &lt;- ras.2 &lt;- mask.out &lt;- rast(nrows = 10, ncols = 10)
ras.1[] &lt;- as.factor(rep(c(1, 2, 3, 4, 5), each = 20))
ras.1 &lt;- as.factor(ras.1)
ras.2[] &lt;- rnorm(100)
stk &lt;- c(ras.1, ras.2)
names(stk) &lt;- c("varFact", "varNorm")

## define a mask for already sampled points
mask.out[1:40] &lt;- 1

## define a list of masks where we want to sample in priority
mask.in &lt;- list(ras.1, ras.1)
mask.in[[1]][1:80] &lt;- NA ## only level 5 should be sampled in this mask
mask.in[[1]][21:80] &lt;- NA ## only levels 1 and 5 should be sampled in this mask

## Sample all factor levels
samp1 &lt;- bm_SampleFactorLevels(expl.var = stk, mask.out = mask.out)
samp2 &lt;- bm_SampleFactorLevels(expl.var = stk, mask.in = mask.in)
samp3 &lt;- bm_SampleFactorLevels(expl.var = stk, mask.out = mask.out, mask.in = mask.in)


</code></pre>

<hr>
<h2 id='bm_SRE'>Surface Range Envelope</h2><span id='topic+bm_SRE'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to run a rectilinear surface 
range envelop (SRE) (equivalent to 
<a href="https://caws.org.nz/PPQ567/PPQ%2006-1%20pp008-9%20Busby.pdf">BIOCLIM</a>) 
using the extreme percentiles (as recommended by Nix or Busby, see References and Details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_SRE(
  resp.var = NULL,
  expl.var = NULL,
  new.env = NULL,
  quant = 0.025,
  do.extrem = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_SRE_+3A_resp.var">resp.var</code></td>
<td>
<p>a <code>vector</code>, a <code><a href="terra.html#topic+vect">SpatVector</a></code>
without associated data (<em>if presence-only</em>), 
or a <code><a href="terra.html#topic+vect">SpatVector</a></code> object containing binary data  
(<code>0</code> : absence, <code>1</code> : presence, <code>NA</code> : indeterminate) 
for a single species that will be used to build the species distribution model(s)
<br /> <em>Note that old format from <span class="pkg">sp</span> are still supported such as
<code>SpatialPoints</code>  (if presence-only) or <code>SpatialPointsDataFrame</code>
object containing binary data.</em></p>
</td></tr>
<tr><td><code id="bm_SRE_+3A_expl.var">expl.var</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables (in 
columns or layers) that will be used to build the SRE model
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="bm_SRE_+3A_new.env">new.env</code></td>
<td>
<p>a <code>matrix</code>, <code>data.frame</code>, <code><a href="terra.html#topic+vect">SpatVector</a></code>
or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object containing the explanatory variables (in 
columns or layers) that will be used to predict the SRE model
<br /> <em>Note that old format from <span class="pkg">raster</span> and <span class="pkg">sp</span> are still supported such as 
<code>RasterStack</code> and <code>SpatialPointsDataFrame</code> objects. </em></p>
</td></tr>
<tr><td><code id="bm_SRE_+3A_quant">quant</code></td>
<td>
<p>a <code>numeric</code> between <code>0</code> and <code>0.5</code> defining the half-quantile 
corresponding to the most extreme value for each variable not to be taken into account for 
determining the tolerance boundaries of the considered species (see Details)</p>
</td></tr>
<tr><td><code id="bm_SRE_+3A_do.extrem">do.extrem</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br /> 
A <code>logical</code> value defining whether a <code>matrix</code> containing extreme conditions 
supported should be returned or not</p>
</td></tr>
</table>


<h3>Details</h3>

<p><em>Please refer to References to get more information about surface range envelop models.</em>
</p>
<p>This method is highly influenced by the extremes of the data input. Whereas a linear model 
can discriminate the extreme values from the main tendency, the SRE considers them as 
important as any other data point leading to changes in predictions. <br /> <br />
</p>
<p><em>The more (non-colinear) variables, the more restrictive the model will be.</em> <br /> <br />
</p>
<p>Predictions are returned as binary (<code>0</code> or <code>1</code>) values, a site being either 
potentially suitable for all the variables, or out of bounds for at least one variable and 
therefore considered unsuitable. <br /> <br />
</p>
<p><code>quant</code> determines the threshold from which the data will be taken into account for 
calibration. The default value of <code>0.05</code> induces that the <code>5%</code> most extreme values 
will be avoided for each variable on each side of its distribution along the gradient, meaning 
that a total of <code>10%</code> of the data will not be considered.
</p>


<h3>Value</h3>

<p>A <code>vector</code> or a <code><a href="terra.html#topic+rast">SpatRaster</a></code> object, containing binary 
(<code>0</code> or <code>1</code>) values.
</p>


<h3>Author(s)</h3>

<p>Wilfried Thuiller, Bruno Lafourcade, Damien Georges
</p>


<h3>References</h3>


<ul>
<li><p> Nix, H.A., 1986. A biogeographic analysis of Australian elapid snakes. In: 
<em>Atlas of Elapid Snakes of Australia.</em> (Ed.) R. Longmore, pp. 4-15. 
<b>Australian Flora and Fauna Series Number 7.</b> 
Australian Government Publishing Service: Canberra.
</p>
</li>
<li><p> Busby, Jeremy. BIOCLIM - a bioclimate analysis and prediction system. 
<em>Plant protection quarterly</em> <b>6</b> (1991): 8-9.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a></code>, <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>, 
<code><a href="#topic+BIOMOD_ModelingOptions">BIOMOD_ModelingOptions</a></code>, <code><a href="#topic+BIOMOD_Tuning">BIOMOD_Tuning</a></code>, 
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>,
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>,
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)
## Load real data
data(DataSpecies)
myResp.r &lt;- as.numeric(DataSpecies[, 'GuloGulo'])

data(bioclim_current)
myExpl.r &lt;- rast(bioclim_current)

myRespXY &lt;- DataSpecies[which(myResp.r == 1), c('X_WGS84', 'Y_WGS84')]
myResp.v &lt;- classify(subset(myExpl.r, 1), 
                     matrix(c(-Inf, Inf, 0), ncol = 3, byrow = TRUE))
myResp.v[cellFromXY(myResp.v, myRespXY)] &lt;- 1

## Compute SRE for several quantile values
sre.100 &lt;- bm_SRE(resp.var = myResp.v,
                  expl.var = myExpl.r,
                  new.env = myExpl.r,
                  quant = 0)
sre.095 &lt;- bm_SRE(resp.var = myResp.v,
                  expl.var = myExpl.r,
                  new.env = myExpl.r,
                  quant = 0.025)
sre.090 &lt;- bm_SRE(resp.var = myResp.v,
                  expl.var = myExpl.r,
                  new.env = myExpl.r,
                  quant = 0.05)

## Visualize results
res &lt;- c(myResp.v, sre.100, sre.095, sre.090)
names(res) &lt;- c("Original distribution", "Full data calibration"
                , "Over 95 percent", "Over 90 percent")
plot(res)


</code></pre>

<hr>
<h2 id='bm_VariablesImportance'>Variables' importance calculation</h2><span id='topic+bm_VariablesImportance'></span>

<h3>Description</h3>

<p>This internal <span class="pkg">biomod2</span> function allows the user to compute a variable 
importance value for each variable involved in the given model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_VariablesImportance(
  bm.model,
  expl.var,
  variables = NULL,
  method = "full_rand",
  nb.rep = 1,
  seed.val = NULL,
  do.progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_VariablesImportance_+3A_bm.model">bm.model</code></td>
<td>
<p>a <code>biomod2_model</code> object (or <code>nnet</code>, <code>rpart</code>, <code>fda</code>, 
<code>gam</code>, <code>glm</code>, <code>lm</code>, <code>gbm</code>, <code>mars</code>, <code>randomForest</code>), <code>xgb.Booster</code> that can be 
obtained with the <code><a href="#topic+get_formal_model">get_formal_model</a></code> function</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_expl.var">expl.var</code></td>
<td>
<p>a <code>data.frame</code> containing the explanatory variables that will be used to 
compute the variables importance</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_variables">variables</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing the names of the explanatory variables that will be considered</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_method">method</code></td>
<td>
<p>a <code>character</code> corresponding to the randomisation method to be used, must be 
<code>full_rand</code> (<em>only method available so far</em>)</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_nb.rep">nb.rep</code></td>
<td>
<p>an <code>integer</code> corresponding to the number of permutations to be done for 
each variable</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_seed.val">seed.val</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
An <code>integer</code> value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_do.progress">do.progress</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> value defining whether the progress bar is to be rendered or not</p>
</td></tr>
<tr><td><code id="bm_VariablesImportance_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each variable to be evaluated :
</p>

<ol>
<li><p> shuffle the original variable
</p>
</li>
<li><p> compute model prediction with shuffled variable
</p>
</li>
<li><p> calculate Pearson's correlation between reference and shuffled predictions
</p>
</li>
<li><p> return score as <code>1 - cor</code>
</p>
</li></ol>

<p>The highest the value, the less reference and shuffled predictions are correlated, and the 
more influence the variable has on the model. A value of <code>0</code> assumes no influence of 
the variable on the model.
</p>
<p><em>Note that this calculation does not account for variables' interactions.</em>
</p>
<p>The same principle is used in <code><a href="randomForest.html#topic+randomForest">randomForest</a></code>.
</p>


<h3>Value</h3>

<p>A <code>3</code> columns <code>data.frame</code> containing variable's importance scores for each 
permutation run :
</p>

<ul>
<li><p><code>expl.var</code> : the considered explanatory variable (the one permuted)
</p>
</li>
<li><p><code>rand</code> : the ID of the permutation run
</p>
</li>
<li><p><code>var.imp</code> : the variable's importance score
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="randomForest.html#topic+randomForest">randomForest</a></code>, 
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a></code>, <code><a href="#topic+BIOMOD_Modeling">BIOMOD_Modeling</a></code>, 
<code><a href="#topic+BIOMOD_EnsembleModeling">BIOMOD_EnsembleModeling</a></code>, <code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a></code>, 
<code><a href="#topic+get_variables_importance">get_variables_importance</a></code>
</p>
<p>Other Secundary functions: 
<code><a href="#topic+bm_BinaryTransformation">bm_BinaryTransformation</a>()</code>,
<code><a href="#topic+bm_CVnnet">bm_CVnnet</a>()</code>,
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a>()</code>,
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a>()</code>,
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a>()</code>,
<code><a href="#topic+bm_PlotEvalBoxplot">bm_PlotEvalBoxplot</a>()</code>,
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a>()</code>,
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a>()</code>,
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a>()</code>,
<code><a href="#topic+bm_PlotVarImpBoxplot">bm_PlotVarImpBoxplot</a>()</code>,
<code><a href="#topic+bm_PseudoAbsences">bm_PseudoAbsences</a>()</code>,
<code><a href="#topic+bm_RunModelsLoop">bm_RunModelsLoop</a>()</code>,
<code><a href="#topic+bm_SRE">bm_SRE</a>()</code>,
<code><a href="#topic+bm_SampleBinaryVector">bm_SampleBinaryVector</a>()</code>,
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Create simple simulated data
myResp.s &lt;- sample(c(0, 1), 20, replace = TRUE)
myExpl.s &lt;- data.frame(var1 = sample(c(0, 1), 100, replace = TRUE),
                       var2 = rnorm(100),
                       var3 = 1:100)

## Compute variables importance
mod &lt;- glm(var1 ~ var2 + var3, data = myExpl.s)
bm_VariablesImportance(bm.model = mod, 
                       expl.var = myExpl.s[, c('var2', 'var3')],
                       method = "full_rand",
                       nb.rep = 3)


</code></pre>

<hr>
<h2 id='calculate.stat-deprecated'>calculate.stat</h2><span id='topic+calculate.stat-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_CalculateStat">bm_CalculateStat</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate.stat(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate.stat-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='check_duplicated_cells'>Check duplicated cells</h2><span id='topic+check_duplicated_cells'></span>

<h3>Description</h3>

<p>Identify data that are contained in the same raster cells ; 
print warnings if need be and filter those data if asked for.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_duplicated_cells(env, xy, sp, filter.raster, PA.user.table = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_duplicated_cells_+3A_env">env</code></td>
<td>
<p>a <code>SpatRaster</code> with environmental data</p>
</td></tr>
<tr><td><code id="check_duplicated_cells_+3A_xy">xy</code></td>
<td>
<p>a <code>data.frame</code> with coordinates</p>
</td></tr>
<tr><td><code id="check_duplicated_cells_+3A_sp">sp</code></td>
<td>
<p>a <code>vector</code> with species occurrence data</p>
</td></tr>
<tr><td><code id="check_duplicated_cells_+3A_filter.raster">filter.raster</code></td>
<td>
<p>a <code>boolean</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code>
</p>

<hr>
<h2 id='CustomIndexMaker-deprecated'>CustomIndexMaker</h2><span id='topic+CustomIndexMaker-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function used in <span class="pkg">biomod2</span> 3.5.1 to replace
default html index file by a custom one if defined
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CustomIndexMaker(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CustomIndexMaker-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+CustomIndexMaker-deprecated">CustomIndexMaker-deprecated</a></code>
</p>

<hr>
<h2 id='DataSpecies'>Presence-Absence data to build test SDM</h2><span id='topic+DataSpecies'></span>

<h3>Description</h3>

<p>A dataset covering all the continent with presence/absence data for 6 mammal
species. Presence/absence were derived from range maps downloaded at 
<a href="https://www.iucnredlist.org/">IUCN</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataSpecies
</code></pre>


<h3>Format</h3>

<p>A data frame with 2488 rows and 10 variables:
</p>

<dl>
<dt>X_WGS84</dt><dd><p>Longitude</p>
</dd>
<dt>Y_WGS84</dt><dd><p>Latitude</p>
</dd>
<dt>ConnochaetesGnou</dt><dd><p>Presence (1) or Absence (0) for black wildebeest</p>
</dd>
<dt>GuloGulo</dt><dd><p>Presence (1) or Absence (0) for wolverine</p>
</dd>
<dt>PantheraOnca</dt><dd><p>Presence (1) or Absence (0) for jaguar</p>
</dd>
<dt>PteropusGiganteus</dt><dd><p>Presence (1) or Absence (0) for indian flying fox</p>
</dd>
<dt>TenrecEcaudatus</dt><dd><p>Presence (1) or Absence (0) for tailless tenrec</p>
</dd>
<dt>VulpesVulpes</dt><dd><p>Presence (1) or Absence (0) for red fox</p>
</dd>
</dl>


<hr>
<h2 id='FilteringTransformation-deprecated'>FilteringTransformation</h2><span id='topic+FilteringTransformation-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+BinaryTransformation">BinaryTransformation</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FilteringTransformation(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FilteringTransformation-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='Find.Optim.Stat-deprecated'>Find.Optim.Stat</h2><span id='topic+Find.Optim.Stat-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_FindOptimStat">bm_FindOptimStat</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Find.Optim.Stat(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Find.Optim.Stat-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='getStatOptimValue-deprecated'>getStatOptimValue</h2><span id='topic+getStatOptimValue-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+get_optim_value">get_optim_value</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getStatOptimValue(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getStatOptimValue-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='getters.bm'>Functions to extract informations from <code><a href="#topic+biomod2_model">biomod2_model</a></code> objects</h2><span id='topic+getters.bm'></span><span id='topic+get_formal_model'></span><span id='topic+get_scaling_model'></span><span id='topic+get_formal_model+2Cbiomod2_model-method'></span><span id='topic+get_scaling_model+2Cbiomod2_model-method'></span>

<h3>Description</h3>

<p>These functions allow the user to easily retrieve single models (formal or scaled) 
from <code><a href="#topic+biomod2_model">biomod2_model</a></code> objects from the modeling step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'biomod2_model'
get_formal_model(object)

## S4 method for signature 'biomod2_model'
get_scaling_model(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getters.bm_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_model">biomod2_model</a></code> object</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>get_formal_model</code></dt><dd><p>an object from the <code>model</code> slot of a 
<code><a href="#topic+biomod2_model">biomod2_model</a></code> object</p>
</dd>
<dt><code>get_scaling_model</code></dt><dd><p>an object from the <code>scaling_model</code> slot of a 
<code><a href="#topic+biomod2_model">biomod2_model</a></code> object</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.out">getters.out</a></code>,
<code><a href="#topic+load_stored_object">load_stored_object</a>()</code>,
<code><a href="#topic+predict.bm">predict.bm</a></code>,
<code><a href="#topic+predict.em">predict.em</a></code>,
<code><a href="#topic+predict2.bm">predict2.bm</a></code>,
<code><a href="#topic+predict2.em">predict2.em</a></code>
</p>

<hr>
<h2 id='getters.out'>Functions to extract informations from <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, 
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code> or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> objects</h2><span id='topic+getters.out'></span><span id='topic+get_species_data'></span><span id='topic+get_eval_data'></span><span id='topic+get_options'></span><span id='topic+get_calib_lines'></span><span id='topic+get_formal_data'></span><span id='topic+get_projected_models'></span><span id='topic+free'></span><span id='topic+get_predictions'></span><span id='topic+get_kept_models'></span><span id='topic+get_built_models'></span><span id='topic+get_evaluations'></span><span id='topic+get_variables_importance'></span><span id='topic+get_species_data+2CBIOMOD.formated.data-method'></span><span id='topic+get_species_data+2CBIOMOD.formated.data.PA-method'></span><span id='topic+get_eval_data+2CBIOMOD.formated.data-method'></span><span id='topic+get_options+2CBIOMOD.models.out-method'></span><span id='topic+get_calib_lines+2CBIOMOD.models.out-method'></span><span id='topic+get_formal_data+2CBIOMOD.models.out-method'></span><span id='topic+get_predictions+2CBIOMOD.models.out-method'></span><span id='topic+get_built_models+2CBIOMOD.models.out-method'></span><span id='topic+get_evaluations+2CBIOMOD.models.out-method'></span><span id='topic+get_variables_importance+2CBIOMOD.models.out-method'></span><span id='topic+get_projected_models+2CBIOMOD.projection.out-method'></span><span id='topic+free+2CBIOMOD.projection.out-method'></span><span id='topic+get_predictions+2CBIOMOD.projection.out-method'></span><span id='topic+get_formal_data+2CBIOMOD.ensemble.models.out-method'></span><span id='topic+get_built_models+2CBIOMOD.ensemble.models.out-method'></span><span id='topic+get_kept_models+2CBIOMOD.ensemble.models.out-method'></span><span id='topic+get_predictions+2CBIOMOD.ensemble.models.out-method'></span><span id='topic+get_evaluations+2CBIOMOD.ensemble.models.out-method'></span><span id='topic+get_variables_importance+2CBIOMOD.ensemble.models.out-method'></span>

<h3>Description</h3>

<p>These functions allow the user to easily retrieve informations stored in the 
different <span class="pkg">biomod2</span> objects from the different modeling steps, such as modeling options 
and formated data, models used or not, predictions, evaluations, variables importance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.formated.data'
get_species_data(obj)

## S4 method for signature 'BIOMOD.formated.data.PA'
get_species_data(obj)

## S4 method for signature 'BIOMOD.formated.data'
get_eval_data(obj)

## S4 method for signature 'BIOMOD.models.out'
get_options(obj)

## S4 method for signature 'BIOMOD.models.out'
get_calib_lines(obj, as.data.frame = FALSE, PA = NULL, run = NULL)

## S4 method for signature 'BIOMOD.models.out'
get_formal_data(obj, subinfo = NULL)

## S4 method for signature 'BIOMOD.models.out'
get_predictions(
  obj,
  evaluation = FALSE,
  full.name = NULL,
  PA = NULL,
  run = NULL,
  algo = NULL,
  model.as.col = FALSE
)

## S4 method for signature 'BIOMOD.models.out'
get_built_models(obj, full.name = NULL, PA = NULL, run = NULL, algo = NULL)

## S4 method for signature 'BIOMOD.models.out'
get_evaluations(
  obj,
  full.name = NULL,
  PA = NULL,
  run = NULL,
  algo = NULL,
  metric.eval = NULL
)

## S4 method for signature 'BIOMOD.models.out'
get_variables_importance(
  obj,
  full.name = NULL,
  PA = NULL,
  run = NULL,
  algo = NULL,
  expl.var = NULL
)

## S4 method for signature 'BIOMOD.projection.out'
get_projected_models(
  obj,
  full.name = NULL,
  PA = NULL,
  run = NULL,
  algo = NULL,
  merged.by.algo = NULL,
  merged.by.run = NULL,
  merged.by.PA = NULL,
  filtered.by = NULL
)

## S4 method for signature 'BIOMOD.projection.out'
free(obj)

## S4 method for signature 'BIOMOD.projection.out'
get_predictions(
  obj,
  metric.binary = NULL,
  metric.filter = NULL,
  full.name = NULL,
  PA = NULL,
  run = NULL,
  algo = NULL,
  merged.by.algo = NULL,
  merged.by.run = NULL,
  merged.by.PA = NULL,
  filtered.by = NULL,
  model.as.col = FALSE,
  ...
)

## S4 method for signature 'BIOMOD.ensemble.models.out'
get_formal_data(obj, subinfo = NULL)

## S4 method for signature 'BIOMOD.ensemble.models.out'
get_built_models(
  obj,
  full.name = NULL,
  merged.by.algo = NULL,
  merged.by.run = NULL,
  merged.by.PA = NULL,
  filtered.by = NULL,
  algo = NULL
)

## S4 method for signature 'BIOMOD.ensemble.models.out'
get_kept_models(obj)

## S4 method for signature 'BIOMOD.ensemble.models.out'
get_predictions(
  obj,
  evaluation = FALSE,
  full.name = NULL,
  merged.by.algo = NULL,
  merged.by.run = NULL,
  merged.by.PA = NULL,
  filtered.by = NULL,
  algo = NULL,
  model.as.col = FALSE
)

## S4 method for signature 'BIOMOD.ensemble.models.out'
get_evaluations(
  obj,
  full.name = NULL,
  merged.by.algo = NULL,
  merged.by.run = NULL,
  merged.by.PA = NULL,
  filtered.by = NULL,
  algo = NULL,
  metric.eval = NULL
)

## S4 method for signature 'BIOMOD.ensemble.models.out'
get_variables_importance(
  obj,
  full.name = NULL,
  merged.by.algo = NULL,
  merged.by.run = NULL,
  merged.by.PA = NULL,
  filtered.by = NULL,
  algo = NULL,
  expl.var = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getters.out_+3A_obj">obj</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code>, <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>, 
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code> or 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</td></tr>
<tr><td><code id="getters.out_+3A_as.data.frame">as.data.frame</code></td>
<td>
<p>a <code>logical</code> defining whether output should be returned as 
<code>data.frame</code> or <code>array</code> object</p>
</td></tr>
<tr><td><code id="getters.out_+3A_pa">PA</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing pseudo-absence set to be loaded, must be among <code>PA1</code>, 
<code>PA2</code>, <code>...</code>, <code>allData</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_run">run</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing repetition set to be loaded, must be among <code>RUN1</code>, 
<code>RUN2</code>, <code>...</code>, <code>allRun</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_subinfo">subinfo</code></td>
<td>
<p>a <code>character</code> corresponding to the information to be extracted, must be 
among <code>NULL</code>, <code>expl.var.names</code>, <code>resp.var</code>, <code>expl.var</code>, <code>MinMax</code>, 
<code>eval.resp.var</code>, <code>eval.expl.var</code> (see Details)</p>
</td></tr>
<tr><td><code id="getters.out_+3A_evaluation">evaluation</code></td>
<td>
<p>a <code>logical</code> defining whether evaluation data should be used or not</p>
</td></tr>
<tr><td><code id="getters.out_+3A_full.name">full.name</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing model names to be kept, must be either <code>all</code> or a 
sub-selection of model names that can be obtained with the <code><a href="#topic+get_built_models">get_built_models</a></code> 
function</p>
</td></tr>
<tr><td><code id="getters.out_+3A_algo">algo</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>character</code> containing algorithm to be loaded, must be either <code>GLM</code>, 
<code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, <code>MARS</code>, 
<code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>, <code>XGBOOST</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_model.as.col">model.as.col</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>) <br />
A <code>boolean</code> given to <code><a href="#topic+get_predictions">get_predictions</a></code>. If <code>TRUE</code> 
prediction are returned as a wide <code>data.frame</code> with each column containing
predictions for a single model and corresponding to the old output given by
<span class="pkg">biomod2</span> in version &lt; 4.2-2. If <code>FALSE</code> predictions are returned 
as a long <code>data.frame</code> with many additional informations readily 
available.</p>
</td></tr>
<tr><td><code id="getters.out_+3A_metric.eval">metric.eval</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric to be kept, must be among <code>ROC</code>, 
<code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, <code>FAR</code>, 
<code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_expl.var">expl.var</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing explanatory variables to be kept, that can be obtained with the 
<code><a href="#topic+get_formal_data">get_formal_data</a>(obj, subinfo = 'expl.var.names')</code> function</p>
</td></tr>
<tr><td><code id="getters.out_+3A_merged.by.algo">merged.by.algo</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>character</code> containing merged algorithm to be loaded, must be among <code>GLM</code>, 
<code>GBM</code>, <code>GAM</code>, <code>CTA</code>, <code>ANN</code>, <code>SRE</code>, <code>FDA</code>, <code>MARS</code>, 
<code>RF</code>, <code>MAXENT</code>, <code>MAXNET</code>, <code>XGBOOST</code>, <code>mergedAlgo</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_merged.by.run">merged.by.run</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing merged repetition set to be loaded, must be among <code>RUN1</code>, 
<code>RUN2</code>, <code>...</code>, <code>mergedRun</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_merged.by.pa">merged.by.PA</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing merged pseudo-absence set to be loaded, must be among <code>PA1</code>, 
<code>PA2</code>, <code>...</code>, <code>mergedData</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_filtered.by">filtered.by</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric selected to filter single models to build the 
ensemble models, must be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, 
<code>BIAS</code>, <code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, 
<code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_metric.binary">metric.binary</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric selected to transform predictions into binary 
values, must be among <code>ROC</code>, <code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, 
<code>POD</code>, <code>FAR</code>, <code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, 
<code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_metric.filter">metric.filter</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> 
A <code>vector</code> containing evaluation metric to filter predictions, must be among <code>ROC</code>, 
<code>TSS</code>, <code>KAPPA</code>, <code>ACCURACY</code>, <code>BIAS</code>, <code>POD</code>, <code>FAR</code>, 
<code>POFD</code>, <code>SR</code>, <code>CSI</code>, <code>ETS</code>, <code>HK</code>, <code>HSS</code>, <code>OR</code>, <code>ORSS</code></p>
</td></tr>
<tr><td><code id="getters.out_+3A_...">...</code></td>
<td>
<p>(<em>optional, one or several of the following arguments depending on the selected 
function</em>)</p>
</td></tr>
</table>


<h3>Value</h3>


<dl>
<dt><code>get_species_data</code></dt><dd><p>a <code>data.frame</code> combining <code>data.species</code>, 
<code>coord</code>, <code>data.env.var</code> (and <code>PA.table</code>) slots of 
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> (or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>) object</p>
</dd>
<dt><code>get_eval_data</code></dt><dd><p>a <code>data.frame</code> combining <code>eval.data.species</code>, 
<code>eval.coord</code>, <code>eval.data.env.var</code> slots of 
<code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code> object</p>
</dd>
<dt><code>get_options</code></dt><dd><p>a
<code><a href="#topic+BIOMOD.stored.models.options-class">BIOMOD.stored.models.options-class</a></code> object from the
<code>models.options</code> slot of a <code><a href="#topic+BIOMOD.models.out-class">BIOMOD.models.out-class</a></code>
object</p>
</dd> <dt><code>get_calib_lines</code></dt><dd><p>a
<code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> object from the <code>calib.lines</code>
slot of a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> object</p>
</dd>
<dt><code>get_projected_models</code></dt><dd><p>a <code>vector</code> from the
<code>models.projected</code> slot of a <code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>
object</p>
</dd>
<dt><code>get_predictions</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code> object
from the <code>proj.out</code> slot of a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>,
<code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>get_kept_models</code></dt><dd><p>a <code>vector</code> containing names of the kept
models of a <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>get_formal_data</code></dt><dd><p>depending on the <code>subinfo</code> parameter :
</p>

<dl>
<dt><code>NULL</code></dt><dd><p>a <code><a href="#topic+BIOMOD.stored.formated.data-class">BIOMOD.stored.formated.data-class</a></code> (or
<code><a href="#topic+BIOMOD.stored.models.out-class">BIOMOD.stored.models.out-class</a></code>) object from the
<code>formated.input.data</code> (or <code>models.out</code>) slot of a
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> (or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>) object</p>
</dd>
<dt><code>expl.var.names</code></dt><dd><p>a <code>vector</code> from the
<code>expl.var.names</code> slot of a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>resp.var</code></dt><dd><p>a <code>vector</code> from the <code>data.species</code> slot
of the <code>formated.input.data</code> slot of a
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>expl.var</code></dt><dd><p>a <code>data.frame</code> from the <code>data.env.var</code>
slot of the <code>formated.input.data</code> slot of a
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>MinMax</code></dt><dd><p>a <code>list</code> of minimum and maximum values (or
levels if factorial) of variable contained in the <code>data.env.var</code>
slot of the <code>formated.input.data</code> slot of a
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>eval.resp.var</code></dt><dd><p>a <code>vector</code> from the
<code>eval.data.species</code> slot of the <code>formated.input.data</code> slot of
a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
<dt><code>eval.expl.var</code></dt><dd><p>a <code>data.frame</code> from the
<code>eval.data.env.var</code> slot of the <code>formated.input.data</code> slot of
a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code> object</p>
</dd>
</dl>

</dd>
<dt><code>get_built_models</code></dt><dd><p>a <code>vector</code> from the
<code>models.computed</code> slot (or <code>em.computed</code>) of a
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> (or
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>) object</p>
</dd>
<dt><code>get_evaluations</code></dt><dd><p>a data.frame from the <code>models.evaluation</code>
slot (or <code>model_evaluation</code> of each model in <code>em.computed</code>) of a
<code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code> (or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>)
object. Contains evaluation metric for different models and dataset. 
Evaluation metric are calculated on the calibrating data (column calibration),
on the cross-validation data (column validation) or on the evaluation data
(column evaluation)</p>
</dd>
<dt><code>get_variables_importance</code></dt><dd><p>a
<code><a href="#topic+BIOMOD.stored.data.frame-class">BIOMOD.stored.data.frame-class</a></code> from
the <code>variables.importance</code> slot (or <code>model_variables_importance</code>
of each model in <code>em.models</code>) of a <code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>
(or <code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>) object</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.models.out">BIOMOD.models.out</a></code>, <code><a href="#topic+BIOMOD.projection.out">BIOMOD.projection.out</a></code>, 
<code><a href="#topic+BIOMOD.ensemble.models.out">BIOMOD.ensemble.models.out</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.bm">getters.bm</a></code>,
<code><a href="#topic+load_stored_object">load_stored_object</a>()</code>,
<code><a href="#topic+predict.bm">predict.bm</a></code>,
<code><a href="#topic+predict.em">predict.em</a></code>,
<code><a href="#topic+predict2.bm">predict2.bm</a></code>,
<code><a href="#topic+predict2.em">predict2.em</a></code>
</p>

<hr>
<h2 id='load_stored_object'>Functions to load <code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code> objects</h2><span id='topic+load_stored_object'></span><span id='topic+load_stored_object+2CBIOMOD.stored.data-method'></span><span id='topic+load_stored_object+2CBIOMOD.stored.SpatRaster-method'></span>

<h3>Description</h3>

<p>This functions allow the user to load <code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code> objects 
into memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_stored_object(obj, ...)

## S4 method for signature 'BIOMOD.stored.data'
load_stored_object(obj, layer = 1)

## S4 method for signature 'BIOMOD.stored.SpatRaster'
load_stored_object(obj, layer = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_stored_object_+3A_obj">obj</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code> object</p>
</td></tr>
<tr><td><code id="load_stored_object_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="load_stored_object_+3A_layer">layer</code></td>
<td>
<p>an <code>integer</code> corresponding to the layer ID to be extracted
when multilayer object considered</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+BIOMOD.stored.data">BIOMOD.stored.data</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.bm">getters.bm</a></code>,
<code><a href="#topic+getters.out">getters.out</a></code>,
<code><a href="#topic+predict.bm">predict.bm</a></code>,
<code><a href="#topic+predict.em">predict.em</a></code>,
<code><a href="#topic+predict2.bm">predict2.bm</a></code>,
<code><a href="#topic+predict2.em">predict2.em</a></code>
</p>

<hr>
<h2 id='makeFormula-deprecated'>makeFormula</h2><span id='topic+makeFormula-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_MakeFormula">bm_MakeFormula</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeFormula(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeFormula-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='models_scores_graph-deprecated'>models_scores_graph</h2><span id='topic+models_scores_graph-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_PlotEvalMean">bm_PlotEvalMean</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>models_scores_graph(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="models_scores_graph-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='plot+2CBIOMOD.formated.data+2Cmissing-method'><code>plot</code> method for <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> object class</h2><span id='topic+plot+2CBIOMOD.formated.data+2Cmissing-method'></span>

<h3>Description</h3>

<p>Plot the spatial distribution of presences, absences and 
pseudo-absences among the different potential dataset (calibration, 
validation and evaluation). Available only if coordinates were given to 
<code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.formated.data,missing'
plot(
  x,
  calib.lines = NULL,
  plot.type,
  plot.output,
  PA,
  run,
  plot.eval,
  do.plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code>
object. Coordinates must be available to be able to use <code>plot</code>.</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_calib.lines">calib.lines</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
an <code>array</code> object returned by <code><a href="#topic+get_calib_lines">get_calib_lines</a></code> or 
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code> functions, to explore the distribution of calibration 
and validation datasets</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_plot.type">plot.type</code></td>
<td>
<p>a <code>character</code>, either <code>'points'</code> (<em>default</em>) 
or <code>'raster'</code> (<em>if environmental variables were given as a raster</em>). 
With <code>plot.type = 'points'</code> occurrences will be represented as points
(better when using fine-grained data). With <code>plot.type = 'raster'</code>
occurrences will be represented as a raster (better when using coarse-grained
data)</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_plot.output">plot.output</code></td>
<td>
<p>a <code>character</code>, either <code>'facet'</code> (<em>default</em>) 
or <code>'list'</code>. <code>plot.output</code> determines whether plots are returned
as a single facet with all plots or a <code>list</code> of individual plots
(better when there are numerous graphics)</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_pa">PA</code></td>
<td>
<p>(<em>optional, default</em> <code>'all'</code>) <br /> 
If <code>x</code> is a <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code> object, a <code>vector</code> 
containing pseudo-absence set to be represented</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_run">run</code></td>
<td>
<p>(<em>optional, default</em> <code>'all'</code>) <br /> 
If <code>calib.lines</code> provided, a <code>vector</code> containing repetition set to 
be represented</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_plot.eval">plot.eval</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> defining whether evaluation data should be added to the plot or not</p>
</td></tr>
<tr><td><code id="plot+2B2CBIOMOD.formated.data+2B2Cmissing-method_+3A_do.plot">do.plot</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br /> 
A <code>logical</code> defining whether the plot is to be rendered or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code> with the data used to generate the plot and a
<code>ggplot2</code> object
</p>


<h3>Author(s)</h3>

<p>Remi Patin
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)
myBiomodData
plot(myBiomodData)


</code></pre>

<hr>
<h2 id='predict.bm'>Functions to get predictions from <code><a href="#topic+biomod2_model">biomod2_model</a></code> objects</h2><span id='topic+predict.bm'></span><span id='topic+predict.biomod2_model'></span><span id='topic+predict+2Cbiomod2_model-method'></span>

<h3>Description</h3>

<p>This function allows the user to predict single models from 
<code><a href="#topic+biomod2_model">biomod2_model</a></code> on (new) explanatory variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'biomod2_model'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.bm_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_model">biomod2_model</a></code> object</p>
</td></tr>
<tr><td><code id="predict.bm_+3A_newdata">newdata</code></td>
<td>
<p>a <code>data.frame</code> or
<code><a href="terra.html#topic+SpatRaster">SpatRaster</a></code> object 
containing data for new predictions</p>
</td></tr>
<tr><td><code id="predict.bm_+3A_...">...</code></td>
<td>
<p>(<em>optional</em>)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.bm">getters.bm</a></code>,
<code><a href="#topic+getters.out">getters.out</a></code>,
<code><a href="#topic+load_stored_object">load_stored_object</a>()</code>,
<code><a href="#topic+predict.em">predict.em</a></code>,
<code><a href="#topic+predict2.bm">predict2.bm</a></code>,
<code><a href="#topic+predict2.em">predict2.em</a></code>
</p>

<hr>
<h2 id='predict.em'>Functions to get predictions from <code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> objects</h2><span id='topic+predict.em'></span>

<h3>Description</h3>

<p>This function allows the user to predict single models from 
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> on (new) explanatory variables.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.em_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> object</p>
</td></tr>
<tr><td><code id="predict.em_+3A_newdata">newdata</code></td>
<td>
<p>a <code>data.frame</code> or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object 
containing data for new predictions</p>
</td></tr>
<tr><td><code id="predict.em_+3A_...">...</code></td>
<td>
<p>(<em>optional</em>)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Damien Georges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.bm">getters.bm</a></code>,
<code><a href="#topic+getters.out">getters.out</a></code>,
<code><a href="#topic+load_stored_object">load_stored_object</a>()</code>,
<code><a href="#topic+predict.bm">predict.bm</a></code>,
<code><a href="#topic+predict2.bm">predict2.bm</a></code>,
<code><a href="#topic+predict2.em">predict2.em</a></code>
</p>

<hr>
<h2 id='predict2.bm'>Functions to get predictions from <code><a href="#topic+biomod2_model">biomod2_model</a></code> objects</h2><span id='topic+predict2.bm'></span><span id='topic+predict2'></span><span id='topic+predict2.biomod2_model.SpatRaster'></span><span id='topic+predict2.biomod2_model.data.frame'></span><span id='topic+predict2.ANN_biomod2_model.SpatRaster'></span><span id='topic+predict2.ANN_biomod2_model.data.frame'></span><span id='topic+predict2.CTA_biomod2_model.SpatRaster'></span><span id='topic+predict2.CTA_biomod2_model.data.frame'></span><span id='topic+predict2.FDA_biomod2_model.SpatRaster'></span><span id='topic+predict2.FDA_biomod2_model.data.frame'></span><span id='topic+predict2.GAM_biomod2_model.SpatRaster'></span><span id='topic+predict2.GAM_biomod2_model.data.frame'></span><span id='topic+predict2.GBM_biomod2_model.SpatRaster'></span><span id='topic+predict2.GBM_biomod2_model.data.frame'></span><span id='topic+predict2.GLM_biomod2_model.SpatRaster'></span><span id='topic+predict2.GLM_biomod2_model.data.frame'></span><span id='topic+predict2.MARS_biomod2_model.SpatRaster'></span><span id='topic+predict2.MARS_biomod2_model.data.frame'></span><span id='topic+predict2.MAXENT_biomod2_model.data.frame'></span><span id='topic+predict2.MAXNET_biomod2_model.SpatRaster'></span><span id='topic+predict2.MAXNET_biomod2_model.data.frame'></span><span id='topic+predict2.RF_biomod2_model.SpatRaster'></span><span id='topic+predict2.RF_biomod2_model.data.frame'></span><span id='topic+predict2.SRE_biomod2_model.SpatRaster'></span><span id='topic+predict2.SRE_biomod2_model.data.frame'></span><span id='topic+predict2+2Cbiomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2Cbiomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CANN_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CANN_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CCTA_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CCTA_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CFDA_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CFDA_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CGAM_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CGAM_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CGBM_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CGBM_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CGLM_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CGLM_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CMARS_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CMARS_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CMAXENT_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CMAXENT_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CMAXNET_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CMAXNET_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CRF_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CRF_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CSRE_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CSRE_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CXGBOOST_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CXGBOOST_biomod2_model+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>Internal S4 method used to predict single models from 
<code><a href="#topic+biomod2_model">biomod2_model</a></code> on (new) explanatory variables. <code>predict2</code> 
was introduced to allow a signature with two arguments : <code>object</code>, 
a type of <code><a href="#topic+biomod2_model">biomod2_model</a></code> and <code>newdata</code>, either a
<code><a href="terra.html#topic+SpatRaster">SpatRaster</a></code> or a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict2(object, newdata, ...)

## S4 method for signature 'biomod2_model,SpatRaster'
predict2(object, newdata, predfun, seedval = NULL, ...)

## S4 method for signature 'biomod2_model,data.frame'
predict2(object, newdata, predfun, seedval = NULL, ...)

## S4 method for signature 'ANN_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'ANN_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'CTA_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'CTA_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'FDA_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'FDA_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'GAM_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'GAM_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'GBM_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'GBM_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'GLM_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'GLM_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'MARS_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'MARS_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'MAXENT_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'MAXENT_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'MAXNET_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'MAXNET_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'RF_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'RF_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'SRE_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'SRE_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'XGBOOST_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'XGBOOST_biomod2_model,data.frame'
predict2(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict2.bm_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_model">biomod2_model</a></code> object</p>
</td></tr>
<tr><td><code id="predict2.bm_+3A_newdata">newdata</code></td>
<td>
<p>a <code>data.frame</code> or
<code><a href="terra.html#topic+SpatRaster">SpatRaster</a></code> object containing data for new
predictions</p>
</td></tr>
<tr><td><code id="predict2.bm_+3A_predfun">predfun</code></td>
<td>
<p>a <code>function</code>, generated by the <code>predict2</code> method
specific to each <code><a href="#topic+biomod2_model">biomod2_model</a></code> subclass and used within the
generic <code>predict2.biomod2_model.SpatRaster</code> or
<code>predict2.biomod2_model.data.frame</code> to do the prediction</p>
</td></tr>
<tr><td><code id="predict2.bm_+3A_seedval">seedval</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> An <code>integer</code>
value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="predict2.bm_+3A_...">...</code></td>
<td>
<p>(<em>optional)</em>)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Remi Patin
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2_model">biomod2_model</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.bm">getters.bm</a></code>,
<code><a href="#topic+getters.out">getters.out</a></code>,
<code><a href="#topic+load_stored_object">load_stored_object</a>()</code>,
<code><a href="#topic+predict.bm">predict.bm</a></code>,
<code><a href="#topic+predict.em">predict.em</a></code>,
<code><a href="#topic+predict2.em">predict2.em</a></code>
</p>

<hr>
<h2 id='predict2.em'>Functions to get predictions from <code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> objects</h2><span id='topic+predict2.em'></span><span id='topic+predict2.biomod2_ensemble_model.SpatRaster'></span><span id='topic+predict2.biomod2_ensemble_model.data.frame'></span><span id='topic+predict2.EMmean_biomod2_model.SpatRaster'></span><span id='topic+predict2.EMmean_biomod2_model.data.frame'></span><span id='topic+predict2.EMmedian_biomod2_model.SpatRaster'></span><span id='topic+predict2.EMmedian_biomod2_model.data.frame'></span><span id='topic+predict2.EMcv_biomod2_model.SpatRaster'></span><span id='topic+predict2.EMcv_biomod2_model.data.frame'></span><span id='topic+predict2.EMci_biomod2_model.SpatRaster'></span><span id='topic+predict2.EMci_biomod2_model.data.frame'></span><span id='topic+predict2.EMca_biomod2_model.SpatRaster'></span><span id='topic+predict2.EMca_biomod2_model.data.frame'></span><span id='topic+predict2.EMwmean_biomod2_model.SpatRaster'></span><span id='topic+predict2.EMwmean_biomod2_model.data.frame'></span><span id='topic+predict2+2Cbiomod2_ensemble_model+2CSpatRaster-method'></span><span id='topic+predict2+2Cbiomod2_ensemble_model+2Cdata.frame-method'></span><span id='topic+predict2+2CEMmean_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CEMmean_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CEMmedian_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CEMmedian_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CEMcv_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CEMcv_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CEMci_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CEMci_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CEMca_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CEMca_biomod2_model+2Cdata.frame-method'></span><span id='topic+predict2+2CEMwmean_biomod2_model+2CSpatRaster-method'></span><span id='topic+predict2+2CEMwmean_biomod2_model+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>This function allows the user to predict single models from 
<code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> on (new) explanatory variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'biomod2_ensemble_model,SpatRaster'
predict2(object, newdata, predfun, seedval = NULL, ...)

## S4 method for signature 'biomod2_ensemble_model,data.frame'
predict2(object, newdata, predfun, seedval = NULL, ...)

## S4 method for signature 'EMmean_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'EMmean_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'EMmedian_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'EMmedian_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'EMcv_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'EMcv_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'EMci_biomod2_model,SpatRaster'
predict2(object, newdata, ...)

## S4 method for signature 'EMci_biomod2_model,data.frame'
predict2(object, newdata, ...)

## S4 method for signature 'EMca_biomod2_model,SpatRaster'
predict2(object, newdata, data_as_formal_predictions = FALSE, ...)

## S4 method for signature 'EMca_biomod2_model,data.frame'
predict2(object, newdata, data_as_formal_predictions = FALSE, ...)

## S4 method for signature 'EMwmean_biomod2_model,SpatRaster'
predict2(object, newdata, data_as_formal_predictions = FALSE, ...)

## S4 method for signature 'EMwmean_biomod2_model,data.frame'
predict2(object, newdata, data_as_formal_predictions = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict2.em_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code> object</p>
</td></tr>
<tr><td><code id="predict2.em_+3A_newdata">newdata</code></td>
<td>
<p>a <code>data.frame</code> or <code><a href="terra.html#topic+rast">SpatRaster</a></code> object 
containing data for new predictions</p>
</td></tr>
<tr><td><code id="predict2.em_+3A_predfun">predfun</code></td>
<td>
<p>a <code>function</code>, generated by the <code>predict2</code> method
specific to each <code><a href="#topic+biomod2_model">biomod2_model</a></code> subclass and used within the
generic <code>predict2.biomod2_model.SpatRaster</code> or
<code>predict2.biomod2_model.data.frame</code> to do the prediction</p>
</td></tr>
<tr><td><code id="predict2.em_+3A_seedval">seedval</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br /> An <code>integer</code>
value corresponding to the new seed value to be set</p>
</td></tr>
<tr><td><code id="predict2.em_+3A_data_as_formal_predictions">data_as_formal_predictions</code></td>
<td>
<p>(<em>optional, default</em> <code>FALSE</code>). A
<code>boolean</code> describing whether <code>newdata</code> is given as raw environmental 
data (<code>FALSE</code>) or as formal predictions of the individual models 
used to build the ensemble model (<code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="predict2.em_+3A_na.rm">na.rm</code></td>
<td>
<p>(<em>optional, default</em> <code>TRUE</code>) <br />
A boolean defining whether Ensemble Model projection should ignore <code>NA</code>
in Individual Model projection. Argument ignored by EWmean ensemble algorithm.</p>
</td></tr>
<tr><td><code id="predict2.em_+3A_...">...</code></td>
<td>
<p>(<em>optional</em>)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Remi Patin
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2_ensemble_model">biomod2_ensemble_model</a></code>
</p>
<p>Other Toolbox functions: 
<code><a href="#topic+getters.bm">getters.bm</a></code>,
<code><a href="#topic+getters.out">getters.out</a></code>,
<code><a href="#topic+load_stored_object">load_stored_object</a>()</code>,
<code><a href="#topic+predict.bm">predict.bm</a></code>,
<code><a href="#topic+predict.em">predict.em</a></code>,
<code><a href="#topic+predict2.bm">predict2.bm</a></code>
</p>

<hr>
<h2 id='Print_Default_ModelingOptions-deprecated'>Print_Default_ModelingOptions</h2><span id='topic+Print_Default_ModelingOptions-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_DefaultModelingOptions">bm_DefaultModelingOptions</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Print_Default_ModelingOptions(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Print_Default_ModelingOptions-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='ProbDensFunc-deprecated'>ProbDensFunc</h2><span id='topic+ProbDensFunc-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_PlotRangeSize">bm_PlotRangeSize</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ProbDensFunc(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ProbDensFunc-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='rast.has.values'>Check whether SpatRaster is an empty <code>rast()</code></h2><span id='topic+rast.has.values'></span>

<h3>Description</h3>

<p>Check whether SpatRaster is an empty <code>rast()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rast.has.values(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rast.has.values_+3A_x">x</code></td>
<td>
<p>SpatRaster to be checked</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a boolean
</p>

<hr>
<h2 id='response.plot-deprecated'>response.plot</h2><span id='topic+response.plot-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>response.plot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="response.plot-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='response.plot2-deprecated'>response.plot2</h2><span id='topic+response.plot2-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_PlotResponseCurves">bm_PlotResponseCurves</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>response.plot2(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="response.plot2-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='sample.factor.levels-deprecated'>sample.factor.levels</h2><span id='topic+sample.factor.levels-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_SampleFactorLevels">bm_SampleFactorLevels</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample.factor.levels(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample.factor.levels-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='sre-deprecated'>sre</h2><span id='topic+sre-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_SRE">bm_SRE</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sre(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sre-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='summary+2CBIOMOD.formated.data-method'><code>summary</code> method for <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> object class</h2><span id='topic+summary+2CBIOMOD.formated.data-method'></span>

<h3>Description</h3>

<p>Summarize the number of presences, absences and 
pseudo-absences among the different potential dataset (calibration, 
validation and evaluation).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BIOMOD.formated.data'
summary(object, calib.lines = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CBIOMOD.formated.data-method_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+BIOMOD.formated.data">BIOMOD.formated.data</a></code> or <code><a href="#topic+BIOMOD.formated.data.PA">BIOMOD.formated.data.PA</a></code> 
object returned by the <code><a href="#topic+BIOMOD_FormatingData">BIOMOD_FormatingData</a></code> function</p>
</td></tr>
<tr><td><code id="summary+2B2CBIOMOD.formated.data-method_+3A_calib.lines">calib.lines</code></td>
<td>
<p>(<em>optional, default</em> <code>NULL</code>) <br />
an <code>array</code> object returned by <code><a href="#topic+get_calib_lines">get_calib_lines</a></code> or 
<code><a href="#topic+bm_CrossValidation">bm_CrossValidation</a></code> functions, to explore the distribution of calibration 
and validation datasets</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Remi Patin
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(terra)

# Load species occurrences (6 species available)
data(DataSpecies)
head(DataSpecies)

# Select the name of the studied species
myRespName &lt;- 'GuloGulo'

# Get corresponding presence/absence data
myResp &lt;- as.numeric(DataSpecies[, myRespName])

# Get corresponding XY coordinates
myRespXY &lt;- DataSpecies[, c('X_WGS84', 'Y_WGS84')]

# Load environmental variables extracted from BIOCLIM (bio_3, bio_4, bio_7, bio_11 &amp; bio_12)
data(bioclim_current)
myExpl &lt;- terra::rast(bioclim_current)



## ----------------------------------------------------------------------- #
# Format Data with true absences
myBiomodData &lt;- BIOMOD_FormatingData(resp.var = myResp,
                                     expl.var = myExpl,
                                     resp.xy = myRespXY,
                                     resp.name = myRespName)
myBiomodData
summary(myBiomodData)


</code></pre>

<hr>
<h2 id='update_objects-deprecated'>update_objects</h2><span id='topic+update_objects-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function used in <span class="pkg">biomod2</span> 3.5.1 to update
objects construct with a old version of biomod2 to a current one
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_objects(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_objects-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='variables_importance-deprecated'>variables_importance</h2><span id='topic+variables_importance-deprecated'></span>

<h3>Description</h3>

<p>Deprecated function name for
<code><a href="#topic+bm_VariablesImportance">bm_VariablesImportance</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variables_importance(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variables_importance-deprecated_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+biomod2-deprecated">biomod2-deprecated</a></code>
</p>

<hr>
<h2 id='zzz_bm'>Dummy function to clean working directory after package checks</h2><span id='topic+zzz_bm'></span>

<h3>Description</h3>

<p>This is the last function that will be check and will remove residual files 
from other examples checking such as 'GuloGulo'. This is required to pass
CRAN checks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zzz_bm()
</code></pre>


<h3>Value</h3>

<p>nothing returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
zzz_bm()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package AgreementInterval</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {AgreementInterval}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#agrInt2alpha'><p>agrInt2alpha</p></a></li>
<li><a href='#ai'><p>ai</p></a></li>
<li><a href='#aiAdj'><p>aiAdj</p></a></li>
<li><a href='#IPIA'><p>IPIA measures from 52 kidneys</p></a></li>
<li><a href='#plot.ai'><p>plot.ai</p></a></li>
<li><a href='#summary.ai'><p>summary.ai</p></a></li>
<li><a href='#tolProb'><p>tolProb</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Agreement Interval of Two Measurement Methods</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A tool for calculating agreement interval of two measurement methods (Jason Liao (2015) &lt;<a href="https://doi.org/10.1515%2Fijb-2014-0030">doi:10.1515/ijb-2014-0030</a>&gt;) and present results in plots with discordance rate and/or clinically meaningful limit to quantify agreement quality.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), psych</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, MASS, Matrix, lme4</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-10-22 18:04:00 UTC; xujial</td>
</tr>
<tr>
<td>Author:</td>
<td>Jialin Xu [aut, cre],
  Jason Liao [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jialin Xu &lt;jxx120@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-10-25 12:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='agrInt2alpha'>agrInt2alpha</h2><span id='topic+agrInt2alpha'></span>

<h3>Description</h3>

<p>Function agrInt2alpha calculates discordance rate (alpha) using clinically meaningful limit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>agrInt2alpha(clin.limit, n, sigmae)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="agrInt2alpha_+3A_clin.limit">clin.limit</code></td>
<td>
<p>Clinically meaningful lower and upper limit</p>
</td></tr>
<tr><td><code id="agrInt2alpha_+3A_n">n</code></td>
<td>
<p>Sample size</p>
</td></tr>
<tr><td><code id="agrInt2alpha_+3A_sigmae">sigmae</code></td>
<td>
<p>Variance estimate of residual from measurement error model</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function agrInt2alpha calculates discordance rate (alpha) using clinically meaningful limit.
</p>


<h3>Value</h3>

<p>Discordance rate
</p>


<h3>Author(s)</h3>

<p>Jialin Xu, Jason Liao
</p>


<h3>References</h3>

<p>Jason J. Z. Liao, Quantifying an Agreement Study, Int. J. Biostat. 2015; 11(1): 125-133
</p>


<h3>Examples</h3>

<pre><code class='language-R'>agrInt2alpha(clin.limit=c(-15, 15), n=52, sigmae=46.09245)
</code></pre>

<hr>
<h2 id='ai'>ai</h2><span id='topic+ai'></span>

<h3>Description</h3>

<p>Calculate Agreement Interval of Two Measurement Methods and quantify the agreement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ai(x, y, lambda = 1, alpha = 0.05, clin.limit = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ai_+3A_x">x</code></td>
<td>
<p>A continous numeric vector from measurement method 1</p>
</td></tr>
<tr><td><code id="ai_+3A_y">y</code></td>
<td>
<p>A continous numeric vector from measurement method 2, the same length as x.</p>
</td></tr>
<tr><td><code id="ai_+3A_lambda">lambda</code></td>
<td>
<p>Reliability ratio of x vs y. default 1.</p>
</td></tr>
<tr><td><code id="ai_+3A_alpha">alpha</code></td>
<td>
<p>Discordance rate to estimate confidence interval</p>
</td></tr>
<tr><td><code id="ai_+3A_clin.limit">clin.limit</code></td>
<td>
<p>Clinically meaningful limit (optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the function to calculate agreement interval (confidence interval) of two continuous numerical vectors from two measurement methods on the same samples. Note that this function only works for scenario with two evaluators, for example, comparing the concordance between two evaluators. We are working on the scenario with more than two evaluators.
The two numerical vectors are <code>x</code> and <code>y</code>. It also provides commonly used measures based on index approaches,
for example, Pearson's correlation coefficient, the intraclass correlation coefficient (ICC),
the concordance correlation coefficient (Lin's CCC), and improved CCC (Liao's ICCC).
</p>


<h3>Value</h3>

<p>Function ai returns an object of class &quot;ai&quot;.
</p>
<p>An object of class &quot;ai&quot; is a list containing the following components:
</p>
<p>alpha:   Alpha input for confidence interval estimates
</p>
<p>n: Sample size
</p>
<p>conf.level: Confidence level calculated from alpha
</p>
<p>lambda: Reliability ratio input of x vs y
</p>
<p>summaryStat: Summary statistics of input data
</p>
<p>sigma.e: Random error estimates
</p>
<p>indexEst: Agreement estimates (CI.) based on index approaches
</p>
<p>intervalEst: Agreement estimates (CI.) based on interval approaches
</p>
<p>biasEst: Bias estimate
</p>
<p>intercept: Intercept of linear regression line from measure error model
</p>
<p>slope: Slope of linear regression line from measure error model
</p>
<p>x.name: x variable name extracted from input, used for plotting
</p>
<p>y.name: y variable name extracted from input, used for plotting
</p>
<p>tolProb.cl: Tolrance probability calculated based on optional clinically meaningful limit
</p>
<p>k.cl: Number of discordance pairs based on optional clinically meaningful limit
</p>
<p>alpha.cl: Discordance rate based on clinically meaningful limit
</p>


<h3>Author(s)</h3>

<p>Jialin Xu, Jason Liao
</p>


<h3>References</h3>

<p>Luiz RR, Costa AJL, Kale PL, Werneck GL. Assessment of agreement of a quantitative variable: a new graphical approach. J Clin Epidemiol 2003; 56:963-7.
</p>
<p>Jason J. Z. Liao, Quantifying an Agreement Study, Int. J. Biostat. 2015; 11(1): 125-133
</p>
<p>Shrout, Patrick E. and Fleiss, Joseph L. Intraclass correlations: uses in assessing rater reliability. Psychological Bulletin, 1979, 86, 420-3428.
</p>
<p>Lin L-K., A Concordance Correlation Coefficient to Evaluate Reproducibility. Biometrics 1989; 45:255-68
</p>
<p>Liao JJ. An Improved Concordance Correlation Coefficient. Pharm Stat 2003; 2:253-61
</p>
<p>Nicole Jill-Marie Blackman, Reproducibility of Clinical Data I: Continuous Outcomes, Pharm Stat 2004; 3:99-108
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ai(x=1:4, y=c(1, 1, 2, 4))
a &lt;- c(1, 2, 3, 4, 7)
b &lt;- c(1, 3, 2, 5, 3)
ai(x=a, y=b)
ai(x=IPIA$Tomography, y=IPIA$Urography)
ai(x=IPIA$Tomography, y=IPIA$Urography, clin.limit=c(-15, 15))
</code></pre>

<hr>
<h2 id='aiAdj'>aiAdj</h2><span id='topic+aiAdj'></span>

<h3>Description</h3>

<p>Function aiAdj calculates bias-adjusted average interval from ai object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aiAdj(object, x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aiAdj_+3A_object">object</code></td>
<td>
<p>ai object from ai function</p>
</td></tr>
<tr><td><code id="aiAdj_+3A_x">x</code></td>
<td>
<p>A numeric value or a vector of numeric values to calculate bias-adjusted average interval for</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function aiAdj uses proportional bias per <code>x</code> unit, Liao's average interval,
Liao's average interval adjusted for fixed bias to calculate bias-adjusted and total-adjusted average interval.
</p>


<h3>Value</h3>

<p>bias-adjusted and total-adjusted average interval for each value in <code>x</code>
</p>


<h3>Author(s)</h3>

<p>Jialin Xu, Jason Liao
</p>


<h3>References</h3>

<p>Jason J. Z. Liao, Quantifying an Agreement Study, Int. J. Biostat. 2015; 11(1): 125-133
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ans &lt;- ai(x=IPIA$Tomography, y=IPIA$Urography)
aiAdj(object=ans, x=1)
aiAdj(object=ans, x=c(1, 2))
</code></pre>

<hr>
<h2 id='IPIA'>IPIA measures from 52 kidneys</h2><span id='topic+IPIA'></span>

<h3>Description</h3>

<p>A dataset containing inferior pelvic infundibular angle (IPIA) dataset measured by urography and tomography on n=52 kidneys. The variables are as follows:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IPIA
</code></pre>


<h3>Format</h3>

<p>A data frame with 52 rows and 3 variables:
</p>

<ul>
<li><p> id: sample ids
</p>
</li>
<li><p> Urography: IPIA data evaluated by means of computerized urography
</p>
</li>
<li><p> Tomography: IPIA data evaluated by means of computerized tomography
</p>
</li></ul>


<h3>References</h3>

<p>Luiz RR, Costa AJL, Kale PL, Werneck GL. Assessment of agreement of a quantitative variable: a new graphical approach. J Clin Epidemiol 2003; 56:963-7.
</p>

<hr>
<h2 id='plot.ai'>plot.ai</h2><span id='topic+plot.ai'></span>

<h3>Description</h3>

<p>The plot method for ai objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ai'
plot(x, clin.limit = NA, which = 1:4, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.ai_+3A_x">x</code></td>
<td>
<p>ai object from ai function</p>
</td></tr>
<tr><td><code id="plot.ai_+3A_clin.limit">clin.limit</code></td>
<td>
<p>Clinically meaningful lower and upper limit</p>
</td></tr>
<tr><td><code id="plot.ai_+3A_which">which</code></td>
<td>
<p>Index parameter to control which plot to output, by default, all four plots will be outputed.</p>
</td></tr>
<tr><td><code id="plot.ai_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the round function and to control number of decimals in the display.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The four plots include 1) scatterplot of raw data with regression line from the measurement error model,
2) Difference between two measurement methods with original average interval determined by alpha and clinically meaningful lower and upper limit,
3) Difference between two measurement methods  with average interval adjusted for fixed bias,
as well as 4) Sorted difference bewteen two measurement methods with average interval adjusted for total bias.
</p>


<h3>Value</h3>

<p>Function plot.ai returns 2 by 2 plots (See details)
</p>


<h3>Author(s)</h3>

<p>Jialin Xu, Jason Liao
</p>


<h3>References</h3>

<p>Jason J. Z. Liao, Quantifying an Agreement Study, Int. J. Biostat. 2015; 11(1): 125-133
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- c(1, 2, 3, 4, 7)
b &lt;- c(1, 3, 2, 5, 3)
ans &lt;- ai(x=a, y=b)
plot(x=ans)
plot(x=ans, clin.limit=c(-5, 5))
</code></pre>

<hr>
<h2 id='summary.ai'>summary.ai</h2><span id='topic+summary.ai'></span>

<h3>Description</h3>

<p>The summary method for ai objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ai'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.ai_+3A_object">object</code></td>
<td>
<p>ai object from ai function</p>
</td></tr>
<tr><td><code id="summary.ai_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function summary.ai prints out key summaries on screen
</p>


<h3>Author(s)</h3>

<p>Jialin Xu, Jason Liao
</p>


<h3>References</h3>

<p>Jason J. Z. Liao, Quantifying an Agreement Study, Int. J. Biostat. 2015; 11(1): 125-133
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- c(1, 2, 3, 4, 7)
b &lt;- c(1, 3, 2, 5, 3)
ans &lt;- ai(x=a, y=b)
summary(ans)
</code></pre>

<hr>
<h2 id='tolProb'>tolProb</h2><span id='topic+tolProb'></span>

<h3>Description</h3>

<p>Function tolProb calculates tolerance probability based on
sample size (n), number of discordance pairs (k) and discordance rate (alpha).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tolProb(n, k, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tolProb_+3A_n">n</code></td>
<td>
<p>Sample size</p>
</td></tr>
<tr><td><code id="tolProb_+3A_k">k</code></td>
<td>
<p>Number of discordance pairs, discordance pairs are defined as samples with difference greater than average interval</p>
</td></tr>
<tr><td><code id="tolProb_+3A_alpha">alpha</code></td>
<td>
<p>Discordance rate, default 0.05.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function tolProb calculates tolearance probability based on sample size(n), number of discordance pairs (k) and discordance rate (alpha).
Its value is calculated as the largest value such that the following inequality is true:
</p>
<p style="text-align: center;"><code class="reqn">1-\sum _{i=0}^{k} {n\choose i} * {(1-\alpha)}^{n-i} * {\alpha}^i \ge \beta</code>
</p>



<h3>Value</h3>

<p>tolerance probability
</p>


<h3>Author(s)</h3>

<p>Jialin Xu, Jason Liao
</p>


<h3>References</h3>

<p>Jason J. Z. Liao, Quantifying an Agreement Study, Int. J. Biostat. 2015; 11(1): 125-133
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tolProb(n=52, k=5, alpha=0.05)
tolProb(n=52, k=0, alpha=0.05)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ITNr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ITNr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#abs_diff_mat'><p>abs_diff_mat</p></a></li>
<li><a href='#cap_lat_lon'><p>cap_lat_lon</p></a></li>
<li><a href='#Comtradrclean'><p>Comtradr data clean</p></a></li>
<li><a href='#core_periphery_weighted'><p>Core-Periphery for Weighted Networks</p></a></li>
<li><a href='#ei_group'><p>Group level E-I Index</p></a></li>
<li><a href='#ei_ind'><p>Individual/Node level E-I Index</p></a></li>
<li><a href='#ei_network'><p>Network level E-I Index</p></a></li>
<li><a href='#ELEnet16'><p>Electrical Automotive Goods 2016 Network</p></a></li>
<li><a href='#ELEnetList'><p>List of Electrical Automotive Goods Networks (2006-2016)</p></a></li>
<li><a href='#get.backbone'><p>get.backbone</p></a></li>
<li><a href='#isEmpty'><p>isEmpty</p></a></li>
<li><a href='#ITN_make_plot'><p>Single Clean ITN Plot</p></a></li>
<li><a href='#ITN_map_plot'><p>ITN plot on world map</p></a></li>
<li><a href='#ITNadjust'><p>Adjust ITN</p></a></li>
<li><a href='#ITNblock_plot'><p>ITN Blockmodel Plot</p></a></li>
<li><a href='#ITNblock_se'><p>ITN Blockmodel &amp; Structural Equivalence</p></a></li>
<li><a href='#ITNcentrality'><p>ITN Centrality</p></a></li>
<li><a href='#ITNcentrality_binary'><p>ITN Centrality for binary networks</p></a></li>
<li><a href='#ITNcluster'><p>ITN Cluster</p></a></li>
<li><a href='#ITNcorr'><p>ITN Correlation Plot</p></a></li>
<li><a href='#ITNdegdist'><p>ITN Degree Distribution</p></a></li>
<li><a href='#ITNdynamic'><p>Dynamic ITN</p></a></li>
<li><a href='#ITNhistdegdist'><p>ITN Histogram Degree Distribution</p></a></li>
<li><a href='#ITNimvex'><p>ITN - Exports vs Imports Plot</p></a></li>
<li><a href='#ITNplotset'><p>ITN Plots</p></a></li>
<li><a href='#ITNproperties'><p>ITN Properties</p></a></li>
<li><a href='#ITNproperties_base'><p>ITN Properties Base</p></a></li>
<li><a href='#make_trade_network'><p>make_trade_network</p></a></li>
<li><a href='#mixing_matrix_igraph'><p>Mixing Matrix</p></a></li>
<li><a href='#plot_degree_distribution'><p>Plot Degree Distribution</p></a></li>
<li><a href='#receiver_mat'><p>receiver_mat</p></a></li>
<li><a href='#region_circle_plot'><p>region_circle_plot</p></a></li>
<li><a href='#reorder_df'><p>reorder_df</p></a></li>
<li><a href='#round_df'><p>round_df</p></a></li>
<li><a href='#sender_mat'><p>sender_mat</p></a></li>
<li><a href='#WITSclean'><p>WITS data clean</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analysis of the International Trade Network</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew Smith</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew Smith &lt;matt_smith.90@hotmail.co.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to clean and process international trade data into an international trade network (ITN) are provided. It then provides a set a functions to undertake analysis and plots of the ITN (extract the backbone, centrality, blockmodels, clustering). Examining the key players in the ITN and regional trade patterns. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15.1), network</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats,circlize,graphics,RColorBrewer,xergm.common,
reshape2,maps,blockmodeling,igraph,utils,dplyr,plyr,
cowplot,ggplot2,GGally,fastmatch,intergraph,
sna,tnet,WDI,networkDynamic</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-31 09:54:52 UTC; matt_</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-31 14:10:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='abs_diff_mat'>abs_diff_mat</h2><span id='topic+abs_diff_mat'></span>

<h3>Description</h3>

<p>This takes a dataframe of node attributes and convert one into a absolute difference matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>abs_diff_mat(DF, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="abs_diff_mat_+3A_df">DF</code></td>
<td>
<p>Dataframe of node attribute</p>
</td></tr>
<tr><td><code id="abs_diff_mat_+3A_attrname">attrname</code></td>
<td>
<p>names of the attribute from the dataframe to create the matrix for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Absolute difference matrix
</p>

<hr>
<h2 id='cap_lat_lon'>cap_lat_lon</h2><span id='topic+cap_lat_lon'></span>

<h3>Description</h3>

<p>Dataframe of capital city latitude and longitude coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cap_lat_lon
</code></pre>

<hr>
<h2 id='Comtradrclean'>Comtradr data clean</h2><span id='topic+Comtradrclean'></span>

<h3>Description</h3>

<p>This function takes (import) trade data downloaded from comtrade - potentially using the comtradr package, cleans it and transforms it into a network.
Adding a number of country level attributes to nodes in the network, including: regional partition, GDP, GDP per capita, GDP growth and FDI.
However, it is important to note the limits of using comtradr to construct a network.
Firstly when downloading the data with comtradr, you must specify reporters and partners –
yet you cannot put “all” for both – only for either reporters or partners.
Then for the other you are limited to a character vector of country names,
length five or fewer. Therefore, this will not give you a full network.
However, this function can be applied to trade data downloaded from UN Comtrade (download csv and read into R as a dataframe), or any other trade data. You just make sure it has the following column names:
reporter_iso, partner_iso, trade_value_usd and year. Some dataformats may have different names. Also - it is important to note that this function is for import data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Comtradrclean(DF, YEAR, threshold, cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Comtradrclean_+3A_df">DF</code></td>
<td>
<p>Dataframe of trade data downloaded (potentially using the comtradr package)</p>
</td></tr>
<tr><td><code id="Comtradrclean_+3A_year">YEAR</code></td>
<td>
<p>Year</p>
</td></tr>
<tr><td><code id="Comtradrclean_+3A_threshold">threshold</code></td>
<td>
<p>Apply a threshold - TRUE, Extract the backbone - FALSE</p>
</td></tr>
<tr><td><code id="Comtradrclean_+3A_cutoff">cutoff</code></td>
<td>
<p>Threshold - cutoff level, Backbone - significance level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>International Trade Network - igraph object
</p>

<hr>
<h2 id='core_periphery_weighted'>Core-Periphery for Weighted Networks</h2><span id='topic+core_periphery_weighted'></span>

<h3>Description</h3>

<p>This function implements rich club core-periphery algorithm
(Ma &amp; Mondragón, 2015) to identify members of the core and periphery in weighted networks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>core_periphery_weighted(gs, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="core_periphery_weighted_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object.
Note for networks not produced using ITNr there needs to be a vertex attribute &quot;name&quot; and edge attribute &quot;weight&quot;</p>
</td></tr>
<tr><td><code id="core_periphery_weighted_+3A_type">type</code></td>
<td>
<p>directed/undirected</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List - 1.)igraph object with core-periphery results added as a node attribute.
2.) Dataframe of core-periphery results.
</p>


<h3>References</h3>

<p>Ma A, Mondragón RJ (2015) Rich-Cores in Networks. PLoS ONE 10(3): e0119678. https://doi.org/10.1371/journal.pone.0119678
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(50,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Add vertex names
V(ITN)$name&lt;-1:vcount(ITN)

##Implement core-periphery algorithm
ITNcp&lt;-core_periphery_weighted(ITN,"directed")
</code></pre>

<hr>
<h2 id='ei_group'>Group level E-I Index</h2><span id='topic+ei_group'></span>

<h3>Description</h3>

<p>This function calculates the E-I Index (External-internal) at the group/attribute level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ei_group(gs, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ei_group_+3A_gs">gs</code></td>
<td>
<p>igraph object</p>
</td></tr>
<tr><td><code id="ei_group_+3A_attrname">attrname</code></td>
<td>
<p>Attribute name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Group level results dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random network (igraph object)
gs&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add vertex names
V(gs)$name&lt;-1:vcount(gs)

## Add an attribute
V(gs)$letters&lt;- rep(LETTERS[1:5],15)

##Calculate the Group E-I Results
EI_GROUP_DATAFRAME&lt;-ei_group(gs,"letters")

</code></pre>

<hr>
<h2 id='ei_ind'>Individual/Node level E-I Index</h2><span id='topic+ei_ind'></span>

<h3>Description</h3>

<p>This function calculates the E-I Index (External-internal) at the individual/node level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ei_ind(gs, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ei_ind_+3A_gs">gs</code></td>
<td>
<p>igraph object</p>
</td></tr>
<tr><td><code id="ei_ind_+3A_attrname">attrname</code></td>
<td>
<p>Attribute name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Group level results dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random network (igraph object)
gs&lt;-erdos.renyi.game(30,0.05,directed = TRUE)

##Add vertex names
V(gs)$name&lt;-1:vcount(gs)

## Add an attribute
V(gs)$letters&lt;- rep(LETTERS[1:5],6)

##Calculate the Individual E-I Results
EI_IND_DATAFRAME&lt;-ei_ind(gs,"letters")

</code></pre>

<hr>
<h2 id='ei_network'>Network level E-I Index</h2><span id='topic+ei_network'></span>

<h3>Description</h3>

<p>This function calculates the E-I Index (External-internal) at the network level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ei_network(gs, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ei_network_+3A_gs">gs</code></td>
<td>
<p>igraph object</p>
</td></tr>
<tr><td><code id="ei_network_+3A_attrname">attrname</code></td>
<td>
<p>Attribute name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Group level results dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random network (igraph object)
gs&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add vertex names
V(gs)$name&lt;-1:vcount(gs)

## Add an attribute
V(gs)$letters&lt;- rep(LETTERS[1:5],15)

##Calculate the Group E-I Results
EI_NETWORK&lt;-ei_network(gs,"letters")

</code></pre>

<hr>
<h2 id='ELEnet16'>Electrical Automotive Goods 2016 Network</h2><span id='topic+ELEnet16'></span>

<h3>Description</h3>

<p>Electrical Automotive Goods 2016 Network. Electrical automotive goods category as defined by Amighini &amp; Gogoni (2014)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ELEnet16
</code></pre>


<h3>References</h3>

<p>Amighini, A. and Gorgoni, S. (2014) The International Reorganisation of Auto Production, The World Economy, 37(7), pp. 923–952.
</p>

<hr>
<h2 id='ELEnetList'>List of Electrical Automotive Goods Networks (2006-2016)</h2><span id='topic+ELEnetList'></span>

<h3>Description</h3>

<p>List of Electrical Automotive Goods Networks for 2006 - 2016. Electrical automotive goods category as defined by Amighini &amp; Gogoni (2014)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ELEnetList
</code></pre>


<h3>References</h3>

<p>Amighini, A. and Gorgoni, S. (2014) The International Reorganisation of Auto Production, The World Economy, 37(7), pp. 923–952. (list of igraph objects)
</p>

<hr>
<h2 id='get.backbone'>get.backbone</h2><span id='topic+get.backbone'></span>

<h3>Description</h3>

<p>This function extracts the backbone of a network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.backbone(G, alpha, directed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.backbone_+3A_g">G</code></td>
<td>
<p>igraph network</p>
</td></tr>
<tr><td><code id="get.backbone_+3A_alpha">alpha</code></td>
<td>
<p>Significance level</p>
</td></tr>
<tr><td><code id="get.backbone_+3A_directed">directed</code></td>
<td>
<p>Default is TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Backbone of the network
</p>


<h3>References</h3>

<p>Serrano, M. Á., Boguñá, M. and Vespignani, A. (2009) Extracting the multiscale backbone of complex weighted networks, Proceedings of the National Academy of Sciences, 106(16), pp. 6483–6488.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)

##Create a random (directed) network
gs&lt;-erdos.renyi.game(50,0.2,directed = TRUE)

##Add edge weights to the network
E(gs)$weight&lt;-runif(ecount(gs), 0, 1)

##Extract backbone at 0.05 significance level
backbone&lt;-get.backbone(gs,0.1)

</code></pre>

<hr>
<h2 id='isEmpty'>isEmpty</h2><span id='topic+isEmpty'></span>

<h3>Description</h3>

<p>This function check whether data is numeric(0) and give returns an NA if this is true and the value of the data otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isEmpty(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isEmpty_+3A_x">x</code></td>
<td>
<p>Data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NA or the data
</p>

<hr>
<h2 id='ITN_make_plot'>Single Clean ITN Plot</h2><span id='topic+ITN_make_plot'></span>

<h3>Description</h3>

<p>This function plots a single/clean ITN
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITN_make_plot(gs, LABEL, REGION)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITN_make_plot_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
<tr><td><code id="ITN_make_plot_+3A_label">LABEL</code></td>
<td>
<p>Should labels be present - TRUE/FALSE</p>
</td></tr>
<tr><td><code id="ITN_make_plot_+3A_region">REGION</code></td>
<td>
<p>Should nodes be coloured on the basis of region TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Panel of ITN plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Load graph
data("ELEnet16")

##Otherwise download data from WITS and create an
##International Trade Network using WITSclean()

##Plot the network - No Label, colour by region
ITN_plot_example&lt;-ITN_make_plot(ELEnet16,FALSE,TRUE)

</code></pre>

<hr>
<h2 id='ITN_map_plot'>ITN plot on world map</h2><span id='topic+ITN_map_plot'></span>

<h3>Description</h3>

<p>This function plots the international trade network on a world map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITN_map_plot(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITN_map_plot_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot of the ITN on world map
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
require(maps)
##Load the ITN
data(ELEnet16)

## Plot ITN on map - node size based on outdegree
ITN_map_plot(ELEnet16)

</code></pre>

<hr>
<h2 id='ITNadjust'>Adjust ITN</h2><span id='topic+ITNadjust'></span>

<h3>Description</h3>

<p>This function adjusts ITN matrices so they are the same size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNadjust(MATlist, j)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNadjust_+3A_matlist">MATlist</code></td>
<td>
<p>A list of ITN matrices</p>
</td></tr>
<tr><td><code id="ITNadjust_+3A_j">j</code></td>
<td>
<p>Element of matrix list to compare with others</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Create a list of random matrices (of different sizes)
##Labels - letters of alphabet (can represent actor names)
mat1&lt;- matrix(round(runif(10*10)), 10, 10)
rownames(mat1)&lt;-LETTERS[1:10]
colnames(mat1)&lt;-LETTERS[1:10]

mat2&lt;- matrix(round(runif(10*10)), 10, 10)
rownames(mat2)&lt;-LETTERS[10:19]
colnames(mat2)&lt;-LETTERS[10:19]

mat3&lt;- matrix(round(runif(12*12)), 12, 12)
rownames(mat3)&lt;-LETTERS[15:26]
colnames(mat3)&lt;-LETTERS[15:26]

##Create matrix list
MATlist&lt;-list(mat1,mat2,mat3)

##Adjust matrix 1 so that it has additional rows/actors not
##in the original matrix

mat1adjust&lt;-ITNadjust(MATlist,1)

</code></pre>

<hr>
<h2 id='ITNblock_plot'>ITN Blockmodel Plot</h2><span id='topic+ITNblock_plot'></span>

<h3>Description</h3>

<p>This function calculates block membership for the ITN and then plots the network, with node colour according to block membership.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNblock_plot(gs, LABEL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNblock_plot_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
<tr><td><code id="ITNblock_plot_+3A_label">LABEL</code></td>
<td>
<p>Should labels be present - TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Network Plot - nodes coloured based on block membership
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
require(sna)
require(intergraph)

##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Blockmodel plot
block_plot&lt;-ITNblock_plot(ITN,FALSE)

</code></pre>

<hr>
<h2 id='ITNblock_se'>ITN Blockmodel &amp; Structural Equivalence</h2><span id='topic+ITNblock_se'></span>

<h3>Description</h3>

<p>This function calculates block membership for ITN and structural equivalence between countries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNblock_se(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNblock_se_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List object containing block membership and structural equivalence matrix results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
require(sna)
require(intergraph)

##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(50,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Blockmodel &amp; structural equivalence analysis
blockse&lt;-ITNblock_se(ITN)

</code></pre>

<hr>
<h2 id='ITNcentrality'>ITN Centrality</h2><span id='topic+ITNcentrality'></span>

<h3>Description</h3>

<p>This function calculates a number of centrality metrics for the weighted International Trade Network (ITN)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNcentrality(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNcentrality_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table of centrality results (dataframe)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Add vertex names
V(ITN)$name&lt;-1:vcount(ITN)

##Calculate the centrality measures
ITNCENT&lt;-ITNcentrality(ITN)

</code></pre>

<hr>
<h2 id='ITNcentrality_binary'>ITN Centrality for binary networks</h2><span id='topic+ITNcentrality_binary'></span>

<h3>Description</h3>

<p>This function calculates a number of centrality metrics for the binary International Trade Network (ITN)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNcentrality_binary(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNcentrality_binary_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - binary igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table of centrality results (dataframe)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)


##Add vertex names
V(ITN)$name&lt;-1:vcount(ITN)

##Calculate the centrality measures
ITNCENT&lt;-ITNcentrality_binary(ITN)

</code></pre>

<hr>
<h2 id='ITNcluster'>ITN Cluster</h2><span id='topic+ITNcluster'></span>

<h3>Description</h3>

<p>This function calculates cluster membership for ITN
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNcluster(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNcluster_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object (with region attribute)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Cluster object containing various cluster membership results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Load ITN
data(ELEnet16)

##Cluster Analysis
CLU&lt;-ITNcluster(ELEnet16)

</code></pre>

<hr>
<h2 id='ITNcorr'>ITN Correlation Plot</h2><span id='topic+ITNcorr'></span>

<h3>Description</h3>

<p>This function plots the correlation between degree and strength scores
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNcorr(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNcorr_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Correlation plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)

##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Plot correlation matrix between degree and strength scores.
corr_plot&lt;-ITNcorr(ITN)

</code></pre>

<hr>
<h2 id='ITNdegdist'>ITN Degree Distribution</h2><span id='topic+ITNdegdist'></span>

<h3>Description</h3>

<p>This function plots the ITN (probability) degree distribtuion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNdegdist(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNdegdist_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Panel of ITN degree distribution plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)

##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Plot degree distribution
deg_dist_plot&lt;-ITNdegdist(ITN)

</code></pre>

<hr>
<h2 id='ITNdynamic'>Dynamic ITN</h2><span id='topic+ITNdynamic'></span>

<h3>Description</h3>

<p>This function produces a dynamic network object for ITNs. It cleans and adjusts the individual networks, so they are the same size. This dynamic network object can then be used to create animations, mapping changes over time and to calculate temporal network statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNdynamic(NETlist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNdynamic_+3A_netlist">NETlist</code></td>
<td>
<p>A list of International Trade Networks (igraph objects)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the Dynamic Network Object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
require(igraph)

##Create a set of random International Trade Networks (igraph objects)
##and add vertex names
ITN1&lt;-erdos.renyi.game(75,0.05,directed = TRUE)
V(ITN1)$name&lt;-1:vcount(ITN1)
ITN2&lt;-erdos.renyi.game(100,0.01,directed = TRUE)
V(ITN2)$name&lt;-1:vcount(ITN2)
ITN3&lt;-erdos.renyi.game(55,0.1,directed = TRUE)
V(ITN3)$name&lt;-1:vcount(ITN3)

##Create network list
NETlist&lt;-list(ITN1,ITN2,ITN3)

##Create Dynamic Network Object

ITNdyn&lt;-ITNdynamic(NETlist)

</code></pre>

<hr>
<h2 id='ITNhistdegdist'>ITN Histogram Degree Distribution</h2><span id='topic+ITNhistdegdist'></span>

<h3>Description</h3>

<p>This function plots the histogram degree distribution for the ITN
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNhistdegdist(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNhistdegdist_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Panel of ITN histogram degree distribution plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)

##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Plot degree distribution histogram
hist_deg_dist&lt;-ITNhistdegdist(ITN)
</code></pre>

<hr>
<h2 id='ITNimvex'>ITN - Exports vs Imports Plot</h2><span id='topic+ITNimvex'></span>

<h3>Description</h3>

<p>The following function produces a plot showing imports
(in degree) vs exports (out degree). This allows us to identify whether
in the ITN, countries that export high levels also import high levels.
The plot can be produced for either weighted or binary import and export ties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNimvex(gs, weighted)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNimvex_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
<tr><td><code id="ITNimvex_+3A_weighted">weighted</code></td>
<td>
<p>TRUE - plot import strength vs export strength. FALSE - Import count Vs export count</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Imports Vs Exports Plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)

##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Add edge weights
E(ITN)$weight&lt;-runif(ecount(ITN), 0, 1)

##Plot binary import vs exports
imvex_plot&lt;-ITNimvex(ITN,FALSE)
</code></pre>

<hr>
<h2 id='ITNplotset'>ITN Plots</h2><span id='topic+ITNplotset'></span>

<h3>Description</h3>

<p>This function creates a panel of four plots of the ITN for a quick inspection.
These include plots: (i) highlighting clusters using the fast greedy algorithm.(ii)node colours for communities detected using the spinglass algorithm.
(iii)nodes coloured by regional partition and (iv)with nodes coloured by regional partition and node size based on outdegree centrality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNplotset(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNplotset_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Panel of ITN plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Load the network
data(ELEnet16)

##Plot set of network visualisations
ITNplotset(ELEnet16)


</code></pre>

<hr>
<h2 id='ITNproperties'>ITN Properties</h2><span id='topic+ITNproperties'></span>

<h3>Description</h3>

<p>This function calculates network level properties for the ITN. These include:
-Size (number of nodes) -Density -Reciprocity -Diameter
-Average path length -Average node strength -Average Degree
-Betweenness Centralisation -Closeness Centralisation -Eigenvector Centralisation
-Out Degree Centralisation -In Degree Centralisation -All Degree Centralisation -Clustering coefficent (transitivity)
-Clustering Weighted -Region Homophily -Degree Assortativity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNproperties(gs, weighted)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNproperties_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
<tr><td><code id="ITNproperties_+3A_weighted">weighted</code></td>
<td>
<p>TRUE-weighted, FALSE-binary</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table of centrality results (dataframe)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Load the network
data(ELEnet16)

##Calculate the network properties
ITNPROP&lt;-ITNproperties(ELEnet16,TRUE)

</code></pre>

<hr>
<h2 id='ITNproperties_base'>ITN Properties Base</h2><span id='topic+ITNproperties_base'></span>

<h3>Description</h3>

<p>This function calculates network level properties for the ITN. These include:
-Size (number of nodes) -Density -Reciprocity -Diameter
-Average path length -Average node strength -Average Degree
-Betweenness Centralisation -Closeness Centralisation -Eigenvector Centralisation
-Out Degree Centralisation -In Degree Centralisation -All Degree Centralisation -Clustering coefficent (transitivity)
-Clustering Weighted -Degree Assortativity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ITNproperties_base(gs, weighted)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ITNproperties_base_+3A_gs">gs</code></td>
<td>
<p>International Trade Network - igraph object</p>
</td></tr>
<tr><td><code id="ITNproperties_base_+3A_weighted">weighted</code></td>
<td>
<p>TRUE-weighted, FALSE-binary</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table of centrality results (dataframe)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Load the network
data(ELEnet16)

##Calculate the network properties
ITNPROP&lt;-ITNproperties_base(ELEnet16,TRUE)

</code></pre>

<hr>
<h2 id='make_trade_network'>make_trade_network</h2><span id='topic+make_trade_network'></span>

<h3>Description</h3>

<p>This function takes (import) trade data and cleans it and transforms it into a network.
This function can be applied to trade data downloaded from UN Comtrade (download csv and read into R as a dataframe), or any other trade data. You just make sure it has the following column names:
reporter_iso, partner_iso and edge_weight. Some dataformats may have different names. Also - it is important to note that this function is for import data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_trade_network(DF, threshold, cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_trade_network_+3A_df">DF</code></td>
<td>
<p>Dataframe of trade data downloaded (potentially using the comtradr package)</p>
</td></tr>
<tr><td><code id="make_trade_network_+3A_threshold">threshold</code></td>
<td>
<p>Apply a threshold - TRUE, Extract the backbone - FALSE</p>
</td></tr>
<tr><td><code id="make_trade_network_+3A_cutoff">cutoff</code></td>
<td>
<p>Threshold - cutoff level, Backbone - significance level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>International Trade Network - igraph object
</p>

<hr>
<h2 id='mixing_matrix_igraph'>Mixing Matrix</h2><span id='topic+mixing_matrix_igraph'></span>

<h3>Description</h3>

<p>This function calculates the mixing matrix for an igraph object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixing_matrix_igraph(gs, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixing_matrix_igraph_+3A_gs">gs</code></td>
<td>
<p>igraph object.</p>
</td></tr>
<tr><td><code id="mixing_matrix_igraph_+3A_attrname">attrname</code></td>
<td>
<p>Attribute name (vertex attribute)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Mixing matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random International Trade Network (igraph object)
gs&lt;-erdos.renyi.game(50,0.05,directed = TRUE)

##Add vertex attributes
V(gs)$LETTER&lt;-rep(LETTERS[1:5],10)

##Add vertex names
V(gs)$name&lt;-1:vcount(gs)

##Calculate mixing matrix
mixing_matrix&lt;-mixing_matrix_igraph(gs,"LETTER")
</code></pre>

<hr>
<h2 id='plot_degree_distribution'>Plot Degree Distribution</h2><span id='topic+plot_degree_distribution'></span>

<h3>Description</h3>

<p>This function plots degree distribution for any graph
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_degree_distribution(graph, a)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_degree_distribution_+3A_graph">graph</code></td>
<td>
<p>igraph object</p>
</td></tr>
<tr><td><code id="plot_degree_distribution_+3A_a">a</code></td>
<td>
<p>mode - &quot;in&quot;,&quot;out&quot;,&quot;all</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Panel of ITN degree distribution plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(igraph)
##Create random International Trade Network (igraph object)
ITN&lt;-erdos.renyi.game(75,0.05,directed = TRUE)

##Plot out degree distribution
plot_degree_distribution(ITN,"in")
</code></pre>

<hr>
<h2 id='receiver_mat'>receiver_mat</h2><span id='topic+receiver_mat'></span>

<h3>Description</h3>

<p>This takes a dataframe of node attributes and convert one into a matrix of receiver attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>receiver_mat(DF, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="receiver_mat_+3A_df">DF</code></td>
<td>
<p>Dataframe of node attribute</p>
</td></tr>
<tr><td><code id="receiver_mat_+3A_attrname">attrname</code></td>
<td>
<p>names of the attribute from the dataframe to create the matrix for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Receiver matrix
</p>

<hr>
<h2 id='region_circle_plot'>region_circle_plot</h2><span id='topic+region_circle_plot'></span>

<h3>Description</h3>

<p>This function creates a chord diagram/circle plot for levels of trade between regional partitions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>region_circle_plot(gs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="region_circle_plot_+3A_gs">gs</code></td>
<td>
<p>igraph ITN object (with attributes added)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Circle Plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Load graph
data("ELEnet16")

##Create region circle plot
region_circle_plot(ELEnet16)

</code></pre>

<hr>
<h2 id='reorder_df'>reorder_df</h2><span id='topic+reorder_df'></span>

<h3>Description</h3>

<p>Reorders the rows of one dataframe according to another vector (id vector)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reorder_df(df, col_sort, reorder_data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reorder_df_+3A_df">df</code></td>
<td>
<p>dataframe to reorder</p>
</td></tr>
<tr><td><code id="reorder_df_+3A_col_sort">col_sort</code></td>
<td>
<p>column on which the rows will be reordered</p>
</td></tr>
<tr><td><code id="reorder_df_+3A_reorder_data">reorder_data</code></td>
<td>
<p>vector with the new order</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Reordered dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(a = letters[1:3],b = LETTERS[4:6],c = 7:9)

reorder_data&lt;-c("c","a","b")

df_new&lt;-reorder_df(df,"a",reorder_data)

df_new

</code></pre>

<hr>
<h2 id='round_df'>round_df</h2><span id='topic+round_df'></span>

<h3>Description</h3>

<p>This function rounds the numeric variables in a dataframe containing numeric and non-numeric data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_df(x, digits)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="round_df_+3A_x">x</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="round_df_+3A_digits">digits</code></td>
<td>
<p>digits to round to</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with rounded numbers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Create dataframe
ID = c("a","b","c","d","e")
Value1 = c(3.445662,6.44566,8.75551,1.114522,1.5551)
Value2 = c(8.2,1.7,6.4,19.45459,10.34524)
df&lt;-data.frame(ID,Value1,Value2)

##Round to 2 digits
rounddf&lt;-round_df(df,2)
</code></pre>

<hr>
<h2 id='sender_mat'>sender_mat</h2><span id='topic+sender_mat'></span>

<h3>Description</h3>

<p>This takes a dataframe of node attributes and convert one into a matrix of sender attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sender_mat(DF, attrname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sender_mat_+3A_df">DF</code></td>
<td>
<p>Dataframe of node attribute</p>
</td></tr>
<tr><td><code id="sender_mat_+3A_attrname">attrname</code></td>
<td>
<p>names of the attribute from the dataframe to create the matrix for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sender matrix
</p>

<hr>
<h2 id='WITSclean'>WITS data clean</h2><span id='topic+WITSclean'></span>

<h3>Description</h3>

<p>This function takes (import) trade data downloaded from WITS, cleans it and transforms it into a network.
Adding a number of country level attributes to nodes in the network, including: regional partition, GDP, GDP per capita, GDP growth and FDI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WITSclean(CSVfile, YEAR, threshold, cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WITSclean_+3A_csvfile">CSVfile</code></td>
<td>
<p>WITS csv file</p>
</td></tr>
<tr><td><code id="WITSclean_+3A_year">YEAR</code></td>
<td>
<p>Year</p>
</td></tr>
<tr><td><code id="WITSclean_+3A_threshold">threshold</code></td>
<td>
<p>Apply a threshold - TRUE, Extract the backbone - FALSE</p>
</td></tr>
<tr><td><code id="WITSclean_+3A_cutoff">cutoff</code></td>
<td>
<p>Threshold - cutoff level, Backbone - significance level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>International Trade Network - igraph object
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package Tendril</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Tendril}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#plot_timeseries'><p>Plot time series</p></a></li>
<li><a href='#plot.Tendril'><p>Plot Tendril</p></a></li>
<li><a href='#plot.TendrilPerm'><p>Plot TendrilPerm</p></a></li>
<li><a href='#Rotations'><p>Example of Rotations in package Tendril.</p></a></li>
<li><a href='#SubjList'><p>Example of SubjList in package Tendril.</p></a></li>
<li><a href='#Tendril'><p>Tendril</p></a></li>
<li><a href='#Tendril.perm.res'><p>Example object Tendril as generated by Tendril() and Tendril.perm().</p></a></li>
<li><a href='#Tendril.res'><p>Example object Tendril as generated by Tendril().</p></a></li>
<li><a href='#TendrilData'><p>Example dataframe in package Tendril.</p></a></li>
<li><a href='#TendrilPerm'><p>Tendril permutations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Compute and Display Tendril Plots</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Compute the coordinates to produce a tendril plot. 
    In the tendril plot, each tendril (branch) represents a type of events, 
    and the direction of the tendril is dictated by on which treatment arm the 
    event is occurring. If an event is occurring on the first of the two 
    specified treatment arms, the tendril bends in a clockwise direction. 
    If an event is occurring on the second of the treatment arms, the
    tendril bends in an anti-clockwise direction. 
    Ref: Karpefors, M and Weatherall, J., "The Tendril Plot - a novel visual summary 
    of the incidence, significance and temporal aspects of adverse events in 
    clinical trials" - JAMIA 2018; 25(8): 1069-1073 &lt;<a href="https://doi.org/10.1093%2Fjamia%2Focy016">doi:10.1093/jamia/ocy016</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Karpefors/Tendril">https://github.com/Karpefors/Tendril</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Karpefors/Tendril/issues">https://github.com/Karpefors/Tendril/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, dplyr, plyr, reshape2, magrittr, scales, graphics,
grDevices, plotly</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, devtools</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-02-03 08:51:46 UTC; ktwg434</td>
</tr>
<tr>
<td>Author:</td>
<td>Martin Karpefors [aut],
  Stefano Borini [ctb, cre],
  Mark Edmondson-Jones [ctb],
  Hielke Bijlsma [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefano Borini &lt;stefano.borini@astrazeneca.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-02-11 11:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='plot_timeseries'>Plot time series</h2><span id='topic+plot_timeseries'></span>

<h3>Description</h3>

<p>Plot time series of net events on a second treatment arm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_timeseries(tendril, term = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_timeseries_+3A_tendril">tendril</code></td>
<td>
<p>An object of class Tendril, as made by Tendril()</p>
</td></tr>
<tr><td><code id="plot_timeseries_+3A_term">term</code></td>
<td>
<p>A character vector describing the value or values of Term to
select; defaults to <code>NULL</code> which corresponds to all values</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># generate data using Tendril()
data &lt;- Tendril(
  mydata = TendrilData,
  rotations = Rotations,
  AEfreqThreshold = 9,
  Tag = "Comment",
  Treatments = c("placebo", "active"),
  Unique.Subject.Identifier = "subjid",
  Terms = "ae",
  Treat = "treatment",
  StartDay = "day",
  SubjList = SubjList,
  SubjList.subject = "subjid",
  SubjList.treatment = "treatment"
)

# do plot
plot_timeseries(data, term="AE33")
plot_timeseries(data, term=c("AE33","AE40"))
plot_timeseries(data, term=NULL)
</code></pre>

<hr>
<h2 id='plot.Tendril'>Plot Tendril</h2><span id='topic+plot.Tendril'></span>

<h3>Description</h3>

<p>Function to plot Tendril results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Tendril'
plot(x, term = NULL, coloring = "Terms",
  interactive = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.Tendril_+3A_x">x</code></td>
<td>
<p>An object of class tendril, as made by Tendril()</p>
</td></tr>
<tr><td><code id="plot.Tendril_+3A_term">term</code></td>
<td>
<p>The term to extract.</p>
</td></tr>
<tr><td><code id="plot.Tendril_+3A_coloring">coloring</code></td>
<td>
<p>Name of column used for coloring tendrils (only basic plots).
Available coloring choices are:
&quot;Terms&quot; - One tendril one color;
&quot;p&quot; - Prop.test;
&quot;p.adj&quot; - P-values adjusted using the False discovery rate method within each tendril;
&quot;fish&quot; - Fisher.test;
&quot;rdiff&quot; - Risk difference;
&quot;RR&quot; - Risk Ratio;
&quot;OR&quot; - Odds Ratio;
&quot;FDR.tot&quot; - P-values adjusted using the False discovery rate method for all tendrils; and
&quot;TermsCount&quot; - Total number of events for that specific type of event</p>
</td></tr>
<tr><td><code id="plot.Tendril_+3A_interactive">interactive</code></td>
<td>
<p>Specifies if the plot must be interactive or not.
If interactive == TRUE, plotly will be used to render the plot. Otherwise,
(default) the plot will be rendered as a static image using ggplot2.</p>
</td></tr>
<tr><td><code id="plot.Tendril_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If saving the results of the function to a variable, this will be of class tendril
and will contain the data passed to the plot function and the plot itself
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate data using Tendril()
data &lt;- Tendril(mydata = TendrilData,
rotations = Rotations,
AEfreqThreshold = 9,
Tag = "Comment",
Treatments = c("placebo", "active"),
Unique.Subject.Identifier = "subjid",
Terms = "ae",
Treat = "treatment",
StartDay = "day",
SubjList = SubjList,
SubjList.subject = "subjid",
SubjList.treatment = "treatment"
)

#Do plot
res &lt;- plot(data, coloring = "Terms")
res &lt;- plot(data, coloring = "p.adj")

#To re-do the plot after the first call:
print(res)
</code></pre>

<hr>
<h2 id='plot.TendrilPerm'>Plot TendrilPerm</h2><span id='topic+plot.TendrilPerm'></span>

<h3>Description</h3>

<p>Function to plot TendrilPerm results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TendrilPerm'
plot(x, coloring = "p.adj", percentile = FALSE,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.TendrilPerm_+3A_x">x</code></td>
<td>
<p>An object of class TendrilPerm, as made by TendrilPerm()</p>
</td></tr>
<tr><td><code id="plot.TendrilPerm_+3A_coloring">coloring</code></td>
<td>
<p>Name of column used for coloring tendrils.
Available coloring choices are:
&quot;Terms&quot; - One tendril one color;
&quot;p&quot; - Prop.test;
&quot;p.adj&quot; - P-values adjusted using the False discovery rate method within each tendril;
&quot;fish&quot; - Fisher.test;
&quot;rdiff&quot; - Risk difference;
&quot;RR&quot; - Risk Ratio;
&quot;OR&quot; - Odds Ratio;
&quot;FDR.tot&quot; - P-values adjusted using the False discovery rate method for all tendrils; and
&quot;TermsCount&quot; - Total number of events for that specific type of event</p>
</td></tr>
<tr><td><code id="plot.TendrilPerm_+3A_percentile">percentile</code></td>
<td>
<p>Specifies if the plot must show percentile values.
Default is FALSE.</p>
</td></tr>
<tr><td><code id="plot.TendrilPerm_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># generate data using Tendril()
data &lt;- Tendril(mydata = TendrilData,
rotations = Rotations,
AEfreqThreshold = 9,
Tag = "Comment",
Treatments = c("placebo", "active"),
Unique.Subject.Identifier = "subjid",
Terms = "ae",
Treat = "treatment",
StartDay = "day",
SubjList = SubjList,
SubjList.subject = "subjid",
SubjList.treatment = "treatment"
)
tendril_perm &lt;- TendrilPerm(
  tendril = data,
  PermTerm="AE40",
  n.perm = 200,
  perm.from.day = 1)

#Do plot
res &lt;- plot(tendril_perm)
res &lt;- plot(tendril_perm, percentile = TRUE)

#To re-do the plot after the first call:
print(res)
</code></pre>

<hr>
<h2 id='Rotations'>Example of Rotations in package Tendril.</h2><span id='topic+Rotations'></span>

<h3>Description</h3>

<p>Example of Rotations in package Tendril.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rotations
</code></pre>


<h3>Format</h3>

<p>A numeric vector with 1000 number 3s:</p>

<hr>
<h2 id='SubjList'>Example of SubjList in package Tendril.</h2><span id='topic+SubjList'></span>

<h3>Description</h3>

<p>Example of SubjList in package Tendril.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SubjList
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 2 variables:
</p>

<dl>
<dt>subjid</dt><dd><p>: The subject IDs</p>
</dd>
<dt>treatment</dt><dd><p>: The two treatments causing the tendrils to bend left or right</p>
</dd>
</dl>

<hr>
<h2 id='Tendril'>Tendril</h2><span id='topic+Tendril'></span>

<h3>Description</h3>

<p>Function to calculate coordinates and statistical measures used to create a tendril plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tendril(mydata, rotations, AEfreqThreshold = 50, Tag = "Comment",
  Treatments = c("Active", "Placebo"),
  Unique.Subject.Identifier = "Unique.Subject.Identifier",
  Terms = "Dictionary.Derived.Term", Treat = "Actual.Treatment...DB",
  StartDay = "Analysis.Start.Relative.Day", SubjList = NULL,
  SubjList.subject = NULL, SubjList.treatment = NULL,
  SubjList.dropoutday = NULL, compensate_imbalance_groups = FALSE,
  filter_double_events = FALSE, suppress_warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Tendril_+3A_mydata">mydata</code></td>
<td>
<p>A dataframe containing the data for the tendril calculations</p>
</td></tr>
<tr><td><code id="Tendril_+3A_rotations">rotations</code></td>
<td>
<p>a vector of same length as mydata containing the rotation factors for all the events</p>
</td></tr>
<tr><td><code id="Tendril_+3A_aefreqthreshold">AEfreqThreshold</code></td>
<td>
<p>The minimum frequency threshold of events to be included in the analysis. Default is 50</p>
</td></tr>
<tr><td><code id="Tendril_+3A_tag">Tag</code></td>
<td>
<p>A tag or comment associated with the analysis</p>
</td></tr>
<tr><td><code id="Tendril_+3A_treatments">Treatments</code></td>
<td>
<p>The names of the two treatments to be included in the tendril. The first treatment bends to the right and second treatment bends to the left. Must be a vector of two elements and the two elements must be found in the Treatment column</p>
</td></tr>
<tr><td><code id="Tendril_+3A_unique.subject.identifier">Unique.Subject.Identifier</code></td>
<td>
<p>The name of the column containing the unique patients IDs</p>
</td></tr>
<tr><td><code id="Tendril_+3A_terms">Terms</code></td>
<td>
<p>The name of the column containing the name of the tendrils (e.g. adverse event terms)</p>
</td></tr>
<tr><td><code id="Tendril_+3A_treat">Treat</code></td>
<td>
<p>The name of the column containing the name of the treatments</p>
</td></tr>
<tr><td><code id="Tendril_+3A_startday">StartDay</code></td>
<td>
<p>The name column containing the days of the events</p>
</td></tr>
<tr><td><code id="Tendril_+3A_subjlist">SubjList</code></td>
<td>
<p>A dataframe containing subject IDs and treatments</p>
</td></tr>
<tr><td><code id="Tendril_+3A_subjlist.subject">SubjList.subject</code></td>
<td>
<p>The name of the columns in SubjList containing the subjects IDs</p>
</td></tr>
<tr><td><code id="Tendril_+3A_subjlist.treatment">SubjList.treatment</code></td>
<td>
<p>The name of the columns in SubjList containing the treatments</p>
</td></tr>
<tr><td><code id="Tendril_+3A_subjlist.dropoutday">SubjList.dropoutday</code></td>
<td>
<p>The name of the column in SubjList containing the dropoutday</p>
</td></tr>
<tr><td><code id="Tendril_+3A_compensate_imbalance_groups">compensate_imbalance_groups</code></td>
<td>
<p>Boolean Whether the rotation factors have been compensated for imbalance in the groups</p>
</td></tr>
<tr><td><code id="Tendril_+3A_filter_double_events">filter_double_events</code></td>
<td>
<p>Boolean whether to filter out events duplicated in subject id and adverse effect</p>
</td></tr>
<tr><td><code id="Tendril_+3A_suppress_warnings">suppress_warnings</code></td>
<td>
<p>Boolean whether to suppress warnings from chi squared approximation may be incorrect</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function accepts a dataframe with at least 4 columns named as the arguments Unique.Subject.Identifier, Terms, Treat and StartDay.
</p>
<p>Two treatments must be given as arguments, and at least one of the two treatments must be found in the Treatment column
</p>
<p>The function returns an object of class tendril. The object contains the coordinates for the tendril plot and the arguments of the tendril function
</p>
<p>The result of the function can be plotted with plot()
</p>
<p>The result can be saved to file using write.table() with argument row.names = FALSE
</p>


<h3>Value</h3>

<p>The function return an object of class tendril. The object contains the original dataset added with the tendril coordinates,
all the function arguments and a dataframe with the results from statistical analysis
</p>

<ul>
<li><p>data$data : Dataframe of orginal data, coordinates and stat results
</p>
</li>
<li><p>data$Unique.Subject.Identifier : Column containing subject IDs
</p>
</li>
<li><p>data$Terms : Column containing the name of the tendrils
</p>
</li>
<li><p>data$Treat : Column containing the name of the treatments
</p>
</li>
<li><p>data$StartDay : Column containing the days of the events
</p>
</li>
<li><p>data$Treatments : The names of the treatments causing the tendrils to bend
</p>
</li>
<li><p>data$AEfreqThreshold : The frequency threshold for the events to be included in the analysis
</p>
</li>
<li><p>data$Tag : A tag or comment associated with the analysis
</p>
</li>
<li><p>data$n.tot : A dataframe with the total number of events for each treatment. Used in the statistical calculations
</p>
</li>
<li><p>data$SubjList : A dataframe containing subject IDs and treatments
</p>
</li>
<li><p>data$SubjList.subject : The name of the columns in SubjList containing the subjects IDs
</p>
</li>
<li><p>data$SubjList.treatment : The name of the columns in SubjList containing the treatments
</p>
</li>
<li><p>data$SubjList.dropoutday : The name of the column in SubjList containing the dropoutday
</p>
</li>
<li><p>data$rotation_vector : Rotation vector used to generate the tendril
</p>
</li>
<li><p>data$compensate_imbalance_groups : Boolean Whether the rotation factors have been compensated for imbalance in the groups
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- Tendril(mydata = TendrilData,
rotations = Rotations,
AEfreqThreshold=9,
Tag = "Comment",
Treatments = c("placebo", "active"),
Unique.Subject.Identifier = "subjid",
Terms = "ae",
Treat = "treatment",
StartDay = "day",
SubjList = SubjList,
SubjList.subject = "subjid",
SubjList.treatment = "treatment"
)

plot(data)
</code></pre>

<hr>
<h2 id='Tendril.perm.res'>Example object Tendril as generated by Tendril() and Tendril.perm().</h2><span id='topic+Tendril.perm.res'></span>

<h3>Description</h3>

<p>The object contains the following 15 items:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tendril.perm.res
</code></pre>


<h3>Format</h3>

<p>A list of 15 elements:
</p>

<dl>
<dt>Tendril.perm.res$data </dt><dd><p>: Dataframe of orginal data and coordinates</p>
</dd>
<dt>Tendril.perm.res$Terms </dt><dd><p>: Column containing the name of the tendrils</p>
</dd>
<dt>Tendril.perm.res$Unique.Subject.Identifier </dt><dd><p>: Columns containing subject IDs</p>
</dd>
<dt>Tendril.perm.res$Treat </dt><dd><p>: Column containing the name of the treatments</p>
</dd>
<dt>Tendril.perm.res$StartDay </dt><dd><p>: Column containing the start days of the events</p>
</dd>
<dt>Tendril.perm.res$Treatments </dt><dd><p>: The names of the treatments causing the tendrils to bend</p>
</dd>
<dt>Tendril.perm.res$AEfreqThreshold </dt><dd><p>: The frequency threshold for the events to be included in the analysis</p>
</dd>
<dt>Tendril.perm.res$Tag </dt><dd><p>: A tag or comment associated with the analysis</p>
</dd>
<dt>Tendril.perm.res$SubjList </dt><dd><p>: A dataframe containing subject IDs and treatments</p>
</dd>
<dt>Tendril.perm.res$SubjList.subject </dt><dd><p>: The name of the column in SubjList containing the subjects IDs</p>
</dd>
<dt>Tendril.perm.res$SubjList.treatment </dt><dd><p>: The name of the columns in SubjList containing the treatments</p>
</dd>
<dt>Tendril.perm.res$n.tot </dt><dd><p>: A data frame of 2 variables for number of subjects in each treatment</p>
</dd>
<dt>Tendril.perm.res$PermTerm </dt><dd><p>: Name of the tendril used for the permutations</p>
</dd>
<dt>Tendril.perm.res$perm.data </dt><dd><p>: A dataframe containing the permutation results</p>
</dd>
<dt>Tendril.perm.res$tendril.pi </dt><dd><p>: A list of permutation percentile calculation results</p>
</dd>
</dl>

<hr>
<h2 id='Tendril.res'>Example object Tendril as generated by Tendril().</h2><span id='topic+Tendril.res'></span>

<h3>Description</h3>

<p>The object contains the following 12 items:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tendril.res
</code></pre>


<h3>Format</h3>

<p>A list of 12 elements:
</p>

<dl>
<dt>Tendril.res$data </dt><dd><p>: Dataframe of orginal data and coordinates</p>
</dd>
<dt>Tendril.res$Terms </dt><dd><p>: Column containing the name of the tendrils</p>
</dd>
<dt>Tendril.res$Unique.Subject.Identifier </dt><dd><p>: Columns containing subject IDs</p>
</dd>
<dt>Tendril.res$Treat </dt><dd><p>: Column containing the name of the treatments</p>
</dd>
<dt>Tendril.res$StartDay </dt><dd><p>: Column containing the start days of the events</p>
</dd>
<dt>Tendril.res$Treatments </dt><dd><p>: The names of the treatments causing the tendrils to bend</p>
</dd>
<dt>Tendril.res$AEfreqThreshold </dt><dd><p>: The frequency threshold for the events to be included in the analysis</p>
</dd>
<dt>Tendril.res$Tag </dt><dd><p>: A tag or comment associated with the analysis</p>
</dd>
<dt>Tendril.res$SubjList </dt><dd><p>: A dataframe containing subject IDs and treatments</p>
</dd>
<dt>Tendril.res$SubjList.subject </dt><dd><p>: The name of the column in SubjList containing the subjects IDs</p>
</dd>
<dt>Tendril.res$SubjList.treatment </dt><dd><p>: The name of the columns in SubjList containing the treatments</p>
</dd>
<dt>Tendril.res$SubjList.dropoutday </dt><dd><p>: The name of the column in SubjList containing the dropoutday</p>
</dd>
<dt>Tendril.res$rotation_vector </dt><dd><p>: The rotation vector used for the tendril analysis</p>
</dd>
<dt>Tendril.res$compensate_imbalance </dt><dd><p>: Boolean indicating whether the imbalance in the groups is compensated</p>
</dd>
<dt>Tendril.res$n.tot </dt><dd><p>: A data frame of 2 variables for number of subjects in each treatment</p>
</dd>
</dl>

<hr>
<h2 id='TendrilData'>Example dataframe in package Tendril.</h2><span id='topic+TendrilData'></span>

<h3>Description</h3>

<p>A dataset containing the minimal 4 columns required to produe a Tendril plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TendrilData
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 4 variables:
</p>

<dl>
<dt>subjid</dt><dd><p>The subject IDs</p>
</dd>
<dt>treatment</dt><dd><p>The two treatments causing the tendrils to bend right or left, respectively</p>
</dd>
<dt>ae</dt><dd><p>The names of the tendrils</p>
</dd>
<dt>day</dt><dd><p>The day of the event relative to the treatment start date</p>
</dd>
</dl>

<hr>
<h2 id='TendrilPerm'>Tendril permutations</h2><span id='topic+TendrilPerm'></span>

<h3>Description</h3>

<p>Function to compute the permutations of one specified tendril, starting from a specific day.
Permutations are simulated under the null hypothesis. Thus, on average, there will be an equal number of events on each treatment arm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TendrilPerm(tendril, PermTerm, n.perm = 100, perm.from.day = 1,
  pi.low = 0.1, pi.high = 0.9)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TendrilPerm_+3A_tendril">tendril</code></td>
<td>
<p>an object of class tendril as produced by Tendril()</p>
</td></tr>
<tr><td><code id="TendrilPerm_+3A_permterm">PermTerm</code></td>
<td>
<p>the name of the type of event (tendril) to calculate permutations on</p>
</td></tr>
<tr><td><code id="TendrilPerm_+3A_n.perm">n.perm</code></td>
<td>
<p>the number of permutations. Default 100</p>
</td></tr>
<tr><td><code id="TendrilPerm_+3A_perm.from.day">perm.from.day</code></td>
<td>
<p>the starting day for the permutation calculations. Default 1</p>
</td></tr>
<tr><td><code id="TendrilPerm_+3A_pi.low">pi.low</code></td>
<td>
<p>percentile low value. Default 0.1</p>
</td></tr>
<tr><td><code id="TendrilPerm_+3A_pi.high">pi.high</code></td>
<td>
<p>percentile high value. Default 0.9</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Make permutation analysis to a specific type of event, as specified in PermTerm.
</p>


<h3>Value</h3>

<p>The function return an object of class TendrilPerm containing all the input data and a dataframe of permutation results. Use:
</p>
<p>data$perm.data
</p>
<p>and
</p>
<p>data$tendril.pi
</p>
<p>and
</p>
<p>data$tendril
</p>
<p>to access the permutations, percentiles dataframes, and tendril data respectively
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create tendril
tendril &lt;- Tendril(mydata = TendrilData,
  rotations = Rotations,
  AEfreqThreshold = 9,
  Tag = "Comment",
  Treatments = c("placebo", "active"),
  Unique.Subject.Identifier = "subjid",
  Terms = "ae",
  Treat = "treatment",
  StartDay = "day",
  SubjList = SubjList,
  SubjList.subject = "subjid",
  SubjList.treatment = "treatment"
)

# Compute permutations
perm.data &lt;- TendrilPerm(tendril = tendril,
  PermTerm="AE40",
  n.perm = 200,
  perm.from.day = 1)

# Plot results
plot(perm.data)
plot(perm.data, percentile = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package corrgram</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {corrgram}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#auto'><p>Statistics of 1979 automobile models</p></a></li>
<li><a href='#baseball'><p>Baseball Hitter's Data</p></a></li>
<li><a href='#corrgram'><p>Draw a correlogram</p></a></li>
<li><a href='#vote'><p>Voting correlations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Plot a Correlogram</td>
</tr>
<tr>
<td>Version:</td>
<td>1.14</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-04-29</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculates correlation of variables and displays the results
    graphically. Included panel functions can display points, shading, ellipses, and
    correlation values with confidence intervals. See Friendly (2002) &lt;<a href="https://doi.org/10.1198%2F000313002533">doi:10.1198/000313002533</a>&gt;.</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gridBase, knitr, Matrix, psych, rmarkdown, seriation,
sfsmisc, testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kwstat.github.io/corrgram/">https://kwstat.github.io/corrgram/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kwstat/corrgram/issues/">https://github.com/kwstat/corrgram/issues/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-29 16:48:28 UTC; wrightkevi</td>
</tr>
<tr>
<td>Author:</td>
<td>Kevin Wright <a href="https://orcid.org/0000-0002-0617-8673"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kevin Wright &lt;kw.stat@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-29 17:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='auto'>Statistics of 1979 automobile models</h2><span id='topic+auto'></span>

<h3>Description</h3>

<p>Statistics for 74 automobiles in the 1979 model year as sold in the US.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto
</code></pre>


<h3>Format</h3>

<p>A data frame with 74 observations on the following 14 variables.
</p>
 
<dl>
<dt>Model</dt><dd><p>Make and model of car.</p>
</dd>
<dt>Origin</dt><dd><p>a factor with levels A,E,J</p>
</dd>
<dt>Price</dt><dd><p>Price in dollars.</p>
</dd> 
<dt>MPG</dt><dd><p>Miles per gallon.</p>
</dd> 
<dt>Rep78</dt><dd><p>Repair record for 1978 on 1 (worst) to 5 (best) scale.</p>
</dd> 
<dt>Rep77</dt><dd><p>Repair record for 1978 on 1 to 5 scale.</p>
</dd>
<dt>Hroom</dt><dd><p>Headroom in inches.</p>
</dd> 
<dt>Rseat</dt><dd><p>Rear seat clearance in inches.</p>
</dd> 
<dt>Trunk</dt><dd><p>Trunk volume in cubic feet.</p>
</dd>
<dt>Weight</dt><dd><p>Weight in pounds.</p>
</dd> 
<dt>Length</dt><dd><p>Length in inches.</p>
</dd> 
<dt>Turn</dt><dd><p>Turning diameter in feet.</p>
</dd>
<dt>Displa</dt><dd><p>Engine displacement in cubic inches.</p>
</dd>
<dt>Gratio</dt><dd><p>Gear ratio for high gear.</p>
</dd> 
</dl>



<h3>Details</h3>

<p>The data is from various sources, primarily <em>Consumer Reports</em>, April,
1979, and the United States government EPA statistics on fuel consumption.
</p>


<h3>Source</h3>

<p>This data frame was created from
http://euclid.psych.yorku.ca/ftp/sas/sssg/data/auto.sas
</p>


<h3>References</h3>

<p>Originally published in Chambers, Cleveland, Kleiner, and Tukey,
<em>Graphical Methods for Data Analysis</em>, 1983, pages 352-355.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
corrgram(auto[, -c(1:2)])

</code></pre>

<hr>
<h2 id='baseball'>Baseball Hitter's Data</h2><span id='topic+baseball'></span>

<h3>Description</h3>

<p>Data are for 322 Major Leaque Baseball regular and substitute hitters in
1986.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>baseball
</code></pre>


<h3>Format</h3>

<p>A data frame with 322 observations on the following 22 variables.
</p>
 
<dl>
<dt>Name</dt><dd><p>The hitter/player's name</p>
</dd>
<dt>League</dt><dd><p>Player's league (American/National) at the beginning
of 1987</p>
</dd> 
<dt>Team</dt><dd><p>Player's team at the beginning of 1987</p>
</dd>
<dt>Position</dt><dd><p>Player's position in 1986: 1B=First base, 
2B=Second base, 3B=Third base, C=Catcher, OF=Outfild, DH=Designated hitter,
SS=Short stop, UT=Utility</p>
</dd> 
<dt>Atbat</dt><dd><p>Number of times at bat in 1986</p>
</dd>
<dt>Hits</dt><dd><p>Number of hits in 1986</p>
</dd> 
<dt>Homer</dt><dd><p>Number of home runs in 1986</p>
</dd> 
<dt>Runs</dt><dd><p>Number of runs in 1986</p>
</dd>
<dt>RBI</dt><dd><p>Runs batted in during 1986</p>
</dd> 
<dt>Walks</dt><dd><p>Number of walks in 1986</p>
</dd> 
<dt>Years</dt><dd><p>Number of years in the major leagues</p>
</dd>
<dt>Atbatc</dt><dd><p>Number of times at bat in his career</p>
</dd>
<dt>Hitsc</dt><dd><p>Number of hits in career</p>
</dd> 
<dt>Homerc</dt><dd><p>Number of home runs in career</p>
</dd> 
<dt>Runsc</dt><dd><p>Number of runs in career</p>
</dd>
<dt>RBIc</dt><dd><p>Number of Runs Batted In in career</p>
</dd>
<dt>Walksc</dt><dd><p>Number of walks in career</p>
</dd>
<dt>Putouts</dt><dd><p>Number of putouts in 1986</p>
</dd>
<dt>Assists</dt><dd><p>Number of assists in 1986</p>
</dd>
<dt>Errors</dt><dd><p>Number of errors in 1986</p>
</dd> 
<dt>Salary</dt><dd><p>Annual salary (in thousands) on opening day 1987</p>
</dd> 
<dt>logSal</dt><dd><p>Log of salary</p>
</dd> </dl>



<h3>Details</h3>

<p>The levels of the player's positions have been collapsed to fewer levels for
a simpler analysis.  See the original data for the full list of positions.
</p>
<p>The salary data were taken from Sports Illustrated, April 20, 1987.  The
salary of any player not included in that article is listed as an NA.  The
1986 and career statistics were taken from The 1987 Baseball Encyclopedia
Update published by Collier Books, Macmillan Publishing Company, New York.
</p>


<h3>Source</h3>

<p>The data was originally published for the 1988 ASA Statistical
Graphics and Computing Data Exposition:
http://lib.stat.cmu.edu/data-expo/1988.html.
</p>
<p>The version of the data used to create this data was found at
http://euclid.psych.yorku.ca/ftp/sas/sssg/data/baseball.sas
</p>


<h3>References</h3>

<p>Michael Friendly (2002). Corrgrams: Exploratory Displays for Correlation 
Matrices, <em>The American Statistician</em>, Vol 56.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vars2 &lt;- c("Assists","Atbat","Errors","Hits","Homer","logSal",
           "Putouts","RBI","Runs","Walks","Years")
corrgram(baseball[,vars2],
         lower.panel=panel.shade, upper.panel=panel.pie)

</code></pre>

<hr>
<h2 id='corrgram'>Draw a correlogram</h2><span id='topic+corrgram'></span><span id='topic+panel.bar'></span><span id='topic+panel.conf'></span><span id='topic+panel.cor'></span><span id='topic+panel.density'></span><span id='topic+panel.ellipse'></span><span id='topic+panel.fill'></span><span id='topic+panel.minmax'></span><span id='topic+panel.pie'></span><span id='topic+panel.pts'></span><span id='topic+panel.shade'></span><span id='topic+panel.txt'></span>

<h3>Description</h3>

<p>The corrgram function produces a graphical display of a correlation matrix,
called a correlogram.  The cells of the matrix can be shaded or colored to
show the correlation value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corrgram(
  x,
  type = NULL,
  order = FALSE,
  labels,
  panel = panel.shade,
  lower.panel = panel,
  upper.panel = panel,
  diag.panel = NULL,
  text.panel = textPanel,
  label.pos = c(0.5, 0.5),
  label.srt = 0,
  cex.labels = NULL,
  font.labels = 1,
  row1attop = TRUE,
  dir = "",
  gap = 0,
  abs = FALSE,
  col.regions = colorRampPalette(c("red", "salmon", "white", "royalblue", "navy")),
  cor.method = "pearson",
  outer.labels = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corrgram_+3A_x">x</code></td>
<td>
<p>A <em>tall</em> data frame with one observation per row, or a
correlation matrix.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_type">type</code></td>
<td>
<p>Use 'data' or 'cor'/'corr' to explicitly specify that 'x' is
data or a correlation matrix.  Rarely needed.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_order">order</code></td>
<td>
<p>Should variables be re-ordered?  Use TRUE or &quot;PCA&quot; for PCA-based
re-ordering.  
If the 'seriation' package is loaded, this can also be set to &quot;OLO&quot; for optimal
leaf ordering, &quot;GW&quot;, and &quot;HC&quot;.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_labels">labels</code></td>
<td>
<p>Labels to use (instead of data frame variable names) for
diagonal panels. If 'order' option is used, this vector of labels will be
also be appropriately reordered by the function.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_panel">panel</code></td>
<td>
<p>Function used to plot the contents of each panel.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_lower.panel">lower.panel</code>, <code id="corrgram_+3A_upper.panel">upper.panel</code></td>
<td>
<p>Separate panel functions used below/above the
diagonal.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_diag.panel">diag.panel</code>, <code id="corrgram_+3A_text.panel">text.panel</code></td>
<td>
<p>Panel function used on the diagonal.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_label.pos">label.pos</code></td>
<td>
<p>Horizontal and vertical placement of label in diagonal
panels.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_label.srt">label.srt</code></td>
<td>
<p>String rotation for diagonal labels.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_cex.labels">cex.labels</code>, <code id="corrgram_+3A_font.labels">font.labels</code></td>
<td>
<p>Graphics parameter for diagonal panels.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_row1attop">row1attop</code></td>
<td>
<p>TRUE for diagonal like &quot; \ &quot;, FALSE for diagonal like &quot; / &quot;.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_dir">dir</code></td>
<td>
<p>Use <code>dir="left"</code> instead of 'row1attop'.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_gap">gap</code></td>
<td>
<p>Distance between panels.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_abs">abs</code></td>
<td>
<p>Use absolute value of correlations for clustering?  Default FALSE.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_col.regions">col.regions</code></td>
<td>
<p>A <em>function</em> returning a vector of colors.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_cor.method">cor.method</code></td>
<td>
<p>Correlation method to use in panel functions.  Default is
'pearson'.  Alternatives: 'spearman', 'kendall'.</p>
</td></tr>
<tr><td><code id="corrgram_+3A_outer.labels">outer.labels</code></td>
<td>
<p>A list of the form 'list(bottom,left,top,right)'.
If 'bottom=TRUE' (for example), variable labels are added along the
bottom outside edge.
</p>
<p>For more control, use 'bottom=list(labels,cex,srt,adj)', where 'labels' is a vector
of variable labels, 'cex' affects the size, 'srt' affects the rotation, and 'adj'
affects the adjustment of the labels.
Defaults: 'labels' uses column names; cex=1';
'srt=90' (bottom/top), 'srt=0' (left/right);
'adj=1' (bottom/left), 'adj=0' (top/right).</p>
</td></tr>
<tr><td><code id="corrgram_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to plotting methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: Use the 'col.regions' argument to specify colors.
</p>
<p>Non-numeric columns in the data will be ignored.
</p>
<p>The off-diagonal panels are specified with <code>panel.pts</code>,
<code>panel.pie</code>, <code>panel.shade</code>, <code>panel.fill</code>, '<code>panel.bar</code>,
<code>panel.ellipse</code>, <code>panel.conf</code>. <code>panel.cor</code>.
</p>
<p>Diagonal panels are specified with <code>panel.txt</code>, <code>panel.minmax</code>,
<code>panel.density</code>.
</p>
<p>Use a NULL panel to omit drawing the panel.
</p>
<p>This function is basically a modification of the <code>pairs.default</code>
function with the use of customized panel functions.
</p>
<p>The panel.conf function uses <code>cor.test</code> and calculates pearson
correlations.  Confidence intervals are not available in <code>cor.test</code> for
other methods (kendall, spearman).
</p>
<p>You can create your own panel functions by starting with one of the included
panel functions and making suitable modifications.  Note that because of the
way the panel functions are called inside the main function, your custom
panel function must include the arguments shown in the <code>panel.pts</code>
function, even if the custom panel function does not use those arguments!
</p>
<p>TODO: legend, grid graphics version.
</p>


<h3>Value</h3>

<p>The correlation matrix used for plotting is returned. The 'order' and 'abs'
arguments affect the returned value.
</p>


<h3>Author(s)</h3>

<p>Kevin Wright
</p>


<h3>References</h3>

<p>Friendly, Michael.  2002.  Corrgrams: Exploratory Displays for
Correlation Matrices.  <em>The American Statistician</em>, 56, 316&ndash;324.
<a href="http://datavis.ca/papers/corrgram.pdf">http://datavis.ca/papers/corrgram.pdf</a>
</p>
<p>D. J. Murdoch and E. D. Chow. 1996. A Graphical Display of Large Correlation
Matrices.  The American Statistician, 50, 178-180.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To reproduce the figures in Michael Friendly's paper, see the
# vignette, or see the file 'friendly.r' in this package's
# test directory.

# Demonstrate density panel, correlation confidence panel
corrgram(iris, lower.panel=panel.pts, upper.panel=panel.conf,
         diag.panel=panel.density)

# Demonstrate panel.shade, panel.pie, principal component ordering
vars2 &lt;- c("Assists","Atbat","Errors","Hits","Homer","logSal",
           "Putouts","RBI","Runs","Walks","Years")
corrgram(baseball[vars2], order=TRUE, main="Baseball data PC2/PC1 order",
         lower.panel=panel.shade, upper.panel=panel.pie)

# CAUTION: The latticeExtra package also has a 'panel.ellipse' function
# that clashes with the same-named function in corrgram. In order to use
# the right one, the example below uses 'lower.panel=corrgram::panel.ellipse'.
# If you do not have latticeExtra loaded, you can just use
# 'lower.panel=panel.ellipse'.

# Demonstrate panel.bar, panel.ellipse, panel.minmax, col.regions
corrgram(auto, order=TRUE, main="Auto data (PC order)",
         lower.panel=corrgram::panel.ellipse,
         upper.panel=panel.bar, diag.panel=panel.minmax,
         col.regions=colorRampPalette(c("darkgoldenrod4", "burlywood1",
                                        "darkkhaki", "darkgreen")))

# 'vote' is a correlation matrix, not a data frame
corrgram(vote, order=TRUE, upper.panel=panel.cor)


# outer labels, all options, larger margins, xlab, ylab
labs=colnames(state.x77)
corrgram(state.x77, oma=c(7, 7, 2, 2),
         outer.labels=list(bottom=list(labels=labs,cex=1.5,srt=60),
                           left=list(labels=labs,cex=1.5,srt=30,adj=c(1,0))))
mtext("Bottom", side=1, cex=2, line = -1.5, outer=TRUE, xpd=NA)
mtext("Left", side=2, cex=2, line = -1.5, outer=TRUE, xpd=NA)

</code></pre>

<hr>
<h2 id='vote'>Voting correlations</h2><span id='topic+vote'></span>

<h3>Description</h3>

<p>Voting correlations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vote
</code></pre>


<h3>Format</h3>

<p>A 12x12 matrix.
</p>


<h3>Details</h3>

<p>These are the correlations of traits, where each trait is measured for 17 
developed countries (Europe, US, Japan, Australia, New Zealand).
</p>


<h3>Source</h3>

<p>Torben Iversen and David Soskice (2006). Electoral institutions and
the politics of coalitions: Why some democracies redistribute more than
others.  <em>American Political Science Review</em>, 100, 165-81.  Table A2.
</p>


<h3>References</h3>

<p>Using Graphs Instead of Tables.
http://tables2graphs.com/doku.php?id=03_descriptive_statistics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
corrgram(vote, order=TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package RMixpanel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RMixpanel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RMixpanel-package'><p>API for Mixpanel</p></a></li>
<li><a href='#createDateSequence'><p>Generate And Normalize Sequence Of Dates.</p></a></li>
<li><a href='#eventsJson2RMatrix'><p>Convert Events Exported From Mixpanel API To R Matrix</p></a></li>
<li><a href='#merge.matrix'><p>Merge Two Matrices</p></a></li>
<li><a href='#mixpanelCreateAccount'><p>Create Mixpanel Account</p></a></li>
<li><a href='#mixpanelGetAddiction'><p>Addiction Report</p></a></li>
<li><a href='#mixpanelGetData'><p>General Method For Mixpanel API Requests</p></a></li>
<li><a href='#mixpanelGetEvents'><p>Get Events From Mixpanel API</p></a></li>
<li><a href='#mixpanelGetEventsForProfiles'><p>Get Events For Specified Profiles</p></a></li>
<li><a href='#mixpanelGetEventsFromFiles'><p>Get Events From Files</p></a></li>
<li><a href='#mixpanelGetFunnel'><p>Funnel</p></a></li>
<li><a href='#mixpanelGetFunnelList'><p>Funnel List</p></a></li>
<li><a href='#mixpanelGetProfiles'><p>Get Profiles From Mixpanel API</p></a></li>
<li><a href='#mixpanelGetProfilesCount'><p>Get Profiles Count From Mixpanel API</p></a></li>
<li><a href='#mixpanelGetRetention'><p>Retention Report</p></a></li>
<li><a href='#mixpanelGetSegmentation'><p>Segmentation Report</p></a></li>
<li><a href='#mixpanelJQLQuery'><p>Query the Mixpanel JQL API</p></a></li>
<li><a href='#mixpanelUpdateProfile'><p>Update Mixpanel Profile</p></a></li>
<li><a href='#plot.retention'><p>Plot Retention Rates</p></a></li>
<li><a href='#print.retention'><p>Print Retention Matrix</p></a></li>
<li><a href='#profilesJson2RMatrix'><p>Convert Profiles Exported From Mixpanel API To R Matrix.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.7-1</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-10-23</td>
</tr>
<tr>
<td>Title:</td>
<td>API for Mixpanel</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an interface to many endpoints of Mixpanel's Data Export, Engage and JQL API. The R functions allow for event and profile data export as well as for segmentation, retention, funnel and addiction analysis. Results are always parsed into convenient R objects. Furthermore it is possible to load and update profiles. </td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite, uuid, RCurl, base64enc</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ploner/RMixpanel">https://github.com/ploner/RMixpanel</a>, <a href="http://www.mixpanel.com">http://www.mixpanel.com</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-10-23 16:21:04 UTC; meinhard</td>
</tr>
<tr>
<td>Author:</td>
<td>Meinhard Ploner [aut, cre, cph],
  ProSiebenSat.1 Digital GmbH [cph],
  BCG Digital Ventures GmbH [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Meinhard Ploner &lt;meinhard.ploner@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-10-23 16:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='RMixpanel-package'>API for Mixpanel</h2><span id='topic+RMixpanel-package'></span><span id='topic+RMixpanel'></span>

<h3>Description</h3>

<p>Provides an interface to many endpoints of Mixpanel's Data Export, Engage and JQL API. The R functions allow for event and profile data export as well as for segmentation, retention, funnel and addiction analysis. Results are always parsed into convenient R objects. Furthermore it is possible to load and update profiles. </p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> RMixpanel</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.7-1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2018-10-23</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> API for Mixpanel</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> c(
  person("Meinhard", "Ploner", role=c("aut", "cre", "cph"), email="meinhard.ploner@gmail.com"),
	person("ProSiebenSat.1 Digital GmbH", role="cph"),
	person("BCG Digital Ventures GmbH", role="cph")
	)</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.2.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Provides an interface to many endpoints of Mixpanel's Data Export, Engage and JQL API. The R functions allow for event and profile data export as well as for segmentation, retention, funnel and addiction analysis. Results are always parsed into convenient R objects. Furthermore it is possible to load and update profiles. </td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> jsonlite, uuid, RCurl, base64enc</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> MIT + file LICENSE</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/ploner/RMixpanel, http://www.mixpanel.com</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Meinhard Ploner [aut, cre, cph],
  ProSiebenSat.1 Digital GmbH [cph],
  BCG Digital Ventures GmbH [cph]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Meinhard Ploner &lt;meinhard.ploner@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index of help topics:
</p>
<pre>
RMixpanel-package       API for Mixpanel
createDateSequence      Generate And Normalize Sequence Of Dates.
eventsJson2RMatrix      Convert Events Exported From Mixpanel API To R
                        Matrix
merge.matrix            Merge Two Matrices
mixpanelCreateAccount   Create Mixpanel Account
mixpanelGetAddiction    Addiction Report
mixpanelGetData         General Method For Mixpanel API Requests
mixpanelGetEvents       Get Events From Mixpanel API
mixpanelGetEventsForProfiles
                        Get Events For Specified Profiles
mixpanelGetEventsFromFiles
                        Get Events From Files
mixpanelGetFunnel       Funnel
mixpanelGetFunnelList   Funnel List
mixpanelGetProfiles     Get Profiles From Mixpanel API
mixpanelGetProfilesCount
                        Get Profiles Count From Mixpanel API
mixpanelGetRetention    Retention Report
mixpanelGetSegmentation
                        Segmentation Report
mixpanelJQLQuery        Query the Mixpanel JQL API
mixpanelUpdateProfile   Update Mixpanel Profile
plot.retention          Plot Retention Rates
print.retention         Print Retention Matrix
profilesJson2RMatrix    Convert Profiles Exported From Mixpanel API To
                        R Matrix.
</pre>
<p>The package provides access to the Mixpanel API. It allows to read raw data as well as to retrieve retention, addiction and segmentation data. Furthermore it is possible to load and update profiles.
</p>


<h3>Author(s)</h3>

<p>NA
Maintainer: NA
</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api">https://mixpanel.com/help/reference/data-export-api</a></p>

<hr>
<h2 id='createDateSequence'>Generate And Normalize Sequence Of Dates.</h2><span id='topic+createDateSequence'></span>

<h3>Description</h3>

<p>Generate a range of dates and normalize it. Used by other methods of this package.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createDateSequence(from, to=from)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createDateSequence_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="createDateSequence_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Array of daily dates in format yyyy-mm-dd as needed for use in Mixpanel's API.'</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api">https://mixpanel.com/help/reference/data-export-api</a></p>

<hr>
<h2 id='eventsJson2RMatrix'>Convert Events Exported From Mixpanel API To R Matrix</h2><span id='topic+eventsJson2RMatrix'></span>

<h3>Description</h3>

<p>Convenience method to convert from pseudo json of Mixpanel's export API to R matrix holding events.</p>


<h3>Usage</h3>

<pre><code class='language-R'>eventsJson2RMatrix(jsonData, select = TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eventsJson2RMatrix_+3A_jsondata">jsonData</code></td>
<td>
<p>Result of request to Mixpanel's Export API.</p>
</td></tr>
<tr><td><code id="eventsJson2RMatrix_+3A_select">select</code></td>
<td>
<p>If <code>select</code> is an array of column names, only the specified properties are selected. If <code>select</code> is <code>TRUE</code>, all columns are selected.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Ths helper function takes a json result as of the Mixpanel Export API and creates an R matrix holding the data. Array event properties are collapsed using a dash ('-') as separator.</p>


<h3>Value</h3>

<p>A character matrix showing one event per line. The first column represents the name of the event, the other column the event properties.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetEvents">mixpanelGetEvents</a></code></p>

<hr>
<h2 id='merge.matrix'>Merge Two Matrices</h2><span id='topic+merge.matrix'></span>

<h3>Description</h3>

<p>Merge two matrices by common column names. Resulting matrix includes all data. Empty cells are filled with NA's.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'matrix'
merge(x, y, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge.matrix_+3A_x">x</code></td>
<td>
<p>First matrix to be merged.</p>
</td></tr>
<tr><td><code id="merge.matrix_+3A_y">y</code></td>
<td>
<p>Second matrix to be merged.</p>
</td></tr>
<tr><td><code id="merge.matrix_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix resulting from a join of the 2 matrices.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>

<hr>
<h2 id='mixpanelCreateAccount'>Create Mixpanel Account</h2><span id='topic+mixpanelCreateAccount'></span>

<h3>Description</h3>

<p>Create object holding meta data of a Mixpanel project.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelCreateAccount(name, token, key, secret, customEvents, 
  mongoDBname, dataPath, RDataPath)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelCreateAccount_+3A_name">name</code></td>
<td>
<p>Can be arbitrary.</p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_token">token</code></td>
<td>
<p>API token of Mixpanel project.</p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_key">key</code></td>
<td>
<p>API key of Mixpanel project.</p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_secret">secret</code></td>
<td>
<p>API secret of Mixpanel project.</p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_customevents">customEvents</code></td>
<td>
<p>If you have custom events, add a <code>data.frame</code> to assign readable names using the format: <code>data.frame(custom_event_id=c(121212, ...), event_name=c("Event One", ...))</code>.</p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_mongodbname">mongoDBname</code></td>
<td>
<p>Optional. Name of data base for usage in mongoDB. Used in future versions of the package. </p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_datapath">dataPath</code></td>
<td>
<p>Optional. Path to store raw data of events and people.</p>
</td></tr>
<tr><td><code id="mixpanelCreateAccount_+3A_rdatapath">RDataPath</code></td>
<td>
<p>Optional. Path to store R rda files.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object holding all the values specified as parameters.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetEvents">mixpanelGetEvents</a></code>, 
<code><a href="#topic+mixpanelGetProfiles">mixpanelGetProfiles</a></code>, 
<code><a href="#topic+mixpanelGetSegmentation">mixpanelGetSegmentation</a></code>, 
<code><a href="#topic+mixpanelGetRetention">mixpanelGetRetention</a></code>
</p>

<hr>
<h2 id='mixpanelGetAddiction'>Addiction Report</h2><span id='topic+mixpanelGetAddiction'></span>

<h3>Description</h3>

<p>Get matrix of addiction data from Mixpanel API.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetAddiction(account, event, from, to, unit, percentages, addictionUnit, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetAddiction_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as created by <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_event">event</code></td>
<td>
<p>Event name. If empty, all events are returned.</p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive. </p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_unit">unit</code></td>
<td>
<p>Defaults to 'day'.</p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_percentages">percentages</code></td>
<td>
<p>Output as counts or percentages?</p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_addictionunit">addictionUnit</code></td>
<td>
<p>Sub time unit for addiction calculation. </p>
</td></tr>
<tr><td><code id="mixpanelGetAddiction_+3A_...">...</code></td>
<td>
<p> Additional arguments to Mixpanel API.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix consisting of one row for each cohort. The first column holds the cohort sizes, the following columns the number of profiles having tracked events within the specified time interval.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#retention">https://mixpanel.com/help/reference/data-export-api#retention</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetRetention">mixpanelGetRetention</a></code></p>

<hr>
<h2 id='mixpanelGetData'>General Method For Mixpanel API Requests</h2><span id='topic+mixpanelGetData'></span>

<h3>Description</h3>

<p>This method handles the authentication and download of data from the Mixpanel API as well as data persistance. The method is used by many of the more specialized methods of this package.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetData(account, method="export/", args, validitySeconds=60, verbose=TRUE, 
  fileName="", data=FALSE, retryCount=0, encoding="UTF-8")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetData_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_method">method</code></td>
<td>
<p>API method (route).</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_args">args</code></td>
<td>
<p>Arguments as described in <a href="https://mixpanel.com/help/reference/data-export-api">https://mixpanel.com/help/reference/data-export-api</a>.</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_validityseconds">validitySeconds</code></td>
<td>
<p>Expiration of API request.</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_verbose">verbose</code></td>
<td>
<p>If <code>FALSE</code>, less information is shown on the console. </p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_filename">fileName</code></td>
<td>
<p>File name to persist data (defaults to './temp.txt'). If supplied, account$dataPath is used as path.</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_data">data</code></td>
<td>
<p>If <code>FALSE</code>, data is downloaded, but not returned as function argument.</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_retrycount">retryCount</code></td>
<td>
<p>How many times a failed request should be retried?</p>
</td></tr>
<tr><td><code id="mixpanelGetData_+3A_encoding">encoding</code></td>
<td>
<p>JSON Encoding. Default is UTF8.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>data==TRUE</code>, the method returns the response of the API request (raw character vector). Otherwise nothing is returned.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api">https://mixpanel.com/help/reference/data-export-api</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
                                
mixpanelGetData(account, method="funnels/list/", args=list(), data=TRUE)

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelGetEvents'>Get Events From Mixpanel API</h2><span id='topic+mixpanelGetEvents'></span>

<h3>Description</h3>

<p>Get a matrix filled with event data from the Mixpanel API.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetEvents(account, event, from, to = from, daysPerBlock = 10,
                 select = TRUE, verbose = TRUE, df = FALSE, encoding="UTF-8", ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetEvents_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_event">event</code></td>
<td>
<p>Array of event names. If empty, all events are returned.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive. </p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_daysperblock">daysPerBlock</code></td>
<td>
<p>Data is downloaded in blocks of fixed size.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_select">select</code></td>
<td>
<p>If <code>"select"</code> is an array of column names, only the specified properties are selected. If <code>TRUE</code>, all columns are selected.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> more output is generated.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_df">df</code></td>
<td>
<p>Clean data and return <code>data.frame</code> instead of <code>matrix</code>?</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_encoding">encoding</code></td>
<td>
<p>JSON Encoding. Default is UTF8.</p>
</td></tr>
<tr><td><code id="mixpanelGetEvents_+3A_...">...</code></td>
<td>
<p>Additional arguments to be included in the Mixpanel API request. E.g. where = &quot;properties[\&quot;$os\&quot;]==\&quot;iPhone OS\&quot;&quot;). See also <a href="https://mixpanel.com/help/reference/data-export-api#events">https://mixpanel.com/help/reference/data-export-api#events</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character matrix showing one event per line. The first column represents the name of the event, the other column the event properties.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetProfiles">mixpanelGetProfiles</a></code>,
<code><a href="#topic+mixpanelGetEventsForProfiles">mixpanelGetEventsForProfiles</a></code>
</p>

<hr>
<h2 id='mixpanelGetEventsForProfiles'>Get Events For Specified Profiles</h2><span id='topic+mixpanelGetEventsForProfiles'></span>

<h3>Description</h3>

<p>Get a matrix filled with event data for specified people profiles.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetEventsForProfiles(account, distinctIDs, from, to, verbose, 
encoding="UTF-8", ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_distinctids">distinctIDs</code></td>
<td>
<p>Array of profile IDs.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_from">from</code></td>
<td>
<p>Date in format yyyy-mm-dd, where month number starts with 0.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_to">to</code></td>
<td>
<p>Date in format yyyy-mm-dd, where month number starts with 0.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_verbose">verbose</code></td>
<td>
<p>Parameter passed to <code>mixpanelGetData</code>. Boolean.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_encoding">encoding</code></td>
<td>
<p>JSON Encoding. Default is UTF8.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsForProfiles_+3A_...">...</code></td>
<td>
<p>List of additional arguments being included in the Mixpanel API request. E.g. limit=5, ...</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character matrix showing one event per line. The first column represents the name of the event, 
the other column the event properties.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetProfiles">mixpanelGetProfiles</a></code>,
<code><a href="#topic+mixpanelGetEvents">mixpanelGetEvents</a></code>
</p>

<hr>
<h2 id='mixpanelGetEventsFromFiles'>Get Events From Files</h2><span id='topic+mixpanelGetEventsFromFiles'></span>

<h3>Description</h3>

<p>Get an R matrix filled with event data using data saved into files.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetEventsFromFiles(account, from, to, eventNames=c(), 
  select=TRUE, blocksize=500000, df = FALSE, verbose=TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive. </p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_eventnames">eventNames</code></td>
<td>
<p>If an array of event names, only these are returned by the method. </p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_select">select</code></td>
<td>
<p>If <code>"select"</code> is an array of column names, only the specified properties are selected. If <code>TRUE</code>, all columns are selected.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_blocksize">blocksize</code></td>
<td>
<p>Block size for reading files from disk.</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_df">df</code></td>
<td>
<p>Clean data and return <code>data.frame</code> instead of <code>matrix</code>?</p>
</td></tr>
<tr><td><code id="mixpanelGetEventsFromFiles_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> more output is generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character matrix showing one event per line. The first column represents the name of the event, the other column the event properties.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetEvents">mixpanelGetEvents</a></code></p>

<hr>
<h2 id='mixpanelGetFunnel'>Funnel</h2><span id='topic+mixpanelGetFunnel'></span>

<h3>Description</h3>

<p>Get funnel data from Mixpanel API. Custom events are names accordingly, if <code>account</code> is set up correctly using <code>mixpanelCreateAccount.</code></p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetFunnel(account, funnel, from, to=from, verbose=TRUE, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetFunnel_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetFunnel_+3A_funnel">funnel</code></td>
<td>
<p>Either name or ID of the funnel. See also <code>mixpanelGetFunnelList</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetFunnel_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive. </p>
</td></tr>
<tr><td><code id="mixpanelGetFunnel_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="mixpanelGetFunnel_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> more output is generated.</p>
</td></tr>
<tr><td><code id="mixpanelGetFunnel_+3A_...">...</code></td>
<td>
<p> Additional arguments to Mixpanel API. E.g. <code>interval=14</code>, <code>unit='week'</code>, <code>interval=90</code>, ...</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>funnel</code> including a list of <code>data.frame</code>'s representing the funnels for each time frame.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#funnels">https://mixpanel.com/help/reference/data-export-api#funnels</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetFunnelList">mixpanelGetFunnelList</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
mixpanelGetFunnel(account, "Funnel001", from=20161001, to=20161101, unit="week")

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelGetFunnelList'>Funnel List</h2><span id='topic+mixpanelGetFunnelList'></span>

<h3>Description</h3>

<p>Get list of all defined funnels from Mixpanel API.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetFunnelList(account, verbose=TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetFunnelList_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetFunnelList_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> more output is generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with 1 row for each funnel. Columns include 
</p>
<table>
<tr><td><code>funnel_id</code></td>
<td>
<p>ID of the funnel.</p>
</td></tr>
<tr><td><code>name</code></td>
<td>
<p>Name of the funnel.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#funnels">https://mixpanel.com/help/reference/data-export-api#funnels</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetFunnel">mixpanelGetFunnel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
mixpanelGetFunnelList(account)

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelGetProfiles'>Get Profiles From Mixpanel API</h2><span id='topic+mixpanelGetProfiles'></span>

<h3>Description</h3>

<p>Get a matrix filled with profiles (also called 'users' or 'people') taken from the Mixpanel People API. </p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetProfiles(account, where="", select, maxPage=100000, verbose=TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetProfiles_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetProfiles_+3A_where">where</code></td>
<td>
<p>Expression, see <a href="https://mixpanel.com/help/reference/data-export-api#segmentation-expressions">https://mixpanel.com/help/reference/data-export-api#segmentation-expressions</a>.</p>
</td></tr>
<tr><td><code id="mixpanelGetProfiles_+3A_select">select</code></td>
<td>
<p>If <code>"select"</code> is an array of column names, only the specified properties are selected. If <code>TRUE</code>, all columns are selected.</p>
</td></tr>
<tr><td><code id="mixpanelGetProfiles_+3A_maxpage">maxPage</code></td>
<td>
<p>The API delivers usually about 1000 users per page. Setting this parameter can limit the response for testing purposes. A value of 9 returns page 0 to page 9, i.e. 10000 profiles.</p>
</td></tr>
<tr><td><code id="mixpanelGetProfiles_+3A_verbose">verbose</code></td>
<td>
<p>If <code>FALSE</code> less output is generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character matrix showing one profile per line. The first column represents the distinct ID of the profile, the other column the profile properties.  </p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#people-analytics">https://mixpanel.com/help/reference/data-export-api#people-analytics</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetEvents">mixpanelGetEvents</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
                                
profiles = mixpanelGetProfiles(account, where='properties["KPI1"] &gt; 1.32', 
                             select=c("KPI1", "KPI2"))
print(profiles)

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelGetProfilesCount'>Get Profiles Count From Mixpanel API</h2><span id='topic+mixpanelGetProfilesCount'></span>

<h3>Description</h3>

<p>Get the number of profiles (also called 'users' or 'people') conforming to the requested query from the Mixpanel People API. </p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetProfilesCount(account, where = "", verbose=TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetProfilesCount_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetProfilesCount_+3A_where">where</code></td>
<td>
<p>Expression, see <a href="https://mixpanel.com/help/reference/data-export-api#segmentation-expressions">https://mixpanel.com/help/reference/data-export-api#segmentation-expressions</a>.</p>
</td></tr>
<tr><td><code id="mixpanelGetProfilesCount_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> more output is generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of profiles conforming to the query.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#people-analytics">https://mixpanel.com/help/reference/data-export-api#people-analytics</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetProfiles">mixpanelGetProfiles</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
                                
mixpanelGetProfilesCount(account, where='properties["KPI1"] &gt; 1.32')

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelGetRetention'>Retention Report</h2><span id='topic+mixpanelGetRetention'></span>

<h3>Description</h3>

<p>Get retention data from Mixpanel API. The resulting object can be printed nicely using <code>print.retention</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetRetention(account, event, from, to, unit, retentionType, 
  intervalCount, verbose=TRUE, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetRetention_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_event">event</code></td>
<td>
<p>Event name. If empty, all events are returned.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive. </p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_unit">unit</code></td>
<td>
<p>Defaults to 'day'.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_retentiontype">retentionType</code></td>
<td>
<p><code>birth</code> (=First time) or <code>compounded</code> (=Recurring). Defaults to 'birth'.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_intervalcount">intervalCount</code></td>
<td>
<p>Number of intervals per cohort to return.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code> more output is generated.</p>
</td></tr>
<tr><td><code id="mixpanelGetRetention_+3A_...">...</code></td>
<td>
<p> Additional arguments to Mixpanel API. E.g. <code>born_event='Event name'</code>  (needed for retention type 'birth'), or <code>born_where='properties["Prop name"]=="value"'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>retention</code> including 
</p>
<table>
<tr><td><code>dates</code></td>
<td>
<p>Start dates of each cohort.</p>
</td></tr>
<tr><td><code>cohortCount</code></td>
<td>
<p>Size of cohorts (people count).</p>
</td></tr>
<tr><td><code>retainCount</code></td>
<td>
<p>Number of retained people.</p>
</td></tr>
<tr><td><code>retainPerc</code></td>
<td>
<p>Percentage of retained people.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#retention">https://mixpanel.com/help/reference/data-export-api#retention</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetAddiction">mixpanelGetAddiction</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
mixpanelGetRetention(account, born_event="AppInstall", event="WatchedItem", 
                     from=20150701, to=20151101, unit="week")

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelGetSegmentation'>Segmentation Report</h2><span id='topic+mixpanelGetSegmentation'></span>

<h3>Description</h3>

<p>Get a matrix of events segmented by 1 or 2 properties. Event data is taken from the Mixpanel Segmentation API.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelGetSegmentation(account, event, from, to, unit, type, on, action, verbose, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelGetSegmentation_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_event">event</code></td>
<td>
<p>Event name. If empty, all events are returned. Custom events are supported, if <code>account</code> is set up correctly using <code>mixpanelCreateAccount.</code></p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_from">from</code></td>
<td>
<p>Start date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive. </p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_to">to</code></td>
<td>
<p>End date in either format &lt;&quot;yyyy-mm-dd&quot;&gt; or &lt;yyyymmdd&gt;. Inclusive.</p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_unit">unit</code></td>
<td>
<p>Defaults to 'day'.</p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_type">type</code></td>
<td>
<p>This can be &quot;general&quot;, &quot;unique&quot;, or &quot;average&quot;.</p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_on">on</code></td>
<td>
<p>Array of up to 2 property names for segmentation. An empty array returns un-segmented counts. E.g. 'properties[&quot;$os&quot;]'</p>
</td></tr></table>
<p>.
</p>
<table>
<tr><td><code id="mixpanelGetSegmentation_+3A_action">action</code></td>
<td>
<p>Could be &quot;sum&quot; or &quot;average&quot;. If given, 1st property listed in <code>on</code> is aggregated by this function.</p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_verbose">verbose</code></td>
<td>
<p>If <code>FALSE</code> less output is generated.</p>
</td></tr>
<tr><td><code id="mixpanelGetSegmentation_+3A_...">...</code></td>
<td>
<p>Additional arguments to Mixpanel API. See also <a href="https://mixpanel.com/help/reference/data-export-api#segmentation">https://mixpanel.com/help/reference/data-export-api#segmentation</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>2 or 3-dimensional array showing event counts. The first dimension represents the time in the specified unit. The other dimension(s) are determined by the segmention properties. Usually the Mixpanel API does not return more than 60 or 100 slots per segmentation property. For more data, use the events API (<code>mixpanelGetEvents</code>).</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#segmentation">https://mixpanel.com/help/reference/data-export-api#segmentation</a>
</p>

<hr>
<h2 id='mixpanelJQLQuery'>Query the Mixpanel JQL API</h2><span id='topic+mixpanelJQLQuery'></span>

<h3>Description</h3>

<p>This method performs a JQL Query with some custom script as parameter. The query string can be given either as character vector or saved into a file and passed via file name.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelJQLQuery(account, jqlString, jqlScripts, paths=".", columnNames, toNumeric=c())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelJQLQuery_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelJQLQuery_+3A_jqlstring">jqlString</code></td>
<td>
<p>JQL script as string.</p>
</td></tr>
<tr><td><code id="mixpanelJQLQuery_+3A_jqlscripts">jqlScripts</code></td>
<td>
<p>List of JQL script file names.</p>
</td></tr>
<tr><td><code id="mixpanelJQLQuery_+3A_paths">paths</code></td>
<td>
<p>Paths to search JS files.</p>
</td></tr>
<tr><td><code id="mixpanelJQLQuery_+3A_columnnames">columnNames</code></td>
<td>
<p>Column names for the resulting data.frame. Optional.</p>
</td></tr>
<tr><td><code id="mixpanelJQLQuery_+3A_tonumeric">toNumeric</code></td>
<td>
<p>Column indices which should be converted to numeric. Optional.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>data==TRUE</code>, the method returns the response of the API request (raw character vector). Otherwise nothing is returned.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/jql">https://mixpanel.com/help/reference/jql</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
                                
## Simple query: number of events for each 'distinct_id'.
jqlQuery &lt;- '
function main() {
  return Events({
    from_date: "2016-01-01",
    to_date: "2016-12-31"
  })
  .groupByUser(mixpanel.reducer.count())
}'

res &lt;- mixpanelJQLQuery(account, jqlQuery,
                        columnNames=c("distinctID", "Count"), toNumeric=2)
hist(res$Count)

## End(Not run)</code></pre>

<hr>
<h2 id='mixpanelUpdateProfile'>Update Mixpanel Profile</h2><span id='topic+mixpanelUpdateProfile'></span>

<h3>Description</h3>

<p>Update Mixpanel profiles (also called 'users' or 'people') using the Mixpanel Engage API.</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixpanelUpdateProfile(account, distinctID, data, 
	updateLastSeen=FALSE, updateLocation=FALSE, retryCount=100)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixpanelUpdateProfile_+3A_account">account</code></td>
<td>
<p>A mixpanel account, as defined in <code>mixpanelCreateAccount</code>.</p>
</td></tr>
<tr><td><code id="mixpanelUpdateProfile_+3A_distinctid">distinctID</code></td>
<td>
<p>A distinct ID, identifying the profile. Could be extracted by calling <code>mixpanelGetProfiles</code></p>
</td></tr>
<tr><td><code id="mixpanelUpdateProfile_+3A_data">data</code></td>
<td>
<p>JSON dictionary with property names and values. See Mixpanel documentation or example below.</p>
</td></tr>
<tr><td><code id="mixpanelUpdateProfile_+3A_updatelastseen">updateLastSeen</code></td>
<td>
<p>If <code>true</code>, Mixpanel will update the <em>Last Seen</em> property. Default is <code>false</code></p>
</td></tr>
<tr><td><code id="mixpanelUpdateProfile_+3A_updatelocation">updateLocation</code></td>
<td>
<p>If <code>false</code>, Mixpanel will not update the IP address of the profile. Default is <code>false</code></p>
</td></tr>
<tr><td><code id="mixpanelUpdateProfile_+3A_retrycount">retryCount</code></td>
<td>
<p>Applied if the HTTP request fails.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/http#people-analytics-updates">https://mixpanel.com/help/reference/http#people-analytics-updates</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetProfiles">mixpanelGetProfiles</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
                                
mixpanelUpdateProfile(
  account, 
  "11b9c243-4ea3...",  
  data=list( 
    "$set"=list(day=jsonlite::unbox(12), 
                month=jsonlite::unbox(3), 
                "$name"=jsonlite::unbox("Dummy name")),
    "$setOnce"=list(installYear=2016),
    "$unset"=c("oldProp1", "oldProp2"),
    "$union"=list(month=10:12)
    ## "$delete": ""    ## !!! Delete user. !!!
  )
)

## End(Not run)</code></pre>

<hr>
<h2 id='plot.retention'>Plot Retention Rates</h2><span id='topic+plot.retention'></span>

<h3>Description</h3>

<p>Plot Retention Rates as a line chart. Multiple chart types are available.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'retention'
plot(x, type="all", percentages=TRUE, omitLast=TRUE,
  colors, durations, y, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.retention_+3A_x">x</code></td>
<td>
<p>Object of class <code>retention</code>, as loaded by <code>mixpanelGetRetention</code>.</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_type">type</code></td>
<td>
<p>Character vector. If &quot;all&quot;, all chart types are plotted. Valid values are <code>"cohortsByDate"</code>, <code>"cohortsByAge"</code>, <code>"byDuration"</code>.</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_percentages">percentages</code></td>
<td>
<p>Use retention counts or percentages? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_omitlast">omitLast</code></td>
<td>
<p>Omit last value per series? Useful for Mixpanel data, because last value is usually based on partial data!</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_colors">colors</code></td>
<td>
<p>Colors for lines. Optional.</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_durations">durations</code></td>
<td>
<p>Selected Durations (index). Default is c(1, 2, 5, 10).</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_y">y</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr><td><code id="plot.retention_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#retention">https://mixpanel.com/help/reference/data-export-api#retention</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetRetention">mixpanelGetRetention</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
ret = mixpanelGetRetention(account, born_event="AppInstall", event="WatchedItem", 
                     from=20150701, to=20151101, unit="week")
                     
par(mfrow=c(2, 2))
plot(ret, type="all")
par(mfrow=c(1, 1))

## End(Not run)</code></pre>

<hr>
<h2 id='print.retention'>Print Retention Matrix</h2><span id='topic+print.retention'></span>

<h3>Description</h3>

<p>Print Retention Matrix as counts or percentages.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'retention'
print(x, percentages=TRUE, silent=FALSE, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.retention_+3A_x">x</code></td>
<td>
<p>Object of class <code>retention</code>, as loaded by <code>mixpanelGetRetention</code>.</p>
</td></tr>
<tr><td><code id="print.retention_+3A_percentages">percentages</code></td>
<td>
<p>Boolean. Indicates if retain counts should be shown as percentages or raw count. default is <code>TRUE</code>, returning percentages (0-100).</p>
</td></tr>
<tr><td><code id="print.retention_+3A_silent">silent</code></td>
<td>
<p>If <code>TRUE</code>, the table is returned without printing anything.</p>
</td></tr>
<tr><td><code id="print.retention_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix consisting of one row for each cohort. The first column holds the cohort sizes, the following columns the counts for subsequent periods. If <code>percentages</code> is <code>TRUE</code>, the counts are percentages (except first column).</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>References</h3>

<p><a href="https://mixpanel.com/help/reference/data-export-api#retention">https://mixpanel.com/help/reference/data-export-api#retention</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetRetention">mixpanelGetRetention</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Fill in here the API token, key and secret as found on 
## www.mixpanel.com - Account -&gt; Projects. 
account = mixpanelCreateAccount("ProjectName",
                                token="c12g3...",
                                secret="168e7e...", 
                                key="543c55...")
ret = mixpanelGetRetention(account, born_event="AppInstall", event="WatchedItem", 
                     from=20150701, to=20151101, unit="week")
print(ret, percentages=FALSE)
print(ret, percentages=TRUE)

## End(Not run)</code></pre>

<hr>
<h2 id='profilesJson2RMatrix'>Convert Profiles Exported From Mixpanel API To R Matrix.</h2><span id='topic+profilesJson2RMatrix'></span>

<h3>Description</h3>

<p>Convenience function to convert json result of engage API to R matrix holding people data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>profilesJson2RMatrix(jsonData, select = TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="profilesJson2RMatrix_+3A_jsondata">jsonData</code></td>
<td>
<p>Result of request to Mixpanel's Engage API.</p>
</td></tr>
<tr><td><code id="profilesJson2RMatrix_+3A_select">select</code></td>
<td>
<p>If <code>"select"</code> is an array of column names, only the specified properties are selected. If <code>TRUE</code>, all columns are selected.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Ths helper function takes a json result as of the Mixpanel Engage API and creates a R matrix holding the data. Array user properties are collapsed using a dash ('-') as separator.</p>


<h3>Value</h3>

<p>A character matrix showing one profile per line. The first column represents the distinct ID of the profile, the other column the profile properties.</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixpanelGetProfiles">mixpanelGetProfiles</a></code></p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

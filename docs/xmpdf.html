<!DOCTYPE html><html><head><title>Help for package xmpdf</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {xmpdf}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#xmpdf'><p>xmpdf: Edit 'XMP' Metadata and 'PDF' Bookmarks and Documentation Info</p></a></li>
<li><a href='#as_docinfo'><p>Coerce to docinfo objects</p></a></li>
<li><a href='#as_lang_alt'><p>Coerce to XMP &quot;language alternative&quot; structure</p></a></li>
<li><a href='#as_xmp'><p>Coerce to xmp objects</p></a></li>
<li><a href='#bookmarks'><p>Set/get pdf bookmarks</p></a></li>
<li><a href='#cat_bookmarks'><p>Concatenate pdf bookmarks</p></a></li>
<li><a href='#cat_pages'><p>Concatenate pdf documents together</p></a></li>
<li><a href='#docinfo'><p>PDF documentation info dictionary object</p></a></li>
<li><a href='#edit_docinfo'><p>Set/get pdf document info dictionary</p></a></li>
<li><a href='#edit_xmp'><p>Set/get xmp metadata</p></a></li>
<li><a href='#enable_feature_message'><p>Messages for how to enable feature</p></a></li>
<li><a href='#n_pages'><p>Get number of pages in a document</p></a></li>
<li><a href='#spdx_licenses'><p>SPDX License List data</p></a></li>
<li><a href='#supports'><p>Detect support for features</p></a></li>
<li><a href='#xmp'><p>XMP metadata object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Edit 'XMP' Metadata and 'PDF' Bookmarks and Documentation Info</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Edit 'XMP' metadata <a href="https://en.wikipedia.org/wiki/Extensible_Metadata_Platform">https://en.wikipedia.org/wiki/Extensible_Metadata_Platform</a> 
    in a variety of media file formats as well as 
    edit bookmarks (aka outline aka table of contents) and documentation info entries in 'pdf' files.
    Can detect and use a variety of command-line tools to perform these operations such as
    'exiftool' <a href="https://exiftool.org/">https://exiftool.org/</a>, 'ghostscript' <a href="https://www.ghostscript.com/">https://www.ghostscript.com/</a>, 
    and/or 'pdftk' <a href="https://gitlab.com/pdftk-java/pdftk">https://gitlab.com/pdftk-java/pdftk</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://trevorldavis.com/R/xmpdf/dev/">https://trevorldavis.com/R/xmpdf/dev/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/trevorld/r-xmpdf/issues">https://github.com/trevorld/r-xmpdf/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Imports:</td>
<td>brio, datetimeoffset (&ge; 0.2.1), grDevices, jsonlite, purrr,
R6, rlang, stringi, tools, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>exiftoolr, grid, knitr, qpdf, pdftools, rmarkdown, testthat
(&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>'ghostscript' or 'pdftk' for editing pdf bookmarks
and/or documentation info entries. 'exiftool' for editing pdf
documentation info entries and/or xmp metadata.</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-29 19:08:43 UTC; trevorld</td>
</tr>
<tr>
<td>Author:</td>
<td>Trevor L Davis <a href="https://orcid.org/0000-0001-6341-4639"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Linux Foundation [dtc] (Uses some data from the "SPDX License List"
    &lt;https://github.com/spdx/license-list-XML&gt;)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Trevor L Davis &lt;trevor.l.davis@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-29 19:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='xmpdf'>xmpdf: Edit 'XMP' Metadata and 'PDF' Bookmarks and Documentation Info</h2><span id='topic+xmpdf-package'></span><span id='topic+xmpdf'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Edit 'XMP' metadata <a href="https://en.wikipedia.org/wiki/Extensible_Metadata_Platform">https://en.wikipedia.org/wiki/Extensible_Metadata_Platform</a> in a variety of media file formats as well as edit bookmarks (aka outline aka table of contents) and documentation info entries in 'pdf' files. Can detect and use a variety of command-line tools to perform these operations such as 'exiftool' <a href="https://exiftool.org/">https://exiftool.org/</a>, 'ghostscript' <a href="https://www.ghostscript.com/">https://www.ghostscript.com/</a>, and/or 'pdftk' <a href="https://gitlab.com/pdftk-java/pdftk">https://gitlab.com/pdftk-java/pdftk</a>.
</p>


<h3>Package options</h3>

<p>The following <code>xmpdf</code> option may be set globally via <code><a href="base.html#topic+options">base::options()</a></code>:
</p>

<dl>
<dt>xmpdf_default_lang</dt><dd><p>Set new default <code>default_lang</code> argument value for <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Trevor L Davis <a href="mailto:trevor.l.davis@gmail.com">trevor.l.davis@gmail.com</a> (<a href="https://orcid.org/0000-0001-6341-4639">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Linux Foundation (Uses some data from the &quot;SPDX License List&quot; &lt;https://github.com/spdx/license-list-XML&gt;) [data contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://trevorldavis.com/R/xmpdf/dev/">https://trevorldavis.com/R/xmpdf/dev/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/trevorld/r-xmpdf/issues">https://github.com/trevorld/r-xmpdf/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_docinfo'>Coerce to docinfo objects</h2><span id='topic+as_docinfo'></span><span id='topic+as_docinfo.xmp'></span>

<h3>Description</h3>

<p><code>as_docinfo()</code> coerces objects into a <code><a href="#topic+docinfo">docinfo()</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_docinfo(x, ...)

## S3 method for class 'xmp'
as_docinfo(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_docinfo_+3A_x">x</code></td>
<td>
<p>An object that can reasonably be coerced to a <code><a href="#topic+docinfo">docinfo()</a></code> object.</p>
</td></tr>
<tr><td><code id="as_docinfo_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+docinfo">docinfo()</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> x &lt;- xmp(`dc:Creator` = "John Doe", `dc:Title` = "A Title")
 as_docinfo(x)

</code></pre>

<hr>
<h2 id='as_lang_alt'>Coerce to XMP &quot;language alternative&quot; structure</h2><span id='topic+as_lang_alt'></span><span id='topic+as_lang_alt.character'></span><span id='topic+as_lang_alt.lang_alt'></span><span id='topic+as_lang_alt.list'></span>

<h3>Description</h3>

<p><code>as_lang_alt()</code> coerces to an XMP &quot;language alternative&quot; structure
suitable for use with <code><a href="#topic+xmp">xmp()</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_lang_alt(x, ...)

## S3 method for class 'character'
as_lang_alt(x, ..., default_lang = getOption("xmpdf_default_lang"))

## S3 method for class 'lang_alt'
as_lang_alt(x, ...)

## S3 method for class 'list'
as_lang_alt(x, ..., default_lang = getOption("xmpdf_default_lang"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_lang_alt_+3A_x">x</code></td>
<td>
<p>Object suitable for coercing</p>
</td></tr>
<tr><td><code id="as_lang_alt_+3A_...">...</code></td>
<td>
<p>Ignored</p>
</td></tr>
<tr><td><code id="as_lang_alt_+3A_default_lang">default_lang</code></td>
<td>
<p>Language tag value to copy as the &quot;x-default&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of class &quot;lang_alt&quot;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xmp">xmp()</a></code>, <code><a href="#topic+as_xmp">as_xmp()</a></code>, <code><a href="#topic+get_xmp">get_xmp()</a></code>, and <code><a href="#topic+set_xmp">set_xmp()</a></code>.
For more information about the XMP &quot;language alternative&quot; structure see
<a href="https://github.com/adobe/xmp-docs/blob/master/XMPNamespaces/XMPDataTypes/CoreProperties.md#language-alternative">https://github.com/adobe/xmp-docs/blob/master/XMPNamespaces/XMPDataTypes/CoreProperties.md#language-alternative</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  as_lang_alt("A single title")
  as_lang_alt(c(en = "An English Title", fr = "A French Title"))
  as_lang_alt(c(en = "An English Title", fr = "A French Title"), default_lang = "en")
  as_lang_alt(list(en = "An English Title", fr = "A French Title"))
</code></pre>

<hr>
<h2 id='as_xmp'>Coerce to xmp objects</h2><span id='topic+as_xmp'></span><span id='topic+as_xmp.docinfo'></span><span id='topic+as_xmp.list'></span>

<h3>Description</h3>

<p><code>as_xmp()</code> coerces objects into an <code><a href="#topic+xmp">xmp()</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_xmp(x, ...)

## S3 method for class 'docinfo'
as_xmp(x, ...)

## S3 method for class 'list'
as_xmp(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_xmp_+3A_x">x</code></td>
<td>
<p>An object that can reasonably be coerced to a <code><a href="#topic+xmp">xmp()</a></code> object.</p>
</td></tr>
<tr><td><code id="as_xmp_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code><a href="#topic+xmp">xmp()</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> di &lt;- docinfo(author = "John Doe", title = "A Title")
 as_xmp(di)

 l &lt;- list(`dc:creator` = "John Doe", `dc:title` = "A Title")
 as_xmp(l)
</code></pre>

<hr>
<h2 id='bookmarks'>Set/get pdf bookmarks</h2><span id='topic+bookmarks'></span><span id='topic+get_bookmarks'></span><span id='topic+get_bookmarks_pdftk'></span><span id='topic+get_bookmarks_pdftools'></span><span id='topic+set_bookmarks'></span><span id='topic+set_bookmarks_pdftk'></span><span id='topic+set_bookmarks_gs'></span>

<h3>Description</h3>

<p><code>get_bookmarks()</code> gets pdf bookmarks from a file.
<code>set_bookmarks()</code> sets pdf bookmarks for a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bookmarks(filename, use_names = TRUE)

get_bookmarks_pdftk(filename, use_names = TRUE)

get_bookmarks_pdftools(filename, use_names = TRUE)

set_bookmarks(bookmarks, input, output = input)

set_bookmarks_pdftk(bookmarks, input, output = input)

set_bookmarks_gs(bookmarks, input, output = input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bookmarks_+3A_filename">filename</code></td>
<td>
<p>Filename(s) (pdf) to extract bookmarks from.</p>
</td></tr>
<tr><td><code id="bookmarks_+3A_use_names">use_names</code></td>
<td>
<p>If <code>TRUE</code> (default) use <code>filename</code> as the names of the result.</p>
</td></tr>
<tr><td><code id="bookmarks_+3A_bookmarks">bookmarks</code></td>
<td>
<p>A data frame with bookmark information with the following columns:</p>

<dl>
<dt>title</dt><dd><p>Title for bookmark (mandatory, character)</p>
</dd>
<dt>page</dt><dd><p>Page number for bookmark (mandatory, integer)</p>
</dd>
<dt>level</dt><dd><p>Level of bookmark e.g. 1 top level, 2 second level, etc. (optional, integer).
If missing will be inferred from <code>count</code> column else will be assumed to be <code>1L</code>.</p>
</dd>
<dt>count</dt><dd><p>Number of bookmarks immediately subordinate (optional, integer).
Excludes subordinates of subordinates.
Positive count indicates bookmark should start open while
negative count indicates that this bookmark should start closed.
If missing will be inferred from <code>level</code> column
and (if specified) the <code>open</code> column else will be assumed to be <code>0L</code>.
Note some pdf viewers quietly ignore the initially open/closed feature.</p>
</dd>
<dt>open</dt><dd><p>Whether the bookmark starts open or closed if it has
subordinate bookmarks (optional, logical).
If missing will default to open.
Ignored if the <code>count</code> column is specified (instead use a negative count
if the bookmark should start closed).
Note some pdf viewers quietly ignore the initially open/closed feature.</p>
</dd>
<dt>fontface</dt><dd><p>Font face of the bookmark (optional, integer).
If <code>NA_character_</code> or <code>NA_integer_</code> will be unset (defaults to &quot;plain&quot;).
&quot;plain&quot; or 1 is plain, &quot;bold&quot; or 2 is bold, &quot;italic&quot; or 3 is italic,
Note many pdf viewers quietly ignore this feature.</p>
</dd>
<dt>color</dt><dd><p>Color of the bookmark (optional, character).
If <code>NA_character_</code> will be unset (presumably defaults to &quot;black&quot;).
Note many pdf viewers quietly ignore this feature.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="bookmarks_+3A_input">input</code></td>
<td>
<p>Input pdf filename.</p>
</td></tr>
<tr><td><code id="bookmarks_+3A_output">output</code></td>
<td>
<p>Output pdf filename.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_bookmarks()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>get_bookmarks_pdftk()</code> which wraps <code>pdftk</code> command-line tool
</p>
</li>
<li> <p><code>get_bookmarks_pdftools()</code> which wraps <code><a href="pdftools.html#topic+pdftools">pdftools::pdf_toc()</a></code>
</p>
</li></ol>

<p><code>set_bookmarks()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>set_bookmarks_gs()</code> which wraps <code>ghostscript</code> command-line tool
</p>
</li>
<li> <p><code>set_bookmarks_pdftk()</code> which wraps <code>pdftk</code> command-line tool
</p>
</li></ol>



<h3>Value</h3>

<p><code>get_bookmarks()</code> returns a list of data frames with bookmark info (see <code>bookmarks</code> parameter for details about columns) plus &quot;total_pages&quot;, &quot;filename&quot;, and &quot;title&quot; attributes.
<code>NA</code> values in the data frame indicates that the backend doesn't report information about this pdf feature.
<code>set_bookmarks()</code> returns the (output) filename invisibly.
</p>


<h3>Known limitations</h3>


<ul>
<li> <p><code>get_bookmarks_pdftk()</code> doesn't report information about bookmarks color, fontface, and whether the bookmarks
should start open or closed.
</p>
</li>
<li> <p><code>get_bookmarks_pdftools()</code> doesn't report information about bookmarks page number,
color, fontface, and whether the bookmarks should start open or closed.
</p>
</li>
<li> <p><code>set_bookmarks_gs()</code> supports most bookmarks features including color and font face but
only action supported is to view a particular page.
</p>
</li>
<li> <p><code>set_bookmarks_pdftk()</code> only supports setting the title, page number, and level of bookmarks.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+supports_get_bookmarks">supports_get_bookmarks()</a></code>, <code><a href="#topic+supports_set_bookmarks">supports_set_bookmarks()</a></code>, <code><a href="#topic+supports_gs">supports_gs()</a></code>, and <code><a href="#topic+supports_pdftk">supports_pdftk()</a></code> to detect support for these features.  For more info about the pdf bookmarks feature see <a href="https://opensource.adobe.com/dc-acrobat-sdk-docs/library/pdfmark/pdfmark_Basic.html#bookmarks-out">https://opensource.adobe.com/dc-acrobat-sdk-docs/library/pdfmark/pdfmark_Basic.html#bookmarks-out</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create 2-page pdf using `pdf)` and add some bookmarks to it
if (supports_set_bookmarks() &amp;&amp; supports_get_bookmarks() &amp;&amp; require("grid", quietly = TRUE)) {
  f &lt;- tempfile(fileext = ".pdf")
  pdf(f, onefile = TRUE)
  grid.text("Page 1")
  grid.newpage()
  grid.text("Page 2")
  invisible(dev.off())

  print(get_bookmarks(f)[[1]])
  

  bookmarks &lt;- data.frame(title = c("Page 1", "Page 2"), page = c(1, 2))

  set_bookmarks(bookmarks, f)
  print(get_bookmarks(f)[[1]])
  unlink(f)
}
</code></pre>

<hr>
<h2 id='cat_bookmarks'>Concatenate pdf bookmarks</h2><span id='topic+cat_bookmarks'></span>

<h3>Description</h3>

<p><code>cat_bookmarks()</code> concatenates a list of bookmarks
into a single bookmarks data frame while updating the page numbers.
Useful if wanting to concatenate multiple pdf files together and
would like to preserve the bookmarks information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat_bookmarks(
  l,
  method = c("flat", "filename", "title"),
  open = NA,
  color = NA_character_,
  fontface = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat_bookmarks_+3A_l">l</code></td>
<td>
<p>A list of bookmark data frames as returned by <code><a href="#topic+get_bookmarks">get_bookmarks()</a></code>.
Each data frame should have a &quot;total_pages&quot; attribute.
If <code>method = "filename"</code> each data frame should have a &quot;filename&quot; attribute.
If <code>method = "title"</code> each data frame should have a &quot;title&quot; attribute.</p>
</td></tr>
<tr><td><code id="cat_bookmarks_+3A_method">method</code></td>
<td>
<p>If &quot;flat&quot; simply concatenate the bookmarks while updating page numbers.
If &quot;filename&quot; place each file's bookmarks a level under a new bookmark matching
the (base)name of the filename and then concatenate the bookmarks while updating page numbers.
If &quot;title&quot; place each file's bookmarks a level under a new bookmark matching
the title of the file and then concatenate the bookmarks while updating page numbers.</p>
</td></tr>
<tr><td><code id="cat_bookmarks_+3A_open">open</code></td>
<td>
<p>If <code>method = "filename"</code> or <code>method = "title"</code> a logical for whether the new top level bookmarks should start open?
If missing will default to open.
Note some pdf viewers quietly ignore the initially open/closed feature.</p>
</td></tr>
<tr><td><code id="cat_bookmarks_+3A_color">color</code></td>
<td>
<p>If <code>method = "filename"</code> or <code>method = "title"</code> the color of the new top level bookmarks.
If <code>NA_character_</code> will be unset (presumably defaults to &quot;black&quot;).
Note many pdf viewers quietly ignore this feature.</p>
</td></tr>
<tr><td><code id="cat_bookmarks_+3A_fontface">fontface</code></td>
<td>
<p>If <code>method = "filename"</code> or <code>method = "title"</code> should the fontface of the new top level bookmarks.
If <code>NA_character_</code> or <code>NA_integer_</code> will be unset (defaults to &quot;plain&quot;).
&quot;plain&quot; or 1 is plain, &quot;bold&quot; or 2 is bold, &quot;italic&quot; or 3 is italic,
Note many pdf viewers quietly ignore this feature.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of bookmark data (as suitable for use with <code><a href="#topic+set_bookmarks">set_bookmarks()</a></code>).
A &quot;total_pages&quot; attribute will be set for the theoretical total pages of
the concatenated document represented by the concatenated bookmarks.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_bookmarks">get_bookmarks()</a></code> and <code><a href="#topic+set_bookmarks">set_bookmarks()</a></code> for setting bookmarks.
<code><a href="#topic+cat_pages">cat_pages()</a></code> for concatenating pdf files together.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (supports_get_bookmarks() &amp;&amp;
    supports_set_bookmarks() &amp;&amp;
    supports_pdftk() &amp;&amp;
    require("grid", quietly = TRUE)) {
 # Create two different two-page pdf files
 make_pdf &lt;- function(f, title) {
   pdf(f, onefile = TRUE, title = title)
   grid.text(paste(title, "Page 1"))
   grid.newpage()
   grid.text(paste(title, "Page 2"))
   invisible(dev.off())
 }
 f1 &lt;- tempfile(fileext = "_doc1.pdf")
 on.exit(unlink(f1))
 make_pdf(f1, "Document 1")

 f2 &lt;- tempfile(fileext = "_doc2.pdf")
 on.exit(unlink(f2))
 make_pdf(f2, "Document 2")

 # Add bookmarks to the two two-page pdf files
 bookmarks &lt;- data.frame(title = c("Page 1", "Page 2"),
                         page = c(1L, 2L))
 set_bookmarks(bookmarks, f1)
 set_bookmarks(bookmarks, f2)
 l &lt;- get_bookmarks(c(f1, f2))
 print(l)

 bm &lt;- cat_bookmarks(l, method = "flat")
 cat('\nmethod = "flat":\n')
 print(bm)

 bm &lt;- cat_bookmarks(l, method = "filename")
 cat('\nmethod = "filename":\n')
 print(bm)

 bm &lt;- cat_bookmarks(l, method = "title")
 cat('\nmethod = "title":\n')
 print(bm)

 # `cat_bookmarks()` is useful for setting concatenated pdf files
 # created with `cat_pages()`
 if (supports_cat_pages()) {
    fc &lt;- tempfile(fileext = "_cat.pdf")
    on.exit(unlink(fc))
    cat_pages(c(f1, f2), fc)
    set_bookmarks(bm, fc)
    unlink(fc)
 }

 unlink(f1)
 unlink(f2)
}
</code></pre>

<hr>
<h2 id='cat_pages'>Concatenate pdf documents together</h2><span id='topic+cat_pages'></span><span id='topic+cat_pages_gs'></span><span id='topic+cat_pages_pdftk'></span><span id='topic+cat_pages_qpdf'></span>

<h3>Description</h3>

<p><code>cat_pages()</code> concatenates pdf documents together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat_pages(input, output)

cat_pages_gs(input, output)

cat_pages_pdftk(input, output)

cat_pages_qpdf(input, output)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat_pages_+3A_input">input</code></td>
<td>
<p>Filename(s) (pdf) to concatenate together</p>
</td></tr>
<tr><td><code id="cat_pages_+3A_output">output</code></td>
<td>
<p>Filename (pdf) to save concatenated output to</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cat_pages()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>cat_pages_qpdf()</code> which wraps <code><a href="qpdf.html#topic+qpdf">qpdf::pdf_combine()</a></code>
</p>
</li>
<li> <p><code>cat_pages_pdftk()</code> which wraps <code>pdftk</code> command-line tool
</p>
</li>
<li> <p><code>cat_pages_gs()</code> which wraps <code>ghostscript</code> command-line tool
</p>
</li></ol>



<h3>Value</h3>

<p>The (output) filename invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+supports_cat_pages">supports_cat_pages()</a></code>, <code><a href="#topic+supports_gs">supports_gs()</a></code>, and <code><a href="#topic+supports_pdftk">supports_pdftk()</a></code> to detect support for these features.
<code><a href="#topic+cat_bookmarks">cat_bookmarks()</a></code> for generating bookmarks for concatenated files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (supports_cat_pages() &amp;&amp; require("grid", quietly = TRUE)) {
  # Create two different two-page pdf files
  make_pdf &lt;- function(f, title) {
    pdf(f, onefile = TRUE, title = title)
    grid.text(paste(title, "Page 1"))
    grid.newpage()
    grid.text(paste(title, "Page 2"))
    invisible(dev.off())
  }
  f1 &lt;- tempfile(fileext = "_doc1.pdf")
  on.exit(unlink(f1))
  make_pdf(f1, "Document 1")

  f2 &lt;- tempfile(fileext = "_doc2.pdf")
  on.exit(unlink(f2))
  make_pdf(f2, "Document 2")

  fc &lt;- tempfile(fileext = "_cat.pdf")
  on.exit(unlink(fc))
  cat_pages(c(f1, f2), fc)

  # Use `cat_bookmarks()` to create pdf bookmarks for concatenated output files
  if (supports_get_bookmarks() &amp;&amp; supports_set_bookmarks()) {
     l &lt;- get_bookmarks(c(f1, f2))
     bm &lt;- cat_bookmarks(l, "title")
     set_bookmarks(bm, fc)
     print(get_bookmarks(fc)[[1]])
  }
  unlink(f1)
  unlink(f2)
  unlink(fc)
}
</code></pre>

<hr>
<h2 id='docinfo'>PDF documentation info dictionary object</h2><span id='topic+docinfo'></span>

<h3>Description</h3>

<p><code>docinfo()</code> creates a PDF documentation info dictionary object.
Such objects can be used with <code><a href="#topic+set_docinfo">set_docinfo()</a></code> to edit PDF documentation info dictionary entries
and such objects are returned by <code><a href="#topic+get_docinfo">get_docinfo()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>docinfo(
  author = NULL,
  creation_date = NULL,
  creator = NULL,
  producer = NULL,
  title = NULL,
  subject = NULL,
  keywords = NULL,
  mod_date = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="docinfo_+3A_author">author</code></td>
<td>
<p>The document's author.  Matching xmp metadata tag is <code>dc:creator</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_creation_date">creation_date</code></td>
<td>
<p>The date the document was created.
Will be coerced by <code><a href="datetimeoffset.html#topic+as_datetimeoffset">datetimeoffset::as_datetimeoffset()</a></code>.
Matching xmp metadata tag is <code>xmp:CreateDate</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_creator">creator</code></td>
<td>
<p>The name of the application that originally created the document (if converted to pdf).
Matching xmp metadata tag is <code>xmp:CreatorTool</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_producer">producer</code></td>
<td>
<p>The name of the application that converted the document to pdf.
Matching xmp metadata tag is <code>pdf:Producer</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_title">title</code></td>
<td>
<p>The document's title.  Matching xmp metadata tag is <code>dc:title</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_subject">subject</code></td>
<td>
<p>The document's subject.  Matching xmp metadata tag is <code>dc:description</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_keywords">keywords</code></td>
<td>
<p>Keywords for this document (for cross-document searching).
Matching xmp metadata tag is <code>pdf:Keywords</code>.
Will be coerced into a string by <code>stringi::stri_join(keywords, collapse = ", ")</code>.</p>
</td></tr>
<tr><td><code id="docinfo_+3A_mod_date">mod_date</code></td>
<td>
<p>The date the document was last modified.
Will be coerced by <code><a href="datetimeoffset.html#topic+as_datetimeoffset">datetimeoffset::as_datetimeoffset()</a></code>.
Matching xmp metadata tag is <code>xmp:ModifyDate</code>.</p>
</td></tr>
</table>


<h3>Known limitations</h3>


<ul>
<li><p> Currently does not support arbitrary info dictionary entries.
</p>
</li></ul>



<h3><code>docinfo</code> R6 Class Methods</h3>


<dl>
<dt><code>get_item(key)</code></dt><dd><p>Get documentation info value for key <code>key</code>.
Can also use the relevant active bindings to get documentation info values.</p>
</dd>
<dt><code>set_item(key, value)</code></dt><dd><p>Set documentation info key <code>key</code> with value <code>value</code>.
Can also use the relevant active bindings to set documentation info values.</p>
</dd>
<dt><code>update(x)</code></dt><dd><p>Update documentation info key entries
using non-<code>NULL</code> entries in object <code>x</code> coerced by <code><a href="#topic+as_docinfo">as_docinfo()</a></code>.</p>
</dd>
</dl>



<h3><code>docinfo</code> R6 Active Bindings</h3>


<dl>
<dt><code>author</code></dt><dd><p>The document's author.</p>
</dd>
<dt><code>creation_date</code></dt><dd><p>The date the document was created.</p>
</dd>
<dt><code>creator</code></dt><dd><p>The name of the application that originally created the document (if converted to pdf).</p>
</dd>
<dt><code>producer</code></dt><dd><p>The name of the application that converted the document to pdf.</p>
</dd>
<dt><code>title</code></dt><dd><p>The document's title.</p>
</dd>
<dt><code>subject</code></dt><dd><p>The document's subject.</p>
</dd>
<dt><code>keywords</code></dt><dd><p>Keywords for this document (for cross-document searching).</p>
</dd>
<dt><code>mod_date</code></dt><dd><p>The date the document was last modified.</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+get_docinfo">get_docinfo()</a></code> and <code><a href="#topic+set_docinfo">set_docinfo()</a></code> for getting/setting such information from/to PDF files.
<code><a href="#topic+as_docinfo">as_docinfo()</a></code> for coercing to this object.
<code><a href="#topic+as_xmp">as_xmp()</a></code> can be used to coerce <code>docinfo()</code> objects into <code><a href="#topic+xmp">xmp()</a></code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (supports_set_docinfo() &amp;&amp; supports_get_docinfo() &amp;&amp; require("grid", quietly = TRUE)) {
  f &lt;- tempfile(fileext = ".pdf")
  pdf(f, onefile = TRUE)
  grid.text("Page 1")
  grid.newpage()
  grid.text("Page 2")
  invisible(dev.off())

  cat("\nInitial documentation info\n")
  d &lt;- get_docinfo(f)[[1]]
  print(d)

  d &lt;- update(d,
              author = "John Doe",
              title = "Two Boring Pages",
              keywords = "R, xmpdf")
  set_docinfo(d, f)

  cat("\nDocumentation info after setting it\n")
  print(get_docinfo(f)[[1]])

  unlink(f)
}
</code></pre>

<hr>
<h2 id='edit_docinfo'>Set/get pdf document info dictionary</h2><span id='topic+edit_docinfo'></span><span id='topic+get_docinfo'></span><span id='topic+get_docinfo_pdftools'></span><span id='topic+get_docinfo_exiftool'></span><span id='topic+set_docinfo_exiftool'></span><span id='topic+get_docinfo_pdftk'></span><span id='topic+set_docinfo'></span><span id='topic+set_docinfo_gs'></span><span id='topic+set_docinfo_pdftk'></span>

<h3>Description</h3>

<p><code>get_docinfo()</code> gets pdf document info from a file.
<code>set_docinfo()</code> sets pdf document info for a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_docinfo(filename, use_names = TRUE)

get_docinfo_pdftools(filename, use_names = TRUE)

get_docinfo_exiftool(filename, use_names = TRUE)

set_docinfo_exiftool(docinfo, input, output = input)

get_docinfo_pdftk(filename, use_names = TRUE)

set_docinfo(docinfo, input, output = input)

set_docinfo_gs(docinfo, input, output = input)

set_docinfo_pdftk(docinfo, input, output = input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit_docinfo_+3A_filename">filename</code></td>
<td>
<p>Filename(s) (pdf) to extract info dictionary entries from.</p>
</td></tr>
<tr><td><code id="edit_docinfo_+3A_use_names">use_names</code></td>
<td>
<p>If <code>TRUE</code> (default) use <code>filename</code> as the names of the result.</p>
</td></tr>
<tr><td><code id="edit_docinfo_+3A_docinfo">docinfo</code></td>
<td>
<p>A &quot;docinfo&quot; object (as returned by <code><a href="#topic+docinfo">docinfo()</a></code> or <code><a href="#topic+get_docinfo">get_docinfo()</a></code>).</p>
</td></tr>
<tr><td><code id="edit_docinfo_+3A_input">input</code></td>
<td>
<p>Input pdf filename.</p>
</td></tr>
<tr><td><code id="edit_docinfo_+3A_output">output</code></td>
<td>
<p>Output pdf filename.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_docinfo()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>get_docinfo_pdftk()</code> which wraps <code>pdftk</code> command-line tool
</p>
</li>
<li> <p><code>get_docinfo_exiftool()</code> which wraps <code>exiftool</code> command-line tool
</p>
</li>
<li> <p><code>get_docinfo_pdftools()</code> which wraps <code><a href="pdftools.html#topic+pdftools">pdftools::pdf_info()</a></code>
</p>
</li></ol>

<p><code>set_docinfo()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>set_docinfo_exiftool()</code> which wraps <code>exiftool</code> command-line tool
</p>
</li>
<li> <p><code>set_docinfo_gs()</code> which wraps <code>ghostscript</code> command-line tool
</p>
</li>
<li> <p><code>set_docinfo_pdftk()</code> which wraps <code>pdftk</code> command-line tool
</p>
</li></ol>



<h3>Value</h3>

<p><code>docinfo()</code> returns a &quot;docinfo&quot; R6 class.
<code>get_docinfo()</code> returns a list of &quot;docinfo&quot; R6 classes.
<code>set_docinfo()</code> returns the (output) filename invisibly.
</p>


<h3>Known limitations</h3>


<ul>
<li><p> Currently does not support arbitrary info dictionary entries.
</p>
</li>
<li><p> As a side effect <code>set_docinfo_gs()</code> seems to also update in previously set matching XPN metadata
while <code>set_docinfo_exiftool()</code> and <code>set_docinfo_pdftk()</code> don't update
any previously set matching XPN metadata.
Some pdf viewers will preferentially use the previously set document title from XPN metadata
if it exists instead of using the title set in documentation info dictionary entry.
Consider also manually setting this XPN metadata using <code><a href="#topic+set_xmp">set_xmp()</a></code>.
</p>
</li>
<li><p> Old metadata information is usually not deleted from the pdf file by these operations.
If deleting the old metadata is important one may want to try
<code>qpdf::pdf_compress(input, linearize = TRUE)</code>.
</p>
</li>
<li> <p><code>get_docinfo_exiftool()</code> will &quot;widen&quot; datetimes to second precision.
</p>
</li>
<li> <p><code>get_docinfo_pdftools()</code>'s datetimes may not accurately reflect the embedded datetimes.
</p>
</li>
<li> <p><code>set_docinfo_pdftk()</code> may not correctly handle documentation info entries with newlines in them.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+docinfo">docinfo()</a></code> for more information about the documentation info objects.  <code><a href="#topic+supports_get_docinfo">supports_get_docinfo()</a></code>, <code><a href="#topic+supports_set_docinfo">supports_set_docinfo()</a></code>, <code><a href="#topic+supports_gs">supports_gs()</a></code>, and <code><a href="#topic+supports_pdftk">supports_pdftk()</a></code> to detect support for these features. For more info about the pdf document info dictionary see
<a href="https://opensource.adobe.com/dc-acrobat-sdk-docs/library/pdfmark/pdfmark_Basic.html#document-info-dictionary-docinfo">https://opensource.adobe.com/dc-acrobat-sdk-docs/library/pdfmark/pdfmark_Basic.html#document-info-dictionary-docinfo</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (supports_set_docinfo() &amp;&amp; supports_get_docinfo() &amp;&amp; require("grid", quietly = TRUE)) {
  f &lt;- tempfile(fileext = ".pdf")
  pdf(f, onefile = TRUE)
  grid.text("Page 1")
  grid.newpage()
  grid.text("Page 2")
  invisible(dev.off())

  cat("\nInitial documentation info:\n\n")
  d &lt;- get_docinfo(f)[[1]]
  print(d)

  d &lt;- update(d,
              author = "John Doe",
              title = "Two Boring Pages",
              keywords = c("R", "xmpdf"))
  set_docinfo(d, f)

  cat("\nDocumentation info after setting it:\n\n")
  print(get_docinfo(f)[[1]])

  unlink(f)
}
</code></pre>

<hr>
<h2 id='edit_xmp'>Set/get xmp metadata</h2><span id='topic+edit_xmp'></span><span id='topic+get_xmp'></span><span id='topic+get_xmp_exiftool'></span><span id='topic+set_xmp'></span><span id='topic+set_xmp_exiftool'></span>

<h3>Description</h3>

<p><code>get_xmp()</code> gets xmp metadata from a file.
<code>set_xmp()</code> sets xmp metadata for a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_xmp(filename, use_names = TRUE)

get_xmp_exiftool(filename, use_names = TRUE)

set_xmp(xmp, input, output = input)

set_xmp_exiftool(xmp, input, output = input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit_xmp_+3A_filename">filename</code></td>
<td>
<p>Filename(s) to extract xmp metadata from.</p>
</td></tr>
<tr><td><code id="edit_xmp_+3A_use_names">use_names</code></td>
<td>
<p>If <code>TRUE</code> (default) use <code>filename</code> as the names of the result.</p>
</td></tr>
<tr><td><code id="edit_xmp_+3A_xmp">xmp</code></td>
<td>
<p>An <code><a href="#topic+xmp">xmp()</a></code> object.</p>
</td></tr>
<tr><td><code id="edit_xmp_+3A_input">input</code></td>
<td>
<p>Input filename.</p>
</td></tr>
<tr><td><code id="edit_xmp_+3A_output">output</code></td>
<td>
<p>Output filename.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_xmp()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>get_xmp_exiftool()</code> which wraps <code>exiftool</code> command-line tool
</p>
</li></ol>

<p><code>set_xmp()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>set_xmp_exiftool()</code> which wraps <code>exiftool</code> command-line tool
</p>
</li></ol>



<h3>Value</h3>

<p><code>get_xmp()</code> returns a list of <code><a href="#topic+xmp">xmp()</a></code> objects.
<code>set_xmp()</code> returns the (output) filename invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xmp">xmp()</a></code> for more information about xmp metadata objects.
<code><a href="#topic+supports_get_xmp">supports_get_xmp()</a></code>, <code><a href="#topic+supports_set_xmp">supports_set_xmp()</a></code>, and <code><a href="#topic+supports_exiftool">supports_exiftool()</a></code> to detect support for these features.  For more info about xmp metadata see <a href="https://www.exiftool.org/TagNames/XMP.html">https://www.exiftool.org/TagNames/XMP.html</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  x &lt;- xmp(attribution_url = "https://example.com/attribution",
           creator = "John Doe",
           description = "An image caption",
           date_created = Sys.Date(),
           spdx_id = "CC-BY-4.0")
  print(x)
  print(x, mode = "google_images", xmp_only = TRUE)
  print(x, mode = "creative_commons", xmp_only = TRUE)

  if (supports_set_xmp() &amp;&amp;
      supports_get_xmp() &amp;&amp;
      capabilities("png") &amp;&amp;
      requireNamespace("grid", quietly = TRUE)) {

    f &lt;- tempfile(fileext = ".png")
    png(f)
    grid::grid.text("This is an image!")
    invisible(dev.off())
    set_xmp(x, f)
    print(get_xmp(f)[[1]])
  }
</code></pre>

<hr>
<h2 id='enable_feature_message'>Messages for how to enable feature</h2><span id='topic+enable_feature_message'></span>

<h3>Description</h3>

<p><code>enable_feature_message()</code> returns a character vector with the information
needed to install the requested feature.
Formatted for use with <code><a href="rlang.html#topic+abort">rlang::abort()</a></code>, <code><a href="rlang.html#topic+abort">rlang::warn()</a></code>, or <code><a href="rlang.html#topic+abort">rlang::inform()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enable_feature_message(
  feature = c("cat_pages", "get_bookmarks", "get_docinfo", "get_xmp", "n_pages",
    "set_bookmarks", "set_docinfo", "set_xmp")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="enable_feature_message_+3A_feature">feature</code></td>
<td>
<p>Which <code>xmpdf</code> feature to give information for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector formatted for use with <code><a href="rlang.html#topic+abort">rlang::abort()</a></code>, <code><a href="rlang.html#topic+abort">rlang::warn()</a></code>, or <code><a href="rlang.html#topic+abort">rlang::inform()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  rlang::inform(enable_feature_message("get_bookmarks"))
</code></pre>

<hr>
<h2 id='n_pages'>Get number of pages in a document</h2><span id='topic+n_pages'></span><span id='topic+n_pages_exiftool'></span><span id='topic+n_pages_qpdf'></span><span id='topic+n_pages_pdftk'></span><span id='topic+n_pages_gs'></span>

<h3>Description</h3>

<p><code>n_pages()</code> returns the number of pages in the (pdf) file(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_pages(filename, use_names = TRUE)

n_pages_exiftool(filename, use_names = TRUE)

n_pages_qpdf(filename, use_names = TRUE)

n_pages_pdftk(filename, use_names = TRUE)

n_pages_gs(filename, use_names = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_pages_+3A_filename">filename</code></td>
<td>
<p>Character vector of filenames.</p>
</td></tr>
<tr><td><code id="n_pages_+3A_use_names">use_names</code></td>
<td>
<p>If <code>TRUE</code> (default) use <code>filename</code> as the names of the result.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>n_pages()</code> will try to use the following helper functions in the following order:
</p>

<ol>
<li> <p><code>n_pages_qpdf()</code> which wraps <code><a href="qpdf.html#topic+qpdf">qpdf::pdf_length()</a></code>
</p>
</li>
<li> <p><code>n_pages_exiftool()</code> which wraps <code>exiftool</code> command-line tool
</p>
</li>
<li> <p><code>n_pages_pdftk()</code> which wraps <code>pdftk</code> command-line tool
</p>
</li>
<li> <p><code>n_pages_gs()</code> which wraps <code>ghostscript</code> command-line tool
</p>
</li></ol>



<h3>Value</h3>

<p>An integer vector of number of pages within each file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+supports_n_pages">supports_n_pages()</a></code> detects support for this feature.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (supports_n_pages() &amp;&amp; require("grid", quietly = TRUE)) {
  f &lt;- tempfile(fileext = ".pdf")
  pdf(f, onefile = TRUE)
  grid.text("Page 1")
  grid.newpage()
  grid.text("Page 2")
  invisible(dev.off())
  print(n_pages(f))
  unlink(f)
}
</code></pre>

<hr>
<h2 id='spdx_licenses'>SPDX License List data</h2><span id='topic+spdx_licenses'></span>

<h3>Description</h3>

<p><code>spdx_licenses</code> is a data frame of SPDX License List data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spdx_licenses
</code></pre>


<h3>Format</h3>

<p>a data frame with eight variables:
</p>

<dl>
<dt>id</dt><dd><p>SPDX Identifier.</p>
</dd>
<dt>name</dt><dd><p>Full name of license.
For Creative Commons licenses these have been tweaked from the SPDX version
to more closely match the full name used by Creative Commons Foundation. </p>
</dd>
<dt>url</dt><dd><p>URL for copy of license located at <code>spdx.org</code></p>
</dd>
<dt>fsf</dt><dd><p>Is this license considered Free/Libre by the FSF?</p>
</dd>
<dt>osi</dt><dd><p>Is this license OSI approved?</p>
</dd>
<dt>deprecated</dt><dd><p>Has this SPDFX Identifier been deprecated by SPDX?</p>
</dd>
<dt>url_alt</dt><dd><p>Alternative URL for license.
Manually created for a subset of Creative Commons licenses.
Others taken from <a href="https://github.com/sindresorhus/spdx-license-list">https://github.com/sindresorhus/spdx-license-list</a>.
</p>
</dd>
<dt>pd</dt><dd><p>Is this license a &quot;public domain&quot; license?  Manually created.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>See <a href="https://spdx.org/licenses/">https://spdx.org/licenses/</a> for more information.
</p>

<hr>
<h2 id='supports'>Detect support for features</h2><span id='topic+supports'></span><span id='topic+supports_get_bookmarks'></span><span id='topic+supports_set_bookmarks'></span><span id='topic+supports_get_docinfo'></span><span id='topic+supports_set_docinfo'></span><span id='topic+supports_get_xmp'></span><span id='topic+supports_set_xmp'></span><span id='topic+supports_cat_pages'></span><span id='topic+supports_n_pages'></span><span id='topic+supports_exiftool'></span><span id='topic+supports_gs'></span><span id='topic+supports_pdftk'></span>

<h3>Description</h3>

<p><code>supports_get_bookmarks()</code>, <code>supports_set_bookmarks()</code>,
<code>supports_get_docinfo()</code>, <code>supports_set_docinfo()</code>,
<code>supports_get_xmp()</code>, <code>supports_set_xmp()</code>,
<code>supports_cat_pages()</code>, and <code>supports_n_pages()</code>
detects support for the functions
<code><a href="#topic+get_bookmarks">get_bookmarks()</a></code>, <code><a href="#topic+set_bookmarks">set_bookmarks()</a></code>,
<code><a href="#topic+get_docinfo">get_docinfo()</a></code>, <code><a href="#topic+set_docinfo">set_docinfo()</a></code>,
<code><a href="#topic+get_xmp">get_xmp()</a></code>, <code><a href="#topic+set_xmp">set_xmp()</a></code>,
<code><a href="#topic+cat_pages">cat_pages()</a></code>, and <code><a href="#topic+n_pages">n_pages()</a></code> respectively.
<code>supports_exiftool()</code>, <code>supports_gs()</code> and <code>supports_pdftk()</code>
detects support for the command-line tools
<code>exiftool</code>, <code>ghostscript</code> and <code>pdftk</code> respectively as used by various lower-level functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>supports_get_bookmarks()

supports_set_bookmarks()

supports_get_docinfo()

supports_set_docinfo()

supports_get_xmp()

supports_set_xmp()

supports_cat_pages()

supports_n_pages()

supports_exiftool()

supports_gs()

supports_pdftk()
</code></pre>


<h3>Details</h3>


<ul>
<li> <p><code>supports_exiftool()</code> detects support for the command-line tool <code>exiftool</code> which is
required for <code><a href="#topic+get_docinfo_exiftool">get_docinfo_exiftool()</a></code>, <code><a href="#topic+get_xmp_exiftool">get_xmp_exiftool()</a></code>, <code><a href="#topic+set_xmp_exiftool">set_xmp_exiftool()</a></code>, and <code><a href="#topic+n_pages_exiftool">n_pages_exiftool()</a></code>.
</p>
</li>
<li> <p><code>supports_gs()</code> detects support for the command-line tool <code>ghostscript</code> which is
required for <code><a href="#topic+set_docinfo_gs">set_docinfo_gs()</a></code>, <code><a href="#topic+set_bookmarks_gs">set_bookmarks_gs()</a></code>, <code><a href="#topic+cat_pages_gs">cat_pages_gs()</a></code>, and <code><a href="#topic+n_pages_gs">n_pages_gs()</a></code>.
</p>
</li>
<li> <p><code>supports_pdftk()</code> detects support for the command-line tool <code>pdftk</code> which is
required for <code><a href="#topic+get_bookmarks_pdftk">get_bookmarks_pdftk()</a></code>, <code><a href="#topic+set_bookmarks_pdftk">set_bookmarks_pdftk()</a></code>,
<code><a href="#topic+get_docinfo_pdftk">get_docinfo_pdftk()</a></code>, <code><a href="#topic+set_docinfo_pdftk">set_docinfo_pdftk()</a></code>, <code><a href="#topic+cat_pages_pdftk">cat_pages_pdftk()</a></code>, and <code><a href="#topic+n_pages_pdftk">n_pages_pdftk()</a></code>.
</p>
</li>
<li> <p><code>requireNamespace("pdftools", quietly = TRUE)</code> detects support for the R packages <code>pdftools</code>
which is required for <code><a href="#topic+get_bookmarks_pdftools">get_bookmarks_pdftools()</a></code> and <code><a href="#topic+get_docinfo_pdftools">get_docinfo_pdftools()</a></code>.
</p>
</li>
<li> <p><code>requireNamespace("qpdf", quietly = TRUE)</code> detects support for the R packages <code>qpdf</code>
which is required for <code><a href="#topic+cat_pages_qpdf">cat_pages_qpdf()</a></code> and <code><a href="#topic+n_pages_qpdf">n_pages_qpdf()</a></code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  # Detect for higher-level features
  supports_get_docinfo()
  supports_set_docinfo()
  supports_get_bookmarks()
  supports_set_bookmarks()
  supports_get_xmp()
  supports_set_xmp()
  supports_cat_pages()
  supports_n_pages()

  # Detect support for lower-level helper features
  supports_exiftool()
  supports_gs()
  supports_pdftk()
  print(requireNamespace("pdftools", quietly = TRUE))
  print(requireNamespace("qpdf", quietly = TRUE))
</code></pre>

<hr>
<h2 id='xmp'>XMP metadata object</h2><span id='topic+xmp'></span>

<h3>Description</h3>

<p><code>xmp()</code> creates an XMP metadata object.
Such objects can be used with <code><a href="#topic+set_xmp">set_xmp()</a></code> to edit XMP medata for a variety of media formats
and such objects are returned by <code><a href="#topic+get_xmp">get_xmp()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xmp(
  ...,
  alt_text = NULL,
  attribution_name = NULL,
  attribution_url = NULL,
  create_date = NULL,
  creator = NULL,
  creator_tool = NULL,
  credit = NULL,
  date_created = NULL,
  description = NULL,
  ext_description = NULL,
  headline = NULL,
  keywords = NULL,
  license = NULL,
  marked = NULL,
  modify_date = NULL,
  more_permissions = NULL,
  producer = NULL,
  rights = NULL,
  subject = NULL,
  title = NULL,
  usage_terms = NULL,
  web_statement = NULL,
  auto_xmp = c("cc:attributionName", "cc:license", "dc:rights", "dc:subject",
    "photoshop:Credit", "xmpRights:Marked", "xmpRights:UsageTerms",
    "xmpRights:WebStatement"),
  spdx_id = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xmp_+3A_...">...</code></td>
<td>
<p>Entries of xmp metadata.  The names are either the xmp tag names or alternatively the xmp namespace and tag names separated by &quot;:&quot;.  The values are the xmp values.</p>
</td></tr>
<tr><td><code id="xmp_+3A_alt_text">alt_text</code></td>
<td>
<p>Brief textual description that can be used as its &quot;alt text&quot; (XMP tag <code>Iptc4xmpCore:AltTextAccessibility</code>).
Will be coerced by <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.
Core IPTC photo metadata.</p>
</td></tr>
<tr><td><code id="xmp_+3A_attribution_name">attribution_name</code></td>
<td>
<p>The name to be used when attributing the work (XMP tag <code>cc:attributionName</code>).
Recommended by Creative Commons.
If missing and <code>"cc:attributionName"</code> in <code>auto_xmp</code> and
and <code>photoshop:Credit</code> non-missing will use that else if <code>dc:creator</code> non-missing
then will automatically use <code>stringi::stri_join(creator, collapse = " and ")</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_attribution_url">attribution_url</code></td>
<td>
<p>The URL to be used when attributing the work (XMP tag <code>cc:attributionURL</code>).
Recommended by Creative Commons.</p>
</td></tr>
<tr><td><code id="xmp_+3A_create_date">create_date</code></td>
<td>
<p>The date the digital document was created (XMP tag <code>xmp:CreateDate</code>).
Will be coerced by <code><a href="datetimeoffset.html#topic+as_datetimeoffset">datetimeoffset::as_datetimeoffset()</a></code>.
Related pdf documentation info key is <code>CreationDate</code>.
Not to be confused with <code>photoshop:DateCreated</code> which is the
date the intellectual content was created.</p>
</td></tr>
<tr><td><code id="xmp_+3A_creator">creator</code></td>
<td>
<p>The document's author(s) (XMP tag <code>dc:creator</code>).
Related pdf documentation info key is <code>Author</code>.
Core IPTC photo metadata used by Google Photos.
If <code>credit</code> is missing and <code>"photoshop:Credit"</code> in <code>auto_xmp</code> then
we'll also use this for the <code>photoshop:Credit</code> XMP tag.</p>
</td></tr>
<tr><td><code id="xmp_+3A_creator_tool">creator_tool</code></td>
<td>
<p>The name of the application that originally created the document (XMP tag <code>xmp:CreatorTool</code>).
Related pdf documentation info key is <code>Creator</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_credit">credit</code></td>
<td>
<p>Credit line field (XMP tag <code>photoshop:Credit</code>).
Core IPTC photo metadata used by Google Photos.
If missing and <code>"photoshop:Credit"</code> in <code>auto_xmp</code> and <code>dc:creator</code> non-missing
then will automatically use <code>stringi::stri_join(creator, collapse = " and ")</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_date_created">date_created</code></td>
<td>
<p>The date the intellectual content was created (XMP tag <code>photoshop:DateCreated</code>).
Will be coerced by <code><a href="datetimeoffset.html#topic+as_datetimeoffset">datetimeoffset::as_datetimeoffset()</a></code>.
Core IPTC photo metadata.
Not to be confused with <code>xmp:CreateDate</code> for when the digital document was created.</p>
</td></tr>
<tr><td><code id="xmp_+3A_description">description</code></td>
<td>
<p>The document's subject (XMP tag <code>dc:description</code>).
Will be coerced by <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.
Core IPTC photo metadata.
Related pdf documentation info key is <code>Subject</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_ext_description">ext_description</code></td>
<td>
<p>An extended description (for accessibility)
if the &quot;alt text&quot; is insufficient (XMP tag <code>Iptc4xmpCore:ExtDescrAccessibility</code>).
Will be coerced by <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.
Core IPTC photo metadata.</p>
</td></tr>
<tr><td><code id="xmp_+3A_headline">headline</code></td>
<td>
<p>A short synopsis of the document (XMP tag <code>photoshop:Headline</code>).
Core IPTC photo metadata.</p>
</td></tr>
<tr><td><code id="xmp_+3A_keywords">keywords</code></td>
<td>
<p>Character vector of keywords for this document (for cross-document searching).
Related pdf documentation info key is <code>pdf:Keywords</code>.
Will be coerced into a string by <code>stringi::stri_join(keywords, collapse = ", ")</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_license">license</code></td>
<td>
<p>The URL of (open source) license terms (XMP tag <code>cc:license</code>).
Recommended by Creative Commons.
Note <code>xmpRights:WebStatement</code> set in <code>web_statement</code> is a more popular XMP tag (e.g. used by Google Images)
that can also hold the URL of license terms or a verifying web statement.
If <code>cc:license</code> in <code>auto_xmp</code> and <code>spdx_id</code> is not <code>NULL</code> then
we'll automatically use an URL from <a href="#topic+spdx_licenses">spdx_licenses</a> corresponding to that license.</p>
</td></tr>
<tr><td><code id="xmp_+3A_marked">marked</code></td>
<td>
<p>Whether the document is a rights-managed resource (XMP tag <code>xmpRights:Marked</code>).
Use <code>TRUE</code> if rights-managed, <code>FALSE</code> if public domain, and <code>NULL</code> if unknown.
Creative Commons recommends setting this.
If <code>xmpRights:Marked</code> in <code>auto_xmp</code> and <code>spdx_id</code> is not <code>NULL</code> then
we can automatically set this for a subset of SPDX licenses (including all Creative Commons licenses).</p>
</td></tr>
<tr><td><code id="xmp_+3A_modify_date">modify_date</code></td>
<td>
<p>The date the document was last modified (XMP tag <code>xmp:ModifyDate</code>).
Will be coerced by <code><a href="datetimeoffset.html#topic+as_datetimeoffset">datetimeoffset::as_datetimeoffset()</a></code>.
Related pdf documentation info key is <code>ModDate</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_more_permissions">more_permissions</code></td>
<td>
<p>A URL for additional permissions beyond the <code>license</code> (XMP tag <code>cc:morePermissions</code>).
Recommended by Creative Commons.
Contrast with the <code>LicensorURL</code> property of <code>plus:Licensor</code> XMP tag.</p>
</td></tr>
<tr><td><code id="xmp_+3A_producer">producer</code></td>
<td>
<p>The name of the application that converted the document to pdf (XMP tag <code>pdf:Producer</code>).
Related pdf documentation info key is <code>Producer</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_rights">rights</code></td>
<td>
<p>(copy)right information about the document (XMP tag <code>dc:rights</code>).
Will be coerced by <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.
Core IPTC photo metadata used by Google Photos that Creative Commons also recommends setting.
If <code>dc:rights</code> in <code>auto_xmp</code> and <code>creator</code> and <code>date_created</code> are not <code>NULL</code> then
we can automatically generate a basic copyright statement with the help of <code>spdx_id</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_subject">subject</code></td>
<td>
<p>List of description phrases, keywords, classification codes (XMP tag <code>dc:subject</code>).
Core IPTC photo metadata.
A character vector.
Similar but less popular to the XMP tag <code>pdf:Keywords</code> which is a string.
If <code>dc:subject</code> in <code>auto_xmp</code> and <code>keywords</code> is not NULL then we can
automatically extract the keywords from it using <code>strsplit(keywords, ", ")[[1]]</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_title">title</code></td>
<td>
<p>The document's title (XMP tag <code>dc:title</code>).
Will be coerced by <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.
Related pdf documentation info key is <code>Title</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_usage_terms">usage_terms</code></td>
<td>
<p>A string describing legal terms of use for the document (XMP tag <code>xmpRights:UsageTerms</code>).
Will be coerced by <code><a href="#topic+as_lang_alt">as_lang_alt()</a></code>.
Core IPTC photo metadata and recommended by Creative Commons.
If <code>xmpRights:UsageTerms</code> in <code>auto_xmp</code> and <code>spdx_id</code> is not <code>NULL</code> then
we can automatically set this with that license's name and URL.</p>
</td></tr>
<tr><td><code id="xmp_+3A_web_statement">web_statement</code></td>
<td>
<p>Web Statement of Rights (XMP tag <code>xmpRights:WebStatement</code>):
a string of a full URL with license information about the page.
If <code>xmpRights:WebStatement</code> in <code>auto_xmp</code> and <code>spdx_id</code> is not <code>NULL</code> then
we'll automatically use an URL from <a href="#topic+spdx_licenses">spdx_licenses</a> corresponding to that license.
Core IPTC photo metadata used by Google Photos.
Also recommended by Creative Commons (who also recommends using a &quot;verifying&quot; web statement).</p>
</td></tr>
<tr><td><code id="xmp_+3A_auto_xmp">auto_xmp</code></td>
<td>
<p>Character vector of XMP metadata we should try to automatically determine
if missing from other XMP metadata and <code>spdx_id</code>.</p>
</td></tr>
<tr><td><code id="xmp_+3A_spdx_id">spdx_id</code></td>
<td>
<p>The id of a license in the SPDX license list.  See <a href="#topic+spdx_licenses">spdx_licenses</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An xmp object as can be used with <code><a href="#topic+set_xmp">set_xmp()</a></code>.  Basically a named list whose names are the (optional) xmp namespace and tag names separated by &quot;:&quot; and the values are the xmp values.
Datetimes should be a datetime object such as <code><a href="base.html#topic+POSIXlt">POSIXlt()</a></code>.
</p>


<h3><code>xmp</code> R6 Class Methods</h3>


<dl>
<dt><code>fig_process(..., auto = c("fig.alt", "fig.cap", "fig.scap"))</code></dt><dd>
<p>Returns a function to embed XMP metadata suitable for use with
<code>{knitr}</code>'s <code>fig.process</code> chunk option.
<code>...</code> are local XMP metadata changes for this function.
<code>auto</code> are which chunk options should be used to further update metadata values.</p>
</dd>
<dt><code>get_item(key)</code></dt><dd><p>Get XMP metadata value for key <code>key</code>.
Can also use the relevant active bindings to get more common values.</p>
</dd>
<dt><code>print(mode = c("null_omit", "google_images", "creative_commons", "all"), xmp_only = FALSE)</code></dt><dd>
<p>Print out XMP metadata values.  If <code>mode</code> is &quot;null_omit&quot; print out
which metadata would be embedded.  If <code>mode</code> is &quot;google images&quot; print out
values for the five fields Google Images uses.  If <code>mode</code> is <code>creative_commons</code>
print out the values for the fields Creative Commons recommends be set when
using their licenses.  If mode is <code>all</code> print out values for all
XMP metadata that we provide active bindings for (even if <code>NULL</code>).
If <code>xmp_only</code> is <code>TRUE</code> then don't print out <code>spdx_id</code> and <code>auto_xmp</code> values.</p>
</dd>
<dt><code>set_item(key, value)</code></dt><dd><p>Set XMP metadata key <code>key</code> with value <code>value</code>.
Can also use the relevant active bindings to set XMP metadata values.</p>
</dd>
<dt><code>update(x)</code></dt><dd><p>Update XMP metadata entries
using non-<code>NULL</code> entries in <code>x</code> coerced by <code><a href="#topic+as_xmp">as_xmp()</a></code>.</p>
</dd>
</dl>



<h3><code>xmp</code> R6 Active Bindings</h3>


<dl>
<dt><code>alt_text</code></dt><dd><p>The image's alt text (accessibility).</p>
</dd>
<dt><code>attribution_name</code></dt><dd><p>The name to attribute the document.</p>
</dd>
<dt><code>attribution_url</code></dt><dd><p>The URL to attribute the document.</p>
</dd>
<dt><code>create_date</code></dt><dd><p>The date the document was created.</p>
</dd>
<dt><code>creator</code></dt><dd><p>The document's author.</p>
</dd>
<dt><code>creator_tool</code></dt><dd><p>The name of the application that originally created the document.</p>
</dd>
<dt><code>credit</code></dt><dd><p>Credit line.</p>
</dd>
<dt><code>date_created</code></dt><dd><p>The date the document's intellectual content was created</p>
</dd>
<dt><code>description</code></dt><dd><p>The document's description.</p>
</dd>
<dt><code>ext_description</code></dt><dd><p>An extended description for accessibility.</p>
</dd>
<dt><code>headline</code></dt><dd><p>A short synopsis of document.</p>
</dd>
<dt><code>keywords</code></dt><dd><p>String of keywords for this document (less popular than <code>subject</code>)).</p>
</dd>
<dt><code>license</code></dt><dd><p>URL of (open-source) license terms the document is licensed under.</p>
</dd>
<dt><code>marked</code></dt><dd><p>Boolean of whether this is a rights-managed document.</p>
</dd>
<dt><code>modify_date</code></dt><dd><p>The date the document was last modified.</p>
</dd>
<dt><code>more_permissions</code></dt><dd><p>URL for acquiring additional permissions beyond <code>license</code>.</p>
</dd>
<dt><code>producer</code></dt><dd><p>The name of the application that converted the document (to pdf).</p>
</dd>
<dt><code>rights</code></dt><dd><p>The document's copy(right) information.</p>
</dd>
<dt><code>subject</code></dt><dd><p>Vector of key phrases/words/codes for this document (more popular than <code>keywords</code>)).</p>
</dd>
<dt><code>title</code></dt><dd><p>The document's title.</p>
</dd>
<dt><code>usage_terms</code></dt><dd><p>The document's rights usage terms.</p>
</dd>
<dt><code>web_statement</code></dt><dd><p>A URL string for the web statement of rights for the document.</p>
</dd>
<dt><code>spdx_id</code></dt><dd><p>The id of a license in the SPDX license list.  See <a href="#topic+spdx_licenses">spdx_licenses</a>.</p>
</dd>
<dt><code>auto_xmp</code></dt><dd><p>Character vector of XMP metadata we should try to automatically determine
if missing from other XMP metadata and <code>spdx_id</code>.</p>
</dd>
</dl>



<h3>XMP tag recommendations</h3>


<ul>
<li> <p><a href="https://exiftool.org/TagNames/XMP.html">https://exiftool.org/TagNames/XMP.html</a> recommends &quot;dc&quot;, &quot;xmp&quot;, &quot;Iptc4xmpCore&quot;, and &quot;Iptc4xmpExt&quot; schemas if possible
</p>
</li>
<li> <p><a href="https://github.com/adobe/xmp-docs/tree/master/XMPNamespaces">https://github.com/adobe/xmp-docs/tree/master/XMPNamespaces</a> are descriptions of some common XMP tags
</p>
</li>
<li> <p><a href="https://www.iptc.org/std/photometadata/specification/IPTC-PhotoMetadata#xmp-namespaces-and-identifiers">https://www.iptc.org/std/photometadata/specification/IPTC-PhotoMetadata#xmp-namespaces-and-identifiers</a> is popular for photos
</p>
</li>
<li> <p><a href="https://developers.google.com/search/docs/appearance/structured-data/image-license-metadata#iptc-photo-metadata">https://developers.google.com/search/docs/appearance/structured-data/image-license-metadata#iptc-photo-metadata</a> are the subset of IPTC photo metadata which Google Photos uses (if no structured data on web page)
</p>
</li>
<li> <p><a href="https://wiki.creativecommons.org/wiki/XMP">https://wiki.creativecommons.org/wiki/XMP</a> are Creative Commons license recommendations
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+get_xmp">get_xmp()</a></code> and <code><a href="#topic+set_xmp">set_xmp()</a></code> for getting/setting such information from/to a variety of media file formats.
<code><a href="#topic+as_xmp">as_xmp()</a></code> for coercing to this object.
<code><a href="#topic+as_docinfo">as_docinfo()</a></code> can be used to coerce <code>xmp()</code> objects into <code><a href="#topic+docinfo">docinfo()</a></code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  x &lt;- xmp(attribution_url = "https://example.com/attribution",
           creator = "John Doe",
           description = "An image caption",
           date_created = Sys.Date(),
           spdx_id = "CC-BY-4.0")
  print(x)
  print(x, mode = "google_images", xmp_only = TRUE)
  print(x, mode = "creative_commons", xmp_only = TRUE)

  if (supports_set_xmp() &amp;&amp;
      supports_get_xmp() &amp;&amp;
      capabilities("png") &amp;&amp;
      requireNamespace("grid", quietly = TRUE)) {

    f &lt;- tempfile(fileext = ".png")
    png(f)
    grid::grid.text("This is an image!")
    invisible(dev.off())
    set_xmp(x, f)
    print(get_xmp(f)[[1]])
  }
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

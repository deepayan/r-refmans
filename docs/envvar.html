<!DOCTYPE html><html><head><title>Help for package envvar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {envvar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#envvar_get'><p>Get the value of an environment variable</p></a></li>
<li><a href='#envvar_get_file'><p>Environment variables for files and directories</p></a></li>
<li><a href='#envvar_get_integer'><p>Get the value of an environment variable as a particular type</p></a></li>
<li><a href='#envvar_get_list'><p>Environment variables containing lists</p></a></li>
<li><a href='#envvar_get_url'><p>Environment variables for internet and network-related values</p></a></li>
<li><a href='#envvar_get_uuid'><p>Environment variables for UUIDs</p></a></li>
<li><a href='#envvar_is_set'><p>Check whether an environment variable is set</p></a></li>
<li><a href='#envvar_list'><p>Get a list of environment variables</p></a></li>
<li><a href='#envvar_set'><p>Set, unset, and check environment variables</p></a></li>
<li><a href='#envvar-package'><p>envvar: Make Working with Environment Variables Easier and More Consistent</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Make Working with Environment Variables Easier and More
Consistent</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of functions that allows for easy and consistent use
  of environment variables. This includes setting, checking, retrieving,
  transforming, and validating values stored in environment variables.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/briandconnelly/envvar">https://github.com/briandconnelly/envvar</a>,
<a href="https://briandconnelly.github.io/envvar/">https://briandconnelly.github.io/envvar/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/briandconnelly/envvar/issues">https://github.com/briandconnelly/envvar/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, fs, lubridate, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>httr2, ipaddress, spelling, testthat (&ge; 3.0.0), uuid, withr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-15 17:54:35 UTC; bconnelly</td>
</tr>
<tr>
<td>Author:</td>
<td>Brian Connelly <a href="https://orcid.org/0000-0002-9948-0379"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brian Connelly &lt;bdc@bconnelly.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-15 18:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='envvar_get'>Get the value of an environment variable</h2><span id='topic+envvar_get'></span><span id='topic+envvar_get_oneof'></span>

<h3>Description</h3>

<p><code>envvar_get()</code> returns the value of an environment variable.
</p>
<p><code>envvar_get_oneof()</code> gets the value of an environment variable
and ensures that it is within a defined set of potential values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_get(
  x,
  default = NULL,
  transform = NULL,
  validate = NULL,
  warn_default = TRUE
)

envvar_get_oneof(
  x,
  choices,
  default = NULL,
  transform = NULL,
  validate = NULL,
  warn_default = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_get_+3A_x">x</code></td>
<td>
<p>String containing an environment variable name</p>
</td></tr>
<tr><td><code id="envvar_get_+3A_default">default</code></td>
<td>
<p>Optional default value if the environment variable is not set</p>
</td></tr>
<tr><td><code id="envvar_get_+3A_transform">transform</code></td>
<td>
<p>Optional function that applies a transformation to the
variable's value</p>
</td></tr>
<tr><td><code id="envvar_get_+3A_validate">validate</code></td>
<td>
<p>Optional function that checks a value for validity</p>
</td></tr>
<tr><td><code id="envvar_get_+3A_warn_default">warn_default</code></td>
<td>
<p>Show a warning if the default value is used
(default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="envvar_get_+3A_choices">choices</code></td>
<td>
<p>A list containing the potential values</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>envvar_get()</code> and the other type-specific variants follow this workflow:
</p>

<ul>
<li><p> The value of the environment variable is retrieved. If that variable is
not set and <code>default</code> non-NULL, the default value is used. Otherwise an error
is raised.
</p>
</li>
<li><p> Optionally, the value can be transformed by a function specified by the
<code>transform</code> argument. Transformation functions return a scalar object.
</p>
</li>
<li><p> Optionally, the value can be validated by a function specified by the
<code>validate</code> argument. Validation functions return a logical value indicating
whether or not the value matches the given criteria. An error is raised if
the validation function does not return <code>TRUE</code>.
</p>
</li>
<li><p> The transformed, validated value is returned.
</p>
</li></ul>



<h3>Value</h3>

<p>The value of the given environment variable, if set. This is a string
unless a <code>transform</code> function has changed the object's type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the current user's home directory
envvar_get("HOME")

# Get the current logging level for your app, ensuring it is a known value
envvar_set("LOG_LEVEL" = "DEBUG")
envvar_get_oneof(
  "LOG_LEVEL",
  choices = c("TRACE", "DEBUG", "INFO", "SUCCESS", "WARN", "ERROR", "FATAL")
)
</code></pre>

<hr>
<h2 id='envvar_get_file'>Environment variables for files and directories</h2><span id='topic+envvar_get_file'></span><span id='topic+envvar_get_dir'></span>

<h3>Description</h3>

<p><code>envvar_get_file()</code> gets a file name from an environment
variable
</p>
<p><code>envvar_get_dir()</code> gets a directory name from an environment
variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_get_file(
  x,
  default = NULL,
  create = TRUE,
  check_readable = FALSE,
  check_writable = FALSE,
  transform = NULL,
  warn_default = TRUE,
  ...
)

envvar_get_dir(
  x,
  default = NULL,
  create = TRUE,
  transform = NULL,
  check_readable = FALSE,
  check_writable = FALSE,
  warn_default = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_get_file_+3A_x">x</code></td>
<td>
<p>String containing an environment variable name</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_default">default</code></td>
<td>
<p>Optional default value if the environment variable is not set</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_create">create</code></td>
<td>
<p>Create the file or directory if it does not exist (default:
<code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_check_readable">check_readable</code></td>
<td>
<p>Ensure that the file or directory is readable</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_check_writable">check_writable</code></td>
<td>
<p>Ensure that the file or directory is writable</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_transform">transform</code></td>
<td>
<p>Optional function that applies a transformation to the
variable's value</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_warn_default">warn_default</code></td>
<td>
<p>Show a warning if the default value is used
(default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="envvar_get_file_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <a href="fs.html#topic+create">fs::file_create</a> for
<code>envvar_get_file()</code> or <a href="fs.html#topic+create">fs::dir_create</a> for <code>envvar_get_dir()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing the path to a file or directory
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get a file path and make sure it exists
envvar_set("MY_DATA" = "data.parquet")
envvar_get_file("MY_DATA")

# Cleanup
file.remove("data.parquet")


envvar_set("MY_DATA_DIR" = "data")
envvar_get_dir("MY_DATA_DIR")

# Cleanup
unlink("data", recursive = TRUE)

</code></pre>

<hr>
<h2 id='envvar_get_integer'>Get the value of an environment variable as a particular type</h2><span id='topic+envvar_get_integer'></span><span id='topic+envvar_get_numeric'></span><span id='topic+envvar_get_logical'></span><span id='topic+envvar_get_version'></span><span id='topic+envvar_get_date'></span><span id='topic+envvar_get_datetime'></span>

<h3>Description</h3>

<p><code>envvar_get_integer()</code> reads environment variables with integer
values (e.g., <code>15</code>, <code>0</code>, <code>-1</code>)
</p>
<p><code>envvar_get_numeric()</code> reads environment variables with numeric
values (e.g., <code>100.12</code>, <code>-31</code>)
</p>
<p><code>envvar_get_logical()</code> reads environment variables with logical
values (e.g., <code>TRUE</code>, <code>1</code>, <code>"T"</code>)
</p>
<p><code>envvar_get_version</code> reads environment variables with semantic
version numbers (e.g., <code style="white-space: pre;">&#8288;4.3.1&#8288;</code>)
</p>
<p><code>envvar_get_date()</code> reads environment variables with date values
(e.g., <code>"2023-01-02"</code>)
</p>
<p><code>envvar_get_date()</code> reads environment variables with date-time
values (e.g., <code>"2023-01-02 01:23:45 UTC"</code> or 1697037804)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_get_integer(x, default = NULL, validate = NULL, warn_default = TRUE)

envvar_get_numeric(x, default = NULL, validate = NULL, warn_default = TRUE)

envvar_get_logical(x, default = NULL, validate = NULL, warn_default = TRUE)

envvar_get_version(x, default = NULL, validate = NULL, warn_default = TRUE)

envvar_get_date(x, default = NULL, validate = NULL, warn_default = TRUE, ...)

envvar_get_datetime(
  x,
  default = NULL,
  validate = NULL,
  warn_default = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_get_integer_+3A_x">x</code></td>
<td>
<p>String containing an environment variable name</p>
</td></tr>
<tr><td><code id="envvar_get_integer_+3A_default">default</code></td>
<td>
<p>Optional default value if the environment variable is not set</p>
</td></tr>
<tr><td><code id="envvar_get_integer_+3A_validate">validate</code></td>
<td>
<p>Optional function that checks a value for validity</p>
</td></tr>
<tr><td><code id="envvar_get_integer_+3A_warn_default">warn_default</code></td>
<td>
<p>Show a warning if the default value is used
(default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="envvar_get_integer_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <a href="lubridate.html#topic+as_date">lubridate::as_date</a> for
<code>envvar_get_date()</code> or <a href="lubridate.html#topic+as_date">lubridate::as_datetime</a> for <code>envvar_get_datetime()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scalar object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get and use an integer value
envvar_set("MYNUMBER" = 12)
envvar_get_integer("MYNUMBER") + 5

# Get and use a numeric value
envvar_set("MYNUMBER" = 12.34)
envvar_get_numeric("MYNUMBER") + 5

# Check a logical value
isTRUE(envvar_get_logical("RSTUDIO_CLI_HYPERLINKS", default = FALSE))

# Get an IP address value and ensure that it is IPv4
envvar_set("MY_VER" = "4.3.1")
envvar_get_version("MY_VER", validate = \(x) x &gt; as.numeric_version("4.3"))
# Get a date and make sure it's in the future
envvar_set("LAUNCH_DATE" = "2024-08-08")
envvar_get_date("LAUNCH_DATE", validate = \(x) x &gt; Sys.Date())
</code></pre>

<hr>
<h2 id='envvar_get_list'>Environment variables containing lists</h2><span id='topic+envvar_get_list'></span><span id='topic+envvar_get_csv'></span><span id='topic+envvar_get_psv'></span>

<h3>Description</h3>

<p><code>envvar_get_list() </code> gets lists from environment variables. At
the moment, only unnamed lists are supported.
</p>
<p><code>envvar_get_csv()</code> and <code>envvar_get_psv()</code> are an easy way to
use <code>envvar_get_list()</code> with comma or pipe separators.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_get_list(
  x,
  pattern = ":",
  default = NULL,
  validate = NULL,
  warn_default = TRUE,
  ...
)

envvar_get_csv(x, default = NA, validate = NULL, warn_default = TRUE)

envvar_get_psv(x, default = NA, validate = NULL, warn_default = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_get_list_+3A_x">x</code></td>
<td>
<p>String containing an environment variable name</p>
</td></tr>
<tr><td><code id="envvar_get_list_+3A_pattern">pattern</code></td>
<td>
<p>String specifying the pattern used to separate elements in the
list.</p>
</td></tr>
<tr><td><code id="envvar_get_list_+3A_default">default</code></td>
<td>
<p>Optional default value if the environment variable is not set</p>
</td></tr>
<tr><td><code id="envvar_get_list_+3A_validate">validate</code></td>
<td>
<p>Optional function that checks a value for validity</p>
</td></tr>
<tr><td><code id="envvar_get_list_+3A_warn_default">warn_default</code></td>
<td>
<p>Show a warning if the default value is used
(default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="envvar_get_list_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <a href="base.html#topic+strsplit">strsplit</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the value of `$PATH`, creating a list with elements for each directory
envvar_get_list("PATH")

# Parse an list separated by `|`
envvar_set("ROOMMATES" = "nandor|laszlo|nadja|guillermo|colin")
envvar_get_psv("ROOMMATES")
</code></pre>

<hr>
<h2 id='envvar_get_url'>Environment variables for internet and network-related values</h2><span id='topic+envvar_get_url'></span><span id='topic+envvar_get_ipaddress'></span>

<h3>Description</h3>

<p><code>envvar_get_url()</code> gets a URL value from an environment
variable and parses it with <a href="httr2.html#topic+url_parse">httr2::url_parse</a>.
</p>
<p><code>envvar_get_ipaddress()</code> gets an IP address value from an
environment variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_get_url(x, default = NULL, validate = NULL, warn_default = TRUE)

envvar_get_ipaddress(x, default = NULL, validate = NULL, warn_default = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_get_url_+3A_x">x</code></td>
<td>
<p>String containing an environment variable name</p>
</td></tr>
<tr><td><code id="envvar_get_url_+3A_default">default</code></td>
<td>
<p>Optional default value if the environment variable is not set</p>
</td></tr>
<tr><td><code id="envvar_get_url_+3A_validate">validate</code></td>
<td>
<p>Optional function that checks a value for validity</p>
</td></tr>
<tr><td><code id="envvar_get_url_+3A_warn_default">warn_default</code></td>
<td>
<p>Show a warning if the default value is used
(default: <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>envvar_get_url()</code> returns a URL: an S3 list with class <code>httr2_url</code>
and elements <code>scheme</code>, <code>hostname</code>, <code>port</code>, <code>path</code>, <code>fragment</code>, <code>query</code>,
<code>username</code>, <code>password</code>, where applicable.
</p>
<p><code>envvar_get_ipaddress()</code> returns an <code>ip_address</code> vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get a URL value and ensure that it is https
envvar_set("TEST_URL" = "https://google.com:80/?a=1&amp;b=2")
envvar_get_url("TEST_URL", validate = \(x) x$scheme == "https")

# Get an IP address value and ensure that it is IPv4
envvar_set("TEST_HOST" = "192.168.1.15")
envvar_get_ipaddress("TEST_HOST", validate = ipaddress::is_ipv4)
</code></pre>

<hr>
<h2 id='envvar_get_uuid'>Environment variables for UUIDs</h2><span id='topic+envvar_get_uuid'></span>

<h3>Description</h3>

<p><code>envvar_get_uuid()</code> gets a UUID from an environment variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_get_uuid(x, default = NULL, validate = NULL, warn_default = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_get_uuid_+3A_x">x</code></td>
<td>
<p>String containing an environment variable name</p>
</td></tr>
<tr><td><code id="envvar_get_uuid_+3A_default">default</code></td>
<td>
<p>Optional default value if the environment variable is not set</p>
</td></tr>
<tr><td><code id="envvar_get_uuid_+3A_validate">validate</code></td>
<td>
<p>Optional function that checks a value for validity</p>
</td></tr>
<tr><td><code id="envvar_get_uuid_+3A_warn_default">warn_default</code></td>
<td>
<p>Show a warning if the default value is used
(default: <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the class <code>"UUID"</code> representing a vector of UUIDs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get a file path and make sure it exists
envvar_set("DEMO_GUID" = "d647f20f-c44c-4914-8255-9eca97150d4c")
envvar_get_uuid("DEMO_GUID")
</code></pre>

<hr>
<h2 id='envvar_is_set'>Check whether an environment variable is set</h2><span id='topic+envvar_is_set'></span>

<h3>Description</h3>

<p><code>envvar_is_set()</code> checks whether a given environment variable is
set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_is_set(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_is_set_+3A_x">x</code></td>
<td>
<p>String with the name of environment variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envvar_is_set("HOME")
</code></pre>

<hr>
<h2 id='envvar_list'>Get a list of environment variables</h2><span id='topic+envvar_list'></span>

<h3>Description</h3>

<p><code>envvar_list()</code> returns a named list of the defined environment variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_list()
</code></pre>


<h3>Value</h3>

<p>A named list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envvar_list()
</code></pre>

<hr>
<h2 id='envvar_set'>Set, unset, and check environment variables</h2><span id='topic+envvar_set'></span><span id='topic+envvar_unset'></span>

<h3>Description</h3>

<p><code>envvar_set()</code> sets one or more environment variables.
</p>
<p><code>envvar_unset()</code> unsets an environment variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envvar_set(...)

envvar_unset(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="envvar_set_+3A_...">...</code></td>
<td>
<p>Named arguments containing an environment variable and its value</p>
</td></tr>
<tr><td><code id="envvar_set_+3A_x">x</code></td>
<td>
<p>String with the name of environment variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envvar_set(DEBUG = 1)
envvar_unset("DEBUG")
</code></pre>

<hr>
<h2 id='envvar-package'>envvar: Make Working with Environment Variables Easier and More Consistent</h2><span id='topic+envvar'></span><span id='topic+envvar-package'></span>

<h3>Description</h3>

<p>A collection of functions that allows for easy and consistent use of environment variables. This includes setting, checking, retrieving, transforming, and validating values stored in environment variables.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Brian Connelly <a href="mailto:bdc@bconnelly.net">bdc@bconnelly.net</a> (<a href="https://orcid.org/0000-0002-9948-0379">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/briandconnelly/envvar">https://github.com/briandconnelly/envvar</a>
</p>
</li>
<li> <p><a href="https://briandconnelly.github.io/envvar/">https://briandconnelly.github.io/envvar/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/briandconnelly/envvar/issues">https://github.com/briandconnelly/envvar/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

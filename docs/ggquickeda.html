<!DOCTYPE html><html><head><title>Help for package ggquickeda</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggquickeda}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+'><p>Add 'ggplot2' layer to a sourceable 'ggplot2'</p></a></li>
<li><a href='#attach_source_dep'><p>Attach dependencies to source code</p>
Attach dependencies to the source code (any input variables are automatically
attached)</a></li>
<li><a href='#cloglog_trans'><p>cloglog transformation utility</p></a></li>
<li><a href='#cumhaz_trans'><p>Cumulative hazard transformation utility</p></a></li>
<li><a href='#dostep'><p>step function utility</p></a></li>
<li><a href='#event_trans'><p>Event transformation utility</p></a></li>
<li><a href='#geom_km'><p>Add a Kaplan-Meier survival curve</p></a></li>
<li><a href='#geom_kmband'><p>Add confidence bands to a Kaplan-Meier survival curve</p></a></li>
<li><a href='#geom_kmticks'><p>Add tick marks to a Kaplan-Meier survival curve</p></a></li>
<li><a href='#GeomKm'><p>Geom Proto</p></a></li>
<li><a href='#get_source_code'><p>Retrieve the source code of a &quot;sourceable&quot; 'ggplot2'</p></a></li>
<li><a href='#ggcontinuousexpdist'><p>Create a continuous exposure fit plot</p></a></li>
<li><a href='#ggkmrisktable'><p>Create a Kaplan-Meier plot with risk table</p></a></li>
<li><a href='#gglogisticexpdist'><p>Create a logistic fit plot</p></a></li>
<li><a href='#logistic_data'><p>Simulated Exposure Response Data</p></a></li>
<li><a href='#merge_steps'><p>merge step function utility</p></a></li>
<li><a href='#run_ggquickeda'><p>Run the ggquickeda application</p></a></li>
<li><a href='#sample_data'><p>Simulated Pharmacokinetic Concentration Data</p></a></li>
<li><a href='#sourceable'><p>Make a 'ggplot2' object sourceable</p></a></li>
<li><a href='#stairstepn'><p>step function utility from ggalt</p></a></li>
<li><a href='#stat_km'><p>Adds a Kaplan Meier Estimate of Survival</p></a></li>
<li><a href='#stat_kmband'><p>Adds confidence bands to a Kaplan Meier Estimate of Survival</p></a></li>
<li><a href='#stat_kmticks'><p>Adds tick marks to a Kaplan Meier Estimate of Survival</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Quickly Explore Your Data Using 'ggplot2' and 'table1' Summary
Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Quickly and easily perform exploratory data analysis by uploading your
     data as a 'csv' file. Start generating insights using 'ggplot2' plots and
     'table1' tables with descriptive stats, all using an easy-to-use point and click 
     'Shiny' interface.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/smouksassi/ggquickeda">https://github.com/smouksassi/ggquickeda</a>,
<a href="https://smouksassi.github.io/ggquickeda/">https://smouksassi.github.io/ggquickeda/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/smouksassi/ggquickeda/issues">https://github.com/smouksassi/ggquickeda/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>colourpicker, dplyr, data.table, DT, Formula, GGally (&ge;
2.1.0), ggbeeswarm, ggh4x, ggplot2 (&ge; 3.4.0), ggpmisc, ggrepel
(&ge; 0.7.0), ggpubr, ggstance, glue, gridExtra, Hmisc, markdown,
methods, plotly, quantreg, rlang, scales, shiny (&ge; 1.0.4),
shinyjs (&ge; 1.1), shinyjqui, stringr, survival, survminer,
tidyr, table1 (&ge; 1.4.2), zoo, shinyFiles, RPostgres, forcats,
ggridges, rms, tibble, patchwork (&ge; 1.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc with https support</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-15 09:36:53 UTC; smouksas</td>
</tr>
<tr>
<td>Author:</td>
<td>Samer Mouksassi <a href="https://orcid.org/0000-0002-7152-6654"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Dean Attali [aut],
  James Craig [aut] (implemented bookmarking and created pkgdown website),
  Benjamin Rich [aut] (provided summary stats tables table1 tab code),
  Michael Sachs [aut] (provided ggkm initial code)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Samer Mouksassi &lt;samermouksassi@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-15 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+2B'>Add 'ggplot2' layer to a sourceable 'ggplot2'</h2><span id='topic++2B'></span>

<h3>Description</h3>

<p>Overwrite the plus operator so that if a &quot;sourceable&quot; object is used,
the source code is kept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>e1 + e2
</code></pre>

<hr>
<h2 id='attach_source_dep'>Attach dependencies to source code
Attach dependencies to the source code (any input variables are automatically
attached)</h2><span id='topic+attach_source_dep'></span>

<h3>Description</h3>

<p>Attach dependencies to source code
Attach dependencies to the source code (any input variables are automatically
attached)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attach_source_dep(x, deps)
</code></pre>

<hr>
<h2 id='cloglog_trans'>cloglog transformation utility</h2><span id='topic+cloglog_trans'></span>

<h3>Description</h3>

<p>cloglog transformation utility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cloglog_trans()
</code></pre>

<hr>
<h2 id='cumhaz_trans'>Cumulative hazard transformation utility</h2><span id='topic+cumhaz_trans'></span>

<h3>Description</h3>

<p>Cumulative hazard transformation utility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cumhaz_trans()
</code></pre>

<hr>
<h2 id='dostep'>step function utility</h2><span id='topic+dostep'></span>

<h3>Description</h3>

<p>step function utility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dostep(x, y)
</code></pre>

<hr>
<h2 id='event_trans'>Event transformation utility</h2><span id='topic+event_trans'></span>

<h3>Description</h3>

<p>Event transformation utility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>event_trans()
</code></pre>

<hr>
<h2 id='geom_km'>Add a Kaplan-Meier survival curve</h2><span id='topic+geom_km'></span>

<h3>Description</h3>

<p>Add a Kaplan-Meier survival curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_km(
  mapping = NULL,
  data = NULL,
  stat = "km",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_km_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_km_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_km_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_km</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong> The survival/censoring times. This is automatically mapped by <code><a href="#topic+stat_km">stat_km()</a></code>
</p>
</li>
<li> <p><strong><code>y</code></strong> The survival probability estimates. This is automatically mapped by <code><a href="#topic+stat_km">stat_km()</a></code>
smallest level in sort order is assumed to be 0, with a warning.
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li></ul>



<h3>See Also</h3>

<p>The default stat for this geom is <code><a href="#topic+stat_km">stat_km()</a></code> see
that documentation for more options to control the underlying statistical transformation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
set.seed(123)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(time = exp(rnorm(250, mean = sex)), status = rbinom(250, 1, .75), sex = sex)
ggplot(df, aes(time = time, status = status, color = factor(sex))) + geom_km()
</code></pre>

<hr>
<h2 id='geom_kmband'>Add confidence bands to a Kaplan-Meier survival curve</h2><span id='topic+geom_kmband'></span>

<h3>Description</h3>

<p>Add confidence bands to a Kaplan-Meier survival curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_kmband(
  mapping = NULL,
  data = NULL,
  stat = "kmband",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_kmband_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_kmband_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_kmband</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong> The survival/censoring times. This is automatically mapped by <code><a href="#topic+stat_kmband">stat_kmband()</a></code>
</p>
</li>
<li> <p><strong><code>y</code></strong> The survival probability estimates. This is automatically mapped by <code><a href="#topic+stat_kmband">stat_kmband()</a></code>
smallest level in sort order is assumed to be 0, with a warning
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li></ul>



<h3>See Also</h3>

<p>The default stat for this geom is <code><a href="#topic+stat_kmband">stat_kmband()</a></code>. See
that documentation for more options to control the underlying statistical transformation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(time = exp(rnorm(250, mean = sex)), status = rbinom(250, 1, .75), sex = sex)
ggplot(df, aes(time = time, status = status, color = factor(sex), fill =factor(sex))) +
 geom_km() + geom_kmband()
</code></pre>

<hr>
<h2 id='geom_kmticks'>Add tick marks to a Kaplan-Meier survival curve</h2><span id='topic+geom_kmticks'></span>

<h3>Description</h3>

<p>Adds tickmarks at the times when there are censored observations but no events
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_kmticks(
  mapping = NULL,
  data = NULL,
  stat = "kmticks",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_kmticks_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_kmticks_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_kmticks</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong> The survival/censoring times. This is automatically mapped by <code><a href="#topic+stat_kmticks">stat_kmticks()</a></code>
</p>
</li>
<li> <p><strong><code>y</code></strong> The survival probability estimates. This is automatically mapped by <code><a href="#topic+stat_kmticks">stat_kmticks()</a></code>
smallest level in sort order is assumed to be 0, with a warning
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li></ul>



<h3>See Also</h3>

<p>The default stat for this geom is <a href="#topic+stat_kmticks">stat_kmticks</a> see
that documentation for more options to control the underlying statistical transformation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(time = exp(rnorm(250, mean = sex)), status = rbinom(250, 1, .75), sex = sex)
ggplot(df, aes(time = time, status = status, color = factor(sex), group = factor(sex))) +
 geom_km() + geom_kmticks(col="black")
</code></pre>

<hr>
<h2 id='GeomKm'>Geom Proto</h2><span id='topic+GeomKm'></span><span id='topic+GeomKmband'></span><span id='topic+GeomKmticks'></span><span id='topic+StatKm'></span><span id='topic+StatKmband'></span><span id='topic+ggquickeda-ggproto'></span><span id='topic+StatKmticks'></span>

<h3>Description</h3>

<p>Geom Proto
</p>
<p>Geom Proto
</p>
<p>Geom Proto
</p>
<p>Geom Proto
</p>
<p>Geom Proto
</p>
<p>Geom Proto
</p>

<hr>
<h2 id='get_source_code'>Retrieve the source code of a &quot;sourceable&quot; 'ggplot2'</h2><span id='topic+get_source_code'></span>

<h3>Description</h3>

<p>Retrieve the source code of a &quot;sourceable&quot; 'ggplot2'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_source_code(x)
</code></pre>

<hr>
<h2 id='ggcontinuousexpdist'>Create a continuous exposure fit plot</h2><span id='topic+ggcontinuousexpdist'></span>

<h3>Description</h3>

<p>Produces a logistic fit plot with a facettable exposures/quantiles/distributions in ggplot2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggcontinuousexpdist(
  data = effICGI,
  response = "response",
  endpoint = "Endpoint",
  DOSE = "DOSE",
  color_fill = "DOSE",
  exposure_metrics = c("AUC", "CMAX"),
  exposure_metric_split = c("median", "tertile", "quartile", "none"),
  exposure_metric_soc_value = -99,
  exposure_metric_plac_value = 0,
  exposure_distribution = c("distributions", "lineranges", "none"),
  dose_plac_value = "Placebo",
  xlab = "Exposure Values",
  ylab = "Probability of Response",
  mean_text_size = 5,
  mean_obs_bydose = TRUE,
  N_text_size = 5,
  binlimits_text_size = 5,
  binlimits_ypos = -Inf,
  binlimits_color = "gray70",
  dist_position_scaler = 0.2,
  dist_offset = 0,
  lineranges_ypos = -1,
  lineranges_dodge = 1,
  yproj = TRUE,
  yproj_xpos = 0,
  yproj_dodge = 0.2,
  yaxis_position = c("left", "right"),
  facet_formula = NULL,
  theme_certara = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggcontinuousexpdist_+3A_data">data</code></td>
<td>
<p>Data to use with multiple endpoints stacked into Endpoint(endpoint name), response 0/1</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_response">response</code></td>
<td>
<p>name of the column holding the valuesresponse 0/1</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_endpoint">endpoint</code></td>
<td>
<p>name of the column holding the name/key of the endpoint default to <code>Endpoint</code></p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_dose">DOSE</code></td>
<td>
<p>name of the column holding the DOSE values default to <code>DOSE</code></p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_color_fill">color_fill</code></td>
<td>
<p>name of the column to be used for color/fill default to DOSE column</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_exposure_metrics">exposure_metrics</code></td>
<td>
<p>name(s) of the column(s) to be stacked into <code>expname</code> <code>exptile</code> and split into <code>exposure_metric_split</code></p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_exposure_metric_split">exposure_metric_split</code></td>
<td>
<p>one of &quot;median&quot;, &quot;tertile&quot;, &quot;quartile&quot;, &quot;none&quot;</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_exposure_metric_soc_value">exposure_metric_soc_value</code></td>
<td>
<p>special exposure code for standard of care default -99</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_exposure_metric_plac_value">exposure_metric_plac_value</code></td>
<td>
<p>special exposure code for placebo default 0</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_exposure_distribution">exposure_distribution</code></td>
<td>
<p>one of distributions, lineranges or none</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_dose_plac_value">dose_plac_value</code></td>
<td>
<p>string identifying placebo in DOSE column</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_xlab">xlab</code></td>
<td>
<p>text to be used as x axis label</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_ylab">ylab</code></td>
<td>
<p>text to be used as y axis label</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_mean_text_size">mean_text_size</code></td>
<td>
<p>mean text size default to 5</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_mean_obs_bydose">mean_obs_bydose</code></td>
<td>
<p>observed mean by dose TRUE/FALSE</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_n_text_size">N_text_size</code></td>
<td>
<p>N respondents/Ntotal by exposure bin text size default to 5</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_binlimits_text_size">binlimits_text_size</code></td>
<td>
<p>5 binlimits text size</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_binlimits_ypos">binlimits_ypos</code></td>
<td>
<p>binlimits y position default to 0</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_binlimits_color">binlimits_color</code></td>
<td>
<p>binlimits text color default to &quot;gray70&quot;</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_dist_position_scaler">dist_position_scaler</code></td>
<td>
<p>space occupied by the distribution default to 0.2</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_dist_offset">dist_offset</code></td>
<td>
<p>offset where the distribution position starts 0</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_lineranges_ypos">lineranges_ypos</code></td>
<td>
<p>where to put the lineranges -1</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_lineranges_dodge">lineranges_dodge</code></td>
<td>
<p>lineranges vertical dodge value 1</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_yproj">yproj</code></td>
<td>
<p>project the probabilities on y axis <code>TRUE</code>/<code>FALSE</code></p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_yproj_xpos">yproj_xpos</code></td>
<td>
<p>y projection x position 0</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_yproj_dodge">yproj_dodge</code></td>
<td>
<p>y projection dodge value 0.2</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_yaxis_position">yaxis_position</code></td>
<td>
<p>where to put y axis &quot;left&quot; or &quot;right&quot;</p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_facet_formula">facet_formula</code></td>
<td>
<p>facet formula to be use otherwise <code>endpoint ~ expname</code></p>
</td></tr>
<tr><td><code id="ggcontinuousexpdist_+3A_theme_certara">theme_certara</code></td>
<td>
<p>apply certara colors and format for strips and default colour/fill</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1
library(ggplot2)
library(patchwork)
effICGI &lt;- logistic_data |&gt;
dplyr::filter(!is.na(ICGI7))|&gt;
dplyr::filter(!is.na(AUC))
effICGI$DOSE &lt;- factor(effICGI$DOSE,
                      levels=c("0", "600", "1200","1800","2400"),
                      labels=c("Placebo", "600 mg", "1200 mg","1800 mg","2400 mg"))
effICGI$STUDY &lt;- factor(effICGI$STUDY)    
effICGI &lt;- tidyr::gather(effICGI,Endpoint,response,ICGI7,BRLS)
a &lt;- ggcontinuousexpdist(data = effICGI |&gt; dplyr::filter(Endpoint =="ICGI7"),
                 response = "response",
                 endpoint = "Endpoint",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 1, dist_offset = -1 ,
                 yproj_xpos =  -20 ,
                 yproj_dodge = 20 ,
                 exposure_distribution ="distributions")

b &lt;- ggcontinuousexpdist(data = effICGI |&gt; dplyr::filter(Endpoint =="BRLS"),
                 response = "response",
                 endpoint = "Endpoint",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 4.2, dist_offset = 5 ,
                 yproj_xpos =  -20 ,
                 yproj_dodge = 20 ,
                 exposure_distribution ="distributions")            
a / b +
plot_layout(guides = "collect") &amp;
 theme(legend.position = "top")

#Example 2
effICGI$SEX &lt;- as.factor(effICGI$SEX)
ggcontinuousexpdist(data = effICGI |&gt;
  dplyr::filter(Endpoint =="ICGI7"),
                 response = "response",
                 endpoint = "Endpoint",
                 color_fill = "SEX",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 1, dist_offset = -1 ,
                 yproj_xpos =  -20 ,
                 yproj_dodge = 20 ,
                 exposure_distribution ="lineranges")
## Not run: 
#Example 5

## End(Not run)
</code></pre>

<hr>
<h2 id='ggkmrisktable'>Create a Kaplan-Meier plot with risk table</h2><span id='topic+ggkmrisktable'></span>

<h3>Description</h3>

<p>Produces a km plot with a facettable risk table in ggplot2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggkmrisktable(
  data = lung_long,
  time = "time",
  status = "DV",
  endpoint = "Endpoint",
  groupvar1 = "Endpoint",
  groupvar2 = "expname",
  groupvar3 = "none",
  exposure_metrics = c("age", "ph.karno"),
  exposure_metric_split = c("median", "tertile", "quartile", "none"),
  exposure_metric_soc_value = -99,
  exposure_metric_plac_value = 0,
  color_fill = "exptile",
  linetype = "exptile",
  xlab = "Time of follow_up",
  ylab = "Overall survival probability",
  nrisk_table_plot = TRUE,
  nrisk_table_variables = c("n.risk", "pct.risk", "n.event", "cum.n.event", "n.censor"),
  nrisk_table_breaktimeby = NULL,
  nrisk_table_textsize = 4,
  nrisk_position_scaler = 0.2,
  nrisk_position_dodge = 0.2,
  nrisk_offset = 0,
  nrisk_filterout0 = FALSE,
  km_logrank_pvalue = FALSE,
  km_logrank_pvalue_pos = c("left", "right"),
  km_trans = c("identity", "event", "cumhaz", "cloglog"),
  km_ticks = TRUE,
  km_band = TRUE,
  km_conf_int = 0.95,
  km_conf_type = c("log", "plain", "log", "log-log", "logit", "none"),
  km_conf_lower = c("usual", "peto", "modified"),
  km_median = c("none", "median", "medianci", "table"),
  km_median_table_pos = c("left", "right"),
  km_median_table_order = c("default", "reverse"),
  km_yaxis_position = c("left", "right"),
  facet_formula = NULL,
  facet_ncol = NULL,
  facet_strip_position = c("top", "top", "top", "top"),
  theme_certara = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggkmrisktable_+3A_data">data</code></td>
<td>
<p>Data to use with multiple endpoints stacked into time, status, endpoint name</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_time">time</code></td>
<td>
<p>name of the column holding the time to event information default to <code>time</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_status">status</code></td>
<td>
<p>name of the column holding the event information default to <code>DV</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_endpoint">endpoint</code></td>
<td>
<p>name of the column holding the name/key of the endpoint default to <code>Endpoint</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_groupvar1">groupvar1</code></td>
<td>
<p>name of the column to group by, default <code>Endpoint</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_groupvar2">groupvar2</code></td>
<td>
<p>name of the column to group by in addition to groupvar1, default <code>expname</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_groupvar3">groupvar3</code></td>
<td>
<p>name of the column to group by in addition to groupvar1 and groupvar2, default &quot;none&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_exposure_metrics">exposure_metrics</code></td>
<td>
<p>name(s) of the column(s) to be stacked into <code>expname</code> <code>exptile</code> and split into <code>exposure_metric_split</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_exposure_metric_split">exposure_metric_split</code></td>
<td>
<p>one of &quot;median&quot;, &quot;tertile&quot;, &quot;quartile&quot;, &quot;none&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_exposure_metric_soc_value">exposure_metric_soc_value</code></td>
<td>
<p>special exposure code for standard of care default -99</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_exposure_metric_plac_value">exposure_metric_plac_value</code></td>
<td>
<p>special exposure code for placebo default 0</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_color_fill">color_fill</code></td>
<td>
<p>name of the column to be used for color/fill default to <code>exptile</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_linetype">linetype</code></td>
<td>
<p>name of the column to be used for linetype default to <code>exptile</code></p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_xlab">xlab</code></td>
<td>
<p>text to be used as x axis label</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_ylab">ylab</code></td>
<td>
<p>text to be used as y axis label</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_table_plot">nrisk_table_plot</code></td>
<td>
<p>TRUE</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_table_variables">nrisk_table_variables</code></td>
<td>
<p>one or more from: &quot;n.risk&quot;, &quot;pct.risk&quot;, &quot;n.event, &quot;cum.n.event, &quot;n.censor&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_table_breaktimeby">nrisk_table_breaktimeby</code></td>
<td>
<p>NULL</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_table_textsize">nrisk_table_textsize</code></td>
<td>
<p>4</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_position_scaler">nrisk_position_scaler</code></td>
<td>
<p>0.2</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_position_dodge">nrisk_position_dodge</code></td>
<td>
<p>0.2, negative values will reverse the order</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_offset">nrisk_offset</code></td>
<td>
<p>0</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_nrisk_filterout0">nrisk_filterout0</code></td>
<td>
<p>FALSE</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_logrank_pvalue">km_logrank_pvalue</code></td>
<td>
<p>FALSE</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_logrank_pvalue_pos">km_logrank_pvalue_pos</code></td>
<td>
<p>&quot;left&quot; or &quot;right&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_trans">km_trans</code></td>
<td>
<p>one of &quot;identity&quot;,&quot;event&quot;,&quot;cumhaz&quot;,&quot;cloglog&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_ticks">km_ticks</code></td>
<td>
<p>TRUE</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_band">km_band</code></td>
<td>
<p>TRUE</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_conf_int">km_conf_int</code></td>
<td>
<p>0.95</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_conf_type">km_conf_type</code></td>
<td>
<p>default one of &quot;log&quot;, &quot;plain&quot;, &quot;log-log&quot;, &quot;logit&quot;, &quot;none&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_conf_lower">km_conf_lower</code></td>
<td>
<p>one of &quot;usual&quot;, &quot;peto&quot;, &quot;modified&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_median">km_median</code></td>
<td>
<p>add median survival information one of &quot;none&quot;, &quot;median&quot;, &quot;medianci&quot;, &quot;table&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_median_table_pos">km_median_table_pos</code></td>
<td>
<p>when table is chosen where to put it  &quot;left&quot; or &quot;right</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_median_table_order">km_median_table_order</code></td>
<td>
<p>when table is chosen the order of the entries &quot;default&quot; or &quot;reverse&quot;</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_km_yaxis_position">km_yaxis_position</code></td>
<td>
<p>where to put y axis on &quot;left&quot; or &quot;right</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_facet_formula">facet_formula</code></td>
<td>
<p>facet formula to be used otherwise ~ groupvar1 + groupvar2 + groupvar3</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_facet_ncol">facet_ncol</code></td>
<td>
<p>NULL if not specified the automatic waiver will be used</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_facet_strip_position">facet_strip_position</code></td>
<td>
<p>position in sequence for the variable used in faceting default to c(&quot;top&quot;,&quot;top&quot;,&quot;top&quot;,&quot;top&quot;)</p>
</td></tr>
<tr><td><code id="ggkmrisktable_+3A_theme_certara">theme_certara</code></td>
<td>
<p>apply certara colors and format for strips and default colour/fill</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(tidyr)
# Example 1
lung_long &lt;-  survival::lung |&gt;
 dplyr::mutate(status = ifelse(status==1,0,1)) |&gt;
 tidyr::gather(Endpoint,DV,status) |&gt;
 dplyr::filter(!is.na(ph.karno))|&gt;
 dplyr::filter(!is.na(pat.karno))|&gt;
 dplyr::filter(!is.na(ph.ecog))
lung_long$ph.ecog &lt;- ifelse(lung_long$ph.ecog&gt;1,2,lung_long$ph.ecog)
lung_long$ph.ecog &lt;- as.factor(lung_long$ph.ecog )
lung_long$ph.ecog &lt;- as.factor(lung_long$ph.ecog )
lung_long$facetdum &lt;- "(all)"

ggkmrisktable(data = lung_long, time= "time", status ="DV",
             exposure_metrics =c("age","ph.karno"),
             exposure_metric_split = "tertile",
             color_fill = "exptile",
             linetype = "expname",
             groupvar1 = "Endpoint",
             groupvar2 = "exptile",
             xlab = "Time of follow_up",
             ylab ="Overall survival probability",
             nrisk_table_variables = c("n.risk","n.event"),
             km_median = "medianci",
             km_band = FALSE,
             nrisk_table_breaktimeby = 200,
             facet_ncol = 3)
#Example 2
ggkmrisktable(data = lung_long, time= "time", status ="DV",
             exposure_metrics =c("age","ph.karno"),
             exposure_metric_split = "quartile",
             color_fill = "exptile",
             linetype = "none",
             groupvar1 = "Endpoint",
             groupvar2 = "exptile",
             xlab = "Time of follow_up",
             ylab ="Overall survival probability",
             nrisk_table_variables = c("cum.n.event","pct.risk","n.censor"),
             km_median = "medianci",
             km_band = TRUE,
             km_trans = "event",
             nrisk_table_breaktimeby = 200,
             facet_ncol = 3,
             facet_formula = ~expname)
## Not run: 
#Example 3
ggkmrisktable(data = lung_long, time = "time", status = "DV",
             exposure_metrics =c("ph.karno","pat.karno"),
             exposure_metric_split = "median",
             color_fill = "exptile",
             linetype = "exptile",
             groupvar1 = "Endpoint",
             groupvar2 = "expname",
             xlab = "Time of follow_up",
             ylab ="Overall survival probability",
             nrisk_table_variables = c("n.event"),
             km_trans = "event",
             km_median = "table",
             km_median_table_pos = "right",
             km_logrank_pvalue = TRUE,
             km_band = TRUE,
             nrisk_table_breaktimeby = 200,
             facet_ncol = 3,
             facet_formula = ~expname)
#Example 4
ggkmrisktable(data=lung_long,
             exposure_metrics = c("ph.karno","age"),
             exposure_metric_split = "median",
             time = "time",
             status ="DV",
             color_fill = "ph.ecog",
             linetype = "ph.ecog",
             groupvar1 = "Endpoint",
             groupvar2 = "expname",
             groupvar3 = "exptile",
             nrisk_filterout0 = FALSE,
             nrisk_table_breaktimeby = 200,
             km_logrank_pvalue = TRUE,
             km_median = "table",
             km_median_table_pos = "left",
             facet_formula = ~expname+exptile)
#Example 5

ggkmrisktable(data=lung_long,
             exposure_metrics = c("ph.karno","age"),
             exposure_metric_split = "none",
              color_fill = "facetdum",
             linetype = "none",
             nrisk_table_variables = c("n.risk", "pct.risk", "n.event", "cum.n.event", "n.censor"),
              km_median = "table",
              nrisk_position_scaler = 0.1
             )             
             

## End(Not run)
</code></pre>

<hr>
<h2 id='gglogisticexpdist'>Create a logistic fit plot</h2><span id='topic+gglogisticexpdist'></span>

<h3>Description</h3>

<p>Produces a logistic fit plot with a facettable exposures/quantiles/distributions in ggplot2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gglogisticexpdist(
  data = effICGI,
  response = "response",
  endpoint = "Endpoint",
  DOSE = "DOSE",
  color_fill = "DOSE",
  exposure_metrics = c("AUC", "CMAX"),
  exposure_metric_split = c("median", "tertile", "quartile", "none"),
  exposure_metric_soc_value = -99,
  exposure_metric_plac_value = 0,
  exposure_distribution = c("distributions", "lineranges", "none"),
  dose_plac_value = "Placebo",
  xlab = "Exposure Values",
  ylab = "Probability of Response",
  prob_text_size = 5,
  prob_obs_bydose = TRUE,
  N_text_size = 5,
  binlimits_text_size = 5,
  binlimits_ypos = 0,
  binlimits_color = "gray70",
  dist_position_scaler = 0.2,
  dist_offset = 0,
  lineranges_ypos = 0.2,
  lineranges_dodge = 0.15,
  yproj = TRUE,
  yproj_xpos = 0,
  yproj_dodge = 0.2,
  yaxis_position = c("left", "right"),
  facet_formula = NULL,
  theme_certara = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gglogisticexpdist_+3A_data">data</code></td>
<td>
<p>Data to use with multiple endpoints stacked into Endpoint(endpoint name), response 0/1</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_response">response</code></td>
<td>
<p>name of the column holding the values response 0/1</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_endpoint">endpoint</code></td>
<td>
<p>name of the column holding the name/key of the endpoint default to <code>Endpoint</code></p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_dose">DOSE</code></td>
<td>
<p>name of the column holding the DOSE values default to <code>DOSE</code></p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_color_fill">color_fill</code></td>
<td>
<p>name of the column to be used for color/fill default to DOSE column</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_exposure_metrics">exposure_metrics</code></td>
<td>
<p>name(s) of the column(s) to be stacked into <code>expname</code> <code>exptile</code> and split into <code>exposure_metric_split</code></p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_exposure_metric_split">exposure_metric_split</code></td>
<td>
<p>one of &quot;median&quot;, &quot;tertile&quot;, &quot;quartile&quot;, &quot;none&quot;</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_exposure_metric_soc_value">exposure_metric_soc_value</code></td>
<td>
<p>special exposure code for standard of care default -99</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_exposure_metric_plac_value">exposure_metric_plac_value</code></td>
<td>
<p>special exposure code for placebo default 0</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_exposure_distribution">exposure_distribution</code></td>
<td>
<p>one of distributions, lineranges or none</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_dose_plac_value">dose_plac_value</code></td>
<td>
<p>string identifying placebo in DOSE column</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_xlab">xlab</code></td>
<td>
<p>text to be used as x axis label</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_ylab">ylab</code></td>
<td>
<p>text to be used as y axis label</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_prob_text_size">prob_text_size</code></td>
<td>
<p>probability text size default to 5</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_prob_obs_bydose">prob_obs_bydose</code></td>
<td>
<p>observed probability by dose <code>TRUE</code>/<code>FALSE</code></p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_n_text_size">N_text_size</code></td>
<td>
<p>N responders/Ntotal by exposure bin text size default to 5</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_binlimits_text_size">binlimits_text_size</code></td>
<td>
<p>5 binlimits text size</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_binlimits_ypos">binlimits_ypos</code></td>
<td>
<p>binlimits y position default to 0</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_binlimits_color">binlimits_color</code></td>
<td>
<p>binlimits text color default to &quot;gray70&quot;</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_dist_position_scaler">dist_position_scaler</code></td>
<td>
<p>space occupied by the distribution default to 0.2</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_dist_offset">dist_offset</code></td>
<td>
<p>offset where the distribution position starts 0</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_lineranges_ypos">lineranges_ypos</code></td>
<td>
<p>where to put the lineranges -1</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_lineranges_dodge">lineranges_dodge</code></td>
<td>
<p>lineranges vertical dodge value 1</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_yproj">yproj</code></td>
<td>
<p>project the probabilities on y axis <code>TRUE</code>/<code>FALSE</code></p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_yproj_xpos">yproj_xpos</code></td>
<td>
<p>y projection x position 0</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_yproj_dodge">yproj_dodge</code></td>
<td>
<p>y projection dodge value 0.2</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_yaxis_position">yaxis_position</code></td>
<td>
<p>where to put y axis &quot;left&quot; or &quot;right&quot;</p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_facet_formula">facet_formula</code></td>
<td>
<p>facet formula to be use otherwise <code>endpoint ~ expname</code></p>
</td></tr>
<tr><td><code id="gglogisticexpdist_+3A_theme_certara">theme_certara</code></td>
<td>
<p>apply certara colors and format for strips and default colour/fill</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1
library(ggplot2)
effICGI &lt;- logistic_data |&gt;
dplyr::filter(!is.na(ICGI))|&gt;
dplyr::filter(!is.na(AUC))
effICGI$DOSE &lt;- factor(effICGI$DOSE,
                      levels=c("0", "600", "1200","1800","2400"),
                      labels=c("Placebo", "600 mg", "1200 mg","1800 mg","2400 mg"))
effICGI$STUDY &lt;- factor(effICGI$STUDY)    
effICGI$ICGI2 &lt;- effICGI$ICGI
effICGI &lt;- tidyr::gather(effICGI,Endpoint,response,ICGI,ICGI2)
gglogisticexpdist(data = effICGI |&gt;
                 dplyr::filter(Endpoint=="ICGI"),
                 response = "response",
                 endpoint = "Endpoint",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 exposure_distribution ="distributions",
                 yproj_xpos = -15,
                 yproj_dodge = 10,
                 dist_position_scaler = 0.1,
                 dist_offset = -0.1)
                 
# Example 2                
gglogisticexpdist(data = effICGI |&gt;
                 dplyr::filter(Endpoint=="ICGI"),
                 response = "response",
                 endpoint = "Endpoint",
                 exposure_metrics = c("CMAX"),
                 exposure_metric_split = c("tertile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 exposure_distribution ="lineranges",
                 lineranges_ypos = -0.2,
                 lineranges_dodge = 0.4,
                 prob_obs_bydose = TRUE,
                 yproj_xpos = -5,
                 yproj_dodge = 5,
                 dist_position_scaler = 0.1)


## Not run: 
#' # Example 3                
library(ggh4x)
gglogisticexpdist(data = effICGI |&gt;
                 dplyr::filter(Endpoint=="ICGI"), 
                 response = "response",
                 endpoint = "Endpoint",
                 DOSE = "DOSE",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_distribution ="distributions",
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 0.15)+
 facet_grid2(Endpoint~expname+DOSE2,scales="free",
 margins = "DOSE2",strip = strip_nested())
# Example 4  
effICGI$SEX &lt;- as.factor(effICGI$SEX)               
gglogisticexpdist(data = effICGI  |&gt;
                 dplyr::filter(Endpoint=="ICGI"), 
                 response = "response",
                 endpoint = "Endpoint",
                 DOSE = "DOSE",
                 color_fill = "SEX",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_distribution ="distributions",
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 lineranges_ypos = -0.2,
                 yproj_xpos = -10,
                 yproj_dodge = 20,
                 prob_text_size = 6,
                 binlimits_text_size = 6,
                 N_text_size = 4,
                 dist_position_scaler = 0.15)+
                 ggplot2::scale_x_continuous(breaks = seq(0,350,50),
                 expand = ggplot2::expansion(add= c(0,0),mult=c(0,0)))+
                 ggplot2::coord_cartesian(xlim = c(-30,355))+
                 ggplot2::facet_grid(Endpoint~expname+color_fill2, margins ="color_fill2" )

#Example 4b
  effICGI$SEX &lt;- as.factor(effICGI$SEX)
 gglogisticexpdist(data = effICGI |&gt;
  dplyr::filter(Endpoint =="ICGI"),
                 response = "response",
                 endpoint = "Endpoint",
                 color_fill = "SEX",
                 exposure_metrics = c("AUC"),
                 exposure_metric_split = c("quartile"),
                 exposure_metric_soc_value = -99,
                 exposure_metric_plac_value = 0,
                 dist_position_scaler = 1, dist_offset = -1 ,
                 yproj_xpos =  -20 ,
                 yproj_dodge = 20 ,
                 exposure_distribution ="lineranges")
                 
#Example 5
gglogisticexpdist(data = effICGI |&gt; dplyr::filter(Endpoint=="ICGI"), 
                  response = "response",
                  endpoint = "Endpoint",
                  DOSE = "DOSE",
                  exposure_metrics = c("AUC"),
                  exposure_metric_split = c("quartile"),
                  exposure_distribution ="distributions",
                  exposure_metric_soc_value = -99,
                  exposure_metric_plac_value = 0,
                  dist_position_scaler = 0.15)+
                 facet_grid(Endpoint~expname+exptile,scales="free",
                 margins = "exptile")
#Example 6
a &lt;- gglogisticexpdist(data = effICGI, # 
                  response = "response",
                  endpoint = "Endpoint",
                  DOSE = "DOSE",yproj_dodge = 36,
                  exposure_metrics = c("AUC"),
                  exposure_metric_split = c("quartile"),
                  exposure_distribution ="lineranges",
                  exposure_metric_soc_value = -99,
                  exposure_metric_plac_value = 0) +
  facet_grid(Endpoint~expname,switch = "both")
b &lt;-   gglogisticexpdist(data = effICGI, # 
                    response = "response",
                    endpoint = "Endpoint",
                    DOSE = "DOSE",yproj_dodge = 2,
                    exposure_metrics = c("CMAX"),
                    exposure_metric_split = c("quartile"),
                    exposure_distribution ="lineranges",
                    exposure_metric_soc_value = -99,
                    exposure_metric_plac_value = 0,
                    yaxis_position = "right")+
  facet_grid(Endpoint~expname,switch = "x")+
  theme(strip.text.y.right = element_blank(),
        strip.background.y = element_blank())
library(patchwork)
(a | b ) +
  plot_layout(guides = "collect")&amp;
  theme(legend.position = "top")
                  

## End(Not run)
</code></pre>

<hr>
<h2 id='logistic_data'>Simulated Exposure Response Data</h2><span id='topic+logistic_data'></span>

<h3>Description</h3>

<p>A dataset containing data suitable for logistic regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logistic_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 600 rows and 10 variables
</p>

<dl>
<dt>STUDY</dt><dd><p>Study identifier</p>
</dd>
<dt>ID</dt><dd><p>Subject Identifier</p>
</dd>
<dt>DOSE</dt><dd><p>Dose, in mg</p>
</dd>
<dt>GBDS</dt><dd><p>Dose, in alternative salt</p>
</dd>
<dt>SEX</dt><dd><p>Sex of the subject</p>
</dd>
<dt>AGE</dt><dd><p>age of the subject, in years</p>
</dd>
<dt>WT</dt><dd><p>weight of the subject, in kg</p>
</dd>
<dt>RACE</dt><dd><p>Race of the subject</p>
</dd>
<dt>CRCL</dt><dd><p>Creatinine clearance</p>
</dd>
<dt>BRLS</dt><dd><p>RLS score</p>
</dd>
<dt>PRLS</dt><dd><p>RLS score</p>
</dd>
<dt>AUC</dt><dd><p>Area under the curve exposure</p>
</dd>
<dt>CMAX</dt><dd><p>Maximun concentration exposure</p>
</dd>
<dt>ICGI</dt><dd><p>response 0/1</p>
</dd>
<dt>ICGI7</dt><dd><p>response 1 to 7</p>
</dd>
</dl>



<h3>Source</h3>

<p>inspired from a real data submission
</p>


<h3>Examples</h3>

<pre><code class='language-R'>logistic_data
</code></pre>

<hr>
<h2 id='merge_steps'>merge step function utility</h2><span id='topic+merge_steps'></span>

<h3>Description</h3>

<p>merge step function utility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_steps(s1, s2)
</code></pre>

<hr>
<h2 id='run_ggquickeda'>Run the ggquickeda application</h2><span id='topic+run_ggquickeda'></span>

<h3>Description</h3>

<p>Run the <code>ggquickeda</code> application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_ggquickeda(data = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_ggquickeda_+3A_data">data</code></td>
<td>
<p>The initial data.frame to load into the application.</p>
</td></tr>
<tr><td><code id="run_ggquickeda_+3A_...">...</code></td>
<td>
<p>Additional arguments for bookmarking</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  run_ggquickeda()
}
</code></pre>

<hr>
<h2 id='sample_data'>Simulated Pharmacokinetic Concentration Data</h2><span id='topic+sample_data'></span>

<h3>Description</h3>

<p>A dataset containing concentration-time data with the
given dose and some subject characteristics to help in the app exploration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 600 rows and 10 variables
</p>

<dl>
<dt>ID</dt><dd><p>Subject Identifier, an integer from 1 to 150</p>
</dd>
<dt>Time</dt><dd><p>Time of dose given or drug sample measured, in hours</p>
</dd>
<dt>Amt</dt><dd><p>dose given at the corresponding Time, in milligrams</p>
</dd>
<dt>Conc</dt><dd><p>drug concentrations in the plasma sample, in mg/L</p>
</dd>
<dt>Age</dt><dd><p>age of the subject, in years</p>
</dd>
<dt>Weight</dt><dd><p>weight of the subject, in kg</p>
</dd>
<dt>Gender</dt><dd><p>Sex of the subject, a factor with Female and Male levels</p>
</dd>
<dt>Race</dt><dd><p>Race of the subject, a factor with Asian, Black, Caucasian, Hispanic and Other levels</p>
</dd>
<dt>Dose</dt><dd><p>dose group of the subject, in milligrams</p>
</dd>
<dt>AGECAT</dt><dd><p>age category of the subject, a variable cutting Age into two values 0/1</p>
</dd>
</dl>



<h3>Source</h3>

<p>&quot;sd_oral_richpk&quot; from 'PKPDmisc' R package with an additional AGECAT variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sample_data

</code></pre>

<hr>
<h2 id='sourceable'>Make a 'ggplot2' object sourceable</h2><span id='topic+sourceable'></span>

<h3>Description</h3>

<p>Define a 'ggplot2' object as &quot;sourceable&quot;, which means that it knows
how to keep track of its source code (parameter must be a 'ggplot2' object)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sourceable(x)
</code></pre>

<hr>
<h2 id='stairstepn'>step function utility from ggalt</h2><span id='topic+stairstepn'></span>

<h3>Description</h3>

<p>step function utility from ggalt
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stairstepn(data, yvars = "y")
</code></pre>

<hr>
<h2 id='stat_km'>Adds a Kaplan Meier Estimate of Survival</h2><span id='topic+stat_km'></span>

<h3>Description</h3>

<p>Adds a Kaplan Meier Estimate of Survival
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_km(
  mapping = NULL,
  data = NULL,
  geom = "km",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  trans = scales::identity_trans(),
  firstx = 0,
  firsty = 1,
  type = "kaplan-meier",
  start.time = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_km_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_km_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="stat_km_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_trans">trans</code></td>
<td>
<p>Transformation to apply to the survival probabilities. Defaults
to &quot;identity&quot;. Other options include &quot;event&quot;, &quot;cumhaz&quot;, &quot;cloglog&quot;, or
define your own using <a href="scales.html#topic+trans_new">trans_new</a>.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_firstx">firstx</code>, <code id="stat_km_+3A_firsty">firsty</code></td>
<td>
<p>the starting point for the survival curves. By default,
the plot program obeys tradition by having the plot start at <code style="white-space: pre;">&#8288;(0,1)&#8288;</code>.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_type">type</code></td>
<td>
<p>an older argument that combined stype and ctype, now deprecated. Legal values were
&quot;kaplan-meier&quot; which is equivalent to stype=1, ctype=1,
&quot;fleming-harrington&quot; which is equivalent to stype=2, ctype=1, and
&quot;fh2&quot; which is equivalent to stype=2, ctype=2.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_start.time">start.time</code></td>
<td>
<p>numeric value specifying a time to start calculating survival information.
The resulting curve is the survival conditional on surviving to start.time.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <a href="survival.html#topic+survfit.formula">survfit.formula</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This stat is for computing the confidence intervals for the Kaplan-Meier survival estimate for
right-censored data. It requires the aesthetic mapping <code>x</code> for the
observation times and <code>status</code> which indicates the event status,
0=alive, 1=dead or 1/2 (2=death). Logical status is not supported.
</p>


<h3>Value</h3>

<p>a data.frame with additional columns: </p>
<table>
<tr><td><code>x</code></td>
<td>
<p>x in data</p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>Kaplan-Meier Survival Estimate at x</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>stat_km</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>time</code></strong> The survival times
</p>
</li>
<li> <p><strong><code>status</code></strong> The censoring indicator, see <a href="survival.html#topic+Surv">Surv</a> for more information.
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(time = exp(rnorm(250, mean = sex)), status = rbinom(250, 1, .75), sex = sex)
ggplot(df, aes(time = time, status = status, color = factor(sex))) +
 stat_km()

## Examples illustrating the options passed to survfit.formula

p1 &lt;- ggplot(df, aes(time = time, status = status))
p1 + stat_km()
p1 + stat_km(trans = "cumhaz")
# for cloglog plots also log transform the time axis
p1 + stat_km(trans = "cloglog") + scale_x_log10()
p1 + stat_km(type = "fleming-harrington")
p1 + stat_km(start.time = 5)

</code></pre>

<hr>
<h2 id='stat_kmband'>Adds confidence bands to a Kaplan Meier Estimate of Survival</h2><span id='topic+stat_kmband'></span>

<h3>Description</h3>

<p>Adds confidence bands to a Kaplan Meier Estimate of Survival
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_kmband(
  mapping = NULL,
  data = NULL,
  geom = "kmband",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  trans = "identity",
  firstx = 0,
  firsty = 1,
  type = "kaplan-meier",
  error = "greenwood",
  conf.type = "log",
  conf.lower = "usual",
  start.time = 0,
  conf.int = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_kmband_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_trans">trans</code></td>
<td>
<p>Transformation to apply to the survival probabilities. Defaults
to &quot;identity&quot;. Other options include &quot;event&quot;, &quot;cumhaz&quot;, &quot;cloglog&quot;, or
define your own using <code><a href="scales.html#topic+new_transform">scales::trans_new()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_firstx">firstx</code>, <code id="stat_kmband_+3A_firsty">firsty</code></td>
<td>
<p>the starting point for the survival curves. By default,
the plot program obeys tradition by having the plot start at (0,1).</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_type">type</code></td>
<td>
<p>an older argument that combined stype and ctype, now deprecated. Legal values were
&quot;kaplan-meier&quot; which is equivalent to stype=1, ctype=1,
&quot;fleming-harrington&quot; which is equivalent to stype=2, ctype=1, and
&quot;fh2&quot; which is equivalent to stype=2, ctype=2.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_error">error</code></td>
<td>
<p>either the string &quot;greenwood&quot; for the Greenwood formula or &quot;tsiatis&quot; for the Tsiatis formula,
(only the first character is necessary). The default is &quot;greenwood&quot;.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_conf.type">conf.type</code></td>
<td>
<p>One of &quot;none&quot;, &quot;plain&quot;, &quot;log&quot; (the default), &quot;log-log&quot; or &quot;logit&quot;.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_conf.lower">conf.lower</code></td>
<td>
<p>a character string to specify modified lower limits to the curve,
the upper limit remains unchanged. Possible values are
&quot;usual&quot; (unmodified),
&quot;peto&quot;, and
&quot;modified&quot;.
The modified lower limit is based on an &quot;effective n&quot; argument.
The confidence bands will agree with the usual calculation at each death time,
but unlike the usual bands the confidence interval becomes wider at each censored observation.
The extra width is obtained by multiplying the usual variance by a factor m/n,
where n is the number currently at risk and m is the number at risk at the last death time.
(The bands thus agree with the un-modified bands at each death time.)
This is especially useful for survival curves with a long flat tail.
The Peto lower limit is based on the same &quot;effective n&quot; argument as the modified limit,
but also replaces the usual Greenwood variance term with a simple approximation.
It is known to be conservative.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_start.time">start.time</code></td>
<td>
<p>numeric value specifying a time to start calculating survival information.
The resulting curve is the survival conditional on surviving to start.time.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_conf.int">conf.int</code></td>
<td>
<p>the level for a two-sided confidence interval on the survival curve(s). Default is 0.95.</p>
</td></tr>
<tr><td><code id="stat_kmband_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <a href="survival.html#topic+survfit.formula">survfit.formula</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This stat is for computing the confidence intervals for the Kaplan-Meier survival estimate for
right-censored data. It requires the aesthetic mapping <code>x</code> for the
observation times and <code>status</code> which indicates the event status,
0=alive, 1=dead or 1/2 (2=death). Logical status is not supported.
</p>


<h3>Value</h3>

<p>a data.frame with additional columns: </p>
<table>
<tr><td><code>x</code></td>
<td>
<p>x in data</p>
</td></tr>
<tr><td><code>ymin</code></td>
<td>
<p>Lower confidence
limit of KM curve</p>
</td></tr> <tr><td><code>ymax</code></td>
<td>
<p>Upper confidence limit
of KM curve</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>stat_kmband</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>time</code></strong> The survival times
</p>
</li>
<li> <p><strong><code>status</code></strong> The censoring indicator, see <a href="survival.html#topic+Surv">Surv</a> for more information.
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(time = exp(rnorm(250, mean = sex)), status = rbinom(250, 1, .75), sex = sex)
ggplot(df, aes(time = time, status = status, color = factor(sex))) +
 stat_km()

## Examples illustrating the options passed to survfit.formula

p1 &lt;- ggplot(df, aes(time = time, status = status))
p1 + stat_km() + stat_kmband(conf.int = .99)
p1 + stat_kmband(error = "greenwood",fill="red",alpha=0.2) +
 stat_kmband(error = "tsiatis",fill="blue",alpha=0.2)+ stat_km()
p1 + stat_km() + stat_kmband(conf.type = "log-log")+ stat_kmband(conf.type = "log")

</code></pre>

<hr>
<h2 id='stat_kmticks'>Adds tick marks to a Kaplan Meier Estimate of Survival</h2><span id='topic+stat_kmticks'></span>

<h3>Description</h3>

<p>Adds tick marks to a Kaplan Meier Estimate of Survival
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_kmticks(
  mapping = NULL,
  data = NULL,
  geom = "kmticks",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  trans,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_kmticks_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_trans">trans</code></td>
<td>
<p>Transformation to apply to the survival probabilities. Defaults
to &quot;identity&quot;. Other options include &quot;event&quot;, &quot;cumhaz&quot;, &quot;cloglog&quot;, or
define your own using <a href="scales.html#topic+trans_new">trans_new</a>.</p>
</td></tr>
<tr><td><code id="stat_kmticks_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <a href="survival.html#topic+survfit.formula">survfit.formula</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This stat is for computing the tick marks for a Kaplan-Meier survival estimate for
right-censored data. The tick marks will appear at each censoring time which is also
not a death time, which is the default for <a href="survival.html#topic+plot.survfit">plot.survfit</a>.
It requires the aesthetic mapping <code>x</code> for the
observation times and <code>status</code> which indicates the event status,
normally 0=alive, 1=dead. Other choices are TRUE/FALSE (TRUE = death) or 1/2
(2=death).
</p>


<h3>Value</h3>

<p>a data.frame with additional columns: </p>
<table>
<tr><td><code>x</code></td>
<td>
<p>x in data</p>
</td></tr>
<tr><td><code>y</code></td>
<td>
<p>Kaplan-Meier Survival Estimate at x</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>stat_kmticks</code> understands the following aesthetics (required aesthetics
are in bold):
</p>

<ul>
<li> <p><strong><code>time</code></strong> The survival times
</p>
</li>
<li> <p><strong><code>status</code></strong> The censoring indicator, see <a href="survival.html#topic+Surv">Surv</a> for more information.
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+stat_km">stat_km</a></code>;
<code><a href="#topic+stat_kmband">stat_kmband</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(time = exp(rnorm(250, mean = sex)), status = rbinom(250, 1, .75), sex = sex)
ggplot(df, aes(time = time, status = status, color = factor(sex))) +
 stat_km() + stat_kmticks()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package lemon</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lemon}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lemon'><p>Freshing up your ggplots</p></a></li>
<li><a href='#.dot'><p>Create paths that are safe from changing working directory.</p></a></li>
<li><a href='#annotate_y_axis'><p>Annotations on the axis</p></a></li>
<li><a href='#as.lemon_plot'><p>Lemon plots; ggplots with extended functionality.</p></a></li>
<li><a href='#brackets_horizontal'><p>Axis brackets instead of axis ticks and lines</p></a></li>
<li><a href='#coord_capped_cart'><p>Cartesian coordinates with capped axis lines.</p></a></li>
<li><a href='#coord_flex_cart'><p>Cartesian coordinates with flexible options for drawing axes</p></a></li>
<li><a href='#facet_rep_grid'><p>Repeat axis lines and labels across all facet panels</p></a></li>
<li><a href='#g_legend'><p>Extract ggplot legends</p></a></li>
<li><a href='#geom_pointpath'><p>Connected points</p></a></li>
<li><a href='#geom_siderange'><p>Display range of data in side of plot</p></a></li>
<li><a href='#get_panel_range'><p>Version safe(r) method to get the y- and x-range from trained scales.</p></a></li>
<li><a href='#grid_arrange_shared_legend'><p>Share a legend between multiple plots</p></a></li>
<li><a href='#gtable_show_grill'><p>Visualise underlying gtable layout.</p></a></li>
<li><a href='#guidebox_as_column'><p>Guidebox as a column</p></a></li>
<li><a href='#is.small'><p>Is a given unit 'small'?</p></a></li>
<li><a href='#lemon_print'><p>knitr extension: Always use 'kable' for data frames.</p></a></li>
<li><a href='#lemon-ggproto'><p>ggproto classes used in lemon!</p></a></li>
<li><a href='#remove_labels_from_axis'><p>Removes labels from axis grobs.</p></a></li>
<li><a href='#render_gpar'><p>Render a ggplot2 grob or retrieve its gpar object.</p></a></li>
<li><a href='#reposition_legend'><p>Reposition a legend onto a panel</p></a></li>
<li><a href='#scale_x_symmetric'><p>Symmetrix position scale for continuous x and y</p></a></li>
<li><a href='#waiver'><p>The waivers are from &lsquo;<span class="file">ggplot2/R/utilities.r</span>&rsquo;.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Freshing Up your 'ggplot2' Plots</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/stefanedwards/lemon">https://github.com/stefanedwards/lemon</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/stefanedwards/lemon/issues">https://github.com/stefanedwards/lemon/issues</a></td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.9</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for working with legends and axis lines of 'ggplot2',
    facets that repeat axis lines on all panels, and some 'knitr' extensions.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.4.2), plyr, grid, gridExtra, gtable, knitr (&ge;
1.12), lattice, scales</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'ggplot2.r' 'lemon-plot.r' 'axis-annotation.r' 'brackets.R'
'coord-flex.r' 'coord-capped.r' 'dot.r' 'facet-rep-lab.r'
'facet-wrap.r' 'geom-pointline.r' 'lemon_print.r'
'geom-siderange.r' 'grob_utils.r' 'gtable_show-.r'
'guides-axis.r' 'legends.r' 'lemon.r' 'scale-symmetric.r'</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, stringr, dplyr, testthat, vdiffr, diffviewer</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-07 19:49:38 UTC; smhe</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefan McKinnon Edwards
    <a href="https://orcid.org/0000-0002-4628-8148"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, ctb,
    cre],
  Baptiste Auguie [ctb] (For g_legend and grid_arrange_shared_legend),
  Shaun Jackman [ctb] (For grid_arrange_shared_legend),
  Hadley Wickham [ctb] (ggplot2 functions),
  Winston Chang [ctb] (ggplot2 functions)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan McKinnon Edwards &lt;sme@iysik.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-08 08:00:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='lemon'>Freshing up your ggplots</h2><span id='topic+lemon'></span><span id='topic+lemon-package'></span>

<h3>Description</h3>

<p>Collection of misc. functions for changing subtle aspects of ggplots.
Works mostly on gtables produced prior to printing.
</p>


<h3>Functions for axis</h3>

<p>See <code><a href="#topic+coord_capped_cart">coord_capped_cart</a></code> and <code><a href="#topic+coord_flex_cart">coord_flex_cart</a></code>.
The latter is a shorthand version of the former.
It automatically uses <code><a href="#topic+capped_horizontal">capped_horizontal</a></code> and
<code><a href="#topic+capped_vertical">capped_vertical</a></code>, but both accepts these as well as
<code><a href="#topic+brackets_horizontal">brackets_horizontal</a></code> and <code><a href="#topic+brackets_vertical">brackets_vertical</a></code>.
</p>


<h3>Legends</h3>


<dl>
<dt>Extract legend</dt><dd><p><code><a href="#topic+g_legend">g_legend</a></code></p>
</dd>
<dt>Many plots, one legend</dt><dd><p><code><a href="#topic+grid_arrange_shared_legend">grid_arrange_shared_legend</a></code></p>
</dd>
<dt>Place legend exactly on plot</dt><dd><p><code><a href="#topic+reposition_legend">reposition_legend</a></code></p>
</dd>
</dl>



<h3>Facets</h3>

<p><code><a href="#topic+facet_rep_grid">facet_rep_grid</a></code> and <code><a href="#topic+facet_rep_wrap">facet_rep_wrap</a></code> are extensions
to the wellknown <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code> and
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code> where axis lines and labels are drawn on
all panels.
</p>


<h3>Extending knitr</h3>

<p>We automatically load knitr's <code><a href="knitr.html#topic+knit_print">knit_print</a></code> for
data frames and dplyr tables to provide automatic pretty printing of
data frame using <code><a href="knitr.html#topic+kable">kable</a></code>.
</p>
<p>See <code><a href="#topic+lemon_print">lemon_print</a></code> or <code>vignette('lemon_print', 'lemon')</code>.
</p>
<p>Relative paths safe from hanging directory: <code><a href="#topic+.dot">.dot</a></code>.
</p>


<h3>Author(s)</h3>

<p>Stefan McKinnon Edwards &lt;sme@iysik.com&gt;
</p>
<p>Contributions from <a href="http://baptiste.github.io/">Baptiste Auguié</a> on
<code><a href="#topic+g_legend">g_legend</a></code> and <code><a href="#topic+grid_arrange_shared_legend">grid_arrange_shared_legend</a></code>.
</p>
<p>Contributions from <a href="http://rpubs.com/sjackman">Shaun Jackman</a> on
<code><a href="#topic+grid_arrange_shared_legend">grid_arrange_shared_legend</a></code>.
</p>


<h3>Source</h3>

<p><a href="https://github.com/stefanedwards/lemon">https://github.com/stefanedwards/lemon</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/stefanedwards/lemon">https://github.com/stefanedwards/lemon</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/stefanedwards/lemon/issues">https://github.com/stefanedwards/lemon/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.dot'>Create paths that are safe from changing working directory.</h2><span id='topic+.dot'></span><span id='topic+.dot2'></span>

<h3>Description</h3>

<p>The <code>.dot</code> functions creates functions that allows relative-like
specification of paths, but are safe from changing working directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.dot(x, root = getwd(), mustExist = FALSE, relative = FALSE, create = TRUE)

.dot2(names, quiet = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".dot_+3A_x">x</code></td>
<td>
<p>File path that is appended to <code>BASEDIR</code>.</p>
</td></tr>
<tr><td><code id=".dot_+3A_root">root</code></td>
<td>
<p>Root of your working directory,
from which <code>x</code> is relative too.</p>
</td></tr>
<tr><td><code id=".dot_+3A_mustexist">mustExist</code></td>
<td>
<p>Logical value; if <code>TRUE</code> and the resulting path does
not exist, it raises an error.</p>
</td></tr>
<tr><td><code id=".dot_+3A_relative">relative</code></td>
<td>
<p>For <code>.dot</code>, sets default for the returned function.
For the returned function, when <code>TRUE</code>, the function
returns a path relative to <code>root</code>.</p>
</td></tr>
<tr><td><code id=".dot_+3A_create">create</code></td>
<td>
<p>Logical values, creates the target directory when <code>TRUE</code> (default).</p>
</td></tr>
<tr><td><code id=".dot_+3A_names">names</code></td>
<td>
<p>Character vector of names</p>
</td></tr>
<tr><td><code id=".dot_+3A_quiet">quiet</code></td>
<td>
<p>Logical value, suppresses output to stdout() when <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".dot_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code>.dot</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that returns file paths constructed from
<code>root</code>, <code>x</code>, and <code>...</code>.
</p>
<p><em>Side effect:</em> It creates the directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
.data &lt;- .dot('data', create=FALSE)
.data('input.txt')
.data(c('a.txt','b.txt'))

.dot2(c('rawdata','results'), create=FALSE)
.rawdata('rawfile.csv')
.results('myresults.txt')
</code></pre>

<hr>
<h2 id='annotate_y_axis'>Annotations on the axis</h2><span id='topic+annotate_y_axis'></span><span id='topic+annotate_x_axis'></span>

<h3>Description</h3>

<p>Annotations on the axis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_y_axis(
  label,
  y,
  side = waiver(),
  print_label = TRUE,
  print_value = TRUE,
  print_both = TRUE,
  parsed = FALSE,
  ...
)

annotate_x_axis(
  label,
  x,
  side = waiver(),
  print_label = TRUE,
  print_value = TRUE,
  print_both = TRUE,
  parsed = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="annotate_y_axis_+3A_label">label</code></td>
<td>
<p>Text to print</p>
</td></tr>
<tr><td><code id="annotate_y_axis_+3A_y">y</code>, <code id="annotate_y_axis_+3A_x">x</code></td>
<td>
<p>Position of the annotation.</p>
</td></tr>
<tr><td><code id="annotate_y_axis_+3A_side">side</code></td>
<td>
<p>left or right, or top or bottom side to print annotation</p>
</td></tr>
<tr><td><code id="annotate_y_axis_+3A_print_label">print_label</code>, <code id="annotate_y_axis_+3A_print_value">print_value</code>, <code id="annotate_y_axis_+3A_print_both">print_both</code></td>
<td>
<p>Logical; what to show on annotation. Label and/or value.
<code>print_both</code> is shortcut for setting both <code>print_label</code> and
<code>print_value</code>. When both is TRUE, uses argument <code>sep</code> to
separate the label and value.</p>
</td></tr>
<tr><td><code id="annotate_y_axis_+3A_parsed">parsed</code></td>
<td>
<p>Logical (default <code>FALSE</code>),
when <code>TRUE</code>, uses mathplot for outputting expressions.
See section &quot;Showing values&quot;.</p>
</td></tr>
<tr><td><code id="annotate_y_axis_+3A_...">...</code></td>
<td>
<p>Style settings for label and tick:
colour, hjust, vjust, size, fontface, family, rot.
When <code>waiver()</code> (default),
the relevant theme element is used.</p>
</td></tr>
</table>


<h3></h3>

<p>Showing values:
See <a href="grDevices.html#topic+plotmath">plotmath</a> for using mathematical expressions.
The function uses a simple replacement strategy where the literal strings
<code>.(y)</code> and <code>.(val)</code> are replaced by the value after round of to
a number of digits, as given by argument <code>digits</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

p &lt;- ggplot(mtcars, aes(mpg, hp, colour=disp)) + geom_point()

l &lt;- p + annotate_y_axis('mark at', y=200, tick=TRUE)
l

(l + annotate_x_axis('| good economy -&gt;', x=25, print_value=FALSE, hjust=0, tick=TRUE))

l + annotate_y_axis("x^2 == .(y)", y=150, parsed=FALSE,  tick=FALSE) +
    annotate_y_axis("x^2 + bar(x) == .(y)", y=mean(mtcars$hp), parsed=TRUE, tick=TRUE)

l + annotate_y_axis("bar(x) == .(y)", y = mean(mtcars$hp),  parsed=TRUE, tick=FALSE) 
# use double equal signs, or the output becomes '=(...)' for some reason.

l + annotate_y_axis('this is midway', y=sum(range(mtcars$hp))/2, print_value = FALSE, side='left')

# work around if an axis only contains parsed expressions
p + annotate_y_axis("bar(x) == .(y)", y = mean(mtcars$hp),  parsed=TRUE, tick=FALSE) +
  annotate_y_axis("some long string", y=100, tick=FALSE, print_value=FALSE, colour=NA)


# Works together with other functions
p &lt;- p + theme_light() + theme(panel.border=element_blank(),
                               axis.line = element_line(), 
                               axis.ticks = element_line(colour='black')) 
p + coord_capped_cart(bottom='right') + 
  annotate_y_axis('More than I\ncan afford', y=125, 
                  print_value=FALSE, tick=TRUE)
</code></pre>

<hr>
<h2 id='as.lemon_plot'>Lemon plots; ggplots with extended functionality.</h2><span id='topic+as.lemon_plot'></span><span id='topic+ggplot_build.lemon_plot'></span><span id='topic+ggplot_gtable.built_lemon'></span>

<h3>Description</h3>

<p>Lemon plot basically hijacks ggplot2's building process and allows us
to change some things. Used by <code><a href="#topic+annotate_y_axis">annotate_y_axis</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.lemon_plot(plot)

## S3 method for class 'lemon_plot'
ggplot_build(plot)

## S3 method for class 'built_lemon'
ggplot_gtable(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.lemon_plot_+3A_plot">plot</code></td>
<td>
<p>ggplot object</p>
</td></tr>
</table>

<hr>
<h2 id='brackets_horizontal'>Axis brackets instead of axis ticks and lines</h2><span id='topic+brackets_horizontal'></span><span id='topic+brackets_horisontal'></span><span id='topic+brackets_vertical'></span>

<h3>Description</h3>

<p>To be used with <code><a href="#topic+coord_flex_cart">coord_flex_cart</a></code>,
<code><a href="#topic+coord_capped_cart">coord_capped_cart</a></code>, etc. for displaying brackets instead
of the axis ticks and lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brackets_horizontal(
  direction = c("up", "down"),
  length = unit(0.05, "npc"),
  tick.length = waiver()
)

brackets_vertical(
  direction = c("left", "right"),
  length = unit(0.05, "npc"),
  tick.length = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="brackets_horizontal_+3A_direction">direction</code></td>
<td>
<p>Which way should the opening side of the brackets point?
up, down, left, or right?</p>
</td></tr>
<tr><td><code id="brackets_horizontal_+3A_length">length</code></td>
<td>
<p>Length of the unit, parallel with axis line.</p>
</td></tr>
<tr><td><code id="brackets_horizontal_+3A_tick.length">tick.length</code></td>
<td>
<p>Height (width) of x-axis (y-axis) bracket.
If <code>waiver()</code> (default), use <code>axis.ticks.length</code> from <code><a href="ggplot2.html#topic+theme">theme</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The looks of the brackets are taken from <code>theme(axis.ticks)</code>, or
<code>theme(axis.ticks.x)</code> and <code>theme(axis.ticks.y)</code>, respectively.
</p>
<p>It does not re-calculate tick marks, but lets <code>scale_x_*</code> and <code>scale_y_*</code>
calculate and draw ticks and labels, and then modifies the ticks with brackets.
</p>
<p>Both <code>length</code> and <code>tick.length</code> accepts a numeric scalar instead of
a <code><a href="grid.html#topic+unit">unit</a></code> object that is interpreted as an <code>"npc"</code> unit.
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+unit">unit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
p &lt;- ggplot(mpg, aes(as.factor(cyl), hwy, colour=class)) +
  geom_point(position=position_jitter(width=0.3)) +
  theme_bw() +
  theme(panel.border = element_blank(), axis.line = element_line())
p

p &lt;- p + coord_flex_cart(bottom=brackets_horizontal(length=unit(0.08, 'npc')))
p
# However getting the correct width is a matter of tweaking either length or
# position_jitter...

# A further adjustment,
p + theme(panel.grid.major.x = element_blank())
</code></pre>

<hr>
<h2 id='coord_capped_cart'>Cartesian coordinates with capped axis lines.</h2><span id='topic+coord_capped_cart'></span><span id='topic+capped_horisontal'></span><span id='topic+coord_capped_flip'></span><span id='topic+capped_horizontal'></span><span id='topic+capped_vertical'></span>

<h3>Description</h3>

<p>Caps the axis lines to the outer ticks to e.g. indicate range of values.
Methods correspond to <code><a href="ggplot2.html#topic+coord_cartesian">coord_cartesian</a></code> and <code><a href="ggplot2.html#topic+coord_flip">coord_flip</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_capped_cart(
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  top = waiver(),
  left = waiver(),
  bottom = waiver(),
  right = waiver(),
  gap = 0.01
)

coord_capped_flip(
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  top = waiver(),
  left = waiver(),
  bottom = waiver(),
  right = waiver(),
  gap = 0.01
)

capped_horizontal(capped = c("both", "left", "right", "none"), gap = 0.01)

capped_vertical(capped = c("top", "bottom", "both", "none"), gap = 0.01)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coord_capped_cart_+3A_xlim">xlim</code>, <code id="coord_capped_cart_+3A_ylim">ylim</code></td>
<td>
<p>Limits for the x and y axes.</p>
</td></tr>
<tr><td><code id="coord_capped_cart_+3A_expand">expand</code></td>
<td>
<p>If <code>TRUE</code>, the default, adds a small expansion factor to
the limits to ensure that data and axes don't overlap. If <code>FALSE</code>,
limits are taken exactly from the data or <code>xlim</code>/<code>ylim</code>.</p>
</td></tr>
<tr><td><code id="coord_capped_cart_+3A_top">top</code>, <code id="coord_capped_cart_+3A_left">left</code>, <code id="coord_capped_cart_+3A_bottom">bottom</code>, <code id="coord_capped_cart_+3A_right">right</code></td>
<td>
<p>Either a function returned from
<code><a href="#topic+capped_horizontal">capped_horizontal</a></code> or <code><a href="#topic+brackets_horizontal">brackets_horizontal</a></code>.
If string, it is assumed to be shorthand for
<code>capped_horizontal(capped)</code> or similar for vertical.</p>
</td></tr>
<tr><td><code id="coord_capped_cart_+3A_gap">gap</code></td>
<td>
<p>Both ends are <em>always</em> capped by this proportion.
Usually a value between 0 and 1.</p>
</td></tr>
<tr><td><code id="coord_capped_cart_+3A_capped">capped</code></td>
<td>
<p>Which end to cap the line. Can be one of (where relevant):
<code>both</code>, <code>none</code>, <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a simple override of <code><a href="#topic+coord_flex_cart">coord_flex_cart</a></code>
and <code><a href="#topic+coord_flex_flip">coord_flex_flip</a></code>,
which allows shorthand specification of what to cap.
</p>
<p>NB! A panel-border is typically drawn on top such that it covers tick marks,
grid lines, and axis lines.
Many themes also do not draw axis lines.
To ensure the modified axis lines are visible, use
<code>theme(panel.border=element_blank(), axis.lines=element_line())</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
# Notice how the axis lines of the following plot meet in the lower-left corner.
p &lt;- ggplot(mtcars, aes(x = mpg)) + geom_dotplot() +
  theme_bw() +
  theme(panel.border=element_blank(), axis.line=element_line())
p

# We can introduce a gap by capping the ends:
p + coord_capped_cart(bottom='none', left='none')

# The lower limit on the y-axis is 0. We can cap the line to this value.
# Notice how the x-axis line extends through the plot when we no long
# define its capping.
p + coord_capped_cart(left='both')

# It it also works on the flipped.
p + coord_capped_flip(bottom='both')

# And on secondary axis, in conjuction with brackets:
p +
  scale_y_continuous(sec.axis = sec_axis(~.*100)) +
  scale_x_continuous(sec.axis = sec_axis(~1/., name='Madness scale')) +
  coord_capped_cart(bottom='none', left='none', right='both', top=brackets_horizontal())
# Although we cannot recommend the above madness.
</code></pre>

<hr>
<h2 id='coord_flex_cart'>Cartesian coordinates with flexible options for drawing axes</h2><span id='topic+coord_flex_cart'></span><span id='topic+coord_flex_flip'></span><span id='topic+coord_flex_fixed'></span>

<h3>Description</h3>

<p>Allows user to inject a function for drawing axes, such as
<code><a href="#topic+capped_horizontal">capped_horizontal</a></code> or <code><a href="#topic+brackets_horizontal">brackets_horizontal</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_flex_cart(
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  top = waiver(),
  left = waiver(),
  bottom = waiver(),
  right = waiver()
)

coord_flex_flip(
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  top = waiver(),
  left = waiver(),
  bottom = waiver(),
  right = waiver()
)

coord_flex_fixed(
  ratio = 1,
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  top = waiver(),
  left = waiver(),
  bottom = waiver(),
  right = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coord_flex_cart_+3A_xlim">xlim</code>, <code id="coord_flex_cart_+3A_ylim">ylim</code></td>
<td>
<p>Limits for the x and y axes.</p>
</td></tr>
<tr><td><code id="coord_flex_cart_+3A_expand">expand</code></td>
<td>
<p>If <code>TRUE</code>, the default, adds a small expansion factor to
the limits to ensure that data and axes don't overlap. If <code>FALSE</code>,
limits are taken exactly from the data or <code>xlim</code>/<code>ylim</code>.</p>
</td></tr>
<tr><td><code id="coord_flex_cart_+3A_top">top</code>, <code id="coord_flex_cart_+3A_left">left</code>, <code id="coord_flex_cart_+3A_bottom">bottom</code>, <code id="coord_flex_cart_+3A_right">right</code></td>
<td>
<p>Function for drawing axis lines, ticks, and labels,
use e.g. <code><a href="#topic+capped_horizontal">capped_horizontal</a></code> or <code><a href="#topic+brackets_horizontal">brackets_horizontal</a></code>.</p>
</td></tr>
<tr><td><code id="coord_flex_cart_+3A_ratio">ratio</code></td>
<td>
<p>aspect ratio, expressed as <code>y / x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NB! A panel-border is typically drawn on top such that it covers tick marks,
grid lines, and axis lines.
Many themes also do not draw axis lines.
To ensure the modified axis lines are visible, use
<code>theme(panel.border=element_blank(), axis.line=element_line())</code>.
</p>


<h3>User defined functions</h3>

<p>The provided function in <code>top</code>, <code>right</code>, <code>bottom</code>, and <code>left</code>
defaults to <code>render_axis</code> which is defined in &lsquo;<span class="file">ggplot2/R/coord-.r</span>&rsquo;, which in
turns calls <code>guide_axis</code> (see &lsquo;<span class="file">ggplot2/R/guides-axis.r</span>&rsquo;).
</p>
<p>The provided function is with the arguments
<code>scale_details</code>, <code>axis</code>, <code>scale</code>, <code>position</code>, and <code>theme</code>,
and the function should return an <code><a href="ggplot2.html#topic+absoluteGrob">absoluteGrob</a></code> object.
</p>
<p>For examples of modifying the drawn object, see e.g.
<code><a href="#topic+capped_horizontal">capped_horizontal</a></code> or <code><a href="#topic+brackets_horizontal">brackets_horizontal</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
# A standard plot
p &lt;- ggplot(mtcars, aes(disp, wt)) +
 geom_point() +
 geom_smooth() + theme(panel.border=element_blank(), axis.line=element_line())

# We desire that left axis does not extend beyond '6'
# and the x-axis is unaffected
p + coord_capped_cart(left='top')

# Specifying 'bottom' caps the axis with at most the length of 'gap'
p + coord_capped_cart(left='top', bottom='none')

# We can specify a ridiculus large 'gap', but the lines will always
# protrude to the outer most ticks.
p + coord_capped_cart(left='top', bottom='none', gap=2)

# We can use 'capped_horizontal' and 'capped_vertical' to specify for
# each axis individually.
p + coord_capped_cart(left='top', bottom=capped_horizontal('none', gap=2))

# At this point we might as well drop using the short-hand and go full on:
p + coord_flex_cart(left=brackets_vertical(), bottom=capped_horizontal('left'))

# Also works with secondary axes:
p + scale_y_continuous(sec.axis=sec_axis(~5*., name='wt times 5')) +
  coord_flex_cart(left=brackets_vertical(), bottom=capped_horizontal('right'),
  right=capped_vertical('both', gap=0.02))


# Supports the usual 'coord_fixed':
p + coord_flex_fixed(ratio=1.2, bottom=capped_horizontal('right'))

# and coord_flip:
p + coord_flex_flip(ylim=c(2,5), bottom=capped_horizontal('right'))
</code></pre>

<hr>
<h2 id='facet_rep_grid'>Repeat axis lines and labels across all facet panels</h2><span id='topic+facet_rep_grid'></span><span id='topic+facet_rep_wrap'></span>

<h3>Description</h3>

<p><code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code> and <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code>, but
with axis lines and labels preserved on all panels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>facet_rep_grid(..., repeat.tick.labels = FALSE)

facet_rep_wrap(..., scales = "fixed", repeat.tick.labels = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="facet_rep_grid_+3A_...">...</code></td>
<td>
<p>Arguments used for <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code> or
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code>.</p>
</td></tr>
<tr><td><code id="facet_rep_grid_+3A_repeat.tick.labels">repeat.tick.labels</code></td>
<td>
<p>When <code>FALSE</code> (default), axes on inner panels
have their tick labels (i.e. the numbers) removed.
Set this to <code>TRUE</code> to keep all labels,
or any combination of top, bottom, left, right to
keep only those specified. Also acceps 'x' and 'y'.</p>
</td></tr>
<tr><td><code id="facet_rep_grid_+3A_scales">scales</code></td>
<td>
<p>As for <code>facet_grid</code>, but alters behaviour of <code>repeat.tick.labels</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These two functions are extensions to <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code>
and <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code> that keeps axis lines, ticks, and
optionally tick labels across all panels.
</p>
<p>Examples are given in the vignette <a href="../doc/facet-rep-labels.html">&quot;Repeat axis lines on facet panels&quot; vignette</a>.
</p>

<hr>
<h2 id='g_legend'>Extract ggplot legends</h2><span id='topic+g_legend'></span>

<h3>Description</h3>

<p>Extracts the legend ('guide-box') from a ggplot2 object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g_legend(a.gplot)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="g_legend_+3A_a.gplot">a.gplot</code></td>
<td>
<p>ggplot2 or gtable object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The extraction is applied <em>after</em> the plot is trained and themes are
applied. Modifying the legend is easiest by applying themes etc.
to the ggplot2 object, before calling <code>g_legend</code>.
</p>
<p>An alternative method for extracting the legend is using
<code>gtable::<a href="gtable.html#topic+gtable_filter">gtable_filter</a></code>:
</p>
<pre>
  gtable_filter(ggplotGrob(a.ggplot.obj), 'guide-box')
</pre>
<p>This method however returns a <code>gtable</code> object which encapsulates
the entire legend. The legend itself may be a collection of <code>gtable</code>.
We have only noticed a problem with this extra layer when using the returned
legend with <code><a href="gridExtra.html#topic+arrangeGrob">arrangeGrob</a></code> (see examples).
</p>


<h3>Value</h3>

<p>gtable (grob) object. Draw with <code><a href="grid.html#topic+grid.draw">grid.draw</a></code>.
</p>


<h3>Author(s)</h3>

<p><a href="http://baptiste.github.io/">Baptiste Auguié</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+grid_arrange_shared_legend">grid_arrange_shared_legend</a></code>, <code><a href="#topic+reposition_legend">reposition_legend</a></code>,
<code><a href="gtable.html#topic+gtable_filter">gtable_filter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
library(gtable)
library(grid)
library(gridExtra)
library(gtable)
dsamp &lt;- diamonds[sample(nrow(diamonds), 1000), ]
(d &lt;- ggplot(dsamp, aes(carat, price)) +
 geom_point(aes(colour = clarity)) +
 theme(legend.position='bottom'))

legend &lt;- g_legend(d)
grid.newpage()
grid.draw(legend)

(d2 &lt;- ggplot(dsamp, aes(x=carat, fill=clarity)) +
  geom_histogram(binwidth=0.1) +
 theme(legend.position='bottom'))

grid.arrange(d  + theme(legend.position='hidden'),
             d2 + theme(legend.position='hidden'),
             bottom=legend$grobs[[1]])
# Above fails with more than one guide

legend2 &lt;- gtable_filter(ggplotGrob(d), 'guide-box')
grid.arrange(d  + theme(legend.position='hidden'),
             d2 + theme(legend.position='hidden'),
             bottom=legend2$grobs[[1]]$grobs[[1]])
# Above fails with more than one guide


</code></pre>

<hr>
<h2 id='geom_pointpath'>Connected points</h2><span id='topic+geom_pointpath'></span><span id='topic+geom_pointline'></span><span id='topic+geom_pointrangeline'></span>

<h3>Description</h3>

<p><code>geom_pointpath</code> combines <code><a href="ggplot2.html#topic+geom_point">geom_point</a></code> and
<code><a href="ggplot2.html#topic+geom_path">geom_path</a></code>, such that a) when jittering is used,
both lines and points stay connected, and b) provides a visual effect
by adding a small gap between the point and the end of line.
<code>geom_pointline</code> combines <code><a href="ggplot2.html#topic+geom_point">geom_point</a></code> and
<code><a href="ggplot2.html#topic+geom_path">geom_path</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_pointpath(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  distance = unit(3, "pt"),
  shorten = 0.5,
  threshold = 0.1,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  linesize = 0.5,
  linecolour = waiver(),
  linecolor = waiver(),
  arrow = NULL,
  ...
)

geom_pointline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  distance = unit(3, "pt"),
  shorten = 0.5,
  threshold = 0.1,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  linesize = 0.5,
  linecolour = waiver(),
  linecolor = waiver(),
  arrow = NULL,
  ...
)

geom_pointrangeline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  distance = unit(3, "pt"),
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  linesize = 0.5,
  linecolour = waiver(),
  linecolor = waiver(),
  arrow = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_pointpath_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes</a></code>
or <code><a href="ggplot2.html#topic+aes_">aes_</a></code>.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer,
as a string.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of a
call to a position adjustment function
(e.g. <code><a href="ggplot2.html#topic+position_jitter">position_jitter</a></code>).
Both lines and points gets the same adjustment
(<em>this</em> is where the function excels over <code>geom_point() + geom_line()</code>).</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (default), missing values are removed with a warning.
If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_show.legend">show.legend</code></td>
<td>
<p>Logical. Should this layer be included in the legends?
<code>NA</code> (default), includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetic, rather
than combining with them. This is most useful for helper functions that
define both data and aesthetics and shouldn't inherit behaviour from the
default plot specification.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_distance">distance</code></td>
<td>
<p>Gap size between point and end of lines;
use <code><a href="grid.html#topic+unit">unit</a></code>. Is converted to 'pt' if given as simple numeric.
When <code>NULL</code> or <code>NA</code>, gapping and <code>shorten</code>/<code>treshold</code>
is disabled. To keep the latter, set to 0.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_shorten">shorten</code>, <code id="geom_pointpath_+3A_threshold">threshold</code></td>
<td>
<p>When points are closer than <code>threshold</code>,
shorten the line by the proportion in <code>shorten</code> instead of adding
a gap by <code>distance</code>.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mintre, bevel).</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_linesize">linesize</code></td>
<td>
<p>Width of of line.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_linecolour">linecolour</code>, <code id="geom_pointpath_+3A_linecolor">linecolor</code></td>
<td>
<p>When not <code>waiver()</code>, the line is drawn with
this colour instead of that set by aesthetic <code>colour</code>.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">arrow</a></code>.</p>
</td></tr>
<tr><td><code id="geom_pointpath_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>geom_pointpath</code> connects the observations in the same order in which
they appear in the data.
<code>geom_pointline</code> connects them in order of the variable on the x-axis.
</p>
<p>Both <code>geom_pointpath</code> and <code>geom_pointline</code> will only
connect observations within the same group! However,
if <code>linecolour</code> is <em>not</em> <code>waiver()</code>, connections
will be made between groups, but possible in an incorrect order.
</p>


<h3>Aesthetics</h3>

<p><code>geom_pointline</code> and <code>geom_pointpath</code> understands the following
aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong>x</strong>
</p>
</li>
<li> <p><strong>y</strong>
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> colour &ndash; sets colour of point. Only affects line if <code>linecolour=waiver()</code>.
</p>
</li>
<li><p> stroke
</p>
</li>
<li><p> shape
</p>
</li>
<li><p> stroke
</p>
</li>
<li><p> group
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> size &ndash; only affects point size. Width of line is set with
<code>linesize</code> and cannot be linked to an aesthetic.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># geom_point examples
library(ggplot2)

p &lt;- ggplot(mtcars, aes(wt, mpg))
p + geom_point() + geom_line()
p + geom_pointline()

p + geom_pointline(linecolour='brown')

p + geom_pointpath()

# Add aesthetic mappings
p + geom_pointline(aes(colour = factor(cyl)))
# Using linecolour preserved groups.
p + geom_pointline(aes(colour = factor(cyl)), linecolour='brown') 

## If you want to combine the pretty lines of pointline that do *not* respect
## grouping (or order), combine several layers with geom_point on top:
p + geom_pointline() + geom_point(aes(colour=factor(cyl)))

# Change scales
p + geom_pointline(aes(colour = cyl)) + scale_colour_gradient(low = "blue")
p + geom_pointline(aes(colour = cyl), linecolour='black') + scale_colour_gradient(low = "blue")
p + geom_pointline(aes(shape = factor(cyl))) + scale_shape(solid = FALSE)

# For shapes that have a border (like 21), you can colour the inside and
# outside separately. Use the stroke aesthetic to modify the width of the
# border
ggplot(mtcars, aes(wt, mpg)) +
  geom_pointline(shape = 21, colour = "black", fill = "white", 
                 size = 5, stroke = 5, distance = unit(10, 'pt'))

## Another example
df &lt;- data.frame(x=rep(c('orange','apple','pear'), each=3), 
                 b=rep(c('red','green','purple'), times=3), y=runif(9))
ggplot(df, aes(x=x, y=y, colour=b, group=b)) + 
  geom_pointline(linesize=1, size=2, distance=6) + theme_bw()

# geom_pointline() is suitable for time series
ggplot(economics, aes(date, unemploy)) + geom_pointline()
ggplot(economics_long, aes(date, value01, colour = variable)) +
  geom_pointline()
</code></pre>

<hr>
<h2 id='geom_siderange'>Display range of data in side of plot</h2><span id='topic+geom_siderange'></span>

<h3>Description</h3>

<p>Projects data onto horizontal or vertical edge of panels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_siderange(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  distance = 3,
  arrow = NULL,
  lineend = "butt",
  sides = "bl",
  start = NA,
  end = NA,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_siderange_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes</a></code>
or <code><a href="ggplot2.html#topic+aes_">aes_</a></code>.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer,
as a string.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of a
call to a position adjustment function
(e.g. <code><a href="ggplot2.html#topic+position_jitter">position_jitter</a></code>).
Both lines and points gets the same adjustment
(<em>this</em> is where the function excels over <code>geom_point() + geom_line()</code>).</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_distance">distance</code></td>
<td>
<p>Distance between edge of panel and lines, and distance
between lines, in multiples of line widths, see description.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">arrow</a></code>.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_sides">sides</code></td>
<td>
<p>Character including <strong>t</strong>op, <strong>r</strong>ight, <strong>b</strong>ottom, and/or <strong>l</strong>eft,
indicating which side to project data onto.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_start">start</code>, <code id="geom_siderange_+3A_end">end</code></td>
<td>
<p>Adds a symbol to either end of the siderange.
<code>start</code> corresponds to minimal value, <code>end</code> to maximal value.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (default), missing values are removed with a warning.
If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_show.legend">show.legend</code></td>
<td>
<p>Logical. Should this layer be included in the legends?
<code>NA</code> (default), includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_siderange_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetic, rather
than combining with them. This is most useful for helper functions that
define both data and aesthetics and shouldn't inherit behaviour from the
default plot specification.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>geom_siderange</code> projects the data displayed in the panel onto the
sides, using the same aesthetics. It has the added capability of potting a
symbol  at either end
of the line, and lines are offset from the edge and each other.
</p>
<p>To display a symbol, specify an integer for either <code>start</code> or <code>end</code>.
See the list for <code>pch</code> in <code><a href="graphics.html#topic+points">points</a></code> for values to use.
The argumetns <code>start</code> and <code>end</code> also accepts a list object with
named entries <code>pch</code>, <code>alpha</code>, <code>stroke</code>, and <code>fill</code>, which
correspond to the usual aesthetics, as well as a special named entry,
<code>sizer</code> (note the extra 'r').
This last entry is a multiplier for enlarging the symbol relative to the
linewidth, as the aesthetic <code>size</code> affects both linewidth and symbol size.
</p>
<p>The distance between the panel's edge and sideranges are specified by
the argument <code>distance</code>. If a symbol is specified, the linewidth is
further expanded to cover the width of the symbol (including <code>sizer</code>).
</p>


<h3>Aesthetics</h3>

<p>The geom understands the following aesthetics (required are in bold):
</p>

<ul>
<li> <p><strong>x</strong>
</p>
</li>
<li> <p><strong>y</strong>
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> colour
</p>
</li>
<li><p> fill (if a symbol is applied with <code>start</code> or <code>end</code>
</p>
</li>
<li><p> group
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> size
</p>
</li>
<li><p> stroke
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_rug">geom_rug</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

x &lt;- rnorm(25)
df &lt;- data.frame(x=x, y=x+rnorm(25, sd=0.2), 
                 a=sample(c('horse','goat'), 25, replace=TRUE), 
                 stringsAsFactors = FALSE)
df$y &lt;- with(df, ifelse(y &gt; 1 &amp; a=='horse', 1, y))
(p &lt;- ggplot(df, aes(x=x, y=y, colour=a)) + geom_point(shape=1))

p + geom_siderange(start=19)

# Capping the sideranges with different symbols:
p + geom_siderange(start=19, end=22, fill='black', sides='b') + geom_siderange(sides='tl')

# It also works with facets

p &lt;- ggplot(mpg, aes(displ, hwy, colour=fl)) +
  geom_point() +
  facet_wrap(~class, nrow = 4)

p + geom_siderange()

</code></pre>

<hr>
<h2 id='get_panel_range'>Version safe(r) method to get the y- and x-range from trained scales.</h2><span id='topic+get_panel_range'></span><span id='topic+get_panel_y_range'></span><span id='topic+get_panel_x_range'></span><span id='topic+get_panel_params'></span>

<h3>Description</h3>

<p>The names of the internal layout objects from <code>ggplot_build</code> changed
slightly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_panel_y_range(layout, index = 1)

get_panel_x_range(layout, index = 1)

get_panel_params(layout, index = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_panel_range_+3A_layout">layout</code></td>
<td>
<p><code>layout</code> part from ggplot_build</p>
</td></tr>
<tr><td><code id="get_panel_range_+3A_index">index</code></td>
<td>
<p>Could be panel number?</p>
</td></tr>
</table>

<hr>
<h2 id='grid_arrange_shared_legend'>Share a legend between multiple plots</h2><span id='topic+grid_arrange_shared_legend'></span>

<h3>Description</h3>

<p>Extract legend, combines plots using <code><a href="gridExtra.html#topic+arrangeGrob">arrangeGrob</a></code> /
<code>grid.arrange</code>,
and places legend in a margin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grid_arrange_shared_legend(
  ...,
  ncol = length(list(...)),
  nrow = 1,
  position = c("bottom", "right", "top", "left"),
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grid_arrange_shared_legend_+3A_...">...</code></td>
<td>
<p>Objects to plot. First argument should be a ggplot2 object,
as the legend is extracted from this.
Other arguments are passed on to
<code><a href="gridExtra.html#topic+arrangeGrob">arrangeGrob</a></code>,
including named arguments that are not defined for <code>grid_arrange_shared_legend</code>.
ggplot2 objects have their legends hidden.</p>
</td></tr>
<tr><td><code id="grid_arrange_shared_legend_+3A_ncol">ncol</code></td>
<td>
<p>Integer, number of columns to arrange plots in.</p>
</td></tr>
<tr><td><code id="grid_arrange_shared_legend_+3A_nrow">nrow</code></td>
<td>
<p>Integer, number of rows to arrange plots in.</p>
</td></tr>
<tr><td><code id="grid_arrange_shared_legend_+3A_position">position</code></td>
<td>
<p>'bottom' or 'right' for positioning legend.</p>
</td></tr>
<tr><td><code id="grid_arrange_shared_legend_+3A_plot">plot</code></td>
<td>
<p>Logical, when <code>TRUE</code> (default), draws combined plot on a
new page.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>gtable of combined plot, invisibly.
Draw  gtable object using <code><a href="grid.html#topic+grid.draw">grid.draw</a></code>.
</p>


<h3>Author(s)</h3>

<p>Originally brought to you by
<a href="http://baptiste.github.io/">Baptiste Auguié</a>
(<a href="https://github.com/tidyverse/ggplot2/wiki/Share-a-legend-between-two-ggplot2-graphs">https://github.com/tidyverse/ggplot2/wiki/Share-a-legend-between-two-ggplot2-graphs</a>)
and
<a href="http://rpubs.com/sjackman">Shaun Jackman</a>
(<a href="http://rpubs.com/sjackman/grid_arrange_shared_legend">original</a>).
Stefan McKinnon Edwards added left and top margins.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+g_legend">g_legend</a></code>, <code><a href="#topic+reposition_legend">reposition_legend</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
dsamp &lt;- diamonds[sample(nrow(diamonds), 300), ]
p1 &lt;- qplot(carat, price, data = dsamp, colour = clarity)
p2 &lt;- qplot(cut, price, data = dsamp, colour = clarity)
p3 &lt;- qplot(color, price, data = dsamp, colour = clarity)
p4 &lt;- qplot(depth, price, data = dsamp, colour = clarity)
grid_arrange_shared_legend(p1, p2, p3, p4, ncol = 4, nrow = 1)
grid_arrange_shared_legend(p1, p2, p3, p4, ncol = 2, nrow = 2)

# Passing on plots in a grob are not touched
grid_arrange_shared_legend(p1, gridExtra::arrangeGrob(p2, p3, p4, ncol=3), ncol=1, nrow=2)

# We can also pass on named arguments to arrangeGrob:
title &lt;- grid::textGrob('This is grob', gp=grid::gpar(fontsize=14, fontface='bold'))
nt &lt;- theme(legend.position='none')
grid_arrange_shared_legend(p1,
   gridExtra::arrangeGrob(p2+nt, p3+nt, p4+nt, ncol=3), ncol=1, nrow=2,
   top=title)
</code></pre>

<hr>
<h2 id='gtable_show_grill'>Visualise underlying gtable layout.</h2><span id='topic+gtable_show_grill'></span><span id='topic+gtable_show_names'></span>

<h3>Description</h3>

<p>Visualises the table structure or the names of the gtable's components.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtable_show_grill(x, plot = TRUE)

gtable_show_names(
  x,
  plot = TRUE,
  rect.gp = grid::gpar(col = "black", fill = "white", alpha = 1/4)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtable_show_grill_+3A_x">x</code></td>
<td>
<p>A gtable object. If given a ggplot object, it is converted to a
gtable object with <code><a href="ggplot2.html#topic+ggplotGrob">ggplotGrob</a></code>.</p>
</td></tr>
<tr><td><code id="gtable_show_grill_+3A_plot">plot</code></td>
<td>
<p>Logical. When <code>TRUE</code> (default), draws resulting gtable
object on a new page.</p>
</td></tr>
<tr><td><code id="gtable_show_grill_+3A_rect.gp">rect.gp</code></td>
<td>
<p>Graphical parameters (<code><a href="grid.html#topic+gpar">gpar</a></code>) for background drop.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are highly similar to
<code><a href="gtable.html#topic+gtable_show_layout">gtable_show_layout</a></code>.
<code>gtable_show_grill</code> draws the grid of the underlying table, and places
row and column indicies in the margin.
<code>gtable_show_names</code> replaces the grobs with a semi-transparent rectangle
and the component's name.
</p>


<h3>Value</h3>

<p>Modified gtable object, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
library(gtable)
library(grid)

p &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point()

gtable_show_grill(p)
library(ggplot2)
library(gtable)
library(grid)

p &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point()

gtable_show_names(p)
</code></pre>

<hr>
<h2 id='guidebox_as_column'>Guidebox as a column</h2><span id='topic+guidebox_as_column'></span>

<h3>Description</h3>

<p>Takes a plot or legend and returns a single guide-box in a single column,
for embedding in e.g. tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guidebox_as_column(legend, which.legend = 1, add.title = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="guidebox_as_column_+3A_legend">legend</code></td>
<td>
<p>A ggplot2 plot or the legend extracted with <code><a href="#topic+g_legend">g_legend</a></code>.
<em>Do not</em> provide a <code><a href="ggplot2.html#topic+ggplotGrob">ggplotGrob</a></code> as it is indistinguisble
from a legend.</p>
</td></tr>
<tr><td><code id="guidebox_as_column_+3A_which.legend">which.legend</code></td>
<td>
<p>Integer, a legend can contain multiple guide-boxes (or vice versa?).
Use this argument to select which to use.</p>
</td></tr>
<tr><td><code id="guidebox_as_column_+3A_add.title">add.title</code></td>
<td>
<p>Does nothing yet.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="gtable.html#topic+gtable">gtable</a></code> with keys and labels reordered into
a single column and each pair of keys and labels in the same cell.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+g_legend">g_legend</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

p &lt;- ggplot(diamonds, aes(x=x, y=y, colour=cut)) + geom_point()
guidebox_as_column(p)
p &lt;- p + guides(colour=guide_legend(ncol=2, byrow=TRUE))
guidebox_as_column(p)
</code></pre>

<hr>
<h2 id='is.small'>Is a given unit 'small'?</h2><span id='topic+is.small'></span>

<h3>Description</h3>

<p>Uses a holistic approach to determine whether a unit is 'small',
i.e. less than 1 cm, 1 line, 10 pt, or 0.4 in.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.small(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.small_+3A_x">x</code></td>
<td>
<p>A unit.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Based on arbitraily chosen definitions of 'small', this function can return
<code>TRUE</code> or <code>FALSE</code> if a unit is 'small'.
</p>
<p>So far, less than 1 cm, 1 line, 10 pt, or 0.4 inches is defined as being
'small'.
Unresolved sizes, suchs as 'grobheight', 'grobwidth', or 'null' are not
small.
Units based on arithmetic, such as sum of multiple units,
are also <em>not</em> small.
<code>NA</code>s are returned for undecided sizes.
</p>


<h3>Value</h3>

<p>Logical or <code>NA</code>.
</p>

<hr>
<h2 id='lemon_print'>knitr extension: Always use 'kable' for data frames.</h2><span id='topic+lemon_print'></span><span id='topic+lemon_print.data.frame'></span><span id='topic+lemon_print.table'></span>

<h3>Description</h3>

<p>Convenience function for working with R Notebooks that ensures data frames
(and dplyr tables) are printed with <code><a href="knitr.html#topic+kable">kable</a></code> while
allowing RStudio to render the data frame dynamically for inline display.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lemon_print(x, options, ...)

## S3 method for class 'data.frame'
lemon_print(x, options, ...)

## S3 method for class 'table'
lemon_print(x, options, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lemon_print_+3A_x">x</code></td>
<td>
<p>an data frame or dplyr table object to be printed</p>
</td></tr>
<tr><td><code id="lemon_print_+3A_options">options</code></td>
<td>
<p>Current chunk options are passed through this argument.</p>
</td></tr>
<tr><td><code id="lemon_print_+3A_...">...</code></td>
<td>
<p>Ignored for now.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions divert data frame and summary output to
<code><a href="knitr.html#topic+kable">kable</a></code> for nicely printing the output.
</p>
<p>For <em>options to <code>kable</code></em>, they can be given directly as
chunk-options (see arguments to <code><a href="knitr.html#topic+kable">kable</a></code>), or though
as a list to a special chunk-option <code>kable.opts</code>.
</p>
<p>For more examples, see <code>vignette('lemon_print', package='lemon')</code>.
</p>


<h3>Knitr usage</h3>

<p>To use for a single chunk, do
</p>
<pre>
```{r render=lemon_print,caption='My data frame'}
data.frame
```
</pre>
<p><strong>Note:</strong> We are <em>not</em> calling the function,
but instead refering to it.
</p>
<p>An alternate route for specifying <code><a href="knitr.html#topic+kable">kable</a></code> arguments is as:
</p>
<pre>
```{r render=lemon_print,kable.opts=list(align='l')}
data.frame
```
</pre>
<p>The option <code>kable.opts</code> takes precendence over arguments given directly
as chunk-options.
</p>
<p>To enable as default printing method for <em>all chunks</em>, include
</p>
<pre>
  knit_print.data.frame &lt;- lemon_print
  knit_print.table &lt;- lemon_print
  knit_print.grouped_df &lt;- lemon_print # enableds dplyr results
  knit_print.tibble &lt;- lemon_print
  knit_print.tbl &lt;- lemon_print
</pre>
<p><strong>Note:</strong> We are <em>not</em> calling the function,
but instead assigning the <code><a href="knitr.html#topic+knit_print">knit_print</a></code> functions
for some classes.
</p>
<p>To disable, temporarily, specify chunk option:
</p>
<pre>
```{r render=normal_print}`
data.frame
```
</pre>


<h3>See Also</h3>

<p><code><a href="knitr.html#topic+knit_print">knit_print</a></code>, <code><a href="knitr.html#topic+kable">kable</a></code>
</p>

<hr>
<h2 id='lemon-ggproto'>ggproto classes used in lemon!</h2><span id='topic+lemon-ggproto'></span><span id='topic+AxisAnnotation'></span><span id='topic+AAList'></span><span id='topic+CoordFlexCartesian'></span><span id='topic+CoordFlexFlipped'></span><span id='topic+CoordFlexFixed'></span><span id='topic+FacetGridRepeatLabels'></span><span id='topic+FacetWrapRepeatLabels'></span><span id='topic+GeomPointPath'></span><span id='topic+GeomPointLine'></span><span id='topic+GeomPointRangeLine'></span><span id='topic+GeomSideRange'></span>

<h3>Description</h3>

<p>If you are creating a new geom, stat, position, or scale in another package,
you'll need to extend from <code>ggplot2::Geom</code>, <code>ggplot2::Stat</code>,
<code>ggplot2::Position</code>, or <code>ggplot2::Scale</code>.
</p>


<h3>Axis annotations</h3>

<p>Drawing axis annotations requires overloading the normal
<code>ggplot_build</code> and <code>ggplot_gtable</code> to add extra columns and rows for these
annotations (see gtable_show_grill).
</p>
<p>See file <code>axis-annotation.r</code>.
</p>


<h3>Coordinate systems</h3>

<p>The <code>CoordFlexCartisan</code> and <code>CoordFlexFlipped</code> allows us to inject other
<code>render_axis_h</code> and <code>render_axis_v</code> methods for drawing other axes.
</p>
<p>See <code>coord-flex.r</code>.
</p>


<h3>Facets</h3>

<p>The class <code>FacetGridRepeatLabels</code> is an extension of <a href="ggplot2.html#topic+ggplot2-ggproto">ggplot2::FacetGrid</a>
while <code>FacetWrapRepeatLabels</code> is an extension of <a href="ggplot2.html#topic+ggplot2-ggproto">ggplot2::FacetWrap</a>,
both draws the axes on each panel.
See <a href="#topic+facet_rep_grid">facet_rep_grid</a>, <a href="#topic+facet_rep_wrap">facet_rep_wrap</a>, <code>facet-rap-lab.r</code> and <code>facet_wrap.r</code>.
</p>


<h3>Geoms</h3>

<p>The geom-objects here extends <code>ggplot2::Geom</code>
allowing us to produce the geoms for
<a href="#topic+geom_pointline">geom_pointline</a>,
<a href="#topic+geom_pointpath">geom_pointpath</a>, <a href="#topic+geom_pointrangeline">geom_pointrangeline</a>, and <a href="#topic+geom_siderange">geom_siderange</a>.
</p>
<p>See <code>geom-pointline.r</code> and <code>geom-siderange.r</code>.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggproto">ggproto</a></code>, <code><a href="ggplot2.html#topic+ggplot2-ggproto">ggplot2-ggproto</a></code>
</p>

<hr>
<h2 id='remove_labels_from_axis'>Removes labels from axis grobs.</h2><span id='topic+remove_labels_from_axis'></span>

<h3>Description</h3>

<p>Called from FacetGridRepeatLabels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_labels_from_axis(axisgrob, direction = c("horizontal", "vertical"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_labels_from_axis_+3A_axisgrob">axisgrob</code></td>
<td>
<p>Grob with an axis.</p>
</td></tr>
<tr><td><code id="remove_labels_from_axis_+3A_direction">direction</code></td>
<td>
<p>Whether the axis is horizontal or vertical.</p>
</td></tr>
</table>

<hr>
<h2 id='render_gpar'>Render a ggplot2 grob or retrieve its gpar object.</h2><span id='topic+render_gpar'></span>

<h3>Description</h3>

<p>Helps add the ggplot2-theme's look-and-feel to <code>grid</code>'s grob objects.
<code>render_gpar</code> returns a <code><a href="grid.html#topic+gpar">gpar</a></code>-object,
<code>element_render</code> returns a <code><a href="grid.html#topic+grid.grob">grid.grob</a></code>-object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_gpar(theme, element, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_gpar_+3A_theme">theme</code></td>
<td>
<p>A ggplot2 <a href="ggplot2.html#topic+theme">theme</a></p>
</td></tr>
<tr><td><code id="render_gpar_+3A_element">element</code></td>
<td>
<p>The name of an element in the theme, e.g. &quot;axis.text&quot;.</p>
</td></tr>
<tr><td><code id="render_gpar_+3A_...">...</code></td>
<td>
<p>Additional arguments sent to grobs (e.g. <code>x</code> or <code>y</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="grid.html#topic+grid.grob">grid.grob</a></code> or <code><a href="grid.html#topic+gpar">gpar</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+theme">theme</a></code>
</p>

<hr>
<h2 id='reposition_legend'>Reposition a legend onto a panel</h2><span id='topic+reposition_legend'></span>

<h3>Description</h3>

<p>Repositions a legend onto a panel, by either taking it from the same ggplot,
or by using another. Works on both ggplot2 and gtable objects, and can accept
any grob as legend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reposition_legend(
  aplot,
  position = NULL,
  legend = NULL,
  panel = "panel",
  x = NULL,
  y = NULL,
  just = NULL,
  name = "guide-box",
  clip = "on",
  offset = c(0, 0),
  z = Inf,
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reposition_legend_+3A_aplot">aplot</code></td>
<td>
<p>a ggplot2 or gtable object.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_position">position</code></td>
<td>
<p>Where to place the legend in the panel.
Overrules  <code>just</code> argument.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_legend">legend</code></td>
<td>
<p>The legend to place, if <code>NULL</code> (default),
it is extracted from <code>aplot</code> if
this is a ggplot2 object.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_panel">panel</code></td>
<td>
<p>Name of panel in gtable. See description.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_x">x</code></td>
<td>
<p>horisontal coordinate of legend, with 0 at left.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_y">y</code></td>
<td>
<p>vertical coordiante of legend, with 0 at bottom.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_just">just</code></td>
<td>
<p>'Anchor point' of legend; it is this point of the legend that is
placed at the <code>x</code> and <code>y</code> coordinates.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_name">name</code>, <code id="reposition_legend_+3A_clip">clip</code>, <code id="reposition_legend_+3A_z">z</code></td>
<td>
<p>Parameters forwarded to
<code><a href="gtable.html#topic+gtable_add_grob">gtable_add_grob</a></code>.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_offset">offset</code></td>
<td>
<p>Numeric vector, sets distance from edge of panel.
First element for horisontal distance, second for vertical.
Not used by arguments <code>x</code> and <code>y</code>.</p>
</td></tr>
<tr><td><code id="reposition_legend_+3A_plot">plot</code></td>
<td>
<p>Logical, when <code>TRUE</code> (default), draws plot with legend
repositioned on a new page.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To modify the look of the legend, use themes and the natural ggplot functions
found in <code><a href="ggplot2.html#topic+guide_legend">guide_legend</a></code>.
</p>
<p><em>Positioning</em> is done by argument <code>position</code> which places the panel
relative in <code>panel</code> (see below).
<code>position</code> resolves to three variables, <code>x</code>, <code>y</code>, and <code>just</code>.
<code>x</code> and <code>y</code> is the coordinate in <code>panel</code>, where the anchorpoint of
the legend (set via <code>just</code>) is placed.
In other words, <code>just='bottom right'</code> places the bottom right corner of
the legend at coordinates <code>(x,y)</code>.
</p>
<p>The positioning can be set by argument <code>position</code> alone, which can be
further nudged by setting <code>position</code>, <code>x</code>, and <code>y</code>.
Alternatively, manually positioning can be obtained by setting arguments.
<code>x</code>, <code>y</code>, and <code>just</code>.
</p>
<p><em>Panel</em> name is by default <code>panel</code>, but when using facets it typically
takes the form <code>panel-{col}-{row}</code>, but not for wrapped facets.
Either print result from <code><a href="ggplot2.html#topic+ggplotGrob">ggplotGrob</a></code> or use
<code><a href="#topic+gtable_show_names">gtable_show_names</a></code> to display all the names of the gtable
object.
</p>
<p><code>panel</code> takes multiple names, and will then use these components'
extremes for placing the legend.
</p>
<p>If <code>panel</code> is an integer vector of length 2 or 4, these elements are
used directly for top-left and bottom-right coordinates.
</p>


<h3>Value</h3>

<p>gtable object, invisibly, with legend repositioned.
Can be drawn with <code><a href="grid.html#topic+grid.draw">grid.draw</a></code>.
</p>


<h3>Author(s)</h3>

<p>Stefan McKinnon Edwards &lt;sme@iysik.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+g_legend">g_legend</a></code>, <code><a href="#topic+grid_arrange_shared_legend">grid_arrange_shared_legend</a></code>
and <code><a href="#topic+gtable_show_names">gtable_show_names</a></code> for displaying names of facet's panels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
dsamp &lt;- diamonds[sample(nrow(diamonds), 1000), ]
(d &lt;- ggplot(dsamp, aes(carat, price)) +
 geom_point(aes(colour = clarity)))

reposition_legend(d + theme(legend.position='bottom'), 'bottom right')

# To change the orientation of the legend, use theme's descriptors.
reposition_legend(d + theme(legend.position='bottom'), 'top left')

# Use odd specifications, here offset the legend with half its height from the bottom.
reposition_legend(d + theme(legend.position='bottom'), x=0.3, y=0, just=c(0, -0.5))

# For using with facets:
reposition_legend(d + facet_grid(.~cut), 'top left', panel = 'panel-1-5')
</code></pre>

<hr>
<h2 id='scale_x_symmetric'>Symmetrix position scale for continuous x and y</h2><span id='topic+scale_x_symmetric'></span><span id='topic+scale_y_symmetric'></span>

<h3>Description</h3>

<p><code>scale_x_symmetric</code> and <code>scale_y_symmetric</code> are like the default
scales for continuous x and y, but ensures that the resulting scale is
centered around <code>mid</code>. Does not work when setting limits on the scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_symmetric(mid = 0, ...)

scale_y_symmetric(mid = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_x_symmetric_+3A_mid">mid</code></td>
<td>
<p>Value to center the scale around.</p>
</td></tr>
<tr><td><code id="scale_x_symmetric_+3A_...">...</code></td>
<td>
<p>Values passed on to <code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
df &lt;- expand.grid(a=c(-1,0,1), b=c(-1,0,1))
rnorm2 &lt;- function(x,y,n,sdx,sdy) {
  if (missing(sdy))
    sdy &lt;- sdx
  data.frame(a=x,b=y,x=rnorm(n,x,sdx), y=rnorm(n,y,sdy))
}
df &lt;- mapply(rnorm2,df$a, df$b, MoreArgs=list(n=30,sdx=1),SIMPLIFY=FALSE)
df &lt;- do.call(rbind, df)
(p &lt;- ggplot(df, aes(x=x,y=y)) + geom_point() +
  facet_grid(a~b, scales='free_x')
)
p + scale_x_symmetric(mid=0)
</code></pre>

<hr>
<h2 id='waiver'>The waivers are from &lsquo;<span class="file">ggplot2/R/utilities.r</span>&rsquo;.</h2><span id='topic+waiver'></span><span id='topic+is.waive'></span><span id='topic++25+7CW+7C+25'></span><span id='topic+if-not-null'></span><span id='topic++25+7C+7C+25'></span><span id='topic+guide_axis'></span>

<h3>Description</h3>

<p>The waivers are from &lsquo;<span class="file">ggplot2/R/utilities.r</span>&rsquo;.
</p>
<p>From R/guide-axis.r
</p>


<h3>Usage</h3>

<pre><code class='language-R'>waiver()

is.waive(x)

a %|W|% b

a %||% b

guide_axis(at, labels, position = "right", theme, label_element, gp_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="waiver_+3A_x">x</code></td>
<td>
<p>The object to inquery is a <code>waiver</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+waiver">waiver</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

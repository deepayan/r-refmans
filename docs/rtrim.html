<!DOCTYPE html><html><head><title>Help for package rtrim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rtrim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rtrim-package'><p>Trend and Indices for Monitoring Data</p></a></li>
<li><a href='#check_observations'><p>Check whether there are sufficient observations to run a model</p></a></li>
<li><a href='#ci_multipliers'><p>Compute Std.err ==&gt; conf.int multipliers.</p></a></li>
<li><a href='#coef.trim'><p>Extract TRIM model coefficients.</p></a></li>
<li><a href='#confint.trim'><p>Compute time-totals confidence interval</p></a></li>
<li><a href='#count_summary'><p>Compute a summary of counts</p></a></li>
<li><a href='#get_coef'><p>Extract model coefficients from <code>tof</code> object</p></a></li>
<li><a href='#get_estimation_method'><p>Extract estimation method from <code>tof</code> object</p></a></li>
<li><a href='#get_gof'><p>Extract goodness of fit from <code>tof</code> object</p></a></li>
<li><a href='#get_model'><p>Extract model type from <code>tof</code> object</p></a></li>
<li><a href='#get_n_site'><p>Extract nr of times from <code>tof</code> object</p></a></li>
<li><a href='#get_n_time'><p>Extract nr of sites from <code>tof</code> object</p></a></li>
<li><a href='#get_overal_imputed_slope'><p>Extract overall imputed slope <code>tof</code> object</p></a></li>
<li><a href='#get_time_indices'><p>Extract time indices from <code>tof</code> object</p></a></li>
<li><a href='#get_time_totals'><p>Extract time totals from <code>tof</code> object</p></a></li>
<li><a href='#get_version'><p>Extract TRIM version used for output</p></a></li>
<li><a href='#get_wald'><p>Extract Wald test parameters from <code>tof</code> object</p></a></li>
<li><a href='#gof'><p>Extract TRIM goodness-of-fit information.</p></a></li>
<li><a href='#heatmap'><p>Plot a heatmap representation of observed and/or imputed counts.</p></a></li>
<li><a href='#index'><p>Extract time-indices from TRIM output.</p></a></li>
<li><a href='#now_what'><p>Give advice on further refinement of TRIM models</p></a></li>
<li><a href='#overall'><p>Compute overall slope</p></a></li>
<li><a href='#overdispersion'><p>Extract overdispersion from trim object</p></a></li>
<li><a href='#oystercatcher'><p>Oystercatcher population data</p></a></li>
<li><a href='#plot.trim.index'><p>Plot time-indices from trim output.</p></a></li>
<li><a href='#plot.trim.overall'><p>Plot overall slope</p></a></li>
<li><a href='#plot.trim.smooth'><p>Plot overall slope</p></a></li>
<li><a href='#plot.trim.totals'><p>Plot time-totals from trim output.</p></a></li>
<li><a href='#print.count.summary'><p>print a count summary</p></a></li>
<li><a href='#print.trim'><p>print a 'trim' object</p></a></li>
<li><a href='#print.trim.gof'><p>Print method for <code>trim.gof</code></p></a></li>
<li><a href='#print.trim.overall'><p>Print an object of class trim.overall</p></a></li>
<li><a href='#print.trim.wald'><p>Print an object of class trim.wald</p></a></li>
<li><a href='#print.trimcommand'><p>print a trimcommand object</p></a></li>
<li><a href='#read_tcf'><p>Read a TRIM command file</p></a></li>
<li><a href='#read_tdf'><p>Read TRIM data files</p></a></li>
<li><a href='#read_tof'><p>Read a TRIM3 output file</p></a></li>
<li><a href='#read_vcv'><p>Read a TRIM3 variance-covariance output file</p></a></li>
<li><a href='#results'><p>collect observed, modelled, and imputed counts from TRIM output</p></a></li>
<li><a href='#serial_correlation'><p>Extract serial correlation from TRIM object</p></a></li>
<li><a href='#set_trim_verbose'><p>Set verbosity of trim model functions</p></a></li>
<li><a href='#skylark'><p>Skylark population data</p></a></li>
<li><a href='#summary.trim'><p>Summary information for a TRIM job</p></a></li>
<li><a href='#summary.trimbatch'><p>summarize a trimbatch object</p></a></li>
<li><a href='#totals'><p>Extract time-totals from TRIM output</p></a></li>
<li><a href='#trendlines'><p>Extract 'overall' trendlines</p></a></li>
<li><a href='#trim'><p>Estimate TRIM model parameters.</p></a></li>
<li><a href='#trim_estimate'><p>TRIM estimation function</p></a></li>
<li><a href='#trim_refine'><p>TRIM stepwise refinement</p></a></li>
<li><a href='#trim_workhorse'><p>TRIM workhorse function</p></a></li>
<li><a href='#trimcommand'><p>Create a trimcommand object</p></a></li>
<li><a href='#vcov.trim'><p>Extract variance-covariance matrix from TRIM output</p></a></li>
<li><a href='#wald'><p>Test significance of TRIM coefficients  with the Wald test</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Trends and Indices for Monitoring Data</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-21</td>
</tr>
<tr>
<td>Description:</td>
<td>The TRIM model is widely used for estimating growth and decline of
    animal populations based on (possibly sparsely available) count data. The
    current package is a reimplementation of the original TRIM software developed
    at Statistics Netherlands by Jeroen Pannekoek. See
    <a href="https://www.cbs.nl/en-gb/society/nature-and-environment/indices-and-trends%2d%2dtrim%2d%2d">https://www.cbs.nl/en-gb/society/nature-and-environment/indices-and-trends%2d%2dtrim%2d%2d</a>
    for more information about TRIM.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SNStatComp/rtrim">https://github.com/SNStatComp/rtrim</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SNStatComp/rtrim/issues">https://github.com/SNStatComp/rtrim/issues</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>no</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://joinup.ec.europa.eu/software/page/eupl">EUPL</a></td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, utils, stats, graphics, grDevices</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, R.rsp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, R.rsp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-21 13:03:42 UTC; patrick</td>
</tr>
<tr>
<td>Author:</td>
<td>Patrick Bogaart <a href="https://orcid.org/0000-0002-8612-1289"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Mark van der Loo [aut],
  Jeroen Pannekoek [aut],
  Statistics Netherlands [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Patrick Bogaart &lt;rtrim@cbs.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-21 14:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rtrim-package'>Trend and Indices for Monitoring Data</h2><span id='topic+rtrim'></span><span id='topic+rtrim-package'></span>

<h3>Description</h3>

<p>The TRIM model is used to estimate species populations based on frequent
(annual) counts at a varying collection of sites. The model is able to take
account of missing data by imputing prior to estimation of population totals.
The current package is a complete re-implementation of the <code>Delphi</code>
based
<a href="https://www.cbs.nl/en-gb/society/nature-and-environment/indices-and-trends--trim--">TRIM</a>
software developed at Statistics Netherlands by Jeroen Pannekoek.
</p>


<h3>Getting started</h3>

<p>Several vignettes have been written to document the 'rtrim' package.
</p>
<p>For everybody:
</p>

<ul>
<li><p><a href="../doc/Skylark_example.html">rtrim by example</a>
</p>
</li>
<li><p><a href="../doc/rtrim_2_extensions.html">rtrim 2 extensions</a>
</p>
</li>
<li><p><a href="../doc/FAQ.html">Frequently Asked Questions</a>
</p>
</li></ul>

<p>For users of the original Windows TRIM software:
</p>

<ul>
<li><p><a href="../doc/rtrim_for_TRIM_users.html">rtrim for TRIM users</a>
</p>
</li></ul>

<p>For users who would like to have more insight what is going on under the hood:
</p>

<ul>
<li><p><a href="../doc/TRIM_methods_v2.pdf">Models and statistical methods in rtrim</a> (PDF),
</p>
</li>
<li><p><a href="../doc/TRIM_confidence_intervals.html">rtrim confidence intervals</a>
</p>
</li>
<li><p><a href="../doc/taming_overdispersion.html">Taming overdispersion</a>.
</p>
</li></ul>

<p>Enjoy!
The rtrim team of Statistics Netherlands
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Patrick Bogaart <a href="mailto:rtrim@cbs.nl">rtrim@cbs.nl</a> (<a href="https://orcid.org/0000-0002-8612-1289">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Mark van der Loo
</p>
</li>
<li><p> Jeroen Pannekoek
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Statistics Netherlands [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/SNStatComp/rtrim">https://github.com/SNStatComp/rtrim</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/SNStatComp/rtrim/issues">https://github.com/SNStatComp/rtrim/issues</a>
</p>
</li></ul>


<hr>
<h2 id='check_observations'>Check whether there are sufficient observations to run a model</h2><span id='topic+check_observations'></span><span id='topic+check_observations.data.frame'></span><span id='topic+check_observations.trimcommand'></span><span id='topic+check_observations.character'></span>

<h3>Description</h3>

<p>Check whether there are sufficient observations to run a model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_observations(x, ...)

## S3 method for class 'data.frame'
check_observations(
  x,
  model,
  count_col = "count",
  year_col = "year",
  month_col = NULL,
  covars = character(0),
  changepoints = numeric(0),
  eps = 1e-08,
  ...
)

## S3 method for class 'trimcommand'
check_observations(x, ...)

## S3 method for class 'character'
check_observations(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_observations_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+trimcommand">trimcommand</a></code> object, a <code>data.frame</code>, or the location of a TRIM command file.</p>
</td></tr>
<tr><td><code id="check_observations_+3A_...">...</code></td>
<td>
<p>Parameters passed to other methods.</p>
</td></tr>
<tr><td><code id="check_observations_+3A_model">model</code></td>
<td>
<p><code>[numeric]</code> Model 1, 2 or 3?</p>
</td></tr>
<tr><td><code id="check_observations_+3A_count_col">count_col</code></td>
<td>
<p><code>[character|numeric]</code> column index of the counts in <code>x</code></p>
</td></tr>
<tr><td><code id="check_observations_+3A_year_col">year_col</code></td>
<td>
<p><code>[character|numeric]</code> column index of years or time points in <code>x</code></p>
</td></tr>
<tr><td><code id="check_observations_+3A_month_col">month_col</code></td>
<td>
<p><code>[character|numeric]</code> optional column index of months in <code>x</code></p>
</td></tr>
<tr><td><code id="check_observations_+3A_covars">covars</code></td>
<td>
<p><code>[character|numeric]</code> column index of covariates in <code>x</code></p>
</td></tr>
<tr><td><code id="check_observations_+3A_changepoints">changepoints</code></td>
<td>
<p><code>[numeric]</code> Changepoints (model 2 only)</p>
</td></tr>
<tr><td><code id="check_observations_+3A_eps">eps</code></td>
<td>
<p><code>[numeric]</code> Numbers whose absolute magnitude are lesser than <code>eps</code> are considered zero.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> with two components. The component <code>sufficient</code> takes the value
<code>TRUE</code> or <code>FALSE</code> depending on whether sufficient counts have been found.
The component <code>errors</code> is a <code>list</code>, of which the structure depends on the chosen model,
that indicates under what conditions insufficient data is present to estimate the model.
</p>

<ul>
<li><p>For model 3 without covariates, <code>$errors</code> is a list whose single element is a vector of time
points with insufficient counts.
</p>
</li>
<li><p>For model 3 with covariates, <code>$errors</code> is a named list with an element for each covariate
for which insufficients counts are encountered. Each element is a two-column <code>data.frame</code>. The
first column indicates the time point, the second column indicates for which covariate value insufficient
counts are found.
</p>
</li>
<li><p>For Model 2, without covariates <code>$errors</code> is a list with a single
element <code>changepoints</code>. It points out what changepoints lead to a time
slice with zero observations.
</p>
</li>
<li><p>For Model 2, with covariates <code>$errors</code> is a named list with an
element for each covariate for which inssufficients counts are encountered.
Each element is a two-column <code>data.frame</code>, The first colum indicates the
changepoint, the second column indicates for which covariate value
insufficient counts are found.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other modelspec: 
<code><a href="#topic+read_tcf">read_tcf</a>()</code>,
<code><a href="#topic+read_tdf">read_tdf</a>()</code>,
<code><a href="#topic+set_trim_verbose">set_trim_verbose</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+trimcommand">trimcommand</a>()</code>
</p>

<hr>
<h2 id='ci_multipliers'>Compute Std.err ==&gt; conf.int multipliers.</h2><span id='topic+ci_multipliers'></span>

<h3>Description</h3>

<p>Compute Std.err ==&gt; conf.int multipliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ci_multipliers(lambda, sig2 = NULL, level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ci_multipliers_+3A_lambda">lambda</code></td>
<td>
<p>mean</p>
</td></tr>
<tr><td><code id="ci_multipliers_+3A_sig2">sig2</code></td>
<td>
<p>overdispersion parameter</p>
</td></tr>
<tr><td><code id="ci_multipliers_+3A_level">level</code></td>
<td>
<p>the confidence level required</p>
</td></tr>
</table>


<h3>Value</h3>

<p>matrix with multipliers. col1=lo; col2=hi
</p>

<hr>
<h2 id='coef.trim'>Extract TRIM model coefficients.</h2><span id='topic+coef.trim'></span>

<h3>Description</h3>

<p>Extract TRIM model coefficients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim'
coef(object, representation = c("standard", "trend", "deviations"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.trim_+3A_object">object</code></td>
<td>
<p>TRIM output structure (i.e., output of a call to <code>trim</code>)</p>
</td></tr>
<tr><td><code id="coef.trim_+3A_representation">representation</code></td>
<td>
<p><code>[character]</code> Choose the coefficient
representation. Options <code>"trend"</code> and <code>"deviations"</code> are for model 3 only.</p>
</td></tr>
<tr><td><code id="coef.trim_+3A_...">...</code></td>
<td>
<p>currently unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> containing coefficients and their standard errors,
both in additive and multiplicative form.
</p>


<h3>Details</h3>

<p>Extract the site, growth or time effect parameters computed with
<code><a href="#topic+trim">trim</a></code>.
</p>


<h3>Additive versus multiplicative representation</h3>

<p>In the simplest cases (no covariates, no change points), the trim
Model 2 and Model 3 can be summarized as follows:
</p>

<ul>
<li><p>Model 2: <code class="reqn">\ln\mu_{ij}=\alpha_i + \beta\times(j-1)</code> 
</p>
</li>
<li><p>Model 3: <code class="reqn">\ln\mu_{ij}=\alpha_i + \gamma_j</code>.
</p>
</li></ul>

<p>Here, <code class="reqn">\mu_{ij}</code> is the estimated number of counts at site <code class="reqn">i</code>, time
<code class="reqn">j</code>. The parameters <code class="reqn">\alpha_i</code>, <code class="reqn">\beta</code> and <code class="reqn">\gamma_j</code> are
refererred to as coefficients in the additive representation. By
exponentiating both sides of the above equations, alternative representations
can be written down. Explicitly, one can show that
</p>

<ul>
<li><p>Model 2: <code class="reqn">\mu_{ij}= a_ib^{(j-1)} = b\mu_{ij-1}</code>, where <code class="reqn">a_i=e^{\alpha_i}</code> and <code class="reqn">b=e^\beta</code>.
</p>
</li>
<li><p>Model 3: <code class="reqn">\mu_{ij}=a_ic_j</code>, where <code class="reqn">a_i=e^{\alpha_i}</code>, <code class="reqn">c_1=1</code> and <code class="reqn">c_j=e^{\gamma_j}</code> for <code class="reqn">j&gt;1</code>.
</p>
</li></ul>

<p>The parameters <code class="reqn">a_i</code>, <code class="reqn">b</code> and <code class="reqn">c_j</code> are referred to as
coefficients in the <em>multiplicative form</em>.
</p>


<h3>Trend and deviation (Model 3 only)</h3>

<p>The equation for Model 3
</p>
<p><code class="reqn">\ln\mu_{ij}  = \alpha_i + \gamma_j</code>,
</p>
<p>can also be written as an overall slope resulting from a linear regression of
the <code class="reqn">\mu_{ij}</code> over time,  plus site- and time effects that
record deviations from this overall slope.  In such a reparametrisation
the previous equation can be written as
</p>
<p><code class="reqn">\ln\mu_{ij} = \alpha_i^* + \beta^*d_j + \gamma_j^*,</code>
</p>
<p>where <code class="reqn">d_j</code> equals <code class="reqn">j</code> minus the mean over all <code class="reqn">j</code> (i.e. if <code class="reqn">j=1,2,\ldots,J</code>
then <code class="reqn">d_j = j-(J+1)/2</code>). It is not hard to show that
</p>

<ul>
<li><p>The <code class="reqn">\alpha_i^*</code> are the mean <code class="reqn">\ln\mu_{ij}</code> per site
</p>
</li>
<li><p>The <code class="reqn">\gamma_j^*</code> must sum to zero.
</p>
</li></ul>

<p>The coefficients <code class="reqn">\alpha_i^*</code> and <code class="reqn">\gamma_j^*</code> are obtained by
setting <code>representation="deviations"</code>. If <code>representation="trend"</code>,
the overall trend parameters <code class="reqn">\beta^*</code> and <code class="reqn">\alpha^*</code> from the overall
slope defined by <code class="reqn">\alpha^* + \beta^*d_j</code> is returned.
</p>
<p>Finally, note that both the overall slope and the deviations can be written
in multiplicative form as well.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2, overdisp=TRUE)
coefficients(z)
</code></pre>

<hr>
<h2 id='confint.trim'>Compute time-totals confidence interval</h2><span id='topic+confint.trim'></span>

<h3>Description</h3>

<p>Computes confidence intervals for the time-totals of a TRIM model.
Both imputed and fitted time-totals are supported, and the confidence level can be specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim'
confint(object, parm = c("imputed", "fitted"), level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.trim_+3A_object">object</code></td>
<td>
<p>a TRIM output object</p>
</td></tr>
<tr><td><code id="confint.trim_+3A_parm">parm</code></td>
<td>
<p>parameter specification: imputed or fitted time-totals.</p>
</td></tr>
<tr><td><code id="confint.trim_+3A_level">level</code></td>
<td>
<p>the confidence level required.</p>
</td></tr>
<tr><td><code id="confint.trim_+3A_...">...</code></td>
<td>
<p>not used [included for R compatibility reasons]</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark2)
z &lt;- trim(count ~ site + year, data=skylark2, model=3)
CI &lt;- confint(z)
</code></pre>

<hr>
<h2 id='count_summary'>Compute a summary of counts</h2><span id='topic+count_summary'></span>

<h3>Description</h3>

<p>Summarize counts over a trim input dataset. Sites without counts are removed
before any counting takes place (since these will not be used when calling
<code><a href="#topic+trim">trim</a></code>). For the remaining records, the total number of
zero-counts, positive counts, total number of observed counts and the total
number of missings are reported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_summary(
  x,
  count_col = "count",
  site_col = "site",
  year_col = "year",
  eps = 1e-08
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_summary_+3A_x">x</code></td>
<td>
<p>A <code>data.frame</code> with annual counts per site.</p>
</td></tr>
<tr><td><code id="count_summary_+3A_count_col">count_col</code></td>
<td>
<p><code>[character|numeric]</code>  index of the column containing the counts</p>
</td></tr>
<tr><td><code id="count_summary_+3A_site_col">site_col</code></td>
<td>
<p><code>[character|numeric]</code>  index of the column containing the site ID's</p>
</td></tr>
<tr><td><code id="count_summary_+3A_year_col">year_col</code></td>
<td>
<p><code>[character|numeric]</code>  index of the column containing the year</p>
</td></tr>
<tr><td><code id="count_summary_+3A_eps">eps</code></td>
<td>
<p><code>[numeric]</code> Numbers smaller then <code>eps</code> are treated a zero.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> of class <code>count.summary</code> containing individual names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
count_summary(skylark)

s &lt;- count_summary(skylark)
s$zero_counts # obtain number of zero counts
</code></pre>

<hr>
<h2 id='get_coef'>Extract model coefficients from <code>tof</code> object</h2><span id='topic+get_coef'></span>

<h3>Description</h3>

<p>Extract model coefficients from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_coef(x, covars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_coef_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
<tr><td><code id="get_coef_+3A_covars">covars</code></td>
<td>
<p><code>[character]</code> names of covariates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of class <code>trim.coef</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_estimation_method'>Extract estimation method from <code>tof</code> object</h2><span id='topic+get_estimation_method'></span>

<h3>Description</h3>

<p>Extract estimation method from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_estimation_method(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_estimation_method_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> string
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_gof'>Extract goodness of fit from <code>tof</code> object</h2><span id='topic+get_gof'></span>

<h3>Description</h3>

<p>Extract goodness of fit from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gof(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_gof_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of type <code>trim.gof</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_model'>Extract model type from <code>tof</code> object</h2><span id='topic+get_model'></span>

<h3>Description</h3>

<p>Extract model type from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_model(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_model_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Model number, either 1, 2 or 3.
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_n_site'>Extract nr of times from <code>tof</code> object</h2><span id='topic+get_n_site'></span>

<h3>Description</h3>

<p>Extract nr of times from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_n_site(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_n_site_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>numeric</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_n_time'>Extract nr of sites from <code>tof</code> object</h2><span id='topic+get_n_time'></span>

<h3>Description</h3>

<p>Extract nr of sites from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_n_time(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_n_time_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>numeric</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_overal_imputed_slope'>Extract overall imputed slope <code>tof</code> object</h2><span id='topic+get_overal_imputed_slope'></span>

<h3>Description</h3>

<p>Extract overall imputed slope <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_overal_imputed_slope(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_overal_imputed_slope_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> string
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_time_indices'>Extract time indices from <code>tof</code> object</h2><span id='topic+get_time_indices'></span>

<h3>Description</h3>

<p>Extract time indices from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_time_indices(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_time_indices_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_time_totals'>Extract time totals from <code>tof</code> object</h2><span id='topic+get_time_totals'></span>

<h3>Description</h3>

<p>Extract time totals from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_time_totals(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_time_totals_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_version'>Extract TRIM version used for output</h2><span id='topic+get_version'></span>

<h3>Description</h3>

<p>Extract TRIM version used for output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_version(x)
</code></pre>


<h3>Value</h3>

<p><code>character</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='get_wald'>Extract Wald test parameters from <code>tof</code> object</h2><span id='topic+get_wald'></span>

<h3>Description</h3>

<p>Extract Wald test parameters from <code>tof</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wald(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_wald_+3A_x">x</code></td>
<td>
<p>An object of class <code>tof</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of type <code>trim.wald</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='gof'>Extract TRIM goodness-of-fit information.</h2><span id='topic+gof'></span><span id='topic+gof.trim'></span>

<h3>Description</h3>

<p><code><a href="#topic+trim">trim</a></code> computes three goodness-of-fit measures:
</p>

<ul>
<li><p> Chi-squared
</p>
</li>
<li><p> Likelihood ratio
</p>
</li>
<li><p> Akaike Information content
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>gof(x)

## S3 method for class 'trim'
gof(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gof_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+trim">trim</a></code> (as returned by <code><a href="#topic+trim">trim</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of type &quot;trim.gof&quot;, containing elements <code>chi2</code>, <code>LR</code>
and <code>AIC</code>, for Chi-squared, Likelihoof Ratio and Akaike informatiuon content,
respectively.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2)
# prettyprint GOF information
gof(z)

# get individual elements, e.g. p-value
L &lt;- gof(z)
LR_p &lt;- L$LR$p # get p-value for likelihood ratio

</code></pre>

<hr>
<h2 id='heatmap'>Plot a heatmap representation of observed and/or imputed counts.</h2><span id='topic+heatmap'></span>

<h3>Description</h3>

<p>This function organizes the observed and/or imputed counts into a matrix where
rows represent sites and columns represent time points.
A bitmap image is constructed in which each pixel corresponds to an element of this matrix.
Each pixel is colored according the correspondong count status, and the type of heatmap plot requested ('data', 'imputed' or 'fitted').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heatmap(
  z,
  what = c("data", "imputed", "fitted"),
  log = TRUE,
  xlab = "auto",
  ylab = "Site #",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heatmap_+3A_z">z</code></td>
<td>
<p>output of a call to <code><a href="#topic+trim">trim</a></code>.</p>
</td></tr>
<tr><td><code id="heatmap_+3A_what">what</code></td>
<td>
<p>the type of heatmap to be plotted: 'data' (default), 'imputed' or 'fitted'.</p>
</td></tr>
<tr><td><code id="heatmap_+3A_log">log</code></td>
<td>
<p>flag to indicate whether the count should be log-transformed first.</p>
</td></tr>
<tr><td><code id="heatmap_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label. The default value &quot;auto&quot; will evaluate to either &quot;Year&quot; or &quot;Time point&quot;</p>
</td></tr>
<tr><td><code id="heatmap_+3A_ylab">ylab</code></td>
<td>
<p>y-axis label</p>
</td></tr>
<tr><td><code id="heatmap_+3A_...">...</code></td>
<td>
<p>other parameters to be passed to <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'imputed' heatmap uses the most elaborate color scheme:
Site/time combinations that are observed are colored red, the higher the count, the darker the red.
Site/time combinations that are imputed are colored blue, the higher the estimate, the darker the blue.
</p>
<p>For the 'data' heatmap, missing site/time combinations are colored gray.
</p>
<p>For the 'fitted' heatmap, all site/time combinations are colored blue.
</p>
<p>By default, all counts are log-transformed prior to colorization, and observed counts of 0 are indicates as white pixels.
</p>


<h3>See Also</h3>

<p>Other graphical post-processing: 
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.totals">plot.trim.totals</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark2)
z &lt;- trim(count ~ site + year, data=skylark2, model=3)
heatmap(z,"imputed")

</code></pre>

<hr>
<h2 id='index'>Extract time-indices from TRIM output.</h2><span id='topic+index'></span>

<h3>Description</h3>

<p>Indices are obtained by dividing the modelled or imputed time totals by a reference value.
Most commonly, the time totals for the starting year are used as reference.
As a result, the index value for this year will be 1.0, with a standard error of 0.0 by definition.<br />
Alternatively, a range of years can be used as reference. In this case, the mean time totals for this range will be used as
reference, and the standard errors will be larger than 0.0.<br />
Starting with <code>rtrim</code> 2.2, an additional method can be selected,
which uses a simpler scaling approach to standard errors of the indices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index(
  x,
  which = c("imputed", "fitted", "both"),
  covars = FALSE,
  base = 1,
  level = NULL,
  method = c("formal", "scaled"),
  long = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="index_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+trim">trim</a></code></p>
</td></tr>
<tr><td><code id="index_+3A_which">which</code></td>
<td>
<p>(character) Selector to distinguish between time indices based on the imputed data (default),
the fitted model, or both.</p>
</td></tr>
<tr><td><code id="index_+3A_covars">covars</code></td>
<td>
<p>(logical) Switch to compute indices for covariate categories as well.</p>
</td></tr>
<tr><td><code id="index_+3A_base">base</code></td>
<td>
<p>(integer or numeric) One or more years, used as as reference for the index.
If just a single year is given, the time total of the corresponding year will be uses as a reference.
If a range of years is given, the average of the corresponding time totals will be used as reference.<br />
Alternatively, the reference year(s) can be identified using their rank number,
i.e. <code>base=1</code> always refers to the starting year, <code>base=2</code> to the second year, etc.</p>
</td></tr>
<tr><td><code id="index_+3A_level">level</code></td>
<td>
<p>(numeric) the confidence interval required.
Must be in the range 0 to 1. A value of 0.95 results in 95% confidence intervals.
The default value of NULL results in no confidence interval to be computed.</p>
</td></tr>
<tr><td><code id="index_+3A_method">method</code></td>
<td>
<p>(character) Method selector.
Options are <code>"formal"</code> (default) to use a formal computation of standard errors,
resulting in <code class="reqn">\text{SE}=0</code> for the reference year,
and <code>"scaled"</code> to use a simpler approach, based on linear scaling of the time-totals SE.</p>
</td></tr>
<tr><td><code id="index_+3A_long">long</code></td>
<td>
<p>(logical) Switch to return 'long' output
(default is 'wide', as in rtrim versions &lt; 2.2)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing indices and their uncertainty expressed as
standard error. Depending on the chosen output, columns <code>fitted</code>
and <code>se_fit</code>, and/or <code>imputed</code> and <code>se_imp</code> are present.
If <code>covars</code> is <code>TRUE</code>, additional indices are computed for the
individual covariate categories. In this case additional columns
<code>covariate</code> and <code>category</code> are present. The overall indices are
marked as covariate &lsquo;Overall&rsquo; and category 0.<br />
In case <code>long=TRUE</code> a long table is returned, and a different naming convention is used.
e.g., imputed/fitted info is in column <code>series</code>,
and standard error are always in column <code>SE</code>.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2)
index(z)
# mimic classic TRIM:
index(z, "both")
# Extract standard errors for the imputed data
SE &lt;- index(z,"imputed")$se_mod
# Include covariates
skylark$Habitat &lt;- factor(skylark$Habitat) # hack
z &lt;- trim(count ~ site + time + Habitat, data=skylark, model=2)
ind &lt;- index(z, covars=TRUE)
plot(ind)
# Use alternative base year
index(z, base=3)
# Use average of first 5 years as reference for indexing
index(z, base=1:5)
# Prevent SE=0 for the reference year
index(z, method="scaled")
</code></pre>

<hr>
<h2 id='now_what'>Give advice on further refinement of TRIM models</h2><span id='topic+now_what'></span>

<h3>Description</h3>

<p>Give advice on further refinement of TRIM models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>now_what(z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="now_what_+3A_z">z</code></td>
<td>
<p>an object of class <code><a href="#topic+trim">trim</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+trim">trim</a></code>
</p>
<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2, overdisp=TRUE)
now_what(z)
</code></pre>

<hr>
<h2 id='overall'>Compute overall slope</h2><span id='topic+overall'></span>

<h3>Description</h3>

<p>The overal slope represents the total growth over the piecewise linear model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overall(
  x,
  which = c("imputed", "fitted"),
  changepoints = numeric(0),
  bc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="overall_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+trim">trim</a></code>.</p>
</td></tr>
<tr><td><code id="overall_+3A_which">which</code></td>
<td>
<p><code>[character]</code> Choose between <code>"imputed"</code> or
<code>"fitted"</code> counts.</p>
</td></tr>
<tr><td><code id="overall_+3A_changepoints">changepoints</code></td>
<td>
<p><code>[numeric]</code> Change points for which to compute the overall slope,
or &quot;model&quot;, in which case the changepoints from the model are used (if any)</p>
</td></tr>
<tr><td><code id="overall_+3A_bc">bc</code></td>
<td>
<p><code>[logical]</code> Flag to set backwards compatability with TRIM with respect to trend interpretation.
Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class <code>trim.overall</code> containing, a.o., overall slope
coefficients (<code>slope</code>), augmented with p-values and an interpretation).
</p>


<h3>Details</h3>

<p>The overall slope represents the mean growth or decline over a period of time.
This can be determined over the whole time period for which the model is fitted (this is the default)
or may be computed over time slices that can be defined with the <code>cp</code> parameter.
The values for <code>changepoints</code> do not depend on <code>changepoints</code> that were used when
specifying the <code>trim</code> model (See also the example below).
</p>
<p>Slopes are computed along with associated confidence intervals (CI) for 1% and 5% significance levels,
and interpreted using the following table:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <strong>Trend meaning</strong> </td><td style="text-align: left;"> <strong>Condition</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
  Strong increase   (more than 5% per year) </td><td style="text-align: left;"> lower CI limit &gt; 0.05</td>
</tr>
<tr>
 <td style="text-align: left;">
  Moderate increase (less than 5% per year) </td><td style="text-align: left;"> lower CI limit &gt; 0</td>
</tr>
<tr>
 <td style="text-align: left;">
  Moderate decrease (less than 5% per year) </td><td style="text-align: left;"> upper CI limit &lt; 0</td>
</tr>
<tr>
 <td style="text-align: left;">
  Strong decrease   (more than 5% per year) </td><td style="text-align: left;"> upper CI limit &lt; -0.05</td>
</tr>
<tr>
 <td style="text-align: left;">
  Stable            </td><td style="text-align: left;"> -0.05 &lt; lower &lt; 0 &lt; upper &lt; 0.05</td>
</tr>
<tr>
 <td style="text-align: left;">
  Uncertain         </td><td style="text-align: left;"> any other case</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>where trend strength takes precedence over significance,
i.e., a <em>strong increase (p&lt;0.05)</em> takes precedence over a <em>moderate increase (p&lt;0.01)</em>.
</p>
<p>Note that the original TRIM erroneously assumed that the estimated overall trend
magnitude is t-distributed, while in fact it is normally distributed, which is being used within rtrim.
The option <code>bc=TRUE</code> can be set to force backward compability, for e.g. comparison purposes.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# obtain the overall slope accross all change points.
data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2)
overall(z)
plot(overall(z))

# Overall is a list, you can get information out if it using the $ syntax,
# for example
L &lt;- overall(z)
L$slope

# Obtain the slope from changepoint to changepoint
z &lt;- trim(count ~ site + time, data=skylark, model=2,changepoints=c(1,4,6))
# slope from time point 1 to 5
overall(z,changepoints=c(1,5,7))
</code></pre>

<hr>
<h2 id='overdispersion'>Extract overdispersion from trim object</h2><span id='topic+overdispersion'></span>

<h3>Description</h3>

<p>Extract overdispersion from trim object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overdispersion(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="overdispersion_+3A_x">x</code></td>
<td>
<p>An object of class <code><a href="#topic+trim">trim</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The overdispersion value if computed, otherwise <code>NULL</code>.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>

<hr>
<h2 id='oystercatcher'>Oystercatcher population data</h2><span id='topic+oystercatcher'></span>

<h3>Description</h3>

<p>A sample data set for demonstation of monthly counts.
</p>
<p>The <b><code>oystercatcher</code></b> data set looks as follows.
</p>

<table>
<tr>
 <td style="text-align: left;">
 <b>Column</b>      </td><td style="text-align: left;"> <b>Type</b>    </td><td style="text-align: left;"> <b>Description</b></td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>site</code>        </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Site number</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>year</code>        </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Year</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>month</code>       </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Month</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>count</code>       </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Counted oystercatchers
</td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>data(oystercatcher)
</code></pre>


<h3>Format</h3>

<p><code>.RData</code>
</p>

<hr>
<h2 id='plot.trim.index'>Plot time-indices from trim output.</h2><span id='topic+plot.trim.index'></span>

<h3>Description</h3>

<p>Uncertainty ranges exressed as standard errors are always plotted.
Confidence intervals are plotted when they are present in the <code>trim.index</code> object, i.e. when requested for in the call to <code><a href="#topic+index">index</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.index'
plot(
  x,
  ...,
  names = NULL,
  covar = "auto",
  xlab = "auto",
  ylab = "Index",
  pct = FALSE,
  band = "se"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.trim.index_+3A_x">x</code></td>
<td>
<p>an object of class <code>trim.index</code>, as resulting from e.g. a call to <code><a href="#topic+index">index</a></code>.</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_...">...</code></td>
<td>
<p>additional <code>trim.index</code> objects, or parameters that will be passed on to <code><a href="graphics.html#topic+plot">plot</a></code>.</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_names">names</code></td>
<td>
<p>optional character vector with names for the various series.</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_covar">covar</code></td>
<td>
<p><code>[character]</code> the name of a covariate to include in the plot.
If set to <code>"auto"</code> (the default), the first (or only) covariate is used.
If set to <code>"none"</code> plotting of covariates is suppressed and only the overall index is shown.</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_xlab">xlab</code></td>
<td>
<p>a title for the x-axis. The default value is &quot;auto&quot; will be changed to &quot;Time Point&quot; if the time ID's start at 1, and to &quot;Year&quot; otherwise.</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_ylab">ylab</code></td>
<td>
<p>a title for the y-axis. The default value is &quot;Index&quot;.</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_pct">pct</code></td>
<td>
<p>Switch to show the index values as percent instead as fraction (i.e., for the base year it will be 100 instead of 1)</p>
</td></tr>
<tr><td><code id="plot.trim.index_+3A_band">band</code></td>
<td>
<p>Defines if the uncertainty band will be plotted using standard errors (&quot;se&quot;) or confidence intervals (&quot;ci&quot;).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>
<p>Other graphical post-processing: 
<code><a href="#topic+heatmap">heatmap</a>()</code>,
<code><a href="#topic+plot.trim.totals">plot.trim.totals</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simple example
data(skylark2)
z &lt;- trim(count ~ site + year, data=skylark2, model=3)
idx &lt;- index(z)
plot(idx)

# Example with user-modified title, and different y-axis scaling
plot(idx, main="Skylark", pct=TRUE)

# Using covariates:
z &lt;- trim(count ~ site + year + habitat, data=skylark2, model=3)
idx &lt;- index(z, covars=TRUE)
plot(idx)

# Suppressing the plotting of covariate indices:
plot(idx, covar="none")

</code></pre>

<hr>
<h2 id='plot.trim.overall'>Plot overall slope</h2><span id='topic+plot.trim.overall'></span>

<h3>Description</h3>

<p>Creates a plot of the overall slope, its 95% confidence band, the
total population per time and their standard errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.overall'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.trim.overall_+3A_x">x</code></td>
<td>
<p>An object of class <code>trim.overall</code> (returned by <code><a href="#topic+overall">overall</a></code>)</p>
</td></tr>
<tr><td><code id="plot.trim.overall_+3A_...">...</code></td>
<td>
<p>Further options passed to <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
m &lt;- trim(count ~ site + time, data=skylark, model=2)
plot(overall(m))

</code></pre>

<hr>
<h2 id='plot.trim.smooth'>Plot overall slope</h2><span id='topic+plot.trim.smooth'></span>

<h3>Description</h3>

<p>Creates a plot of the overall slope, its 95% confidence band, the
total population per time and their 95% confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.smooth'
plot(x, imputed = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.trim.smooth_+3A_x">x</code></td>
<td>
<p>An object of class <code>trim.overall</code> (returned by <code><a href="#topic+overall">overall</a></code>)</p>
</td></tr>
<tr><td><code id="plot.trim.smooth_+3A_imputed">imputed</code></td>
<td>
<p><code>[logical]</code> Toggle to show imputed counts</p>
</td></tr>
<tr><td><code id="plot.trim.smooth_+3A_...">...</code></td>
<td>
<p>Further options passed to <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
m &lt;- trim(count ~ site + time, data=skylark, model=2)
plot(overall(m))

</code></pre>

<hr>
<h2 id='plot.trim.totals'>Plot time-totals from trim output.</h2><span id='topic+plot.trim.totals'></span>

<h3>Description</h3>

<p>This function plots a time series of one or more <code>trim.totals</code> objects, i.e. the output of <code>totals</code>.
Both the time totals themselves, as the associated standard errros will be plotted,
the former as a solid line with markers, the latter as a transparent band.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.totals'
plot(
  x,
  ...,
  names = NULL,
  xlab = "auto",
  ylab = "Time totals",
  leg.pos = "topleft",
  band = "se"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.trim.totals_+3A_x">x</code></td>
<td>
<p>an object of class <code>trim.totals</code>, as resulting from e.g. a call to <code>totals</code>.</p>
</td></tr>
<tr><td><code id="plot.trim.totals_+3A_...">...</code></td>
<td>
<p>optional additional <code>trim.totals</code> objects.</p>
</td></tr>
<tr><td><code id="plot.trim.totals_+3A_names">names</code></td>
<td>
<p>optional character vector with names for the various series.</p>
</td></tr>
<tr><td><code id="plot.trim.totals_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label. The default value of &quot;auto&quot; will be changed into &quot;Year&quot; or &quot;Time Point&quot;, whichever is more appropriate.</p>
</td></tr>
<tr><td><code id="plot.trim.totals_+3A_ylab">ylab</code></td>
<td>
<p>y-axis label.</p>
</td></tr>
<tr><td><code id="plot.trim.totals_+3A_leg.pos">leg.pos</code></td>
<td>
<p>legend position, similar as in <code><a href="graphics.html#topic+legend">legend</a></code>.</p>
</td></tr>
<tr><td><code id="plot.trim.totals_+3A_band">band</code></td>
<td>
<p>Defines if the uncertainty band will be plotted using standard errors (&quot;se&quot;) or confidence intervals (&quot;ci&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Additionally, the observed counts will be plotted (as a line) when this was asked for in the call to <code>totals</code>.
</p>
<p>Multiple time-total data sets can be compared in a single plot
</p>


<h3>See Also</h3>

<p>Other graphical post-processing: 
<code><a href="#topic+heatmap">heatmap</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simple example
data(skylark2)
z &lt;- trim(count ~ site + year, data=skylark2, model=3)
plot(totals(z))

# Extended example
z1 &lt;- trim(count ~ site + year + habitat, data=skylark2, model=3)
z2 &lt;- trim(count ~ site + year, data=skylark2, model=3)
t1 &lt;- totals(z1, obs=TRUE)
t2 &lt;- totals(z2, obs=TRUE)
plot(t1, t2, names=c("with covariates", "without covariates"), main="Skylark", leg.pos="bottom")

</code></pre>

<hr>
<h2 id='print.count.summary'>print a count summary</h2><span id='topic+print.count.summary'></span>

<h3>Description</h3>

<p>print a count summary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'count.summary'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.count.summary_+3A_x">x</code></td>
<td>
<p>An R object</p>
</td></tr>
<tr><td><code id="print.count.summary_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>

<hr>
<h2 id='print.trim'>print a 'trim' object</h2><span id='topic+print.trim'></span>

<h3>Description</h3>

<p>print a 'trim' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.trim_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+trim">trim</a></code> object</p>
</td></tr>
<tr><td><code id="print.trim_+3A_...">...</code></td>
<td>
<p>currently unused</p>
</td></tr>
</table>

<hr>
<h2 id='print.trim.gof'>Print method for <code>trim.gof</code></h2><span id='topic+print.trim.gof'></span>

<h3>Description</h3>

<p>Print method for <code>trim.gof</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.gof'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.trim.gof_+3A_x">x</code></td>
<td>
<p>a <code>trim.gof</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='print.trim.overall'>Print an object of class trim.overall</h2><span id='topic+print.trim.overall'></span>

<h3>Description</h3>

<p>Print an object of class trim.overall
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.overall'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.trim.overall_+3A_x">x</code></td>
<td>
<p>An object of class <code>trim.overall</code></p>
</td></tr>
</table>

<hr>
<h2 id='print.trim.wald'>Print an object of class trim.wald</h2><span id='topic+print.trim.wald'></span>

<h3>Description</h3>

<p>Print an object of class trim.wald
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim.wald'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.trim.wald_+3A_x">x</code></td>
<td>
<p>An object of class <code>trim.wald</code></p>
</td></tr>
</table>

<hr>
<h2 id='print.trimcommand'>print a trimcommand object</h2><span id='topic+print.trimcommand'></span>

<h3>Description</h3>

<p>print a trimcommand object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trimcommand'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.trimcommand_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
<tr><td><code id="print.trimcommand_+3A_...">...</code></td>
<td>
<p>optional parameters (ignored)</p>
</td></tr>
</table>

<hr>
<h2 id='read_tcf'>Read a TRIM command file</h2><span id='topic+read_tcf'></span>

<h3>Description</h3>

<p>Read TRIM Command Files, compatible with the Windows TRIM programme.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_tcf(file, encoding = getOption("encoding"), simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_tcf_+3A_file">file</code></td>
<td>
<p>Location of TRIM command file.</p>
</td></tr>
<tr><td><code id="read_tcf_+3A_encoding">encoding</code></td>
<td>
<p>The encoding in which the file is stored.</p>
</td></tr>
<tr><td><code id="read_tcf_+3A_simplify">simplify</code></td>
<td>
<p>Return a single <code>trimcommand</code> object if only one
model is specified in the TRIM command file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A trimcommand object, or in the case of multiple models in a single
TRIM command file, a <code>list</code> of <code>trimcommand</code> objects. In the
latter case, a useful summary can be printed with <code><a href="#topic+summary.trimbatch">summary.trimbatch</a></code>.
</p>


<h3>TRIM Command file format</h3>

<p>TRIM command files are text files that specify a TRIM job, where a job
consists of one or more models to be computed on a single data input file.
TRIM command files are commonly stored with the extension <code>.tcf</code>, but
this is not a strict requirement.
</p>
<p>A TRIM command file consists of two parts. The first part describes the
data file to be read, the second part describes the model(s) to be run. A
TRIM command file can only contain a single data specification part, but multiple
models may be specified.
</p>
<p>Each command starts on a new line with a keyword, followed by at least
one space and at least one option value, where multiple option values are
separated by spaces. All commands must be written on a single line, except
the <code>LABELS</code> command (to set labels for covariates). The latter command
starts with <code>LABELS</code> on a single line, followed by a newline, followed
by a new label on each following line. The keyword <code>END</code> (at the beginning of a line)
signals the end of the labels command.
</p>
<p>The keyword <code>RUN</code> (at the beginning of a single line) ends the
specification of a single model. After this a new model can be specified.
Parameters not specified in the current model will be copied from the previous
one.
</p>


<h3>TRIM commands</h3>

<p>The commands are identical to those in the original TRIM software. Commands
that represent a simple toggle (on/off, present/absent) are translated to a
<code>logical</code> upon reading. Below we give commands in upper case, but the
commands are parsed case insensitively.
</p>

<table>
<tr>
 <td style="text-align: left;">
<b>Data</b></td><td style="text-align: left;"></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>FILE</code>   </td><td style="text-align: left;"> data filename and path.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>TITLE</code>  </td><td style="text-align: left;"> A title (appears in output when exported).</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>NTIMES</code> </td><td style="text-align: left;"> [positive integer] Number of time points in data file.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>NCOVARS</code></td><td style="text-align: left;"> [nonnegative integer] Number of covariates in data file.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>LABELS</code> </td><td style="text-align: left;"> Covariate labels (multiline command). </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>END</code>    </td><td style="text-align: left;"> Signals end of <code>LABELS</code> command.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>MISSING</code></td><td style="text-align: left;"> missing value indicator.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>WEIGHT</code> </td><td style="text-align: left;"> [<code>present</code>, <code>absent</code>] Indicates whether weights are present in the data file [translated to <code>logical</code>].</td>
</tr>
<tr>
 <td style="text-align: left;">
<b>Model</b>  </td><td style="text-align: left;"></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>COMMENT</code>  </td><td style="text-align: left;"> A comment for the current model.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>WEIGHTING</code></td><td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch use of weights for current model [translated to <code>logical</code>].</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SERIALCOR</code></td><td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch use of serial correlation for current model [translated to <code>logical</code>].</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>OVERDISP</code></td><td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch use of overdispersion for current model [translated to <code>logical</code>].</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BASETIME</code></td><td style="text-align: left;"> [integer] Index of base time-point.</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>MODEL</code></td><td style="text-align: left;"> [<code>1</code>, <code>2</code>, <code>3</code>] Choose the current model</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>COVARIATES</code></td><td style="text-align: left;"> [integers] indices of covariates to use (1st covariate has index 1)</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CHANGEPOINTS</code> </td><td style="text-align: left;"> [integers] indices of changepoints</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>STEPWISE</code> </td><td style="text-align: left;"> [<code>on</code>,<code>off</code>] Switch stepwise selection of changepoints [translated to <code>logical</code>].</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>AUTODELETE</code> </td><td style="text-align: left;"> [<code>on</code>, <code>off</code>] Delete changepoints when the corresponding time segment has to litte observations. </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>OVERALLCHANGEPOINTS</code> </td><td style="text-align: left;">[integers] indices of overall changepoints</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>RUN</code></td><td style="text-align: left;"> Signals end of current model specification.</td>
</tr>
<tr>
 <td style="text-align: left;">
<b>Output</b> </td><td style="text-align: left;"></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>IMPCOVOUT</code></td><td style="text-align: left;"> [<code>on</code>, <code>off</code>] Switch to save variance-covariance matrix </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>COVIN</code></td><td style="text-align: left;"> [<code>on</code>, <code>off</code>] Switch to read variance-covariance matrix
</td>
</tr>

</table>



<h3>Encoding issues</h3>

<p>To read files containing non-ASCII characters encoded in a format that is not
native to your system, specifiy the <code>encoding</code> option. This causes R to
re-encode to native encoding upon reading. Input encodings supported for your
system can be listed by calling <code><a href="base.html#topic+iconvlist">iconvlist</a>()</code>. For more
information on Encoding in R, see <code><a href="base.html#topic+Encoding">Encoding</a></code>.
</p>


<h3>Note on filenames</h3>

<p>If the <code>file</code> is specified using backslashes to separate directories
(Windows style), this will be converted to a filename using forward slashes
(POSIX style, as used by R).
</p>


<h3>See Also</h3>

<p><a href="../doc/Working_with_tcf.html">Working with TRIM command files and TRIM data files</a>.
</p>
<p>Other modelspec: 
<code><a href="#topic+check_observations">check_observations</a>()</code>,
<code><a href="#topic+read_tdf">read_tdf</a>()</code>,
<code><a href="#topic+set_trim_verbose">set_trim_verbose</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+trimcommand">trimcommand</a>()</code>
</p>

<hr>
<h2 id='read_tdf'>Read TRIM data files</h2><span id='topic+read_tdf'></span><span id='topic+read_tdf.character'></span><span id='topic+read_tdf.trimcommand'></span>

<h3>Description</h3>

<p>Read data files intended for the original TRIM programme.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_tdf(x, ...)

## S3 method for class 'character'
read_tdf(
  x,
  missing = -1,
  weight = FALSE,
  ncovars = 0,
  labels = character(0),
  ...
)

## S3 method for class 'trimcommand'
read_tdf(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_tdf_+3A_x">x</code></td>
<td>
<p>a filename or a <code><a href="#topic+trimcommand">trimcommand</a></code> object</p>
</td></tr>
<tr><td><code id="read_tdf_+3A_...">...</code></td>
<td>
<p>(unused)</p>
</td></tr>
<tr><td><code id="read_tdf_+3A_missing">missing</code></td>
<td>
<p><code>[integer]</code> missing value indicator.
Missing values are translated to <code><a href="base.html#topic+NA">NA</a></code>.</p>
</td></tr>
<tr><td><code id="read_tdf_+3A_weight">weight</code></td>
<td>
<p><code>[logical]</code> indicate presence of a weight column</p>
</td></tr>
<tr><td><code id="read_tdf_+3A_ncovars">ncovars</code></td>
<td>
<p><code>[logical]</code> The number of covariates in the file</p>
</td></tr>
<tr><td><code id="read_tdf_+3A_labels">labels</code></td>
<td>
<p><code>[character]</code> (optional) specify labels for the covariates.
Defaults to <code>cov&lt;i&gt;</code> (<code>i=1,2,...,ncovars</code>) if none are specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>.
</p>


<h3>The TRIM data file format</h3>

<p>TRIM input data is stored in a <code>ASCII</code> encoded file where headerless columns
are separated by one or more spaces. Below are the columns as <code>read_tdf</code> expects
them.
</p>

<table>
<tr>
 <td style="text-align: left;">
<b>Variable</b>    </td><td style="text-align: left;"><b>status</b>   </td><td style="text-align: left;"> <b>R type</b></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>site</code>        </td><td style="text-align: left;"> requiered </td><td style="text-align: left;"> <code>integer</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>time</code>        </td><td style="text-align: left;"> required  </td><td style="text-align: left;"> <code>integer</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>count</code>       </td><td style="text-align: left;"> required  </td><td style="text-align: left;"> <code>numeric</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>weight</code>      </td><td style="text-align: left;"> optional  </td><td style="text-align: left;"> <code>numeric</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>&lt;covariate1&gt;</code></td><td style="text-align: left;"> optional</td><td style="text-align: left;"> <code>integer</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>...</code></td><td style="text-align: left;"></td><td style="text-align: left;"></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>&lt;covariateN&gt;</code></td><td style="text-align: left;"> optional</td><td style="text-align: left;"> <code>integer</code></td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p>Other modelspec: 
<code><a href="#topic+check_observations">check_observations</a>()</code>,
<code><a href="#topic+read_tcf">read_tcf</a>()</code>,
<code><a href="#topic+set_trim_verbose">set_trim_verbose</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+trimcommand">trimcommand</a>()</code>
</p>

<hr>
<h2 id='read_tof'>Read a TRIM3 output file</h2><span id='topic+read_tof'></span>

<h3>Description</h3>

<p>Read a TRIM3 output file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_tof(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_tof_+3A_file">file</code></td>
<td>
<p><code>[character]</code> filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string of class <code>tof</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_vcv">read_vcv</a>()</code>
</p>

<hr>
<h2 id='read_vcv'>Read a TRIM3 variance-covariance output file</h2><span id='topic+read_vcv'></span>

<h3>Description</h3>

<p>Read a TRIM3 variance-covariance output file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_vcv(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_vcv_+3A_file">file</code></td>
<td>
<p><code>[character]</code> filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of class <code>[numeric]</code>
</p>


<h3>See Also</h3>

<p>Other parse_output: 
<code><a href="#topic+get_coef">get_coef</a>()</code>,
<code><a href="#topic+get_estimation_method">get_estimation_method</a>()</code>,
<code><a href="#topic+get_gof">get_gof</a>()</code>,
<code><a href="#topic+get_model">get_model</a>()</code>,
<code><a href="#topic+get_n_site">get_n_site</a>()</code>,
<code><a href="#topic+get_n_time">get_n_time</a>()</code>,
<code><a href="#topic+get_overal_imputed_slope">get_overal_imputed_slope</a>()</code>,
<code><a href="#topic+get_time_indices">get_time_indices</a>()</code>,
<code><a href="#topic+get_time_totals">get_time_totals</a>()</code>,
<code><a href="#topic+get_version">get_version</a>()</code>,
<code><a href="#topic+get_wald">get_wald</a>()</code>,
<code><a href="#topic+read_tof">read_tof</a>()</code>
</p>

<hr>
<h2 id='results'>collect observed, modelled, and imputed counts from TRIM output</h2><span id='topic+results'></span>

<h3>Description</h3>

<p>collect observed, modelled, and imputed counts from TRIM output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>results(z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="results_+3A_z">z</code></td>
<td>
<p>TRIM output structure (i.e., output of a call to <code>trim</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>, one row per site-time combination, with columns for
site, year, month (optionally), observed counts, modelled counts and imputed counts.
Missing observations are marked as <code>NA</code>.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2);
out &lt;- results(z)
</code></pre>

<hr>
<h2 id='serial_correlation'>Extract serial correlation from TRIM object</h2><span id='topic+serial_correlation'></span>

<h3>Description</h3>

<p>Extract serial correlation from TRIM object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>serial_correlation(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="serial_correlation_+3A_x">x</code></td>
<td>
<p>An object of class <code><a href="#topic+trim">trim</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The serial correlation coefficient if computed, otherwise <code>NULL</code>.
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>

<hr>
<h2 id='set_trim_verbose'>Set verbosity of trim model functions</h2><span id='topic+set_trim_verbose'></span>

<h3>Description</h3>

<p>Control how much output <code><a href="#topic+trim">trim</a></code> writes to the screen while
fitting the model. By default, <code>trim</code> only returns the output
and does not write any progress to the screen. After calling
<code>set_trim_verbose(TRUE)</code>, <code>trim</code> will write information
about running iterations and convergence to the screen during optmization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_trim_verbose(verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_trim_verbose_+3A_verbose">verbose</code></td>
<td>
<p><code>[logical]</code> toggle verbosity. <code>TRUE</code> means: be
verbose, <code>FALSE</code> means be quiet (this is the default).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other modelspec: 
<code><a href="#topic+check_observations">check_observations</a>()</code>,
<code><a href="#topic+read_tcf">read_tcf</a>()</code>,
<code><a href="#topic+read_tdf">read_tdf</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+trimcommand">trimcommand</a>()</code>
</p>

<hr>
<h2 id='skylark'>Skylark population data</h2><span id='topic+skylark'></span><span id='topic+skylark2'></span>

<h3>Description</h3>

<p>The Skylark dataset that was included with the original TRIM software.
</p>
<p>The dataset can be loaded in two forms. The <b><code>skylark</code></b> dataset is
exactly equal to the data set in the original TRIM software:
</p>

<table>
<tr>
 <td style="text-align: left;">
 <b>Column</b>      </td><td style="text-align: left;"> <b>Type</b>    </td><td style="text-align: left;"> <b>Description</b></td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>site</code>        </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Site number</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>time</code>        </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Time point coded as integer sequence</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>count</code>       </td><td style="text-align: left;"> <code>numeric</code> </td><td style="text-align: left;"> Counted skylarks</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>Habitat</code>     </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Habitat type (1, 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>Deposition</code>  </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Deposition type (1, 2, 3, 4)
</td>
</tr>

</table>
 
<p>The current implementation is more flexible and allows time points to be coded as years
and covariates as factors. The <b><code>skylark2</code></b> data set looks as follows.
</p>

<table>
<tr>
 <td style="text-align: left;">
 <b>Column</b>      </td><td style="text-align: left;"> <b>Type</b>    </td><td style="text-align: left;"> <b>Description</b></td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>site</code>        </td><td style="text-align: left;"> <code>factor</code>  </td><td style="text-align: left;"> Site number</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>year</code>        </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Time point coded as year</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>count</code>       </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Counted skylarks</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>Habitat</code>     </td><td style="text-align: left;"> <code>factor</code>  </td><td style="text-align: left;"> Habithat type (<code>dunes</code>, <code>heath</code>)</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>Deposition</code>  </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Deposition type (1, 2, 3, 4)</td>
</tr>
<tr>
 <td style="text-align: left;">
 <code>Weight</code>      </td><td style="text-align: left;"> <code>numeric</code> </td><td style="text-align: left;"> Site weight
</td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>data(skylark); data(skylark2)
</code></pre>


<h3>Format</h3>

<p><code>.RData</code>
</p>

<hr>
<h2 id='summary.trim'>Summary information for a TRIM job</h2><span id='topic+summary.trim'></span>

<h3>Description</h3>

<p>Print a summary of a <code><a href="#topic+trim">trim</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.trim_+3A_object">object</code></td>
<td>
<p>an object of class <code><a href="#topic+trim">trim</a></code>.</p>
</td></tr>
<tr><td><code id="summary.trim_+3A_...">...</code></td>
<td>
<p>Currently unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> of class <code>trim.summary</code> containing the call that
created the object, the model code, the coefficients (in additive and
multiplicative form) , the goodness of fit parameters,the overdispersion
and the serial correlation parameters (if computed).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+trim">trim</a></code>
</p>
<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2, overdisp=TRUE)

summary(z)
</code></pre>

<hr>
<h2 id='summary.trimbatch'>summarize a trimbatch object</h2><span id='topic+summary.trimbatch'></span>

<h3>Description</h3>

<p>summarize a trimbatch object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trimbatch'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.trimbatch_+3A_object">object</code></td>
<td>
<p>a trimbatch object</p>
</td></tr>
<tr><td><code id="summary.trimbatch_+3A_...">...</code></td>
<td>
<p>options (ignored)</p>
</td></tr>
</table>

<hr>
<h2 id='totals'>Extract time-totals from TRIM output</h2><span id='topic+totals'></span>

<h3>Description</h3>

<p>Extract time-totals from TRIM output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>totals(
  x,
  which = c("imputed", "fitted", "both"),
  obs = FALSE,
  level = NULL,
  long = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="totals_+3A_x">x</code></td>
<td>
<p>TRIM output structure (i.e., output of a call to <code>trim</code>)</p>
</td></tr>
<tr><td><code id="totals_+3A_which">which</code></td>
<td>
<p>(character) Select what totals to compute (see <code>Details</code> section).</p>
</td></tr>
<tr><td><code id="totals_+3A_obs">obs</code></td>
<td>
<p>(logical) Flag to include total observations (or not).</p>
</td></tr>
<tr><td><code id="totals_+3A_level">level</code></td>
<td>
<p>(numeric) The confidence level required. If NULL, no confidence intervals are calculated.</p>
</td></tr>
<tr><td><code id="totals_+3A_long">long</code></td>
<td>
<p>(logical) Flag to return a tidy long table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with subclass <code>trim.totals</code>
(for pretty-printing). The columns are <code>time</code>, <code>fitted</code>
and <code>se_fit</code> (for standard error), and/or <code>imputed</code>
and <code>se_imp</code>, depending on the selection.<br />
In case <code>long=TRUE</code> a long table is returned, and a different naming convention is used,
e.g., imputed/fitted info is in column <code>series</code>,
and standard error are always in column <code>SE</code>
</p>


<h3>Details</h3>

<p>The idea of <code>TRIM</code> is to impute those site-time combinations where
no counts are available. Time-totals (i.e. summed over sites) can be obtained
for two cases:
</p>

<ul>
<li><p><code>"imputed"</code>: Time totals are computed after replacing missing values with values predicted by the model.
</p>
</li>
<li><p><code>"fitted"</code>: Time totals are computed after replacing both missing values and observed values with
values predicted by the model.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=2, changepoints=c(3,5))
totals(z)

totals(z, "both") # mimics classic TRIM

</code></pre>

<hr>
<h2 id='trendlines'>Extract 'overall' trendlines</h2><span id='topic+trendlines'></span>

<h3>Description</h3>

<p>Extract 'overall' trendlines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trendlines(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trendlines_+3A_x">x</code></td>
<td>
<p>An object of class <code>trim.overall</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the information on all trendline segments and their uncertainty.
The data.frame has the following columns:
</p>

<dl>
<dt><code>segment</code></dt><dd><p>segment ID, starting at 1</p>
</dd>
<dt><code>year</code></dt><dd><p>year for which <em>value</em>, <em>lo</em> and <em>hi</em> are given</p>
</dd>
<dt><code>value</code></dt><dd><p>the y coordinate of the trendline segment</p>
</dd>
<dt><code>lo</code></dt><dd><p>lower value of the uncertainty band</p>
</dd>
<dt><code>hi</code></dt><dd><p>upper value of the uncertainty interval</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark2)
z &lt;- trim(count ~ site+year, data=skylark2, model=3)
tt &lt;- totals(z, long=TRUE)       # collect time-totals
tl &lt;- trendlines(overall(z))     # collect overall trend line

# define plot limits
xr &lt;- range(tt$year)
yr &lt;- range(tl$lo, tl$hi, tt$value)
plot(xr, yr, type='n', xlab="Year", ylab="Total counts")

# Plot uncertainty band
ubx &lt;- c(tl$year, rev(tl$year))
uby &lt;- c(tl$lo, rev(tl$hi))
polygon(ubx, uby, col=gray(0.9), border=NA)

# Plot trend line
lines(tl$year, tl$value, col="black", lwd=2)

# Plot time-totals
lines(tt$year, tt$value, col="red", lwd=2)
points(tt$year, tt$value, col="red", pch=16, cex=1.5)

</code></pre>

<hr>
<h2 id='trim'>Estimate TRIM model parameters.</h2><span id='topic+trim'></span><span id='topic+trim.data.frame'></span><span id='topic+trim.formula'></span><span id='topic+trim.trimcommand'></span>

<h3>Description</h3>

<p>Given some count observations, estimate a TRIM model and use these to impute the data set if necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim(object, ...)

## S3 method for class 'data.frame'
trim(
  object,
  count_col = "count",
  site_col = "site",
  year_col = "year",
  month_col = NULL,
  weights_col = NULL,
  covar_cols = NULL,
  model = 2,
  changepoints = ifelse(model == 2, 1L, integer(0)),
  overdisp = FALSE,
  serialcor = FALSE,
  autodelete = TRUE,
  stepwise = FALSE,
  covin = list(),
  ...
)

## S3 method for class 'formula'
trim(object, data = NULL, weights = NULL, ...)

## S3 method for class 'trimcommand'
trim(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_+3A_object">object</code></td>
<td>
<p>Either a <code>data.frame</code>, a <code>formula</code> or a <code><a href="#topic+trimcommand">trimcommand</a></code>.
If <code>object</code> is a <code>formula</code>, the dependent variable (left-hand-side)
is treated as the 'counts' variable. The first and second independent variable
are treated as the 'site' and 'time' variable, <b>in that specific order</b>. All
other variables are treated as covariates.</p>
</td></tr>
<tr><td><code id="trim_+3A_...">...</code></td>
<td>
<p>More parameters, see below in the details</p>
</td></tr>
<tr><td><code id="trim_+3A_count_col">count_col</code></td>
<td>
<p><code>[character]</code> name of the column holding species counts</p>
</td></tr>
<tr><td><code id="trim_+3A_site_col">site_col</code></td>
<td>
<p><code>[character]</code> name of the column holding the site id</p>
</td></tr>
<tr><td><code id="trim_+3A_year_col">year_col</code></td>
<td>
<p><code>[character]</code> name of the column holding the time of counting</p>
</td></tr>
<tr><td><code id="trim_+3A_month_col">month_col</code></td>
<td>
<p><code>[character]</code> optional name of the column holding the season of counting</p>
</td></tr>
<tr><td><code id="trim_+3A_weights_col">weights_col</code></td>
<td>
<p><code>[numeric]</code> Optional vector of site weights. The length of</p>
</td></tr>
<tr><td><code id="trim_+3A_covar_cols">covar_cols</code></td>
<td>
<p><code>[character]</code> name(s) of column(s) holding covariates</p>
</td></tr>
<tr><td><code id="trim_+3A_model">model</code></td>
<td>
<p><code>[numeric]</code> TRIM model type 1, 2, or 3.</p>
</td></tr>
<tr><td><code id="trim_+3A_changepoints">changepoints</code></td>
<td>
<p><code>[numeric]</code> Indices for changepoints (&lsquo;Models&rsquo;).</p>
</td></tr>
<tr><td><code id="trim_+3A_overdisp">overdisp</code></td>
<td>
<p><code>[logical]</code> Take overdispersion into account (See &lsquo;Estimation options&rsquo;).</p>
</td></tr>
<tr><td><code id="trim_+3A_serialcor">serialcor</code></td>
<td>
<p><code>[logical]</code> Take serial correlation into account (See &lsquo;Estimation details&rsquo;)</p>
</td></tr>
<tr><td><code id="trim_+3A_autodelete">autodelete</code></td>
<td>
<p><code>[logical]</code> Auto-delete changepoints when number of observations is too small. (See
&lsquo;Demands on data&rsquo;).</p>
</td></tr>
<tr><td><code id="trim_+3A_stepwise">stepwise</code></td>
<td>
<p><code>[logical]</code> Perform stepwise refinement of changepoints.</p>
</td></tr>
<tr><td><code id="trim_+3A_covin">covin</code></td>
<td>
<p>a list of variance-covariance matrices; one per pseudo-site.</p>
</td></tr>
<tr><td><code id="trim_+3A_data">data</code></td>
<td>
<p><code>[data.frame]</code> Data frame containing at least counts, sites, and times</p>
</td></tr>
<tr><td><code id="trim_+3A_weights">weights</code></td>
<td>
<p><code>[character]</code> name of the column in <code>data</code> which respresents weights (optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All versions of <code>trim</code> support additional 'experts only' arguments:
</p>

<dl>
<dt><code>verbose</code></dt><dd><p>Logical switch to temporarily enable verbose output. (use <code>option(trim_verbose=TRUE)</code>) for permanent verbosity.</p>
</dd>
<dt><code>constrain_overdisp</code></dt><dd><p>Numerical value to control overdispersion.
</p>

<ul>
<li><p> A value in the range 0..1 uses a Chi-squared oulier detection method.
</p>
</li>
<li><p> A value &gt;1 uses Tukey's Fence.
</p>
</li>
<li><p> A value of 1.0 (which is the default) results in unconstrained overdispersion.
</p>
</li></ul>

<p>See vignette &lsquo;Taming overdispersion&rsquo; for more information.</p>
</dd>
<dt><code>conv_crit</code></dt><dd><p>Convergence criterion.
Used within the iterative model estimation algorithm.
The default value is <code>1e-5</code>.).
May be set to higher values in case models don't converge.</p>
</dd>
<dt><code>max_iter</code></dt><dd><p>Number of iterations. Default value is <code>200</code>. May be set to higher values in case models don't converge.</p>
</dd>
<dt><code>alpha_method</code></dt><dd><p>Choose between a more precise (method 1) or a more robust (method 2) method to estimate site parameters alpha.
The default is the the more precise method; but consider setting it to the more robust method 2 if method results in warnings.</p>
</dd>
<dt><code>premove</code></dt><dd><p>Probability of removal of changepoints (default value: 0.2). Parameter used in stepwise refinement of models. See the vignette 'Models and statistical methods in rtrim'.</p>
</dd>
<dt><code>penter</code></dt><dd><p>Probability of re-entering of changepoints (default value: 0.15). Similar use as <code>premove</code>.</p>
</dd>
</dl>



<h3>Models</h3>

<p>The purpose of <code>trim()</code> is to estimate population totals over time,
based on a set of counts <code class="reqn">f_{ij}</code> at sites <code class="reqn">i=1,2,\ldots,I</code>
and times <code class="reqn">j=1,2,\ldots,J</code>. If no count data is available at
site and time <code class="reqn">(i,j)</code>, a value <code class="reqn">\mu_{ij}</code> will be imputed.
</p>
<p>In <b>Model 1</b>, the imputed values are modeled as
</p>
<p><code class="reqn">\ln\mu_{ij} = \alpha_i,</code>
</p>
<p>where <code class="reqn">\alpha_i</code> is the site effect. This model implies that the counts
vary accross sites, not over time. The model-based <a href="#topic+totals">time totals</a> are equal to
each time point and the model-based <a href="#topic+index">indices</a> are all equal to one.
</p>
<p>In <b>Model 2</b>, the imputed values are modeled as
</p>
<p><code class="reqn">\ln\mu_{ij} = \alpha_i + \beta\times(j-1).</code>
</p>
<p>Here, <code class="reqn">\alpha_i</code> is the log-count of site <code class="reqn">i</code> averaged over time and
<code class="reqn">\beta</code> is the mean growth factor that is shared by all sites over all of
time. The assumption of a constant growth rate may be relaxed by passing
a number of <code>changepoints</code> that indicate at what times the growth
rate is allowed to change. Using a <code><a href="#topic+wald.trim">wald</a></code> test
one can investigate whether the changes in slope at the changepoints are
significant. Setting <code>stepwise=TRUE</code> makes <code>trim</code> automatically
remove changepoints where the slope does not change significantly.
</p>
<p>In <b>Model 3</b>, the imputed values are modeled as
</p>
<p><code class="reqn">\ln\mu_{ij}=\alpha_i + \beta_j</code>,
</p>
<p>where <code class="reqn">\beta_j</code> is the deviatiation of log-counts at time <code class="reqn">j</code>,
averaged over all sites. To make this model identifiable, the value of
<code class="reqn">\beta_1=0</code> by definition. Model 3 can be shown to be equivalent to
Model 2 with a changepoint at every time point. Using a
<code><a href="#topic+wald.trim">wald</a></code> test, one can estimate whether the collection
of deviations <code class="reqn">\beta_i</code> make the model differ significantly from an
overall linear trend (Model 2 without changepoints).
</p>
<p>The parameters <code class="reqn">\alpha_i</code> and <code class="reqn">\gamma_j</code> are referred to
as the <em>additive representation</em> of the coefficients. Once computed,
they can be represented and extracted in several representations, using the
<code><a href="#topic+coef.trim">coefficients</a></code> function. (See also the examples
below).
</p>
<p>Other model parameters can be extracted using functions such as
<code><a href="#topic+gof">gof</a></code> (for goodness of fit), <code><a href="#topic+summary.trim">summary</a></code>
or <code><a href="#topic+totals">totals</a></code>. Refer to the &lsquo;See also&rsquo; section for an overview.
</p>


<h3>Using yearly and monthly counts</h3>

<p>In many data sets will use use only yearly count data, in which case the
time <code class="reqn">j</code> will reflect the year number.
An extension of <code>trim</code> is to use monthly (or any other sub-yearly) count data,
in combination with index computations on the yearly time scale.
</p>
<p>In this case, counts are given as <code class="reqn">f_{i,j,m}</code> with <code class="reqn">m=1,2,\ldots,M</code> the month number.
As before, <code class="reqn">\mu_{i,j,m}</code> will be imputed in case of missing counts.
</p>
<p>The contibution of month factors to the model is always similar to the way year factors are used in Model 3,
that is,
</p>
<p><code class="reqn">\ln\mu_{i,j,m} = \alpha_i + \beta\times(j-1) + \gamma_m</code>
for Model 2, and
<code class="reqn">\ln\mu_{i,j,m} = \alpha_i + \beta_j + \gamma_m</code>
for Model 3.
</p>
<p>For the same reason why <code class="reqn">\beta_1=0</code> for Model 3, <code class="reqn">\gamma_1=0</code> in case of monthly parameters.
</p>


<h3>Using covariates</h3>

<p>In the basic case of Models 2 and 3, the growth parameter <code class="reqn">\beta</code> does
not vary accross sites. If auxiliary information is available (for instance
a classification of the type of soil or vegetation), the effect of these
variables on the per-site growth rate can be taken into account.
</p>
<p>For <b>Model 2 with covariates</b> the growth factor <code class="reqn">\beta</code> is
replaced with a factor
</p>
<p><code class="reqn">\beta_0 + \sum_{k=1}^K z_{ijk}\beta_k</code>.
</p>
<p>Here, <code class="reqn">\beta_0</code> is referred to as the <em>baseline</em> and <code class="reqn">z_{ijk}</code> is a
dummy variable that combines dummy variables for all covariates. Since a
covariate with <code class="reqn">L</code> classes is modeled by <code class="reqn">L-1</code> dummy variables, the
value of <code class="reqn">K</code> is equal to the sum of the numbers of categories for all
covariates minus the number of covariates. Observe that this model allows for
a covariate to change over time at a certain sites. It is therefore possible
to include situations for example where a site turns from farmland to rural
area. The <code><a href="#topic+coef.trim">coefficients</a></code> function will report every
individual value of <code class="reqn">\beta</code>. With a <code><a href="#topic+wald.trim">wald</a></code> test,
the significance of contributions of covariates can be tested.
</p>
<p>For <b>Model 3 with covariates</b> the parameter <code class="reqn">\beta_j</code> is replaced by
</p>
<p><code class="reqn">\beta_{j0} + \sum_{k=1}^Kz_{ijk}\beta_{jk}.</code>
</p>
<p>Again, the <code class="reqn">\beta_{j0}</code> are referred to as baseline parameters and the
<code class="reqn">\beta_{jk}</code> record mean differences in log-counts within a set of sites
with equal values for the covariates. All coefficients can be extracted with
<code><a href="#topic+coef.trim">coefficients</a></code> and the significance of covariates can
be investigated with the <code><a href="#topic+wald.trim">wald</a></code> test.
</p>


<h3>Estimation options</h3>

<p>In the simplest case, the counts at different times and sites are considered
independently Poisson distributed. The (often too strict) assumption that
counts are independent over time may be dropped, so correlation between time
points at a certain site can be taken into account. The assumption of being
Poisson distributed can be relaxed as well. In general, the
variance-covariance structure of counts <code class="reqn">f_{ij}</code> at site <code class="reqn">i</code> for time
<code class="reqn">j</code> is modeled as
</p>

<ul>
<li><p><code class="reqn">\textrm{var}(f_{ij}) = \sigma^2\mu_{ij} </code>
</p>
</li>
<li><p><code class="reqn">\textrm{cor}(f_{ij},f_{i,j+1}) = \rho</code> ,
</p>
</li></ul>

<p>where <code class="reqn">\sigma</code> is called the <em>overdispersion</em>, <code class="reqn">\mu_{ij}</code> is
the estimated count for site <code class="reqn">i</code>, time <code class="reqn">j</code> and <code class="reqn">\rho</code> is called
the <em>serial correlation</em>.
</p>
<p>If <code class="reqn">\sigma=1</code>, a pure Poisson distribution is assumed to model the
counts. Setting <code>overdispersion = TRUE</code> makes <code>trim</code> relax this
condition. Setting  <code>serialcor=TRUE</code> allows <code>trim</code> to assume a
non-zero correlation between adjacent time points, thus relaxing the
assumption of independence over time.
</p>


<h3>Demands on data</h3>

<p>The data set must contain sufficient counts to be able to estimate the model.
In particular
</p>

<ul>
<li><p>For model 2 without covariates there must be at least one observation
for each time segment defined by the change points.
</p>
</li>
<li><p>For model 2 with covariates there must be at least one observation for
every value of each covariate, at each time segment defined by the change
points.
</p>
</li>
<li><p>For model 3 without covariates there must be at least one observation
for each time point.
</p>
</li>
<li><p>For model 3 with covariates there must be at least one observation for
every value of each covariate, at each time point.
</p>
</li>
<li><p>For montly data, there must be at least one observation for every month.
</p>
</li></ul>

<p>The function <code><a href="#topic+check_observations">check_observations</a></code> identifies cases where too few
observations are present to compute a model. Setting the option
<code>autodelete=TRUE</code> (Model 2 only) makes <code>trim</code> remove changepoints
such that at each time piece sufficient counts are available to estimate the
model.
</p>


<h3>See Also</h3>

<p><a href="../doc/Skylark_example.html">rtrim by example</a> for a gentle introduction,
<a href="../doc/rtrim_for_TRIM_users.html">rtrim for TRIM users</a> for users of the classic Delphi-based TRIM implementation,
and <a href="../doc/rtrim_2_extensions.html">rtrim 2 extensions</a> for the major changes from rtrim v.1 to rtrim v.2
</p>
<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>
<p>Other modelspec: 
<code><a href="#topic+check_observations">check_observations</a>()</code>,
<code><a href="#topic+read_tcf">read_tcf</a>()</code>,
<code><a href="#topic+read_tdf">read_tdf</a>()</code>,
<code><a href="#topic+set_trim_verbose">set_trim_verbose</a>()</code>,
<code><a href="#topic+trimcommand">trimcommand</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
m &lt;- trim(count ~ site + time, data=skylark, model=2)
summary(m)
coefficients(m)

# An example using weights
# set up some random weights (one for each site)
w &lt;- runif(55, 0.1, 0.9)
# match weights to sites
skylark$weights &lt;- w[skylark$site]
# run model
m &lt;- trim(count ~ site + time, data=skylark, weights="weights", model=3)

# An example using change points, a covariate, and overdispersion
# 1 is added as cp automatically
cp &lt;- c(2,6)
m &lt;- trim(count ~ site + time + Habitat, data=skylark, model=2, changepoints=cp, overdisp=TRUE)
coefficients(m)
# check significance of changes in slope
wald(m)
plot(overall(m))
</code></pre>

<hr>
<h2 id='trim_estimate'>TRIM estimation function</h2><span id='topic+trim_estimate'></span>

<h3>Description</h3>

<p>TRIM estimation function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_estimate(
  count,
  site,
  year,
  month,
  weights,
  covars,
  model,
  changepoints,
  overdisp,
  serialcor,
  autodelete,
  stepwise,
  covin,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_estimate_+3A_count">count</code></td>
<td>
<p>a numerical vector of count data.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_site">site</code></td>
<td>
<p>an integer/numerical/character/factor vector of site identifiers for each count data point</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_year">year</code></td>
<td>
<p>an integer/numerical vector time points for each count data point.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_month">month</code></td>
<td>
<p>an optional integer/character/factor vector of months for each count data point.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_weights">weights</code></td>
<td>
<p>an optional numerical vector of weights.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_covars">covars</code></td>
<td>
<p>an optional data frame withcovariates</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_model">model</code></td>
<td>
<p>a model type selector (1, 2 or 3)</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_changepoints">changepoints</code></td>
<td>
<p>a numerical vector change points (only for Model 2)</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_overdisp">overdisp</code></td>
<td>
<p>a flag indicating of overdispersion has to be taken into account.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_serialcor">serialcor</code></td>
<td>
<p>a flag indication of autocorrelation has to be taken into account.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_autodelete">autodelete</code></td>
<td>
<p>a flag indicating auto-deletion of changepoints with too little observations.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_stepwise">stepwise</code></td>
<td>
<p>a flag indicating stepwise refinement of changepoints is to be used.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_covin">covin</code></td>
<td>
<p>a list of variance-covariance matrices; one per pseudo-site.</p>
</td></tr>
<tr><td><code id="trim_estimate_+3A_verbose">verbose</code></td>
<td>
<p>flag to enable addtional output during a single run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class <code>trim</code>, that contains all output, statistiscs, etc.
Usually this information is retrieved by a set of postprocessing functions
</p>

<hr>
<h2 id='trim_refine'>TRIM stepwise refinement</h2><span id='topic+trim_refine'></span>

<h3>Description</h3>

<p>TRIM stepwise refinement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_refine(
  count,
  site,
  year,
  month,
  weights,
  covars,
  model,
  changepoints,
  ...,
  premove = 0.2,
  penter = 0.15
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_refine_+3A_count">count</code></td>
<td>
<p>a numerical vector of count data.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_site">site</code></td>
<td>
<p>a vector (numerical or factor) of site identifiers for each count data point.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_year">year</code></td>
<td>
<p>a numerical vector of annual time points for each count data point.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_month">month</code></td>
<td>
<p>an optional numerical vector of monthly time points.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_weights">weights</code></td>
<td>
<p>an optional numerical vector of weights.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_covars">covars</code></td>
<td>
<p>an optional list of covariates.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_model">model</code></td>
<td>
<p>a model type selector.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_changepoints">changepoints</code></td>
<td>
<p>a numerical vector change points (only for Model 2)</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_premove">premove</code></td>
<td>
<p>threshold probability for removal of parameters.</p>
</td></tr>
<tr><td><code id="trim_refine_+3A_penter">penter</code></td>
<td>
<p>threshold probability for re-introduction of parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class <code>trim</code>, that opcontains all output, statistiscs, etc.
Usually this information is retrieved by a set of postprocessing functions
</p>

<hr>
<h2 id='trim_workhorse'>TRIM workhorse function</h2><span id='topic+trim_workhorse'></span>

<h3>Description</h3>

<p>TRIM workhorse function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_workhorse(
  count,
  site,
  year,
  month,
  weights,
  covars,
  model,
  changepoints,
  overdisp,
  serialcor,
  autodelete,
  stepwise,
  covin = list(),
  constrain_overdisp = 1,
  conv_crit = 1e-05,
  max_iter = 200,
  alpha_method = 1,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_workhorse_+3A_count">count</code></td>
<td>
<p>a numerical vector of count data.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_site">site</code></td>
<td>
<p>a numerical vector time points for each count data point.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_year">year</code></td>
<td>
<p>an numerical vector time points for each count data point.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_month">month</code></td>
<td>
<p>vector of month data.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_weights">weights</code></td>
<td>
<p>a numerical vector of weights.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_covars">covars</code></td>
<td>
<p>an optional data frame with covariates</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_model">model</code></td>
<td>
<p>a model type selector</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_changepoints">changepoints</code></td>
<td>
<p>a numerical vector change points (only for Model 2)</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_overdisp">overdisp</code></td>
<td>
<p>a flag indicating of overdispersion has to be taken into account.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_serialcor">serialcor</code></td>
<td>
<p>a flag indication of autocorrelation has to be taken into account.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_covin">covin</code></td>
<td>
<p>a list of variance-covariance matrices; one per pseudo-site.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_constrain_overdisp">constrain_overdisp</code></td>
<td>
<p>control constraining overdispersion</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_conv_crit">conv_crit</code></td>
<td>
<p>convergence criterion.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_max_iter">max_iter</code></td>
<td>
<p>maximum number of iterations allowed.</p>
</td></tr>
<tr><td><code id="trim_workhorse_+3A_alpha_method">alpha_method</code></td>
<td>
<p>choose between a more precise (1) or robust (2) method to estimate site parameters alpha.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class <code>trim</code>, that contains all output, statistics, etc.
Usually this information is retrieved by a set of postprocessing functions
</p>

<hr>
<h2 id='trimcommand'>Create a trimcommand object</h2><span id='topic+trimcommand'></span>

<h3>Description</h3>

<p>Create a trimcommand object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimcommand(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trimcommand_+3A_...">...</code></td>
<td>
<p>Options in the form of <code>key=value</code>. See below for all options.</p>
</td></tr>
</table>


<h3>Description</h3>

<p>A <code>trimcommand</code> object stores a single TRIM model, including the
specification of the data file. Normally, such an object is defined by
reading a legacy TRIM command file.
</p>


<h3>Options</h3>


<ul>
<li> <p><code>file</code>    <code>[character]</code> name of file containing training data.
</p>
</li>
<li> <p><code>title</code>   <code>[character]</code> A string to be printed in the output file.
</p>
</li>
<li> <p><code>ntimes</code>  <code>[character]</code> Number of time points.
</p>
</li>
<li> <p><code>ncovars</code> <code>[character]</code> Number of covariates.
</p>
</li>
<li> <p><code>labels</code>  <code>[character]</code> Covariate label.
</p>
</li>
<li> <p><code>missing</code> <code>[integer]</code> Missing value indicator.
</p>
</li>
<li> <p><code>weight</code>  <code>[logical]</code> Whether a weight column is present in the <code>file</code>.
</p>
</li>
<li> <p><code>comment</code> <code>[character]</code> A string to be printed in the output file.
</p>
</li>
<li> <p><code>weighting</code> <code>[logical]</code> Whether weights are to be used in the model.
</p>
</li>
<li> <p><code>serialcor</code> <code>[logical]</code> Whether serial correlation is assumed in the model.
</p>
</li>
<li> <p><code>overdist</code> <code>[logical]</code> Whether overdispersion is taken into account by the model.
</p>
</li>
<li> <p><code>basetime</code> <code>[integer]</code> Position of the base time point (must be positive).
</p>
</li>
<li> <p><code>model</code>    <code>[integer]</code> What model to use (1, 2 or 3).
</p>
</li>
<li> <p><code>covariates</code> <code>[integer]</code> Number of covariates to include.
</p>
</li>
<li> <p><code>changepoints</code> <code>[integer]</code> Positions of the change points to include.
</p>
</li>
<li> <p><code>stepwise</code> <code>[logical]</code> Whether stepwise selection of the changepoints is to be used.
</p>
</li>
<li> <p><code>autodelete</code> <code>[logical]</code> Whether to autodelete change points when number of observations is to low in a time segment.
</p>
</li>
<li> <p><code>outputfiles</code> <code>[character]</code> Type of outputfile to generate ('F' and/or 'S')
</p>
</li>
<li> <p><code>overallchangepoints</code> <code>[integer]</code> Positions of the overall change points.
</p>
</li>
<li> <p><code>impcovout</code> <code>[logical]</code> Whether the covariance matrix of the imputed counts is saved.
</p>
</li>
<li> <p><code>covin</code> <code>[logical]</code> Whether the covariance matrix is read in.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="../doc/Working_with_tcf.html">Working with TRIM command files and TRIM data files</a>.
</p>
<p>Other modelspec: 
<code><a href="#topic+check_observations">check_observations</a>()</code>,
<code><a href="#topic+read_tcf">read_tcf</a>()</code>,
<code><a href="#topic+read_tdf">read_tdf</a>()</code>,
<code><a href="#topic+set_trim_verbose">set_trim_verbose</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>
</p>

<hr>
<h2 id='vcov.trim'>Extract variance-covariance matrix from TRIM output</h2><span id='topic+vcov.trim'></span>

<h3>Description</h3>

<p>Extract variance-covariance matrix from TRIM output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trim'
vcov(object, which = c("imputed", "fitted"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.trim_+3A_object">object</code></td>
<td>
<p>TRIM output structure (i.e., output of a call to <code>trim</code>)</p>
</td></tr>
<tr><td><code id="vcov.trim_+3A_which">which</code></td>
<td>
<p><code>[character]</code> Selector to distinguish between variance-covariance based on the
imputed counts (default), or the fitted counts.</p>
</td></tr>
<tr><td><code id="vcov.trim_+3A_...">...</code></td>
<td>
<p>Arguments to pass to or from other methods (currently unused; included for consistency with <code><a href="stats.html#topic+vcov">vcov</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a J x J matrix, where J is the number of years (or time-points).
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+wald">wald</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
z &lt;- trim(count ~ site + time, data=skylark, model=3);
totals(z)
vcv1 &lt;- vcov(z)          # Use imputed data
vcv2 &lt;- vcov(z,"fitted") # Use fitted data
</code></pre>

<hr>
<h2 id='wald'>Test significance of TRIM coefficients  with the Wald test</h2><span id='topic+wald'></span><span id='topic+wald.trim'></span>

<h3>Description</h3>

<p>Test significance of TRIM coefficients  with the Wald test
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wald(x)

## S3 method for class 'trim'
wald(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wald_+3A_x">x</code></td>
<td>
<p>TRIM output structure (i.e., output of a call to <code><a href="#topic+trim">trim</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A model-dependent list of Wald statistics
</p>


<h3>See Also</h3>

<p>Other analyses: 
<code><a href="#topic+coef.trim">coef.trim</a>()</code>,
<code><a href="#topic+confint.trim">confint.trim</a>()</code>,
<code><a href="#topic+gof">gof</a>()</code>,
<code><a href="#topic+index">index</a>()</code>,
<code><a href="#topic+now_what">now_what</a>()</code>,
<code><a href="#topic+overall">overall</a>()</code>,
<code><a href="#topic+overdispersion">overdispersion</a>()</code>,
<code><a href="#topic+plot.trim.index">plot.trim.index</a>()</code>,
<code><a href="#topic+plot.trim.overall">plot.trim.overall</a>()</code>,
<code><a href="#topic+plot.trim.smooth">plot.trim.smooth</a>()</code>,
<code><a href="#topic+results">results</a>()</code>,
<code><a href="#topic+serial_correlation">serial_correlation</a>()</code>,
<code><a href="#topic+summary.trim">summary.trim</a>()</code>,
<code><a href="#topic+totals">totals</a>()</code>,
<code><a href="#topic+trendlines">trendlines</a>()</code>,
<code><a href="#topic+trim">trim</a>()</code>,
<code><a href="#topic+vcov.trim">vcov.trim</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(skylark)
z2 &lt;- trim(count ~ site + time, data=skylark, model=2)
# print info on significance of slope parameters
print(z2)
z3 &lt;- trim(count ~ site + time, data=skylark, model=3)
# print info on significance of deviations from linear trend
wald(z3)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

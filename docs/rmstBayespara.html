<!DOCTYPE html><html><head><title>Help for package rmstBayespara</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rmstBayespara}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rmstBayespara-package'><p>The 'rmstBayespara' package.</p></a></li>
<li><a href='#brm_surv'><p>Bayesian regression models using 'Stan' for survival time</p></a></li>
<li><a href='#rmstpara'><p>Restricted mean survival time via parametric models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Bayesian Restricted Mean Survival Time for Cluster Effect</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The parametric Bayes analysis for the 
    restricted mean survival time (RMST) with cluster effect,
    as described in Hanada and Kojima (2024) &lt;<a href="https://doi.org/10.48550%2FarXiv.2406.06071">doi:10.48550/arXiv.2406.06071</a>&gt;.
    Bayes estimation with random-effect and frailty-effect can be applied to 
    several parametric models useful in survival time analysis.
    The RMST under these parametric models can be computed from 
    the obtained posterior samples.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>brms (&ge; 2.21.0), crayon (&ge; 1.5.0), loo (&ge; 2.7.0), methods,
rstan (&ge; 2.32.0), stats (&ge; 4.3.0), zipfR (&ge; 0.6.7)</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-03 00:22:44 UTC; keihb</td>
</tr>
<tr>
<td>Author:</td>
<td>Keisuke Hanada <a href="https://orcid.org/0000-0002-1444-0280"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Masahiro Kojima <a href="https://orcid.org/0000-0003-0867-7692"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Keisuke Hanada &lt;keisuke.hanada.87@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-03 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rmstBayespara-package'>The 'rmstBayespara' package.</h2><span id='topic+rmstBayespara-package'></span><span id='topic+rmstBayespara'></span>

<h3>Description</h3>

<p>The parametric Bayes regression models using 'Stan' for restricted mean survival time (RMST).
The package implement the model estimation described in Hanada and Kojima (2024).
The posterior sample, Widely Applicable Information Criterion (WAIC), and
Efficient Leave-One-Out Cross-Validation (loo) for some parametric models of
survival data can be available. The RMST under these parametric models can be
computed from the obtained posterior samples.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Keisuke Hanada <a href="mailto:keisuke.hanada.87@gmail.com">keisuke.hanada.87@gmail.com</a> (<a href="https://orcid.org/0000-0002-1444-0280">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Masahiro Kojima (<a href="https://orcid.org/0000-0003-0867-7692">ORCID</a>)
</p>
</li></ul>



<h3>References</h3>

<p>Hanada, K., &amp; Kojima, M. (2024). Bayesian Parametric Methods for Deriving Distribution of Restricted Mean Survival Time. arXiv e-prints, arXiv-2406.
</p>

<hr>
<h2 id='brm_surv'>Bayesian regression models using 'Stan' for survival time</h2><span id='topic+brm_surv'></span>

<h3>Description</h3>

<p>A function of Bayesian regression models using stan for parametric survival time. Exponential, Weibull, log-normal, and log-logistic model with fixed-effect, random-effect and frailty-effect can be available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brm_surv(
  time,
  cnsr,
  var,
  rvar,
  family = "exponential",
  random = "fixed",
  data,
  iter = 2000,
  warmup = 1000,
  seed = NA,
  chains = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="brm_surv_+3A_time">time</code></td>
<td>
<p>name of time variable in data. Need to set character.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_cnsr">cnsr</code></td>
<td>
<p>name of censor variable in data. Need to set character.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_var">var</code></td>
<td>
<p>vector of covariate names in data. Need to set character.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_rvar">rvar</code></td>
<td>
<p>name of random effect in data. Need to set character.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_family">family</code></td>
<td>
<p>A description of the response distribution and link function to be used in the model. 'exponential', 'Weibull', 'log-normal', and 'log-logistic' can be selected.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_random">random</code></td>
<td>
<p>A description of random effect. 'fixed', 'normal', and 'frailty' are available.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_data">data</code></td>
<td>
<p>An object of class data.frame (or one that can be coerced to that class) containing data of all variables used in the model.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_iter">iter</code></td>
<td>
<p>Number of total iterations per chain (including warmup; defaults to 2000).</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_warmup">warmup</code></td>
<td>
<p>A positive integer specifying number of warmup (aka burnin) iterations. This also specifies the number of iterations used for stepsize adaptation, so warmup draws should not be used for inference. The number of warmup should not be larger than iter and the default is iter/2.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_seed">seed</code></td>
<td>
<p>The seed for random number generation to make results reproducible. If NA (the default), Stan will set the seed randomly.</p>
</td></tr>
<tr><td><code id="brm_surv_+3A_chains">chains</code></td>
<td>
<p>Number of Markov chains (defaults to 4).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of an object of class brmsfit or stanfit (see rstan and brms), sampling values from posterior distribution, leave-one-out cross-validation, and widely applicable information criterions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- data.frame(time=1:100,
      status=sample(0:1, size=100, replace=TRUE),
      arm=sample(c("t", "c"), size=100, replace=TRUE),
      sex=sample(1:2, size=100, replace=TRUE),
      district=sample(1:5, size=100, replace=TRUE)
    )
head(d)
fit_x_r &lt;- brm_surv(time="time", cnsr="1-status",
                    var=c("factor(arm)", "factor(sex)"),
                    rvar="district", data=d,
                    family="Weibull", random="frailty"
                    )
fit_x_r$fit
fit_x_r$post_sample
fit_x_r$waic
fit_x_r$loo


</code></pre>

<hr>
<h2 id='rmstpara'>Restricted mean survival time via parametric models</h2><span id='topic+rmstpara'></span>

<h3>Description</h3>

<p>A function of calculating restricted mean survival time via parametric models. Exponential, Weibull, log-normal and log-logistic models are available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmstpara(
  tau,
  var,
  rvar = NA,
  shape = NA,
  sigma = NA,
  family = "exponential",
  random = "fixed"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmstpara_+3A_tau">tau</code></td>
<td>
<p>A value of pre-specified evaluation time point.</p>
</td></tr>
<tr><td><code id="rmstpara_+3A_var">var</code></td>
<td>
<p>A vector of covariate values.</p>
</td></tr>
<tr><td><code id="rmstpara_+3A_rvar">rvar</code></td>
<td>
<p>a vector of frailty effects. It is necessary when log-normal frailty and log-logistic frailty models.</p>
</td></tr>
<tr><td><code id="rmstpara_+3A_shape">shape</code></td>
<td>
<p>a vector of shape parameters. It is necessary when Weibull and log-logistic models.</p>
</td></tr>
<tr><td><code id="rmstpara_+3A_sigma">sigma</code></td>
<td>
<p>a vector of standard error parameters. It is necessary when log-normal model.</p>
</td></tr>
<tr><td><code id="rmstpara_+3A_family">family</code></td>
<td>
<p>A description of the response distribution and link function to be used in the model. 'exponential', 'Weibull', 'log-normal', and 'log-logistic' can be selected.</p>
</td></tr>
<tr><td><code id="rmstpara_+3A_random">random</code></td>
<td>
<p>A description of random effect. 'fixed', 'normal', and 'frailty' are available.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class brmsfit or stanfit. See rstan and brms.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- data.frame(time=1:100,
      status=sample(0:1, size=100, replace=TRUE),
      arm=sample(c("t", "c"), size=100, replace=TRUE),
      sex=sample(1:2, size=100, replace=TRUE),
      district=sample(1:5, size=100, replace=TRUE)
    )
head(d)
fit_x_r &lt;- brm_surv(time="time", cnsr="1-status",
                    var=c("factor(arm)", "factor(sex)"),
                    rvar="district", data=d,
                    family="Weibull", random="frailty")
fit_x_r$post_sample
ps_x_r&lt;-fit_x_r$post_sample
rmst_x_r&lt;-rmstpara(tau=100, var=ps_x_r[,"b_intercept"]+ps_x_r[,"b_factor(arm)"],
                   shape=ps_x_r[,"shape"], rvar=ps_x_r[,"sd_district"],
                   family="Weibull",random="frailty")
rmst_x_r


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package pixmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pixmap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addlogo-methods'><p>Methods for Adding a Pixmap Logo to a Plot</p></a></li>
<li><a href='#channels-methods'><p>Methods for Channel Manipulation</p></a></li>
<li><a href='#pixmap'><p>Pixmap Images</p></a></li>
<li><a href='#pixmap-class'><p>Class Family &quot;pixmap&quot;.</p></a></li>
<li><a href='#pnm'><p>Read/Write Portable Anymap Images</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.4-12</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-01-29</td>
</tr>
<tr>
<td>Title:</td>
<td>Bitmap Images / Pixel Maps</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, graphics, grDevices</td>
</tr>
<tr>
<td>Author:</td>
<td>Roger Bivand, Friedrich Leisch and Martin Maechler</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Friedrich Leisch &lt;Friedrich.Leisch@R-project.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for import, export, plotting and other
  manipulations of bitmapped images.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-01-29 10:42:11 UTC; leisch</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-01-29 13:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='addlogo-methods'>Methods for Adding a Pixmap Logo to a Plot</h2><span id='topic+addlogo'></span><span id='topic+addlogo-methods'></span><span id='topic+addlogo+2Cpixmap-method'></span>

<h3>Description</h3>

<p>This method allows the addition of a re-scaled pixmap to an existing
plot, possibly as a logo, optionally preserving aspect.  It may be
used interactively with <code>locator</code>, and is positioned in the
coordinate system of the plot region.  Since the logo is displayed
using <code>image</code>, it does not yet seem possible to use the function
outside this region.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  addlogo(x, ...)
  ## S4 method for signature 'pixmap'
addlogo(x, px, py, asp = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addlogo-methods_+3A_x">x</code></td>
<td>
<p>an object of class <code>pixmap</code></p>
</td></tr>
<tr><td><code id="addlogo-methods_+3A_px">px</code></td>
<td>
<p>a vector of two x coordinates, or a list with two named
elements x and y, such as that returned by <code><a href="graphics.html#topic+locator">locator</a></code>.</p>
</td></tr>
<tr><td><code id="addlogo-methods_+3A_py">py</code></td>
<td>
<p>if px is not a list, a vector of two y coordinates</p>
</td></tr>
<tr><td><code id="addlogo-methods_+3A_asp">asp</code></td>
<td>
<p>if omitted or NULL (default), output respects both y
coordinates, if a number greater than zero, aspect is preserved in
proportion to the difference between x coordinates, multiplied by asp,
and only the first y coordinate is respected.</p>
</td></tr>
<tr><td><code id="addlogo-methods_+3A_...">...</code></td>
<td>
<p>potentially further arguments passed to and from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same pixmap object with changed bounding box and cell resolution</p>


<h3>Author(s)</h3>

<p>Roger Bivand</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- read.pnm(system.file("pictures/logo.ppm", package="pixmap")[1])
plot(x)
for (i in 1:7)
  addlogo(x, px=c(0, (101/77)*11), py=c((i-1)*11, i*11), asp=1)
</code></pre>

<hr>
<h2 id='channels-methods'>Methods for Channel Manipulation</h2><span id='topic+addChannels'></span><span id='topic+getChannels'></span><span id='topic+addChannels-methods'></span><span id='topic+getChannels-methods'></span><span id='topic+addChannels+2CpixmapRGB-method'></span><span id='topic+getChannels+2CpixmapChannels-method'></span>

<h3>Description</h3>

<p>Functions for manipulation and extraction of colors from
channel-based pixmap formats. Methods for generic <code>addChannels</code> adds the
color channels of a colored pixmap and returns a grey version. Methods
for generic <code>getChannels</code> return numeric matrices or arrays
containing the specified channels.</p>


<h3>Usage</h3>

<pre><code class='language-R'>  addChannels(object, coef = NULL)
  getChannels(object, colors = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="channels-methods_+3A_object">object</code></td>
<td>
<p>Object of class <code>"pixmap"</code>.</p>
</td></tr>
<tr><td><code id="channels-methods_+3A_coef">coef</code></td>
<td>
<p>Coefficients for the color channels, a numeric vercot with
as many elements as there are color channels in the pixmap. The
default for RGB is <code>c(0.30, 0.59, 0.11)</code>, which makes a
luminance-based conversion from color to grey.</p>
</td></tr>
<tr><td><code id="channels-methods_+3A_colors">colors</code></td>
<td>
<p>Character vector naming the color channels that shall be
extracted. The default of <code>"all"</code> returns all channels
simultaneously.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>Examples</h3>

<pre><code class='language-R'>  x &lt;- pixmapRGB(rep(1:5, 3), nrow=4)
  plot(x)
  print(x)

  getChannels(x)
  getChannels(x, colors=c("red", "green"))

  y = addChannels(x)
  plot(y)
  print(y)

  ## extract only the red channel
  y = addChannels(x, coef=c(1,0,0))
  plot(y)
</code></pre>

<hr>
<h2 id='pixmap'>Pixmap Images</h2><span id='topic+pixmap'></span><span id='topic+pixmapRGB'></span><span id='topic+pixmapGrey'></span><span id='topic+pixmapIndexed'></span><span id='topic+plot+2Cpixmap-method'></span><span id='topic+show+2Cpixmap-method'></span><span id='topic++5B+2Cpixmap-method'></span>

<h3>Description</h3>

<p>The family <code>"pixmap"</code> (&ldquo;pixel maps&rdquo;) of classes provides
methods for creating,
plotting and converting bitmapped images in three different formats:
RGB, grey and indexed pixmaps.</p>


<h3>Usage</h3>

<pre><code class='language-R'>pixmap(data=NULL, nrow=dim(data)[1], ncol=dim(data)[2],
       bbox=NULL, bbcent=FALSE, cellres=NULL)
pixmapRGB(data, ...)
pixmapGrey(data, ...)
pixmapIndexed(data, col, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pixmap_+3A_data">data</code></td>
<td>
<p>An optional data vector.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_nrow">nrow</code></td>
<td>
<p>Vertical size of the image in pixels.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_ncol">ncol</code></td>
<td>
<p>Horizontal size of the image in pixels.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_bbox">bbox</code></td>
<td>
<p>Bounding box of the image, vector of length 4 of form <code>c(x1,
      y1, x2, y2)</code> with coordinates for the lower left corner and upper
right corner.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_bbcent">bbcent</code></td>
<td>
<p>Logical, if <code>TRUE</code> the bounding box specifies the
coordinates of the centers of the lower left and upper right pixels,
default is the coordinates of the lower left and upper right corner
of the image.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_cellres">cellres</code></td>
<td>
<p>Numeric vector of length 1 or 2, specifies the
resolution of pixels in horizontal and vertical direction. If only
one value is given, resolution in both directions is identical.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_col">col</code></td>
<td>
<p>Character vector of colors to use for indexed pictures, or
a function like <code><a href="grDevices.html#topic+rainbow">rainbow</a></code> which can
be used to create a palette. Colors set to <code>NA</code> are 
transparent; this can be used,e.g., for overlaying plots.</p>
</td></tr>
<tr><td><code id="pixmap_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>pixmap()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code>data</code> argument is 2- or 3-dimensional, <code>nrow</code> and
<code>ncol</code> default to the first two dimensions of <code>data</code>, such
that <code>pixmap</code> does the expected when given a matrix or an array.
</p>
<p>The arguments <code>bbox</code>, <code>bbcent</code> and <code>cellres</code> can be
used to specify a coordinate system for the image. Note that together
with <code>nrow</code> and <code>ncol</code> the coordinate system is
overspecified, hence not all parameters must be specified, the rest is
computed or set to sensible defaults.
</p>
<p>For <code>bbcent=FALSE</code> we have
<code>cellres[1] = (bbox[3]-bbox[1])/ncol</code>
and
<code>cellres[2] = (bbox[4]-bbox[2])/nrow</code>, for  <code>bbcent=TRUE</code>
we get
<code>cellres[1] = (bbox[3]-bbox[1])/(ncol-1)</code>
and
<code>cellres[2] = (bbox[4]-bbox[2])/(nrow-1)</code>.
</p>
<p>The name <code>pixmap</code> was chosen because both <code>image</code> and
<code>bitmap</code> are already used in R.
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>See Also</h3>

<p><code><a href="#topic+pixmap-class">pixmap-class</a></code>, <code><a href="#topic+read.pnm">read.pnm</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'> ## A simple example
 x &lt;- pixmapIndexed(rep(1:8, 9), nrow=6, col=terrain.colors(8))
 plot(x)

 ## The same with different colors, and passing the function instead of
 ## a color vector 
 x &lt;- pixmapIndexed(rep(1:8, 9), nrow=6, col=rainbow)
 plot(x)
 plot(x, asp=.5, axes=TRUE)

 ## Read data from a file
 x &lt;- read.pnm(system.file("pictures/logo.ppm", package="pixmap")[1])
 plot(x)

 ## Another example that math can be beautiful
 x &lt;- seq(-3,3,length=100)
 z1 &lt;- outer(x,x,function(x,y) abs(sin(x)*sin(y)))
 z2 &lt;- outer(x,x,function(x,y) abs(sin(2*x)*sin(y)))
 z3 &lt;- outer(x,x,function(x,y) abs(sin(x)*sin(2*y)))

 ## Notice that we specify a bounding box to get the correct
 ## coordinates on the axes. z1, z2 and z3 are used as red,
 ## green and blue channel, respectively.
 z &lt;- pixmapRGB(c(z1,z2,z3), 100, 100, bbox=c(-1,-1,1,1))
 plot(z, axes=TRUE)

 ## look at a grey version
 plot(as(z, "pixmapGrey"))

 ## subsetting works as expected
 plot(z[1:20,])
 plot(z[,1:40])
 plot(z[1:20,10:40])

 ## overlay different images using transparency
 ## base image as before
 x &lt;- pixmapIndexed(rep(1:8, 9), nrow=6, col=terrain.colors(8))
 plot(x)
 ## make a mask of vertical bars
 mask &lt;- array(0,dim=c(6,12))
 mask[,seq(1,12,3)] &lt;- 1
 ## plot this mask over existing image with transparent and black color
 plot(pixmapIndexed(mask,col=c("NA","#000000")),add=TRUE)
</code></pre>

<hr>
<h2 id='pixmap-class'>Class Family &quot;pixmap&quot;.</h2><span id='topic+pixmap-class'></span><span id='topic+pixmapRGB-class'></span><span id='topic+pixmapGrey-class'></span><span id='topic+pixmapIndexed-class'></span><span id='topic+pixmapChannels-class'></span><span id='topic+coerce+2CpixmapGrey+2CpixmapIndexed-method'></span><span id='topic+coerce+2CpixmapGrey+2CpixmapRGB-method'></span><span id='topic+coerce+2CpixmapRGB+2CpixmapGrey-method'></span><span id='topic+coerce+2CpixmapRGB+2CpixmapIndexed-method'></span><span id='topic+coerce+2CpixmapIndexed+2CpixmapRGB-method'></span><span id='topic+coerce+2CANY+2CpixmapGrey-method'></span><span id='topic+coerce+2CANY+2CpixmapIndexed-method'></span><span id='topic+raster'></span><span id='topic+as.raster.pixmapRGB'></span>

<h3>Description</h3>

<p>The family <code>"pixmap"</code> (&ldquo;pixel maps&rdquo;) of classes provides
methods for creating,
plotting and converting bitmapped images in currently three different
formats: RGB (<code>"pixmapRGB"</code>), grey
(<code>"pixmapGrey"</code>)and indexed pixmaps (<code>"pixmapIndexed"</code>).</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("pixmap", ...)</code> or
using the creator functions <code><a href="#topic+pixmap">pixmap</a></code> (similar for all child
classes of name (<code>"pixmapXXX"</code>).
</p>


<h3>Slots</h3>


<dl>
<dt><code>size</code>:</dt><dd><p>Object of class <code>"integer"</code> and length 2
(number of rows and columns).</p>
</dd>
<dt><code>cellres</code>:</dt><dd><p>Object of class <code>"numeric"</code> and length
2 specifying the cell resolution of each pixel in user coordinates.</p>
</dd>
<dt><code>bbox</code>:</dt><dd><p>Object of class <code>"numeric"</code> and length 4,
the coordinates of the bounding box (x bottom, y bottom, x top, y
top).</p>
</dd>
<dt><code>channels</code>:</dt><dd><p>A character vector naming the channel slots
of the object (<code>NULL</code> for indexed pixmaps).</p>
</dd>
<dt><code>red</code>, <code>green</code>, <code>blue</code>:</dt><dd><p>Only for class
<code>"pixmapRGB"</code> with matrices specifying the red, green
and blue
channel of the picture.</p>
</dd>
<dt><code>grey</code>:</dt><dd><p>Only for class
<code>"pixmapGrey"</code>, a matrix specifying the grey intensity
(0=black, 1=white) of the picture.</p>
</dd>
<dt><code>col</code>:</dt><dd><p>Only for class
<code>"pixmapGrey"</code>, a character vector with a map of color
names.</p>
</dd>
<dt><code>index</code>:</dt><dd><p>Only for class
<code>"pixmapIndexed"</code>, an integer matrix with codes from the
color map.
</p>
</dd>
</dl>



<h3>Details</h3>

<p>Class <code>"pixmap"</code> specifies the basic geometry of a picture: the
size in pixels together with information for an optional coordinate
system, see <code><a href="#topic+pixmap">pixmap</a></code> for details.
</p>
<p>Grey and indexed pixmaps are besically matrices (contained in the
<code>grey</code> or <code>index</code> slot, respectively). The element <code>[1,1]</code>
corresponds to the upper left corner as usual. For grey pixmaps the
elements must be between 0 (black) and 1 (white). Indexed pixmaps have
integer elements, each giving the index number corresponding to the
palette specified in slot <code>"col"</code>.
Colors are given using the usual R
color strings (either names like <code>"red"</code> or hex values like
<code>"#FF0000"</code>). Alternatively, a function to create a color palette
can be specified, see <code><a href="grDevices.html#topic+rainbow">rainbow</a></code> or
<code><a href="grDevices.html#topic+heat.colors">heat.colors</a></code> for examples.
</p>
<p>RGB pixmaps have three matrices for each of the three color
channels. Elements of the matrices must be between 0 (=color off) and
1 (=color at maximum intensity).
</p>
<p>Methods for coercion between all formats are available.
</p>
<p>Class <code>"pixmapChannels"</code> is a
helper parent class currently containing classes <code>"pixmapRGB"</code>
and <code>"pixmapGrey"</code>.
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>See Also</h3>

<p><code><a href="#topic+pixmap">pixmap</a></code></p>

<hr>
<h2 id='pnm'>Read/Write Portable Anymap Images</h2><span id='topic+write.pnm'></span><span id='topic+read.pnm'></span><span id='topic+read.pnmdata'></span><span id='topic+read.pnmhead'></span>

<h3>Description</h3>

<p>Reading and writing of bitmap images in PBM (black/white), PGM
(grey) and PPM (color) format.</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.pnm(file, ...)
write.pnm(object, file= NULL, forceplain = FALSE, type = NULL, maxval = 255)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pnm_+3A_file">file</code></td>
<td>
<p>name of the pnm file (general
<code><a href="base.html#topic+connections">connections</a></code> do not work at the moment).</p>
</td></tr>
<tr><td><code id="pnm_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="#topic+pixmap">pixmap</a></code> (like
<code>bbox</code>).</p>
</td></tr>
<tr><td><code id="pnm_+3A_object">object</code></td>
<td>
<p>an object of class <code>"pixmap"</code>.</p>
</td></tr>
<tr><td><code id="pnm_+3A_forceplain">forceplain</code></td>
<td>
<p>logical; if true, an ASCII pnm file is written.
Default is to write a binary (raw) file.</p>
</td></tr>
<tr><td><code id="pnm_+3A_type">type</code></td>
<td>
<p>one of <code>"pbm"</code>, <code>"pgm"</code> or <code>"ppm"</code>. Default
is to use <code>"pgm"</code> for grey images and <code>"ppm"</code> for color
images.</p>
</td></tr>
<tr><td><code id="pnm_+3A_maxval">maxval</code></td>
<td>
<p>the maximum color-component value; the default is a
colour depth of 8 bits, i.e., the integer 255.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>read.pnm</code> reads a pnm file and loads the image into an
object of class <code><a href="#topic+pixmap">pixmap</a></code>.
</p>
<p><code>write.pnm</code> writes an object of class <code><a href="#topic+pixmap">pixmap</a></code> to a
pnm file, the <code>type</code> argument controls wheter the written image
file is a black-and-white bitmap (pbm), grey (pgm) or color (ppm).
</p>
<p><code>plot.pnm</code> plots a pnm object using the command
<code><a href="Matrix.html#topic+image">image</a></code>. The only difference is that the element <code>[1,1]</code> of
<code>pnmobj</code> is plotted as the upper left corner (plain
<code><a href="Matrix.html#topic+image">image</a></code> would plot <code>[1,1]</code> as the lower left corner.
</p>


<h3>Value</h3>

<p><code>read.pnm</code> returns an object of class <code><a href="#topic+pixmapRGB">pixmapRGB</a></code> for color
pixmaps (ppm), and an object of class <code><a href="#topic+pixmapGrey">pixmapGrey</a></code> for pbm
and pgm. Note that the <em>type</em> of file as determined by the first
two bytes according to pnm standards is important, <em>not the
extension</em> of the file. In fact, the file name extension is
completely ignored.
</p>


<h3>Author(s)</h3>

<p>Roger Bivand and Friedrich Leisch</p>


<h3>See Also</h3>

<p><code><a href="#topic+pixmap">pixmap</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'> x &lt;- read.pnm(system.file("pictures/logo.ppm", package="pixmap")[1])
 plot(x)
 print(x)

 x &lt;- read.pnm(system.file("pictures/logo.pgm", package="pixmap")[1])
 plot(x)

 x &lt;- read.pnm(system.file("pictures/logo.pbm", package="pixmap")[1])
 plot(x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

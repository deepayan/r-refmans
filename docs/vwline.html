<!DOCTYPE html><html lang="en"><head><title>Help for package vwline</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vwline}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#edgePoints'>
<p>Calculate edge points</p></a></li>
<li><a href='#grid.brushXspline'>
<p>Sweep an X-spline curve with a brush.</p></a></li>
<li><a href='#grid.offsetBezier'>
<p>Draw a Bezier Offset Curve.</p></a></li>
<li><a href='#grid.offsetXspline'>
<p>Draw an X-spline offset curve.</p></a></li>
<li><a href='#grid.vwcurve'>
<p>Draw a variable-width smooth curve.</p></a></li>
<li><a href='#grid.vwline'>
<p>Draw a variable-width set of line segments.</p></a></li>
<li><a href='#grid.vwXspline'>
<p>Draw a variable-width X-spline.</p></a></li>
<li><a href='#outline'>
<p>Calculate outline</p></a></li>
<li><a href='#vwPath'>
<p>Functions to render variable-width line</p></a></li>
<li><a href='#widthSpec'>
<p>Specify the width of a variable-width line</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Draw Variable-Width Lines</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2-4</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Murrell &lt;paul@stat.auckland.ac.nz&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides R functions to draw lines and curves with the width
             of the curve allowed to vary along the length of the curve.</td>
</tr>
<tr>
<td>Depends:</td>
<td>grid</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, stats, polyclip, gridBezier</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pmur002/vwline">https://github.com/pmur002/vwline</a>,
<a href="https://stattech.wordpress.fos.auckland.ac.nz/2017/05/19/2017-01-variable-width-lines-in-r/">https://stattech.wordpress.fos.auckland.ac.nz/2017/05/19/2017-01-variable-width-lines-in-r/</a>,
<a href="https://stattech.wordpress.fos.auckland.ac.nz/2017/06/07/2017-02-variable-width-line-ends-and-line-joins/">https://stattech.wordpress.fos.auckland.ac.nz/2017/06/07/2017-02-variable-width-line-ends-and-line-joins/</a>,
<a href="https://stattech.wordpress.fos.auckland.ac.nz/2017/06/15/2017-03-offset-curves-for-variable-width-x-splines/">https://stattech.wordpress.fos.auckland.ac.nz/2017/06/15/2017-03-offset-curves-for-variable-width-x-splines/</a>,
<a href="https://stattech.wordpress.fos.auckland.ac.nz/2018/11/02/2018-11-variable-width-bezier-splines-in-r/">https://stattech.wordpress.fos.auckland.ac.nz/2018/11/02/2018-11-variable-width-bezier-splines-in-r/</a></td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>TRUE</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-22 21:10:08 UTC; pmur002</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul Murrell [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-23 05:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='edgePoints'>
Calculate edge points
</h2><span id='topic+edgePoints'></span><span id='topic+edgePoints.vwcurveGrob'></span><span id='topic+edgePoints.vwlineGrob'></span><span id='topic+edgePoints.vwXsplineGrob'></span><span id='topic+edgePoints.brushXsplineGrob'></span><span id='topic+edgePoints.offsetXsplineGrob'></span>

<h3>Description</h3>

<p>Calculate points on the edge or boundary of a variable-width line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edgePoints(x, d, ...)
## S3 method for class 'vwcurveGrob'
edgePoints(x, d, which = c("left", "right"), direction = "forward", debug = FALSE, ...) 
## S3 method for class 'vwlineGrob'
edgePoints(x, d, x0, y0, which = 1, direction = "forward", debug = FALSE, ...) 
## S3 method for class 'vwXsplineGrob'
edgePoints(x, d, which = c("left", "right"), direction = "forward", debug = FALSE, ...)
## S3 method for class 'brushXsplineGrob'
edgePoints(x, d, x0, y0, which = 1, direction = "forward", debug = FALSE, ...) 
## S3 method for class 'offsetXsplineGrob'
edgePoints(x, d, x0, y0, which = 1, direction = "forward", debug = FALSE, ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="edgePoints_+3A_x">x</code></td>
<td>

<p>A variable-width line grob.
</p>
</td></tr>
<tr><td><code id="edgePoints_+3A_d">d</code></td>
<td>

<p>A numeric vector or unit specifying locations along the boundary of
the variable-width line.
</p>
</td></tr>
<tr><td><code id="edgePoints_+3A_which">which</code></td>
<td>

<p>For some methods, this is either <code>"left"</code> or <code>"right"</code> (or both)
indicating which edge to find locations on.  For other methods, this
is a numeric, selecting which boundary to find locations on.  See Details.
</p>
</td></tr>
<tr><td><code id="edgePoints_+3A_direction">direction</code></td>
<td>

<p>Either <code>"forwards"</code> or <code>"backwards"</code> to indicate the
direction of traversal for the edge.
</p>
</td></tr>
<tr><td><code id="edgePoints_+3A_x0">x0</code>, <code id="edgePoints_+3A_y0">y0</code></td>
<td>

<p>A location used to determine the start point for traversing an edge.
</p>
</td></tr>
<tr><td><code id="edgePoints_+3A_debug">debug</code></td>
<td>

<p>A logical indicating whether to draw graphical debugging
information.
</p>
</td></tr>
<tr><td><code id="edgePoints_+3A_...">...</code></td>
<td>

<p>Additional arguments for methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the distance is numeric, it is assumed to be a proportion of the
length of an edge.
</p>
<p>What constitutes an edge varies between different methods:
some methods produce distinct left and right edges (ignoring line
endings), in which case locations can be found on either edge;
other methods generally produce a single boundary (including line
endings), but self-intersecting lines can produce additional
boundaries.
</p>
<p>For some methods, it is possible for a boundary to form loops,
so an edge location is not guaranteed to be on the external boundary
of the variable-width line.
</p>
<p>For lines with distinct left and right edges, the forwards direction
is the direction of the main curve.  For lines with a single boundary,
the forwards direction is anticlockwise.
</p>
<p>For lines with a single boundary, the start point on the boundary is
defined as the nearest point on the boundary to the location specified
by <code>x0</code> and <code>y0</code>.
</p>


<h3>Value</h3>

<p>For methods with a single boundary,
a list with components <code>x</code> and <code>y</code>, giving locations on the
edge of the variable-width line, and <code>tangent</code>, giving the
tangent to the edge at each location.
</p>
<p>For methods with distinct left and right edges, a list with components
<code>left</code> and <code>right</code>, each a list as above.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- seq(.2, .8, length.out=100)
y &lt;- .05*sin(seq(0, 2*pi, length.out=100))
w &lt;- unit(seq(2, 10, length.out=100), "mm")
vwcg &lt;- vwcurveGrob(x, y + 2/3, w, lineend="round",
                    gp=gpar(col="black"))
grid.draw(vwcg)
epts &lt;- edgePoints(vwcg, 0:9/9)
grid.circle(epts$left$x, epts$left$y, r=unit(1, "mm"), 
            gp=gpar(fill=hcl(0, 80, seq(10, 100, 10))))
x &lt;- c(.2, .4, .6, .8)
y &lt;- c(-.05, .05, -.05, .05)
w &lt;- unit(c(2, 4, 6, 8), "mm")
vwbg &lt;- brushXsplineGrob(circleBrush(), x, y + 1/3, w,
                         gp=gpar(col="black"))
grid.draw(vwbg)
epts &lt;- edgePoints(vwbg, unit(0:9, "cm"), x0=0, y0=1/3)
grid.circle(epts$x, epts$y, r=unit(1, "mm"), 
            gp=gpar(fill=hcl(0, 80, seq(10, 100, 10))))
</code></pre>

<hr>
<h2 id='grid.brushXspline'>
Sweep an X-spline curve with a brush.
</h2><span id='topic+grid.brushXspline'></span><span id='topic+brushXsplineGrob'></span><span id='topic+verticalBrush'></span><span id='topic+circleBrush'></span><span id='topic+squareBrush'></span>

<h3>Description</h3>

<p>Sweep an X-spline curve with a brush; the main curve is described
by x/y control points and a variable-size brush is used to sweep a
variable-width line from the main curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brushXsplineGrob(brush, x, y, w=unit(1, "cm"), default.units="npc",
                 shape=1, angle="perp", open=TRUE, spacing=NULL,
                 render=vwPath(),
                 gp=gpar(fill="black"), name=NULL, debug=FALSE)
grid.brushXspline(...)

verticalBrush
circleBrush(n=50)
squareBrush
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.brushXspline_+3A_brush">brush</code></td>
<td>
<p>A description of a brush shape (see Details).  Some
simple brushes are provided by <code>verticalBrush</code> and <code>circleBrush</code>.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit describing x-locations.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit describing y-locations.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_w">w</code></td>
<td>
<p>A numeric vector or unit describing widths at each location,
or a width specification generated by <code><a href="#topic+widthSpec">widthSpec</a></code>.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_default.units">default.units</code></td>
<td>
<p>The units used if <code>x</code> or <code>y</code> are
numeric vectors.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_shape">shape</code></td>
<td>
<p>A numeric value (or one per location) that controls
the shape of the X-spline curve relative to the locations.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_angle">angle</code></td>
<td>
<p>Either <code>"perp"</code> or a numeric value describing a
fixed orientation for the line width.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_open">open</code></td>
<td>
<p>A boolean indicating whether to connect the last location
back to the first location to produce a closed line.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_spacing">spacing</code></td>
<td>
<p>A numeric vector or unit describing where the brush
will be placed along the main curve.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_render">render</code></td>
<td>
<p>A function that is used to render the outline of the path
that is generated for the variable-width line.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_gp">gp</code></td>
<td>
<p>A set of graphical parameters; see <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_name">name</code></td>
<td>
<p>A name for the grob generated for the variable-width
line.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_debug">debug</code></td>
<td>
<p>A logical indicating whether to produce graphical
debugging output.</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code>brushXsplineGrob</code>.
</p>
</td></tr>
<tr><td><code id="grid.brushXspline_+3A_n">n</code></td>
<td>
<p>Number of points to generate on circumference of circle brush.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The brush is described using a list with components <code>x</code> and
<code>y</code>. The brush is described in a coordinate system [-1, 1] (in
both <code>x</code> and <code>y</code>).  The predefined brushes are
<code>verticalBrush</code> (thin vertical line), <code>circleBrush</code> (the number
of points on the circumference can be controlled), and <code>squareBrush</code>.
</p>
<p>By default, the brush is placed at (almost) all points along the main
curve.  If <code>spacing</code> is specified, then the brush is only placed
at those locations on the main curve.  If <code>spacing</code> is a
numeric vector, the values are
assumed to be proportions of the length of the main curve.  The
spacing is automatically recycled to the cover the full length of the
main curve.
</p>
<p>See <code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code> for more about the behaviour of X-splines.
</p>


<h3>Value</h3>

<p><code>grid.brushXspline</code> is used for its side-effect of drawing a
variable-width
line;  <code>brushXsplineGrob</code> returns a <code>"brushXsplineGrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .4, .6, .8)
y &lt;- c(-.05, .05, -.05, .05)
w &lt;- unit(c(2, 4, 6, 8), "mm")
grid.brushXspline(verticalBrush, x, y + .8, w)
grid.brushXspline(verticalBrush, x, y + .6, w,
                  shape=-1)
grid.brushXspline(circleBrush(), x, y + .4, w)
grid.brushXspline(verticalBrush, x, y + .2, w,
                  gp=gpar(col="black"), debug=TRUE)
</code></pre>

<hr>
<h2 id='grid.offsetBezier'>
Draw a Bezier Offset Curve.
</h2><span id='topic+grid.offsetBezier'></span><span id='topic+offsetBezierGrob'></span>

<h3>Description</h3>

<p>Draw a Bezier offset curve; the main curve is described
by x/y control points and offset Bezier curves are calculated to the
left and right of the main curve at the specified widths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>offsetBezierGrob(x, y, w, default.units="npc", 
                 stepFn=nSteps(100), open=TRUE,
                 lineend="butt", linejoin="round", mitrelimit=4,
                 render=if (open) vwPolygon else vwPath(),
                 gp=gpar(fill="black"), name=NULL, debug=FALSE)
grid.offsetBezier(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.offsetBezier_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit describing x-locations.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit describing y-locations.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_w">w</code></td>
<td>
<p>A numeric vector or unit describing widths at each location,
or a width specification generated by <code><a href="#topic+widthSpline">widthSpline</a></code>
or a width specification generated by <code><a href="#topic+BezierWidth">BezierWidth</a></code>.
</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_default.units">default.units</code></td>
<td>
<p>The units used if <code>x</code> or <code>y</code> are
numeric vectors.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_stepfn">stepFn</code></td>
<td>
<p>Function called to generate steps in <var>t</var>
when rendering. See Details.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_open">open</code></td>
<td>
<p>A boolean indicating whether to connect the last location
back to the first location to produce a closed line.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_lineend">lineend</code></td>
<td>
<p>The line ending style; one of <code>"round"</code>,
<code>"mitre"</code>, <code>"butt"</code>, <code>"square"</code>, or <code>"extend"</code>.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_linejoin">linejoin</code></td>
<td>
<p>The line join style; one of <code>"round"</code>,
<code>"mitre"</code>, <code>"bevel"</code>, or <code>"extend"</code>.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_mitrelimit">mitrelimit</code></td>
<td>
<p>A numeric that controls when a mitre join is
converted to a bevel join or a mitre ending
is converted to a square ending.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_render">render</code></td>
<td>
<p>A function that is used to render the outline of the path
that is generated for the variable-width line.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_gp">gp</code></td>
<td>
<p>A set of graphical parameters; see <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_name">name</code></td>
<td>
<p>A name for the grob generated for the variable-width
line.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_debug">debug</code></td>
<td>
<p>A logical indicating whether to produce graphical
debugging output.</p>
</td></tr>
<tr><td><code id="grid.offsetBezier_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code>offsetBezierGrob</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Rendering relies on flattening the spline to a series of
straight line segments.  This depends on generating a set
of <var>t</var> values (and then <var>x</var> and <var>y</var> are calculated
from <var>t</var>).  The <code>stepFn</code> is called to generate <var>t</var>
and given the control
points, <code>x</code> and <code>y</code> as arguments, plus a <code>range</code>,
which indicates what range of <var>t</var> to generate values for.
</p>
<p>The <code>"extend"</code> line ending and line join style is only
available if the width is specified by <code><a href="#topic+BezierWidth">BezierWidth</a></code>.
</p>


<h3>Value</h3>

<p><code>grid.offsetBezier</code> is used for its side-effect of drawing a
variable-width
line;  <code>offsetBezierGrob</code> returns a <code>"offsetBezierGrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .4, .6, .8)
y &lt;- c(-.05, .05, -.05, .05)
w &lt;- unit(c(2, 4, 6, 8), "mm")
grid.offsetBezier(x, y + .8, w)
grid.offsetBezier(x, y + .5, w,
                  lineend="round")
grid.offsetBezier(x, y + .2, w,
                  gp=gpar(col="black"), debug=TRUE)
</code></pre>

<hr>
<h2 id='grid.offsetXspline'>
Draw an X-spline offset curve.
</h2><span id='topic+grid.offsetXspline'></span><span id='topic+offsetXsplineGrob'></span>

<h3>Description</h3>

<p>Draw an X-spline offset curve; the main curve is described
by x/y control points and offset X-splines are calculated to the
left and right of the main curve at the specified widths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>offsetXsplineGrob(x, y, w, default.units="npc", shape=1,
                  open=TRUE, repEnds=TRUE, 
                  lineend="butt", mitrelimit=4,
                  render=if (open) vwPolygon else vwPath(),
                  gp=gpar(fill="black"), name=NULL, debug=FALSE)
grid.offsetXspline(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.offsetXspline_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit describing x-locations.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit describing y-locations.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_w">w</code></td>
<td>
<p>A numeric vector or unit describing widths at each location,
or a width specification generated by <code><a href="#topic+widthSpline">widthSpline</a></code>.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_default.units">default.units</code></td>
<td>
<p>The units used if <code>x</code> or <code>y</code> are
numeric vectors.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_shape">shape</code></td>
<td>
<p>A numeric value (or one per location) that controls
the shape of the X-spline curve relative to the locations.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_open">open</code></td>
<td>
<p>A boolean indicating whether to connect the last location
back to the first location to produce a closed line.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_repends">repEnds</code></td>
<td>
<p>A logical indicating whether to replicate the
first and last control points (so that the X-spline starts and
ends at the first and last control points).  Can also be the
special value <code>"extend"</code>, in which case the first and last
control segments are extended (and the resulting X-spline is
a little curvier at the ends).</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_lineend">lineend</code></td>
<td>
<p>The line ending style; one of <code>"round"</code>,
<code>"mitre"</code>, <code>"butt"</code>, or <code>"square"</code>.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_mitrelimit">mitrelimit</code></td>
<td>
<p>A numeric that controls when a mitre join is
converted to a bevel join or a mitre ending
is converted to a square ending.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_render">render</code></td>
<td>
<p>A function that is used to render the outline of the path
that is generated for the variable-width line.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_gp">gp</code></td>
<td>
<p>A set of graphical parameters; see <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_name">name</code></td>
<td>
<p>A name for the grob generated for the variable-width
line.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_debug">debug</code></td>
<td>
<p>A logical indicating whether to produce graphical
debugging output.</p>
</td></tr>
<tr><td><code id="grid.offsetXspline_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code>offsetXsplineGrob</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code> for more about the behaviour of X-splines.
</p>


<h3>Value</h3>

<p><code>grid.offsetXspline</code> is used for its side-effect of drawing a
variable-width
line;  <code>offsetXsplineGrob</code> returns a <code>"offsetXsplineGrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .4, .6, .8)
y &lt;- c(-.05, .05, -.05, .05)
w &lt;- unit(c(2, 4, 6, 8), "mm")
grid.offsetXspline(x, y + .8, w)
grid.offsetXspline(x, y + .6, w,
                   shape=-1)
grid.offsetXspline(x, y + .4, w,
                   lineend="round")
grid.offsetXspline(x, y + .2, w,
                   gp=gpar(col="black"), debug=TRUE)
</code></pre>

<hr>
<h2 id='grid.vwcurve'>
Draw a variable-width smooth curve.
</h2><span id='topic+grid.vwcurve'></span><span id='topic+vwcurveGrob'></span>

<h3>Description</h3>

<p>Draw a variable-width line where the main line is a series
of straight line segments that are assumed to be
a flattened approximation to a smooth curve and the width is specified at
each vertex along the flattened curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vwcurveGrob(x, y, w, default.units="npc", open=TRUE, angle="perp",
           lineend="butt", mitrelimit=4,
           render=if (open) vwPolygon else vwPath(),
           gp=gpar(fill="black"), name=NULL, debug=FALSE)
grid.vwcurve(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.vwcurve_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit describing x-locations.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit describing y-locations.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_w">w</code></td>
<td>
<p>A numeric vector or unit describing widths at each location,
or a width specification generated by <code><a href="#topic+widthSpec">widthSpec</a></code>.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_default.units">default.units</code></td>
<td>
<p>The units used if <code>x</code> or <code>y</code> are
numeric vectors.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_open">open</code></td>
<td>
<p>A boolean indicating whether to connect the last location
back to the first location to produce a closed line.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_angle">angle</code></td>
<td>
<p>Either <code>"perp"</code> or a numeric value describing a
fixed orientation for the line width.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_lineend">lineend</code></td>
<td>
<p>The line ending style; one of <code>"round"</code>,
<code>"mitre"</code>, <code>"butt"</code>, or <code>"square"</code>.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_mitrelimit">mitrelimit</code></td>
<td>
<p>A numeric that controls when a mitre join is
converted to a bevel join or a mitre ending
is converted to a square ending.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_render">render</code></td>
<td>
<p>A function that is used to render the outline of the path
that is generated for the variable-width line.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_gp">gp</code></td>
<td>
<p>A set of graphical parameters; see <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_name">name</code></td>
<td>
<p>A name for the grob generated for the variable-width
line.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_debug">debug</code></td>
<td>
<p>A logical indicating whether to produce graphical
debugging output.</p>
</td></tr>
<tr><td><code id="grid.vwcurve_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code>vwcurveGrob</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The widths are calculated perpendicular to the average angle at each
vertex (or just perpendicular to the line segment for the first and
last vertex), <em>unless</em> a numeric <code>angle</code> is specified, in
which case the widths are calculated at that angle at every vertex.
</p>


<h3>Value</h3>

<p><code>grid.vwcurve</code> is used for its side-effect of drawing a
variable-width
line;  <code>vwcurveGrob</code> returns a <code>"vwcurveGrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- seq(.2, .8, length.out=100)
y &lt;- .05*sin(seq(0, 2*pi, length.out=100))
w &lt;- unit(seq(2, 10, length.out=100), "mm")
grid.vwcurve(x, y + .8, w)
grid.vwcurve(x, y + .6, w,
             angle=45)
grid.vwcurve(x, y + .4, w,
             lineend="round")
grid.vwcurve(x, y + .2, w,
             gp=gpar(col="black"), debug=TRUE)
</code></pre>

<hr>
<h2 id='grid.vwline'>
Draw a variable-width set of line segments.
</h2><span id='topic+grid.vwline'></span><span id='topic+vwlineGrob'></span>

<h3>Description</h3>

<p>Draw a variable-width line where the main line is a series
of straight line segments and the width is specified at
each vertex and linearly interpolated along each segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vwlineGrob(x, y, w, default.units="npc", open=TRUE, 
           linejoin="round", lineend="butt", mitrelimit=4,
           stepWidth=FALSE, render=if (open) vwPolygon else vwPath(),
           gp=gpar(fill="black"), name=NULL, debug=FALSE)
grid.vwline(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.vwline_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit describing x-locations.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit describing y-locations.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_w">w</code></td>
<td>
<p>A numeric vector or unit describing widths at each location,
or a width specification generated by <code><a href="#topic+widthSpec">widthSpec</a></code>.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_default.units">default.units</code></td>
<td>
<p>The units used if <code>x</code> or <code>y</code> are
numeric vectors.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_open">open</code></td>
<td>
<p>A boolean indicating whether to connect the last location
back to the first location to produce a closed line.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_linejoin">linejoin</code></td>
<td>
<p>The line join style; one of <code>"round"</code>, <code>"mitre"</code>, or
<code>"bevel"</code>.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_lineend">lineend</code></td>
<td>
<p>The line ending style; one of <code>"round"</code>,
<code>"mitre"</code>, <code>"butt"</code>, or <code>"square"</code>.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_mitrelimit">mitrelimit</code></td>
<td>
<p>A numeric that controls when a mitre join is
converted to a bevel join or a mitre ending
is converted to a square ending.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_stepwidth">stepWidth</code></td>
<td>
<p>A logical indicating whether widths are fixed along
the length of a segment.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_render">render</code></td>
<td>
<p>A function that is used to render the outline of the path
that is generated for the variable-width line.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_gp">gp</code></td>
<td>
<p>A set of graphical parameters; see <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_name">name</code></td>
<td>
<p>A name for the grob generated for the variable-width
line.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_debug">debug</code></td>
<td>
<p>A logical indicating whether to produce graphical
debugging output.</p>
</td></tr>
<tr><td><code id="grid.vwline_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code>vwlineGrob</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>stepWidth</code> is <code>TRUE</code>, the last width value is ignored.
</p>


<h3>Value</h3>

<p><code>grid.vwline</code> is used for its side-effect of drawing a
variable-width
line;  <code>vwlineGrob</code> returns a <code>"vwlineGrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
grid.vwline(c(.2, .5, .8), rep(.8, 3), unit(c(1, 3, 2), "cm"))
grid.vwline(c(.2, .5, .8), rep(.6, 3), unit(c(1, 3, 2), "cm"),
            stepWidth=TRUE)
grid.vwline(c(.2, .5, .8), rep(.4, 3), unit(c(1, 3, 2), "cm"),
            linejoin="mitre", lineend="round")
grid.vwline(c(.2, .5, .8), rep(.2, 3), unit(c(1, 3, 2), "cm"),
            gp=gpar(col="black"), debug=TRUE)
</code></pre>

<hr>
<h2 id='grid.vwXspline'>
Draw a variable-width X-spline.
</h2><span id='topic+grid.vwXspline'></span><span id='topic+vwXsplineGrob'></span>

<h3>Description</h3>

<p>Draw a variable-width X-spline where the main line is described
by x/y control points
and the width describes offset control points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vwXsplineGrob(x, y, w, default.units="npc", shape=1,
              open=TRUE, repEnds=TRUE, angle="perp",
              lineend="butt", mitrelimit=4,
              render=vwPath(),
              gp=gpar(fill="black"), name=NULL, debug=FALSE)
grid.vwXspline(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.vwXspline_+3A_x">x</code></td>
<td>
<p>A numeric vector or unit describing x-locations.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_y">y</code></td>
<td>
<p>A numeric vector or unit describing y-locations.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_w">w</code></td>
<td>
<p>A numeric vector or unit describing widths at each location,
or a width specification generated by <code><a href="#topic+widthSpec">widthSpec</a></code>.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_default.units">default.units</code></td>
<td>
<p>The units used if <code>x</code> or <code>y</code> are
numeric vectors.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_shape">shape</code></td>
<td>
<p>A numeric value (or one per location) that controls
the shape of the X-spline curve relative to the locations.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_open">open</code></td>
<td>
<p>A boolean indicating whether to connect the last location
back to the first location to produce a closed line.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_repends">repEnds</code></td>
<td>
<p>A logical indicating whether to replicate the
first and last control points (so that the X-spline starts and
ends at the first and last control points).  Can also be the
special value <code>"extend"</code>, in which case the first and last
control segments are extended (and the resulting X-spline is
a little curvier at the ends).</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_angle">angle</code></td>
<td>
<p>Either <code>"perp"</code> or a numeric value describing a
fixed orientation for the line width.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_lineend">lineend</code></td>
<td>
<p>The line ending style; one of <code>"round"</code>,
<code>"mitre"</code>, <code>"butt"</code>, or <code>"square"</code>.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_mitrelimit">mitrelimit</code></td>
<td>
<p>A numeric that controls when a mitre join is
converted to a bevel join or a mitre ending
is converted to a square ending.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_render">render</code></td>
<td>
<p>A function that is used to render the outline of the path
that is generated for the variable-width line.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_gp">gp</code></td>
<td>
<p>A set of graphical parameters; see <code><a href="grid.html#topic+gpar">gpar</a></code>.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_name">name</code></td>
<td>
<p>A name for the grob generated for the variable-width
line.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_debug">debug</code></td>
<td>
<p>A logical indicating whether to produce graphical
debugging output.</p>
</td></tr>
<tr><td><code id="grid.vwXspline_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code>vwXsplineGrob</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code> for more about the behaviour of X-splines.
</p>


<h3>Value</h3>

<p><code>grid.vwXspline</code> is used for its side-effect of drawing a
variable-width
line;  <code>vwXsplineGrob</code> returns a <code>"vwXsplineGrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .4, .6, .8)
y &lt;- c(-.05, .05, -.05, .05)
w &lt;- unit(c(2, 4, 6, 8), "mm")
grid.vwXspline(x, y + .8, w)
grid.vwXspline(x, y + .6, w,
               angle=45)
grid.vwXspline(x, y + .4, w,
               lineend="round")
grid.vwXspline(x, y + .2, w,
               gp=gpar(col="black"), debug=TRUE)
</code></pre>

<hr>
<h2 id='outline'>
Calculate outline
</h2><span id='topic+outline'></span><span id='topic+outline.vwlineGrob'></span><span id='topic+outline.offsetXsplineGrob'></span><span id='topic+outline.offsetBezierGrob'></span>

<h3>Description</h3>

<p>Calculate outline of a variable-width line, possibly without simplication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outline(x, simplify=TRUE, ...)
## S3 method for class 'vwlineGrob'
outline(x, simplify=TRUE, ...) 
## S3 method for class 'offsetXsplineGrob'
outline(x, simplify=TRUE, ...) 
## S3 method for class 'offsetBezierGrob'
outline(x, simplify=TRUE, ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="outline_+3A_x">x</code></td>
<td>

<p>A variable-width line grob.
</p>
</td></tr>
<tr><td><code id="outline_+3A_simplify">simplify</code></td>
<td>

<p>Whether to simplify the outline (using <code>polyclip::polysimplify</code>
to collapse self-intersections).
</p>
</td></tr>
<tr><td><code id="outline_+3A_...">...</code></td>
<td>

<p>Possible additional arguments for methods.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with components <code>x</code> and <code>y</code>
describing the complete outline of the variable-width line
(possibly unsimplified).
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>
<code><a href="#topic+grid.offsetBezier">grid.offsetBezier</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .8, .8, .2)
y &lt;- c(.2, .8, .2, .8)
w &lt;- c(0, .1, .1, 0)
vwlg &lt;- vwlineGrob(x, y, w, gp=gpar(col="grey", lwd=10, fill=NA))
grid.draw(vwlg)
o &lt;- outline(vwlg, simplify=FALSE)
grid.polygon(o$x, o$y, default.units="in")

grid.newpage()
oxsg &lt;- offsetXsplineGrob(x, y, w, gp=gpar(col="grey", lwd=10, fill=NA))
grid.draw(oxsg)
o &lt;- outline(oxsg, simplify=FALSE)
grid.polygon(o$x, o$y, default.units="in")
</code></pre>

<hr>
<h2 id='vwPath'>
Functions to render variable-width line
</h2><span id='topic+vwPath'></span><span id='topic+vwPolygon'></span>

<h3>Description</h3>

<p>Functions that can be used to render a variable-width line.
All variable-width-line functions generate a polygon or path
to represent the variable-width line and they have a
<code>render</code> argument that specifies the rendering function.
These two functions provide the default rendering behaviour.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vwPath(rule = "winding")
vwPolygon(x, y, id.lengths, gp, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vwPath_+3A_rule">rule</code></td>
<td>

<p>The fill rule for rendering a variable-width line as a path.
</p>
</td></tr>
<tr><td><code id="vwPath_+3A_x">x</code>, <code id="vwPath_+3A_y">y</code>, <code id="vwPath_+3A_id.lengths">id.lengths</code>, <code id="vwPath_+3A_gp">gp</code>, <code id="vwPath_+3A_name">name</code></td>
<td>
<p>Arguments provided by the calling
function when rendering occurs.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are not called directly;  they are provided as
arguments to variable-width-line functions (which then call them
internally to render a variable-width line).
</p>


<h3>Value</h3>

<p>These functions are used for their side-effect, which is to draw
on the current graphics device.
</p>


<h3>Author(s)</h3>

<p>Paul Murrel
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+grid.curve">grid.curve</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>  
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .4, .2, .4)
y &lt;- c(.2, .4, .4, .2)
grid.vwXspline(x, y, c(0, .1, .1, 0))
x &lt;- c(.2, .4, .2, .4) + .4
y &lt;- c(.2, .4, .4, .2)
grid.vwXspline(x, y, c(0, .1, .1, 0), render=vwPath("evenodd"))
x &lt;- c(.2, .4, .2, .4) 
y &lt;- c(.2, .4, .4, .2) + .4
grid.brushXspline(verticalBrush, x, y, c(0, .02, .02, 0))
x &lt;- c(.2, .4, .2, .4) + .4
y &lt;- c(.2, .4, .4, .2) + .4
grid.brushXspline(verticalBrush, x, y, c(0, .02, .02, 0),
                  render=vwPolygon)
</code></pre>

<hr>
<h2 id='widthSpec'>
Specify the width of a variable-width line
</h2><span id='topic+widthSpec'></span><span id='topic+widthSpline'></span><span id='topic+BezierWidth'></span>

<h3>Description</h3>

<p>Specify the width of a variable-width line.  The
<code>widthSpline</code> and <code>BezierWidth</code> functions are for use with
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code> or <code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code> or
<code><a href="#topic+grid.offsetBezier">grid.offsetBezier</a></code>.
The <code>widthSpec</code> function is for use with
<code><a href="#topic+grid.vwline">grid.vwline</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>widthSpec(x, default.units = "npc")
widthSpline(w=unit(1, "cm"), default.units="in", d=NULL, shape=-1, rep=FALSE)
BezierWidth(w=unit(1, "cm"), default.units="in", d=NULL, rep=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="widthSpec_+3A_x">x</code></td>
<td>

<p>A numeric vector or a unit specifying the width,
or a list of such with components
<code>left</code> and <code>right</code> specifying the width to either side.
</p>
</td></tr>
<tr><td><code id="widthSpec_+3A_default.units">default.units</code></td>
<td>

<p>The units to use if <code>x</code> or <code>w</code> is specified as a
numeric vector.
</p>
</td></tr>
<tr><td><code id="widthSpec_+3A_w">w</code></td>
<td>
<p>A numeric vector or a unit specifying the width.</p>
</td></tr>
<tr><td><code id="widthSpec_+3A_d">d</code></td>
<td>
<p>A numeric vector or a unit specifying the distance along
the line for each width value.</p>
</td></tr>
<tr><td><code id="widthSpec_+3A_shape">shape</code></td>
<td>
<p>The shape parameter for the width spline.</p>
</td></tr>
<tr><td><code id="widthSpec_+3A_rep">rep</code></td>
<td>
<p>A logical indicating whether to repeat the widths
along the full length of the line.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All variable-width functions accept width as just a numeric vector
or a unit; the former is automatically converted to the latter.
</p>
<p>For <code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code> and <code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>, each width
is associated with an x/y location on the main curve.
The <code><a href="#topic+grid.vwline">grid.vwline</a></code> function is similar except that,
via <code>widthSpec</code>, it
also allows the width to be different on either side of the
main curve.
</p>
<p>For <code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code> and <code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>,
the width is independent of the x/y locations that specify the main
curve.  The width is itself a spline, with each width associated
with a distance along the length of the main curve.  By default,
the specified widths are spaced evenly along the main curve, but
the <code>widthSpec</code> function allows fine control over the
spacing of the widths.
</p>
<p>For <code>BezierWidth</code>, <code>w</code> must contain 4 (or 7 or 10)
values to provide an appropriate number of control points, although
a single value is automatically replicated four times.
If <code>d</code> is specified, the same rules apply.
</p>


<h3>Value</h3>

<p><code>widthSpec</code> creates a <code>"widthSpec"</code> object.
</p>
<p><code>widthSpline</code> creates a <code>"widthSpline"</code> object.
</p>
<p><code>BezierWidth</code> creates a <code>"BezierWidth"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="grid.html#topic+grid.xspline">grid.xspline</a></code>,
<code><a href="grid.html#topic+grid.curve">grid.curve</a></code>,
<code><a href="#topic+grid.vwline">grid.vwline</a></code>,
<code><a href="#topic+grid.vwcurve">grid.vwcurve</a></code>,
<code><a href="#topic+grid.brushXspline">grid.brushXspline</a></code>,
<code><a href="#topic+grid.vwXspline">grid.vwXspline</a></code>,
<code><a href="#topic+grid.offsetXspline">grid.offsetXspline</a></code>,
<code><a href="#topic+grid.offsetBezier">grid.offsetBezier</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid.newpage()
x &lt;- c(.2, .4, .6, .8)
y &lt;- c(-.05, .05, -.05, .05)
grid.vwcurve(x, y + .8, w=c(0, .1, 0, .1))
grid.lines(x, y + .8, gp=gpar(col="white"))
grid.vwline(x, y + .6, w=widthSpec(list(left=c(0, .1, 0, .1),
                                        right=c(.1, 0, .1, 0))))
grid.lines(x, y + .6, gp=gpar(col="white"))
grid.brushXspline(verticalBrush, x, y + .4,
                  w=widthSpline(c(0, .1, 0, .1), "npc", shape=1))
grid.xspline(x, y + .4, shape=1, gp=gpar(col="white"))
grid.offsetXspline(x, y + .2, 
                  w=widthSpline(c(0, .1, 0, .1, 0), "npc",
                                d=0:4/8, shape=1, rep=TRUE))
grid.xspline(x, y + .2, shape=1, gp=gpar(col="white"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

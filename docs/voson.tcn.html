<!DOCTYPE html><html lang="en"><head><title>Help for package voson.tcn</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {voson.tcn}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#voson.tcn-package'><p>voson.tcn: Twitter Conversation Networks and Analysis</p></a></li>
<li><a href='#tcn_counts'><p>Get conversation tweet counts</p></a></li>
<li><a href='#tcn_network'><p>Generate network from conversation tweets</p></a></li>
<li><a href='#tcn_threads'><p>Get threaded conversation tweets</p></a></li>
<li><a href='#tcn_token'><p>Get a twitter API access token</p></a></li>
<li><a href='#tcn_tweets'><p>Get tweets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Twitter Conversation Networks and Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Collects tweets and metadata for threaded conversations and
    generates networks.</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, jsonlite, openssl, progress, rlang, stringr,
tibble, tidyr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bryan Gertzel &lt;bryan.gertzel@anu.edu.au&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/vosonlab/voson.tcn">https://github.com/vosonlab/voson.tcn</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vosonlab/voson.tcn/issues">https://github.com/vosonlab/voson.tcn/issues</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-30 12:14:21 UTC; viole</td>
</tr>
<tr>
<td>Author:</td>
<td>Bryan Gertzel [aut, cre],
  Robert Ackland <a href="https://orcid.org/0000-0002-0008-1766"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Francisca Borquez [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-30 13:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='voson.tcn-package'>voson.tcn: Twitter Conversation Networks and Analysis</h2><span id='topic+voson.tcn-package'></span><span id='topic+_PACKAGE'></span><span id='topic+voson.tcn'></span>

<h3>Description</h3>

<p>Collects tweets and metadata for threaded conversations and generates networks.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Bryan Gertzel <a href="mailto:bryan.gertzel@anu.edu.au">bryan.gertzel@anu.edu.au</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Robert Ackland <a href="mailto:robert.ackland@anu.edu.au">robert.ackland@anu.edu.au</a> (<a href="https://orcid.org/0000-0002-0008-1766">ORCID</a>) [contributor]
</p>
</li>
<li><p> Francisca Borquez <a href="mailto:francisca.borquez@anu.edu.au">francisca.borquez@anu.edu.au</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/vosonlab/voson.tcn">https://github.com/vosonlab/voson.tcn</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/vosonlab/voson.tcn/issues">https://github.com/vosonlab/voson.tcn/issues</a>
</p>
</li></ul>


<hr>
<h2 id='tcn_counts'>Get conversation tweet counts</h2><span id='topic+tcn_counts'></span>

<h3>Description</h3>

<p>Return the tweet count per day, hour or minute for conversation ids.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tcn_counts(
  ids = NULL,
  token = NULL,
  endpoint = "recent",
  start_time = NULL,
  end_time = NULL,
  granularity = "day",
  retry_on_limit = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tcn_counts_+3A_ids">ids</code></td>
<td>
<p>List. Conversation ids.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_token">token</code></td>
<td>
<p>List. Twitter API tokens.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_endpoint">endpoint</code></td>
<td>
<p>Character string. Twitter API v2 search endpoint. Can be either &quot;recent&quot; for the last 7 days or &quot;all&quot;
if users app has access to historical &quot;full-archive&quot; tweets. Default is &quot;recent&quot;.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_start_time">start_time</code></td>
<td>
<p>Character string. Earliest tweet timestamp to return (UTC in ISO 8601 format). If NULL API will
default to 30 days before end_time. Default is NULL.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_end_time">end_time</code></td>
<td>
<p>Character string. Latest tweet timestamp to return (UTC in ISO 8601 format). If NULL API will default
to now - 30 seconds. Default is NULL.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_granularity">granularity</code></td>
<td>
<p>Character string. Granularity or period for tweet counts. Can be &quot;day&quot;, &quot;minute&quot; or &quot;hour&quot;.
Default is &quot;day&quot;.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_retry_on_limit">retry_on_limit</code></td>
<td>
<p>Logical. When the API v2 rate-limit has been reached wait for reset time. Default
is TRUE.</p>
</td></tr>
<tr><td><code id="tcn_counts_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Output additional information. Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of conversation ids and counts.
</p>


<h3>Note</h3>

<p>A rate-limit of 300 requests per 15 minute window applies. If a conversation count request contains more than
31 days-worth of results it will use more than one request as API results will be paginated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get tweet count for conversation thread over approximately 7 days
counts &lt;-
  tcn_counts(
    ids = c("xxxxxx", "xxxxxx"),
    token = token,
    endpoint = "all",
    start_time = "2020-09-30T01:00:00Z",
    end_time = "2020-10-07T01:00:00Z",
    granularity = "day"
  )

# total tweets per conversation id for period
counts$counts |&gt; dplyr::count(conversation_id, wt = tweet_count)

## End(Not run)

</code></pre>

<hr>
<h2 id='tcn_network'>Generate network from conversation tweets</h2><span id='topic+tcn_network'></span>

<h3>Description</h3>

<p>Creates the nodes and edges for a Twitter conversation network. An &quot;activity&quot; type network with tweets as nodes, or
an &quot;actor&quot; type with users as nodes can be created.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tcn_network(data = NULL, type = "actor")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tcn_network_+3A_data">data</code></td>
<td>
<p>Named list. Dataframes of threaded conversation tweets and users collected by get_threads function.</p>
</td></tr>
<tr><td><code id="tcn_network_+3A_type">type</code></td>
<td>
<p>Character string. Type of network to generate, either &quot;actor&quot; or &quot;activity&quot;. Default is &quot;actor&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named list of dataframes for network nodes and edges.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# generate twitter conversation network
network &lt;- tcn_network(tweets, "activity")

# network nodes and edges
network$nodes
network$edges

## End(Not run)

</code></pre>

<hr>
<h2 id='tcn_threads'>Get threaded conversation tweets</h2><span id='topic+tcn_threads'></span>

<h3>Description</h3>

<p>Collects tweets that share the same Twitter conversation ID as supplied tweets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tcn_threads(
  tweet_ids = NULL,
  token = NULL,
  endpoint = "recent",
  start_time = NULL,
  end_time = NULL,
  annotations = FALSE,
  max_results = NULL,
  max_total = NULL,
  retry_on_limit = TRUE,
  skip_list = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tcn_threads_+3A_tweet_ids">tweet_ids</code></td>
<td>
<p>List. Tweet ids of any tweet that are part of the threaded conversations of interest. Also accepts a
list of tweet URLs or a mixed list.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_token">token</code></td>
<td>
<p>List. Twitter API tokens.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_endpoint">endpoint</code></td>
<td>
<p>Character string. Twitter API v2 search endpoint. Can be either &quot;recent&quot; for the last 7 days or &quot;all&quot;
if users app has access to historical &quot;full-archive&quot; tweets. Default is &quot;recent&quot;.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_start_time">start_time</code></td>
<td>
<p>Character string. Earliest tweet timestamp to return (UTC in ISO 8601 format). If NULL API will
default to 30 days before end_time. Default is NULL.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_end_time">end_time</code></td>
<td>
<p>Character string. Latest tweet timestamp to return (UTC in ISO 8601 format). If NULL API will default
to now - 30 seconds. Default is NULL.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_annotations">annotations</code></td>
<td>
<p>Logical. Include tweet context annotation field in results. If TRUE Twitter imposes a max_results
limit of 100. Default is FALSE.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_max_results">max_results</code></td>
<td>
<p>Numeric. Set maximum number of tweets to collect per API v2 request. Up to 100 tweets for standard
or 500 tweets for academic projects can be collected per request. Default is NULL to set maximum allowed.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_max_total">max_total</code></td>
<td>
<p>Numeric. Set maximum total number of tweets to collect as a cap limit precaution. Will only be
accurate to within one search request count (being max_results, or 100 for standard or 500 tweets for academic
project). This will not be ideal for most cases as an API search generally retrieves the most recent tweets first
(reverse-chronological order), therefore the beginning part of the last conversation thread may be absent. Default
is NULL.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_retry_on_limit">retry_on_limit</code></td>
<td>
<p>Logical. When the API v2 rate-limit has been reached wait for reset time. Default
is TRUE.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_skip_list">skip_list</code></td>
<td>
<p>Character vector. List of tweet conversation IDs to skip searching if found.</p>
</td></tr>
<tr><td><code id="tcn_threads_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Output additional information. Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list. Dataframes of tweets, users, errors and request metadata.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get twitter conversation threads by tweet ids or urls
tweet_ids &lt;- c("xxxxxxxx",
               "https://twitter.com/xxxxxxxx/status/xxxxxxxx")
tweets &lt;- tcn_threads(tweet_ids, token, endpoint = "recent")

# get twitter conversation threads by tweet ids or urls using historical endpoint
# starting from May 01, 2021.
tweet_ids &lt;- c("xxxxxxxx",
               "https://twitter.com/xxxxxxxx/status/xxxxxxxx")
tweets &lt;- tcn_threads(tweet_ids,
                      token = token,
                      endpoint = "all",
                      start_time = "2021-05-01T00:00:00Z")

## End(Not run)

</code></pre>

<hr>
<h2 id='tcn_token'>Get a twitter API access token</h2><span id='topic+tcn_token'></span>

<h3>Description</h3>

<p>Assigns a bearer token to the token object or retrieves a bearer token from the Twitter API using a Twitter apps
consumer keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tcn_token(bearer = NULL, consumer_key = NULL, consumer_secret = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tcn_token_+3A_bearer">bearer</code></td>
<td>
<p>Character string. App bearer token.</p>
</td></tr>
<tr><td><code id="tcn_token_+3A_consumer_key">consumer_key</code></td>
<td>
<p>Character string. App consumer key.</p>
</td></tr>
<tr><td><code id="tcn_token_+3A_consumer_secret">consumer_secret</code></td>
<td>
<p>Character string. App consumer secret.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named list containing the token.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# assign bearer token
token &lt;- tcn_token(bearer = "xxxxxxxx")

# retrieve twitter app bearer token
token &lt;- tcn_token(consumer_key = "xxxxxxxx",
                   consumer_secret = "xxxxxxxx")

## End(Not run)

</code></pre>

<hr>
<h2 id='tcn_tweets'>Get tweets</h2><span id='topic+tcn_tweets'></span>

<h3>Description</h3>

<p>Collects tweets for a list of tweet ids.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tcn_tweets(
  tweet_ids = NULL,
  token = NULL,
  referenced_tweets = FALSE,
  retry_on_limit = TRUE,
  clean = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tcn_tweets_+3A_tweet_ids">tweet_ids</code></td>
<td>
<p>List. Tweet ids or tweet URLs.</p>
</td></tr>
<tr><td><code id="tcn_tweets_+3A_token">token</code></td>
<td>
<p>List. Twitter API tokens.</p>
</td></tr>
<tr><td><code id="tcn_tweets_+3A_referenced_tweets">referenced_tweets</code></td>
<td>
<p>Logical. Also retrieve tweets referenced by requested tweets. Default is FALSE.</p>
</td></tr>
<tr><td><code id="tcn_tweets_+3A_retry_on_limit">retry_on_limit</code></td>
<td>
<p>Logical. When the API v2 rate-limit has been reached wait for reset time. Default
is TRUE.</p>
</td></tr>
<tr><td><code id="tcn_tweets_+3A_clean">clean</code></td>
<td>
<p>Logical. Clean results.</p>
</td></tr>
<tr><td><code id="tcn_tweets_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Output additional information. Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list. Dataframes of tweets, users, errors and request metadata.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# get twitter conversation threads by tweet ids or urls
tweet_ids &lt;- c("xxxxxxxx",
               "https://twitter.com/xxxxxxxx/status/xxxxxxxx")
tweets &lt;- tcn_tweets(tweet_ids, token)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package tablesgg</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tablesgg}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#[.textTable'><p>Extract a Subset of a <code>texttable</code> Object</p></a></li>
<li><a href='#acol'><p>Column Numbers Within the Augmented Row-Column Grid for a Table</p></a></li>
<li><a href='#add_refmark'><p>Add a Reference Mark to a Character Vector or Matrix</p></a></li>
<li><a href='#addBlock'><p>Define a New Block of Cells in a Table</p></a></li>
<li><a href='#addHvrule'><p>Add a Horizontal or Vertical Rule (Hvrule) to a Table</p></a></li>
<li><a href='#addRefmark'><p>Add a Reference Mark to Entries in a Table</p></a></li>
<li><a href='#adim'><p>Dimensions of the Augmented Row-Column Grid for a Table</p></a></li>
<li><a href='#adjacent_blocks'><p>Identify Adjacent Blocks of Table Cells</p></a></li>
<li><a href='#angle_adj'><p>Horizontal and Vertical Dimensions of a Rectangle after Rotation</p></a></li>
<li><a href='#apply_scale'><p>Apply a Scale Factor to Table Elements</p></a></li>
<li><a href='#apply_style'><p>Apply a Style to Table Elements</p></a></li>
<li><a href='#arow'><p>Row Numbers Within the Augmented Row-Column Grid for a Table</p></a></li>
<li><a href='#as.dfObj'><p>Promote a Data Frame to Another Object Class</p></a></li>
<li><a href='#as.prBlocks'><p>Promote a Data Frame to a <code>prblocks</code> Object</p></a></li>
<li><a href='#as.prEntries'><p>Promote a Data Frame to a <code>prentries</code> Object</p></a></li>
<li><a href='#as.prHvrules'><p>Promote a Data Frame to a <code>prhvrules</code> Object</p></a></li>
<li><a href='#as.tblBlocks'><p>Promote a Data Frame to a <code>tblblocks</code> Object</p></a></li>
<li><a href='#as.tblEntries'><p>Promote a Data Frame to a <code>tblentries</code> Object</p></a></li>
<li><a href='#blocks'><p>Extract the <code>prblocks</code> Object from a Plot-Ready or Plotted Table</p></a></li>
<li><a href='#blocks&lt;-'><p>Update the Blocks of a Plot-Ready or Plotted Table</p></a></li>
<li><a href='#calc_rcsize'><p>Constrained Display Sizes of Each Table Row, Column and Entry</p></a></li>
<li><a href='#coord_justif'><p>Calculate X, y Positions and H|vjust Values for Entries</p></a></li>
<li><a href='#df_from_spec'><p>Create a Data Frame from a Specification</p></a></li>
<li><a href='#dfSpecs'><p>Specifications for Fields Used in Certain Object Classes</p></a></li>
<li><a href='#element_block'><p>Specify Visual Properties for Table Blocks</p></a></li>
<li><a href='#element_entry'><p>Specify Visual Properties for Table Entries and their Cells</p></a></li>
<li><a href='#element_hvrule'><p>Specify Visual Properties for Table Rules</p></a></li>
<li><a href='#element_refmark'><p>Specify a Reference Mark that can be Added to Table Entries</p></a></li>
<li><a href='#elements'><p>Extract Table Elements from a Plotted Table</p></a></li>
<li><a href='#entries'><p>Extract the <code>prentries</code> Object from a Plot-Ready or Plotted Table</p></a></li>
<li><a href='#entries_by_block'><p>Find the Entries that are Contained Within a Set of Table Blocks</p></a></li>
<li><a href='#entries&lt;-'><p>Update the Table Entries of a Plot-Ready or Plotted Table</p></a></li>
<li><a href='#entrySize_mm'><p>Calculate the Sizes of Table Entries, in Mm</p></a></li>
<li><a href='#eval_conditions'><p>Evaluate a Set of Logical Conditions Within a Data Frame</p></a></li>
<li><a href='#fill_NA_idx'><p>Indices to Impute NA Elements of a Vector by LOCF</p></a></li>
<li><a href='#format_xtable'><p>Format Entries in an <code>xtable</code> into Character Strings</p></a></li>
<li><a href='#grSpecs'><p>Specifications for Graphical Properties for an Element Type</p></a></li>
<li><a href='#headerRuns'><p>Runs of Repeated Values in a Header Matrix</p></a></li>
<li><a href='#hvrules'><p>Extract the <code>prhvrules</code> Object from a Plot-Ready or Plotted Table</p></a></li>
<li><a href='#hvrules&lt;-'><p>Update the Hvrules of a Plot-Ready or Plotted Table</p></a></li>
<li><a href='#ids'><p>Get the Identifier Strings for Parts or Elements of a Table</p></a></li>
<li><a href='#iris2'><p>A Reshaped Version of Anderson's Iris Data</p></a></li>
<li><a href='#iris2_tab'><p>Table of Summary Statistics for Anderson's Iris Data</p></a></li>
<li><a href='#make_header_entries'><p>Convert a Matrix of Headers to Table Entries, with Merging of Runs</p></a></li>
<li><a href='#make_rowgroups'><p>Group Rows of a Table into Sets of Fixed Size</p></a></li>
<li><a href='#mtcars_xtab'><p>Table of Data from Motor Trend Magazine</p></a></li>
<li><a href='#notANumber'><p>Identify Strings that Cannot be Interpreted as Numbers</p></a></li>
<li><a href='#paste_text'><p>Paste Strings that may Include <code>plotmath</code> or Markdown</p></a></li>
<li><a href='#plot.pltdTable'><p>Display a <code>pltdtable</code> Object on a Graphics Device</p></a></li>
<li><a href='#plot.prEntries'><p>A Plot Method for <code>prentries</code> Objects</p></a></li>
<li><a href='#plot.prTable'><p>A Plot Method for <code>prtable</code> Objects</p></a></li>
<li><a href='#plot.tabular'><p>A Plot Method for <code>tabular</code> Objects</p></a></li>
<li><a href='#plot.tblEntries'><p>A Plot Method for <code>tblentries</code> Objects</p></a></li>
<li><a href='#plot.textTable'><p>A Plot Method for <code>texttable</code> Objects</p></a></li>
<li><a href='#pltdSize'><p>Width and Height of a <code>pltdtable</code> Object</p></a></li>
<li><a href='#prBlocks'><p>Assign Graphical Properties to Table Blocks</p></a></li>
<li><a href='#prefix_text'><p>Add or Remove the Prefix Associated with <code>textspec</code> Values</p></a></li>
<li><a href='#prEntries'><p>Assign Graphical Properties to Table Entries</p></a></li>
<li><a href='#prHvrules'><p>Create Hvrules and Assign Them Graphical Properties</p></a></li>
<li><a href='#print.pltdTable'><p>Print (Draw) a <code>pltdtable</code> Object</p></a></li>
<li><a href='#print.summary.pltdTable'><p>Print the Dimensions and Display Options of a Plotted Table</p></a></li>
<li><a href='#print.summary.textTable'><p>Print the Dimensions of a Table and Its Parts</p></a></li>
<li><a href='#props_mod'><p>Update Graphical Properties for Selected Table Elements</p></a></li>
<li><a href='#props&lt;-'><p>Update Graphical Properties for Selected Table Elements</p></a></li>
<li><a href='#propsa&lt;-'><p>Update Graphical Properties for Selected Table Elements</p></a></li>
<li><a href='#propsd&lt;-'><p>Update Graphical Properties for Selected Table Elements</p></a></li>
<li><a href='#prTable'><p>Create or Update a Fully Styled Table Ready for Plotting</p></a></li>
<li><a href='#prTable.pltdTable'><p>Extract/Update a Plot-Ready Table from a Plotted Table</p></a></li>
<li><a href='#prTable.prEntries'><p>Create a Plot-Ready Table from Plot-Ready Entry, Block, and Hvrule Objects</p></a></li>
<li><a href='#rowhead_inside'><p>Move the Outermost Layer of Row Headers Inside a Table</p></a></li>
<li><a href='#sci_fmt_pm'><p>Convert ASCII Scientific Notation into <code>plotmath</code> Form</p></a></li>
<li><a href='#spec_from_text'><p><code>textspec</code> Values Based on String Prefixes</p></a></li>
<li><a href='#styleObj'><p>Create a Style Object</p></a></li>
<li><a href='#styles_pkg'><p>Built-In Styles for Table Elements</p></a></li>
<li><a href='#summary.pltdTable'><p>Summarize the Dimensions and Options of a Plotted Table</p></a></li>
<li><a href='#summary.textTable'><p>Summarize the Dimensions of a Table and Its Parts</p></a></li>
<li><a href='#tablesgg-package'><p>Presentation-Quality Tables, Displayed Using <span class="pkg">ggplot2</span></p></a></li>
<li><a href='#tablesggOpt'><p>Get or Reset Package Options</p></a></li>
<li><a href='#tablesggSetOpt'><p>Set the Values of Package Options</p></a></li>
<li><a href='#tblBlocks'><p>Define Blocks of Cells that Reflect the Logical Structure of a Table</p></a></li>
<li><a href='#tblEntries'><p>Assemble Information About Each Entry in a Table into a Data Frame</p></a></li>
<li><a href='#tblHvrules'><p>Create Horizontal and Vertical Rules for a Table</p></a></li>
<li><a href='#tblParts'><p>Extract Dimensions of the Various Parts of a Table</p></a></li>
<li><a href='#textTable'><p>Create a Structure Representing a 2D Table</p></a></li>
<li><a href='#textTable.data.frame'><p>Create a <code>texttable</code> as a Simple Listing of a Data Frame</p></a></li>
<li><a href='#textTable.default'><p>Create a <code>texttable</code> Object from a Suitable List</p></a></li>
<li><a href='#textTable.ftable'><p>Create a <code>texttable</code> from an <code>ftable</code></p></a></li>
<li><a href='#textTable.matrix'><p>Create a <code>texttable</code> from a Matrix</p></a></li>
<li><a href='#textTable.table'><p>Create a <code>texttable</code> from a <code>table</code> or <code>xtabs</code> Object</p></a></li>
<li><a href='#textTable.tabular'><p>Create a <code>texttable</code> from a <code>tabular</code> Object</p></a></li>
<li><a href='#textTable.tblEntries'><p>Reconstruct a <code>texttable</code> Object from a <code>tblentries</code> Object</p></a></li>
<li><a href='#textTable.xtable'><p>Create a <code>texttable</code> from an <code>xtable</code> Object</p></a></li>
<li><a href='#textTable.xtableList'><p>Create a <code>texttable</code> from an <code>xtablelist</code> Object</p></a></li>
<li><a href='#tli_xtab'><p>Table of Test Scores and Demographics for 20 Students</p></a></li>
<li><a href='#undo_rowhead_inside'><p>Reverse the Effect of <code>rowhead_inside</code></p></a></li>
<li><a href='#update.pltdTable'><p>Update a <code>pltdtable</code> (Plotted Table) Object</p></a></li>
<li><a href='#update.prObj'><p>Update Style or Scale for Plot-Ready Table Elements</p></a></li>
<li><a href='#update.prTable'><p>Update a <code>prtable</code> (Plot-Ready Table) Object</p></a></li>
<li><a href='#update.textTable'><p>Update a <code>texttable</code> Object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.9-1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-26</td>
</tr>
<tr>
<td>Title:</td>
<td>Presentation-Quality Tables, Displayed Using 'ggplot2'</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Raubertas [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Raubertas &lt;rrprf@emvt.net&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.4.0), tables, graphics, grDevices, stats, tools,
utils, grid</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggtext, gridtext, quadprog, xtable, knitr, rmarkdown</td>
</tr>
<tr>
<td>Description:</td>
<td>Presentation-quality tables are displayed as plots on an R 
  graphics device.  Although there are other packages that format tables 
  for display, this package is unique in combining two features: (a) It is 
  aware of the logical structure of the table being presented, and makes 
  use of that for automatic layout and styling of the table.  This avoids 
  the need for most manual adjustments to achieve an attractive result. 
  (b) It displays tables using 'ggplot2' graphics.  Therefore a table can 
  be presented anywhere a graph could be, with no more effort.  External 
  software such as LaTeX or HTML or their viewers is not required.  The 
  package provides a full set of tools to control the style and appearance 
  of tables, including titles, footnotes and reference marks, horizontal 
  and vertical rules, and spacing of rows and columns.  Methods are included 
  to display matrices; data frames; tables created by R's ftable(), table(), 
  and xtabs() functions; and tables created by the 'tables' and 'xtable' 
  packages.  Methods can be added to display other table-like objects.  A 
  vignette is included that illustrates usage and options available in the 
  package.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rrprf/tablesgg">https://github.com/rrprf/tablesgg</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-26 20:49:43 UTC; rfr</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-27 01:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+5B.textTable'>Extract a Subset of a <code>texttable</code> Object </h2><span id='topic++5B.textTable'></span>

<h3>Description</h3>

<p>Extract a subset of a <code>textTable</code> object, creating a new table with
fewer and/or rearranged rows and columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'textTable'
x[i, j, drop=FALSE]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B.textTable_+3A_x">x</code></td>
<td>
<p>An object of S3 class <code>textTable</code>, representing a 2D table.
</p>
</td></tr>
<tr><td><code id="+2B5B.textTable_+3A_i">i</code>, <code id="+2B5B.textTable_+3A_j">j</code></td>
<td>
<p>Logical or numeric indexing arguments used as subscripts with respect to
the augmented row-column grid of the table.  See DETAILS.
</p>
</td></tr>
<tr><td><code id="+2B5B.textTable_+3A_drop">drop</code></td>
<td>
<p>Ignored (always treated as FALSE).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts, deletes, or rearranges subsets of the rows and
columns of a table.  It is similar to subsetting an ordinary matrix, but
with restrictions required to ensure that the resulting object is still a
valid <code>textTable</code>:
</p>
<p>1.  Indexing is with respect to the augmented row-column grid of the
table, in which all parts of the table (body, headers, and annotation) are
included.  See <code>?textTable</code> for a description of table parts, and
<code>?adim</code> for a description of the augmented grid.  The <code>summary</code>
method for a <code>textTable</code> shows the dimensions of each part.
</p>
<p>2.  The first index argument, <code>i</code>, cannot itself be a matrix.
</p>
<p>3.  Indexing cannot be used to move rows or columns between different
parts of the table (e.g. between body and headers, or between headers and
annotation).
</p>
<p>Helper functions <code>arow</code> and <code>acol</code> can be used to get the
augemented row and column numbers spanned by different table parts.  See
the examples.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>textTable</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+textTable">textTable</a></code>, <code><a href="#topic+adim">adim</a></code>, <code><a href="#topic+arow">arow</a></code>,
<code><a href="#topic+acol">acol</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab)
plot(ttbl)

# Remove the first column header row ("Flower part"), and reverse the 
# order of the "Sepal" and "Petal" sets of columns:
subttbl &lt;- ttbl[-1, c(1,2,5,6,3,4)]
plot(subttbl)

# Use helper functions 'arow', 'acol' to specify indices based on 
# table structure:
i &lt;- arow(ttbl, "colhead")[1]  # row number of first column header row
j1 &lt;- acol(ttbl, "rowhead")    # column numbers for row header
j2 &lt;- acol(ttbl, "colhead")    # column numbers for column header
subttbl2 &lt;- ttbl[-i, c(j1, j2[c(3,4,1,2)])]
identical(subttbl, subttbl2)
  </code></pre>

<hr>
<h2 id='acol'>Column Numbers Within the Augmented Row-Column Grid for a Table </h2><span id='topic+acol'></span>

<h3>Description</h3>

<p>Return the column numbers associated with a specified table part or
element, or with a set of column header values, within the augmented
row-column grid of a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acol(x, id=NULL, hpath=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acol_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> or a plotted table (<code>pltdTable</code>) object.
</p>
</td></tr>
<tr><td><code id="acol_+3A_id">id</code></td>
<td>
<p>Character scalar containing the ID of a single table part, block, entry,
or hvrule.  (If <code>x</code> is a <code>textTable</code>, only the ID of a table
part is allowed.)
</p>
</td></tr>
<tr><td><code id="acol_+3A_hpath">hpath</code></td>
<td>
<p>Character vector with length between 0 and the number of layers in the
column header.  The <code>i</code>-th element should be one of the values in the
<code>i</code>-th header row, or NA.  See DETAILS.  Only one of <code>id</code> and
<code>hpath</code> should be specified.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the documentation for <code>adim</code> for more information about the
augmented row-column grid of a table.
</p>
<p>Only one of arguments <code>id</code> and <code>hpath</code> should be specified.
<code>id</code> is searched for first among table parts (the only thing
available for a <code>textTable</code>), then blocks, entries, and hvrules, in
that order.  The search stops at the first match.  It is an error if
<code>id</code> is not found in any of these.
</p>
<p><code>hpath</code> is short for &quot;header path&quot;.  It is used to obtain column
numbers associated with specified combinations of values of the column
header variables.  Suppose there are <code>L</code> layers of column headers.
If the length of <code>hpath</code> is less than <code>L</code>, NA values are added
at the end to reach that length.  The function returns the intersection of
the column numbers for which the <code>i</code>-th outermost of the header
layers equals the <code>i</code>-th element of <code>hpath</code>.  An NA in
<code>hpath</code> is taken to match all values in the correponding layer of
column headers.  Thus, if <code>L == 4</code> and <code>hpath=c("a", NA, "c")</code>,
the function will return the column numbers for which the outermost column
header has a value of &quot;a&quot; _and_ the third outermost has a value of &quot;c&quot;.
If no column has the combination of values specified by <code>hpath</code> then
the returned vector will have length 0.
</p>
<p>Since <code>hpath</code> refers to values of column header variables, it cannot
be used to get column numbers associated with table annotation, or with
the row header.  (Use <code>id</code> instead.)
</p>


<h3>Value</h3>

<p>A numeric vector containing column numbers within the table's augmented
row-column grid.  The column numbers are those partially or completely
occupied by the cells associated with <code>id</code> or <code>hpath</code>.  They
will be increasing but not necessarily consecutive.
</p>
<p>The returned vector may have length 0 if <code>id</code> refers to a table part
or block that spans no columns, or if <code>hpath</code> matches no set of
column header values.
</p>
<p>Note that for a vertical hvrule (vrule), the &quot;column number&quot; is actually a
half-integer, bracketed by the table column numbers between which the
vrule runs.  For example, if the vrule runs between table columns 3 and 4,
the returned value will be <code>c(3.5)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+adim">adim</a></code> to get the dimensions of the augmented row-column grid;
<code><a href="#topic+arow">arow</a></code> for the corresponding operation on rows;
<code><a href="#topic+ids">ids</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title=c("Title 1", "2nd title"), foot="Foot")
plt &lt;- plot(ttbl)

acol(plt, id="title")  # block "title" spans all columns
acol(plt, id="body,4,2")  # single entry
# Remove the columns for "Petal" measurements (a value in column 
# header layer 2):
plot(ttbl[, -acol(ttbl, hpath=c(NA, "Petal"))])
# Remove the "Length" measurements (a value in column header layer 3):
plot(ttbl[, -acol(ttbl, hpath=c(NA, NA, "Length"))])
# Remove the "Length" measurements just for "Petal":
plot(ttbl[, -acol(ttbl, hpath=c(NA, "Petal", "Length"))])
  </code></pre>

<hr>
<h2 id='add_refmark'>Add a Reference Mark to a Character Vector or Matrix </h2><span id='topic+add_refmark'></span>

<h3>Description</h3>

<p>Utility function to add a reference mark to each element of a character
vector or matrix.  This is an internal function, not intended to be called
by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_refmark(text, textspec, mark, side, raise)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_refmark_+3A_text">text</code></td>
<td>
<p>Character vector or matrix of text strings to be marked.
</p>
</td></tr>
<tr><td><code id="add_refmark_+3A_textspec">textspec</code></td>
<td>
<p>Character vector or matrix, parallel to <code>text</code>, indicating whether
text already contains a <code>plotmath</code> expression (&quot;plotmath&quot;) or
markdown (&quot;markdown&quot;), or is plain text (&quot;plain&quot;).
</p>
</td></tr>
<tr><td><code id="add_refmark_+3A_mark">mark</code></td>
<td>
<p>Character string to be used as the reference mark.
</p>
</td></tr>
<tr><td><code id="add_refmark_+3A_side">side</code></td>
<td>
<p>On which side of the text should the reference mark be placed, &quot;before&quot; or
&quot;after&quot;.
</p>
</td></tr>
<tr><td><code id="add_refmark_+3A_raise">raise</code></td>
<td>
<p>Logical scalar.  If TRUE, the reference mark will be displayed as a
superscript, using <code>plotmath</code> notation.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>raise</code> is TRUE, every element in the returned text will contain
either plotmath or markdown notation.  If a text string was originally
&quot;plain&quot;, the default is to use markdown if the package option
<code>allowMarkdown</code> is TRUE, and plotmath otherwise.
</p>
<p>It is an error if a &quot;plain&quot; text string contains newline (<code>\n</code>)
characters but needs to be converted to plotmath to add a reference mark.
(<code>plotmath</code> ignores newline characters.)
</p>
<p>If <code>raise</code> is FALSE, the <code>textspec</code> value for each string is the
same as on input.
</p>


<h3>Value</h3>

<p>List with components <code>text</code> and <code>textspec</code>.  The first will be a
character vector or matrix like input <code>text</code>, updated to include the
reference mark in each string.
</p>
<p>Component <code>textspec</code> will be a character vector or matrix with the
same shape as <code>text</code>, and value &quot;plain&quot;, &quot;plotmath&quot;, or &quot;markdown&quot;,
according to the contents of <code>text</code> after adding the reference mark.
</p>

<hr>
<h2 id='addBlock'>Define a New Block of Cells in a Table </h2><span id='topic+addBlock'></span>

<h3>Description</h3>

<p>Define a new block (rectangular set of cells) in a table.  The location
and graphical properties of the block are specified explicitly, rather
than being generated automatically from the logical structure of the table
and a style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addBlock(x, arows, acols, id, props=NULL, enabled=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addBlock_+3A_x">x</code></td>
<td>
<p>A plotted table (<code>pltdTable</code>) object.
</p>
</td></tr>
<tr><td><code id="addBlock_+3A_arows">arows</code>, <code id="addBlock_+3A_acols">acols</code></td>
<td>
<p>Numeric vectors specifying the cells contained in the block, with respect
to the augmented row-column grid of the table.  The block includes the
cells in row numbers from <code>min(arows)</code> to <code>max(arows)</code>, and
column numbers from <code>min(acols)</code> to <code>max(acols)</code>.
</p>
</td></tr>
<tr><td><code id="addBlock_+3A_id">id</code></td>
<td>
<p>Optional character string giving the ID to be assigned to the new block.
It is an error if there is already a block with this ID in <code>x</code>.  The
default is to generate an ID of the form <code>block*</code>, where <code>*</code> is
an integer.
</p>
</td></tr>
<tr><td><code id="addBlock_+3A_props">props</code></td>
<td>
<p>Optional <code>element_block</code> object with graphical properties to assign
to the new block.  Any graphical properties not specified in <code>props</code>
will be taken from <code>blockStyle_pkg_base</code> in <code>styles_pkg</code>.
</p>
</td></tr>
<tr><td><code id="addBlock_+3A_enabled">enabled</code></td>
<td>
<p>Logical scalar, whether the new block is to be enabled for display.  The
default is FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally blocks are defined automatically, based on the logical structure
of the table and the style selected by the user.  This function allows
additional blocks to be defined &quot;manually&quot;, explicitly specifying their
position and span in terms of row and column numbers.
</p>
<p>There are two typical situations in which one would want to define a new
block.  The first is to highlight a specific set of cells in the table
visually, by shading or a border.  For that purpose one should specify
<code>enabled=TRUE</code> (so the block will be displayed) and perhaps
<code>props</code> (for non-default graphical properties).
</p>
<p>The second reason to define a new block is to use its ID as a quick way to
refer to the entries within it, for example to set their graphical
properties using <code>props&lt;-</code>.  In that case <code>enabled</code> for the
block should be FALSE, since the block itself is not to be displayed.
</p>
<p>Row and column numbers are with respect to the augmented row-column grid
of the table.  See <code>?adim</code> for more more information about this grid.
The helper functions <code>arow</code> and <code>acol</code> can be used to specify
arguments <code>arows</code> and <code>acols</code> in terms of table parts or
previously defined blocks.
</p>
<p>Graphical properties for blocks defined by this function will not be
changed if a new block style is applied to the plotted table.  Use one of
the <code>props&lt;-</code> functions instead.
</p>
<p>There is no way to remove or undefine a block, other than recreating the
plotted table object from scratch.  However they can be disabled using a
<code>props&lt;-</code> function, and then will not be displayed.
</p>


<h3>Value</h3>

<p>A plotted table object like <code>x</code>, with the new block defined.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arow">arow</a></code>, <code><a href="#topic+acol">acol</a></code>, <code><a href="#topic+adim">adim</a></code>,
<code><a href="#topic+element_block">element_block</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="The iris data", 
            subtitle="Summary statistics by species")
plt &lt;- addBlock(plt, arows=c(8, 9), acols=c(3, 4), id="new_block", 
                props=element_block(border_color="red", border_size=1.0), 
                enabled=TRUE)
plt
# Can refer to the new block by its ID:
props(plt, id="new_block") &lt;- element_entry(fontface=3)  # italics
plt
  </code></pre>

<hr>
<h2 id='addHvrule'>Add a Horizontal or Vertical Rule (Hvrule) to a Table </h2><span id='topic+addHvrule'></span>

<h3>Description</h3>

<p>Add a horizontal or vertical rule (hvrule) to a table.  The location,
span, and graphical properties of the hvrule are specified explicitly,
rather than being generated automatically from the logical structure of
the table and a style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addHvrule(x, direction, arows, acols, id, props=NULL, enabled=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addHvrule_+3A_x">x</code></td>
<td>
<p>A plotted table (<code>pltdTable</code>) object.
</p>
</td></tr>
<tr><td><code id="addHvrule_+3A_direction">direction</code></td>
<td>
<p>Character string specifying whether the rule is to be horizontal
(<code>hrule</code>) or vertical (<code>vrule</code>).
</p>
</td></tr>
<tr><td><code id="addHvrule_+3A_arows">arows</code>, <code id="addHvrule_+3A_acols">acols</code></td>
<td>
<p>Numeric vectors specifying the location and span of the hvrule, with
respect to the augmented row-column grid of the table.  For an hrule,
<code>arows</code> should be a single value: the half-integer bracketed by the
table rows between which the rule runs.  For example, an hrule running
between rows 3 and 4 should have <code>arows</code> equal to 3.5.  <code>acols</code>
should be a vector of integers whose range specifies the column numbers
spanned by the rule.  For a vrule the roles of <code>arows</code> and
<code>acols</code> are reversed: <code>arows</code> is a vector of integers whose
range specifies the row numbers spanned by the rule, and <code>acols</code> is
the half-integer bracketed by the table columns between which it runs.
</p>
</td></tr>
<tr><td><code id="addHvrule_+3A_id">id</code></td>
<td>
<p>Character string giving the ID to be assigned to the new hvrule.  It is an
error if there is already an hvrule with this ID in <code>x</code>.  The default
is to generate an ID of the form <code>hvrule*</code>, where <code>*</code> is an
integer.
</p>
</td></tr>
<tr><td><code id="addHvrule_+3A_props">props</code></td>
<td>
<p>Optional <code>element_hvrule</code> object with graphical properties to assign
to the new hvrule.  Any graphical properties not specified in <code>props</code>
will be taken from <code>hvruleStyle_pkg_base</code> in <code>styles_pkg</code>.
</p>
</td></tr>
<tr><td><code id="addHvrule_+3A_enabled">enabled</code></td>
<td>
<p>Logical scalar, whether the new hvrule is to be enabled for display.  The
default is TRUE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally hvrules are generated automatically, based on the logical
structure of the table and the style selected by the user.  This function
allows additional hvrules to be added &quot;manually&quot;, explicitly specifying
their position and span in terms of row and column numbers.
</p>
<p>Row and column numbers are with respect to the augmented row-column grid
of the table.  See <code>?adim</code> for more more information about this grid.
The helper functions <code>arow</code> and <code>acol</code> can be used to specify
arguments <code>arows</code> and <code>acols</code> in terms of table parts or
previously defined blocks.
</p>
<p>For an <code>hrule</code>, the default for <code>acols</code> is to span all table
columns.  For a <code>vrule</code>, the default for <code>arows</code> is to span the
rows containing the body and column headers, but not the annotation.
</p>
<p>Graphical properties for hvrules defined by this function will not be
changed if a new hvrule style is applied to the plotted table.  Use one of
the <code>props&lt;-</code> functions instead.
</p>
<p>There is no way to remove an hvrule, other than recreating the plotted
table object from scratch.  However they can be disabled using a
<code>props&lt;-</code> function, and then will not be displayed or take up any
space.
</p>


<h3>Value</h3>

<p>A plotted table object like <code>x</code>, with the new hvrule added.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arow">arow</a></code>, <code><a href="#topic+acol">acol</a></code>, <code><a href="#topic+adim">adim</a></code>,
<code><a href="#topic+element_hvrule">element_hvrule</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="The iris data")
plt &lt;- addHvrule(plt, direction="vrule", acols=4.5, arows=arow(plt, "body"), 
                 id="new_vrule", 
                 props=element_hvrule(linetype=2, color="red"), enabled=TRUE)
plt
# Can refer to the new hvrule by its ID:
props(plt, id="new_vrule") &lt;- element_hvrule(enabled=FALSE)  # don't display it
plt
  </code></pre>

<hr>
<h2 id='addRefmark'>Add a Reference Mark to Entries in a Table </h2><span id='topic+addRefmark'></span>

<h3>Description</h3>

<p>Add a reference mark (a symbol placed before or after entry text to
indicate cross-references; e.g. for footnotes) to entries in a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRefmark(x, mark, before=character(0), after=character(0), 
    parts=NULL, raise, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addRefmark_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> or <code>pltdTable</code> object.
</p>
</td></tr>
<tr><td><code id="addRefmark_+3A_mark">mark</code></td>
<td>
<p>Character string containing the reference mark.
</p>
</td></tr>
<tr><td><code id="addRefmark_+3A_before">before</code>, <code id="addRefmark_+3A_after">after</code></td>
<td>
<p>Character strings containing regular expressions (see <code>?regex</code>) that
will be matched against the _text_ of table entries (using <code>grepl</code>).
One or both of <code>before</code> and <code>after</code> may be specified.
</p>
</td></tr>
<tr><td><code id="addRefmark_+3A_parts">parts</code></td>
<td>
<p>Optional character vector listing table parts.  If specified, only entries
in those parts will be matched against <code>before</code> and <code>after</code>.
The default is to use all table parts.
</p>
</td></tr>
<tr><td><code id="addRefmark_+3A_raise">raise</code></td>
<td>
<p>Logical scalar.  If TRUE, the reference mark will be displayed as a
superscript, using <code>plotmath</code>.  The default is TRUE except for
asterisk marks, since that character is already raised relative to other
characters.
</p>
</td></tr>
<tr><td><code id="addRefmark_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>grepl</code> when matching <code>before</code>
and <code>after</code> to entry text.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reference marks are placed at the beginning or end of an entry's text.  If
<code>raise</code> is TRUE they will be displayed as superscripts.  This is
implemented by converting the text to make use of R's <code>plotmath</code>
facility to create the superscript.  A limitation of <code>plotmath</code> is
that it ignores newline characters within text.  Therefore raised
reference marks will not work with multi-line entries, and a warning will
be issued.
</p>
<p>In addition to using numbers, letters, or asterisk as reference marks,
traditional symbols can be specified by their unicode values: dagger
(&quot;\u2020&quot;), double dagger (&quot;\u2021&quot;), paragraph symbol (&quot;\u00B6&quot;),
section symbol (&quot;\u00A7&quot;), and double vertical bars (&quot;\u2016&quot;).
However, unicode symbols may not be available for all OS's or graphics
devices.
</p>
<p>With this function the user identifies the entries to be marked by
searching the entry text itself, via regular expressions <code>before</code>
and/or <code>after</code>.  For plotted tables (<code>pltdTable</code> objects), an
alternative way to add reference marks is to use one of the <code>props&lt;-</code>
functions to assign an <code>element_refmark</code> to it.  They allow selection
of entries using other descriptors.
</p>


<h3>Value</h3>

<p>An object like <code>x</code>.  The text of table cells/entries selected by
<code>before</code> and <code>after</code> will be modified to include the reference
mark, and if <code>raise</code> is TRUE, those cells/entries will be flagged to
indicate that they should be treated as <code>plotmath</code> expressions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_refmark">element_refmark</a></code>, <code><a href="#topic+props+3C-">props&lt;-</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Add reference marks to a 'textTable':
ttbl &lt;- textTable(iris2_tab, foot="sd = standard deviation")
ttbl &lt;- addRefmark(ttbl, mark="a", before="sd =", after="sd$")
plot(ttbl)

# Add reference marks to a 'pltdTable':
plt &lt;- plot(textTable(iris2_tab, foot="sd = standard deviation"))
plt &lt;- addRefmark(plt, mark="*", before="sd =", after="sd$")
plt

# To add a reference mark to just the *first* appearance of "sd", use 
# 'propsa&lt;-' instead:
plt &lt;- plot(textTable(iris2_tab, foot="sd = standard deviation"))
plt &lt;- addRefmark(plt, mark="a", before="sd =")
propsa(plt, arows=arow(plt, hpath=c("setosa", "sd")), 
       acols=acol(plt, "rowhead")[2]) &lt;- element_refmark("a", side="after")
plt
  </code></pre>

<hr>
<h2 id='adim'>Dimensions of the Augmented Row-Column Grid for a Table </h2><span id='topic+adim'></span>

<h3>Description</h3>

<p>Return the dimensions of the augmented row-column grid for a table.  Along
with rows and columns associated with the body of the table, the augmented
grid includes rows for each title, subtitle, and foot line, and rows and
columns associated with the column and row headers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adim_+3A_x">x</code></td>
<td>
<p>A table, in any of the forms used within the <code>tablesgg</code> package.
This includes <code>textTable</code> and <code>pltdTable</code> objects.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is common to think of the number of rows and columns in a table as
referring to the _body_ of the table.  However in this package the grid of
rows and columns in the body of a table is expanded into an _augmented
row-column grid_, by adding a row for each title, subtitle, and foot line;
a row for each layer of column headers; a row for each _interior_ row
header entry; and a column for each (non-interior) layer of row headers.
The augmented grid is numbered from the upper left, so column numbers
increase from left to right, and row numbers from top to bottom.  Title,
subtitle, and foot lines, and interior row header entries span all the
columns of the grid.
</p>
<p>This function returns the dimensions of the augmented grid.
</p>
<p>Disabled entries are included in counting rows and columns.
</p>
<p>The function <code>summary</code> gives the dimensions of individual parts
within a table.
</p>


<h3>Value</h3>

<p>A two-element numeric vector containing (number of rows, number of
columns).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.textTable">summary.textTable</a></code>, <code><a href="#topic+summary.pltdTable">summary.pltdTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title="Summary statistics for the iris data")
adim(ttbl)
plt &lt;- plot(ttbl)
adim(plt)
  </code></pre>

<hr>
<h2 id='adjacent_blocks'>Identify Adjacent Blocks of Table Cells </h2><span id='topic+adjacent_blocks'></span>

<h3>Description</h3>

<p>For each block of table cells in a <code>tblBlocks</code> object, identify the
other blocks that are adjacent to it on each side.  This is an internal
utility function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjacent_blocks(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjacent_blocks_+3A_x">x</code></td>
<td>
<p>A <code>tblBlocks</code> object, defining a collection of rectangular blocks of
cells in a table.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A block B is considered adjacent to block A if (a) the blocks do not
intersect (have no cells in common); and (b) the blocks touch along at
least part of one edge (they span overlapping sets of rows in adjacent
columns, or overlapping sets of columns in adjacent rows).
</p>
<p>It requires storage and time proportional to the square of the number of
blocks.  For realistic tables this is not likely to be a problem.
</p>


<h3>Value</h3>

<p>A list array with one row per block in <code>x</code>, and four columns.  The
rows are named by the block <code>id</code>, and the columns as &quot;top&quot;, &quot;right&quot;,
&quot;bottom&quot;, and &quot;left&quot;.  Element <code>[[i, j]]</code> is a character vector
containing the ID's of all blocks that are adjacent to block <code>i</code> on
side <code>j</code>.  If there are no adjacent blocks, the element is
<code>character(0)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblHvrules">tblHvrules</a></code>
</p>

<hr>
<h2 id='angle_adj'>Horizontal and Vertical Dimensions of a Rectangle after Rotation </h2><span id='topic+angle_adj'></span>

<h3>Description</h3>

<p>Calculate the horizontal and vertical dimensions of a rectangle after
rotation by angle <code>theta</code> (in degrees).  This is an internal
function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>angle_adj(hsize, vsize, theta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="angle_adj_+3A_hsize">hsize</code>, <code id="angle_adj_+3A_vsize">vsize</code></td>
<td>
<p>Numeric scalars, the width and height of a rectangle oriented parallel to
the coordinate axes, with one corner at the origin.
</p>
</td></tr>
<tr><td><code id="angle_adj_+3A_theta">theta</code></td>
<td>
<p>Rotation angle, in degrees.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Two-element vector with the new width and height, with respect to the
original axes, of the rotated rectangle.
</p>

<hr>
<h2 id='apply_scale'>Apply a Scale Factor to Table Elements </h2><span id='topic+apply_scale'></span>

<h3>Description</h3>

<p>Apply a scale factor to table elements, to change their overall displayed
size.  This is an internal function, not intended to be called by package
users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_scale(x, type, scale)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply_scale_+3A_x">x</code></td>
<td>
<p>A data frame containing table elements (entries, hvrules, or blocks).
</p>
</td></tr>
<tr><td><code id="apply_scale_+3A_type">type</code></td>
<td>
<p>Character string with the element type for <code>x</code>, one of <code>entry</code>,
<code>block</code>, or <code>hvrule</code>.
</p>
</td></tr>
<tr><td><code id="apply_scale_+3A_scale">scale</code></td>
<td>
<p>Numeric scalar; a multiplier used to increase or decrease the displayed
size of all the elements in <code>x</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame like <code>x</code>, with the columns containing scalable graphical
properties multiplied by <code>scale</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+grSpecs">grSpecs</a></code> specifies which graphical properties are scalable
for each element type.
</p>

<hr>
<h2 id='apply_style'>Apply a Style to Table Elements </h2><span id='topic+apply_style'></span>

<h3>Description</h3>

<p>Apply a style to assign graphical properties to table elements.  This is
an internal function not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_style(x, style, replace, setEnabled, unstyled, base_style)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply_style_+3A_x">x</code></td>
<td>
<p>A data frame containing table elements (entries, hvrules, or blocks).
</p>
</td></tr>
<tr><td><code id="apply_style_+3A_style">style</code></td>
<td>
<p>A <code>styleObj</code> object, containing a style appropriate for the type of
elements in <code>x</code>.
</p>
</td></tr>
<tr><td><code id="apply_style_+3A_replace">replace</code></td>
<td>
<p>If FALSE only graphical properties not already present as columns in
<code>x</code> are added; existing columns are not changed.  If NA, any NA
values in existing graphical property columns are replaced with values
from <code>style</code> (along with any missing columns).  If TRUE then existing
columns will be entirely replaced.
</p>
</td></tr>
<tr><td><code id="apply_style_+3A_setenabled">setEnabled</code></td>
<td>
<p>If TRUE then column <code>enabled</code> is set to TRUE for elements whose
graphical properties are set (or would be set, if <code>replace</code> were
TRUE) entirely or in part by <code>style</code>; i.e., elements that match a
style row.  <code>enabled</code> is not changed for unmatched elements.  If
FALSE, <code>enabled</code> is not changed for any elements.
</p>
</td></tr>
<tr><td><code id="apply_style_+3A_unstyled">unstyled</code></td>
<td>
<p>Character string indicating how to handle elements for which <code>style</code>
does not provide graphical parameters (i.e., elements that do not match
any style row).  One of &quot;pass&quot;, &quot;disable&quot;, &quot;base&quot;, or &quot;error&quot;.
</p>
</td></tr>
<tr><td><code id="apply_style_+3A_base_style">base_style</code></td>
<td>
<p>A <code>styleObj</code> object that will be applied to unstyled elements when
<code>unstyled="base"</code>.  This style should be guaranteed to match every
element; if it does not an error will be raised.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Table elements include entries, blocks, and hvrules.  If <code>x</code> contains
table entries, the <code>element_type</code> for <code>style</code> should be &quot;entry&quot;.
If <code>x</code> contains table blocks, <code>element_type</code> may be either
&quot;block&quot; or &quot;hvrule&quot;.  In the latter case a set of hvrules will be
generated, one for each of the four sides of each block.  Then
<code>style</code> will be used to assign graphical properties to those hvrules.
</p>
<p>The graphical properties available for an element, and their types, are
defined in function <code>grSpecs</code> and documented in <code>?elements</code>.
</p>
<p>See <code>styleObj</code> for information about how a style is specified, and
how it is applied to elements.  Note that individual style specifications
(rows) in <code>style</code> are applied to <code>x</code> in order.  If an element
matches more than one <code>style</code> row, the last matching row will
override the earlier ones.
</p>
<p>NA values after evaluating <code>condition</code> expressions in a style:
</p>
<p><code>styleObj</code> objects contain contain character fields that are
evaluated as expressions with respect to columns of <code>x</code>.  The fields
are called <code>condition</code> for entry and block styles, and
<code>block_condition</code> and <code>adjacent_condition</code> for hvrule styles.
Each expression must evaluate to a logical scalar or vector with one value
per row of <code>x</code>.  If an expression evaluates to NA for a row of
<code>x</code> it is treated as FALSE for that row&ndash;the reason to not throw an
error is to make it easier to manually add blocks or hvrules by position
only.  (Note that this is different from the case where the condition
expression itself, before evaluation, is NA.  The latter is treated as
evaluating to TRUE for all rows of <code>x</code>.)
</p>


<h3>Value</h3>

<p>A data frame.  It has one row per table element and the same columns as
<code>x</code>, plus additional or updated columns containing the graphical
properties to use for each element, plus a column <code>style_row</code> (the
number of the last row in <code>style</code> that the entry matched, or NA if it
matched none).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+styleObj">styleObj</a></code>; <code><a href="#topic+grSpecs">grSpecs</a></code>, <code><a href="#topic+apply_scale">apply_scale</a></code>
</p>

<hr>
<h2 id='arow'>Row Numbers Within the Augmented Row-Column Grid for a Table </h2><span id='topic+arow'></span>

<h3>Description</h3>

<p>Return the row numbers associated with a specified table part or element,
or with a set of row header values, within the augmented row-column grid
of a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arow(x, id=NULL, hpath=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arow_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> or a plotted table (<code>pltdTable</code>) object.
</p>
</td></tr>
<tr><td><code id="arow_+3A_id">id</code></td>
<td>
<p>Character scalar containing the ID of a single table part, block, entry,
or hvrule.  (If <code>x</code> is a <code>textTable</code>, only the ID of a table
part is allowed.)
</p>
</td></tr>
<tr><td><code id="arow_+3A_hpath">hpath</code></td>
<td>
<p>Character vector with length between 0 and the number of layers in the row
header.  The <code>i</code>-th element should be one of the values in the
<code>i</code>-th row header column, or NA.  See DETAILS.  Only one of <code>id</code>
and <code>hpath</code> should be specified.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the documentation for <code>adim</code> for more information about the
augmented row-column grid of a table.
</p>
<p>Only one of arguments <code>id</code> and <code>hpath</code> should be specified.
<code>id</code> is searched for first among table parts (the only thing
available for a <code>textTable</code>), then blocks, entries, and hvrules, in
that order.  The search stops at the first match.  It is an error if
<code>id</code> is not found in any of these.
</p>
<p><code>hpath</code> is short for &quot;header path&quot;.  It is used to obtain row numbers
associated with specified combinations of values of the row header
variables.  Suppose there are <code>L</code> layers of row headers.  If the
length of <code>hpath</code> is less than <code>L</code>, NA values are added at the
end to reach that length.  The function returns the intersection of the
row numbers for which the <code>i</code>-th outermost of the header layers
equals the <code>i</code>-th element of <code>hpath</code>.  An NA in <code>hpath</code> is
taken to match all values in the correponding layer of row headers.  Thus,
if <code>L == 4</code> and <code>hpath=c("a", NA, "c")</code>, the function will
return the row numbers for which the outermost row header has a value of
&quot;a&quot; _and_ the third outermost has a value of &quot;c&quot;.  If no row has the
combination of values specified by <code>hpath</code> then the returned vector
will have length 0.
</p>
<p>Since <code>hpath</code> refers to values of row header variables, it cannot be
used to get row numbers associated with table annotation, or with the
column header.  (Use <code>id</code> instead.)
</p>


<h3>Value</h3>

<p>A numeric vector containing row numbers within the table's augmented
row-column grid.  The row numbers are those partially or completely
occupied by the cells associated with <code>id</code> or <code>hpath</code>.  They
will be increasing but not necessarily consecutive.
</p>
<p>The returned vector may have length 0 if <code>id</code> refers to a table part
or block that spans no rows, or if <code>hpath</code> matches no set of row
header values.
</p>
<p>Note that for a horizontal hvrule (hrule), the &quot;row number&quot; is actually a
half-integer, bracketed by the table row numbers between which the hrule
runs.  For example, if the hrule runs between table rows 3 and 4, the
returned value will be <code>c(3.5)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+adim">adim</a></code> to get the dimensions of the augmented row-column grid;
<code><a href="#topic+acol">acol</a></code> for the corresponding operation on columns;
<code><a href="#topic+ids">ids</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title=c("Title 1", "2nd title"), foot="Foot")
plt &lt;- plot(ttbl)

arow(plt, id="title")  # block "title" spans first two rows
arow(plt, id="body,4,2")  # single entry
# Remove the first line of the column header:
plot(ttbl[-arow(ttbl, id="colhead")[1], ])
# Remove the "versicolor" species (a value in row header layer 1):
plot(ttbl[-arow(ttbl, hpath=c("versicolor")), ])
# Remove the means for all species (a value in row header layer 2):
plot(ttbl[-arow(ttbl, hpath=c(NA, "mean")), ])
# Remove the mean just for the versicolor species:
plot(ttbl[-arow(ttbl, hpath=c("versicolor", "mean")), ])
  </code></pre>

<hr>
<h2 id='as.dfObj'>Promote a Data Frame to Another Object Class </h2><span id='topic+as.dfObj'></span>

<h3>Description</h3>

<p>Promote a data frame to another object class, or do validity checking of
such an object.  This is an internal function not intended to be called by
package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.dfObj(x, objClass)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.dfObj_+3A_x">x</code></td>
<td>
<p>An object inheriting from <code>data.frame</code>.  Each row contains
information about the content, location, and/or graphical properties of
one table entry, hvrule, or block.  Alternatively, <code>x</code> may be NULL,
in which case a valid but empty object (no entries, hvrules, or blocks) is
returned.
</p>
</td></tr>
<tr><td><code id="as.dfObj_+3A_objclass">objClass</code></td>
<td>
<p>Character string giving the class of the object to be returned/ checked.
One of: &quot;tblEntries&quot;, &quot;tblBlocks&quot;, &quot;prEntries&quot;, &quot;prHvrules&quot;, &quot;prBlocks&quot;.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a backend to the <code>as.&lt;objClass&gt;</code> functions.
</p>
<p>The purpose of this function is to reduce code repetition by factoring out
common tasks when promoting a data frame to one of the data frame-based
objects in the package (or checking the validity of such objects).
</p>
<p>For all objects, row names are set equal to the <code>id</code> column.
</p>


<h3>Value</h3>

<p>An object with S3 classes given by <code>objClass</code> and &quot;data.frame&quot;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblEntries">tblEntries</a></code>, <code><a href="#topic+tblBlocks">tblBlocks</a></code>,
<code><a href="#topic+prEntries">prEntries</a></code>, <code><a href="#topic+prHvrules">prHvrules</a></code>, <code><a href="#topic+prBlocks">prBlocks</a></code>;
<code><a href="#topic+dfSpecs">dfSpecs</a></code> returns info about the fields required for each
object class.
</p>

<hr>
<h2 id='as.prBlocks'>Promote a Data Frame to a <code>prblocks</code> Object </h2><span id='topic+as.prBlocks'></span>

<h3>Description</h3>

<p>Promote a data frame to a <code>prBlocks</code> object, containing plot-ready
blocks for a table.  This is an internal function not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.prBlocks(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.prBlocks_+3A_x">x</code></td>
<td>
<p>An object inheriting from <code>data.frame</code>.  Each row represents one
table block (a rectangular set of table cells).  Columns must include all
those required for a <code>tblBlocks</code> object (see <code>dfSpecs</code>), plus
all the graphical properties required to display a block (see
<code>grSpecs</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally plot-ready blocks are created from a <code>tblBlocks</code> object via
function <code>prBlocks</code>.  This function allows them to be created or
edited directly in a data frame, without necessarily using a predefined
style.
</p>
<p>Columns <code>arow1</code>, <code>arow2</code>, <code>acol1</code> and <code>acol2</code> refer to
row and column numbers in the augmented row-column grid of the table; see
<code>adim</code> for more information.
</p>
<p>The graphical properties required for a plot-ready block, and their types,
are defined in object <code>grSpecs</code>.
</p>
<p>If column <code>enabled</code> was not present in <code>x</code> it will be added,
with value FALSE for all blocks.  Attributes <code>current_scale</code>,
<code>rowgroupSize</code>, and <code>rowheadInside</code> will be added if not
present, with values 1.0, NA, and NA, respectively.
</p>
<p>If <code>x</code> is already a <code>prBlocks</code> object, this function does some
validity checks.  If <code>x</code> is NULL, a valid but empty <code>prBlocks</code>
object is returned.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>prBlocks</code>, <code>tblBlocks</code>, and
<code>data.frame</code>.  See function <code>prBlocks</code> for a full description of
the class.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prBlocks">prBlocks</a></code>, <code><a href="#topic+tblBlocks">tblBlocks</a></code>
</p>

<hr>
<h2 id='as.prEntries'>Promote a Data Frame to a <code>prentries</code> Object </h2><span id='topic+as.prEntries'></span>

<h3>Description</h3>

<p>Promote a data frame to a <code>prEntries</code> object, containing plot-ready
table entries.  This is an internal function not intended to be called by
package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.prEntries(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.prEntries_+3A_x">x</code></td>
<td>
<p>An object inheriting from <code>data.frame</code>.  Each row contains the
content, location, and graphical properties of one table entry.  Columns
must include all those required for a <code>tblEntries</code> object (see
<code>dfSpecs</code>), plus all the graphical properties required to display an
entry (see <code>grSpecs</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally plot-ready entries are created from a <code>tblEntries</code> object
via function <code>prEntries</code>.  This function allows them to be created or
edited directly in a data frame, without necessarily using a predefined
style.
</p>
<p>Columns <code>arow1</code>, <code>arow2</code>, <code>acol1</code> and <code>acol2</code> refer to
row and column numbers in the augmented row-column grid of the table; see
<code>adim</code> for more information.
</p>
<p>The graphical properties required for a plot-ready entry, and their types,
are defined in object <code>grSpecs</code>.
</p>
<p>If not present, logical column <code>enabled</code> will be added with value
TRUE for all entries whose <code>text</code> is not NA or empty.  If attribute
<code>current_scale</code> is not present, it will be added with a value of 1.0.
If attribute <code>rowheadInside</code> is not present, it will be added with a
value of NA.
</p>
<p>If <code>x</code> is already a <code>prEntries</code> object, this function does some
validity checks.  If <code>x</code> is NULL, a valid but empty <code>prEntries</code>
object is returned.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>prEntries</code>, <code>tblEntries</code>, and
<code>data.frame</code>.  See function <code>prEntries</code> for a full description
of the class.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prEntries">prEntries</a></code>, <code><a href="#topic+tblEntries">tblEntries</a></code>
</p>

<hr>
<h2 id='as.prHvrules'>Promote a Data Frame to a <code>prhvrules</code> Object </h2><span id='topic+as.prHvrules'></span>

<h3>Description</h3>

<p>Promote a data frame to a <code>prHvrules</code> object, containing plot-ready
hvrules for a table.  This is an internal function not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.prHvrules(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.prHvrules_+3A_x">x</code></td>
<td>
<p>An object inheriting from <code>data.frame</code>.  Each row represents one
horizontal or vertical rule (hvrule) to apppear in a table.  See
<code>dfSpecs</code> for the required columns and types, and <code>prHvrules</code>
for a description of these columns.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally plot-ready hvrules are created from a <code>tblBlocks</code> object via
function <code>prHvrules</code>.  This function allows them to be created or
edited directly in a data frame, without necessarily using a predefined
style.
</p>
<p>Columns <code>arow1</code>, <code>arow2</code>, <code>acol1</code> and <code>acol2</code> refer to
row and column numbers in the augmented row-column grid of the table; see
<code>adim</code> for more information.
</p>
<p>For an hrule (horizontal rule), <code>arow1</code> and <code>arow2</code> should be
equal to each other and to a half-integer; the hrule will be inserted
between table row numbers that bracket the value.  (For example,
<code>arow1 = arow2 = 3.5</code> means the hrule will be inserted between rows 3
and 4.)  <code>acol1</code> and <code>acol2</code> should be integers that indicate
the first and last columns to be spanned by the hrule.
</p>
<p>For a vrule (vertical rule) the specification is similar, but with the
roles of <code>arow*</code> and <code>acol*</code> reversed.
</p>
<p>If column <code>enabled</code> was not present in <code>x</code> it will be added,
with value FALSE for all hvrules.
</p>
<p>If <code>x</code> is already a <code>prHvrules</code> object, this function does some
validity checks.  If <code>x</code> is NULL, a valid but empty <code>prHvrules</code>
object is returned.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>prHvrules</code> and <code>data.frame</code>.  See
function <code>prHvrules</code> for a full description of the class.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prHvrules">prHvrules</a></code>, <code><a href="#topic+tblBlocks">tblBlocks</a></code>
</p>

<hr>
<h2 id='as.tblBlocks'>Promote a Data Frame to a <code>tblblocks</code> Object </h2><span id='topic+as.tblBlocks'></span>

<h3>Description</h3>

<p>Promote a data frame to a <code>tblBlocks</code> object.  This is an internal
function not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.tblBlocks(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.tblBlocks_+3A_x">x</code></td>
<td>
<p>A data frame, with each row representing one table block.  See
<code>dfSpecs</code> for the required columns and types, and <code>tblBlocks</code>
for a description of these columns.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally a standard set of structure-based blocks is created from a
<code>tblEntries</code> object via function <code>tblBlocks</code>.  This function
allows blocks to be created or edited directly in a data frame.
</p>
<p>A block is simply a rectangular set of contiguous table cells.  Any number
of blocks may be defined, and blocks may overlap.  A block may be empty
(<code>nr</code> and/or <code>nc</code> equal to 0, and corresponding <code>arow*</code> and
<code>acol*</code> values set to NA.)  <code>id</code> must not contain semicolons.
</p>
<p>Columns <code>arow1</code>, <code>arow2</code>, <code>acol1</code> and <code>acol2</code> refer to
row and column numbers in the augmented row-column grid of the table; see
<code>adim</code> for more information.
</p>
<p>In addition to the required columns listed above, <code>x</code> should contain
any other columns that will be used by a <code>blockStyle</code> to add
graphical properties to blocks.  These should be listed in the
<code>match_columns</code> attribute of the style.
</p>
<p>If <code>x</code> is already a <code>tblBlocks</code> object, this function does some
validity checks.  If <code>x</code> is NULL, a valid but empty <code>tblBlocks</code>
object is returned.
</p>


<h3>Value</h3>

<p>An S3 object of class <code>tblBlocks</code>.  It is just the data frame
<code>x</code> with the additional class <code>tblBlocks</code> (after checking that
<code>x</code> contains the necessary columns), and attribute
<code>rowgroupSize</code>.  The latter is copied from <code>x</code> if present and
set to NA if not.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblBlocks">tblBlocks</a></code>
</p>

<hr>
<h2 id='as.tblEntries'>Promote a Data Frame to a <code>tblentries</code> Object </h2><span id='topic+as.tblEntries'></span>

<h3>Description</h3>

<p>Promote a data frame to a <code>tblEntries</code> object.  This is an internal
function not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.tblEntries(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.tblEntries_+3A_x">x</code></td>
<td>
<p>An object inheriting from <code>data.frame</code>.  Each row represents one
table entry, with information about its content, location, and structural
role in the table.  See <code>dfSpecs</code> for the required columns and types,
and <code>tblEntries</code> for a description of these columns.  <code>x</code> must
also have attributes <code>rowhier</code> and <code>colhier</code> with information
about the row and column header hierarchies (see <code>headerRuns</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normally table entries are created from a <code>textTable</code> object via
function <code>tblEntries</code>.  This function allows them to be created or
edited directly in a data frame.
</p>
<p>Columns <code>arow1</code>, <code>arow2</code>, <code>acol1</code> and <code>acol2</code> refer to
row and column numbers in the augmented row-column grid of the table; see
<code>adim</code> for more information.
</p>
<p>If <code>x</code> is already a <code>tblEntries</code> object, this function does some
validity checks.  If <code>x</code> is NULL, a valid but empty <code>tblEntries</code>
object is returned.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>tblEntries</code> and <code>data.frame</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblEntries">tblEntries</a></code>, <code><a href="#topic+headerRuns">headerRuns</a></code>
</p>

<hr>
<h2 id='blocks'>Extract the <code>prblocks</code> Object from a Plot-Ready or Plotted Table </h2><span id='topic+blocks'></span>

<h3>Description</h3>

<p>Extract the <code>prBlocks</code> object from a plot-ready or plotted table.
This is an internal function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blocks(x, enabledOnly=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="blocks_+3A_x">x</code></td>
<td>
<p>A plot-ready (<code>prTable</code>) or plotted (<code>pltdTable</code>) table object.
</p>
</td></tr>
<tr><td><code id="blocks_+3A_enabledonly">enabledOnly</code></td>
<td>
<p>Logical.  If TRUE, only the subset of table blocks that are enabled is
extracted.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>prBlocks</code> object, containing blocks for a table, or NULL if none
have been defined.
</p>

<hr>
<h2 id='blocks+26lt+3B-'>Update the Blocks of a Plot-Ready or Plotted Table </h2><span id='topic+blocks+3C-'></span>

<h3>Description</h3>

<p>Update the blocks component of a plot-ready (<code>prTable</code>) or plotted
(<code>pltdTable</code>) table object.  This is an internal function, not
intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blocks(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="blocks+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>A plot-ready (<code>prTable</code>) or plotted (<code>pltdTable</code>) table object.
</p>
</td></tr>
<tr><td><code id="blocks+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>A <code>prBlocks</code> object containing the new plot-ready blocks.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated hvrules.
</p>

<hr>
<h2 id='calc_rcsize'>Constrained Display Sizes of Each Table Row, Column and Entry </h2><span id='topic+calc_rcsize'></span>

<h3>Description</h3>

<p>Calculate the display widths (in mm) of each table column, heights of each
table row, and horizontal and vertical dimensions of each table entry.
Calculations may use the constraints imposed by <code>minwidth</code> and
<code>maxwidth</code> for each entry.  This is an internal utility function, not
intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_rcsize(entryInfo, vrule_hsize, hrule_vsize, sizeAdjust, 
    nominal_rcmin, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_rcsize_+3A_entryinfo">entryInfo</code></td>
<td>
<p>A <code>prEntries</code> data frame with one row per table entry.  (Currently
disabled entries are not allowed.)
</p>
</td></tr>
<tr><td><code id="calc_rcsize_+3A_vrule_hsize">vrule_hsize</code></td>
<td>
<p>Numeric vector with length (# table columns) + 1, giving the horizontal
dimensions, in mm, of vertical rules in the table.
</p>
</td></tr>
<tr><td><code id="calc_rcsize_+3A_hrule_vsize">hrule_vsize</code></td>
<td>
<p>Numeric vector with length (# table rows) + 1, giving the vertical
dimensions, in mm, of horizontal rules in the table.
</p>
</td></tr>
<tr><td><code id="calc_rcsize_+3A_sizeadjust">sizeAdjust</code></td>
<td>
<p>Two-element numeric vector containing multipliers to adjust the calculated
absolute size of table text, when determining row and column sizes.
Essentially fudge factors.  The first element is applied to the horizontal
dimension and the second to the vertical dimension.
</p>
</td></tr>
<tr><td><code id="calc_rcsize_+3A_nominal_rcmin">nominal_rcmin</code></td>
<td>
<p>A nominal minimum size for any row or column, in mm.  It is used to avoid
division by 0 when calculating the proportional change in size due to
constraints, when <code>method</code> is 2-5.  Large size adjustments are
disfavored for rows or columns whose actual size is less than this value.
</p>
</td></tr>
<tr><td><code id="calc_rcsize_+3A_method">method</code></td>
<td>
<p>Which algorithm/objective function is used for the constrained
optimization problem. </p>
 <ul>
<li><p> 0 : <code>minwidth</code>, <code>maxwidth</code>
constraints on entries are ignored; no wrapping. </p>
</li>
<li><p> 1 : <code>minwidth</code>
constraints are respected but <code>maxwidth</code> is ignored; no wrapping.
</p>
</li>
<li><p> 2 : Proportional size changes are calculated with <code>max(&lt;natural
width&gt;, nominal_rcmin)</code> replacing <code>&lt;natural width&gt;</code> in the
denominator. </p>
</li>
<li><p> 3 : Proportional size changes are calculated with
<code>max(&lt;natural width&gt;, nominal_rcmin)</code> replacing <code>&lt;natural
width&gt;</code> in both the numerator and denominator. </p>
</li>
<li><p> 4 or 5 : Same as 2 or
3 but with the sum <code>&lt;natural width&gt; + nominal_rcmin</code> instead of their
max. </p>
</li></ul>

</td></tr>
</table>


<h3>Details</h3>

<p>Entries can span multiple columns and rows, and can have constraints on
their minimum and maximum widths.  This function calculates row and column
dimensions that satisfy the constraints while minimizing an objective
function that measures deviations from their natural sizes.  They are the
solution to a quadratic programming problem.  An error will be raised if
the QP has no solution (e.g., if <code>minwidth</code> and <code>maxwidth</code>
collectively, over all entries, are inconsistent).
</p>
<p><code>minwidth</code> and <code>maxwidth</code> are in the text's frame of reference,
and may be expressed in two forms.  Positive values are interpreted as
absolute widths in millimeters, and *should* include the amount of any
padding specified by <code>hpad</code> (when <code>angle</code> is 0 or 180 degrees)
or <code>vpad</code> (when <code>angle</code> is 90 or 270 degrees), as well as
scaling by <code>sizeAdjust</code>.  Negative values are interpreted as
multiples of the natural text width without wrapping and *without*
including padding or <code>sizeAdjust</code>.  Thus setting <code>minwidth</code> for
an entry to -1 will guarantee that the width of the spanned cell(s) will
be at least enough to contain it without wrapping. </p>
 <ul>
<li><p> An NA
value for <code>minwidth</code> means there is no constraint on minimum width,
and is equivalent to 0.  An <code>Inf</code> value for <code>maxwidth</code> means
there is no constraint on maximum width.  In the absence of constraints,
the internal algorithm favors widths as close as possible to the natural
width of the entry text, without wrapping. </p>
</li>
<li><p> An NA value for
<code>maxwidth</code> means the maximum width will be determined passively from
the <code>maxwidth</code> values of other entries in the same table column(s)
(if <code>angle</code> is 0 or 180) or row(s) (if <code>angle</code> is 90 or 270).
(It will never be less than <code>minwidth</code>.) This may be useful for table
titles and footnotes, where long text should be wrapped to fit widths
implied by the other table entries. </p>
</li>
<li><p> Setting <code>maxwidth</code> to NA or
to a finite value <code>&gt; -1</code> and <code>&lt; Inf</code> means the spanned cell(s)
may not be wide enough to hold the text without wrapping it into multiple
lines. </p>
</li>
<li><p> The general effect of setting <code>minwidth</code> to a non-zero
value is to reduce or prevent text wrapping, while the general effect of
setting <code>maxwidth</code> to NA or a finite value is to encourage wrapping.
Settings for one entry may affect the width and wrapping of other entries,
because column widths and row heights for the table as a whole must
satisfy the constraints for all their entries. </p>
</li>
<li><p> Text representing
<code>plotmath</code> expressions cannot be wrapped, so <code>maxwidth</code> should
be <code>Inf</code> or <code>&lt;= -1</code> for such entries. </p>
</li></ul>

<p><code>method=0</code> ignores <code>minwidth</code> and <code>maxwidth</code> when
determining row and column sizes.  However a warning will be raised if the
resulting sizes violate the constraints for any enabled entries.
</p>


<h3>Value</h3>

<p>List with components:
</p>
<table>
<tr><td><code>hsizeCol</code></td>
<td>
<p>Numeric vector of display widths for each table column, in mm.
</p>
</td></tr>
<tr><td><code>vsizeRow</code></td>
<td>
<p>Numeric vector of display heights for each table row, in mm.
</p>
</td></tr>
<tr><td><code>sizeInfo</code></td>
<td>
<p>Data frame with one row per table entry.  Columns are <code>hsize</code> and
<code>vsize</code> (the horizontal and vertical dimensions of entry text, as it
would be displayed by <code>geom_text</code>, <code>geom_richtext</code>, or
<code>geom_textbox</code> after applying any min or max contraints);
<code>horiz</code> (logical, TRUE if entry angle is 0 or 180 degrees);
<code>descender</code> (amount of space included in <code>vsize</code> (if
<code>horiz</code> is TRUE) or <code>hsize</code> (if <code>horiz</code> is FALSE) to allow
for descenders); and <code>wrap</code> (logical; TRUE if text wrapping is needed
to fit the text into a box with dimensions <code>hsize</code> and <code>vsize</code>).
Row names will be the entry ID's.  <code>hsize</code>, <code>vsize</code>, and
<code>descender</code> do not include the effect of <code>sizeAdjust</code>, and do
not include any padding specified by <code>hpad</code> or <code>vpad</code>.  All
columns will contain NA for disabled entries.  (Not
implemented&ndash;currently, disabled entries are not allowed.)
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Operation of this function is controlled by parameters in internal object
<code>internalOpt</code>, specifically those with prefix <code>rcsize_</code>.  Values
of option <code>rcsize_verbose</code> greater than 2 will cause a data frame of
calculated entry widths to be written to the global environment for each
iteration.
</p>
<p>Among methods 2-5, 2 and 4 seem best because they do not alter the target
size in the numerator; method 5 encourages expanding row *and* column
sizes by <code>rcsize_rcmin</code> even when no wrapping is required in a given
direction.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+entrySize_mm">entrySize_mm</a></code>, called by this function to calculate the sizes
in <code>sizeInfo</code>.
</p>

<hr>
<h2 id='coord_justif'>Calculate X, y Positions and H|vjust Values for Entries </h2><span id='topic+coord_justif'></span>

<h3>Description</h3>

<p>Calculate coordinates and h|vjust values for entry text strings, to
achieve the desired justification and alignment with respect to cell
boundaries.  This is an internal utility function, not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_justif(df, x0, x1, y0, y1, size, align=df$align)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coord_justif_+3A_df">df</code></td>
<td>
<p>Data frame with one row per entry.  Required columns are <code>hjust</code>,
<code>vjust</code>, <code>hpad</code>, <code>vpad</code>, <code>angle</code>.  <code>angle</code> must
be a multiple of 90 degrees.
</p>
</td></tr>
<tr><td><code id="coord_justif_+3A_x0">x0</code>, <code id="coord_justif_+3A_x1">x1</code>, <code id="coord_justif_+3A_y0">y0</code>, <code id="coord_justif_+3A_y1">y1</code></td>
<td>
<p>Numeric vectors with one element per entry, giving the coordinates (in mm)
of the boundaries of the cell(s) containing each entry.  Note that the
origin is at the top left of the table.
</p>
</td></tr>
<tr><td><code id="coord_justif_+3A_size">size</code></td>
<td>
<p>Data frame with one row per entry, and columns <code>hsize</code>, <code>vsize</code>,
and <code>descender</code>.  The first two are the dimensions, in mm, of an
unrotated rectangle just enclosing the (possibly rotated) entry text.  (So
<code>hsize</code> is always measured parallel to the x-axis and <code>vsize</code>
parallel to the y-axis.)  <code>descender</code> is the amount of space included
in <code>hsize</code> or <code>vsize</code> to allow for text descenders.  (This is 0
for a <code>textGrob</code>, but larger for <code>richtext_grob</code> and
<code>textbox_grob</code>.)  Functions <code>entrySize_mm</code> and
<code>calc_rcsize</code> return such a data frame (the latter in the
<code>sizeInfo</code> component).
</p>
</td></tr>
<tr><td><code id="coord_justif_+3A_align">align</code></td>
<td>
<p>Optional numeric vector with one element per entry.  It specifies
horizontal alignment of multiple lines within an entry *with respect to
each other*.  0 means all lines in the entry are aligned at their left
edge (&quot;left justified&quot;), 1 means they are all aligned at their right edge
(&quot;right justified&quot;), 0.5 means they are aligned at their centers.  The
default is to use column <code>align</code> in <code>df</code> if present and not NA.
Otherwise it depends on text rotation specified by <code>df$angle</code>; for
unrotated text it is set equal to <code>df$hjust</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The need to jointly calculate <code>x</code>, <code>y</code>, <code>gg_hjust</code>, and
<code>gg_vjust</code> is due to a difference between <code>tablesgg</code> and
<code>ggplot2</code> in their interpretations of text justification.
<code>ggplot2</code> interprets justification parameters as indicating position
of text relative to the (x,y) coordinates used to draw the text: 0 means
to the right/above (x,y), 1 means to the left/below (x,y).
<code>tablesgg</code> interprets justification parameters as position relative
to the boundaries of the table cell(s) containing the entry text: 0 means
at the left/top boundary, 1 means at the right/bottom boundary.
</p>
<p>This function takes cell boundary coordinates <code>x0</code>, <code>x1</code>,
<code>y0</code>, <code>y1</code> and <code>tablesgg</code>-type justification parameters and
converts them to the <code>ggplot2</code>-type (x,y) coordinates and
justification parameters.  In doing so it is also necessary to take any
text rotation (specified by graphical property <code>angle</code>) into account.
</p>
<p>Values provided to <code>geom_*</code> functions should be <code>x</code>, <code>y</code>,
<code>hjust=gg_hjust</code>, and <code>vjust=gg_vjust</code>.  If the <code>geom_*</code>
function has an <code>halign</code> argument (e.g., for <code>geom_textbox</code>),
set it to <code>gg_hjust</code>.
</p>
<p>Justification values in [0, 1] will never position text closer to cell
boundaries than the padding specified by <code>df$hpad</code> and
<code>df$vpad</code>.
</p>


<h3>Value</h3>

<p>Data frame with one row per row of <code>df</code>.  Columns are:
</p>
<table>
<tr><td><code>x</code>, <code>y</code></td>
<td>
<p>Coordinates to give to a <code>geom_*</code> function when drawing the entry
text.
</p>
</td></tr>
<tr><td><code>gg_hjust</code>, <code>gg_vjust</code></td>
<td>
<p><code>hjust</code> and <code>vjust</code> values to give to a <code>geom_*</code> function.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+entrySize_mm">entrySize_mm</a></code>, <code><a href="#topic+calc_rcsize">calc_rcsize</a></code>
</p>

<hr>
<h2 id='df_from_spec'>Create a Data Frame from a Specification </h2><span id='topic+df_from_spec'></span>

<h3>Description</h3>

<p>Create a data frame from a specification that describes its column names
and modes.  All entries are NA (of the appropriate mode).  This is an
internal function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_from_spec(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df_from_spec_+3A_x">x</code></td>
<td>
<p>A data frame with (at least) columns <code>name</code> and <code>mode</code>.
</p>
</td></tr>
<tr><td><code id="df_from_spec_+3A_n">n</code></td>
<td>
<p>The number of rows desired for the returned data frame.  May be 0.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with as many columns as <code>x</code> has rows.  Column names are
taken from <code>x$name</code> and modes from <code>x$mode</code>.  (See
<code>?mode</code>).
</p>

<hr>
<h2 id='dfSpecs'>Specifications for Fields Used in Certain Object Classes </h2><span id='topic+dfSpecs'></span>

<h3>Description</h3>

<p>Return a data frame with specifications for descriptor and graphical
property fields required for certain object classes used within the
package.  This is an internal function, not intended to be called by
package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dfSpecs(objClass)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dfSpecs_+3A_objclass">objClass</code></td>
<td>
<p>One of <code>tblEntries</code>, <code>prEntries</code>, <code>tblBlocks</code>,
<code>prBlocks</code>, or <code>prHvrules</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Descriptor and graphical property fields are documented in
<code>?elements</code>.
</p>


<h3>Value</h3>

<p>A data frame with one row per descriptor or graphical property field.
Columns are <code>name</code> (the name of the field); <code>mode</code> (mode/type of
values taken by the field); and <code>NA_ok</code> (logical, TRUE if NA is a
valid value for the field).
</p>
<p>Field names are used as the row names of the data frame.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+df_from_spec">df_from_spec</a></code>, which uses the output from this function to
create a template data frame containing the required fields;
<code><a href="#topic+grSpecs">grSpecs</a></code>, which returns specifications for the graphical
properties for each element type.
</p>

<hr>
<h2 id='element_block'>Specify Visual Properties for Table Blocks </h2><span id='topic+element_block'></span>

<h3>Description</h3>

<p>Specify a set of graphical properties that can be used to highlight a
rectangular block of table cells.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_block(fill=NULL, fill_alpha=NULL, border_size=NULL, 
    border_colour=NULL, border_color=NULL, enabled=NULL, 
    inherit.blank=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_block_+3A_fill">fill</code>, <code id="element_block_+3A_fill_alpha">fill_alpha</code>, <code id="element_block_+3A_border_size">border_size</code>, <code id="element_block_+3A_border_color">border_color</code></td>
<td>
<p>Scalar graphical properties for the table blocks.  These will be passed to
<code>ggplot2::geom_rect</code> under the names <code>fill</code>, <code>alpha</code>,
<code>linewidth</code>, and <code>colour</code>, respectively.
</p>
</td></tr>
<tr><td><code id="element_block_+3A_border_colour">border_colour</code></td>
<td>
<p>Alias for <code>border_color</code>.
</p>
</td></tr>
<tr><td><code id="element_block_+3A_enabled">enabled</code></td>
<td>
<p>Logical scalar, controlling whether the block is displayed (TRUE) or not
(FALSE).
</p>
</td></tr>
<tr><td><code id="element_block_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>Ignored.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is modeled on the <code>element_*</code> functions used in
<code>ggplot2</code> to specify graphical properties in themes.  It is primarily
used to create the value on the right-hand side of an assignment involving
the <code>props&lt;-</code> group of setter functions.
</p>
<p>To display a table block means to highlight its rectangular region with
shading (as specified by <code>fill</code>, a color, and <code>fill_alpha</code>)
and/or a border (with thickness specified by <code>border_size</code>, in mm,
and color <code>border_color</code>).  Blocks are drawn before entries and
hvrules, so the latter are drawn &quot;on top&quot; of blocks and will not be
hidden.
</p>
<p>Quantitative property <code>border_size</code> may be specified using the
<code>ggplot2</code> function <code>rel()</code>.  This function indicates that the
value is to be interpreted as a multiplier to be applied to whatever the
current value of the property is.  For example <code>border_size=rel(1.2)</code>
specifies that the thickness of the border around a block is to be
increased by 20% from its current value.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>element_block</code> and <code>element</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_entry">element_entry</a></code>, <code><a href="#topic+element_hvrule">element_hvrule</a></code>;
<code><a href="#topic+elements">elements</a></code> for more detail about the available graphical
properties; <code><a href="#topic+props+3C-">props&lt;-</a></code>, <code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>,
<code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="Summary statistics for the iris data")
props(plt, id="rowhead") &lt;- element_block(fill="lightblue")
props(plt, id="colblock/C/2/1") &lt;- element_block(border_color="red")
      # (Default fill color for blocks is 'gray85')
plt
  </code></pre>

<hr>
<h2 id='element_entry'>Specify Visual Properties for Table Entries and their Cells </h2><span id='topic+element_entry'></span>

<h3>Description</h3>

<p>Specify a set of graphical properties that can be used to display table
entries and the cells that contain them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_entry(text=NULL, family=NULL, fontface=NULL, colour=NULL, 
    alpha=NULL, size=NULL, hjust=NULL, vjust=NULL, angle=NULL, 
    lineheight=NULL, color=NULL, hpad=NULL, vpad=NULL, fill=NULL, 
    fill_alpha=NULL, border_size=NULL, border_colour=NULL, 
    border_color=NULL, minwidth=NULL, maxwidth=NULL, enabled=NULL, 
    textspec=NULL, inherit.blank=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_entry_+3A_text">text</code></td>
<td>
<p>Scalar character string, the text to be displayed for the entries.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_family">family</code>, <code id="element_entry_+3A_fontface">fontface</code>, <code id="element_entry_+3A_color">color</code>, <code id="element_entry_+3A_alpha">alpha</code>, <code id="element_entry_+3A_size">size</code>, <code id="element_entry_+3A_hjust">hjust</code>, <code id="element_entry_+3A_vjust">vjust</code>, <code id="element_entry_+3A_angle">angle</code>, <code id="element_entry_+3A_lineheight">lineheight</code></td>
<td>
<p>Scalar values for the graphical properties that are used to display the
text of table entries.  Values will be passed to
<code>ggplot2::geom_text</code>.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_hpad">hpad</code>, <code id="element_entry_+3A_vpad">vpad</code></td>
<td>
<p>Amount of blank space to add on the left and right (<code>hpad</code>) and top
and bottom (<code>vpad</code>) of the entry text, in millimeters.  This is to
keep entry text from being too close to the cell borders.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_fill">fill</code>, <code id="element_entry_+3A_fill_alpha">fill_alpha</code>, <code id="element_entry_+3A_border_size">border_size</code>, <code id="element_entry_+3A_border_color">border_color</code></td>
<td>
<p>Scalar graphical properties for the _cells_ that contain table entries.
These will be passed to <code>ggplot2::geom_rect</code> under the names
<code>fill</code>, <code>alpha</code>, <code>linewidth</code>, and <code>colour</code>,
respectively.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_colour">colour</code>, <code id="element_entry_+3A_border_colour">border_colour</code></td>
<td>
<p>Aliases for <code>color</code>, <code>border_color</code>.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_minwidth">minwidth</code>, <code id="element_entry_+3A_maxwidth">maxwidth</code></td>
<td>
<p>Minimum, maximum width for cell(s) spanned by an entry.  Positive values
represent absolute sizes in millimeters, and should include any padding.
Negative values are interpreted as multiples of the natural width of the
entry text, without padding.  Use values of <code>-1</code> for <code>minwidth</code>
and <code>Inf</code> for <code>maxwidth</code> to prevent text wrapping.  Values
closer to 0 encourage wrapping.  See <code>?elements</code> for more information
and restrictions on these properties.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_enabled">enabled</code></td>
<td>
<p>Logical scalar, controlling whether the entry is displayed (TRUE) or not
(FALSE).  This applies to both the entry text and the cells that contain
it.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_textspec">textspec</code></td>
<td>
<p>Character string indicating any special features of the text in
<code>text</code>.  Currently supported values are &quot;plain&quot;, &quot;plotmath&quot;, and
&quot;markdown&quot;.  &quot;plotmath&quot; indicates that the entry text contains
mathematical notation as described in <code>?plotmath</code>.  &quot;markdown&quot; means
the text may contain markdown or HTML tags to control its appearance; this
requires the <code>ggtext</code> package.
</p>
</td></tr>
<tr><td><code id="element_entry_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>Ignored.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is modeled on the <code>element_*</code> functions used in
<code>ggplot2</code> to specify graphical properties in themes.  It is primarily
used to create the value on the right-hand side of an assignment involving
the <code>props&lt;-</code> group of setter functions.
</p>
<p>The text content of an entry is perhaps not strictly a graphical property,
but it is convenient to have an easy way to modify it.  Note that like all
other properties, the provided value must be a single value (character
string), not a longer vector of values.
</p>
<p>Justification of text within a cell is specified by properties
<code>hjust</code> and <code>vjust</code>.  Their interpretation is with respect to
the boundaries of the cell: 0 means justification toward the left/top of
the cell, 1 means toward the right/bottom, and 0.5 means centered.  This
is different from the interpretation in <code>?ggplot2::geom_text</code>, where
the justification is with respect to an (x, y) point.  Note that padding
(<code>hpad</code>, <code>vpad</code>) is added _after_ justification, so for example
<code>hjust=0</code> will put the text at a distance <code>hpad</code> from the left
border of its cell.
</p>
<p>Quantitative properties (<code>size</code>, <code>lineheight</code>, <code>hpad</code>, etc)
may be specified using the <code>ggplot2</code> function <code>rel()</code>.  This
function indicates that the value is to be interpreted as a multiplier to
be applied to whatever the current value of the property is.  For example
<code>lineheight=rel(1.2)</code> specifies that the lineheight property of an
entry is to be increased by 20% from its current value.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>element_entry</code> and <code>element</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_hvrule">element_hvrule</a></code>, <code><a href="#topic+element_block">element_block</a></code>,
<code><a href="#topic+element_refmark">element_refmark</a></code>; <code><a href="#topic+elements">elements</a></code> for more detail
about the available graphical properties; <code><a href="#topic+props+3C-">props&lt;-</a></code>,
<code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>, <code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="Summary statistics for the iris data", 
            subtitle="Shown with default graphical properties")
plt

props(plt, id="body") &lt;- element_entry(fontface=3, fill="gray")
props(plt, id="subtitle,1") &lt;- 
      element_entry(text="Entry properties changed by 'props&lt;-'",
                    fill="gray", color="red")
plt
  </code></pre>

<hr>
<h2 id='element_hvrule'>Specify Visual Properties for Table Rules </h2><span id='topic+element_hvrule'></span>

<h3>Description</h3>

<p>Specify a set of graphical properties that can be used to display
horizontal or vertical rules (hvrules) in a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_hvrule(colour=NULL, alpha=NULL, linetype=NULL, size=NULL, 
    fill=NULL, fill_alpha=NULL, space=NULL, color=NULL, enabled=NULL, 
    inherit.blank=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_hvrule_+3A_color">color</code>, <code id="element_hvrule_+3A_alpha">alpha</code>, <code id="element_hvrule_+3A_linetype">linetype</code>, <code id="element_hvrule_+3A_size">size</code></td>
<td>
<p>Scalar values for the graphical properties that are used to display the
horizontal or vertical line of an hvrule.  Values will be passed to
<code>ggplot2::geom_segment</code> (<code>size</code> as <code>linewidth</code>).
</p>
</td></tr>
<tr><td><code id="element_hvrule_+3A_fill">fill</code>, <code id="element_hvrule_+3A_fill_alpha">fill_alpha</code>, <code id="element_hvrule_+3A_space">space</code></td>
<td>
<p>Scalar values for the graphical properties of the (long, thin) rectangle
that encloses an hvrule.  <code>space</code> is the height (for a horizontal
rule) or width (for a vertical rule) of the rectangle, in millimeters.
<code>fill</code> and <code>fill_alpha</code> are passed to <code>ggplot2::geom_rect</code>
as arguments <code>fill</code> and <code>alpha</code> respectively.
</p>
</td></tr>
<tr><td><code id="element_hvrule_+3A_colour">colour</code></td>
<td>
<p>Alias for <code>color</code>.
</p>
</td></tr>
<tr><td><code id="element_hvrule_+3A_enabled">enabled</code></td>
<td>
<p>Logical scalar, controlling whether the hvrule is displayed (TRUE) or not
(FALSE).  This applies to both the actual rule (line) and the rectangle
containing it.
</p>
</td></tr>
<tr><td><code id="element_hvrule_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>Ignored.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is modeled on the <code>element_*</code> functions used in
<code>ggplot2</code> to specify graphical properties in themes.  It is primarily
used to create the value on the right-hand side of an assignment involving
the <code>props&lt;-</code> group of setter functions.
</p>
<p>A horizontal or vertical rule (hvrule) is actually drawn as long, narrow
rectangle, with a line centered inside it.  The narrowness of the
rectangle, and thus how much space the hvrule adds to the table, is
controlled by <code>space</code>.  The thickness of the line inside the
rectangle is controlled by <code>size</code>.  Setting <code>linetype</code> to 0
means no line will be drawn, but the enclosing rectangle will be.  In that
way hvrules can be used to insert extra blank space between rows or
columns of a table.
</p>
<p>Quantitative properties <code>size</code> and <code>space</code> may be specified
using the <code>ggplot2</code> function <code>rel()</code>.  This function indicates
that the value is to be interpreted as a multiplier to be applied to
whatever the current value of the property is.  For example
<code>space=rel(1.2)</code> specifies that the <code>space</code> property of an entry
is to be increased by 20% from its current value.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>element_hvrule</code> and <code>element</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_entry">element_entry</a></code>, <code><a href="#topic+element_block">element_block</a></code>;
<code><a href="#topic+elements">elements</a></code> for more detail about the available graphical
properties; <code><a href="#topic+props+3C-">props&lt;-</a></code>, <code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>,
<code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="Summary statistics for the iris data")
plt

# Enable the vertical rule between rowhead and body, and set its
# properties:
props(plt, id="rowhead_right") &lt;- element_hvrule(enabled=TRUE, linetype=1, 
                                                 color="black", space=10)
plt
# Change the properties of all enabled hvrules:
propsd(plt, subset=(enabled)) &lt;- element_hvrule(color="red")
plt
  </code></pre>

<hr>
<h2 id='element_refmark'>Specify a Reference Mark that can be Added to Table Entries </h2><span id='topic+element_refmark'></span>

<h3>Description</h3>

<p>Specify a reference mark (a symbol placed before or after entry text to
indicate cross-references; e.g. for footnotes) that can be added to
entries in a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_refmark(mark=NULL, side=NULL, raise, ..., inherit.blank=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_refmark_+3A_mark">mark</code></td>
<td>
<p>Character string containing the character(s) to be used as the reference
mark.
</p>
</td></tr>
<tr><td><code id="element_refmark_+3A_side">side</code></td>
<td>
<p>Character string indicating where the reference mark is to be placed:
&quot;before&quot; or &quot;after&quot; the entry text.
</p>
</td></tr>
<tr><td><code id="element_refmark_+3A_raise">raise</code></td>
<td>
<p>Logical scalar.  If TRUE, the reference mark will be displayed as a
superscript, using <code>plotmath</code>.  The default is TRUE except for
asterisk marks, since that character is already raised relative to other
characters.
</p>
</td></tr>
<tr><td><code id="element_refmark_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>element_entry</code>.  These can be used to
set other graphical properties of table entries at the same time as
setting the reference mark.  However it is an error to set <code>text</code> or
<code>textspec</code> to anything other than NULL, since they are used
internally by this function.
</p>
</td></tr>
<tr><td><code id="element_refmark_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>Ignored.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is modeled on the <code>element_*</code> functions used in
<code>ggplot2</code> to specify graphical properties in themes.  It is primarily
used to create the value on the right-hand side of an assignment involving
the <code>props&lt;-</code> group of setter functions.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>element_refmark</code> and <code>element</code>.  If any
arguments are specified in <code>...</code>, they are passed to
<code>element_entry</code> and the resulting object is attached as attribute
<code>extra</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+addRefmark">addRefmark</a></code> for a different way to add reference marks, and
for more information about reference marks in general.
<code><a href="#topic+element_entry">element_entry</a></code>, <code><a href="#topic+props+3C-">props&lt;-</a></code>,
<code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>, <code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="Summary statistics for the iris data", 
            foot="sd = standard deviation")
props(plt, id="foot") &lt;- element_refmark(mark="*", side="before")
# Add a reference mark to just the first appearance of 'sd' in the row header:
propsa(plt, arows=arow(plt, hpath=c("setosa", "sd")), acols=2) &lt;- 
       element_refmark(mark="*", side="after")
plt
  </code></pre>

<hr>
<h2 id='elements'>Extract Table Elements from a Plotted Table </h2><span id='topic+elements'></span>

<h3>Description</h3>

<p>Extract table elements (entries, blocks, or hvrules) from a plotted table,
as a simple data frame with one row per element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elements(x, type=c("entry", "block", "hvrule"), enabledOnly=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="elements_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object, containing a plotted table.
</p>
</td></tr>
<tr><td><code id="elements_+3A_type">type</code></td>
<td>
<p>Character scalar indicating the type of elements to extract: one of
&quot;entry&quot;, &quot;block&quot;, or &quot;hvrule&quot;.
</p>
</td></tr>
<tr><td><code id="elements_+3A_enabledonly">enabledOnly</code></td>
<td>
<p>Logical scalar.  If TRUE, only elements that are currently enabled in
<code>x</code> are returned.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A plotted table (<code>pltdTable</code> object) has three types of elements:
entries, blocks, and hvrules.  <em>Entries</em> are the text strings (and
associated properties) displayed in table cells.  <em>Blocks</em> are
rectangular sets of contiguous table cells.  And <em>hvrules</em> are
spacers, with or without a visible line (or &quot;rule&quot;), used to separate or
group table rows and columns.  See the package vignette for more
information.
</p>
<p>This function allows one to inspect these elements.  The purpose is
primarily informational: an easy way to view all the elements of a table,
their descriptors (e.g., as used by styles and the <code>propsd&lt;-</code>
function), and the graphical properties they have been assigned.  It is
not intended as a way to edit or modify elements.  For that, see
<code>update</code> methods for <code>textTable</code> and <code>pltdTable</code> objects,
the <code>props&lt;-</code> set of functions, and section 4 of the package
vignette.
</p>
<p>The remainder of this section describes the columns in the returned data
frame, for each element type.
</p>
<p><strong>Columns in <code>elements(x, type="entry")</code></strong>
</p>
<p><em>Entry descriptors:</em>
</p>
 <dl>
<dt>id</dt><dd><p>Character string that uniquely identifies the entry.
The format is <code>&lt;part&gt;,&lt;partrow&gt;,&lt;partcol&gt;</code> for table parts that are
matrices (<code>rowhead</code>, <code>rowheadLabels</code>, <code>colhead</code>, and
<code>body</code>), and <code>&lt;part&gt;,&lt;partrow&gt;</code> for table parts that are vectors
(annotation parts <code>title</code>, <code>subtitle</code>, and <code>foot</code>).</p>
</dd>
<dt>part</dt><dd><p>Character string identifying the part of the table to which
the entry belongs: one of &quot;body&quot;, &quot;rowhead&quot;, &quot;colhead&quot;, &quot;rowheadLabels&quot;,
&quot;title&quot;, &quot;subtitle&quot;, or &quot;foot&quot;.</p>
</dd> <dt>subpart</dt><dd><p>Character string with
further information about the nature of of the entry within its part of
the table.  May be NA.</p>
</dd> <dt>partrow, partcol</dt><dd><p>Row number, column number
of the entry within its table part.  For parts that are vectors rather
than matrices, <code>partrow</code> will be the element number within the
vector, and <code>partcol</code> will be NA.  If an entry spans more than one
row or column, the minimum row/column number of the spanned cells is
used.</p>
</dd> <dt>headlayer</dt><dd><p>How far (in number of rows or columns) from the
body of the table the entry is.  By definition this is 0 for entries in
the body of the table.  It is 1 for row/column headers immediately
adjacent to the body, 2 for headers one row/column further out, and so on.
The layer numbers for row header labels match those for the corresponding
columns of row headers.  The layers for titles, subtitles, and foot lines
are the number of _rows_ from the body of the table.  When a table is
created with <code>rowheadInside</code> set to TRUE, the <code>headlayer</code> value
for the outermost layer of row headers (and for its label, if any) is
changed to 0, since the headers become interleaved with the table body.</p>
</dd>
<dt>level_in_layer</dt><dd><p>Numbering of entries within a given part and
headlayer.  For row and column headers this is based their hierarchical
structure (see the descriptors for blocks, below).  For other table parts
it is just an integer from 1 to the number of entries in that layer of
that part.</p>
</dd> <dt>multirow, multicolumn</dt><dd><p>Logicals indicating whether the
entry spans multiple rows or columns of the table.</p>
</dd> <dt>text</dt><dd><p>Character
string containing the formatted content of the entry, for display.  It may
use <code>plotmath</code> notation for mathematical notation, or markdown/HTML
tags; see <code>textspec</code> below.</p>
</dd> <dt>type</dt><dd><p>Character string identifying
the type of value the entry represents (e.g., &quot;numeric&quot;).  May be NA.  The
default for table annotation (<code>title</code>, <code>subtitle</code>, <code>foot</code>)
and <code>rowheadLabels</code> is &quot;character&quot;.</p>
</dd> <dt>textspec</dt><dd><p>Character string
indicating any special features of the text in <code>text</code>.  Currently
supported values are &quot;plain&quot;, &quot;plotmath&quot;, and &quot;markdown&quot;.  &quot;plotmath&quot;
indicates that the entry text contains mathematical notation as described
in <code>?plotmath</code>.  &quot;markdown&quot; means the text may contain markdown or
HTML tags to control its appearance; this requires the <code>ggtext</code>
package.</p>
</dd> <dt>enabled</dt><dd><p>Logical indicating whether the entry is to be
displayed when the table is plotted.  If FALSE the entry is ignored when
laying out the table or determining its size.</p>
</dd> <dt>arow1, arow2, acol1,
acol2</dt><dd><p>Range of row and column numbers occupied by an entry, with respect
to the augmented row-column grid for the table.  <code>arow1</code> &lt;
<code>arow2</code> and/or <code>acol1</code> &lt; <code>acol2</code> means the entry spans
multiple rows and/or columns.</p>
</dd> </dl>

<p><em>Graphical properties for entries</em>.  Values for these are assigned by
a <em>style</em>, either a default style (see <code>?tablesggOpt</code>) or
user-specified.
</p>
 <dl>
<dt>hjust</dt><dd><p>Numeric horizontal justification for entry text
(0=left, 0.5=center, 1=right).</p>
</dd> <dt>vjust</dt><dd><p>Numeric vertical
justification for entry text (0=top, 0.5=center, 1=bottom).</p>
</dd>
<dt>color</dt><dd><p>Character string; color for entry text.</p>
</dd> <dt>alpha</dt><dd><p>Numeric
value in [0, 1] specifying transparency of entry text (0=transparent,
1=opaque).</p>
</dd> <dt>size</dt><dd><p>Font size for entry text, in points (72.27 points
= 1 inch, 2.845 points = 1 mm).</p>
</dd> <dt>family</dt><dd><p>Character string, the font
to use for entry text.  &quot;serif&quot;, &quot;sans&quot;, and &quot;mono&quot; will work for all
graphics devices.  Other fonts may or may not be available on a particular
device.</p>
</dd> <dt>fontface</dt><dd><p>Numeric indicating 1=plain, 2=bold, 3=italic,
4=bold and italic.</p>
</dd> <dt>lineheight</dt><dd><p>Numeric multiplier that adjusts
interline spacing for multi-line entry text. 1.0 gives the default
spacing.</p>
</dd> <dt>angle</dt><dd><p>Rotation angle for entry text, in degrees
counter-clockwise from horizontal.</p>
</dd> <dt>hpad, vpad</dt><dd><p>Padding added around
the sides of entry text to keep it from touching cell borders, in
millimeters.  <code>hpad</code> is added on both the left and right sides of the
text, and <code>vpad</code> is added on both the top and bottom.</p>
</dd>
<dt>fill</dt><dd><p>Character string; background color for the cell(s) containing
the entry.  NA means no background color.</p>
</dd> <dt>fill_alpha</dt><dd><p>Numeric value
in [0, 1] specifying transparency of the cell background color
(0=transparent, 1=opaque).</p>
</dd> <dt>border_size</dt><dd><p>Thickness of the border to
draw around the cell(s) containing the entry text, in millimeters.</p>
</dd>
<dt>border_color</dt><dd><p>Character string; color for the border around entry
text.  NA means no border.</p>
</dd> <dt>minwidth, maxwidth</dt><dd><p>Minimum and maximum
width for the cell(s) spanned by the entry.  (Here <em>width</em> is with
respect to the text itself; i.e., the direction of reading for English
text, and therefore measured vertically if the text is rotated by 90 or
270 degrees.)  They may be expressed in two forms.  Positive values are
interpreted as absolute widths in millimeters, and should include the
amount of padding specified by <code>hpad</code> (when <code>angle</code> is 0 or 180
degrees) or <code>vpad</code> (when <code>angle</code> is 90 or 270 degrees).
Negative values are interpreted as multiples of the natural width of the
text itself, <em>without</em> including padding.  Thus setting
<code>minwidth</code> for an entry to <code>-1</code> will guarantee that the width of
the spanned cell(s) will be at least enough to contain the text without
wrapping. </p>
 <ul>
<li><p> An NA value for <code>minwidth</code> means there is
no constraint on minimum width, and is equivalent to 0.  An <code>Inf</code>
value for <code>maxwidth</code> means there is no constraint on maximum width.
(However in the absence of constraints, the internal algorithm favors
widths as close as possible to the natural width of the entry text,
without wrapping.) </p>
</li>
<li><p> An NA value for <code>maxwidth</code> means the maximum
width will be determined passively from the <code>maxwidth</code> values of
other entries in the same table column(s) (if <code>angle</code> is 0 or 180) or
row(s) (if <code>angle</code> is 90 or 270).  (It will never be less than
<code>minwidth</code>.) This may be useful for table titles and footnotes, where
long text should be wrapped to fit widths implied by the other table
entries. </p>
</li>
<li><p> Setting <code>maxwidth</code> to NA or to a finite value <code>&gt;
-1</code> and <code>&lt; Inf</code> means the spanned cell(s) may not be wide enough to
hold the text without wrapping it into multiple lines.  Therefore option
<code>tablesggOpt("allowWrap")</code> must be TRUE, and a warning will be raised
and <code>maxwidth</code> will be ignored if not. </p>
</li>
<li><p> The general effect of
setting <code>minwidth</code> to a non-zero value is to reduce or prevent text
wrapping, while the general effect of setting <code>maxwidth</code> to NA or a
finite value is to encourage wrapping.  Settings for one entry may affect
the width and wrapping of other entries, because column widths and row
heights for the table as a whole must satisfy the constraints for all
their entries. </p>
</li>
<li><p> Text representing <code>plotmath</code> expressions cannot
be wrapped, so <code>maxwidth</code> should be <code>Inf</code> or <code>&lt;= -1</code> for
such entries. </p>
</li></ul>
 </dd> </dl>

<p><strong>Columns in <code>elements(x, type="block")</code></strong>
</p>
<p><em>Block descriptors:</em>
</p>
 <dl>
<dt>id</dt><dd><p>Character string that uniquely identifies the block.
The format is just <code>&lt;type&gt;</code> for blocks types that are unique.  For
blocks associated with row or column headers, or with row groups formed by
the plot option <code>rowgroupSize</code>, ID's begin with
<code>&lt;type&gt;/&lt;subtype&gt;/&lt;headlayer&gt;/&lt;level_in_layer&gt;</code>.  See Appendix B of
the package vignette for details about the definitions and ID's of these
blocks.</p>
</dd> <dt>type</dt><dd><p>Character string that specifies the nature or
structural role of the block.  One of </p>
 <dl>
<dt>&quot;table&quot;</dt><dd><p>The whole
table (all cells).</p>
</dd> <dt>&quot;title&quot;, &quot;subtitle&quot;, &quot;colhead&quot;, &quot;rowhead&quot;,
&quot;rowheadLabels&quot;, &quot;body&quot;, &quot;foot&quot;</dt><dd><p> The standard table parts.  (If there are
interior row header entries, &quot;rowhead&quot; and &quot;body&quot; are omitted because the
interleaving of headers and body means neither are valid blocks.)</p>
</dd>
<dt>&quot;titles&quot;</dt><dd><p>The union of the <code>title</code> and <code>subtitle</code> parts.</p>
</dd>
<dt>&quot;stub&quot;</dt><dd><p>If we exclude the title/subtitle and foot annotations, a
table has four quadrants: the body at the lower right, the row headers at
the lower left, the column headers at the upper right, and a stub at the
upper left.  That is, the stub consists of the cells above the row headers
and to the left of the column headers.  (If there are row header
labels&ndash;block &quot;rowheadLabels&quot;&ndash;they will be in the bottom row of the
stub.)</p>
</dd> <dt>&quot;colhead_and_stub&quot;, &quot;rowhead_and_stub&quot;</dt><dd><p>The unions of &quot;stub&quot;
with &quot;colhead&quot; and &quot;rowhead&quot;, respectively.</p>
</dd> <dt>&quot;colhead_and_body&quot;,
&quot;rowhead_and_body&quot;</dt><dd><p>The unions of &quot;body&quot; with &quot;colhead&quot; and &quot;rowhead&quot;,
respectively.</p>
</dd> <dt>&quot;rowblock&quot;, &quot;colblock&quot;</dt><dd><p>Collections of blocks
associated with row and column headers, reflecting their hierarchical
structure.  &quot;rowblock&quot; is also the type for blocks representing row groups
formed by plot option <code>rowgroupSize</code>.  See Appendix B of the package
vignette for details.</p>
</dd> </dl>
 </dd> <dt>subtype</dt><dd><p>Character string refining block
type.  For types &quot;rowblock&quot; and &quot;colblock&quot;, subtypes are &quot;A&quot;, &quot;B&quot;, &quot;C&quot;,
and (for &quot;rowblock&quot; only) &quot;G&quot;.  See Appendix B of the package vignette for
their meaning.  For other block types the subtype is set to missing (NA).</p>
</dd>
<dt>headlayer</dt><dd><p>For &quot;rowblock&quot; and &quot;colblock&quot; blocks, the header layer
number with which the block is associated.  (Layer numbers increase from
innermost to outermost layer.)  For other block types, <code>headlayer</code> is
NA.</p>
</dd> <dt>level_in_layer</dt><dd><p>For &quot;rowblock&quot; and &quot;colblock&quot; blocks, the level
number (within the header layer) with which the block is associated.
Levels are numbered from 1 to the maximum number of levels in that layer.
For other block types, <code>level_in_layer</code> is NA.</p>
</dd>
<dt>group_in_level</dt><dd><p>For &quot;rowblock&quot; blocks of subtype &quot;G&quot; (representing
sets of rows grouped according to <code>rowgroupSize</code>), the group number
within a header layer and level.  NA for other block types/subtypes.</p>
</dd>
<dt>had_enabled_entries</dt><dd><p>Logical, set to TRUE if there were _enabled_
table entries in <code>x</code> that intersect the block.  This is set at the
time the plotted table (<code>pltdTable</code> object) is created.  It is not
updated if entries are later enabled/disabled using <code>props&lt;-</code>, for
example.</p>
</dd> <dt>nr, nc</dt><dd><p>The number of rows and columns, respectively, that
the block spans.  May be 0 for empty blocks.</p>
</dd> <dt>arow1, arow2, acol1,
acol2</dt><dd><p>First and last row and column numbers spanned by the block, with
respect to the augmented row-column grid for the table.  Empty blocks,
with no rows or no columns (<code>nr</code> or <code>nc</code> equal to 0), will have
the corresponding <code>arow*</code> or <code>acol*</code> set to NA.</p>
</dd>
<dt>enabled</dt><dd><p>Logical indicating whether the block is to be displayed
when the table is plotted.  This applies only to highlighting the
rectangular region occupied by the block using a fill color or border.  It
has no effect on display of entries or hvrules contained within the
block.</p>
</dd> </dl>

<p><em>Graphical properties for blocks</em>.  Values for these are assigned by
a <em>style</em>, either a default style (see <code>?tablesggOpt</code>) or
user-specified.
</p>
 <dl>
<dt>fill</dt><dd><p>Character string; color used to fill the
rectangular region contained in the block.  NA means the region is not
colored.  (Blocks are drawn before table entries or hvrules, so the block
fill color will not hide those elements even if it is opaque.)</p>
</dd>
<dt>fill_alpha</dt><dd><p>Numeric value in [0, 1] specifying transparency of the
block fill color (0=transparent, 1=opaque).</p>
</dd> <dt>border_size</dt><dd><p>Thickness
of the border to draw around the block, in millimeters.</p>
</dd>
<dt>border_color</dt><dd><p>Character string; color for the border around the
block.  NA means no border.</p>
</dd> </dl>

<p><strong>Columns in <code>elements(x, type="hvrules")</code></strong>
</p>
<p><em>hvrule descriptors:</em>
</p>
 <dl>
<dt>id</dt><dd><p>Character string that uniquely identifies the hvrule.
The format is <code>&lt;block&gt;_&lt;side&gt;</code>.</p>
</dd> <dt>direction</dt><dd><p>Character string,
either &quot;hrule&quot; for a horizontal rule or &quot;vrule&quot; for a vertical rule.</p>
</dd>
<dt>block</dt><dd><p>The ID of the block along the side of which the hvrule runs.</p>
</dd>
<dt>side</dt><dd><p>Which side of the block the hvrule runs along, &quot;top&quot;,
&quot;bottom&quot;, &quot;left&quot;, or &quot;right&quot;.</p>
</dd> <dt>adjacent_blocks</dt><dd><p>Character string
containing the IDs of blocks that are adjacent to <code>block</code> on the same
side as the hvrule.  (I.e., blocks that are separated from <code>block</code> by
the hvrule.)  Block IDs within the string are separated by semicolons.  If
there are no adjacent blocks the string will be empty (&quot;&quot;).</p>
</dd> <dt>arow1,
arow2, acol1, acol2</dt><dd><p>Location of the hvrule with respect to the augmented
row-column grid of the table.  An hrule is inserted between table rows,
and therefore <code>arow1</code> and <code>arow2</code> are the same and equal to a
half-integer.  For example, an hrule inserted between rows 3 and 4 has
<code>arow1 = arow2 = 3.5</code>.  <code>acol1</code> and <code>acol2</code> for the hrule
are integers indicating the range of columns that it spans.  Analogously,
a vrule is inserted between table columns, so <code>acol1</code> and
<code>acol2</code> are identical and equal to a half-integer, while <code>arow1</code>
and <code>arow2</code> are integers that indicate the range of rows spanned by
the vrule.</p>
</dd> <dt>enabled</dt><dd><p>Logical indicating whether the hvrule is to be
displayed when the table is plotted.  If FALSE the hvrule is ignored when
laying out the table or determining its size.</p>
</dd> </dl>

<p><em>Graphical properties for hvrules</em>.  Values for these are assigned by
a <em>style</em>, either a default style (see <code>?tablesggOpt</code>) or
user-specified.
</p>
 <dl>
<dt>linetype</dt><dd><p>Integer indicating the type of line to display.
1 = solid line; 2 = dashed; 3 = dotted.  (See the documentation of
<code>lty</code> in <code>?par</code> for the full set of choices.)  A line type of 0
means no line will be drawn, so the hvrule just inserts empty space
between table rows or columns.</p>
</dd> <dt>size</dt><dd><p>Thickness of the line, in
millimeters.</p>
</dd> <dt>color</dt><dd><p>Character string; the color of the line.</p>
</dd>
<dt>alpha</dt><dd><p>Numeric value in [0, 1] specifying transparency of the line
color (0=transparent, 1=opaque).</p>
</dd> <dt>space</dt><dd><p>The width (for a vertical
rule) or height (for a horizontal rule) of the rectangle inserted between
columns or rows by the hvrule.  (A line, if any, is drawn within this
rectangle.)  This is the amount of space the rule adds to the width or
height of the table, in millimeters.</p>
</dd> <dt>fill</dt><dd><p>Character string; color
used to fill the rectangle containing the hvrule.  NA means the region is
not colored.</p>
</dd> <dt>fill_alpha</dt><dd><p>Numeric value in [0, 1] specifying
transparency of the fill color (0=transparent, 1=opaque).</p>
</dd> </dl>



<h3>Value</h3>

<p>A data frame with one row per element.  Columns include element
descriptors and graphical properties assigned to each element.  The row
names of the data frame will be the element ID's.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tablesggOpt">tablesggOpt</a></code>, <code><a href="#topic+styleObj">styleObj</a></code>, <code><a href="#topic+ids">ids</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab)
str(elements(plt, type="entry"))
str(elements(plt, type="block"))  # 0 rows, none are enabled for display
str(elements(plt, type="block", enabledOnly=FALSE))
str(elements(plt, type="hvrule"))
  </code></pre>

<hr>
<h2 id='entries'>Extract the <code>prentries</code> Object from a Plot-Ready or Plotted Table </h2><span id='topic+entries'></span>

<h3>Description</h3>

<p>Extract the <code>prEntries</code> object from a plot-ready or plotted table.
This is an internal function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>entries(x, enabledOnly=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="entries_+3A_x">x</code></td>
<td>
<p>A plot-ready (<code>prTable</code>) or plotted (<code>pltdTable</code>) table object.
</p>
</td></tr>
<tr><td><code id="entries_+3A_enabledonly">enabledOnly</code></td>
<td>
<p>Logical.  If TRUE, only the subset of table entries that are enabled is
extracted.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>prEntries</code> object, containing plot-ready entries for a table.
</p>

<hr>
<h2 id='entries_by_block'>Find the Entries that are Contained Within a Set of Table Blocks </h2><span id='topic+entries_by_block'></span>

<h3>Description</h3>

<p>For each table block, find the entries that are completely or partially
contained within it.  This is an internal utility function, not intended
to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>entries_by_block(x, blocks, strict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="entries_by_block_+3A_x">x</code></td>
<td>
<p>An object containing table entries, such as <code>tblEntries</code> or
<code>prEntries</code> objects.
</p>
</td></tr>
<tr><td><code id="entries_by_block_+3A_blocks">blocks</code></td>
<td>
<p>A <code>tblBlocks</code> object containing table blocks.
</p>
</td></tr>
<tr><td><code id="entries_by_block_+3A_strict">strict</code></td>
<td>
<p>Logical scalar.  If TRUE, only entries completely contained with a given
block are included.  If FALSE, entries that overlap the block but are not
completely contained within it will also be included.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with one component per block in <code>blocks</code>.  Component <code>i</code>
contains a numeric vector with the indices of the entries in <code>x</code> that
belong to block <code>i</code>.
</p>

<hr>
<h2 id='entries+26lt+3B-'>Update the Table Entries of a Plot-Ready or Plotted Table </h2><span id='topic+entries+3C-'></span>

<h3>Description</h3>

<p>Update the table entries component of a plot-ready (<code>prTable</code>) or
plotted (<code>pltdTable</code>) table object.  This is an internal function,
not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>entries(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="entries+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>A plot-ready (<code>prTable</code>) or plotted (<code>pltdTable</code>) table object.
</p>
</td></tr>
<tr><td><code id="entries+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>A <code>prEntries</code> object containing the new plot-ready table entries.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated table entries.
</p>

<hr>
<h2 id='entrySize_mm'>Calculate the Sizes of Table Entries, in Mm </h2><span id='topic+entrySize_mm'></span>

<h3>Description</h3>

<p>Calculate the horizontal and vertical sizes, in millimeters, of the text
strings in a <code>prEntries</code> object.  This is an internal function, not
intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>entrySize_mm(entryInfo, allowWrap, sizeAdjust=c(1, 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="entrySize_mm_+3A_entryinfo">entryInfo</code></td>
<td>
<p>A <code>prEntries</code> object, currently implemented as a data frame with one
row per table entry.  It must include columns <code>text</code>,
<code>textspec</code>, <code>maxwidth</code>, and properties <code>size</code>,
<code>family</code>, <code>fontface</code>, <code>hpad</code>, <code>vpad</code>, <code>angle</code>,
and <code>lineheight</code>.  <code>size</code> should be in points, <code>angle</code> in
degrees, and <code>lineheight</code> should be specified as a multiple of text
size (see <code>?grid::gpar</code>).
</p>
</td></tr>
<tr><td><code id="entrySize_mm_+3A_allowwrap">allowWrap</code></td>
<td>
<p>Logical scalar.  If TRUE, entry sizes will be calculated after any text
wrapping required by <code>entryInfo$maxwidth</code>.
</p>
</td></tr>
<tr><td><code id="entrySize_mm_+3A_sizeadjust">sizeAdjust</code></td>
<td>
<p>Two-element numeric vector containing multipliers to adjust the calculated
absolute size of table text.  The first element is applied to the
horizontal dimension and the second to the vertical dimension.  Ignored if
<code>allowWrap</code> is FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The dimensions are for an unrotated rectangle that just encloses the
(possibly rotated) text.  (So <code>hsize</code> is always measured parallel to
the x-axis and <code>vsize</code> parallel to the y-axis; i.e., they are with
respect to the reference frame of the whole table.)
</p>
<p>This relies on the functions <code>grid::convertWidth</code> and
<code>grid::convertHeight</code>.  They require that a graphics device to be
open.  It would be natural to use the currently active device, if any, but
this seems to generate empty pages on that device.  Therefore a temporary
PDF device is silently opened, and then deleted at the end.
</p>
<p>String sizes may vary slightly between different graphics devices, even
with the same graphics properties (font size, family, face, etc).
</p>
<p>The height of text processed with <code>richtext_grob</code> or
<code>textbox_grob</code> differs from the same text processed with
<code>textGrob</code>: (a) The former includes the height of character
descenders (whether or not the text actually includes characters with
descenders), whereas the latter does not.  (b) Interline spacing seems to
be smaller with the former than with the latter.  Descender height is
returned in column <code>descender</code>; it will be 0 for text not processed
with <code>richtext_grob</code> or <code>textbox_grob</code>.
</p>


<h3>Value</h3>

<p>Data frame with the same row names as <code>entryInfo</code>, and columns:
<code>hsize</code> and <code>vsize</code> containing entry dimensions in millimeters;
<code>horiz</code> (logical, TRUE if entry angle is 0 or 180 degrees);
<code>descender</code> (amount of space included in <code>hsize</code> (if
<code>horiz</code> is FALSE) or <code>vsize</code> (if <code>horiz</code> if TRUE) to allow
for descenders); and <code>wrap</code> (logical, whether <code>text</code> needed to
be wrapped to satisfy <code>maxwidth</code>).
</p>
<p>The data frame has an attribute <code>device</code>, containing the name of the
graphics device used when calculating text sizes.  (Currently this is
always &quot;pdf&quot;.)
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+Devices">Devices</a></code>
</p>

<hr>
<h2 id='eval_conditions'>Evaluate a Set of Logical Conditions Within a Data Frame </h2><span id='topic+eval_conditions'></span>

<h3>Description</h3>

<p>Evaluate each of a set of logical <code>conditions</code> within a data frame
<code>x</code>.  This is an internal utility function, not intended to be called
directly by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_conditions(x, conditions, NA_condition_value=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_conditions_+3A_x">x</code></td>
<td>
<p>A data frame.
</p>
</td></tr>
<tr><td><code id="eval_conditions_+3A_conditions">conditions</code></td>
<td>
<p>Character vector.  Each element should represent an expression that can be
evaluated within <code>x</code>, and produce a logical scalar or a vector with
one value per row of <code>x</code>.  Elements of <code>conditions</code> that are NA
or the empty string are treated specially, via <code>NA_condition_value</code>.
</p>
</td></tr>
<tr><td><code id="eval_conditions_+3A_na_condition_value">NA_condition_value</code></td>
<td>
<p>Logical scalar, TRUE, FALSE, or NA.  The value to use in place of
evaluation when an element of <code>conditions</code> is NA or the empty string.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each condition should generally represent an expression involving columns
of <code>x</code>.  It is evaluated using <code>x</code> as the environment, and must
return either a logical vector with length equal to the number of rows in
<code>x</code>, or a logical scalar (which will be replicated into a vector of
the right length).  The resulting vectors, one per condition, form the
columns of the returned matrix.
</p>
<p>A condition may be NA or the empty string.  In that case it is not
evaluated, and a vector containing <code>NA_condition_value</code> is used
instead.
</p>


<h3>Value</h3>

<p>Logical matrix with one row for each row of <code>x</code> and one column for
each condition in <code>conditions</code>.  Element <code>[i, j]</code> contains the
result of evaluating <code>condition[j]</code> for the <code>i</code>-th row of
<code>x</code>.
</p>

<hr>
<h2 id='fill_NA_idx'>Indices to Impute NA Elements of a Vector by LOCF </h2><span id='topic+fill_NA_idx'></span>

<h3>Description</h3>

<p>Indices to impute NA elements of a vector by the
last-observation-carried-forward method.  This is an internal function,
not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fill_NA_idx(y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fill_NA_idx_+3A_y">y</code></td>
<td>
<p>A vector.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of indices with the same length as <code>y</code>.  If <code>x &lt;-
y[fill_NA_idx(y)]</code>, then <code>x</code> will be <code>y</code> with NA values imputed
by the last-observation-carried-forward method.
</p>

<hr>
<h2 id='format_xtable'>Format Entries in an <code>xtable</code> into Character Strings </h2><span id='topic+format_xtable'></span>

<h3>Description</h3>

<p>Format entries in an <code>xtable</code> object into character strings.  (This
is essentially a <code>format</code> method for <code>xtable</code> objects.)  This is
an internal function not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_xtable(x, row.names=TRUE, na="NA", mathExponents=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_xtable_+3A_x">x</code></td>
<td>
<p>An <code>xtable</code> object.
</p>
</td></tr>
<tr><td><code id="format_xtable_+3A_row.names">row.names</code></td>
<td>
<p>Logical scalar.  If FALSE, the row names of <code>x</code> are not included in
the returned formatted table.
</p>
</td></tr>
<tr><td><code id="format_xtable_+3A_na">na</code></td>
<td>
<p>String to be used to represent missing values in <code>x</code>.  The default
value is the empty string &quot;&quot;.
</p>
</td></tr>
<tr><td><code id="format_xtable_+3A_mathexponents">mathExponents</code></td>
<td>
<p>Logical scalar.  If TRUE, then numerical values in <code>x</code> that are
formatted into scientific notation (i.e., strings like &quot;3.14e-02&quot;,
specified by values of <code>e</code> or <code>E</code> in the <code>display</code>
attribute of <code>x</code>) will be plotted in math style, with the power of 10
shown as a superscript.
</p>
</td></tr>
<tr><td><code id="format_xtable_+3A_...">...</code></td>
<td>
<p>Additional named arguments passed to <code>formatC</code>, when converting
values in <code>x</code> to character strings.  They must not include
<code>digits</code> or <code>format</code>, which are specified within <code>x</code>
itself.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is mostly code extracted from <code>print.xtable</code> in version 1.8-4 of
the <code>xtable</code> package by David B.  Dahl et al.
</p>


<h3>Value</h3>

<p>A character matrix with one row per row in <code>x</code> (not counting column
names), and one column per column in <code>x</code> (including a column of row
names, if <code>row.names</code> is TRUE).
</p>

<hr>
<h2 id='grSpecs'>Specifications for Graphical Properties for an Element Type </h2><span id='topic+grSpecs'></span>

<h3>Description</h3>

<p>Return a data frame with specifications for graphical properties
associated with an element type.  This is an internal function, not
intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grSpecs(type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grSpecs_+3A_type">type</code></td>
<td>
<p>Element type, one of <code>entry</code>, <code>block</code>, <code>hvrule</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Graphical properties are documented in <code>?elements</code>.
</p>


<h3>Value</h3>

<p>A data frame with one row per graphical property.  Columns are <code>name</code>
(the name of the property); <code>mode</code> (mode/type of values taken by the
property); <code>NA_ok</code> (logical, TRUE if NA is a valid value for the
property); and <code>scalable</code> (logical, TRUE if the property is to be
treated as scalable).
</p>
<p>Property names are used as the row names of the data frame.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+df_from_spec">df_from_spec</a></code>, which uses the output from this function to
create a template data frame for graphical properties.
</p>

<hr>
<h2 id='headerRuns'>Runs of Repeated Values in a Header Matrix </h2><span id='topic+headerRuns'></span>

<h3>Description</h3>

<p>Identify runs of repeated values in a matrix of row or columns headers.
Detection of runs respects the hierarchical structure of headers.  This is
an internal utility function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>headerRuns(x, which_head)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="headerRuns_+3A_x">x</code></td>
<td>
<p>A matrix containing table row or column headers.
</p>
</td></tr>
<tr><td><code id="headerRuns_+3A_which_head">which_head</code></td>
<td>
<p>Character scalar, &quot;row&quot; or &quot;col&quot;, indicating whether <code>x</code> contains row
headers or column headers.  &quot;row&quot; means that each column corresponds to
one header variable or layer, ordered from outermost to innermost, left to
right (i.e., as the header would be displayed).  &quot;col&quot; means that each
_row_ corresponds to one header variable, ordered from outermost (top) to
innermost (bottom), again as the header would be displayed.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Runs are defined cumulatively across header variables.  For the outermost
variable, runs consist of consecutive duplicated values in the first
column/row of <code>x</code>; for the second-outermost variable, runs are
defined by consecutive duplicated values in the first two columns/rows of
<code>x</code>, and so on.  (That is, the header variables are treated as a
hierarchy, with inner variables nested within outer ones.)
</p>


<h3>Value</h3>

<p>A list with one component per header variable in <code>x</code>.  Each component
is a data frame.  The <code>i</code>-th data frame has one row per run of values
in the <code>i</code>-th header variable, with columns:
</p>
<table>
<tr><td><code>headlayer</code></td>
<td>
<p>Header layer number, increasing from innermost (most deeply nested) to
outermost.  Thus for &quot;row&quot; headers it is the reverse of column number in
<code>x</code> (<code>ncol(x) - i + 1</code>), and for &quot;col&quot; headers it is the reverse
of row number in <code>x</code> (<code>nrow(x) - i + 1</code>).
</p>
</td></tr>
<tr><td><code>level_in_layer</code></td>
<td>
<p>Run number within the layer.  Levels are numbered from 1, so this column
is just the sequence from 1 to the number of rows in the data frame.
</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>The value in <code>x</code> associated with the run.
</p>
</td></tr>
<tr><td><code>start</code></td>
<td>
<p>Position in <code>x</code> where the run starts (row number for &quot;row&quot; headers,
column number for &quot;col&quot; headers).
</p>
</td></tr>
<tr><td><code>runlen</code></td>
<td>
<p>Length of the run (number of rows or columns).
</p>
</td></tr>
</table>
<p>If <code>x</code> is NULL, the returned value is also NULL.  If <code>x</code> has no
header variables, the returned value is an empty list, <code>list()</code>.
</p>

<hr>
<h2 id='hvrules'>Extract the <code>prhvrules</code> Object from a Plot-Ready or Plotted Table </h2><span id='topic+hvrules'></span>

<h3>Description</h3>

<p>Extract the <code>prHvrules</code> object from a plot-ready or plotted table.
This is an internal function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hvrules(x, enabledOnly=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hvrules_+3A_x">x</code></td>
<td>
<p>A plot-ready (<code>prTable</code>) or plotted (<code>pltdTable</code>) table object.
</p>
</td></tr>
<tr><td><code id="hvrules_+3A_enabledonly">enabledOnly</code></td>
<td>
<p>Logical.  If TRUE, only the subset of table hvrules that are enabled is
extracted.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>prHvrules</code> object, containing plot-ready hvrules for a table, or
NULL if none have been defined.
</p>

<hr>
<h2 id='hvrules+26lt+3B-'>Update the Hvrules of a Plot-Ready or Plotted Table </h2><span id='topic+hvrules+3C-'></span>

<h3>Description</h3>

<p>Update the hvrules component of a plot-ready (<code>prTable</code>) or plotted
(<code>pltdTable</code>) table object.  This is an internal function, not
intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hvrules(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hvrules+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>A plot-ready (<code>prTable</code>) or plotted (<code>pltdTable</code>) table object.
</p>
</td></tr>
<tr><td><code id="hvrules+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>A <code>prHvrules</code> object containing the new plot-ready hvrules.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated hvrules.
</p>

<hr>
<h2 id='ids'>Get the Identifier Strings for Parts or Elements of a Table </h2><span id='topic+ids'></span>

<h3>Description</h3>

<p>Get the unique identifier strings for elements of a plotted table, or for
parts of a <code>textTable</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ids(x, type, enabledOnly=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ids_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> or a plotted table (<code>pltdTable</code>) object.
</p>
</td></tr>
<tr><td><code id="ids_+3A_type">type</code></td>
<td>
<p>Character scalar indicating the type of elements to get ID's for.  May be
&quot;entry&quot;, &quot;block&quot;, or &quot;hvrule&quot; for a plotted table, or &quot;part&quot; for a
<code>textTable</code>.  Optional for a <code>textTable</code>.
</p>
</td></tr>
<tr><td><code id="ids_+3A_enabledonly">enabledOnly</code></td>
<td>
<p>Logical scalar.  If TRUE, ID's are returned only for elements that are
currently enabled in <code>x</code>.  (Ignored for a <code>textTable</code>.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A plotted table (<code>pltdTable</code> object) has three types of elements:
entries, blocks, and hvrules.  Entries are the text strings (and
associated properties) displayed in table cells.  Blocks are rectangular
sets of contiguous table cells.  And hvrules are spacers, with or without
a visible line (or &quot;rule&quot;), used to separate or group table rows and
columns.
</p>
<p>Each element has an ID string, unique within an element type, and this
function returns a vector of those strings.
</p>
<p>A <code>textTable</code> has parts (&quot;title&quot;, &quot;subtitle&quot;, &quot;rowhead&quot;, etc.), and
this function just returns the vector of the part ID's.
</p>


<h3>Value</h3>

<p>A character vector of identifiers.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+elements">elements</a></code>, which returns a data frame with full information
about each element of a plotted table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ttbl &lt;- textTable(iris2_tab)
  # Just the names of the standard table parts:
  ids(ttbl)
  
  ptbl &lt;- plot(ttbl)
  # ID's of all the blocks defined for the table:
  ids(ptbl, type="block", enabledOnly=FALSE)
  # ID's of the blocks that are enabled for display (by default, none):
  ids(ptbl, type="block", enabledOnly=TRUE)
  </code></pre>

<hr>
<h2 id='iris2'>A Reshaped Version of Anderson's Iris Data</h2><span id='topic+iris2'></span>

<h3>Description</h3>

<p>This is the same as <span class="rlang"><b>R</b></span>'s built-in <code>iris</code> data set, but reshaped into 
&ldquo;long&rdquo; format.  It contains four measurements for 50 
flowers from each of three species of iris.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iris2</code></pre>


<h3>Format</h3>

<p>A data frame with 600 observations on the following 5 variables.
</p>

<dl>
<dt><code>plant</code></dt><dd><p>a numeric vector, numbering the flowers from 1 to 150</p>
</dd>
<dt><code>Species</code></dt><dd><p>a factor with levels <code>setosa</code> <code>versicolor</code> <code>virginica</code></p>
</dd>
<dt><code>flower_part</code></dt><dd><p>a factor with levels <code>Sepal</code> <code>Petal</code></p>
</dd>
<dt><code>direction</code></dt><dd><p>a factor with levels <code>Length</code> <code>Width</code></p>
</dd>
<dt><code>value</code></dt><dd><p>a numeric vector, the measured value, in centimeters</p>
</dd>
</dl>



<h3>Source</h3>


<ul>
<li><p> Fisher, R. A. (1936) The use of multiple measurements in taxonomic
problems.  <em>Annals of Eugenics</em>, <b>7</b>, Part II, 179&ndash;188.
</p>
</li>
<li><p> The data were collected by Anderson, Edgar (1935).  The irises of
the Gaspe Peninsula, <em>Bulletin of the American Iris Society</em>,
<b>59</b>, 2&ndash;5.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>data(iris2)
str(iris2)
</code></pre>

<hr>
<h2 id='iris2_tab'>Table of Summary Statistics for Anderson's Iris Data</h2><span id='topic+iris2_tab'></span>

<h3>Description</h3>

<p>A table of means and standard deviations of the four measurements 
per iris plant, by species. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iris2_tab</code></pre>


<h3>Format</h3>

<p>A <code>tabular</code> object as produced by version 0.9.6 of the <span class="pkg">tables</span> 
package by Duncan Murdoch (<code style="white-space: pre;">&#8288;https://CRAN.R-project.org/package=tables&#8288;</code>). 
The table was produced with the following code, starting from the 
<code>iris2</code> data frame:
</p>
<pre>iris2_tab &lt;- tables::tabular(
                     Species*Heading()*value*Format(digits=2)*(mean + sd) ~ 
                     Heading("Flower part")*flower_part*Heading()*direction, 
                     data=iris2)
  </pre>


<h3>Source</h3>


<ul>
<li><p> Fisher, R. A. (1936) The use of multiple measurements in taxonomic
problems.  <em>Annals of Eugenics</em>, <b>7</b>, Part II, 179&ndash;188.
</p>
</li>
<li><p> The data were collected by Anderson, Edgar (1935).  The irises of
the Gaspe Peninsula, <em>Bulletin of the American Iris Society</em>,
<b>59</b>, 2&ndash;5.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+iris2">iris2</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("tables", quietly=TRUE)) {
  print(iris2_tab)  # uses print method for 'tabular' objects
}
plot(iris2_tab)
</code></pre>

<hr>
<h2 id='make_header_entries'>Convert a Matrix of Headers to Table Entries, with Merging of Runs </h2><span id='topic+make_header_entries'></span>

<h3>Description</h3>

<p>Given a matrix of row or column headers, create a corresponding set of
table entries, optionally with runs of repeated values merged into single
entries.  This is an internal utility function, not intended to be called
by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_header_entries(x, xhier, which_head, offset, mergeRuns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_header_entries_+3A_x">x</code></td>
<td>
<p>A character matrix containing header text.  The orientation and dimensions
should match those used for storing the corresponding header in
<code>textTable</code> objects (and also the way headers are displayed).  Thus
for row headers there is one column per header _layer_ (outermost layer to
innermost from left to right), and the number of rows matches the number
of rows in the table body.  For column headers there is one _row_ per
layer (outermost to innermost from top to bottom), and the number of
columns matches the table body.
</p>
</td></tr>
<tr><td><code id="make_header_entries_+3A_xhier">xhier</code></td>
<td>
<p>List of data frames containing information about the hierarchical
structure of the header.  Function <code>headerRuns</code> creates such a list.
</p>
</td></tr>
<tr><td><code id="make_header_entries_+3A_which_head">which_head</code></td>
<td>
<p>Character string indicating whether <code>x</code> contains &quot;row&quot; or &quot;col&quot;umn
headers.
</p>
</td></tr>
<tr><td><code id="make_header_entries_+3A_offset">offset</code></td>
<td>
<p>Two-element numeric vector.  The first element is the offset to be added
to row numbers of <code>x</code> to convert them to <code>arow*</code> values in the
table's expanded row-column grid.  The second element is the offset to be
added to column numbers of <code>x</code> to convert them to <code>acol*</code>
values.
</p>
</td></tr>
<tr><td><code id="make_header_entries_+3A_mergeruns">mergeRuns</code></td>
<td>
<p>Numeric scalar, specifying how deeply in the header hierarchy runs of
repeated values will be merged into single entries.  Thus a value of 0
means no header cells will be merged, a value of 1 means only repeats in
the outermost header layer will be merged, 2 means repeats in the
outermost two layers will be merged, and so on.  (Determination of
repeated values respects the header hierarchy; see <code>headerRuns</code>.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>headlayer</code> and <code>level_in_layer</code> in the returned data frame are
based on <code>xhier</code>, which is not affected by <code>mergeRuns</code>.  Thus
when <code>mergeRuns</code> is less than the number of header layers (so some
runs are not merged), there may be multiple entries with the same
<code>headlayer</code> and <code>level_in_layer</code> values.  Entry ID's will be
unique however.
</p>


<h3>Value</h3>

<p>A data frame with a row for each header entry, and most of the columns
needed for a <code>tblEntries</code> object.  It has an additional attribute
<code>i,j</code> which is a two-column matrix containing the row and column
numbers in <code>x</code> associated with each entry.  (Minimum i, j values are
used for entries that span multiple rows or columns.)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+headerRuns">headerRuns</a></code>; <code><a href="#topic+tblEntries">tblEntries</a></code> and
<code><a href="#topic+tblBlocks">tblBlocks</a></code> (which use this function)
</p>

<hr>
<h2 id='make_rowgroups'>Group Rows of a Table into Sets of Fixed Size </h2><span id='topic+make_rowgroups'></span>

<h3>Description</h3>

<p>Create blocks representing groups of consecutive rows of a table, of
specified size.  (This is an internal utility function, not intended to be
called directly by package users.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_rowgroups(stdblks, rowheadruns, rowgroupSize)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_rowgroups_+3A_stdblks">stdblks</code></td>
<td>
<p>A data frame containing the standard set of table blocks created by
<code>tblBlocks</code> (without row groups).  Specifically, the row header
hierarchy blocks <code>rowblock/A/i/j</code> and <code>rowblock/C/i/j</code> are
required, along with <code>rowhead_and_body</code>.
</p>
</td></tr>
<tr><td><code id="make_rowgroups_+3A_rowheadruns">rowheadruns</code></td>
<td>
<p>A list with one data frame per layer of row headers (from outer to inner),
containing information about the hierarchical structure of the row
headers.
</p>
</td></tr>
<tr><td><code id="make_rowgroups_+3A_rowgroupsize">rowgroupSize</code></td>
<td>
<p>Numeric scalar.  If not 0 or NA, blocks will be created by grouping
consecutive rows of the table body into sets of this size.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal support function for <code>tblBlocks</code> and
<code>tblHvrules</code>.  The code relies on the standard naming of table blocks
in <code>tblBlocks</code>.
</p>
<p>When a table has many rows within a given level of the row header
hierarchy, the table may be easier to read if rows are grouped into
smaller sets of fixed size (groups of 5, for example), with some extra
space inserted between groups.  To facilitate this, this function creates
blocks representing such groups.  The block type is &quot;rowblock&quot; and subtype
is &quot;G&quot;.
</p>
<p>Grouping respects the row header hierarchy: the innermost header layer
that has runs of repeated values is identified (layer <code>i</code> say), and
grouping is done separately within each of its levels.  The block
representing a row group spans all columns of the table body as well as
row header layers out to layer <code>i-1</code>.  Block ID's have the form
<code>rowblock/G/i/j/k</code>, where <code>j</code> is the level number (within layer
<code>i</code>) that contains the group, and <code>k</code> is the group number within
that level.  Thus <code>i</code>, <code>j</code>, and <code>k</code> are the values of
<code>headlayer</code>, <code>level_in_layer</code>, and <code>group_in_level</code> for the
block.
</p>
<p>However if the table has no row headers, or none of the row header layers
have runs of repeated values, table rows are simply grouped into sets of
size <code>rowgroupSize</code>.  <code>headlayer</code> and <code>level_in_layer</code> will
be NA for the group blocks, and block ID's will have the form
<code>rowblock/G///k</code>, where <code>k</code> is the group number (and value of
<code>group_in_level</code>).
</p>


<h3>Value</h3>

<p>An S3 object of class <code>tblBlocks</code>, containing (just) the newly
created row group blocks.  These have type &quot;rowblock&quot; and subtype &quot;G&quot;.
</p>
<p>If <code>rowgroupSize</code> is not a finite positive value, the returned object
will have no blocks (no rows).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblBlocks">tblBlocks</a></code>; <code><a href="#topic+headerRuns">headerRuns</a></code> creates the list
required by argument <code>rowheadruns</code>.
</p>

<hr>
<h2 id='mtcars_xtab'>Table of Data from Motor Trend Magazine</h2><span id='topic+mtcars_xtab'></span>

<h3>Description</h3>

<p>This is a table of selected observations and variables from the data frame 
<code>mtcars</code> from package <span class="pkg">datasets</span>.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mtcars_xtab</code></pre>


<h3>Format</h3>

<p>An <code>xtableList</code> object as produced by version 1.8-4 of the <span class="pkg">xtable</span> 
package (<code style="white-space: pre;">&#8288;https://CRAN.R-project.org/package=xtable&#8288;</code>). The table was 
produced with the following code:
</p>
<pre>data("mtcars", package="datasets")
mtcars &lt;- mtcars[, 1:6]
mtcarsList &lt;- split(mtcars, f = mtcars$cyl)
### Reduce the size of the list elements
mtcarsList[[1]] &lt;- mtcarsList[[1]][1,]
mtcarsList[[2]] &lt;- mtcarsList[[2]][1:2,]
mtcarsList[[3]] &lt;- mtcarsList[[3]][1:3,]
attr(mtcarsList, "subheadings") &lt;- paste0("Number of cylinders = ",
                                          names(mtcarsList))
attr(mtcarsList, "message") &lt;- c("Line 1 of Message", "Line 2 of Message")
mtcars_xtab &lt;- xtable::xtableList(mtcarsList, digits = c(0,2,0,0,0,1,2),
                                caption = "Caption to List")
  </pre>


<h3>Source</h3>


<ul>
<li><p> Henderson and Velleman (1981), Building multiple regression models
interactively.  <em>Biometrics</em>, <b>37</b>, 391-411.
</p>
</li></ul>



<h3>See Also</h3>

<p><code>mtcars</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>  ttbl &lt;- textTable(mtcars_xtab)
  plot(ttbl, rowheadInside=TRUE)
</code></pre>

<hr>
<h2 id='notANumber'>Identify Strings that Cannot be Interpreted as Numbers </h2><span id='topic+notANumber'></span>

<h3>Description</h3>

<p>Identify strings in a character vector that cannot be interpreted as valid
numbers.  This is an internal utility function, not intended to be called
by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>notANumber(x, result=c("logical", "values"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="notANumber_+3A_x">x</code></td>
<td>
<p>A character vector.
</p>
</td></tr>
<tr><td><code id="notANumber_+3A_result">result</code></td>
<td>
<p>The form of result to be returned (see VALUE).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Which character strings can or cannot be interpreted as valid numbers is
determined by the function <code>as.numeric</code>.  Note that the empty string
&quot;&quot; is considered a valid representation of NA.
</p>


<h3>Value</h3>

<p>If <code>result</code> is &quot;logical&quot;, a logical vector as long as <code>x</code> that
is TRUE for those elements that cannot be interpreted as valid numbers.
If <code>result</code> is &quot;values&quot;, a character vector containing the unique
values in <code>x</code> that cannot be interpreted as valid numbers.
</p>

<hr>
<h2 id='paste_text'>Paste Strings that may Include <code>plotmath</code> or Markdown </h2><span id='topic+paste_text'></span>

<h3>Description</h3>

<p>Paste together text strings, where one or more of the strings may contain
<code>plotmath</code> expressions or markdown/HTML tags.  This is an internal
function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paste_text(x, ..., sep=c("plain"=" ", "plotmath"="~", "markdown"=" "))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paste_text_+3A_x">x</code>, <code id="paste_text_+3A_...">...</code></td>
<td>
<p>One or more character vectors or data frames.  Data frames should contain
columns <code>text</code>, and optionally <code>textspec</code> and <code>fontface</code>.
(A character vector is treated as a data frame with <code>text</code> as its
only column.)  <code>textspec</code> should indicate the content type of
<code>text</code>; if not present it is inferred by looking for special prefixes
in <code>text</code>.  <code>fontface</code> should be 1 for plain text, 2 for bold, 3
for italic, and 4 for bold italic; if not present a value of 1 is assumed.
Each data frame will have its rows recycled to match the number of rows in
the longest.
</p>
</td></tr>
<tr><td><code id="paste_text_+3A_sep">sep</code></td>
<td>
<p>Character vector containing strings to be inserted between text from
different arguments when pasting them together.  It may have one string
per valid <code>textspec</code> value, named by that value.  Note that in
plotmath, &quot;*&quot; juxtaposes two expressions with no space between them; &quot;~&quot;
inserts some space; and &quot;~~&quot; inserts more.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&quot;plotmath&quot; and &quot;markdown&quot; strings cannot be pasted together.  When a
&quot;plain&quot; string is pasted together with one of the other types, the result
will have the <code>textspec</code> value of the non-plain text.
</p>
<p>If a set of &quot;plain&quot; text strings to be pasted together use different
fontfaces, the final text will use plotmath or markdown to accomodate the
mixed faces.
</p>


<h3>Value</h3>

<p>A data frame with columns <code>text</code>, <code>textspec</code>, and
<code>fontface</code>.  The number of rows equals the number in the longest data
frame argument.  <code>text</code> contains the row-by-row pasted-together text
from the arguments, and <code>textspec</code> specifies the content type of each
row.  <code>fontface</code> is NA when <code>textspec</code> is &quot;plotmath&quot;, 1 when
<code>textspec</code> is &quot;markdown&quot;, and taken from <code>x</code> when
<code>textspec</code> is &quot;plain&quot;.
</p>


<h3>Note</h3>

<p>Changing &quot;plain&quot; text to &quot;markdown&quot; is incomplete.  For example, literal
<code>*</code> or <code>_</code> will be misinterpreted as markdown codes.
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+plotmath">plotmath</a></code>
</p>

<hr>
<h2 id='plot.pltdTable'>Display a <code>pltdtable</code> Object on a Graphics Device </h2><span id='topic+plot.pltdTable'></span>

<h3>Description</h3>

<p>Display a <code>pltdTable</code> object on a graphics device.  This is an alias
for <code>print.pltdTable</code>.  This is an internal function, not intended to
be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pltdTable'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.pltdTable_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object, representing a table.
</p>
</td></tr>
<tr><td><code id="plot.pltdTable_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>print.pltdTable</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.pltdTable">print.pltdTable</a></code>
</p>

<hr>
<h2 id='plot.prEntries'>A Plot Method for <code>prentries</code> Objects </h2><span id='topic+plot.prEntries'></span>

<h3>Description</h3>

<p>A plot method for <code>prEntries</code> objects, displaying tables using
<code>ggplot2</code> graphics.  This is an internal function, not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prEntries'
plot(x, hvruleStyle=tablesggOpt("hvruleStyle"), 
    blockStyle=tablesggOpt("blockStyle"), scale=attr(x, "current_scale"), 
    rowgroupSize=0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.prEntries_+3A_x">x</code></td>
<td>
<p>A <code>prEntries</code> object, containing plot-ready entries for a table.
</p>
</td></tr>
<tr><td><code id="plot.prEntries_+3A_hvrulestyle">hvruleStyle</code>, <code id="plot.prEntries_+3A_blockstyle">blockStyle</code>, <code id="plot.prEntries_+3A_scale">scale</code>, <code id="plot.prEntries_+3A_rowgroupsize">rowgroupSize</code></td>
<td>
<p>Arguments used to control the appearance of the plot.  See the
documentation for <code>plot.textTable</code> for more details about these
arguments.
</p>
</td></tr>
<tr><td><code id="plot.prEntries_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed to <code>plot.prTable</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function assumes that the standard set of blocks and hvrules is to be
used when plotting the table entries in <code>x</code>.  For more control over
blocks and hvrules, create them directly (for example by functions
<code>tblBlocks</code> and <code>prHvrules</code>) and then combine them with <code>x</code>
into a plot-ready table (function <code>prTable</code>).
</p>


<h3>Value</h3>

<p>An object of S3 class <code>pltdTable</code>, inheriting from <code>ggplot</code>.
See <code>plot.textTable</code> for details about this object.  There is a print
(display) method for this class, or the object can be modified in the
usual <code>ggplot</code> way before display.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.textTable">plot.textTable</a></code>, <code><a href="#topic+print.pltdTable">print.pltdTable</a></code>
</p>

<hr>
<h2 id='plot.prTable'>A Plot Method for <code>prtable</code> Objects </h2><span id='topic+plot.prTable'></span>

<h3>Description</h3>

<p>A plot method for <code>prTable</code> objects, to display tables using
<code>ggplot2</code> graphics.  This is an internal function, not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prTable'
plot(x, plot.margin=tablesggOpt("plot.margin"), sizeAdjust=c(1.0, 
    1.0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.prTable_+3A_x">x</code></td>
<td>
<p>A <code>prTable</code> object, containing a plot-ready table.
</p>
</td></tr>
<tr><td><code id="plot.prTable_+3A_plot.margin">plot.margin</code></td>
<td>
<p>Numeric vector of length 4, giving the amount of padding to be added
outside the top, right, bottom, and left sides of the table, in
millimeters.
</p>
</td></tr>
<tr><td><code id="plot.prTable_+3A_sizeadjust">sizeAdjust</code></td>
<td>
<p>Two-element numeric vector containing multipliers to adjust the calculated
absolute size of table text.  The first element is applied to the
horizontal dimension and the second to the vertical dimension.  See
DETAILS.
</p>
</td></tr>
<tr><td><code id="plot.prTable_+3A_...">...</code></td>
<td>
<p>Other arguments, ignored with a warning.  (Included for compatibility with
the <code>plot</code> generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implicit coordinate system for the plot is in millimeters, with the
origin at the upper left corner of the _table_ (which may differ from the
upper left corner of the plot due to <code>plot.margin</code>), and
y-coordinates increasing downward.  All sizes and dimensions are in
millimeters except font size, which is in points.
</p>
<p>The print method for <code>pltdTable</code> objects attempts to draw the table
at its natural size, as given by attribute <code>size_mm</code>.  (Function
<code>pltdSize</code> provides convenient access to this attribute, in
user-controllable units.) However the calculated size depends slightly on
the graphics device being used (see <code>?Devices</code>).  <code>sizeAdjust</code>
may be used to compensate for this difference when a plotted table object
created using one device is to be displayed with a different one.
</p>
<p>This function checks the <code>enabled</code> field of the <code>entries</code>,
<code>blocks</code>, and <code>hvrules</code> components of <code>x</code>.  Elements for
which <code>enabled</code> is FALSE are not displayed, and their size is treated
as 0 when laying out the table.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>pltdTable</code>, inheriting from <code>ggplot</code>.
(However if <code>x</code> has no enabled entries to plot, the returned value is
NULL, with a warning.)  There is a print (display) method for this class,
or the object can be modified in the usual <code>ggplot</code> way before
display.
</p>
<p>The object has attributes <code>plot.margin</code> and <code>sizeAdjust</code> (equal
to the arguments), and <code>size_mm</code> (the width and height of the plot,
in millimeters).  <code>size_mm</code> is calculated after applying
<code>sizeAdjust</code>, and includes both the table and any margins specified
by <code>plot.margin</code>.
</p>
<p>The object also has attributes <code>colBoundaries</code> and
<code>rowBoundaries</code> giving the coordinates of the boundaries between
columns and between rows, again in mm, and after applying
<code>sizeAdjust</code>.
</p>
<p>The object also has attribute <code>prTable</code>, the plot-ready table object
<code>x</code>.  This is to allow convenient updating of the display properties
of the table.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prTable">prTable</a></code>, <code><a href="#topic+pltdSize">pltdSize</a></code>,
<code><a href="#topic+print.pltdTable">print.pltdTable</a></code>, <code><a href="grDevices.html#topic+Devices">Devices</a></code>,
<code><a href="#topic+calc_rcsize">calc_rcsize</a></code>, <code><a href="#topic+coord_justif">coord_justif</a></code>
</p>

<hr>
<h2 id='plot.tabular'>A Plot Method for <code>tabular</code> Objects </h2><span id='topic+plot.tabular'></span>

<h3>Description</h3>

<p>A plot method for <code>tabular</code> objects, which represent a 2D data
summary table.  The table is displayed using <code>ggplot2</code> graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tabular'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.tabular_+3A_x">x</code></td>
<td>
<p>An object of class <code>tabular</code>, representing a 2D data summary table,
as produced by the <code>tables</code> package by Duncan Murdoch.
</p>
</td></tr>
<tr><td><code id="plot.tabular_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format.tabular</code> or
<code>plot.textTable</code>.  See the documentation for those functions.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a simple wrapper that first converts <code>x</code> to a
<code>textTable</code> object, and then plots that object.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>pltdTable</code>, inheriting from <code>ggplot</code>.
See the documentation for <code>plot.textTable</code> for more information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.textTable">plot.textTable</a></code>, <code>format.tabular</code>,
<code><a href="#topic+textTable.tabular">textTable.tabular</a></code>
</p>

<hr>
<h2 id='plot.tblEntries'>A Plot Method for <code>tblentries</code> Objects </h2><span id='topic+plot.tblEntries'></span>

<h3>Description</h3>

<p>A plot method for <code>tblEntries</code> objects, displaying tables using
<code>ggplot2</code> graphics.  This is an internal function, not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tblEntries'
plot(x, entryStyle=tablesggOpt("entryStyle"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.tblEntries_+3A_x">x</code></td>
<td>
<p>A <code>tblEntries</code> object, containing entries for a table.
</p>
</td></tr>
<tr><td><code id="plot.tblEntries_+3A_entrystyle">entryStyle</code></td>
<td>
<p>Optional <code>entryStyle</code> object, describing the graphical properties
(color, size, font, etc) to be used for displaying entries in a table.
See the function of the same name for details.  If omitted, a default
style will be used.
</p>
</td></tr>
<tr><td><code id="plot.tblEntries_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>plot.prEntries</code> and
<code>plot.prTable</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper that simply converts <code>x</code> to &quot;plot-ready&quot;
table entries (a <code>prEntries</code> object) by applying the style specified
by <code>entryStyle</code>, and then calls the plot method for <code>prEntries</code>
objects.
</p>
<p>This function assumes that the standard set of blocks and hvrules is to be
used when plotting the table entries in <code>x</code>.  For more control over
blocks and hvrules, create them directly (for example by functions
<code>tblBlocks</code> and <code>tblHvrules</code>) and then combine them with
<code>x</code> into a plot-ready table (functions <code>prEntries</code>,
<code>prHvrules</code>, <code>prTable</code>).
</p>


<h3>Value</h3>

<p>An object of S3 class <code>pltdTable</code>, inheriting from <code>ggplot</code>.
See <code>plot.textTable</code> for details about this object.  There is a print
(display) method for this class, or the object can be modified in the
usual <code>ggplot</code> way before display.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.textTable">plot.textTable</a></code>, <code><a href="#topic+print.pltdTable">print.pltdTable</a></code>
</p>

<hr>
<h2 id='plot.textTable'>A Plot Method for <code>texttable</code> Objects </h2><span id='topic+plot.textTable'></span>

<h3>Description</h3>

<p>A plot method for <code>textTable</code> objects, displaying tables using
<code>ggplot2</code> graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'textTable'
plot(x, title=NULL, subtitle=NULL, foot=NULL, rowheadLabels=NULL, 
    entryStyle=tablesggOpt("entryStyle"), 
    hvruleStyle=tablesggOpt("hvruleStyle"), 
    blockStyle=tablesggOpt("blockStyle"), scale=1.0, mergeRuns=c(TRUE, 
    TRUE), rowheadInside=FALSE, rowgroupSize=0, 
    plot.margin=tablesggOpt("plot.margin"), sizeAdjust=c(1.0, 1.0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.textTable_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> object, containing a table.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_title">title</code>, <code id="plot.textTable_+3A_subtitle">subtitle</code>, <code id="plot.textTable_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors of annotation for the table.  NULL means to
leave the current annotation unchanged (the default); <code>character(0)</code>
means to omit/remove it.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_rowheadlabels">rowheadLabels</code></td>
<td>
<p>Optional character vector or 1-row matrix specifying labels for the row
header columns of the table.  NULL means to leave the current value
unchanged (the default); <code>character(0)</code> means to omit/remove it.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_entrystyle">entryStyle</code>, <code id="plot.textTable_+3A_hvrulestyle">hvruleStyle</code>, <code id="plot.textTable_+3A_blockstyle">blockStyle</code></td>
<td>
<p>Optional <code>styleObj</code> objects.  These describe the graphical properties
(color, size, font, line type, etc) to be used for displaying table
entries, horizontal/vertical rules, or blocks, respectively.  See
<code>?styleObj</code> for details.  If omitted, default styles from
<code>tablesggOpt()</code> will be used.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_scale">scale</code></td>
<td>
<p>Numeric multiplier used to increase or decrease the displayed size of the
table, with all elements scaled proportionately.  If it has length two,
the first element applies to table entries and blocks, and the second to
hvrules.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_mergeruns">mergeRuns</code></td>
<td>
<p>Two-element logical vector, the first element applying to row headers, the
second to column headers.  If TRUE (the default) then header cells that
contain runs of the same value will be merged into a single entry that
spans multiple rows or columns.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_rowheadinside">rowheadInside</code></td>
<td>
<p>Logical scalar.  If TRUE, the outermost layer of row headers is moved
inside the table by using its levels to divide the table into groups of
rows, with each group labeled by their level.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_rowgroupsize">rowgroupSize</code></td>
<td>
<p>Numeric scalar.  If greater than 0, consecutive rows of the table body
will be grouped into sets of this size, and extra space may be inserted
between groups to improve readability.  See DETAILS.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_plot.margin">plot.margin</code></td>
<td>
<p>Numeric vector of length 4, giving the amount of padding to be added
outside the top, right, bottom, and left sides of the table, in
millimeters.  The default is taken from <code>tablesggOpt()</code>.
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_sizeadjust">sizeAdjust</code></td>
<td>
<p>Two-element numeric vector containing multipliers to adjust the calculated
absolute size of table text.  The first element is applied to the
horizontal dimension and the second to the vertical dimension.  (It should
not be necessary to change this.)
</p>
</td></tr>
<tr><td><code id="plot.textTable_+3A_...">...</code></td>
<td>
<p>Other arguments, ignored with a warning.  (Included for compatibility with
the <code>plot</code> generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>textTable</code> objects are the fundamental structure for representing
tables in the <code>tablesgg</code> package.  This function creates a
publication-quality plot of such a table that can be displayed on any of
R's graphics devices.  Plotting is based on the <code>ggplot2</code> graphics
system, and the resulting plot object can be saved or manipulated in the
usual <code>ggplot</code> way.
</p>
<p>A feature of the plotted table produced by this function is that it has a
well-defined physical size, in millimeters, given by the attribute
<code>size_mm</code>.  This natural size is determined by the graphical
properties specified with arguments <code>entryStyle</code> and
<code>hvruleStyle</code>, and can be rescaled up or down with the <code>scale</code>
argument.  There is a special print (display) method for <code>pltdTable</code>
objects that ensures that the table is displayed at the correct size,
independent of the size of the graphics device on which it is drawn.
</p>
<p>The plotted table can be modified by using the <code>props&lt;-</code> set of
functions to update graphical properties of selected table entries,
hvrules, or blocks.  This includes disabling them (so that they are
excluded from the plot), or re-enabling disabled elements.  For broader
changes there is an <code>update</code> method for <code>pltdTable</code> objects to
change styles or plot scaling.  See <code>update.pltdTable</code> for more
information.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>pltdTable</code>, inheriting from <code>ggplot</code>.
</p>
<p>The object has attributes <code>plot.margin</code> and <code>sizeAdjust</code> (equal
to the arguments), and <code>size_mm</code> (the width and height of the plot,
in millimeters).  <code>size_mm</code> is calculated after applying <code>scale</code>
and <code>sizeAdjust</code>, and includes both the table and any margins
specified by <code>plot.margin</code>.
</p>
<p>The object also has attributes <code>colBoundaries</code> and
<code>rowBoundaries</code> giving the coordinates of the boundaries between
columns and between rows, again in millimeters, and after applying
<code>scale</code> and <code>sizeAdjust</code>.
</p>
<p>The object also has attribute <code>prTable</code>.  This a &quot;plot-ready&quot; version
of the table, after applying the arguments provided to this function to
<code>x</code>, but before processing by <code>ggplot</code>.  It is included to allow
convenient updating of the display properties of the table via
<code>props&lt;-</code> functions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+textTable">textTable</a></code>, <code><a href="#topic+styleObj">styleObj</a></code>,
<code><a href="#topic+tablesggOpt">tablesggOpt</a></code>, <code><a href="#topic+styles_pkg">styles_pkg</a></code>,
<code><a href="#topic+print.pltdTable">print.pltdTable</a></code>, <code><a href="#topic+props+3C-">props&lt;-</a></code>,
<code><a href="#topic+update.pltdTable">update.pltdTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Start with a 'textTable':
ttbl &lt;- textTable(iris2_tab)
# Default display:
plot(ttbl)
# Add annotation:
plot(ttbl, title="The iris data", subtitle="Summary statistics by species", 
     foot="sd = standard deviation")
# Smaller version:
plot(ttbl, title="The iris data", subtitle="Summary statistics by species", 
     foot="sd = standard deviation", scale=0.8)
# Use a more "spread out" style for table entries:
plot(ttbl, entryStyle=styles_pkg$entryStyle_pkg_2)
# Internal row header labels:
plot(ttbl, rowheadInside=TRUE)
# Show effect of 'plot.margin' by putting a box around the table:
# -- default
plt &lt;- plot(ttbl) + 
       ggplot2::theme(plot.background=ggplot2::element_rect(color="blue", 
                                      linewidth=1))
plt
# -- wider margin
plt &lt;- plot(ttbl, plot.margin=c(15, 15, 15, 15)) + 
       ggplot2::theme(plot.background=ggplot2::element_rect(color="blue", 
                                      linewidth=1))
plt

# Data frame listing with rows in groups of 5:
plot(textTable(head(iris2, 15)), rowgroupSize=5)
  </code></pre>

<hr>
<h2 id='pltdSize'>Width and Height of a <code>pltdtable</code> Object </h2><span id='topic+pltdSize'></span>

<h3>Description</h3>

<p>Width and height of a <code>pltdTable</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pltdSize(x, units=c("mm", "inches", "cm"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pltdSize_+3A_x">x</code></td>
<td>
<p>An object of class <code>pltdTable</code>, the result of plotting a
<code>textTable</code> object.
</p>
</td></tr>
<tr><td><code id="pltdSize_+3A_units">units</code></td>
<td>
<p>String specifying the units in which size is to be returned.  May be
abbreviated.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns the size, after any scaling, of a plotted table, in
physical units.  The default units are millimeters to be consistent with
other dimensions used in plotting tables.  Inches may be useful because
that is what R's graphics device functions use.
</p>
<p>The size of a plot can depend slightly on the graphics device used to
create or render it.  The device name used internally to create the plot
is included as an attribute of the returned value.
</p>


<h3>Value</h3>

<p>Two-element numeric vector containing the (width, height) of the plot.  It
has attributes <code>units</code> and <code>device</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.textTable">plot.textTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="Summary statistics for the iris data")
pltdSize(plt)  # width, height in millimeters

# Open a graphics device just the right size to hold the table:
sz &lt;- pltdSize(plt, units="in")
dev.new(width=sz[1], height=sz[2], noRStudioGD=TRUE)
plt
  </code></pre>

<hr>
<h2 id='prBlocks'>Assign Graphical Properties to Table Blocks </h2><span id='topic+prBlocks'></span>

<h3>Description</h3>

<p>Assign graphical properties to table blocks (rectangular sets of table
cells), based on a style and scaling factor.  This creates plot-ready
(<code>pr</code>) blocks.  This is an internal function, not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prBlocks(x, style=tablesggOpt("blockStyle"), scale=1.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prBlocks_+3A_x">x</code></td>
<td>
<p>A <code>tblBlocks</code> object, containing the locations, and possibly other
descriptors, of table blocks.
</p>
</td></tr>
<tr><td><code id="prBlocks_+3A_style">style</code></td>
<td>
<p>A <code>styleObj</code> object, specifying the graphical properties to assign to
blocks based on their place in the structure of the table or other
descriptors in <code>x</code>.  The default is taken from <code>tablesggOpt()</code>.
</p>
</td></tr>
<tr><td><code id="prBlocks_+3A_scale">scale</code></td>
<td>
<p>Numeric multiplier used to increase or decrease the displayed size of
certain block properties, relative to the natural size implied by
<code>style</code>.  The default is 1.0.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The graphical properties available for a block, and their types, are
defined in object <code>grProps</code>.  They include both color and alpha used
to fill the area occupied by the block, and the color and thickness of the
border drawn around the block.  When rendering a table, blocks are drawn
first so that they will not obscure entries or hvrules.
</p>
<p>See <code>styleObj</code> for information about how a style is specified, and
how it is applied to blocks.  Note that individual style specifications
(rows) in <code>style</code> are applied to <code>x</code> in order.  If a block
matches more than one <code>style</code> row, the last matching row will
override the earlier ones.
</p>
<p>All blocks are disabled by default; i.e., they will not be displayed when
a table is plotted.  Selected blocks can be enabled by editing a
<code>prBlocks</code> object like a data frame, or by modifying an existing plot
using the <code>props&lt;-</code> function.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>prBlocks</code>, <code>tblBlocks</code>, and
<code>data.frame</code>.  It has the same rows and columns as <code>x</code> (one row
per block), plus additional or updated columns containing the graphical
properties to use for each block (shading and borders); logical column
<code>enabled</code> (indicating whether the block is to be made visible when
the table is rendered, by shading and/or a border); and column
<code>style_row</code> (the number of the last row in <code>style</code> that the
block matched, or NA if it matched none).
</p>
<p>Row names for the data frame are set equal to block <code>id</code>.  The object
has several additional attributes: <code>current_scale</code> and <code>style</code>,
based on the <code>scale</code> and <code>style</code> arguments after applying
defaults; and <code>rowgroupSize</code> and <code>rowheadInside</code>, copied from
<code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+elements">elements</a></code> documents the descriptors and graphical properties
for blocks. <code><a href="#topic+tblBlocks">tblBlocks</a></code> defines a default set of blocks that
reflect the logical structure of the table.  <code><a href="#topic+styleObj">styleObj</a></code>
creates styles.
</p>

<hr>
<h2 id='prefix_text'>Add or Remove the Prefix Associated with <code>textspec</code> Values </h2><span id='topic+prefix_text'></span>

<h3>Description</h3>

<p>Add or remove special, <code>textspec</code>-related prefixes from text strings.
This is an internal utility function, not intended to be called by package
users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prefix_text(x, spec, action)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prefix_text_+3A_x">x</code></td>
<td>
<p>Character vector to which special prefixes are to be added or removed.
</p>
</td></tr>
<tr><td><code id="prefix_text_+3A_spec">spec</code></td>
<td>
<p>Character vector of valid <code>textspec</code> values.  Recycled to match the
length of <code>x</code> if <code>action</code> is &quot;add&quot;.  Ignored if <code>action</code> is
&quot;remove&quot;.
</p>
</td></tr>
<tr><td><code id="prefix_text_+3A_action">action</code></td>
<td>
<p>Character scalar, either &quot;add&quot; or &quot;remove&quot;, depending on whether the
special prefix is to be added or removed from <code>x</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently supported <code>textspec</code> values and the associated prefixes
are: &quot;plain&quot; (no prefix); &quot;plotmath&quot; (prefix <code>MATH_</code>); and &quot;markdown&quot;
(prefix <code>MKDN_</code>).
</p>


<h3>Value</h3>

<p>Character vector like <code>x</code>, with prefixes added or removed.  NA values
in <code>x</code> remain NA.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+spec_from_text">spec_from_text</a></code> to derive <code>spec</code> by looking for special
prefixes in text strings.
</p>

<hr>
<h2 id='prEntries'>Assign Graphical Properties to Table Entries </h2><span id='topic+prEntries'></span>

<h3>Description</h3>

<p>Assign graphical properties to table entries, based on a style and scaling
factor.  This creates fully plot-ready (<code>pr</code>) entries.  This is an
internal function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prEntries(x, style=tablesggOpt("entryStyle"), scale=1.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prEntries_+3A_x">x</code></td>
<td>
<p>A <code>tblEntries</code> object, containing the contents, locations, and
possibly other descriptors, of table entries.
</p>
</td></tr>
<tr><td><code id="prEntries_+3A_style">style</code></td>
<td>
<p>A <code>styleObj</code> object, specifying the graphical properties to assign to
entries based on their place in the structure of the table or other
descriptors in <code>x</code>.  The default is taken from <code>tablesggOpt()</code>.
</p>
</td></tr>
<tr><td><code id="prEntries_+3A_scale">scale</code></td>
<td>
<p>Numeric multiplier used to increase or decrease the displayed size of
entries, relative to the natural size implied by <code>style</code>.  The
default is 1.0.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The graphical properties available for an entry, and their types, are
defined in object <code>grProps</code>.  They include both properties for the
entry text itself (size, font, color, etc) and for the cell(s) containing
the entry (background color, border thickness and color).
</p>
<p>Justification of text within a cell is specified by properties
<code>hjust</code> and <code>vjust</code>.  Their interpretation is with respect to
the boundaries of the cell: 0 means justification toward the left/top of
the cell, 1 means toward the right/bottom, and 0.5 means centered.
</p>
<p>See <code>styleObj</code> for information about how a style is specified, and
how it is applied to entries.  Note that individual style specifications
(rows) in <code>style</code> are applied to <code>x</code> in order.  If an entry
matches more than one <code>style</code> row, the last matching row will
override the earlier ones.
</p>
<p>One can also assign or modify graphical properties directly, without using
a style, by editing a <code>prEntries</code> object like a data frame.
Properties in an existing plot can also be modified using the
<code>props&lt;-</code> set of functions.
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>prEntries</code>, <code>tblEntries</code>, and
<code>data.frame</code>.  It has the same rows and columns as <code>x</code> (one row
per entry), plus additional or updated columns containing the graphical
properties to use for each entry, plus a column <code>style_row</code> (the
number of the last row in <code>style</code> that the entry matched, or NA if it
matched none).
</p>
<p>Row names for the data frame are set equal to block <code>id</code>.  The object
has several additional attributes: <code>current_scale</code> and <code>style</code>,
based on the <code>scale</code> and <code>style</code> arguments after applying
defaults; and <code>mergeRuns</code>, <code>rowheadInside</code>, <code>rowhier</code>, and
<code>colhier</code>, copied from <code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+elements">elements</a></code> documents the descriptors and graphical properties
for blocks. <code><a href="#topic+tblEntries">tblEntries</a></code>; <code><a href="#topic+styleObj">styleObj</a></code> creates
styles; <code><a href="#topic+as.prEntries">as.prEntries</a></code>.
</p>

<hr>
<h2 id='prHvrules'>Create Hvrules and Assign Them Graphical Properties </h2><span id='topic+prHvrules'></span>

<h3>Description</h3>

<p>Create horizontal and vertical rules (hvrules) for a table, based on
blocks of table entries.  hvrules also provide a way to insert extra space
between rows or columns of the table, without drawing a line.  Assign
graphical properties to the hvrules using a style and a scaling factor.
This creates fully plot-ready (<code>pr</code>) hvrules.  This is an internal
function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prHvrules(x, style=tablesggOpt("hvruleStyle"), scale=1.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prHvrules_+3A_x">x</code></td>
<td>
<p>A <code>tblBlocks</code> object specifying blocks of cells in a 2D table.
</p>
</td></tr>
<tr><td><code id="prHvrules_+3A_style">style</code></td>
<td>
<p>A <code>styleObj</code> object, specifying the graphical properties to assign to
hvrules based on the nature of their associated blocks, in <code>x</code>.  The
default is taken from <code>tablesggOpt()</code>.
</p>
</td></tr>
<tr><td><code id="prHvrules_+3A_scale">scale</code></td>
<td>
<p>Numeric multiplier used to increase or decrease the displayed size of
hvrules, relative to the natural size implied by <code>style</code>.  The
default is 1.0.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A horizontal rule (hrule) consists of a narrow, horizontally-oriented
rectangle, possibly with a horizontal line drawn within it.  The rectangle
is inserted _between_ rows of the table, and therefore increases the size
of the table by an amount equal to its height.  Thus an hrule can be used
to insert extra space between table rows, with or without including a
line.  Similarly a vertical rule (vrule) is a narrow, vertically-oriented
rectangle, possibly with a vertical line drawn within it.  The rectangle
is inserted between columns of the table and increases the table's width.
</p>
<p>This function creates four hvrules per non-empty block in <code>x</code>: two
hrules that run along the top and bottom sides of the block, and two
vrules that run along the left and right sides of the block.  It then
applies <code>style</code> to assign them graphical properties.  See
<code>styleObj</code> for details of how matching individual hvrules to
graphical properties is done.
</p>
<p>The graphical properties available for an hvrule are defined in object
<code>grProps</code>.  They include the amount of space added to the table by
the hvrule, and properties for any line drawn within it (line type, color,
thickness, etc).
</p>
<p>All hvrules are initially disabled; i.e., they will not be displayed and
will not take up any physical space when a table is plotted.  Once an
hvrule has been assigned graphical properties from <code>style</code>, its
<code>enabled</code> value will be set to TRUE.  However hvrules associated with
blocks that contain no enabled entries (as reported by
<code>x$had_enabled_entries</code>) always have <code>enabled</code> set to FALSE.
</p>
<p>Two hvrules may occupy the same location in the table.  For example if the
right edge of block A is adjacent to the left edge of block B, and the
blocks span the same rows, then the vrule on the &quot;right&quot; side of A will
have the same location as the vrule on the &quot;left&quot; side of B.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>prHvrules</code>, which is a data frame with each
row specifying one hvrule for the table.  If there are no hvrules, the
data frame will have no rows.  Column descriptions are in the
documentation for the <code>elements</code> function, except for:
</p>
<table>
<tr><td><code>style_row</code></td>
<td>
<p>Row number in <code>style</code> used to assign graphical properties to the
hvrule, or NA if none was.
</p>
</td></tr>
</table>
<p>Row names for the data frame are set equal to <code>id</code>.  The object also
has attributes <code>current_scale</code> and <code>style</code>, based on the
<code>scale</code> and <code>style</code> arguments after applying defaults.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+elements">elements</a></code> documents the descriptors and graphical properties
for blocks; <code><a href="#topic+tblBlocks">tblBlocks</a></code> defines a default set of blocks that
reflect the logical structure of the table.  <code><a href="#topic+styleObj">styleObj</a></code>
creates styles.
</p>

<hr>
<h2 id='print.pltdTable'>Print (Draw) a <code>pltdtable</code> Object </h2><span id='topic+print.pltdTable'></span>

<h3>Description</h3>

<p>Print method for <code>pltdTable</code> objects, to display the table on the
currently active graphics device.  It draws the table at its natural size,
as determined by the font size and dimensions specified by the styles used
to create the table, and after applying any scale factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pltdTable'
print(x, scale=NULL, newpage=TRUE, position=c(0.5, 0.5), 
    vpx=grid::unit(0.5, "npc"), vpy=grid::unit(0.5, "npc"), 
    just="center", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.pltdTable_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object, representing a table.
</p>
</td></tr>
<tr><td><code id="print.pltdTable_+3A_scale">scale</code></td>
<td>
<p>Optional numeric multiplier used to increase or decrease the displayed
size of the table, relative to the natural size implied by its styles.
The default is to keep the current scaling in <code>x</code>.
</p>
</td></tr>
<tr><td><code id="print.pltdTable_+3A_newpage">newpage</code></td>
<td>
<p>Whether to draw the table on the current page of the graphics device, or
on a new blank page.
</p>
</td></tr>
<tr><td><code id="print.pltdTable_+3A_position">position</code></td>
<td>
<p>Two-element numeric or character vector specifying the horizontal and
vertical position of the table on the page.  A value of 0 means
left/bottom justification, 1 means right/top justification, and
intermediate values shift the table linearly between those limits.  If a
character vector, valid values are &quot;left&quot;, &quot;center&quot;, &quot;right&quot; for
horizontal position, and &quot;bottom&quot;, &quot;center&quot;, &quot;top&quot; for vertical position.
The default is to center the table on the page.
</p>
</td></tr>
<tr><td><code id="print.pltdTable_+3A_vpx">vpx</code>, <code id="print.pltdTable_+3A_vpy">vpy</code>, <code id="print.pltdTable_+3A_just">just</code></td>
<td>
<p>Alternatives to <code>position</code> to specify the position of the table on
the page.  These are passed to <code>grid::viewport</code>.  (<code>vpx</code> is
passed as argument <code>x</code>, and <code>vpy</code> as argument <code>y</code>.)
Ignored with a warning if <code>position</code> is specified.
</p>
</td></tr>
<tr><td><code id="print.pltdTable_+3A_...">...</code></td>
<td>
<p>Optional additional arguments passed to <code>grid::viewport</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The purpose of a special print method for <code>pltdTable</code> objects is to
set a particular viewport size, so that the table is displayed at its
natural size, adjusted for <code>scale</code>.  Once the viewport is set, the
table is drawn using the usual <code>ggplot</code> print method.
</p>
<p>Note that scaling of table size is not cumulative.  If <code>x</code> has
already been scaled (say, by a factor of 0.8), and argument <code>scale</code>
is set to 0.9, then the table will be displayed at 0.9 times its natural
size, not 0.9*0.8 = 0.72.
</p>
<p>The default is that the table is drawn centered in the current graphics
viewport (usually the whole graphics device surface).  This can be changed
using either the <code>position</code> or the <code>just</code>, <code>vpx</code> and
<code>vpy</code> arguments. <code>grid::viewport</code> uses the latter four numbers
to specify position; see its documentation for details.  The
<code>position</code> argument simplifies this to use just two numbers, each in
[0, 1].  It assumes one rarely wants to have parts of the table outside
the boundary of the page, so 0 corresponds to putting the table snug
against the left or bottom edge, 1 corresponds to putting it against the
right or top edge, and intermediate values simply linearly interpolate
between those limits.
</p>


<h3>Value</h3>

<p><code>x</code>, invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.textTable">plot.textTable</a></code>, <code>grid::viewport</code>,
<code>ggplot2::print.ggplot</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Start with different ways of arranging the Titanic data:
data(Titanic, package="datasets")
ftbl1 &lt;- ftable(Titanic, row.vars=c("Class", "Sex"), col.vars="Survived")
ftbl2 &lt;- ftable(Titanic, row.vars=c("Age", "Sex", "Survived"), 
                col.vars="Class")
ftbl3 &lt;- ftable(Titanic, row.vars=c("Sex", "Class"), 
                col.vars=c("Age", "Survived"))
plt1 &lt;- plot(textTable(ftbl1))
plt2 &lt;- plot(textTable(ftbl2))
plt3 &lt;- plot(textTable(ftbl3))
plt4 &lt;- plot(textTable(ftbl3), rowheadInside=TRUE)

# Center plots in the four quadrants of the page:
print(plt1, vpx=0.25, vpy=0.75)
print(plt2, vpx=0.75, vpy=0.75, newpage=FALSE)
print(plt3, vpx=0.25, vpy=0.25, newpage=FALSE)
print(plt4, vpx=0.75, vpy=0.25, newpage=FALSE)

# Single plot at different sizes, pushed to corners of the page:
print(plt2, scale=0.8, position=c("left", "top"))
print(plt2, scale=1.2, position=c("right", "bottom"), newpage=FALSE)
  </code></pre>

<hr>
<h2 id='print.summary.pltdTable'>Print the Dimensions and Display Options of a Plotted Table </h2><span id='topic+print.summary.pltdTable'></span>

<h3>Description</h3>

<p>Print method for <code>summary.pltdTable</code> objects.  The dimensions and
display options of a plotted table are printed.  This is an internal
function, not intended to be called directly by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.pltdTable'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary.pltdTable_+3A_x">x</code></td>
<td>
<p>A <code>summary.pltdTable</code> object.
</p>
</td></tr>
<tr><td><code id="print.summary.pltdTable_+3A_...">...</code></td>
<td>
<p>Additional arguments, ignored with a warning.  (Included for compatibility
with the generic.)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned, invisibly.
</p>

<hr>
<h2 id='print.summary.textTable'>Print the Dimensions of a Table and Its Parts </h2><span id='topic+print.summary.textTable'></span>

<h3>Description</h3>

<p>Print method for <code>summary.textTable</code> objects.  The dimensions of a
table and its parts are printed.  This is an internal function, not
intended to be called directly by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.textTable'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary.textTable_+3A_x">x</code></td>
<td>
<p>A <code>summary.textTable</code> object.
</p>
</td></tr>
<tr><td><code id="print.summary.textTable_+3A_...">...</code></td>
<td>
<p>Additional arguments, ignored with a warning.  (Included for compatibility
with the generic.)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> is returned, invisibly.
</p>

<hr>
<h2 id='props_mod'>Update Graphical Properties for Selected Table Elements </h2><span id='topic+props_mod'></span>

<h3>Description</h3>

<p>Update the graphical properties for selected table entries, hvrules, or
blocks in a plotted table.  This is an internal function, not intended to
be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>props_mod(x, value, id=NULL, e=NULL, arows=NULL, acols=NULL, 
    setEnabled=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="props_mod_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object containing a plotted table.
</p>
</td></tr>
<tr><td><code id="props_mod_+3A_value">value</code></td>
<td>
<p>An <code>element_entry</code>, <code>element_refmark</code>, <code>element_hvrule</code>, or
<code>element_block</code> object that contains the new values for graphical
properties.
</p>
</td></tr>
<tr><td><code id="props_mod_+3A_id">id</code>, <code id="props_mod_+3A_e">e</code>, <code id="props_mod_+3A_arows">arows</code>, <code id="props_mod_+3A_acols">acols</code></td>
<td>
<p>Arguments that identify which elements in <code>x</code> are to have their
graphical properties updated by <code>value</code>.  Exactly one of <code>id</code>,
<code>e</code>, or the pair (<code>arows</code>, <code>acols</code>) should be specified.
See <code>props&lt;-</code> for documentation for <code>id</code>, <code>propsd&lt;-</code> for
<code>e</code> (where it is derived from argument <code>subset</code>), and
<code>propsa&lt;-</code> for documentation for <code>arows</code> and <code>acols</code>.
</p>
</td></tr>
<tr><td><code id="props_mod_+3A_setenabled">setEnabled</code></td>
<td>
<p>Logical scalar.  If TRUE then any element whose properties are updated by
this function will have its <code>enabled</code> value set to TRUE (and thus
will be displayed in a plot).  <code>enabled</code> will not be changed for
elements that are not updated.  If <code>setEnabled</code> is FALSE,
<code>enabled</code> is not changed for any elements.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a backend for public functions <code>props&lt;-</code>, <code>propsa&lt;-</code>,
and <code>propsd&lt;-</code>.  The latter are wrappers that accept different sets
of arguments to specify which elements are to be updated.  See their
documentation for the details.
</p>
<p>This function overrides graphical properties in <code>x</code> that may have
been set by a style.  Therefore the value of <code>style_row</code> is set to NA
for any elements whose graphical properties are updated by this function.
</p>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated graphical properties for the
selected elements.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+props+3C-">props&lt;-</a></code>, <code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>, <code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>
</p>

<hr>
<h2 id='props+26lt+3B-'>Update Graphical Properties for Selected Table Elements </h2><span id='topic+props+3C-'></span>

<h3>Description</h3>

<p>Update the graphical properties for selected table entries, hvrules, or
blocks in a plotted table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>props(x, id=NULL, regex=NULL, setEnabled=TRUE, mustMatch=TRUE, 
    ...) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="props+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object containing a plotted table.
</p>
</td></tr>
<tr><td><code id="props+2B26lt+2B3B-_+3A_id">id</code></td>
<td>
<p>Optional character vector of the ID's of the elements (or of table parts
containing the elements) to be modified.
</p>
</td></tr>
<tr><td><code id="props+2B26lt+2B3B-_+3A_regex">regex</code></td>
<td>
<p>Optional character string containing a regular expression.  This will be
used to find table entries whose text matches the regular expression.
(Only valid when <code>value</code> is an <code>element_entry</code> or
<code>element_refmark</code> object.)
</p>
</td></tr>
<tr><td><code id="props+2B26lt+2B3B-_+3A_setenabled">setEnabled</code></td>
<td>
<p>Logical scalar.  If TRUE then any element whose properties are updated by
this function will have its <code>enabled</code> value set to TRUE (and thus
will be displayed in a plot).  <code>enabled</code> will not be changed for
elements that are not updated.  If <code>setEnabled</code> is FALSE,
<code>enabled</code> is not changed for any elements.
</p>
</td></tr>
<tr><td><code id="props+2B26lt+2B3B-_+3A_mustmatch">mustMatch</code></td>
<td>
<p>Logical scalar.  If TRUE, any strings in argument <code>id</code> that do not
match an element or part ID in <code>x</code> will be treated as an error.
</p>
</td></tr>
<tr><td><code id="props+2B26lt+2B3B-_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>grepl</code> when <code>regex</code> is used to
select table entries.
</p>
</td></tr>
<tr><td><code id="props+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>An <code>element_entry</code>, <code>element_refmark</code>, <code>element_hvrule</code>, or
<code>element_block</code> object that contains the new values for graphical
properties.  See DETAILS.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are three similar functions that can be used to modify the graphical
properties of table elements: <code>props&lt;-</code>, <code>propsa&lt;-</code>, and
<code>propsd&lt;-</code>.  They differ only in how one specifies which elements are
to be modified.  <code>props&lt;-</code> uses element or block ID's, or searches
the text content of entries.  <code>propsa&lt;-</code> uses explicit row and column
numbers within the augmented row-column grid.  <code>propsd&lt;-</code> uses the
values of element descriptors (as described in <code>?elements</code>).
</p>
<p>The type of elements that are updated is determined by <code>value</code>: if
<code>value</code> is an <code>element_entry</code> or <code>element_refmark</code> object
then entries are updated; if it is an <code>element_hvrule</code> object then
hvrules are; if it is an <code>element_block</code> object then blocks are.  See
the documentation of those functions for the available properties.  As an
example, <code style="white-space: pre;">&#8288;element_entry(color="red", fontface=3, hpad=rel(0.8))&#8288;</code>
specifies that all the updated entries will be displayed in red italics,
and padding on their left and right will be reduced to 80% of the current
amount.  Any graphical properties not mentioned in the call that creates
the <code>element_*</code> object are left unchanged.
</p>
<p>There are two special properties: <code>enabled</code> and <code>textspec</code> (the
latter only for entries).  <code>enabled</code> is a logical scalar.  If
<code>enabled</code> is set to FALSE the selected elements will not be
displayed, and disabled entries/hvrules will not be allocated any space in
the plotted table. <code>textspec</code> is a character string, one of &quot;plain&quot;,
&quot;plotmath&quot;, or &quot;markdown&quot;.  If &quot;plotmath&quot;, entry text will be treated as
an expression that allows display of mathematical symbols and notation,
including subscripts and superscripts (see <code>?plotmath</code>).  If
&quot;markdown&quot;, entry text may contain markdown or HTML tags that affect the
appearance of the displayed text.  (This requires the <code>ggtext</code>
package, and only a subset of HTML tags is supported.  See the
<code>ggtext</code> package documentation for more information.)
</p>
<p><code>element_refmark</code> is used to add a reference mark to the selected
entries.  (A reference mark is a symbol placed before or after entry text
to indicate cross-references; e.g. for footnotes.)  It may also update any
of the graphical properties accepted by <code>element_entry</code>, except
<code>textspec</code> and <code>text</code>.
</p>
<p>Arguments <code>id</code> and <code>regex</code> indicate which elements are to be
updated.  When <code>value</code> indicates that table entries are to be
modified, <code>id</code> may specify the ID's of individual entries or the ID's
of table parts or blocks.  In the latter case, all entries completely or
partially contained in the parts or blocks are selected.  Thus, for
example, specifying <code>id="table"</code> will update every entry in the
table, while <code>id="body"</code> will update only entries in the table body.
Argument <code>regex</code> is only valid for modifying table entries;
<code>grepl</code> is used to identify the entries whose text matches the
<code>regex</code> pattern.  If both <code>id</code> and <code>regex</code> are specified,
then only entries selected by both are modified.
</p>
<p>When <code>value</code> indicates that hvrules are to be modified, <code>id</code>
should contain the ID's of individual hvrules and/or table blocks.  In the
latter case, any hvrule associated with a listed block (that is, the
hvrule was defined as running along one of the sides of the block) will be
updated.
</p>
<p>When <code>value</code> indicates that blocks are to be modified, <code>id</code>
should contain the ID's of individual table blocks.
</p>
<p>See <code>?elements</code> for the format of element ID strings.
</p>
<p>This function overrides graphical properties in <code>x</code> that may have
been set by a style.  Therefore the value of <code>style_row</code> is set to NA
for any elements whose properties are updated by this function.
</p>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated graphical properties for the
selected elements.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_entry">element_entry</a></code>, <code><a href="#topic+element_refmark">element_refmark</a></code>,
<code><a href="#topic+element_hvrule">element_hvrule</a></code>, <code><a href="#topic+element_block">element_block</a></code>,
<code><a href="#topic+ids">ids</a></code>, <code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>, <code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title="The iris data", 
                  subtitle=c("Summary statistics by species", 
                             "A second subtitle line"), 
                  foot="sd = standard deviation")
plt &lt;- plot(ttbl)
# Change properties of elements:
props(plt, id="body") &lt;- element_entry(fontface=3, fill="gray85")
# This may include changing text:
props(plt, id="subtitle,2") &lt;- element_entry(text="Properties changed by 'props&lt;-'", 
                                             fill="gray85")
# Use property 'enabled' to control whether an element is displayed:
props(plt, id="rowhead_and_body_bottom") &lt;- element_hvrule(enabled=FALSE)
plt

# Add reference marks to entries with abbreviation "sd":
plt &lt;- plot(ttbl)
props(plt, regex="^sd$") &lt;- element_refmark(mark="*", side="after")
props(plt, regex="^sd =") &lt;- element_refmark(mark="*", side="before")
plt
# If both 'id' and 'regex' are specified only the intersection is modified:
plt &lt;- plot(ttbl)
props(plt, regex="^sd$", id="rowblock/B/2/1") &lt;- 
  element_refmark(mark="*", side="after")
props(plt, regex="^sd =") &lt;- element_refmark(mark="*", side="before")
plt

  </code></pre>

<hr>
<h2 id='propsa+26lt+3B-'>Update Graphical Properties for Selected Table Elements </h2><span id='topic+propsa+3C-'></span>

<h3>Description</h3>

<p>Update the graphical properties of table elements in selected rows and
columns of a plotted table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propsa(x, arows=NULL, acols=NULL, setEnabled=TRUE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propsa+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object containing a plotted table.
</p>
</td></tr>
<tr><td><code id="propsa+2B26lt+2B3B-_+3A_arows">arows</code>, <code id="propsa+2B26lt+2B3B-_+3A_acols">acols</code></td>
<td>
<p>Numeric vectors of row and column numbers in the table's augmented
row-column grid.  The default value of NULL means all rows or columns.
Use half-integer values to refer to the locations of horizontal or
vertical rules running between rows or columns.
</p>
</td></tr>
<tr><td><code id="propsa+2B26lt+2B3B-_+3A_setenabled">setEnabled</code></td>
<td>
<p>Logical scalar.  If TRUE then any element whose properties are updated by
this function will have its <code>enabled</code> value set to TRUE (and thus
will be displayed in a plot).  <code>enabled</code> will not be changed for
elements that are not updated.  If <code>setEnabled</code> is FALSE,
<code>enabled</code> is not changed for any elements.
</p>
</td></tr>
<tr><td><code id="propsa+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>An <code>element_entry</code>, <code>element_refmark</code>, <code>element_hvrule</code>, or
<code>element_block</code> object that contains the new values for graphical
properties.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are three similar functions that can be used to modify the graphical
properties of table elements: <code>props&lt;-</code>, <code>propsa&lt;-</code>, and
<code>propsd&lt;-</code>.  They differ only in how one specifies which elements are
to be modified.  <code>props&lt;-</code> uses element or block ID, or searches the
text content of entries.  <code>propsa&lt;-</code> uses explicit row and column
numbers within the augmented row-column grid.  <code>propsd&lt;-</code> uses the
values of element descriptors (as described in <code>?elements</code>).
</p>
<p>The type of elements that are updated is determined by <code>value</code>: if
<code>value</code> is an <code>element_entry</code> or <code>element_refmark</code> object
then entries are updated; if it is an <code>element_hvrule</code> object then
hvrules are; if it is an <code>element_block</code> object then blocks are.  See
the documentation for <code>props&lt;-</code> for discussion of their use.
</p>
<p>For this function the selected elements are those which are (a) completely
contained within the rows listed in <code>arows</code> and the columns listed in
<code>acols</code>; and (b) of a type (entry, block, or hvrule) corresponding to
the class of <code>value</code>.  For (a), <code>arows</code> and <code>acols</code> are
treated as _sets_ of row/column numbers, not _ranges_.  For example, a
horizontal rule running between rows 3 and 4 will not be selected by
<code>arows=c(3, 4)</code>; the value 3.5 must be included in <code>arows</code>.
</p>
<p>The helper functions <code>arow</code> and <code>acol</code> provide a partial bridge
between this function and <code>props&lt;-</code>.  They return row and column
numbers associated with particular element IDs, or with specified values
of the row and column headers.  For example, <code style="white-space: pre;">&#8288;propsa(plt,
arows=arow(plt, id="body"), acols=acol(plt, id="body"))&#8288;</code> is equivalent to
<code style="white-space: pre;">&#8288;props(plt, id="body")&#8288;</code>.  See the examples below for cases where the
combination of <code>propsa&lt;-</code> and <code>arow</code>/<code>acol</code> is more
convenient than <code>props&lt;-</code> alone.
</p>
<p>This function overrides graphical properties in <code>x</code> that may have
been set by a style.  Therefore the value of <code>style_row</code> is set to NA
for any elements whose properties are updated by this function.
</p>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated graphical properties for the
selected elements.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_entry">element_entry</a></code>, <code><a href="#topic+element_refmark">element_refmark</a></code>,
<code><a href="#topic+element_hvrule">element_hvrule</a></code>, <code><a href="#topic+element_block">element_block</a></code>,
<code><a href="#topic+arow">arow</a></code>, <code><a href="#topic+acol">acol</a></code>, <code><a href="#topic+props+3C-">props&lt;-</a></code>,
<code><a href="#topic+propsd+3C-">propsd&lt;-</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plt &lt;- plot(iris2_tab, title="Summary statistics for the iris data")

plt2 &lt;- plt
# Change the title to italics:
propsa(plt2, arows=1) &lt;- element_entry(fontface=3)
# Change the vertical rule between row header and body from empty to 
# a solid line:
propsa(plt2, acols=2.5) &lt;- element_hvrule(linetype=1, color="black", 
                                          size=0.5)
# Put all the mean values in bold face:
propsa(plt2, arows=arow(plt2, hpath=c(NA, "mean")), 
       acols=acol(plt2, id="body")) &lt;- element_entry(fontface=2)

plt3 &lt;- plt
# Use shading to highlight the rows for the 'versicolor' species:
propsa(plt3, arows=arow(plt3, hpath=c("versicolor"))) &lt;- 
       element_block(fill="gray85")
# Compare tables before and after modification:
print(plt, vpx=0.25, vpy=0.75)
print(plt2, vpx=0.75, vpy=0.75, newpage=FALSE)
print(plt3, vpx=0.5, vpy=0.25, newpage=FALSE)

# Striping every other row in a data frame listing (must include row names):
data(mtcars, package="datasets")
plt &lt;- plot(textTable(head(mtcars, 10), 
                      title="Partial listing of the 'mtcars' data frame"))
ar &lt;- arow(plt, id="body")
propsa(plt, arows=ar[ar %% 2 == 0]) &lt;- element_block(fill="gray85")
plt
  </code></pre>

<hr>
<h2 id='propsd+26lt+3B-'>Update Graphical Properties for Selected Table Elements </h2><span id='topic+propsd+3C-'></span>

<h3>Description</h3>

<p>Update the graphical properties for table elements selected based on the
values of element descriptors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propsd(x, subset=NULL, setEnabled=TRUE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propsd+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object containing a plotted table.
</p>
</td></tr>
<tr><td><code id="propsd+2B26lt+2B3B-_+3A_subset">subset</code></td>
<td>
<p>An expression that when evaluated gives a logical vector indicating which
elements should be updated; missing values are taken as FALSE.  See
DETAILS.
</p>
</td></tr>
<tr><td><code id="propsd+2B26lt+2B3B-_+3A_setenabled">setEnabled</code></td>
<td>
<p>Logical scalar.  If TRUE then any element whose properties are updated by
this function will have its <code>enabled</code> value set to TRUE (and thus
will be displayed in a plot).  <code>enabled</code> will not be changed for
elements that are not updated.  If <code>setEnabled</code> is FALSE,
<code>enabled</code> is not changed for any elements.
</p>
</td></tr>
<tr><td><code id="propsd+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>An <code>element_entry</code>, <code>element_refmark</code>, <code>element_hvrule</code>, or
<code>element_block</code> object that contains the new values for graphical
properties.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are three similar functions that can be used to modify the graphical
properties of table elements: <code>props&lt;-</code>, <code>propsa&lt;-</code>, and
<code>propsd&lt;-</code>.  They differ only in how one specifies which elements are
to be modified.  <code>props&lt;-</code> uses element or block ID's, or searches
the text content of entries.  <code>propsa&lt;-</code> uses explicit row and column
numbers within the augmented row-column grid.  <code>propsd&lt;-</code> uses the
values of element descriptors (as described in <code>?elements</code>).
</p>
<p>The type of elements that are updated is determined by <code>value</code>: if
<code>value</code> is an <code>element_entry</code> or <code>element_refmark</code> object
then entries are updated; if it is an <code>element_hvrule</code> object then
hvrules are; if it is an <code>element_block</code> object then blocks are.  See
the documentation for <code>props&lt;-</code> for discussion of their use.
</p>
<p>Internally entries, hvrules, and blocks are represented as data frames,
with one row per element, and columns describing their content, position,
and structural role in the table.  (See <code>?elements</code> for a list of the
descriptor columns for each type of element.)  Argument <code>subset</code> is
an expression involving those columns that evaluates to a logical vector;
the elements for which this vector is TRUE will be selected.  (NA in the
logical vector is treated as FALSE.)  Thus the <code>subset</code> argument
works in the same way as R's built-in <code>subset</code> function to select
rows from a data frame.  For example <code style="white-space: pre;">&#8288;subset=(part=="body" &amp;
type=="numeric")&#8288;</code> will update graphical properties for all entries in the
table body that have been tagged as representing numbers.  And
<code>subset=(direction=="hrule")</code> will update graphical properties for
horizontal rules but not vertical rules.
</p>
<p>To update every element (of the type implied by <code>value</code>) in the
table, set <code>subset=TRUE</code>.  To update just the currently enabled
elements, set <code>subset=enabled</code>.
</p>
<p>Note: Standard processing generates hvrules for all four sides of every
block in the table.  Since generally one doesn't want to display the
blocks themselves nor most of those hvrules, they are all disabled by
default.  Therefore if using <code>subset=TRUE</code> when updating hvrules or
blocks, also set <code>setEnabled</code> to FALSE to avoid enabling and
displaying them all.
</p>
<p>This function overrides graphical properties in <code>x</code> that may have
been set by a style.  Therefore the value of <code>style_row</code> is set to NA
for any elements whose graphical properties are updated by this function.
</p>


<h3>Value</h3>

<p>An object like <code>x</code>, with updated graphical properties for the
selected elements.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+element_entry">element_entry</a></code>, <code><a href="#topic+element_refmark">element_refmark</a></code>,
<code><a href="#topic+element_hvrule">element_hvrule</a></code>, <code><a href="#topic+element_block">element_block</a></code>,
<code><a href="#topic+elements">elements</a></code>, <code><a href="#topic+props+3C-">props&lt;-</a></code>, <code><a href="#topic+propsa+3C-">propsa&lt;-</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title="The iris data", 
                  subtitle=c("Summary statistics by species"), 
                  foot="sd = standard deviation")
plt &lt;- plot(ttbl)
propsd(plt, subset=(enabled)) &lt;- element_hvrule(color="red")
propsd(plt, subset=(part == "colhead" &amp; headlayer == 1)) &lt;- 
  element_entry(angle=90, hjust=0.5, vjust=0.5)
plt
  </code></pre>

<hr>
<h2 id='prTable'>Create or Update a Fully Styled Table Ready for Plotting </h2><span id='topic+prTable'></span>

<h3>Description</h3>

<p>Create or update a <code>prTable</code> object, a fully styled (plot-ready)
table.  This is an S3 generic.  It and its methods are internal functions,
not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prTable(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prTable_+3A_x">x</code></td>
<td>
<p>An object to be converted to a plot-ready table.
</p>
</td></tr>
<tr><td><code id="prTable_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to specific methods.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of S3 class <code>prTable</code>.  See <code>prTable.prEntries</code> for
the structure of this object.
</p>

<hr>
<h2 id='prTable.pltdTable'>Extract/Update a Plot-Ready Table from a Plotted Table </h2><span id='topic+prTable.pltdTable'></span>

<h3>Description</h3>

<p>Extract the <code>prTable</code> (plot-ready table) object from a plotted table.
This is an internal function, not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pltdTable'
prTable(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prTable.pltdTable_+3A_x">x</code></td>
<td>
<p>A <code>pltdTable</code> object, containing a plotted table.
</p>
</td></tr>
<tr><td><code id="prTable.pltdTable_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Included for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of S3 class <code>prTable</code>, a plot-ready table.  See
<code>prTable.prEntries</code> for the structure of this object.
</p>

<hr>
<h2 id='prTable.prEntries'>Create a Plot-Ready Table from Plot-Ready Entry, Block, and Hvrule Objects </h2><span id='topic+prTable.prEntries'></span>

<h3>Description</h3>

<p>Create a plot-ready table from plot-ready entry, block, and hvrule
objects.  This is an internal function, not intended to be called by
package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prEntries'
prTable(x, entries=x, blocks=prBlocks(tblBlocks(x)), hvrules, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prTable.prEntries_+3A_x">x</code></td>
<td>
<p>A <code>prEntries</code> object, containing plot-ready table entries.
</p>
</td></tr>
<tr><td><code id="prTable.prEntries_+3A_entries">entries</code></td>
<td>
<p>An alias for <code>x</code>.
</p>
</td></tr>
<tr><td><code id="prTable.prEntries_+3A_blocks">blocks</code></td>
<td>
<p>A <code>prBlocks</code> object, containing plot-ready blocks of table cells.
May be NULL.  The default is to create the standard set of blocks by
calling <code>tblBlocks(x)</code>, and style (but not enable) them using the
default block style.
</p>
</td></tr>
<tr><td><code id="prTable.prEntries_+3A_hvrules">hvrules</code></td>
<td>
<p>A <code>prHvrules</code> object, containing plot-ready hvrules for the table.
May be NULL if there are no hvrules.  The default is to create hvrules by
calling <code>prHvrules(blocks)</code> (which uses the default hvrule style) if
<code>blocks</code> is not NULL, and NULL otherwise.
</p>
</td></tr>
<tr><td><code id="prTable.prEntries_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Included for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the creation of a plot-ready table directly from its
entry, block, and hvrule components.  A <code>prTable</code> object can be
updated with new styles or scales for its components by calling the
<code>.prTable</code> method.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>prTable</code>, a plot-ready table.  This is a list
with components:
</p>
<table>
<tr><td><code>entries</code></td>
<td>
<p>A <code>prEntries</code> object with the content, position, and graphical
properties for each entry in the table.
</p>
</td></tr>
<tr><td><code>blocks</code></td>
<td>
<p>A <code>prBlocks</code> object with the positions, sizes, and graphical
properties of blocks of table cells.  May be empty if no blocks are
defined.
</p>
</td></tr>
<tr><td><code>hvrules</code></td>
<td>
<p>A <code>prHvrules</code> object with the content, position, and graphical
properties for each horizontal or vertical rule (hvrule) in the table.
May be empty if there are no hvrules.
</p>
</td></tr>
</table>
<p>It has attribute <code>current_scale</code>, a numeric vector of length 2.  The
first element is for <code>entries</code>, the second for <code>hvrules</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prEntries">prEntries</a></code>, <code><a href="#topic+prBlocks">prBlocks</a></code>, <code><a href="#topic+prHvrules">prHvrules</a></code>.
</p>

<hr>
<h2 id='rowhead_inside'>Move the Outermost Layer of Row Headers Inside a Table </h2><span id='topic+rowhead_inside'></span>

<h3>Description</h3>

<p>Move the outermost layer of row headers <code>inside</code> a table, by dividing
table rows into groups, with one group per level of the header.  A table
row is inserted above each group, containing the value of the header for
that level as a label.  This is an internal function, not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rowhead_inside(x, paste_rhiLabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rowhead_inside_+3A_x">x</code></td>
<td>
<p>A <code>tblEntries</code> object containing table entries.
</p>
</td></tr>
<tr><td><code id="rowhead_inside_+3A_paste_rhilabel">paste_rhiLabel</code></td>
<td>
<p>Logical scalar.  If TRUE the rowheadLabel for the outermost row header
layer is prefixed to its levels when creating the interior labels.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function changes the expanded row-column grid of the table, so must
be called early in processing, before table blocks or hvrules are created.
</p>
<p>The first column of row headers (containing the outermost row header
layer) is removed.  The entries for that layer are moved to new rows
inserted into the table, so instead of appearing at the left side of the
table, they appear as labels (spanning all columns of the table) above
groups of rows.  The <code>id</code>, <code>part</code>, <code>subpart</code>,
<code>level_in_layer</code>, <code>text</code>, <code>type</code>, and <code>enabled</code> values
for those entries do not change.  However <code>headlayer</code> is now set to 0
(since the header is now interleaved with the body of the table),
<code>multirow</code> to FALSE, and <code>multicolumn</code> to TRUE (if the table has
more than one column).
</p>
<p>The <code>textspec</code> values of the moved entries may change if
<code>paste_rhiLabel</code> is TRUE; an error will be raised if pasting of
markdown and non-markdown text is attempted.
</p>
<p>The <code>rowheadLabels</code> entry (if any) for the moved row header layer
also has its <code>headlayer</code> set to 0, and is disabled.
</p>
<p>Graphical properties for displaying the moved header entries can be set in
the usual ways.  For example, an <code>entryStyle</code> or <code>props</code>
specification for entries with <code>part == "rowhead"</code> and
<code>headlayer == 0</code> will apply just to row headers that have been moved
inside the table.
</p>


<h3>Value</h3>

<p>If <code>x</code> has at least one layer of row headers, an updated
<code>tblEntries</code> object, and with attribute <code>rowheadInside</code> set to
TRUE.
</p>
<p>If <code>x</code> has no row headers, or it already has row headers moved
inside, it is returned unchanged.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblEntries">tblEntries</a></code>, <code><a href="#topic+undo_rowhead_inside">undo_rowhead_inside</a></code>
</p>

<hr>
<h2 id='sci_fmt_pm'>Convert ASCII Scientific Notation into <code>plotmath</code> Form </h2><span id='topic+sci_fmt_pm'></span>

<h3>Description</h3>

<p>Convert numbers formatted as ASCII scientific notation (e.g., &quot;1.2e-01&quot;)
into <code>plotmath</code> form that will display the exponent as &quot;10&quot; with a
superscript.  This is an internal function not intended to be called by
package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sci_fmt_pm(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sci_fmt_pm_+3A_x">x</code></td>
<td>
<p>A character vector.  Each element should contain text representing a
single number.  Those elements for which the text indicates a number in
scientific notation will be converted.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the same length as <code>x</code>.  Any elements that
are to be treated as <code>plotmath</code> expressions will begin with the
characters <code>MATH_</code>
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+plotmath">plotmath</a></code>, <code><a href="#topic+paste_text">paste_text</a></code>
</p>

<hr>
<h2 id='spec_from_text'><code>textspec</code> Values Based on String Prefixes </h2><span id='topic+spec_from_text'></span>

<h3>Description</h3>

<p>Return a vector of <code>textspec</code> values based on special prefixes in
strings of <code>x</code>.  This is an internal utility function, not intended
to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spec_from_text(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spec_from_text_+3A_x">x</code></td>
<td>
<p>Character vector.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently supported <code>textspec</code> values and the associated prefixes
are: &quot;plain&quot; (no recognized prefix); &quot;plotmath&quot; (prefix <code>MATH_</code>); and
&quot;markdown&quot; (prefix <code>MKDN_</code>).
</p>
<p>The returned value will be &quot;plain&quot; for elements of <code>x</code> that are NA.
</p>


<h3>Value</h3>

<p>Character vector with the same length as <code>x</code>, containing
<code>textspec</code> values.  Values are determined by looking for special
prefixes in the text strings.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prefix_text">prefix_text</a></code> to add or remove special prefixes to text
strings based on <code>textspec</code>.
</p>

<hr>
<h2 id='styleObj'>Create a Style Object </h2><span id='topic+styleObj'></span>

<h3>Description</h3>

<p>Create a style object that can be used to assign graphical properties to
table elements (entries, hvrules, or blocks).  The properties are used
when displaying the elements.  Styles allow assignment of graphical
properties to be based on element descriptors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>styleObj(x, type, match_columns=character(0))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="styleObj_+3A_x">x</code></td>
<td>
<p>Data frame with (a) column(s) that specify patterns to be used to identify
and select a subset of table elements; and (b) columns specifying the
graphical properties to be used for elements in the selected subset.  See
DETAILS.  May also be a string with the path to a <code>.csv</code> file that
will be read to create such a data frame.
</p>
</td></tr>
<tr><td><code id="styleObj_+3A_type">type</code></td>
<td>
<p>Character string, one of &quot;entry&quot;, &quot;hvrule&quot;, or &quot;block&quot;.  This specifies
the type of element to which the style will apply.
</p>
</td></tr>
<tr><td><code id="styleObj_+3A_match_columns">match_columns</code></td>
<td>
<p>Optional character vector (possibly empty) with the names of element
descriptors that are required in order to evaluate the subset selector
expressions in <code>x</code>.  See DETAILS.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A style specifies graphical properties to be used in displaying one of the
element types in a table (i.e., entries, hvrules, or blocks).  A style is
similar to a theme in <code>ggplot2</code> in that it can be applied to any
table, not just a particular table.
</p>
<p>A <code>styleObj</code> object is a data frame.  Each row can be thought of as a
pattern plus a set of graphical properties.  Table elements that are to be
styled are compared to the patterns.  If the pattern in a style row
matches a table element, the graphical properties in that row are assigned
to the element.  If more than one style row matches an element, the
properties from the last matching row override the earlier ones.
</p>
<p>The graphical property columns that must be present in a <code>styleObj</code>
data frame are described in <code>?elements</code>.
</p>
<p>Specification of style patterns and how they are matched to elements is
similar for table entries and blocks, and is described first.  The process
for hvrules is more complicated and is described second.  It will be
easier to follow the descriptions if one also looks at an example, such as
<code style="white-space: pre;">&#8288;View(styles_pkg$entryStyle_pkg_1)&#8288;</code> and
<code style="white-space: pre;">&#8288;View(styles_pkg$hvruleStyle_pkg_1)&#8288;</code>.
</p>
<p><em>Style specification and matching: Entry and block styles</em>
</p>
<p>First note that table entries and blocks internally are stored in objects
that are themselves data frames, with one row per element.  (These data
frames can be accessed using the <code>elements</code> function.)  Columns
include element descriptors such as the table part associated with the
element, its position in the table, whether the element spans multiple
rows or columns, and other information.  See <code>?elements</code> for lists of
the standard descriptors.
</p>
<p>In styles for table entries and blocks, the pattern part of the
<code>styleObj</code> object consists of a single column named <code>condition</code>.
<code>condition</code> should contain character strings that can be interpreted
as expressions involving the element descriptors mentioned in the previous
paragraph.  Each <code>condition</code> expression, when evaluated within an
<code>entries</code> or <code>blocks</code> data frame, should produce a logical
vector with one value per element.  (Vectors of length 1 are recycled to
the necessary length.)  Examples of such strings are <code style="white-space: pre;">&#8288;part ==
"rowhead" &amp; multirow&#8288;</code> for entries and <code style="white-space: pre;">&#8288;type == "colblock" &amp; subtype
== "A" &amp; headlayer &gt; 1&#8288;</code> for blocks.
</p>
<p>Elements for which the <code>condition</code> expression in a style row
evaluates to TRUE are considered to match that row of the style, and are
assigned the graphical properties in that row.
</p>
<p>An NA value (or equivalently an empty string) as a style row's
<code>condition</code> is treated specially: it matches _any_ element.  The
row's graphical properties will be applied to all elements, unless
overridden by a later style row.
</p>
<p><em>Style specification and matching: hvrule styles</em>
</p>
<p>The creation and styling of hvrules is closely tied to table blocks: by
default, four hvrules are created for each block, one running along each
side.  (They are initially disabled.)  Style specification for hvrules is
more complicated than for table blocks because hvrules effectively
*separate* blocks.  Therefore one may want their appearance to depend on
characteristics of the blocks on *both* sides of the hvrule.
</p>
<p>Similar to entries and blocks, hvrules are represented internally as a
data frame with one row per hvrule.  Columns include: <code>block</code>, the ID
of the block that generated the hvrule; <code>side</code>, the side of
<code>block</code> along which the hvrule runs (&quot;top&quot;, &quot;bottom&quot;, &quot;left&quot;, or
&quot;right&quot;); and <code>adjacent_blocks</code>, a string listing the ID's of all the
blocks adjacent to <code>block</code> on the same side as the hvrule.  That is,
the hvrule separates <code>block</code> and the blocks in
<code>adjacent_blocks</code>.  Note that <code>adjacent_blocks</code> may be empty.
</p>
<p>In styles for hvrules, the pattern part of the <code>styleObj</code> object
consists of three columns: <code>block_condition</code>, <code>side</code>, and
<code>adjacent_condition</code>. <code>side</code> is one of &quot;top&quot;, &quot;bottom&quot;, &quot;left&quot;
or &quot;right&quot;.  <code>block_condition</code> and <code>adjacent_condition</code> are like
the <code>condition</code> column for block styles: they should contain
character strings that can be interpreted as expressions involving block
descriptors.  Each expression will be evaluated within the data frame of
blocks that generated the hvrules.  (Not the data frame containing the
hvrules themselves.)  It should produce a logical vector with one element
per block; if the value is TRUE for a block, the block satisfies that
expression.
</p>
<p>An hvrule matches a given style row if (a) its generating block satisfies
the style row's <code>block_condition</code>; (b) they have the same value of
<code>side</code>; and (c) one or more of the hvrule's <code>adjacent_blocks</code>
satisfies the style row's <code>adjacent_condition</code>.
</p>
<p>Any of <code>block_condition</code>, <code>side</code>, and <code>adjacent_condition</code>
in a style row may also be set to NA (or equivalently, to an empty
string).  In that case the corresponding criterion (a), (b), or (c) is
considered to be satisfied for all hvrules, and so does not limit matches.
Note that setting <code>adjacent_condition</code> to NA is the only way to
satisfy criterion (c) if an hvrule's <code>adjacent_blocks</code> is empty.  In
all other cases, an empty <code>adjacent_blocks</code> will never satisfy
criterion (c).
</p>


<h3>Value</h3>

<p>An object of S3 classes <code>styleObj</code> and <code>data.frame</code>.  It will
have the same number of rows and all the columns in <code>x</code>.
</p>
<p>The object will have attributes <code>element_type</code> and
<code>match_columns</code>, equal to the corresponding arguments.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+styles_pkg">styles_pkg</a></code> contains predefined styles provided by the
package.  They can be examined as illustrations of how styles are
specified, or edited to create new styles.  <code><a href="#topic+elements">elements</a></code> lists
the descriptors and graphical properties available for each element type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Built-in default styles:
if (interactive()) {
  View(styles_pkg$entryStyle_pkg_1)
  View(styles_pkg$blockStyle_pkg_1)
  View(styles_pkg$hvruleStyle_pkg_1)
}
  </code></pre>

<hr>
<h2 id='styles_pkg'>Built-In Styles for Table Elements</h2><span id='topic+styles_pkg'></span>

<h3>Description</h3>

<p>A list that contains pre-defined styles for table entries, blocks, 
and hvrules.  Styles are used to assign graphical properties to elements, 
and thus control the appearance of a table when it is displayed.  In addition 
to the package-provided styles in this list, users can modify or create 
new styles to customize their tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>styles_pkg</code></pre>


<h3>Format</h3>

<p>The list has the following components, each a <code>styleObj</code> object:
</p>

<dl>
<dt><code>entryStyle_pkg_base</code>, <code>blockStyle_pkg_base</code>, 
<code>hvruleStyle_pkg_base</code></dt><dd><p>Minimal styles that assign 
the same graphical properties to all elements.</p>
</dd>
<dt><code>entryStyle_pkg_1</code>, <code>blockStyle_pkg_1</code>, 
<code>hvruleStyle_pkg_1</code></dt><dd><p>The default styles used by the package.</p>
</dd>
<dt><code>entryStyle_pkg_2</code></dt><dd><p>Similar to <code>entryStyle_pkg_1</code>, but 
with <code>hpad</code> and <code>vpad</code> about 50 percent larger, to 
give a more spacious layout of table entries.</p>
</dd>
<dt><code>entryStyle_pkg_null</code>, <code>blockStyle_pkg_null</code>, 
<code>hvruleStyle_pkg_null</code></dt><dd><p>&quot;Null&quot; styles designed to not 
match any element, and thus not assign graphical properties to any 
element.  Using the null style for hvrules is a way to disable all 
hvrules when the plot is created (rather than afterwards using 
a <code>props&lt;-</code> function).</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+styleObj">styleObj</a></code>, <code><a href="#topic+tablesggOpt">tablesggOpt</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>  names(styles_pkg)  # built-in styles
  str(styles_pkg$entryStyle_pkg_1)
</code></pre>

<hr>
<h2 id='summary.pltdTable'>Summarize the Dimensions and Options of a Plotted Table </h2><span id='topic+summary.pltdTable'></span>

<h3>Description</h3>

<p>Summarize the dimensions and display options of a plotted table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pltdTable'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.pltdTable_+3A_object">object</code></td>
<td>
<p>A <code>pltdTable</code> object, a plotted 2D data summary table.
</p>
</td></tr>
<tr><td><code id="summary.pltdTable_+3A_...">...</code></td>
<td>
<p>Additional arguments, ignored with a warning.  (Included for compatibility
with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There is a print method for objects of the returned class.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>summary.pltdTable</code>.  It is a list with
components
</p>
<table>
<tr><td><code>adim</code></td>
<td>
<p>Dimensions of the augmented row-column grid for the table.  See
<code>?adim</code> for details about this grid.
</p>
</td></tr>
<tr><td><code>parts</code></td>
<td>
<p>Data frame with one row for each table part, giving the dimensions of the
part, in columns <code>nr</code>, <code>nc</code>.
</p>
</td></tr>
<tr><td><code>mergeRuns</code>, <code>rowheadInside</code>, <code>rowgroupSize</code>, <code>scale</code>, <code>plot.margin</code>, <code>sizeAdjust</code></td>
<td>
<p>Display options used by the table.  See <code>plot.textTable</code> for their
meaning.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+adim">adim</a></code>, <code><a href="#topic+plot.textTable">plot.textTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title="Summary statistics for the iris data")
plt &lt;- plot(ttbl, rowheadInside=TRUE)
summary(plt)
  </code></pre>

<hr>
<h2 id='summary.textTable'>Summarize the Dimensions of a Table and Its Parts </h2><span id='topic+summary.textTable'></span>

<h3>Description</h3>

<p>Summarize the dimensions of a table and its parts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'textTable'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.textTable_+3A_object">object</code></td>
<td>
<p>A <code>textTable</code> object, representing a 2D data summary table.
</p>
</td></tr>
<tr><td><code id="summary.textTable_+3A_...">...</code></td>
<td>
<p>Additional arguments, ignored with a warning.  (Included for compatibility
with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There is a print method for objects of the returned class.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>summary.textTable</code>.  It is a list with
components
</p>
<table>
<tr><td><code>adim</code></td>
<td>
<p>Dimensions of the augmented row-column grid for the table.  See
<code>?adim</code> for details about this grid.
</p>
</td></tr>
<tr><td><code>parts</code></td>
<td>
<p>Data frame with one row for each table part, giving the dimensions of the
part, in columns <code>nr</code>, <code>nc</code>.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+adim">adim</a></code>, <code><a href="#topic+textTable">textTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title="Summary statistics for the iris data")
summary(ttbl)
  </code></pre>

<hr>
<h2 id='tablesgg-package'>Presentation-Quality Tables, Displayed Using <span class="pkg">ggplot2</span></h2><span id='topic+tablesgg-package'></span><span id='topic+tablesgg'></span>

<h3>Description</h3>

<p>Presentation-quality tables are displayed as plots on an R 
graphics device.  Although there are other packages that format tables 
for display, this package is unique in combining two features: (a) It is 
aware of the logical structure of the table being presented, and makes 
use of that for automatic layout and styling of the table.  This avoids 
the need for most manual adjustments to achieve an attractive result. 
(b) It displays tables using <span class="pkg">ggplot2</span> graphics.  Therefore a table can 
be presented anywhere a graph could be, with no more effort.  External 
software such as LaTeX or HTML or their viewers is not required. 
</p>
<p>Methods are included to display matrices; data frames; tables created by R's 
<code>ftable</code>, <code>table</code>, and <code>xtabs</code> functions; and tables 
created by the <span class="pkg">tables</span> and <span class="pkg">xtable</span> packages.  Methods can be 
added to display other table-like objects. 
</p>
<p>Other package features:
</p>

<ul>
<li><p> A full set of tools is provided to control the appearance 
of tables, including titles, footnotes and reference marks, horizontal 
and vertical rules, and spacing of rows and columns.  Many properties can be 
set automatically by specifying <em>styles</em>.  Default styles are  
included, and the user can define custom styles.  
</p>
</li>
<li><p> There are tools for low-level manipulation of the appearance of 
individual table elements if desired.
</p>
</li>
<li><p> All sizes and dimensions in displayed tables are specified in physical 
units (points for font size, millimeters for everything else).  Therefore a 
plotted table has a well-defined physical size, independent of the size of 
the graphics device on which it is displayed.  The user can easily increase 
or decrease the displayed size by a scale factor, maintaining the relative 
proportions of table elements.
</p>
</li>
<li><p> Since the plotted tables are ordinary <code>ggplot</code> objects, 
the facilities of <span class="pkg">ggplot2</span> and its various extension packages are 
available to modify or manipulate the table.  For example, the table can be 
inserted as an image within another plot.
</p>
</li></ul>

<p>A vignette is included that illustrates usage and options available in 
the package.
</p>

<hr>
<h2 id='tablesggOpt'>Get or Reset Package Options </h2><span id='topic+tablesggOpt'></span>

<h3>Description</h3>

<p>Get the values of package options, or reset all options to their
&quot;factory-fresh&quot; defaults.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tablesggOpt(x=NULL, reset=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tablesggOpt_+3A_x">x</code></td>
<td>
<p>Character string with the name of a single package option, or NULL.
</p>
</td></tr>
<tr><td><code id="tablesggOpt_+3A_reset">reset</code></td>
<td>
<p>Logical scalar.  If TRUE, all options will be reset to their initial,
&quot;factory-fresh&quot; values.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The user can change option values using the <code>tablesggSetOpt</code>
function.  The new values will stay in effect for the rest of the R
session or until they are changed again by the user.
</p>


<h3>Value</h3>

<p>If <code>x</code> is the name of a single package option, the value of that
option.  Otherwise, a named list with the current values of all package
options.  In both cases the result is after resetting if <code>reset</code> is
TRUE.
</p>
<p>The result is invisible if <code>reset</code> is TRUE.
</p>
<p>The available options are documented in <code>?tablesggSetOpt</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tablesggSetOpt">tablesggSetOpt</a></code>, <code><a href="#topic+styles_pkg">styles_pkg</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # See names of available options:
  names(tablesggOpt())
  # The current value of option 'plot.margin':
  tablesggOpt("plot.margin")
  </code></pre>

<hr>
<h2 id='tablesggSetOpt'>Set the Values of Package Options </h2><span id='topic+tablesggSetOpt'></span>

<h3>Description</h3>

<p>Set the values of package options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tablesggSetOpt(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tablesggSetOpt_+3A_...">...</code></td>
<td>
<p>Arguments in <code>tag = value</code> form, or a list of tagged values.  The
tags must come from the names of package options described in DETAILS
below.  The named options will be set to the values provided.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The new option values persist until the end of the R session or until they
are changed by another call to this function or to
<code>tablesggOpt(reset=TRUE)</code>.
</p>
<p>The options that may be set are:
</p>
 <dl>
<dt>entryStyle</dt><dd><p>A <code>styleObj</code> object, with element type
<code>entry</code>.  This is the default style for table entries.</p>
</dd>
<dt>blockStyle</dt><dd><p>A <code>styleObj</code> object, with element type
<code>block</code>.  This is the default style for blocks.</p>
</dd> <dt>hvruleStyle</dt><dd><p>A
<code>styleObj</code> object, with element type <code>hvrule</code>.  This is the
default style for hvrules.</p>
</dd> <dt>plot.margin</dt><dd><p>A numeric vector of length
4, containing the amount of empty space to add around the four sides of a
plotted table, in millimeters.  The order of sides is top, right, bottom,
left.</p>
</dd> <dt>allowMarkdown</dt><dd><p>Logical scalar.  If TRUE then text for table
entries is allowed to contain markdown and HTML tags to control its
appearance.  TRUE is valid only if package <code>ggtext</code> is available.</p>
</dd>
<dt>allowWrap</dt><dd><p>Logical scalar.  If TRUE then automatic wrapping of text
for table entries is allowed.  TRUE is valid only if packages
<code>ggtext</code> and <code>quadprog</code> are available.</p>
</dd> </dl>

<p>Facilities to handle markdown and automatic wrapping of entry text are
provided by Claus Wilke's <code>ggtext</code> package
(https://CRAN.R-project.org/package=ggtext).  Therefore
<code>allowMarkdown</code> and <code>allowWrap</code> can be set to TRUE only when
that package has been installed.  Note that only a subset of HTML tags are
available.
</p>


<h3>Value</h3>

<p>A list with the old values of the named options, invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tablesggOpt">tablesggOpt</a></code> to get current values of options, or to reset
options to their &quot;factory-fresh&quot; setting.  <code><a href="#topic+styles_pkg">styles_pkg</a></code> for
the set of package-provided table styles.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  oldopt &lt;- tablesggOpt()
  tablesggOpt(reset=TRUE)
  plt1 &lt;- plot(iris2_tab, title="Factory-fresh default styles")
  # Set new default style for table entries:
  tablesggSetOpt(entryStyle=styles_pkg$entryStyle_pkg_2)
  plt2 &lt;- plot(iris2_tab, title="Changed default entry style")
  # Compare:
  print(plt1, vpy=0.75)
  print(plt2, vpy=0.25, newpage=FALSE)
  
  # Change the values of multiple options:
  tablesggSetOpt(list(hvruleStyle=styles_pkg$hvruleStyle_pkg_base, 
                      plot.margin=c(5, 5, 5, 5)))
  # ... plot some tables using the new defaults ...
  # Restore the old options:
  tablesggSetOpt(oldopt)
  identical(tablesggOpt(), oldopt)
  </code></pre>

<hr>
<h2 id='tblBlocks'>Define Blocks of Cells that Reflect the Logical Structure of a Table </h2><span id='topic+tblBlocks'></span>

<h3>Description</h3>

<p>Define a collection of rectangular blocks of cells that reflect the
logical structure of a table.  This is an internal function, not intended
to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tblBlocks(x, rowgroupSize=0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tblBlocks_+3A_x">x</code></td>
<td>
<p>A <code>tblEntries</code> object, or something that can be converted to one
(e.g., a <code>textTable</code> object).
</p>
</td></tr>
<tr><td><code id="tblBlocks_+3A_rowgroupsize">rowgroupSize</code></td>
<td>
<p>Numeric scalar.  If greater than 0, blocks will be created by grouping
consecutive rows of the table body into sets of this size.  See DETAILS.
</p>
</td></tr>
<tr><td><code id="tblBlocks_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>tblEntries</code> when <code>x</code> is not
already a <code>tblEntries</code> object (e.g., <code>rowheadInside</code>).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A block is simply a rectangular set of contiguous table cells.  Any number
of blocks may be defined for a given table, and blocks may overlap.  A
block may be empty (<code>nr</code> and/or <code>nc</code> equal to 0, and
corresponding <code>arow*</code> and <code>acol*</code> values set to NA.)
</p>
<p>This function defines a standard set of blocks based on the logical
structure of a table (but independent of the _content_ of table cells).
The following blocks are defined:
</p>
<p>&quot;table&quot; : The whole table (all cells). &quot;title&quot;, &quot;subtitle&quot;, &quot;colhead&quot;,
&quot;rowhead&quot;, &quot;rowheadLabels&quot;, &quot;body&quot;, &quot;foot&quot; : The standard table parts.
(If there are interior row header entries, <code>rowhead</code> and <code>body</code>
are omitted because the interleaving of headers and body means neither are
valid blocks.) &quot;titles&quot; : The union of the <code>title</code> and
<code>subtitle</code> parts. &quot;stub&quot; : If we exclude the title/subtitle and foot
annotations, a table has four quadrants: the body at the lower right, the
row headers at the lower left, the column headers at the upper right, and
a stub at the upper left.  That is, the stub consists of the cells above
the row headers and to the left of the column headers.  (If there are row
header labels&ndash;block <code>rowheadLabels</code>&ndash;they will be in the bottom row
of the stub.) &quot;colhead_and_stub&quot;, &quot;rowhead_and_stub&quot; : The unions of
<code>stub</code> with <code>colhead</code> and <code>rowhead</code>, respectively.
&quot;colhead_and_body&quot;, &quot;rowhead_and_body&quot; : The unions of <code>body</code> with
<code>colhead</code> and <code>rowhead</code>, respectively.
</p>
<p>Each of these blocks is unique and so their <code>id</code> and <code>type</code> are
the same string.  <code>subtype</code>, <code>headlayer</code>, and
<code>level_in_layer</code> are set to NA for them.
</p>
<p>Blocks representing the hierarchical structure of headers
</p>
<p>Additional blocks, with types &quot;rowblock&quot; and &quot;colblock&quot;, are defined to
represent the hierarchical structure of row and column headers.  To
describe these blocks, some terminology is needed.  For concreteness, the
description is in terms of column headers; analogous comments apply to row
headers.
</p>
<p>When a table is displayed, each _row_ of column headers (corresponding to
a row of the <code>colhead</code> matrix in a <code>textTable</code> object), defines
one _layer_ of the header.  Layers are numbered from innermost (closest to
the table body) to outermost.  Structurally, layers form a hierarchy:
header values at a lower numbered (inner) layer are nested within values
at higher numbered (outer) layers.  This hierarchy implies a
tree-structured partitioning of table columns according to values of the
header variables.  A set of contiguous columns that share the same header
value for a layer, and for all layers above it in the hierarchy, belong to
a single _level_ of that layer.  Levels are numbered from 1 to the number
of levels in a layer.
</p>
<p>Then for each combination of layer number <code>i</code> and level number
<code>j</code> in a header, three blocks are defined.  A block with subtype &quot;A&quot;
consists of just the cells in header layer <code>i</code> whose value
corresponds to level number <code>j</code>.  It will thus come from a single row
in the column headers of the table.  And since all the cells in the block
have the same value, those cells will typically be merged into a single
entry when displaying the table.
</p>
<p>A block with subtype &quot;B&quot; is bigger: it consists of the cells in the
subtype &quot;A&quot; block, plus the header cells with _smaller_ layer numbers in
the same columns.  So it extends from layer <code>i</code> down through the rest
of the header rows.  And finally a block with subtype &quot;C&quot; is bigger yet:
it consists of the cells in the subtype &quot;B&quot; block plus the cells in the
table body in the same columns.  That is, it spans the same set of columns
as the subtype &quot;A&quot; and &quot;B&quot; blocks but adds rows down through the table
body.  Block ID's have the form <code>colblock/&lt;subtype&gt;/i/j</code>.
</p>
<p>Sets of blocks for the row headers are defined analogously.  Each _column_
in the row headers of a displayed table (corresponding to a column in the
<code>rowhead</code> matrix of a <code>textTable</code> object) represents one layer.
The layer closest to the table body is numbered 1 and layer number
increases toward the left edge of the table.  A subtype &quot;A&quot; block consists
of the cells in layer number <code>i</code> whose value corresponds to level
number <code>j</code> in that layer.  It will thus come from a single column in
the row headers of the table.  A subtype &quot;B&quot; block consists of the cells
in the &quot;A&quot; block, plus the header cells with _smaller_ layer numbers in
the same rows.  A subtype &quot;C&quot; block further adds the cells in the table
body in the same rows.  That is, it spans the same set of rows as &quot;A&quot; and
&quot;B&quot; blocks but adds columns across through the table body.  Block ID's
have the form <code>rowblock/&lt;subtype&gt;/i/j</code>.
</p>
<p>Blocks when <code>rowheadInside</code> is TRUE
</p>
<p>Moving the outermost layer of row header entries into the interior of the
table, where they separate and label groups of rows, changes the shape of
table parts.  Specifically, since row headers and body are interleaved,
neither forms a valid rectangular block.  However their union is a valid
block, with ID and type <code>rowhead_and_body</code>.
</p>
<p>When a row header layer is moved inside, its layer number is set to 0.
(Conceptually, since it is interleaved with the table body, it is interior
even to header layer 1.)  Blocks <code>rowblock/&lt;subtype&gt;/i/j</code>, where
<code>i</code> indicates layer number, are different when i=0 than for other
layers.  Subtype &quot;A&quot;, <code>rowblock/A/0/j</code>, has one row and spans all
table columns.  It contains the label for the <code>j</code>-th level.  Subtype
&quot;B&quot;, <code>rowblock/B/0/j</code>, contains all row header entries (if any)
nested within level <code>j</code>.  Subtype &quot;C&quot;, <code>rowblock/C/0/j</code>,
combines <code>rowblock/B/0/j</code> with all the body rows associated with
level <code>j</code>.  Thus <code>rowblock/C/0/j</code> spans all table columns.
Unlike when <code>i</code> is not equal to 0, neither <code>rowblock/B/0/j</code> nor
<code>rowblock/C/0/j</code> contain <code>rowblock/A/0/j</code>.
</p>
<p>Blocks representing groups of rows
</p>
<p>When a table has many rows within a given level of the row header
hierarchy, the table may be easier to read if rows are grouped into
smaller sets of fixed size (groups of 5, for example), with some extra
space inserted between groups.  To facilitate this, this function creates
blocks representing such groups when <code>rowgroupSize</code> is positive.  The
block type is &quot;rowblock&quot; and subtype is &quot;G&quot;.
</p>
<p>Grouping respects the row header hierarchy: the innermost header layer
that has runs of repeated values is identified (layer <code>i</code> say), and
grouping is done separately within each of its levels.  The block
representing a row group spans all columns of the table body as well as
row header layers out to layer <code>i-1</code>.  Block ID's have the form
<code>rowblock/G/i/j/k</code>, where <code>j</code> is the level number (within layer
<code>i</code>) that contains the group, and <code>k</code> is the group number within
that level.  Thus <code>i</code>, <code>j</code>, and <code>k</code> are the values of
<code>headlayer</code>, <code>level_in_layer</code>, and <code>group_in_level</code> for the
block.
</p>
<p>However if the table has no row headers, or none of the row header layers
have runs of repeated values, table rows are simply grouped into sets of
size <code>rowgroupSize</code>.  <code>headlayer</code> and <code>level_in_layer</code> will
be NA for the group blocks, and block ID's will have the form
<code>rowblock/G///k</code>, where <code>k</code> is the group number (and value of
<code>group_in_level</code>).
</p>


<h3>Value</h3>

<p>An S3 object of class <code>tblBlocks</code>.  This is a data frame with one row
per block.  It contains information about the nature and position of each
block.  Column descriptions are in the documentation for the
<code>elements</code> function.  Also see DETAILS for more information about
columns <code>id</code>, <code>type</code>, and <code>subtype</code>.
</p>
<p>Row names for the data frame are set equal to <code>id</code>.
<code>rowgroupSize</code> and <code>rowheadInside</code> (the latter taken from
<code>x</code>, after converting it to a <code>tblEntries</code> object if necessary)
will be included as attributes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblEntries">tblEntries</a></code>, <code><a href="#topic+tblParts">tblParts</a></code>, <code><a href="#topic+elements">elements</a></code>;
<code><a href="#topic+as.tblBlocks">as.tblBlocks</a></code> converts a data frame to a <code>tblBlocks</code>
object.
</p>

<hr>
<h2 id='tblEntries'>Assemble Information About Each Entry in a Table into a Data Frame </h2><span id='topic+tblEntries'></span>

<h3>Description</h3>

<p>Assemble information about each entry in a table into a data frame with
one row per entry, and columns for entry content and position in the
table.  This is an internal function, not intended to be called by package
users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tblEntries(x, mergeRuns=c(TRUE, TRUE), rowheadInside=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tblEntries_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> object, or something that can be coerced to one.
</p>
</td></tr>
<tr><td><code id="tblEntries_+3A_mergeruns">mergeRuns</code></td>
<td>
<p>Two-element logical vector, the first element applying to row headers, the
second to column headers.  If TRUE (the default) then header cells that
contain runs of the same value will be merged into a single entry that
spans multiple rows or columns.  Note that runs in the outermost row
header layer are always merged when <code>rowheadInside</code> is TRUE, even if
<code>mergeRuns[1]</code> is FALSE.
</p>
</td></tr>
<tr><td><code id="tblEntries_+3A_rowheadinside">rowheadInside</code></td>
<td>
<p>Logical scalar.  If TRUE, the outermost layer of row headers is moved
inside the table by using its levels to divide the table into groups of
rows, with each group labeled by their level.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Entries include all parts of the table: the body of the table, row and
column headers, titles, subtitles, and foot lines.  This function calls
<code>textTable(x)</code> to convert table entries to character strings if
necessary.
</p>
<p>If the text for an entry is missing (NA) the entry will be disabled, with
a warning.  If the text is an empty string (&quot;&quot;), the entry will be
disabled by default; this is so that blocks containing only empty cells
will not have hvrules generated for them.
</p>
<p>Row and column numbers used in creating default entry ID's are
<code>partrow</code> and <code>partcol</code>, and thus with respect to the dimensions
of the table part the entry belongs to, not the augmented row-column grid.
If an entry spans more than one row or column, the minimum row/column
number of the spanned cells is used.
</p>
<p>The <code>rowhier</code> and <code>colhier</code> attributes are included primarily to
assist creation of table blocks by function <code>tblBlocks</code>.
</p>
<p>The inclusion of the <code>hjust</code> column is not tidy, since it is really a
graphical display property.  However it is needed to carry forward
justification information that <code>x</code> may have inherited from a
<code>tabular</code> object.
</p>
<p>The <code>tblEntries</code> method for <code>textTable</code> is the inverse of this
function: it will re-create a <code>textTable</code> from a <code>tblEntries</code>
object.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>tblEntries</code>.  This is a data frame with one
row per entry in the table.  It contains descriptors with information
about the nature and position of each entry within the table.  Column
descriptions are in the documentation for the <code>elements</code> function.
Additional details for certain columns are:
</p>
<table>
<tr><td><code>subpart</code></td>
<td>
<p>For row and column headers, the subpart will be the name of the
corresponding column in <code>x$rowhead</code> or row in <code>x$colhead</code>.
</p>
</td></tr>
<tr><td><code>level_in_layer</code></td>
<td>
<p>Numbering of entries within a given part and headlayer.  For row and
column headers this is based their hierarchical structure (see
<code>tblBlocks</code>), and assumes <code>mergeRuns</code> is TRUE (so multiple
entries within a layer may have the same level number).  For other table
parts it is just an integer from 1 to the number of entries in that layer
of that part.
</p>
</td></tr>
<tr><td><code>type</code></td>
<td>
<p>Character string identifying the type of value the entry represents (e.g.,
&quot;numeric&quot;).  This is taken from the <code>type</code> attributes of components
of <code>x</code>, and may be NA for unknown or unspecified type.  The default
for table annotation (<code>title</code>, <code>subtitle</code>, <code>foot</code>) and
<code>rowheadLabels</code> is &quot;character&quot;.
</p>
</td></tr>
<tr><td><code>textspec</code></td>
<td>
<p>Character string indicating any special features of the text in
<code>text</code>.  Currently supported values are &quot;plain&quot;, &quot;plotmath&quot;, and
&quot;markdown&quot;.  The default is &quot;plain&quot;, but any entry whose text begins with
&quot;MATH_&quot; or &quot;MKDN_&quot; will have <code>textspec</code> set to &quot;plotmath&quot; or
&quot;markdown&quot;, respectively, and the prefix will be removed from <code>text</code>.
</p>
</td></tr>
<tr><td><code>enabled</code></td>
<td>
<p>Logical indicating whether the entry is to be displayed.  This function
sets <code>enabled</code> to FALSE for entries whose <code>text</code> is NA (with a
warning) or the empty string &quot;&quot;, and to TRUE for all other entries.
</p>
</td></tr>
<tr><td><code>hjust</code></td>
<td>
<p>Numeric horizontal justification specification for entry text (0=left,
0.5=center, 1=right, NA=unspecified).  This is set based on the
<code>justification</code> attributes of components of <code>x</code> if present, NA
if not.
</p>
</td></tr>
</table>
<p>Row names for the data frame are set equal to <code>id</code>.  The data frame
has attributes <code>mergeRuns</code> and <code>rowheadInside</code>, based on the
arguments.  It also has attributes <code>rowhier</code> and <code>colhier</code>,
containing information about the row and column header hierarchies.  They
are lists of data frames, copied from the corresponding components of
<code>x</code>.  They reflect the logical structure of the headers and are
unaffected by display choices such as <code>mergeRuns</code> and
<code>rowheadInside</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+textTable">textTable</a></code>, <code><a href="#topic+tblParts">tblParts</a></code>;
<code><a href="#topic+as.tblEntries">as.tblEntries</a></code>, <code><a href="#topic+elements">elements</a></code>.
</p>

<hr>
<h2 id='tblHvrules'>Create Horizontal and Vertical Rules for a Table </h2><span id='topic+tblHvrules'></span>

<h3>Description</h3>

<p>Create horizontal and vertical rules (hvrules) for a table, based on
blocks of table entries.  This is an internal utility function, not
intended to be called directly by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tblHvrules(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tblHvrules_+3A_x">x</code></td>
<td>
<p>A <code>tblBlocks</code> object specifying blocks of cells in a 2D table.  If
NULL, no hvrules are created.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates four hvrules per block: two hrules that run along
the top and bottom sides of the block, and two vrules that run along the
left and right sides of the block.  All of the generated hvrules are
disabled by default.
</p>
<p>No graphical properties of the hvrules, such as the size of the inserted
rectangle or the appearance of the line within it, are assigned by this
function.  hvrules can be selectively enabled and given graphical
properties by applying a style (see <code>styleObj</code>) to create plot-ready
hvrules (a <code>prHvrule</code> object).  Properties in an existing plot can
also be modified using the <code>props&lt;-</code> function.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>tblHvrules</code>, which is a data frame with each
row specifying one hvrule for the table.  If there are no hvrules, the
data frame will have no rows.  Columns are:
</p>
<table>
<tr><td><code>id</code></td>
<td>
<p>A unique identifier for the hvrule.  This function creates identifiers
using the format <code>&lt;block&gt;_&lt;side&gt;</code>.
</p>
</td></tr>
<tr><td><code>direction</code></td>
<td>
<p>Either &quot;hrule&quot; for a horizontal rule or &quot;vrule&quot; for a vertical rule.
</p>
</td></tr>
<tr><td><code>block</code></td>
<td>
<p>The identifier of the block along the side of which the hvrule runs.
</p>
</td></tr>
<tr><td><code>side</code></td>
<td>
<p>Which side of the block the hvrule runs along, &quot;top&quot;, &quot;bottom&quot;, &quot;left&quot;, or
&quot;right&quot;.
</p>
</td></tr>
<tr><td><code>adjacent_blocks</code></td>
<td>
<p>Character string containing the IDs of blocks that are adjacent to
<code>block</code> on the same side as the hvrule.  (I.e., blocks that are
separated from <code>block</code> by the hvrule.)  Block IDs within the string
are separated by semicolons.  If there are no adjacent blocks the string
will be empty (&quot;&quot;).
</p>
</td></tr>
<tr><td><code>arow1</code>, <code>arow2</code>, <code>acol1</code>, <code>acol2</code></td>
<td>
<p>Location of the hvrule with respect to the expanded row-column grid of the
table.  An hrule is inserted between table rows, and therefore
<code>arow1</code> and <code>arow2</code> are the same and equal to a half-integer.
For example, an hrule inserted between rows 3 and 4 has <code>arow1 =
arow2 = 3.5</code>.  <code>acol1</code> and <code>acol2</code> for the hrule are integers
indicating the range of columns that it spans.  Analogously, a vrule is
inserted between table columns, so <code>acol1</code> and <code>acol2</code> are
identical and equal to a half-integer, while <code>arow1</code> and <code>arow2</code>
are integers that indicate the range of rows spanned by the vrule.
</p>
</td></tr>
<tr><td><code>enabled</code></td>
<td>
<p>Logical indicating whether the hvrule is to be displayed.  This function
sets <code>enabled</code> to FALSE for all hvrules.  See DETAILS for information
about enabling selected hvrules.
</p>
</td></tr>
</table>
<p>Row names for the data frame are set equal to <code>id</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblBlocks">tblBlocks</a></code> defines a default set of blocks that reflect the
logical structure of the table.  This function is called by internal
function <code><a href="#topic+apply_style">apply_style</a></code>.
</p>

<hr>
<h2 id='tblParts'>Extract Dimensions of the Various Parts of a Table </h2><span id='topic+tblParts'></span>

<h3>Description</h3>

<p>Extract information about the dimensions of the various parts of a table
represented by a <code>textTable</code> or <code>tblEntries</code> object.  This is an
internal function not intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tblParts(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tblParts_+3A_x">x</code></td>
<td>
<p>A <code>textTable</code> object, representing a table.  May also be an object
containing table entries derived from a <code>textTable</code> object; for each
entry, columns <code>part</code>, <code>arow1</code>, <code>arow2</code>, <code>acol1</code>, and
<code>acol2</code> are required.  May also be NULL, which will be treated as a
table with no entries.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently defined table parts are &quot;title&quot;, &quot;subtitle&quot;, &quot;rowhead&quot;,
&quot;colhead&quot;, &quot;rowheadLabels&quot;, &quot;body&quot;, &quot;foot&quot;.
</p>
<p>The dimensions of a part are based on the logical structure of the table,
as represented in a <code>textTable</code> object.  When <code>x</code> is a
<code>tblEntries</code> or other entry-containing object, the dimensions of
table parts are inferred from the numbers and positions of entries in each
part.  It is an error if the set of entries is not sufficiently complete
that reconstruction of dimensions is unambiguous.
</p>
<p>When inferring dimensions from a <code>tblEntries</code> or other
entry-containing object, the display option <code>rowheadInside</code> is
implicitly set to FALSE.  Thus table parts can be assumed to be
rectangular, occupying continguous blocks of cells in the table, and
non-overlapping.
</p>
<p>Internal consistency of dimensions is enforced: the number of rows for
&quot;colhead&quot; will always be at least as large as for &quot;rowheadLabels&quot;; the
number of columns for &quot;rowheadLabels&quot; and &quot;rowhead&quot; will be equal; the
number of rows in &quot;rowhead&quot; and &quot;body&quot; will be equal; and the number of
columns in &quot;colhead&quot; and &quot;body&quot; will be equal.
</p>
<p>This function relies on <code>undo_rowhead_inside</code>, which uses
<code>adim</code>.
</p>


<h3>Value</h3>

<p>Numeric matrix with one row per table part, and columns:
</p>
<table>
<tr><td><code>nr</code>, <code>nc</code></td>
<td>
<p>Number of rows, columns in the part (<code>nc</code> equal to NA for annotation
parts since the number of columns they span is determined by other table
parts, rather than fixed)).
</p>
</td></tr>
<tr><td><code>arow1</code>, <code>arow2</code>, <code>acol1</code>, <code>acol2</code></td>
<td>
<p>First and last rows, first and last columns occupied by the part within
the table's augmented row-column grid.  <code>arow*</code> should be NA if
<code>nr</code> is 0, <code>acol*</code> should be NA if <code>nc</code> is 0.
</p>
</td></tr>
</table>
<p>Row names will be set to the part IDs.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+adim">adim</a></code> for discussion of the augmented row-column grid.
</p>

<hr>
<h2 id='textTable'>Create a Structure Representing a 2D Table </h2><span id='topic+textTable'></span>

<h3>Description</h3>

<p>Create a structure representing the content and organization of a 2D
table: table body, row and column headers, and annotation.  All table
cells are formatted as character strings.  This is an S3 generic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textTable(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable_+3A_x">x</code></td>
<td>
<p>Object to be formatted as a 2D table.
</p>
</td></tr>
<tr><td><code id="textTable_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to specific methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>textTable</code> objects are the fundamental structure used to represent
table _content_ and _organization_ in the <code>tablesgg</code> package.
</p>
<p>Components <code>body</code>, <code>rowhead</code>, <code>rowheadLabels</code>,
<code>colhead</code>, <code>title</code>, <code>subtitle</code>, and <code>foot</code> correspond
to the table _parts_ with those names.  Empty parts should be of type
character: either a 0-length vector or a matrix with one or both
dimensions equal to 0, depending on the component.
</p>
<p>Character strings representing table content may be prefixed with either
&quot;MATH_&quot; or &quot;MKDN_&quot;.  The former indicates the string is to be interpreted
as a <code>plotmath</code> expression, the latter that the string contains
markdown or HTML tags.
</p>
<p>Components <code>partdim</code>, <code>rowhier</code>, and <code>colhier</code> are
automatically derived from the other components whenever a
<code>textTable</code> is created or updated.
</p>
<p>See Appendix A of the package vignette for more information about writing
<code>textTable</code> methods.
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  This is a list with components:
</p>
<table>
<tr><td><code>body</code></td>
<td>
<p>Character matrix containing the body of the table.
</p>
</td></tr>
<tr><td><code>rowhead</code></td>
<td>
<p>Character matrix with the same number of rows as the table body,
containing row headers for the table.  Row headers are displayed as a set
of columns to the left of the table body.  May be empty (0 columns).
</p>
</td></tr>
<tr><td><code>rowheadLabels</code></td>
<td>
<p>Character matrix with as many columns as <code>rowhead</code> and at most one
row, specifying labels for the <code>rowhead</code> columns.  May be empty (0
rows).
</p>
</td></tr>
<tr><td><code>colhead</code></td>
<td>
<p>Character matrix with the same number of columns as the table body,
containing column headers for the table.  Column headers are displayed as
a set of rows above the table body.  If <code>rowheadLabels</code> are present,
<code>colhead</code> must have at least one row, but otherwise it may be empty
(0 rows).
</p>
</td></tr>
<tr><td><code>title</code>, <code>subtitle</code>, <code>foot</code></td>
<td>
<p>Character vectors providing annotation for the table.  May be empty
(length 0).
</p>
</td></tr>
<tr><td><code>partdim</code></td>
<td>
<p>Numeric matrix with one row per table part (i.e., the components listed
above), and columns:
</p>

<dl>
<dt>nr, nc:</dt><dd><p>Number of rows, columns in the part (<code>nc</code> equal to NA for annotation
parts).
</p>
</dd>
<dt>arow1, arow2, acol1, acol2:</dt><dd><p>First and last rows, first and last columns occupied by the part within
the table's augmented row-column grid.  <code>arow*</code> should be NA if
<code>nr</code> is 0, <code>acol*</code> should be NA if <code>nc</code> is 0.
</p>
</dd>
</dl>

</td></tr>
<tr><td><code>rowhier</code>, <code>colhier</code></td>
<td>
<p>Lists describing the hierarchical structure of row and column headers,
respectively.  Each list has one component per header layer (column of
<code>rowhead</code>, row of <code>colhead</code>), in order from outermost layer to
innermost.  In turn, each of these components is a data frame with one row
per node in the hierarchy at that layer.
</p>
</td></tr>
</table>
<p>Components <code>body</code>, <code>rowhead</code>, and <code>colhead</code> will each have
an attribute <code>type</code>.  For <code>body</code> this will be a character matrix
with the same dimensions, containing an arbitrary string describing the
type of value represented in each cell (e.g., &quot;numeric&quot;), or NA.  For
<code>rowhead</code> and <code>colhead</code>, it will be a character vector with
length equal to the number of layers of headers (i.e., number of columns
in <code>rowhead</code>, number of rows in <code>colhead</code>), again containing a
string describing the type of values in each layer, or NA.
</p>
<p>Components <code>body</code>, <code>rowhead</code>, <code>rowheadLabels</code>,
<code>colhead</code>, <code>title</code>, <code>subtitle</code>, and <code>foot</code> will each
have an attribute <code>justification</code>.  It will be a character matrix or
vector of the same size and shape as the component.  Values &quot;l&quot;, &quot;c&quot;, &quot;r&quot;
specify left, centered, and right horizontal justification of text,
respectively, for the corresponding table entry.  Value NA means that the
type of justification is not specified&ndash;it will be set by the entry style
used when plotting the table.
</p>


<h3>See Also</h3>

<p>Specific methods for creating textTable's from other objects.
</p>

<hr>
<h2 id='textTable.data.frame'>Create a <code>texttable</code> as a Simple Listing of a Data Frame </h2><span id='topic+textTable.data.frame'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> object representing a simple listing of a data
frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'data.frame'
textTable(x, title=character(0), subtitle=character(0), 
    foot=character(0), row.names="", na="NA", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.data.frame_+3A_x">x</code></td>
<td>
<p>A data frame.
</p>
</td></tr>
<tr><td><code id="textTable.data.frame_+3A_title">title</code>, <code id="textTable.data.frame_+3A_subtitle">subtitle</code>, <code id="textTable.data.frame_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing annotation for the table.  May be
empty (i.e., <code>character(0)</code>, the default).
</p>
</td></tr>
<tr><td><code id="textTable.data.frame_+3A_row.names">row.names</code></td>
<td>
<p>A logical scalar or a character string.  If FALSE, the row names of
<code>x</code> are not included in the table.  If TRUE, the row names are
included as row headers, with a row header label of &quot;row.names&quot;.  If a
character string, row names are included as row headers, and if the string
is not empty, it is used as the row header label.
</p>
</td></tr>
<tr><td><code id="textTable.data.frame_+3A_na">na</code></td>
<td>
<p>Character string used to represent missing values (NAs) in the body of the
table.
</p>
</td></tr>
<tr><td><code id="textTable.data.frame_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format.data.frame</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function processes a data frame into a table that is simply a listing
of the data.  There is one row in the body of the table per observation in
<code>x</code>, and one column per variable in <code>x</code>.  There is at most one
layer of row headers (depending on argument <code>row.names</code>), and exactly
one layer of column headers (the variable names in <code>x</code>).
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  The body of the table will
contain the values of the data frame variables, after formatting <code>x</code>
with <code>format(x, ...)</code>.  The variable names will be used as the column
header, and if <code>row.names</code> is not FALSE, the row names will form the
row header.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris, package="datasets")
ttbl &lt;- textTable(head(iris, 10), row.names="Obs. #", 
                  title=c("The iris data", "(First 10 observations)"))
summary(ttbl)
plot(ttbl)
  </code></pre>

<hr>
<h2 id='textTable.default'>Create a <code>texttable</code> Object from a Suitable List</h2><span id='topic+textTable.default'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> object from a list with one component per table
part, with validity checking.  Components <code>partdim</code>, <code>rowhier</code>,
<code>colhier</code> are added/re-derived from the table parts.  Missing
<code>type</code> and <code>justification</code> attributes are added.  Components are
put in standard order.  This is an internal function not intended to be
called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
textTable(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.default_+3A_x">x</code></td>
<td>
<p>A list with components for each of the table parts.  See <code>?textTable</code>
for a description of the table components.  May also be an atomic vector,
which will be converted to a 1-column matrix and passed to the
<code>matrix</code> method.
</p>
</td></tr>
<tr><td><code id="textTable.default_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Present for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Methods to create a <code>textTable</code> from other object classes should
generally finish by calling this function.  It will do validity checking
and fill in or update the necessary components and attributes.
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  Table parts will be in standard
order: &quot;title&quot;, &quot;subtitle&quot;, &quot;rowhead&quot;, &quot;rowheadLabels&quot;, &quot;colhead&quot;, &quot;body&quot;,
&quot;foot&quot;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+textTable">textTable</a></code> for documentation about the class.
</p>

<hr>
<h2 id='textTable.ftable'>Create a <code>texttable</code> from an <code>ftable</code> </h2><span id='topic+textTable.ftable'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> object representing a flattened multiway
contingency table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ftable'
textTable(x, colheadLabels=c("layers", "none", "paste"), sep=": ", 
    title=character(0), subtitle=character(0), foot=character(0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.ftable_+3A_x">x</code></td>
<td>
<p>An <code>ftable</code> object, as produced by R's <code>ftable</code> function,
representing a flattened multiway contingency table.
</p>
</td></tr>
<tr><td><code id="textTable.ftable_+3A_colheadlabels">colheadLabels</code></td>
<td>
<p>Character scalar; how to display names of column header variables.  &quot;none&quot;
means to not display them.  &quot;layers&quot; (the default) means to display them
as additional column header layers (so each header variable occupies two
rows instead of one).  &quot;paste&quot; means to paste the variable name in front
of each of its values, separated by <code>sep</code>.
</p>
</td></tr>
<tr><td><code id="textTable.ftable_+3A_sep">sep</code></td>
<td>
<p>Character scalar; string that separates a variable name from its values
when <code>colheadLabels</code> is &quot;paste&quot;.
</p>
</td></tr>
<tr><td><code id="textTable.ftable_+3A_title">title</code>, <code id="textTable.ftable_+3A_subtitle">subtitle</code>, <code id="textTable.ftable_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing annotation for the table.  May be
empty (i.e., <code>character(0)</code>, the default).
</p>
</td></tr>
<tr><td><code id="textTable.ftable_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Included for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  See the documentation for the
generic for details about its structure.
</p>


<h3>See Also</h3>

<p><code>ftable</code>, <code>format.ftable</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># From examples in '?ftable':
data(Titanic, package="datasets")
ft &lt;- ftable(Titanic, row.vars = 1:2, col.vars = "Survived")
ttbl &lt;- textTable(ft, title="Plotting an 'ftable'")
plot(ttbl)

data(mtcars, package="datasets")
ft &lt;- ftable(mtcars$cyl, mtcars$vs, mtcars$am, mtcars$gear, row.vars = c(2, 4),
             dnn = c("Cylinders", "V/S", "Transmission", "Gears"))
ttbl &lt;- textTable(ft, colheadLabels="none")
plt1 &lt;- plot(ttbl, title="Plotting an 'ftable'", 
             subtitle="No colheadLabels")
ttbl &lt;- textTable(ft, colheadLabels="layers")
plt2 &lt;- plot(ttbl, title="Plotting an 'ftable'", 
             subtitle="colheadLabels = 'layers'")
ttbl &lt;- textTable(ft, colheadLabels="paste")
plt3 &lt;- plot(ttbl, title="Plotting an 'ftable'", 
             subtitle="colheadLabels = 'paste'")
print(plt1, position=c("left", "top"))
print(plt2, position=c("left", "center"), newpage=FALSE)
print(plt3, position=c("left", "bottom"), newpage=FALSE)
  </code></pre>

<hr>
<h2 id='textTable.matrix'>Create a <code>texttable</code> from a Matrix </h2><span id='topic+textTable.matrix'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> object from a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'matrix'
textTable(x, rcnames=c(TRUE, TRUE), title=character(0), 
    subtitle=character(0), foot=character(0), na="NA", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.matrix_+3A_x">x</code></td>
<td>
<p>A matrix.
</p>
</td></tr>
<tr><td><code id="textTable.matrix_+3A_rcnames">rcnames</code></td>
<td>
<p>A logical or character vector of length 2.  The first element applies to
rows, the second to columns.  If FALSE, row/column names are not included.
If TRUE and <code>x</code> has row/column names, they are included as a
row/column header.  Further, if the row/column dimension itself has a
non-empty name, it is included as an additional, outer row/column header
layer.  A character string is treated the same as TRUE, except that the
string is used as the dimension name (and thus an empty string will not
create an outer header layer).
</p>
</td></tr>
<tr><td><code id="textTable.matrix_+3A_title">title</code>, <code id="textTable.matrix_+3A_subtitle">subtitle</code>, <code id="textTable.matrix_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing annotation for the table.  May be
empty (i.e., <code>character(0)</code>, the default).
</p>
</td></tr>
<tr><td><code id="textTable.matrix_+3A_na">na</code></td>
<td>
<p>Character string used to represent missing values (NAs) in the body of the
table.
</p>
</td></tr>
<tr><td><code id="textTable.matrix_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format(x, ...)</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  The body of the table will
contain the matrix values, after formatting <code>x</code> with <code>format(x,
...)</code>.  Row and column names may be included as headers, depending on
argument <code>rcnames</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris, package="datasets")
mat &lt;- data.matrix(subset(iris, Species == "setosa")[, 1:4])
ttbl &lt;- textTable(cor(mat), digits=3, title="Correlations for setosa irises")
summary(ttbl)
plt &lt;- plot(ttbl)
# Make hvrules invisible:
propsd(plt, subset=enabled) &lt;- element_hvrule(color=NA)
print(plt)
  </code></pre>

<hr>
<h2 id='textTable.table'>Create a <code>texttable</code> from a <code>table</code> or <code>xtabs</code> Object </h2><span id='topic+textTable.table'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> object representing a flattened multiway
contingency table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'table'
textTable(x, colheadLabels=c("layers", "none", "paste"), sep=": ", 
    title=character(0), subtitle=character(0), foot=character(0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.table_+3A_x">x</code></td>
<td>
<p>A <code>table</code> object, as produced by R's <code>table</code> or <code>xtabs</code>
functions, representing a multiway contingency table.
</p>
</td></tr>
<tr><td><code id="textTable.table_+3A_colheadlabels">colheadLabels</code></td>
<td>
<p>Character scalar; how to display names of column header variables.  &quot;none&quot;
means to not display them.  &quot;layers&quot; (the default) means to display them
as additional column header layers (so each header variable occupies two
rows instead of one).  &quot;paste&quot; means to paste the variable name in front
of each of its values, separated by <code>sep</code>.
</p>
</td></tr>
<tr><td><code id="textTable.table_+3A_sep">sep</code></td>
<td>
<p>Character scalar; string that separates a variable name from its values
when <code>colheadLabels</code> is &quot;paste&quot;.
</p>
</td></tr>
<tr><td><code id="textTable.table_+3A_title">title</code>, <code id="textTable.table_+3A_subtitle">subtitle</code>, <code id="textTable.table_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing annotation for the table.  May be
empty (i.e., <code>character(0)</code>, the default).
</p>
</td></tr>
<tr><td><code id="textTable.table_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>ftable</code>, to convert <code>x</code> to an
<code>ftable</code> object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function simply converts <code>x</code> to an <code>ftable</code> (flattened
multiway contingency table), then applies the corresponding
<code>textTable</code> method to that object.
</p>
<p>It also works for <code>xtabs</code> objects since they inherit from
<code>table</code>.
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  See the documentation for the
generic for details about its structure.
</p>


<h3>See Also</h3>

<p><code>ftable</code>, <code>xtabs</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># UCBAdmissions is a contingency table in array form ('table' object).
data(UCBAdmissions, package="datasets")
ttbl &lt;- textTable(UCBAdmissions)
plot(ttbl, title=c("Plotting a 'table' object:", "UCB Admissions data"))

# Method also works for 'xtabs' since they inherit from 'table' (example 
# from '?xtabs'):
data(warpbreaks, package="datasets")
warpbreaks$replicate &lt;- rep_len(1:9, 54)
xt &lt;- xtabs(breaks ~ wool + tension + replicate, data = warpbreaks)
ttbl &lt;- textTable(xt, title="Plotting an 'xtabs' object (warpbreaks data)")
plot(ttbl)
  </code></pre>

<hr>
<h2 id='textTable.tabular'>Create a <code>texttable</code> from a <code>tabular</code> Object </h2><span id='topic+textTable.tabular'></span>

<h3>Description</h3>

<p>Convert a <code>tabular</code> object, representing a 2D data summary table,
into a <code>textTable</code> object, which can be plotted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tabular'
textTable(x, title=character(0), subtitle=character(0), 
    foot=character(0), rowheadLabels=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.tabular_+3A_x">x</code></td>
<td>
<p>An object of class <code>tabular</code>, representing a 2D data summary table,
as produced by the <code>tables</code> package.
</p>
</td></tr>
<tr><td><code id="textTable.tabular_+3A_title">title</code>, <code id="textTable.tabular_+3A_subtitle">subtitle</code>, <code id="textTable.tabular_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing annotation for the table.  May be
empty (i.e., <code>character(0)</code>, the default).
</p>
</td></tr>
<tr><td><code id="textTable.tabular_+3A_rowheadlabels">rowheadLabels</code></td>
<td>
<p>Character vector or logical scalar specifying labels for the row header
columns of the table.  FALSE or <code>character(0)</code> means no labels, TRUE
will attempt to extract labels from <code>x</code>.
</p>
</td></tr>
<tr><td><code id="textTable.tabular_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>format.tabular</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tabular</code> objects are produced by the <code>tabular</code> function in
package <code>tables</code>.  This function converts them to <code>textTable</code>
objects to enable plotting.  It can also add table annotation.
</p>
<p>Row headers and column headers are derived from the <code>rowLabels</code> and
<code>colLabels</code> attributes of <code>x</code>, respectively.  It appears that
<code>tabular</code> objects always have &quot;rowLabels&quot;, &quot;colLabels&quot; and a body
with non-zero dimensions (although this is not required for
<code>textTable</code> objects in general).  In addition, runs of duplicated
values in <code>rowLabels</code> and <code>colLabels</code> are replaced by NA; the
NAs are changed back to the original values by this function.  The
<code>dropcells</code> attribute is a character matrix matching the table body.
If not NA, the value in <code>dropcells</code> is used to replace the cell
content after formatting.
</p>
<p>In the returned object, components <code>body</code>, <code>rowhead</code>, and
<code>colhead</code> will each have an attribute <code>type</code>.  For <code>body</code>
the attribute is a character matrix containing a string describing the
type of value represented in each cell of the table body; namely, the
first element of the vector returned by function <code>class()</code> as applied
to each element of <code>x</code>.  For <code>rowhead</code> and <code>colhead</code>,
<code>type</code> is a character vector with one element per header variable
(i.e., per column of <code>rowhead</code> or row of <code>colhead</code>).  Since
<code>tabular</code> objects do not retain the classes of the variables that
define row and column dimensions of a table, <code>type</code> will be set to
NA.
</p>
<p>Components of the returned object will also have an attribute
<code>justification</code>.  It will be a character matrix or vector of the same
size and shape as the component; a value of NA means that the type of
justification is not specified.  Values for the table body and row and
column headers will be taken from <code>x</code>.  Values for table annotation
will be NA.
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  See the documentation for the
generic function for a description of the structure of this object.
</p>


<h3>See Also</h3>

<p><code>tables::tabular</code>, <code>tables::format.tabular</code>,
<code><a href="#topic+plot.textTable">plot.textTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 'iris2_tab' is a 'tabular' object created using 'tables::tabular'.
class(iris2_tab)
# 'tables' package provides a 'print' method for such objects:
if (requireNamespace("tables", quietly=TRUE)) {
print(iris2_tab)
}
# This package provides 'textTable' and 'plot' methods for such objects:
ttbl &lt;- textTable(iris2_tab)
plot(ttbl)
# ... or just
#plot(iris2_tab)  # same
  </code></pre>

<hr>
<h2 id='textTable.tblEntries'>Reconstruct a <code>texttable</code> Object from a <code>tblentries</code> Object </h2><span id='topic+textTable.tblEntries'></span>

<h3>Description</h3>

<p>Reconstruct a <code>textTable</code> object from a <code>tblEntries</code> object.
This is an internal utility function, not intended to be called by package
users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tblEntries'
textTable(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.tblEntries_+3A_x">x</code></td>
<td>
<p>A <code>tblEntries</code> object.  The columns used are <code>part</code>,
<code>partrow</code>, <code>partcol</code>, <code>arow1</code>, <code>arow2</code>, <code>acol1</code>,
<code>acol2</code>, <code>text</code>, <code>textspec</code>, and optionally <code>hjust</code>
and <code>type</code>.
</p>
</td></tr>
<tr><td><code id="textTable.tblEntries_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Present for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>textTable</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblParts">tblParts</a></code>
</p>

<hr>
<h2 id='textTable.xtable'>Create a <code>texttable</code> from an <code>xtable</code> Object </h2><span id='topic+textTable.xtable'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> from an <code>xtable</code> object produced by the
<code>xtable</code> package.  The <code>textTable</code> can then be styled and
plotted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xtable'
textTable(x, title, subtitle=character(0), foot=character(0), 
    row.names="", na="", mathExponents=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.xtable_+3A_x">x</code></td>
<td>
<p>An <code>xtable</code> object as produced by the <code>xtable</code> package.
</p>
</td></tr>
<tr><td><code id="textTable.xtable_+3A_title">title</code></td>
<td>
<p>Optional character vector containing title lines for the table.  May be
empty (<code>character(0)</code>).  The default is to use the first element of
the <code>caption</code> attribute of <code>x</code>, if present.
</p>
</td></tr>
<tr><td><code id="textTable.xtable_+3A_subtitle">subtitle</code>, <code id="textTable.xtable_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing additional annotation for the table.
May be empty (i.e., <code>character(0)</code>, the default).
</p>
</td></tr>
<tr><td><code id="textTable.xtable_+3A_row.names">row.names</code></td>
<td>
<p>A logical scalar or a character string.  If FALSE, the row names of
<code>x</code> are not included in the table.  If TRUE, the row names are
included as row headers, with a row header label of &quot;row.names&quot;.  If a
character string, row names are included as row headers, and if the string
is not empty, it is used as the row header label.
</p>
</td></tr>
<tr><td><code id="textTable.xtable_+3A_na">na</code></td>
<td>
<p>String to be used to represent missing values in <code>x</code>.  The default
value is the empty string &quot;&quot;.
</p>
</td></tr>
<tr><td><code id="textTable.xtable_+3A_mathexponents">mathExponents</code></td>
<td>
<p>Logical scalar.  If TRUE, then numerical values in <code>x</code> that are
formatted into scientific notation (i.e., strings like &quot;3.14e-02&quot;,
specified by values of <code>e</code> or <code>E</code> in the <code>display</code>
attribute of <code>x</code>) will be plotted in math style, with the power of 10
shown as a superscript.
</p>
</td></tr>
<tr><td><code id="textTable.xtable_+3A_...">...</code></td>
<td>
<p>Additional named arguments passed to <code>formatC</code>, when converting
values in <code>x</code> to character strings.  They must not include
<code>digits</code> or <code>format</code>, which are specified within <code>x</code>
itself.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function was designed based on the structure of objects produced by
version 1.8-4 of the <code>xtable</code> package.
</p>
<p>An <code>xtable</code> object is a data frame that contains the columns of the
table and attributes that specify how those columns are to be formatted.
This function uses those attributes to created formatted character strings
for each table entry, and assembles them into a <code>textTable</code> object,
which may then be styled and plotted.
</p>
<p>Formatting is done by <code>formatC</code> using the <code>digits</code> and
<code>display</code> attributes of <code>x</code>.  The <code>align</code> attribute is used
to set the <code>justification</code> attributes in the returned
<code>textTable</code>.  (Vertical rule characters, <code>|</code>, within
<code>align</code> are ignored; use an <code>hvruleStyle</code> or the
<code>addHvrule</code> function to insert vertical rules into the plotted table,
as shown in the examples.)
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  See the documentation for the
generic for details about its structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 'tli_xtab' is an 'xtable' object created using 'xtable::xtable':
class(tli_xtab)
# This package provides a 'textTable' method for such objects:
ttbl &lt;- textTable(tli_xtab)
plot(ttbl)

if (requireNamespace("xtable", quietly=TRUE)) withAutoprint({
  data(tli, package="xtable")
  
  # ANOVA table.
  fm1 &lt;- aov(tlimth ~ sex + ethnicty + grade + disadvg, data = tli)
  plt1 &lt;- plot(textTable(fm1.table &lt;- xtable::xtable(fm1), 
                         title="xtable: ANOVA table"))

  # Table of linear regression results.
  fm2 &lt;- lm(tlimth ~ sex*ethnicty, data = tli)
  plt2 &lt;- plot(textTable(fm2.table &lt;- xtable::xtable(fm2), 
                         title="xtable: Linear regression"))
  
  # Time series table.
  temp.ts &lt;- ts(cumsum(1 + round(rnorm(100), 0)), start = c(1954, 7), 
                frequency = 12)
  plt3 &lt;- plot(textTable(xtable::xtable(temp.ts, digits = 0), 
                         title="xtable: Time series"))
  
  # Math style for scientific notation.
  plt4 &lt;- plot(textTable(xtable::xtable(data.frame(text = c("foo","bar"),
                                                   googols = c(10e10,50e10),
                                                   small = c(8e-24,7e-5),
                                                   row.names = c("A","B")),
                                        display = c("s","s","g","g")),
                         mathExponents = TRUE, 
                     title=c("xtable:", "Math style for scientific notation")))
  print(plt1, position=c(0.1, 0.9))
  print(plt2, position=c(0.1, 0.5), newpage=FALSE)
  print(plt3, position=c(0.1, 0.1), newpage=FALSE)
  print(plt4, position=c(0.9, 0.9), newpage=FALSE)
  
  # By default vertical rules specified by '|' characters in 'align' are 
  # ignored.  They can be added afterward using the 'addHvrule' function 
  # as follows:
  tli.table &lt;- xtable::xtable(tli[1:10, ])
  xtable::align(tli.table) &lt;- "|rrl|l|lr|"
  plt &lt;- plot(textTable(tli.table, 
                        title="xtable: Vertical rules derived from 'align'"))
  pipe_posn &lt;- which(unlist(strsplit(attr(tli.table, "align"), "")) == "|")
  vrule_acol &lt;- pipe_posn - seq_along(pipe_posn) + 0.5
  for (ac in vrule_acol)  plt &lt;- addHvrule(plt, direction="vrule", acols=ac, 
                                           arows=arow(plt, "colhead_and_body"), 
                                           props=element_hvrule(linetype=1, 
                                                                color="black"))
  plt
})
  </code></pre>

<hr>
<h2 id='textTable.xtableList'>Create a <code>texttable</code> from an <code>xtablelist</code> Object </h2><span id='topic+textTable.xtableList'></span>

<h3>Description</h3>

<p>Create a <code>textTable</code> from an <code>xtableList</code> object produced by the
<code>xtable</code> package.  Such an object represents a set of subtables that
are to be stacked into a single table, with &quot;subheadings&quot; separating the
subtables.  The <code>textTable</code> that is produced by this function uses
the subheadings as an additional, outer row header layer.  That layer can
optionally be moved inside the table by setting <code>rowheadInside=TRUE</code>
when the table is plotted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xtableList'
textTable(x, title, subtitle=character(0), foot, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textTable.xtableList_+3A_x">x</code></td>
<td>
<p>An <code>xtableList</code> object as produced by the <code>xtable</code> package.  All
the subtables in <code>x</code> must have the same column names.
</p>
</td></tr>
<tr><td><code id="textTable.xtableList_+3A_title">title</code></td>
<td>
<p>Optional character vector containing title lines for the table.  May be
empty (<code>character(0)</code>).  The default is to use the first element of
the <code>caption</code> attribute of <code>x</code>, if present.
</p>
</td></tr>
<tr><td><code id="textTable.xtableList_+3A_subtitle">subtitle</code>, <code id="textTable.xtableList_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors providing additional annotation for the table.
May be empty (i.e., <code>character(0)</code>).  The default for <code>foot</code> is
the <code>message</code> attribute of <code>x</code>.
</p>
</td></tr>
<tr><td><code id="textTable.xtableList_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>textTable.xtable</code> for each of the
subtables in <code>x</code>.  See the documentation for that function.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function was designed based on the structure of objects produced by
version 1.8-4 of the <code>xtable</code> package.
</p>
<p>If <code>x</code> has a <code>message</code> attribute, it is used as the default
value of the <code>foot</code> component of the returned <code>textTable</code>.
</p>
<p>If components of <code>x</code> have no <code>subheading</code> attribute, then the
subtables are simply stacked, with no additional row header layer to
separate or distinguish them.  It is an error if only some of the
components have a <code>subheading</code> attribute.
</p>


<h3>Value</h3>

<p>An object with S3 class <code>textTable</code>.  See the documentation for the
generic for details about its structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 'mtcars_xtab' is an 'xtableList', following an example in the 
# "listOfTablesGallery" vignette of the 'xtable' package.  (See '?mtcars_xtab'
# for the code to create it.)
plot(textTable(mtcars_xtab), rowheadInside=TRUE, 
     title="Example of plotting an 'xtableList'",
     subtitle="(With 'rowheadInside=TRUE')")
  </code></pre>

<hr>
<h2 id='tli_xtab'>Table of Test Scores and Demographics for 20 Students</h2><span id='topic+tli_xtab'></span>

<h3>Description</h3>

<p>This is a table of the first 20 observations from the data frame <code>tli</code> 
from package <span class="pkg">xtable</span>.  The observations include demographic data and 
math scores, from the Texas Assessment of Academic Skills, for 20 students. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tli_xtab</code></pre>


<h3>Format</h3>

<p>An <code>xtable</code> object as produced by version 1.8-4 of the <span class="pkg">xtable</span> 
package (<code style="white-space: pre;">&#8288;https://CRAN.R-project.org/package=xtable&#8288;</code>). The table was 
produced with the following code:
</p>
<pre>data("tli", package="xtable")
  tli_xtab &lt;- xtable::xtable(tli[1:20, ])
  xtable::display(tli_xtab)[c(2,6)] &lt;- "f"
  xtable::digits(tli_xtab) &lt;- matrix(0:4, nrow = 20, ncol = ncol(tli)+1)
  </pre>


<h3>Source</h3>


<ul>
<li><p> Texas Education Agency, &lt;URL: http://www.tea.state.tx.us&gt;
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  str(tli_xtab)
</code></pre>

<hr>
<h2 id='undo_rowhead_inside'>Reverse the Effect of <code>rowhead_inside</code> </h2><span id='topic+undo_rowhead_inside'></span>

<h3>Description</h3>

<p>Reverse the effect of <code>rowhead_inside</code> for a <code>tblEntries</code>
object: Move row headers that are inside a table back to the outermost
layer of row headers, at the left side.  This is an internal function, not
intended to be called by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>undo_rowhead_inside(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="undo_rowhead_inside_+3A_x">x</code></td>
<td>
<p>A <code>tblEntries</code> object containing table entries.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function changes the expanded row-column grid of the table, so must
be called early in processing, before table blocks or hvrules are created.
</p>
<p>See <code>rowhead_inside</code> for what happens when the outermost row header
is moved inside the table; this function reverses that.  (However the
order of entries may be changed from the original.)
</p>


<h3>Value</h3>

<p>An updated <code>tblEntries</code> object, and with attribute
<code>rowheadInside</code> set to FALSE.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tblEntries">tblEntries</a></code>, <code><a href="#topic+rowhead_inside">rowhead_inside</a></code>
</p>

<hr>
<h2 id='update.pltdTable'>Update a <code>pltdtable</code> (Plotted Table) Object </h2><span id='topic+update.pltdTable'></span>

<h3>Description</h3>

<p>Update a <code>pltdTable</code> (plotted table) object with new styles or
scaling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pltdTable'
update(object, entryStyle=NULL, blockStyle=NULL, hvruleStyle=NULL, 
    scale=NULL, plot.margin=attr(object, "plot.margin"), 
    sizeAdjust=attr(object, "sizeAdjust"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.pltdTable_+3A_object">object</code></td>
<td>
<p>A <code>pltdTable</code> object, containing a plotted table.
</p>
</td></tr>
<tr><td><code id="update.pltdTable_+3A_entrystyle">entryStyle</code>, <code id="update.pltdTable_+3A_blockstyle">blockStyle</code>, <code id="update.pltdTable_+3A_hvrulestyle">hvruleStyle</code></td>
<td>
<p>Optional <code>styleObj</code> objects, specifying new styles for assigning
graphical properties to table entries, blocks, or hvrules.  The default
value of NULL leaves the corresponding style of <code>object</code> unchanged.
</p>
</td></tr>
<tr><td><code id="update.pltdTable_+3A_scale">scale</code></td>
<td>
<p>Optional numeric multiplier used to increase or decrease the displayed
size of table elements, relative to the natural size implied by their
(possibly updated) styles.  If it has length two, the first element
applies to entries and blocks, and the second to hvrules.  The default is
to use the existing scale value(s) in <code>object</code>.
</p>
</td></tr>
<tr><td><code id="update.pltdTable_+3A_plot.margin">plot.margin</code>, <code id="update.pltdTable_+3A_sizeadjust">sizeAdjust</code></td>
<td>
<p>See the documentation for <code>plot.textTable</code>.  The default is to use
the same values that were used to create <code>object</code>.
</p>
</td></tr>
<tr><td><code id="update.pltdTable_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Included for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Updating a plotted table is limited to changing its style or
scale&ndash;changes that do not affect the augmented row-column grid of the
table.  (See <code>adim</code> for a description of that grid.)  For other
changes, start with a <code>textTable</code> object, and edit it and/or replot
it using different arguments (e.g., <code>rowheadInside</code>,
<code>rowgroupSize</code>, <code>mergeRuns</code>, or annotation).
</p>
<p>Updating does not change the <code>enabled</code> field for any entries, blocks,
or existing hvrules.
</p>
<p>When argument <code>hvruleStyle</code> is provided, hvrules are regenerated by
applying the style to the blocks component of <code>object</code>.  These new
hvrules replace any existing hvrules with the same ID.  However existing
hvrules with other ID's are left unchanged.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>pltdTable</code>, inheriting from <code>ggplot</code>.
See <code>plot.textTable</code> for details about this object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.textTable">plot.textTable</a></code>, <code><a href="#topic+styleObj">styleObj</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot using 'factory-fresh' entry style:
plt &lt;- plot(textTable(iris2_tab), entryStyle=styles_pkg$entryStyle_pkg_1)
# Change to a generic style that uses the same graphical properties for 
# all entries:
plt2 &lt;- update(plt, entryStyle=styles_pkg$entryStyle_pkg_base)
plt2
# Also make the plot smaller:
plt3 &lt;- update(plt2, scale=0.8)
plt3
  </code></pre>

<hr>
<h2 id='update.prObj'>Update Style or Scale for Plot-Ready Table Elements </h2><span id='topic+update.prObj'></span>

<h3>Description</h3>

<p>Update a <code>prEntries</code>, <code>prBlocks</code>, or <code>prHvrules</code> object
with a new style and/or new scale.  This is an internal utility function,
not intended to be called directly by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prObj'
update(object, style=NULL, scale=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.prObj_+3A_object">object</code></td>
<td>
<p>A <code>prEntries</code>, <code>prBlocks</code>, or <code>prHvrules</code> object,
containing plot-ready table elements.
</p>
</td></tr>
<tr><td><code id="update.prObj_+3A_style">style</code></td>
<td>
<p>Optional <code>styleObj</code> object, specifying a new style for assigning
graphical properties to table elements in <code>object</code>.  The default
value of NULL leaves the style of <code>object</code> unchanged.  When
<code>object</code> is a <code>prHvrules</code> object, this must be NULL; see
DETAILS.
</p>
</td></tr>
<tr><td><code id="update.prObj_+3A_scale">scale</code></td>
<td>
<p>Optional numeric multiplier used to increase or decrease the displayed
size of table elements, relative to the natural size implied by the
(possibly updated) style.  The default is to use the current scaling of
<code>object</code>.
</p>
</td></tr>
<tr><td><code id="update.prObj_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Included for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>enabled</code> field is not changed for any elements.  (Changing
<code>enabled</code> for entries could have cascading effects on blocks and
hvrules.)
</p>
<p>To provide a mechanism to hold graphical properties fixed for certain
elements, <code>style</code> is not applied to any elements for which
<code>style_row</code> is 0.  This will be true for elements created manually
via <code>addBlock</code> or <code>addHvrule</code> for example.  Graphical properties
for such elements can be changed using <code>props&lt;-</code>.
</p>
<p>The style of a <code>prHvrules</code> object cannot be updated directly, because
the object does not contain the block information generally needed to
apply styles.  Instead, a new set of hvrules should be created from a
<code>tblBlocks</code> object with the desired style, using function
<code>prHvrules</code>.
</p>


<h3>Value</h3>

<p>An object with the same class as <code>object</code>.  See <code>prEntries</code>,
<code>prBlocks</code>, or <code>prHvrules</code> for the structure of these objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+styleObj">styleObj</a></code>, <code><a href="#topic+update.prTable">update.prTable</a></code>
</p>

<hr>
<h2 id='update.prTable'>Update a <code>prtable</code> (Plot-Ready Table) Object </h2><span id='topic+update.prTable'></span>

<h3>Description</h3>

<p>Update a <code>prTable</code> object with new entry, block, or hvrule styles,
and/or new scale.  This is an internal utility function, not intended to
be called directly by package users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prTable'
update(object, entryStyle=NULL, blockStyle=NULL, hvruleStyle=NULL, 
    scale=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.prTable_+3A_object">object</code></td>
<td>
<p>A <code>prTable</code> object, a plot-ready table.
</p>
</td></tr>
<tr><td><code id="update.prTable_+3A_entrystyle">entryStyle</code>, <code id="update.prTable_+3A_blockstyle">blockStyle</code>, <code id="update.prTable_+3A_hvrulestyle">hvruleStyle</code></td>
<td>
<p>Optional <code>styleObj</code> objects, specifying new styles for assigning
graphical properties to table entries, blocks, or hvrules.  The default
value of NULL leaves the corresponding style of <code>object</code> unchanged.
</p>
</td></tr>
<tr><td><code id="update.prTable_+3A_scale">scale</code></td>
<td>
<p>Optional numeric multiplier used to increase or decrease the displayed
size of table elements, relative to the natural size implied by their
(possibly updated) styles.  If it has length two, the first element
applies to entries and blocks, and the second to hvrules.  The default is
to use the existing scale value(s) in <code>object</code>.
</p>
</td></tr>
<tr><td><code id="update.prTable_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Included for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>enabled</code> field is not changed for any entries, blocks, or
existing hvrules.  (Changing <code>enabled</code> for entries could have
cascading effects on blocks and hvrules.)
</p>
<p>When argument <code>hvruleStyle</code> is provided, hvrules are regenerated by
applying the style to the <code>blocks</code> component of <code>object</code>.  These
new hvrules replace any existing hvrules with the same ID.  However
existing hvrules with other ID's are left unchanged.
</p>
<p>Users should generally update <code>pltdTable</code> objects, not <code>prTable</code>
objects.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>prTable</code>, a plot-ready table.  See
<code>prTable.prEntries</code> for the structure of this object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+styleObj">styleObj</a></code>, <code><a href="#topic+prTable.prEntries">prTable.prEntries</a></code>
</p>

<hr>
<h2 id='update.textTable'>Update a <code>texttable</code> Object </h2><span id='topic+update.textTable'></span>

<h3>Description</h3>

<p>Update a <code>textTable</code> object with new annotation or rowheadLabels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'textTable'
update(object, title=NULL, subtitle=NULL, foot=NULL, 
    rowheadLabels=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.textTable_+3A_object">object</code></td>
<td>
<p>A <code>textTable</code> object, representing a 2D table with all cells
formatted as character strings.
</p>
</td></tr>
<tr><td><code id="update.textTable_+3A_title">title</code>, <code id="update.textTable_+3A_subtitle">subtitle</code>, <code id="update.textTable_+3A_foot">foot</code></td>
<td>
<p>Optional character vectors of annotation for the table.  NULL means to
leave the current annotation unchanged (the default); <code>character(0)</code>
means to omit/remove it.
</p>
</td></tr>
<tr><td><code id="update.textTable_+3A_rowheadlabels">rowheadLabels</code></td>
<td>
<p>Optional character vector or 1-row matrix specifying labels for the row
header columns of the table.  NULL means to leave the current value
unchanged (the default); <code>character(0)</code> means to omit/remove it.
</p>
</td></tr>
<tr><td><code id="update.textTable_+3A_...">...</code></td>
<td>
<p>Ignored, with a warning.  (Present for compatibility with the generic.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To indicate that a string in <code>title</code>, <code>subtitle</code>, <code>foot</code>,
or <code>rowheadLabels</code> is to be interpreted as a <code>plotmath</code>
expression, prefix it with <code>MATH_</code>.  To indicate that it contains
markdown or HTML tags, prefix it with <code>MKDN_</code>.
</p>


<h3>Value</h3>

<p>A <code>textTable</code> object with annotation set or changed based on the
provided arguments.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+textTable">textTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttbl &lt;- textTable(iris2_tab, title="The iris data", 
                  foot="sd = standard deviation")
# Change annotation:
ttbl &lt;- update(ttbl, title=c("The iris data", "Summary statistics by species"), 
               foot=character(0))
plot(ttbl)
# Change row header labels:
ttbl &lt;- update(ttbl, rowheadLabels=c("Species", "Summary\nstatistic"))
plot(ttbl)
  </code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ConformalSmallest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ConformalSmallest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#conf_CQR'><p>Conditional width and coverage for CQR, internal function used inside conf_CQR_conditional</p></a></li>
<li><a href='#conf_CQR_conditional'><p>Conditional width and coverage for CQR</p></a></li>
<li><a href='#conf_CQR_prelim'><p>preliminary function for CQR</p></a></li>
<li><a href='#conf_CQR_reg'><p>EFCP and VFCP for CQR, CQR-m, CQR-r</p></a></li>
<li><a href='#conf_CQR_reg_conditional'><p>Conditional width and coverage for EFCP, VFCP between CQR, CQR-m, CQR-r</p></a></li>
<li><a href='#cv.fun'><p>Cross validation conformal prediction for ridge regression</p></a></li>
<li><a href='#efcp_cqr'><p>Efficiency first conformal prediction for Conformal Quantile Regression</p></a></li>
<li><a href='#efcp_ridge'><p>Efficiency first conformal prediction for ridge regression</p></a></li>
<li><a href='#efcp.fun'><p>Efficiency first conformal prediction for ridge regression</p></a></li>
<li><a href='#ginverse.fun'><p>Conformal prediction for linear regression</p></a></li>
<li><a href='#ginverselm.funs'><p>Internal function used for ginverse.fun</p></a></li>
<li><a href='#my.ginverselm.funs'><p>Internal function used for ginverse.fun</p></a></li>
<li><a href='#naive.fun'><p>Conformal prediction for linear regression</p></a></li>
<li><a href='#pois_n400_reps100'><p>Outcomes of an example for tuning-free conformalized quantile regression(CQR).</p></a></li>
<li><a href='#ridge_linear_cov100_t3'><p>Outcomes of an example for tuning-free conformal prediction with ridge regression.</p></a></li>
<li><a href='#ridge_linear_cov100_t5'><p>Outcomes of an example for tuning-free conformal prediction with ridge regression.</p></a></li>
<li><a href='#ridge_linear_len100_t3'><p>Outcomes of an example for tuning-free conformal prediction with ridge regression.</p></a></li>
<li><a href='#ridge_linear_len100_t5'><p>Outcomes of an example for tuning-free conformal prediction with ridge regression.</p></a></li>
<li><a href='#star.fun'><p>Conformal prediction for ridge regression, tuning parameter by minimizing the mean of the residuals</p></a></li>
<li><a href='#vfcp_cqr'><p>Validity first conformal prediction for Conformal Quantile Regression</p></a></li>
<li><a href='#vfcp_ridge'><p>Validity first conformal prediction for ridge regression</p></a></li>
<li><a href='#vfcp.fun'><p>Validity first conformal prediction for ridge regression</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Efficient Tuning-Free Conformal Prediction</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of efficiency first conformal prediction (EFCP) and validity first conformal prediction (VFCP) that demonstrates both validity (coverage guarantee) and efficiency (width guarantee). To learn how to use it, check the vignettes for a quick tutorial. The package is based on the work by Yang Y., Kuchibhotla A.,(2021) &lt;<a href="https://arxiv.org/abs/2104.13871">arXiv:2104.13871</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Elsa-Yang98/ConformalSmallest">https://github.com/Elsa-Yang98/ConformalSmallest</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>glmnet, mvtnorm, stats, MASS, quantregForest</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown, ggplot2, repr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-08-08 15:56:27 UTC; elsayang</td>
</tr>
<tr>
<td>Author:</td>
<td>Yachong Yang [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yachong Yang &lt;yachong@wharton.upenn.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-08-09 14:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='conf_CQR'>Conditional width and coverage for CQR, internal function used inside conf_CQR_conditional</h2><span id='topic+conf_CQR'></span>

<h3>Description</h3>

<p>Conditional width and coverage for CQR, internal function used inside conf_CQR_conditional
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conf_CQR(X1, Y1, X2, Y2, beta, mtry, ntree, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conf_CQR_+3A_x1">X1</code></td>
<td>
<p>training matrix to fit the quantile regression forest</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_y1">Y1</code></td>
<td>
<p>training vector</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_x2">X2</code></td>
<td>
<p>training matrix to compute the conformal scores</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_y2">Y2</code></td>
<td>
<p>training vector to compute the conformal scores</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_beta">beta</code></td>
<td>
<p>nominal quantile level</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_mtry">mtry</code></td>
<td>
<p>random forest parameter</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_ntree">ntree</code></td>
<td>
<p>random forest parameter</p>
</td></tr>
<tr><td><code id="conf_CQR_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function for computing conditional width and coverage
</p>

<hr>
<h2 id='conf_CQR_conditional'>Conditional width and coverage for CQR</h2><span id='topic+conf_CQR_conditional'></span>

<h3>Description</h3>

<p>Conditional width and coverage for CQR
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conf_CQR_conditional(x, y, beta, mtry, ntree, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conf_CQR_conditional_+3A_x">x</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="conf_CQR_conditional_+3A_y">y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="conf_CQR_conditional_+3A_beta">beta</code></td>
<td>
<p>nominal quantile level</p>
</td></tr>
<tr><td><code id="conf_CQR_conditional_+3A_mtry">mtry</code></td>
<td>
<p>random forest parameter</p>
</td></tr>
<tr><td><code id="conf_CQR_conditional_+3A_ntree">ntree</code></td>
<td>
<p>random forest parameter</p>
</td></tr>
<tr><td><code id="conf_CQR_conditional_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function for computing conditional width and coverage
</p>

<hr>
<h2 id='conf_CQR_prelim'>preliminary function for CQR</h2><span id='topic+conf_CQR_prelim'></span>

<h3>Description</h3>

<p>preliminary function for CQR
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conf_CQR_prelim(X1, Y1, X2, Y2, beta_grid, mtry, ntree, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conf_CQR_prelim_+3A_x1">X1</code></td>
<td>
<p>A n1*d matrix for training</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_y1">Y1</code></td>
<td>
<p>A n1*1 vector for training</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_x2">X2</code></td>
<td>
<p>A n2*d matrix for calibration</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_y2">Y2</code></td>
<td>
<p>A n2*1 vector for calibration</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_beta_grid">beta_grid</code></td>
<td>
<p>a grid of beta's</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_mtry">mtry</code></td>
<td>
<p>mtry parameter in random forest</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_ntree">ntree</code></td>
<td>
<p>number of trees parameter in random forest</p>
</td></tr>
<tr><td><code id="conf_CQR_prelim_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the smallest width and its corresponding beta
</p>

<hr>
<h2 id='conf_CQR_reg'>EFCP and VFCP for CQR, CQR-m, CQR-r</h2><span id='topic+conf_CQR_reg'></span>

<h3>Description</h3>

<p>EFCP and VFCP for CQR, CQR-m, CQR-r
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conf_CQR_reg(
  x,
  y,
  split,
  beta_grid,
  mtry_grid,
  ntree_grid,
  method = "efficient",
  alpha = 0.1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conf_CQR_reg_+3A_x">x</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_y">y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_split">split</code></td>
<td>
<p>a vector of length 1 for efcp, length 2 for vfcp</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_beta_grid">beta_grid</code></td>
<td>
<p>a grid of beta's</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_mtry_grid">mtry_grid</code></td>
<td>
<p>a grid of mtry</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_ntree_grid">ntree_grid</code></td>
<td>
<p>a grid of ntree</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_method">method</code></td>
<td>
<p>&quot;efficient&quot; for efcp; &quot;valid&quot; for vfcp</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the selected cqr method
</p>

<hr>
<h2 id='conf_CQR_reg_conditional'>Conditional width and coverage for EFCP, VFCP between CQR, CQR-m, CQR-r</h2><span id='topic+conf_CQR_reg_conditional'></span>

<h3>Description</h3>

<p>Conditional width and coverage for EFCP, VFCP between CQR, CQR-m, CQR-r
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conf_CQR_reg_conditional(
  x,
  y,
  split,
  beta_grid,
  mtry_grid,
  ntree_grid,
  method = "efficient",
  alpha = 0.1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conf_CQR_reg_conditional_+3A_x">x</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_y">y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_split">split</code></td>
<td>
<p>a vector of length 1 for efcp, length 2 for vfcp</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_beta_grid">beta_grid</code></td>
<td>
<p>a grid of beta's</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_mtry_grid">mtry_grid</code></td>
<td>
<p>a grid of mtry</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_ntree_grid">ntree_grid</code></td>
<td>
<p>a grid of ntree</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_method">method</code></td>
<td>
<p>&quot;efficient&quot; for efcp; &quot;valid&quot; for vfcp</p>
</td></tr>
<tr><td><code id="conf_CQR_reg_conditional_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the selected cqr method
</p>

<hr>
<h2 id='cv.fun'>Cross validation conformal prediction for ridge regression</h2><span id='topic+cv.fun'></span>

<h3>Description</h3>

<p>Cross validation conformal prediction for ridge regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.fun(X, Y, X0, lambda = seq(0, 100, length = 100), nfolds = 10, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cv.fun_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="cv.fun_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="cv.fun_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="cv.fun_+3A_lambda">lambda</code></td>
<td>
<p>a sequence of penalty parameters for ridge regression</p>
</td></tr>
<tr><td><code id="cv.fun_+3A_nfolds">nfolds</code></td>
<td>
<p>number of folds</p>
</td></tr>
<tr><td><code id="cv.fun_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0
</p>

<hr>
<h2 id='efcp_cqr'>Efficiency first conformal prediction for Conformal Quantile Regression</h2><span id='topic+efcp_cqr'></span>

<h3>Description</h3>

<p>Efficiency first conformal prediction for Conformal Quantile Regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>efcp_cqr(x, y, split, beta_grid, params_grid, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="efcp_cqr_+3A_x">x</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="efcp_cqr_+3A_y">y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="efcp_cqr_+3A_split">split</code></td>
<td>
<p>a number between 0 and 1</p>
</td></tr>
<tr><td><code id="efcp_cqr_+3A_beta_grid">beta_grid</code></td>
<td>
<p>a grid of beta's</p>
</td></tr>
<tr><td><code id="efcp_cqr_+3A_params_grid">params_grid</code></td>
<td>
<p>a grid of mtry and ntree</p>
</td></tr>
<tr><td><code id="efcp_cqr_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>average prediction width and a function for coverage on some testing points
</p>

<hr>
<h2 id='efcp_ridge'>Efficiency first conformal prediction for ridge regression</h2><span id='topic+efcp_ridge'></span>

<h3>Description</h3>

<p>Efficiency first conformal prediction for ridge regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>efcp_ridge(X, Y, X0, lambda = seq(0, 100, length = 100), alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="efcp_ridge_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="efcp_ridge_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="efcp_ridge_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="efcp_ridge_+3A_lambda">lambda</code></td>
<td>
<p>a sequence of penalty parameters for ridge regression</p>
</td></tr>
<tr><td><code id="efcp_ridge_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df=3
d = 5
n=50   #number of training samples
n0=10  #number of prediction points
rho=0.5
Sigma=matrix(rho,d,d)
diag(Sigma)=rep(1,d)
beta=rep(1:5,d/5)
X0=mvtnorm::rmvt(n0,Sigma,df)
X=mvtnorm::rmvt(n,Sigma,df)	#multivariate t distribution
eps=rt(n,df)*(1+sqrt(X[,1]^2+X[,2]^2))
Y=X%*%beta+eps
out.efcp=efcp.fun(X,Y,X0)
out.efcp$up
out.efcp$lo
</code></pre>

<hr>
<h2 id='efcp.fun'>Efficiency first conformal prediction for ridge regression</h2><span id='topic+efcp.fun'></span>

<h3>Description</h3>

<p>Efficiency first conformal prediction for ridge regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>efcp.fun(X, Y, X0, lambda = seq(0, 100, length = 100), alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="efcp.fun_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="efcp.fun_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="efcp.fun_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="efcp.fun_+3A_lambda">lambda</code></td>
<td>
<p>a sequence of penalty parameters for ridge regression</p>
</td></tr>
<tr><td><code id="efcp.fun_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df=3
d = 5
n=50   #number of training samples
n0=10  #number of prediction points
rho=0.5
Sigma=matrix(rho,d,d)
diag(Sigma)=rep(1,d)
beta=rep(1:5,d/5)
X0=mvtnorm::rmvt(n0,Sigma,df)
X=mvtnorm::rmvt(n,Sigma,df)	#multivariate t distribution
eps=rt(n,df)*(1+sqrt(X[,1]^2+X[,2]^2))
Y=X%*%beta+eps
out.efcp=efcp.fun(X,Y,X0)
out.efcp$up
out.efcp$lo
</code></pre>

<hr>
<h2 id='ginverse.fun'>Conformal prediction for linear regression</h2><span id='topic+ginverse.fun'></span>

<h3>Description</h3>

<p>Conformal prediction for linear regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ginverse.fun(x, y, x0, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ginverse.fun_+3A_x">x</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="ginverse.fun_+3A_y">y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="ginverse.fun_+3A_x0">x0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="ginverse.fun_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0
</p>

<hr>
<h2 id='ginverselm.funs'>Internal function used for ginverse.fun</h2><span id='topic+ginverselm.funs'></span>

<h3>Description</h3>

<p>Internal function used for ginverse.fun
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ginverselm.funs(intercept = TRUE, lambda = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ginverselm.funs_+3A_intercept">intercept</code></td>
<td>
<p>default is TRUE</p>
</td></tr>
<tr><td><code id="ginverselm.funs_+3A_lambda">lambda</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>

<hr>
<h2 id='my.ginverselm.funs'>Internal function used for ginverse.fun</h2><span id='topic+my.ginverselm.funs'></span>

<h3>Description</h3>

<p>Internal function used for ginverse.fun
</p>


<h3>Usage</h3>

<pre><code class='language-R'>my.ginverselm.funs
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 4.
</p>

<hr>
<h2 id='naive.fun'>Conformal prediction for linear regression</h2><span id='topic+naive.fun'></span>

<h3>Description</h3>

<p>Conformal prediction for linear regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>naive.fun(X, Y, X0, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="naive.fun_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="naive.fun_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="naive.fun_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="naive.fun_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0
</p>

<hr>
<h2 id='pois_n400_reps100'>Outcomes of an example for tuning-free conformalized quantile regression(CQR).</h2><span id='topic+pois_n400_reps100'></span>

<h3>Description</h3>

<p>A dataset containing the experiment results used in the vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pois_n400_reps100
</code></pre>


<h3>Format</h3>

<p>A list with 10 elements: x_test, n,nrep,width_mat, cov_mat,beta_mat, ntree_mat, cqr_method_mat, evaluations, alpha
</p>

<dl>
<dt>x_test</dt><dd><p>test points of x</p>
</dd>
<dt>n</dt><dd><p>number of training samples</p>
</dd>
<dt>nrep</dt><dd><p>number of replications</p>
</dd>
<dt>width_mat</dt><dd><p>a data frame with the first column being the width of the prediction regions</p>
</dd>
<dt>cov_mat</dt><dd><p>a data frame with the first column being the coverage of the prediction regions</p>
</dd>
<dt>beta_mat</dt><dd><p>a data frame with the first column being the beta for CQR used in the final prediction</p>
</dd>
<dt>ntree_mat</dt><dd><p>a data frame with the first column being the number of trees for CQR used in the final prediction</p>
</dd>
<dt>ntree_mat</dt><dd><p>a data frame with the first column being the CQR method (among CQR, CQR-m, CQR-r)used in the final prediction</p>
</dd>
<dt>alpha</dt><dd><p>desired miscoverage level</p>
</dd>
</dl>



<h3>Source</h3>

<p>For details please see the &quot;Example-tuning_free_CQR&quot; vignette:<code>vignette("Example-tuning_free_CQR", package = "ConformalSmallest")</code>
</p>

<hr>
<h2 id='ridge_linear_cov100_t3'>Outcomes of an example for tuning-free conformal prediction with ridge regression.</h2><span id='topic+ridge_linear_cov100_t3'></span>

<h3>Description</h3>

<p>A dataset containing the experiment results used in the vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ridge_linear_cov100_t3
</code></pre>


<h3>Format</h3>

<p>A list with 7 elements: dim_linear_t3,cov.param_linear_fm_t3, cov.naive_linear_fm_t3, cov.vfcp_linear_fm_t3, cov.star_linear_fm_t3, cov.cv5_linear_fm_t3, cov.efcp_linear_fm_t3
</p>

<dl>
<dt>dim</dt><dd><p>dimensions used in the experiment</p>
</dd>
<dt>len.param</dt><dd><p>a matrix with coverages for the prediction regions produced by the parametric method</p>
</dd>
<dt>len.naive</dt><dd><p>a matrix with coverages for the prediction regions produced by naive linear regression method</p>
</dd>
<dt>len.vfcp</dt><dd><p>na matrix with coverages for the prediction regions produced by VFCP</p>
</dd>
<dt>len.star</dt><dd><p>a matrix with coverages for the prediction regions produced by cross validation with the errors</p>
</dd>
<dt>len.cv5</dt><dd><p>a matrix with coverages for the prediction regions produced by cross-validation with 5 splits</p>
</dd>
<dt>len.efcp</dt><dd><p>a matrix with coverages for the prediction regions produced by efcp</p>
</dd>
</dl>



<h3>Source</h3>

<p>For details please see the &quot;Example-tuning_free_ridge_regression&quot; vignette:<code>vignette("Example-tuning_free_ridge_regression", package = "ConformalSmallest")</code>
</p>

<hr>
<h2 id='ridge_linear_cov100_t5'>Outcomes of an example for tuning-free conformal prediction with ridge regression.</h2><span id='topic+ridge_linear_cov100_t5'></span>

<h3>Description</h3>

<p>A dataset containing the experiment results used in the vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ridge_linear_cov100_t5
</code></pre>


<h3>Format</h3>

<p>A list with 7 elements: dim_linear_t5,cov.param_linear_fm_t5, cov.naive_linear_fm_t5, cov.vfcp_linear_fm_t5, cov.star_linear_fm_t5, cov.cv5_linear_fm_t5, cov.efcp_linear_fm_t5
</p>

<dl>
<dt>dim</dt><dd><p>dimensions used in the experiment</p>
</dd>
<dt>cov.param</dt><dd><p>a matrix with coverages for the prediction regions produced by the parametric method</p>
</dd>
<dt>cov.naive</dt><dd><p>a matrix with coverages for the prediction regions produced by naive linear regression method</p>
</dd>
<dt>cov.vfcp</dt><dd><p>na matrix with coverages for the prediction regions produced by VFCP</p>
</dd>
<dt>cov.star</dt><dd><p>a matrix with coverages for the prediction regions produced by cross validation with the errors</p>
</dd>
<dt>cov.cv5</dt><dd><p>a matrix with coverages for the prediction regions produced by cross-validation with 5 splits</p>
</dd>
<dt>cov.efcp</dt><dd><p>a matrix with coverages for the prediction regions produced by efcp</p>
</dd>
</dl>



<h3>Source</h3>

<p>For details please see the &quot;Example-tuning_free_ridge_regression&quot; vignette:<code>vignette("Example-tuning_free_ridge_regression", package = "ConformalSmallest")</code>
</p>

<hr>
<h2 id='ridge_linear_len100_t3'>Outcomes of an example for tuning-free conformal prediction with ridge regression.</h2><span id='topic+ridge_linear_len100_t3'></span>

<h3>Description</h3>

<p>A dataset containing the experiment results used in the vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ridge_linear_len100_t3
</code></pre>


<h3>Format</h3>

<p>A list with 6 elements: len.param_linear_fm_t3, len.naive_linear_fm_t3, len.vfcp_linear_fm_t3, len.star_linear_fm_t3, len.cv5_linear_fm_t3, len.efcp_linear_fm_t3
</p>

<dl>
<dt>len.param</dt><dd><p>a matrix with widths for the prediction regions produced by the parametric method</p>
</dd>
<dt>len.naive</dt><dd><p>a matrix with widths for the prediction regions produced by naive linear regression method</p>
</dd>
<dt>len.vfcp</dt><dd><p>na matrix with widths for the prediction regions produced by VFCP</p>
</dd>
<dt>len.star</dt><dd><p>a matrix with widths for the prediction regions produced by cross validation with the errors</p>
</dd>
<dt>len.cv5</dt><dd><p>a matrix with widths for the prediction regions produced by cross-validation with 5 splits</p>
</dd>
<dt>len.efcp</dt><dd><p>a matrix with widths for the prediction regions produced by efcp</p>
</dd>
</dl>



<h3>Source</h3>

<p>For details please see the &quot;Example-tuning_free_ridge_regression&quot; vignette:<code>vignette("Example-tuning_free_ridge_regression", package = "ConformalSmallest")</code>
</p>

<hr>
<h2 id='ridge_linear_len100_t5'>Outcomes of an example for tuning-free conformal prediction with ridge regression.</h2><span id='topic+ridge_linear_len100_t5'></span>

<h3>Description</h3>

<p>A dataset containing the experiment results used in the vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ridge_linear_len100_t5
</code></pre>


<h3>Format</h3>

<p>A list with 6 elements: len.param_linear_fm_t5, len.naive_linear_fm_t5, len.vfcp_linear_fm_t5, len.star_linear_fm_t5, len.cv5_linear_fm_t5, len.efcp_linear_fm_t5
</p>

<dl>
<dt>len.param</dt><dd><p>a matrix with widths for the prediction regions produced by the parametric method</p>
</dd>
<dt>len.naive</dt><dd><p>a matrix with widths for the prediction regions produced by naive linear regression method</p>
</dd>
<dt>len.vfcp</dt><dd><p>na matrix with widths for the prediction regions produced by VFCP</p>
</dd>
<dt>len.star</dt><dd><p>a matrix with widths for the prediction regions produced by cross validation with the errors</p>
</dd>
<dt>len.cv5</dt><dd><p>a matrix with widths for the prediction regions produced by cross-validation with 5 splits</p>
</dd>
<dt>len.efcp</dt><dd><p>a matrix with widths for the prediction regions produced by efcp</p>
</dd>
</dl>



<h3>Source</h3>

<p>For details please see the &quot;Example-tuning_free_ridge_regression&quot; vignette:<code>vignette("Example-tuning_free_ridge_regression", package = "ConformalSmallest")</code>
</p>

<hr>
<h2 id='star.fun'>Conformal prediction for ridge regression, tuning parameter by minimizing the mean of the residuals</h2><span id='topic+star.fun'></span>

<h3>Description</h3>

<p>Conformal prediction for ridge regression, tuning parameter by minimizing the mean of the residuals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star.fun(X, Y, X0, lambda = seq(0, 100, length = 100), alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="star.fun_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="star.fun_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="star.fun_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="star.fun_+3A_lambda">lambda</code></td>
<td>
<p>a sequence of penalty parameters for ridge regression</p>
</td></tr>
<tr><td><code id="star.fun_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0
</p>

<hr>
<h2 id='vfcp_cqr'>Validity first conformal prediction for Conformal Quantile Regression</h2><span id='topic+vfcp_cqr'></span>

<h3>Description</h3>

<p>Validity first conformal prediction for Conformal Quantile Regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vfcp_cqr(x, y, split, beta_grid, params_grid, alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vfcp_cqr_+3A_x">x</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="vfcp_cqr_+3A_y">y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="vfcp_cqr_+3A_split">split</code></td>
<td>
<p>a number between 0 and 1</p>
</td></tr>
<tr><td><code id="vfcp_cqr_+3A_beta_grid">beta_grid</code></td>
<td>
<p>a grid of beta's</p>
</td></tr>
<tr><td><code id="vfcp_cqr_+3A_params_grid">params_grid</code></td>
<td>
<p>a grid of mtry and ntree</p>
</td></tr>
<tr><td><code id="vfcp_cqr_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>average prediction width and a function for coverage on some testing points
</p>

<hr>
<h2 id='vfcp_ridge'>Validity first conformal prediction for ridge regression</h2><span id='topic+vfcp_ridge'></span>

<h3>Description</h3>

<p>Validity first conformal prediction for ridge regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vfcp_ridge(X, Y, X0, lambda = seq(0, 100, length = 100), alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vfcp_ridge_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="vfcp_ridge_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="vfcp_ridge_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="vfcp_ridge_+3A_lambda">lambda</code></td>
<td>
<p>a sequence of penalty parameters for ridge regression</p>
</td></tr>
<tr><td><code id="vfcp_ridge_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df=3
d = 5
n=50   #number of training samples
n0=10  #number of prediction points
rho=0.5
Sigma=matrix(rho,d,d)
diag(Sigma)=rep(1,d)
beta=rep(1:5,d/5)
X0=mvtnorm::rmvt(n0,Sigma,df)
X=mvtnorm::rmvt(n,Sigma,df)	#multivariate t distribution
eps=rt(n,df)*(1+sqrt(X[,1]^2+X[,2]^2))
Y=X%*%beta+eps
out.vfcp=vfcp.fun(X,Y,X0)
out.vfcp$up
out.vfcp$lo
</code></pre>

<hr>
<h2 id='vfcp.fun'>Validity first conformal prediction for ridge regression</h2><span id='topic+vfcp.fun'></span>

<h3>Description</h3>

<p>Validity first conformal prediction for ridge regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vfcp.fun(X, Y, X0, lambda = seq(0, 100, length = 100), alpha = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vfcp.fun_+3A_x">X</code></td>
<td>
<p>A N*d training matrix</p>
</td></tr>
<tr><td><code id="vfcp.fun_+3A_y">Y</code></td>
<td>
<p>A N*1 training vector</p>
</td></tr>
<tr><td><code id="vfcp.fun_+3A_x0">X0</code></td>
<td>
<p>A N0*d testing vector</p>
</td></tr>
<tr><td><code id="vfcp.fun_+3A_lambda">lambda</code></td>
<td>
<p>a sequence of penalty parameters for ridge regression</p>
</td></tr>
<tr><td><code id="vfcp.fun_+3A_alpha">alpha</code></td>
<td>
<p>miscoverage level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>upper and lower prediction intervals for X0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df=3
d = 5
n=50   #number of training samples
n0=10  #number of prediction points
rho=0.5
Sigma=matrix(rho,d,d)
diag(Sigma)=rep(1,d)
beta=rep(1:5,d/5)
X0=mvtnorm::rmvt(n0,Sigma,df)
X=mvtnorm::rmvt(n,Sigma,df)	#multivariate t distribution
eps=rt(n,df)*(1+sqrt(X[,1]^2+X[,2]^2))
Y=X%*%beta+eps
out.vfcp=vfcp.fun(X,Y,X0)
out.vfcp$up
out.vfcp$lo
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

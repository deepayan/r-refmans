<!DOCTYPE html><html><head><title>Help for package oceanexplorer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {oceanexplorer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#env_parm_labeller'><p>Parsing expressions for plot labels</p></a></li>
<li><a href='#filter_NOAA'><p>Filter NOAA</p></a></li>
<li><a href='#filter_ui'><p>NOAA filter module</p></a></li>
<li><a href='#get_NOAA'><p>Obtain NOAA World Ocean Atlas dataset</p></a></li>
<li><a href='#input_ui'><p>NOAA data module</p></a></li>
<li><a href='#list_NOAA'><p>List cached NOAA data files</p></a></li>
<li><a href='#NOAA_addin'><p>Ocean explorer addin</p></a></li>
<li><a href='#NOAA_app'><p>Ocean explorer app</p></a></li>
<li><a href='#NOAA_data'><p>NOAA variable names and units.</p></a></li>
<li><a href='#oceanexplorer-package'><p>oceanexplorer</p></a></li>
<li><a href='#plot_NOAA'><p>Plotting the global NOAA World Ocean Atlas</p></a></li>
<li><a href='#plot_ui'><p>NOAA plot module</p></a></li>
<li><a href='#reproject'><p>Re-projecting spatial objects to new epsg</p></a></li>
<li><a href='#table_ui'><p>NOAA table module</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Explore Our Planet's Oceans with NOAA</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for easy exploration of the world ocean atlas of 
  the US agency National Oceanic and Atmospheric Administration (NOAA). It 
  includes functions to extract NetCDF data from the repository and code to 
  visualize several physical and chemical parameters of the ocean. A Shiny app 
  further allows interactive exploration of the data. The methods for data 
  collecting and quality checks are described in several papers, which can be
  found here: <a href="https://www.ncei.noaa.gov/products/world-ocean-atlas">https://www.ncei.noaa.gov/products/world-ocean-atlas</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>globals (&ge; 0.14.0), knitr, rmarkdown, shinytest (&ge; 1.5.1),
spelling, testthat (&ge; 3.1.2), tibble, vdiffr (&ge; 1.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stars (&ge; 0.5.5), shiny (&ge; 1.7.1), ggplot2 (&ge; 3.3.5), sf (&ge;
1.0.5), waiter (&ge; 0.2.5), bslib (&ge; 0.3.1), thematic (&ge;
0.1.2.1), shinyFeedback (&ge; 0.4.0), purrr (&ge; 0.3.4), miniUI
(&ge; 0.1.1.1), rstudioapi (&ge; 0.13), DT (&ge; 0.20), fs (&ge;
1.5.2), glue (&ge; 1.6.0), shinyjs (&ge; 2.1.0), rlang (&ge; 0.4.11),
maps (&ge; 3.4.0), ncmeta (&ge; 0.3.0), RNetCDF (&ge; 2.6.1), dplyr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://martinschobben.github.io/oceanexplorer/">https://martinschobben.github.io/oceanexplorer/</a>,
<a href="https://martinschobben.shinyapps.io/oceanexplorer/">https://martinschobben.shinyapps.io/oceanexplorer/</a>,
<a href="https://www.ncei.noaa.gov/products/world-ocean-atlas">https://www.ncei.noaa.gov/products/world-ocean-atlas</a>,
<a href="https://github.com/MartinSchobben/oceanexplorer">https://github.com/MartinSchobben/oceanexplorer</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/MartinSchobben/oceanexplorer/issues">https://github.com/MartinSchobben/oceanexplorer/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-15 11:46:22 UTC; amandus</td>
</tr>
<tr>
<td>Author:</td>
<td>Martin Schobben <a href="https://orcid.org/0000-0001-8560-0037"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Peter Bijl <a href="https://orcid.org/0000-0002-1710-4012"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Martin Schobben &lt;schobbenmartin@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-16 19:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='env_parm_labeller'>Parsing expressions for plot labels</h2><span id='topic+env_parm_labeller'></span>

<h3>Description</h3>

<p>Conveniently converts NOAA world ocean atlas parameter names into full
oceanographic variable names including units for parsing in plot labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>env_parm_labeller(var, prefix = character(1), postfix = character(1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="env_parm_labeller_+3A_var">var</code></td>
<td>
<p>Environmental parameter.</p>
</td></tr>
<tr><td><code id="env_parm_labeller_+3A_prefix">prefix</code></td>
<td>
<p>Prefix.</p>
</td></tr>
<tr><td><code id="env_parm_labeller_+3A_postfix">postfix</code></td>
<td>
<p>Postfix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Expression
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# expression
env_parm_labeller("t_an")

# plot with temperature axis label
library(ggplot2)

ggplot() +
 geom_blank() +
 ylab(env_parm_labeller("t_an"))


</code></pre>

<hr>
<h2 id='filter_NOAA'>Filter NOAA</h2><span id='topic+filter_NOAA'></span>

<h3>Description</h3>

<p>This function aids filtering of NOAA datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_NOAA(NOAA, depth = 0, coord = NULL, epsg = NULL, fuzzy = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_NOAA_+3A_noaa">NOAA</code></td>
<td>
<p>Dataset of the NOAA World Ocean Atlas (with <code><a href="#topic+get_NOAA">get_NOAA()</a></code>).</p>
</td></tr>
<tr><td><code id="filter_NOAA_+3A_depth">depth</code></td>
<td>
<p>Depth in meters</p>
</td></tr>
<tr><td><code id="filter_NOAA_+3A_coord">coord</code></td>
<td>
<p>List with named elements, matrix with dimnames, or simple
feature geometry list column: <code>lon</code> for longitude in degrees, and <code>lat</code> for
latitude in degrees.</p>
</td></tr>
<tr><td><code id="filter_NOAA_+3A_epsg">epsg</code></td>
<td>
<p>Coordinate reference number.</p>
</td></tr>
<tr><td><code id="filter_NOAA_+3A_fuzzy">fuzzy</code></td>
<td>
<p>If no values are returned, fuzzy uses a buffer area around the
point to extract values from adjacent grid cells. The fuzzy argument is
supplied in units of kilometer (great circle distance).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function helps filtering relevant data from NOAA World Ocean Atlas
3D arrays (longitude, latitude, and depth) which have been stored with
<code><a href="#topic+get_NOAA">get_NOAA()</a></code>. An 2D <code><a href="stars.html#topic+st_as_stars">stars</a></code> object is returned if
only providing a depth. An <code><a href="sf.html#topic+sf">sf</a></code> object is returned, when
further providing coordinates, as a list (e.g. <code>list(lon = -120, lat = 12)</code>),
a matrix (e.g. <code>cbind(lon = -120, lat = 12)</code>), or an <code><a href="sf.html#topic+sf">sf</a></code>
object with POINT geometries. In the latter case it is import to follow the
GeoJSON conventions for the order in <code>sf</code> vectors with <code>x</code> (<code>lon</code> =
longitude) followed by <code>y</code> (<code>lat</code> = latitude).
</p>


<h3>Value</h3>

<p>Either a <code><a href="stars.html#topic+st_as_stars">stars</a></code> object or
<code><a href="sf.html#topic+sf">sf</a></code> dataframe.
</p>


<h3>See Also</h3>

<p><a href="https://r-spatial.github.io/sf/articles/sf1.html">Simple Features for R</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

# get atlas
NOAAatlas &lt;- get_NOAA("oxygen", 1, "annual")

# filter atlas for specific depth and coordinate location
filter_NOAA(NOAAatlas, 30, list(lon = c(-160, -120), lat =  c(11, 12)))

}
</code></pre>

<hr>
<h2 id='filter_ui'>NOAA filter module</h2><span id='topic+filter_ui'></span><span id='topic+filter_server'></span>

<h3>Description</h3>

<p>This shiny module (<code>filter_ui()</code> + <code>filter_server()</code>) allows filtering of
the currently loaded NOAA data via shiny <code>textInput()</code> interfaces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_ui(id, extended = TRUE)

filter_server(
  id,
  NOAA,
  external,
  ivars = c("depth", "lon", "lat"),
  variable,
  extended = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_ui_+3A_id">id</code></td>
<td>
<p>Namespace id shiny module.</p>
</td></tr>
<tr><td><code id="filter_ui_+3A_extended">extended</code></td>
<td>
<p>Boolean whether to build the extended module
(default = <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="filter_ui_+3A_noaa">NOAA</code></td>
<td>
<p>Reactive value for the dataset containing the locations
coordinates.</p>
</td></tr>
<tr><td><code id="filter_ui_+3A_external">external</code></td>
<td>
<p>Reactive values for latitude, longitude and depth from plot
module.</p>
</td></tr>
<tr><td><code id="filter_ui_+3A_ivars">ivars</code></td>
<td>
<p>Character vector for the variables for filtering.</p>
</td></tr>
<tr><td><code id="filter_ui_+3A_variable">variable</code></td>
<td>
<p>Reactivevalues for selected variable information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny module.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# run filter module stand-alone
if (interactive()) {

library(oceanexplorer)
library(shiny)

# data
NOAA &lt;- get_NOAA("oxygen", 1, "annual")

# gui
ui &lt;- fluidPage(filter_ui("filter"), plot_ui("worldmap"))

# server
server &lt;-function(input, output, session) {
 # table
 filter &lt;- filter_server(
  "filter",
  reactive(NOAA),
  external = reactiveValues(lon = 190, lat = 33, depth = 20),
  variable = reactiveValues(variable = "temperature")
 )

 # plot data
 output_plot &lt;- plot_server("worldmap", reactive(NOAA), filter$coord)
 }

 # run app
 shinyApp(ui, server)
 }
</code></pre>

<hr>
<h2 id='get_NOAA'>Obtain NOAA World Ocean Atlas dataset</h2><span id='topic+get_NOAA'></span><span id='topic+url_parser'></span>

<h3>Description</h3>

<p>Retrieves data from the NOAA World Ocean Atlas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_NOAA(var, spat_res, av_period, cache = FALSE)

url_parser(var, spat_res, av_period, cache = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_NOAA_+3A_var">var</code></td>
<td>
<p>The chemical or physical variable of interest (possible choices:
<code>"temperature"</code>, <code>"phosphate"</code>, <code>"nitrate"</code>, <code>"silicate"</code>, <code>"oxygen"</code>,
<code>"salinity"</code>, <code>"density"</code>).</p>
</td></tr>
<tr><td><code id="get_NOAA_+3A_spat_res">spat_res</code></td>
<td>
<p>Spatial resolution, either 1 or 5 degree grid-cells (numeric)
.</p>
</td></tr>
<tr><td><code id="get_NOAA_+3A_av_period">av_period</code></td>
<td>
<p>Temporal resolution, either <code>"annual"</code>, specific seasons
(e.g. <code>"winter"</code>), or month (e.g. <code>"August"</code>).</p>
</td></tr>
<tr><td><code id="get_NOAA_+3A_cache">cache</code></td>
<td>
<p>Caching the extracted NOAA file in the package's <code>extdata</code>
directory (default = <code>FALSE</code>). Size of individual files is around 12 Mb. Use
<code><a href="#topic+list_NOAA">list_NOAA()</a></code> to list cached data resources.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions to retrieve data from the
<a href="https://www.ncei.noaa.gov/products/world-ocean-atlas">NOAA World Ocean Atlas</a>
. Data is an 3D array (longitude, latitude, and depth) and is loaded as a
<code><a href="stars.html#topic+st_as_stars">stars</a></code> object. Check <code><a href="#topic+NOAA_data">NOAA_data</a></code> for available
variables, respective units and their citations. The function can automatically
cache the extracted files (default: <code>cache = FALSE</code>). The cached file will
then reside in the package's <code>extdata</code> directory.
</p>


<h3>Value</h3>

<p><code><a href="stars.html#topic+st_as_stars">stars</a></code> object or path.
</p>


<h3>See Also</h3>

<p><a href="https://r-spatial.github.io/stars/articles/stars1.html">Introduction to the stars package</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# path to NOAA server or local data source
url_parser("oxygen", 1, "annual")

if (interactive()) {

# retrieve NOAA data
get_NOAA("oxygen", 1, "annual")

}
</code></pre>

<hr>
<h2 id='input_ui'>NOAA data module</h2><span id='topic+input_ui'></span><span id='topic+citation_ui'></span><span id='topic+output_ui'></span><span id='topic+input_server'></span><span id='topic+output_server'></span>

<h3>Description</h3>

<p>These shiny modules control loading of data from the NOAA world ocean atlas
(<code>input_ui()</code> + <code>input_server()</code>). In addition, the <code>output_ui()</code> +
<code>output_server()</code> can be used to export the filtered data in csv format. The
<code>citation_ui()</code> provides the associated references of the dataset currently
loaded.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>input_ui(id, citation = NULL, extended = TRUE)

citation_ui(id)

output_ui(id)

input_server(id, cache = FALSE)

output_server(id, NOAA, variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="input_ui_+3A_id">id</code></td>
<td>
<p>Namespace id shiny module.</p>
</td></tr>
<tr><td><code id="input_ui_+3A_citation">citation</code></td>
<td>
<p>Additional space for citation element.</p>
</td></tr>
<tr><td><code id="input_ui_+3A_extended">extended</code></td>
<td>
<p>Boolean whether to build the extended module
(default = <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="input_ui_+3A_cache">cache</code></td>
<td>
<p>Caching the extracted NOAA file in the package's <code>extdata</code>
directory (default = <code>FALSE</code>). Size of individual files is around 12 Mb. Use
<code><a href="#topic+list_NOAA">list_NOAA()</a></code> to list cached data resources.</p>
</td></tr>
<tr><td><code id="input_ui_+3A_noaa">NOAA</code></td>
<td>
<p>Reactive value for the dataset containing the locations
coordinates.</p>
</td></tr>
<tr><td><code id="input_ui_+3A_variable">variable</code></td>
<td>
<p>Reactivevalues for selected variable information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny module.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# run data module stand-alone
if (interactive()) {

library(oceanexplorer)
library(shiny)

# data
NOAA &lt;- get_NOAA("oxygen", 1, "annual")

# gui
ui &lt;- fluidPage(input_ui("NOAA"), plot_ui("worldmap"))

# server

server &lt;-function(input, output, session) {
 # table
 NOAA &lt;- input_server("NOAA")
 # plot data
 output_plot &lt;- plot_server("worldmap", NOAA$data, reactive(NULL))
}

# run app
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='list_NOAA'>List cached NOAA data files</h2><span id='topic+list_NOAA'></span>

<h3>Description</h3>

<p>List all cached NOAA data files from package's <code>extdata</code> directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_NOAA()
</code></pre>


<h3>Value</h3>

<p>A character vector containing the names of the files in the specified
directories (empty if there were no files). If a path does not exist or is
not a directory or is unreadable it is skipped.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# show cached NOAA files
list_NOAA()

</code></pre>

<hr>
<h2 id='NOAA_addin'>Ocean explorer addin</h2><span id='topic+NOAA_addin'></span>

<h3>Description</h3>

<p>Wrapper function that launches the NOAA RStudio addin
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NOAA_addin(cache = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NOAA_addin_+3A_cache">cache</code></td>
<td>
<p>Caching the extracted NOAA file in the package's <code>extdata</code>
directory (default = <code>FALSE</code>). Size of individual files is around 12 Mb. Use
<code><a href="#topic+list_NOAA">list_NOAA()</a></code> to list cached data resources.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rstudio gadget
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {

# run RStudio addin (can also be launched from `Addins` dropdown menu)
NOAA_addin()

}
</code></pre>

<hr>
<h2 id='NOAA_app'>Ocean explorer app</h2><span id='topic+NOAA_app'></span><span id='topic+NOAA_server'></span>

<h3>Description</h3>

<p>Wrapper function that launches the NOAA app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NOAA_app(cache = FALSE)

NOAA_server(extended = TRUE, cache)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NOAA_app_+3A_cache">cache</code></td>
<td>
<p>Caching the extracted NOAA file in the package's <code>extdata</code>
directory (default = <code>FALSE</code>). Size of individual files is around 12 Mb. Use
<code><a href="#topic+list_NOAA">list_NOAA()</a></code> to list cached data resources.</p>
</td></tr>
<tr><td><code id="NOAA_app_+3A_extended">extended</code></td>
<td>
<p>Boolean whether to build the extended module
(default = <code>TRUE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny app
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {

# run app
NOAA_app()

}
</code></pre>

<hr>
<h2 id='NOAA_data'>NOAA variable names and units.</h2><span id='topic+NOAA_data'></span>

<h3>Description</h3>

<p>A dataset containing the variable names and units of data from NOAA made
available through this package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NOAA_data
</code></pre>


<h3>Format</h3>

<p>A tibble with 7 rows and 3 variables:
</p>

<dl>
<dt>variable</dt><dd><p>oceanographic variable</p>
</dd>
<dt>unit</dt><dd><p>variable unit</p>
</dd>
<dt>citation</dt><dd><p>citation of the dataset</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.ncei.noaa.gov/products/world-ocean-atlas">https://www.ncei.noaa.gov/products/world-ocean-atlas</a>
</p>

<hr>
<h2 id='oceanexplorer-package'>oceanexplorer</h2><span id='topic+oceanexplorer'></span><span id='topic+oceanexplorer-package'></span>

<h3>Description</h3>

<p>This package allows easy exploration of the world ocean atlas of
the US agency National Oceanic and Atmospheric Administration (NOAA).
It includes functions to extract NetCDF data from the repository and code to
visualize several physical and chemical parameters of the ocean. A Shiny app
further allows interactive exploration of the data.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Martin Schobben <a href="mailto:schobbenmartin@gmail.com">schobbenmartin@gmail.com</a> (<a href="https://orcid.org/0000-0001-8560-0037">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Peter Bijl (<a href="https://orcid.org/0000-0002-1710-4012">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://martinschobben.github.io/oceanexplorer/">https://martinschobben.github.io/oceanexplorer/</a>
</p>
</li>
<li> <p><a href="https://martinschobben.shinyapps.io/oceanexplorer/">https://martinschobben.shinyapps.io/oceanexplorer/</a>
</p>
</li>
<li> <p><a href="https://www.ncei.noaa.gov/products/world-ocean-atlas">https://www.ncei.noaa.gov/products/world-ocean-atlas</a>
</p>
</li>
<li> <p><a href="https://github.com/MartinSchobben/oceanexplorer">https://github.com/MartinSchobben/oceanexplorer</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/MartinSchobben/oceanexplorer/issues">https://github.com/MartinSchobben/oceanexplorer/issues</a>
</p>
</li></ul>


<hr>
<h2 id='plot_NOAA'>Plotting the global NOAA World Ocean Atlas</h2><span id='topic+plot_NOAA'></span>

<h3>Description</h3>

<p>Plots the NOAA World Ocean Atlas on worldmap including optional
filtered locations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_NOAA(NOAA, depth = 0, points = NULL, epsg = NULL, rng = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_NOAA_+3A_noaa">NOAA</code></td>
<td>
<p>Dataset of the NOAA World Ocean Atlas
(with <code><a href="#topic+get_NOAA">get_NOAA()</a></code>).</p>
</td></tr>
<tr><td><code id="plot_NOAA_+3A_depth">depth</code></td>
<td>
<p>Depth in meters.</p>
</td></tr>
<tr><td><code id="plot_NOAA_+3A_points">points</code></td>
<td>
<p>Add locations of extracted point geometry (<code><a href="sf.html#topic+sf">sf</a></code>
object).</p>
</td></tr>
<tr><td><code id="plot_NOAA_+3A_epsg">epsg</code></td>
<td>
<p>The epsg used to project the data (currently supported <code>4326</code>,
<code>3031</code>and <code>3995</code>).</p>
</td></tr>
<tr><td><code id="plot_NOAA_+3A_rng">rng</code></td>
<td>
<p>A vector of two numeric values for the range of the oceanographic
variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A worldmap is plotted as an <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object which by
default will plot the surface layer of the selected  oceanographic variable.
One can plot different depth slices by selecting the appropriate depth in
meters (e.g., <code>depth = 100</code>). It is, furthermore possible to visualize the
locations of data extractions with <code><a href="#topic+filter_NOAA">filter_NOAA()</a></code>. See the examples below
for a more detailed overview of this workflow. Different projections of the
worldmap can be selected by supplying an <code>epsg</code>. Currently only three
projections are allowed: 4326, 3031, and 3995, besides the original. It is
possible to fix the range of the color scale (for the oceanographic
variable) to a custom range. For example, one can fix the color scale
to the total range of the ocean (instead of the current depth slice).
</p>


<h3>Value</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

# data
NOAA &lt;- get_NOAA("oxygen", 1, "annual")

# plot
plot_NOAA(NOAA)

# coordinates
pts &lt;- filter_NOAA(NOAA, 1, list(lon = c(-160, -120), lat =  c(11,12)))

# plot
plot_NOAA(NOAA, points = pts)

}
</code></pre>

<hr>
<h2 id='plot_ui'>NOAA plot module</h2><span id='topic+plot_ui'></span><span id='topic+plot_server'></span>

<h3>Description</h3>

<p>This shiny module (<code>plot_ui()</code> + <code>plot_server()</code>) visualizes the loaded
data according to the selected epsg projection (<code>"original"</code>, <code>"4326"</code>,
<code>"3031"</code>, or <code>"3995"</code>). In addition it provides an interactive plot
interface to select location for data extraction based on a single-click.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ui(id)

plot_server(id, NOAA, points)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_ui_+3A_id">id</code></td>
<td>
<p>Namespace id shiny module.</p>
</td></tr>
<tr><td><code id="plot_ui_+3A_noaa">NOAA</code></td>
<td>
<p>Reactive value for the dataset containing the locations
coordinates.</p>
</td></tr>
<tr><td><code id="plot_ui_+3A_points">points</code></td>
<td>
<p>Add locations of extracted point geometry.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny module.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# run plot module stand-alone
if (interactive()) {

library(oceanexplorer)
library(shiny)

# data
NOAA &lt;- get_NOAA("oxygen", 1, "annual")

# coordinates
points &lt;- filter_NOAA(NOAA, 1, list(lon = c(-160, -120), lat =  c(11, 12)))

# gui
ui &lt;- fluidPage(plot_ui("plot"))

# server
server &lt;-function(input, output, session) {
 plot_server("plot", reactive(NOAA), reactive(points))
}

# run app
shinyApp(ui, server)

}
</code></pre>

<hr>
<h2 id='reproject'>Re-projecting spatial objects to new epsg</h2><span id='topic+reproject'></span><span id='topic+reproject.sf'></span><span id='topic+reproject.stars'></span>

<h3>Description</h3>

<p>Easy re-projecting of the epsg of <code><a href="sf.html#topic+st_as_sf">sf</a></code> and
<code><a href="stars.html#topic+st_as_stars">stars</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reproject(obj, epsg, ...)

## S3 method for class 'sf'
reproject(obj, epsg, ...)

## S3 method for class 'stars'
reproject(obj, epsg, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reproject_+3A_obj">obj</code></td>
<td>
<p>The sf or stars object to be re-projected.</p>
</td></tr>
<tr><td><code id="reproject_+3A_epsg">epsg</code></td>
<td>
<p>The projection (currently only: <code>"3031"</code>, or <code>"3995"</code>).</p>
</td></tr>
<tr><td><code id="reproject_+3A_...">...</code></td>
<td>
<p>Currently not supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sf or stars object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
# get data
NOAA &lt;- get_NOAA("temperature", 1, "annual")

# reproject data with new epsg
reproject(NOAA, 3031)
}
</code></pre>

<hr>
<h2 id='table_ui'>NOAA table module</h2><span id='topic+table_ui'></span><span id='topic+table_server'></span>

<h3>Description</h3>

<p>This shiny module (<code>table_ui()</code> + <code>table_server()</code>) visualizes the loaded
and filtered data in a table format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_ui(id, download = NULL)

table_server(id, NOAA, variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="table_ui_+3A_id">id</code></td>
<td>
<p>Namespace id shiny module.</p>
</td></tr>
<tr><td><code id="table_ui_+3A_download">download</code></td>
<td>
<p>Add download button.</p>
</td></tr>
<tr><td><code id="table_ui_+3A_noaa">NOAA</code></td>
<td>
<p>Reactive value for the dataset containing the locations
coordinates.</p>
</td></tr>
<tr><td><code id="table_ui_+3A_variable">variable</code></td>
<td>
<p>Reactivevalues for selected variable information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Shiny module.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
# run table module stand-alone

library(oceanexplorer)
library(shiny)

# data
NOAA &lt;- get_NOAA("oxygen", 1, "annual")

# coordinates
points &lt;- filter_NOAA(NOAA, 1, list(lon = c(-160, -120), lat =  c(11, 12)))

# gui
ui &lt;- fluidPage(table_ui("table"))

# server
server &lt;-function(input, output, session) {
 # table
 output_table &lt;- table_server(
  "table",
  reactive(points),
  reactiveValues(parm = "temperature", spat = 1, temp = "annual")
  )
}

# run app
shinyApp(ui, server)

}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

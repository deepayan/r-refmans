<!DOCTYPE html><html lang="en"><head><title>Help for package glcm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {glcm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#glcm-package'><p>Calculate textures from grey-level co-occurrence matrices (GLCMs) in R</p></a></li>
<li><a href='#calc_texture'><p>Calculates a glcm texture for use in the glcm.R script</p></a></li>
<li><a href='#expected_textures_3x3_1x1'><p>GLCM textures calculated in EXELIS ENVI (for testing purposes)</p></a></li>
<li><a href='#expected_textures_5x3_n1xn2'><p>GLCM textures calculated in EXELIS ENVI (for testing purposes)</p></a></li>
<li><a href='#expected_textures_5x7_2x3'><p>GLCM textures calculated in EXELIS ENVI (for testing purposes)</p></a></li>
<li><a href='#glcm'><p>Image texture measures from grey-level co-occurrence matrices (GLCM)</p></a></li>
<li><a href='#L5TSR_1986'><p>Landsat 5 Surface Reflectance Image from February 6, 1986 (path 15, row 53)</p></a></li>
<li><a href='#test_raster'><p>Randomly generated 100x100 test image</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.6.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-02-26</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Textures from Grey-Level Co-Occurrence Matrices
(GLCMs)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alex Zvoleff &lt;azvoleff@conservation.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>raster, Rcpp (&ge; 0.11.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 0.8.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Description:</td>
<td>Enables calculation of image textures (Haralick 1973) 
    &lt;<a href="https://doi.org/10.1109%2FTSMC.1973.4309314">doi:10.1109/TSMC.1973.4309314</a>&gt; from grey-level co-occurrence matrices 
    (GLCMs). Supports processing images that cannot fit in memory.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://www.azvoleff.com/glcm">http://www.azvoleff.com/glcm</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/azvoleff/glcm/issues">https://github.com/azvoleff/glcm/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-02-26 21:45:59 UTC; azvoleff</td>
</tr>
<tr>
<td>Author:</td>
<td>Alex Zvoleff [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-02-26 23:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='glcm-package'>Calculate textures from grey-level co-occurrence matrices (GLCMs) in R</h2><span id='topic+glcm-package'></span>

<h3>Description</h3>

<p>Enables calculation of image textures derived from grey-level co-occurrence 
matrices (GLCMs) in R. The texture calculation is coded in C++ to optimize 
computation time.
</p>


<h3>Author(s)</h3>

<p>Alex Zvoleff, <a href="mailto:azvoleff@conservation.org">azvoleff@conservation.org</a>
</p>

<hr>
<h2 id='calc_texture'>Calculates a glcm texture for use in the glcm.R script</h2><span id='topic+calc_texture'></span>

<h3>Description</h3>

<p>This function is called by the <code><a href="#topic+glcm">glcm</a></code> function. It is 
not intended to be used directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_texture(d, n_grey, window_dims, shift, statistics, na_opt, na_val)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calc_texture_+3A_d">d</code></td>
<td>
<p>a matrix containing the pixels to be used in the texture
calculation</p>
</td></tr>
<tr><td><code id="calc_texture_+3A_n_grey">n_grey</code></td>
<td>
<p>number of grey levels to use in texture calculation</p>
</td></tr>
<tr><td><code id="calc_texture_+3A_window_dims">window_dims</code></td>
<td>
<p>2 element list with row and column dimensions of the
texture window</p>
</td></tr>
<tr><td><code id="calc_texture_+3A_shift">shift</code></td>
<td>
<p>a matrix where each row gives an (x, y) shift to use when 
computing co-occurrency matrices. Textures will be calculated for each 
shift, and the average over all shifts will be returned.</p>
</td></tr>
<tr><td><code id="calc_texture_+3A_statistics">statistics</code></td>
<td>
<p>a list of strings naming the texture statistics to 
calculate</p>
</td></tr>
<tr><td><code id="calc_texture_+3A_na_opt">na_opt</code></td>
<td>
<p>one of &quot;ignore&quot;, &quot;center&quot;, or &quot;any&quot;</p>
</td></tr>
<tr><td><code id="calc_texture_+3A_na_val">na_val</code></td>
<td>
<p>what value to use to fill missing values on edges or where
necessary due to chosen na_opt value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of length equal to the length of the <code>statistics</code> input 
parameter, containing the selected textures measures
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate GLCM textures on a matrix using low-level calc_texture function
d &lt;- matrix(seq(1:25), nrow=5, ncol=5, byrow=TRUE)
calc_texture(d, n_grey=25, window_dims=c(3,3),
             shift=matrix(c(1,1), nrow=1), statistics=c('variance'),
             na_opt="any", na_val=NA)
</code></pre>

<hr>
<h2 id='expected_textures_3x3_1x1'>GLCM textures calculated in EXELIS ENVI (for testing purposes)</h2><span id='topic+expected_textures_3x3_1x1'></span>

<h3>Description</h3>

<p>This is the output from running a &quot;co-occurrence measures&quot; calculation to 
calculate GLCM textures in EXELIS ENVI from the <code>test_raster</code> included 
in the <code>glcm</code> package. The following settings were used: window size 
3x3; co-occurrence shift 1 row (y in ENVI), 1 column (x in ENVI); greyscale 
textures to compute: mean, variance, homogeneity, contrast, dissimilarity, 
entropy, second moment, correlation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+expected_textures_5x7_2x3">expected_textures_5x7_2x3</a></code> 
<code><a href="#topic+expected_textures_5x3_n1xn2">expected_textures_5x3_n1xn2</a></code>
</p>

<hr>
<h2 id='expected_textures_5x3_n1xn2'>GLCM textures calculated in EXELIS ENVI (for testing purposes)</h2><span id='topic+expected_textures_5x3_n1xn2'></span>

<h3>Description</h3>

<p>This is the output from running a &quot;co-occurrence measures&quot; calculation to 
calculate GLCM textures in EXELIS ENVI from the <code>test_raster</code> included 
in the <code>glcm</code> package. The following settings were used: window size 
5x3; co-occurrence shift -1 row (y in ENVI), -2 columns (x in ENVI); 
greyscale quantization levels 32; textures to compute: mean, variance, 
homogeneity, contrast, dissimilarity, entropy, second moment, correlation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+expected_textures_3x3_1x1">expected_textures_3x3_1x1</a></code> 
<code><a href="#topic+expected_textures_5x7_2x3">expected_textures_5x7_2x3</a></code>
</p>

<hr>
<h2 id='expected_textures_5x7_2x3'>GLCM textures calculated in EXELIS ENVI (for testing purposes)</h2><span id='topic+expected_textures_5x7_2x3'></span>

<h3>Description</h3>

<p>This is the output from running a &quot;co-occurrence measures&quot; calculation to 
calculate GLCM textures in EXELIS ENVI from the <code>test_raster</code> included 
in the <code>glcm</code> package. The following settings were used: window size 
5x7; co-occurrence shift 2 rows (y in ENVI), 3 columns (x in ENVI); 
greyscale textures to compute: mean, variance, homogeneity, contrast, 
dissimilarity, entropy, second moment, correlation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+expected_textures_3x3_1x1">expected_textures_3x3_1x1</a></code> 
<code><a href="#topic+expected_textures_5x3_n1xn2">expected_textures_5x3_n1xn2</a></code>
</p>

<hr>
<h2 id='glcm'>Image texture measures from grey-level co-occurrence matrices (GLCM)</h2><span id='topic+glcm'></span>

<h3>Description</h3>

<p>This function supports calculating texture statistics derived from 
grey-level co-occurrence matrices (GLCMs). The default textures are 
calculated using a 45 degree shift. See Details for other options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glcm(x, n_grey = 32, window = c(3, 3), shift = c(1, 1), statistics = 
c("mean", "variance", "homogeneity", "contrast", "dissimilarity", "entropy", 
"second_moment", "correlation"), min_x=NULL, max_x=NULL, na_opt="any", 
na_val=NA, scale_factor=1, asinteger=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="glcm_+3A_x">x</code></td>
<td>
<p>a <code>RasterLayer</code> or <code>matrix</code></p>
</td></tr>
<tr><td><code id="glcm_+3A_n_grey">n_grey</code></td>
<td>
<p>number of grey levels to use in texture calculation</p>
</td></tr>
<tr><td><code id="glcm_+3A_window">window</code></td>
<td>
<p>the window size to consider for texture calculation as a two 
element integer vector (number of rows, number of columns)</p>
</td></tr>
<tr><td><code id="glcm_+3A_shift">shift</code></td>
<td>
<p>a list or matrix specifying the shift to use. See Details.</p>
</td></tr>
<tr><td><code id="glcm_+3A_statistics">statistics</code></td>
<td>
<p>A list of GLCM texture measures to calculate (see 
Details).</p>
</td></tr>
<tr><td><code id="glcm_+3A_min_x">min_x</code></td>
<td>
<p>minimum value of input <code>RasterLayer</code> (optional, 
<code>glcm</code> will calculate if not supplied). Useful when running <code>glcm</code> 
over blocks of a raster.</p>
</td></tr>
<tr><td><code id="glcm_+3A_max_x">max_x</code></td>
<td>
<p>maximum value of input <code>RasterLayer</code> (optional, 
<code>glcm</code> will calculate if not supplied). Useful when running <code>glcm</code> 
over blocks of a raster.</p>
</td></tr>
<tr><td><code id="glcm_+3A_na_opt">na_opt</code></td>
<td>
<p>How to handle NA values in <code>x</code>. Can be set to &quot;ignore&quot;, 
&quot;any&quot; or &quot;center&quot;. If set to &quot;any&quot;, all textures statistics for a given 
pixel will be set to NA if there are any NA values in the <code>window</code> 
around that pixel. If set to &quot;center&quot; this will only occur if the center 
value is an NA. If set to &quot;ignore&quot;, NA values in <code>window</code> will be 
ignored.</p>
</td></tr>
<tr><td><code id="glcm_+3A_na_val">na_val</code></td>
<td>
<p>the value to use to fill NA values on edges of <code>x</code> where 
textures cannot be calculated due to the window falling outside of the 
image, and as necessary depending on the chosen <code>na_opt</code>.</p>
</td></tr>
<tr><td><code id="glcm_+3A_scale_factor">scale_factor</code></td>
<td>
<p>factor by which to multiply results.  Useful if rounding 
results to integers (see <code>asinteger</code> argument).</p>
</td></tr>
<tr><td><code id="glcm_+3A_asinteger">asinteger</code></td>
<td>
<p>whether to round results to nearest integer. Can be used to 
save space by saving results as, for example, an 'INT2S' <code>raster</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>statistics</code> parameter should be a list, and can include any (one 
or more) of the following: 'mean', 'mean_ENVI', 'variance', 'variance_ENVI', 
'homogeneity', 'contrast', 'dissimilarity', 'entropy', 'second_moment', 
and/or 'correlation'. By default all of the statistics except for 
&quot;mean_ENVI&quot; and &quot;variance_ENVI&quot; will be returned .
</p>
<p><code>shift</code> can be one of:
</p>

<ol>
<li><p> a two element integer vector giving the shift (Q in Gonzalez and 
Woods, 2008), as (number of rows, number of columns).
</p>
</li>
<li><p> a list of integer vectors of length 2 specifying multiple (row, col) 
shifts over which to calculate the GLCM textures. For example:
<code>shift=list(c(1,1), c(-1,-1))</code>
</p>
</li>
<li><p> a matrix with two columns specifying, in rows, multiple (row, col) 
shifts over which to calculate the GLCM textures. For example:
<code>shift=matrix(c(1,1,-1,-1), byrow=TRUE, ncol=2)</code>
</p>
</li></ol>

<p>If multiple shifts are supplied, <code>glcm</code> will calculate each texture 
statistic using all the specified shifts, and return the mean value of the 
texture for each pixel. To calculate GLCM textures over &quot;all directions&quot; (in 
the terminology of commonly used remote sensing software), use: 
<code>shift=list(c(0,1), c(1,1), c(1,0), c(1,-1))</code>. This will calculate the 
average GLCM texture using shifts of 0 degrees, 45 degrees, 
90 degrees, and 135 degrees.
</p>


<h3>Value</h3>

<p>A <code>RasterLayer</code> or <code>RasterStack</code> with the requested GLCM 
texture measures.
</p>


<h3>References</h3>

<p>Lu, D., and M. Batistella. 2005. Exploring TM image texture and its 
relationships with biomass estimation in Rondônia, Brazilian Amazon.  Acta 
Amazonica 35:249&ndash;257.
</p>
<p>Gonzalez, R. C. 2008. Digital image processing. 3rd ed. Prentice Hall, Upper 
Saddle River, N.J, pages 830&ndash;836.
</p>
<p>Haralick, R. M., K. Shanmugam, and I. Dinstein. 1973. Textural features for 
image classification. IEEE Transactions on Systems, Man and Cybernetics 
SMC-3:610&ndash;621.
</p>
<p>Pratt, W. K. 2007. Digital image processing: PIKS Scientific inside. 4th ed.
Wiley-Interscience, Hoboken, N.J pages 540&ndash;541, 563&ndash;566.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate GLCM textures on a matrix
d &lt;- matrix(seq(1:25), nrow=5, ncol=5, byrow=TRUE)

# Calculate using default 90 degree shift
glcm(d, statistics=c('variance'))

# Calculate over all directions
glcm(d, shift=list(c(0,1), c(1,1), c(1,0), c(1,-1)), 
     statistics=c('variance'))

## Not run: 
# Calculate GLCM textures on a raster
require(raster)
# Calculate using default 90 degree shift
textures_shift1 &lt;- glcm(raster(L5TSR_1986, layer=1))
plot(textures_shift1)

# Calculate over all directions
textures_all_dir &lt;- glcm(raster(L5TSR_1986, layer=1),
                         shift=list(c(0,1), c(1,1), c(1,0), c(1,-1)))
plot(textures_all_dir)

## End(Not run)
</code></pre>

<hr>
<h2 id='L5TSR_1986'>Landsat 5 Surface Reflectance Image from February 6, 1986 (path 15, row 53)</h2><span id='topic+L5TSR_1986'></span>

<h3>Description</h3>

<p>Portion of Landsat 5 Surface Reflectance image from the Landsat Climate Data 
Record archive. This subset of the image includes only bands 1-4.
</p>

<hr>
<h2 id='test_raster'>Randomly generated 100x100 test image</h2><span id='topic+test_raster'></span>

<h3>Description</h3>

<p>Used in testing the output from the GLCM texture statistics C++ code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The image was generated with the following code:
require(raster)
set.seed(0)
test_matrix &lt;- matrix(runif(100)*32, nrow=10)
test_raster &lt;- raster(test_matrix, crs='+init=epsg:4326')
test_raster &lt;- cut(test_raster, seq(0, 32))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

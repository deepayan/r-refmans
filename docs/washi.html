<!DOCTYPE html><html lang="en"><head><title>Help for package washi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {washi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#example_data_long'><p>Example data in long (tidy) format</p></a></li>
<li><a href='#example_data_wide'><p>Example data in wide format</p></a></li>
<li><a href='#washi_flextable'><p>WaSHI flextable style</p></a></li>
<li><a href='#washi_install_fonts'><p>Install Lato and Poppins fonts on your system</p></a></li>
<li><a href='#washi_pal'><p>WaSHI color palettes</p></a></li>
<li><a href='#washi_pal_setup'><p>Setup a color palette</p></a></li>
<li><a href='#washi_pal_view'><p>View a WaSHI palette</p></a></li>
<li><a href='#washi_scale'><p>Scales for plotting with WaSHI palettes</p></a></li>
<li><a href='#washi_theme'><p>Create standard WaSHI plots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Washington Soil Health Initiative Branding</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Create plots and tables in a consistent style with WaSHI
    (Washington Soil Health Initiative) branding. Use 'washi' to easily
    style your 'ggplot2' plots and 'flextable' tables.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/WA-Department-of-Agriculture/washi">https://github.com/WA-Department-of-Agriculture/washi</a>,
<a href="https://wa-department-of-agriculture.github.io/washi/">https://wa-department-of-agriculture.github.io/washi/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/WA-Department-of-Agriculture/washi/issues/">https://github.com/WA-Department-of-Agriculture/washi/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, flextable, ggplot2, graphics, grDevices, officer, scales,
systemfonts</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, forcats, ragg, testthat (&ge; 3.0.0), vdiffr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-07 23:28:26 UTC; JRyan</td>
</tr>
<tr>
<td>Author:</td>
<td>Jadey Ryan [aut, cre],
  Molly Mcilquham [aut],
  Dani Gelardi [aut],
  Washington State Department of Agriculture [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jadey Ryan &lt;jryan@agr.wa.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-07 23:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='example_data_long'>Example data in long (tidy) format</h2><span id='topic+example_data_long'></span>

<h3>Description</h3>

<p>A subset WaSHI State of the Soils Assessment dataset that has been
anonymized. This dataset is tidied, so each measurement is in its
own row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_data_long
</code></pre>


<h3>Format</h3>



<h4><code>example_data_long</code> A data frame with 1,800 rows and 14 columns:</h4>


<dl>
<dt>year</dt><dd><p>Year of sample</p>
</dd>
<dt>sampleId, producerId, fieldId</dt><dd><p>Anonymized IDs</p>
</dd>
<dt>farmName, producerName, fieldName</dt><dd><p>Anonymized names</p>
</dd>
<dt>longitude, latitude</dt><dd><p>Truncated coordinates</p>
</dd>
<dt>texture</dt><dd><p>Measured soil texture</p>
</dd>
<dt>measurement</dt><dd><p>Measurement name with units</p>
</dd>
<dt>value</dt><dd><p>Measurement result</p>
</dd>
</dl>
<p>...

</p>



<h3>Source</h3>

<p><a href="https://agr.wa.gov/departments/land-and-water/natural-resources/soil-health/state-of-the-soils">https://agr.wa.gov/departments/land-and-water/natural-resources/soil-health/state-of-the-soils</a>
</p>

<hr>
<h2 id='example_data_wide'>Example data in wide format</h2><span id='topic+example_data_wide'></span>

<h3>Description</h3>

<p>A subset WaSHI State of the Soils Assessment dataset that has been
anonymized. This dataset presents each sample in its own row, with
columns for each measurement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_data_wide
</code></pre>


<h3>Format</h3>



<h4><code>example_data_wide</code> A data frame with 30 rows and 72</h4>

<p>columns:
</p>

<dl>
<dt>year</dt><dd><p>Year of sample</p>
</dd>
<dt>sampleId, producerId, fieldId</dt><dd><p>Anonymized IDs</p>
</dd>
<dt>farmName, producerName, fieldName</dt><dd><p>Anonymized names</p>
</dd>
<dt>longitude, latitude</dt><dd><p>Truncated coordinates</p>
</dd>
<dt>texture</dt><dd><p>Measured soil texture</p>
</dd>
<dt>other columns</dt><dd><p>Column name includes measurement and units; value is the measurement results</p>
</dd>
</dl>
<p>...

</p>



<h3>Source</h3>

<p><a href="https://agr.wa.gov/departments/land-and-water/natural-resources/soil-health/state-of-the-soils">https://agr.wa.gov/departments/land-and-water/natural-resources/soil-health/state-of-the-soils</a>
</p>

<hr>
<h2 id='washi_flextable'>WaSHI flextable style</h2><span id='topic+washi_flextable'></span>

<h3>Description</h3>

<p>Creates a flextable in WaSHI's style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_flextable(
  data,
  cols_bold = NULL,
  header_font = "Lato",
  body_font = "Poppins",
  header_font_color = "white",
  header_bg_color = washi_pal[["standard"]][["green"]],
  border_color = washi_pal[["standard"]][["tan"]]
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="washi_flextable_+3A_data">data</code></td>
<td>
<p>Dataframe for the table.</p>
</td></tr>
<tr><td><code id="washi_flextable_+3A_cols_bold">cols_bold</code></td>
<td>
<p>Numeric indices of columns to bold. Defaults to
<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="washi_flextable_+3A_header_font">header_font</code></td>
<td>
<p>Font family for header text. Defaults to
&quot;Lato&quot;.</p>
</td></tr>
<tr><td><code id="washi_flextable_+3A_body_font">body_font</code></td>
<td>
<p>Font family for table body text. Defaults to
&quot;Poppins&quot;.</p>
</td></tr>
<tr><td><code id="washi_flextable_+3A_header_font_color">header_font_color</code></td>
<td>
<p>Hexcode color for header font. Defaults to
white.</p>
</td></tr>
<tr><td><code id="washi_flextable_+3A_header_bg_color">header_bg_color</code></td>
<td>
<p>Hexcode color for header background.
Defaults to WaSHI green.</p>
</td></tr>
<tr><td><code id="washi_flextable_+3A_border_color">border_color</code></td>
<td>
<p>Hexcode color for horizontal borders. Defaults
to WaSHI tan.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flextable formatted in WaSHI's style.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>subset(
  example_data_wide,
  select = c(
    "sampleId",
    "county",
    "crop",
    "totalN_%",
    "totalC_%"
  )
) |&gt;
  washi_flextable(cols_bold = 1)
</code></pre>

<hr>
<h2 id='washi_install_fonts'>Install Lato and Poppins fonts on your system</h2><span id='topic+washi_install_fonts'></span>

<h3>Description</h3>

<p>Opens the font files to install on your computer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_install_fonts()
</code></pre>


<h3>Value</h3>

<p>Opens a directory containing font files.
</p>

<hr>
<h2 id='washi_pal'>WaSHI color palettes</h2><span id='topic+washi_pal'></span>

<h3>Description</h3>

<p>Color palettes are stored in a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_pal
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 11.
</p>


<h3>Value</h3>

<p>List of available <code>washi</code> color palettes
</p>


<h3>See Also</h3>

<p>Other color palette functions: 
<code><a href="#topic+washi_pal_setup">washi_pal_setup</a>()</code>,
<code><a href="#topic+washi_pal_view">washi_pal_view</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># List names of available palettes
names(washi_pal)

# Get hex codes from a palette using dollar `$name` or
# double bracket
# `[["name"]]` operators for extracting list elements
washi_pal$standard

washi_pal[["green_gradient"]]

# Extract a color from the standard WaSHI palette
washi_pal[["standard"]][["green"]]
</code></pre>

<hr>
<h2 id='washi_pal_setup'>Setup a color palette</h2><span id='topic+washi_pal_setup'></span>

<h3>Description</h3>

<p>Choose desired number of colors and whether the colors are
reversed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_pal_setup(palette = "standard", n, reverse = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="washi_pal_setup_+3A_palette">palette</code></td>
<td>
<p>Character name of palette in washi_pal. See
<code>names(washi_pal)</code> for a list of available palettes.</p>
</td></tr>
<tr><td><code id="washi_pal_setup_+3A_n">n</code></td>
<td>
<p>Number of colors in palette.</p>
</td></tr>
<tr><td><code id="washi_pal_setup_+3A_reverse">reverse</code></td>
<td>
<p>Boolean indicating whether the palette should be
reversed. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of color hex codes.
</p>


<h3>See Also</h3>

<p>Other color palette functions: 
<code><a href="#topic+washi_pal_view">washi_pal_view</a>()</code>,
<code><a href="#topic+washi_pal">washi_pal</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>washi_pal_setup("color_blind")

washi_pal_setup("green_gradient", 12)
</code></pre>

<hr>
<h2 id='washi_pal_view'>View a WaSHI palette</h2><span id='topic+washi_pal_view'></span>

<h3>Description</h3>

<p>Show the colors within a palette in a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_pal_view(palette = "color_blind", n, reverse = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="washi_pal_view_+3A_palette">palette</code></td>
<td>
<p>Character name of palette in washi_pal. See
<code>names(washi_pal)</code> for a list of available palettes.</p>
</td></tr>
<tr><td><code id="washi_pal_view_+3A_n">n</code></td>
<td>
<p>Number of colors in palette.</p>
</td></tr>
<tr><td><code id="washi_pal_view_+3A_reverse">reverse</code></td>
<td>
<p>Boolean indicating whether the palette should be
reversed. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with each color displayed.
</p>


<h3>See Also</h3>

<p>Other color palette functions: 
<code><a href="#topic+washi_pal_setup">washi_pal_setup</a>()</code>,
<code><a href="#topic+washi_pal">washi_pal</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>washi_pal_view("standard")

washi_pal_view("color_blind")

washi_pal_view("blue_gradient", 4, reverse = TRUE)
</code></pre>

<hr>
<h2 id='washi_scale'>Scales for plotting with WaSHI palettes</h2><span id='topic+washi_scale'></span>

<h3>Description</h3>

<p>Provides compatibility with <code>ggplot2</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_scale(
  palette = "color_blind",
  aesthetics = c("color", "fill"),
  alpha = 1,
  reverse = FALSE,
  discrete = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="washi_scale_+3A_palette">palette</code></td>
<td>
<p>Character name of palette in washi_pal. See
<code>names(washi_pal)</code> for a list of available palettes.</p>
</td></tr>
<tr><td><code id="washi_scale_+3A_aesthetics">aesthetics</code></td>
<td>
<p>Character string or vector of character strings
listing the name(s) of the aesthetic(s) that this scale works
with. Defaults to c(&quot;color&quot;, &quot;fill&quot;), which applies the palette
to both the color and fill aesthetics at the same time.</p>
</td></tr>
<tr><td><code id="washi_scale_+3A_alpha">alpha</code></td>
<td>
<p>Numeric transparency level of the color from 0 to 1.
Default is 1 (not transparent).</p>
</td></tr>
<tr><td><code id="washi_scale_+3A_reverse">reverse</code></td>
<td>
<p>Boolean indicating whether the palette should be
reversed. Default is FALSE.</p>
</td></tr>
<tr><td><code id="washi_scale_+3A_discrete">discrete</code></td>
<td>
<p>Boolean indicating whether color aesthetic is
discrete or not. Default is TRUE.</p>
</td></tr>
<tr><td><code id="washi_scale_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to discrete_scale() or
scale_color_gradientn(), used respectively when discrete is TRUE
or FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ScaleContinuous</code> or <code>ScaleDiscrete</code> object that can be
added to a <code>ggplot</code> object.
</p>


<h3>See Also</h3>

<p>Other ggplot2 functions: 
<code><a href="#topic+washi_theme">washi_theme</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# Discrete scale
example_data_wide |&gt;
  subset(crop %in% c("Apple", "Cherry", "Potato")) |&gt;
  ggplot(aes(x = pH, y = Mn_mg.kg, color = crop)) +
  geom_point(size = 2.5) +
  theme_minimal() +
  washi_scale()

# Continuous scale
example_data_wide |&gt;
  ggplot(aes(x = `totalC_%`, y = poxC_mg.kg, color = poxC_mg.kg)) +
  geom_point(size = 2.5) +
  theme_minimal() +
  washi_scale("green_gradient", reverse = TRUE, discrete = FALSE)
</code></pre>

<hr>
<h2 id='washi_theme'>Create standard WaSHI plots</h2><span id='topic+washi_theme'></span>

<h3>Description</h3>

<p>All changed defaults from this function can be overridden by another
call to <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code> with the desired changes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>washi_theme(
  header_font = "Lato Black",
  header_color = "#151414",
  body_font = "Poppins",
  body_color = "#151414",
  text_scale = 1,
  legend_position = "top",
  facet_space = 2,
  color_gridline = washi_pal[["standard"]][["tan"]],
  gridline_y = TRUE,
  gridline_x = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="washi_theme_+3A_header_font">header_font</code></td>
<td>
<p>Font family for title and subtitle. Defaults to
&quot;Lato Black&quot;.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_header_color">header_color</code></td>
<td>
<p>Font color for title and subtitle. Defaults to
almost black.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_body_font">body_font</code></td>
<td>
<p>Font family for all other text Defaults to
&quot;Poppins&quot;.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_body_color">body_color</code></td>
<td>
<p>Font color for all other text Defaults to almost
black.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_text_scale">text_scale</code></td>
<td>
<p>Scalar that will grow/shrink all text defined
within.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_legend_position">legend_position</code></td>
<td>
<p>Position of legend (&quot;none&quot;, &quot;left&quot;, &quot;right&quot;,
&quot;bottom&quot;, &quot;top&quot;, or two-element numeric vector). Defaults to
&quot;top&quot;.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_facet_space">facet_space</code></td>
<td>
<p>Controls how far apart facets are from each
other.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_color_gridline">color_gridline</code></td>
<td>
<p>Gridline color. Defaults to WaSHI tan.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_gridline_y">gridline_y</code></td>
<td>
<p>Boolean indicating whether major gridlines are
displayed for the y axis. Default is TRUE.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_gridline_x">gridline_x</code></td>
<td>
<p>Boolean indicating whether major gridlines are
displayed for the x axis. Default is TRUE.</p>
</td></tr>
<tr><td><code id="washi_theme_+3A_...">...</code></td>
<td>
<p>Pass any parameters from theme that are not already
defined within.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ggplot2</code> object
</p>


<h3>Source</h3>

<p>Adapted from <code>glitr::si_style()</code>.
</p>


<h3>See Also</h3>

<p>Other ggplot2 functions: 
<code><a href="#topic+washi_scale">washi_scale</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># NOTE: These examples do not use Poppins or Lato in order to pass
# automated checks on computers without these fonts installed.

library(ggplot2)

# Single geom_point plot
example_data_wide |&gt;
  subset(crop %in% c("Apple", "Cherry", "Potato")) |&gt;
  ggplot(aes(x = pH, y = Mn_mg.kg, color = crop)) +
  labs(
    title = "Scatter plot of pH and Mn (mg/kg)",
    subtitle = "Example with geom_point().",
    caption = "This is a caption."
  ) +
  geom_point(size = 2.5) +
  washi_theme(
    header_font = "sans",
    body_font = "sans"
  ) +
  washi_scale()

# Bar plot
if (requireNamespace("forcats")) {
  example_data_wide |&gt;
    ggplot(aes(x = forcats::fct_rev(forcats::fct_infreq(crop)))) +
    geom_bar(fill = washi_pal[["standard"]][["blue"]]) +
    geom_text(
      aes(
        y = after_stat(count),
        label = after_stat(count)
      ),
      stat = "count",
      hjust = 2.5,
      color = "white"
    ) +
    # Flip coordinates to accommodate long crop names
    coord_flip() +
    labs(
      title = "Number of samples in each crop",
      subtitle = "Example plot with geom_bar() without gridlines.",
      y = NULL,
      x = NULL
    ) +
    # Turn gridlines off
    washi_theme(
      gridline_y = FALSE,
      gridline_x = FALSE,
      header_font = "sans",
      body_font = "sans"
    ) +
    # Remove x-axis
    theme(axis.text.x = element_blank())
}

# Facetted geom_density plots
example_data_long |&gt;
  subset(measurement %in% c("totalC_%", "poxC_mg.kg") &amp;
    !texture == "Loamy Sand") |&gt;
  ggplot(aes(x = value, fill = texture, color = texture)) +
  labs(
    title = "Distribution of POXC (mg/kg) and Total C (%)",
    subtitle = "Example with geom_density() and facet_wrap()."
  ) +
  geom_density(alpha = 0.4) +
  facet_wrap(. ~ measurement, scales = "free") +
  washi_theme(
    legend_position = "bottom",
    header_font = "sans",
    body_font = "sans"
  ) +
  washi_scale() +
  xlab(NULL) +
  guides(col = guide_legend(nrow = 2, byrow = TRUE))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

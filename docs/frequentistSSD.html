<!DOCTYPE html><html><head><title>Help for package frequentistSSD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {frequentistSSD}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_oc'>
<p>Generate operating characteristics for Two-Stage Screened Selection Design for Randomized Phase II Trials with Time-to-Event Endpoints</p></a></li>
<li><a href='#get_oc_3arm'>
<p>Generate operating characteristics for Two-Stage Screened</p>
Selection Design for Randomized Phase II Trials
with Time-to-Event Endpoints for 3 arms</a></li>
<li><a href='#optimal'>
<p>Find optimal parameters</p></a></li>
<li><a href='#sample_size'>
<p>Calculate the sample size for each arm</p></a></li>
<li><a href='#sample_size_3arm'>
<p>Calculate the sample size for each arm</p></a></li>
<li><a href='#sampsize_1stage_2arm'>
<p>Calculate the sample size for each arm</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Screened Selection Design with Survival Endpoints</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chia-Wei Hsu &lt;Chia-Wei.Hsu@stjude.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A study based on the screened selection design (SSD) is an exploratory phase II randomized trial with two or more arms but without concurrent control. The primary aim of the SSD trial is to pick a desirable treatment arm (e.g., in terms of the median survival time) to recommend to the subsequent randomized phase IIb (with the concurrent control) or phase III. Though The survival endpoint is often encountered in phase II trials, the existing SSD methods cannot deal with the survival endpoint. Furthermore, the existing SSD won’t control the type I error rate.  The proposed designs can “partially” control or provide the empirical type I error/false positive rate by an optimal algorithm (implemented by the optimal() function) for each arm. All the design needed components (sample size, operating characteristics) are supported.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>survival</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-15 18:01:02 UTC; chsu1</td>
</tr>
<tr>
<td>Author:</td>
<td>Chia-Wei Hsu [aut, cre],
  Haitao Pan [aut],
  Jianrong Wu [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-15 18:12:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_oc'>
Generate operating characteristics for Two-Stage Screened Selection Design for Randomized Phase II Trials with Time-to-Event Endpoints
</h2><span id='topic+get_oc'></span>

<h3>Description</h3>

<p>Obtain the operating characteristics of Two-Stage Screened Selection Design for Randomized Phase II Trials with Time-to-Event Endpoints. The arguments for this function are from outputs of the functions of <code>optimal()</code> and <code>sample_size()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_oc(shape, m0, mA, hr, frac, ta, tf, c1, c,
       diff, n, nsim, seed = 2483)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_oc_+3A_shape">shape</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_m0">m0</code></td>
<td>

<p>the median survival time of historical data
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_ma">mA</code></td>
<td>

<p>the median survival time of arm A
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_hr">hr</code></td>
<td>

<p>the hazard ratio of arm B to arm A
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_frac">frac</code></td>
<td>

<p>the ratio of sample size in stage 1 compared to total sample size (e.g., n1/n)
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_ta">ta</code></td>
<td>

<p>the accrual duration
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_tf">tf</code></td>
<td>

<p>the follow-up duration
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_c1">c1</code></td>
<td>

<p>the critical value at stage 1
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_c">c</code></td>
<td>

<p>the critical value at stage 2
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_diff">diff</code></td>
<td>

<p>the equivalence margin
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_n">n</code></td>
<td>

<p>the total sample size for each arm
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_nsim">nsim</code></td>
<td>

<p>the number of simulated trials
</p>
</td></tr>
<tr><td><code id="get_oc_+3A_seed">seed</code></td>
<td>

<p>the seed. The default value is seed = 2483
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>get_oc()</code> returns: (1) n: total sample size for each arm (2) SSD.Arm.A: selection probability of Arm A (3) SSD.Arm.B: selection probability of Arm B (4) SSD.No.Arm: the probability of no arms selected (5) diff: the equivalence margin (6) Mean.N.Arm.A: the average number of patients allocated to Arm A (7) Mean.N.Arm.B: the average number of patients allocated to Arm B
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints.&quot; Submitted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## c1, n, c they all come from optimal function. Details are shown as follows:
## Not run: optimal(shape = 1, m0 = 1, ms = 2.4, tf = 3,
                 ta = 24, tot_size = 19, dist = "WB")
| alpha | beta | n1 |   c1   |  n |    c   |   t1    | MTSL |   ESS   |   PS
|  0.05 | 0.08 | 15 | 0.0508 | 19 | 1.6434 | 17.9751 |  27  | 16.5183 | 0.5203

## End(Not run)

get_oc(shape = 1, m0 = 1, mA = 2.4, hr = 0.6, frac = 15/19,
       ta = 24, tf = 3, c1 = 0.0508, c = 1.6434,
       diff = 0.25, n = 19, nsim = 10000)
</code></pre>

<hr>
<h2 id='get_oc_3arm'>
Generate operating characteristics for Two-Stage Screened
Selection Design for Randomized Phase II Trials
with Time-to-Event Endpoints for 3 arms
</h2><span id='topic+get_oc_3arm'></span>

<h3>Description</h3>

<p>Obtain the operating characteristics of Two-Stage Screened Selection Design for Randomized Phase II Trials with Time-to-Event Endpoints for 3 arms. The arguments for this function are from outputs of the functions of <code>optimal()</code> and <code>sample_size_3arm()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_oc_3arm(shape, m0, mA, hr2, hr3, frac, ta, tf, c1, c,
            diff, n, nsim, seed = 2483)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_oc_3arm_+3A_shape">shape</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_m0">m0</code></td>
<td>

<p>the median survival time of historical data
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_ma">mA</code></td>
<td>

<p>the median survival time of arm A
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_hr2">hr2</code></td>
<td>

<p>the hazard ratio of arm B to arm A
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_hr3">hr3</code></td>
<td>

<p>the hazard ratio of arm C to arm A
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_frac">frac</code></td>
<td>

<p>the ratio of sample size in stage 1 compared to total sample size (e.g., n1/n)
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_ta">ta</code></td>
<td>

<p>the accrual duration
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_tf">tf</code></td>
<td>

<p>the follow-up duration
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_c1">c1</code></td>
<td>

<p>the critical value at stage 1
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_c">c</code></td>
<td>

<p>the critical value at stage 2
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_diff">diff</code></td>
<td>

<p>the equivalence margin
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_n">n</code></td>
<td>

<p>the total sample size for each arm
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_nsim">nsim</code></td>
<td>

<p>the number of simulated trials
</p>
</td></tr>
<tr><td><code id="get_oc_3arm_+3A_seed">seed</code></td>
<td>

<p>the seed. The default value is seed = 2483
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>get_oc_3arm()</code> returns: (1) n: total sample size for each arm (2) SSD.Arm.A: selection probability of Arm A (3) SSD.Arm.B: selection probability of Arm B (4) SSD.Arm.C: selection probability of Arm C (5) SSD.No.Arm: the probability of no arms selected (6) diff: the equivalence margin (7) Mean.N.Arm.A: the average number of patients allocated to Arm A (8) Mean.N.Arm.B: the average number of patients allocated to Arm B (9) Mean.N.Arm.C: the average number of patients allocated to Arm C
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints.&quot; Submitted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## c1, n, c they all come from optimal function. Details are shown as follows:
## Not run: optimal(shape = 1, m0 = 1, ms = 2, tf = 3,
                 ta = 24, tot_size = 21, dist = "WB")
| alpha | beta | n1 |    c1   |  n |   c   |   t1    | MTSL |   ESS   |   PS
|  0.05 | 0.14 | 16 | -0.0463 | 21 | 1.644 | 17.8248 |  27  | 18.3983 | 0.4815

## End(Not run)

get_oc_3arm(shape = 1, m0 = 1, mA = 2, hr2 = 1, hr3 = 0.6,
            frac = 16/21, ta = 24, tf = 3, c1 = -0.0463,
            c = 1.644, diff = 0, n = 21, nsim = 10000,
            seed = 2483)
</code></pre>

<hr>
<h2 id='optimal'>
Find optimal parameters
</h2><span id='topic+optimal'></span>

<h3>Description</h3>

<p>Find the optimal parameters used in the <code>get_oc()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal(shape, m0, ms, tf, ta,
        tot_size, dist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimal_+3A_shape">shape</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td></tr>
<tr><td><code id="optimal_+3A_m0">m0</code></td>
<td>

<p>the median survival time of historical data
</p>
</td></tr>
<tr><td><code id="optimal_+3A_ms">ms</code></td>
<td>

<p>the minimal clinical meaningful median survival time
</p>
</td></tr>
<tr><td><code id="optimal_+3A_tf">tf</code></td>
<td>

<p>the follow-up duration
</p>
</td></tr>
<tr><td><code id="optimal_+3A_ta">ta</code></td>
<td>

<p>the accrual duration
</p>
</td></tr>
<tr><td><code id="optimal_+3A_tot_size">tot_size</code></td>
<td>

<p>the required sample size for each arm
</p>
</td></tr>
<tr><td><code id="optimal_+3A_dist">dist</code></td>
<td>

<p>the distribution
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>optimal()</code> returns a list containing two blocks:
</p>
<p><code>$param</code>:
(1) S0: historical survival probability at the landmark time point x0 (2) hr: hazard ratio of the hypothetical arm with “minimal clinical meaningful median survival time” to the historical arm (3) rate: accrual rate (calculated as tot_size/ta) <br /> <br />
<code>$Two_stage</code>:
(1) alpha: type I error (2) beta: type II error (3) n1: the required sample size for the first stage (4) c1: the cutoff point at the first stage (5) n: the required sample size for each arm (is equal to tot_size) (6) c: the cutoff point at the final stage (7) t1: the expected time of interim analysis (first stage) (8) MTSL: the maximum total study length (ta + tf) (9) ESS: the expected sample size for each arm (10) PS: the probability of early stopping
</p>


<h3>Note</h3>

<p>(1) For <code>optimal()</code> function, if the ms is set to be equal to the less effective arm (e.g., say, the arm A is less effective than the arm B), with the rationale, by this way, the computed boundaries, c1, n1, c, would control the pre-specified type I (since both arms A and B are all under the same null case) while the power for the better arm B, would have at least pre-specified power 1-beta
</p>
<p>(2) <code>optimal()</code> funcition will be applied to either two or three-arm cases to find the optimal cutoff bounaries, c1, n1, c
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints.&quot; Submitted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## For 2 arms
## Not run: 
shape &lt;- 1
m0 &lt;- 1
ms &lt;- 2.4
tf &lt;- 3
ta &lt;- 24
tot_size &lt;- 19
dist &lt;- "WB"

optimal(shape = shape, m0 = m0, ms = ms, tf = tf,
        ta = ta, tot_size = tot_size, dist = dist)

## End(Not run)

## For 3 arms
## Not run: 
shape &lt;- 1
m0 &lt;- 1
ms &lt;- 2
tf &lt;- 3
ta &lt;- 24
tot_size &lt;- 21
dist &lt;- "WB"

optimal(shape = shape, m0 = m0, ms = ms, tf = tf,
        ta = ta, tot_size = tot_size, dist = dist)

## End(Not run)
</code></pre>

<hr>
<h2 id='sample_size'>
Calculate the sample size for each arm
</h2><span id='topic+sample_size'></span>

<h3>Description</h3>

<p>Calculate the sample size for each arm in a two-arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_size(kappa, mA, hr, ta, tf, diff, P)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_size_+3A_kappa">kappa</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td></tr>
<tr><td><code id="sample_size_+3A_ma">mA</code></td>
<td>

<p>the median survival time of arm A
</p>
</td></tr>
<tr><td><code id="sample_size_+3A_hr">hr</code></td>
<td>

<p>the hazard ratio of arm B to arm A
</p>
</td></tr>
<tr><td><code id="sample_size_+3A_ta">ta</code></td>
<td>

<p>the accrual duration
</p>
</td></tr>
<tr><td><code id="sample_size_+3A_tf">tf</code></td>
<td>

<p>the follow-up duration
</p>
</td></tr>
<tr><td><code id="sample_size_+3A_diff">diff</code></td>
<td>

<p>the equivalence margin
</p>
</td></tr>
<tr><td><code id="sample_size_+3A_p">P</code></td>
<td>

<p>the chance of correctly selecting the superior arm
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>sample_size()</code> returns required sample size for each arm
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints.&quot; Submitted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sample_size(kappa = 1, mA = 2.4, hr = 0.60, ta = 24,
            tf = 3, diff = 0.25, P = 0.9)
</code></pre>

<hr>
<h2 id='sample_size_3arm'>
Calculate the sample size for each arm
</h2><span id='topic+sample_size_3arm'></span>

<h3>Description</h3>

<p>Calculate the sample size for each arm in a three-arm trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_size_3arm(kappa, m0, mA, mB, delta, ta, tf, P, diff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_size_3arm_+3A_kappa">kappa</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_m0">m0</code></td>
<td>

<p>the median survival time of historical control with respect to both arm A, B and C
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_ma">mA</code></td>
<td>

<p>the median survival time of arm A
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_mb">mB</code></td>
<td>

<p>the median survival time of arm B
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_delta">delta</code></td>
<td>

<p>the hazard ratio of arm C to arm A
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_ta">ta</code></td>
<td>

<p>the accrual duration
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_tf">tf</code></td>
<td>

<p>the follow-up duration
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_p">P</code></td>
<td>

<p>the chance of correctly selecting the superior arm
</p>
</td></tr>
<tr><td><code id="sample_size_3arm_+3A_diff">diff</code></td>
<td>

<p>the equivalence margin
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>sample_size_3arm()</code> returns required sample size for each arm
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints.&quot; Submitted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sample_size_3arm(kappa = 1, m0 = 1, mA = 2, mB = 2, delta = 0.6,
                 ta = 24, tf = 3, P = 0.90, diff = 0)

sample_size_3arm(kappa = 1, m0 = 1, mA = 2, mB = 2, delta = 0.6,
                 ta = 24, tf = 3, P = 0.90, diff = 0.25)
</code></pre>

<hr>
<h2 id='sampsize_1stage_2arm'>
Calculate the sample size for each arm
</h2><span id='topic+sampsize_1stage_2arm'></span>

<h3>Description</h3>

<p>Provide the required sample size (per arm) based on the one-stage selection design given the type I error rate and power. Details see the reference paper
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sampsize_1stage_2arm(kappa, alpha, beta, m0, m1, ta, tf, delta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sampsize_1stage_2arm_+3A_kappa">kappa</code></td>
<td>

<p>the shape parameter of weibull distribution
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_alpha">alpha</code></td>
<td>

<p>type I error rate
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_beta">beta</code></td>
<td>

<p>type II error rate
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_m0">m0</code></td>
<td>

<p>the median survival time of historical control with respect to both arm A and B
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_m1">m1</code></td>
<td>

<p>the median survival time of arm A
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_ta">ta</code></td>
<td>

<p>the accrual duration
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_tf">tf</code></td>
<td>

<p>the follow-up duration
</p>
</td></tr>
<tr><td><code id="sampsize_1stage_2arm_+3A_delta">delta</code></td>
<td>

<p>the hazard ratio of arm B to arm A
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>sampsize_1stage_2arm()</code> returns required sample size for each arm
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Two-Stage Screened Selection Designs for Randomized
Phase II Trials with Time-to-Event Endpoints.&quot; Submitted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sampsize_1stage_2arm(kappa = 1, alpha = 0.05, beta = 0.1, m0 = 1,
                     m1 = 2.5, delta = 0.65, ta = 24, tf = 9)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package reveneraR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {reveneraR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_status'><p>Check Request Status</p></a></li>
<li><a href='#get_categories_and_events'><p>Get All Categories and Events for a List of Product Ids</p></a></li>
<li><a href='#get_client_metadata'><p>Get Metadata on Client Ids for a List of Product Ids</p></a></li>
<li><a href='#get_daily_client_properties'><p>Get Daily Property Values for All Clients for a List of Product Ids</p></a></li>
<li><a href='#get_product_properties'><p>Get All Properties for a List of Product Ids</p></a></li>
<li><a href='#get_raw_data_files'><p>Get Raw Data Files</p></a></li>
<li><a href='#get_users'><p>Get Users by Product ID, Type, and Various Date Spans</p></a></li>
<li><a href='#logout'><p>Remove authorization cookies (logout).</p></a></li>
<li><a href='#revenera_auth'><p>Login and Obtain Revenera API Session Id</p></a></li>
<li><a href='#stop_quietly'><p>Stop Function Quietly</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Connect to Your 'Revenera' (Formerly 'Revulytics') Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates making a connection to the 'Revenera' 
  API and executing various queries. You can use it to get 
  event data and metadata. The 'Revenera' documentation 
  is available at <a href="https://rui-api.redoc.ly/">https://rui-api.redoc.ly/</a>. This package is 
  not supported by 'Flexera' (owner of the software). </td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, ggplot2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/chrisumphlett/reveneraR">https://github.com/chrisumphlett/reveneraR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/chrisumphlett/reveneraR/issues">https://github.com/chrisumphlett/reveneraR/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.1.4), magrittr (&ge; 2.0.3), jsonlite (&ge; 1.8.8),
purrr (&ge; 1.0.2), httr (&ge; 1.4.7), tidyr (&ge; 1.3.1), rlang (&ge;
1.1.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-25 18:34:35 UTC; c.umphlett</td>
</tr>
<tr>
<td>Author:</td>
<td>Chris Umphlett [aut, cre],
  Avinash Panigrahi [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chris Umphlett &lt;christopher.umphlett@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-25 18:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_status'>Check Request Status</h2><span id='topic+check_status'></span>

<h3>Description</h3>

<p>This function is called by other functions that submit a
requests to Revenera API. It checks the status code
returned and tells the user if there was an error code and
exits the function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_status(request_obj)
</code></pre>


<h3>Value</h3>

<p>If status code is not 200, returns a message to
console with appropriate error message and stops execution.
</p>

<hr>
<h2 id='get_categories_and_events'>Get All Categories and Events for a List of Product Ids</h2><span id='topic+get_categories_and_events'></span>

<h3>Description</h3>

<p>Returns all of the unique categories and events (basic and advanced)
for each product id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_categories_and_events(rev_product_ids)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_categories_and_events_+3A_rev_product_ids">rev_product_ids</code></td>
<td>
<p>A vector of Revenera product id's for which
you want active user data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended that your username be stored directly in your
code. There are various methods and packages available that are more
secure; this package does not require you to use any one in particular.
</p>


<h3>Value</h3>

<p>Data frame with categories, events and event type by product id.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)
product_ids_list &lt;- c("123", "456", "789")
session_id &lt;- revenera_auth(rev_user, rev_pwd)
category_event &lt;- get_categories_and_events(
  product_ids_list
)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_client_metadata'>Get Metadata on Client Ids for a List of Product Ids</h2><span id='topic+get_client_metadata'></span>

<h3>Description</h3>

<p>Returns metadata (what Revenera calls &quot;properties&quot;) for every
Client Id installed during user-provided date range for all product
Ids in a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_client_metadata(
  rev_product_ids,
  product_properties_df,
  desired_properties,
  installed_start_date,
  installed_end_date,
  chatty = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_client_metadata_+3A_rev_product_ids">rev_product_ids</code></td>
<td>
<p>A vector of Revenera product id's for which
you want active user data.</p>
</td></tr>
<tr><td><code id="get_client_metadata_+3A_product_properties_df">product_properties_df</code></td>
<td>
<p>Data frame with available properties
for all product ids. Can obtain with the get_product_properties function.</p>
</td></tr>
<tr><td><code id="get_client_metadata_+3A_desired_properties">desired_properties</code></td>
<td>
<p>The property names of the metadata you want
to collect.</p>
</td></tr>
<tr><td><code id="get_client_metadata_+3A_installed_start_date">installed_start_date</code></td>
<td>
<p>Date object for the starting date of
product installations.</p>
</td></tr>
<tr><td><code id="get_client_metadata_+3A_installed_end_date">installed_end_date</code></td>
<td>
<p>Date object for the ending date of
product installations.</p>
</td></tr>
<tr><td><code id="get_client_metadata_+3A_chatty">chatty</code></td>
<td>
<p>The function can be chatty, sending a message to the console
for every iteration through a product Id. Many API calls may be required
and the console may get very long and it may slow down the execution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended that your username be stored directly in your
code. There are various methods and packages available that are more
secure; this package does not require you to use any one in particular.
</p>
<p>This API call can only return 200 Client Ids at a time. It will take a
long time to execute if you have many Client Ids, as the function will
submit requests to the API repeatedly; this may even result in a timeout
error from the server. In order to provide data for troubleshooting
this function will write a message to the console after each call.
It is recommended that you divert the console output to a text file.
You can do this in multiple ways, including with the sink function (see
example for how to do this).
</p>
<p>For the same reason you are encouraged to break your request into
smaller chunks using the install dates and/or splitting up your
product Ids.
</p>


<h3>Value</h3>

<p>Data frame with selected properties for each Client Id.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)
product_ids_list &lt;- c("123", "456", "789")
product_properties &lt;- get_product_properties(product_ids_list)
sink("output_filename.txt") # write out chatty messages to a file
sink(stdout(), type = "message")
client_metadata &lt;- get_client_metadata(
  product_ids_list, product_properties, c("Property1", "Property2"),
  start_date, end_date, chatty = TRUE
)
sink()

## End(Not run)

</code></pre>

<hr>
<h2 id='get_daily_client_properties'>Get Daily Property Values for All Clients for a List of Product Ids</h2><span id='topic+get_daily_client_properties'></span>

<h3>Description</h3>

<p>Returns the list of daily client properties for all the client Ids
installed during a user provided date range for all the Product Ids. In
order to decrease how much is returned only the first date for a property
value is returned. For example, if Property A had value 1 for 3 days, then
value 2 for 2 days, then value 1 again on day 6, it will return the day 1
value of 1, day 4 value of 2, and day 6 value of 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_daily_client_properties(
  rev_product_ids,
  product_properties_df,
  desired_properties,
  installed_start_date,
  installed_end_date,
  daily_start_date,
  daily_end_date,
  chatty = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_daily_client_properties_+3A_rev_product_ids">rev_product_ids</code></td>
<td>
<p>A vector of Revenera product id.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_product_properties_df">product_properties_df</code></td>
<td>
<p>Data frame with available properties
for all product ids. Can obtain with the get_product_properties function.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_desired_properties">desired_properties</code></td>
<td>
<p>The property names of the metadata you want
to collect.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_installed_start_date">installed_start_date</code></td>
<td>
<p>Date object for the starting date of
product installations.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_installed_end_date">installed_end_date</code></td>
<td>
<p>Date object for the ending date of
product installations.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_daily_start_date">daily_start_date</code></td>
<td>
<p>Date object for the starting date of desired
properties of the product.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_daily_end_date">daily_end_date</code></td>
<td>
<p>Date object for the ending date of desired
properties of the product.</p>
</td></tr>
<tr><td><code id="get_daily_client_properties_+3A_chatty">chatty</code></td>
<td>
<p>The function can be chatty, sending a message to the console
for every iteration through a product Id. Many API calls may be required
and the console may get very long and it may slow down the execution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended that your username be stored directly in your
code. There are various methods and packages available that are more
secure; this package does not require you to use any one in particular.
</p>
<p>This API call can only return 200 Client Ids at a time. It will take a
long time to execute if you have many Client Ids, as the function will
submit requests to the API repeatedly; this may even result in a timeout
error from the server. In order to provide data for troubleshooting
this function will write a message to the console after each call.
It is recommended that you divert the console output to a text file.
You can do this in multiple ways, including with the sink function (see
example for how to do this).
</p>
<p>For the same reason you are encouraged to break your request into
smaller chunks using the install dates and/or splitting up your
product Ids.
</p>


<h3>Value</h3>

<p>Data frame with first date a property value appears until it changed
for each Client Id.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)
product_ids_list &lt;- c("123", "456", "789")
product_properties &lt;- get_product_properties(product_ids_list)
sink("output_filename.txt") # write out chatty messages to a file
sink(stdout(), type = "message")
daily_client_properties &lt;- get_daily_client_properties(product_ids_list,
  product_properties, c("Property1", "Property2"), 
  installed_start_date = "01-01-2020", installed_end_date = "01-31-2020",
  daily_start_date = "01-01-2020", daily_end_date = "01-31-2020",
  chatty = TRUE
)
sink()

## End(Not run)

</code></pre>

<hr>
<h2 id='get_product_properties'>Get All Properties for a List of Product Ids</h2><span id='topic+get_product_properties'></span>

<h3>Description</h3>

<p>Returns all of the unique properties (standard and custom)
for each product id by property category.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_product_properties(rev_product_ids)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_product_properties_+3A_rev_product_ids">rev_product_ids</code></td>
<td>
<p>A vector of Revenera product id's for which
you want active user data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended that your username be stored directly in your
code. There are various methods and packages available that are more
secure; this package does not require you to use any one in particular.
</p>


<h3>Value</h3>

<p>Data frame with properties and property attributes by
product id.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)
product_ids_list &lt;- c("123", "456", "789")
product_properties &lt;- get_product_properties(product_ids_list)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_raw_data_files'>Get Raw Data Files</h2><span id='topic+get_raw_data_files'></span>

<h3>Description</h3>

<p>Retrieves a list of raw data file exports that are available for a
list of product IDs and the download URL for each file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_raw_data_files(rev_product_ids, days_back)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_raw_data_files_+3A_rev_product_ids">rev_product_ids</code></td>
<td>
<p>A vector of Revenera product id's for which
you want active user data.</p>
</td></tr>
<tr><td><code id="get_raw_data_files_+3A_days_back">days_back</code></td>
<td>
<p>How many days back to go to generate download URLs. Limiting
this, if not all files are needed, will significantly reduce execution time.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Raw data files are an add-on service available through Revenera. If
these files are available they can be downloaded manually from the
user portal, or downloaded via R. This function uses the API to
first retrieve the list of files, and then get the download URL for
each file.
</p>
<p>It is not recommended that your username be stored directly in your
code. There are various methods and packages available that are more
secure; this package does not require you to use any one in particular.
</p>


<h3>Value</h3>

<p>Data frame with available files and URLs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)
product_ids_list &lt;- c("123", "456", "789")
urls_df &lt;- get_raw_data_files(product_ids_list, days_back = 3)
urls &lt;- urls_df %&gt;% pull(download_url)
file_names &lt;-  urls_df %&gt;%   pull(file_name)
file_list &lt;- dplyr::pull(files_df, var = file_name)
dl_and_write &lt;- function(u, f) {
  download.file(u, mode = "wb", destfile = f)
  upload_blob(cont, src = f, dest = paste0("/zip/", f))
  file.remove(f)
}
purrr::map2(urls, file_names, purrr::possibly(dl_and_write, "Download Error"))

## End(Not run)
</code></pre>

<hr>
<h2 id='get_users'>Get Users by Product ID, Type, and Various Date Spans</h2><span id='topic+get_users'></span>

<h3>Description</h3>

<p>For a given period of time (a day, week, or month) Revenera's API
summarizes and returns the number of active users. With this function
you can return daily, weekly, or monthly active users for multiple
product ids.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_users(
  rev_product_ids,
  user_type,
  rev_date_type,
  rev_start_date,
  rev_end_date,
  lost_days = 30,
  lost_reported = "dateLastSeen",
  group_by = "clientId",
  optional_json = ""
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_users_+3A_rev_product_ids">rev_product_ids</code></td>
<td>
<p>A vector of Revenera product id's for which
you want active user data.</p>
</td></tr>
<tr><td><code id="get_users_+3A_user_type">user_type</code></td>
<td>
<p>One of &quot;active,&quot; &quot;new&quot;, or &quot;lost.&quot;</p>
</td></tr>
<tr><td><code id="get_users_+3A_rev_date_type">rev_date_type</code></td>
<td>
<p>Level of aggregation, Revenera will accept
&quot;day&quot;, &quot;week&quot;, or &quot;month&quot;.</p>
</td></tr>
<tr><td><code id="get_users_+3A_rev_start_date">rev_start_date</code></td>
<td>
<p>Date formatted YYYY-MM-DD. Revenera may give
an error if you try to go back too far.</p>
</td></tr>
<tr><td><code id="get_users_+3A_rev_end_date">rev_end_date</code></td>
<td>
<p>Date formatted YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="get_users_+3A_lost_days">lost_days</code></td>
<td>
<p>Required for lost users, the number of consecutive
days of inactivity before a client is considered lost.</p>
</td></tr>
<tr><td><code id="get_users_+3A_lost_reported">lost_reported</code></td>
<td>
<p>Required for lost users, should the lost date
be the first day of inactivity (&quot;dateLastSeen&quot;) or date
client is considered lost (&quot;dateDeclaredLost&quot;).</p>
</td></tr>
<tr><td><code id="get_users_+3A_group_by">group_by</code></td>
<td>
<p>Optional parameter, clientId by default, but can be changed
to a different custom property that Revenera would use to group the data.</p>
</td></tr>
<tr><td><code id="get_users_+3A_optional_json">optional_json</code></td>
<td>
<p>Optional JSON text to add to the request body
for things like global filters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can specify a start and end date but Revenera does not store
an indefinite period of historical data.
</p>
<p>It is not recommended that your username be stored directly in your
code. There are various methods and packages available that are more
secure; this package does not require you to use any one in particular.
</p>
<p>The optional_json parameter is available so that other optional arguments
can be added to the api request. This will require the user to consult
the API documentation. See README for an example.
</p>


<h3>Value</h3>

<p>Data frame with active users for each product id and
unique date within the range
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)
product_ids_list &lt;- c("123", "456", "789")
start_date &lt;- lubridate::floor_date(Sys.Date(), unit = "months") - months(6)
end_date &lt;- Sys.Date() - 1
global_filter &lt;- paste0(
  ",\"globalFilters\":{\"licenseType\":",
  "{\"type\":\"string\",\"value\":\"purchased\"}}"
)
monthly_active_users &lt;- get_users(product_ids_list,
  "active",
  "month",
  start_date,
  end_date,
  optional_json = global_filter
)

## End(Not run)
</code></pre>

<hr>
<h2 id='logout'>Remove authorization cookies (logout).</h2><span id='topic+logout'></span>

<h3>Description</h3>

<p>Use this to remove the current authorization before re-authorizing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logout(rev_username, rev_password)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="logout_+3A_rev_username">rev_username</code></td>
<td>
<p>Revenera username.</p>
</td></tr>
<tr><td><code id="logout_+3A_rev_password">rev_password</code></td>
<td>
<p>Revenera password.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended that these values be stored directly
in your code. There are various methods and packages
available that are more secure; this package does not require
you to use any one in particular.
</p>


<h3>Value</h3>

<p>Nothing (successful logout), or an error message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
revenera_auth(rev_user, rev_pwd)
logout(rev_user, rev_pwd)

## End(Not run)

</code></pre>

<hr>
<h2 id='revenera_auth'>Login and Obtain Revenera API Session Id</h2><span id='topic+revenera_auth'></span>

<h3>Description</h3>

<p>An authorizaton cookie must first be established before querying for data.
This is done using your Revenera username and password. If there is an 
active cookie this function will fail. You must 'logout()' first then
</p>


<h3>Usage</h3>

<pre><code class='language-R'>revenera_auth(rev_username, rev_password)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="revenera_auth_+3A_rev_username">rev_username</code></td>
<td>
<p>Revenera username.</p>
</td></tr>
<tr><td><code id="revenera_auth_+3A_rev_password">rev_password</code></td>
<td>
<p>Revenera password.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended that these values be stored directly
in your code. There are various methods and packages
available that are more secure; this package does not require
you to use any one in particular.
</p>


<h3>Value</h3>

<p>Cookie authorization (which you won't see), or an error message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rev_user &lt;- "my_username"
rev_pwd &lt;- "super_secret"
logout(rev_user, rev_pwd)
Sys.sleep(30)
revenera_auth(rev_user, rev_pwd)

## End(Not run)

</code></pre>

<hr>
<h2 id='stop_quietly'>Stop Function Quietly</h2><span id='topic+stop_quietly'></span>

<h3>Description</h3>

<p>Quit a function execution without printing error messages. The
idea came from a Stack Overflow answer
https://stackoverflow.com/questions/14469522/stop-an-r-program-without-error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stop_quietly()
</code></pre>


<h3>Value</h3>

<p>Exits a function.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

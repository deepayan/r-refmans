<!DOCTYPE html><html lang="en"><head><title>Help for package actLifer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {actLifer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#central_death_rate'><p>Central Death Rate</p></a></li>
<li><a href='#conditional_death_prob'><p>Conditional Probability of Death at Age x</p></a></li>
<li><a href='#conditional_life_prob'><p>Conditional Probability of Survival at Age x</p></a></li>
<li><a href='#input_check'><p>Error Handling Function</p></a></li>
<li><a href='#life_expectancy'><p>Life Expectancy of Age x</p></a></li>
<li><a href='#lifetable'><p>Lifetable Function</p></a></li>
<li><a href='#mortality'><p>A sample mortality data</p></a></li>
<li><a href='#mortality2'><p>A sample mortality data</p></a></li>
<li><a href='#mortality3'><p>A sample mortality data</p></a></li>
<li><a href='#number_to_survive'><p>The Number of People to Survive to Age x</p></a></li>
<li><a href='#person_years'><p>Person Years Lived at Age x</p></a></li>
<li><a href='#prop_to_survive'><p>Proportion to Survive to Age x</p></a></li>
<li><a href='#total_years_lived'><p>Total Years Lived From Age x</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Creating Actuarial Life Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Grace Rade &lt;grade03426@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Contains data and functions that can be used to make 
  actuarial life tables. Each function adds a column to the inputted dataset for
  each intermediate calculation between mortality rate and life expectancy. Users can 
  run any of our functions to complete the life table until that step, or run
  lifetable() to output a full life table that can be customized to remove optional columns. 
  Methods for creating lifetables are as described in Zedstatistics (2021) <a href="https://www.youtube.com/watch?v=Dfe59glNXAQ">https://www.youtube.com/watch?v=Dfe59glNXAQ</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), dplyr (&ge; 1.0.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), tibble (&ge; 3.1.8),
htmltools</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/g-rade/actLifer">https://github.com/g-rade/actLifer</a>
<a href="https://g-rade.github.io/actLifer/">https://g-rade.github.io/actLifer/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-16 18:56:39 UTC; grace.rade</td>
</tr>
<tr>
<td>Author:</td>
<td>Grace Rade <a href="https://orcid.org/0000-0001-5319-1371"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Maeve Tyler-Penny <a href="https://orcid.org/0000-0002-9131-2004"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Julia Ting <a href="https://orcid.org/0009-0001-3838-6653"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-16 21:13:55 UTC</td>
</tr>
</table>
<hr>
<h2 id='central_death_rate'>Central Death Rate</h2><span id='topic+central_death_rate'></span>

<h3>Description</h3>

<p>Adds a new column called CentralDeathRate to the dataset that was input.
This column represents the central death rate of each age group - deaths/population.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>central_death_rate(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="central_death_rate_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="central_death_rate_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="central_death_rate_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="central_death_rate_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame that was input with an added CentralDeathRate column.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function adds a CentralDeathRate column to the dataset
central_death_rate(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='conditional_death_prob'>Conditional Probability of Death at Age x</h2><span id='topic+conditional_death_prob'></span>

<h3>Description</h3>

<p>Adds a new column called ConditionalProbDeath to the dataset that was input.
This column represents the probability of death given the age group for each age group.
In other words, the probability a person in a given age group will die before their next birthday.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conditional_death_prob(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conditional_death_prob_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable</p>
</td></tr>
<tr><td><code id="conditional_death_prob_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be cateogrical</p>
</td></tr>
<tr><td><code id="conditional_death_prob_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="conditional_death_prob_+3A_deaths">deaths</code></td>
<td>
<p>The number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame that was input with an added column, ConditionalProbDeath.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add a ConditionalProbDeath column to the dataset
conditional_death_prob(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='conditional_life_prob'>Conditional Probability of Survival at Age x</h2><span id='topic+conditional_life_prob'></span>

<h3>Description</h3>

<p>Adds a new column called ConditionalProbLife to the dataset that was input.
ConditionalProbLife column contains the probabilities of surviving for each given age group.
In other words, this is the probability of someone surviving to their next birthday.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conditional_life_prob(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conditional_life_prob_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable</p>
</td></tr>
<tr><td><code id="conditional_life_prob_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be cateogrical</p>
</td></tr>
<tr><td><code id="conditional_life_prob_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="conditional_life_prob_+3A_deaths">deaths</code></td>
<td>
<p>The number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataset that was input with added columns ConditionalProbDeath and ConditionalProbLife.
In other words, we are doing the &quot;steps&quot; up to the conditional probability of survival.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add the ConditionalProbDeath and ConditionalProbLife columns
# to the dataset
conditional_life_prob(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='input_check'>Error Handling Function</h2><span id='topic+input_check'></span>

<h3>Description</h3>

<p>Checks inputs data, age, pop, and deaths to make sure they are valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>input_check(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="input_check_+3A_data">data</code></td>
<td>
<p>data frame input in the upper function</p>
</td></tr>
<tr><td><code id="input_check_+3A_age">age</code></td>
<td>
<p>age string or character input in the upper function</p>
</td></tr>
<tr><td><code id="input_check_+3A_pop">pop</code></td>
<td>
<p>pop string or character input in the upper function</p>
</td></tr>
<tr><td><code id="input_check_+3A_deaths">deaths</code></td>
<td>
<p>deaths string or character input in the upper function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with numeric pop and deaths columns
</p>

<hr>
<h2 id='life_expectancy'>Life Expectancy of Age x</h2><span id='topic+life_expectancy'></span>

<h3>Description</h3>

<p>Adds a new column called LifeExpectancy to the dataset that was input.
LifeExpectancy is how many more years we expect a person of age x to live beyond
their current age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>life_expectancy(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="life_expectancy_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="life_expectancy_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="life_expectancy_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="life_expectancy_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataset that was input with the added columns:
ConditionalProbDeath, ConditionalProbLife, NumberToSurvive, PersonYears, TotalYears, and LifeExpectancy.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add the ConditionalProbDeath, ConditionalProbLife,
# NumberToSurvive, PropToSurvive, PersonYears, TotalYears, and LifeExpectancy
# columns to the dataset.
# This will be a full lifetable
life_expectancy(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='lifetable'>Lifetable Function</h2><span id='topic+lifetable'></span>

<h3>Description</h3>

<p>Gives user more control over their lifetable compared to the life_expectancy() function.
Allows the user to add in the central death rate and proportion surviving to age x.
Allows the user to omit accessory columns which are used to calculate life expectancy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lifetable(
  data,
  age,
  pop,
  deaths,
  includeAllSteps = TRUE,
  includeCDR = TRUE,
  includePS = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lifetable_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="lifetable_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="lifetable_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="lifetable_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
<tr><td><code id="lifetable_+3A_includeallsteps">includeAllSteps</code></td>
<td>
<p>If false, will only include the proportion surviving to age x and life expectancy for age x</p>
</td></tr>
<tr><td><code id="lifetable_+3A_includecdr">includeCDR</code></td>
<td>
<p>If true, will include the central death rate for each age group</p>
</td></tr>
<tr><td><code id="lifetable_+3A_includeps">includePS</code></td>
<td>
<p>If true, will include the proportion surviving for each age group</p>
</td></tr>
<tr><td><code id="lifetable_+3A_...">...</code></td>
<td>
<p>Other optional grouping variables (can be race, gender, etc.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Lifetable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Running lifetable() and choosing not to include CentralDeathRate and
# ProportionToSurvive (optional columns) in the output dataset

lifetable(mortality2, "age_group", "population", "deaths", FALSE, TRUE, TRUE)
</code></pre>

<hr>
<h2 id='mortality'>A sample mortality data</h2><span id='topic+mortality'></span>

<h3>Description</h3>

<p>A data extract takes from the CDC Wonder database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mortality
</code></pre>


<h3>Format</h3>

<p>A data frame with 85 rows of 3 columns representing the US population
at mulit-year different age groups with which we use to make a life table.
This data is from the year 2018
</p>

<dl>
<dt>age_group</dt><dd><p>Categorical variable identifying each age group</p>
</dd>
<dt>deaths</dt><dd><p>the mid-year number of deaths in each age group</p>
</dd>
<dt>population</dt><dd><p>the US population of each age group</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://wonder.cdc.gov">https://wonder.cdc.gov</a>
</p>

<hr>
<h2 id='mortality2'>A sample mortality data</h2><span id='topic+mortality2'></span>

<h3>Description</h3>

<p>A data extract taken from the CDC Wonder database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mortality2
</code></pre>


<h3>Format</h3>

<p>A data frame with 85 rows of 3 columns representing the deaths and US
population at each single-year age group with which we can use to make a life table.
This data is from the year 2016.
</p>

<dl>
<dt>age_group</dt><dd><p>Categorical variable identifying each age group</p>
</dd>
<dt>deaths</dt><dd><p>the mid-year number of deaths in each age group</p>
</dd>
<dt>population</dt><dd><p>the US population of each age group</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://wonder.cdc.gov/ucd-icd10.html">https://wonder.cdc.gov/ucd-icd10.html</a>
</p>

<hr>
<h2 id='mortality3'>A sample mortality data</h2><span id='topic+mortality3'></span>

<h3>Description</h3>

<p>A data extract taken from the CDC Wonder database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mortality3
</code></pre>


<h3>Format</h3>

<p>A data frame with 170 rows of 4 columns representing the deaths and US
population at each single-year age group for each sex with which we can use to make a life table.
This data is from the year 2016.
</p>

<dl>
<dt>age_group</dt><dd><p>Categorical variable identifying each age group</p>
</dd>
<dt>deaths</dt><dd><p>the mid-year number of deaths in each age group</p>
</dd>
<dt>population</dt><dd><p>the US population of each age group</p>
</dd>
<dt>gender</dt><dd><p>a categroical variable grouping the data into male and female</p>
</dd>
</dl>



<h3>Source</h3>

<p>&lt;https://wonder.cdc.gov
</p>

<hr>
<h2 id='number_to_survive'>The Number of People to Survive to Age x</h2><span id='topic+number_to_survive'></span>

<h3>Description</h3>

<p>Adds a new column called NumberToSurvive to the dataset that was input.
NumberToSurvive represents the number of people living at the beginning of the given age interval,
using an arbitrary 100,000 people for the first age group in the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>number_to_survive(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="number_to_survive_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="number_to_survive_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="number_to_survive_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="number_to_survive_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataset that was input with added columns:
ConditionalProbDeath, ConditionalProbLife, and NumberToSurvive.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add the ConditionalProbDeath, ConditionalProbLife, and
# NumberToSurvive columns to the dataset
number_to_survive(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='person_years'>Person Years Lived at Age x</h2><span id='topic+person_years'></span>

<h3>Description</h3>

<p>Adds a new column called PersonYears to the dataset that was input.
PersonYears represents the number of years lived at age x based on the number surviving to age x.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>person_years(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="person_years_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="person_years_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="person_years_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="person_years_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataset that was input with the added columns:
ConditionalProbDeath, ConditionalProbLife, NumberToSurvive, PropToSurvive, PersonYears.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add the ConditionalProbDeath, ConditionalProbLife,
# NumberToSurvive, PropToSurvive, and PersonYears columns to the dataset
person_years(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='prop_to_survive'>Proportion to Survive to Age x</h2><span id='topic+prop_to_survive'></span>

<h3>Description</h3>

<p>Adds a new column called PropToSurvive to the dataset that was input.
PropToSurvive is the proportion surviving to age x
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_to_survive(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prop_to_survive_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="prop_to_survive_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="prop_to_survive_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="prop_to_survive_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame that was input with columns for steps up to proportion surviving to age x included.
That is, the original data with the following added columns:
ConditionalProbDeath, ConditionalProbLife, NumberToSurvive, PropToSurvive
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add the ConditionalProbDeath, ConditionalProbLife,
# NumberToSbrvivem and PropToSurvive columns to the dataset
prop_to_survive(mortality2, "age_group", "population", "deaths")
</code></pre>

<hr>
<h2 id='total_years_lived'>Total Years Lived From Age x</h2><span id='topic+total_years_lived'></span>

<h3>Description</h3>

<p>Adds a new column called TotalYears to the dataset that was input.
TotalYears is the number of years lived from age zero to age x.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>total_years_lived(data, age, pop, deaths)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="total_years_lived_+3A_data">data</code></td>
<td>
<p>The mortality dataset, includes an age grouping variable,</p>
</td></tr>
<tr><td><code id="total_years_lived_+3A_age">age</code></td>
<td>
<p>The age grouping variable, must be categorical</p>
</td></tr>
<tr><td><code id="total_years_lived_+3A_pop">pop</code></td>
<td>
<p>Population of each age group, must be numeric</p>
</td></tr>
<tr><td><code id="total_years_lived_+3A_deaths">deaths</code></td>
<td>
<p>The midyear number of deaths at each age group, must be numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataset that was input with the added columns:
ConditionalProbDeath, ConditionalProbLife, NumberToSurvive, PersonYears, and TotalYears.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This function will add the ConditionalProbDeath, ConditionalProbLife,
# NumberToSurvive, PropToSurvive, PersonYearsm and TotalYears columns to the
# dataset
total_years_lived(mortality2, "age_group", "population", "deaths")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

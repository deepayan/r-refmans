<!DOCTYPE html><html><head><title>Help for package SimilaR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SimilaR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#SimilaR_fromDirectory'><p>Quantify the Similarity of Pairs of R Functions</p></a></li>
<li><a href='#SimilaR-package'><p>The SimilaR Package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-06-26</td>
</tr>
<tr>
<td>Title:</td>
<td>R Source Code Similarity Evaluation</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of a novel method to quantify the similarity
    of the code-base of R functions by means of program dependence graphs.
    Possible use cases include detection of code clones for improving
    software quality and of plagiarism amongst students' assignments.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bartoszukm/SimilaR">https://github.com/bartoszukm/SimilaR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bartoszukm/SimilaR/issues">https://github.com/bartoszukm/SimilaR/issues</a></td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.0), stringi</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp (&ge; 0.12.0), BH</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++11</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-26 02:12:53 UTC; gagolews</td>
</tr>
<tr>
<td>Author:</td>
<td>Maciej Bartoszuk <a href="https://orcid.org/0000-0001-6088-8273"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Marek Gagolewski <a href="https://orcid.org/0000-0003-0637-6028"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Maciej Bartoszuk &lt;bartoszuk@rexamine.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-26 09:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='SimilaR_fromDirectory'>Quantify the Similarity of Pairs of R Functions</h2><span id='topic+SimilaR_fromDirectory'></span><span id='topic+SimilaR_fromTwoFunctions'></span>

<h3>Description</h3>

<p>An implementation of the SimilaR algorithm - a method to quantify
the similarity of R functions based on Program Dependence Graphs.
Possible use cases include detection of code clones for improving
software quality and of plagiarism among students' homework assignments.
</p>
<p><code>SimilaR_fromDirectory</code> scans for function definitions in all <code>*.R</code>
source files in a given directory and performs pairwise comparisons.
</p>
<p><code>SimilaR_fromTwoFunctions</code> compares the code-base of two function objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimilaR_fromDirectory(
  dirname,
  returnType = c("data.frame", "matrix"),
  fileTypes = c("function", "file"),
  aggregation = c("tnorm", "sym", "both")
)

SimilaR_fromTwoFunctions(
  function1,
  function2,
  functionNames,
  returnType = c("data.frame", "matrix"),
  aggregation = c("tnorm", "sym", "both")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SimilaR_fromDirectory_+3A_dirname">dirname</code></td>
<td>
<p>path to a directory with  source files named <code>*.R</code></p>
</td></tr>
<tr><td><code id="SimilaR_fromDirectory_+3A_returntype">returnType</code></td>
<td>
<p><code>"data.frame"</code> or <code>"matrix"</code>; indicates the output object type</p>
</td></tr>
<tr><td><code id="SimilaR_fromDirectory_+3A_filetypes">fileTypes</code></td>
<td>
<p><code>"function"</code> or <code>"file"</code>; indicates which pairs
of functions extracted from the source files in <code>dirname</code> should be compared;
<code>"function"</code> compares each function against every other function;
<code>"file"</code> compares only the functions defined in different source files</p>
</td></tr>
<tr><td><code id="SimilaR_fromDirectory_+3A_aggregation">aggregation</code></td>
<td>
<p><code>"sym"</code>, <code>"tnorm"</code>, or <code>"both"</code>;
specifies which model of similarity asymmetry should be used;
<code>"sym"</code> means that one (overall) similarity degree is computed;
<code>"both"</code> evaluates and returns the degree to which the first function
in a function pair is similar (&quot;contained in&quot;, &quot;is subset of&quot;) to the
second one, and, separately, the extent to which the second function is
similar to the first one;
<code>"tnorm"</code> computes two similarity values and aggregates them
to a single number</p>
</td></tr>
<tr><td><code id="SimilaR_fromDirectory_+3A_function1">function1</code></td>
<td>
<p>a first function object to compare</p>
</td></tr>
<tr><td><code id="SimilaR_fromDirectory_+3A_function2">function2</code></td>
<td>
<p>a second function object to compare</p>
</td></tr>
<tr><td><code id="SimilaR_fromDirectory_+3A_functionnames">functionNames</code></td>
<td>
<p>optional functions' names to be included in the output</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that, depending on the <code>"aggregation"</code> argument, the
method may either return a single value, representing the overall
(symmetric) similarity between a pair of functions, or
or two different values, measuring the (non-symmetric) degrees of &quot;subsethood&quot;.
The user might possibly wish to aggregate these two values by means of some
custom aggregation function.
</p>


<h3>Value</h3>

<p>If <code>returnType</code> is equal to &quot;data.frame&quot;, a data frame
that gives the information about the similarity of the inspected
pairs of functions, row by row, is returned.
The data frame has the following columns:
</p>

<ul>
<li> <p><code>name1</code> - the name of the first function in a pair
</p>
</li>
<li> <p><code>name2</code> - the name of the second function in a pair
</p>
</li>
<li> <p><code>SimilaR</code> - values in the [0,1] interval as returned by the SimilaR algorithm;
1 denotes that the functions are equivalent, while 0 means that they are totally dissimilar;
if <code>aggregation</code> is equal to <code>"both"</code>, two similarity values are given:
the one with suffix <code>"12"</code> quantifies the degree to which the first function is a subset of the second,
and the another one with suffix <code>"21"</code> measures the extent to which the second function is a subset of the first one
</p>
</li>
<li> <p><code>decision</code> - 0 or 1; 1 means that two functions are classified as similar and 0 otherwise.
</p>
</li></ul>

<p>Rows in the data frame are sorted with respect to the <code>SimilaR</code>
column (descending). Of course, <code>SimilaR_fromTwoFunctions</code> gives
a data frame with only one row.
</p>
<p>If <code>returnType</code> is equal to <code>"matrix"</code>, a square matrix
is returned. The element at index (i,j) equals to the similarity degree
between the i-th and the j-th function.
When <code>aggregation</code> is equal to <code>"sym"</code> or <code>"tnorm"</code>,
the matrix is symmetric.
Column names and row names of the matrix are generated from the names
of the functions being compared.
</p>


<h3>References</h3>

<p>Bartoszuk M., A source code similarity assessment system for functional
programming languages based on machine learning and data aggregation methods,
Ph.D. thesis, Warsaw University of Technology, Warsaw, Poland, 2018.
</p>
<p>Bartoszuk M., Gagolewski M., <em>Binary aggregation functions in software plagiarism detection</em>,
In: <em>Proc. FUZZ-IEEE'17</em>, IEEE, 2017.
</p>
<p>Bartoszuk M., Beliakov G., Gagolewski M., James S., <em>Fitting aggregation functions to data: Part II - Idempotentization</em>,
In: Carvalho J.P. et al. (Eds.),
<em>Information Processing and Management of Uncertainty in Knowledge-Based Systems,
Part II (Communications in Computer and Information Science 611)</em>,
Springer, 2016, pp. 780-789. doi:10.1007/978-3-319-40581-0_63.
</p>
<p>Bartoszuk M., Beliakov G., Gagolewski M., James S., <em>Fitting aggregation functions to data: Part I - Linearization and regularization</em>,
In: Carvalho J.P. et al. (Eds.), <em>Information Processing and Management of Uncertainty in Knowledge-Based Systems, Part II
(Communications in Computer and Information Science 611)</em>,
Springer, 2016, pp. 767-779. doi:10.1007/978-3-319-40581-0_62.
</p>
<p>Bartoszuk M., Gagolewski M., <em>Detecting similarity of R functions via a
fusion of multiple heuristic methods</em>, In: Alonso J.M., Bustince H., Reformat
M. (Eds.), <em>Proc. IFSA/EUSFLAT 2015</em>, Atlantis Press, 2015, pp. 419-426.
</p>
<p>Bartoszuk M., Gagolewski M., <em>A fuzzy R code similarity detection algorithm</em>,
In: Laurent A. et al. (Eds.), <em>Information Processing and Management of Uncertainty in Knowledge-Based Systems,
Part III (CCIS 444)</em>, Springer-Verlag, Heidelberg, 2014, pp. 21-30.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f1 &lt;- function(x) {x*x}
f2 &lt;- function(x,y) {x+y}

## A data frame is returned: 1 row, 4 columns
SimilaR_fromTwoFunctions(f1,
                         f2,
                         returnType = "data.frame",
                         aggregation = "tnorm")

## Custom names in the returned data frame
SimilaR_fromTwoFunctions(f1,
                         f2,
                         functionNames = c("first", "second"),
                         returnType = "data.frame",
                         aggregation = "tnorm")

## A data frame is returned: 1 row, 5 columns
SimilaR_fromTwoFunctions(f1,
                         f2,
                         returnType = "data.frame",
                         aggregation = "both")

## A non-symmetric square matrix is returned,
## with 2 rows and 2 columns
SimilaR_fromTwoFunctions(f1,
                         f2,
                         returnType = "matrix",
                         aggregation = "both")


## Typical example, where we wish to compare the functions from different files,
## but we do not want to compare the functions from the same file.
## There will be one value describing the overall similarity level.
SimilaR_fromDirectory(system.file("testdata","data",package="SimilaR"),
                                 returnType = "data.frame",
                                 fileTypes="file",
                                 aggregation = "sym")

## In this example we want to compare every pair of functions: even those
## defined in the same file. Two (non-symmetric) similarity degrees
## are reported.
SimilaR_fromDirectory(system.file("testdata","data2",package="SimilaR"),
                      returnType = "data.frame",
                      fileTypes="function",
                      aggregation = "both")


</code></pre>

<hr>
<h2 id='SimilaR-package'>The SimilaR Package</h2><span id='topic+SimilaR-package'></span><span id='topic+SimilaR'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+SimilaR_fromDirectory">SimilaR_fromDirectory</a>()</code> for details.
</p>


<h3>Author(s)</h3>

<p>Maciej Bartoszuk, Marek Gagolewski
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

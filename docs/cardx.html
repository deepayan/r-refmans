<!DOCTYPE html><html><head><title>Help for package cardx</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cardx}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ard_chisqtest'><p>ARD Chi-squared Test</p></a></li>
<li><a href='#ard_fishertest'><p>ARD Fisher's Exact Test</p></a></li>
<li><a href='#ard_kruskaltest'><p>ARD Kruskal-Wallis Test</p></a></li>
<li><a href='#ard_mcnemartest'><p>ARD McNemar's Test</p></a></li>
<li><a href='#ard_moodtest'><p>ARD Mood Test</p></a></li>
<li><a href='#ard_proportion_ci'><p>ARD Proportion Confidence Intervals</p></a></li>
<li><a href='#ard_regression'><p>Regression ARD</p></a></li>
<li><a href='#ard_ttest'><p>ARD t-test</p></a></li>
<li><a href='#ard_wilcoxtest'><p>ARD Wilcoxon Rank-Sum Test</p></a></li>
<li><a href='#cardx-package'><p>cardx: Extra Analysis Results Data Utilities</p></a></li>
<li><a href='#proportion_ci'><p>Functions for Calculating Proportion Confidence Intervals</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Extra Analysis Results Data Utilities</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Create extra Analysis Results Data (ARD) summary objects.
    The package supplements the simple ARD functions from the 'cards'
    package, exporting functions to put statistical results in the ARD
    format. These objects are used and re-used to construct summary
    tables, visualizations, and written reports.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/insightsengineering/cardx">https://github.com/insightsengineering/cardx</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/cardx/issues">https://github.com/insightsengineering/cardx/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cards (&ge; 0.1.0), cli (&ge; 3.6.1), dplyr (&ge; 1.1.2), glue (&ge;
1.6.2), rlang (&ge; 1.1.1), tidyr (&ge; 1.3.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>broom (&ge; 1.0.5), broom.helpers (&ge; 1.13.0), spelling,
testthat (&ge; 3.2.0), withr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>insightsengineering/nesttemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-15 17:35:50 UTC; sjobergd</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Sjoberg [aut, cre],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Sjoberg &lt;danield.sjoberg@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-18 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ard_chisqtest'>ARD Chi-squared Test</h2><span id='topic+ard_chisqtest'></span>

<h3>Description</h3>

<p>Analysis results data for Pearson's Chi-squared Test.
Calculated with <code>chisq.test(x = data[[variable]], y = data[[by]], ...)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_chisqtest(data, by, variable, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_chisqtest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame.</p>
</td></tr>
<tr><td><code id="ard_chisqtest_+3A_by">by</code>, <code id="ard_chisqtest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column names to compare</p>
</td></tr>
<tr><td><code id="ard_chisqtest_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>fisher.test(...)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL |&gt;
  ard_chisqtest(by = "ARM", variable = "AGEGR1")
</code></pre>

<hr>
<h2 id='ard_fishertest'>ARD Fisher's Exact Test</h2><span id='topic+ard_fishertest'></span>

<h3>Description</h3>

<p>Analysis results data for Fisher's Exact Test.
Calculated with <code>fisher.test(x = data[[variable]], y = data[[by]], ...)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_fishertest(data, by, variable, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_fishertest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame.</p>
</td></tr>
<tr><td><code id="ard_fishertest_+3A_by">by</code>, <code id="ard_fishertest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column names to compare</p>
</td></tr>
<tr><td><code id="ard_fishertest_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>fisher.test(...)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL[1:30, ] |&gt;
  ard_fishertest(by = "ARM", variable = "AGEGR1")
</code></pre>

<hr>
<h2 id='ard_kruskaltest'>ARD Kruskal-Wallis Test</h2><span id='topic+ard_kruskaltest'></span>

<h3>Description</h3>

<p>Analysis results data for Kruskal-Wallis Rank Sum Test.
</p>
<p>Calculated with <code>kruskal.test(data[[variable]], data[[by]], ...)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_kruskaltest(data, by, variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_kruskaltest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame.</p>
</td></tr>
<tr><td><code id="ard_kruskaltest_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to compare by</p>
</td></tr>
<tr><td><code id="ard_kruskaltest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to be compared</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL |&gt;
  ard_kruskaltest(by = "ARM", variable = "AGE")
</code></pre>

<hr>
<h2 id='ard_mcnemartest'>ARD McNemar's Test</h2><span id='topic+ard_mcnemartest'></span>

<h3>Description</h3>

<p>Analysis results data for McNemar's statistical test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_mcnemartest(data, by, variable, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_mcnemartest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame. See below for details.</p>
</td></tr>
<tr><td><code id="ard_mcnemartest_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to compare by.</p>
</td></tr>
<tr><td><code id="ard_mcnemartest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to be compared.</p>
</td></tr>
<tr><td><code id="ard_mcnemartest_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>stats::mcnemar.test(...)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the <code>ard_mcnemartest()</code> function, the data is expected to be one row per subject.
The data is passed as <code>stats::mcnemar.test(x = data[[variable]], y = data[[by]], ...)</code>.
Please use <code>table(x = data[[variable]], y = data[[by]])</code> to check the contingency table.
</p>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL |&gt;
  ard_mcnemartest(by = "SEX", variable = "EFFFL")

</code></pre>

<hr>
<h2 id='ard_moodtest'>ARD Mood Test</h2><span id='topic+ard_moodtest'></span>

<h3>Description</h3>

<p>Analysis results data for Mood two sample test of scale. Note this not to be confused with
the Brown-Mood test of medians.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_moodtest(data, by, variable, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_moodtest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame. See below for details.</p>
</td></tr>
<tr><td><code id="ard_moodtest_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to compare by.</p>
</td></tr>
<tr><td><code id="ard_moodtest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to be compared.</p>
</td></tr>
<tr><td><code id="ard_moodtest_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>mood.test(...)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the <code>ard_moodtest()</code> function, the data is expected to be one row per subject.
The data is passed as <code>mood.test(data[[variable]] ~ data[[by]], ...)</code>.
</p>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL |&gt;
  ard_moodtest(by = "SEX", variable = "AGE")
</code></pre>

<hr>
<h2 id='ard_proportion_ci'>ARD Proportion Confidence Intervals</h2><span id='topic+ard_proportion_ci'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a><br />
Calculate confidence intervals for proportions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_proportion_ci(
  data,
  variables,
  by = dplyr::group_vars(data),
  conf.level = 0.95,
  strata,
  weights = NULL,
  max.iterations = 10,
  method = c("waldcc", "wald", "clopper-pearson", "wilson", "wilsoncc", "strat_wilson",
    "strat_wilsoncc", "agresti-coull", "jeffreys")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_proportion_ci_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame</p>
</td></tr>
<tr><td><code id="ard_proportion_ci_+3A_variables">variables</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
columns to include in summaries. Columns must be class <code style="white-space: pre;">&#8288;&lt;logical&gt;&#8288;</code>
or <code style="white-space: pre;">&#8288;&lt;numeric&gt;&#8288;</code> values coded as <code>c(0, 1)</code>.</p>
</td></tr>
<tr><td><code id="ard_proportion_ci_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
columns to stratify calculations by</p>
</td></tr>
<tr><td><code id="ard_proportion_ci_+3A_conf.level">conf.level</code></td>
<td>
<p>(<code>numeric</code>)<br />
a scalar in <code style="white-space: pre;">&#8288;(0, 1)&#8288;</code> indicating the confidence level.
Default is <code>0.95</code></p>
</td></tr>
<tr><td><code id="ard_proportion_ci_+3A_strata">strata</code>, <code id="ard_proportion_ci_+3A_weights">weights</code>, <code id="ard_proportion_ci_+3A_max.iterations">max.iterations</code></td>
<td>
<p>arguments passed to <code>proportion_ci_strat_wilson()</code>,
when <code>method='strat_wilson'</code></p>
</td></tr>
<tr><td><code id="ard_proportion_ci_+3A_method">method</code></td>
<td>
<p>(<code>string</code>)<br />
string indicating the type of confidence interval to calculate.
Must be one of 'waldcc', 'wald', 'clopper-pearson', 'wilson', 'wilsoncc', 'strat_wilson', 'strat_wilsoncc', 'agresti-coull', 'jeffreys'.
See <code>?proportion_ci</code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ard_proportion_ci(mtcars, variables = c(vs, am), method = "wilson")
</code></pre>

<hr>
<h2 id='ard_regression'>Regression ARD</h2><span id='topic+ard_regression'></span><span id='topic+ard_regression.default'></span>

<h3>Description</h3>

<p>Function takes a regression model object and converts it to a ARD
structure using the <code>broom.helpers</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_regression(x, ...)

## Default S3 method:
ard_regression(x, tidy_fun = broom.helpers::tidy_with_broom_or_parameters, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_regression_+3A_x">x</code></td>
<td>
<p>regression model object</p>
</td></tr>
<tr><td><code id="ard_regression_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>broom.helpers::tidy_plus_plus()</code></p>
</td></tr>
<tr><td><code id="ard_regression_+3A_tidy_fun">tidy_fun</code></td>
<td>
<p>(<code>function</code>)<br />
a tidier. Default is <code><a href="broom.helpers.html#topic+tidy_with_broom_or_parameters">broom.helpers::tidy_with_broom_or_parameters</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lm(AGE ~ ARM, data = cards::ADSL) |&gt;
  ard_regression(add_estimate_to_reference_rows = TRUE)
</code></pre>

<hr>
<h2 id='ard_ttest'>ARD t-test</h2><span id='topic+ard_ttest'></span><span id='topic+ard_paired_ttest'></span>

<h3>Description</h3>

<p>Analysis results data for paired and non-paired t-tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_ttest(data, by, variable, ...)

ard_paired_ttest(data, by, variable, id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_ttest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame. See below for details.</p>
</td></tr>
<tr><td><code id="ard_ttest_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to compare by</p>
</td></tr>
<tr><td><code id="ard_ttest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to be compared</p>
</td></tr>
<tr><td><code id="ard_ttest_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>t.test(...)</code></p>
</td></tr>
<tr><td><code id="ard_ttest_+3A_id">id</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name of the subject or participant ID</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the <code>ard_ttest()</code> function, the data is expected to be one row per subject.
The data is passed as <code>t.test(data[[variable]] ~ data[[by]], paired = FALSE, ...)</code>.
</p>
<p>For the <code>ard_paired_ttest()</code> function, the data is expected to be one row
per subject per by level. Before the t-test is calculated, the data are
reshaped to a wide format to be one row per subject.
The data are then passed as
<code style="white-space: pre;">&#8288;t.test(x = data_wide[[&lt;by level 1&gt;]], y = data_wide[[&lt;by level 2&gt;]], paired = TRUE, ...)&#8288;</code>.
</p>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL |&gt;
  dplyr::filter(ARM %in% c("Placebo", "Xanomeline High Dose")) |&gt;
  ard_ttest(by = ARM, variable = AGE)

# constructing a paired data set,
# where patients receive both treatments
cards::ADSL[c("ARM", "AGE")] |&gt;
  dplyr::filter(ARM %in% c("Placebo", "Xanomeline High Dose")) |&gt;
  dplyr::mutate(.by = ARM, USUBJID = dplyr::row_number()) |&gt;
  dplyr::arrange(USUBJID, ARM) |&gt;
  ard_paired_ttest(by = ARM, variable = AGE, id = USUBJID)
</code></pre>

<hr>
<h2 id='ard_wilcoxtest'>ARD Wilcoxon Rank-Sum Test</h2><span id='topic+ard_wilcoxtest'></span><span id='topic+ard_paired_wilcoxtest'></span>

<h3>Description</h3>

<p>Analysis results data for paired and non-paired Wilcoxon Rank-Sum tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ard_wilcoxtest(data, by, variable, ...)

ard_paired_wilcoxtest(data, by, variable, id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ard_wilcoxtest_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br />
a data frame. See below for details.</p>
</td></tr>
<tr><td><code id="ard_wilcoxtest_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to compare by.</p>
</td></tr>
<tr><td><code id="ard_wilcoxtest_+3A_variable">variable</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name to be compared.</p>
</td></tr>
<tr><td><code id="ard_wilcoxtest_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>wilcox.test(...)</code></p>
</td></tr>
<tr><td><code id="ard_wilcoxtest_+3A_id">id</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
column name of the subject or participant ID.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the <code>ard_wilcoxtest()</code> function, the data is expected to be one row per subject.
The data is passed as <code>wilcox.test(data[[variable]] ~ data[[by]], paired = FALSE, ...)</code>.
</p>
<p>For the <code>ard_paired_wilcoxtest()</code> function, the data is expected to be one row
per subject per by level. Before the test is calculated, the data are
reshaped to a wide format to be one row per subject.
The data are then passed as
<code style="white-space: pre;">&#8288;wilcox.test(x = data_wide[[&lt;by level 1&gt;]], y = data_wide[[&lt;by level 2&gt;]], paired = TRUE, ...)&#8288;</code>.
</p>


<h3>Value</h3>

<p>ARD data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cards::ADSL |&gt;
  dplyr::filter(ARM %in% c("Placebo", "Xanomeline High Dose")) |&gt;
  ard_wilcoxtest(by = "ARM", variable = "AGE")

# constructing a paired data set,
# where patients receive both treatments
cards::ADSL[c("ARM", "AGE")] |&gt;
  dplyr::filter(ARM %in% c("Placebo", "Xanomeline High Dose")) |&gt;
  dplyr::mutate(.by = ARM, USUBJID = dplyr::row_number()) |&gt;
  dplyr::arrange(USUBJID, ARM) |&gt;
  ard_paired_wilcoxtest(by = ARM, variable = AGE, id = USUBJID)
</code></pre>

<hr>
<h2 id='cardx-package'>cardx: Extra Analysis Results Data Utilities</h2><span id='topic+cardx'></span><span id='topic+cardx-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Create extra Analysis Results Data (ARD) summary objects. The package supplements the simple ARD functions from the 'cards' package, exporting functions to put statistical results in the ARD format. These objects are used and re-used to construct summary tables, visualizations, and written reports.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel Sjoberg <a href="mailto:danield.sjoberg@gmail.com">danield.sjoberg@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/insightsengineering/cardx">https://github.com/insightsengineering/cardx</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/cardx/issues">https://github.com/insightsengineering/cardx/issues</a>
</p>
</li></ul>


<hr>
<h2 id='proportion_ci'>Functions for Calculating Proportion Confidence Intervals</h2><span id='topic+proportion_ci'></span><span id='topic+proportion_ci_wald'></span><span id='topic+proportion_ci_wilson'></span><span id='topic+proportion_ci_clopper_pearson'></span><span id='topic+proportion_ci_agresti_coull'></span><span id='topic+proportion_ci_jeffreys'></span><span id='topic+proportion_ci_strat_wilson'></span>

<h3>Description</h3>

<p>Functions to calculate different proportion confidence intervals for use in <code>ard_proportion()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>proportion_ci_wald(x, conf.level = 0.95, correct = FALSE)

proportion_ci_wilson(x, conf.level = 0.95, correct = FALSE)

proportion_ci_clopper_pearson(x, conf.level = 0.95)

proportion_ci_agresti_coull(x, conf.level = 0.95)

proportion_ci_jeffreys(x, conf.level = 0.95)

proportion_ci_strat_wilson(
  x,
  strata,
  weights = NULL,
  conf.level = 0.95,
  max.iterations = 10L,
  correct = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="proportion_ci_+3A_x">x</code></td>
<td>
<p>vector of a binary values, i.e. a logical vector, or numeric with values <code>c(0, 1)</code></p>
</td></tr>
<tr><td><code id="proportion_ci_+3A_conf.level">conf.level</code></td>
<td>
<p>(<code>numeric</code>)<br />
a scalar in <code style="white-space: pre;">&#8288;(0, 1)&#8288;</code> indicating the confidence level.
Default is <code>0.95</code></p>
</td></tr>
<tr><td><code id="proportion_ci_+3A_correct">correct</code></td>
<td>
<p>(<code>flag</code>)<br /> include the continuity correction. For further information, see for example
<code><a href="stats.html#topic+prop.test">stats::prop.test()</a></code>.</p>
</td></tr>
<tr><td><code id="proportion_ci_+3A_strata">strata</code></td>
<td>
<p>(<code>factor</code>)<br /> variable with one level per stratum and same length as <code>x</code>.</p>
</td></tr>
<tr><td><code id="proportion_ci_+3A_weights">weights</code></td>
<td>
<p>(<code>numeric</code> or <code>NULL</code>)<br /> weights for each level of the strata. If <code>NULL</code>, they are
estimated using the iterative algorithm that
minimizes the weighted squared length of the confidence interval.</p>
</td></tr>
<tr><td><code id="proportion_ci_+3A_max.iterations">max.iterations</code></td>
<td>
<p>(<code>count</code>)<br /> maximum number of iterations for the iterative procedure used
to find estimates of optimal weights.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Confidence interval of a proportion.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>proportion_ci_wald()</code>: Calculates the Wald interval by following the usual textbook definition
for a single proportion confidence interval using the normal approximation.
</p>
</li>
<li> <p><code>proportion_ci_wilson()</code>: Calculates the Wilson interval by calling <code><a href="stats.html#topic+prop.test">stats::prop.test()</a></code>.
Also referred to as Wilson score interval.
</p>
</li>
<li> <p><code>proportion_ci_clopper_pearson()</code>: Calculates the Clopper-Pearson interval by calling <code><a href="stats.html#topic+binom.test">stats::binom.test()</a></code>.
Also referred to as the <code>exact</code> method.
</p>
</li>
<li> <p><code>proportion_ci_agresti_coull()</code>: Calculates the <code>Agresti-Coull</code> interval (created by <code style="white-space: pre;">&#8288;Alan Agresti&#8288;</code> and <code style="white-space: pre;">&#8288;Brent Coull&#8288;</code>) by
(for 95% CI) adding two successes and two failures to the data and then using the Wald formula to construct a CI.
</p>
</li>
<li> <p><code>proportion_ci_jeffreys()</code>: Calculates the Jeffreys interval, an equal-tailed interval based on the
non-informative Jeffreys prior for a binomial proportion.
</p>
</li>
<li> <p><code>proportion_ci_strat_wilson()</code>: Calculates the stratified Wilson confidence
interval for unequal proportions as described in
Xin YA, Su XG. Stratified Wilson and Newcombe confidence intervals
for multiple binomial proportions. <em>Statistics in Biopharmaceutical Research</em>. 2010;2(3).
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(
  TRUE, TRUE, TRUE, TRUE, TRUE,
  FALSE, FALSE, FALSE, FALSE, FALSE
)

proportion_ci_wald(x, conf.level = 0.9)
proportion_ci_wilson(x, correct = TRUE)
proportion_ci_clopper_pearson(x)
proportion_ci_agresti_coull(x)
proportion_ci_jeffreys(x)
# Stratified Wilson confidence interval with unequal probabilities

set.seed(1)
rsp &lt;- sample(c(TRUE, FALSE), 100, TRUE)
strata_data &lt;- data.frame(
  "f1" = sample(c("a", "b"), 100, TRUE),
  "f2" = sample(c("x", "y", "z"), 100, TRUE),
  stringsAsFactors = TRUE
)
strata &lt;- interaction(strata_data)
n_strata &lt;- ncol(table(rsp, strata)) # Number of strata

proportion_ci_strat_wilson(
  x = rsp, strata = strata,
  conf.level = 0.90
)

# Not automatic setting of weights
proportion_ci_strat_wilson(
  x = rsp, strata = strata,
  weights = rep(1 / n_strata, n_strata),
  conf.level = 0.90
)

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic+starts_with'></span><span id='topic+ends_with'></span><span id='topic+contains'></span><span id='topic+matches'></span><span id='topic+num_range'></span><span id='topic+all_of'></span><span id='topic+any_of'></span><span id='topic+everything'></span><span id='topic+where'></span><span id='topic+last_col'></span><span id='topic+one_of'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code>, <code><a href="dplyr.html#topic+reexports">all_of</a></code>, <code><a href="dplyr.html#topic+reexports">any_of</a></code>, <code><a href="dplyr.html#topic+reexports">contains</a></code>, <code><a href="dplyr.html#topic+reexports">ends_with</a></code>, <code><a href="dplyr.html#topic+reexports">everything</a></code>, <code><a href="dplyr.html#topic+reexports">last_col</a></code>, <code><a href="dplyr.html#topic+reexports">matches</a></code>, <code><a href="dplyr.html#topic+reexports">num_range</a></code>, <code><a href="dplyr.html#topic+reexports">one_of</a></code>, <code><a href="dplyr.html#topic+reexports">starts_with</a></code>, <code><a href="dplyr.html#topic+reexports">where</a></code></p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

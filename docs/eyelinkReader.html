<!DOCTYPE html><html lang="en"><head><title>Help for package eyelinkReader</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {eyelinkReader}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#eyelinkReader'><p>eyelinkReader: Import Gaze Data for EyeLink Eye Tracker</p></a></li>
<li><a href='#.onAttach'><p>Check if the library was compiled</p></a></li>
<li><a href='#.onLoad'><p>Compiles the library linking it to EDF API</p></a></li>
<li><a href='#adjust_message_time'><p>Adjusts message time based on embedded text offset</p></a></li>
<li><a href='#check_consistency_flag'><p>Checks consistency flag, stops if invalid, returns code if valid.</p></a></li>
<li><a href='#check_logical_flag'><p>Checks for validity of a logical flag, stops if not valid</p></a></li>
<li><a href='#check_string_parameter'><p>Checks for validity of a string parameter, stops if not valid</p></a></li>
<li><a href='#check_that_compiled'><p>Checks whether EDF API library was present and</p>
interface was successfully be compiled</a></li>
<li><a href='#compiled_library_status'><p>Status of compiled library</p></a></li>
<li><a href='#compute_cyclopean_samples'><p>Computes cyclopean samples by averaging over binocular data</p></a></li>
<li><a href='#convert_header_codes'><p>Converts integer constants in trial headers to factor with explicit labels</p></a></li>
<li><a href='#convert_NAs'><p>Convert -32767 (missing info) to NA</p></a></li>
<li><a href='#convert_recording_codes'><p>Converts integer constants in recordings to factor with explicit labels</p></a></li>
<li><a href='#extract_AOIs'><p>Extracts rectangular areas of interest (AOI)</p></a></li>
<li><a href='#extract_blinks'><p>Extract blinks</p></a></li>
<li><a href='#extract_display_coords'><p>Extract display coordinates from an event message</p></a></li>
<li><a href='#extract_fixations'><p>Extract fixations</p></a></li>
<li><a href='#extract_saccades'><p>Extract saccades from recorded events</p></a></li>
<li><a href='#extract_triggers'><p>Extract triggers, a custom message type</p></a></li>
<li><a href='#extract_variables'><p>Extract variables</p></a></li>
<li><a href='#eyelinkRecording-class'><p>Class <code>eyelinkRecording</code>.</p></a></li>
<li><a href='#gaze'><p>Imported example.edf, events and samples</p></a></li>
<li><a href='#logical_index_for_sample_attributes'><p>Checks validity of sample attribute vector and returns logical indexes.</p></a></li>
<li><a href='#plot.eyelinkRecording'><p>Plot fixations and saccades for a set of trials</p></a></li>
<li><a href='#print.eyelinkRecording'><p>Print info about <code>eyelinkRecording</code></p></a></li>
<li><a href='#read_edf'><p>Read EDF file with gaze data recorded by SR Research EyeLink eye tracker</p></a></li>
<li><a href='#read_edf_file'><p>Internal function that reads EDF file</p></a></li>
<li><a href='#read_preamble'><p>Reads edf-file preamble</p></a></li>
<li><a href='#read_preamble_str'><p>Reads preamble of the EDF file as a single string.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Import Gaze Data for EyeLink Eye Tracker</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-01-09</td>
</tr>
<tr>
<td>Description:</td>
<td>Import gaze data from  edf files generated by 
  the SR Research <a href="https://www.sr-research.com/">https://www.sr-research.com/</a> EyeLink eye tracker. Gaze data,
  both recorded events and samples, is imported per trial. The package allows to extract
  events of interest, such as saccades, blinks, etc. as well as
  recorded variables and custom events (areas of interest, triggers) into separate tables.
  The package requires EDF API library that can be obtained at <a href="https://www.sr-research.com/support/">https://www.sr-research.com/support/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alexander-pastukhov/eyelinkReader/">https://github.com/alexander-pastukhov/eyelinkReader/</a>,
<a href="https://alexander-pastukhov.github.io/eyelinkReader/">https://alexander-pastukhov.github.io/eyelinkReader/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/alexander-pastukhov/eyelinkReader/issues">https://github.com/alexander-pastukhov/eyelinkReader/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), RcppProgress, rlang</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppProgress</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, fs, purrr, Rcpp, stringr, tidyr, methods, ggplot2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-09 15:43:39 UTC; ba7dr4</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexander Pastukhov
    <a href="https://orcid.org/0000-0002-8738-8591"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexander Pastukhov &lt;pastukhov.alexander@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-09 16:00:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='eyelinkReader'>eyelinkReader: Import Gaze Data for EyeLink Eye Tracker</h2><span id='topic+eyelinkReader-package'></span><span id='topic+eyelinkReader'></span>

<h3>Description</h3>

<p>Imports gaze data recorded by a SR Research EyeLink eye tracker from an EDF file.
Includes options to import events and/or recorded samples and extract
individual events such as saccades, fixations, blinks, and recorded variables.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Alexander Pastukhov <a href="mailto:pastukhov.alexander@gmail.com">pastukhov.alexander@gmail.com</a> (<a href="https://orcid.org/0000-0002-8738-8591">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/alexander-pastukhov/eyelinkReader/">https://github.com/alexander-pastukhov/eyelinkReader/</a>
</p>
</li>
<li> <p><a href="https://alexander-pastukhov.github.io/eyelinkReader/">https://alexander-pastukhov.github.io/eyelinkReader/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/alexander-pastukhov/eyelinkReader/issues">https://github.com/alexander-pastukhov/eyelinkReader/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.onAttach'>Check if the library was compiled</h2><span id='topic+.onAttach'></span>

<h3>Description</h3>

<p>Check if the library was compiled
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.onAttach(libname, pkgname)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".onAttach_+3A_libname">libname</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code id=".onAttach_+3A_pkgname">pkgname</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to check and warn if compiled EDF API interface is missing.
</p>

<hr>
<h2 id='.onLoad'>Compiles the library linking it to EDF API</h2><span id='topic+.onLoad'></span>

<h3>Description</h3>

<p>Compiles the library linking it to EDF API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.onLoad(libname, pkgname)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".onLoad_+3A_libname">libname</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code id=".onLoad_+3A_pkgname">pkgname</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to compile EDF API interface.
</p>

<hr>
<h2 id='adjust_message_time'>Adjusts message time based on embedded text offset</h2><span id='topic+adjust_message_time'></span><span id='topic+adjust_message_time.data.frame'></span><span id='topic+adjust_message_time.eyelinkRecording'></span>

<h3>Description</h3>

<p>Uses text in the message to adjust its time. E.g.,
for a message <code>"-50 TARGET_ONSET"</code> that was sent at <code>105600</code>
the actual onset occurred 50 milliseconds earlier (<code>-50</code>). The function
adjusts the event timing and removes the timing offset information from
the message. I.e., the example message becomes <code>"TARGET_ONSET"</code> and
its time become <code>105550</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjust_message_time(object, prefix)

## S3 method for class 'data.frame'
adjust_message_time(object, prefix = "^[-+]?[:digit:]+[:space:]+")

## S3 method for class 'eyelinkRecording'
adjust_message_time(object, prefix = "^[-+]?[:digit:]+[:space:]+")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="adjust_message_time_+3A_object">object</code></td>
<td>
<p>An <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
<tr><td><code id="adjust_message_time_+3A_prefix">prefix</code></td>
<td>
<p>String with a regular expression that defines the offset.
Defaults to <code>"^[-+]?[:digit:]+[:space:]+"</code> (a string starts with a positive
or negative integer offset followed by a white space and the rest of the message).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with <em>modified</em> <code>events</code> slot or a data.frame with offset-adjusted events.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing events table
adjusted_events &lt;- adjust_message_time(gaze$events)

# by passing the recording
gaze &lt;- adjust_message_time(gaze)
</code></pre>

<hr>
<h2 id='check_consistency_flag'>Checks consistency flag, stops if invalid, returns code if valid.</h2><span id='topic+check_consistency_flag'></span>

<h3>Description</h3>

<p>Checks consistency flag, stops if invalid, returns code if valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_consistency_flag(consistency)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_consistency_flag_+3A_consistency">consistency</code></td>
<td>
<p>consistency check control for the time stamps of the start
and end events, etc. Could be <code>'no consistency check'</code> (0),
<code>'check consistency and report'</code> (1), <code>'check consistency and fix'</code> (2).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer index
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_consistency_flag('no consistency check')
</code></pre>

<hr>
<h2 id='check_logical_flag'>Checks for validity of a logical flag, stops if not valid</h2><span id='topic+check_logical_flag'></span>

<h3>Description</h3>

<p>Checks for validity of a logical flag, stops if not valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_logical_flag(logical_flag)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_logical_flag_+3A_logical_flag">logical_flag</code></td>
<td>
<p>Logical scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical, value of the logical_flag
</p>


<h3>Examples</h3>

<pre><code class='language-R'>import_samples &lt;- TRUE
check_logical_flag(import_samples)
</code></pre>

<hr>
<h2 id='check_string_parameter'>Checks for validity of a string parameter, stops if not valid</h2><span id='topic+check_string_parameter'></span>

<h3>Description</h3>

<p>Checks for validity of a string parameter, stops if not valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_string_parameter(string_parameter)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_string_parameter_+3A_string_parameter">string_parameter</code></td>
<td>
<p>String scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character, value of the string_parameter
</p>


<h3>Examples</h3>

<pre><code class='language-R'>start_marker &lt;- "TRIALID"
check_string_parameter(start_marker)
</code></pre>

<hr>
<h2 id='check_that_compiled'>Checks whether EDF API library was present and
interface was successfully be compiled</h2><span id='topic+check_that_compiled'></span>

<h3>Description</h3>

<p>Checks whether EDF API library was present and
interface was successfully be compiled
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_that_compiled(fail_loudly = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_that_compiled_+3A_fail_loudly">fail_loudly</code></td>
<td>
<p>logical, whether lack of compiled library means
error (<code>TRUE</code>), just warning (<code>FALSE</code>), or silent (<code>NA</code>,
for test use only).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value. Stops the computation, if compiled interface to EDF API in missing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_that_compiled(fail_loudly = FALSE)
</code></pre>

<hr>
<h2 id='compiled_library_status'>Status of compiled library</h2><span id='topic+compiled_library_status'></span>

<h3>Description</h3>

<p>Return status of compiled library
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compiled_library_status()
</code></pre>


<h3>Value</h3>

<p>logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compiled_library_status()
</code></pre>

<hr>
<h2 id='compute_cyclopean_samples'>Computes cyclopean samples by averaging over binocular data</h2><span id='topic+compute_cyclopean_samples'></span><span id='topic+compute_cyclopean_samples.data.frame'></span><span id='topic+compute_cyclopean_samples.eyelinkRecording'></span>

<h3>Description</h3>

<p>Computes cyclopean samples by averaging over binocular recorded properties
such as <code>pxL</code>/<code>pxR</code>, <code>pyL</code>/<code>pyR</code>, <code>hxL</code>/<code>hxR</code>,
etc. Uses function specified via <code>fun</code>
parameter to compute the average with <code>na.rm = TRUE</code> option.
In case of a monocular recording or when the information from one eye missing,
uses information from one eye only, ignoring the other column.
In both binocular and monocular recording cases, simplifies column names
so that <code>pxL</code> and/or <code>pxR</code> are replaced
with a single column <code>px</code>, <code>pyL</code>/<code>pyR</code> with <code>py</code>, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_cyclopean_samples(object, fun = mean)

## S3 method for class 'data.frame'
compute_cyclopean_samples(object, fun = mean)

## S3 method for class 'eyelinkRecording'
compute_cyclopean_samples(object, fun = mean)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compute_cyclopean_samples_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with samples,
i.e., <code>samples</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
<tr><td><code id="compute_cyclopean_samples_+3A_fun">fun</code></td>
<td>
<p>Function used to average across eyes, defaults to <code><a href="base.html#topic+mean">mean</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with <em>modified</em> <code>samples</code> slot or a data.frame with cyclopean samples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing samples table
cyclopean_samples &lt;- compute_cyclopean_samples(gaze$samples)

# storing cyclopean samples as a separate table in recording
gaze$cyclopean_samples &lt;- compute_cyclopean_samples(gaze$samples)

# by passing the recording, cyclopean samples replace original ones
gaze &lt;- compute_cyclopean_samples(gaze)
</code></pre>

<hr>
<h2 id='convert_header_codes'>Converts integer constants in trial headers to factor with explicit labels</h2><span id='topic+convert_header_codes'></span>

<h3>Description</h3>

<p>Converts integer constants in trial headers to factor with explicit labels.
Please refer to EDF API manual for further details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_header_codes(trial_headers)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_header_codes_+3A_trial_headers">trial_headers</code></td>
<td>
<p>data.frame that contains trial headers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a modified trial_headers table
</p>

<hr>
<h2 id='convert_NAs'>Convert -32767 (missing info) to NA</h2><span id='topic+convert_NAs'></span>

<h3>Description</h3>

<p>Converts all -32767 (smallest INT16  value indicating missing info) to NA.
You don't need to call this function directly, as it is automatically evoked within
<code><a href="#topic+read_edf">read_edf</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_NAs(original_frame)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_NAs_+3A_original_frame">original_frame</code></td>
<td>
<p>data.frame to be processed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>processed data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data(gaze)
  gaze$samples &lt;- convert_NAs(gaze$samples)

</code></pre>

<hr>
<h2 id='convert_recording_codes'>Converts integer constants in recordings to factor with explicit labels</h2><span id='topic+convert_recording_codes'></span>

<h3>Description</h3>

<p>Converts integer constants in trial recordings information to factor with explicit labels.
Please refer to EDF API manual for further details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_recording_codes(trial_recordings)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_recording_codes_+3A_trial_recordings">trial_recordings</code></td>
<td>
<p>data.frame that contains trial recordings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a modified trial_recordings table
</p>

<hr>
<h2 id='extract_AOIs'>Extracts rectangular areas of interest (AOI)</h2><span id='topic+extract_AOIs'></span><span id='topic+extract_AOIs.data.frame'></span><span id='topic+extract_AOIs.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extracts rectangular areas of interest (AOI),
as defined by <code>"!V IAREA RECTANGLE"</code> command.
Specifically, we expect it to be in format
<code>!V IAREA RECTANGLE &lt;index&gt; &lt;left&gt; &lt;top&gt; &lt;right&gt; &lt;bottom&gt; &lt;label&gt;</code>,
where <code>&lt;label&gt;</code> is a string label and all other variables are integer.
Please note that due to a non-standard nature of this function <strong>is not</strong> called
during the <code><a href="#topic+read_edf">read_edf</a></code> call and you need to call it separately.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_AOIs(object)

## S3 method for class 'data.frame'
extract_AOIs(object)

## S3 method for class 'eyelinkRecording'
extract_AOIs(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_AOIs_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with an additional <code>AOIs</code> slot or a data.frame with AOIs' information. See
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_AOIs(gaze)

# by passing events table
AOIs &lt;- extract_AOIs(gaze$events)
</code></pre>

<hr>
<h2 id='extract_blinks'>Extract blinks</h2><span id='topic+extract_blinks'></span><span id='topic+extract_blinks.data.frame'></span><span id='topic+extract_blinks.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extracts blinks from the <code>events</code> table of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.. Normally,
you don't need to call this function yourself,
as it is called during the <code><a href="#topic+read_edf">read_edf</a></code> with default settings
(<em>e.g.</em>, <code>import_blinks = TRUE</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_blinks(object)

## S3 method for class 'data.frame'
extract_blinks(object)

## S3 method for class 'eyelinkRecording'
extract_blinks(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_blinks_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with an additional <code>blinks</code> slot or a data.frame with blinks' information. See
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p>read_edf, eyelinkRecording
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_blinks(gaze)

# by passing events table
blinks &lt;- extract_blinks(gaze$events)
</code></pre>

<hr>
<h2 id='extract_display_coords'>Extract display coordinates from an event message</h2><span id='topic+extract_display_coords'></span><span id='topic+extract_display_coords.data.frame'></span><span id='topic+extract_display_coords.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extracts display coordinates from a message that adheres to a
<code>&lt;message_prefix&gt; &lt;label&gt;</code> format. Please note that this function called
during the <code><a href="#topic+read_edf">read_edf</a></code> call with <code>silent = TRUE</code>. If <code>display_coords</code>
are missing from the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code>, run this method to see the warnings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_display_coords(
  object,
  message_prefix = "DISPLAY_COORDS",
  silent = FALSE
)

## S3 method for class 'data.frame'
extract_display_coords(
  object,
  message_prefix = "DISPLAY_COORDS",
  silent = FALSE
)

## S3 method for class 'eyelinkRecording'
extract_display_coords(
  object,
  message_prefix = "DISPLAY_COORDS",
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_display_coords_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
<tr><td><code id="extract_display_coords_+3A_message_prefix">message_prefix</code></td>
<td>
<p>Beginning of the message string that identifies the DISPLAY_COORDS message.
Defaults to <code>"DISPLAY_COORDS"</code>.</p>
</td></tr>
<tr><td><code id="extract_display_coords_+3A_silent">silent</code></td>
<td>
<p>Whether to suppress a warning when DISPLAY_COORDS message is missing. Default to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object with an additional <code>display_coords</code> slot (if that was <code>object</code> type),
Either a four element numeric vector with display coordinates, or <code>NULL</code> if <code>object</code> was an <code>events</code> table of
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object. See <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p>read_edf, eyelinkRecording
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_display_coords(gaze)

# by passing events table
display_coords &lt;- extract_display_coords(gaze$events)
</code></pre>

<hr>
<h2 id='extract_fixations'>Extract fixations</h2><span id='topic+extract_fixations'></span><span id='topic+extract_fixations.data.frame'></span><span id='topic+extract_fixations.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extracts fixations from the <code>events</code> table of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.
Normally, you don't need to call this function yourself,
as it is called during the <code><a href="#topic+read_edf">read_edf</a></code> with default settings
(<em>e.g.</em>, <code>import_fixations = TRUE</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_fixations(object)

## S3 method for class 'data.frame'
extract_fixations(object)

## S3 method for class 'eyelinkRecording'
extract_fixations(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_fixations_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with an additional <code>fixations</code> slot or a data.frame with fixations' information. See
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p>read_edf, eyelinkRecording
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_fixations(gaze)

# by passing events table
fixations &lt;- extract_fixations(gaze$events)
</code></pre>

<hr>
<h2 id='extract_saccades'>Extract saccades from recorded events</h2><span id='topic+extract_saccades'></span><span id='topic+extract_saccades.data.frame'></span><span id='topic+extract_saccades.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extract saccades from the <code>events</code> table of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.
Normally, you don't need to call this function yourself,
as it is called during the <code><a href="#topic+read_edf">read_edf</a></code> with default
settings (<em>e.g.</em>, <code>import_saccades = TRUE</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_saccades(object)

## S3 method for class 'data.frame'
extract_saccades(object)

## S3 method for class 'eyelinkRecording'
extract_saccades(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_saccades_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with an additional <code>saccades</code> slot or a data.frame with saccades' information. See
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p>read_edf, eyelinkRecording
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_saccades(gaze)

# by passing events table
saccades &lt;- extract_saccades(gaze$events)
</code></pre>

<hr>
<h2 id='extract_triggers'>Extract triggers, a custom message type</h2><span id='topic+extract_triggers'></span><span id='topic+extract_triggers.data.frame'></span><span id='topic+extract_triggers.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extracts trigger events, messages that adhere to a
<code>&lt;message_prefix&gt; &lt;label&gt;</code> format. Their purpose is to identify the time
instance of specific interest.
Please note that due to a non-standard nature of this function <strong>is not</strong> called
during the <code><a href="#topic+read_edf">read_edf</a></code> call and you need to call it separately.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_triggers(object, message_prefix = "TRIGGER")

## S3 method for class 'data.frame'
extract_triggers(object, message_prefix = "TRIGGER")

## S3 method for class 'eyelinkRecording'
extract_triggers(object, message_prefix = "TRIGGER")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_triggers_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
<tr><td><code id="extract_triggers_+3A_message_prefix">message_prefix</code></td>
<td>
<p>Beginning of the message string that identifies trigger messages.
Defaults to <code>"TRIGGER"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with an additional <code>triggers</code> slot or a data.frame with triggers' information. See
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p>read_edf, eyelinkRecording
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_triggers(gaze)

# by passing events table
triggers &lt;- extract_triggers(gaze$events)

# with an explicit message prefix
triggers &lt;- extract_triggers(gaze$events, "TRIGGER")
</code></pre>

<hr>
<h2 id='extract_variables'>Extract variables</h2><span id='topic+extract_variables'></span><span id='topic+extract_variables.data.frame'></span><span id='topic+extract_variables.eyelinkRecording'></span>

<h3>Description</h3>

<p>Extracts variables from the <code>events</code> table of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.
Normally, you don't need to call this function yourself,
as it is called during the <code><a href="#topic+read_edf">read_edf</a></code> with default settings
(<em>e.g.</em>, <code>import_variables = TRUE</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_variables(object)

## S3 method for class 'data.frame'
extract_variables(object)

## S3 method for class 'eyelinkRecording'
extract_variables(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_variables_+3A_object">object</code></td>
<td>
<p>Either an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object or data.frame with events,
i.e., <code>events</code> slot of the <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same time as input, i.e., either a <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object
with an additional <code>variables</code> slot or a data.frame with variables' information. See
<code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p>read_edf, eyelinkRecording
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# by passing the recording
gaze &lt;- extract_variables(gaze)

# by passing events table
variables &lt;- extract_variables(gaze$events)
</code></pre>

<hr>
<h2 id='eyelinkRecording-class'>Class <code>eyelinkRecording</code>.</h2><span id='topic+eyelinkRecording-class'></span><span id='topic+eyelinkRecording'></span>

<h3>Description</h3>

<p>S3 class containing information imported from an edf-file.
</p>


<h3>Details</h3>

<p>See <code>methods(class = "eyelinkRecording")</code> for an overview of available methods.
</p>


<h3>Slots</h3>


<dl>
<dt><code>preamble</code></dt><dd><p>A preamble of the recording, see also <code><a href="#topic+read_preamble">read_preamble</a></code>.</p>
</dd>
<dt><code>events</code></dt><dd><p>Events table which is a collection of all <code>FEVENT</code> imported from the EDF file. See description below.</p>
</dd>
<dt><code>samples</code></dt><dd><p>Samples table  which is a collection of all <code>FSAMPLE</code> imported from the EDF file. See description below.</p>
</dd>
<dt><code>headers</code></dt><dd><p>Headers of the individual trials, see description below.</p>
</dd>
<dt><code>recordings</code></dt><dd><p>Individual recording start/end information, see description below.</p>
</dd>
<dt><code>display_coords</code></dt><dd><p>Recorded screen coordinates (if recorded), see <code><a href="#topic+extract_display_coords">extract_display_coords</a></code>.</p>
</dd>
<dt><code>saccades</code></dt><dd><p>Saccades extracted from <code>events</code>, see description below and <code><a href="#topic+extract_saccades">extract_saccades</a></code>.</p>
</dd>
<dt><code>fixations</code></dt><dd><p>Fixations extracted from <code>events</code>, see description below and <code><a href="#topic+extract_fixations">extract_fixations</a></code>.</p>
</dd>
<dt><code>blinks</code></dt><dd><p>Blinks extracted from <code>events</code>, see description below and <code><a href="#topic+extract_blinks">extract_blinks</a></code>.</p>
</dd>
<dt><code>variables</code></dt><dd><p>Recorded variables extracted from <code>events</code>, see description below and <code><a href="#topic+extract_variables">extract_variables</a></code>.</p>
</dd>
<dt><code>triggers</code></dt><dd><p>Events messages that adhere to a <code>TRIGGER &lt;label&gt;</code> format.
This is a <b>non-standard message</b> that the package author uses to mark events like onsets or offsets,
similar to how it is done in M/EEG. See description below and <code><a href="#topic+extract_triggers">extract_triggers</a></code>.</p>
</dd>
<dt><code>AOIs</code></dt><dd><p>Areas of interest events. See description below and <code><a href="#topic+extract_AOIs">extract_AOIs</a></code>.</p>
</dd>
</dl>


<h3>Events</h3>

<p>Events table which is a collection of all <code>FEVENT</code> imported from the EDF file.
Column descriptions were copied directly  from the <em>EDF access C API manual</em>.
Please refer to that manual for further details. Additional non-standard fields are marked in bold.
</p>

<ul>
<li> <p><strong><code>trial</code></strong> Trial index, starts at 1.
</p>
</li>
<li> <p><code>time</code> Time of event.
</p>
</li>
<li> <p><code>type</code> Event type.
</p>
</li>
<li> <p><code>read</code> Flags which items were included.
</p>
</li>
<li> <p><code>sttime</code> Start time of the event.
</p>
</li>
<li> <p><code>entime</code> End time of the event.
</p>
</li>
<li> <p><strong><code>sttime_rel</code></strong> Start time of the event, relative to the start time of the trial.
</p>
</li>
<li> <p><strong><code>entime_rel</code></strong> End time of the event, relative to the start time of the trial.
</p>
</li>
<li> <p><code>hstx</code>, <code>hsty</code> Head reference starting points.
</p>
</li>
<li> <p><code>gstx</code>, <code>gsty</code> Gaze starting points.
</p>
</li>
<li> <p><code>sta</code> Pupil size at start.
</p>
</li>
<li> <p><code>henx</code>, <code>heny</code> Headref ending points.
</p>
</li>
<li> <p><code>genx</code>, <code>geny</code> Gaze ending points.
</p>
</li>
<li> <p><code>ena</code> Pupil size at end.
</p>
</li>
<li> <p><code>havx</code>, <code>havy</code> Headref averages.
</p>
</li>
<li> <p><code>gavx</code>, <code>gavy</code> Gaze averages.
</p>
</li>
<li> <p><code>ava</code> Average pupil size.
</p>
</li>
<li> <p><code>avel</code> Accumulated average velocity.
</p>
</li>
<li> <p><code>pvel</code> Accumulated peak velocity.
</p>
</li>
<li> <p><code>svel</code> Start velocity.
</p>
</li>
<li> <p><code>evel</code> End velocity.
</p>
</li>
<li> <p><code>supd_x</code>, <code>supd_y</code> Start units-per-degree.
</p>
</li>
<li> <p><code>eupd_x</code>, <code>eupd_y</code> End units-per-degree.
</p>
</li>
<li> <p><code>eye</code> Either <code>'LEFT'</code> (0) or <code>'RIGHT'</code> (1).
</p>
</li>
<li> <p><code>status</code> Error, warning flags.
</p>
</li>
<li> <p><code>flags</code> Flags to indicate contents.
</p>
</li>
<li> <p><code>input</code> Extra (input word).
</p>
</li>
<li> <p><code>buttons</code> Button state and changes.
</p>
</li>
<li> <p><code>parsedby</code> 7 bits of flags, PARSEDBY codes.
</p>
</li>
<li> <p><code>message</code> Any message string.
</p>
</li></ul>



<h3>Samples</h3>

<p>Samples table which is a collection of all <code>FSAMPLE</code> imported from the EDF file.
Please note that <code><a href="#topic+read_edf">read_edf</a></code> parameters determines which fields are imported.
Column descriptions were copied directly  from the <em>EDF access C API manual</em>.
Please refer to that manual for further details. Suffixes <code>L</code> and <code>R</code> denote left and right eye.
Non-standard additional fields are marked in bold.
</p>

<ul>
<li> <p><strong><code>trial</code></strong> Trial index, starts at 1.
</p>
</li>
<li> <p><strong><code>eye</code></strong> <code>'LEFT'</code> (0), <code>'RIGHT'</code> (1), or <code>'BINOCULAR'</code> (2).
</p>
</li>
<li> <p><code>time</code> Time of sample.
</p>
</li>
<li> <p><strong><code>time_rel</code></strong> Time relative to the start of the trial.
</p>
</li>
<li> <p><code>pxL</code>, <code>pxR</code>, <code>pyL</code>, <code>pyR</code> Pupil coordinates.
</p>
</li>
<li> <p><code>hxL</code>, <code>hxR</code>, <code>hyL</code>, <code>hyR</code> Headref coordinates.
</p>
</li>
<li> <p><code>paL</code>, <code>paR</code> Pupil size or area.
</p>
</li>
<li> <p><code>gxL</code>, <code>gxR</code>, <code>gyL</code>, <code>gyR</code> Screen gaze coordinates.
</p>
</li>
<li> <p><code>rx</code>, <code>ry</code> Screen pixels per degree.
</p>
</li>
<li> <p><code>gxvelL</code>, <code>gxvelR</code>, <code>gyvelL</code>, <code>gyvelR</code> Gaze velocity.
</p>
</li>
<li> <p><code>hxvelL</code>, <code>hxvelR</code>, <code>hyvelL</code>, <code>hyvelR</code> Headref velocity.
</p>
</li>
<li> <p><code>rxvelL</code>, <code>rxvelR</code>, <code>ryvelL</code>, <code>ryvelR</code> Raw velocity.
</p>
</li>
<li> <p><code>fgxvelL</code>, <code>fgxvelR</code>, <code>fgyvelL</code>, <code>fgyvelR</code> Fast gaze velocity.
</p>
</li>
<li> <p><code>fhxvelL</code>, <code>fhxvelR</code>, <code>fhyvelL</code>, <code>fhyvelR</code> Fast headref velocity.
</p>
</li>
<li> <p><code>frxvelL</code>, <code>frxvelR</code>, <code>fryvelL</code>, <code>fryvelR</code> Fast raw velocity.
</p>
</li>
<li> <p><code>hdata_1</code> -<code>hdata_8</code> Head-tracker data (not pre-scaled). Each column correspond to a single element of the <code>INT16 FSAMPLE::hdata[8]</code>.
</p>
</li>
<li> <p><code>flags</code> Flags to indicate contents.
</p>
</li>
<li> <p><code>input</code> Extra (input word).
</p>
</li>
<li> <p><code>buttons</code> Button state &amp; changes.
</p>
</li>
<li> <p><code>htype</code> Head-tracker data type (0=none).
</p>
</li>
<li> <p><code>errors</code> Process error flags.
</p>
</li></ul>



<h3>Headers</h3>

<p>Trial headers table which is a collection of all <code>TRIAL</code> structures imported from the EDF file.
Column descriptions were copied directly  from the <em>EDF access C API manual</em>.
Please refer to that manual for further details.
All fields of the <code>RECORDINGS</code> structure are prefixed with <code>rec_</code>.
Non-standard additional fields are marked in bold.
</p>

<ul>
<li> <p><strong><code>trial</code></strong> Trial index.
</p>
</li>
<li> <p><code>duration</code> Duration of the trial.
</p>
</li>
<li> <p><code>starttime</code> Start time of the trial.
</p>
</li>
<li> <p><code>endtime</code> End time of the trial.
</p>
</li>
<li> <p><code>rec_time</code> Start time or end time.
</p>
</li>
<li> <p><code>rec_sample rate</code> Sample rate in Hz: 250, 500, 1000 or 2000.
</p>
</li>
<li> <p><code>rec_eflags</code> Extra information about events.
</p>
</li>
<li> <p><code>rec_sflags</code> Extra information about samples.
</p>
</li>
<li> <p><code>rec_state</code> <code>'START'</code> (2) or <code>'END'</code> (1).
</p>
</li>
<li> <p><code>rec_record_type</code> <code>'SAMPLES'</code> (1), <code>'EVENTS'</code> (2), or <code>'SAMPLES and EVENTS'</code> (3).
</p>
</li>
<li> <p><code>rec_pupil_type</code> <code>'AREA'</code> (0) or <code>'DIAMETER'</code> (1).
</p>
</li>
<li> <p><code>rec_recording_mode</code> <code>'PUPIL'</code> (0) or <code>'CR'</code> (1).
</p>
</li>
<li> <p><code>rec_filter_type</code> 1, 2, or 3.
</p>
</li>
<li> <p><code>rec_pos_type</code> Should be <code>'GAZE'</code> (0), <code>'HREF'</code> (1) or <code>'RAW'</code>, but currently this column is kept as numeric, since observed values do not match the declared constants.
</p>
</li>
<li> <p><code>rec_eye</code> <code>'LEFT'</code> (1), <code>'RIGHT'</code> (2) or <code>'LEFT and RIGHT'</code> (3).
</p>
</li></ul>



<h3>Recordings</h3>

<p>Recordings table which is a collection of all <code>RECORDING</code> structures imported from the EDF file.
Column descriptions were copied directly  from the <em>EDF access C API manual</em>.
Please refer to that manual for further details. Non-standard additional fields are marked in bold.
</p>

<ul>
<li> <p><strong><code>trial</code></strong> Trial index.
</p>
</li>
<li> <p><code>time</code> Start time or end time.
</p>
</li>
<li> <p><code>sample rate</code> Sample rate in Hz: 250, 500, 1000 or 2000.
</p>
</li>
<li> <p><code>eflags</code> Extra information about events.
</p>
</li>
<li> <p><code>sflags</code> Extra information about samples.
</p>
</li>
<li> <p><code>state</code> <code>'START'</code> (2) or <code>'END'</code> (1).
</p>
</li>
<li> <p><code>record_type</code> <code>'SAMPLES'</code> (1), <code>'EVENTS'</code> (2), or <code>'SAMPLES and EVENTS'</code> (3).
</p>
</li>
<li> <p><code>pupil_type</code> <code>'AREA'</code> (0) or <code>'DIAMETER'</code> (1).
</p>
</li>
<li> <p><code>recording_mode</code> <code>'PUPIL'</code> (0) or <code>'CR'</code> (1).
</p>
</li>
<li> <p><code>filter_type</code> 1, 2, or 3.
</p>
</li>
<li> <p><code>pos_type</code> Should be <code>'GAZE'</code> (0), <code>'HREF'</code> (1) or <code>'RAW'</code>, but currently this column is kept as numeric, since observed values do not match the declared constants.
</p>
</li>
<li> <p><code>eye</code> <code>'LEFT'</code> (1), <code>'RIGHT'</code> (2) or <code>'LEFT and RIGHT'</code> (3).
</p>
</li></ul>



<h3>Saccades and Fixations</h3>

<p>Saccades and fixations extracted from the <code>events</code>, tables have the same structure.
Column descriptions were copied directly  from the <em>EDF access C API manual</em>.
Please refer to that manual for further details. Non-standard additional fields are marked in bold.
</p>

<ul>
<li> <p><strong><code>trial</code></strong> Trial index.
</p>
</li>
<li> <p><code>sttime</code> Start time.
</p>
</li>
<li> <p><code>entime</code> End time.
</p>
</li>
<li> <p><strong><code>sttime_rel</code></strong> Start time, relative to the start time of the trial.
</p>
</li>
<li> <p><strong><code>entime_rel</code></strong> End time, relative to the start time of the trial.
</p>
</li>
<li> <p><strong><code>duration</code></strong> Duration.
</p>
</li>
<li> <p><code>hstx</code>, <code>hsty</code> Head reference starting points.
</p>
</li>
<li> <p><code>gstx</code>, <code>gsty</code> Gaze starting points.
</p>
</li>
<li> <p><code>sta</code> Pupil size at start.
</p>
</li>
<li> <p><code>henx</code>, <code>heny</code> Headref ending points.
</p>
</li>
<li> <p><code>genx</code>, <code>geny</code> Gaze ending points.
</p>
</li>
<li> <p><code>ena</code> Pupil size at end.
</p>
</li>
<li> <p><code>havx</code>, <code>havy</code> Headref averages.
</p>
</li>
<li> <p><code>gavx</code>, <code>gavy</code> Gaze averages.
</p>
</li>
<li> <p><code>ava</code> Average pupil size.
</p>
</li>
<li> <p><code>avel</code> Accumulated average velocity.
</p>
</li>
<li> <p><code>pvel</code> Accumulated peak velocity.
</p>
</li>
<li> <p><code>svel</code> Start velocity.
</p>
</li>
<li> <p><code>evel</code> End velocity.
</p>
</li>
<li> <p><code>supd_x</code>, <code>supd_y</code> Start units-per-degree.
</p>
</li>
<li> <p><code>eupd_x</code>, <code>eupd_y</code> End units-per-degree.
</p>
</li>
<li> <p><code>eye</code> Either <code>'LEFT'</code> (1) or <code>'RIGHT'</code> (2).
</p>
</li></ul>



<h3>Blinks</h3>

<p>Blinks extracted from the <code>events</code> table. Column descriptions were copied directly from the <em>EDF access C API manual</em>.
Please refer to that manual for further details. Non-standard additional fields are marked in bold.
</p>

<ul>
<li> <p><strong><code>trial</code></strong> Trial index.
</p>
</li>
<li> <p><code>sttime</code> Start time.
</p>
</li>
<li> <p><code>entime</code> End time.
</p>
</li>
<li> <p><strong><code>sttime_rel</code></strong> Start time, relative to the start time of the trial.
</p>
</li>
<li> <p><strong><code>entime_rel</code></strong> End time, relative to the start time of the trial.
</p>
</li>
<li> <p><strong><code>duration</code></strong> Duration.
</p>
</li>
<li> <p><code>eye</code> Either <code>'LEFT'</code> (1) or <code>'RIGHT'</code> (2).
</p>
</li></ul>



<h3>Variables</h3>

<p>User recorded variables extracted from message events with a <code>'TRIAL_VAR'</code> prefix.
Original format can be either <code>'TRIAL_VAR &lt;name&gt; &lt;value&gt;'</code> or <code>'TRIAL_VAR &lt;name&gt;=&lt;value&gt;'</code>.
The <code>&lt;name&gt;</code> cannot contain spaces or <code>'='</code> sign.
White spaces are trimmed for both <code>&lt;name&gt;</code> and <code>&lt;value&gt;</code>.
</p>

<ul>
<li> <p><code>trial</code> Trial index.
</p>
</li>
<li> <p><code>sttime</code> Start time.
</p>
</li>
<li> <p><code>sttime_rel</code> Start time, relative to the start time of the trial.
</p>
</li>
<li> <p><code>variable</code> Variable name, the <code>&lt;name&gt;</code> part of the event message.
</p>
</li>
<li> <p><code>value</code> Variable value, the <code>&lt;value&gt;</code> part of the event message.
</p>
</li></ul>



<h3>Trigger events</h3>

<p>Events messages that adhere to a <code>TRIGGER &lt;label&gt;</code> format.
This is a <strong>non-standard message</strong> that the package author uses to mark events like onsets or offsets,
similar to how it is done in M/EEG.
</p>

<ul>
<li> <p><code>trial</code> Trial index.
</p>
</li>
<li> <p><code>sttime</code> Start time.
</p>
</li>
<li> <p><code>sttime_rel</code> Start time, relative to the start time of the trial.
</p>
</li>
<li> <p><code>label</code> <em>label</em> part of the message, can contain white spaces.
</p>
</li></ul>



<h3>AOIs</h3>

<p>Rectangular areas of interest (AOI), as defined by &quot;!V IAREA RECTANGLE&quot; command.
Specifically, they are expected to be in format
<code>!V IAREA RECTANGLE &lt;index&gt; &lt;left&gt; &lt;top&gt; &lt;right&gt; &lt;bottom&gt; &lt;label&gt;</code>.
where <code>&lt;label&gt;</code> is a string label and all other variables are integer.
</p>

<ul>
<li> <p><code>trial</code> Trial index.
</p>
</li>
<li> <p><code>sttime</code> Start time.
</p>
</li>
<li> <p><code>sttime_rel</code> Start time, relative to the start time of the trial.
</p>
</li>
<li> <p><code>index</code> AOI index.
</p>
</li>
<li> <p><code>left</code>, <code>top</code>, <code>right</code>, <code>bottom</code> AOI coordinates.
</p>
</li>
<li> <p><code>label</code> AOI label.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+read_edf">read_edf</a></code>, <code><a href="#topic+extract_saccades">extract_saccades</a></code>, <code><a href="#topic+extract_fixations">extract_fixations</a></code>, <code><a href="#topic+extract_blinks">extract_blinks</a></code>, <code><a href="#topic+extract_triggers">extract_triggers</a></code>, <code><a href="#topic+extract_display_coords">extract_display_coords</a></code>, <code><a href="#topic+extract_AOIs">extract_AOIs</a></code>
</p>

<hr>
<h2 id='gaze'>Imported example.edf, events and samples</h2><span id='topic+gaze'></span>

<h3>Description</h3>

<p>An <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for <em>example.edf</em> via
<code>read_edf(system.file("extdata", "example.edf", package = "eyelinkReader"), import_samples = TRUE)</code>).
Contains all extracted events including triggers, areas of interested, and display coordinates. The original
recording consist of ten trials with a participant fixating on a target that jumps to a new location after
one second and stays on the screen for another second. Includes all relevant events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gaze
</code></pre>


<h3>Format</h3>

<p>An object of class <code>eyelinkRecording</code> of length 12.
</p>


<h3>Details</h3>

<p>See <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> for details.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code>, <code><a href="#topic+read_edf">read_edf</a></code>
</p>

<hr>
<h2 id='logical_index_for_sample_attributes'>Checks validity of sample attribute vector and returns logical indexes.</h2><span id='topic+logical_index_for_sample_attributes'></span>

<h3>Description</h3>

<p>Checks validity of sample attribute vector and returns logical indexes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logical_index_for_sample_attributes(import_samples, sample_attributes)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="logical_index_for_sample_attributes_+3A_import_samples">import_samples</code></td>
<td>
<p>logical, whether importing was requested.</p>
</td></tr>
<tr><td><code id="logical_index_for_sample_attributes_+3A_sample_attributes">sample_attributes</code></td>
<td>
<p>character vector with names of attributes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>logical_index_for_sample_attributes(TRUE, c('time', 'gx', 'gy'))
</code></pre>

<hr>
<h2 id='plot.eyelinkRecording'>Plot fixations and saccades for a set of trials</h2><span id='topic+plot.eyelinkRecording'></span>

<h3>Description</h3>

<p>This is only a basic plotting utility intended primarily
for a quick visual check. Please refer to companion vignette on plotting
for details about geoms and implementing your own custom plotting routine.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eyelinkRecording'
plot(
  x,
  trial = 1,
  show_fixations = TRUE,
  fixation_size_property = "duration",
  size_legend = ifelse(fixation_size_property == "duration", "Fixation duration [ms]",
    NA),
  show_saccades = TRUE,
  saccade_color_property = "sttime_rel",
  color_legend = ifelse(saccade_color_property == "sttime_rel", "Saccade onset [ms]", NA),
  background_grobs = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.eyelinkRecording_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_trial">trial</code></td>
<td>
<p>Trials to be plotted, could be a scalar index,
a vector of indexes, or <code>NULL</code> (all trials). Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_show_fixations">show_fixations</code></td>
<td>
<p>logical, whether to draw fixation as circles. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_fixation_size_property">fixation_size_property</code></td>
<td>
<p>Which fixation property is used as circle aesthetics. Defaults to <code>"duration"</code>.</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_size_legend">size_legend</code></td>
<td>
<p>An optional legend title, defaults to <code>"Fixation duration [ms]"</code>
if <code>fixation_size_property</code> is <code>"duration"</code> and to <code>NA</code> otherwise. In the latter case, the legend
title is unmodified (i.e., determined by ggplot).</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_show_saccades">show_saccades</code></td>
<td>
<p>logical, whether to draw saccades as line segments. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_saccade_color_property">saccade_color_property</code></td>
<td>
<p>Which saccade property is used as color aesthetics. Defaults to <code>"sttime_rel"</code>
(onset time relative to the trial start).</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_color_legend">color_legend</code></td>
<td>
<p>An optional legend title, defaults to <code>"Saccade onset [ms]"</code>
if <code>saccade_color_property</code> is <code>"sttime_rel"</code> and to <code>NA</code> otherwise. In the latter case, the legend
title is unmodified (i.e., determined by ggplot).</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_background_grobs">background_grobs</code></td>
<td>
<p>ggplot2 graphic objects add to the plot <em>before</em> plotting data.</p>
</td></tr>
<tr><td><code id="plot.eyelinkRecording_+3A_...">...</code></td>
<td>
<p>Addition parameters (unused)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gaze)

# fixations and saccades for the first trial
plot(gaze)

# fixations for the all trials
plot(gaze, trial = NULL, show_saccades = FALSE)

# saccades for the first two trials
plot(gaze, trial = 1:2, show_fixations = FALSE)

# color codes duration of a saccade
plot(gaze, saccade_color_property = "duration")
</code></pre>

<hr>
<h2 id='print.eyelinkRecording'>Print info about <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code></h2><span id='topic+print.eyelinkRecording'></span>

<h3>Description</h3>

<p>Print info about <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eyelinkRecording'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.eyelinkRecording_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object</p>
</td></tr>
<tr><td><code id="print.eyelinkRecording_+3A_...">...</code></td>
<td>
<p>Addition parameters (unused)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for printing to console.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  if (eyelinkReader::compiled_library_status()) {
    recording &lt;- read_edf(system.file("extdata", "example.edf", package = "eyelinkReader"))
    print(recording)
  }

</code></pre>

<hr>
<h2 id='read_edf'>Read EDF file with gaze data recorded by SR Research EyeLink eye tracker</h2><span id='topic+read_edf'></span>

<h3>Description</h3>

<p>Reads EDF file with gaze data recorded by SR Research EyeLink eye tracker
and returns an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object that contains events, samples,
and recordings, as well as specific events such as saccades, fixations, blinks, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_edf(
  file,
  consistency = "check consistency and report",
  import_events = TRUE,
  import_recordings = TRUE,
  import_samples = FALSE,
  sample_attributes = NULL,
  start_marker = "TRIALID",
  end_marker = "TRIAL_RESULT",
  import_saccades = TRUE,
  import_blinks = TRUE,
  import_fixations = TRUE,
  import_variables = TRUE,
  verbose = TRUE,
  fail_loudly = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_edf_+3A_file">file</code></td>
<td>
<p>full name of the EDF file</p>
</td></tr>
<tr><td><code id="read_edf_+3A_consistency">consistency</code></td>
<td>
<p>consistency check control for the time stamps of the start
and end events, etc. Could be <code>'no consistency check'</code>,
<code>'check consistency and report'</code> (default), <code>'check consistency and fix'</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_events">import_events</code></td>
<td>
<p>logical, whether to import events, defaults to
<code>TRUE</code></p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_recordings">import_recordings</code></td>
<td>
<p>logical, whether to import information about start/end of the recording, defaults to
<code>TRUE</code></p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_samples">import_samples</code></td>
<td>
<p>logical, whether to import samples, defaults to <code>FALSE</code>.
Please note that specifying<code>sample_attributes</code> automatically sets it to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_sample_attributes">sample_attributes</code></td>
<td>
<p>a character vector that lists sample attributes to be imported.
By default, all attributes are imported (default). For the complete list of sample attributes
please refer to <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> or EDF API documentation.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_start_marker">start_marker</code></td>
<td>
<p>event string that marks the beginning of the trial. Defaults to <code>"TRIALID"</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_end_marker">end_marker</code></td>
<td>
<p>event string that marks the end of the trial. Defaults to <code>"TRIAL_RESULT"</code>.
Please note that an <strong>empty</strong> string <code>''</code> means that a trial lasts from one <code>start_marker</code> till the next one.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_saccades">import_saccades</code></td>
<td>
<p>logical, whether to extract saccade events into a separate table for convenience. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_blinks">import_blinks</code></td>
<td>
<p>logical, whether to extract blink events into a separate table for convenience. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_fixations">import_fixations</code></td>
<td>
<p>logical, whether to extract fixation events into a separate table for convenience. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_import_variables">import_variables</code></td>
<td>
<p>logical, whether to extract stored variables into a separate table for convenience. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_verbose">verbose</code></td>
<td>
<p>logical, whether the number of trials and the progress are shown in the console. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="read_edf_+3A_fail_loudly">fail_loudly</code></td>
<td>
<p>logical, whether lack of compiled library means
error (<code>TRUE</code>, default) or just warning (<code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an <code><a href="#topic+eyelinkRecording">eyelinkRecording</a></code> object that contains events, samples,
and recordings, as well as specific events such as saccades, fixations, blinks, etc.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  if (eyelinkReader::compiled_library_status()) {
    # Import only events and recordings information
    recording &lt;- read_edf(system.file("extdata", "example.edf", package = "eyelinkReader"))

    # Import events and samples (only time and  screen gaze coordinates)
    recording &lt;- read_edf(system.file("extdata", "example.edf", package = "eyelinkReader"),
                          sample_attributes = c('time', 'gx', 'gy'))

    # Import events and samples (all attributes)
    recording &lt;- read_edf(system.file("extdata", "example.edf", package = "eyelinkReader"),
                          import_samples= TRUE)
  }

</code></pre>

<hr>
<h2 id='read_edf_file'>Internal function that reads EDF file</h2><span id='topic+read_edf_file'></span>

<h3>Description</h3>

<p>Reads EDF file into a list that contains events, samples, and recordings.
DO NOT call this function directly. Instead, use read_edf function that implements
parameter checks and additional postprocessing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_edf_file(
  filename,
  consistency,
  import_events,
  import_recordings,
  import_samples,
  sample_attr_flag,
  start_marker_string,
  end_marker_string,
  verbose
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_edf_file_+3A_filename">filename</code></td>
<td>
<p>full name of the EDF file</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_consistency">consistency</code></td>
<td>
<p>consistency check control (for the time stamps of the start
and end events, etc). 0, no consistency check. 1, check consistency and report.
2, check consistency and fix.</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_import_events">import_events</code></td>
<td>
<p>load/skip loading events.</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_import_recordings">import_recordings</code></td>
<td>
<p>load/skip loading recordings.</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_import_samples">import_samples</code></td>
<td>
<p>load/skip loading of samples.</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_sample_attr_flag">sample_attr_flag</code></td>
<td>
<p>boolean vector that indicates which sample fields are to be stored</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_start_marker_string">start_marker_string</code></td>
<td>
<p>event that marks trial start. Defaults to &quot;TRIALID&quot;, if empty.</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_end_marker_string">end_marker_string</code></td>
<td>
<p>event that marks trial end</p>
</td></tr>
<tr><td><code id="read_edf_file_+3A_verbose">verbose</code></td>
<td>
<p>whether to show progressbar and report number of trials</p>
</td></tr>
</table>


<h3>Value</h3>

<p>contents of the EDF file. Please see read_edf for details.
</p>

<hr>
<h2 id='read_preamble'>Reads edf-file preamble</h2><span id='topic+read_preamble'></span>

<h3>Description</h3>

<p>Read the preamble of the EDF file and parses it into an reading-friendly format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_preamble(file, fail_loudly = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_preamble_+3A_file">file</code></td>
<td>
<p>name of the EDF file</p>
</td></tr>
<tr><td><code id="read_preamble_+3A_fail_loudly">fail_loudly</code></td>
<td>
<p>logical, whether lack of compiled library means
error (<code>TRUE</code>, default) or just warning (<code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector but with added class <code>eyelinkPreamble</code> to simplify printing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 if (eyelinkReader::compiled_library_status()) {
  read_preamble(system.file("extdata", "example.edf", package = "eyelinkReader"))
}

</code></pre>

<hr>
<h2 id='read_preamble_str'>Reads preamble of the EDF file as a single string.</h2><span id='topic+read_preamble_str'></span>

<h3>Description</h3>

<p>Reads preamble of the EDF file as a single string.
Please, do not use this function directly. Instead, call <code><a href="#topic+read_preamble">read_preamble</a></code> function
that provides a more consistent interface.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_preamble_str(filename)
</code></pre>


<h3>Value</h3>

<p>string with the preamble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (eyelinkReader::compiled_library_status()) {
  read_preamble(system.file("extdata", "example.edf", package = "eyelinkReader"))
}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

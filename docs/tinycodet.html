<!DOCTYPE html><html><head><title>Help for package tinycodet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tinycodet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aaa0_tinycodet_help'><p>tinycodet: Functions to Help in your Coding Etiquette</p></a></li>
<li><a href='#aaa1_tinycodet_safer'><p>Overview of the 'tinycodet' &quot;Safer&quot; Functionality</p></a></li>
<li><a href='#aaa2_tinycodet_import'><p>Overview of the 'tinycodet' Import System</p></a></li>
<li><a href='#aaa3_tinycodet_strings'><p>Overview of the 'tinycodet' Extension of 'stringi'</p></a></li>
<li><a href='#aaa4_tinycodet_dry'><p>Overview of the 'tinycodet' &quot;Don't Repeat Yourself&quot; Functionality</p></a></li>
<li><a href='#aaa5_tinycodet_misc'><p>Overview of the 'tinycodet' Miscellaneous Functionality</p></a></li>
<li><a href='#atomic_conversions'><p>Atomic Type Casting Without Stripping Attributes</p></a></li>
<li><a href='#decimal_truth'><p>Safer Decimal Number (In)Equality Testing Operators</p></a></li>
<li><a href='#form'><p>Construct Formula With Safer Environment Specification</p></a></li>
<li><a href='#import_as'><p>Import R-package, its Re-exports, Dependencies, and/or Extensions, Under a Single Alias</p></a></li>
<li><a href='#import_data'><p>Directly Return a Data-set From a Package</p></a></li>
<li><a href='#import_inops'><p>(Un)Expose Infix Operators From Package Namespace in the Current Environment</p></a></li>
<li><a href='#import_inops.control'><p>import_inops.control</p></a></li>
<li><a href='#import_LL'><p>Miscellaneous import_ - Functions</p></a></li>
<li><a href='#inplace'><p>General In-place Modifier Operator</p></a></li>
<li><a href='#lock'><p>Lock T, Lock F, or Create Locked Constants</p></a></li>
<li><a href='#logic_ops'><p>Additional Logic Operators</p></a></li>
<li><a href='#matrix_ops'><p>Row- or Column-wise Re-ordering of Matrices</p></a></li>
<li><a href='#pkgs'><p>Miscellaneous Package Related Functions</p></a></li>
<li><a href='#pversion'><p>Check for Package Versions Mismatch</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#report_inops'><p>Report Infix Operators</p></a></li>
<li><a href='#s_pattern'><p>Pattern Specifications for String Related Operators</p></a></li>
<li><a href='#safer_partialmatch'><p>Set safer dollar, arguments, and attribute matching</p></a></li>
<li><a href='#source_selection'><p>Source Specific Objects from Script</p></a></li>
<li><a href='#str_arithmetic'><p>String Arithmetic Operators</p></a></li>
<li><a href='#str_search'><p>'stringi' Pattern Search Operators</p></a></li>
<li><a href='#str_subset_ops'><p>String Subsetting Operators</p></a></li>
<li><a href='#strcut_loc'><p>Cut Strings</p></a></li>
<li><a href='#stri_join_mat'><p>Concatenate Character Matrix Row-wise or Column-wise</p></a></li>
<li><a href='#stri_locate_ith'><p>Locate <code class="reqn">i^{th}</code> Pattern Occurrence or Text Boundary</p></a></li>
<li><a href='#subset_if'><p>Conditional Sub-setting and In-place Replacement of Unreal Values</p></a></li>
<li><a href='#transform_if'><p>transform_if: Conditional Sub-set Transformation of Atomic objects</p></a></li>
<li><a href='#with_pro'><p>Standard Evaluated Versions of Some Common Expression-Evaluation Functions</p></a></li>
<li><a href='#x.import'><p>Helper Functions for the 'tinycodet' Package Import System</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Functions to Help in your Coding Etiquette</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Adds some functions to help in your coding etiquette.
    'tinycodet' primarily focuses on 4 aspects.
    1) Safer decimal (in)equality testing, safer atomic conversions, and other functions for safer coding.
    2) A new package import system,
    that attempts to combine the benefits of using a package without attaching it,
    with the benefits of attaching a package.
    3) Extending the string manipulation capabilities of the 'stringi' R package.
    4) Reducing repetitive code.
    Besides linking to 'Rcpp', 'tinycodet' has only one other dependency, namely 'stringi'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tinytest, ggplot2, mgcv, nlme, collapse, kit, knitr,
rmarkdown, roxygen2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.11), stringi (&ge; 1.7.12)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tony-aw/tinycodet/">https://github.com/tony-aw/tinycodet/</a>,
<a href="https://tony-aw.github.io/tinycodet/">https://tony-aw.github.io/tinycodet/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tony-aw/tinycodet/issues/">https://github.com/tony-aw/tinycodet/issues/</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-gb</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-02 08:45:14 UTC; Tony</td>
</tr>
<tr>
<td>Author:</td>
<td>Tony Wilkes <a href="https://orcid.org/0000-0001-9498-8379"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tony Wilkes &lt;tony_a_wilkes@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-02 10:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='aaa0_tinycodet_help'>tinycodet: Functions to Help in your Coding Etiquette</h2><span id='topic+aaa0_tinycodet_help'></span><span id='topic+tinycodet-package'></span><span id='topic+tinycodet'></span><span id='topic+tinycodet_help'></span>

<h3>Description</h3>

<p>Welcome to the 'tinycodet' introduction help page! <br />
<br />
'tinycodet' adds some functions to help in your coding etiquette. <br />
It primarily focuses on 4 aspects: <br />
<br />
(1) Safer decimal (in)equality testing, safer atomic conversions, and other functions for safer coding; <br />
see <a href="#topic+tinycodet_safer">tinycodet_safer</a>. <br />
<br />
(2) A new package import system,
that attempts to combine the benefits of using a package without attaching it,
with the benefits of attaching a package; <br />
see <a href="#topic+tinycodet_import">tinycodet_import</a> <br />
<br />
(3) Extending the string manipulation capabilities of the 'stringi' R-package; <br />
see <a href="#topic+tinycodet_strings">tinycodet_strings</a>. <br />
<br />
(4) Reducing repetitive code; <br />
see <a href="#topic+tinycodet_dry">tinycodet_dry</a>. <br />
<br />
And some miscellaneous functionality; see <a href="#topic+tinycodet_misc">tinycodet_misc</a>. <br />
<br />
<br />
Please check the Change-log
(see links below)
regularly for updates (such as bug fixes). <br />
<br />
'tinycodet' adheres to the
<a href="https://www.tinyverse.org/">tinyverse</a>
philosophy.
Besides linking to 'Rcpp', 'tinycodet' only has one other dependency:
'stingi'.
No other dependencies, thus avoiding &quot;dependency hell&quot;.
Most functions in this R-package are vectorized and optimised. <br />
<br />
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Tony Wilkes <a href="mailto:tony_a_wilkes@outlook.com">tony_a_wilkes@outlook.com</a> (<a href="https://orcid.org/0000-0001-9498-8379">ORCID</a>)
</p>


<h3>References</h3>

<p>The badges shown in the documentation of this R-package were made using the services of: <a href="https://shields.io/">https://shields.io/</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li><p> 'tinycodet' GitHub main page and Read-Me: <a href="https://github.com/tony-aw/tinycodet/">https://github.com/tony-aw/tinycodet/</a>
</p>
</li>
<li><p> 'tinycodet' package website: <a href="https://tony-aw.github.io/tinycodet/">https://tony-aw.github.io/tinycodet/</a>
</p>
</li>
<li><p> Report bugs at: <a href="https://github.com/tony-aw/tinycodet/issues/">https://github.com/tony-aw/tinycodet/issues/</a>
</p>
</li>
<li><p> Changelog: <a href="https://github.com/tony-aw/tinycodet/blob/main/NEWS.md/">https://github.com/tony-aw/tinycodet/blob/main/NEWS.md/</a> or <br /> <a href="https://tony-aw.github.io/tinycodet/news/index.html">https://tony-aw.github.io/tinycodet/news/index.html</a>
</p>
</li>
<li><p> The 'fastverse', which is related to the 'tinyverse': <a href="https://github.com/fastverse/fastverse/">https://github.com/fastverse/fastverse/</a>
</p>
</li></ul>


<hr>
<h2 id='aaa1_tinycodet_safer'>Overview of the 'tinycodet' &quot;Safer&quot; Functionality</h2><span id='topic+aaa1_tinycodet_safer'></span><span id='topic+tinycodet_safer'></span>

<h3>Description</h3>

<p>To help make your code safer, the 'tinycodet' R-package
introduces a few functions:
</p>

<ul>
<li> <p><a href="#topic++25d+3D+3D+25">Safer decimal (in)equality testing</a>.
</p>
</li>
<li> <p><a href="#topic+as_int">Atomic type casting without stripping attributes</a>.
</p>
</li>
<li><p> The <a href="#topic+lock_TF">lock_TF</a> function to
set and lock <code>T</code> and <code>F</code> to <code>TRUE</code> and <code>FALSE</code>,
respectively.
</p>
</li>
<li><p> The <a href="#topic++25+3C-c+25">%&lt;-c%</a> operator to assign locked constants.
</p>
</li>
<li> <p><a href="#topic+form">form</a> to construct a formula with safer environment specification.
</p>
</li>
<li><p> Standard evaluated versions of some common expression-evaluation functions: <br />
<a href="#topic+with_pro">with_pro</a> and <a href="#topic+aes_pro">aes_pro</a>.
</p>
</li>
<li> <p><a href="#topic+safer_partialmatch">safer_partialmatch</a> to set options for
safer dollar, arguments, and attribute matching. <br /> <br />
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+tinycodet_help">tinycodet_help</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(0.3, 0.6, 0.7)
y &lt;- c(0.1*3, 0.1*6, 0.1*7)
x == y # gives FALSE, but should be TRUE
x %d==% y # here it's done correctly



</code></pre>

<hr>
<h2 id='aaa2_tinycodet_import'>Overview of the 'tinycodet' Import System</h2><span id='topic+aaa2_tinycodet_import'></span><span id='topic+tinycodet_import'></span>

<h3>Description</h3>

<p>The 'tinycodet' R-package introduces a new package import system. <br />
<br />
One can <b>use</b> a package <b>without attaching</b> the package -
for example by using the <a href="base.html#topic++3A+3A">::</a> operator. <br />
Or, one can explicitly <b>attach</b> a package -
for example by using the <a href="base.html#topic+library">library</a> function. <br />
The advantages and disadvantages
of <b>using without attaching</b> a package versus <b>attaching</b> a package,
at least those relevant here,
are compactly presented in the following list: <br />
<br />
(1) Prevent masking functions from other packages: <br />
<img src="../help/figures/usewithoutattach-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <br />
<br />
(2) Prevent masking core R functions: <br />
<img src="../help/figures/usewithoutattach-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <br />
<br />
(3) Clarify which function came from which package: <br />
<img src="../help/figures/usewithoutattach-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <br />
<br />
(4) Enable functions only in current/local environment instead of globally: <br />
<img src="../help/figures/usewithoutattach-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <br />
<br />
(5) Prevent namespace pollution: <br />
<img src="../help/figures/usewithoutattach-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <br />
<br />
(6) Minimise typing - especially for infix operators <br />
(i.e. typing <code>package::`%op%`(x, y)</code> instead of <code>x %op% y</code> is cumbersome): <br />
<img src="../help/figures/usewithoutattach-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <br />
<br />
(7) Use multiple related packages,
without constantly switching between package prefixes <br />
(i.e. doing <code>packagename1::some_function1()</code>; <br />
<code>packagename2::some_function2()</code>; <br />
<code>packagename3::some_function3()</code> is chaotic and cumbersome): <br />
<img src="../help/figures/usewithoutattach-No(disadvantage)-red.svg" alt='[NO(DISADVANTAGE)]' /> <code style="white-space: pre;">&#8288; &#8288;</code>
<img src="../help/figures/attaching-Yes(advantage)-darkgreen.svg" alt='[YES(ADVANTAGE)]' /> <br />
<br />
</p>
<p>What 'tinycodet' attempts to do with its import system,
is to somewhat find the best of both worlds.
It does this by introducing the following functions: <br />
</p>

<ul>
<li> <p><a href="#topic+import_as">import_as</a>:
Import a main package,
and optionally its re-exports + its direct dependencies + its direct extensions,
under a single alias.
This essentially combines the attaching advantage of using multiple related packages (item 7 on the list),
whilst keeping most advantages of using without attaching a package.
</p>
</li>
<li> <p><a href="#topic+import_inops">import_inops</a>:
Expose infix operators from a package or an alias object to the current environment.
This gains the attaching advantage of less typing (item 6 on the list),
whilst simultaneously avoiding the disadvantage of attaching functions from a package globally (item 4 on the list).
</p>
</li>
<li> <p><a href="#topic+import_data">import_data</a>:
Directly return a data set from a package,
to allow straight-forward assignment.
</p>
</li></ul>

<p>Furthermore, there are two miscellaneous <code>import_</code> - functions:
<a href="#topic+import_LL">import_LL</a> and <a href="#topic+import_int">import_int</a>. <br />
<br />
The import system also includes general helper functions:
</p>

<ul>
<li><p> The <a href="#topic+help.import">x.import</a> functions:
helper functions specifically for the 'tinycodet' import system.
</p>
</li>
<li><p> The <a href="#topic+pversion">pversion</a>_ functions:
check mismatch between loaded package version and package version in library path.
</p>
</li>
<li><p> The <a href="#topic+pkg_get_deps">pkgs</a> - functions:
general helper functions regarding packages.
</p>
</li></ul>

<p>See the examples section below
to get an idea of how the 'tinycodet' import system works in practice.
More examples can be found on the website (<a href="https://tony-aw.github.io/tinycodet/">https://tony-aw.github.io/tinycodet/</a>)
</p>


<h3>Details</h3>

<p><b>When to Use or Not to Use the 'tinycodet' Import System</b> <br />
The 'tinycodet' import system is helpful particularly
for packages that have at least one of the following properties:
</p>

<ul>
<li><p> The namespace of the package(s) conflicts with other packages.
</p>
</li>
<li><p> The namespace of the package(s) conflicts with core R,
or with those of recommended R packages.
</p>
</li>
<li><p> The package(s) have function names that are generic enough,
such that it is not obvious which function came from which package.
</p>
</li></ul>

<p>See examples below. <br />
<br />
There is no necessity for using the 'tinycodet' import system with every single package.
One can safely attach the 'stringi' package, for example,
as 'stringi' uses a unique and immediately recognisable naming scheme
(virtually all 'stringi' functions start with &quot;<code>stri_</code>&quot;),
and this naming scheme does not conflict with core R, nor with most other packages. <br />
<br />
Of course, if one wishes to use a package (like
'stringi') <b>only</b> within a specific environment,
like only inside a function,
it becomes advantageous to still import the package using the 'tinycodet' import system.
In that case the <a href="#topic+import_LL">import_LL</a> function would be most applicable. <br />
<br /> <br />
<b>Some Additional Comments on the 'tinycodet' Import System</b> <br />
</p>

<ul>
<li><p> (S3) Methods will automatically be registered.
</p>
</li>
<li><p> Pronouns, such as the <code>.data</code> and <code>.env</code> pronouns
from the 'rlang' package, will work without any prefixes required.
</p>
</li>
<li><p> All functions imported by the
<a href="#topic+import_as">import_as</a>, <a href="#topic+import_inops">import_inops</a>, or <a href="#topic+import_LL">import_LL</a> functions
have a &quot;package&quot; attribute,
so you will always know which function came from which package.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+tinycodet_help">tinycodet_help</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
all(c("dplyr", "powerjoin", "magrittr") %installed in% .libPaths())




# NO packages are being attached in any of the following code

# import 'dplyr' + its re-exports + extension 'powerjoin', under alias "dpr.":
import_as(
  ~ dpr., "dplyr", re_exports = TRUE, extensions = "powerjoin"
)

# exposing infix operators from 'magrrittr' to current environment:
import_inops("magrittr")

# directly assigning dplyr's "starwars" dataset to object "d":
d &lt;- import_data("dplyr", "starwars")

# See it in Action:
d %&gt;% dpr.$filter(species == "Droid") %&gt;%
  dpr.$select(name, dpr.$ends_with("color"))

male_penguins &lt;- dpr.$tribble(
  ~name,    ~species,     ~island, ~flipper_length_mm, ~body_mass_g,
  "Giordan",    "Gentoo",    "Biscoe",               222L,        5250L,
  "Lynden",    "Adelie", "Torgersen",               190L,        3900L,
  "Reiner",    "Adelie",     "Dream",               185L,        3650L
)

female_penguins &lt;- dpr.$tribble(
  ~name,    ~species,  ~island, ~flipper_length_mm, ~body_mass_g,
  "Alonda",    "Gentoo", "Biscoe",               211,        4500L,
  "Ola",    "Adelie",  "Dream",               190,        3600L,
  "Mishayla",    "Gentoo", "Biscoe",               215,        4750L,
)
dpr.$check_specs()

dpr.$power_inner_join(
  male_penguins[c("species", "island")],
  female_penguins[c("species", "island")]
)

mypaste &lt;- function(x, y) {
  import_LL("stringi", selection = "stri_c")
  stringi::stri_c(x, y)
}
mypaste("hello ", "world")



</code></pre>

<hr>
<h2 id='aaa3_tinycodet_strings'>Overview of the 'tinycodet' Extension of 'stringi'</h2><span id='topic+aaa3_tinycodet_strings'></span><span id='topic+tinycodet_strings'></span>

<h3>Description</h3>

<p>Virtually every programming language,
even those primarily focused on mathematics,
will at some point have to deal with strings.
R's atomic classes boil down to some form of either numbers or characters.
R's numerical functions are generally very fast.
But R's native string functions are somewhat slow,
do not have a unified naming scheme,
and are not as comprehensive as R's impressive numerical functions.
The primary R-package that fixes this is 'stringi'. <br />
<br />
'stringi' is arguably the fastest and most comprehensive
string manipulation package available at the time of writing.
Many string related packages fully depend on 'stringi'
(see its reverse-dependencies on CRAN). <br />
<br />
As string manipulation is so important to programming languages,
'tinycodet' adds a little bit new functionality to 'stringi'. <br />
<br />
'tinycodet' adds the following functions to extend 'stringi':
</p>

<ul>
<li><p> Find  <code class="reqn">i^{th}</code> pattern occurrence (<a href="#topic+stri_locate_ith">stri_locate_ith</a>),
or <code class="reqn">i^{th}</code> text boundary (<a href="#topic+stri_locate_ith_boundaries">stri_locate_ith_boundaries</a>).
</p>
</li>
<li> <p><a href="#topic+stri_join_mat">Concatenate a character matrix row- or column-wise</a>. <br /> <br />
</p>
</li></ul>

<p>'tinycodet' adds the following operators,
to complement the already existing 'stringi' operators:
</p>

<ul>
<li><p> Infix operators for <a href="#topic++25s-+25">string arithmetic</a>.
</p>
</li>
<li><p> Infix operators for <a href="#topic++25sget+25">string sub-setting</a>,
which get or remove the first and/or last <code>n</code> characters from strings.
</p>
</li>
<li><p> Infix operators for <a href="#topic+str_search">detecting patterns</a>,
and <a href="#topic+strfind">strfind()&lt;-</a> for locating/extracting/replacing found patterns. <br /> <br />
</p>
</li></ul>

<p>And finally, 'tinycodet' adds the somewhat separate
<a href="#topic+strcut_loc">strcut_-functions</a>,
to cut strings into pieces without removing the delimiters. <br />
<br />
</p>


<h3>Regarding Vector Recycling in the 'stringi'-based Functions</h3>

<p>Generally speaking, vector recycling is supported as 'stringi' itself supports it also. <br />
There are, however, a few exceptions. <br />
First, matrix inputs
(like in <code>strcut_loc</code> and <a href="#topic+str_subset_ops">string sub-setting operators</a>)
will generally not be recycled. <br />
Second, the <code>i</code> argument in <a href="#topic+stri_locate_ith">stri_locate_ith</a> does not support vector recycling. <br />
Scalar recycling is virtually always supported.
</p>


<h3>References</h3>

<p>Gagolewski M., <b>stringi</b>: Fast and portable character string processing in R, <em>Journal of Statistical Software</em> 103(2), 2022, 1â€“59, <a href="https://doi.org/10.18637/jss.v103.i02">doi:10.18637/jss.v103.i02</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_help">tinycodet_help</a>, <a href="#topic+s_pattern">s_pattern</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# character vector:
x &lt;- c("3rd 1st 2nd", "5th 4th 6th")
print(x)

# detect if there are digits:
x %s{}% "\\d"

# find second last digit:
loc &lt;- stri_locate_ith(x, i = -2, regex = "\\d")
stringi::stri_sub(x, from = loc)

# cut x into matrix of individual words:
mat &lt;- strcut_brk(x, "word")

# sort rows of matrix using the fast %row~% operator:
rank &lt;- stringi::stri_rank(as.vector(mat)) |&gt; matrix(ncol = ncol(mat))
sorted &lt;- mat %row~% rank
sorted[is.na(sorted)] &lt;- ""

# join elements of every row into a single character vector:
stri_c_mat(sorted, margin = 1, sep = " ")

</code></pre>

<hr>
<h2 id='aaa4_tinycodet_dry'>Overview of the 'tinycodet' &quot;Don't Repeat Yourself&quot; Functionality</h2><span id='topic+aaa4_tinycodet_dry'></span><span id='topic+tinycodet_dry'></span>

<h3>Description</h3>

<p>&quot;Don't Repeat Yourself&quot;, sometimes abbreviated as &quot;DRY&quot;,
is the coding principle not to write unnecessarily repetitive code.
To help in that effort, the 'tinycodet' R-package
introduces a few functions:
</p>

<ul>
<li><p> The <a href="#topic+transform_if">transform_if</a> function
</p>
</li>
<li><p> The <a href="#topic++25unreal+20+3D+25">subset_if operators and the in-place unreal modifier operator</a>.
</p>
</li>
<li><p> The <a href="#topic++25+3A+3D+25">general in-place (mathematical) modification operator</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+tinycodet_help">tinycodet_help</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
object &lt;- matrix(c(-9:8, NA, NA) , ncol=2)

# in base R:
ifelse( # repetitive, and gives unnecessary warning
  is.na(object &gt; 0), -Inf,
  ifelse(
    object &gt; 0,  log(object), object^2
  )
)
mtcars$mpg[mtcars$cyl&gt;6] &lt;- (mtcars$mpg[mtcars$cyl&gt;6])^2 # long

# with tinycodet:
object |&gt; transform_if(\(x) x &gt; 0, log, \(x) x^2, \(x) -Inf) # compact &amp; no warning
mtcars$mpg[mtcars$cyl &gt; 6] %:=% \(x) x^2 # short


</code></pre>

<hr>
<h2 id='aaa5_tinycodet_misc'>Overview of the 'tinycodet' Miscellaneous Functionality</h2><span id='topic+aaa5_tinycodet_misc'></span><span id='topic+tinycodet_misc'></span>

<h3>Description</h3>

<p>Some additional functions provided by the 'tinycodet' R-package:
</p>

<ul>
<li> <p><a href="#topic++25xor+25">Infix logical operators</a> for exclusive-or, not-and, not-in, number-type, and string-type.
</p>
</li>
<li> <p><a href="#topic++25row~+25">Infix operators for row- and column-wise re-ordering of matrices</a>.
</p>
</li>
<li> <p><a href="#topic+report_inops">Report infix operators present in the current environment, or a specified environment.</a>
</p>
</li>
<li> <p><a href="#topic+source_selection">source_selection</a> to source only selected objects.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+tinycodet_help">tinycodet_help()</a></code>
</p>

<hr>
<h2 id='atomic_conversions'>Atomic Type Casting Without Stripping Attributes</h2><span id='topic+atomic_conversions'></span><span id='topic+as_bool'></span><span id='topic+as_int'></span><span id='topic+as_dbl'></span><span id='topic+as_chr'></span>

<h3>Description</h3>

<p>Atomic type casting in R is generally performed using the functions
<a href="base.html#topic+as.logical">as.logical</a>, <a href="base.html#topic+as.integer">as.integer</a>, <a href="base.html#topic+as.double">as.double</a>,
<a href="base.html#topic+as.character">as.character</a>. <br />
<br />
Converting an object between atomic types using these functions
strips the object of its attributes,
including attributes such as names and dimensions. <br />
<br />
The functions provided here by the 'tinycodet' package
preserve all attributes - except the &quot;class&quot; attribute. <br />
<br />
The functions are as follows: <br />
</p>

<ul>
<li> <p><code>as_bool()</code>: converts object to atomic type <code>logical</code> (<code>TRUE, FALSE, NA</code>).
</p>
</li>
<li> <p><code>as_int()</code>: converts object to atomic type <code>integer</code>.
</p>
</li>
<li> <p><code>as_dbl()</code>: converts object to atomic type <code>double</code> (AKA decimal numbers).
</p>
</li>
<li> <p><code>as_chr()</code>: converts object to atomic type <code>character</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>as_bool(x, ...)

as_int(x, ...)

as_dbl(x, ...)

as_chr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="atomic_conversions_+3A_x">x</code></td>
<td>
<p>vector, matrix, array
(or a similar object where all elements share the same type).</p>
</td></tr>
<tr><td><code id="atomic_conversions_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The converted object.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_safer">tinycodet_safer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(rep(0, 2), seq(0, 2.5, by=0.5)) |&gt; matrix(ncol=2)
colnames(x) &lt;- c("one", "two")
attr(x, "test") &lt;- "test"
print(x)

# notice that in all following, attributes (except class) are conserved:
as_bool(x)
as_int(x)
as_dbl(x)
as_chr(x)




</code></pre>

<hr>
<h2 id='decimal_truth'>Safer Decimal Number (In)Equality Testing Operators</h2><span id='topic+decimal_truth'></span><span id='topic++25d+3D+3D+25'></span><span id='topic++25d+21+3D+25'></span><span id='topic++25d+3C+25'></span><span id='topic++25d+3E+25'></span><span id='topic++25d+3C+3D+25'></span><span id='topic++25d+3E+3D+25'></span><span id='topic++25d+7B+7D+25'></span><span id='topic++25d+21+7B+7D+25'></span><span id='topic+is_wholenumber'></span>

<h3>Description</h3>

<p>The <code>%d==%, %d!=% %d&lt;%, %d&gt;%, %d&lt;=%, %d&gt;=%</code> (in)equality operators
perform decimal (type &quot;double&quot;) number truth testing. <br />
They are virtually equivalent to the regular (in)equality operators, <br />
<code>==, !=, &lt;, &gt;, &lt;=, &gt;=</code>, <br />
except for 2 aspects:
</p>

<ol>
<li><p> The decimal number (in)equality operators assume that
if the absolute difference between any 2 numbers
<code>x</code> and <code>y</code>
is smaller than the Machine tolerance,
<code>sqrt(.Machine$double.eps)</code>,
then <code>x</code> and <code>y</code>
should be consider to be equal. <br />
For example: <code>0.1*7 == 0.7</code> returns <code>FALSE</code>, even though they are equal,
due to the way decimal numbers are stored in programming languages like 'R' and  'Python'. <br />
But <code>0.1*7 %d==% 0.7</code> returns <code>TRUE</code>.
</p>
</li>
<li><p> Only numeric input is allowed, so characters are not coerced to numbers. <br />
I.e. <code>1 &lt; "a"</code> gives <code>TRUE</code>, whereas <code>1 %d&lt;% "a"</code> gives an error. <br />
For character equality testing, see <a href="stringi.html#topic++25s+3D+3D+25">%s==%</a> from the 'stringi' package.
</p>
</li></ol>

<p>Thus these operators provide safer decimal number (in)equality tests. <br />
<br />
There are also the <code>x %d{}% bnd</code> and <code>x %d!{}% bnd</code> operators,
where <code>bnd</code> is a vector of length 2,
or a 2-column matrix (<code>nrow(bnd)==length(x)</code> or <code>nrow(bnd)==1</code>). <br />
The <code>x %d{}% bnd</code> operator checks if <code>x</code>
is within the closed interval with bounds defined by <code>bnd</code>. <br />
The <code>x %d!{}% bnd</code> operator checks if <code>x</code>
is outside the closed interval with bounds defined by <code>bnd</code>. <br />
<br />
Moreover, the function <code>is_wholenumber()</code> is added, to safely test for whole numbers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %d==% y

x %d!=% y

x %d&lt;% y

x %d&gt;% y

x %d&lt;=% y

x %d&gt;=% y

x %d{}% bnd

x %d!{}% bnd

is_wholenumber(x, tol = sqrt(.Machine$double.eps))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decimal_truth_+3A_x">x</code>, <code id="decimal_truth_+3A_y">y</code></td>
<td>
<p>numeric vectors, matrices, or arrays.</p>
</td></tr>
<tr><td><code id="decimal_truth_+3A_bnd">bnd</code></td>
<td>
<p>either a vector of length 2, or a matrix with 2 columns and 1 row,
or else a matrix with 2 columns where <code>nrow(bnd)==length(x)</code>
(or can be recycled to be <code>nrow(bnd)==length(x)</code>). <br />
The first element/column of <code>bnd</code> gives the lower bound of the closed interval; <br />
The second element/column of <code>bnd</code> gives the upper bound of the closed interval. <br /></p>
</td></tr>
<tr><td><code id="decimal_truth_+3A_tol">tol</code></td>
<td>
<p>a single, strictly positive number close to zero, giving the tolerance.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector with the same dimensions as <code>x</code>,
indicating the result of the element by element comparison.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_safer">tinycodet_safer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(0.3, 0.6, 0.7)
y &lt;- c(0.1*3, 0.1*6, 0.1*7)
print(x); print(y)
x == y # gives FALSE, but should be TRUE
x!= y # gives TRUE, should be FALSE
x &gt; y # not wrong
x &lt; y # gives TRUE, should be FALSE
x %d==% y # here it's done correctly
x %d!=% y # correct
x %d&lt;% y # correct
x %d&gt;% y # correct
x %d&lt;=% y # correct
x %d&gt;=% y # correct

x &lt;- c(0.3, 0.6, 0.7)
bnd &lt;- cbind(x-0.1, x+0.1)
x %d{}% bnd
x %d!{}% bnd

# These operators work for integers also:
x &lt;- 1L:5L
y &lt;- 1L:5L
x %d==% y
x %d!=% y
x %d&lt;% y
x %d&gt;% y
x %d&lt;=% y
x %d&gt;=% y

x &lt;- 1L:5L
y &lt;- x+1
x %d==% y
x %d!=% y
x %d&lt;% y
x %d&gt;% y
x %d&lt;=% y
x %d&gt;=% y

x &lt;- 1L:5L
y &lt;- x-1
x %d==% y
x %d!=% y
x %d&lt;% y
x %d&gt;% y
x %d&lt;=% y
x %d&gt;=% y

# is_wholenumber:
is_wholenumber(1:10 + c(0, 0.1))


</code></pre>

<hr>
<h2 id='form'>Construct Formula With Safer Environment Specification</h2><span id='topic+form'></span>

<h3>Description</h3>

<p>When creating a formula with the tilde ( <code style="white-space: pre;">&#8288;~ &#8288;</code>) operator,
and storing a formula in a variable to be used later,
the environment is captured by the formula. <br />
Therefore,
any object in the captured environment might not be freed from the memory,
potentially creating some memory leak
(see also the Examples section below). <br />
<br />
The <code>form()</code> function is a convenience function,
to create and return/store a formula more safely,
by having no default environment,
and allowing the user to specify the environment explicitly. <br />
It can also convert a single string to a formula,
again allowing for explicit environment specification,
and having no environment by default. <br /> <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form(f, env = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_+3A_f">f</code></td>
<td>
<p>either one of the following:
</p>

<ul>
<li><p> a literal single string, or a variable containing a single string. <br />
If a string is given that does not contain a tilde ( <code>~</code> ),
a tilde is prepended to the string before converting it to a formula. <br />
</p>
</li>
<li><p> a literal formula. <br />
Note that if a literal formula is given,
it must actually be a literal formula,
<b>not</b> a variable that contains a formula,
as that would defeat the whole point of the <code>form()</code> function. <br />
</p>
</li></ul>
</td></tr>
<tr><td><code id="form_+3A_env">env</code></td>
<td>
<p><a href="base.html#topic+environment">environment</a> of the formula. <br />
Defaults to <code>NULL</code>. <br /> <br /></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formula with no environment,
or a formula with the specified environment. <br /> <br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_safer">tinycodet_safer</a>, <a href="#topic+aes_pro">aes_pro</a>, <a href="#topic+with_pro">with_pro</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# basic examples ====

(myform &lt;- form(a ~ b))
(myform2 &lt;- form("a ~ b"))
mystring &lt;- "a ~ b"
(myform3 &lt;- form(mystring))
form("a")

myform &lt;- form(x ~ y)
environment(myform) # NULL
mydata &lt;- data.frame(x = rnorm(1e5), y = rnorm(1e5))
lm(myform, data = mydata)


#############################################################################


# showcasing environment capture ====
# see also http://adv-r.had.co.nz/memory.html


f1 &lt;- function() {
  foo &lt;- c(letters, LETTERS)
  return(10)
}
x1 &lt;- f1()
environment(x1) |&gt; as.list() # empty, since no formula is used inside f1(), so safe


f2 &lt;- function() {
  foo &lt;- c(letters, LETTERS)
  out &lt;- a ~ b
  return(out)
}
x2 &lt;- f2()
environment(x2) |&gt; as.list() # NOT safe: contains all objects from f2()
exists("foo", envir = environment(x2)) # = TRUE: "foo" still exists!
environment(x2)$foo # can still access it; probably won't be removed by gc()


f3 &lt;- function() {
  foo &lt;- c(letters, LETTERS)
  out &lt;- form(a ~ b)
  return(out)
}
x3 &lt;- f3()
environment(x3) |&gt; as.list() # empty, since form() is used, so safe


f4 &lt;- function() {
  foo &lt;- c(letters, LETTERS)
  out &lt;- form("a ~ b")
  return(out)
}
x4 &lt;- f4()
environment(x4) |&gt; as.list() # empty, since form() is used, so safe


</code></pre>

<hr>
<h2 id='import_as'>Import R-package, its Re-exports, Dependencies, and/or Extensions, Under a Single Alias</h2><span id='topic+import_as'></span>

<h3>Description</h3>

<p>The <code>import_as()</code> function
imports the namespace of an R-package,
and optionally also its re-exports, dependencies, and extensions,
all under the same alias.
The specified alias,
containing the exported functions from the specified packages,
will be placed in the current environment
(like the global environment, or the environment within a function). <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_as(
  alias,
  main_package,
  re_exports = TRUE,
  dependencies = NULL,
  extensions = NULL,
  lib.loc = .libPaths(),
  import_order = c("dependencies", "main_package", "extensions")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_as_+3A_alias">alias</code></td>
<td>
<p>a syntactically valid non-hidden name giving the alias object
where the package(s) are to be imported into. <br />
This name can be given either as a single string (i.e. <code>"alias."</code>),
or as a one-sided formula with a single term (i.e. <code>~ alias.</code>).</p>
</td></tr>
<tr><td><code id="import_as_+3A_main_package">main_package</code></td>
<td>
<p>a single string,
giving the name of the main package to import under the given alias.</p>
</td></tr>
<tr><td><code id="import_as_+3A_re_exports">re_exports</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code>.
</p>

<ul>
<li><p> If <code>re_exports = TRUE</code> the re-exports from the <code>main_package</code>
are added to the alias together with the main package.
This is the default, as it is analogous to the behaviour of base R's <a href="base.html#topic++3A+3A">::</a> operator.
</p>
</li>
<li><p> If <code>re_exports = FALSE</code>, these re-exports are not added together with the main package.
The user can still import the packages under the alias from which the re-exported functions came from,
by specifying them in the <code>dependencies</code> argument.
</p>
</li></ul>
</td></tr>
<tr><td><code id="import_as_+3A_dependencies">dependencies</code></td>
<td>
<p>an optional character vector,
giving the names of the dependencies of the
<code>main_package</code> to be imported also under the alias. <br />
Defaults to <code>NULL</code>, which means no dependencies are imported under the alias. <br />
See <a href="#topic+pkg_get_deps">pkg_get_deps</a> to quickly get dependencies from a package. <br /></p>
</td></tr>
<tr><td><code id="import_as_+3A_extensions">extensions</code></td>
<td>
<p>an optional character vector,
giving the names of the extensions of the
<code>main_package</code> to be imported also under the alias. <br />
Defaults to <code>NULL</code>, which means no extensions are imported under the alias. <br /></p>
</td></tr>
<tr><td><code id="import_as_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector specifying library search path
(the location of R library trees to search through). <br />
The <code>lib.loc</code> argument would usually be <code>.libPaths()</code>. <br />
See also <a href="base.html#topic+loadNamespace">loadNamespace</a>.</p>
</td></tr>
<tr><td><code id="import_as_+3A_import_order">import_order</code></td>
<td>
<p>the character vector <br />
<code>c("dependencies", "main_package", "extensions")</code>, <br />
or some re-ordering of this character vector,
giving the relative import order of the groups of packages. <br />
See Details section for more information. <br /></p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>Expanded Definitions of Some Arguments</b> <br />
</p>

<ul>
<li><p> &quot;Re-exports&quot; are functions that are defined in the dependencies of the
<code>main_package</code>, but are re-exported in the namespace of the <code>main_package</code>.
</p>
</li>
<li><p> &quot;Dependencies&quot; are here defined as any R-package appearing in the
&quot;Depends&quot;, &quot;Imports&quot;, or &quot;LinkingTo&quot; fields of the Description file of the
<code>main_package</code>. So no recursive dependencies.
</p>
</li>
<li><p> &quot;Extensions&quot; are reverse-dependencies that actually extend the functionality of the
<code>main_package</code>. <br />
Programmatically, some package &quot;E&quot; is considered an extension of some
&quot;main_package&quot;,
if the following is <code>TRUE</code>: <br />
<code>"main_package" %in% </code> <a href="#topic+pkg_get_deps_minimal">pkg_get_deps_minimal</a><code>("E")</code> <br /> <br />
</p>
</li></ul>

<p><b>Why Aliasing Multiple Packages is Useful</b> <br />
To use an R-package with its extension packages or dependencies,
whilst avoiding the disadvantages of attaching a package (see <a href="#topic+tinycodet_import">tinycodet_import</a>),
one would traditionally use the <a href="base.html#topic++3A+3A">::</a> operator like so: <br />
</p>
<div class="sourceCode r"><pre>main_package::some_function1()
dependency1::some_function2()
extension1::some_function3()
</pre></div>
<p>This becomes cumbersome as more packages are needed and/or
as the package name(s) become longer. <br />
The <code>import_as()</code> function avoids this issue
by allowing multiple <b>related</b> packages to be imported under a single alias,
allowing one to code like this:
</p>
<div class="sourceCode r"><pre>import_as(
   ~ alias., "main_package",
   dependencies = "dependency1", extensions = "extension1",
   lib.loc = .libPaths()
)
alias.$some_function1()
alias.$some_function2()
alias.$some_function3()
</pre></div>
<p>Thus importing a package, or multiple directly related packages, under a single alias,
which <code>import_as()</code> provides, avoids the above issues.
Importing a package under an alias is referred to as &quot;aliasing&quot; a package. <br />
<br />
<br />
<b>Alias Naming Recommendation</b> <br />
To keep package alias object names easily distinguishable from other objects
that can also be subset with the <a href="base.html#topic++24">$</a> operator,
I recommend ending (not starting!) all alias names
with a dot (<code>.</code>) or underscore (<code>_</code>). <br />
<br />
<br />
<b>Regarding <code>import_order</code></b> <br />
The order of the character vector given in
the <code>dependencies</code> and <code>extensions</code> arguments matters.
If multiple packages share objects with the same name,
the objects of the package named last will overwrite those of the earlier named packages. <br />
<br />
The <code>import_order</code> argument defaults to the character vector <br />
<code>c("dependencies", "main_package", "extensions")</code>, <br />
which is the recommended setting. <br />
This setting results in the following importing order: <br />
</p>

<ol>
<li><p> The dependencies, <b>in the order specified by the <code>depenencies</code> argument</b>.
</p>
</li>
<li><p> The main_package (see argument <code>main_package</code>),
including re-exports (if <code>re_exports = TRUE</code>).
</p>
</li>
<li><p> The extensions, <b>in the order specified by the <code>extensions</code> argument</b>. <br /> <br />
</p>
</li></ol>

<p><b>Other Details</b> <br />
The <code>import_as()</code> function
does not support importing base/core R under an alias. <br />
Packages that appear in the &quot;Suggests&quot; or &quot;Enhances&quot; fields of packages
are not considered dependencies or extensions. <br />
No more than 10 packages are allowed to be imported under a single alias. <br />
<br />
</p>


<h3>Value</h3>

<p>A locked environment object, similar to the output of <a href="base.html#topic+loadNamespace">loadNamespace</a>,
with the name as specified in the <code>alias</code> argument,
will be created. <br />
This object, referred to as the &quot;(package) alias object&quot;,
will contain the exported functions from the specified package(s). <br />
The alias object will be placed in the current environment
(like the global environment, or the environment within a function). <br />
<br />
To use, for example, function &quot;some_function()&quot; from alias &quot;alias.&quot;, use: <br />
<code>alias.$some_function()</code> <br />
To see the special attributes of this alias object, use <a href="#topic+attr.import">attr.import</a>. <br />
To &quot;unimport&quot; the package alias object, simply remove it (i.e. <code>rm(list = "alias.")</code>). <br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
all(c("data.table", "tidytable") %installed in% .libPaths())

import_as( # this creates the 'tdt.' object
  "tdt.", "tidytable", dependencies = "data.table"
)
# same as:
import_as(
  ~ tdt., "tidytable", dependencies = "data.table"
)



</code></pre>

<hr>
<h2 id='import_data'>Directly Return a Data-set From a Package</h2><span id='topic+import_data'></span>

<h3>Description</h3>

<p>The <code>import_data()</code> function gets a specified data set from a package. <br />
Unlike <code>utils::data()</code>, the <code>import_data()</code> function returns the data set directly,
and allows assigning the data set like so: <br />
<code>mydata &lt;- import_data(...)</code>. <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_data(package, dataname, lib.loc = .libPaths())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_data_+3A_package">package</code></td>
<td>
<p>a single string, giving the name of the R-package.</p>
</td></tr>
<tr><td><code id="import_data_+3A_dataname">dataname</code></td>
<td>
<p>a single string, giving the name of the data set.</p>
</td></tr>
<tr><td><code id="import_data_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector specifying library search path
(the location of R library trees to search through). <br />
The <code>lib.loc</code> argument would usually be <code>.libPaths()</code>. <br />
See also <a href="base.html#topic+loadNamespace">loadNamespace</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the data directly.
Thus, one can assign the data like so: <code>mydata &lt;- import_data(...)</code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- import_data("datasets", "cars")
head(d)



</code></pre>

<hr>
<h2 id='import_inops'>(Un)Expose Infix Operators From Package Namespace in the Current Environment</h2><span id='topic+import_inops'></span>

<h3>Description</h3>

<p><code>import_inops(expose = ...)</code>
exposes infix operators specified
in a package or an alias object to the current environment
(like the global environment or the environment within a function). <br />
<br />
<code>import_inops(unexpose = ...)</code>
&quot;unexposes&quot; (i.e. removes) the infix operators specified
in a package or an alias object
from the current environment
(like the global environment or the environment within a function). <br />
Note that in this case only infix operators exposed by
the 'tinycodet' import system
will be removed from the current environment;
&quot;regular&quot; (i.e. user-specified) infix operators will not be touched. <br />
<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_inops(expose = NULL, unexpose = NULL, lib.loc = .libPaths(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_inops_+3A_expose">expose</code>, <code id="import_inops_+3A_unexpose">unexpose</code></td>
<td>
<p>either one of the following:
</p>

<ul>
<li><p> an alias object as produced by the <a href="#topic+import_as">import_as</a> function.
</p>
</li>
<li><p> a string giving the package name.
</p>
</li></ul>
</td></tr>
<tr><td><code id="import_inops_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector specifying library search path
(the location of R library trees to search through). <br />
Only used when supplying a string to
<code>expose</code> / <code>unexpose</code>,
and ignored when supplying an alias object to
<code>expose</code> / <code>unexpose</code>
(the library is path already stored inside the alias object). <br />
The <code>lib.loc</code> argument would usually be <code>.libPaths()</code>. <br />
See also <a href="base.html#topic+loadNamespace">loadNamespace</a>.</p>
</td></tr>
<tr><td><code id="import_inops_+3A_...">...</code></td>
<td>
<p>additional arguments,
only relevant if the <code>expose</code> argument is used. <br />
See <a href="#topic+import_inops.control">import_inops.control</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>Why Exposing Infix Operators Is Useful</b> <br />
To use a function from an R-package,
while avoiding the disadvantages of attaching a package
(see <a href="#topic+tinycodet_import">tinycodet_import</a>),
one would traditionally use the <a href="base.html#topic++3A+3A">::</a> operator like so:
</p>
<div class="sourceCode r"><pre>packagename::function_name()
</pre></div>
<p>This is, however, cumbersome with infix operators,
as it forces one to code like this:
</p>
<div class="sourceCode r"><pre>packagename::`%op%`(x,y)
</pre></div>
<p>Exposing infix operators to the current environment,
using the <code>import_inops()</code> function,
allows one to use infix operators without using cumbersome code,
and without having to attach the infix operators globally. <br />
<br />
<br />
<b>Other Details</b> <br />
The <code>import_inops()</code> function does not support overloading base/core R operators. <br />
<br />
When using <code>import_inops()</code> to remove infix operators from the current environment,
it will use the attributes of those operators to determine if the infix operator came from
the 'tinycodet' import system or not.
Only infix operators exposed by the 'tinycodet' import system will be removed.
</p>


<h3>Value</h3>

<p>If using argument <code>expose</code>: <br />
The infix operators specified in the given package or alias will be placed
in the current environment
(like the Global environment, or the environment within a function). <br />
<br />
If using argument <code>unexpose</code>: <br />
The infix operators specified in the given package or alias,
exposed by <code>import_inops()</code>, will be removed from the current environment
(like the Global environment, or the environment within a function). <br />
If such infix operators could not be found, this function simply returns <code>NULL</code>. <br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>, <code><a href="#topic+import_inops.control">import_inops.control()</a></code>, <code><a href="#topic+report_inops">report_inops()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
import_inops(expose = "stringi") # expose infix operators from package
import_inops(unexpose = "stringi") # remove the exposed infix operators from environment

import_as(~ stri., "stringi")
import_inops(expose = stri.) # expose infix operators from alias
import_inops(unexpose = stri.) # unexposed infix operators from current environment


# additional arguments (only used when exposing, not unexposing):
import_inops(expose = "stringi", exclude = "%s==%")
import_inops(unexpose = "stringi")
import_inops(expose = "stringi", overwrite = FALSE)
import_inops(unexpose = "stringi")

import_as(~ stri., "stringi")
import_inops(expose = stri., include.only = "%s==%")
import_inops(unexpose = stri.)
import_inops(expose = stri., overwrite = FALSE)
import_inops(unexpose = stri.)




</code></pre>

<hr>
<h2 id='import_inops.control'>import_inops.control</h2><span id='topic+import_inops.control'></span>

<h3>Description</h3>

<p>Additional arguments to control exposing infix operators in the <a href="#topic+import_inops">import_inops</a> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_inops.control(
  exclude = NULL,
  include.only = NULL,
  overwrite = TRUE,
  inherits = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_inops.control_+3A_exclude">exclude</code></td>
<td>
<p>a character vector,
giving the infix operators NOT to expose to the current environment. <br />
This can be handy to prevent overwriting any (user defined)
infix operators already present in the current environment. <br /></p>
</td></tr>
<tr><td><code id="import_inops.control_+3A_include.only">include.only</code></td>
<td>
<p>a character vector,
giving the infix operators to expose to the current environment,
and the rest of the operators will not be exposed. <br />
This can be handy to prevent overwriting any (user defined)
infix operators already present in the current environment. <br /></p>
</td></tr>
<tr><td><code id="import_inops.control_+3A_overwrite">overwrite</code></td>
<td>
<p>logical,
indicating if it is allowed to overwrite existing infix operators.
</p>

<ul>
<li><p> If <code>TRUE</code> (default), a warning is given when operators existing in the current environment
are being overwritten,
but the function continuous nonetheless.
</p>
</li>
<li><p> If <code>FALSE</code>, an error is produced
when the to be exposed operators already exist in the current environment,
and the function is halted.
</p>
</li></ul>
</td></tr>
<tr><td><code id="import_inops.control_+3A_inherits">inherits</code></td>
<td>
<p>logical; indicating whether
enclosed environments,
especially package namespaces,
should also be taken into account (<code>TRUE</code>), or not (<code>FALSE</code>). <br />
Defaults to <code>FALSE</code>. <br />
See also <a href="base.html#topic+exists">exists</a>. <br /></p>
</td></tr>
</table>


<h3>Details</h3>

<p>You cannot specify both the <code>exclude</code> and <code>include.only</code> arguments.
Only one or the other, or neither. <br />
<br />
</p>


<h3>Value</h3>

<p>This function is used internally in the <a href="#topic+import_inops">import_inops</a> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+import_inops">import_inops()</a></code>, <code><a href="#topic+tinycodet_import">tinycodet_import()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# additional arguments (only used when exposing, not unexposing):
import_as(~ stri., "stringi")
import_inops(expose = stri., include.only = "%s==%")
import_inops(unexpose = stri.)
import_inops(expose = "stringi", exclude = "%s==%")
import_inops(unexpose = "stringi")
import_inops(expose = stri., overwrite = FALSE)
import_inops(unexpose = stri.)
import_inops(expose = "stringi", overwrite = FALSE)
import_inops(unexpose = "stringi")


</code></pre>

<hr>
<h2 id='import_LL'>Miscellaneous import_ - Functions</h2><span id='topic+import_LL'></span><span id='topic+import_int'></span>

<h3>Description</h3>

<p>The <code>import_LL()</code> function
places specific functions from a package in the current environment,
and also locks (see <a href="base.html#topic+lockBinding">lockBinding</a>) the specified functions to prevent modification. <br />
The primary use-case for this function is for exposing functions inside a local environment,
like the environment within a function. <br />
<br />
The <code>import_int()</code> function
directly returns an internal function from a package. <br />
It is similar to the <a href="base.html#topic++3A+3A+3A">:::</a> operator, but with 2 key differences: <br />
</p>

<ol>
<li> <p><code>import_int()</code> includes the <code>lib.loc</code> argument.
</p>
</li>
<li> <p><code>import_int()</code> only searches internal functions, not exported ones.
This makes it clearer in your code that you're using an internal function,
instead of making it ambiguous. <br /> <br />
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>import_LL(package, selection, lib.loc = .libPaths())

import_int(form, lib.loc = .libPaths())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_LL_+3A_package">package</code></td>
<td>
<p>a single string,
giving the name of the package to take functions from.</p>
</td></tr>
<tr><td><code id="import_LL_+3A_selection">selection</code></td>
<td>
<p>a character vector of function names
(both regular functions and infix operators). <br />
Internal functions or re-exported functions are not supported.</p>
</td></tr>
<tr><td><code id="import_LL_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector specifying library search path
(the location of R library trees to search through). <br />
The <code>lib.loc</code> argument would usually be <code>.libPaths()</code>. <br />
See also <a href="base.html#topic+loadNamespace">loadNamespace</a>.</p>
</td></tr>
<tr><td><code id="import_LL_+3A_form">form</code></td>
<td>
<p>a two-sided formula, with one term on each side. <br />
The term on the left hand side should give a single package name. <br />
The term on the right hand side should give a single internal function. <br />
Example: <code>package_name ~ function_name</code> <br /></p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>Regarding the Locks in <code>import_LL()</code></b> <br />
The <a href="#topic+import_as">import_as</a> function returns a locked environment,
just like <a href="base.html#topic+loadNamespace">loadNamespace</a>,
thus protecting the functions from accidental modification or re-assignment. <br />
The <a href="#topic+import_inops">import_inops</a> function returns infix operators,
and though these are not locked,
one needs to surround infix operators by back ticks to re-assign or modify them,
which is unlikely to happen on accident. <br />
The <code>import_LL()</code> function, however, returns &quot;loose&quot; functions.
And these functions
(unless they are infix operators)
do not have the protection due to a locked environment or due to the syntax. <br />
Therefore, to ensure safety from (accidental) modification or re-assignment,
the <code>import_LL()</code> function locks these functions (see <a href="base.html#topic+lockBinding">lockBinding</a>).
For consistency, infix operators exposed by <code>import_LL()</code> are also locked. <br />
<br />
<b>Other Details</b> <br />
The <code>import_LL()</code> and <code>import_int()</code> functions
do not support importing functions from base/core R. <br />
<br />
</p>


<h3>Value</h3>

<p>For <code>import_LL()</code>: <br />
The specified functions will be placed in the current environment
(like the global environment, or the environment within a function),
and locked. <br />
To unexpose or overwrite the functions, simply remove them; i.e.: <br />
<code>rm(list=c("some_function1", "some_function2")</code>). <br />
<br />
For <code>import_int()</code>: <br />
The function itself is returned directly. <br />
So one can assign the function directly to some variable, like so: <br />
<code>myfun &lt;- import_int(...)</code> <br />
or use it directly without re-assignment like so: <br />
<code>import_int(...)(...)</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Using import_LL ====
import_LL(
  "stringi", "stri_sub"
)
# the stri_sub() function now cannot be modified, only used or removed, because it's locked:
bindingIsLocked("stri_sub", environment()) # TRUE

mypaste &lt;- function(x, y) {
  import_LL("stringi", selection = "stri_c")
  stri_c(x, y)
  }
mypaste("hello ", "world")



# Using internal function ====
# Through re-assignment:
fun &lt;- import_int(tinycodet ~ .internal_paste, .libPaths())
fun("hello", "world")

# Or using directly:
import_int(
  tinycodet ~ .internal_paste, .libPaths()
)("hello", "world")



</code></pre>

<hr>
<h2 id='inplace'>General In-place Modifier Operator</h2><span id='topic+inplace'></span><span id='topic++25+3A+3D+25'></span>

<h3>Description</h3>

<p>The <code>x %:=% f</code> operator performs
in-place modification of some object <code>x</code>
with a function <code>f</code>. <br />
<br />
For example this:
</p>
<div class="sourceCode r"><pre>mtcars$mpg[mtcars$cyl &gt; 6] &lt;- mtcars$mpg[mtcars$cyl&gt;6]^2
</pre></div>
<p>Can now be re-written as:
</p>
<div class="sourceCode r"><pre>mtcars$mpg\[mtcars$cyl &gt; 6\] %:=% \(x) x^2
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>x %:=% f
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inplace_+3A_x">x</code></td>
<td>
<p>a variable.</p>
</td></tr>
<tr><td><code id="inplace_+3A_f">f</code></td>
<td>
<p>a (possibly anonymous) function to be applied in-place on <code>x</code>.
The function must take one argument only.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This operator does not return any value: <br />
It is an in-place modifier, and thus modifies the object directly.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_dry">tinycodet_dry</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
object &lt;- matrix(rpois(10, 10), ncol = 2)
print(object)
y &lt;- 3
object %:=% \(x) x + y # same as object &lt;- object + y
print(object)

</code></pre>

<hr>
<h2 id='lock'>Lock T, Lock F, or Create Locked Constants</h2><span id='topic+lock'></span><span id='topic+lock_TF'></span><span id='topic++25+3C-c+25'></span>

<h3>Description</h3>

<p>The <code>lock_TF()</code> function
locks the <code>T</code> and <code>F</code> values and sets them to <code>TRUE</code> and <code>FALSE</code>,
respectively,
to prevent the user from re-assigning them. <br />
Removing the created <code>T</code> and <code>F</code> objects
allows re-assignment again. <br />
<br />
The <code>X %&lt;-c% A</code> operator creates a <code>constant</code> <code>X</code>
and assigns <code>A</code> to it. <br />
Constants cannot be changed, only accessed or removed.
So if you have a piece of code that requires some unchangeable <code>constant</code>,
use this operator to create said <code>constant</code>. <br />
Removing constant <code>X</code> also removes its binding lock.
Thus to change a <code>constant</code>, simply remove it and re-create it. <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lock_TF(env)

X %&lt;-c% A
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lock_+3A_env">env</code></td>
<td>
<p>an optional environment to give,
determining in which environment <code>T</code> and <code>F</code> should be locked. <br />
When not specified, the current environment
(like the global environment, or the environment within a function)
is used. <br /></p>
</td></tr>
<tr><td><code id="lock_+3A_x">X</code></td>
<td>
<p>a syntactically valid unquoted name of the object to be created.</p>
</td></tr>
<tr><td><code id="lock_+3A_a">A</code></td>
<td>
<p>any kind of object to be assigned to <code>X</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that following statement
</p>
<div class="sourceCode r"><pre>x %&lt;-c% 2+2
print(x)
</pre></div>
<p>returns
</p>
<div class="sourceCode r"><pre>[1] 2
</pre></div>
<p>due to R's precedence rules.
Therefore, in such cases, the right hand side of
<code>X %&lt;-c% A</code> need to be surrounded with brackets.
I.e.:
</p>
<div class="sourceCode r"><pre>x %&lt;-c% (2 + 2)
</pre></div>
<p>Note that the <code>lock_TF()</code> function and <code>%s&lt;-c%</code> operator
create constants through <a href="base.html#topic+lockBinding">lockBinding</a>. <br />
The constants are protected from modification by copy,
but they are <b>not</b> protected from modification by reference
(see for example <code>collapse::</code><a href="collapse.html#topic+setv">setv</a>).
</p>


<h3>Value</h3>

<p>For <code>lock_TF()</code>: <br />
Two <code>constants</code>, namely <code>T</code> and <code>F</code>,
set to <code>TRUE</code> and <code>FALSE</code> respectively,
are created in the specified or else current environment,
and locked.
Removing the created <code>T</code> and <code>F</code> objects allows re-assignment again. <br />
<br />
For <code>X %&lt;-c% A</code>: <br />
The object <code>X</code> containing <code>A</code> is created in the current environment,
and this object cannot be changed. It can only be accessed or removed.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_safer">tinycodet_safer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lock_TF()
X %&lt;-c% data.frame(x = 3, y = 2) # this data.frame cannot be changed. Only accessed or removed.
X[1, ,drop=FALSE]


</code></pre>

<hr>
<h2 id='logic_ops'>Additional Logic Operators</h2><span id='topic+logic_ops'></span><span id='topic++25xor+25'></span><span id='topic++25n+26+25'></span><span id='topic++25out+25'></span><span id='topic++25+3F+3D+25'></span><span id='topic++25+3Dnumtype+25'></span><span id='topic++25+3Dstrtype+25'></span>

<h3>Description</h3>

<p>Additional logic operators: <br />
<br />
The <code>x %xor% y</code> operator is the &quot;exclusive-or&quot; operator,
the same as <a href="base.html#topic+xor">xor</a><code>(x, y)</code>. <br />
<br />
The <code>x %n&amp;%</code> operator is the &quot;not-and&quot; operator,
the same as <code>(!x) &amp; (!y)</code>. <br />
<br />
The <code>x %out% y</code> operator is the same as <code>!x %in% y</code>. <br />
<br />
The <code>x %?=% y</code> operator checks if <code>x</code> and <code>y</code>
are <b>both</b> unreal or unknown (i.e. NA, NaN, Inf, -Inf). <br />
<br />
The <code>n %=numtype% numtype</code> operator checks
for every value of numeric vector <code>n</code>
if it can be considered a number belonging to type <code>numtype</code>. <br />
<br />
The <code>s %=strtype% strtype</code> operator checks
for every value of character vector <code>s</code>
if it can seen as a certain <code>strtype</code>. <br />
<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %xor% y

x %n&amp;% y

x %out% y

x %?=% y

n %=numtype% numtype

s %=strtype% strtype
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logic_ops_+3A_x">x</code>, <code id="logic_ops_+3A_y">y</code></td>
<td>
<p>see <a href="base.html#topic+Logic">Logic</a>.</p>
</td></tr>
<tr><td><code id="logic_ops_+3A_n">n</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="logic_ops_+3A_numtype">numtype</code></td>
<td>
<p>a single string giving the numeric type to be checked. <br />
See Details section for supported types.</p>
</td></tr>
<tr><td><code id="logic_ops_+3A_s">s</code></td>
<td>
<p>a character vector.</p>
</td></tr>
<tr><td><code id="logic_ops_+3A_strtype">strtype</code></td>
<td>
<p>a single string giving the string type to be checked. <br />
See Details section for supported types.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For argument <code>numtype</code>, the following options are supported: <br />
</p>

<ul>
<li> <p><code>"~0"</code>: zero, or else a number whose absolute value is smaller than the
Machine tolerance (<code>sqrt(.Machine$double.eps)</code>).
</p>
</li>
<li> <p><code>"B"</code>: binary numbers (exactly 0 or exactly 1);
</p>
</li>
<li> <p><code>"prop"</code>: proportions - numbers between 0 and 1 (exactly 0 or 1 is also allowed);
</p>
</li>
<li> <p><code>"I"</code>: Integers;
</p>
</li>
<li> <p><code>"odd"</code>: odd integers;
</p>
</li>
<li> <p><code>"even"</code>: even integers;
</p>
</li>
<li> <p><code>"R"</code>: Real numbers;
</p>
</li>
<li> <p><code>"unreal"</code>: infinity, NA, or NaN; <br /> <br />
</p>
</li></ul>

<p>For argument <code>strtype</code>, the following options are supported: <br />
</p>

<ul>
<li> <p><code>"empty"</code>: checks if the string only consists of empty spaces.
</p>
</li>
<li> <p><code>"unreal"</code>: checks if the string is NA, or if it has literal string &quot;NA&quot;, &quot;NaN&quot; or &quot;Inf&quot;,
regardless if it has leading or trailing spaces.
</p>
</li>
<li> <p><code>"numeric"</code>: checks if the string can be converted to a number,
disregarding leading and trailing spaces.
I.e. the string &quot;5.0&quot; can be converted to the the actual number <code>5.0</code>.
</p>
</li>
<li> <p><code>"special"</code>: checks if the string consists of only special characters. <br /> <br />
</p>
</li></ul>



<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(TRUE, FALSE, TRUE, FALSE, NA, NaN, Inf, -Inf, TRUE, FALSE)
y &lt;- c(FALSE, TRUE, TRUE, FALSE, rep(NA, 6))
outcome &lt;- data.frame(
  x = x, y = y,
  "x %xor% y" = x %xor% y, "x %n&amp;% y" = x %n&amp;% y, "x %?=% y" = x %?=% y,
  check.names = FALSE
)
print(outcome)

1:3 %out% 1:10
1:10 %out% 1:3


n &lt;- c(0:5, 0:-5, 0.1, -0.1, 0, 1, Inf, -Inf, NA, NaN)
1e-20 %=numtype% "~0"
n[n %=numtype% "B"]
n[n %=numtype% "prop"]
n[n %=numtype% "I"]
n[n %=numtype% "odd"]
n[n %=numtype% "even"]
n[n %=numtype% "R"]
n[n %=numtype% "unreal"]

s &lt;- c(" AbcZ123 ", " abc ", " 1.3 ", " !#$%^&amp;*() ", "  ", "  NA  ", "  NaN  ", " Inf ")
s[s %=strtype% "empty"]
s[s %=strtype% "unreal"]
s[s %=strtype% "numeric"]
s[s %=strtype% "special"]



</code></pre>

<hr>
<h2 id='matrix_ops'>Row- or Column-wise Re-ordering of Matrices</h2><span id='topic+matrix_ops'></span><span id='topic++25row~+25'></span><span id='topic++25col~+25'></span>

<h3>Description</h3>

<p>Infix operators for custom row- and column-wise re-ordering of matrices. <br />
<br />
The <code>x %row~% mat</code> operator re-orders the elements of every row,
each row ordered independently from the other rows, of matrix <code>x</code>,
according to the ordering ranks given in matrix <code>mat</code>. <br />
<br />
The <code>x %col~% mat</code> operator re-orders the elements of every column,
each column ordered independently from the other columns, of matrix <code>x</code>,
according to the ordering ranks given in matrix <code>mat</code>. <br /> <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %row~% mat

x %col~% mat
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrix_ops_+3A_x">x</code></td>
<td>
<p>a matrix</p>
</td></tr>
<tr><td><code id="matrix_ops_+3A_mat">mat</code></td>
<td>
<p>a matrix with the same dimensions as <code>x</code>,
giving the ordering ranks of every element of matrix <code>x</code>. <br /></p>
</td></tr>
</table>


<h3>Details</h3>

<p>If matrix <code>x</code> is a numeric matrix,
and one wants to sort the elements of every row or column numerically,
<code>x %row~% x</code> or <code>x %col~% x</code> would suffice, respectively. <br />
<br />
If matrix <code>x</code> is not numeric,
sorting the elements using <code>x %row~% x</code> and <code>x %col~% x</code> is still possible,
but probably not the best option.
In the non-numeric case,
providing a matrix of ordering ranks for <code>mat</code> would be faster and give more accurate ordering.
See the examples section. <br />
<br />
If <code>mat</code> is a matrix of non-repeating random integers, i.e. <br />
<code>mat &lt;- sample(seq_along(x)) |&gt; matrix(ncol = ncol(x))</code>) <br />
then the code <br />
<code>x %row~% mat</code> <br />
will randomly shuffle the elements of every row of <code>x</code>,
where the shuffling order in each row is independent from the shuffling order in the other rows. <br />
Similarly, <br />
<code>x %col~% mat</code> <br />
will randomly shuffle the elements of every column of <code>x</code>,
where the shuffling order in each column is independent from the shuffling order in the other columns. <br />
<br />
Re-ordering/sorting every row/column of a matrix with these operators
is generally faster than doing so through loops or apply-like functions. <br />
<br />
Note that these operators strip all attributes except dimensions. <br />
<br />
</p>


<h3>Value</h3>

<p>A modified matrix.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_misc">tinycodet_misc</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# numeric matrix ====

x &lt;- matrix(sample(1:25), nrow = 5)
print(x)
x %row~% x # sort elements of every row independently
x %row~% -x # reverse-sort elements of every row independently
x %col~% x # sort elements of every column independently
x %col~% -x # reverse-sort elements of every column independently

x &lt;- matrix(sample(1:25), nrow = 5)
print(x)
mat &lt;- sample(seq_along(x)) |&gt; matrix(ncol = ncol(x))
x %row~% mat # randomly shuffle every row independently
x %col~% mat # randomly shuffle every column independently

# character matrix ====

x &lt;- matrix(sample(letters, 25), nrow = 5)
print(x)
mat &lt;- stringi::stri_rank(as.vector(x)) |&gt; matrix(ncol=ncol(x))
x %row~% mat # sort elements of every row independently
x %row~% -mat # reverse-sort elements of every row independently
x %col~% mat # sort elements of every column independently
x %col~% -mat # reverse-sort elements of every column independently

x &lt;- matrix(sample(letters, 25), nrow = 5)
print(x)
mat &lt;- sample(seq_along(x)) |&gt; matrix(ncol = ncol(x))
x %row~% mat # randomly shuffle every row independently
x %col~% mat # randomise shuffle every column independently



</code></pre>

<hr>
<h2 id='pkgs'>Miscellaneous Package Related Functions</h2><span id='topic+pkgs'></span><span id='topic++25installed+20in+25'></span><span id='topic+pkg_get_deps'></span><span id='topic+pkg_get_deps_minimal'></span><span id='topic+pkg_lsf'></span>

<h3>Description</h3>

<p>The <code>pkgs %installed in% lib.loc</code> operator
checks if one or more packages (<code>pkgs</code>) exist
in a library location (<code>lib.loc</code>), without loading the packages. <br />
The syntax of this operator forces the user to make it
syntactically explicit
where to look for installed R-packages. <br />
As <code>pkgs %installed in% lib.loc</code> does not even load a package,
the user can safely use it
without fearing any unwanted side-effects. <br />
<br />
The <code>pkg_get_deps()</code> function gets the <b>direct</b> dependencies of a package
from the Description file. It works on non-CRAN packages also. <br />
<br />
The <code>pkg_get_deps_minimal()</code> function is the same as
<code>pkg_get_deps()</code>,
except with
<code>base, recom, rstudioapi, shared_tidy</code>
all set to <code>FALSE</code>,
and the default value for <code>deps_type</code> is c(&quot;Depends&quot;, &quot;Imports&quot;). <br />
<br />
The <code>pkg_lsf()</code> function
gets a list of exported functions/operators from a package. <br />
One handy use for this function is to, for example,
globally attach all infix operators from a package using <code>library</code>,
like so:
</p>
<div class="sourceCode r"><pre>library(packagename, include.only = pkg_lsf("packagename", type = "inops"))
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>pkgs %installed in% lib.loc

pkg_get_deps(
  package,
  lib.loc = .libPaths(),
  deps_type = c("LinkingTo", "Depends", "Imports"),
  base = FALSE,
  recom = TRUE,
  rstudioapi = TRUE,
  shared_tidy = TRUE
)

pkg_get_deps_minimal(
  package,
  lib.loc = .libPaths(),
  deps_type = c("Depends", "Imports")
)

pkg_lsf(package, type, lib.loc = .libPaths())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkgs_+3A_pkgs">pkgs</code></td>
<td>
<p>a character vector with the package name(s).</p>
</td></tr>
<tr><td><code id="pkgs_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector specifying library search path
(the location of R library trees to search through). <br />
The <code>lib.loc</code> argument would usually be <code>.libPaths()</code>. <br />
See also <a href="base.html#topic+loadNamespace">loadNamespace</a>.</p>
</td></tr>
<tr><td><code id="pkgs_+3A_package">package</code></td>
<td>
<p>a single string giving the package name.</p>
</td></tr>
<tr><td><code id="pkgs_+3A_deps_type">deps_type</code></td>
<td>
<p>a character vector, giving the dependency types to be used. <br />
The order of the character vector given in <code>deps_type</code> affects
the order of the returned character vector; see Details sections.</p>
</td></tr>
<tr><td><code id="pkgs_+3A_base">base</code></td>
<td>
<p>logical,
indicating whether base/core R should be included (<code>TRUE</code>),
or not included (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="pkgs_+3A_recom">recom</code></td>
<td>
<p>logical,
indicating whether the pre-installed 'recommended' R-packages should be included
(<code>TRUE</code>),
or not included (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="pkgs_+3A_rstudioapi">rstudioapi</code></td>
<td>
<p>logical,
indicating whether the 'rstudioapi' R-package should be included
(<code>TRUE</code>),
or not included (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="pkgs_+3A_shared_tidy">shared_tidy</code></td>
<td>
<p>logical,
indicating whether the shared dependencies of the 'tidyverse' should be included
(<code>TRUE</code>),
or not included (<code>FALSE</code>). <br />
<b>Details:</b> <br />
Some of the (often many) dependencies 'tidyverse' packages have
are shared across the majority of the 'tidyverse'. <br />
The &quot;official&quot; list of shared dependencies in the 'tidyverse' currently is the following: <br />
'rlang', 'lifecycle', 'cli', 'glue', and 'withr'.</p>
</td></tr>
<tr><td><code id="pkgs_+3A_type">type</code></td>
<td>
<p>The type of functions to list. Possibilities:
</p>

<ul>
<li> <p><code>"inops"</code> or <code>"operators"</code>: Only infix operators.
</p>
</li>
<li> <p><code>"regfuns"</code>: Only regular functions (thus excluding infix operators).
</p>
</li>
<li> <p><code>"all"</code>: All functions, both regular functions and infix operators.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>pkg_get_deps()</code>: <br />
For each string in argument <code>deps_type</code>,
the package names in the corresponding field of the Description file are extracted,
in the order as they appear in that field. <br />
The order given in argument <code>deps_type</code>
also affects the order of the returned character vector: <br />
For example, <code>c("LinkingTo", "Depends", "Imports")</code>, <br />
means the package names are extracted from the fields in the following order:
</p>

<ol>
<li><p> &quot;LinkingTo&quot;;
</p>
</li>
<li><p> &quot;Depends&quot;;
</p>
</li>
<li><p> &quot;Imports&quot;.
</p>
</li></ol>

<p>The unique (thus non-repeating) package names are then returned to the user.
</p>


<h3>Value</h3>

<p>For  <code>pkgs %installed in% lib.loc</code>: <br />
Returns a named logical vector, with the names giving the package names,
and where the value <code>TRUE</code> indicates a package is installed,
and the value <code>FALSE</code> indicates a package is not installed. <br />
<br />
For <code>pkg_get_deps()</code>: <br />
A character vector of direct dependencies, without duplicates. <br />
<br />
For <code>pkg_lsf()</code>: <br />
Returns a character vector of exported function names in the specified package.
</p>


<h3>References</h3>

<p>O'Brien J., elegantly extract R-package dependencies of a package not listed on CRAN. <em>Stack Overflow</em>. (1 September 2023). <a href="https://stackoverflow.com/questions/30223957/elegantly-extract-r-package-dependencies-of-a-package-not-listed-on-cran">https://stackoverflow.com/questions/30223957/elegantly-extract-r-package-dependencies-of-a-package-not-listed-on-cran</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
"dplyr" %installed in% .libPaths()

pkg_get_deps_minimal("dplyr")
pkgs &lt;- pkg_get_deps("dplyr")
pkgs %installed in% .libPaths()
pkg_lsf("dplyr", "all")




</code></pre>

<hr>
<h2 id='pversion'>Check for Package Versions Mismatch</h2><span id='topic+pversion'></span><span id='topic+pversion_check4mismatch'></span><span id='topic+pversion_report'></span>

<h3>Description</h3>

<p>The <code>pversion_check4mismatch()</code> function
checks if there is any mismatch between
the currently loaded packages and the packages in the specified library path. <br />
<br />
The <code>pversion_report()</code> function
gives a table of all specified packages,
with their loaded and installed versions,
regardless if there is a mismatch or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pversion_check4mismatch(pkgs = NULL, lib.loc = .libPaths())

pversion_report(pkgs = NULL, lib.loc = .libPaths())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pversion_+3A_pkgs">pkgs</code></td>
<td>
<p>a character vector with the package name(s). <br />
Packages that are not actually loaded will be ignored. <br />
Base/core R will also be ignored. <br />
If <code>NULL</code>, all loaded packages
(see <a href="base.html#topic+loadedNamespaces">loadedNamespaces</a>)
excluding core/base R will be checked.</p>
</td></tr>
<tr><td><code id="pversion_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector specifying library search path
(the location of R library trees to search through). <br />
The <code>lib.loc</code> argument would usually be <code>.libPaths()</code>. <br />
See also <a href="base.html#topic+loadNamespace">loadNamespace</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For  <code>pversion_check4mismatch()</code>: <br />
If no mismatch between loaded versions and those in <code>lib.loc</code> were found,
returns <code>NULL</code>. <br />
Otherwise it returns a <code>data.frame</code>,
with the loaded version and library version of the specified packages. <br />
<br />
For <code>pversion_report()</code>: <br />
Returns a <code>data.frame</code>,
with the loaded version and library version of the specified packages,
as well as a logical column indicating whether the two versions are equal (<code>TRUE</code>),
or not equal (<code>FALSE</code>). <br />
<br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
"dplyr" %installed in%  .libPaths()

import_as(~dpr., "dplyr")
pversion_check4mismatch()
pversion_report()





</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25s+2B+25'></span><span id='topic++25s+2A+25'></span><span id='topic++25s+24+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>stringi</dt><dd><p><code><a href="stringi.html#topic+operator_dollar">%s$%</a></code>, <code><a href="stringi.html#topic+stri_dup">%s*%</a></code>, <code><a href="stringi.html#topic+operator_add">%s+%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='report_inops'>Report Infix Operators</h2><span id='topic+report_inops'></span>

<h3>Description</h3>

<p>The <code>report_inops()</code> function
returns a data.frame listing the infix operators defined
in the current environment
(like the global environment, or the environment within a function),
or a user specified environment.
It also reports from which packages the infix operators came from.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report_inops(env)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="report_inops_+3A_env">env</code></td>
<td>
<p>an optional environment to give,
where the function should look for infix operators. <br />
When not specified, the current environment
(like the global environment, or the environment within a function)
is used. <br /></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame.
The first column gives the infix operator names.
The second column gives the package the operator came from,
or NA if it did not come from a package.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tinycodet_misc">tinycodet_misc()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
report_inops()

`%paste%` &lt;- function(x,y)paste0(x,y)

report_inops()

import_inops("stringi")

report_inops()




</code></pre>

<hr>
<h2 id='s_pattern'>Pattern Specifications for String Related Operators</h2><span id='topic+s_pattern'></span><span id='topic+s_regex'></span><span id='topic+s_fixed'></span><span id='topic+s_coll'></span><span id='topic+s_chrcls'></span>

<h3>Description</h3>

<p>The <a href="#topic+str_arithmetic">%s-%, %s/%, %ss%</a> operators,
as well as the string search operators (<a href="#topic+str_search">str_search</a>),
perform pattern matching for some purpose,
where the pattern is given on the right hand side. <br />
When a character vector or string is given on the right hand side,
this is interpreted as case-sensitive
<code>regex</code> patterns from 'stringi'. <br />
<br />
Instead of giving a string or character vector of regex patterns,
one can also supply a list to specify exactly how the pattern should be interpreted.
The list should use the exact same argument convention as 'stringi'. <br />
<br />
For example:
</p>

<ul>
<li> <p><code>list(regex = p, case_insensitive = FALSE, ...)</code>
</p>
</li>
<li> <p><code>list(fixed = p, ...)</code>
</p>
</li>
<li> <p><code>list(coll = p, ...)</code>
</p>
</li>
<li> <p><code>list(charclass = p, ...)</code>
</p>
</li></ul>

<p>All arguments in the list are simply passed to the
appropriate functions in 'stringi'. <br />
For example:
</p>
<div class="sourceCode r"><pre>x %s/% p
</pre></div>
<p>counts how often regular expression specified in character vector
<code>p</code> occurs in <code>x</code>, whereas the following,
</p>
<div class="sourceCode r"><pre>x %s/% list(fixed = p, case_insensitive = TRUE)
</pre></div>
<p>will do the same,
except it uses fixed (i.e. literal) expression,
and it does not distinguish between upper case and lower case characters. <br />
<br />
'tinycodet' adds some convenience functions based on
the <code>stri_opts_</code> - functions in 'stringi':
</p>

<ul>
<li> <p><code>s_regex(p, ...)</code> is equivalent to <code>list(regex = p, ...)</code>
</p>
</li>
<li> <p><code>s_fixed(p, ...)</code> is equivalent to <code>list(fixed = p, ...)</code>
</p>
</li>
<li> <p><code>s_coll(p, ...)</code> is equivalent to <code>list(coll = p, ...)</code>
</p>
</li>
<li> <p><code>s_chrcls(p, ...)</code> is equivalent to <code>list(charclass = p, ... )</code>
</p>
</li></ul>

<p>With the ellipsis (<code>...</code>)
being passed to the appropriate
'stringi'-functions
when it matches their arguments. <br />
<br />
'stringi' infix operators start with &quot;<code>%s</code>&quot;,
though they all have an alias starting with &quot;<code>%stri</code>&quot;.
In analogy to that, the above functions start with &quot;<code>s_</code>&quot;
rather than &quot;<code>stri_</code>&quot;, as they are all meant for operators only. <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_regex(
  p,
  case_insensitive,
  comments,
  dotall,
  multiline,
  time_limit,
  stack_limit,
  ...
)

s_fixed(p, case_insensitive, overlap, ...)

s_coll(
  p,
  locale,
  strength,
  alternate_shifted,
  french,
  uppercase_first,
  case_level,
  numeric,
  normalization,
  ...
)

s_chrcls(p, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="s_pattern_+3A_p">p</code></td>
<td>
<p>a character vector giving the pattern to search for. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_regex.html"><img src="../help/figures/aboutsearch-regex-darkred.svg" alt='[REGEX]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_fixed.html"><img src="../help/figures/aboutsearch-fixed-darkgreen.svg" alt='[FIXED]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_coll.html"><img src="../help/figures/aboutsearch-coll-pink.svg" alt='[COLL]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_charclass.html"><img src="../help/figures/aboutsearch-charclass-lightyellow.svg" alt='[CHARCLASS]' /></a> <br /></p>
</td></tr>
<tr><td><code id="s_pattern_+3A_case_insensitive">case_insensitive</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_regex">stri_opts_regex</a> and <a href="stringi.html#topic+stri_opts_fixed">stri_opts_fixed</a>.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_comments">comments</code>, <code id="s_pattern_+3A_dotall">dotall</code>, <code id="s_pattern_+3A_multiline">multiline</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_regex">stri_opts_regex</a>.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_time_limit">time_limit</code>, <code id="s_pattern_+3A_stack_limit">stack_limit</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_regex">stri_opts_regex</a>.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_...">...</code></td>
<td>
<p>additional arguments not part of the <code>stri_opts</code> - functions to be passed here. <br />
For example: the <code>at</code> argument for the <a href="#topic+str_search">str_search</a> operators.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_overlap">overlap</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_fixed">stri_opts_fixed</a>.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_locale">locale</code>, <code id="s_pattern_+3A_strength">strength</code>, <code id="s_pattern_+3A_alternate_shifted">alternate_shifted</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_collator">stri_opts_collator</a>.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_french">french</code>, <code id="s_pattern_+3A_normalization">normalization</code>, <code id="s_pattern_+3A_numeric">numeric</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_collator">stri_opts_collator</a>.</p>
</td></tr>
<tr><td><code id="s_pattern_+3A_uppercase_first">uppercase_first</code>, <code id="s_pattern_+3A_case_level">case_level</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_opts_collator">stri_opts_collator</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with arguments to be passed to the appropriate operators.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
p &lt;- rep("a|e|i|o|u", 2) # same as p &lt;- list(regex = rep("a|e|i|o|u", 2))
x %s/% p # count how often vowels appear in each string of vector x.

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
x %s/% list(regex = rep("A|E|I|O|U", 2), case_insensitive = TRUE)
x %s/% s_regex(rep("A|E|I|O|U", 2), case_insensitive = TRUE)


x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
p &lt;- list(fixed = c("A", "A"), case_insensitive = TRUE)
x %s{}% p
x %s!{}% p
p &lt;- s_fixed(c("A", "A"), case_insensitive = TRUE)
x %s{}% p
x %s!{}% p

x &lt;- c(paste0(letters[1:13], collapse = ""),
      paste0(letters[14:26], collapse = ""), NA)
p &lt;- s_fixed("abc", at = "start")
x %s{}% p
stringi::stri_startswith(x, fixed = "abc") # same as above

p &lt;- s_fixed("xyz", at = "end")
x %s{}% p
stringi::stri_endswith(x, fixed = "xyz") # same as above
</code></pre>

<hr>
<h2 id='safer_partialmatch'>Set safer dollar, arguments, and attribute matching</h2><span id='topic+safer_partialmatch'></span>

<h3>Description</h3>

<p>The <code>safer_partialmatch()</code> function simply calls the following:
</p>
<div class="sourceCode r"><pre>options(
   warnPartialMatchDollar = TRUE,
   warnPartialMatchArgs = TRUE,
   warnPartialMatchAttr = TRUE
 )

</pre></div>
<p>Thus it forces 'R' to give a warning when partial matching occurs when using
the dollar (<a href="base.html#topic++24">$</a>) operator,
or when other forms of partial matching occurs. <br />
The <code>safer_partialmatch()</code> function
is intended for when running R interactively
(see <a href="base.html#topic+interactive">interactive</a>). <br /> <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safer_partialmatch()
</code></pre>


<h3>Value</h3>

<p>Sets the options. Returns nothing. <br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_safer">tinycodet_safer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
interactive()


safer_partialmatch()
data(iris)
head(iris)
iris$Sepal.Length &lt;- iris$Sepal.Length^2
head(iris)

</code></pre>

<hr>
<h2 id='source_selection'>Source Specific Objects from Script</h2><span id='topic+source_selection'></span>

<h3>Description</h3>

<p>The <code>source_selection()</code> function is the same as
base R's <a href="base.html#topic+source">source</a> function, except that it allows only placing
the selected objects and functions into the current environment,
instead of all objects. <br />
<br />
The objects to be selected can be specified using any combination of the following:
</p>

<ul>
<li><p> by supplying a character vector of exact object names to the <code>select</code> argument.
</p>
</li>
<li><p> by supplying a character vector of <code>regex</code> patterns to the <code>regex</code> argument.
</p>
</li>
<li><p> by supplying a character vector of <code>fixed</code> patterns to the <code>fixed</code> argument.
</p>
</li></ul>

<p>Note that the <code>source_selection()</code> function does NOT suppress output
(i.e. plots, prints, messages)
from the sourced script file. <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_selection(lst, select = NULL, regex = NULL, fixed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="source_selection_+3A_lst">lst</code></td>
<td>
<p>a named list, giving the arguments to be passed to the
<a href="base.html#topic+source">source</a> function. <br />
The <code>local</code> argument should not be included in the list.</p>
</td></tr>
<tr><td><code id="source_selection_+3A_select">select</code></td>
<td>
<p>a character vector,
giving the exact names of the functions or objects appearing in the script,
to expose to the current environment.</p>
</td></tr>
<tr><td><code id="source_selection_+3A_regex">regex</code></td>
<td>
<p>a character vector of <code>regex</code> patterns
(see <a href="stringi.html#topic+about_search_regex">about_search_regex</a>). <br />
These should give regular expressions that match to
the names of the functions or objects appearing in the script,
to expose to the current environment. <br />
For example, to expose the following methods to the current environment, <br />
<code>mymethod.numeric()</code> and <code>mymethod.character()</code> from generic <code>mymethod()</code>, <br />
one could specify <code>regex = "^mymethod"</code>. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_regex.html"><img src="../help/figures/aboutsearch-regex-darkred.svg" alt='[REGEX]' /></a> <br /></p>
</td></tr>
<tr><td><code id="source_selection_+3A_fixed">fixed</code></td>
<td>
<p>a character vector of <code>fixed</code> patterns
(see <a href="stringi.html#topic+about_search_fixed">about_search_fixed</a>). <br />
These should give fixed expressions that match to
the names of the functions or objects appearing in the script,
to expose to the current environment. <br />
For example, to expose the following methods to the current environment, <br />
<code>mymethod.numeric()</code> and <code>mymethod.character()</code> from generic <code>mymethod()</code>, <br />
one could specify <code>fixed = "mymethod"</code>. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_fixed.html"><img src="../help/figures/aboutsearch-fixed-darkgreen.svg" alt='[FIXED]' /></a> <br /></p>
</td></tr>
</table>


<h3>Details</h3>

<p>One can specify which objects to expose using arguments
<code>select</code>, <code>regex</code>, or <code>fixed</code>. <br />
The user can specify all 3 of them, but at least one of the 3 must be specified. <br />
It is not a problem if the specifications overlap.
</p>


<h3>Value</h3>

<p>Any specified objects will be placed
in the current environment
(like the Global environment, or the environment within a function). <br />
<br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_misc">tinycodet_misc</a>, <code><a href="base.html#topic+source">base::source()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
exprs &lt;- expression({
helloworld = function()print("helloworld")
goodbyeworld &lt;- function() print("goodbye world")
`%s+test%` &lt;- function(x,y) stringi::`%s+%`(x,y)
`%s*test%` &lt;- function(x,y) stringi::`%s*%`(x,y)
 mymethod &lt;- function(x) UseMethod("mymethod", x)
 mymethod.numeric &lt;- function(x)x * 2
 mymethod.character &lt;- function(x)chartr(x, old = "a-zA-Z", new = "A-Za-z")
})

source_selection(list(exprs=exprs), regex = "^mymethod")
mymethod(1)
mymethod("a")


temp.fun &lt;- function(){
  source_selection(list(exprs=exprs), regex = "^mymethod", fixed = c("%", ":="))
  ls() # list all objects residing within the function definition
}
temp.fun()

temp.fun &lt;- function(){
  source_selection(list(exprs=exprs), select = c("helloworld", "goodbyeworld"))
  ls() # list all objects residing within the function definition
}
temp.fun()


</code></pre>

<hr>
<h2 id='str_arithmetic'>String Arithmetic Operators</h2><span id='topic+str_arithmetic'></span><span id='topic++25s-+25'></span><span id='topic++25s+2F+25'></span><span id='topic++25s+2F+2F+25'></span><span id='topic++25ss+25'></span>

<h3>Description</h3>

<p>String arithmetic operators. <br />
<br />
The <code> x %s+% y </code> operator is exported from 'stringi',
and concatenates character vectors <code>x</code> and <code>y</code>. <br />
<br />
The <code> x %s-% p </code> operator removes character/pattern
defined in <code>p</code> from <code>x</code>. <br />
<br />
The <code> x %s*% n </code> operator is exported from 'stringi',
and duplicates each string in <code>x</code> <code>n</code> times,
and concatenates the results. <br />
<br />
The <code> x %s/% p </code> operator counts how often character/pattern
defined in <code>p</code> occurs in each element of <code>x</code>. <br />
<br />
The <code> x %s//% brk </code> operator counts how often the text boundary specified in list <code>brk</code>
occurs in each element of <code>x</code>. <br />
<br />
The <code> e1 %s$% e2 </code> operator is exported from 'stringi',
and provides access to <a href="stringi.html#topic+stri_sprintf">stri_sprintf</a> in the form of an infix operator. <br />
<br />
The <code> x %ss% p </code> operator splits the strings in <code>x</code>
by a delimiter character/pattern defined in <code>p</code>,
and removes <code>p</code> in the process. <br />
For cutting strings by text boundaries, or around a location,
see <a href="#topic+strcut_brk">strcut_brk</a> and <a href="#topic+strcut_loc">strcut_loc</a>.
<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %s-% p

x %s/% p

x %s//% brk

x %ss% p
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_arithmetic_+3A_x">x</code></td>
<td>
<p>a string or character vector.</p>
</td></tr>
<tr><td><code id="str_arithmetic_+3A_p">p</code></td>
<td>
<p>either a list with 'stringi' arguments (see <a href="#topic+s_pattern">s_pattern</a>),
or else a character vector with regular expressions. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_regex.html"><img src="../help/figures/aboutsearch-regex-darkred.svg" alt='[REGEX]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_fixed.html"><img src="../help/figures/aboutsearch-fixed-darkgreen.svg" alt='[FIXED]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_coll.html"><img src="../help/figures/aboutsearch-coll-pink.svg" alt='[COLL]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_charclass.html"><img src="../help/figures/aboutsearch-charclass-lightyellow.svg" alt='[CHARCLASS]' /></a> <br /></p>
</td></tr>
<tr><td><code id="str_arithmetic_+3A_brk">brk</code></td>
<td>
<p>a list with break iteration options,
like a list produced by <code>stringi::</code><a href="stringi.html#topic+stri_opts_brkiter">stri_opts_brkiter</a>. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_boundaries.html"><img src="../help/figures/aboutsearch-boundaries-blue.svg" alt='[BOUNDARIES]' /></a> <br /></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>%s+%</code>, <code>%s-%</code>, and <code>%s*%</code> operators
return a character vector of the same length as <code>x</code>. <br />
The <code>%s/%</code> and <code>%s//%</code> both return an integer vector of the same length as <code>x</code>. <br />
The <code>%s$%</code> operator returns a character vector. <br />
The <code>%ss%</code> operator returns a list of the split strings - or,
if <code>simplify = TRUE</code> / <code>simplify = NA</code>,
returns a matrix of the split strings.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
y &lt;- c("a", "b")
p &lt;- rep("a|e|i|o|u", 2) # same as p &lt;- list(regex = rep("a|e|i|o|u", 2))
n &lt;- c(3, 2)

x %s+% y # = paste0(x,y)
x %s-% p # remove all vowels from x
x %s*% n
x %s/% p # count how often vowels appear in each string of vector x
x %ss% p # split x around vowels, removing the vowels in the process
x %ss% s_regex(p, simplify = NA) # same as above, but in matrix form

test &lt;- c(
paste0("The\u00a0above-mentioned    features are very useful. ",
"Spam, spam, eggs, bacon, and spam. 123 456 789"),
"good morning, good evening, and good night"
)
test %s//% list(type = "character")


x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
y &lt;- "a"
# pattern that ignores case:
p &lt;- list(regex = rep("A|E|I|O|U", 2), case_insensitive = TRUE)
n &lt;- c(2, 3)

x %s+% y # = paste0(x,y)
x %s-% p # remove all vowels from x
x %s*% n
x %s/% p # count how often vowels appears in each string of vector x.

x &lt;- c(paste(letters, collapse = ", "), paste(LETTERS, collapse = ", "))
print(x)
x %ss% ", "
t(x %ss% s_fixed(", ", simplify = NA))

</code></pre>

<hr>
<h2 id='str_search'>'stringi' Pattern Search Operators</h2><span id='topic+str_search'></span><span id='topic++25s+7B+7D+25'></span><span id='topic++25s+21+7B+7D+25'></span><span id='topic+strfind'></span><span id='topic+strfind+3C-'></span>

<h3>Description</h3>

<p>The <code>x %s{}% p</code> operator
checks for every string in character vector <code>x</code> if
the pattern defined in <code>p</code> is present. <br />
When supplying a list on the right hand side (see <a href="#topic+s_pattern">s_pattern</a>),
one can optionally include the list element <code>at = "start"</code> or <code>at = "end"</code>:
</p>

<ul>
<li><p> Supplying  <code>at = "start"</code>
will check if the pattern appears at the start of a string
(like <a href="stringi.html#topic+stri_startswith">stri_startswith</a>).
</p>
</li>
<li><p> Supplying  <code>at = "end"</code>
will check if the pattern appears at the end of a string
(like <a href="stringi.html#topic+stri_endswith">stri_endswith</a>). <br />
</p>
</li></ul>

<p>The <code>x %s!{}% p</code> operator is the same as <code>x %s{}% p</code>,
except it checks for <b>absence</b> of the pattern,
rather than presence. <br />
<br />
For string (in)equality operators,
see <a href="stringi.html#topic++25s+3D+3D+25">%s==%</a> from the 'stringi' package. <br />
<br />
<code>strfind()&lt;-</code>
locates, extracts, or replaces found patterns. <br />
It complements the other string-related operators,
and uses the same <a href="#topic+s_pattern">s_pattern</a> API. <br />
It functions as follows:
</p>

<ul>
<li> <p><code>strfind()</code> finds all pattern matches,
and returns the extractions of the findings in a list,
just like <a href="stringi.html#topic+stri_extract_all">stri_extract_all</a>.
</p>
</li>
<li> <p><code>strfind(..., i = "all")</code> finds all pattern matches,
and reports the locations of the findings in a list,
just like <a href="stringi.html#topic+stri_locate_all">stri_locate_all</a>.
</p>
</li>
<li> <p><code>strfind(..., i = i)</code>, where <code>i</code> is an integer vector,
locates the <code class="reqn">i^{th}</code> occurrence of a pattern,
and reports the locations in a matrix,
just like <a href="#topic+stri_locate_ith">stri_locate_ith</a>.
</p>
</li>
<li> <p><code>strfind() &lt;- value</code> finds pattern matches in variable <code>x</code>,
replaces the pattern matches with the character vector specified in <code>value</code>,
and assigns the transformed character vector back to <code>x</code>. <br />
This is somewhat similar to <a href="stringi.html#topic+stri_replace">stri_replace</a>,
though the replacement is done in-place. <br /> <br />
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>x %s{}% p

x %s!{}% p

strfind(x, p, ..., i, rt)

strfind(x, p, ..., i, rt) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_search_+3A_x">x</code></td>
<td>
<p>a string or character vector. <br />
For <code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code>,
<code>x</code> must obviously be the variable containing the character vector/string,
since <code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> performs assignment in-place. <br /></p>
</td></tr>
<tr><td><code id="str_search_+3A_p">p</code></td>
<td>
<p>either a list with 'stringi' arguments (see <a href="#topic+s_pattern">s_pattern</a>),
or else a character vector with regular expressions. <br />
See also the Details section. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_regex.html"><img src="../help/figures/aboutsearch-regex-darkred.svg" alt='[REGEX]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_fixed.html"><img src="../help/figures/aboutsearch-fixed-darkgreen.svg" alt='[FIXED]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_coll.html"><img src="../help/figures/aboutsearch-coll-pink.svg" alt='[COLL]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_charclass.html"><img src="../help/figures/aboutsearch-charclass-lightyellow.svg" alt='[CHARCLASS]' /></a> <br /></p>
</td></tr>
<tr><td><code id="str_search_+3A_...">...</code></td>
<td>
<p>additional arguments to be specified.</p>
</td></tr>
<tr><td><code id="str_search_+3A_i">i</code></td>
<td>
<p>either one of the following can be given for <code>i</code>:
</p>

<ul>
<li><p> if <code>i</code> is not given or <code>NULL</code>,
<code>strfind()</code> extracts all found pattern occurrences.
</p>
</li>
<li><p> if <code>i = "all"</code>, <code>strfind()</code> locates all found pattern occurrences.
</p>
</li>
<li><p> if <code>i</code> is an integer,
<code>strfind()</code> locates the <code class="reqn">i^{th}</code> pattern occurrences. <br />
See the <code>i</code> argument in <a href="#topic+stri_locate_ith">stri_locate_ith</a> for details.
</p>
</li></ul>

<p>For <code>strfind() &lt;- value</code>, <code>i</code> must not be specified.</p>
</td></tr>
<tr><td><code id="str_search_+3A_rt">rt</code></td>
<td>
<p>use <code>rt</code> to specify the Replacement Type that <code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> should perform. <br />
Either one of the following can be given for <code>rt</code>:
</p>

<ul>
<li><p> if <code>rt</code> is not given, <code>NULL</code> or <code>"vec"</code>,
<code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> performs regular, vectorized replacement of <b>all</b> occurrences.
</p>
</li>
<li><p> if <code>rt = "dict"</code>,
<code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> performs dictionary replacement of <b>all</b> occurrences. <br />
</p>
</li>
<li><p> if <code>rt = "first"</code>,
<code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> replaces only the first occurrences.
</p>
</li>
<li><p> if <code>rt = "last"</code>,
<code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> replaces only the last occurrences.
</p>
</li></ul>

<p>Note: <code>rt = "first"</code> and <code>rt = "last"</code> only exist for convenience;
for more specific locational replacement,
use <a href="#topic+stri_locate_ith">stri_locate_ith</a> or <code>strfind(..., i)</code> with numeric <code>i</code>
(see the Examples section). <br />
For <code>strfind()</code>, <code>rt</code> must not be specified.</p>
</td></tr>
<tr><td><code id="str_search_+3A_value">value</code></td>
<td>
<p>a character vector giving the replacement values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>Right-hand Side List for the <code>%s{}%</code> and <code>%s!{}%</code> Operators</b> <br />
When supplying a list to the right-hand side of the
<code>%s{}%</code> and <code>%s!{}%</code> operators,
one can add the argument <code>at</code>. <br />
If <code>at = "start"</code>,
the operators will check if the pattern is present/absent at the start of the string. <br />
If <code>at = "end"</code>,
the operators will check if the pattern is present/absent at the end of the string. <br />
Unlike <a href="stringi.html#topic+stri_startswith">stri_startswith</a> or <a href="stringi.html#topic+stri_endswith">stri_endswith</a>,
<code>regex</code> <b>is</b> supported by the <code>%s{}%</code> and <code>%s!{}%</code> operators. <br />
See examples below. <br />
<br />
</p>
<p><b>Vectorized Replacement vs Dictionary Replacement</b> <br />
</p>

<ul>
<li><p> Vectorized replacement: <br />
<code>x</code>, <code>p</code>, and <code>value</code> are of the same length
(or recycled to become the same length). <br />
<b>All</b> occurrences of pattern <code>p[j]</code> in <code>x[j]</code> is replaced with <code>value[j]</code>,
for every <code>j</code>.
</p>
</li>
<li><p> Dictionary replacement: <br />
<code>p</code> and <code>value</code> are of the same length,
and their length is independent of the length of <code>x</code>. <br />
For every single string in <code>x</code>,
all occurrences of pattern <code>p[1]</code> are replaced with <code>value[1]</code>, <br />
all occurrences of pattern <code>p[2]</code> are replaced with <code>value[2]</code>,
etc. <br />
</p>
</li></ul>

<p>Notice that for single replacement, i.e. <code>rt = "first"</code> or <code>rt = "last"</code>,
it makes no sense to distinguish between vectorized or dictionary replacement,
since then only a single occurrence is being replaced per string. <br />
See examples below. <br /> <br />
</p>


<h3>Value</h3>

<p>The <code>x %s{}% p</code> and <code>x %s!{}% p</code> operators
return logical vectors. <br />
<br />
<code>strfind()</code> returns a list with extractions of all found patterns. <br />
<br />
<code>strfind(..., i = "all")</code> returns a list with all found pattern locations. <br />
<br />
<code>strfind(..., i = i)</code>,
with <code>i</code> being an integer,
returns an integer matrix with two columns,
giving the start and end positions of the <code class="reqn">i^{th}</code> matches,
two NAs if no matches are found, and also two <code>NA</code>s if str is <code>NA</code>. <br />
<br />
<code>strfind() &lt;- value</code> returns nothing,
but performs in-place replacement
(but not by reference, technically speaking)
of the found patterns in variable <code>x</code>. <br /> <br />
</p>


<h3>Warning</h3>

<p><code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> performs in-place replacement. <br />
Therefore, the character vector or string to perform replacement on,
must already exist as a variable. <br />
So take for example the following code:
</p>
<div class="sourceCode"><pre>strfind("hello", p = "e") &lt;- "a" # this obviously does not work

y &lt;- "hello"
strfind(y, p = "e") &lt;- "a" # this works fine

</pre></div>
<p>In the above code, the first <code style="white-space: pre;">&#8288;strfind()&lt;-&#8288;</code> call does not work,
because the string needs to exist as a variable. <br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# example of %s{}% and %s!{}% ====

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
x %s{}% "a"
x %s!{}% "a"
which(x %s{}% "a")
which(x %s!{}% "a")
x[x %s{}% "a"]
x[x %s!{}% "a"]
x[x %s{}% "a"] &lt;- 1
x[x %s!{}% "a"] &lt;- 1
print(x)

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
x %s{}% "1"
x %s!{}% "1"
which(x %s{}% "1")
which(x %s!{}% "1")
x[x %s{}% "1"]
x[x %s!{}% "1"]
x[x %s{}% "1"] &lt;- "a"
x[x %s!{}% "1"] &lt;- "a"
print(x)

#############################################################################


# Example of %s{}% and %s!{}% with "at" argument ====

x &lt;- c(paste0(letters, collapse = ""),
       paste0(rev(letters), collapse = ""), NA)
p &lt;- s_fixed("abc", at = "start")
x %s{}% p
stringi::stri_startswith(x, fixed = "abc") # same as above

p &lt;- s_fixed("xyz", at = "end")
x %s{}% p
stringi::stri_endswith(x, fixed = "xyz") # same as above

p &lt;- s_fixed("cba", at = "end")
x %s{}% p
stringi::stri_endswith(x, fixed = "cba") # same as above

p &lt;- s_fixed("zyx", at = "start")
x %s{}% p
stringi::stri_startswith(x, fixed = "zyx") # same as above


#############################################################################


# Example of transforming ith occurrence ====

# new character vector:
x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)

# report ith (second and second-last) vowel locations:
p &lt;- s_regex( # vowels
  rep("A|E|I|O|U", 2),
  case_insensitive = TRUE
)
loc &lt;- strfind(x, p, i = c(2, -2))
print(loc)

# extract ith vowels:
extr &lt;- stringi::stri_sub(x, from = loc)
print(extr)

# replace ith vowels with numbers:
repl &lt;- chartr("aeiou", "12345", extr) # transformation
stringi::stri_sub(x, loc) &lt;- repl
print(x)


#############################################################################


# Example of strfind for regular vectorized replacement ====

x &lt;- rep('The quick brown fox jumped over the lazy dog.', 3)
print(x)
p &lt;- c('quick', 'brown', 'fox')
rp &lt;- c('SLOW',  'BLACK', 'BEAR')
x %s{}% p
strfind(x, p)
strfind(x, p) &lt;- rp
print(x)

#############################################################################


# Example of strfind for dictionary replacement ====

x &lt;- rep('The quick brown fox jumped over the lazy dog.', 3)
print(x)
p &lt;- c('quick', 'brown', 'fox')
rp &lt;- c('SLOW',  'BLACK', 'BEAR')
# thus dictionary is:
# quick =&gt; SLOW; brown =&gt; BLACK; fox =&gt; BEAR
strfind(x, p, rt = "dict") &lt;- rp
print(x)


#############################################################################


# Example of strfind for first and last replacement ====

x &lt;- rep('The quick brown fox jumped over the lazy dog.', 3)
print(x)
p &lt;- s_fixed("the", case_insensitive = TRUE)
rp &lt;- "One"
strfind(x, p, rt = "first") &lt;- rp
print(x)

x &lt;- rep('The quick brown fox jumped over the lazy dog.', 3)
print(x)
p &lt;- s_fixed("the", case_insensitive = TRUE)
rp &lt;- "Some Other"
strfind(x, p, rt = "last") &lt;- rp
print(x)






</code></pre>

<hr>
<h2 id='str_subset_ops'>String Subsetting Operators</h2><span id='topic+str_subset_ops'></span><span id='topic++25sget+25'></span><span id='topic++25strim+25'></span>

<h3>Description</h3>

<p>String subsetting operators. <br />
<br />
The <code>x %sget% ss </code> operator
gets a certain number of the first and last characters of every string in
character vector <code>x</code>. <br />
<br />
The <code>x %strim% ss </code> operator
trims a certain number of the first and last characters of every string in
character vector <code>x</code>. <br />
<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %sget% ss

x %strim% ss
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_subset_ops_+3A_x">x</code></td>
<td>
<p>a character vector.</p>
</td></tr>
<tr><td><code id="str_subset_ops_+3A_ss">ss</code></td>
<td>
<p>a vector of length 2, or a matrix with 2 columns with <code>nrow(ss) == length(x)</code>.
The object <code>ss</code> should consist entirely of non-negative and non-missing integers,
or be coerce-able to such integers.
(thus negative integers, and missing values are not allowed; decimal numbers will be converted to integers). <br />
The first element/column of <code>ss</code>
gives the number of characters counting from the left side to be
extracted/removed from <code>x</code>. <br />
The second element/column of <code>ss</code>
gives the number of characters counting from the right side to be
extracted/removed from <code>x</code>. <br /></p>
</td></tr>
</table>


<h3>Details</h3>

<p>These operators serve as a way to provide straight-forward string sub-setting. <br />
<br />
</p>


<h3>Value</h3>

<p>The <code>x %sget% ss </code> operator
gives a certain number of the first and last characters of
character vector <code>x</code>. <br />
<br />
The <code>x %strim% ss </code> operator
removes a certain number of the first and last characters of
character vector <code>x</code>. <br />
<br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
ss &lt;- c(2,3)
x %sget% ss

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
ss &lt;- c(1,0)
x %sget% ss

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
ss &lt;- c(2,3)
x %strim% ss

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
ss &lt;- c(1,0)
x %strim% ss







</code></pre>

<hr>
<h2 id='strcut_loc'>Cut Strings</h2><span id='topic+strcut_loc'></span><span id='topic+strcut_brk'></span>

<h3>Description</h3>

<p>The <code>strcut_loc()</code> function
cuts every string in a character vector around a location range <code>loc</code>,
such that every string is cut into the following parts:
</p>

<ul>
<li><p> the sub-string <b>before</b> <code>loc</code>;
</p>
</li>
<li><p> the sub-string at <code>loc</code> itself;
</p>
</li>
<li><p> the sub-string <b>after</b> <code>loc</code>.
</p>
</li></ul>

<p>The location range <code>loc</code> would usually be matrix with 2 columns,
giving the start and end points of some pattern match. <br />
<br />
The <code>strcut_brk()</code> function
(a wrapper around <a href="stringi.html#topic+stri_split_boundaries">stri_split_boundaries</a><code>(..., tokens_only = FALSE)</code>)
cuts every string into individual text breaks
(like character, word, line, or sentence boundaries). <br />
<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strcut_loc(str, loc)

strcut_brk(str, type = "character", tolist = FALSE, n = -1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strcut_loc_+3A_str">str</code></td>
<td>
<p>a string or character vector.</p>
</td></tr>
<tr><td><code id="strcut_loc_+3A_loc">loc</code></td>
<td>
<p>Either one of the following:
</p>

<ul>
<li><p> the result from the <a href="#topic+stri_locate_ith">stri_locate_ith</a> function.
</p>
</li>
<li><p> a matrix of 2 integer columns, with <code>nrow(loc)==length(str)</code>,
giving the location range of the middle part.
</p>
</li>
<li><p> a vector of length 2, giving the location range of the middle part.
</p>
</li></ul>
</td></tr>
<tr><td><code id="strcut_loc_+3A_type">type</code></td>
<td>
<p>either one of the following:
</p>

<ul>
<li><p> a single string giving the break iterator type
(i.e. <code>"character"</code>, <code>"line_break"</code>, <code>"sentence"</code>, <code>"word"</code>,
or a custom set of ICU break iteration rules).
</p>
</li>
<li><p> a list with break iteration options,
like a list produced by <code>stringi::</code><a href="stringi.html#topic+stri_opts_brkiter">stri_opts_brkiter</a>.
</p>
</li></ul>

<p><a href="https://stringi.gagolewski.com/rapi/about_search_boundaries.html"><img src="../help/figures/aboutsearch-boundaries-blue.svg" alt='[BOUNDARIES]' /></a> <br /></p>
</td></tr>
<tr><td><code id="strcut_loc_+3A_tolist">tolist</code></td>
<td>
<p>logical, indicating if <code>strcut_brk</code> should return a list (<code>TRUE</code>),
or a matrix (<code>FALSE</code>, default).</p>
</td></tr>
<tr><td><code id="strcut_loc_+3A_n">n</code></td>
<td>
<p>see <a href="stringi.html#topic+stri_split_boundaries">stri_split_boundaries</a>.</p>
</td></tr>
<tr><td><code id="strcut_loc_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to <a href="stringi.html#topic+stri_split_boundaries">stri_split_boundaries</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The main difference between the <code>strcut_</code> - functions
and <a href="stringi.html#topic+stri_split">stri_split</a> /  <a href="base.html#topic+strsplit">strsplit</a>,
is that the latter generally removes the delimiter patterns in a string when cutting,
while the <code>strcut_</code>-functions do not attempt to remove parts of the string by default,
they only attempt to cut the strings into separate pieces.
Moreover, the <code>strcut_</code> - functions return a matrix by default. <br />
<br />
</p>


<h3>Value</h3>

<p>For <code>strcut_loc()</code>: <br />
A character matrix with <code>length(str)</code> rows and 3 columns,
where for every row <code>i</code> it holds the following:
</p>

<ul>
<li><p> the first column contains the sub-string <b>before</b> <code>loc[i,]</code>,
or <code>NA</code> if <code>loc[i,]</code> contains <code>NA</code>;
</p>
</li>
<li><p> the second column contains the sub_string at <code>loc[i,]</code>,
or the uncut string if <code>loc[i,]</code> contains <code>NA</code>;
</p>
</li>
<li><p> the third and last column contains the sub-string <b>after</b> <code>loc[i,]</code>,
or <code>NA</code> if <code>loc[i,]</code> contains <code>NA</code>. <br /> <br />
</p>
</li></ul>

<p>For <code>strcut_brk(..., tolist = FALSE)</code>: <br />
A character matrix with <code>length(str)</code> rows and
a number of columns equal to the maximum number of pieces <code>str</code> was cut in. <br />
Empty places are filled with <code>NA</code>. <br />
<br />
For <code>strcut_brk(..., tolist = TRUE)</code>: <br />
A list with <code>length(str)</code> elements,
where each element is a character vector containing the cut string. <br />
<br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- rep(paste0(1:10, collapse = ""), 10)
print(x)
loc &lt;- stri_locate_ith(x, 1:10, fixed = as.character(1:10))
strcut_loc(x, loc)
strcut_loc(x, c(5,5))
strcut_loc(x, c(NA, NA))
strcut_loc(x, c(5, NA))
strcut_loc(x, c(NA, 5))

test &lt;- "The\u00a0above-mentioned    features are very useful. " %s+%
"Spam, spam, eggs, bacon, and spam. 123 456 789"
strcut_brk(test, "line")
strcut_brk(test, "word")
strcut_brk(test, "sentence")
strcut_brk(test)
strcut_brk(test, n = 1)
strcut_brk(test, "line", tolist = TRUE)
strcut_brk(test, "word", tolist = TRUE)
strcut_brk(test, "sentence", tolist = TRUE)

brk &lt;- stringi::stri_opts_brkiter(
  type = "line"
)
strcut_brk(test, brk)
</code></pre>

<hr>
<h2 id='stri_join_mat'>Concatenate Character Matrix Row-wise or Column-wise</h2><span id='topic+stri_join_mat'></span><span id='topic+stri_c_mat'></span><span id='topic+stri_paste_mat'></span>

<h3>Description</h3>

<p>The <code>stri_join_mat()</code> function
(and their aliases <code>stri_c_mat</code> and <code>stri_paste_mat</code>)
perform row-wise (<code>margin = 1</code>; the default) or
column-wise (<code>margin = 2</code>) joining of a matrix of strings,
thereby transforming a matrix of strings into a vector of strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stri_join_mat(mat, margin = 1, sep = "", collapse = NULL)

stri_c_mat(mat, margin = 1, sep = "", collapse = NULL)

stri_paste_mat(mat, margin = 1, sep = "", collapse = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stri_join_mat_+3A_mat">mat</code></td>
<td>
<p>a matrix of strings</p>
</td></tr>
<tr><td><code id="stri_join_mat_+3A_margin">margin</code></td>
<td>
<p>the margin over which the strings must be joined.
</p>

<ul>
<li><p> If <code>margin = 1</code>, the elements within each row of matrix <code>mat</code>
are joined into a single string.
Thus if the matrix has 10 rows, it returns a vector of 10 strings.
</p>
</li>
<li><p> If <code>margin = 2</code>, the elements within each column of matrix <code>mat</code>
are joined into a single string.
Thus if the matrix has 10 columns, it returns a vector of 10 strings. <br />
</p>
</li></ul>
</td></tr>
<tr><td><code id="stri_join_mat_+3A_sep">sep</code>, <code id="stri_join_mat_+3A_collapse">collapse</code></td>
<td>
<p>as in <a href="stringi.html#topic+stri_join">stri_join</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>stri_join_mat()</code> function, and its aliases, return a vector of strings.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#############################################################################

# Basic example

x &lt;- matrix(letters[1:25], ncol = 5, byrow = TRUE)
print(x)
stri_join_mat(x, margin = 1)

x &lt;- matrix(letters[1:25], ncol = 5, byrow = FALSE)
print(x)
stri_join_mat(x, margin = 2)


#############################################################################
# sorting characters in strings ====

x &lt;- c(paste(sample(letters), collapse = ""),
       paste(sample(letters), collapse = ""))
print(x)
mat &lt;- strcut_brk(x)
rank &lt;- stringi::stri_rank(as.vector(mat)) |&gt;  matrix(ncol=ncol(mat))
sorted &lt;- mat %row~% rank
sorted[is.na(sorted)] &lt;- ""
print(sorted)
stri_join_mat(sorted, margin = 1)
stri_join_mat(sorted, margin = 2)


#############################################################################

# sorting words ====

x &lt;- c("2nd 3rd 1st", "Goodbye everyone")
print(x)
mat &lt;- strcut_brk(x, "word")
rank &lt;- stringi::stri_rank(as.vector(mat)) |&gt; matrix(ncol=ncol(mat))
sorted &lt;- mat %row~% rank
sorted[is.na(sorted)] &lt;- ""
stri_c_mat(sorted, margin = 1, sep = " ") # &lt;- alias for stri_join_mat
stri_c_mat(sorted, margin = 2, sep = " ")


#############################################################################

# randomly shuffling sentences ====

x &lt;- c("Hello, who are you? Oh, really?! Cool!",
       "I don't care. But I really don't.")
print(x)
mat &lt;- strcut_brk(x, "sentence")
rank &lt;- sample(1:length(mat)) |&gt; matrix(ncol = ncol(mat))
sorted &lt;- mat %row~% rank
sorted[is.na(sorted)] &lt;- ""
stri_paste_mat(sorted, margin = 1) # &lt;- another alias for stri_join_mat
stri_paste_mat(sorted, margin = 2)
</code></pre>

<hr>
<h2 id='stri_locate_ith'>Locate <code class="reqn">i^{th}</code> Pattern Occurrence or Text Boundary</h2><span id='topic+stri_locate_ith'></span><span id='topic+stri_locate_ith_regex'></span><span id='topic+stri_locate_ith_fixed'></span><span id='topic+stri_locate_ith_coll'></span><span id='topic+stri_locate_ith_charclass'></span><span id='topic+stri_locate_ith_boundaries'></span>

<h3>Description</h3>

<p>The <code>stri_locate_ith()</code> function
locates the <code class="reqn">i^{th}</code> occurrence of a pattern in each string of
some character vector. <br />
<br />
The <code>stri_locate_ith_boundaries()</code> function
locates the <code class="reqn">i^{th}</code> text boundary
(like character, word, line, or sentence boundaries). <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stri_locate_ith(str, i, ..., regex, fixed, coll, charclass)

stri_locate_ith_regex(str, pattern, i, ..., opts_regex = NULL)

stri_locate_ith_fixed(str, pattern, i, ..., opts_fixed = NULL)

stri_locate_ith_coll(str, pattern, i, ..., opts_collator = NULL)

stri_locate_ith_charclass(str, pattern, i, merge = TRUE, ...)

stri_locate_ith_boundaries(str, i, ..., opts_brkiter = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stri_locate_ith_+3A_str">str</code></td>
<td>
<p>a string or character vector.</p>
</td></tr>
<tr><td><code id="stri_locate_ith_+3A_i">i</code></td>
<td>
<p>an integer, or an integer vector of the same length as <code>str</code>. <br />
Positive numbers are counting from the left. Negative numbers are counting from the right.
I.e.:
</p>

<ul>
<li> <p><code>stri_locate_ith(str, i = 1, ...)</code> <br />
gives the position (range) of the first occurrence of a pattern.
</p>
</li>
<li> <p><code>stri_locate_ith(str, i = -1, ...)</code> <br />
gives the position (range) of the last occurrence of a pattern.
</p>
</li>
<li> <p><code>stri_locate_ith(str, i = 2, ...)</code><br />
gives the position (range) of the second occurrence of a pattern.
</p>
</li>
<li> <p><code>stri_locate_ith(str, i = -2, ...)</code> <br />
gives the position (range) of the second-last occurrence of a pattern.
</p>
</li></ul>

<p>If <code>abs(i)</code> is larger than the number of pattern occurrences <code>n</code>,
the first (if <code>i &lt; -n</code>) or last (if <code>i &gt; n</code>) instance will be given. <br />
For example: suppose a string has <code>3</code> instances of some pattern; <br />
then if <code>i &gt;= 3</code> the third instance will be located, <br />
and if <code>i &lt;= -3</code> the first instance will be located. <br /></p>
</td></tr>
<tr><td><code id="stri_locate_ith_+3A_...">...</code></td>
<td>
<p>more arguments to be supplied to
<a href="stringi.html#topic+stri_locate">stri_locate</a> or <a href="stringi.html#topic+stri_locate_all_boundaries">stri_locate_all_boundaries</a>. <br />
Do not supply the arguments
<code>omit_no_match</code> or <code>get_length</code>,
as they are already specified internally.
Supplying these arguments anyway will result in an error.</p>
</td></tr>
<tr><td><code id="stri_locate_ith_+3A_pattern">pattern</code>, <code id="stri_locate_ith_+3A_regex">regex</code>, <code id="stri_locate_ith_+3A_fixed">fixed</code>, <code id="stri_locate_ith_+3A_coll">coll</code>, <code id="stri_locate_ith_+3A_charclass">charclass</code></td>
<td>
<p>a character vector of search patterns,
as in <a href="stringi.html#topic+stri_locate">stri_locate</a>. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_regex.html"><img src="../help/figures/aboutsearch-regex-darkred.svg" alt='[REGEX]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_fixed.html"><img src="../help/figures/aboutsearch-fixed-darkgreen.svg" alt='[FIXED]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_coll.html"><img src="../help/figures/aboutsearch-coll-pink.svg" alt='[COLL]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_charclass.html"><img src="../help/figures/aboutsearch-charclass-lightyellow.svg" alt='[CHARCLASS]' /></a> <br /></p>
</td></tr>
<tr><td><code id="stri_locate_ith_+3A_opts_regex">opts_regex</code>, <code id="stri_locate_ith_+3A_opts_fixed">opts_fixed</code>, <code id="stri_locate_ith_+3A_opts_collator">opts_collator</code>, <code id="stri_locate_ith_+3A_opts_brkiter">opts_brkiter</code></td>
<td>
<p>named list used to tune up the selected search engine's settings. <br />
see <a href="stringi.html#topic+stri_opts_regex">stri_opts_regex</a>,
<a href="stringi.html#topic+stri_opts_fixed">stri_opts_fixed</a>,
<a href="stringi.html#topic+stri_opts_collator">stri_opts_collator</a>,
and <a href="stringi.html#topic+stri_opts_brkiter">stri_opts_brkiter</a> <br />
NULL for the defaults. <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_regex.html"><img src="../help/figures/aboutsearch-regex-darkred.svg" alt='[REGEX]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_fixed.html"><img src="../help/figures/aboutsearch-fixed-darkgreen.svg" alt='[FIXED]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_coll.html"><img src="../help/figures/aboutsearch-coll-pink.svg" alt='[COLL]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_charclass.html"><img src="../help/figures/aboutsearch-charclass-lightyellow.svg" alt='[CHARCLASS]' /></a> <br />
<a href="https://stringi.gagolewski.com/rapi/about_search_boundaries.html"><img src="../help/figures/aboutsearch-boundaries-blue.svg" alt='[BOUNDARIES]' /></a> <br /></p>
</td></tr>
<tr><td><code id="stri_locate_ith_+3A_merge">merge</code></td>
<td>
<p>logical, indicating if charclass locations should be merged or not. <br />
<b>Details:</b> <br />
For the <code>charclass</code> pattern type,
the <code>stri_locate_ith()</code> function gives the start and end of
<b>consecutive</b> characters by default,
just like <a href="stringi.html#topic+stri_locate_all">stri_locate_all</a>. <br />
To give the start and end positions of single characters,
much like <a href="stringi.html#topic+stri_locate_first">stri_locate_first</a> or <a href="stringi.html#topic+stri_locate_last">stri_locate_last</a>,
set <code>merge = FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'stringi' functions only support operations on the
first, last, or all occurrences of a pattern. <br />
The <code>stri_locate_ith()</code> function
allows locating the <code class="reqn">i^{th}</code> occurrence of a pattern. <br />
This allows for several workflows
for operating on the <code class="reqn">i^{th}</code> pattern occurrence. <br />
See also the examples section. <br />
<br />
<b>Extract <code class="reqn">i^{th}</code> Occurrence of a Pattern</b> <br />
For extracting the <code class="reqn">i^{th}</code> pattern occurrence: <br />
Locate the the <code class="reqn">i^{th}</code> occurrence using <code>stri_locate_ith()</code>,
and then extract it using, for example, <a href="stringi.html#topic+stri_sub">stri_sub</a>. <br />
<br />
<b>Replace/Transform <code class="reqn">i^{th}</code> Occurrence of a Pattern</b> <br />
For replacing/transforming the <code class="reqn">i^{th}</code> pattern occurrence:
</p>

<ol>
<li><p> Locate the the <code class="reqn">i^{th}</code> occurrence using <code>stri_locate_ith()</code>.
</p>
</li>
<li><p> Extract the occurrence using <a href="stringi.html#topic+stri_sub">stri_sub</a>.
</p>
</li>
<li><p> Transform or replace the extracted sub-strings.
</p>
</li>
<li><p> Return the transformed/replaced sub-string back,
using again <a href="stringi.html#topic+stri_sub">stri_sub</a>. <br /> <br />
</p>
</li></ol>

<p><b>Capture Groups of <code class="reqn">i^{th}</code> Occurrence of a Pattern</b> <br />
The <code>capture_groups</code> argument for <code>regex</code> is not supported within <code>stri_locate_ith()</code>. <br />
To capture the groups of the <code class="reqn">i^{th}</code> occurrences:
</p>

<ol>
<li><p> Use <code>stri_locate_ith()</code> to locate the <code class="reqn">i^{th}</code> occurrences without group capture.
</p>
</li>
<li><p> Extract the occurrence using <a href="stringi.html#topic+stri_sub">stri_sub</a>.
</p>
</li>
<li><p> Get the matched group capture on the extracted occurrences using <a href="stringi.html#topic+stri_match">stri_match</a>. <br /> <br />
</p>
</li></ol>



<h3>Value</h3>

<p>The <code>stri_locate_ith()</code> function returns an integer matrix with two columns,
giving the start and end positions of the <code class="reqn">i^{th}</code> matches,
two <code>NA</code>s if no matches are found,
and also two <code>NA</code>s if <code>str</code> is <code>NA</code>.<br />
<br />
If an empty string or empty pattern is supplied,
a warning is given and a matrix with 0 rows is returned. <br />
<br />
</p>


<h3>Warning</h3>

<p>The <code>stri_locate_ith</code>-functions
do not support <code>long vectors</code>
(i.e. character vectors with more than <code>2^31 - 1</code> strings). <br />
<br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_strings">tinycodet_strings</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#############################################################################

# practical example: transform regex pattern ====

# input character vector:
x &lt;- c(paste0(letters[1:13], collapse = ""), paste0(letters[14:26], collapse = ""))
print(x)

# locate ith (second and second-last) vowel locations:
p &lt;- rep("A|E|I|O|U", 2) # vowels
loc &lt;- stri_locate_ith(x, c(2, -2), regex = p, case_insensitive = TRUE)
print(loc)

# extract ith vowels:
extr &lt;- stringi::stri_sub(x, loc)
print(extr)

# transform &amp; replace ith vowels with numbers:
repl &lt;- chartr("aeiou", "12345", extr)
stringi::stri_sub(x, loc) &lt;- repl

# result (notice ith vowels are now numbers):
print(x)

#############################################################################


# practical example: group-capture regex pattern ====

# input character:
# first group: c(breakfast=eggs, breakfast=bacon)
# second group: c(lunch=pizza, lunch=spaghetti)
x &lt;- c('breakfast=eggs;lunch=pizza',
       'breakfast=bacon;lunch=spaghetti',
       'no food here') # no group here
print(x)
       
# locate ith=2nd group:
p &lt;- '(\\w+)=(\\w+)'
loc &lt;- stri_locate_ith(x, i = 2, regex = p)
print(loc)

# extract ith=2nd group:
extr &lt;- stringi::stri_sub(x, loc)
print(extr)

# capture ith=2nd group:
stringi::stri_match(extr, regex = p)

#############################################################################


# practical example: replace words using boundaries ====

# input character vector:
x &lt;- c("good morning and good night",
"hello ladies and gentlemen")
print(x)

# report ith word locations:
loc &lt;- stri_locate_ith_boundaries(x, c(-3, 3), type = "word")
print(loc)

# extract ith words:
extr &lt;- stringi::stri_sub(x, from=loc)
print(extr)

# transform and replace words (notice ith words have inverted case):
tf &lt;- chartr(extr, old = "a-zA-Z", new = "A-Za-z")
stringi::stri_sub(x, loc) &lt;- tf

# result:
print(x)


#############################################################################

# find pattern ====

extr &lt;- stringi::stri_sub(x, from=loc)
repl &lt;- chartr(extr, old = "a-zA-Z", new = "A-Za-z")
stringi::stri_sub_replace(x, loc, replacement=repl)

# simple pattern ====

x &lt;- rep(paste0(1:10, collapse=""), 10)
print(x)
out &lt;- stri_locate_ith(x, 1:10, regex = as.character(1:10))
cbind(1:10, out)


x &lt;- c(paste0(letters[1:13], collapse=""),
       paste0(letters[14:26], collapse = ""))
print(x)
p &lt;- rep("a|e|i|o|u",2)
out &lt;- stri_locate_ith(x, c(-1, 1), regex = p)
print(out)
substr(x, out[,1], out[,2])


#############################################################################

# ignore case pattern ====


x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
p &lt;- rep("A|E|I|O|U", 2)
out &lt;- stri_locate_ith(x, c(1, -1), regex = p, case_insensitive = TRUE)
substr(x, out[,1], out[,2])


#############################################################################

# multi-character pattern ====

x &lt;- c(paste0(letters[1:13], collapse = ""),
       paste0(letters[14:26], collapse = ""))
print(x)
# multi-character pattern:
p &lt;- rep("AB", 2)
out &lt;- stri_locate_ith(x, c(1, -1), regex = p, case_insensitive = TRUE)
print(out)
substr(x, out[,1], out[,2])



#############################################################################

# Replacement transformation using stringi ====

x &lt;- c("hello world", "goodbye world")
loc &lt;- stri_locate_ith(x, c(1, -1), regex = "a|e|i|o|u")
extr &lt;- stringi::stri_sub(x, from = loc)
repl &lt;- chartr(extr, old = "a-zA-Z", new = "A-Za-z")
stringi::stri_sub_replace(x, loc, replacement = repl)


#############################################################################

# Boundaries ====

test &lt;- c(
paste0("The\u00a0above-mentioned    features are very useful. ",
      "Spam, spam, eggs, bacon, and spam. 123 456 789"),
      "good morning, good evening, and good night"
      )
loc &lt;- stri_locate_ith_boundaries(test, i = c(1, -1), type = "word")
stringi::stri_sub(test, from = loc)

</code></pre>

<hr>
<h2 id='subset_if'>Conditional Sub-setting and In-place Replacement of Unreal Values</h2><span id='topic+subset_if'></span><span id='topic++25+5Bif+5D+25'></span><span id='topic++25+5B+21if+5D+25'></span><span id='topic++25unreal+20+3D+25'></span>

<h3>Description</h3>

<p>The <code>x %[if]% cond</code> operator
selects elements from vector/matrix/array <code>x</code>,
for which the result of <code>cond(x)</code> returns <code>TRUE</code>. <br />
And the <code>x %[!if]% cond</code> operator
selects elements from vector/matrix/array <code>x</code>,
for which the result of <code>cond(x)</code> returns <code>FALSE</code>. <br />
<br />
The <code>x %unreal =% repl</code> operator
modifies all unreal (<code>NA, NaN, Inf, -Inf</code>) values of <code>x</code>
with replacement value <code>repl</code>. <br />
Thus, <br />
<code>x %unreal =% repl</code>, <br />
is the same as, <br />
<code>x[is.na(x) | is.nan(x) | is.infinite(x)] &lt;- repl</code> <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %[if]% cond

x %[!if]% cond

x %unreal =% repl
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset_if_+3A_x">x</code></td>
<td>
<p>a vector, matrix, or array.</p>
</td></tr>
<tr><td><code id="subset_if_+3A_cond">cond</code></td>
<td>
<p>a (possibly anonymous) function that returns a <code>logical</code> vector
of the same length/dimensions as <code>x</code>. <br />
For example: <code>\(x)x&gt;0</code>. <br /></p>
</td></tr>
<tr><td><code id="subset_if_+3A_repl">repl</code></td>
<td>
<p>the replacement value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For the <code>x %[if]% cond</code> and <code>x %[!if]% cond</code> operators: <br />
The subset_if - operators all return a vector with the selected elements. <br />
<br />
For the <code>x %unreal =% repl</code> operator: <br />
The <code>x %unreal =% repl</code> operator does not return any value: <br />
It is an in-place modifier, and thus modifies <code>x</code> directly.
The object <code>x</code> is modified such that all
<code>NA</code>, <code>NaN</code>, <code>Inf</code>, and <code>-Inf</code> elements are replaced with <code>repl</code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_dry">tinycodet_dry</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(-10:9, NA, NA)
object_with_very_long_name &lt;- matrix(x, ncol=2)
print(object_with_very_long_name)
object_with_very_long_name %[if]% \(x)x %in% 1:10
object_with_very_long_name %[!if]% \(x)x %in% 1:10

x &lt;- c(1:9, NA, NaN, Inf)
print(x)
x %unreal =% 0 # same as x[is.na(x)|is.nan(x)|is.infinite(x)] &lt;- 0
print(x)
</code></pre>

<hr>
<h2 id='transform_if'>transform_if: Conditional Sub-set Transformation of Atomic objects</h2><span id='topic+transform_if'></span>

<h3>Description</h3>

<p>The <code>transform_if()</code> function transforms an object <code>x</code>,
based on the logical result (<code>TRUE, FALSE, NA</code>)
of condition function <code>cond(x)</code> or logical vector <code>cond</code>,
such that: <br />
</p>

<ul>
<li><p> For every value where <code>cond(x)==TRUE</code> / <code>cond==TRUE</code>,
function <code>yes(x)</code> is run or scalar <code>yes</code> is returned.
</p>
</li>
<li><p> For every value where <code>cond(x)==FALSE</code> / <code>cond==FALSE</code>,
function <code>no(x)</code> is run or scalar <code>no</code> is returned.
</p>
</li>
<li><p> For every value where <code>cond(x)==NA</code> / <code>cond==NA</code>,
function <code>other(x)</code> is run or scalar <code>other</code> is returned. <br />
</p>
</li></ul>

<p>For a more <code>ifelse</code>-like function where
<code>yes</code>, <code>no</code>, and <code>other</code> are vectors,
see <code>kit::</code><a href="kit.html#topic+iif">iif</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_if(x, cond, yes = function(x) x, no = function(x) x, other = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_if_+3A_x">x</code></td>
<td>
<p>a vector, matrix, or array.</p>
</td></tr>
<tr><td><code id="transform_if_+3A_cond">cond</code></td>
<td>
<p>either an object of class <code>logical</code> with the same length as <code>x</code>, <br />
or a (possibly anonymous) function that returns an object of class <code>logical</code>
with the same length as <code>x</code>. <br />
For example: <code>\(x)x&gt;0</code>. <br /></p>
</td></tr>
<tr><td><code id="transform_if_+3A_yes">yes</code></td>
<td>
<p>the (possibly anonymous) transformation function to use
when function <code>cond(x)==TRUE</code> / logical <code>cond==TRUE</code>. <br />
Alternatively, one can also supply an atomic scalar. <br />
If argument <code>yes</code> is not specified, it defaults to <code>\(x)x</code>.</p>
</td></tr>
<tr><td><code id="transform_if_+3A_no">no</code></td>
<td>
<p>the (possibly anonymous) transformation function to use
when function <code>cond(x)==FALSE</code> / logical <code>cond==FALSE</code>. <br />
Alternatively, one can also supply an atomic scalar. <br />
If argument <code>no</code> is not specified, it defaults to <code>\(x)x</code>.</p>
</td></tr>
<tr><td><code id="transform_if_+3A_other">other</code></td>
<td>
<p>the (possibly anonymous) transformation function to use
when function <code>cond(x)</code> / logical <code>cond</code> returns <code>NA</code>. <br />
Alternatively, one can also supply an atomic scalar. <br />
If argument <code>other</code> is not specified, it defaults to <code>NA</code>. <br />
Note that function  <code>other(x)</code> is run or scalar <code>other</code> is returned
when function <code>cond(x)</code> or logical <code>cond</code> is <code>NA</code>,
not necessarily when <code>x</code> itself is <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Be careful with coercion! For example the following code:
</p>
<div class="sourceCode r"><pre>x &lt;- c("a", "b")
transform_if(x, \(x) x == "a", as.numeric, as.logical)
</pre></div>
<p>returns:
</p>
<div class="sourceCode r"><pre>[1] NA NA
</pre></div>
<p>due to the same character vector being given 2 incompatible classes. <br />
<br />
</p>


<h3>Value</h3>

<p>The transformed vector, matrix, or array (attributes are conserved).
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_dry">tinycodet_dry</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(-10:9, NA, NA)
object &lt;- matrix(x, ncol = 2)
attr(object, "helloworld") &lt;- "helloworld"
print(object)
y &lt;- 0
z &lt;- 1000

object |&gt; transform_if(\(x) x &gt; y, log, \(x) x^2, \(x) -z)
object |&gt; transform_if(object &gt; y, log, \(x) x^2, -z) # same as previous line

</code></pre>

<hr>
<h2 id='with_pro'>Standard Evaluated Versions of Some Common Expression-Evaluation Functions</h2><span id='topic+with_pro'></span><span id='topic+aes_pro'></span>

<h3>Description</h3>

<p>The <code>with_pro()</code> and <code>aes_pro()</code> functions
are standard-evaluated versions of the expression-evaluation functions
<a href="base.html#topic+with">with</a> and <code>ggplot2::</code><a href="ggplot2.html#topic+aes">aes</a>,
respectively. <br />
<br />
These alternative functions are more programmatically friendly: <br />
They use proper standard evaluation,
through the usage of one-sided formulas,
instead of non-standard evaluation,
tidy evaluation,
or similar programmatically unfriendly evaluations. <br />
<br />
For creating formulas without capturing environments,
see <a href="#topic+form">form</a>. <br /> <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_pro(data, form)

aes_pro(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with_pro_+3A_data">data</code></td>
<td>
<p>a list, environment, or data.frame.</p>
</td></tr>
<tr><td><code id="with_pro_+3A_form">form</code></td>
<td>
<p>a one-sided formula giving the expression to evaluate in <code>with_pro</code>. <br />
If the formula has an environment,
that environment is used to find any variables not present in <code>data</code>.</p>
</td></tr>
<tr><td><code id="with_pro_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code>ggplot2::</code><a href="ggplot2.html#topic+aes">aes</a>,
but given as one-sided formulas.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>aes_pro()</code> function is the standard evaluated alternative to
<code>ggplot2::</code><a href="ggplot2.html#topic+aes">aes</a>. <br />
Due to the way <code>aes_pro()</code> is programmed,
it should work even if the tidy evaluation technique
changes in 'ggplot2'. <br />
To support functions in combinations with references of the variables,
the input used here are formula inputs, rather than string inputs. <br />
See the Examples section below. <br /> <br />
</p>


<h3>Value</h3>

<p>For <code>with_pro()</code>: see <a href="base.html#topic+with">with</a>. <br />
For <code>aes_pro()</code>: see <code>ggplot2::</code><a href="ggplot2.html#topic+aes">aes</a>. <br /> <br />
</p>


<h3>Non-Standard Evaluation</h3>

<p>Non-Standard Evaluation (sometimes abbreviated as &quot;NSE&quot;),
is somewhat controversial. <br />
Consider the following example:
</p>
<div class="sourceCode r"><pre>aplot &lt;- "ggplot2"
library(aplot)
</pre></div>
<p>What package will be attached? It will not be 'ggplot2',
nor will an error occur.
Instead, the package 'aplot' will be attached. <br />
This is due to evaluating the expression 'aplot' as a quoted expression,
instead of evaluating the contents (i.e. string or formula) of the variable.
In other words: Non-Standard Evaluation. <br />
<br />
Regular Standard Evaluation does not have the above problem. <br />
Standard evaluation in 'R' is not limited to atomic objects like character vectors;
formulas can also be used.
</p>


<h3>Note</h3>

<p>The <code>with_pro()</code> function, like the original <a href="base.html#topic+with">with</a> function,
is made for primarily for convenience. <br />
When using modelling or graphics functions with an explicit <code>data</code> argument
(and typically using <a href="stats.html#topic+formula">formula</a>s),
it is typically preferred to use the <code>data</code> argument of that function,
rather than to use either <br />
<code>with(data, ...)</code> or <code>with_pro(data, ...)</code>. <br /> <br />
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_safer">tinycodet_safer</a>, <a href="#topic+form">form</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
requireNamespace("ggplot2")


d &lt;- import_data("ggplot2", "mpg")

# mutate data:
myform &lt;- form(~ displ + cyl + cty + hwy)
d$mysum &lt;- with_pro(d, myform)
summary(d)

# plotting data:
x &lt;- form("cty")
y &lt;- form(~ sqrt(hwy))
color &lt;- form(~ drv)

ggplot2::ggplot(d, aes_pro(x, y, color = color)) +
  ggplot2::geom_point()




</code></pre>

<hr>
<h2 id='x.import'>Helper Functions for the 'tinycodet' Package Import System</h2><span id='topic+x.import'></span><span id='topic+help.import'></span><span id='topic+is.tinyimport'></span><span id='topic+attr.import'></span>

<h3>Description</h3>

<p>The <code>help.import()</code> function
finds the help file for functions or topics,
including exposed functions/operators as well as functions in a package alias object. <br />
<br />
The <code>is.tinyimport()</code> function
checks if an alias object or an exposed function is of class <code>tinyimport</code>;
i.e. if it is an object produced by the
<a href="#topic+import_as">import_as</a>, <a href="#topic+import_inops">import_inops</a>, or <a href="#topic+import_LL">import_LL</a> function. <br />
<br />
The <code>attr.import()</code> function
gets one or all special attribute(s)
from an alias object returned by <a href="#topic+import_as">import_as</a>. <br />
<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>help.import(..., i, alias)

is.tinyimport(x)

attr.import(alias, which = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="x.import_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to <a href="utils.html#topic+help">help</a>.</p>
</td></tr>
<tr><td><code id="x.import_+3A_i">i</code></td>
<td>
<p>either one of the following:
</p>

<ul>
<li><p> a function (use back-ticks when the function is an infix operator).
Examples:  <code>myfun</code> , <code>`%operator%`</code> , <code>myalias.$some_function</code> .
If a function, the <code>alias</code> argument is ignored.
</p>
</li>
<li><p> a string giving the function name or topic (i.e. <code>"myfun"</code>, <code>"thistopic"</code>).
If a string, argument <code>alias</code> must be specified also.
</p>
</li></ul>
</td></tr>
<tr><td><code id="x.import_+3A_alias">alias</code></td>
<td>
<p>the alias object as created by the <a href="#topic+import_as">import_as</a> function. <br /></p>
</td></tr>
<tr><td><code id="x.import_+3A_x">x</code></td>
<td>
<p>the object/function to be tested.</p>
</td></tr>
<tr><td><code id="x.import_+3A_which">which</code></td>
<td>
<p>The attributes to list. If <code>NULL</code>, all attributes will be returned. <br />
Possibilities: &quot;pkgs&quot;, &quot;conflicts&quot;, &quot;args&quot;, and &quot;ordered_object_names&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>help.import(...)</code>: <br />
Do not use the <code>topic</code> / <code>package</code> and
<code>i</code> / <code>alias</code> argument sets together.
It's either one set or the other. <br />
For example:
</p>
<div class="sourceCode r"><pre>
import_as(~ mr., "magrittr")
import_inops(mr.)
help.import(i = mr.$add)
help.import(i = `%&gt;%`)
help.import(i = "add", alias = mr.)
help.import(topic = "%&gt;%", package = "magrittr")
help.import("%&gt;%", package = "magrittr") # same as previous line

</pre></div>


<h3>Value</h3>

<p>For <code>help.import()</code>: <br />
Opens the appropriate help page. <br />
<br />
For <code>is.tinyimport()</code>: <br />
Returns <code>TRUE</code> if the function is produced by
<a href="#topic+import_as">import_as</a>, <a href="#topic+import_inops">import_inops</a>, or <a href="#topic+import_LL">import_LL</a>,
and returns <code>FALSE</code> if it is not. <br />
<br />
For <code>attr.import(alias, which = NULL)</code>: <br />
All special attributes of the given alias object are returned as a list. <br />
<br />
For <code>attr.import(alias, which = "pkgs")</code>: <br />
Returns a list with 3 elements:
</p>

<ul>
<li><p> packages_order: a character vector of package names,
giving the packages in the order they were imported in the alias object.
</p>
</li>
<li><p> main_package: a string giving the name of the main package.
Re-exported functions, if present, are taken together with the main package.
</p>
</li>
<li><p> re_exports.pkgs: a character vector of package names,
giving the packages from which the re-exported functions in the main package were taken. <br /> <br />
</p>
</li></ul>

<p>For <code>attr.import(alias, which = "conflicts")</code>: <br />
The order in which packages are imported in the alias object
(see attribute <code>pkgs$packages_order</code>)
matters:
Functions from later named packages overwrite those from earlier named packages,
in case of conflicts. <br />
The &quot;conflicts&quot; attribute returns a data.frame showing exactly which functions overwrite
functions from earlier named packages, and as such &quot;win&quot; the conflicts. <br />
<br />
For <code>attr.import(alias, which = "args")</code>: <br />
Returns a list of input arguments.
These were the arguments supplied to <a href="#topic+import_as">import_as</a> when
the alias object in question was created. <br />
<br />
For <code>attr.import(alias, which = "ordered_object_names")</code>: <br />
Gives the names of the objects in the alias, in the order as they were imported. <br />
For conflicting objects, the last imported ones are used for the ordering. <br />
Note that if argument <code>re_exports</code> is <code>TRUE</code>,
re-exported functions are imported when the main package is imported,
thus changing this order slightly.
</p>


<h3>See Also</h3>

<p><a href="#topic+tinycodet_import">tinycodet_import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
import_as(~ to., "tinycodet")
import_inops(to.)
`%s==%` &lt;- stringi::`%s==%`

is.tinyimport(to.) # returns TRUE
is.tinyimport(`%:=%`) # returns TRUE
is.tinyimport(`%s==%`) # returns FALSE: not imported by tinycodet import system

attr.import(to., which = "conflicts")




</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package InterVA5</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {InterVA5}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#InterVA5-package'><p>Perform InterVA5 algorithm and provide graphical summarization of COD</p>
distribution.</a></li>
<li><a href='#causetextV5'><p>Translation list of COD codes</p></a></li>
<li><a href='#COMCAT.interVA5'><p>Summarize population level mortality fraction by Circumstance of Mortality Category</p></a></li>
<li><a href='#CSMF.interVA5'><p>Summarize population level cause-specific mortality fraction as InterVA5 suggested.</p></a></li>
<li><a href='#CSMF5'><p>Summarize and plot a population level distribution of va probabilities.</p></a></li>
<li><a href='#DataCheck5'><p>Data cleaning for InterVA-5 algorithm</p></a></li>
<li><a href='#getTopSymptoms'><p>Get the symptoms with the largest conditional probability (symptom | cause) for causes assigned by InterVA-5.</p></a></li>
<li><a href='#InterVA5'><p>Provide InterVA5 analysis on the data input.</p></a></li>
<li><a href='#InterVA5.plot'><p>Plot an individual-level distribution of va probabilities.</p></a></li>
<li><a href='#print.interVA5_summary'><p>Print method for summary of the results obtained from InterVA5 algorithm</p></a></li>
<li><a href='#probbaseV5'><p>Conditional probability of InterVA5 (version 17 &ndash; Sept. 9th, 2018)</p></a></li>
<li><a href='#probbaseV5_14'><p>Version 14 of the conditional probability of InterVA5</p></a></li>
<li><a href='#probbaseV5_17'><p>Version 17 of the conditional probability of InterVA5</p></a></li>
<li><a href='#probbaseV5_18'><p>Version 18 of the conditional probability of InterVA5</p></a></li>
<li><a href='#probbaseV5_19'><p>Version 19 of the conditional probability of InterVA5</p></a></li>
<li><a href='#RandomVA5'><p>200 records of Sample Input</p></a></li>
<li><a href='#summary.interVA5'><p>Summary of the results obtained from InterVA5 algorithm</p></a></li>
<li><a href='#whyNotCOD'><p>Get the symptoms with the largest conditional probability (symptom | cause) using VA data.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Replicate and Analyse 'InterVA5'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-07-19</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, readxl</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an R version of the 'InterVA5' software (<a href="http://www.byass.uk/interva/">http://www.byass.uk/interva/</a>) for coding cause of death from verbal autopsies. It also provides simple graphical representation of individual and population level statistics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, ggplot2</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-21 13:29:30 UTC; method</td>
</tr>
<tr>
<td>Author:</td>
<td>Jason Thomas [aut, cre],
  Zehang Li [aut],
  Peter Byass [aut],
  Tyler McCormick [aut],
  Matthew Boyas [aut],
  Sam Clark [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jason Thomas &lt;jarathomas@gmail.com&gt;</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-21 14:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='InterVA5-package'>Perform InterVA5 algorithm and provide graphical summarization of COD
distribution.</h2><span id='topic+InterVA5-package'></span>

<h3>Description</h3>

<p>Computes individual cause of death and population cause-specific mortality
fractions using the InterVA5 algorithm. Provides a simple graphical
representation of the result.
</p>


<h3>Details</h3>

<p>To get the most up-to-date version of the package, as well as the past
versions, please check the github repository at:
<a href="https://github.com/verbal-autopsy-software/InterVA5">https://github.com/verbal-autopsy-software/InterVA5</a>
</p>

<table>
<tr>
 <td style="text-align: left;"> Package: </td><td style="text-align: left;"> InterVA5</td>
</tr>
<tr>
 <td style="text-align: left;"> Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;"> Version: </td><td style="text-align: left;">
1.0</td>
</tr>
<tr>
 <td style="text-align: left;"> Date: </td><td style="text-align: left;"> 2018-02-01</td>
</tr>
<tr>
 <td style="text-align: left;"> License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Jason Thomas, Zehang Li, Tyler McCormick, Sam Clark
</p>
<p>Maintainer: Jason Thomas &lt;jarathomas@gmail.com&gt;
</p>


<h3>References</h3>

<p>http://www.byass.uk/interva/
</p>

<hr>
<h2 id='causetextV5'>Translation list of COD codes</h2><span id='topic+causetextV5'></span>

<h3>Description</h3>

<p>This is the translation of COD abbreviation codes into their corresponding
full names.
</p>


<h3>Format</h3>

<p>A data frame with the translation of codes to their names for 3
pregnancy statuses, 61 CODs (both the version of COD only and COD with group code),
and 6 circumstances of mortality (COMCAT).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(causetextV5)

</code></pre>

<hr>
<h2 id='COMCAT.interVA5'>Summarize population level mortality fraction by Circumstance of Mortality Category</h2><span id='topic+COMCAT.interVA5'></span>

<h3>Description</h3>

<p>The function takes input of a list of va object and calculates the
mortality fraction by Circumstance of Mortality Category.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>COMCAT.interVA5(va)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="COMCAT.interVA5_+3A_va">va</code></td>
<td>
<p>The list of va object to summarize.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>dist.cod</code></td>
<td>
<p>The cause-specific mortality fraction (including undetermined category).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang LI, Tyler McCormick, Sam Clark
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CSMF5">CSMF5</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(RandomVA5)
# only fit first 20 observations for a quick illustration
RandomVA5 &lt;- RandomVA5[1:20, ]

sample.output &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "v", 
       write=TRUE, directory = tempdir(),
       filename = "VA5_result", output = "extended", append = FALSE)
## Get CSMF without plots
comcat &lt;- COMCAT.interVA5(sample.output$VA5)

## End(Not run)

</code></pre>

<hr>
<h2 id='CSMF.interVA5'>Summarize population level cause-specific mortality fraction as InterVA5 suggested.</h2><span id='topic+CSMF.interVA5'></span>

<h3>Description</h3>

<p>The function takes input of a list of va object and calculates the
cause-specific mortality fraction. It only calculates CSMF5 as aggregation of up to the third largest causes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CSMF.interVA5(va)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CSMF.interVA5_+3A_va">va</code></td>
<td>
<p>The list of va object to summarize.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>dist.cod</code></td>
<td>
<p>The cause-specific mortality fraction (including undetermined category).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang LI, Tyler McCormick, Sam Clark
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CSMF5">CSMF5</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(RandomVA5)
# only fit first 20 observations for a quick illustration
RandomVA5 &lt;- RandomVA5[1:20, ]

sample.output &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "v", write=TRUE,
       directory = tempdir(), filename = "VA5_result", output = "extended", append = FALSE)
## Get CSMF without plots
csmf &lt;- CSMF.interVA5(sample.output$VA5)

## End(Not run)

</code></pre>

<hr>
<h2 id='CSMF5'>Summarize and plot a population level distribution of va probabilities.</h2><span id='topic+CSMF5'></span>

<h3>Description</h3>

<p>The function takes input of a list of va object and produces a summary plot
for the population distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CSMF5(
  va,
  top.aggregate = NULL,
  InterVA.rule = FALSE,
  noplot = FALSE,
  title = "Top CSMF Distribution",
  type = "bar",
  top.plot = 10,
  return.barplot = FALSE,
  min.prob = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CSMF5_+3A_va">va</code></td>
<td>
<p>The list of va object to summarize.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_top.aggregate">top.aggregate</code></td>
<td>
<p>Integer indicating how many causes from the top need to go into
summary. The rest of the probabilities goes into an extra category
&quot;Undetermined&quot;.  When set to NULL, default is all causes to be considered.
This is only used when <code>InterVA.rule</code> set to &quot;FALSE&quot;.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_interva.rule">InterVA.rule</code></td>
<td>
<p>If it is set to &quot;TRUE&quot;, only the top 3 causes reported by
InterVA5 is calculated into CSMF as in InterVA5. The rest of probabilities
goes into an extra category &quot;Undetermined&quot;. Default set to &quot;FALSE&quot;.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_noplot">noplot</code></td>
<td>
<p>A logical value indicating whether the plot will be shown. If
it is set to &quot;TRUE&quot;, only the CSMF will be returned.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_title">title</code></td>
<td>
<p>A character string for the title of the CSMF plot.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_type">type</code></td>
<td>
<p>An indicator of the type of chart to plot.  &quot;pie&quot; for pie chart;
&quot;bar&quot; for bar chart.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_top.plot">top.plot</code></td>
<td>
<p>the maximum number of causes to plot in bar plot</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_return.barplot">return.barplot</code></td>
<td>
<p>A logical indicating if the (barplot) ggplot() object
should be returned (instead of printed).  Default value is FALSE.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_min.prob">min.prob</code></td>
<td>
<p>The minimum probability that is to be plotted in bar chart,
or to be labeled in pie chart.</p>
</td></tr>
<tr><td><code id="CSMF5_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to/from graphic function
<code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="graphics.html#topic+pie">pie</a></code>, and more
graphical paramters (see <code><a href="graphics.html#topic+par">par</a></code>). They will affect the
main title, size and font of labels, and the radius of the pie chart.</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>dist.cod</code></td>
<td>
<p>The population probability of CODs.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang LI, Tyler McCormick, Sam Clark
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CSMF.interVA5">CSMF.interVA5</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(RandomVA5)
# only fit first 20 observations for a quick illustration
RandomVA5 &lt;- RandomVA5[1:20, ]

sample.output &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "v", write = FALSE, 
       directory = tempdir(), filename = "VA5_result", output = "extended", 
       append = FALSE)

## Get CSMF by considering only top 3 causes reported by InterVA5.
## This is equivalent to using CSMF.interVA5() command Note that
## it's different from using all top 3 causses, since they may not
## all be reported
CSMF.summary &lt;- CSMF5(sample.output, InterVA.rule = TRUE,
   noplot = TRUE)

## Population level summary using pie chart
CSMF.summary2 &lt;- CSMF5(sample.output, type = "pie",
 min.prob = 0.01, title = "population COD distribution using pie chart",
 clockwise = FALSE, radius = 0.7, cex = 0.7, cex.main = 0.8)

## Population level summary using bar chart
CSMF.summary3 &lt;- CSMF5(sample.output, type = "bar",
  min.prob = 0.01, title = "population COD distribution using bar chart",
  cex.main = 1)
CSMF.summary4 &lt;- CSMF5(sample.output, type = "bar",
  top.plot = 5, title = "Top 5 population COD distribution",
  cex.main = 1)

## End(Not run)

</code></pre>

<hr>
<h2 id='DataCheck5'>Data cleaning for InterVA-5 algorithm</h2><span id='topic+DataCheck5'></span>

<h3>Description</h3>

<p>This function implements the data cleaning steps in the InterVA5 software.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataCheck5(Input, id, probbaseV5, InSilico_check = FALSE, write)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="DataCheck5_+3A_input">Input</code></td>
<td>
<p>original data vector for one observation coded by 0 (absence), 1 (presence), and NA (missing).</p>
</td></tr>
<tr><td><code id="DataCheck5_+3A_id">id</code></td>
<td>
<p>id for this observation</p>
</td></tr>
<tr><td><code id="DataCheck5_+3A_probbasev5">probbaseV5</code></td>
<td>
<p>matrix of probbaseV5</p>
</td></tr>
<tr><td><code id="DataCheck5_+3A_insilico_check">InSilico_check</code></td>
<td>
<p>logical indicator for if the check uses InSilicoVA rule. InSilicoVA rule sets all symptoms that should not be asked to missing. In contrast, the default InterVA5 rule sets these symptoms to missing only when they take the substantive value.</p>
</td></tr>
<tr><td><code id="DataCheck5_+3A_write">write</code></td>
<td>
<p>logical indicator of writing to file</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>Output</code></td>
<td>
<p> new data vector</p>
</td></tr> <tr><td><code>firstPass</code></td>
<td>
<p> message for the first pass check</p>
</td></tr> <tr><td><code>secondPass</code></td>
<td>
<p> message for the second pass check</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang Li, Tyler McCormick, Sam Clark
</p>


<h3>References</h3>

<p>http://www.interva.net/
</p>


<h3>See Also</h3>

<p><code><a href="#topic+InterVA5.plot">InterVA5.plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(RandomVA5)
data(probbaseV5)
probbaseV5 &lt;- as.matrix(probbaseV5)
RandomVA5 &lt;- as.matrix(RandomVA5)
input &lt;- as.character(RandomVA5[1, ])
input[which(toupper(input) == "N")] &lt;- "0" 
input[which(toupper(input) == "Y")] &lt;- "1" 
input[which(input != "1" &amp; input != "0")] &lt;- NA
input &lt;- as.numeric(input)
output &lt;- DataCheck5(Input=input, id="d1", probbaseV5=probbaseV5, write=TRUE)


</code></pre>

<hr>
<h2 id='getTopSymptoms'>Get the symptoms with the largest conditional probability (symptom | cause) for causes assigned by InterVA-5.</h2><span id='topic+getTopSymptoms'></span>

<h3>Description</h3>

<p>The function takes an interVA5 object and the data used to assign the causes, and returns the
the symptoms that contribute to the cause assignment (ranked in order of the conditional
probabilities of observing a symptom, given the death is due to that particular cause).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTopSymptoms(object, data, IDs = NULL, pretty = TRUE, includeAll = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getTopSymptoms_+3A_object">object</code></td>
<td>
<p>An interVA5 object (i.e., the results returned from the InterVA5() function).</p>
</td></tr>
<tr><td><code id="getTopSymptoms_+3A_data">data</code></td>
<td>
<p>The input data that InterVA5 used to assign the causes of death.</p>
</td></tr>
<tr><td><code id="getTopSymptoms_+3A_ids">IDs</code></td>
<td>
<p>A vector that contains the IDs for each death (note that all of IDs are contained
in data$ID and object$ID).</p>
</td></tr>
<tr><td><code id="getTopSymptoms_+3A_pretty">pretty</code></td>
<td>
<p>A logical indicating if you want the results in an easy-to-read format (default is 'TRUE')</p>
</td></tr>
<tr><td><code id="getTopSymptoms_+3A_includeall">includeAll</code></td>
<td>
<p>A logical indicating if you want all of the symptoms included in the output
(even those which are absent or have a value of missing/no) (default is 'FALSE' which only includes
symptoms that are present).</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>dist.cod</code></td>
<td>
<p>A list of results for each death (organized by ID).  For each death, a list
is returned that includes the death's ID, the cause, and a vector of strings listing a symptom,
it if contributes to the cause assignment (if includeAll = TRUE), and the conditional probability of
observing the symptom given that the death is due to this cause.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang LI, Tyler McCormick, Sam Clark
</p>


<h3>See Also</h3>

<p><code><a href="#topic+InterVA5">InterVA5</a>, <a href="#topic+getTopSymptoms">getTopSymptoms</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(RandomVA5)
sample.output &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "v", write=FALSE)
topSymptoms &lt;- getTopSymptoms(object = sample.output,
                              data = RandomVA5,
                              IDs = sample.output$ID[1],
                              pretty = TRUE,
                              includeAll = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='InterVA5'>Provide InterVA5 analysis on the data input.</h2><span id='topic+InterVA5'></span>

<h3>Description</h3>

<p>This function implements the algorithm in the InterVA5 software.  It
produces individual cause of death (COD) and population cause-specific mortality
fractions.  The output is saved in a .csv file specified by user.
The calculation is based on the conditional and prior distribution
of 61 CODs. The function can also  save the full probability distibution
of each individual to file. All information about each individual is
saved to a va class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>InterVA5(
  Input,
  HIV,
  Malaria,
  write = TRUE,
  directory = NULL,
  filename = "VA5_result",
  output = "classic",
  append = FALSE,
  groupcode = FALSE,
  sci = NULL,
  returnCheckedData = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="InterVA5_+3A_input">Input</code></td>
<td>
<p>A matrix input, or data read from csv files in the same format
as required by InterVA5. Sample input is included as data(RandomVA5).</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_hiv">HIV</code></td>
<td>
<p>An indicator of the level of prevalence of HIV. The input should
be one of the following: &quot;h&quot;(high),&quot;l&quot;(low), or &quot;v&quot;(very low).</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_malaria">Malaria</code></td>
<td>
<p>An indicator of the level of prevalence of Malaria. The input
should be one of the following: &quot;h&quot;(high),&quot;l&quot;(low), or &quot;v&quot;(very low).</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_write">write</code></td>
<td>
<p>A logical value indicating whether or not the output (including
errors and warnings) will be saved to file.  If the value is set to TRUE, the
user must also provide a value for the parameter &quot;directory&quot;.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_directory">directory</code></td>
<td>
<p>The directory to store the output from InterVA5. It should
either be an existing valid directory, or a new folder to be created. If no
path is given and the parameter for &quot;write&quot; is true, then the function stops
and and error message is produced.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_filename">filename</code></td>
<td>
<p>The filename the user wish to save the output. No extension
needed. The output is in .csv format by default.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_output">output</code></td>
<td>
<p>&quot;classic&quot;: The same deliminated output format as InterVA5; or
&quot;extended&quot;: delimited output followed by full distribution of cause of
death proability.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_append">append</code></td>
<td>
<p>A logical value indicating whether or not the new output
should be appended to the existing file.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_groupcode">groupcode</code></td>
<td>
<p>A logical value indicating whether or not the group code
will be included in the output causes.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_sci">sci</code></td>
<td>
<p>A data frame that contains the symptom-cause-information (aka
Probbase) that InterVA uses to assign a cause of death.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_returncheckeddata">returnCheckedData</code></td>
<td>
<p>A logical indicating if the checked data (i.e.,
the data that have been modified by the consistency checks) should be returned.</p>
</td></tr>
<tr><td><code id="InterVA5_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Be careful if the input file does not match InterVA5 input format strictly.
The function will run normally as long as the number of symptoms are
correct. Any inconsistent symptom names will be printed in console as
warning. If there is a wrong match of symptom from warning, please change 
the input to the correct order.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>ID</code></td>
<td>
<p> identifier from batch (input) file</p>
</td></tr> <tr><td><code>MALPREV</code></td>
<td>
<p> selected malaria prevalence</p>
</td></tr> <tr><td><code>HIVPREV</code></td>
<td>
<p> selected HIV prevalence</p>
</td></tr>
<tr><td><code>PREGSTAT</code></td>
<td>
<p>most likely pregnancy status</p>
</td></tr> <tr><td><code>PREGLIK</code></td>
<td>
<p> likelihood of
PREGSTAT</p>
</td></tr> <tr><td><code>PRMAT</code></td>
<td>
<p> likelihood of maternal death</p>
</td></tr> <tr><td><code>INDET</code></td>
<td>
<p> indeterminate outcome</p>
</td></tr> <tr><td><code>CAUSE1</code></td>
<td>
<p> most likely cause</p>
</td></tr> <tr><td><code>LIK1</code></td>
<td>

<p>likelihood of 1st cause</p>
</td></tr> <tr><td><code>CAUSE2</code></td>
<td>
<p> second likely cause</p>
</td></tr> <tr><td><code>LIK2</code></td>
<td>

<p>likelihood of 2nd cause</p>
</td></tr> <tr><td><code>CAUSE3</code></td>
<td>
<p> third likely cause</p>
</td></tr> <tr><td><code>LIK3</code></td>
<td>

<p>likelihood of 3rd cause</p>
</td></tr>
<tr><td><code>COMCAT</code></td>
<td>
<p> most likely circumstance of mortality</p>
</td></tr>
<tr><td><code>COMNUM</code></td>
<td>
<p> likelihood of COMCAT</p>
</td></tr>
<tr><td><code>wholeprob</code></td>
<td>
<p> full distribution of causes of death</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang Li, Tyler McCormick, Sam Clark
</p>


<h3>References</h3>

<p>http://www.interva.net/
</p>


<h3>See Also</h3>

<p><code><a href="#topic+InterVA5.plot">InterVA5.plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(RandomVA5)
# only fit first 5 observations for a quick illustration
RandomVA5 &lt;- RandomVA5[1:5, ]

## to get easy-to-read version of causes of death make sure the column
## orders match interVA5 standard input this can be monitored by checking
## the warnings of column names

sample.output1 &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "l", write = FALSE, 
    directory = tempdir(), filename = "VA5_result", output = "extended", append = FALSE)

## Not run: 
## to get causes of death with group code for further usage
sample.output2 &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "l", 
    write = FALSE, directory = "VA test", filename = "VA5_result_wt_code", output = "classic", 
    append = FALSE, groupcode = TRUE)

## End(Not run)


</code></pre>

<hr>
<h2 id='InterVA5.plot'>Plot an individual-level distribution of va probabilities.</h2><span id='topic+InterVA5.plot'></span>

<h3>Description</h3>

<p>The function takes an input of a single va object and produces a summary plot
for it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>InterVA5.plot(
  va,
  type = "bar",
  title = "Top CSMF Distribution",
  min.prob = 0.01,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="InterVA5.plot_+3A_va">va</code></td>
<td>
<p>A va object</p>
</td></tr>
<tr><td><code id="InterVA5.plot_+3A_type">type</code></td>
<td>
<p>An indicator of the type of chart to plot.  &quot;pie&quot; for pie chart;
&quot;bar&quot; for bar chart.</p>
</td></tr>
<tr><td><code id="InterVA5.plot_+3A_title">title</code></td>
<td>
<p>A character string for the title of the CSMF plot.</p>
</td></tr>
<tr><td><code id="InterVA5.plot_+3A_min.prob">min.prob</code></td>
<td>
<p>The minimum probability that is to be plotted in bar chart,
or to be labeled in pie chart.</p>
</td></tr>
<tr><td><code id="InterVA5.plot_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to/from graphic function
<code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="graphics.html#topic+pie">pie</a></code>, and more
graphical paramters (see <code><a href="graphics.html#topic+par">par</a></code>). They will affect the
main title, size and font of labels, and the radius of the pie chart.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+CSMF5">CSMF5</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(RandomVA5)
# only fit first 20 observations for a quick illustration
RandomVA5 &lt;- RandomVA5[1:20, ]
#' sample.output &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "v", write = FALSE, 
    directory = tempdir(), filename = "VA5_result", output = "extended", append = FALSE)

## Individual level summary using pie chart
InterVA5.plot(sample.output$VA5[[3]], type = "pie", min.prob = 0.01,
    main = "1st sample VA analysis using pie chart", clockwise = FALSE,
    radius = 0.6, cex = 0.6, cex.main = 0.8)


## Individual level summary using bar chart
InterVA5.plot(sample.output$VA5[[3]], type = "bar", min.prob = 0.01,
    main = "2nd sample VA analysis using bar chart", cex.main = 0.8)

## End(Not run)

</code></pre>

<hr>
<h2 id='print.interVA5_summary'>Print method for summary of the results obtained from InterVA5 algorithm</h2><span id='topic+print.interVA5_summary'></span>

<h3>Description</h3>

<p>This function prints the summary message of the fitted results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'interVA5_summary'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.interVA5_summary_+3A_x">x</code></td>
<td>
<p>summary of InterVA5 results</p>
</td></tr>
<tr><td><code id="print.interVA5_summary_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>

<hr>
<h2 id='probbaseV5'>Conditional probability of InterVA5 (version 17 &ndash; Sept. 9th, 2018)</h2><span id='topic+probbaseV5'></span>

<h3>Description</h3>

<p>This is the table of conditional probabilities of symptoms given CODs, along with
prior probabilities in the first row. The
values are from InterVA-5
</p>


<h3>Format</h3>

<p>A data frame with 354 observations on 87 variables. The first row contains
observations corresponding to prior probabilities; while the subsequent observations
(rows 2 - 354) are the conditional probabilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(probbaseV5)

</code></pre>

<hr>
<h2 id='probbaseV5_14'>Version 14 of the conditional probability of InterVA5</h2><span id='topic+probbaseV5_14'></span>

<h3>Description</h3>

<p>This is version 14 (February 15th, 2018) of the table of conditional probabilities of symptoms given CODs, along with
prior probabilities in the first row. The
values are from InterVA-5
</p>


<h3>Format</h3>

<p>A data frame with 354 observations on 87 variables. The first row contains
observations corresponding to prior probabilities; while the subsequent observations
(rows 2 - 354) are the conditional probabilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(probbaseV5_14)

</code></pre>

<hr>
<h2 id='probbaseV5_17'>Version 17 of the conditional probability of InterVA5</h2><span id='topic+probbaseV5_17'></span>

<h3>Description</h3>

<p>This is version 17 (Sept. 9th, 2018) of the table of conditional probabilities of symptoms given CODs, along with
prior probabilities in the first row. The
values are from InterVA-5
</p>


<h3>Format</h3>

<p>A data frame with 354 observations on 87 variables. The first row contains
observations corresponding to prior probabilities; while the subsequent observations
(rows 2 - 354) are the conditional probabilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(probbaseV5_17)

</code></pre>

<hr>
<h2 id='probbaseV5_18'>Version 18 of the conditional probability of InterVA5</h2><span id='topic+probbaseV5_18'></span>

<h3>Description</h3>

<p>This is version 18 (April 3, 2020) of the table of conditional probabilities of symptoms given CODs, along with
prior probabilities in the first row. The
values are from InterVA-5
</p>


<h3>Format</h3>

<p>A data frame with 354 observations on 87 variables. The first row contains
observations corresponding to prior probabilities; while the subsequent observations
(rows 2 - 354) are the conditional probabilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(probbaseV5_18)

</code></pre>

<hr>
<h2 id='probbaseV5_19'>Version 19 of the conditional probability of InterVA5</h2><span id='topic+probbaseV5_19'></span>

<h3>Description</h3>

<p>This is version 19 (July 20, 2021) of the table of conditional probabilities of symptoms given CODs, along with
prior probabilities in the first row. The
values differ from the last version (v18) of InterVA-5 (interva.net) by setting
Pr(abortion-related death | i309 = 1) = &quot;N&quot;
Pr(abortion-related death | i310 = 1) = &quot;N&quot;
(the previous values were &quot;E&quot;).
</p>


<h3>Format</h3>

<p>A data frame with 354 observations on 87 variables. The first row contains
observations corresponding to prior probabilities; while the subsequent observations
(rows 2 - 354) are the conditional probabilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(probbaseV5_19)

</code></pre>

<hr>
<h2 id='RandomVA5'>200 records of Sample Input</h2><span id='topic+RandomVA5'></span>

<h3>Description</h3>

<p>This is a dataset consisting of 200 arbitrary sample input deaths in the
acceptable format of InterVA5. Any dataset that needs to be analyzed by this
package should be in the same format. The order of the input fields must
not be changed.
</p>


<h3>Format</h3>

<p>200 arbitrary input records.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(RandomVA5)

</code></pre>

<hr>
<h2 id='summary.interVA5'>Summary of the results obtained from InterVA5 algorithm</h2><span id='topic+summary.interVA5'></span>

<h3>Description</h3>

<p>This function prints the summary message of the fitted results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'interVA5'
summary(object, top = 5, id = NULL, InterVA.rule = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.interVA5_+3A_object">object</code></td>
<td>
<p>fitted object from <code>InterVA5()</code></p>
</td></tr>
<tr><td><code id="summary.interVA5_+3A_top">top</code></td>
<td>
<p>number of top CSMF to show</p>
</td></tr>
<tr><td><code id="summary.interVA5_+3A_id">id</code></td>
<td>
<p>the ID of a specific death to show</p>
</td></tr>
<tr><td><code id="summary.interVA5_+3A_interva.rule">InterVA.rule</code></td>
<td>
<p>If it is set to &quot;TRUE&quot;, only the top 3 causes reported by
InterVA5 is calculated into CSMF as in InterVA5. The rest of probabilities
goes into an extra category &quot;Undetermined&quot;. Default set to &quot;TRUE&quot;.</p>
</td></tr>
<tr><td><code id="summary.interVA5_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>References</h3>

<p>http://www.interva.net/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(RandomVA5)
# only fit first 20 observations for a quick illustration
RandomVA5 &lt;- RandomVA5[1:20, ]

## to get easy-to-read version of causes of death make sure the column
## orders match interVA5 standard input this can be monitored by checking
## the warnings of column names

sample.output1 &lt;- InterVA5(RandomVA5, HIV = "h", Malaria = "l", 
    write = FALSE, directory = tempdir(), filename = "VA5_result", 
    output = "extended", append = FALSE)

summary(sample.output1)
summary(sample.output1, top = 10)
summary(sample.output1, id = "sample3")

## End(Not run)
</code></pre>

<hr>
<h2 id='whyNotCOD'>Get the symptoms with the largest conditional probability (symptom | cause) using VA data.</h2><span id='topic+whyNotCOD'></span>

<h3>Description</h3>

<p>The function takes takes verbal autopsy data (which can be passed to InterVA5() to assign
causes of death), and returns the the symptoms that contribute to the assignment of a 
particular cause of death.  This function differs from getTopSymptom() in that the user
specified the cause for which they would like the results.  This is an interactive function
in the sense that if a cause is not provided as an argument, then the function will print out
a numbered list of possible causes and the user can enter in the number to identify the
cause of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>whyNotCOD(data, IDs = NULL, cause = NULL, pretty = TRUE, includeAll = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="whyNotCOD_+3A_data">data</code></td>
<td>
<p>The input data that InterVA5 used to assign the causes of death.</p>
</td></tr>
<tr><td><code id="whyNotCOD_+3A_ids">IDs</code></td>
<td>
<p>A vector that contains the IDs for each death (note that all of IDs are contained
in data$ID and object$ID).</p>
</td></tr>
<tr><td><code id="whyNotCOD_+3A_cause">cause</code></td>
<td>
<p>A string giving the name of the cause for which the conditional probabilities will
be returned.</p>
</td></tr>
<tr><td><code id="whyNotCOD_+3A_pretty">pretty</code></td>
<td>
<p>A logical indicating if you want the results in an easy-to-read format (default is 'TRUE').</p>
</td></tr>
<tr><td><code id="whyNotCOD_+3A_includeall">includeAll</code></td>
<td>
<p>A logical indicating if you want all of the symptoms included in the output
(even those which are absent or have a value of missing/no) (default is 'FALSE' which only includes
symptoms that are present).</p>
</td></tr>
</table>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>dist.cod</code></td>
<td>
<p>A list of results for each death (organized by ID).  For each death, a list
is returned that includes the death's ID, the cause, and a vector of strings listing a symptom,
it if contributes to the cause assignment (if includeAll = TRUE), and the conditional probability of
observing the symptom given that the death is due to this cause.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Thomas, Zehang LI, Tyler McCormick, Sam Clark
</p>


<h3>See Also</h3>

<p><code><a href="#topic+InterVA5">InterVA5</a>, <a href="#topic+whyNotCOD">whyNotCOD</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data(RandomVA5)
whyNotCOD(data = RandomVA5,
          IDs = RandomVA5$ID[1],
          pretty = TRUE,
          includeAll = FALSE)

data(causetextV5)
causetextV5[22, 2]
whyNotCOD(data = RandomVA5,
          IDs = RandomVA5$ID[1],
          cause = causetextV5[22, 2], 
          pretty = TRUE,
          includeAll = FALSE)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

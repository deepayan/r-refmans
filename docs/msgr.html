<!DOCTYPE html><html><head><title>Help for package msgr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {msgr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#assert'><p>Display an error, and record in a log file, if a condition is false</p></a></li>
<li><a href='#error'><p>Display an error, and record it in a log file.</p></a></li>
<li><a href='#error_if'><p>Display an error, and record in a log file, if a condition is true.</p></a></li>
<li><a href='#has_names'><p>Checks whether the variable has names</p></a></li>
<li><a href='#info'><p>Display a message, and record it in a log file.</p></a></li>
<li><a href='#info_if'><p>Display a message, and record in a log file, if a condition is true.</p></a></li>
<li><a href='#is_dir'><p>Checks whether the variable is a path to an existing directory</p></a></li>
<li><a href='#is_file'><p>Checks whether the variable is a path to an existing file</p></a></li>
<li><a href='#is_in'><p>Checks whether all elements of one variable are in another</p></a></li>
<li><a href='#is_na'><p>Checks whether the variable is NA</p></a></li>
<li><a href='#is_readable'><p>Checks whether the variable is a path to an existing, readable file or directory</p></a></li>
<li><a href='#is_url'><p>Checks whether the variable is a valid URL</p></a></li>
<li><a href='#is_writeable'><p>Checks whether the variable is a path to an existing, writeable file or directory</p></a></li>
<li><a href='#msgr'><p>Extends messages, warnings and errors by adding levels and log files</p></a></li>
<li><a href='#try_catch'><p>Try to evaluate an expressions and capture any messages, warnings or errors</p></a></li>
<li><a href='#try_map'><p>Apply a function over a vector or list, capturing any errors to display at the end</p></a></li>
<li><a href='#try_pmap'><p>Apply a function over a list of vectors, capturing any errors to display at the end</p></a></li>
<li><a href='#warn'><p>Display a warning, and record it in a log file.</p></a></li>
<li><a href='#warn_if'><p>Display a warning, and record in a log file, if a condition is true.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Extends Messages, Warnings and Errors by Adding Levels and Log
Files</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides new functions info(), warn() and error(), similar to message(),
    warning() and stop() respectively. However, the new functions can have a 'level'
    associated with them, so that when executed the global level option determines whether
    they are shown or not. This allows debug modes, outputting more information. The can also
    output all messages to a log file.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang, purrr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ChadGoymer/msgr">https://github.com/ChadGoymer/msgr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ChadGoymer/msgr/issues">https://github.com/ChadGoymer/msgr/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-12-16 07:58:14 UTC; Chad</td>
</tr>
<tr>
<td>Author:</td>
<td>Chad Goymer [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chad Goymer &lt;chad.goymer@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-12-16 11:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='assert'>Display an error, and record in a log file, if a condition is false</h2><span id='topic+assert'></span>

<h3>Description</h3>

<p>This function calls the <code><a href="#topic+error">error()</a></code> function to display an error if the specified condition
is false. If a message is not specified then a generic message is displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert(
  condition,
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_+3A_condition">condition</code></td>
<td>
<p>(boolean) The condition to check.</p>
</td></tr>
<tr><td><code id="assert_+3A_...">...</code></td>
<td>
<p>(strings) message to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="assert_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the message, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="assert_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="assert_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="assert_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string is return invisibly containing the error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # Use assert() to create conditional timed errors
  x &lt;- 1
  assert(x &gt; 0, "Condition is true so this error is not shown")
  assert(x &lt; 0, "Condition is false so this error is shown")

  # As with error() a level can be set
  assert(x &lt; 0, "This is a level 2 error, so not shown by default", level = 2)

  # Set default level in options to determine what is shown
  options(msgr.level = 2)
  assert(x &lt; 0, "This is a level 2 error, so is shown now", level = 2)

## End(Not run)

</code></pre>

<hr>
<h2 id='error'>Display an error, and record it in a log file.</h2><span id='topic+error'></span>

<h3>Description</h3>

<p><code>error()</code> is similar to <code><a href="base.html#topic+stop">stop()</a></code>, but it also writes the error to a log file.
Whether it is shown, or written to the log, depends on the level and type of the error.
See details below for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>error(
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="error_+3A_...">...</code></td>
<td>
<p>(strings) error to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="error_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the error, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="error_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="error_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="error_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Whether an error is shown, or written to the log, depends on two options:
</p>

<ol>
<li> <p><strong>Level</strong>: This allows control over the depth of messages. Each message can be assigned a
<code>level</code> and if it is below the <code>msg_level</code> (set in the package option <code>msgr.level</code> by
default) the message is displayed and written to the log.
</p>
</li>
<li> <p><strong>Type</strong>: The type is refers to whether the message is &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;, as
produced by the functions <code><a href="#topic+info">info()</a></code>, <code><a href="#topic+warn">warn()</a></code> and <code><a href="#topic+error">error()</a></code> respectively. If the message
type is in the <code>msg_types</code> (set in the package option <code>msgr.types</code> by default) the
message is displayed and written to the log. This allows you to for instance, just
display errors and warnings and ignore messages.
</p>
</li></ol>

<p>The location of the log file is set in the package option <code>msgr.log_path</code>, or as an argument to
this function. messages are added with a time stamp. If the <code>log_path</code> is equal to &quot;&quot; then no
log is produced.
</p>


<h3>Value</h3>

<p>A string is return invisibly containing the error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # Use error() to create timed errors
  error("This is a simple error")
  error("This is a level 2 error, so not shown by default", level = 2)

  # Set default level in options to determine what is shown
  options(msgr.level = 2)
  error("This is a level 2 error, so is shown now", level = 2)

## End(Not run)

</code></pre>

<hr>
<h2 id='error_if'>Display an error, and record in a log file, if a condition is true.</h2><span id='topic+error_if'></span>

<h3>Description</h3>

<p>This function calls the <code><a href="#topic+error">error()</a></code> function to display an error if the specified condition
is true. If a message is not specified then a generic message is displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>error_if(
  condition,
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="error_if_+3A_condition">condition</code></td>
<td>
<p>(boolean) The condition to check.</p>
</td></tr>
<tr><td><code id="error_if_+3A_...">...</code></td>
<td>
<p>(strings) message to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="error_if_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the message, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="error_if_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="error_if_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="error_if_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string is return invisibly containing the error
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # Use error_if() to create conditional timed errors
  error_if(2 &gt; 1, "Condition is true so this error is shown")
  error_if(1 &gt; 2, "Condition is false so this error is not shown")

  # As with error() a level can be set
  error_if(2 &gt; 1, "This is a level 2 error, so not shown by default", level = 2)

  # Set default level in options to determine what is shown
  options(msgr.level = 2)
  error_if(2 &gt; 1, "This is a level 2 error, so is shown now", level = 2)

## End(Not run)

</code></pre>

<hr>
<h2 id='has_names'>Checks whether the variable has names</h2><span id='topic+has_names'></span>

<h3>Description</h3>

<p>Checks whether the variable has names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_names(x, nm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_names_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
<tr><td><code id="has_names_+3A_nm">nm</code></td>
<td>
<p>(character, optional) The names to check for. If not specified then the function
checks for any names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x has any names, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- list(a = 1, b = 2)

has_names(x, "a")
has_names(x, c("a", "b"))

has_names(x, "c")

</code></pre>

<hr>
<h2 id='info'>Display a message, and record it in a log file.</h2><span id='topic+info'></span>

<h3>Description</h3>

<p><code>info()</code> is similar to <code><a href="base.html#topic+message">message()</a></code>, but it also writes the message to a log file.
Whether it is shown, or written to the log, depends on the level and type of the message.
See details below for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info(
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_+3A_...">...</code></td>
<td>
<p>(strings) message to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="info_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the message, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="info_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="info_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="info_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Whether a message is shown, or written to the log, depends on two options:
</p>

<ol>
<li> <p><strong>Level</strong>: This allows control over the depth of messages. Each message can be assigned a
<code>level</code> and if it is below the <code>msg_level</code> (set in the package option <code>msgr.level</code> by
default) the message is displayed and written to the log.
</p>
</li>
<li> <p><strong>Type</strong>: The type is refers to whether the message is &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;, as
produced by the functions <code><a href="#topic+info">info()</a></code>, <code><a href="#topic+warn">warn()</a></code> and <code><a href="#topic+error">error()</a></code> respectively. If the message
type is in the <code>msg_types</code> (set in the package option <code>msgr.types</code> by default) the
message is displayed and written to the log. This allows you to for instance, just
display errors and warnings and ignore messages.
</p>
</li></ol>

<p>The location of the log file is set in the package option <code>msgr.log_path</code>, or as an argument to
this function. messages are added with a time stamp. If the <code>log_path</code> is equal to &quot;&quot; then no
log is produced.
</p>


<h3>Value</h3>

<p>A string is return invisibly containing the message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use info() to create timed messages
info("This is a simple message")
info("This is a level 2 message, so not shown by default", level = 2)

# Set default level in options to determine what is shown
options(msgr.level = 2)
info("This is a level 2 message, so is shown now", level = 2)

# Set message types in options to determine what is shown
options(msgr.types = c("WARNING", "ERROR"))
info("This is message, so will not be shown now")

</code></pre>

<hr>
<h2 id='info_if'>Display a message, and record in a log file, if a condition is true.</h2><span id='topic+info_if'></span>

<h3>Description</h3>

<p>This function calls the <code><a href="#topic+info">info()</a></code> function to display a message if the specified condition
is true. If a message is not specified then a generic message is displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_if(
  condition,
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_if_+3A_condition">condition</code></td>
<td>
<p>(boolean) The condition to check.</p>
</td></tr>
<tr><td><code id="info_if_+3A_...">...</code></td>
<td>
<p>(strings) message to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="info_if_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the message, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="info_if_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="info_if_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="info_if_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string is return invisibly containing the message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use info_if() to create conditional timed messages
info_if(2 &gt; 1, "Condition is true so this message is shown")
info_if(1 &gt; 2, "Condition is false so this message is not shown")

# As with info() a level can be set
info_if(2 &gt; 1, "This is a level 2 message, so not shown by default", level = 2)

# Set default level in options to determine what is shown
options(msgr.level = 2)
info_if(2 &gt; 1, "This is a level 2 message, so is shown now", level = 2)

# Set message types in options to determine what is shown
options(msgr.types = c("WARNING", "ERROR"))
info_if(2 &gt; 1, "This is message, so will not be shown now")

</code></pre>

<hr>
<h2 id='is_dir'>Checks whether the variable is a path to an existing directory</h2><span id='topic+is_dir'></span>

<h3>Description</h3>

<p>Checks whether the variable is a path to an existing directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dir(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dir_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x is a path to an existing directory, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_dir(tempdir())
is_dir("/does/not/exist")
is_dir(1)

</code></pre>

<hr>
<h2 id='is_file'>Checks whether the variable is a path to an existing file</h2><span id='topic+is_file'></span>

<h3>Description</h3>

<p>Checks whether the variable is a path to an existing file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_file(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_file_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x is a path to an existing file, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmpfile &lt;- tempfile()
file.create(tmpfile)

is_file(tmpfile)

is_file("/does/not/exist.txt")
is_file(1)

</code></pre>

<hr>
<h2 id='is_in'>Checks whether all elements of one variable are in another</h2><span id='topic+is_in'></span>

<h3>Description</h3>

<p>Checks whether all elements of one variable are in another
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_in(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_in_+3A_x">x</code></td>
<td>
<p>(any) The object with elements to test</p>
</td></tr>
<tr><td><code id="is_in_+3A_y">y</code></td>
<td>
<p>(any) The object with elements to test against</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if all elements in x are in y, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_in("a", letters)
is_in(c("a", "b", "c"), letters)

is_in(1, LETTERS)
is_in(1:2, LETTERS)

</code></pre>

<hr>
<h2 id='is_na'>Checks whether the variable is NA</h2><span id='topic+is_na'></span>

<h3>Description</h3>

<p>Checks whether the variable is NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_na(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_na_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x is NA, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_na(1)
is_na("foo")
is_na(NA)

is_na(c(1, NA))
is_na(c(NA, NA))

</code></pre>

<hr>
<h2 id='is_readable'>Checks whether the variable is a path to an existing, readable file or directory</h2><span id='topic+is_readable'></span>

<h3>Description</h3>

<p>Checks whether the variable is a path to an existing, readable file or directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_readable(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_readable_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x is a path to an existing, readable file or directory, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmpfile &lt;- tempfile()
file.create(tmpfile)

is_readable(tmpfile)

is_readable("/does/not/exist.txt")
is_readable(1)

</code></pre>

<hr>
<h2 id='is_url'>Checks whether the variable is a valid URL</h2><span id='topic+is_url'></span>

<h3>Description</h3>

<p>Checks whether the variable is a valid URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_url(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_url_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x is a valid URL, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_url("http://something.com")
is_url("https://google.com")

is_url(1)
is_url("foo")
is_url(NA)

</code></pre>

<hr>
<h2 id='is_writeable'>Checks whether the variable is a path to an existing, writeable file or directory</h2><span id='topic+is_writeable'></span>

<h3>Description</h3>

<p>Checks whether the variable is a path to an existing, writeable file or directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_writeable(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_writeable_+3A_x">x</code></td>
<td>
<p>(any) The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if x is a path to an existing, writeable file or directory, FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tmpfile &lt;- tempfile()
file.create(tmpfile)

is_writeable(tmpfile)

is_writeable("/does/not/exist.txt")
is_writeable(1)

</code></pre>

<hr>
<h2 id='msgr'>Extends messages, warnings and errors by adding levels and log files</h2><span id='topic+msgr'></span>

<h3>Description</h3>

<p>Provides new functions <code><a href="#topic+info">info()</a></code>, <code><a href="#topic+warn">warn()</a></code> and <code><a href="#topic+error">error()</a></code>, similar to <code><a href="base.html#topic+message">message()</a></code>,
<code><a href="base.html#topic+warning">warning()</a></code> and <code><a href="base.html#topic+stop">stop()</a></code> respectively. However, the new functions can have a <code>level</code>
associated with them, so that when executed the global level option determines whether
they are shown or not. This allows debug modes, outputting more information. The can also
output all messages to a log file.
</p>


<h3>Author(s)</h3>

<p>Chad Goymer <a href="mailto:chad.goymer@gmail.com">chad.goymer@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ChadGoymer/msgr">https://github.com/ChadGoymer/msgr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ChadGoymer/msgr/issues">https://github.com/ChadGoymer/msgr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='try_catch'>Try to evaluate an expressions and capture any messages, warnings or errors</h2><span id='topic+try_catch'></span>

<h3>Description</h3>

<p>This function is similar to <code><a href="base.html#topic+tryCatch">tryCatch()</a></code>, except that, by default, errors are captured
and presented using <code><a href="#topic+error">error()</a></code>. Messages and warnings are not captured by this function.
In addition, a &quot;finally&quot; expression can be specified which is evaluated at the end of
the call no matter the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>try_catch(expr, on_error, finally)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="try_catch_+3A_expr">expr</code></td>
<td>
<p>(expression) The expression to evaluate</p>
</td></tr>
<tr><td><code id="try_catch_+3A_on_error">on_error</code></td>
<td>
<p>(function, optional) A function describing what to do in the event of a
error in the above expression. The function must take a single argument, which is the
<code><a href="base.html#topic+simpleError">simpleError()</a></code>. If missing or <code>NULL</code>, errors are not caught. Default: <code><a href="#topic+error">error()</a></code>
called with the error's message prefixed by the calling function name.</p>
</td></tr>
<tr><td><code id="try_catch_+3A_finally">finally</code></td>
<td>
<p>(expression, optional) An expression to evaluate at the end of the call.
If missing or <code>NULL</code>, nothing is actioned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of the evaluated expression
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  try_catch(x &lt;- "foo")
  try_catch(stop("This is an error"))

## End(Not run)

</code></pre>

<hr>
<h2 id='try_map'>Apply a function over a vector or list, capturing any errors to display at the end</h2><span id='topic+try_map'></span>

<h3>Description</h3>

<p>This function is similar to <code><a href="purrr.html#topic+map">purrr::map()</a></code> except that instead of stopping at the first
error it captures them and continues. If there are any errors it collects them together
and displays them at the end. You have the option to specify a prefix to the error message
using the <code>msg_prefix</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>try_map(
  x,
  f,
  ...,
  msg_prefix,
  warn_level = 2,
  error_level = 1,
  on_error = "error",
  simplify = FALSE,
  use_names = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="try_map_+3A_x">x</code></td>
<td>
<p>(vector or list) The vector or list to map the function to.</p>
</td></tr>
<tr><td><code id="try_map_+3A_f">f</code></td>
<td>
<p>(function) The function to map to the elements of <code>x</code>.</p>
</td></tr>
<tr><td><code id="try_map_+3A_...">...</code></td>
<td>
<p>(optional) Extra arguments to supply to f.</p>
</td></tr>
<tr><td><code id="try_map_+3A_msg_prefix">msg_prefix</code></td>
<td>
<p>(string, optional) A message to prefix any resulting error message.</p>
</td></tr>
<tr><td><code id="try_map_+3A_warn_level">warn_level</code></td>
<td>
<p>(integer, optional) The level of any warnings about errors encountered.
If 0 then no warnings are shown. Default: 2.</p>
</td></tr>
<tr><td><code id="try_map_+3A_error_level">error_level</code></td>
<td>
<p>(integer, optional) The level of any resulting errors. Default: 1.</p>
</td></tr>
<tr><td><code id="try_map_+3A_on_error">on_error</code></td>
<td>
<p>(string) The kind of message to produce if there is an error. Either &quot;info&quot;,
&quot;warn&quot;, or &quot;error&quot;. Default: &quot;error&quot;.</p>
</td></tr>
<tr><td><code id="try_map_+3A_simplify">simplify</code></td>
<td>
<p>(boolean, optional) Whether to try to simplify the result of the mapping
into an atomic vector. Default: FALSE.</p>
</td></tr>
<tr><td><code id="try_map_+3A_use_names">use_names</code></td>
<td>
<p>(boolean, optional) Whether to use 'x' as names in the resulting list. 'x'
must be a character vector for this to work. Default: TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the mapped function is a long running process <code>try_map()</code> can output a warning at the time
an error occurs, but specifying the <code>warn_level</code> argument to be greater than 0 (see
<code><a href="#topic+warn">warn()</a></code> for more details about message levels. Similarly <code>error_level</code> argument specifies
the level of any reported error, as detailed in <code><a href="#topic+error">error()</a></code>.
</p>
<p>If you do not want the function to stop with an error, you can instead return a warning or
info message using the <code>on_error</code> argument.
</p>
<p>Finally, <code>simplify</code> and <code>use_names</code> allow the user to specify whether to simplify the output
to an atomic vector, if possible, and whether to use the vector input <code>x</code> as names to the
resulting list.
</p>


<h3>Value</h3>

<p>If <code>simplify = FALSE</code> a list is returned. Otherwise, the function attempts to
simplify the result to an atomic vector or array.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  test_try_map &lt;- function(x, y) if (x &gt; y) stop("x &gt; y") else x
  try_map(1:3, test_try_map, y = 2)
  try_map(1:3, test_try_map, y = 5)

## End(Not run)

</code></pre>

<hr>
<h2 id='try_pmap'>Apply a function over a list of vectors, capturing any errors to display at the end</h2><span id='topic+try_pmap'></span>

<h3>Description</h3>

<p>This function is similar to <code><a href="purrr.html#topic+pmap">purrr::pmap()</a></code> except that instead of stopping at the first
error it captures them and continues. If there are any errors it collects them together
and displays them at the end. You have the option to specify a prefix to the error message
using the <code>msg_prefix</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>try_pmap(
  l,
  f,
  ...,
  msg_prefix,
  warn_level = 2,
  error_level = 1,
  on_error = "error",
  simplify = FALSE,
  use_names = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="try_pmap_+3A_l">l</code></td>
<td>
<p>(list) A list of vectors the same length to apply the function to.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_f">f</code></td>
<td>
<p>(function) The function to map to the elements of the vectors in <code>l</code>.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_...">...</code></td>
<td>
<p>(optional) Extra arguments to supply to f.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_msg_prefix">msg_prefix</code></td>
<td>
<p>(string, optional) A message to prefix any resulting error message.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_warn_level">warn_level</code></td>
<td>
<p>(integer, optional) The level of any warnings about errors encountered.
If 0 then no warnings are shown. Default: 2.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_error_level">error_level</code></td>
<td>
<p>(integer, optional) The level of any resulting errors. Default: 1.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_on_error">on_error</code></td>
<td>
<p>(string) The kind of message to produce if there is an error. Either &quot;info&quot;,
&quot;warn&quot;, or &quot;error&quot;. Default: &quot;error&quot;.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_simplify">simplify</code></td>
<td>
<p>(boolean, optional) Whether to try to simplify the result of the mapping
into an atomic vector. Default: FALSE.</p>
</td></tr>
<tr><td><code id="try_pmap_+3A_use_names">use_names</code></td>
<td>
<p>(boolean, optional) Whether to use 'x' as names in the resulting list. 'x'
must be a character vector for this to work. Default: TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the mapped function is a long running process <code>try_pmap</code> can output a warning at the time
an error occurs, but specifying the <code>warn_level</code> argument to be greater than 0 (see
<code><a href="#topic+warn">warn()</a></code> for more details about message levels. Similarly <code>error_level</code> argument specifies
the level of any reported error, as detailed in <code><a href="#topic+error">error()</a></code>.
</p>
<p>If you do not want the function to stop with an error, you can instead return a warning or
info message using the <code>on_error</code> argument.
</p>
<p>Finally, <code>simplify</code> and <code>use_names</code> allow the user to specify whether to simplify the output
to an atomic vector, if possible, and whether to use the vector input <code>x</code> as names to the
resulting list.
</p>


<h3>Value</h3>

<p>If <code>simplify = FALSE</code> a list is returned. Otherwise, the function attempts to
simplify the result to an atomic vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  test_try_pmap &lt;- function(x, y) if (x &gt; y) stop("x &gt; y") else x
  try_pmap(list(1:3, 3:1), test_try_pmap)
  try_pmap(list(1:3, 2:4), test_try_pmap)

## End(Not run)

</code></pre>

<hr>
<h2 id='warn'>Display a warning, and record it in a log file.</h2><span id='topic+warn'></span>

<h3>Description</h3>

<p><code>warn()</code> is similar to <code><a href="base.html#topic+warning">warning()</a></code>, but it also writes the warning to a log file.
Whether it is shown, or written to the log, depends on the level and type of the warning.
See details below for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>warn(
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="warn_+3A_...">...</code></td>
<td>
<p>(strings) warning to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="warn_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the warning, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="warn_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="warn_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="warn_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Whether a warning is shown, or written to the log, depends on two options:
</p>

<ol>
<li> <p><strong>Level</strong>: This allows control over the depth of messages. Each message can be assigned a
<code>level</code> and if it is below the <code>msg_level</code> (set in the package option <code>msgr.level</code> by
default) the message is displayed and written to the log.
</p>
</li>
<li> <p><strong>Type</strong>: The type is refers to whether the message is &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;, as
produced by the functions <code><a href="#topic+info">info()</a></code>, <code><a href="#topic+warn">warn()</a></code> and <code><a href="#topic+error">error()</a></code> respectively. If the message
type is in the <code>msg_types</code> (set in the package option <code>msgr.types</code> by default) the
message is displayed and written to the log. This allows you to for instance, just
display errors and warnings and ignore messages.
</p>
</li></ol>

<p>The location of the log file is set in the package option <code>msgr.log_path</code>, or as an argument to
this function. messages are added with a time stamp. If the <code>log_path</code> is equal to &quot;&quot; then no
log is produced.
</p>


<h3>Value</h3>

<p>A string is return invisibly containing the warning
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use warn() to create timed warnings
warn("This is a simple warning")
warn("This is a level 2 warning, so not shown by default", level = 2)

# Set default level in options to determine what is shown
options(msgr.level = 2)
warn("This is a level 2 warning, so is shown now", level = 2)

# Set message types in options to determine what is shown
options(msgr.types = "ERROR")
warn("This is warning, so will not be shown now")

</code></pre>

<hr>
<h2 id='warn_if'>Display a warning, and record in a log file, if a condition is true.</h2><span id='topic+warn_if'></span>

<h3>Description</h3>

<p>This function calls the <code><a href="#topic+warn">warn()</a></code> function to display a warning if the specified condition
is true. If a message is not specified then a generic message is displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>warn_if(
  condition,
  ...,
  level = 1,
  msg_level = getOption("msgr.level"),
  msg_types = getOption("msgr.types"),
  log_path = getOption("msgr.log_path")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="warn_if_+3A_condition">condition</code></td>
<td>
<p>(boolean) The condition to check.</p>
</td></tr>
<tr><td><code id="warn_if_+3A_...">...</code></td>
<td>
<p>(strings) message to be displayed or written to file.</p>
</td></tr>
<tr><td><code id="warn_if_+3A_level">level</code></td>
<td>
<p>(integer, optional) The level of the message, from 1 to 10. Default: 1.</p>
</td></tr>
<tr><td><code id="warn_if_+3A_msg_level">msg_level</code></td>
<td>
<p>(integer, optional) The maximum level of messages to output. Default: set
in the option <code>"msgr.level"</code>.</p>
</td></tr>
<tr><td><code id="warn_if_+3A_msg_types">msg_types</code></td>
<td>
<p>(character, optional) The type to write or display. Must either NULL or one
or more from &quot;INFO&quot;, &quot;WARNING&quot; or &quot;ERROR&quot;. Default: set in the option <code>"msgr.types"</code>.</p>
</td></tr>
<tr><td><code id="warn_if_+3A_log_path">log_path</code></td>
<td>
<p>(string, optional) The file path to the text log file. If set to &quot;&quot;, then no
logs are written. Default: set in the option <code>"msgr.log_path"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string is return invisibly containing the warning.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use warn_if() to create conditional timed warnings
warn_if(2 &gt; 1, "Condition is true so this warning is shown")
warn_if(1 &gt; 2, "Condition is false so this warning is not shown")

# As with warn() a level can be set
warn_if(2 &gt; 1, "This is a level 2 warning, so not shown by default", level = 2)

# Set default level in options to determine what is shown
options(msgr.level = 2)
warn_if(2 &gt; 1, "This is a level 2 warning, so is shown now", level = 2)

# Set message types in options to determine what is shown
options(msgr.types = "ERROR")
warn_if(2 &gt; 1, "This is warning, so will not be shown now")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

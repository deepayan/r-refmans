<!DOCTYPE html><html><head><title>Help for package BRBVS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BRBVS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AREDS'><p>Age-Related Eye Disease Study (AREDS)</p></a></li>
<li><a href='#BRBVS'><p>Bivariate Rank-Based Variable Selection</p></a></li>
<li><a href='#plotBRBVS'><p>Plot Results of BRBVS Algorithm</p></a></li>
<li><a href='#summary.BRBVS'><p>Summary for BRBVS Object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Variable Ranking in Copula Survival Models Affected by General
Censoring Scheme</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs variable ranking based on several measures for the class of copula survival model(s) in high dimensional domain.
    The package is based on the class of copula survival model(s) implemented in the 'GJRM' package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>copent (&ge; 0.4), ggplot2 (&ge; 3.4.3), GJRM (&ge; 0.2-6.4),
mvtnorm (&ge; 1.2-4), stats, utils</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-08 19:44:09 UTC; danilo</td>
</tr>
<tr>
<td>Author:</td>
<td>Danilo Petti <a href="https://orcid.org/0000-0003-1913-6891"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Danilo Petti &lt;d.petti@essex.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-09 09:30:28 UTC</td>
</tr>
</table>
<hr>
<h2 id='AREDS'>Age-Related Eye Disease Study (AREDS)</h2><span id='topic+AREDS'></span>

<h3>Description</h3>

<p>A real dataset of bivariate interval-censored data with 629 subjects and 4 non-genetic covariates
and 1 genetic covariate. The dataset is selected from the Age-related Eye Disease Study (AREDS)
(AREDS Group, 1999). Two events are the progression times (in years) to late-AMD in the left and
right eyes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AREDS
</code></pre>


<h3>Format</h3>



<h4><code>AREDS</code></h4>

<p>A data frame with 628 patients (rows) and 11 columns:
</p>

<dl>
<dt>SevScale1E</dt><dd><p>Severity scale associated with the right eye</p>
</dd>
<dt>SevScale2E</dt><dd><p>Severity scale associated with the left eye</p>
</dd>
<dt>ENROLLAGE</dt><dd><p>Age at baseline</p>
</dd>
<dt>rs2284665</dt><dd><p>SNP covariate highly associated with late-AMD progression (GG, GT, TT)</p>
</dd>
<dt>cens1</dt><dd><p>Recurrence censoring variable in the right eye</p>
</dd>
<dt>cens2</dt><dd><p>Recurrence censoring variable in the left eye</p>
</dd>
<dt>cens</dt><dd><p>Overall survival censoring variable</p>
</dd>
<dt>t11</dt><dd><p>Start of follow-up in days right eye</p>
</dd>
<dt>t12</dt><dd><p>Time to recurrence or last follow-up in days right eye</p>
</dd>
<dt>t21</dt><dd><p>Start of follow-up in days left eye</p>
</dd>
<dt>t22</dt><dd><p>Time to recurrence or last follow-up in days left eye</p>
</dd>
</dl>
<p>...

</p>



<h3>Source</h3>

<p><a href="https://www.ncbi.nlm.nih.gov/projects/gap/cgi-bin/study.cgi?study_id=phs000001.v3.p1">https://www.ncbi.nlm.nih.gov/projects/gap/cgi-bin/study.cgi?study_id=phs000001.v3.p1</a>
</p>

<hr>
<h2 id='BRBVS'>Bivariate Rank-Based Variable Selection</h2><span id='topic+BRBVS'></span>

<h3>Description</h3>

<p>This function performs bivariate rank-based variable selection (BRBVS) based on copula survival copula models.
It computes rankings for covariates and selects a specified number of variables according to the estimated probabilities.
The function returns rankings and selected variables for different criteria.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BRBVS(y, x, kmax, copula, margins, m, tau, n.rep, metric)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BRBVS_+3A_y">y</code></td>
<td>
<p>Time to events and censoring matrix as a data frame.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_x">x</code></td>
<td>
<p>Covariates matrix as a data frame. Input matrix containing the predictor variables.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_kmax">kmax</code></td>
<td>
<p>Numeric. The maximum number of variables to be selected. Must be positive, non-zero, and
less than or equal to the number of columns in <code>x</code>.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_copula">copula</code></td>
<td>
<p>Character. Type of copula employed in the algorithm. Must be one of the following types:
<code>N</code>, <code>C0</code>, <code>C90</code>, <code>C180</code>, <code>C270</code>, <code>GAL0</code>, <code>GAL90</code>, <code>GAL180</code>, <code>GAL270</code>,
<code>J0</code>, <code>J90</code>, <code>J180</code>, <code>J270</code>, <code>G0</code>, <code>G90</code>, <code>G180</code>, <code>G270</code>, <code>F</code>, <code>AMH</code>,
<code>FGM</code>, <code>T</code>, <code>PL</code>, <code>HO</code> default is <code>C0</code>.
See GJRM package documentation for details: <a href="https://CRAN.R-project.org/package=GJRM">GJRM package</a>.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_margins">margins</code></td>
<td>
<p>Character. Type of margin employed in the algorithm. Must be one of <code>PH</code>, <code>PO</code>, <code>probit</code>.
Default is c(<code>PH</code>, <code>PO</code>).
See GJRM package documentation for more on margins: <a href="https://CRAN.R-project.org/package=GJRM">GJRM package</a>.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_m">m</code></td>
<td>
<p>Numeric. Subsample size, typically set to n/2 where n is the number of observations.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_tau">tau</code></td>
<td>
<p>Numeric. A user-defined threshold for variable selection. Must be in the interval (0,1), exclusive.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_n.rep">n.rep</code></td>
<td>
<p>Integer. Number of Bootstrap replicates. Must be positive.</p>
</td></tr>
<tr><td><code id="BRBVS_+3A_metric">metric</code></td>
<td>
<p>Character, specifies the metric used for ranking the variables.
Must be one of 'CE', 'FIM', 'Abs'. Default is 'FIM'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following components:
</p>

<ul>
<li> <p><code>mtx.act1E</code>: Numeric vector of indices of the active variables selected based on the first survival function. Remaining positions (up to 'kmax') are filled with 0.
</p>
</li>
<li> <p><code>score.r1E</code>: Numeric vector of the ranked scores for variable selection based on the first survival function, with remaining positions (up to 'kmax'-1) filled with 0.
</p>
</li>
<li> <p><code>freq.rel1E</code>: Numeric vector of the relative frequencies of selected variables based on the first survival function (frequencies divided by 'n.rep').
</p>
</li>
<li> <p><code>mtx.act2E</code>: Numeric vector of indices of the active variables selected based on the second survival function. Remaining positions (up to 'kmax') are filled with 0.
</p>
</li>
<li> <p><code>score.r2E</code>: Numeric vector of the ranked scores for variable selection based on the second survival function, with remaining positions (up to 'kmax'-1) filled with 0.
</p>
</li>
<li> <p><code>freq.rel2E</code>: Numeric vector of the relative frequencies of selected variables based on the second survival function (frequencies divided by 'n.rep').
</p>
</li>
<li> <p><code>metric</code>: The metric used for ranking the variables.
</p>
</li>
<li> <p><code>kmax</code>: The maximum number of variables to be selected.
</p>
</li>
<li> <p><code>copula</code>: The type of copula employed in the algorithm.
</p>
</li>
<li> <p><code>margins</code>: The type of margins employed in the algorithm.
.  - <code>Namecondings</code>: Table with name of covariates and encoding used in the output.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
###############################################
# Example based on AREDS dataset
# This analysis serves solely as a
# demonstration of the function's capabilities.
###############################################

data(AREDS)
Y&lt;- AREDS[,c('t11','t12', 't21', 't22', 'cens1', 'cens2', 'cens')]
X&lt;- AREDS[,c(3, 9)]
# Including just 1 covariates as example
X$SevScale1E &lt;- scale(as.numeric( X$SevScale1E))
X$SevScale2E &lt;- scale(as.numeric(X$SevScale1E))


Bivrbvs&lt;- BRBVS(y=Y, x=X, kmax=2,copula='C0',
                      margins=c('PO','PO'),
                      m=628 , # try to set m=628 (628 is the sample size)
                      tau=0.5,
                      n.rep=1, # number of bootstrap = 1
                      metric='FIM')
                      






</code></pre>

<hr>
<h2 id='plotBRBVS'>Plot Results of BRBVS Algorithm</h2><span id='topic+plotBRBVS'></span>

<h3>Description</h3>

<p>This function takes an object containing the results of the BRBVS algorithm
and plots the active features against their relative frequencies for the two time to events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotBRBVS(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotBRBVS_+3A_object">object</code></td>
<td>
<p>An object containing the results of the BRBVS algorithm.
Expected to contain matrices <code>mtx.act1E</code> and <code>mtx.act2E</code> for feature names,
vectors <code>freq.rel1E</code> and <code>freq.rel2E</code> for relative frequencies, and
additional elements <code>Namecondings</code>, <code>metric</code>, <code>copula</code>, <code>margins</code> for feature decoding and plot annotations.</p>
</td></tr>
<tr><td><code id="plotBRBVS_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to plotting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the BRBVS algorithm results.
Features are displayed on the x-axis and their relative frequencies on the y-axis.
The plot is split into two facets for each survival.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>############################
# Toy Example
############################
BRBVS_object &lt;- list(
mtx.act1E = c("z2", "z1", "0", "0"),
scores1E = c(20, 1, 1),
freq.rel1E = c(1, 1, 1, 1),
mtx.act2E = c("z2", "z1", "0", "0"),
scores2E = c(20, 1, 1),
freq.rel2E = c(1, 1, 1, 1),
metric = "FIM",
kmax = 4,
copula = "C0",
margins = c("PO", "PO"),
tau = 0.5,
Namecondings = matrix(
 c("z1", "z1", "z2", "z2", "z3", "z3", "z4", "z4", "z5", "z5", "z6", "z6"),
 nrow = 6, ncol = 2, byrow = TRUE,
 dimnames = list(NULL, c("Features", "Code"))
)
)

class(BRBVS_object) &lt;- "BRBVS"
plotBRBVS(BRBVS_object)

</code></pre>

<hr>
<h2 id='summary.BRBVS'>Summary for BRBVS Object</h2><span id='topic+summary.BRBVS'></span>

<h3>Description</h3>

<p>Provides a concise overview of a Bivariate Variable  Selection (BRBVS) object.
It reports the maximum number of relevant covariates (<code>kmax</code>) across all sets, and details
the relevant covariates for each survival function along with their frequency of selection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'BRBVS'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.BRBVS_+3A_object">object</code></td>
<td>
<p>An object of class <code>BRBVS</code>, typically the result of a BRBVS analysis.</p>
</td></tr>
<tr><td><code id="summary.BRBVS_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value but prints the summary of the BRBVS object to the console.
If the <code>BRBVS</code> object is invalid or incomplete, an error message is displayed and the function returns <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>############################
# Toy Example
############################
BRBVS_object &lt;- list(
mtx.act1E = c("z2", "z1", "0", "0"),
scores1E = c(20, 1, 1),
freq.rel1E = c(1, 1, 1, 1),
mtx.act2E = c("z2", "z1", "0", "0"),
scores2E = c(20, 1, 1),
freq.rel2E = c(1, 1, 1, 1),
metric = "FIM",
kmax = 4,
copula = "C0",
margins = c("PO", "PO"),
tau = 0.5,
Namecondings = matrix(
 c("z1", "z1", "z2", "z2", "z3", "z3", "z4", "z4", "z5", "z5", "z6", "z6"),
 nrow = 6, ncol = 2, byrow = TRUE,
 dimnames = list(NULL, c("Features", "Code"))
)
)

class(BRBVS_object) &lt;- "BRBVS"
summary(BRBVS_object)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

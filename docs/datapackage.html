<!DOCTYPE html><html lang="en"><head><title>Help for package datapackage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {datapackage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#csv_reader'><p>Read the CSV-data for a Data Resource</p></a></li>
<li><a href='#csv_writer'><p>Write data of data resource to CSV-file</p></a></li>
<li><a href='#dp_add_reader'><p>Add a reader function for a specific format</p></a></li>
<li><a href='#dp_add_writer'><p>Add a writer function for a specific format</p></a></li>
<li><a href='#dp_apply_schema'><p>Convert columns of data.frame to their correct types using table schema</p></a></li>
<li><a href='#dp_categorieslist'><p>Get the a data.frame with the categories for a variable.</p></a></li>
<li><a href='#dp_check_dataresource'><p>Check if a data set is valid given a Data Resource</p></a></li>
<li><a href='#dp_check_field'><p>Check if a vector is valid given a field descriptor</p></a></li>
<li><a href='#dp_field'><p>Get the Field Descriptor associated with a certain field in a Data Resource</p></a></li>
<li><a href='#dp_field_names'><p>List the fields in a Data Resource</p></a></li>
<li><a href='#dp_generate_dataresource'><p>Generate Data Resource for a dataset</p></a></li>
<li><a href='#dp_generate_fielddescriptor'><p>Generate a fielddescriptor for a given variable in a dataset</p></a></li>
<li><a href='#dp_get_connection'><p>Get a connection to the data belonging to a Data Resource</p></a></li>
<li><a href='#dp_get_data'><p>Get the data belonging to a Data Resource</p></a></li>
<li><a href='#dp_get_datapackage'><p>Get the Data Package associated with the object</p></a></li>
<li><a href='#dp_load_from_datapackage'><p>Quickly read a dataset from a Data Package</p></a></li>
<li><a href='#dp_nresources'><p>Return the number of resources in a Data Package</p></a></li>
<li><a href='#dp_properties'><p>Get a list of properties defined for the object</p></a></li>
<li><a href='#dp_property'><p>Get and set properties of Data Packages and Data Resources</p></a></li>
<li><a href='#dp_resource'><p>Modifying the resources of a Data Package</p></a></li>
<li><a href='#dp_resource_names'><p>Get the names of the resources in a Data Package</p></a></li>
<li><a href='#dp_resources+26lt+3B-'><p>Modify a set of Data Resources in a Data Package</p></a></li>
<li><a href='#dp_save_as_datapackage'><p>Save a dataset as a Data Package</p></a></li>
<li><a href='#dp_to_boolean'><p>Convert a vector to 'boolean' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_code'><p>Recode a variable to <code>code</code> using the associated categories</p></a></li>
<li><a href='#dp_to_date'><p>Convert a vector to 'date' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_datetime'><p>Convert a vector to 'datetime' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_factor'><p>Recode a variable to factor using the associated categories</p></a></li>
<li><a href='#dp_to_integer'><p>Convert a vector to 'integer' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_number'><p>Convert a vector to 'number' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_string'><p>Convert a vector to 'string' using the specified fielddescriptor</p></a></li>
<li><a href='#dp_to_time'><p>Convert a vector to 'time' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_year'><p>Convert a vector to 'year' using the specified field descriptor</p></a></li>
<li><a href='#dp_to_yearmonth'><p>Convert a vector to 'yearmonth' using the specified field descriptor</p></a></li>
<li><a href='#dp_write_data'><p>Write  data of resource to file</p></a></li>
<li><a href='#fwf_reader'><p>Read the FWF-data for a Data Resource</p></a></li>
<li><a href='#new_contributor'><p>Creating and Adding Contributors to a Data Package</p></a></li>
<li><a href='#new_datapackage'><p>Create a new Data Package</p></a></li>
<li><a href='#new_dataresource'><p>Create a new Data Resource</p></a></li>
<li><a href='#open_datapackage'><p>Open a data package</p></a></li>
<li><a href='#PropertiesDatapackage'><p>Getting and setting properties of Data Packages</p></a></li>
<li><a href='#PropertiesDataresource'><p>Getting and setting properties of Data Resources</p></a></li>
<li><a href='#PropertiesFielddescriptor'><p>Getting and setting properties of Data Resources</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Creating and Reading Data Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Open, read data from and modify Data Packages. Data Packages are
    an open standard for bundling and describing data sets
    (<a href="https://datapackage.org">https://datapackage.org</a>). When data is read from a Data Package care is
    taken to convert the data as much a possible to R appropriate data types.
    The package can be extended with plugins for additional data types.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/djvanderlaan/datapackage/issues">https://github.com/djvanderlaan/datapackage/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/djvanderlaan/datapackage">https://github.com/djvanderlaan/datapackage</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>yaml, jsonlite, iso8601, utils, tools, methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>simplermarkdown, data.table, codelist, LaF</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>simplermarkdown</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-10 16:38:23 UTC; eoos</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan van der Laan <a href="https://orcid.org/0000-0002-0693-1514"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan van der Laan &lt;r@eoos.dds.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-12 17:30:16 UTC</td>
</tr>
</table>
<hr>
<h2 id='csv_reader'>Read the CSV-data for a Data Resource</h2><span id='topic+csv_reader'></span>

<h3>Description</h3>

<p>Read the CSV-data for a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csv_reader(
  path,
  resource,
  use_fread = FALSE,
  convert_categories = c("no", "to_factor"),
  as_connection = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csv_reader_+3A_path">path</code></td>
<td>
<p>path to the data set.</p>
</td></tr>
<tr><td><code id="csv_reader_+3A_resource">resource</code></td>
<td>
<p>a Data Resource.</p>
</td></tr>
<tr><td><code id="csv_reader_+3A_use_fread">use_fread</code></td>
<td>
<p>use the <code><a href="data.table.html#topic+fread">fread</a></code> function instead of
<code><a href="utils.html#topic+read.csv">read.csv</a></code> and return a <code>data.table</code>.</p>
</td></tr>
<tr><td><code id="csv_reader_+3A_convert_categories">convert_categories</code></td>
<td>
<p>how to handle columns for which the field
descriptor has a <code>categories</code> property. Passed on to
<code><a href="#topic+dp_apply_schema">dp_apply_schema</a></code>.</p>
</td></tr>
<tr><td><code id="csv_reader_+3A_as_connection">as_connection</code></td>
<td>
<p>This argument is ignored. The function will always
return a <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="csv_reader_+3A_...">...</code></td>
<td>
<p>additional arguments are passed on to <code><a href="utils.html#topic+read.csv">read.csv</a></code> or
<code><a href="data.table.html#topic+fread">fread</a></code>. Note that some arguments are already set
by <code>csv_reader</code>, so not all arguments are available to use as 
additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with the data.
</p>


<h3>See Also</h3>

<p>Generally used by calling <code><a href="#topic+dp_get_data">dp_get_data</a></code>.
</p>

<hr>
<h2 id='csv_writer'>Write data of data resource to CSV-file</h2><span id='topic+csv_writer'></span>

<h3>Description</h3>

<p>Write data of data resource to CSV-file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csv_writer(x, resource_name, datapackage, use_fwrite = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csv_writer_+3A_x">x</code></td>
<td>
<p><code>data.frame</code> with the data to write</p>
</td></tr>
<tr><td><code id="csv_writer_+3A_resource_name">resource_name</code></td>
<td>
<p>name of the data resource in the data package.</p>
</td></tr>
<tr><td><code id="csv_writer_+3A_datapackage">datapackage</code></td>
<td>
<p>the Data Package to which the file should be written.</p>
</td></tr>
<tr><td><code id="csv_writer_+3A_use_fwrite">use_fwrite</code></td>
<td>
<p>write the file using <code>fwrite</code> from the
<code>data.table</code> package.</p>
</td></tr>
<tr><td><code id="csv_writer_+3A_...">...</code></td>
<td>
<p>ignored for now</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function doesn't return anything. It is called for it's side effect of
creating CSV-files in the directory of the data package.
</p>

<hr>
<h2 id='dp_add_reader'>Add a reader function for a specific format</h2><span id='topic+dp_add_reader'></span>

<h3>Description</h3>

<p>Add a reader function for a specific format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_add_reader(
  format,
  reader,
  mediatypes = character(0),
  extensions = character(0)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_add_reader_+3A_format">format</code></td>
<td>
<p>the data format read by the reader. Should be a length 1 character vector.</p>
</td></tr>
<tr><td><code id="dp_add_reader_+3A_reader">reader</code></td>
<td>
<p>the reader function. See details.</p>
</td></tr>
<tr><td><code id="dp_add_reader_+3A_mediatypes">mediatypes</code></td>
<td>
<p>a character vector with the media-types that are used for the format.</p>
</td></tr>
<tr><td><code id="dp_add_reader_+3A_extensions">extensions</code></td>
<td>
<p>a character vector with typical file extensions used by the format.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Adds a reader for a given format. The reader is added to a list of reades
references by the format. It is also possible to assign mediatypes and file
extensions to the format. When the format for a given Data Resource is
missing, <code><a href="#topic+dp_get_data">dp_get_data</a></code> will first check if a mediatype is
associated with the resource and will try to look up which format belongs to
the fiven mediatype. If that doesn't result in a valid format,
<code><a href="#topic+dp_get_data">dp_get_data</a></code> will try the same with the extension of the file.
</p>
<p>Note that adding a reader for an existing format will overwrite the existing
reader.
</p>


<h3>Value</h3>

<p>Does not return anything (<code>invisible(NULL)</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Add a very simple reader for json
json_reader &lt;- function(path, resource, ...) {
  lapply(path, function(fn) {
    jsonlite::read_json(fn)
  })
}

dp_add_reader("json", json_reader, c("application/json"), "json")

</code></pre>

<hr>
<h2 id='dp_add_writer'>Add a writer function for a specific format</h2><span id='topic+dp_add_writer'></span>

<h3>Description</h3>

<p>Add a writer function for a specific format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_add_writer(format, writer)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_add_writer_+3A_format">format</code></td>
<td>
<p>the data format read by the writer Should be a length 1 character vector.</p>
</td></tr>
<tr><td><code id="dp_add_writer_+3A_writer">writer</code></td>
<td>
<p>the writer function. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Adds a writer for a given format. The writer is added to a list of writers
referenced by the format. The writer function should accept 'data' with
the data as its first argument, 'resource_name' the name of the resource to
which the data set belongs, 'datapackage' that datapackage to which the data
should be written.
</p>
<p>Note that adding a writer for an existing format will overwrite the existing
writer
</p>


<h3>Value</h3>

<p>Does not return anything (<code>invisible(NULL)</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Add a very simple writer for json
json_writer &lt;- function(data, resource_name, datapackage, ...) {
  dataresource &lt;- dp_resource(datapackage, resource_name)
  path &lt;- dp_path(dataresource, full_path = TRUE)
  jsonlite::write_json(data, path)
}

dp_add_writer("json", json_writer)

</code></pre>

<hr>
<h2 id='dp_apply_schema'>Convert columns of data.frame to their correct types using table schema</h2><span id='topic+dp_apply_schema'></span>

<h3>Description</h3>

<p>Convert columns of data.frame to their correct types using table schema
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_apply_schema(
  dta,
  resource,
  convert_categories = c("no", "to_factor", "to_code"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_apply_schema_+3A_dta">dta</code></td>
<td>
<p>a <code>data.frame</code> or <code>data.table</code>.</p>
</td></tr>
<tr><td><code id="dp_apply_schema_+3A_resource">resource</code></td>
<td>
<p>an object with the Data Resource of the data set.</p>
</td></tr>
<tr><td><code id="dp_apply_schema_+3A_convert_categories">convert_categories</code></td>
<td>
<p>how to handle columns for which the field
descriptor has a <code>categories</code> property.  This should either be the
strings &quot;no&quot;, &quot;to_factor&quot;, &quot;to_code&quot;, the name of a function or a function.
When equal to &quot;no&quot; the field is returned as is; when equal to &quot;to_factor&quot;
each column is transformed using <code><a href="#topic+dp_to_factor">dp_to_factor</a></code>; when equal to
&quot;to_code&quot; each column is transformed using <code><a href="#topic+dp_to_code">dp_to_code</a></code>. In
other cased the function is called with the column as its first parameter and
<code>warn = FALSE</code> as its second argument. The result of this function call
is added to the resulting data set.</p>
</td></tr>
<tr><td><code id="dp_apply_schema_+3A_...">...</code></td>
<td>
<p>additional arguments are passed on to the <code>dp_to_&lt;fieldtype&gt;</code>
functions (e.g. <code><a href="#topic+dp_to_number">dp_to_number</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts each column in <code>dta</code> to the correct R-type using the type
information in the table schema. For example, if the original column type in
<code>dta</code> is a character vector and the table schema specifies that the field is
of type number, the column is converted to numeric using the decimal
separator and thousands separator specified in the field descriptor (or default values
for these if not).
</p>


<h3>Value</h3>

<p>Returns a copy of the input data.frame with columns modified to match the
types given in de table schema.
</p>


<h3>See Also</h3>

<p>This function calls conversion functions for each of the columns, see 
<code><a href="#topic+dp_to_number">dp_to_number</a></code>, <code><a href="#topic+dp_to_boolean">dp_to_boolean</a></code>, <code><a href="#topic+dp_to_integer">dp_to_integer</a></code>, 
<code><a href="#topic+dp_to_date">dp_to_date</a></code>. <code><a href="#topic+dp_to_datetime">dp_to_datetime</a></code>, <code><a href="#topic+dp_to_yearmonth">dp_to_yearmonth</a></code>, 
and <code><a href="#topic+dp_to_string">dp_to_string</a></code>.
</p>

<hr>
<h2 id='dp_categorieslist'>Get the a data.frame with the categories for a variable.</h2><span id='topic+dp_categorieslist'></span><span id='topic+dp_categorieslist.default'></span><span id='topic+dp_categorieslist.fielddescriptor'></span>

<h3>Description</h3>

<p>Get the a data.frame with the categories for a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_categorieslist(x, ...)

## Default S3 method:
dp_categorieslist(
  x,
  fielddescriptor = attr(x, "fielddescriptor"),
  datapackage = dp_get_datapackage(fielddescriptor),
  ...
)

## S3 method for class 'fielddescriptor'
dp_categorieslist(
  x,
  datapackage = dp_get_datapackage(x),
  normalised = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_categorieslist_+3A_x">x</code></td>
<td>
<p>the variable for which to get the Categories List</p>
</td></tr>
<tr><td><code id="dp_categorieslist_+3A_...">...</code></td>
<td>
<p>used to pass extra arguments on to other methods.</p>
</td></tr>
<tr><td><code id="dp_categorieslist_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the Field Descriptor associated with the variable.</p>
</td></tr>
<tr><td><code id="dp_categorieslist_+3A_datapackage">datapackage</code></td>
<td>
<p>the Data Package where the variable is from.</p>
</td></tr>
<tr><td><code id="dp_categorieslist_+3A_normalised">normalised</code></td>
<td>
<p>if <code>TRUE</code> the column with values will be named 
<code>value</code> and the the columnd with labels <code>label</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with the categories or <code>NULL</code> when none could
be found.
</p>

<hr>
<h2 id='dp_check_dataresource'>Check if a data set is valid given a Data Resource</h2><span id='topic+dp_check_dataresource'></span>

<h3>Description</h3>

<p>Check if a data set is valid given a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_check_dataresource(
  x,
  dataresource = attr(x, "resource"),
  constraints = TRUE,
  throw = FALSE,
  tolerance = sqrt(.Machine$double.eps)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_check_dataresource_+3A_x">x</code></td>
<td>
<p><code>data.frame</code> to check</p>
</td></tr>
<tr><td><code id="dp_check_dataresource_+3A_dataresource">dataresource</code></td>
<td>
<p><code>dataresource</code> object to check <code>x</code> against.</p>
</td></tr>
<tr><td><code id="dp_check_dataresource_+3A_constraints">constraints</code></td>
<td>
<p>also check relevant constraints in the field descriptor.</p>
</td></tr>
<tr><td><code id="dp_check_dataresource_+3A_throw">throw</code></td>
<td>
<p>generate an error if the data set is not valid according to the 
dataresource.</p>
</td></tr>
<tr><td><code id="dp_check_dataresource_+3A_tolerance">tolerance</code></td>
<td>
<p>numerical tolerance used in some of the tests</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> when the field is valid. Returns a character vector with
length &gt;= 1 if the field is not valid. The text in the character values 
indicates why the field is not valid.
</p>
<p>When <code>throw = TRUE</code> the function will generate an error instead of
returning a character vector. When the dataset is valid the function returns
<code>TRUE</code> invisibly.
</p>


<h3>See Also</h3>

<p>Use <code><a href="base.html#topic+isTRUE">isTRUE</a></code> to check if the test was successful. 
See <code><a href="#topic+dp_check_field">dp_check_field</a></code> for a function that checks a column or vector.
</p>

<hr>
<h2 id='dp_check_field'>Check if a vector is valid given a field descriptor</h2><span id='topic+dp_check_field'></span>

<h3>Description</h3>

<p>Check if a vector is valid given a field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_check_field(
  x,
  fielddescriptor,
  constraints = TRUE,
  tolerance = sqrt(.Machine$double.eps)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_check_field_+3A_x">x</code></td>
<td>
<p>vector to test</p>
</td></tr>
<tr><td><code id="dp_check_field_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>field descriptor to test the vector against</p>
</td></tr>
<tr><td><code id="dp_check_field_+3A_constraints">constraints</code></td>
<td>
<p>also check relevant constraints in the field descriptor.</p>
</td></tr>
<tr><td><code id="dp_check_field_+3A_tolerance">tolerance</code></td>
<td>
<p>numerical tolerance used in some of the tests</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> when the field is valid. Returns a character vector with
length &gt;= 1 if the field is not valid. The text in the character values 
indicates why the field is not valid.
</p>


<h3>See Also</h3>

<p>Use <code><a href="base.html#topic+isTRUE">isTRUE</a></code> to check if the test was successful. 
See <code><a href="#topic+dp_check_dataresource">dp_check_dataresource</a></code> for a function that checks a complete data set.
</p>

<hr>
<h2 id='dp_field'>Get the Field Descriptor associated with a certain field in a Data Resource</h2><span id='topic+dp_field'></span>

<h3>Description</h3>

<p>Get the Field Descriptor associated with a certain field in a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_field(x, field_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_field_+3A_x">x</code></td>
<td>
<p>a <code>dataresource</code> or <code>tableschema</code> object.</p>
</td></tr>
<tr><td><code id="dp_field_+3A_field_name">field_name</code></td>
<td>
<p>length one character vector with the name of the field.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of type <code>fielddescriptor</code>.
</p>

<hr>
<h2 id='dp_field_names'>List the fields in a Data Resource</h2><span id='topic+dp_field_names'></span>

<h3>Description</h3>

<p>List the fields in a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_field_names(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_field_names_+3A_x">x</code></td>
<td>
<p>object for which to get the field names. This can either be a Data
Resource or Table Schema.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector with the fields in the Data Resource.
</p>

<hr>
<h2 id='dp_generate_dataresource'>Generate Data Resource for a dataset</h2><span id='topic+dp_generate_dataresource'></span>

<h3>Description</h3>

<p>Generate Data Resource for a dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_generate_dataresource(
  x,
  name,
  path = paste0(name, getextension(format)),
  format = "csv",
  mediatype = getmediatype(format),
  use_existing = FALSE,
  categories_type = c("regular", "resource"),
  categorieslist = iscategorieslist(x),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_generate_dataresource_+3A_x">x</code></td>
<td>
<p><code>data.frame</code> for which to generate the Data Resources.</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_name">name</code></td>
<td>
<p>name of the Data Resource</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_path">path</code></td>
<td>
<p>name of the file in which to store the dataset. This should be a
path relative to the location of the directory in which the Data Package in
which the Data Resource will be stored.</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_format">format</code></td>
<td>
<p>the data format in which the data is stored.</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_mediatype">mediatype</code></td>
<td>
<p>mediatype of the data</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_use_existing">use_existing</code></td>
<td>
<p>use existing field descriptors if present.</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_categories_type">categories_type</code></td>
<td>
<p>how should categories be stored. See 
<code><a href="#topic+dp_generate_fielddescriptor">dp_generate_fielddescriptor</a></code>.</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_categorieslist">categorieslist</code></td>
<td>
<p>does the data resource function as a categories list
for fields in another data resource</p>
</td></tr>
<tr><td><code id="dp_generate_dataresource_+3A_...">...</code></td>
<td>
<p>Currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a Data Resource object. 
</p>
<p>Note that this function does not create the file at <code>path</code>. The export
of the Data Resource is automatically set to CSV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate an example dataset
dta &lt;- data.frame(a = 1:3, b = factor(letters[1:3]))
resource &lt;- dp_generate_dataresource(dta, "example")
print(resource)

</code></pre>

<hr>
<h2 id='dp_generate_fielddescriptor'>Generate a fielddescriptor for a given variable in a dataset</h2><span id='topic+dp_generate_fielddescriptor'></span><span id='topic+dp_generate_fielddescriptor.default'></span><span id='topic+dp_generate_fielddescriptor.numeric'></span><span id='topic+dp_generate_fielddescriptor.integer'></span><span id='topic+dp_generate_fielddescriptor.logical'></span><span id='topic+dp_generate_fielddescriptor.Date'></span><span id='topic+dp_generate_fielddescriptor.character'></span><span id='topic+dp_generate_fielddescriptor.factor'></span>

<h3>Description</h3>

<p>Generate a fielddescriptor for a given variable in a dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_generate_fielddescriptor(x, name, ...)

## Default S3 method:
dp_generate_fielddescriptor(x, name, ...)

## S3 method for class 'numeric'
dp_generate_fielddescriptor(
  x,
  name,
  use_existing = TRUE,
  use_categories = TRUE,
  categories_type = c("regular", "resource"),
  ...
)

## S3 method for class 'integer'
dp_generate_fielddescriptor(
  x,
  name,
  use_existing = TRUE,
  use_categories = TRUE,
  categories_type = c("regular", "resource"),
  ...
)

## S3 method for class 'logical'
dp_generate_fielddescriptor(
  x,
  name,
  use_existing = TRUE,
  use_categories = TRUE,
  categories_type = c("regular", "resource"),
  ...
)

## S3 method for class 'Date'
dp_generate_fielddescriptor(
  x,
  name,
  use_existing = TRUE,
  use_categories = TRUE,
  categories_type = c("regular", "resource"),
  ...
)

## S3 method for class 'character'
dp_generate_fielddescriptor(
  x,
  name,
  use_existing = TRUE,
  use_categories = TRUE,
  categories_type = c("regular", "resource"),
  ...
)

## S3 method for class 'factor'
dp_generate_fielddescriptor(
  x,
  name,
  use_existing = TRUE,
  use_categories = TRUE,
  categories_type = c("regular", "resource"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_generate_fielddescriptor_+3A_x">x</code></td>
<td>
<p>vector for which to generate the fielddescriptor</p>
</td></tr>
<tr><td><code id="dp_generate_fielddescriptor_+3A_name">name</code></td>
<td>
<p>name of the field in the dataset.</p>
</td></tr>
<tr><td><code id="dp_generate_fielddescriptor_+3A_...">...</code></td>
<td>
<p>used to pass extra arguments to methods.</p>
</td></tr>
<tr><td><code id="dp_generate_fielddescriptor_+3A_use_existing">use_existing</code></td>
<td>
<p>use existing field descriptor if present (assumes this is
stored in the 'fielddescriptor' attribute).</p>
</td></tr>
<tr><td><code id="dp_generate_fielddescriptor_+3A_use_categories">use_categories</code></td>
<td>
<p>do not generate a categories field except when <code>x</code>
is a factor.</p>
</td></tr>
<tr><td><code id="dp_generate_fielddescriptor_+3A_categories_type">categories_type</code></td>
<td>
<p>how should categories be stored. Note that type &quot;resource&quot;
is not officially part of the standard.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>fielddescriptor</code>.
</p>

<hr>
<h2 id='dp_get_connection'>Get a connection to the data belonging to a Data Resource</h2><span id='topic+dp_get_connection'></span>

<h3>Description</h3>

<p>Get a connection to the data belonging to a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_get_connection(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_get_connection_+3A_x">x</code></td>
<td>
<p>Can either be a Data Resource or Data Package.</p>
</td></tr>
<tr><td><code id="dp_get_connection_+3A_...">...</code></td>
<td>
<p>Extra arguments are passed on to <code><a href="#topic+dp_get_data">dp_get_data</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>x</code> is a Data Package a additional argument <code>resource_name</code> is
needed to identify the correct Data Resource. See <code><a href="#topic+dp_get_data">dp_get_data</a></code>. 
</p>
<p>This function calls <code>dp_get_data</code> with an additional 
<code>as_connection = TRUE)</code> argument.
</p>


<h3>Value</h3>

<p>Depending on the type of Data Resource a connection to the data is returned.
Some readers will return the data set as a <code>data.frame</code>.
</p>

<hr>
<h2 id='dp_get_data'>Get the data belonging to a Data Resource</h2><span id='topic+dp_get_data'></span><span id='topic+dp_get_data.dataresource'></span><span id='topic+dp_get_data.datapackage'></span>

<h3>Description</h3>

<p>Get the data belonging to a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_get_data(x, ..., as_connection = FALSE)

## S3 method for class 'dataresource'
dp_get_data(x, reader = "guess", ..., as_connection = FALSE)

## S3 method for class 'datapackage'
dp_get_data(x, resource_name, reader = "guess", ..., as_connection = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_get_data_+3A_x">x</code></td>
<td>
<p>a <code>dataresource</code> or <code>datapackage</code> object.</p>
</td></tr>
<tr><td><code id="dp_get_data_+3A_...">...</code></td>
<td>
<p>passed on to the <code>reader</code></p>
</td></tr>
<tr><td><code id="dp_get_data_+3A_as_connection">as_connection</code></td>
<td>
<p>Try to return a connection to the data instead of the
data itself. When a reader does not support returning connections it will
return the data.</p>
</td></tr>
<tr><td><code id="dp_get_data_+3A_reader">reader</code></td>
<td>
<p>the reader to use to read the data. This should be either a
function accepting the path to the data set (a character vector with possibly
multitple filenames) and the Data Resource as second argument, or the
character string <code>"guess"</code>.</p>
</td></tr>
<tr><td><code id="dp_get_data_+3A_resource_name">resource_name</code></td>
<td>
<p>the name of the <code>dataresource</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>reader = "guess"</code> the function will try to guess which reader to
use based on the <code>format</code> and <code>mediatype</code> of the Data Resource.
Currently only CSV is supported. For other data types a custom reader has to
be provided unless the data is stored inside the Data Resource object.
</p>
<p>It is also possible to assign default readers for data formats. For that see
<code><a href="#topic+dp_add_reader">dp_add_reader</a></code>.
</p>


<h3>Value</h3>

<p>Will return the data. This will generally be a <code>data.frame</code> but
depending on the file type can also be other types of R-objects. 
</p>
<p>When called with the <code>as_connection = TRUE</code> argument, it will try to
return a connection to the data. This depends on the reader. When the reader
does not support returning connections it will return the data.
</p>


<h3>See Also</h3>

<p><code>dp_get_connection</code> is a wrapper around 
<code>dp_get_data(..., as_connection = TRUE)</code>.
</p>

<hr>
<h2 id='dp_get_datapackage'>Get the Data Package associated with the object</h2><span id='topic+dp_get_datapackage'></span>

<h3>Description</h3>

<p>Get the Data Package associated with the object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_get_datapackage(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_get_datapackage_+3A_x">x</code></td>
<td>
<p>the object for which to determine the associated Data Package</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method can, of course, only determine the Data Package when this
information is stored in one of the attributes of the object. This can be
either be a <code>datapackage</code> attribute or an <code>dataresource</code>
attribute.
</p>


<h3>Value</h3>

<p>Returns a Data Resource object, or returns <code>NULL</code> when none could be
found.
</p>

<hr>
<h2 id='dp_load_from_datapackage'>Quickly read a dataset from a Data Package</h2><span id='topic+dp_load_from_datapackage'></span>

<h3>Description</h3>

<p>Quickly read a dataset from a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_load_from_datapackage(path, resource_name, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_load_from_datapackage_+3A_path">path</code></td>
<td>
<p>the directory with the Data Package</p>
</td></tr>
<tr><td><code id="dp_load_from_datapackage_+3A_resource_name">resource_name</code></td>
<td>
<p>the name of the Data Resource. When omitted the Data Resource
with the same name as the Data Package is read in and when no such resource
exists the first Data Resource is read in.</p>
</td></tr>
<tr><td><code id="dp_load_from_datapackage_+3A_...">...</code></td>
<td>
<p>passed on to <code><a href="#topic+dp_get_data">dp_get_data</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper around <code><a href="#topic+open_datapackage">open_datapackage</a></code> and
<code><a href="#topic+dp_get_data">dp_get_data</a></code>. It offers a quick way to read in a dataset from a
Data Package.
</p>


<h3>Value</h3>

<p>Returns a dataset. Usually a <code>data.frame</code>.
</p>

<hr>
<h2 id='dp_nresources'>Return the number of resources in a Data Package</h2><span id='topic+dp_nresources'></span>

<h3>Description</h3>

<p>Return the number of resources in a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_nresources(dp)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_nresources_+3A_dp">dp</code></td>
<td>
<p>A Data Package object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an integer with the number of resources in the Data Package.
</p>

<hr>
<h2 id='dp_properties'>Get a list of properties defined for the object</h2><span id='topic+dp_properties'></span><span id='topic+dp_properties.readonlydatapackage'></span><span id='topic+dp_properties.editabledatapackage'></span><span id='topic+dp_properties.dataresource'></span><span id='topic+dp_properties.tableschema'></span>

<h3>Description</h3>

<p>Get a list of properties defined for the object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_properties(x)

## S3 method for class 'readonlydatapackage'
dp_properties(x)

## S3 method for class 'editabledatapackage'
dp_properties(x)

## S3 method for class 'dataresource'
dp_properties(x)

## S3 method for class 'tableschema'
dp_properties(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_properties_+3A_x">x</code></td>
<td>
<p>the object for which to obtain the properties</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector (possibly zero length) with the names of the
properties.
</p>


<h3>See Also</h3>

<p>The <code><a href="#topic+dp_property">dp_property</a></code> method can be used to get the values of the
properties.
</p>

<hr>
<h2 id='dp_property'>Get and set properties of Data Packages and Data Resources</h2><span id='topic+dp_property'></span><span id='topic+dp_property.readonlydatapackage'></span><span id='topic+dp_property.editabledatapackage'></span><span id='topic+dp_property+3C-'></span><span id='topic+dp_property+3C-.readonlydatapackage'></span><span id='topic+dp_property+3C-.editabledatapackage'></span><span id='topic+dp_property.dataresource'></span><span id='topic+dp_property+3C-.dataresource'></span><span id='topic+dp_property.tableschema'></span><span id='topic+dp_property+3C-.tableschema'></span><span id='topic+dp_property.fielddescriptor'></span><span id='topic+dp_property+3C-.fielddescriptor'></span>

<h3>Description</h3>

<p>Get and set properties of Data Packages and Data Resources
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_property(x, attribute)

## S3 method for class 'readonlydatapackage'
dp_property(x, attribute)

## S3 method for class 'editabledatapackage'
dp_property(x, attribute)

dp_property(x, attribute) &lt;- value

## S3 replacement method for class 'readonlydatapackage'
dp_property(x, attribute) &lt;- value

## S3 replacement method for class 'editabledatapackage'
dp_property(x, attribute) &lt;- value

## S3 method for class 'dataresource'
dp_property(x, attribute)

## S3 replacement method for class 'dataresource'
dp_property(x, attribute) &lt;- value

## S3 method for class 'tableschema'
dp_property(x, attribute)

## S3 replacement method for class 'tableschema'
dp_property(x, attribute) &lt;- value

## S3 method for class 'fielddescriptor'
dp_property(x, attribute)

## S3 replacement method for class 'fielddescriptor'
dp_property(x, attribute) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_property_+3A_x">x</code></td>
<td>
<p>a <code>datapackage</code> or <code>dataresource</code> object.</p>
</td></tr>
<tr><td><code id="dp_property_+3A_attribute">attribute</code></td>
<td>
<p>a length 1 character vector with the name of the property.</p>
</td></tr>
<tr><td><code id="dp_property_+3A_value">value</code></td>
<td>
<p>the new value of the property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either returns the property or modifies the object.
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+dp_name">dp_name</a></code> etc. for methods for specific properties for Data
Packages and <code><a href="#topic+dp_encoding">dp_encoding</a></code> etc. for specific properties for Data
Resources. These specific methods also check if the input is valid for the
given property.
</p>

<hr>
<h2 id='dp_resource'>Modifying the resources of a Data Package</h2><span id='topic+dp_resource'></span><span id='topic+dp_resource.datapackage'></span><span id='topic+dp_resource+3C-'></span><span id='topic+dp_resource+3C-.readonlydatapackage'></span><span id='topic+dp_resource+3C-.editabledatapackage'></span>

<h3>Description</h3>

<p>Modifying the resources of a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_resource(x, resource_name)

## S3 method for class 'datapackage'
dp_resource(x, resource_name)

dp_resource(x, resource_name) &lt;- value

## S3 replacement method for class 'readonlydatapackage'
dp_resource(x, resource_name) &lt;- value

## S3 replacement method for class 'editabledatapackage'
dp_resource(x, resource_name) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_resource_+3A_x">x</code></td>
<td>
<p>a <code>datapackage</code> object.</p>
</td></tr>
<tr><td><code id="dp_resource_+3A_resource_name">resource_name</code></td>
<td>
<p>the name of a resource.</p>
</td></tr>
<tr><td><code id="dp_resource_+3A_value">value</code></td>
<td>
<p>a <code>dataresource</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When a resource with the name already exists this resource is
overwritten. Therefore, the assignment operator can also be used to modify
existing resources.
</p>


<h3>Value</h3>

<p>Either returns a Data Resource object or modifies the Data Package.
</p>

<hr>
<h2 id='dp_resource_names'>Get the names of the resources in a Data Package</h2><span id='topic+dp_resource_names'></span>

<h3>Description</h3>

<p>Get the names of the resources in a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_resource_names(dp)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_resource_names_+3A_dp">dp</code></td>
<td>
<p>A <code>datapackage</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector with the names of the data resources in the Data
Package.
</p>

<hr>
<h2 id='dp_resources+26lt+3B-'>Modify a set of Data Resources in a Data Package</h2><span id='topic+dp_resources+3C-'></span>

<h3>Description</h3>

<p>Modify a set of Data Resources in a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_resources(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_resources+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>a <code>datapackage</code> object</p>
</td></tr>
<tr><td><code id="dp_resources+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>a <code>dataresource</code> object or a list of <code>dataresource</code>
objects .</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a modified <code>x</code>.
</p>

<hr>
<h2 id='dp_save_as_datapackage'>Save a dataset as a Data Package</h2><span id='topic+dp_save_as_datapackage'></span>

<h3>Description</h3>

<p>Save a dataset as a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_save_as_datapackage(
  data,
  path,
  name,
  categories_type = c("regular", "resource")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_save_as_datapackage_+3A_data">data</code></td>
<td>
<p>the data.frame with the data to save</p>
</td></tr>
<tr><td><code id="dp_save_as_datapackage_+3A_path">path</code></td>
<td>
<p>directory in which to create the datapackage</p>
</td></tr>
<tr><td><code id="dp_save_as_datapackage_+3A_name">name</code></td>
<td>
<p>name of the Data Resource. When omitted a name is generated.</p>
</td></tr>
<tr><td><code id="dp_save_as_datapackage_+3A_categories_type">categories_type</code></td>
<td>
<p>how should categories be stored. See 
<code><a href="#topic+dp_generate_fielddescriptor">dp_generate_fielddescriptor</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper function around <code><a href="#topic+new_datapackage">new_datapackage</a></code>,
<code><a href="#topic+dp_generate_dataresource">dp_generate_dataresource</a></code> and <code><a href="#topic+dp_write_data">dp_write_data</a></code>. These
functions are called with the default arguments. This allows for a quick way
to save a data set with any necessary data needed to read the dataset.
</p>


<h3>Value</h3>

<p>Does not return anything. Called for the side effect of creating a directory
and creating a number of files in this directory. Together these form a
complete Data Package.
</p>

<hr>
<h2 id='dp_to_boolean'>Convert a vector to 'boolean' using the specified field descriptor</h2><span id='topic+dp_to_boolean'></span>

<h3>Description</h3>

<p>Convert a vector to 'boolean' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_boolean(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_boolean_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_boolean_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_boolean_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>


<h3>Value</h3>

<p>Will return an <code>logical</code> vector with <code>fielddescriptor</code> added as
the 'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_code'>Recode a variable to <code>code</code> using the associated categories</h2><span id='topic+dp_to_code'></span>

<h3>Description</h3>

<p>Recode a variable to <code>code</code> using the associated categories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_code(x, categorieslist = dp_categorieslist(x), ..., warn = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_code_+3A_x">x</code></td>
<td>
<p>the variable to recode</p>
</td></tr>
<tr><td><code id="dp_to_code_+3A_categorieslist">categorieslist</code></td>
<td>
<p>a <code>data.frame</code> with the categories as a
<code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="dp_to_code_+3A_...">...</code></td>
<td>
<p>passed on to <code><a href="codelist.html#topic+as.codelist">as.codelist</a></code>.</p>
</td></tr>
<tr><td><code id="dp_to_code_+3A_warn">warn</code></td>
<td>
<p>give a warning when there is no code list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the <code><a href="codelist.html#topic+code">code</a></code> method from the  'codelist' package.
This package therefore needs to be installed. See the documentation of that
package for how to work with 'code' objects.
</p>


<h3>Value</h3>

<p>Returns a '<a href="codelist.html#topic+code">code</a>' object or <code>x</code> when no categories
could be found (<code>categorieslist = NULL</code>).
</p>


<h3>See Also</h3>

<p>An alternative is the <code><a href="#topic+dp_to_factor">dp_to_factor</a></code> function to convert to
regular R factor.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fn &lt;- system.file("examples/iris", package = "datapackage")
dp &lt;- open_datapackage(fn)
dta &lt;- dp |&gt; dp_get_data("complex", convert_categories = "no")
dp_to_code(dta$factor1)

dp |&gt; dp_get_data("complex", convert_categories = "dp_to_code")


</code></pre>

<hr>
<h2 id='dp_to_date'>Convert a vector to 'date' using the specified field descriptor</h2><span id='topic+dp_to_date'></span>

<h3>Description</h3>

<p>Convert a vector to 'date' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_date(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_date_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_date_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_date_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>


<h3>Value</h3>

<p>Will return an <code>Date</code> vector with <code>fielddescriptor</code> added as the
'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_datetime'>Convert a vector to 'datetime' using the specified field descriptor</h2><span id='topic+dp_to_datetime'></span>

<h3>Description</h3>

<p>Convert a vector to 'datetime' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_datetime(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_datetime_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_datetime_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_datetime_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>
<p>For the default format 'iso8601::iso8601todatetime' is used to convert. This
function allows more formats than the Data Package standard prescribes. When 
format equals &quot;any&quot; the default 'as.POSIXct' function is used.
</p>
<p>When <code>x</code> is numeric or integer, it is assumed that these are seconds
since the unix time epoch (1970-01-01T00:00:00).
</p>


<h3>Value</h3>

<p>Will return an <code>POSIXct</code> vector with <code>fielddescriptor</code> added as the
'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_factor'>Recode a variable to factor using the associated categories</h2><span id='topic+dp_to_factor'></span>

<h3>Description</h3>

<p>Recode a variable to factor using the associated categories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_factor(x, categorieslist = dp_categorieslist(x), warn = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_factor_+3A_x">x</code></td>
<td>
<p>the variable to recode</p>
</td></tr>
<tr><td><code id="dp_to_factor_+3A_categorieslist">categorieslist</code></td>
<td>
<p>a <code>data.frame</code> with the categories as a
<code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="dp_to_factor_+3A_warn">warn</code></td>
<td>
<p>give a warning when there is no code list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a factor vector or <code>x</code> when no categories could be found
(<code>categorieslist = NULL</code>).
</p>


<h3>See Also</h3>

<p>An alternative is the <code><a href="#topic+dp_to_code">dp_to_code</a></code> function to convert to
'code' object from the 'codelist' package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fn &lt;- system.file("examples/iris", package = "datapackage")
dp &lt;- open_datapackage(fn)
dta &lt;- dp |&gt; dp_get_data("complex", convert_categories = "no")
dp_to_factor(dta$factor1)

dp |&gt; dp_get_data("complex", convert_categories = "to_factor")

</code></pre>

<hr>
<h2 id='dp_to_integer'>Convert a vector to 'integer' using the specified field descriptor</h2><span id='topic+dp_to_integer'></span>

<h3>Description</h3>

<p>Convert a vector to 'integer' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_integer(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_integer_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_integer_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_integer_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>


<h3>Value</h3>

<p>Will return an <code>integer</code> vector with <code>fielddescriptor</code> added as
the 'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_number'>Convert a vector to 'number' using the specified field descriptor</h2><span id='topic+dp_to_number'></span>

<h3>Description</h3>

<p>Convert a vector to 'number' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_number(x, fielddescriptor = list(), decimalChar = ".", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_number_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_number_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_number_+3A_decimalchar">decimalChar</code></td>
<td>
<p>decimal separator. Used when the field field descriptor
does not specify a decimal separator.</p>
</td></tr>
<tr><td><code id="dp_to_number_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>


<h3>Value</h3>

<p>Will return an <code>numeric</code> vector with <code>fielddescriptor</code> added as
the 'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_string'>Convert a vector to 'string' using the specified fielddescriptor</h2><span id='topic+dp_to_string'></span>

<h3>Description</h3>

<p>Convert a vector to 'string' using the specified fielddescriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_string(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_string_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_string_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_string_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>


<h3>Value</h3>

<p>Will return an <code>character</code> vector with <code>fielddescriptor</code> added as
the 'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_time'>Convert a vector to 'time' using the specified field descriptor</h2><span id='topic+dp_to_time'></span>

<h3>Description</h3>

<p>Convert a vector to 'time' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_time(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_time_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_time_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_time_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>
<p>For the default format 'iso8601::iso8601totime' is used to convert. This
function allows more formats than the Data Package standard prescribes. When 
format equals &quot;any&quot; the default 'as.POSIXct' function is used.
</p>
<p>When <code>x</code> is numeric or integer, it is assumed that these are seconds
since the unix time epoch (1970-01-01T00:00:00Z).
</p>


<h3>Value</h3>

<p>Will return an <code>Time</code> vector (see <code><a href="iso8601.html#topic+iso8601totime">iso8601totime</a></code>
with <code>fielddescriptor</code> added as the 'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_year'>Convert a vector to 'year' using the specified field descriptor</h2><span id='topic+dp_to_year'></span>

<h3>Description</h3>

<p>Convert a vector to 'year' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_year(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_year_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_year_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_year_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>


<h3>Value</h3>

<p>Will return an integer vector with <code>fielddescriptor</code> added as the
'fielddescriptor' attribute.
</p>

<hr>
<h2 id='dp_to_yearmonth'>Convert a vector to 'yearmonth' using the specified field descriptor</h2><span id='topic+dp_to_yearmonth'></span>

<h3>Description</h3>

<p>Convert a vector to 'yearmonth' using the specified field descriptor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_to_yearmonth(x, fielddescriptor = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_to_yearmonth_+3A_x">x</code></td>
<td>
<p>the vector to convert.</p>
</td></tr>
<tr><td><code id="dp_to_yearmonth_+3A_fielddescriptor">fielddescriptor</code></td>
<td>
<p>the field descriptor for the field.</p>
</td></tr>
<tr><td><code id="dp_to_yearmonth_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>fielddescriptor</code> is missing a default field descriptor is
generated.
</p>
<p>Valid formats are &quot;YYYY-MM&quot; or &quot;YYYYMM&quot;. When x is numeric or integer, it is
assumed that it was a yearmonth in the format &quot;YYYYMM&quot; that was accidentally
converted to numeric format.
</p>


<h3>Value</h3>

<p>Will return an <code>Date</code> vector with <code>fielddescriptor</code> added as the
'fielddescriptor' attribute. The dates will be the first of the given month.
Therefore, a 'yearmonth' &quot;2024-05&quot; is translated to a date &quot;2024-05-01&quot;.
</p>

<hr>
<h2 id='dp_write_data'>Write  data of resource to file</h2><span id='topic+dp_write_data'></span><span id='topic+dp_write_data.datapackage'></span><span id='topic+dp_write_data.dataresource'></span>

<h3>Description</h3>

<p>Write  data of resource to file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_write_data(x, ..., write_categories = TRUE)

## S3 method for class 'datapackage'
dp_write_data(
  x,
  resource_name,
  data,
  writer = "guess",
  ...,
  write_categories = TRUE
)

## S3 method for class 'dataresource'
dp_write_data(
  x,
  data,
  datapackage = dp_get_datapackage(x),
  writer = "guess",
  ...,
  write_categories = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dp_write_data_+3A_x">x</code></td>
<td>
<p>the Data Package or Data Resource to which the data is to be written
to.</p>
</td></tr>
<tr><td><code id="dp_write_data_+3A_...">...</code></td>
<td>
<p>additional arguments are passed on to the writer function.</p>
</td></tr>
<tr><td><code id="dp_write_data_+3A_write_categories">write_categories</code></td>
<td>
<p>write both the data set <code>x</code> itself and any
categories lists of fields in the data set.</p>
</td></tr>
<tr><td><code id="dp_write_data_+3A_resource_name">resource_name</code></td>
<td>
<p>name of the Data Resource in the Data Package to which
the data needs to be written.</p>
</td></tr>
<tr><td><code id="dp_write_data_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> with the data to write.</p>
</td></tr>
<tr><td><code id="dp_write_data_+3A_writer">writer</code></td>
<td>
<p>the writer to use to write the data. This should be either a
function accepting the Data Package, name of the Data Resource, the data and
the <code>write_categories</code> argument or the character string <code>"guess"</code>.</p>
</td></tr>
<tr><td><code id="dp_write_data_+3A_datapackage">datapackage</code></td>
<td>
<p>the Data Package to which the data needs to be written.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>writer = "guess"</code> the function will try to guess which writer to
use based on the <code>format</code> and <code>mediatype</code> of the Data Resource.
</p>


<h3>Value</h3>

<p>The function doesn't return anything. It is called for it's side effect of
creating files in the directory of the Data Package.
</p>

<hr>
<h2 id='fwf_reader'>Read the FWF-data for a Data Resource</h2><span id='topic+fwf_reader'></span>

<h3>Description</h3>

<p>Read the FWF-data for a Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fwf_reader(path, resource, convert_categories = c("no", "to_factor"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fwf_reader_+3A_path">path</code></td>
<td>
<p>path to the data set.</p>
</td></tr>
<tr><td><code id="fwf_reader_+3A_resource">resource</code></td>
<td>
<p>a Data Resource.</p>
</td></tr>
<tr><td><code id="fwf_reader_+3A_convert_categories">convert_categories</code></td>
<td>
<p>how to handle columns for which the field
descriptor has a <code>categories</code> property. Passed on to
<code><a href="#topic+dp_apply_schema">dp_apply_schema</a></code>.</p>
</td></tr>
<tr><td><code id="fwf_reader_+3A_...">...</code></td>
<td>
<p>additional arguments are passed on to <code><a href="#topic+dp_apply_schema">dp_apply_schema</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with the data.
</p>


<h3>See Also</h3>

<p>Generally used by calling <code><a href="#topic+dp_get_data">dp_get_data</a></code>.
</p>

<hr>
<h2 id='new_contributor'>Creating and Adding Contributors to a Data Package</h2><span id='topic+new_contributor'></span><span id='topic+dp_add_contributor'></span><span id='topic+dp_add_contributor+3C-'></span>

<h3>Description</h3>

<p>Creating and Adding Contributors to a Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_contributor(
  title,
  role = c("contributor", "author", "publisher", "maintainer", "wrangler"),
  path = NULL,
  email = NULL,
  organisation = NULL
)

dp_add_contributor(x, contributor)

dp_add_contributor(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_contributor_+3A_title">title</code></td>
<td>
<p>A length 1 character vector with the full nam of the
contributor.</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_role">role</code></td>
<td>
<p>The role of the contributor</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_path">path</code></td>
<td>
<p>A URL to e.g. a home page of the contributor</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_email">email</code></td>
<td>
<p>The email address of the contributor</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_organisation">organisation</code></td>
<td>
<p>The orgination the contributor belongs to.</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_x">x</code></td>
<td>
<p>The Data Package to which the contributor has to be added.</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_contributor">contributor</code></td>
<td>
<p>a contributor object</p>
</td></tr>
<tr><td><code id="new_contributor_+3A_value">value</code></td>
<td>
<p>a contributor object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>new_contributor</code> returns a list with the given properties. This function
is meant to assist in creating valid contributors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dp &lt;- open_datapackage(system.file(package = "datapackage", "examples/iris")) 
dp_contributors(dp)
dp_contributors(dp) &lt;- list(
  new_contributor("John Doe", email = "j.doe@somewhere.org"),
  list(title = "Jane Doe", role = "maintainer")
)
dp_add_contributor(dp) &lt;- new_contributor("Janet Doe")

</code></pre>

<hr>
<h2 id='new_datapackage'>Create a new Data Package</h2><span id='topic+new_datapackage'></span>

<h3>Description</h3>

<p>Create a new Data Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_datapackage(path, name = NULL, title = NULL, description = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_datapackage_+3A_path">path</code></td>
<td>
<p>The directory which will contain the Data Package or the filename
in which to write the Data Package.</p>
</td></tr>
<tr><td><code id="new_datapackage_+3A_name">name</code></td>
<td>
<p>The name of the Data Package.</p>
</td></tr>
<tr><td><code id="new_datapackage_+3A_title">title</code></td>
<td>
<p>The title of the Data Package.</p>
</td></tr>
<tr><td><code id="new_datapackage_+3A_description">description</code></td>
<td>
<p>The description of the Data Package.</p>
</td></tr>
<tr><td><code id="new_datapackage_+3A_...">...</code></td>
<td>
<p>Ignored for now.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The directory of <code>path</code>, or the directory containing <code>path</code> if path
is a file name, is created and the file with the Data Package information is
created. When <code>path</code> is a directory a file <code>datapackage.json</code> is
created. The function returns an editable <code>datapackage</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dir &lt;- tempdir()
dp &lt;- new_datapackage(dir, name = "test-package")

dp_title(dp) &lt;- "A Test Data Package"
dp_add_contributor(dp) &lt;- new_contributor(title = "John Doe")



</code></pre>

<hr>
<h2 id='new_dataresource'>Create a new Data Resource</h2><span id='topic+new_dataresource'></span>

<h3>Description</h3>

<p>Create a new Data Resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_dataresource(
  name,
  title = NULL,
  description = NULL,
  path = NULL,
  format = NULL,
  mediatype = NULL,
  encoding = NULL,
  bytes = NULL,
  hash = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_dataresource_+3A_name">name</code></td>
<td>
<p>The name of the Data Resource.</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_title">title</code></td>
<td>
<p>The title of the Data Resource.</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_description">description</code></td>
<td>
<p>The description of the Data Resource.</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_path">path</code></td>
<td>
<p>the path of the Data Resource</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_format">format</code></td>
<td>
<p>the format of the Data Resource</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_mediatype">mediatype</code></td>
<td>
<p>the mediatype of the Data Resource</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_encoding">encoding</code></td>
<td>
<p>the encoding of the Data Resource</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_bytes">bytes</code></td>
<td>
<p>the number of bytes of the Data Resource</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_hash">hash</code></td>
<td>
<p>the hash of the Data Resource</p>
</td></tr>
<tr><td><code id="new_dataresource_+3A_...">...</code></td>
<td>
<p>additional arguments are added as additional properties. It is 
checked if these are valid.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>dataresource</code> object which is a list with the properties of
the Data Resource.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dir &lt;- tempdir()
dp &lt;- new_datapackage(dir, name = "test-package")

res &lt;- new_dataresource(name = "iris")
dp_title(res) &lt;- "The Iris Data Set"
dp_encoding(res) &lt;- "UTF-8"
dp_mediatype(res) &lt;- "text/csv"

# resource adds a resource if it doesn't yet exist or updates
# an existing resource
dp_resource(dp, "iris") &lt;- res




</code></pre>

<hr>
<h2 id='open_datapackage'>Open a data package</h2><span id='topic+open_datapackage'></span>

<h3>Description</h3>

<p>Open a data package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_datapackage(path, readonly = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="open_datapackage_+3A_path">path</code></td>
<td>
<p>The filename or the data package description or the directory in
which the data package is located.</p>
</td></tr>
<tr><td><code id="open_datapackage_+3A_readonly">readonly</code></td>
<td>
<p>Open the data package as a read-only data package or not. See
'details'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>path</code> is a directory name, the function looks for the files
'datapackage.json' or 'datapackage.yaml' in the directory. Otherwise, the
function assumes the file contains the description of the data package.
</p>
<p>When the data package is read with <code>readonly = FALSE</code>, any operations
reading properties from the data package read those properties directly from
the file on disk. And setting the properties will change the file on disk.
This ensures the file is always consistent.
</p>


<h3>Value</h3>

<p>Returns a list with the contents of the data package when 
<code>readonly = TRUE</code>. Otherwise an empty list is returned. In both cases
the filename of the data package description (typically 'datapackage.json')
and the director in which the data package is located are stored in
attributes of the result.
</p>

<hr>
<h2 id='PropertiesDatapackage'>Getting and setting properties of Data Packages</h2><span id='topic+PropertiesDatapackage'></span><span id='topic+dp_contributors'></span><span id='topic+dp_contributors+3C-'></span><span id='topic+dp_contributors.datapackage'></span><span id='topic+dp_contributors+3C-.datapackage'></span><span id='topic+dp_name'></span><span id='topic+dp_name.datapackage'></span><span id='topic+dp_name+3C-'></span><span id='topic+dp_name+3C-.datapackage'></span><span id='topic+dp_title'></span><span id='topic+dp_title.datapackage'></span><span id='topic+dp_title+3C-'></span><span id='topic+dp_title+3C-.datapackage'></span><span id='topic+dp_description'></span><span id='topic+dp_description.datapackage'></span><span id='topic+dp_description+3C-'></span><span id='topic+dp_description+3C-.datapackage'></span><span id='topic+dp_keywords'></span><span id='topic+dp_keywords.datapackage'></span><span id='topic+dp_keywords+3C-'></span><span id='topic+dp_keywords+3C-.datapackage'></span><span id='topic+dp_created'></span><span id='topic+dp_created.datapackage'></span><span id='topic+dp_created+3C-'></span><span id='topic+dp_created+3C-.datapackage'></span><span id='topic+dp_id'></span><span id='topic+dp_id.datapackage'></span><span id='topic+dp_id+3C-'></span><span id='topic+dp_id+3C-.datapackage'></span>

<h3>Description</h3>

<p>Getting and setting properties of Data Packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dp_contributors(x, ...)

dp_contributors(x) &lt;- value

## S3 method for class 'datapackage'
dp_contributors(x, ...)

## S3 replacement method for class 'datapackage'
dp_contributors(x) &lt;- value

dp_name(x)

## S3 method for class 'datapackage'
dp_name(x)

dp_name(x) &lt;- value

## S3 replacement method for class 'datapackage'
dp_name(x) &lt;- value

dp_title(x)

## S3 method for class 'datapackage'
dp_title(x)

dp_title(x) &lt;- value

## S3 replacement method for class 'datapackage'
dp_title(x) &lt;- value

dp_description(x, ..., first_paragraph = FALSE, dots = FALSE)

## S3 method for class 'datapackage'
dp_description(x, ..., first_paragraph = FALSE, dots = FALSE)

dp_description(x) &lt;- value

## S3 replacement method for class 'datapackage'
dp_description(x) &lt;- value

dp_keywords(x, ...)

## S3 method for class 'datapackage'
dp_keywords(x, ...)

dp_keywords(x) &lt;- value

## S3 replacement method for class 'datapackage'
dp_keywords(x) &lt;- value

dp_created(x, ...)

## S3 method for class 'datapackage'
dp_created(x, ...)

dp_created(x) &lt;- value

## S3 replacement method for class 'datapackage'
dp_created(x) &lt;- value

dp_id(x, ...)

## S3 method for class 'datapackage'
dp_id(x, ...)

dp_id(x) &lt;- value

## S3 replacement method for class 'datapackage'
dp_id(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PropertiesDatapackage_+3A_x">x</code></td>
<td>
<p>a <code>datapackage</code> object.</p>
</td></tr>
<tr><td><code id="PropertiesDatapackage_+3A_...">...</code></td>
<td>
<p>used to pass additional arguments to other methods.</p>
</td></tr>
<tr><td><code id="PropertiesDatapackage_+3A_value">value</code></td>
<td>
<p>the new value of the property.</p>
</td></tr>
<tr><td><code id="PropertiesDatapackage_+3A_first_paragraph">first_paragraph</code></td>
<td>
<p>Only return the first paragraph of the description.</p>
</td></tr>
<tr><td><code id="PropertiesDatapackage_+3A_dots">dots</code></td>
<td>
<p>When returning only the first paragraph indicate missing
paragraphs with <code>...</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either returns the property or modifies the object.
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+dp_resource">dp_resource</a></code> for methods for getting and setting the resources
of a Data Package.
</p>
<p>See <a href="#topic+PropertiesDataresource">PropertiesDataresource</a> and <a href="#topic+PropertiesFielddescriptor">PropertiesFielddescriptor</a> for methods
for Data Resources and Field Descriptors respectively. Also see
<code><a href="#topic+dp_property">dp_property</a></code> for a generic method for getting and setting
properties. These functions can also be used to get and set 'unofficial'
properties'
</p>

<hr>
<h2 id='PropertiesDataresource'>Getting and setting properties of Data Resources</h2><span id='topic+PropertiesDataresource'></span><span id='topic+dp_name.dataresource'></span><span id='topic+dp_name+3C-.dataresource'></span><span id='topic+dp_title.dataresource'></span><span id='topic+dp_title+3C-.dataresource'></span><span id='topic+dp_description.dataresource'></span><span id='topic+dp_description+3C-.dataresource'></span><span id='topic+dp_path'></span><span id='topic+dp_path+3C-'></span><span id='topic+dp_path.dataresource'></span><span id='topic+dp_path+3C-.dataresource'></span><span id='topic+dp_format'></span><span id='topic+dp_format+3C-'></span><span id='topic+dp_format.dataresource'></span><span id='topic+dp_format+3C-.dataresource'></span><span id='topic+dp_mediatype'></span><span id='topic+dp_mediatype+3C-'></span><span id='topic+dp_mediatype.dataresource'></span><span id='topic+dp_mediatype+3C-.dataresource'></span><span id='topic+dp_encoding'></span><span id='topic+dp_encoding+3C-'></span><span id='topic+dp_encoding.dataresource'></span><span id='topic+dp_encoding+3C-.dataresource'></span><span id='topic+dp_bytes'></span><span id='topic+dp_bytes+3C-'></span><span id='topic+dp_bytes.dataresource'></span><span id='topic+dp_bytes+3C-.dataresource'></span><span id='topic+dp_hash'></span><span id='topic+dp_hash+3C-'></span><span id='topic+dp_hash.dataresource'></span><span id='topic+dp_hash+3C-.dataresource'></span><span id='topic+dp_name+3C-.fielddescriptor'></span><span id='topic+dp_title+3C-.fielddescriptor'></span><span id='topic+dp_description.fielddescriptor'></span><span id='topic+dp_format+3C-.fielddescriptor'></span><span id='topic+dp_schema'></span><span id='topic+dp_schema.dataresource'></span>

<h3>Description</h3>

<p>Getting and setting properties of Data Resources
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dataresource'
dp_name(x)

## S3 replacement method for class 'dataresource'
dp_name(x) &lt;- value

## S3 method for class 'dataresource'
dp_title(x)

## S3 replacement method for class 'dataresource'
dp_title(x) &lt;- value

## S3 method for class 'dataresource'
dp_description(x, ..., first_paragraph = FALSE, dots = FALSE)

## S3 replacement method for class 'dataresource'
dp_description(x) &lt;- value

dp_path(x, ...)

dp_path(x) &lt;- value

## S3 method for class 'dataresource'
dp_path(x, full_path = FALSE, ...)

## S3 replacement method for class 'dataresource'
dp_path(x) &lt;- value

dp_format(x, ...)

dp_format(x) &lt;- value

## S3 method for class 'dataresource'
dp_format(x, default = FALSE, ...)

## S3 replacement method for class 'dataresource'
dp_format(x) &lt;- value

dp_mediatype(x, ...)

dp_mediatype(x) &lt;- value

## S3 method for class 'dataresource'
dp_mediatype(x, ...)

## S3 replacement method for class 'dataresource'
dp_mediatype(x) &lt;- value

dp_encoding(x, default = FALSE, ...)

dp_encoding(x) &lt;- value

## S3 method for class 'dataresource'
dp_encoding(x, default = FALSE, ...)

## S3 replacement method for class 'dataresource'
dp_encoding(x) &lt;- value

dp_bytes(x, ...)

dp_bytes(x) &lt;- value

## S3 method for class 'dataresource'
dp_bytes(x, ...)

## S3 replacement method for class 'dataresource'
dp_bytes(x) &lt;- value

dp_hash(x, ...)

dp_hash(x) &lt;- value

## S3 method for class 'dataresource'
dp_hash(x, ...)

## S3 replacement method for class 'dataresource'
dp_hash(x) &lt;- value

## S3 replacement method for class 'fielddescriptor'
dp_name(x) &lt;- value

## S3 replacement method for class 'fielddescriptor'
dp_title(x) &lt;- value

## S3 method for class 'fielddescriptor'
dp_description(x, ..., first_paragraph = FALSE, dots = FALSE)

## S3 replacement method for class 'fielddescriptor'
dp_format(x) &lt;- value

dp_schema(x)

## S3 method for class 'dataresource'
dp_schema(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PropertiesDataresource_+3A_x">x</code></td>
<td>
<p>a <code>dataresource</code> object.</p>
</td></tr>
<tr><td><code id="PropertiesDataresource_+3A_value">value</code></td>
<td>
<p>the new value of the property.</p>
</td></tr>
<tr><td><code id="PropertiesDataresource_+3A_...">...</code></td>
<td>
<p>used to pass additional arguments to other methods.</p>
</td></tr>
<tr><td><code id="PropertiesDataresource_+3A_first_paragraph">first_paragraph</code></td>
<td>
<p>Only return the first paragraph of the description.</p>
</td></tr>
<tr><td><code id="PropertiesDataresource_+3A_dots">dots</code></td>
<td>
<p>When returning only the first paragraph indicate missing
paragraphs with <code>...</code>.</p>
</td></tr>
<tr><td><code id="PropertiesDataresource_+3A_full_path">full_path</code></td>
<td>
<p>Return the full path including the path to the Data Package
and not only the path relative to the Data Package. This is only relevant for
relative paths.</p>
</td></tr>
<tr><td><code id="PropertiesDataresource_+3A_default">default</code></td>
<td>
<p>return the default value if the property had a default value 
and the property is not set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either returns the property or modifies the object. If the property of not
set <code>NULL</code> is returned (unless <code>default = TRUE</code>).
</p>


<h3>See Also</h3>

<p>See <a href="#topic+PropertiesDatapackage">PropertiesDatapackage</a> and <a href="#topic+PropertiesFielddescriptor">PropertiesFielddescriptor</a> for methods
for Data Packages and Field Descriptors respectively. Also see
<code><a href="#topic+dp_property">dp_property</a></code> for a generic method for getting and setting
properties. These functions can also be used to get and set 'unofficial'
properties'
</p>

<hr>
<h2 id='PropertiesFielddescriptor'>Getting and setting properties of Data Resources</h2><span id='topic+PropertiesFielddescriptor'></span><span id='topic+dp_name.fielddescriptor'></span><span id='topic+dp_title.fielddescriptor'></span><span id='topic+dp_description+3C-.fielddescriptor'></span><span id='topic+dp_format.fielddescriptor'></span>

<h3>Description</h3>

<p>Getting and setting properties of Data Resources
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fielddescriptor'
dp_name(x)

## S3 method for class 'fielddescriptor'
dp_title(x)

## S3 replacement method for class 'fielddescriptor'
dp_description(x) &lt;- value

## S3 method for class 'fielddescriptor'
dp_format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PropertiesFielddescriptor_+3A_x">x</code></td>
<td>
<p>a <code>fielddescriptor</code> object.</p>
</td></tr>
<tr><td><code id="PropertiesFielddescriptor_+3A_value">value</code></td>
<td>
<p>the new value of the property.</p>
</td></tr>
<tr><td><code id="PropertiesFielddescriptor_+3A_...">...</code></td>
<td>
<p>used to pass additional arguments to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either returns the property or modifies the object. If the property is not
set <code>NULL</code> is returned (unless <code>default = TRUE</code>).
</p>


<h3>See Also</h3>

<p>See <a href="#topic+PropertiesDatapackage">PropertiesDatapackage</a> and <a href="#topic+PropertiesDataresource">PropertiesDataresource</a> for methods
for Data Packages and Data Resources respectively. Also see
<code><a href="#topic+dp_property">dp_property</a></code> for a generic method for getting and setting
properties. These functions can also be used to get and set 'unofficial'
properties'
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ggspatial</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggspatial}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggspatial-package'><p>ggspatial: Spatial Data Framework for ggplot2</p></a></li>
<li><a href='#annotation_map_tile'><p>Add background OSM tiles</p></a></li>
<li><a href='#annotation_north_arrow'><p>Spatial-aware north arrow</p></a></li>
<li><a href='#annotation_scale'><p>Spatial-aware scalebar annotation</p></a></li>
<li><a href='#annotation_spatial_hline'><p>Projected horizontal and vertical lines</p></a></li>
<li><a href='#df_spatial'><p>Create a ggplot-friendly data frame from a spatial object</p></a></li>
<li><a href='#fixed_plot_aspect'><p>Enforce a plot aspect ratio</p></a></li>
<li><a href='#geom_polypath'><p>Polygons with holes in ggplot2</p></a></li>
<li><a href='#geom_spatial_rect'><p>Projected rectangular regions</p></a></li>
<li><a href='#geom_spatial_segment'><p>Spatial line segments</p></a></li>
<li><a href='#layer_spatial'><p>Turn a spatial object into a ggplot2 layer</p></a></li>
<li><a href='#layer_spatial.bbox'><p>Add a bounding box to a map</p></a></li>
<li><a href='#layer_spatial.Raster'><p>Spatial ggplot2 layer for raster objects</p></a></li>
<li><a href='#layer_spatial.SpatRaster'><p>Spatial ggplot2 layer for SpatRaster objects</p></a></li>
<li><a href='#layer_spatial.stars'><p>Spatial ggplot2 layer for stars objects</p></a></li>
<li><a href='#load_longlake_data'><p>Load longlake test data</p></a></li>
<li><a href='#north_arrow_orienteering'><p>North arrow styles</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#stat_spatial_identity'><p>Spatial-aware ggplot2 layers</p></a></li>
<li><a href='#xy_transform'><p>Coordinate transform</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Spatial Data Framework for ggplot2</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.9</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dewey Dunnington &lt;dewey@fishandwhistle.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Spatial data plus the power of the ggplot2 framework means easier mapping when input 
  data are already in the form of spatial objects.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf, ggplot2 (&ge; 3.0.0), rosm (&ge; 0.2), abind, methods, tibble,
scales, tidyr, rlang, grid, glue</td>
</tr>
<tr>
<td>Suggests:</td>
<td>prettymapr, knitr, rmarkdown, sp, raster, terra, testthat (&ge;
3.0.0), dplyr, withr, ggrepel, stars, covr, vdiffr, lwgeom</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://paleolimbot.github.io/ggspatial/">https://paleolimbot.github.io/ggspatial/</a>,
<a href="https://github.com/paleolimbot/ggspatial">https://github.com/paleolimbot/ggspatial</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/paleolimbot/ggspatial/issues">https://github.com/paleolimbot/ggspatial/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-15 19:24:53 UTC; deweydunnington</td>
</tr>
<tr>
<td>Author:</td>
<td>Dewey Dunnington <a href="https://orcid.org/0000-0002-9415-4582"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Brent Thorne <a href="https://orcid.org/0000-0002-1099-3857"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-17 15:32:38 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggspatial-package'>ggspatial: Spatial Data Framework for ggplot2</h2><span id='topic+ggspatial'></span><span id='topic+ggspatial-package'></span>

<h3>Description</h3>

<p>Spatial data plus the power of the ggplot2 framework means easier mapping when input data are already in the form of spatial objects.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dewey Dunnington <a href="mailto:dewey@fishandwhistle.net">dewey@fishandwhistle.net</a> (<a href="https://orcid.org/0000-0002-9415-4582">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Brent Thorne (<a href="https://orcid.org/0000-0002-1099-3857">ORCID</a>) [contributor]
</p>
</li>
<li><p> Diego Hernangómez (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://paleolimbot.github.io/ggspatial/">https://paleolimbot.github.io/ggspatial/</a>
</p>
</li>
<li> <p><a href="https://github.com/paleolimbot/ggspatial">https://github.com/paleolimbot/ggspatial</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/paleolimbot/ggspatial/issues">https://github.com/paleolimbot/ggspatial/issues</a>
</p>
</li></ul>


<hr>
<h2 id='annotation_map_tile'>Add background OSM tiles</h2><span id='topic+annotation_map_tile'></span><span id='topic+GeomMapTile'></span>

<h3>Description</h3>

<p>Uses <code><a href="rosm.html#topic+osm.image">rosm::osm.image()</a></code> to add background tiles. If you are publishing
a map using these tiles, make sure to use the proper attribution
(e.g., &quot;Copyright OpenStreetMap contributors&quot; when using an
OpenStreetMap-based tile set).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotation_map_tile(
  type = "osm",
  zoom = NULL,
  zoomin = -2,
  forcedownload = FALSE,
  cachedir = NULL,
  progress = c("text", "none"),
  quiet = TRUE,
  interpolate = TRUE,
  data = NULL,
  mapping = NULL,
  alpha = 1
)

GeomMapTile
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotation_map_tile_+3A_type">type</code></td>
<td>
<p>The map type (one of that returned by <a href="rosm.html#topic+osm.types">rosm::osm.types</a>)</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_zoom">zoom</code></td>
<td>
<p>The zoom level (overrides zoomin)</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_zoomin">zoomin</code></td>
<td>
<p>Delta on default zoom. The default value is designed
to download fewer tiles than you probably want. Use <code>-1</code> or <code>0</code> to
increase the resolution.</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_forcedownload">forcedownload</code></td>
<td>
<p>Re-download cached tiles?</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_cachedir">cachedir</code></td>
<td>
<p>Specify cache directory</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_progress">progress</code></td>
<td>
<p>Use <code>progress = "none"</code> to suppress progress and zoom output</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>quiet = FALSE</code> to see which URLs are downloaded</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_interpolate">interpolate</code></td>
<td>
<p>Passed to <code><a href="grid.html#topic+grid.raster">grid::rasterGrob()</a></code></p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_data">data</code>, <code id="annotation_map_tile_+3A_mapping">mapping</code></td>
<td>
<p>Specify data and mapping to use this geom with facets</p>
</td></tr>
<tr><td><code id="annotation_map_tile_+3A_alpha">alpha</code></td>
<td>
<p>Use to make this layer semi-transparent</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>GeomMapTile</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Value</h3>

<p>A ggplot2 layer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
load_longlake_data(which = "longlake_waterdf")

ggplot() +
  annotation_map_tile(zoom = 13, cachedir = system.file("rosm.cache", package = "ggspatial")) +
  geom_sf(data = longlake_waterdf, fill = NA, col = "grey50")


</code></pre>

<hr>
<h2 id='annotation_north_arrow'>Spatial-aware north arrow</h2><span id='topic+annotation_north_arrow'></span><span id='topic+GeomNorthArrow'></span>

<h3>Description</h3>

<p>Spatial-aware north arrow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotation_north_arrow(
  mapping = NULL,
  data = NULL,
  ...,
  height = unit(1.5, "cm"),
  width = unit(1.5, "cm"),
  pad_x = unit(0.25, "cm"),
  pad_y = unit(0.25, "cm"),
  rotation = NULL,
  style = north_arrow_orienteering
)

GeomNorthArrow
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotation_north_arrow_+3A_mapping">mapping</code>, <code id="annotation_north_arrow_+3A_data">data</code>, <code id="annotation_north_arrow_+3A_...">...</code></td>
<td>
<p>See Aesthetics</p>
</td></tr>
<tr><td><code id="annotation_north_arrow_+3A_height">height</code>, <code id="annotation_north_arrow_+3A_width">width</code></td>
<td>
<p>Height and width of north arrow</p>
</td></tr>
<tr><td><code id="annotation_north_arrow_+3A_pad_x">pad_x</code>, <code id="annotation_north_arrow_+3A_pad_y">pad_y</code></td>
<td>
<p>Padding between north arrow and edge of frame</p>
</td></tr>
<tr><td><code id="annotation_north_arrow_+3A_rotation">rotation</code></td>
<td>
<p>Override the rotation of the north arrow (degrees conterclockwise)</p>
</td></tr>
<tr><td><code id="annotation_north_arrow_+3A_style">style</code></td>
<td>
<p>A grob or callable that produces a grob that will be drawn as the north arrow.
See <a href="#topic+north_arrow_orienteering">north_arrow_orienteering</a> for options.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>GeomNorthArrow</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Value</h3>

<p>A ggplot2 layer
</p>


<h3>Aesthetics</h3>

<p>The following can be used as parameters or aesthetics. Using them as
aesthetics is useful when facets are used to display multiple panels,
and a different (or missing) scale bar is required in different panels.
Otherwise, just pass them as arguments to <code>annotation_north_arrow()</code>.
</p>

<ul>
<li><p> which_north: &quot;grid&quot; results in a north arrow always pointing up; &quot;true&quot; always points to the
north pole from whichever corner of the map the north arrow is in.
</p>
</li>
<li><p> location: Where to put the scale bar (&quot;tl&quot; for top left, etc.)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
cities &lt;- data.frame(
  x = c(-63.58595, 116.41214),
  y = c(44.64862, 40.19063),
  city = c("Halifax", "Beijing")
)

ggplot(cities) +
  geom_spatial_point(aes(x, y), crs = 4326) +
  annotation_north_arrow(which_north = "true") +
  coord_sf(crs = 3995)

ggplot(cities) +
  geom_spatial_point(aes(x, y), crs = 4326) +
  annotation_north_arrow(which_north = "grid") +
  coord_sf(crs = 3995)

</code></pre>

<hr>
<h2 id='annotation_scale'>Spatial-aware scalebar annotation</h2><span id='topic+annotation_scale'></span><span id='topic+GeomScaleBar'></span>

<h3>Description</h3>

<p>Spatial-aware scalebar annotation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotation_scale(
  mapping = NULL,
  data = NULL,
  ...,
  plot_unit = NULL,
  bar_cols = c("black", "white"),
  line_width = 1,
  height = unit(0.25, "cm"),
  pad_x = unit(0.25, "cm"),
  pad_y = unit(0.25, "cm"),
  text_pad = unit(0.15, "cm"),
  text_cex = 0.7,
  text_face = NULL,
  text_family = "",
  tick_height = 0.6
)

GeomScaleBar
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotation_scale_+3A_mapping">mapping</code>, <code id="annotation_scale_+3A_data">data</code>, <code id="annotation_scale_+3A_...">...</code></td>
<td>
<p>See Aesthetics</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_plot_unit">plot_unit</code></td>
<td>
<p>For non-coord_sf applications, specify the unit for x and y coordinates.
Must be one of km, m, cm, mi, ft, or in.</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_bar_cols">bar_cols</code></td>
<td>
<p>Colours to use for the bars</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_line_width">line_width</code></td>
<td>
<p>Line width for scale bar</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_height">height</code></td>
<td>
<p>Height of scale bar</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_pad_x">pad_x</code>, <code id="annotation_scale_+3A_pad_y">pad_y</code></td>
<td>
<p>Distance between scale bar and edge of panel</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_text_pad">text_pad</code>, <code id="annotation_scale_+3A_text_cex">text_cex</code>, <code id="annotation_scale_+3A_text_face">text_face</code>, <code id="annotation_scale_+3A_text_family">text_family</code></td>
<td>
<p>Parameters for label</p>
</td></tr>
<tr><td><code id="annotation_scale_+3A_tick_height">tick_height</code></td>
<td>
<p>Height of ticks relative to height of scale bar</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>GeomScaleBar</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Value</h3>

<p>A ggplot2 layer.
</p>


<h3>Aesthetics</h3>

<p>The following can be used as parameters or aesthetics. Using them as
aesthetics is useful when facets are used to display multiple panels,
and a different (or missing) scale bar is required in different panels.
Otherwise, just pass them as arguments to <code>annotation_scale</code>.
</p>

<ul>
<li><p> width_hint: The (suggested) proportion of the plot area which the scalebar should occupy.
</p>
</li>
<li><p> unit_category: Use &quot;metric&quot; or &quot;imperial&quot; units.
</p>
</li>
<li><p> style: One of &quot;bar&quot; or &quot;ticks&quot;
</p>
</li>
<li><p> location: Where to put the scale bar (&quot;tl&quot; for top left, etc.)
</p>
</li>
<li><p> line_col and text_col: Line and text colour, respectively
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>cities &lt;- data.frame(
  x = c(-63.58595, 116.41214),
  y = c(44.64862, 40.19063),
  city = c("Halifax", "Beijing")
)

ggplot(cities) +
  geom_spatial_point(aes(x, y), crs = 4326) +
  annotation_scale() +
  coord_sf(crs = 3995)

</code></pre>

<hr>
<h2 id='annotation_spatial_hline'>Projected horizontal and vertical lines</h2><span id='topic+annotation_spatial_hline'></span><span id='topic+annotation_spatial_vline'></span><span id='topic+GeomSpatialXline'></span>

<h3>Description</h3>

<p>Projected horizontal and vertical lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotation_spatial_hline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  ...,
  intercept = waiver(),
  limits = NULL,
  detail = 100,
  crs = NULL,
  na.rm = FALSE,
  show.legend = NA
)

annotation_spatial_vline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  ...,
  intercept = waiver(),
  limits = NULL,
  detail = 100,
  crs = NULL,
  na.rm = FALSE,
  show.legend = NA
)

GeomSpatialXline
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotation_spatial_hline_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping created with <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_data">data</code></td>
<td>
<p>A data frame or other object, coerced to a data.frame by <code><a href="ggplot2.html#topic+fortify">ggplot2::fortify()</a></code>.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_stat">stat</code></td>
<td>
<p>Statistical transformation to use on this layer. See <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_...">...</code></td>
<td>
<p>Passed to the combined stat/geom as parameters or fixed aesthetics.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_intercept">intercept</code></td>
<td>
<p>The x or y value that should be constant in the given
<code>crs</code>. Can also be passed as an aesthetic through <code>data</code> and <code>mapping</code>.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_limits">limits</code></td>
<td>
<p>Use <code>NULL</code> to guess the minimum and maximum x or y value in
the non-constant dimension, or specify a vector of length 2 to specify
manually.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_detail">detail</code></td>
<td>
<p>The number of points that should be used when converting the
line into segments.</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_crs">crs</code></td>
<td>
<p>The crs of the x and y aesthetics, or NULL to use default lon/lat
crs (with a message).</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_na.rm">na.rm</code></td>
<td>
<p>Should missing aesthetic values be removed?</p>
</td></tr>
<tr><td><code id="annotation_spatial_hline_+3A_show.legend">show.legend</code></td>
<td>
<p>Should the legend be shown?</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>GeomSpatialXline</code> (inherits from <code>GeomHline</code>, <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 4.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cities &lt;- data.frame(
  x = c(-63.58595, 116.41214, 0),
  y = c(44.64862, 40.19063, 89.9),
  city = c("Halifax", "Beijing", "North Pole")
)

p &lt;- ggplot(cities, aes(x, y, label = city)) +
  geom_spatial_point(crs = 4326) +
  # view of the north pole
  coord_sf(crs = 3995)

p +
  # longitude lines
  annotation_spatial_vline(
    intercept = seq(-180, 180, by = 10),
    crs = 4326
  ) +
  # latitude lines
  annotation_spatial_hline(
    intercept = seq(0, 90, by = 10),
    crs = 4326
  )

</code></pre>

<hr>
<h2 id='df_spatial'>Create a ggplot-friendly data frame from a spatial object</h2><span id='topic+df_spatial'></span>

<h3>Description</h3>

<p>Create a ggplot-friendly data frame from a spatial object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_spatial(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="df_spatial_+3A_x">x</code></td>
<td>
<p>A spatial object</p>
</td></tr>
<tr><td><code id="df_spatial_+3A_...">...</code></td>
<td>
<p>Passed to specific methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with coordinates as <code>x</code> and <code>y</code>,
features as <code>feature_id</code>, and parts as <code>part_id</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
load_longlake_data(which = c("longlake_osm", "longlake_depthdf"))
df_spatial(longlake_osm)
df_spatial(longlake_depthdf)
df_spatial(as(longlake_depthdf, "Spatial"))


</code></pre>

<hr>
<h2 id='fixed_plot_aspect'>Enforce a plot aspect ratio</h2><span id='topic+fixed_plot_aspect'></span>

<h3>Description</h3>

<p>When using a fixed-aspect coordinate system, <code><a href="#topic+fixed_plot_aspect">fixed_plot_aspect()</a></code> expands
either the width or height of the plot to ensure that the output
has dimensions that make sense. This is a useful workaround for
getting reasonable-shaped plots when using <code><a href="ggplot2.html#topic+ggsf">ggplot2::coord_sf()</a></code>
or <code><a href="ggplot2.html#topic+coord_fixed">ggplot2::coord_fixed()</a></code> when the data happen to be
aligned vertically or horizontally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixed_plot_aspect(ratio = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fixed_plot_aspect_+3A_ratio">ratio</code></td>
<td>
<p>The desired aspect ratio (width / height)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code> that can be added to  a <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
df &lt;- data.frame(x =  0:5, y =  seq(0, 10, length.out = 6))
ggplot(df, aes(x, y)) +
  geom_point() +
  fixed_plot_aspect(ratio = 1) +
  coord_fixed()

</code></pre>

<hr>
<h2 id='geom_polypath'>Polygons with holes in ggplot2</h2><span id='topic+geom_polypath'></span>

<h3>Description</h3>

<p>This geometry used to plot polygons with holes in ggplot2 at the
more correctly than <a href="ggplot2.html#topic+geom_polygon">geom_polygon</a>; however,
in recent R and ggplot2 versions this is no longer needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_polypath(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  rule = "winding",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_polypath_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping, created with <a href="ggplot2.html#topic+aes">aes</a>. The aesthetic
will mostly likely need to contain a <code>group</code> mapping.</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_data">data</code></td>
<td>
<p>A data.frame containing the coordinates to plot.</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_stat">stat</code></td>
<td>
<p>A statistic to apply (most likely &quot;identity&quot;)</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_position">position</code></td>
<td>
<p>A position to apply (most likely &quot;identity&quot;)</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_na.rm">na.rm</code></td>
<td>
<p>Should missing coordinate be removed?</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_show.legend">show.legend</code></td>
<td>
<p>Should a legend be shown for mapped aesthetics?</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>Should aesthetics be inherited?</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_rule">rule</code></td>
<td>
<p>A fill rule to apply. One of &quot;winding&quot; or &quot;evenodd&quot;.</p>
</td></tr>
<tr><td><code id="geom_polypath_+3A_...">...</code></td>
<td>
<p>Passed to the geom and/or stat.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
load_longlake_data(which = "longlake_waterdf")
ggplot(df_spatial(longlake_waterdf), aes(x, y, group = piece_id)) +
  geom_polypath()


</code></pre>

<hr>
<h2 id='geom_spatial_rect'>Projected rectangular regions</h2><span id='topic+geom_spatial_rect'></span><span id='topic+geom_spatial_tile'></span><span id='topic+StatSpatialRect'></span><span id='topic+StatSpatialTile'></span>

<h3>Description</h3>

<p>If you need to plot a <code><a href="sf.html#topic+st_bbox">sf::st_bbox()</a></code>, use <code><a href="#topic+layer_spatial">layer_spatial()</a></code> instead.
While the implementation is slightly differrent, these functions are
intended to behave identically to <code><a href="ggplot2.html#topic+geom_tile">ggplot2::geom_rect()</a></code> and
<code><a href="ggplot2.html#topic+geom_tile">ggplot2::geom_tile()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_spatial_rect(
  mapping = NULL,
  data = NULL,
  ...,
  crs = NULL,
  detail = 30,
  linejoin = "mitre",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_spatial_tile(
  mapping = NULL,
  data = NULL,
  ...,
  crs = NULL,
  detail = 30,
  linejoin = "mitre",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

StatSpatialRect

StatSpatialTile
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_spatial_rect_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping created with <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_data">data</code></td>
<td>
<p>A data frame or other object, coerced to a data.frame by <code><a href="ggplot2.html#topic+fortify">ggplot2::fortify()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_...">...</code></td>
<td>
<p>Passed to the combined stat/geom as parameters or fixed aesthetics.</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_crs">crs</code></td>
<td>
<p>The crs of the x and y aesthetics, or NULL to use default lon/lat
crs (with a message).</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_detail">detail</code></td>
<td>
<p>Passed to <code><a href="sf.html#topic+geos_unary">sf::st_segmentize()</a></code>: the number of line segments
per quadrant of the bounding box. Increase this number for a smoother
projected bounding box.</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_linejoin">linejoin</code></td>
<td>
<p>How corners should be joined</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_na.rm">na.rm</code></td>
<td>
<p>Should missing aesthetic values be removed?</p>
</td></tr>
<tr><td><code id="geom_spatial_rect_+3A_show.legend">show.legend</code>, <code id="geom_spatial_rect_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatSpatialRect</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.
</p>
<p>An object of class <code>StatSpatialTile</code> (inherits from <code>StatSpatialRect</code>, <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
tile_df &lt;- expand.grid(
  x = seq(-140, -52, by = 20),
  y = seq(40, 70, by = 10)
)

ggplot(tile_df, aes(x, y)) +
  geom_spatial_tile(crs = 4326) +
  coord_sf(crs = 3979)

# the same plot using geom_spatial_rect()
ggplot(
  tile_df,
  aes(xmin = x - 10, xmax = x + 10, ymin = y - 5, ymax = y + 5)
) +
  geom_spatial_rect(crs = 4326) +
  coord_sf(crs = 3979)

</code></pre>

<hr>
<h2 id='geom_spatial_segment'>Spatial line segments</h2><span id='topic+geom_spatial_segment'></span><span id='topic+StatSpatialSegment'></span>

<h3>Description</h3>

<p>While the implementation is slightly differrent, this function is
intended to behave identically to <code><a href="ggplot2.html#topic+geom_segment">ggplot2::geom_segment()</a></code>. Use
<code>great_circle = FALSE</code> and <code>detail = NULL</code> if you wish ignore the fact
that the earth is round.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_spatial_segment(
  mapping = NULL,
  data = NULL,
  ...,
  crs = NULL,
  detail = waiver(),
  great_circle = TRUE,
  wrap_dateline = TRUE,
  arrow = NULL,
  lineend = "butt",
  linejoin = "round",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

StatSpatialSegment
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_spatial_segment_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping created with <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_data">data</code></td>
<td>
<p>A data frame or other object, coerced to a data.frame by <code><a href="ggplot2.html#topic+fortify">ggplot2::fortify()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_...">...</code></td>
<td>
<p>Passed to the combined stat/geom as parameters or fixed aesthetics.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_crs">crs</code></td>
<td>
<p>The crs of the x and y aesthetics, or NULL to use default lon/lat
crs (with a message).</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_detail">detail</code></td>
<td>
<p>Passed to <code><a href="sf.html#topic+geos_unary">sf::st_segmentize()</a></code>: the number of line segments
per quadrant of the bounding box. Increase this number for a smoother
projected bounding box.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_great_circle">great_circle</code></td>
<td>
<p>If <code>TRUE</code>, use <code><a href="lwgeom.html#topic+geod">lwgeom::st_geod_segmentize()</a></code>
to connect the (x, y) and (xend, yend) with the shortest possible
great circle along the earth.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_wrap_dateline">wrap_dateline</code></td>
<td>
<p>When using <code>great_circle = TRUE</code>, using
<code>wrap_dateline = TRUE</code> splits the great circle along the dateline.
You may want to pass <code>FALSE</code> here if using <code>arrow</code> and a projection
that wraps the dateline.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_arrow">arrow</code></td>
<td>
<p>An arrow specification as a call to <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_lineend">lineend</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+geom_segment">ggplot2::geom_segment()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_linejoin">linejoin</code></td>
<td>
<p>How corners should be joined</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_na.rm">na.rm</code></td>
<td>
<p>Should missing aesthetic values be removed?</p>
</td></tr>
<tr><td><code id="geom_spatial_segment_+3A_show.legend">show.legend</code>, <code id="geom_spatial_segment_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatSpatialSegment</code> (inherits from <code>StatSpatialRect</code>, <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# visualize flights from
# Halifax -&gt; Anchorage -&gt; Berlin -&gt; Halifax
cities &lt;- data.frame(
  lon = c(-63.58595, 116.41214, 13.50, -149.75),
  lat = c(44.64862, 40.19063, 52.51, 61.20),
  city = c("Halifax", "Beijing", "Berlin", "Anchorage"),
  city_to = c("Anchorage", "Beijing", "Berlin", "Halifax")
)

cities$lon_end &lt;- cities$lon[c(4, 3, 1, 2)]
cities$lat_end &lt;- cities$lat[c(4, 3, 1, 2)]

p &lt;- ggplot(cities, aes(lon, lat, xend = lon_end, yend = lat_end)) +
  geom_spatial_point(crs = 4326)

# by default, geom_spatial_segment() connects points
# using the shortest distance along the face of the earth
# wrapping at the date line
p +
  geom_spatial_segment(crs = 4326) +
  coord_sf(crs = 3857)

# to let the projection handle the dateline,
# use `wrap_dateline = FALSE` (most useful for
# when using `arrow`)
p +
  geom_spatial_segment(
    wrap_dateline = FALSE,
    arrow = grid::arrow(),
    crs = 4326
  ) +
  coord_sf(crs = 3995)

# to ignore the roundness of the earth, use
# `great_circle = FALSE`
p +
  geom_spatial_segment(
    great_circle = FALSE,
    arrow = grid::arrow(),
    crs = 4326
  ) +
  coord_sf(crs = 3995)

</code></pre>

<hr>
<h2 id='layer_spatial'>Turn a spatial object into a ggplot2 layer</h2><span id='topic+layer_spatial'></span><span id='topic+annotation_spatial'></span><span id='topic+layer_spatial.default'></span><span id='topic+annotation_spatial.default'></span><span id='topic+shadow_spatial'></span><span id='topic+shadow_spatial.default'></span>

<h3>Description</h3>

<p>See also <code><a href="#topic+layer_spatial.Raster">layer_spatial.Raster()</a></code>, <code><a href="#topic+layer_spatial.stars">layer_spatial.stars()</a></code>,
<code><a href="#topic+layer_spatial.SpatRaster">layer_spatial.SpatRaster()</a></code> and <code><a href="#topic+layer_spatial.bbox">layer_spatial.bbox()</a></code> for implementations
for other types of spatial objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layer_spatial(data, mapping, ...)

annotation_spatial(data, mapping, ...)

## Default S3 method:
layer_spatial(
  data,
  mapping = aes(),
  inherit.aes = FALSE,
  sf_params = list(),
  ...
)

## Default S3 method:
annotation_spatial(
  data,
  mapping = aes(),
  inherit.aes = FALSE,
  sf_params = list(),
  ...
)

shadow_spatial(data, ...)

## Default S3 method:
shadow_spatial(data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="layer_spatial_+3A_data">data</code></td>
<td>
<p>An object that can be coerced to an sf object using <a href="sf.html#topic+st_as_sf">st_as_sf</a>.</p>
</td></tr>
<tr><td><code id="layer_spatial_+3A_mapping">mapping</code></td>
<td>
<p>A mapping, created using <a href="ggplot2.html#topic+aes">aes</a>.</p>
</td></tr>
<tr><td><code id="layer_spatial_+3A_...">...</code></td>
<td>
<p>Passed to <a href="ggplot2.html#topic+ggsf">geom_sf</a></p>
</td></tr>
<tr><td><code id="layer_spatial_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>Inherit aesthetics from ggplot()?</p>
</td></tr>
<tr><td><code id="layer_spatial_+3A_sf_params">sf_params</code></td>
<td>
<p>Passed to <a href="sf.html#topic+st_as_sf">st_as_sf</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 <a href="ggplot2.html#topic+layer">layer</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
load_longlake_data(
  which = c(
    "longlake_roadsdf",
    "longlake_depthdf",
    "longlake_depth_raster"
  )
)

ggplot() +

  # annotation_spatial() layers don't train the scales, so data stays central
  annotation_spatial(longlake_roadsdf, size = 2, col = "black") +
  annotation_spatial(longlake_roadsdf, size = 1.6, col = "white") +

  # raster layers train scales and get projected automatically
  layer_spatial(longlake_depth_raster, aes(alpha = after_stat(band1)), fill = "darkblue") +
  scale_alpha_continuous(na.value = 0) +

  # layer_spatial() layers train the scales
  layer_spatial(longlake_depthdf, aes(col = DEPTH_M)) +

  # spatial-aware automagic scale bar
  annotation_scale(location = "tl") +

  # spatial-aware automagic north arrow
  annotation_north_arrow(location = "br", which_north = "true")


</code></pre>

<hr>
<h2 id='layer_spatial.bbox'>Add a bounding box to a map</h2><span id='topic+layer_spatial.bbox'></span><span id='topic+annotation_spatial.bbox'></span><span id='topic+shadow_spatial.bbox'></span>

<h3>Description</h3>

<p>To include a bounding box without drawing it, use <code><a href="#topic+shadow_spatial">shadow_spatial()</a></code> on the
original object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bbox'
layer_spatial(data, mapping = aes(), ..., detail = 30)

## S3 method for class 'bbox'
annotation_spatial(data, mapping = aes(), ..., detail = 30)

## S3 method for class 'bbox'
shadow_spatial(data, ..., detail = 30)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="layer_spatial.bbox_+3A_data">data</code></td>
<td>
<p>A bounding box generated by <code><a href="sf.html#topic+st_bbox">sf::st_bbox()</a></code></p>
</td></tr>
<tr><td><code id="layer_spatial.bbox_+3A_mapping">mapping</code></td>
<td>
<p>A mapping, created using <a href="ggplot2.html#topic+aes">aes</a>.</p>
</td></tr>
<tr><td><code id="layer_spatial.bbox_+3A_...">...</code></td>
<td>
<p>Passed to <a href="ggplot2.html#topic+ggsf">geom_sf</a></p>
</td></tr>
<tr><td><code id="layer_spatial.bbox_+3A_detail">detail</code></td>
<td>
<p>Passed to <code><a href="sf.html#topic+geos_unary">sf::st_segmentize()</a></code>: the number of line segments
per quadrant of the bounding box. Increase this number for a smoother
projected bounding box.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
load_longlake_data(which = c("longlake_waterdf", "longlake_depthdf"))
ggplot() +
  layer_spatial(sf::st_bbox(longlake_waterdf)) +
  layer_spatial(longlake_depthdf)

# use shadow_spatial() to include the geographic area of an object
# without drawing it
ggplot() +
  shadow_spatial(longlake_waterdf) +
  layer_spatial(longlake_depthdf)


</code></pre>

<hr>
<h2 id='layer_spatial.Raster'>Spatial ggplot2 layer for raster objects</h2><span id='topic+layer_spatial.Raster'></span><span id='topic+annotation_spatial.Raster'></span><span id='topic+StatSpatialRaster'></span><span id='topic+StatSpatialRasterAnnotation'></span><span id='topic+StatSpatialRasterDf'></span><span id='topic+GeomSpatialRaster'></span>

<h3>Description</h3>

<p>This is intended for use with RGB(A) rasters (e.g., georeferenced imagery or photos). To work with
bands as if they were columns, use <a href="#topic+df_spatial">df_spatial</a> and <a href="ggplot2.html#topic+geom_raster">geom_raster</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Raster'
layer_spatial(
  data,
  mapping = NULL,
  interpolate = NULL,
  is_annotation = FALSE,
  lazy = FALSE,
  dpi = 150,
  ...
)

## S3 method for class 'Raster'
annotation_spatial(data, mapping = NULL, interpolate = NULL, ...)

StatSpatialRaster

StatSpatialRasterAnnotation

StatSpatialRasterDf

GeomSpatialRaster
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="layer_spatial.Raster_+3A_data">data</code></td>
<td>
<p>A Raster object</p>
</td></tr>
<tr><td><code id="layer_spatial.Raster_+3A_mapping">mapping</code></td>
<td>
<p>Currently, only RGB or RGBA rasters are supported. In the future, one may be able to
map specific bands to the fill and alpha aesthetics.</p>
</td></tr>
<tr><td><code id="layer_spatial.Raster_+3A_interpolate">interpolate</code></td>
<td>
<p>Interpolate resampling for rendered raster image</p>
</td></tr>
<tr><td><code id="layer_spatial.Raster_+3A_is_annotation">is_annotation</code></td>
<td>
<p>Lets raster exist without modifying scales</p>
</td></tr>
<tr><td><code id="layer_spatial.Raster_+3A_lazy">lazy</code></td>
<td>
<p>Delay projection and resample of raster until the plot is being rendered</p>
</td></tr>
<tr><td><code id="layer_spatial.Raster_+3A_dpi">dpi</code></td>
<td>
<p>if lazy = TRUE, the dpi to which the raster should be resampled</p>
</td></tr>
<tr><td><code id="layer_spatial.Raster_+3A_...">...</code></td>
<td>
<p>Passed to other methods</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatSpatialRaster</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>
<p>An object of class <code>StatSpatialRaster</code> (inherits from <code>StatSpatialRaster</code>, <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>
<p>An object of class <code>StatSpatialRasterDf</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>
<p>An object of class <code>GeomSpatialRaster</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Value</h3>

<p>A ggplot2 layer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
load_longlake_data(which = c("longlake_osm", "longlake_depth_raster"))
ggplot() + layer_spatial(longlake_osm)
ggplot() + layer_spatial(longlake_depth_raster) + scale_fill_continuous(na.value = NA)


</code></pre>

<hr>
<h2 id='layer_spatial.SpatRaster'>Spatial ggplot2 layer for SpatRaster objects</h2><span id='topic+layer_spatial.SpatRaster'></span><span id='topic+annotation_spatial.SpatRaster'></span><span id='topic+StatSpatRaster'></span><span id='topic+StatSpatRasterAnnotation'></span><span id='topic+StatSpatRasterDf'></span><span id='topic+GeomSpatRaster'></span>

<h3>Description</h3>

<p>This is intended for use with RGB(A) rasters (e.g., georeferenced imagery
or photos). To work with bands as if they were columns, use <a href="#topic+df_spatial">df_spatial</a>
and <a href="ggplot2.html#topic+geom_raster">geom_raster</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SpatRaster'
layer_spatial(
  data,
  mapping = NULL,
  interpolate = NULL,
  is_annotation = FALSE,
  lazy = FALSE,
  dpi = 150,
  ...
)

## S3 method for class 'SpatRaster'
annotation_spatial(data, mapping = NULL, interpolate = NULL, ...)

StatSpatRaster

StatSpatRasterAnnotation

StatSpatRasterDf

GeomSpatRaster
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="layer_spatial.SpatRaster_+3A_data">data</code></td>
<td>
<p>A SpatRaster object created with <code><a href="terra.html#topic+rast">terra::rast()</a></code>.</p>
</td></tr>
<tr><td><code id="layer_spatial.SpatRaster_+3A_mapping">mapping</code></td>
<td>
<p>Currently, only RGB or RGBA rasters are supported. In the future, one may be able to
map specific bands to the fill and alpha aesthetics.</p>
</td></tr>
<tr><td><code id="layer_spatial.SpatRaster_+3A_interpolate">interpolate</code></td>
<td>
<p>Interpolate resampling for rendered raster image</p>
</td></tr>
<tr><td><code id="layer_spatial.SpatRaster_+3A_is_annotation">is_annotation</code></td>
<td>
<p>Lets raster exist without modifying scales</p>
</td></tr>
<tr><td><code id="layer_spatial.SpatRaster_+3A_lazy">lazy</code></td>
<td>
<p>Delay projection and resample of raster until the plot is being rendered</p>
</td></tr>
<tr><td><code id="layer_spatial.SpatRaster_+3A_dpi">dpi</code></td>
<td>
<p>if lazy = TRUE, the dpi to which the raster should be resampled</p>
</td></tr>
<tr><td><code id="layer_spatial.SpatRaster_+3A_...">...</code></td>
<td>
<p>Passed to other methods</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatSpatialRaster</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>
<p>An object of class <code>StatSpatRaster</code> (inherits from <code>StatSpatialRaster</code>, <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>
<p>An object of class <code>StatSpatRasterDf</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>
<p>An object of class <code>GeomSpatRaster</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Value</h3>

<p>A ggplot2 layer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)
load_longlake_data(
  which = c(
    "longlake_osm",
    "longlake_depth_raster"
  ),
  raster_format = "terra"
)
ggplot() +
  layer_spatial(longlake_osm)

ggplot() +
  layer_spatial(longlake_depth_raster) +
  scale_fill_continuous(
    na.value = NA,
    type = "viridis"
  )

</code></pre>

<hr>
<h2 id='layer_spatial.stars'>Spatial ggplot2 layer for stars objects</h2><span id='topic+layer_spatial.stars'></span><span id='topic+annotation_spatial.stars'></span><span id='topic+StatSpatialStars'></span><span id='topic+StatSpatialStarsAnnotation'></span><span id='topic+StatSpatialStarsDf'></span><span id='topic+GeomSpatialStars'></span>

<h3>Description</h3>

<p>This is intended for use with RGB(A) rasters (e.g., georeferenced imagery or photos). To work with
bands as if they were columns, use <a href="#topic+df_spatial">df_spatial</a> and <a href="ggplot2.html#topic+geom_raster">geom_raster</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stars'
layer_spatial(
  data,
  mapping = NULL,
  interpolate = NULL,
  is_annotation = FALSE,
  lazy = FALSE,
  dpi = 150,
  options = character(0),
  ...
)

## S3 method for class 'stars'
annotation_spatial(data, mapping = NULL, interpolate = NULL, ...)

StatSpatialStars

StatSpatialStarsAnnotation

StatSpatialStarsDf

GeomSpatialStars
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="layer_spatial.stars_+3A_data">data</code></td>
<td>
<p>A stars object</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_mapping">mapping</code></td>
<td>
<p>Currently, only RGB or RGBA rasters are supported. In the future, one may be able to
map specific bands to the fill and alpha aesthetics.</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_interpolate">interpolate</code></td>
<td>
<p>Interpolate resampling for rendered raster image</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_is_annotation">is_annotation</code></td>
<td>
<p>Lets raster exist without modifying scales</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_lazy">lazy</code></td>
<td>
<p>Delay projection and resample of raster until the plot is being rendered</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_dpi">dpi</code></td>
<td>
<p>if lazy = TRUE, the dpi to which the raster should be resampled</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_options">options</code></td>
<td>
<p>GDAL options for warping/resampling (see <a href="stars.html#topic+st_warp">st_warp</a>)</p>
</td></tr>
<tr><td><code id="layer_spatial.stars_+3A_...">...</code></td>
<td>
<p>Passed to other methods</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatSpatialStars</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>
<p>An object of class <code>StatSpatialStars</code> (inherits from <code>StatSpatialStars</code>, <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.
</p>
<p>An object of class <code>StatSpatialStarsDf</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>
<p>An object of class <code>GeomSpatialStars</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Value</h3>

<p>A ggplot2 layer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)
load_longlake_data(
  which = c(
    "longlake_osm",
    "longlake_depth_raster"
  ),
  raster_format = "stars"
)
ggplot() +
  layer_spatial(longlake_osm)

ggplot() +
  layer_spatial(longlake_depth_raster) +
  scale_fill_continuous(
    na.value = NA,
    type = "viridis"
  )

</code></pre>

<hr>
<h2 id='load_longlake_data'>Load longlake test data</h2><span id='topic+load_longlake_data'></span>

<h3>Description</h3>

<p>Load longlake test data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_longlake_data(
  env = parent.frame(),
  vector_format = c("sf", "sp"),
  raster_format = c("raster", "stars", "stars_proxy", "terra"),
  which = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_longlake_data_+3A_env">env</code></td>
<td>
<p>The environment in which to assign the objects</p>
</td></tr>
<tr><td><code id="load_longlake_data_+3A_vector_format">vector_format</code>, <code id="load_longlake_data_+3A_raster_format">raster_format</code></td>
<td>
<p>The format in which objects should be loaded</p>
</td></tr>
<tr><td><code id="load_longlake_data_+3A_which">which</code></td>
<td>
<p>An optional subset of objects to be loaded</p>
</td></tr>
</table>


<h3>Source</h3>

<p>The Nova Scotia Topographic Database
(<a href="https://geonova.novascotia.ca/">https://geonova.novascotia.ca/</a>) and
Open Street Map (<a href="https://www.openstreetmap.org/">https://www.openstreetmap.org/</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>load_longlake_data(which = "longlake_waterdf")

</code></pre>

<hr>
<h2 id='north_arrow_orienteering'>North arrow styles</h2><span id='topic+north_arrow_orienteering'></span><span id='topic+north_arrow_fancy_orienteering'></span><span id='topic+north_arrow_minimal'></span><span id='topic+north_arrow_nautical'></span>

<h3>Description</h3>

<p>North arrow styles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>north_arrow_orienteering(
  line_width = 1,
  line_col = "black",
  fill = c("white", "black"),
  text_col = "black",
  text_family = "",
  text_face = NULL,
  text_size = 10,
  text_angle = 0
)

north_arrow_fancy_orienteering(
  line_width = 1,
  line_col = "black",
  fill = c("white", "black"),
  text_col = "black",
  text_family = "",
  text_face = NULL,
  text_size = 10,
  text_angle = 0
)

north_arrow_minimal(
  line_width = 1,
  line_col = "black",
  fill = "black",
  text_col = "black",
  text_family = "",
  text_face = NULL,
  text_size = 10
)

north_arrow_nautical(
  line_width = 1,
  line_col = "black",
  fill = c("black", "white"),
  text_size = 10,
  text_face = NULL,
  text_family = "",
  text_col = "black",
  text_angle = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="north_arrow_orienteering_+3A_line_width">line_width</code>, <code id="north_arrow_orienteering_+3A_line_col">line_col</code>, <code id="north_arrow_orienteering_+3A_fill">fill</code></td>
<td>
<p>Parameters customizing the appearance of the north arrow</p>
</td></tr>
<tr><td><code id="north_arrow_orienteering_+3A_text_col">text_col</code>, <code id="north_arrow_orienteering_+3A_text_family">text_family</code>, <code id="north_arrow_orienteering_+3A_text_face">text_face</code>, <code id="north_arrow_orienteering_+3A_text_size">text_size</code>, <code id="north_arrow_orienteering_+3A_text_angle">text_angle</code></td>
<td>
<p>Parameters customizing the
text of the north arrow</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Grob with npc coordinates (more or less) 0 to 1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>grid::grid.newpage()
grid::grid.draw(north_arrow_orienteering())

grid::grid.newpage()
grid::grid.draw(north_arrow_fancy_orienteering())

grid::grid.newpage()
grid::grid.draw(north_arrow_minimal())

grid::grid.newpage()
grid::grid.draw(north_arrow_nautical())

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+ggplot'></span><span id='topic+aes'></span><span id='topic+coord_sf'></span><span id='topic+geom_sf'></span><span id='topic+waiver'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+aes">aes</a></code>, <code><a href="ggplot2.html#topic+ggsf">coord_sf</a></code>, <code><a href="ggplot2.html#topic+ggsf">geom_sf</a></code>, <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="ggplot2.html#topic+waiver">waiver</a></code></p>
</dd>
</dl>

<hr>
<h2 id='stat_spatial_identity'>Spatial-aware ggplot2 layers</h2><span id='topic+stat_spatial_identity'></span><span id='topic+geom_spatial_point'></span><span id='topic+geom_spatial_path'></span><span id='topic+geom_spatial_polygon'></span><span id='topic+geom_spatial_text'></span><span id='topic+geom_spatial_label'></span><span id='topic+geom_spatial_text_repel'></span><span id='topic+geom_spatial_label_repel'></span>

<h3>Description</h3>

<p>These layers are much like their counterparts, <a href="ggplot2.html#topic+stat_identity">stat_identity</a>,
<a href="ggplot2.html#topic+geom_point">geom_point</a>, <a href="ggplot2.html#topic+geom_path">geom_path</a>,
and <a href="ggplot2.html#topic+geom_polygon">geom_polygon</a>, except they have a <code>crs</code> argument that
ensures they are projected when using <a href="ggplot2.html#topic+ggsf">coord_sf</a>. Stats are applied to the x and y coordinates
that have been transformed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_spatial_identity(
  mapping = NULL,
  data = NULL,
  crs = NULL,
  geom = "point",
  position = "identity",
  ...,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_spatial_point(mapping = NULL, data = NULL, crs = NULL, ...)

geom_spatial_path(mapping = NULL, data = NULL, crs = NULL, ...)

geom_spatial_polygon(mapping = NULL, data = NULL, crs = NULL, ...)

geom_spatial_text(mapping = NULL, data = NULL, crs = NULL, ...)

geom_spatial_label(mapping = NULL, data = NULL, crs = NULL, ...)

geom_spatial_text_repel(mapping = NULL, data = NULL, crs = NULL, ...)

geom_spatial_label_repel(mapping = NULL, data = NULL, crs = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stat_spatial_identity_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping created with <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_spatial_identity_+3A_data">data</code></td>
<td>
<p>A data frame or other object, coerced to a data.frame by <code><a href="ggplot2.html#topic+fortify">ggplot2::fortify()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_spatial_identity_+3A_crs">crs</code></td>
<td>
<p>The crs of the x and y aesthetics, or NULL to use default lon/lat
crs (with a message).</p>
</td></tr>
<tr><td><code id="stat_spatial_identity_+3A_geom">geom</code></td>
<td>
<p>The geometry to use.</p>
</td></tr>
<tr><td><code id="stat_spatial_identity_+3A_position">position</code></td>
<td>
<p>The position to use.</p>
</td></tr>
<tr><td><code id="stat_spatial_identity_+3A_...">...</code></td>
<td>
<p>Passed to the combined stat/geom as parameters or fixed aesthetics.</p>
</td></tr>
<tr><td><code id="stat_spatial_identity_+3A_show.legend">show.legend</code>, <code id="stat_spatial_identity_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cities &lt;- data.frame(
  x = c(-63.58595, 116.41214, 0),
  y = c(44.64862, 40.19063, 89.9),
  city = c("Halifax", "Beijing", "North Pole")
)

library(ggrepel)
ggplot(cities, aes(x, y)) +
  geom_spatial_point(crs = 4326) +
  stat_spatial_identity(aes(label = city), geom = "label_repel") +
  coord_sf(crs = 3857)

</code></pre>

<hr>
<h2 id='xy_transform'>Coordinate transform</h2><span id='topic+xy_transform'></span>

<h3>Description</h3>

<p>Coordinate transform, propotating non-finite cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xy_transform(x, y, from = 4326, to = 4326, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xy_transform_+3A_x">x</code></td>
<td>
<p>The x coordinate</p>
</td></tr>
<tr><td><code id="xy_transform_+3A_y">y</code></td>
<td>
<p>The y coordinate</p>
</td></tr>
<tr><td><code id="xy_transform_+3A_from">from</code></td>
<td>
<p>From CRS</p>
</td></tr>
<tr><td><code id="xy_transform_+3A_to">to</code></td>
<td>
<p>To CRS</p>
</td></tr>
<tr><td><code id="xy_transform_+3A_na.rm">na.rm</code></td>
<td>
<p>Warn for non-finite cases?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with x and y components.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy_transform(c(1, 2, 3), c(1, 2, 3), to = 3857)
xy_transform(c(1, 2, 3), c(NA, NA, NA), to = 3857)
xy_transform(c(1, 2, 3), c(NA, 2, 3), to = 3857)
xy_transform(c(1, 2, 3), c(1, 2, NA), to = 3857)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

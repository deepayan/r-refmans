<!DOCTYPE html><html><head><title>Help for package caretEnsemble</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {caretEnsemble}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#caretEnsemble'><p>caretEnsemble: Make ensembles of caret models.</p></a></li>
<li><a href='#+5B.caretList'><p>Index a caretList</p></a></li>
<li><a href='#as.caretList'><p>Convert object to caretList object</p></a></li>
<li><a href='#as.caretList.default'><p>Convert object to caretList object - For Future Use</p></a></li>
<li><a href='#as.caretList.list'><p>Convert list to caretList</p></a></li>
<li><a href='#autoplot'><p>Convenience function for more in-depth diagnostic plots of caretEnsemble objects</p></a></li>
<li><a href='#bestPreds'><p>Extract the best predictions from a train object</p></a></li>
<li><a href='#c.caretList'><p>S3 definition for concatenating caretList</p></a></li>
<li><a href='#c.train'><p>S3 definition for concatenating train objects</p></a></li>
<li><a href='#caretList'><p>Create a list of several train models from the caret package</p>
Build a list of train objects suitable for ensembling using the <code>caretEnsemble</code>
function.</a></li>
<li><a href='#caretModelSpec'><p>Generate a specification for fitting a caret model</p></a></li>
<li><a href='#caretStack'><p>Combine several predictive models via stacking</p></a></li>
<li><a href='#check_bestpreds_indexes'><p>Check row indexes</p></a></li>
<li><a href='#check_bestpreds_obs'><p>Check observeds</p></a></li>
<li><a href='#check_bestpreds_preds'><p>Check predictions</p></a></li>
<li><a href='#check_bestpreds_resamples'><p>Check resamples</p></a></li>
<li><a href='#check_caretList_classes'><p>Checks caretList model classes</p></a></li>
<li><a href='#check_caretList_model_types'><p>Checks that caretList models are all of the same type.</p></a></li>
<li><a href='#dotplot.caretStack'><p>Comparison dotplot for a caretStack object</p></a></li>
<li><a href='#extractBestPreds'><p>Extract the best predictions from a list of train objects</p></a></li>
<li><a href='#extractCaretTarget'><p>Extracts the target variable from a set of arguments headed to the caret::train function.</p></a></li>
<li><a href='#extractCaretTarget.default'><p>Extracts the target variable from a set of arguments headed to the caret::train.default function.</p></a></li>
<li><a href='#extractCaretTarget.formula'><p>Extracts the target variable from a set of arguments headed to the caret::train.formula function.</p></a></li>
<li><a href='#extractModelName'><p>Extract the method name associated with a single train object</p></a></li>
<li><a href='#extractModelTypes'><p>Extracts the model types from a list of train model</p></a></li>
<li><a href='#extractModFrame'><p>Extract a dataframe of all predictors used in a caretEnsemble object.</p></a></li>
<li><a href='#extractModRes'><p>Extract the model accuracy metrics of the individual models in an ensemble object.</p></a></li>
<li><a href='#fortify'><p>Supplement the data fitted to a caret ensemble model with model fit statistics</p></a></li>
<li><a href='#getBinaryTargetLevel'><p>Return the configured target binary class level</p></a></li>
<li><a href='#getMetric'><p>Extract accuracy metrics from a model</p></a></li>
<li><a href='#is.caretEnsemble'><p>Check if an object is a caretEnsemble object</p></a></li>
<li><a href='#is.caretList'><p>Check if an object is a caretList object</p></a></li>
<li><a href='#is.caretStack'><p>Check if an object is a caretStack object</p></a></li>
<li><a href='#makePredObsMatrix'><p>Make a prediction matrix from a list of models</p></a></li>
<li><a href='#methodCheck'><p>Check that the methods supplied by the user are valid caret methods</p></a></li>
<li><a href='#models.class'><p>caretList of classification models</p></a></li>
<li><a href='#multiResiduals'><p>Calculate the residuals from all component models of a caretEnsemble.</p></a></li>
<li><a href='#plot.caretEnsemble'><p>Plot Diagnostics for an caretEnsemble Object</p></a></li>
<li><a href='#plot.caretStack'><p>Plot a caretStack object</p></a></li>
<li><a href='#predict.caretList'><p>Create a matrix of predictions for each of the models in a caretList</p></a></li>
<li><a href='#predict.caretStack'><p>Make predictions from a caretStack</p></a></li>
<li><a href='#print.caretStack'><p>Print a caretStack object</p></a></li>
<li><a href='#residuals.caretEnsemble'><p>Calculate the residuals from a caretEnsemble.</p></a></li>
<li><a href='#setBinaryTargetLevel'><p>Set the target binary class level</p></a></li>
<li><a href='#summary.caretEnsemble'><p>Summarize the results of caretEnsemble for the user.</p></a></li>
<li><a href='#summary.caretStack'><p>Summarize a caretStack object</p></a></li>
<li><a href='#trControlCheck'><p>Check that the trainControl object supplied by the user is valid and has defined re-sampling indexes.</p></a></li>
<li><a href='#tuneCheck'><p>Check that the tuning parameters list supplied by the user is valid</p></a></li>
<li><a href='#validateBinaryTargetLevel'><p>Validate arguments given as binary target level</p></a></li>
<li><a href='#validateCustomModel'><p>Validate a custom caret model info list</p></a></li>
<li><a href='#varImp.caretEnsemble'><p>Calculate the variable importance of variables in a caretEnsemble.</p></a></li>
<li><a href='#wtd.sd'><p>Calculate a weighted standard deviation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Ensembles of Caret Models</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-19</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/zachmayer/caretEnsemble">https://github.com/zachmayer/caretEnsemble</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/zachmayer/caretEnsemble/issues">https://github.com/zachmayer/caretEnsemble/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for creating ensembles of caret models: caretList()
    and caretStack().  caretList() is a convenience function for fitting multiple
    caret::train() models to the same dataset. caretStack() will make linear or
    non-linear combinations of these models, using a caret::train() model as a
    meta-model, and caretEnsemble() will make a robust linear combination of
    models using a GLM.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>caTools, testthat, lintr, randomForest, glmnet, rpart,
kernlab, nnet, e1071, ipred, pROC, knitr, mlbench, MASS, gbm,
klaR, rmarkdown, usethis, sass</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, pbapply, ggplot2, digest, plyr, lattice, gridExtra,
data.table, caret</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-20 12:15:27 UTC; zach2</td>
</tr>
<tr>
<td>Author:</td>
<td>Zachary A. Deane-Mayer [aut, cre],
  Jared E. Knowles [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zachary A. Deane-Mayer &lt;zach.mayer@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-20 13:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='caretEnsemble'>caretEnsemble: Make ensembles of caret models.</h2><span id='topic+caretEnsemble'></span><span id='topic+caretEnsemble-package'></span>

<h3>Description</h3>

<p>Functions for creating ensembles of caret models: caretList and caretStack
</p>
<p>Find a good linear combination of several classification or regression models,
using linear regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caretEnsemble(all.models, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caretEnsemble_+3A_all.models">all.models</code></td>
<td>
<p>an object of class caretList</p>
</td></tr>
<tr><td><code id="caretEnsemble_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to the optimization function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Every model in the &quot;library&quot; must be a separate <code>train</code> object.  For
example, if you wish to combine a random forests with several different
values of mtry, you must build a model for each value of mtry.  If you
use several values of mtry in one train model, (e.g. tuneGrid =
expand.grid(.mtry=2:5)), caret will select the best value of mtry
before we get a chance to include it in the ensemble.  By default,
RMSE is used to ensemble regression models, and AUC is used to ensemble
Classification models.  This function does not currently support multi-class
problems
</p>


<h3>Value</h3>

<p>a <code><a href="#topic+caretEnsemble">caretEnsemble</a></code> object
</p>


<h3>Note</h3>

<p>Currently when missing values are present in the training data, weights
are calculated using only observations which are complete across all models
in the library.The optimizer ignores missing values and calculates the weights with the
observations and predictions available for each model separately. If each of the
models has a different pattern of missingness in the predictors, then the resulting
ensemble weights may be biased and the function issues a message.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(42)
models &lt;- caretList(iris[1:50,1:2], iris[1:50,3], methodList=c("glm", "lm"))
ens &lt;- caretEnsemble(models)
summary(ens)

## End(Not run)
</code></pre>

<hr>
<h2 id='+5B.caretList'>Index a caretList</h2><span id='topic++5B.caretList'></span>

<h3>Description</h3>

<p>Index a caret list to extract caret models into a new caretList object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretList'
object[index]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B.caretList_+3A_object">object</code></td>
<td>
<p>an object of class caretList</p>
</td></tr>
<tr><td><code id="+2B5B.caretList_+3A_index">index</code></td>
<td>
<p>selected index</p>
</td></tr>
</table>

<hr>
<h2 id='as.caretList'>Convert object to caretList object</h2><span id='topic+as.caretList'></span>

<h3>Description</h3>

<p>Converts object into a caretList
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.caretList(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.caretList_+3A_object">object</code></td>
<td>
<p>R Object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+caretList">caretList</a></code> object
</p>

<hr>
<h2 id='as.caretList.default'>Convert object to caretList object - For Future Use</h2><span id='topic+as.caretList.default'></span>

<h3>Description</h3>

<p>Converts object into a caretList  - For Future Use
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
as.caretList(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.caretList.default_+3A_object">object</code></td>
<td>
<p>R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NA
</p>

<hr>
<h2 id='as.caretList.list'>Convert list to caretList</h2><span id='topic+as.caretList.list'></span>

<h3>Description</h3>

<p>Converts list to caretList
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
as.caretList(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.caretList.list_+3A_object">object</code></td>
<td>
<p>list of caret models</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+caretList">caretList</a></code> object
</p>

<hr>
<h2 id='autoplot'>Convenience function for more in-depth diagnostic plots of caretEnsemble objects</h2><span id='topic+autoplot'></span>

<h3>Description</h3>

<p>This function provides a more robust series of diagnostic plots
for a caretEnsemble object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>autoplot(object, which = c(1:6), mfrow = c(3, 2), xvars = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot_+3A_object">object</code></td>
<td>
<p>a <code>caretEnsemble</code> object</p>
</td></tr>
<tr><td><code id="autoplot_+3A_which">which</code></td>
<td>
<p>an integer index for which of the plots to print.  DOES NOTHING.</p>
</td></tr>
<tr><td><code id="autoplot_+3A_mfrow">mfrow</code></td>
<td>
<p>an integer vector of length 2 specifying the number of rows and columns for plots</p>
</td></tr>
<tr><td><code id="autoplot_+3A_xvars">xvars</code></td>
<td>
<p>a vector of the names of x variables to plot against residuals</p>
</td></tr>
<tr><td><code id="autoplot_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to autoplot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid of diagnostic plots. Top left is the range of the performance
metric across each component model along with its standard deviation. Top right
is the residuals from the ensembled model plotted against fitted values.
Middle left is a bar graph of the weights of the component models. Middle
right is the disagreement in the residuals of the component models (unweighted)
across the fitted values. Bottom left and bottom right are the plots of the
residuals against two random or user specified variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(42)
models &lt;- caretList(
 iris[1:50,1:2],
 iris[1:50,3],
 trControl=trainControl(method="cv"),
 methodList=c("glm", "rpart"))
ens &lt;- caretEnsemble(models)
autoplot(ens)

## End(Not run)
</code></pre>

<hr>
<h2 id='bestPreds'>Extract the best predictions from a train object</h2><span id='topic+bestPreds'></span>

<h3>Description</h3>

<p>Extract predictions for the best tune from a model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bestPreds(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bestPreds_+3A_x">x</code></td>
<td>
<p>a train object</p>
</td></tr>
</table>

<hr>
<h2 id='c.caretList'>S3 definition for concatenating caretList</h2><span id='topic+c.caretList'></span>

<h3>Description</h3>

<p>take N objects of class caretList and concatenate them into a larger object of
class caretList for future ensembling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretList'
c(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c.caretList_+3A_...">...</code></td>
<td>
<p>the objects of class caretList or train to bind into a caretList</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+caretList">caretList</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 model_list1 &lt;- caretList(Class ~ .,
  data=Sonar, trControl = ctrl1,
  tuneList = list(
                 glm=caretModelSpec(method='glm', family='binomial'),
                 rpart=caretModelSpec(method='rpart')
                 ),
   metric='ROC')

model_list2 &lt;- caretList(Class ~ .,
                         data=Sonar,
                         trControl = ctrl1,
                         tuneList = list(
                           glm=caretModelSpec(method='rpart'),
                           rpart=caretModelSpec(method='rf')
                         ),
                         metric='ROC')

 bigList &lt;- c(model_list1, model_list2)

## End(Not run)

</code></pre>

<hr>
<h2 id='c.train'>S3 definition for concatenating train objects</h2><span id='topic+c.train'></span>

<h3>Description</h3>

<p>take N objects of class train and concatenate into an object of class caretList for future ensembling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'train'
c(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c.train_+3A_...">...</code></td>
<td>
<p>the objects of class train to bind into a caretList</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+caretList">caretList</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rpartTrain &lt;- train(Class ~ .,
                    data=Sonar,
                    trControl = ctrl1,
                    method='rpart')

rfTrain &lt;- train(Class ~ .,
                 data=Sonar,
                 trControl = ctrl1,
                 method='rf')

 bigList &lt;- c(model_list1, model_list2)

## End(Not run)

</code></pre>

<hr>
<h2 id='caretList'>Create a list of several train models from the caret package
Build a list of train objects suitable for ensembling using the <code><a href="#topic+caretEnsemble">caretEnsemble</a></code>
function.</h2><span id='topic+caretList'></span>

<h3>Description</h3>

<p>Create a list of several train models from the caret package
Build a list of train objects suitable for ensembling using the <code><a href="#topic+caretEnsemble">caretEnsemble</a></code>
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caretList(
  ...,
  trControl = NULL,
  methodList = NULL,
  tuneList = NULL,
  continue_on_fail = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caretList_+3A_...">...</code></td>
<td>
<p>arguments to pass to <code><a href="caret.html#topic+train">train</a></code>.  These arguments will determine which train method gets dispatched.</p>
</td></tr>
<tr><td><code id="caretList_+3A_trcontrol">trControl</code></td>
<td>
<p>a <code><a href="caret.html#topic+trainControl">trainControl</a></code> object.  We are going to intercept this object check that it has the &quot;index&quot; slot defined, and define the indexes if they are not.</p>
</td></tr>
<tr><td><code id="caretList_+3A_methodlist">methodList</code></td>
<td>
<p>optional, a character vector of caret models to ensemble.  One of methodList or tuneList must be specified.</p>
</td></tr>
<tr><td><code id="caretList_+3A_tunelist">tuneList</code></td>
<td>
<p>optional, a NAMED list of caretModelSpec objects. This much more flexible than methodList and allows the specification of model-specific parameters (e.g. passing trace=FALSE to nnet)</p>
</td></tr>
<tr><td><code id="caretList_+3A_continue_on_fail">continue_on_fail</code></td>
<td>
<p>logical, should a valid caretList be returned that excludes models that fail, default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="caret.html#topic+train">train</a></code> objects. If the model fails to build,
it is dropped from the list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
myControl &lt;- trainControl(method="cv", number=5)
caretList(
  Sepal.Length ~ Sepal.Width,
  head(iris, 50),
  methodList=c("glm", "lm"),
  trControl=myControl
  )
caretList(
  Sepal.Length ~ Sepal.Width,
  head(iris, 50), methodList=c("lm"),
  tuneList=list(
    nnet=caretModelSpec(method="nnet", trace=FALSE, tuneLength=1)
 ),
  trControl=myControl
  )
  
## End(Not run)
</code></pre>

<hr>
<h2 id='caretModelSpec'>Generate a specification for fitting a caret model</h2><span id='topic+caretModelSpec'></span>

<h3>Description</h3>

<p>A caret model specification consists of 2 parts: a model (as a string) and the arguments to the train call for fitting that model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caretModelSpec(method = "rf", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caretModelSpec_+3A_method">method</code></td>
<td>
<p>the modeling method to pass to caret::train</p>
</td></tr>
<tr><td><code id="caretModelSpec_+3A_...">...</code></td>
<td>
<p>Other arguments that will eventually be passed to caret::train</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of lists
</p>


<h3>Examples</h3>

<pre><code class='language-R'>caretModelSpec("rf", tuneLength=5, preProcess="ica")
</code></pre>

<hr>
<h2 id='caretStack'>Combine several predictive models via stacking</h2><span id='topic+caretStack'></span>

<h3>Description</h3>

<p>Find a good linear combination of several classification or regression models,
using either linear regression, elastic net regression, or greedy optimization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caretStack(all.models, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caretStack_+3A_all.models">all.models</code></td>
<td>
<p>a list of caret models to ensemble.</p>
</td></tr>
<tr><td><code id="caretStack_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to the optimization function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Check the models, and make a matrix of obs and preds
</p>


<h3>Value</h3>

<p>S3 caretStack object
</p>


<h3>References</h3>

<p><a href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.60.2859&amp;rep=rep1&amp;type=pdf">https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.60.2859&amp;rep=rep1&amp;type=pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("rpart")
models &lt;- caretList(
  x=iris[1:50,1:2],
  y=iris[1:50,3],
  trControl=trainControl(method="cv"),
  methodList=c("rpart", "glm")
)
caretStack(models, method="glm")

## End(Not run)
</code></pre>

<hr>
<h2 id='check_bestpreds_indexes'>Check row indexes</h2><span id='topic+check_bestpreds_indexes'></span>

<h3>Description</h3>

<p>Check that the row indexes from a caretList are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_bestpreds_indexes(modelLibrary)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_bestpreds_indexes_+3A_modellibrary">modelLibrary</code></td>
<td>
<p>a list of predictions from caret models</p>
</td></tr>
</table>

<hr>
<h2 id='check_bestpreds_obs'>Check observeds</h2><span id='topic+check_bestpreds_obs'></span>

<h3>Description</h3>

<p>Check that a list of observed values from a caretList are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_bestpreds_obs(modelLibrary)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_bestpreds_obs_+3A_modellibrary">modelLibrary</code></td>
<td>
<p>a list of predictions from caret models</p>
</td></tr>
</table>

<hr>
<h2 id='check_bestpreds_preds'>Check predictions</h2><span id='topic+check_bestpreds_preds'></span>

<h3>Description</h3>

<p>Check that a list of predictions from a caretList are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_bestpreds_preds(modelLibrary)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_bestpreds_preds_+3A_modellibrary">modelLibrary</code></td>
<td>
<p>a list of predictions from caret models</p>
</td></tr>
</table>

<hr>
<h2 id='check_bestpreds_resamples'>Check resamples</h2><span id='topic+check_bestpreds_resamples'></span>

<h3>Description</h3>

<p>Check that the resamples from a caretList are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_bestpreds_resamples(modelLibrary)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_bestpreds_resamples_+3A_modellibrary">modelLibrary</code></td>
<td>
<p>a list of predictions from caret models</p>
</td></tr>
</table>

<hr>
<h2 id='check_caretList_classes'>Checks caretList model classes</h2><span id='topic+check_caretList_classes'></span>

<h3>Description</h3>

<p>This function checks caretList classes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_caretList_classes(list_of_models)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_caretList_classes_+3A_list_of_models">list_of_models</code></td>
<td>
<p>a list of caret models to check</p>
</td></tr>
</table>

<hr>
<h2 id='check_caretList_model_types'>Checks that caretList models are all of the same type.</h2><span id='topic+check_caretList_model_types'></span>

<h3>Description</h3>

<p>Validate a caretList
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_caretList_model_types(list_of_models)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_caretList_model_types_+3A_list_of_models">list_of_models</code></td>
<td>
<p>a list of caret models to check</p>
</td></tr>
</table>

<hr>
<h2 id='dotplot.caretStack'>Comparison dotplot for a caretStack object</h2><span id='topic+dotplot.caretStack'></span>

<h3>Description</h3>

<p>This is a function to make a dotplot from a caretStack.  It uses dotplot from the caret package on all the models in the ensemble, excluding the final ensemble model.  At the moment, this function only works if the ensembling model has the same number of resamples as the component models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretStack'
dotplot(x, data = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dotplot.caretStack_+3A_x">x</code></td>
<td>
<p>An object of class caretStack</p>
</td></tr>
<tr><td><code id="dotplot.caretStack_+3A_data">data</code></td>
<td>
<p>passed to dotplot</p>
</td></tr>
<tr><td><code id="dotplot.caretStack_+3A_...">...</code></td>
<td>
<p>passed to dotplot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(42)
library("rpart")
models &lt;- caretList(
  x=iris[1:100,1:2],
  y=iris[1:100,3],
  trControl=trainControl(method="cv"),
  methodList=c("rpart", "glm")
)
meta_model &lt;- caretStack(models, method="lm", trControl=trainControl(method="cv"))
dotplot.caretStack(meta_model)

## End(Not run)
</code></pre>

<hr>
<h2 id='extractBestPreds'>Extract the best predictions from a list of train objects</h2><span id='topic+extractBestPreds'></span>

<h3>Description</h3>

<p>Extract predictions for the best tune from a list of caret models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractBestPreds(list_of_models)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractBestPreds_+3A_list_of_models">list_of_models</code></td>
<td>
<p>an object of class caretList or a list of caret models</p>
</td></tr>
</table>

<hr>
<h2 id='extractCaretTarget'>Extracts the target variable from a set of arguments headed to the caret::train function.</h2><span id='topic+extractCaretTarget'></span>

<h3>Description</h3>

<p>This function extracts the y variable from a set of arguments headed to a caret::train model.  Since there are 2 methods to call caret::train, this function also has 2 methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractCaretTarget(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractCaretTarget_+3A_...">...</code></td>
<td>
<p>a set of arguments, as in the caret::train function</p>
</td></tr>
</table>

<hr>
<h2 id='extractCaretTarget.default'>Extracts the target variable from a set of arguments headed to the caret::train.default function.</h2><span id='topic+extractCaretTarget.default'></span>

<h3>Description</h3>

<p>This function extracts the y variable from a set of arguments headed to a caret::train.default model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
extractCaretTarget(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractCaretTarget.default_+3A_x">x</code></td>
<td>
<p>an object where samples are in rows and features are in columns. This could be a simple matrix, data frame or other type (e.g. sparse matrix). See Details below.</p>
</td></tr>
<tr><td><code id="extractCaretTarget.default_+3A_y">y</code></td>
<td>
<p>a numeric or factor vector containing the outcome for each sample.</p>
</td></tr>
<tr><td><code id="extractCaretTarget.default_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='extractCaretTarget.formula'>Extracts the target variable from a set of arguments headed to the caret::train.formula function.</h2><span id='topic+extractCaretTarget.formula'></span>

<h3>Description</h3>

<p>This function extracts the y variable from a set of arguments headed to a caret::train.formula model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'formula'
extractCaretTarget(form, data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractCaretTarget.formula_+3A_form">form</code></td>
<td>
<p>A formula of the form y ~ x1 + x2 + ...</p>
</td></tr>
<tr><td><code id="extractCaretTarget.formula_+3A_data">data</code></td>
<td>
<p>Data frame from which variables specified in formula are preferentially to be taken.</p>
</td></tr>
<tr><td><code id="extractCaretTarget.formula_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='extractModelName'>Extract the method name associated with a single train object</h2><span id='topic+extractModelName'></span>

<h3>Description</h3>

<p>Extracts the method name associated with a single train object.  Note
that for standard models (i.e. those already prespecified by caret), the
&quot;method&quot; attribute on the train object is used directly while for custom
models the &quot;method&quot; attribute within the model$modelInfo attribute is
used instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModelName(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModelName_+3A_x">x</code></td>
<td>
<p>a single caret train object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name associated with model
</p>

<hr>
<h2 id='extractModelTypes'>Extracts the model types from a list of train model</h2><span id='topic+extractModelTypes'></span>

<h3>Description</h3>

<p>Extracts the model types from a list of train model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModelTypes(list_of_models)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModelTypes_+3A_list_of_models">list_of_models</code></td>
<td>
<p>an object of class caretList</p>
</td></tr>
</table>

<hr>
<h2 id='extractModFrame'>Extract a dataframe of all predictors used in a caretEnsemble object.</h2><span id='topic+extractModFrame'></span>

<h3>Description</h3>

<p>This function constructs a dataframe consisting of the outcome
and all of the predictors used in any of the models ensembled in a <code>caretEnsemble</code>
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModFrame(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModFrame_+3A_model">model</code></td>
<td>
<p>a <code>caretEnsemble</code> to extract predictors from</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame combining all of the variables used across all models.
</p>

<hr>
<h2 id='extractModRes'>Extract the model accuracy metrics of the individual models in an ensemble object.</h2><span id='topic+extractModRes'></span>

<h3>Description</h3>

<p>Extract the model accuracy metrics of the individual models in an ensemble object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractModRes(ensemble)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractModRes_+3A_ensemble">ensemble</code></td>
<td>
<p>a caretEnsemble to make predictions from.</p>
</td></tr>
</table>

<hr>
<h2 id='fortify'>Supplement the data fitted to a caret ensemble model with model fit statistics</h2><span id='topic+fortify'></span>

<h3>Description</h3>

<p>This function constructs a dataframe consisting of the outcome,
all of the predictors used in any of the models ensembled in a <code>caretEnsemble</code>
object, and some model fit statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fortify(model, data = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fortify_+3A_model">model</code></td>
<td>
<p>a <code>caretEnsemble</code> to extract predictors from</p>
</td></tr>
<tr><td><code id="fortify_+3A_data">data</code></td>
<td>
<p>a data set, defaults to the data used to fit the model</p>
</td></tr>
<tr><td><code id="fortify_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to fortify</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The original data with extra columns for fitted values and residuals
</p>

<hr>
<h2 id='getBinaryTargetLevel'>Return the configured target binary class level</h2><span id='topic+getBinaryTargetLevel'></span>

<h3>Description</h3>

<p>For binary classification problems, ensemble
stacks and certain performance measures require an awareness
of which class in a two-factor outcome is the &quot;target&quot; class.
By default, this class will be assumed to be the first level in
an outcome factor but that setting can be overridden using
<code>setBinaryTargetLevel(2L)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBinaryTargetLevel()
</code></pre>


<h3>Value</h3>

<p>Currently configured binary target level (as integer equal to 1 or 2)
</p>


<h3>See Also</h3>

<p>setBinaryTargetLevel
</p>

<hr>
<h2 id='getMetric'>Extract accuracy metrics from a model</h2><span id='topic+getMetric'></span><span id='topic+getMetricSD'></span><span id='topic+getMetric.train'></span><span id='topic+getMetricSD.train'></span>

<h3>Description</h3>

<p>Extract accuracy metrics from a model
</p>
<p>Extract accuracy metrics SDs from a model
</p>
<p>Extract a model accuracy metric from a <code><a href="caret.html#topic+train">train</a></code> object.
</p>
<p>Extract the standard deviation from resamples for an accuracy metric from a model object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMetric(x, metric, ...)

getMetricSD(x, metric, ...)

## S3 method for class 'train'
getMetric(x, metric = NULL, ...)

## S3 method for class 'train'
getMetricSD(x, metric, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMetric_+3A_x">x</code></td>
<td>
<p>a train object</p>
</td></tr>
<tr><td><code id="getMetric_+3A_metric">metric</code></td>
<td>
<p>which metric to get</p>
</td></tr>
<tr><td><code id="getMetric_+3A_...">...</code></td>
<td>
<p>passed through</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric representing the metric desired metric.
</p>

<hr>
<h2 id='is.caretEnsemble'>Check if an object is a caretEnsemble object</h2><span id='topic+is.caretEnsemble'></span>

<h3>Description</h3>

<p>Check if an object is a caretEnsemble object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.caretEnsemble(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.caretEnsemble_+3A_object">object</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.caretList'>Check if an object is a caretList object</h2><span id='topic+is.caretList'></span>

<h3>Description</h3>

<p>Check if an object is a caretList object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.caretList(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.caretList_+3A_object">object</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.caretStack'>Check if an object is a caretStack object</h2><span id='topic+is.caretStack'></span>

<h3>Description</h3>

<p>Check if an object is a caretStack object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.caretStack(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.caretStack_+3A_object">object</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='makePredObsMatrix'>Make a prediction matrix from a list of models</h2><span id='topic+makePredObsMatrix'></span>

<h3>Description</h3>

<p>Extract obs from one models, and a matrix of predictions from all other models, a
helper function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makePredObsMatrix(list_of_models)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makePredObsMatrix_+3A_list_of_models">list_of_models</code></td>
<td>
<p>an object of class caretList</p>
</td></tr>
</table>

<hr>
<h2 id='methodCheck'>Check that the methods supplied by the user are valid caret methods</h2><span id='topic+methodCheck'></span>

<h3>Description</h3>

<p>This function uses modelLookup from caret to ensure the list of methods supplied by the user are all models caret can fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>methodCheck(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="methodCheck_+3A_x">x</code></td>
<td>
<p>a list of user-supplied tuning parameters and methods</p>
</td></tr>
</table>

<hr>
<h2 id='models.class'>caretList of classification models</h2><span id='topic+models.class'></span><span id='topic+models.reg'></span><span id='topic+X.class'></span><span id='topic+Y.class'></span><span id='topic+X.reg'></span><span id='topic+Y.reg'></span>

<h3>Description</h3>

<p>Data for the caretEnsemble package
</p>


<h3>Author(s)</h3>

<p>Zachary Deane-Mayer <a href="mailto:zach.mayer@gmail.com">zach.mayer@gmail.com</a>
</p>

<hr>
<h2 id='multiResiduals'>Calculate the residuals from all component models of a caretEnsemble.</h2><span id='topic+multiResiduals'></span>

<h3>Description</h3>

<p>This function calculates raw residuals for both regression and
classification <code>train</code> objects within a <code><a href="#topic+caretEnsemble">caretEnsemble</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiResiduals(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiResiduals_+3A_object">object</code></td>
<td>
<p>a <code>caretEnsemble</code> to make predictions from.</p>
</td></tr>
<tr><td><code id="multiResiduals_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to residuals</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame in the long format with columns for the model method,
the observation id, yhat for the fitted values, resid for the residuals, and
y for the observed value.
</p>

<hr>
<h2 id='plot.caretEnsemble'>Plot Diagnostics for an caretEnsemble Object</h2><span id='topic+plot.caretEnsemble'></span>

<h3>Description</h3>

<p>This function makes a short plot of the performance of the component
models of a <code>caretEnsemble</code> object on the AUC or RMSE metric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretEnsemble'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.caretEnsemble_+3A_x">x</code></td>
<td>
<p>a <code>caretEnsemble</code> object</p>
</td></tr>
<tr><td><code id="plot.caretEnsemble_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(42)
models &lt;- caretList(iris[1:50,1:2], iris[1:50,3], methodList=c("glm", "rpart"))
ens &lt;- caretEnsemble(models)
plot(ens)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.caretStack'>Plot a caretStack object</h2><span id='topic+plot.caretStack'></span>

<h3>Description</h3>

<p>This is a function to plot a caretStack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretStack'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.caretStack_+3A_x">x</code></td>
<td>
<p>An object of class caretStack</p>
</td></tr>
<tr><td><code id="plot.caretStack_+3A_...">...</code></td>
<td>
<p>passed to plot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("rpart")
models &lt;- caretList(
  x=iris[1:100,1:2],
  y=iris[1:100,3],
  trControl=trainControl(method="cv"),
  methodList=c("rpart", "glm")
)
meta_model &lt;- caretStack(models, method="rpart", tuneLength=2)
plot(meta_model)

## End(Not run)
</code></pre>

<hr>
<h2 id='predict.caretList'>Create a matrix of predictions for each of the models in a caretList</h2><span id='topic+predict.caretList'></span>

<h3>Description</h3>

<p>Make a matrix of predictions from a list of caret models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretList'
predict(object, newdata = NULL, ..., verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.caretList_+3A_object">object</code></td>
<td>
<p>an object of class caretList</p>
</td></tr>
<tr><td><code id="predict.caretList_+3A_newdata">newdata</code></td>
<td>
<p>New data for predictions.  It can be NULL, but this is ill-advised.</p>
</td></tr>
<tr><td><code id="predict.caretList_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to predict.train. Pass the <code>newdata</code>
argument here, DO NOT PASS the &quot;type&quot; argument.  Classification models will
return probabilities if possible, and regression models will return &quot;raw&quot;.</p>
</td></tr>
<tr><td><code id="predict.caretList_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If FALSE no progress bar is printed if TRUE a progress
bar is shown. Default FALSE.</p>
</td></tr>
</table>

<hr>
<h2 id='predict.caretStack'>Make predictions from a caretStack</h2><span id='topic+predict.caretStack'></span>

<h3>Description</h3>

<p>Make predictions from a caretStack. This function passes the data to each function in
turn to make a matrix of predictions, and then multiplies that matrix by the vector of
weights to get a single, combined vector of predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretStack'
predict(
  object,
  newdata = NULL,
  se = FALSE,
  level = 0.95,
  return_weights = FALSE,
  na.action = na.omit,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.caretStack_+3A_object">object</code></td>
<td>
<p>a  <code><a href="#topic+caretStack">caretStack</a></code> to make predictions from.</p>
</td></tr>
<tr><td><code id="predict.caretStack_+3A_newdata">newdata</code></td>
<td>
<p>a new dataframe to make predictions on</p>
</td></tr>
<tr><td><code id="predict.caretStack_+3A_se">se</code></td>
<td>
<p>logical, should prediction errors be produced? Default is false.</p>
</td></tr>
<tr><td><code id="predict.caretStack_+3A_level">level</code></td>
<td>
<p>tolerance/confidence level</p>
</td></tr>
<tr><td><code id="predict.caretStack_+3A_return_weights">return_weights</code></td>
<td>
<p>a logical indicating whether prediction weights for each model
should be returned</p>
</td></tr>
<tr><td><code id="predict.caretStack_+3A_na.action">na.action</code></td>
<td>
<p>the method for handling missing data passed to <code><a href="caret.html#topic+predict.train">predict.train</a></code>.</p>
</td></tr>
<tr><td><code id="predict.caretStack_+3A_...">...</code></td>
<td>
<p>arguments to pass to <code><a href="caret.html#topic+predict.train">predict.train</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prediction weights are defined as variable importance in the stacked
caret model. This is not available for all cases such as where the library
model predictions are transformed before being passed to the stacking model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("rpart")
models &lt;- caretList(
  x=iris[1:100,1:2],
  y=iris[1:100,3],
  trControl=trainControl(method="cv"),
  methodList=c("rpart", "glm")
)
meta_model &lt;- caretStack(models, method="lm")
RMSE(predict(meta_model, iris[101:150,1:2]), iris[101:150,3])

## End(Not run)
</code></pre>

<hr>
<h2 id='print.caretStack'>Print a caretStack object</h2><span id='topic+print.caretStack'></span>

<h3>Description</h3>

<p>This is a function to print a caretStack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretStack'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.caretStack_+3A_x">x</code></td>
<td>
<p>An object of class caretStack</p>
</td></tr>
<tr><td><code id="print.caretStack_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("rpart")
models &lt;- caretList(
  x=iris[1:100,1:2],
  y=iris[1:100,3],
  trControl=trainControl(method="cv"),
  methodList=c("rpart", "glm")
)
meta_model &lt;- caretStack(models, method="lm")
print(meta_model)

## End(Not run)
</code></pre>

<hr>
<h2 id='residuals.caretEnsemble'>Calculate the residuals from a caretEnsemble.</h2><span id='topic+residuals.caretEnsemble'></span>

<h3>Description</h3>

<p>This function calculates raw residuals for both regression and
classification <code>caretEnsemble</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretEnsemble'
residuals(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="residuals.caretEnsemble_+3A_object">object</code></td>
<td>
<p>a <code>caretEnsemble</code> to make predictions from.</p>
</td></tr>
<tr><td><code id="residuals.caretEnsemble_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to residuals</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric of the residuals.
</p>

<hr>
<h2 id='setBinaryTargetLevel'>Set the target binary class level</h2><span id='topic+setBinaryTargetLevel'></span>

<h3>Description</h3>

<p>For binary classification problems, ensemble
stacks and certain performance measures require an awareness
of which class in a two-factor outcome is the &quot;target&quot; class.
By default, the first level in an outcome factor is used but
this value can be overridden using <code>setBinaryTargetLevel(2L)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setBinaryTargetLevel(level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setBinaryTargetLevel_+3A_level">level</code></td>
<td>
<p>an integer in {1, 2} to be used as target outcome level</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>getBinaryTargetLevel
</p>

<hr>
<h2 id='summary.caretEnsemble'>Summarize the results of caretEnsemble for the user.</h2><span id='topic+summary.caretEnsemble'></span>

<h3>Description</h3>

<p>Summarize a caretEnsemble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretEnsemble'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.caretEnsemble_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+caretEnsemble">caretEnsemble</a></code> to make predictions from.</p>
</td></tr>
<tr><td><code id="summary.caretEnsemble_+3A_...">...</code></td>
<td>
<p>optional additional parameters.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(42)
models &lt;- caretList(iris[1:50,1:2], iris[1:50,3], methodList=c("glm", "lm"))
ens &lt;- caretEnsemble(models)
summary(ens)

## End(Not run)
</code></pre>

<hr>
<h2 id='summary.caretStack'>Summarize a caretStack object</h2><span id='topic+summary.caretStack'></span>

<h3>Description</h3>

<p>This is a function to summarize a caretStack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretStack'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.caretStack_+3A_object">object</code></td>
<td>
<p>An object of class caretStack</p>
</td></tr>
<tr><td><code id="summary.caretStack_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("rpart")
models &lt;- caretList(
  x=iris[1:100,1:2],
  y=iris[1:100,3],
  trControl=trainControl(method="cv"),
  methodList=c("rpart", "glm")
)
meta_model &lt;- caretStack(models, method="lm")
summary(meta_model)

## End(Not run)
</code></pre>

<hr>
<h2 id='trControlCheck'>Check that the trainControl object supplied by the user is valid and has defined re-sampling indexes.</h2><span id='topic+trControlCheck'></span>

<h3>Description</h3>

<p>This function checks the user-supplied trainControl object and makes sure it has all the required fields.  If the resampling indexes are missing, it adds them to the model.  If savePredictions=FALSE or &quot;none&quot;, this function sets it to &quot;final&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trControlCheck(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trControlCheck_+3A_x">x</code></td>
<td>
<p>a trainControl object.</p>
</td></tr>
<tr><td><code id="trControlCheck_+3A_y">y</code></td>
<td>
<p>the target for the model.  Used to determine resampling indexes.</p>
</td></tr>
</table>

<hr>
<h2 id='tuneCheck'>Check that the tuning parameters list supplied by the user is valid</h2><span id='topic+tuneCheck'></span>

<h3>Description</h3>

<p>This function makes sure the tuning parameters passed by the user are valid and have the proper naming, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneCheck(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneCheck_+3A_x">x</code></td>
<td>
<p>a list of user-supplied tuning parameters and methods</p>
</td></tr>
</table>

<hr>
<h2 id='validateBinaryTargetLevel'>Validate arguments given as binary target level</h2><span id='topic+validateBinaryTargetLevel'></span>

<h3>Description</h3>

<p>Helper function used to ensure that target
binary class levels given by clients can be coerced to an integer
and that the resulting integer is in {1, 2}.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validateBinaryTargetLevel(arg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validateBinaryTargetLevel_+3A_arg">arg</code></td>
<td>
<p>argument to potentially be used as new target level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Binary target level (as integer equal to 1 or 2)
</p>

<hr>
<h2 id='validateCustomModel'>Validate a custom caret model info list</h2><span id='topic+validateCustomModel'></span>

<h3>Description</h3>

<p>Currently, this only ensures that all model info lists
were also assigned a &quot;method&quot; attribute for consistency with usage
of non-custom models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validateCustomModel(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validateCustomModel_+3A_x">x</code></td>
<td>
<p>a model info list (e.g. <code>getModelInfo("rf", regex=F)\[[1]]</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>validated model info list (i.e. x)
</p>

<hr>
<h2 id='varImp.caretEnsemble'>Calculate the variable importance of variables in a caretEnsemble.</h2><span id='topic+varImp.caretEnsemble'></span>

<h3>Description</h3>

<p>This function wraps the <code><a href="caret.html#topic+varImp">varImp</a></code> function in the
<code>caret</code> package to provide a weighted estimate of the importance of
variables in the ensembled models in a <code>caretEnsemble</code> object. Variable
importance for each model is calculated and then averaged by the weight of the overall model
in the ensembled object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caretEnsemble'
varImp(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="varImp.caretEnsemble_+3A_object">object</code></td>
<td>
<p>a <code>caretEnsemble</code> to make predictions from.</p>
</td></tr>
<tr><td><code id="varImp.caretEnsemble_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to varImp</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with one row per variable and one column
per model in object
</p>

<hr>
<h2 id='wtd.sd'>Calculate a weighted standard deviation</h2><span id='topic+wtd.sd'></span>

<h3>Description</h3>

<p>Used to weight deviations among ensembled model predictions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wtd.sd(x, w = NULL, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wtd.sd_+3A_x">x</code></td>
<td>
<p>a vector of numerics</p>
</td></tr>
<tr><td><code id="wtd.sd_+3A_w">w</code></td>
<td>
<p>a vector of weights equal to length of x</p>
</td></tr>
<tr><td><code id="wtd.sd_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating how to handle missing values, default = FALSE</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

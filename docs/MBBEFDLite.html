<!DOCTYPE html><html><head><title>Help for package MBBEFDLite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MBBEFDLite}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#MBBEFDLite-package'>
<p>Statistical Functions for the Maxwell-Boltzmann-Bose-Einstein-Fermi-Dirac</p>
(MBBEFD) Family of Distributions</a></li>
<li><a href='#dmb'><p>The MBBEFD Distribution</p></a></li>
<li><a href='#ecmb'><p>Exposure Curve for the MBBEFD Distribution</p></a></li>
<li><a href='#MBBEFDLite-internal'><p>Internal MBBEFDLite functions</p></a></li>
<li><a href='#mommb'>
<p>Method of Moments Parameter Estimation for the MBBEFD distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Statistical Functions for the
Maxwell-Boltzmann-Bose-Einstein-Fermi-Dirac (MBBEFD) Family of
Distributions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides probability mass, distribution, quantile, random variate
    generation, and method-of-moments parameter fitting for the MBBEFD family of
    distributions used in insurance modeling as described in Bernegger (1997)
    &lt;<a href="https://doi.org/10.2143%2FAST.27.1.563208">doi:10.2143/AST.27.1.563208</a>&gt; without any external dependencies.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.mozilla.org/en-US/MPL/2.0/">MPL-2.0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tinytest, covr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/aadler/MBBEFDLite">https://github.com/aadler/MBBEFDLite</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/aadler/MBBEFDLite/issues">https://github.com/aadler/MBBEFDLite/issues</a></td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>UseLTO:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-20 16:46:58 UTC; Parents</td>
</tr>
<tr>
<td>Author:</td>
<td>Avraham Adler <a href="https://orcid.org/0000-0002-3039-0703"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Avraham Adler &lt;Avraham.Adler@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-20 18:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='MBBEFDLite-package'>
Statistical Functions for the Maxwell-Boltzmann-Bose-Einstein-Fermi-Dirac
(MBBEFD) Family of Distributions
</h2><span id='topic+MBBEFDLite-package'></span>

<h3>Description</h3>

<p>Provides probability mass, distribution, quantile, random variate
    generation, and method-of-moments parameter fitting for the MBBEFD family of
    distributions used in insurance modeling as described in Bernegger (1997)
    &lt;doi:10.2143/AST.27.1.563208&gt; without any external dependencies.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> MBBEFDLite</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Statistical Functions for the
Maxwell-Boltzmann-Bose-Einstein-Fermi-Dirac (MBBEFD) Family of
Distributions</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.0.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> person(given="Avraham", family="Adler",role=c("aut", "cre", "cph"),
    email="Avraham.Adler@gmail.com", comment = c(ORCID = "0000-0002-3039-0703"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Provides probability mass, distribution, quantile, random variate
    generation, and method-of-moments parameter fitting for the MBBEFD family of
    distributions used in insurance modeling as described in Bernegger (1997)
    &lt;doi:10.2143/AST.27.1.563208&gt; without any external dependencies.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> MPL-2.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> stats</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> tinytest, covr</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/aadler/MBBEFDLite</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/aadler/MBBEFDLite/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
ByteCompile: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
NeedsCompilation: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
UseLTO: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Avraham Adler [aut, cre, cph] (&lt;https://orcid.org/0000-0002-3039-0703&gt;)</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Avraham Adler &lt;Avraham.Adler@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Archs: </td><td style="text-align: left;"> x64</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
MBBEFDLite-package      Statistical Functions for the
                        Maxwell-Boltzmann-Bose-Einstein-Fermi-Dirac
                        (MBBEFD) Family of Distributions
dmb                     The MBBEFD Distribution
ecmb                    Exposure Curve for the MBBEFD Distribution
mommb                   Method of Moments Parameter Estimation for the
                        MBBEFD distribution
</pre>


<h3>Author(s)</h3>

<p>Avraham Adler [aut, cre, cph] (&lt;https://orcid.org/0000-0002-3039-0703&gt;)
</p>
<p>Maintainer: Avraham Adler &lt;Avraham.Adler@gmail.com&gt;
</p>

<hr>
<h2 id='dmb'>The MBBEFD Distribution</h2><span id='topic+dmb'></span><span id='topic+pmb'></span><span id='topic+qmb'></span><span id='topic+rmb'></span>

<h3>Description</h3>

<p>Density, distribution function, quantile function and random generation for the
<abbr><span class="acronym">MBBEFD</span></abbr> distribution with parameters <code>g</code> and <code>b</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dmb(x, g, b, c = NULL, log = FALSE)
pmb(q, g, b, c = NULL, lower.tail = TRUE, log.p = FALSE)
qmb(p, g, b, c = NULL, lower.tail = TRUE, log.p = FALSE)
rmb(n, g, b, c = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dmb_+3A_x">x</code>, <code id="dmb_+3A_q">q</code></td>
<td>
<p><strong>numeric</strong>; vector of quantiles.</p>
</td></tr>
<tr><td><code id="dmb_+3A_p">p</code></td>
<td>
<p><strong>numeric</strong>; vector of probabilities.</p>
</td></tr>
<tr><td><code id="dmb_+3A_n">n</code></td>
<td>
<p><strong>numeric</strong>; number of observations.  If <code>length(n) &gt; 1</code>,
the length is taken to be the number required.</p>
</td></tr>
<tr><td><code id="dmb_+3A_g">g</code></td>
<td>
<p><strong>numeric</strong>; (vector of) the <code>g</code> parameter, which is also
the reciprocal of the probability of a maximum loss.</p>
</td></tr>
<tr><td><code id="dmb_+3A_b">b</code></td>
<td>
<p><strong>numeric</strong>; (vector of) the <code>b</code> parameter.</p>
</td></tr>
<tr><td><code id="dmb_+3A_c">c</code></td>
<td>
<p><strong>numeric</strong>; (vector of) the optional <code>c</code> parameter. Should
be NULL if <code>g</code> and <code>b</code> are passed. Otherwise,
<code class="reqn">g = e^{(0.78 + 0.12c)c}</code> and
<code class="reqn">b = e^{3.1 - 0.15(1+c)c}</code>.</p>
</td></tr>
<tr><td><code id="dmb_+3A_log">log</code>, <code id="dmb_+3A_log.p">log.p</code></td>
<td>
<p><strong>logical</strong>; if TRUE, probabilities p are given as
log(p).</p>
</td></tr>
<tr><td><code id="dmb_+3A_lower.tail">lower.tail</code></td>
<td>
<p><strong>logical</strong>; if TRUE (default), probabilities are
<code class="reqn">P[X\leq x]</code> otherwise <code class="reqn">P[X &gt; x]</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <abbr><span class="acronym">MBBEFD</span></abbr>  class of curves are defined in Bernegger (1997) and are
often used to model insurance risk. The density is defined on the semi-open
interval <code class="reqn">[0, 1)</code> and the distribution and quantile functions are defined on
the closed interval <code class="reqn">[0, 1]</code>.
</p>


<h3>Value</h3>

<p><code>dnorm</code> gives the density, <code>pnorm</code> gives the distribution function,
<code>qnorm</code> gives the quantile function, and <code>rnorm</code> generates random
deviates.
</p>
<p>The length of the result is determined by <code>n</code> for <code>rnorm</code>, and is the
length of <code>x</code>, <code>p</code>, or <code>q</code> as appropriate for the other
functions.
</p>
<p>Numerical arguments other than <code>n</code> are recycled to the length of the
result. Logical arguments should be of length 1.
</p>


<h3>Note</h3>

<p>This package follows Bernegger's convention that the density function does not
exists at 1. This differs from the <span class="pkg">mbbefd</span> package.
</p>


<h3>Author(s)</h3>

<p>Avraham Adler <a href="mailto:Avraham.Adler@gmail.com">Avraham.Adler@gmail.com</a></p>


<h3>References</h3>

<p>Bernegger, S. (1997) The Swiss Re Exposure Curves and the <abbr><span class="acronym">MBBEFD</span></abbr>
Distribution Class. <em><abbr><span class="acronym">ASTIN</span></abbr> Bulletin</em> <strong>27</strong>(1), 99&ndash;111.
<a href="https://doi.org/10.2143/AST.27.1.563208">doi:10.2143/AST.27.1.563208</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mommb">mommb</a></code> for parameter estimation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>all.equal(dmb(0.5, 1, 0), 0)
dmb(0.2, 20, 5)
pmb(0.98, 25, 4)
qmb(0.98, 25, 4) == 1
all.equal(qmb(pmb(0.98, 25, 4), 25, 4), 0.98)
set.seed(45)
rmb(3, 4, 12)
set.seed(45)
rmb(99:101, 4, 12) # Should equal previous call
</code></pre>

<hr>
<h2 id='ecmb'>Exposure Curve for the MBBEFD Distribution</h2><span id='topic+ecmb'></span>

<h3>Description</h3>

<p>Returns the limited average severity at <code>x</code> of a random variable with an
<abbr><span class="acronym">MBBEFD</span></abbr> distribution with parameters <code>g</code> and <code>b</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ecmb(x, g, b, c = NULL, lower.tail = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ecmb_+3A_x">x</code></td>
<td>
<p><strong>numeric</strong>; vector of quantiles.</p>
</td></tr>
<tr><td><code id="ecmb_+3A_g">g</code></td>
<td>
<p><strong>numeric</strong>; (vector of) the <code>g</code> parameter, which is also
the reciprocal of the probability of a maximum loss.</p>
</td></tr>
<tr><td><code id="ecmb_+3A_b">b</code></td>
<td>
<p><strong>numeric</strong>; (vector of) the <code>b</code> parameter.</p>
</td></tr>
<tr><td><code id="ecmb_+3A_c">c</code></td>
<td>
<p><strong>numeric</strong>; (vector of) the optional <code>c</code> parameter. Should
be NULL if <code>g</code> and <code>b</code> are passed. Otherwise,
<code class="reqn">g = e^{(0.78 + 0.12c)c}</code> and
<code class="reqn">b = e^{3.1 - 0.15(1+c)c}</code>.</p>
</td></tr>
<tr><td><code id="ecmb_+3A_lower.tail">lower.tail</code></td>
<td>
<p><strong>logical</strong>; if TRUE (default), percentages are of the
total loss being less than or equal to <code>x</code>. Otherwise they are the
percentage of total loss greater than <code>x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given random variable <code class="reqn">X</code> with an <abbr><span class="acronym">MBBEFD</span></abbr> distribution with
parameters <code class="reqn">g</code> and <code class="reqn">b</code>, the <strong>exposure curve</strong> is defined as the
ratio of the limited average severity (<abbr><span class="acronym">LAS</span></abbr>) of the variable at <code class="reqn">x</code>
divided by the unlimited expected severity of the distribution:
</p>
<p style="text-align: center;"><code class="reqn">LAS(x) = \frac{E(X\wedge x)}{E(X)}=\frac{\int_0^x t f(t) dt +
x \int_x^\infty f(t) dt }{\int_0^\infty t f(t) dt}</code>
</p>

<p>If one considers <code class="reqn">x</code> as a policy limit, then the value of
<code>ecmb(x, g, b)</code> is the percentage of the total expected loss which will be
contained within the (reinsurance) policy limit. If <code>lower.tail</code> is
<code>FALSE</code>, the return value is the percentage of total loss which will exceed
the limit.
</p>


<h3>Value</h3>

<p>A numeric vector containing the values of the exposure curve for the passed
<code>x</code>, <code>b</code>, and <code>g</code> vectors. If <code>lower.tail</code> is <code>FALSE</code>,
the return value is the complement of the exposure curve.
</p>


<h3>Author(s)</h3>

<p>Avraham Adler <a href="mailto:Avraham.Adler@gmail.com">Avraham.Adler@gmail.com</a></p>


<h3>References</h3>

<p>Bernegger, S. (1997) The Swiss Re Exposure Curves and the <abbr><span class="acronym">MBBEFD</span></abbr>
Distribution Class. <em><abbr><span class="acronym">ASTIN</span></abbr> Bulletin</em> <strong>27</strong>(1), 99&ndash;111.
<a href="https://doi.org/10.2143/AST.27.1.563208">doi:10.2143/AST.27.1.563208</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dmb">dmb</a></code> and <code><a href="#topic+pmb">pmb</a></code> for the density and distribution.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>all.equal(ecmb(c(0, 1), 20, 5), c(0, 1))
ecmb(0.25, 100, 34)
</code></pre>

<hr>
<h2 id='MBBEFDLite-internal'>Internal MBBEFDLite functions</h2><span id='topic+checkgcb'></span><span id='topic+c2gb'></span>

<h3>Description</h3>

<p>Internal MBBEFDLite functions</p>


<h3>Details</h3>

<p>These functions are not meant to be directly called by the user.</p>

<hr>
<h2 id='mommb'>
Method of Moments Parameter Estimation for the MBBEFD distribution
</h2><span id='topic+mommb'></span>

<h3>Description</h3>

<p>Attempts to find the best <code>g</code> and <code>b</code> parameters which are consistent
with the first and second moments of the supplied data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mommb(x, maxit = 100L, tol = .Machine$double.eps ^ 0.5, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mommb_+3A_x">x</code></td>
<td>
<p><strong>numeric</strong>; vector of observations between 0 and 1.</p>
</td></tr>
<tr><td><code id="mommb_+3A_maxit">maxit</code></td>
<td>
<p><strong>integer</strong>; maximum number of iterations.</p>
</td></tr>
<tr><td><code id="mommb_+3A_tol">tol</code></td>
<td>
<p><strong>numeric</strong>; tolerance. If too tight, algorithm may fail.
Defaults to the square root of <code>.Machine$double.eps</code> or roughly
<code class="reqn">1.49\times 10^{-8}</code>.</p>
</td></tr>
<tr><td><code id="mommb_+3A_na.rm">na.rm</code></td>
<td>
<p><strong>logical</strong>; if <code>TRUE</code> (default) <code>NA</code>s are
removed. If <code>FALSE</code>, and there are <code>NA</code>s, the algorithm will stop
with an error.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The algorithm is based on sections 4.1 and 4.2 of Bernegger (1997). With rare
exceptions, the fitted <code class="reqn">g</code> and <code class="reqn">b</code> parameters must conform to:
</p>
<p style="text-align: center;"><code class="reqn">\mu = \frac{\ln(gb)(1-b)}{\ln(b)(1-gb)}</code>
</p>

<p>subject to:
</p>
<p style="text-align: center;"><code class="reqn">\mu^2 \le E[x^2]\le\mu\\ p\le E[x^2]</code>
</p>

<p>where <code class="reqn">\mu</code> and <code class="reqn">\mu^2</code> are the &ldquo;true&rdquo; first and second moments
and <code class="reqn">E[x^2]</code> is the empirical second moment.
</p>
<p>The algorithm starts with the estimate <code class="reqn">p = E[x^2]</code> as an upper bound.
However, in step 2 of section 4.2, the <code class="reqn">p</code> component is estimated as the
difference between the numerical integration of <code class="reqn">x^2 f(x)</code> and the empirical
second moment&mdash;<code class="reqn">p = E[x^2] - \int x^2 f(x) dx</code>&mdash;as seen in equation (4.3).
This is converted to <code class="reqn">g</code> by reciprocation and convergence is tested by the
difference between this new <code class="reqn">g</code> and its prior value. If the new
<code class="reqn">p \le 0</code>, the algorithm attempts to restart with a larger <code class="reqn">g</code>&mdash;a
smaller <code class="reqn">p</code>. In this case, the algorithm tends to fail to converge.
</p>


<h3>Value</h3>

<p>Returns a <a href="base.html#topic+list">list</a> containing:
</p>
<table>
<tr><td><code>g</code></td>
<td>
<p>The fitted <code>g</code> parameter.</p>
</td></tr>
<tr><td><code>b</code></td>
<td>
<p>The fitted <code>b</code> parameter.</p>
</td></tr>
<tr><td><code>iter</code></td>
<td>
<p>The number of iterations used.</p>
</td></tr>
<tr><td><code>sqerr</code></td>
<td>
<p>The squared error between the empirical mean and the
theoretical mean given the fitted <code>g</code> and <code>b</code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Anecdotal evidence indicates that the results of this fitting algorithm
can be volatile, especially with fewer than a few hundred observations.</p>


<h3>Author(s)</h3>

<p>Avraham Adler <a href="mailto:Avraham.Adler@gmail.com">Avraham.Adler@gmail.com</a></p>


<h3>References</h3>

<p>Bernegger, S. (1997) The Swiss Re Exposure Curves and the <abbr><span class="acronym">MBBEFD</span></abbr>
Distribution Class. <em><abbr><span class="acronym">ASTIN</span></abbr> Bulletin</em> <strong>27</strong>(1), 99&ndash;111.
<a href="https://doi.org/10.2143/AST.27.1.563208">doi:10.2143/AST.27.1.563208</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rmb">rmb</a></code> for random variate generation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(85L)
x &lt;- rmb(1000, 25, 4)
mommb(x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

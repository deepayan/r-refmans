<!DOCTYPE html><html><head><title>Help for package nlrx</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nlrx}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#nlrx-package'><p>nlrx: A package for running NetLogo simulations from R.</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#analyze_eFast'><p>Analyze NetLogo simulation output of simdesign eFast</p></a></li>
<li><a href='#analyze_ff'><p>Analyze NetLogo simulation output of simdesign full-factorial</p></a></li>
<li><a href='#analyze_lhs'><p>Analyze NetLogo simulation output of simdesign latin-hypercube</p></a></li>
<li><a href='#analyze_morris'><p>Analyze NetLogo simulation output of simdesign morris</p></a></li>
<li><a href='#analyze_nl'><p>Analyze NetLogo simulation output</p></a></li>
<li><a href='#analyze_simple'><p>Analyze NetLogo simulation output of simdesign simple</p></a></li>
<li><a href='#analyze_sobol'><p>Analyze NetLogo simulation output of simdesign sobol</p></a></li>
<li><a href='#analyze_sobol2007'><p>Analyze NetLogo simulation output of simdesign sobol2007</p></a></li>
<li><a href='#analyze_soboljansen'><p>Analyze NetLogo simulation output of simdesign soboljansen</p></a></li>
<li><a href='#check_netlogo_version'><p>Check supported NetLogo versions</p></a></li>
<li><a href='#download_netlogo'><p>Download NetLogo</p></a></li>
<li><a href='#eval_simoutput'><p>Evaluate input/output integrity</p></a></li>
<li><a href='#eval_variables_constants'><p>Evaluate variable validity</p></a></li>
<li><a href='#experiment'><p>Construct a new experiment object</p></a></li>
<li><a href='#export_nl'><p>Export NetLogo Experiment</p></a></li>
<li><a href='#getexp'><p>Getter function to get a variable of an experiment object</p></a></li>
<li><a href='#getnl'><p>Getter function to get a variable of a nl object</p></a></li>
<li><a href='#getsim'><p>Getter function to get a variable of a simdesign object</p></a></li>
<li><a href='#import_nl'><p>Import NetLogo Experiment</p></a></li>
<li><a href='#init-classes'><p>initClasses</p></a></li>
<li><a href='#nl'><p>Construct a new nl object</p></a></li>
<li><a href='#nl_distinct'><p>Wolf Sheep model sample data: simdesign distinct</p></a></li>
<li><a href='#nl_eFast'><p>Wolf Sheep model sample data: simdesign eFast</p></a></li>
<li><a href='#nl_ff'><p>Wolf Sheep model sample data: simdesign ff</p></a></li>
<li><a href='#nl_gensa'><p>Wolf Sheep model sample data: gensa</p></a></li>
<li><a href='#nl_lhs'><p>Wolf Sheep model sample data: simdesign lhs</p></a></li>
<li><a href='#nl_morris'><p>Wolf Sheep model sample data: simdesign morris</p></a></li>
<li><a href='#nl_simple'><p>Wolf Sheep model sample data: simdesign simple</p></a></li>
<li><a href='#nl_sobol'><p>Wolf Sheep model sample data: simdesign sobol</p></a></li>
<li><a href='#nl_sobol2007'><p>Wolf Sheep model sample data: simdesign sobol2007</p></a></li>
<li><a href='#nl_soboljansen'><p>Wolf Sheep model sample data: simdesign soboljansen</p></a></li>
<li><a href='#nl_spatial'><p>Wolf Sheep model sample data: spatial</p></a></li>
<li><a href='#nl_to_graph'><p>Generate igraph objects from measured turtles and links metrics</p></a></li>
<li><a href='#nl_to_points'><p>Get spatial data from metrics.turtles output</p></a></li>
<li><a href='#nl_to_raster'><p>Get spatial data from metrics.patches output</p></a></li>
<li><a href='#nldoc'><p>Create NetLogo documentation</p></a></li>
<li><a href='#nldoc_find_procedure_calls'><p>Determine procedure calls</p></a></li>
<li><a href='#nldoc_network'><p>Create NetLogo procedure network</p></a></li>
<li><a href='#nldoc_parse_modelcode'><p>Parse model code</p></a></li>
<li><a href='#nldoc_read_nlogo'><p>Read NetLogo model code from files</p></a></li>
<li><a href='#nldoc_table_bs'><p>Read NetLogo behavior space experiments from files</p></a></li>
<li><a href='#nldoc_table_gui'><p>Read NetLogo GUI elements from files</p></a></li>
<li><a href='#nldoc_write_nldoc'><p>Write NetLogo documentation</p></a></li>
<li><a href='#print.nl'><p>Print content of nl object</p></a></li>
<li><a href='#report_model_parameters'><p>Report globals from a NetLogo model that is defined within a nl object</p></a></li>
<li><a href='#run_nl_all'><p>Execute all NetLogo simulations from a nl object</p></a></li>
<li><a href='#run_nl_dyn'><p>Execute NetLogo simulation without pregenerated parametersets</p></a></li>
<li><a href='#run_nl_one'><p>Execute one NetLogo simulation from a nl object</p></a></li>
<li><a href='#setexp+26lt+3B-'><p>Setter function to set a variable of an experiment object</p></a></li>
<li><a href='#setnl+26lt+3B-'><p>Setter function to set a variable of a nl object</p></a></li>
<li><a href='#setsim+26lt+3B-'><p>Setter function to set a variable of a simdesign object</p></a></li>
<li><a href='#simdesign'><p>Construct a new simdesign object</p></a></li>
<li><a href='#simdesign_ABCmcmc_Marjoram'><p>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Majoram algorithm to a nl object</p></a></li>
<li><a href='#simdesign_ABCmcmc_Marjoram_original'><p>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Majoram Original algorithm to a nl object</p></a></li>
<li><a href='#simdesign_ABCmcmc_Wegmann'><p>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Wegmann algorithm to a nl object</p></a></li>
<li><a href='#simdesign_distinct'><p>Add a distinct simdesign to a nl object</p></a></li>
<li><a href='#simdesign_eFast'><p>Add an eFast simdesign to a nl object</p></a></li>
<li><a href='#simdesign_ff'><p>Add a full-factorial simdesign to a nl object</p></a></li>
<li><a href='#simdesign_GenAlg'><p>Add a Genetic Algorithm simdesign to a nl object</p></a></li>
<li><a href='#simdesign_GenSA'><p>Add a Simulated Annealing simdesign to a nl object</p></a></li>
<li><a href='#simdesign_lhs'><p>Add a latin-hypercube simdesign to a nl object</p></a></li>
<li><a href='#simdesign_morris'><p>Add a morris elementary effects simdesign to a nl object</p></a></li>
<li><a href='#simdesign_simple'><p>Add a simple simdesign to a nl object</p></a></li>
<li><a href='#simdesign_sobol'><p>Add a sobol simdesign to a nl object</p></a></li>
<li><a href='#simdesign_sobol2007'><p>Add a sobol2007 simdesign to a nl object</p></a></li>
<li><a href='#simdesign_soboljansen'><p>Add a soboljansen simdesign to a nl object</p></a></li>
<li><a href='#supported_netlogo_versions'><p>Report supported NetLogo versions</p></a></li>
<li><a href='#test_nlrx'><p>Test if nlrx runs on the local system</p></a></li>
<li><a href='#unnest_simoutput'><p>Get spatial data from metrics.turtles and metrics.patches output</p></a></li>
<li><a href='#util_call_nl'><p>Setup and execute NetLogo via command line</p></a></li>
<li><a href='#util_cleanup'><p>Delete temporary files</p></a></li>
<li><a href='#util_create_agentset_reporter'><p>Create turtle/patches/links owns reporter</p></a></li>
<li><a href='#util_create_lhs'><p>Identify and report the current OS</p></a></li>
<li><a href='#util_create_sim_XML'><p>Create a temporary behavior space xml file to setup NetLogo via command line</p></a></li>
<li><a href='#util_eval_constants'><p>Evaluate if constants list of an experiment object is empty</p></a></li>
<li><a href='#util_eval_experiment'><p>Evaluate all slots of an experiment object</p></a></li>
<li><a href='#util_eval_simdesign'><p>Evaluate all slots of a simdesign object</p></a></li>
<li><a href='#util_eval_variables'><p>Evaluate if variables list of an experiment object is empty</p></a></li>
<li><a href='#util_eval_variables_distinct'><p>Evaluate variables list of an experiment object for distinct simdesign</p></a></li>
<li><a href='#util_eval_variables_ff'><p>Evaluate variables list of an experiment object for full-factorial simdesign</p></a></li>
<li><a href='#util_eval_variables_op'><p>Evaluate variables list of an experiment object for optimization simdesigns</p></a></li>
<li><a href='#util_eval_variables_sa'><p>Evaluate variables list of an experiment object for sensitivity analysis simdesigns</p></a></li>
<li><a href='#util_gather_results'><p>Load output file from simulations</p></a></li>
<li><a href='#util_generate_seeds'><p>Generate a vector of random seeds</p></a></li>
<li><a href='#util_get_os'><p>Identify and report the current OS</p></a></li>
<li><a href='#util_print.experiment'><p>Print experiment object content</p></a></li>
<li><a href='#util_print.nl'><p>Print nl object content</p></a></li>
<li><a href='#util_print.simdesign'><p>Print simdesign object content</p></a></li>
<li><a href='#util_print.summary'><p>Print nl object summary</p></a></li>
<li><a href='#util_read_write_batch'><p>Write a modified batchfile that executes NetLogo</p></a></li>
<li><a href='#util_run_nl_dyn_ABCmcmc'><p>ABCmcmc call simulations function</p></a></li>
<li><a href='#util_run_nl_dyn_GenAlg'><p>Genetic Algorithm call simulations function</p></a></li>
<li><a href='#util_run_nl_dyn_GenAlg_fn'><p>Genetic Algorithm run simulation function</p></a></li>
<li><a href='#util_run_nl_dyn_GenSA'><p>Simulated Annealing call simulations function</p></a></li>
<li><a href='#util_run_nl_dyn_GenSA_fn'><p>Simulated Annealing run simulation function</p></a></li>
<li><a href='#write_simoutput'><p>Write attached NetLogo simulation output to file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Setup, Run and Analyze 'NetLogo' Model Simulations from 'R' via
'XML'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Setup, run and analyze 'NetLogo' (<a href="https://ccl.northwestern.edu/netlogo/">https://ccl.northwestern.edu/netlogo/</a>) model simulations in 'R'.
    'nlrx' experiments use a similar structure as 'NetLogos' Behavior Space experiments. 
    However, 'nlrx' offers more flexibility and additional tools for running and analyzing complex simulation designs and sensitivity analyses.
    The user defines all information that is needed in an intuitive framework, using class objects.
    Experiments are submitted from 'R' to 'NetLogo' via 'XML' files that are dynamically written, based on specifications defined by the user.
    By nesting model calls in future environments, large simulation design with many runs can be executed in parallel.
    This also enables simulating 'NetLogo' experiments on remote high performance computing machines.
    In order to use this package, 'Java' and 'NetLogo' (&gt;= 5.3.1) need to be available on the executing system.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/nlrx/">https://docs.ropensci.org/nlrx/</a>, <a href="https://github.com/ropensci/nlrx/">https://github.com/ropensci/nlrx/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/nlrx/issues/">https://github.com/ropensci/nlrx/issues/</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>XML, lhs, sensitivity, dplyr, readr, purrr, furrr, magrittr,
stats, utils, GenSA, genalg, raster, rstudioapi, sf, tidyr,
methods, tibble, crayon, igraph, stringr, progressr, EasyABC</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, mockery, knitr, rmarkdown, covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>NetLogo (&gt;= 5.3.1), Java (&gt;= 11), pandoc, OpenSSL,
udunits-2, PROJ.4, GEOS, GDAL, libxml2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-29 19:00:08 UTC; jan</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan Salecker <a href="https://orcid.org/0000-0002-9000-4229"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Marco Sciaini <a href="https://orcid.org/0000-0002-3042-5435"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Marina Papadopoulou [rev] (Marina reviewed the package for ropensci,
    see &lt;https://github.com/ropensci/software-review/issues/262&gt;),
  Sebastian Hanss [cre] (Package maintainer together with Jan Salecker)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sebastian Hanss &lt;nlrx@mailbox.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-29 19:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='nlrx-package'>nlrx: A package for running NetLogo simulations from R.</h2><span id='topic+nlrx'></span><span id='topic+nlrx-package'></span>

<h3>Description</h3>

<p>The nlrx package provides tools to setup NetLogo simulations in R.
It uses a similar structure as NetLogos Behavior Space but offers more flexibility and additional tools for running sensitivity analyses.
</p>


<h3>Details</h3>

<p>Get started:
</p>
<p>General information that is needed to run NetLogo simulations remotely, such as path to the NetLogo installation folder is stored within a <code>nl</code> class object.
Nested within this <code>nl</code> class are the classes <code>experiment</code> and <code>simdesign</code>. The <code>experiment</code> class stores all experiment specifications.
After attaching a valid experiment, a <code>simdesign</code> class object can be attached to the <code>nl</code> class object, by using one of the simdesign helper functions.
These helper functions create different parameter input matrices from the experiment variable definitions that can then be executed by the <code>run_nl_one()</code> and <code>run_nl_all()</code> functions.
The nested design allows to store everything related to the experiment within one R object.
Additionally, different simdesign helper functions can be applied to the same <code>nl</code> object in order to repeat the same experiment with different parameter exploration methods (simdesigns).
</p>
<p>Step by step application example
</p>
<p>The &quot;Wolf Sheep Predation&quot; model from the NetLogo models library is used to present a basic example on how to setup and run NetLogo model simulations from R.
</p>
<p>Step 1: Create a nl object:
</p>
<p>The nl object holds all information on the NetLogo version, a path to the NetLogo directory with the defined version, a path to the model file, and the desired memory for the java virtual machine.
Depending on the operation system, paths to NetLogo and the model need to be adjusted.
</p>
<div class="sourceCode"><pre>library(nlrx)
# Windows default NetLogo installation path (adjust to your needs!):
netlogopath &lt;- file.path("C:/Program Files/NetLogo 6.0.3")
modelpath &lt;- file.path(netlogopath, "app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo")
outpath &lt;- file.path("C:/out")
# Unix default NetLogo installation path (adjust to your needs!):
netlogopath &lt;- file.path("/home/NetLogo 6.0.3")
modelpath &lt;- file.path(netlogopath, "app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo")
outpath &lt;- file.path("/home/out")
nl &lt;- nl(nlversion = "6.0.3",
         nlpath = netlogopath,
         modelpath = modelpath,
         jvmmem = 1024)
</pre></div>
<p>Step 2: Attach an experiment
</p>
<p>The experiment object is organized in a similar fashion as NetLogo Behavior Space experiments.
It contains all information that is needed to generate a simulation parameter matrix and to execute the NetLogo simulations.
Details on the specific slots of the experiment class can be found in the package documentation (<code>?experiment</code>) and the &quot;Advanced configuration&quot; vignette.
</p>
<div class="sourceCode"><pre>nl@experiment &lt;- experiment(expname="wolf-sheep",
                             outpath=outpath,
                             repetition=1,
                             tickmetrics="true",
                             idsetup="setup",
                             idgo="go",
                             runtime=50,
                             evalticks=seq(40,50),
                             metrics=c("count sheep", "count wolves", "count patches with [pcolor = green]"),
                             variables = list('initial-number-sheep' = list(min=50, max=150, qfun="qunif"),
                                              'initial-number-wolves' = list(min=50, max=150, qfun="qunif")),
                             constants = list("model-version" = "\"sheep-wolves-grass\"",
                                              "grass-regrowth-time" = 30,
                                              "sheep-gain-from-food" = 4,
                                              "wolf-gain-from-food" = 20,
                                              "sheep-reproduce" = 4,
                                              "wolf-reproduce" = 5,
                                              "show-energy?" = "false"))
</pre></div>
<p>Step 3: Attach a simulation design
</p>
<p>While the experiment defines the variables and specifications of the model, the simulation design creates a parameter input table based on these model specifications and the chosen simulation design method.
nlrx provides a bunch of different simulation designs, such as full-factorial, latin-hypercube, sobol, morris and eFast (see &quot;Simdesign Examples&quot; vignette for more information on simdesigns).
All simdesign helper functions need a properly defined nl object with a valid experiment design.
Each simdesign helper also allows to define a number of random seeds that are randomly generated and can be used to execute repeated simulations of the same parameter matrix with different random-seeds (see &quot;Advanced configuration&quot; vignette for more information on random-seed and repetition management).
A simulation design is attached to a nl object by using one of the simdesign helper functions:
</p>
<div class="sourceCode"><pre>nl@simdesign &lt;- simdesign_lhs(nl=nl,
                               samples=100,
                               nseeds=3,
                               precision=3)
</pre></div>
<p>Step 4: Run simulations
</p>
<p>All information that is needed to run the simulations is now stored within the nl object.
The <code>run_nl_one()</code> function allows to run one specific simulation from the siminput parameter table.
The <code>run_nl_all()</code> function runs a loop over all simseeds and rows of the parameter input table siminput.
The loops are constructed in a way that allows easy parallelisation, either locally or on remote HPC machines (see &quot;Advanced configuration&quot; vignette for more information on parallelisation).
</p>
<div class="sourceCode"><pre>results &lt;- run_nl_all(nl = nl)
</pre></div>
<p>Step 5: Attach results to nl and run analysis
</p>
<p>nlrx provides method specific analysis functions for each simulation design.
Depending on the chosen design, the function reports a tibble with aggregated results or sensitivity indices.
In order to run the <code>analyze_nl()</code> function, the simulation output has to be attached to the nl object first.
After attaching the simulation results, these can also be written to the defined outpath of the experiment object.
</p>
<div class="sourceCode"><pre># Attach results to nl object:
setsim(nl, "simoutput") &lt;- results
# Write output to outpath of experiment within nl
write_simoutput(nl)
# Do further analysis:
analyze_nl(nl)
</pre></div>


<h3>Author(s)</h3>

<p>Jan Salecker <a href="mailto:jan.salecker@posteo.de">jan.salecker@posteo.de</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/nlrx/">https://docs.ropensci.org/nlrx/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/nlrx/">https://github.com/ropensci/nlrx/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/nlrx/issues/">https://github.com/ropensci/nlrx/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='analyze_eFast'>Analyze NetLogo simulation output of simdesign eFast</h2><span id='topic+analyze_eFast'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign eFast
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_eFast(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_eFast_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_eFast_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_eFast_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates eFast sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>

<hr>
<h2 id='analyze_ff'>Analyze NetLogo simulation output of simdesign full-factorial</h2><span id='topic+analyze_ff'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign full-factorial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_ff(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_ff_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_ff_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_ff_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates aggregated output metrics by dropping random seeds and aggregating values with the provided functions.
</p>

<hr>
<h2 id='analyze_lhs'>Analyze NetLogo simulation output of simdesign latin-hypercube</h2><span id='topic+analyze_lhs'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign latin-hypercube
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_lhs(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_lhs_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_lhs_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_lhs_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates aggregated output metrics by dropping random seeds and aggregating values with the provided functions.
</p>

<hr>
<h2 id='analyze_morris'>Analyze NetLogo simulation output of simdesign morris</h2><span id='topic+analyze_morris'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign morris
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_morris(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_morris_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_morris_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_morris_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates morris sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>

<hr>
<h2 id='analyze_nl'>Analyze NetLogo simulation output</h2><span id='topic+analyze_nl'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_nl(nl, metrics = getexp(nl, "metrics"), funs = list(mean = mean))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_nl_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_nl_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_nl_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The analyze_nl function runs basic analyses on NetLogo simulation output.
In order to execute this function, simulation output needs to be attached to the simdesign first with <code>setsim(nl, "output") &lt;- results</code>.
</p>
<p>analyze_nl calls different post-processing analysis functions, depending on the specified method in the simdesign object of the nl object.
</p>
<p><strong>The following simdesign are currently supported:</strong>
</p>
<p><a href="#topic+simdesign_ff">simdesign_ff</a>
</p>
<p>Calls <a href="#topic+analyze_ff">analyze_ff</a>.
The function calculates aggregated output metrics by dropping random seeds and aggregating values with the provided functions.
</p>
<p><a href="#topic+simdesign_lhs">simdesign_lhs</a>
</p>
<p>Calls <a href="#topic+analyze_lhs">analyze_lhs</a>.
The function calculates aggregated output metrics by dropping random seeds and aggregating values with the provided functions.
</p>
<p><a href="#topic+simdesign_sobol">simdesign_sobol</a>
</p>
<p>Calls <a href="#topic+analyze_sobol">analyze_sobol</a>.
The function calculates sobol sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>
<p><a href="#topic+simdesign_sobol2007">simdesign_sobol2007</a>
</p>
<p>Calls <a href="#topic+analyze_sobol2007">analyze_sobol2007</a>.
The function calculates sobol sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>
<p><a href="#topic+simdesign_soboljansen">simdesign_soboljansen</a>
</p>
<p>Calls <a href="#topic+analyze_soboljansen">analyze_soboljansen</a>.
The function calculates sobol sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>
<p><a href="#topic+simdesign_morris">simdesign_morris</a>
</p>
<p>Calls <a href="#topic+analyze_morris">analyze_morris</a>.
The function calculates morris sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>
<p><a href="#topic+simdesign_eFast">simdesign_eFast</a>
</p>
<p>Calls <a href="#topic+analyze_eFast">analyze_eFast</a>.
The function calculates eFast sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>
<p><strong>For the following simdesign no postprocessing analysis function has been implemented yet:</strong>
</p>
<p><a href="#topic+simdesign_simple">simdesign_simple</a>,
<a href="#topic+simdesign_distinct">simdesign_distinct</a>,
<a href="#topic+simdesign_GenSA">simdesign_GenSA</a>,
<a href="#topic+simdesign_GenAlg">simdesign_GenAlg</a>
</p>


<h3>Value</h3>

<p>analysis summary tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load nl object including output data from testdata
nl &lt;- nl_sobol

# Define aggregation measurements:
myfuns &lt;- list(mean=mean, sd=sd, min=min, max=max)

# Calculate sensitivity indices:
analyze_nl(nl, funs = myfuns)

</code></pre>

<hr>
<h2 id='analyze_simple'>Analyze NetLogo simulation output of simdesign simple</h2><span id='topic+analyze_simple'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign simple
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_simple(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_simple_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_simple_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_simple_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The simdesign_simple analysis functions is not yet supported and will only print a warning message.
</p>

<hr>
<h2 id='analyze_sobol'>Analyze NetLogo simulation output of simdesign sobol</h2><span id='topic+analyze_sobol'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign sobol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_sobol(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_sobol_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_sobol_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_sobol_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates sobol sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>

<hr>
<h2 id='analyze_sobol2007'>Analyze NetLogo simulation output of simdesign sobol2007</h2><span id='topic+analyze_sobol2007'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign sobol2007
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_sobol2007(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_sobol2007_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_sobol2007_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_sobol2007_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates sobol sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>

<hr>
<h2 id='analyze_soboljansen'>Analyze NetLogo simulation output of simdesign soboljansen</h2><span id='topic+analyze_soboljansen'></span>

<h3>Description</h3>

<p>Analyze NetLogo simulation output of simdesign soboljansen
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_soboljansen(nl, metrics, funs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_soboljansen_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="analyze_soboljansen_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining metric columns for evaluation. Defaults to metrics of the experiment within the nl object</p>
</td></tr>
<tr><td><code id="analyze_soboljansen_+3A_funs">funs</code></td>
<td>
<p>list with the summary metrics for the sensitivity results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates sobol sensitivity indices from the output results using the <a href="sensitivity.html#topic+sensitivity">sensitivity</a> package.
</p>

<hr>
<h2 id='check_netlogo_version'>Check supported NetLogo versions</h2><span id='topic+check_netlogo_version'></span>

<h3>Description</h3>

<p>Auxiliary function to check supported NetLogo version numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_netlogo_version(version, throw_error = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_netlogo_version_+3A_version">version</code></td>
<td>
<p>Character string naming which NetLogo Version to check</p>
</td></tr>
<tr><td><code id="check_netlogo_version_+3A_throw_error">throw_error</code></td>
<td>
<p>TRUE/FALSE, if TRUE an error is thrown if the version is not supported</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical, if netlogo versions is supported by nlrx
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
check_netlogo_version("6.2.0")
check_netlogo_version("1.0")
check_netlogo_version("1.0", TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='download_netlogo'>Download NetLogo</h2><span id='topic+download_netlogo'></span>

<h3>Description</h3>

<p>Auxiliary function to download NetLogo
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_netlogo(to, version, os = NA, extract = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_netlogo_+3A_to">to</code></td>
<td>
<p>Path to folder where the downloaded file is saved.</p>
</td></tr>
<tr><td><code id="download_netlogo_+3A_version">version</code></td>
<td>
<p>Character string naming which NetLogo Version to download (see Details)</p>
</td></tr>
<tr><td><code id="download_netlogo_+3A_os">os</code></td>
<td>
<p>operation system (&quot;win&quot;, &quot;mac&quot;, &quot;unix&quot;) decides which version of netlogo (msi, dmg, tgz) is downloaded.
If set to NA (default) os will be detected automatically (<code>util_get_os()</code>)</p>
</td></tr>
<tr><td><code id="download_netlogo_+3A_extract">extract</code></td>
<td>
<p>TRUE/FALSE, if TRUE downloaded archive is extracted to subfolder of <code>to</code> (only unix)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Retrieve supported Versions for Download and Usage (parameter <code>version</code>):
supported_netlogo_versions()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dlpath &lt;- tempdir()  # adjust path to your needs
try(download_netlogo(dlpath, "6.0.3"))

## End(Not run)

</code></pre>

<hr>
<h2 id='eval_simoutput'>Evaluate input/output integrity</h2><span id='topic+eval_simoutput'></span>

<h3>Description</h3>

<p>Evaluate input/output integrity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_simoutput(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_simoutput_+3A_nl">nl</code></td>
<td>
<p>nl object with attached simulation output</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks if the attached simulation output in the simoutput slot of the simdesign,
corresponds to the defined siminput matrix.
</p>
<p>Warning messages are thrown if data is missing in the simoutput tibble.
Additionally, missing combinations of siminputrow and random seed for which no data was found can be reported as tibble.
Such a tibble can then be used directly to rerun missing combinations conveniently (see examples below)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Check eval_simoutput for testdata nl_lhs:
nl &lt;- nl_lhs
eval_simoutput(nl)

# Now remove one row of simoutput and check output:
nl &lt;- nl_lhs
nl@simdesign@simoutput &lt;- nl@simdesign@simoutput[-1,]
check &lt;- eval_simoutput(nl)
check

# Rerun missing combinations within check tibble:
rerun &lt;- purrr::map_dfr(seq(nrow(check)), function(x) {
  res &lt;- run_nl_one(nl, siminputrow=check$siminputrow[x], seed=check$seed[x])
    return(res)
    }) %&gt;%
      dplyr::bind_rows(., nl@simdesign@simoutput)



## End(Not run)

</code></pre>

<hr>
<h2 id='eval_variables_constants'>Evaluate variable validity</h2><span id='topic+eval_variables_constants'></span>

<h3>Description</h3>

<p>Evaluate variables and constants defined in experiment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_variables_constants(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_variables_constants_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks if the variables and constants that are defined in the
experiment are valid.
It loads the model code of the NetLogo model and checks if these variables
and constants really exist.
In case of nonvalid entries, the function throws an error message, indicating
which variables and constants are not valid.
Please note, that this function might fail if the supported modelpath does
not point to an existing nlogo file.
This might for example happen, if the modelpath is set up for a remote
cluster execution.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl &lt;- nl_lhs
eval_variables_constants(nl)

## End(Not run)

</code></pre>

<hr>
<h2 id='experiment'>Construct a new experiment object</h2><span id='topic+experiment'></span>

<h3>Description</h3>

<p>Construct a new experiment object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>experiment(
  expname = "defaultexp",
  outpath = NA_character_,
  repetition = 1,
  tickmetrics = "true",
  idsetup = "setup",
  idgo = "go",
  idfinal = NA_character_,
  idrunnum = NA_character_,
  runtime = 1,
  evalticks = NA_integer_,
  stopcond = NA_character_,
  metrics = c("count turtles"),
  metrics.turtles = list(),
  metrics.patches = NA_character_,
  metrics.links = list(),
  variables = list(),
  constants = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="experiment_+3A_expname">expname</code></td>
<td>
<p>A character string defining the name of the experiment, no whitespaces allowed</p>
</td></tr>
<tr><td><code id="experiment_+3A_outpath">outpath</code></td>
<td>
<p>Path to a directory where experiment output will be stored</p>
</td></tr>
<tr><td><code id="experiment_+3A_repetition">repetition</code></td>
<td>
<p>A number which gives the number of repetitions for each row of the simulation design input tibble</p>
</td></tr>
<tr><td><code id="experiment_+3A_tickmetrics">tickmetrics</code></td>
<td>
<p>Character string &quot;true&quot; runs defined metrics on each simulation tick. &quot;false&quot; runs metrics only after simulation is finished</p>
</td></tr>
<tr><td><code id="experiment_+3A_idsetup">idsetup</code></td>
<td>
<p>character string or vector of character strings, defining the name of the NetLogo setup procedure</p>
</td></tr>
<tr><td><code id="experiment_+3A_idgo">idgo</code></td>
<td>
<p>character string or vector of character strings, defining the name of the NetLogo go procedure</p>
</td></tr>
<tr><td><code id="experiment_+3A_idfinal">idfinal</code></td>
<td>
<p>character string or vector of character strings, defining the name of NetLogo procedures that should be run after the last tick</p>
</td></tr>
<tr><td><code id="experiment_+3A_idrunnum">idrunnum</code></td>
<td>
<p>character string, defining the name of a NetLogo global that should be used to parse the current siminputrow during model executions which can then be used for self-written output.</p>
</td></tr>
<tr><td><code id="experiment_+3A_runtime">runtime</code></td>
<td>
<p>number of model ticks that should be run for each simulation</p>
</td></tr>
<tr><td><code id="experiment_+3A_evalticks">evalticks</code></td>
<td>
<p>vector of tick numbers defining when measurements are taken. NA_integer_ to measure each tick</p>
</td></tr>
<tr><td><code id="experiment_+3A_stopcond">stopcond</code></td>
<td>
<p>a NetLogo reporter that reports TRUE/FALSE. If it reports TRUE the current simulation run is stopped (e.g. &quot;not any? turtles&quot;)</p>
</td></tr>
<tr><td><code id="experiment_+3A_metrics">metrics</code></td>
<td>
<p>vector of strings defining valid NetLogo reporters that are taken as output measurements (e.g. c(&quot;count turtles&quot;, &quot;count patches&quot;))</p>
</td></tr>
<tr><td><code id="experiment_+3A_metrics.turtles">metrics.turtles</code></td>
<td>
<p>a list with named vectors of strings defining valid turtles-own variables that are taken as output measurements (e.g. list(&quot;turtles&quot; = c(&quot;who&quot;, &quot;pxcor&quot;, &quot;pycor&quot;, &quot;color&quot;))</p>
</td></tr>
<tr><td><code id="experiment_+3A_metrics.patches">metrics.patches</code></td>
<td>
<p>vector of strings defining valid patches-own variables that are taken as output measurements (e.g. c(&quot;pxcor&quot;, &quot;pycor&quot;, &quot;pcolor&quot;))</p>
</td></tr>
<tr><td><code id="experiment_+3A_metrics.links">metrics.links</code></td>
<td>
<p>a list with named vectors of strings defining valid links-own variables that are taken as output measurements (e.g. list(&quot;links&quot; = c(&quot;end1&quot;, &quot;end2&quot;)))</p>
</td></tr>
<tr><td><code id="experiment_+3A_variables">variables</code></td>
<td>
<p>a nested list of variables that are changed within a simulation design. The name of each sublist item has to be a valid global of the defined NetLogo model. Depending on the desired simdesign each list item consist of a vector of values, a min value, a max value, a step value and a qfun (e.g. list(&quot;paramA&quot; = list(values=c(0, 0.5, 1), min=0, max=1, step=0.1, qfun=&quot;qunif&quot;)))</p>
</td></tr>
<tr><td><code id="experiment_+3A_constants">constants</code></td>
<td>
<p>a list of constants that are kept constant within a simulation design. The name of each list item has to be a valid global of the defined NetLogo model (e.g. list(&quot;pNUM&quot; = 12, &quot;pLOGIC&quot;=&quot;TRUE&quot;, &quot;pSTRING&quot;=&quot;\&quot;default\&quot;&quot;))</p>
</td></tr>
<tr><td><code id="experiment_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The experiment class stores all information related to the NetLogo simulation experiment.
The class holds all information that is typically entered into NetLogo Behavior Space experiments.
When setting up an experiment, it is usually attached to an already defined <a href="#topic+nl">nl</a> object (see examples).
After attaching an experiment, different simdesign helper functions can be used to attach a simdesign to the nl object <a href="#topic+simdesign">simdesign</a>.
The simdesign helper functions use the variable definitions from the experiment within the nl object to generate a parameter tibble for simulations.
</p>
<p><strong>The following class slots are obligatory to run an experiment:</strong>
</p>
<p><em>repetition</em>
</p>
<p>In cases, where the random seed is controlled by nlrx simdesigns, repitition should be set to one as random seeds would not differ between simulations.
In cases, where the random seed is set within the NetLogo model, repitition can be increased to repeat the same parameterisation with different random seeds.
</p>
<p><em>tickmetrics</em>
</p>
<p>If &quot;true&quot;, the defined output reporters are collected on each simulation tick that is defined in evalticks. If &quot;false&quot; measurements are taken only on the last tick.
</p>
<p><em>idsetup, idgo</em>
</p>
<p>These two class slots accept strings, or vectors of strings, defining NetLogo model procedures that should be executed for model setup (idsetup) and model execution (idgo).
</p>
<p><em>runtime</em>
</p>
<p>Defines the maximum number of simulation ticks that are executed.
Use 0 or NA_integer_ to execute simulations without predefined number of ticks.
Warning: This is only recommended in combination with a stop condition (see slot stopcond), or NetLogo models with a built-in stop condition.
Otherwise, simulations might get stuck in endless loops.
</p>
<p><strong>Depending on the simdesign, the following slots may be obligatory:</strong>
</p>
<p><em>metrics</em>
</p>
<p>A vector of valid netlogo reporters that defines which measurements are taken.
The optimization simdesigns need at least one defined metrics reporter for fitness calculation of the optimization algorithm.
</p>
<p><em>constants, variables</em>
</p>
<p>These slots accept lists with NetLogo parameters that should be varied within a simdesign (variables) or should be kept constant (constants) for each simulation.
Any NetLogo parameter that is not entered in at least one of these two lists will be set up as constant with the default value from the NetLogo interface.
It is not possible to enter a NetLogo parameter in both lists (a warning message will appear when a simdesign is attached to such an experiment).
All simdesigns except <a href="#topic+simdesign_simple">simdesign_simple</a> need defined variables for setting up a parameter matrix.
Variables can be defined as distinct values, value distributions or range with increment.
The information that is needed, depends on the chosen simdesign (details on variable definition requirements can be found in the helpfiles of each simdesign helper function).
</p>
<p><strong>All remaining slots are optional:</strong>
</p>
<p><em>expname</em>
</p>
<p>A character string defining the name of the experiment, useful for documentation purposes. The string must not contain any whitespaces.
</p>
<p><em>outpath</em>
</p>
<p>A valid path to an existing directory. The directory is used by the <a href="#topic+write_simoutput">write_simoutput</a> function to store attached simulation results to disk in csv format.
</p>
<p><em>idfinal</em>
</p>
<p>A character string or vector of strings defining NetLogo procedures that are executed at the end of each simulation (e.g. cleanup or self-written output procedures).
</p>
<p><em>idrunnum</em>
</p>
<p>This slot can be used to transfer the current nlrx experiment name, random seed and runnumber (siminputrow) to NetLogo.
To use this functionality, a string input field widget needs to be created on the GUI of your NetLogo model.
The name of this widget can be entered into the &quot;idrunnum&quot; field of the experiment.
During simulations, the value of this widget is automatically updated with a generated string that contains the current nlrx experiment name, random seed and siminputrow (&quot;expname_seed_siminputrow&quot;).
For self-written output In NetLogo, we suggest to include this global variable which allows referencing the self-written output files to the collected output of the nlrx simulations in R.
</p>
<p><em>evalticks</em>
</p>
<p>Only applied if tickmetrics = TRUE.
Evalticks may contain a vector of integers, defining the ticks for which the defined metrics will be measured.
Set evalticks to NA_integer_ to measure on every tick.
</p>
<p><em>stopcond</em>
</p>
<p>The stopcond slot can be used to define a stop condition by providing a string with valid NetLogo code that reports either true or false.
Each simulation will be stopped automatically, once the reporter reports true.
</p>
<p><em>metrics.patches</em>
</p>
<p>The metrics.patches slot accepts a vector of valid patches-own variables of the NetLogo model.
These patch variables are measured in addition to the defined metrics.
Results of these metrics will be nested inside the output results tibble of the simulations.
Please note that NetLogo models may contain a huge number of patches and output measurements of agent variables on each tick may need a lot of ressources.
</p>
<p><em>metrics.turtles</em>
</p>
<p>The metrics.turtles slot accepts a list with named vectors of valid turtle breed metrics.
Each name of a vector in this list defines a specified breed of the NetLogo model, whereas the vector defines the variables that are measured for this breed.
For example metrics.turtles = list(&quot;sheep&quot;=c(&quot;color&quot;), &quot;wolves&quot;=c(&quot;who&quot;)) - would measure the color of each sheep and the who number of each wolf agent.
To measure turtles-own variables for all turtles, use &quot;turtles&quot; = c(...).
Be aware, that NetLogo will produce runtime errors if you measure breed-own variables for agents that do not belong to this breed.
Please note that NetLogo models may contain a huge number of turtles and output measurements of agent variables on each tick may need a lot of ressources.
</p>
<p><em>metrics.links</em>
</p>
<p>The metrics.links slot accepts a list with named vectors of valid link breed metrics.
Each name of a vector in this list defines a specified link breed of the NetLogo model, whereas the vector defines the variables that are measured for this link breed.
For example metrics.links = list(&quot;linktype-a&quot;=c(&quot;end1&quot;), &quot;linktype-b&quot;=c(&quot;end2&quot;)) - would measure the start agent of each linktype-a link and the end agent of each linktype-b link.
To measure links-own variables for all links, use &quot;links&quot; = c(...).
Be aware, that NetLogo will produce runtime errors if you measure link-breed-own variables for agents that do not belong to this breed.
Please note that NetLogo models may contain a huge number of turtles and output measurements of agent variables on each tick may need a lot of ressources.
</p>


<h3>Value</h3>

<p>experiment S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach an experiment, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

# Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl_simple
nl@experiment &lt;- experiment(expname="wolf-sheep",
                             outpath="C:/out/",
                             repetition=1,
                             tickmetrics="true",
                             idsetup="setup",
                             idgo="go",
                             idfinal=NA_character_,
                             idrunnum=NA_character_,
                             runtime=50,
                             evalticks=seq(40,50),
                             stopcond="not any? turtles",
                             metrics=c("count sheep",
                                       "count wolves",
                                     "count patches with [pcolor = green]"),
                             metrics.turtles=list("turtles" = c("who",
                                               "pxcor",
                                               "pycor",
                                               "color")),
                             metrics.patches=c("pxcor", "pycor", "pcolor"),
                             variables = list('initial-number-sheep' =
                             list(min=50, max=150, step=10, qfun="qunif"),
                                              'initial-number-wolves' =
                             list(min=50, max=150, step=10, qfun="qunif")),
                             constants = list("model-version" =
                                              "\"sheep-wolves-grass\"",
                                              "grass-regrowth-time" = 30,
                                              "sheep-gain-from-food" = 4,
                                              "wolf-gain-from-food" = 20,
                                              "sheep-reproduce" = 4,
                                              "wolf-reproduce" = 5,
                                              "show-energy?" = "false"))


</code></pre>

<hr>
<h2 id='export_nl'>Export NetLogo Experiment</h2><span id='topic+export_nl'></span>

<h3>Description</h3>

<p>Export NetLogo Experiment as zip file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_nl(nl, path = dirname(getnl(nl, "modelpath")), tarfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_nl_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="export_nl_+3A_path">path</code></td>
<td>
<p>Path to folder that contains files to run NetLogo experiment</p>
</td></tr>
<tr><td><code id="export_nl_+3A_tarfile">tarfile</code></td>
<td>
<p>Path to folder where the experiments gets stored as zip file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Exports your folder that contains data and scripts for NetLogo + nlrx analyses
as a zip file. Furthermore, <code>export_nl</code> takes your nl object and saves it in the
zipped folder. This enables other person to run the same experiment as you.
</p>


<h3>Value</h3>

<p>The status value returned by the external command, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Load nl object from testdata:
nl &lt;- nl_lhs
path &lt;- getwd() # adjust path to your needs, path should point to a directory with model data
outfile &lt;- tempfile(fileext = ".zip") # adjust file path to your needs
export_nl(nl, path = path, tarfile = outfile)

## End(Not run)
</code></pre>

<hr>
<h2 id='getexp'>Getter function to get a variable of an experiment object</h2><span id='topic+getexp'></span>

<h3>Description</h3>

<p>Getter function to get a variable of an experiment object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getexp(nl, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getexp_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="getexp_+3A_var">var</code></td>
<td>
<p>valid experiment variable string</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl(nlversion = "6.0.3",
nlpath = "/home/user/NetLogo 6.0.3/",
modelpath = "/home/user/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo",
jvmmem = 1024)

# Set experiment name
setexp(nl, "expname") &lt;- "experimentName"

# Get experiment name
getexp(nl, "experiment")

</code></pre>

<hr>
<h2 id='getnl'>Getter function to get a variable of a nl object</h2><span id='topic+getnl'></span>

<h3>Description</h3>

<p>Getter function to get a variable of a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getnl(nl, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getnl_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="getnl_+3A_var">var</code></td>
<td>
<p>valid nl variable string</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl(nlversion = "6.0.3",
nlpath = "/home/user/NetLogo 6.0.3/",
modelpath = "/home/user/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo",
jvmmem = 1024)

# get NetLogo version
getnl(nl, "nlversion")

</code></pre>

<hr>
<h2 id='getsim'>Getter function to get a variable of a simdesign object</h2><span id='topic+getsim'></span>

<h3>Description</h3>

<p>Getter function to get a variable of a simdesign object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getsim(nl, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getsim_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="getsim_+3A_var">var</code></td>
<td>
<p>valid simdesign variable string</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl(nlversion = "6.0.3",
nlpath = "/home/user/NetLogo 6.0.3/",
modelpath = "/home/user/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo",
jvmmem = 1024)

# Set simulation seeds
setsim(nl, "simseeds") &lt;- c(123, 456, 789)

# Set simulation seeds
getsim(nl, "simseeds")

</code></pre>

<hr>
<h2 id='import_nl'>Import NetLogo Experiment</h2><span id='topic+import_nl'></span>

<h3>Description</h3>

<p>Import NetLogo Experiment from export_nl
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_nl(tarfile, targetdir, new_session = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_nl_+3A_tarfile">tarfile</code></td>
<td>
<p>Path to tarfile that contains files to run NetLogo experiment</p>
</td></tr>
<tr><td><code id="import_nl_+3A_targetdir">targetdir</code></td>
<td>
<p>Path to folder where the experiments gets extracted</p>
</td></tr>
<tr><td><code id="import_nl_+3A_new_session">new_session</code></td>
<td>
<p>If TRUE, opens a new RStudio Session with an Rproj</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Imports NetLogo experiments that were saved with <code>export_nl</code>.
If the folder comes with an .Rproj file (which is recommended because
relative paths enhance the reproducability of your analysis),
<code>import_nl</code> opens this project and loads the nl object in your R environment.
</p>


<h3>Value</h3>

<p>The status value returned by the external command, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

infile &lt;- "/home/user/test.zip"
targetdirectory &lt;- "/home/user/test"
import_nl(infile, targetdirectory)

## End(Not run)
</code></pre>

<hr>
<h2 id='init-classes'>initClasses</h2><span id='topic+init-classes'></span><span id='topic+.initClasses'></span>

<h3>Description</h3>

<p>empty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.initClasses()
</code></pre>

<hr>
<h2 id='nl'>Construct a new nl object</h2><span id='topic+nl'></span>

<h3>Description</h3>

<p>Construct a new nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl(
  nlversion = "6.0.2",
  nlpath = character(),
  modelpath = character(),
  jvmmem = 1024,
  experiment = methods::new("experiment"),
  simdesign = methods::new("simdesign"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nl_+3A_nlversion">nlversion</code></td>
<td>
<p>A character string defining the NetLogo version that is used</p>
</td></tr>
<tr><td><code id="nl_+3A_nlpath">nlpath</code></td>
<td>
<p>Path to the NetLogo main directory matching the defined version</p>
</td></tr>
<tr><td><code id="nl_+3A_modelpath">modelpath</code></td>
<td>
<p>Path to the NetLogo model file (*.nlogo) that is used for simulations</p>
</td></tr>
<tr><td><code id="nl_+3A_jvmmem">jvmmem</code></td>
<td>
<p>Java virtual machine memory capacity in megabytes</p>
</td></tr>
<tr><td><code id="nl_+3A_experiment">experiment</code></td>
<td>
<p>Holds a experiment S4 class object</p>
</td></tr>
<tr><td><code id="nl_+3A_simdesign">simdesign</code></td>
<td>
<p>Holds a simdesign S4 class object</p>
</td></tr>
<tr><td><code id="nl_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>nl objects are the main class objects used in the nlrx package.
These objects store all information that is needed to run NetLogo simulations.
nl objects are initialized with basic information on Netlogo and the model.
</p>
<p>After setting up the nl object, an experiment needs to be attached.
The experiment class stores all information related to the NetLogo simulation experiment, such as runtime,
variables, constants, measurements, and more.
</p>
<p>After attaching an experiment, different simdesign helper functions can be used to attach a simdesign to the nl object.
The simdesign helper functions use the variable definitions from the experiment within the nl object to generate a parameter tibble for simulations.
</p>


<h3>Value</h3>

<p>nl S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example for Wolf Sheep Predation model from NetLogo models library:
# Windows default NetLogo installation path (adjust to your needs!):
netlogopath &lt;- file.path("C:/Program Files/NetLogo 6.0.3")
modelpath &lt;- file.path(netlogopath, "app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo")
outpath &lt;- file.path("C:/out")
# Unix default NetLogo installation path (adjust to your needs!):
netlogopath &lt;- file.path("/home/NetLogo 6.0.3")
modelpath &lt;- file.path(netlogopath, "app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo")
outpath &lt;- file.path("/home/out")

nl &lt;- nl(nlversion = "6.0.3",
         nlpath = netlogopath,
         modelpath = modelpath,
         jvmmem = 1024)

</code></pre>

<hr>
<h2 id='nl_distinct'>Wolf Sheep model sample data: simdesign distinct</h2><span id='topic+nl_distinct'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a distinct simulation design.
It also contains the model outputs within the simdesign object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_distinct
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_eFast'>Wolf Sheep model sample data: simdesign eFast</h2><span id='topic+nl_eFast'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run an eFast simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_eFast
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_ff'>Wolf Sheep model sample data: simdesign ff</h2><span id='topic+nl_ff'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a full-factorial simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_ff
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_gensa'>Wolf Sheep model sample data: gensa</h2><span id='topic+nl_gensa'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a simulated annealing simulation design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_gensa
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_lhs'>Wolf Sheep model sample data: simdesign lhs</h2><span id='topic+nl_lhs'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a latin hypercube simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_lhs
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_morris'>Wolf Sheep model sample data: simdesign morris</h2><span id='topic+nl_morris'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a morris simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_morris
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_simple'>Wolf Sheep model sample data: simdesign simple</h2><span id='topic+nl_simple'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a simple simulation design.
It also contains the model outputs within the simdesign object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_simple
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_sobol'>Wolf Sheep model sample data: simdesign sobol</h2><span id='topic+nl_sobol'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a sobol simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_sobol
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_sobol2007'>Wolf Sheep model sample data: simdesign sobol2007</h2><span id='topic+nl_sobol2007'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a sobol2007 simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_sobol2007
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_soboljansen'>Wolf Sheep model sample data: simdesign soboljansen</h2><span id='topic+nl_soboljansen'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a soboljansen simulation design.
It also contains the model outputs within the simdesign object.
Further analysis output can be derived by submitting the dataset to analyze_nl().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_soboljansen
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_spatial'>Wolf Sheep model sample data: spatial</h2><span id='topic+nl_spatial'></span>

<h3>Description</h3>

<p>The dataset contains a complete nl object.
The nl object has been used to setup and run a simple simulation design.
For these simulations, spatial agent output has been collected.
metrics.turtles was set up to measure turtle coordinates.
metrics.patches was set up to measure colors of cells.
It also contains the model outputs within the simdesign object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_spatial
</code></pre>


<h3>Format</h3>

<p>nl object with defined experiment, simdesign and model output
</p>

<hr>
<h2 id='nl_to_graph'>Generate igraph objects from measured turtles and links metrics</h2><span id='topic+nl_to_graph'></span>

<h3>Description</h3>

<p>Generate igraph objects from measured turtles and links metrics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_to_graph(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nl_to_graph_+3A_nl">nl</code></td>
<td>
<p>nl object
</p>
<p>Generate igraph objects from measured turtles and links metrics.
Output has to be attached to the simdesign first with simoutput(nl) &lt;- results
I graph objects are created automatically for each combination of random-seed, siminputrow and step.
An additional column with igraph objects is attached to the original output results tibble of the nl object.
In order to generate igraph objects some metrics are mandatory:
The metrics.turtles slot of the experiment must contain &quot;who&quot; numbers (see example experiment).
Additional turtle metrics will be stored as properties of the igraph vertices.
The metrics.links slot of the experiment must contain &quot;who&quot; numbers of link end1 and end2 (see example experiment).
Additional link metrics will be stored as properties of the igraph edges.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Example running the Giant Component model from the NetLogo models library:
library(nlrx)
library(igraph)
# Windows default NetLogo installation path (adjust to your needs!):
netlogopath &lt;- file.path("C:/Program Files/NetLogo 6.0.4")
modelpath &lt;- file.path(netlogopath, "app/models/Sample Models/Networks/Giant Component.nlogo")
outpath &lt;- file.path("C:/out")
# Unix default NetLogo installation path (adjust to your needs!):
netlogopath &lt;- file.path("/home/NetLogo 6.0.4")
modelpath &lt;- file.path(netlogopath, "app/models/Sample Models/Networks/Giant Component.nlogo")
outpath &lt;- file.path("/home/out")

nl &lt;- nl(nlversion = "6.0.4",
         nlpath = netlogopath,
         modelpath = modelpath,
         jvmmem = 1024)

nl@experiment &lt;- experiment(expname="networks",
                            outpath=outpath,
                            repetition=1,
                            tickmetrics="false",
                            idsetup="setup",
                            idgo="go",
                            runtime=50,
                            metrics.turtles = list("turtles" = c("who", "color")),
                            metrics.links = list("links" = c("[who] of end1", "[who] of end2")),
                            constants = list("num-nodes" = 80,
                                             "layout?" = "true"))

nl@simdesign &lt;- simdesign_simple(nl, 1)
nl@simdesign@simoutput &lt;- run_nl_all(nl)
nl.graph &lt;- nl_to_graph(nl)

## Extract graph of tick 1:
nl.graph.i &lt;- nl.graph$spatial.links[[1]]
## Set vertex colors by measured color variable:
vcols &lt;- c("7" = "grey", "15" = "red")
V(nl.graph.i)$color &lt;- vcols[as.character(V(nl.graph.i)$color)]
## Set edge colors by measured link breed:
ecols &lt;- c("links" = "black")
E(nl.graph.i)$color &lt;- ecols[E(nl.graph.i)$breed]

## Plot:
plot.igraph(nl.graph.i, vertex.size=8, vertex.label=NA, edge.arrow.size=0.2)


## End(Not run)
</code></pre>

<hr>
<h2 id='nl_to_points'>Get spatial data from metrics.turtles output</h2><span id='topic+nl_to_points'></span>

<h3>Description</h3>

<p>Turn turtle metrics from NetLogo in spatial data objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_to_points(nl, coords)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nl_to_points_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="nl_to_points_+3A_coords">coords</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts measured metrics.turtles into spatial sf point objects.
In order to so, a pair of turtle coordinates needs to be measured.
Any additional metrics will be stored as properties of the spatial points.
Because turtle coordinates in NetLogo can be measured in two formats,
pxcor/pycor or xcor/ycor coordinates, the type of coordinate used for
transformation to spatial objects need to be defined, using the parameter
coords: &quot;px&quot; for pxcor/pycor coordinates, &quot;x&quot; for xcor/ycor coordinates.
</p>
<p>In order to use this function, simulation results need to be attached to
the nl object first.
</p>


<h3>Value</h3>

<p>tibble with spatial data objects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load nl object (with spatial output data already attached) from test data:
nl &lt;- nl_spatial

# Convert turtle metrics (pxcor/pycor) to spatial point objects:
results.sf &lt;- nl_to_points(nl, coords="px")


</code></pre>

<hr>
<h2 id='nl_to_raster'>Get spatial data from metrics.patches output</h2><span id='topic+nl_to_raster'></span>

<h3>Description</h3>

<p>Turn patch metrics from NetLogo in spatial data objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nl_to_raster(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nl_to_raster_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts measured metrics.patches into spatial raster objects.
In order to so, a patch coordinates needs to be measured (pxcor/pycor).
For each additional patch metric, a raster will be created using the
measured coordinates as x and y and the additional metric as z dimension.
In case of multiple measured metrics, a raster stack with one raster
for each metric will be reported.
</p>
<p>In order to use this function, simulation results need to be attached to
the nl object first.
</p>


<h3>Value</h3>

<p>tibble with spatial data objects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load nl object (with spatial output data already attached) from test data:
nl &lt;- nl_spatial

# Convert patch metrics to spatial raster objects:
results.raster &lt;- nl_to_raster(nl)

</code></pre>

<hr>
<h2 id='nldoc'>Create NetLogo documentation</h2><span id='topic+nldoc'></span>

<h3>Description</h3>

<p>Create NetLogo documentation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc(
  modelfiles,
  outpath,
  infotab = TRUE,
  gui = TRUE,
  bs = TRUE,
  output_format = "html",
  number_sections = TRUE,
  theme = "journal",
  date = as.Date(Sys.time()),
  toc = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_+3A_modelfiles">modelfiles</code></td>
<td>
<p>vector of filepaths to model files</p>
</td></tr>
<tr><td><code id="nldoc_+3A_outpath">outpath</code></td>
<td>
<p>Path to folder where rendered documentation should be created</p>
</td></tr>
<tr><td><code id="nldoc_+3A_infotab">infotab</code></td>
<td>
<p>TRUE/FALSE, if TRUE infotab section will be included in the documentation</p>
</td></tr>
<tr><td><code id="nldoc_+3A_gui">gui</code></td>
<td>
<p>TRUE/FALSE, if TRUE a table with GUI elements from the model will be included in the documentation</p>
</td></tr>
<tr><td><code id="nldoc_+3A_bs">bs</code></td>
<td>
<p>TRUE/FALSE, if TRUE a table with behavior space experiments will be included in the documentation</p>
</td></tr>
<tr><td><code id="nldoc_+3A_output_format">output_format</code></td>
<td>
<p>either &quot;html&quot;, &quot;pdf&quot; or &quot;docx&quot;</p>
</td></tr>
<tr><td><code id="nldoc_+3A_number_sections">number_sections</code></td>
<td>
<p>TRUE/FALSE, if TRUE sections in the documentation will be numbered</p>
</td></tr>
<tr><td><code id="nldoc_+3A_theme">theme</code></td>
<td>
<p>markdown theme, supported themes are &quot;journal&quot;, &quot;cerulean&quot;, &quot;flatly&quot;, &quot;readable&quot;, &quot;spacelab&quot;, &quot;united&quot;, &quot;cosmo&quot;</p>
</td></tr>
<tr><td><code id="nldoc_+3A_date">date</code></td>
<td>
<p>date that is printed in the documentation header</p>
</td></tr>
<tr><td><code id="nldoc_+3A_toc">toc</code></td>
<td>
<p>TRUE/FALSE, if TRUE the documentation contains a table of contents - only for html and pdf output format</p>
</td></tr>
</table>


<h3>Details</h3>

<p>nldoc reads model code from the provided model files.
The code is then split into several groups (code, gui, behavior space).
The procedures then finds noxygen commands within the NetLogo model code.
For a complete list of noxygen commands type ?nldoc
These commands are translated into a markdown documentation file.
If needed, tables of gui elements and behavior space experiments are added to the markdown file.
Finally, the document is rendered in the specified format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# List model files (.nls subfiles are also supported)
modelfiles &lt;- c("https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nlogo",
                "https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nls")

# Define output directory:
outdir &lt;- tempdir()  # adjust path to your needs

# Create documentation:
nldoc(modelfiles = modelfiles,
      infotab=TRUE,
      gui=TRUE,
      bs=TRUE,
      outpath = outdir,
      output_format = "html",
      number_sections = TRUE,
      theme = "cosmo",
      date = date(),
      toc = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='nldoc_find_procedure_calls'>Determine procedure calls</h2><span id='topic+nldoc_find_procedure_calls'></span>

<h3>Description</h3>

<p>Determine procedure calls
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_find_procedure_calls(nlogocode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_find_procedure_calls_+3A_nlogocode">nlogocode</code></td>
<td>
<p>vector of netlogo code strings</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The procedure searches netlogo code for procedure definitions and calls.
The information is stored within a tibble that can be further processed.
</p>


<h3>Value</h3>

<p>tibble with procedure names and procedure calls
</p>

<hr>
<h2 id='nldoc_network'>Create NetLogo procedure network</h2><span id='topic+nldoc_network'></span>

<h3>Description</h3>

<p>Create NetLogo procedure network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_network(modelfiles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_network_+3A_modelfiles">modelfiles</code></td>
<td>
<p>vector of filepaths to model files</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reads model code from the provided model files.
The procedure identifies NetLogo procedures and searches for procedure calls within the code.
From this data, an igraph network is created and returned.
This network can be used to plot the model procedure network and identify model components.
</p>


<h3>Value</h3>

<p>network of model procedures (igraph)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# List model files (.nls subfiles are also supported)
modelfiles &lt;- c("https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nlogo",
                "https://raw.githubusercontent.com/nldoc/nldoc_pg/master/WSP.nls")

# Determine the function network:
nw &lt;- nldoc_network(modelfiles)

# Determine communities within the network and plot using Igraph package:
library(igraph)
com &lt;- walktrap.community(nw)
V(nw)$community &lt;- com$membership
rain &lt;- rainbow(14, alpha=.5)
V(nw)$color &lt;- rain[V(nw)$community]

plot(nw,
     edge.arrow.size=.2,
     vertex.label.color="black",
     vertex.label.dist=1,
     vertex.size=5,
     edge.curved=0,
     vertex.label.cex=.5,
     layout=layout_with_fr(nw, niter = 2000))

# Interactive plot using igraph::tkplot
tkplot(nw, layout=layout_with_fr(nw, niter = 2000))

## End(Not run)
</code></pre>

<hr>
<h2 id='nldoc_parse_modelcode'>Parse model code</h2><span id='topic+nldoc_parse_modelcode'></span>

<h3>Description</h3>

<p>Parse model code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_parse_modelcode(nlogocode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_parse_modelcode_+3A_nlogocode">nlogocode</code></td>
<td>
<p>vector of netlogo code strings</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The procedure searches for noxygen commands within the NetLogo code.
This information is used to structure the netlogo code strings in a tibble.
Additionally, tibbles with gui and behavior space information are created.
</p>


<h3>Value</h3>

<p>tibble with structured netlogo code
</p>

<hr>
<h2 id='nldoc_read_nlogo'>Read NetLogo model code from files</h2><span id='topic+nldoc_read_nlogo'></span>

<h3>Description</h3>

<p>Read NetLogo model code from files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_read_nlogo(modelfiles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_read_nlogo_+3A_modelfiles">modelfiles</code></td>
<td>
<p>vector of filepaths to model files</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The procedure reads text from the provided model files and reports the code as a vector of strings.
</p>


<h3>Value</h3>

<p>vector of strings containing NetLogo model code
</p>

<hr>
<h2 id='nldoc_table_bs'>Read NetLogo behavior space experiments from files</h2><span id='topic+nldoc_table_bs'></span>

<h3>Description</h3>

<p>Read NetLogo behavior space experiments from files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_table_bs(modelfiles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_table_bs_+3A_modelfiles">modelfiles</code></td>
<td>
<p>vector of filepaths to model files</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The procedure reads text from the provided model files and reports a list of behavior space experiments.
</p>


<h3>Value</h3>

<p>list containing NetLogo behavior space experiments
</p>

<hr>
<h2 id='nldoc_table_gui'>Read NetLogo GUI elements from files</h2><span id='topic+nldoc_table_gui'></span>

<h3>Description</h3>

<p>Read NetLogo GUI elements from files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_table_gui(modelfiles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_table_gui_+3A_modelfiles">modelfiles</code></td>
<td>
<p>vector of filepaths to model files</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The procedure reads text from the provided model files and reports a list of GUI elements.
</p>


<h3>Value</h3>

<p>list containing NetLogo GUI elements
</p>

<hr>
<h2 id='nldoc_write_nldoc'>Write NetLogo documentation</h2><span id='topic+nldoc_write_nldoc'></span>

<h3>Description</h3>

<p>Write NetLogo documentation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldoc_write_nldoc(
  noxygen,
  noxygen_it,
  noxygen_gui,
  noxygen_bs,
  outpath,
  output_format,
  number_sections,
  theme,
  date,
  toc
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldoc_write_nldoc_+3A_noxygen">noxygen</code></td>
<td>
<p>list with parsed and processed noxygen tags from NetLogo model code</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_noxygen_it">noxygen_it</code></td>
<td>
<p>list with parsed and processed infotab strings</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_noxygen_gui">noxygen_gui</code></td>
<td>
<p>list with parsed and processed noxygen tags from NetLogo GUI elements</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_noxygen_bs">noxygen_bs</code></td>
<td>
<p>list with parsed and processed noxygen tags from NetLogo behavior space experiments</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_outpath">outpath</code></td>
<td>
<p>Path to folder where rendered documentation should be created</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_output_format">output_format</code></td>
<td>
<p>either &quot;html&quot;, &quot;pdf&quot; or &quot;docx&quot;</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_number_sections">number_sections</code></td>
<td>
<p>TRUE/FALSE, if TRUE sections in the documentation will be numbered</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_theme">theme</code></td>
<td>
<p>markdown theme, supported themes are &quot;journal&quot;, &quot;cerulean&quot;, &quot;flatly&quot;, &quot;readable&quot;, &quot;spacelab&quot;, &quot;united&quot;, &quot;cosmo&quot;</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_date">date</code></td>
<td>
<p>date that is printed in the documentation header</p>
</td></tr>
<tr><td><code id="nldoc_write_nldoc_+3A_toc">toc</code></td>
<td>
<p>TRUE/FALSE, if TRUE the documentation contains a table of contents - only for html and pdf output format</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The procedure uses parsed and processed noxygen tags to create and render a markdown documentation in the specified format.
</p>


<h3>Value</h3>

<p>list containing NetLogo GUI elements
</p>

<hr>
<h2 id='print.nl'>Print content of nl object</h2><span id='topic+print.nl'></span>

<h3>Description</h3>

<p>Print content of nl object and embedded experiment and simdesign objects to console
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'nl'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.nl_+3A_x">x</code></td>
<td>
<p>nl object to print</p>
</td></tr>
<tr><td><code id="print.nl_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print content of the provided nl object in a readable format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
print(nl_lhs)

</code></pre>

<hr>
<h2 id='report_model_parameters'>Report globals from a NetLogo model that is defined within a nl object</h2><span id='topic+report_model_parameters'></span>

<h3>Description</h3>

<p>Report globals from a NetLogo model that is defined within a nl
object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report_model_parameters(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="report_model_parameters_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined modelpath that points to a NetLogo model
(*.nlogo)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function reads the NetLogo model file that is defined within the nl object
and reports all global parameters that are defined as widget elements on
the GUI of the NetLogo model.
Only globals that are found by this function are valid globals that can be
entered into the variables or constants vector of an experiment object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
nl &lt;- nl_lhs
report_model_parameters(nl)

## End(Not run)

</code></pre>

<hr>
<h2 id='run_nl_all'>Execute all NetLogo simulations from a nl object</h2><span id='topic+run_nl_all'></span>

<h3>Description</h3>

<p>Execute all NetLogo simulations from a nl object with a defined experiment and simdesign
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_nl_all(
  nl,
  split = 1,
  cleanup.csv = TRUE,
  cleanup.xml = TRUE,
  cleanup.bat = TRUE,
  writeRDS = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_nl_all_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="run_nl_all_+3A_split">split</code></td>
<td>
<p>number of parts the job should be split into</p>
</td></tr>
<tr><td><code id="run_nl_all_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_all_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_all_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_all_+3A_writerds">writeRDS</code></td>
<td>
<p>TRUE/FALSE, if TRUE, for each single simulation an rds file with the simulation results will be written to the defined outpath folder of the experiment within the nl object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>run_nl_all executes all simulations of the specified NetLogo model within the provided nl object.
The function loops over all random seeds and all rows of the siminput table of the simdesign of nl.
The loops are created by calling <a href="furrr.html#topic+future_map_dfr">future_map_dfr</a>, which allows running the function either locally or on remote HPC machines.
The logical cleanup variables can be set to FALSE to preserve temporary generated output files (e.g. for debugging).
cleanup.csv deletes/keeps the temporary generated model output files from each run.
cleanup.xml deletes/keeps the temporary generated experiment xml files from each run.
cleanup.bat deletes/keeps the temporary generated batch/sh commandline files from each run.
</p>
<p>When using run_nl_all in a parallelized environment (e.g. by setting up a future plan using the future package),
the outer loop of this function (random seeds) creates jobs that are distributed to available cores of the current machine.
The inner loop (siminputrows) distributes simulation tasks to these cores.
However, it might be advantageous to split up large jobs into smaller jobs for example to reduce the total runtime of each job.
This can be done using the split parameter. If split is &gt; 1 the siminput matrix is split into smaller parts.
Jobs are created for each combination of part and random seed.
If the split parameter is set such that the siminput matrix can not be splitted into equal parts, the procedure will stop and throw an error message.
</p>


<h4>Debugging &quot;Temporary simulation output file not found&quot; error message:</h4>

<p>Whenever this error message appears it means that the simulation did not produce any output.
Two main reasons can lead to this problem, either the simulation did not even start or the simulation crashed during runtime.
Both can happen for several reasons and here are some hints for debugging this:
</p>

<ol>
<li><p> Missing software:
Make sure that java is installed and available from the terminal (java -version).
Make sure that NetLogo is installed and available from the terminal.
</p>
</li>
<li><p> Wrong path definitions:
Make sure your nlpath points to a folder containing NetLogo.
Make sure your modelpath points to a *.nlogo model file.
Make sure that the nlversion within your nl object matches the NetLogo version of your nlpath.
Use the convenience function of nlrx for checking your nl object (print(nl), eval_variables_constants(nl)).
</p>
</li>
<li><p> Temporary files cleanup:
Due to automatic temp file cleanup on unix systems temporary output might be deleted.
Try reassigning the default temp folder for this R session (the unixtools package has a neat function).
</p>
</li>
<li><p> NetLogo runtime crashes:
It can happen that your NetLogo model started but failed to produce output because of a NetLogo runtime error.
Make sure your model is working correctly or track progress using print statements.
Sometimes the java virtual machine crashes due to memory constraints.
</p>
</li></ol>




<h3>Value</h3>

<p>tibble with simulation output results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Load nl object from test data:
nl &lt;- nl_lhs

# Execute all simulations from an nl object with properly attached simdesign.
results &lt;- run_nl_all(nl)

# Run in parallel on local machine:
library(future)
plan(multisession)
results &lt;- run_nl_all(nl)


## End(Not run)
</code></pre>

<hr>
<h2 id='run_nl_dyn'>Execute NetLogo simulation without pregenerated parametersets</h2><span id='topic+run_nl_dyn'></span>

<h3>Description</h3>

<p>Execute NetLogo simulation from a nl object with a defined experiment and simdesign but no pregenerated input parametersets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_nl_dyn(
  nl,
  seed,
  cleanup.csv = TRUE,
  cleanup.xml = TRUE,
  cleanup.bat = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_nl_dyn_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="run_nl_dyn_+3A_seed">seed</code></td>
<td>
<p>a random seed for the NetLogo simulation</p>
</td></tr>
<tr><td><code id="run_nl_dyn_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_dyn_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_dyn_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>run_nl_dyn can be used for simdesigns where no predefined parametersets exist.
This is the case for dynamic designs, such as Simulated Annealing and Genetic Algorithms, where parametersets are dynamically generated, based on the output of previous simulations.
The logical cleanup variables can be set to FALSE to preserve temporary generated output files (e.g. for debugging).
cleanup.csv deletes/keeps the temporary generated model output files from each run.
cleanup.xml deletes/keeps the temporary generated experiment xml files from each run.
cleanup.bat deletes/keeps the temporary generated batch/sh commandline files from each run.
</p>


<h3>Value</h3>

<p>simulation output results can be tibble, list, ...
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Load nl object form test data:
nl &lt;- nl_lhs

# Add genalg simdesign:
nl@simdesign &lt;- simdesign_GenAlg(nl=nl,
                                  popSize = 200,
                                  iters = 100,
                                  evalcrit = 1,
                                  nseeds = 1)

# Run simulations:
results &lt;- run_nl_dyn(nl)


## End(Not run)
</code></pre>

<hr>
<h2 id='run_nl_one'>Execute one NetLogo simulation from a nl object</h2><span id='topic+run_nl_one'></span>

<h3>Description</h3>

<p>Execute one NetLogo simulation from a nl object with a defined experiment and simdesign
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_nl_one(
  nl,
  seed,
  siminputrow,
  cleanup.csv = TRUE,
  cleanup.xml = TRUE,
  cleanup.bat = TRUE,
  writeRDS = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_nl_one_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="run_nl_one_+3A_seed">seed</code></td>
<td>
<p>a random seed for the NetLogo simulation</p>
</td></tr>
<tr><td><code id="run_nl_one_+3A_siminputrow">siminputrow</code></td>
<td>
<p>rownumber of the input tibble within the attached simdesign object that should be executed</p>
</td></tr>
<tr><td><code id="run_nl_one_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_one_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_one_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="run_nl_one_+3A_writerds">writeRDS</code></td>
<td>
<p>TRUE/FALSE, if TRUE an rds file with the simulation results will be written to the defined outpath folder of the experiment within the nl object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>run_nl_one executes one simulation of the specified NetLogo model within the provided nl object.
The random seed is set within the NetLogo model to control stochasticity.
The siminputrow number defines which row of the input data tibble within the simdesign object of the provided nl object is executed.
The logical cleanup variables can be set to FALSE to preserve temporary generated output files (e.g. for debugging).
cleanup.csv deletes/keeps the temporary generated model output files from each run.
cleanup.xml deletes/keeps the temporary generated experiment xml files from each run.
cleanup.bat deletes/keeps the temporary generated batch/sh commandline files from each run.
</p>
<p>This function can be used to run single simulations of a NetLogo model.
</p>


<h3>Value</h3>

<p>tibble with simulation output results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Load nl object from test data:
nl &lt;- nl_lhs

# Run one simulation:
results &lt;- run_nl_one(nl = nl,
                      seed = getsim(nl, "simseeds")[1],
                      siminputrow = 1)


## End(Not run)
</code></pre>

<hr>
<h2 id='setexp+26lt+3B-'>Setter function to set a variable of an experiment object</h2><span id='topic+setexp+3C-'></span><span id='topic+setexp'></span>

<h3>Description</h3>

<p>Setter function to set a variable of an experiment object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setexp(nl, var) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setexp+2B26lt+2B3B-_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="setexp+2B26lt+2B3B-_+3A_var">var</code></td>
<td>
<p>valid experiment variable string</p>
</td></tr>
<tr><td><code id="setexp+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>valid value for the specified variable</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl(nlversion = "6.0.3",
nlpath = "/home/user/NetLogo 6.0.3/",
modelpath = "/home/user/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo",
jvmmem = 1024)

# Set experiment name
setexp(nl, "expname") &lt;- "experimentName"

</code></pre>

<hr>
<h2 id='setnl+26lt+3B-'>Setter function to set a variable of a nl object</h2><span id='topic+setnl+3C-'></span><span id='topic+setnl'></span>

<h3>Description</h3>

<p>Setter function to set a variable of a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setnl(nl, var) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setnl+2B26lt+2B3B-_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="setnl+2B26lt+2B3B-_+3A_var">var</code></td>
<td>
<p>valid nl variable string</p>
</td></tr>
<tr><td><code id="setnl+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>valid value for the specified variable</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl(
nlpath = "/home/user/NetLogo 6.0.3/",
modelpath = "/home/user/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo",
jvmmem = 1024)

# set NetLogo version
setnl(nl, "nlversion") &lt;- "6.0.3"

</code></pre>

<hr>
<h2 id='setsim+26lt+3B-'>Setter function to set a variable of a simdesign object</h2><span id='topic+setsim+3C-'></span><span id='topic+setsim'></span>

<h3>Description</h3>

<p>Setter function to set a variable of a simdesign object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setsim(nl, var) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setsim+2B26lt+2B3B-_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="setsim+2B26lt+2B3B-_+3A_var">var</code></td>
<td>
<p>valid simdesign variable string</p>
</td></tr>
<tr><td><code id="setsim+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>valid value for the specified variable</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example for Wolf Sheep Predation model from NetLogo models library:
nl &lt;- nl(nlversion = "6.0.3",
nlpath = "/home/user/NetLogo 6.0.3/",
modelpath = "/home/user/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo",
jvmmem = 1024)

# Set simulation seeds
setsim(nl, "simseeds") &lt;- c(123, 456, 789)

</code></pre>

<hr>
<h2 id='simdesign'>Construct a new simdesign object</h2><span id='topic+simdesign'></span>

<h3>Description</h3>

<p>Construct a new simdesign object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign(
  simmethod = character(),
  siminput = tibble::tibble(),
  simobject = list(),
  simseeds = NA_integer_,
  simoutput = tibble::tibble(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_+3A_simmethod">simmethod</code></td>
<td>
<p>character string defining the method of the simulation design</p>
</td></tr>
<tr><td><code id="simdesign_+3A_siminput">siminput</code></td>
<td>
<p>tibble providing input parameterisations for the NetLogo model (cols=parameter, rows=runs)</p>
</td></tr>
<tr><td><code id="simdesign_+3A_simobject">simobject</code></td>
<td>
<p>used for some methods to store additional information (sobol, morris, eFast)</p>
</td></tr>
<tr><td><code id="simdesign_+3A_simseeds">simseeds</code></td>
<td>
<p>a vector or model random seeds</p>
</td></tr>
<tr><td><code id="simdesign_+3A_simoutput">simoutput</code></td>
<td>
<p>tibble containing model results</p>
</td></tr>
<tr><td><code id="simdesign_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The simulation design class holds information on the input parameter design of model simulations.
It also stores information that is needed to run method specific analysis functions.
The simseeds can be used to run all model simulations that are defined within the siminput tibble several times with changing random-seeds.
While it is possible to add simdesign directly with this function, we suggest to use our simdesign_helper functions.
A simulation design can be attached to a nl object by using one of these simdesign_helper functions on an already defined <a href="#topic+nl">nl</a>
object with a valid <a href="#topic+experiment">experiment</a>.
All simdesign helpers use the defined constants and variables of the experiment to create the siminput tibble.
NetLogo parameters that are not defined in constants or variables will be set with their default value from the NetLogo interface.
</p>
<p>Currently, following simdesign_helper functions are provided:
</p>
<p><a href="#topic+simdesign_simple">simdesign_simple</a>
</p>
<p>The simple simdesign only uses defined constants and reports a parameter matrix with only one parameterization.
To setup a simple simdesign, no variables have to be defined.
</p>
<p><a href="#topic+simdesign_distinct">simdesign_distinct</a>
</p>
<p>The distinct simdesign can be used to run distinct parameter combinations.
To setup a distinct simdesign, vectors of values need to be defined for each variable.
These vectors must have the same number of elements across all variables.
The first simulation run consist of all 1st elements of these variable vectors; the second run uses all 2nd values, and so on.
</p>
<p><a href="#topic+simdesign_ff">simdesign_ff</a>
</p>
<p>The full factorial simdesign creates a full-factorial parameter matrix with all possible combinations of parameter values.
To setup a full-factorial simdesign, vectors of values need to be defined for each variable.
Alternatively, a sequence can be defined by setting min, max and step.
However, if both (values and min, max, step) are defined, the values vector is prioritized.
</p>
<p><a href="#topic+simdesign_lhs">simdesign_lhs</a>
</p>
<p>The latin hypercube simdesign creates a Latin Hypercube sampling parameter matrix.
The method can be used to generate a near-random sample of parameter values from the defined parameter distributions.
More Details on Latin Hypercube Sampling can be found in McKay (1979) <a href="https://doi.org/10.1080/00401706.1979.10489755">doi:10.1080/00401706.1979.10489755</a>.
nlrx uses the <a href="https://CRAN.R-project.org/package=lhs/index.html">lhs</a> package to generate the Latin Hypercube parameter matrix.
To setup a latin hypercube sampling simdesign, variable distributions need to be defined (min, max, qfun).
</p>
<p>Sensitivity Analyses: <a href="#topic+simdesign_sobol">simdesign_sobol</a>, <a href="#topic+simdesign_sobol2007">simdesign_sobol2007</a>, <a href="#topic+simdesign_soboljansen">simdesign_soboljansen</a>, <a href="#topic+simdesign_morris">simdesign_morris</a>, <a href="#topic+simdesign_eFast">simdesign_eFast</a>
</p>
<p>Sensitivity analyses are useful to estimate the importance of model parameters and to scan the parameter space in an efficient way.
nlrx uses the <a href="https://CRAN.R-project.org/package=sensitivity/index.html">sensitivity</a> package to setup sensitivity analysis parameter matrices.
All supported sensitivity analysis simdesigns can be used to calculate sensitivity indices for each parameter-output combination.
These indices can be calculated by using the <a href="#topic+analyze_nl">analyze_nl</a> function after attaching the simulation results to the nl object.
To setup sensitivity analysis simdesigns, variable distributions (min, max, qfun) need to be defined.
</p>
<p>Optimization techniques: <a href="#topic+simdesign_GenSA">simdesign_GenSA</a>, <a href="#topic+simdesign_GenAlg">simdesign_GenAlg</a>
</p>
<p>Optimization techniques are a powerful tool to search the parameter space for specific solutions.
Both approaches try to minimize a specified model output reporter by systematically (genetic algorithm, utilizing the <a href="https://CRAN.R-project.org/package=genalg/index.html">genalg</a> package) or randomly (simulated annealing, utilizing the <a href="https://CRAN.R-project.org/package=GenSA/index.html">genSA</a> package) changing the model parameters within the allowed ranges.
To setup optimization simdesigns, variable ranges (min, max) need to be defined.
Optimization simdesigns can only be executed using the <a href="#topic+run_nl_dyn">run_nl_dyn</a> function instead of <a href="#topic+run_nl_all">run_nl_all</a> or <a href="#topic+run_nl_one">run_nl_one</a>.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load nl objects from test data.

# Simdesign examples for Wolf Sheep Predation model from NetLogo models library:

nl &lt;- nl_simple
nl@simdesign &lt;- simdesign_simple(nl = nl,
                                 nseeds = 3)

nl &lt;- nl_distinct
nl@simdesign &lt;- simdesign_distinct(nl = nl,
                                   nseeds = 3)

nl &lt;- nl_ff
nl@simdesign &lt;- simdesign_ff(nl = nl,
                             nseeds = 3)

nl &lt;- nl_lhs
nl@simdesign &lt;- simdesign_lhs(nl=nl,
                              samples=100,
                              nseeds=3,
                              precision=3)

nl &lt;- nl_sobol
nl@simdesign &lt;- simdesign_sobol(nl=nl,
                                samples=200,
                                sobolorder=2,
                                sobolnboot=20,
                                sobolconf=0.95,
                                nseeds=3,
                                precision=3)

nl &lt;- nl_sobol2007
nl@simdesign &lt;- simdesign_sobol2007(nl=nl,
                                    samples=200,
                                    sobolnboot=20,
                                    sobolconf=0.95,
                                    nseeds=3,
                                    precision=3)

nl &lt;- nl_soboljansen
nl@simdesign &lt;- simdesign_soboljansen(nl=nl,
                                      samples=200,
                                      sobolnboot=20,
                                      sobolconf=0.95,
                                      nseeds=3,
                                      precision=3)

nl &lt;- nl_morris
nl@simdesign &lt;- simdesign_morris(nl=nl,
                                 morristype="oat",
                                 morrislevels=4,
                                 morrisr=100,
                                 morrisgridjump=2,
                                 nseeds=3)

nl &lt;- nl_eFast
nl@simdesign &lt;- simdesign_eFast(nl=nl,
                                samples=100,
                                nseeds=3)

nl &lt;- nl_lhs
nl@simdesign &lt;- simdesign_GenAlg(nl=nl,
                                 popSize = 200,
                                 iters = 100,
                                 evalcrit = 1,
                                 elitism = NA,
                                 mutationChance = NA,
                                 nseeds = 1)

nl &lt;- nl_lhs
nl@simdesign &lt;- simdesign_GenSA(nl=nl,
                                par=NULL,
                                evalcrit=1,
                                control=list(max.time = 600),
                                nseeds=1)


</code></pre>

<hr>
<h2 id='simdesign_ABCmcmc_Marjoram'>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Majoram algorithm to a nl object</h2><span id='topic+simdesign_ABCmcmc_Marjoram'></span>

<h3>Description</h3>

<p>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Majoram algorithm to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_ABCmcmc_Marjoram(
  nl,
  postpro_function = NULL,
  summary_stat_target,
  prior_test = NULL,
  n_rec,
  n_between_sampling = 10,
  n_cluster = 1,
  use_seed = FALSE,
  dist_weights = NULL,
  n_calibration = 10000,
  tolerance_quantile = 0.01,
  proposal_phi = 1,
  seed_count = 0,
  progress_bar = FALSE,
  nseeds
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_postpro_function">postpro_function</code></td>
<td>
<p>default is NULL. Allows to provide a function that is called to post-process the output Tibble of the NetLogo simulations. The function must accept the nl object with attached results as input argument. The function must return a one-dimensional vector of output metrics that corresponds in length and order to the specified summary_stat_target.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_summary_stat_target">summary_stat_target</code></td>
<td>
<p>a vector of target values in the same order as the defined metrics of the experiment</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_prior_test">prior_test</code></td>
<td>
<p>a string expressing the constraints between model parameters. This expression will be evaluated as a logical expression, you can use all the logical operators including &quot;&lt;&quot;, &quot;&gt;&quot;, ... Each parameter should be designated with &quot;X1&quot;, &quot;X2&quot;, ... in the same order as in the prior definition. Set to NULL to disable.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_n_rec">n_rec</code></td>
<td>
<p>Number of samples along the MCMC</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_n_between_sampling">n_between_sampling</code></td>
<td>
<p>a positive integer equal to the desired spacing between sampled points along the MCMC.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_n_cluster">n_cluster</code></td>
<td>
<p>number of cores to parallelize simulations. Due to the design of the EasyABC parallelization it is currently not possible to use this feature with cores &gt; 1.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_use_seed">use_seed</code></td>
<td>
<p>if TRUE, seeds will be automatically created for each new model run</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_dist_weights">dist_weights</code></td>
<td>
<p>a vector containing the weights to apply to the distance between the computed and the targeted statistics. These weights can be used to give more importance to a summary statistic for example. The weights will be normalized before applying them. Set to NULL to disable.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_n_calibration">n_calibration</code></td>
<td>
<p>a positive integer. This is the number of simulations performed during the calibration step. Default value is 10000.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_tolerance_quantile">tolerance_quantile</code></td>
<td>
<p>a positive number between 0 and 1 (strictly). This is the percentage of simulations retained during the calibration step to determine the tolerance threshold to be used during the MCMC. Default value is 0.01.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_proposal_phi">proposal_phi</code></td>
<td>
<p>a positive number. This is a scaling factor defining the range of MCMC jumps. Default value is 1.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_seed_count">seed_count</code></td>
<td>
<p>a positive integer, the initial seed value provided to the function model (if use_seed=TRUE). This value is incremented by 1 at each call of the function model.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_progress_bar">progress_bar</code></td>
<td>
<p>logical, FALSE by default. If TRUE, ABC_mcmc will output a bar of progression with the estimated remaining computing time. Option not available with multiple cores.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and a shape of the distribution (qunif, qnorm, qlnorm, qexp)(e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The function uses the EasyABC package to set up the ABC_mcmc function.
For details on the ABC_mcmc function parameters see ?EasyABC::ABC_mcmc
Finally, the function reports a simdesign object.
</p>
<p>Approximate Bayesian Computation simdesigns can only be executed using the <a href="#topic+run_nl_dyn">run_nl_dyn</a> function instead of <a href="#topic+run_nl_all">run_nl_all</a> or <a href="#topic+run_nl_one">run_nl_one</a>.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_lhs

# Attach the simdesign to the nl object
nl@simdesign &lt;- simdesign_ABCmcmc_Marjoram(nl = nl,
                                            summary_stat_target = c(100, 80),
                                            n_rec = 100,
                                            n_between_sampling = 10,
                                            n_cluster = 1,
                                            use_seed = FALSE,
                                            n_calibration = 10000,
                                            tolerance_quantile = 0.01,
                                            proposal_phi = 1,
                                            progress_bar = FALSE,
                                            nseeds = 1)

</code></pre>

<hr>
<h2 id='simdesign_ABCmcmc_Marjoram_original'>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Majoram Original algorithm to a nl object</h2><span id='topic+simdesign_ABCmcmc_Marjoram_original'></span>

<h3>Description</h3>

<p>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Majoram Original algorithm to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_ABCmcmc_Marjoram_original(
  nl,
  postpro_function = NULL,
  summary_stat_target,
  prior_test = NULL,
  n_rec,
  n_between_sampling = 10,
  n_cluster = 1,
  use_seed = FALSE,
  dist_weights = NULL,
  dist_max = 0,
  tab_normalization = summary_stat_target,
  proposal_range = vector(mode = "numeric", length = length(getexp(nl, "variables"))),
  seed_count = 0,
  progress_bar = FALSE,
  nseeds
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_postpro_function">postpro_function</code></td>
<td>
<p>default is NULL. Allows to provide a function that is called to post-process the output Tibble of the NetLogo simulations. The function must accept the nl object with attached results as input argument. The function must return a one-dimensional vector of output metrics that corresponds in leght and order to the specified summary_stat_target.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_summary_stat_target">summary_stat_target</code></td>
<td>
<p>a vector of target values in the same order as the defined metrics of the experiment</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_prior_test">prior_test</code></td>
<td>
<p>a string expressing the constraints between model parameters. This expression will be evaluated as a logical expression, you can use all the logical operators including &quot;&lt;&quot;, &quot;&gt;&quot;, ... Each parameter should be designated with &quot;X1&quot;, &quot;X2&quot;, ... in the same order as in the prior definition. Set to NULL to disable.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_n_rec">n_rec</code></td>
<td>
<p>Number of samples along the MCMC</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_n_between_sampling">n_between_sampling</code></td>
<td>
<p>a positive integer equal to the desired spacing between sampled points along the MCMC.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_n_cluster">n_cluster</code></td>
<td>
<p>number of cores to parallelize simulations. Due to the design of the EasyABC parallelization it is currently not possible to use this feature with cores &gt; 1.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_use_seed">use_seed</code></td>
<td>
<p>if TRUE, seeds will be automatically created for each new model run</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_dist_weights">dist_weights</code></td>
<td>
<p>a vector containing the weights to apply to the distance between the computed and the targeted statistics. These weights can be used to give more importance to a summary statistic for example. The weights will be normalized before applying them. Set to NULL to disable.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_dist_max">dist_max</code></td>
<td>
<p>a positive number. This is the tolerance threshold used during the MCMC. If not provided by the user, it is automatically computed as half the distance between the first simulation and the target summary statistics and a warning is printed.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_tab_normalization">tab_normalization</code></td>
<td>
<p>a vector of the same length as summary_stat_target. Each element contains a positive number by which each summary statistics must be divided before the computation of the Euclidean distance between simulations and data. If not provided by the user, the simulated summary statistics are divided by the target summary statistics and a warning is printed.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_proposal_range">proposal_range</code></td>
<td>
<p>a vector of the same length as the number of model parameters, used when method is &quot;Marjoram_original&quot;. Each element contains a positive number defining the range of MCMC jumps for each model parameter. If not provided by the user, a default value is used for each parameter and a warning is printed. The default value is 1/50 of the prior range for uniform distributions, 1/20 of the standard deviation of the prior distribution for normal distributions, 1/20 * exp ( sigma * sigma</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_seed_count">seed_count</code></td>
<td>
<p>a positive integer, the initial seed value provided to the function model (if use_seed=TRUE). This value is incremented by 1 at each call of the function model.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_progress_bar">progress_bar</code></td>
<td>
<p>logical, FALSE by default. If TRUE, ABC_mcmc will output a bar of progression with the estimated remaining computing time. Option not available with multiple cores.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Marjoram_original_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and a shape of the distribution (qunif, qnorm, qlnorm, qexp)(e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The function uses the EasyABC package to set up the ABC_mcmc function.
For details on the ABC_mcmc function parameters see ?EasyABC::ABC_mcmc
Finally, the function reports a simdesign object.
</p>
<p>Approximate Bayesian Computation simdesigns can only be executed using the <a href="#topic+run_nl_dyn">run_nl_dyn</a> function instead of <a href="#topic+run_nl_all">run_nl_all</a> or <a href="#topic+run_nl_one">run_nl_one</a>.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_lhs

# Attach the simdesign to the nl object
nl@simdesign &lt;- simdesign_ABCmcmc_Marjoram_original(nl = nl,
                                                     summary_stat_target = c(100, 80),
                                                     n_rec = 100,
                                                     n_between_sampling = 10,
                                                     nseeds = 1)

</code></pre>

<hr>
<h2 id='simdesign_ABCmcmc_Wegmann'>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Wegmann algorithm to a nl object</h2><span id='topic+simdesign_ABCmcmc_Wegmann'></span>

<h3>Description</h3>

<p>Add an Approximate Bayesian Computation (Monte-Carlo Markov-Chain) simdesign using the Wegmann algorithm to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_ABCmcmc_Wegmann(
  nl,
  postpro_function = NULL,
  summary_stat_target,
  prior_test = NULL,
  n_rec,
  n_between_sampling = 10,
  n_cluster = 1,
  use_seed = FALSE,
  dist_weights = NULL,
  n_calibration = 10000,
  tolerance_quantile = 0.01,
  proposal_phi = 1,
  numcomp = 0,
  seed_count = 0,
  progress_bar = FALSE,
  nseeds
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_postpro_function">postpro_function</code></td>
<td>
<p>default is NULL. Allows to provide a function that is called to post-process the output Tibble of the NetLogo simulations. The function must accept the nl object with attached results as input argument. The function must return a one-dimensional vector of output metrics that corresponds in leght and order to the specified summary_stat_target.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_summary_stat_target">summary_stat_target</code></td>
<td>
<p>a vector of target values in the same order as the defined metrics of the experiment</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_prior_test">prior_test</code></td>
<td>
<p>a string expressing the constraints between model parameters. This expression will be evaluated as a logical expression, you can use all the logical operators including &quot;&lt;&quot;, &quot;&gt;&quot;, ... Each parameter should be designated with &quot;X1&quot;, &quot;X2&quot;, ... in the same order as in the prior definition. Set to NULL to disable.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_n_rec">n_rec</code></td>
<td>
<p>Number of samples along the MCMC</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_n_between_sampling">n_between_sampling</code></td>
<td>
<p>a positive integer equal to the desired spacing between sampled points along the MCMC.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_n_cluster">n_cluster</code></td>
<td>
<p>number of cores to parallelize simulations. Due to the design of the EasyABC parallelization it is currently not possible to use this feature with cores &gt; 1.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_use_seed">use_seed</code></td>
<td>
<p>if TRUE, seeds will be automatically created for each new model run</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_dist_weights">dist_weights</code></td>
<td>
<p>a vector containing the weights to apply to the distance between the computed and the targeted statistics. These weights can be used to give more importance to a summary statistic for example. The weights will be normalized before applying them. Set to NULL to disable.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_n_calibration">n_calibration</code></td>
<td>
<p>a positive integer. This is the number of simulations performed during the calibration step. Default value is 10000.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_tolerance_quantile">tolerance_quantile</code></td>
<td>
<p>a positive number between 0 and 1 (strictly). This is the percentage of simulations retained during the calibration step to determine the tolerance threshold to be used during the MCMC. Default value is 0.01.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_proposal_phi">proposal_phi</code></td>
<td>
<p>a positive number. This is a scaling factor defining the range of MCMC jumps. Default value is 1.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_numcomp">numcomp</code></td>
<td>
<p>a positive integer. This is the number of components to be used for PLS transformations. Default value is 0 which encodes that this number is equal to the number of summary statistics.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_seed_count">seed_count</code></td>
<td>
<p>a positive integer, the initial seed value provided to the function model (if use_seed=TRUE). This value is incremented by 1 at each call of the function model.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_progress_bar">progress_bar</code></td>
<td>
<p>logical, FALSE by default. If TRUE, ABC_mcmc will output a bar of progression with the estimated remaining computing time. Option not available with multiple cores.</p>
</td></tr>
<tr><td><code id="simdesign_ABCmcmc_Wegmann_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and a shape of the distribution (qunif, qnorm, qlnorm, qexp)(e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The function uses the EasyABC package to set up the ABC_mcmc function.
For details on the ABC_mcmc function parameters see ?EasyABC::ABC_mcmc
Finally, the function reports a simdesign object.
</p>
<p>Approximate Bayesian Computation simdesigns can only be executed using the <a href="#topic+run_nl_dyn">run_nl_dyn</a> function instead of <a href="#topic+run_nl_all">run_nl_all</a> or <a href="#topic+run_nl_one">run_nl_one</a>.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_lhs

# Attach the simdesign to the nl object
nl@simdesign &lt;- simdesign_ABCmcmc_Wegmann(nl = nl,
                                            summary_stat_target = c(100, 80),
                                            n_rec = 100,
                                            n_between_sampling = 10,
                                            n_cluster = 1,
                                            use_seed = FALSE,
                                            n_calibration = 10000,
                                            tolerance_quantile = 0.01,
                                            proposal_phi = 1,
                                            progress_bar = FALSE,
                                            nseeds = 1)

</code></pre>

<hr>
<h2 id='simdesign_distinct'>Add a distinct simdesign to a nl object</h2><span id='topic+simdesign_distinct'></span>

<h3>Description</h3>

<p>Add a distinct simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_distinct(nl, nseeds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_distinct_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_distinct_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
The distinct simdesign allows to create a parameter matrix with distinct parameterisations.
</p>
<p>Variables in the experiment variable list need to provide a vector of distinct values (e.g. list(values=c(1,2,3,4)).
All vectors of values must have the same length across variables.
</p>
<p>The distinct simdesign then creates one simulation run for all first elements of these values vectors,
one run for all second items, and so on.
With this function, multiple distinct simulations can be run at once.
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_distinct
nl@simdesign &lt;- simdesign_distinct(nl = nl, nseeds = 3)


</code></pre>

<hr>
<h2 id='simdesign_eFast'>Add an eFast simdesign to a nl object</h2><span id='topic+simdesign_eFast'></span>

<h3>Description</h3>

<p>Add an eFast simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_eFast(nl, samples, nseeds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_eFast_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_eFast_+3A_samples">samples</code></td>
<td>
<p>number of samples for the eFast sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_eFast_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and qfun (e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The eFast simdesign uses the sensitivity package to set up a fast99 elementary effects sensitivity analysis, including a simobject of class fast99 and a input tibble for simulations.
For details on method specific sensitivity analysis function parameters see ?fast99
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_eFast
nl@simdesign &lt;- simdesign_eFast(nl=nl,
                                 samples=100,
                                 nseeds=1)


</code></pre>

<hr>
<h2 id='simdesign_ff'>Add a full-factorial simdesign to a nl object</h2><span id='topic+simdesign_ff'></span>

<h3>Description</h3>

<p>Add a full-factorial simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_ff(nl, nseeds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_ff_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_ff_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a vector of distinct values (e.g. list(values=c(1,2,3,4)).
Or a sequence definition with min, max and step (e.g. list=(min=1, max=4, step=1)).
If both (values and sequence) are defined, the full-factorial design gives priority to the values.
</p>
<p>The full-factorial simdesign uses these defined parameter ranges within the nl object.
A full-factorial matrix of all parameter combinations is created as input tibble for the simdesign.
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_ff
nl@simdesign &lt;- simdesign_ff(nl = nl, nseeds = 3)


</code></pre>

<hr>
<h2 id='simdesign_GenAlg'>Add a Genetic Algorithm simdesign to a nl object</h2><span id='topic+simdesign_GenAlg'></span>

<h3>Description</h3>

<p>Add a Genetic Algorithm simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_GenAlg(
  nl,
  popSize = 200,
  iters = 100,
  evalcrit = 1,
  elitism = NA,
  mutationChance = NA,
  nseeds = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_GenAlg_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_GenAlg_+3A_popsize">popSize</code></td>
<td>
<p>population Size parameter for genetic algorithm</p>
</td></tr>
<tr><td><code id="simdesign_GenAlg_+3A_iters">iters</code></td>
<td>
<p>number of iterations for genetic algorithm function</p>
</td></tr>
<tr><td><code id="simdesign_GenAlg_+3A_evalcrit">evalcrit</code></td>
<td>
<p>position of evaluation criterion within defined NetLogo metrics of nl experiment or a function that reports a single numeric value</p>
</td></tr>
<tr><td><code id="simdesign_GenAlg_+3A_elitism">elitism</code></td>
<td>
<p>elitism rate of genetic algorithm function</p>
</td></tr>
<tr><td><code id="simdesign_GenAlg_+3A_mutationchance">mutationChance</code></td>
<td>
<p>mutation rate of genetic algorithm function</p>
</td></tr>
<tr><td><code id="simdesign_GenAlg_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min and max (e.g. list(min=1, max=4)).
</p>
<p>The GenAlg simdesign generates a Genetic Algorithm experiment within the defined min and max parameter boundaries
that are defined in the variables field of the experiment object within the nl object.
</p>
<p>The evalcrit reporter defines the evaluation criterion for the Genetic algorithm procedure.
There are two options to evaluate the fitness value of each iteration of the algorithm:
</p>

<ol>
<li><p> Use a reporter that is defined within the experiment metrics vector.
You can just enter the position of that metric within the experiment metrics vector (e.g. 1 would use the first defined metric of the experiment to evaluate each iteration).
The algorithm automatically calculates the mean value of this reporter if evalticks is defined to measure multiple ticks during each simulation.
</p>
</li>
<li><p> Use a self-defined evaluation function
You can define a function that post-processes NetLogo output to calculate an evaluation value. This function must accept the nl object as input and return one single numeric value.
The nl object that is then provided to the evaluation function will have results of the current iteration attached. The results can be accessed via the simoutput slot of the simdesign.
You can pass this function to evalcrit. It is then applied to the output of each iteration.
</p>
</li></ol>

<p>The function uses the genalg package to set up a Genetic Algorithm function.
For details on the genalg function parameters see ?genalg::rbga
Finally, the function reports a simdesign object.
</p>
<p>Genetic Algorithm simdesigns can only be executed using the <a href="#topic+run_nl_dyn">run_nl_dyn</a> function instead of <a href="#topic+run_nl_all">run_nl_all</a> or <a href="#topic+run_nl_one">run_nl_one</a>.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_lhs

# Example 1: Using a metric from the experiment metrics vector for evaluation:
nl@simdesign &lt;- simdesign_GenAlg(nl=nl,
                                  evalcrit=1,
                                  nseeds=1)

# Example 2: Using a self-defined evaluation function
# For demonstration we define a simple function that calculates
# the maximum value of count sheep output.
critfun &lt;- function(nl) {
results &lt;- nl@simdesign@simoutput
crit &lt;- as.integer(max(results$`count sheep`))
return(crit)
}

nl@simdesign &lt;- simdesign_GenAlg(nl=nl,
                                  evalcrit=critfun,
                                  nseeds=1)


</code></pre>

<hr>
<h2 id='simdesign_GenSA'>Add a Simulated Annealing simdesign to a nl object</h2><span id='topic+simdesign_GenSA'></span>

<h3>Description</h3>

<p>Add a Simulated Annealing simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_GenSA(nl, par = NULL, evalcrit = 1, control = list(), nseeds = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_GenSA_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_GenSA_+3A_par">par</code></td>
<td>
<p>optional vector of start values for each parameter defined in variables of experiment</p>
</td></tr>
<tr><td><code id="simdesign_GenSA_+3A_evalcrit">evalcrit</code></td>
<td>
<p>position of evaluation criterion within defined NetLogo metrics of nl experiment or a function that reports a single numeric value</p>
</td></tr>
<tr><td><code id="simdesign_GenSA_+3A_control">control</code></td>
<td>
<p>list with further arguments passed to the GenSA function (see ?GenSA for details)</p>
</td></tr>
<tr><td><code id="simdesign_GenSA_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min and max (e.g. list(min=1, max=4)).
</p>
<p>The GenSA simdesign generates a simulated Annealing experiment within the defined min and max parameter boundaries
that are defined in the variables field of the experiment object within the nl object.
</p>
<p>The evalcrit reporter defines the evaluation criterion for the simulated annealing procedure.
There are two options to evaluate the fitness value of each iteration of the algorithm:
</p>

<ol>
<li><p> Use a reporter that is defined within the experiment metrics vector.
You can just enter the position of that metric within the experiment metrics vector (e.g. 1 would use the first defined metric of the experiment to evaluate each iteration).
The algorithm automatically calculates the mean value of this reporter if evalticks is defined to measure multiple ticks during each simulation.
You can define a function that post-processes NetLogo output to calculate an evaluation value. This function must accept the nl object as input and return one single numeric value.
The nl object that is then provided to the evaluation function will have results of the current iteration attached. The results can be accessed via the simoutput slot of the simdesign.
You can pass this function to evalcrit. It is then applied to the output of each iteration.
</p>
</li></ol>

<p>The function uses the GenSA package to set up a Simulated Annealing function.
For details on the GenSA function parameters see ?GenSA
Finally, the function reports a simdesign object.
</p>
<p>Simulated Annealing simdesigns can only be executed using the <a href="#topic+run_nl_dyn">run_nl_dyn</a> function instead of <a href="#topic+run_nl_all">run_nl_all</a> or <a href="#topic+run_nl_one">run_nl_one</a>.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_lhs

# Example 1: Using a metric from the experiment metrics vector for evaluation:
nl@simdesign &lt;- simdesign_GenSA(nl=nl,
                                 par=NULL,
                                 evalcrit=1,
                                 control=list(max.time = 600),
                                 nseeds=1)


# Example 2: Using a self-defined evaluation function
# For demonstration we define a simple function that calculates
# the maximum value of count sheep output.
critfun &lt;- function(nl) {
results &lt;- nl@simdesign@simoutput
crit &lt;- as.integer(max(results$`count sheep`))
return(crit)
}

nl@simdesign &lt;- simdesign_GenSA(nl=nl,
                                 par=NULL,
                                 evalcrit=critfun,
                                 control=list(max.time = 600),
                                 nseeds=1)


</code></pre>

<hr>
<h2 id='simdesign_lhs'>Add a latin-hypercube simdesign to a nl object</h2><span id='topic+simdesign_lhs'></span>

<h3>Description</h3>

<p>Add a latin-hypercube simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_lhs(nl, samples, nseeds, precision)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_lhs_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_lhs_+3A_samples">samples</code></td>
<td>
<p>number of samples for the latin hypercube</p>
</td></tr>
<tr><td><code id="simdesign_lhs_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
<tr><td><code id="simdesign_lhs_+3A_precision">precision</code></td>
<td>
<p>number of digits for the decimal fraction of parameter values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and qfun (e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The latin hypercube simdesign creates a parameter matrix based on these defined distributions.
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_lhs
nl@simdesign &lt;- simdesign_lhs(nl=nl,
                               samples=100,
                               nseeds=3,
                               precision=3)

</code></pre>

<hr>
<h2 id='simdesign_morris'>Add a morris elementary effects simdesign to a nl object</h2><span id='topic+simdesign_morris'></span>

<h3>Description</h3>

<p>Add a morris elementary effects simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_morris(nl, morristype, morrislevels, morrisr, morrisgridjump, nseeds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_morris_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_morris_+3A_morristype">morristype</code></td>
<td>
<p>morris design type</p>
</td></tr>
<tr><td><code id="simdesign_morris_+3A_morrislevels">morrislevels</code></td>
<td>
<p>number of parameter levels</p>
</td></tr>
<tr><td><code id="simdesign_morris_+3A_morrisr">morrisr</code></td>
<td>
<p>morris r value</p>
</td></tr>
<tr><td><code id="simdesign_morris_+3A_morrisgridjump">morrisgridjump</code></td>
<td>
<p>morris grid jump value</p>
</td></tr>
<tr><td><code id="simdesign_morris_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and qfun (e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The morris simdesign uses the sensitivity package to set up a morris elementary effects sensitivity analysis, including a simobject of class morris and a input tibble for simulations.
For details on method specific sensitivity analysis function parameters see ?morris
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_morris
nl@simdesign &lt;- simdesign_morris(nl=nl,
                                  morristype="oat",
                                  morrislevels=4,
                                  morrisr=20,
                                  morrisgridjump=2,
                                  nseeds=3)


</code></pre>

<hr>
<h2 id='simdesign_simple'>Add a simple simdesign to a nl object</h2><span id='topic+simdesign_simple'></span>

<h3>Description</h3>

<p>Add a simple simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_simple(nl, nseeds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_simple_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_simple_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
The simple simdesign only uses model parameters that are defined in the constants field of the experiment object within the nl object.
Thus, the resulting input tibble of the simdesign has only one run with constant parameterisations.
This can be useful to run one simulation with a specific parameterset.
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_simple
nl@simdesign &lt;- simdesign_simple(nl = nl, nseeds = 3)


</code></pre>

<hr>
<h2 id='simdesign_sobol'>Add a sobol simdesign to a nl object</h2><span id='topic+simdesign_sobol'></span>

<h3>Description</h3>

<p>Add a sobol simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_sobol(
  nl,
  samples,
  sobolorder,
  sobolnboot,
  sobolconf,
  nseeds,
  precision
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_sobol_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_sobol_+3A_samples">samples</code></td>
<td>
<p>number of samples for the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_sobol_+3A_sobolorder">sobolorder</code></td>
<td>
<p>order of interactions of the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_sobol_+3A_sobolnboot">sobolnboot</code></td>
<td>
<p>number of bootstrap replicates of the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_sobol_+3A_sobolconf">sobolconf</code></td>
<td>
<p>the confidence level for bootstrap confidence intervals</p>
</td></tr>
<tr><td><code id="simdesign_sobol_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
<tr><td><code id="simdesign_sobol_+3A_precision">precision</code></td>
<td>
<p>number of digits for the decimal fraction of parameter values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and qfun (e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The sobol simdesign uses the sensitivity package to set up a sobol sensitivity analysis, including a simobject of class sobol and a input tibble for simulations.
For details on method specific sensitivity analysis function parameters see ?sobol
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_sobol
nl@simdesign &lt;- simdesign_sobol(nl=nl,
samples=1000,
sobolorder=2,
sobolnboot=100,
sobolconf=0.95,
nseeds=3,
precision=3)


</code></pre>

<hr>
<h2 id='simdesign_sobol2007'>Add a sobol2007 simdesign to a nl object</h2><span id='topic+simdesign_sobol2007'></span>

<h3>Description</h3>

<p>Add a sobol2007 simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_sobol2007(nl, samples, sobolnboot, sobolconf, nseeds, precision)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_sobol2007_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_sobol2007_+3A_samples">samples</code></td>
<td>
<p>number of samples for the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_sobol2007_+3A_sobolnboot">sobolnboot</code></td>
<td>
<p>number of bootstrap replicates of the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_sobol2007_+3A_sobolconf">sobolconf</code></td>
<td>
<p>the confidence level for bootstrap confidence intervals</p>
</td></tr>
<tr><td><code id="simdesign_sobol2007_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
<tr><td><code id="simdesign_sobol2007_+3A_precision">precision</code></td>
<td>
<p>number of digits for the decimal fraction of parameter values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and qfun (e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The sobol2007 simdesign uses the sensitivity package to set up a sobol2007 sensitivity analysis, including a simobject of class sobol and a input tibble for simulations.
For details on method specific sensitivity analysis function parameters see ?sobol2007
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_sobol2007
nl@simdesign &lt;- simdesign_sobol2007(nl=nl,
samples=1000,
sobolnboot=100,
sobolconf=0.95,
nseeds=3,
precision=3)


</code></pre>

<hr>
<h2 id='simdesign_soboljansen'>Add a soboljansen simdesign to a nl object</h2><span id='topic+simdesign_soboljansen'></span>

<h3>Description</h3>

<p>Add a soboljansen simdesign to a nl object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simdesign_soboljansen(nl, samples, sobolnboot, sobolconf, nseeds, precision)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simdesign_soboljansen_+3A_nl">nl</code></td>
<td>
<p>nl object with a defined experiment</p>
</td></tr>
<tr><td><code id="simdesign_soboljansen_+3A_samples">samples</code></td>
<td>
<p>number of samples for the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_soboljansen_+3A_sobolnboot">sobolnboot</code></td>
<td>
<p>number of bootstrap replicates of the sobol sensitivity analysis</p>
</td></tr>
<tr><td><code id="simdesign_soboljansen_+3A_sobolconf">sobolconf</code></td>
<td>
<p>the confidence level for bootstrap confidence intervals</p>
</td></tr>
<tr><td><code id="simdesign_soboljansen_+3A_nseeds">nseeds</code></td>
<td>
<p>number of seeds for this simulation design</p>
</td></tr>
<tr><td><code id="simdesign_soboljansen_+3A_precision">precision</code></td>
<td>
<p>number of digits for the decimal fraction of parameter values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a simdesign S4 class which can be added to a nl object.
</p>
<p>Variables in the experiment variable list need to provide a numeric distribution with min, max and qfun (e.g. list(min=1, max=4, qfun=&quot;qunif&quot;)).
</p>
<p>The soboljansen simdesign uses the sensitivity package to set up a soboljansen sensitivity analysis, including a simobject of class sobol and a input tibble for simulations.
For details on method specific sensitivity analysis function parameters see ?soboljansen
Finally, the function reports a simdesign object.
</p>


<h3>Value</h3>

<p>simdesign S4 class object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To attach a simdesign, a nl object needs to be created first (see ?nl).
# For this example, we load a nl object from test data.

nl &lt;- nl_soboljansen
nl@simdesign &lt;- simdesign_soboljansen(nl=nl,
samples=1000,
sobolnboot=100,
sobolconf=0.95,
nseeds=3,
precision=3)


</code></pre>

<hr>
<h2 id='supported_netlogo_versions'>Report supported NetLogo versions</h2><span id='topic+supported_netlogo_versions'></span>

<h3>Description</h3>

<p>Auxiliary function to report supported NetLogo version numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>supported_netlogo_versions()
</code></pre>


<h3>Value</h3>

<p>a vector of supported Versions for Download and Usage (parameter <code>version</code>):
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
supported_netlogo_versions()

## End(Not run)

</code></pre>

<hr>
<h2 id='test_nlrx'>Test if nlrx runs on the local system</h2><span id='topic+test_nlrx'></span>

<h3>Description</h3>

<p>Runs a short test if nlrx runs on the local system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_nlrx(nlpath, nlversion)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test_nlrx_+3A_nlpath">nlpath</code></td>
<td>
<p>Provide a path to a netlogo folder</p>
</td></tr>
<tr><td><code id="test_nlrx_+3A_nlversion">nlversion</code></td>
<td>
<p>Matching version string of the provided NetLogo folder (e.g. &quot;6.1.1&quot;)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Runs a short test if nlrx runs on the local system. Reports TRUE if successful!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
test_nlrx(nlpath="/Users/xyz/netlogo/NetLogo 6.1.1", nlversion="6.1.1")

## End(Not run)

</code></pre>

<hr>
<h2 id='unnest_simoutput'>Get spatial data from metrics.turtles and metrics.patches output</h2><span id='topic+unnest_simoutput'></span>

<h3>Description</h3>

<p>Turn results from NetLogo in spatial data objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_simoutput(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_simoutput_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unnests output from run_nl into long format.
</p>


<h3>Value</h3>

<p>tibble with spatial data objects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# To unnest data a nl object containing spatial output data is needed.
# For this example, we load a nl object from test data.

nl &lt;- nl_spatial
unnest_simoutput(nl)


</code></pre>

<hr>
<h2 id='util_call_nl'>Setup and execute NetLogo via command line</h2><span id='topic+util_call_nl'></span>

<h3>Description</h3>

<p>Setup and execute NetLogo via command line
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_call_nl(nl, xmlfile, outfile, batchfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_call_nl_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_call_nl_+3A_xmlfile">xmlfile</code></td>
<td>
<p>file location of the experiment xml file</p>
</td></tr>
<tr><td><code id="util_call_nl_+3A_outfile">outfile</code></td>
<td>
<p>file location for output results</p>
</td></tr>
<tr><td><code id="util_call_nl_+3A_batchfile">batchfile</code></td>
<td>
<p>file location of system specific batch file to call NetLogo
via command line</p>
</td></tr>
</table>

<hr>
<h2 id='util_cleanup'>Delete temporary files</h2><span id='topic+util_cleanup'></span>

<h3>Description</h3>

<p>Delete temporary files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_cleanup(
  nl,
  cleanup.csv = TRUE,
  cleanup.xml = TRUE,
  cleanup.bat = TRUE,
  cleanup.files
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_cleanup_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_cleanup_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_cleanup_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_cleanup_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_cleanup_+3A_cleanup.files">cleanup.files</code></td>
<td>
<p>vector with paths to temporary created files (csv, xml, bat)</p>
</td></tr>
</table>

<hr>
<h2 id='util_create_agentset_reporter'>Create turtle/patches/links owns reporter</h2><span id='topic+util_create_agentset_reporter'></span>

<h3>Description</h3>

<p>The reporter is used to measure agent variables in NetLogo and parse them to a readable format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_create_agentset_reporter(metrics, breed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_create_agentset_reporter_+3A_metrics">metrics</code></td>
<td>
<p>character vector, the names of variables to measure</p>
</td></tr>
<tr><td><code id="util_create_agentset_reporter_+3A_breed">breed</code></td>
<td>
<p>character, the corresponding breed/agentset (e.g. &quot;turtles&quot;, &quot;patches&quot;, &quot;links&quot;, &quot;wolves&quot;, ...)</p>
</td></tr>
</table>

<hr>
<h2 id='util_create_lhs'>Identify and report the current OS</h2><span id='topic+util_create_lhs'></span>

<h3>Description</h3>

<p>Identify and report the current OS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_create_lhs(input, samples, precision)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_create_lhs_+3A_input">input</code></td>
<td>
<p>list with variables and value ranges</p>
</td></tr>
<tr><td><code id="util_create_lhs_+3A_samples">samples</code></td>
<td>
<p>number of lhs samples</p>
</td></tr>
<tr><td><code id="util_create_lhs_+3A_precision">precision</code></td>
<td>
<p>number of digits for the decimal fraction of parameter
values</p>
</td></tr>
</table>

<hr>
<h2 id='util_create_sim_XML'>Create a temporary behavior space xml file to setup NetLogo via command line</h2><span id='topic+util_create_sim_XML'></span>

<h3>Description</h3>

<p>Create a temporary behavior space xml file to setup NetLogo via
command line
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_create_sim_XML(nl, seed, siminputrow, xmlfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_create_sim_XML_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_create_sim_XML_+3A_seed">seed</code></td>
<td>
<p>random-seed for NetLogo simulation</p>
</td></tr>
<tr><td><code id="util_create_sim_XML_+3A_siminputrow">siminputrow</code></td>
<td>
<p>row id of the simulation input tibble of the simdesign
within the provided nl object</p>
</td></tr>
<tr><td><code id="util_create_sim_XML_+3A_xmlfile">xmlfile</code></td>
<td>
<p>filepath where the xml file is stored</p>
</td></tr>
</table>

<hr>
<h2 id='util_eval_constants'>Evaluate if constants list of an experiment object is empty</h2><span id='topic+util_eval_constants'></span>

<h3>Description</h3>

<p>Evaluate if constants list of an experiment object is empty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_constants(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_constants_+3A_nl">nl</code></td>
<td>
<p>nl object
util_eval_constants checks if the constants list of an experiment within a nl object is empty.
It reports an error message if no constants were defined. This evaluation is only done for <a href="#topic+simdesign_simple">simdesign_simple</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='util_eval_experiment'>Evaluate all slots of an experiment object</h2><span id='topic+util_eval_experiment'></span>

<h3>Description</h3>

<p>Evaluate all slots of an experiment object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_experiment(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_experiment_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_experiment checks if the information stored within the experiment slots are valid.
</p>

<hr>
<h2 id='util_eval_simdesign'>Evaluate all slots of a simdesign object</h2><span id='topic+util_eval_simdesign'></span>

<h3>Description</h3>

<p>Evaluate all slots of a simdesign object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_simdesign(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_simdesign_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_simdesign checks if the information stored within the simdesign slots are valid.
</p>

<hr>
<h2 id='util_eval_variables'>Evaluate if variables list of an experiment object is empty</h2><span id='topic+util_eval_variables'></span>

<h3>Description</h3>

<p>Evaluate if variables list of an experiment object is empty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_variables(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_variables_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_variables checks if the variables list of an experiment within a nl object is empty.
It reports an error message if no variables were defined.
</p>

<hr>
<h2 id='util_eval_variables_distinct'>Evaluate variables list of an experiment object for distinct simdesign</h2><span id='topic+util_eval_variables_distinct'></span>

<h3>Description</h3>

<p>Evaluate variables list of an experiment object for distinct simdesign
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_variables_distinct(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_variables_distinct_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_variables_distinct checks if the variables list of an experiment within a nl object has enough information to create a <a href="#topic+simdesign_distinct">simdesign_distinct</a>.
It reports an error message if at least one variable does not have a vector of distinct values or if there is a mismatch in length of these values vectors.
</p>

<hr>
<h2 id='util_eval_variables_ff'>Evaluate variables list of an experiment object for full-factorial simdesign</h2><span id='topic+util_eval_variables_ff'></span>

<h3>Description</h3>

<p>Evaluate variables list of an experiment object for full-factorial simdesign
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_variables_ff(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_variables_ff_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_variables_ff checks if the variables list of an experiment within a nl object has enough information to create a <a href="#topic+simdesign_ff">simdesign_ff</a>.
It reports an error message if at least one variable does not have a defined sequence (min, max, step) or a vector of distinct values.
</p>

<hr>
<h2 id='util_eval_variables_op'>Evaluate variables list of an experiment object for optimization simdesigns</h2><span id='topic+util_eval_variables_op'></span>

<h3>Description</h3>

<p>Evaluate variables list of an experiment object for optimization simdesigns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_variables_op(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_variables_op_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_variables_op checks if the variables list of an experiment within a nl object has enough information to create an optimization simdesign.
It reports an error message if at least one variable does not have a defined range (min, max).
</p>

<hr>
<h2 id='util_eval_variables_sa'>Evaluate variables list of an experiment object for sensitivity analysis simdesigns</h2><span id='topic+util_eval_variables_sa'></span>

<h3>Description</h3>

<p>Evaluate variables list of an experiment object for sensitivity analysis simdesigns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_eval_variables_sa(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_eval_variables_sa_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>util_eval_variables_sa checks if the variables list of an experiment within a nl object has enough information to create a sensitivity analysis simdesign.
It reports an error message if at least one variable does not have a defined distribution (min, max, qfun).
</p>

<hr>
<h2 id='util_gather_results'>Load output file from simulations</h2><span id='topic+util_gather_results'></span>

<h3>Description</h3>

<p>Load output file from simulations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_gather_results(nl, outfile, seed, siminputrow)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_gather_results_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_gather_results_+3A_outfile">outfile</code></td>
<td>
<p>file location of output results</p>
</td></tr>
<tr><td><code id="util_gather_results_+3A_seed">seed</code></td>
<td>
<p>model random-seed</p>
</td></tr>
<tr><td><code id="util_gather_results_+3A_siminputrow">siminputrow</code></td>
<td>
<p>current row of siminput tibble</p>
</td></tr>
</table>

<hr>
<h2 id='util_generate_seeds'>Generate a vector of random seeds</h2><span id='topic+util_generate_seeds'></span>

<h3>Description</h3>

<p>Generate a vector of random seeds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_generate_seeds(nseeds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_generate_seeds_+3A_nseeds">nseeds</code></td>
<td>
<p>desired length of the random seeds vector</p>
</td></tr>
</table>

<hr>
<h2 id='util_get_os'>Identify and report the current OS</h2><span id='topic+util_get_os'></span>

<h3>Description</h3>

<p>Identify and report the current OS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_get_os()
</code></pre>

<hr>
<h2 id='util_print.experiment'>Print experiment object content</h2><span id='topic+util_print.experiment'></span>

<h3>Description</h3>

<p>Print experiment object content
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_print.experiment(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_print.experiment_+3A_x">x</code></td>
<td>
<p>experiment object</p>
</td></tr>
<tr><td><code id="util_print.experiment_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print content of experiment object in a nice formatted overview to console
</p>

<hr>
<h2 id='util_print.nl'>Print nl object content</h2><span id='topic+util_print.nl'></span>

<h3>Description</h3>

<p>Print nl object content
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_print.nl(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_print.nl_+3A_x">x</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_print.nl_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print content of nl object in a nice formatted overview to console
</p>

<hr>
<h2 id='util_print.simdesign'>Print simdesign object content</h2><span id='topic+util_print.simdesign'></span>

<h3>Description</h3>

<p>Print simdesign object content
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_print.simdesign(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_print.simdesign_+3A_x">x</code></td>
<td>
<p>simdesign object</p>
</td></tr>
<tr><td><code id="util_print.simdesign_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print content of simdesign object in a nice formatted overview to console
</p>

<hr>
<h2 id='util_print.summary'>Print nl object summary</h2><span id='topic+util_print.summary'></span>

<h3>Description</h3>

<p>Print nl object summary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_print.summary(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_print.summary_+3A_x">x</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_print.summary_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print summary of nl object and embedded experiment and simdesign objects in a nice formatted overview to console
</p>

<hr>
<h2 id='util_read_write_batch'>Write a modified batchfile that executes NetLogo</h2><span id='topic+util_read_write_batch'></span>

<h3>Description</h3>

<p>Write a modified batchfile that executes NetLogo
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_read_write_batch(nl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_read_write_batch_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
</table>

<hr>
<h2 id='util_run_nl_dyn_ABCmcmc'>ABCmcmc call simulations function</h2><span id='topic+util_run_nl_dyn_ABCmcmc'></span>

<h3>Description</h3>

<p>ABCmcmc call simulations function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_run_nl_dyn_ABCmcmc(
  nl,
  seed,
  cleanup.csv = TRUE,
  cleanup.xml = TRUE,
  cleanup.bat = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_run_nl_dyn_ABCmcmc_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_ABCmcmc_+3A_seed">seed</code></td>
<td>
<p>current model seed</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_ABCmcmc_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_ABCmcmc_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_ABCmcmc_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
</table>

<hr>
<h2 id='util_run_nl_dyn_GenAlg'>Genetic Algorithm call simulations function</h2><span id='topic+util_run_nl_dyn_GenAlg'></span>

<h3>Description</h3>

<p>Genetic Algorithm call simulations function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_run_nl_dyn_GenAlg(nl, seed, cleanup.csv, cleanup.xml, cleanup.bat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_run_nl_dyn_GenAlg_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_+3A_seed">seed</code></td>
<td>
<p>current model seed</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
</table>

<hr>
<h2 id='util_run_nl_dyn_GenAlg_fn'>Genetic Algorithm run simulation function</h2><span id='topic+util_run_nl_dyn_GenAlg_fn'></span><span id='topic+util_run_nl_dyn_ABCmcmc_fn'></span>

<h3>Description</h3>

<p>Genetic Algorithm run simulation function
</p>
<p>Genetic Algorithm run simulation function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_run_nl_dyn_GenAlg_fn(
  param,
  nl,
  evalcrit,
  seed,
  cleanup.csv,
  cleanup.xml,
  cleanup.bat
)

util_run_nl_dyn_ABCmcmc_fn(param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_param">param</code></td>
<td>
<p>vector of model parameters passed from ABC_mcmc function. If use_seeds = TRUE, the first element of this vector is a random seed</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_evalcrit">evalcrit</code></td>
<td>
<p>evaluation criterion for simulated annealing</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_seed">seed</code></td>
<td>
<p>current model seed</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenAlg_fn_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
</table>

<hr>
<h2 id='util_run_nl_dyn_GenSA'>Simulated Annealing call simulations function</h2><span id='topic+util_run_nl_dyn_GenSA'></span>

<h3>Description</h3>

<p>Simulated Annealing call simulations function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_run_nl_dyn_GenSA(nl, seed, cleanup.csv, cleanup.xml, cleanup.bat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_run_nl_dyn_GenSA_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_+3A_seed">seed</code></td>
<td>
<p>current model seed</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
</table>

<hr>
<h2 id='util_run_nl_dyn_GenSA_fn'>Simulated Annealing run simulation function</h2><span id='topic+util_run_nl_dyn_GenSA_fn'></span>

<h3>Description</h3>

<p>Simulated Annealing run simulation function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>util_run_nl_dyn_GenSA_fn(
  param,
  nl,
  evalcrit,
  seed,
  cleanup.csv,
  cleanup.xml,
  cleanup.bat
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_param">param</code></td>
<td>
<p>vector of model parameters, generated by GenSA function</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_evalcrit">evalcrit</code></td>
<td>
<p>evaluation criterion for simulated annealing</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_seed">seed</code></td>
<td>
<p>current model seed</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_cleanup.csv">cleanup.csv</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created csv output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_cleanup.xml">cleanup.xml</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created xml output files will be deleted after gathering results.</p>
</td></tr>
<tr><td><code id="util_run_nl_dyn_GenSA_fn_+3A_cleanup.bat">cleanup.bat</code></td>
<td>
<p>TRUE/FALSE, if TRUE temporary created bat/sh output files will be deleted after gathering results.</p>
</td></tr>
</table>

<hr>
<h2 id='write_simoutput'>Write attached NetLogo simulation output to file</h2><span id='topic+write_simoutput'></span>

<h3>Description</h3>

<p>Write attached NetLogo simulation output to file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_simoutput(nl, outpath = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_simoutput_+3A_nl">nl</code></td>
<td>
<p>nl object</p>
</td></tr>
<tr><td><code id="write_simoutput_+3A_outpath">outpath</code></td>
<td>
<p>optional path to directory where output is written
</p>
<p>Write NetLogo simulation output to a csv file in the directory outpath of the nl object
Output has to be attached to the simdesign first with simoutput(nl) &lt;- results
The outpath argument can be optionally used to write output to a different directory than the defined outpath of the nl object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load nl object including output data from testdata
nl &lt;- nl_lhs

# Write output to outpath directory
write_simoutput(nl, outpath=tempdir())

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>
